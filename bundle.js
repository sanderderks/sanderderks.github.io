var X$=Object.defineProperty;var Q$=(t,e,n)=>e in t?X$(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var ga=(t,e,n)=>(Q$(t,typeof e!="symbol"?e+"":e,n),n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();/**
* @vue/shared v3.4.21
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function og(t,e){const n=new Set(t.split(","));return e?r=>n.has(r.toLowerCase()):r=>n.has(r)}const Zt={},gu=[],li=()=>{},J$=()=>!1,Vf=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),$w=t=>t.startsWith("onUpdate:"),En=Object.assign,Fw=(t,e)=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},Z$=Object.prototype.hasOwnProperty,Lt=(t,e)=>Z$.call(t,e),ze=Array.isArray,vu=t=>fc(t)==="[object Map]",_l=t=>fc(t)==="[object Set]",sS=t=>fc(t)==="[object Date]",e3=t=>fc(t)==="[object RegExp]",at=t=>typeof t=="function",In=t=>typeof t=="string",Jo=t=>typeof t=="symbol",sn=t=>t!==null&&typeof t=="object",Uw=t=>(sn(t)||at(t))&&at(t.then)&&at(t.catch),KA=Object.prototype.toString,fc=t=>KA.call(t),t3=t=>fc(t).slice(8,-1),zA=t=>fc(t)==="[object Object]",Vw=t=>In(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,yu=og(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),ag=t=>{const e=Object.create(null);return n=>e[n]||(e[n]=t(n))},n3=/-(\w)/g,Xr=ag(t=>t.replace(n3,(e,n)=>n?n.toUpperCase():"")),r3=/\B([A-Z])/g,bi=ag(t=>t.replace(r3,"-$1").toLowerCase()),Bf=ag(t=>t.charAt(0).toUpperCase()+t.slice(1)),cd=ag(t=>t?`on${Bf(t)}`:""),ls=(t,e)=>!Object.is(t,e),bu=(t,e)=>{for(let n=0;n<t.length;n++)t[n](e)},Kp=(t,e,n)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,value:n})},Vd=t=>{const e=parseFloat(t);return isNaN(e)?t:e},zp=t=>{const e=In(t)?Number(t):NaN;return isNaN(e)?t:e};let oS;const GA=()=>oS||(oS=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{}),i3="Infinity,undefined,NaN,isFinite,isNaN,parseFloat,parseInt,decodeURI,decodeURIComponent,encodeURI,encodeURIComponent,Math,Number,Date,Array,Object,Boolean,String,RegExp,Map,Set,JSON,Intl,BigInt,console,Error",s3=og(i3);function nr(t){if(ze(t)){const e={};for(let n=0;n<t.length;n++){const r=t[n],i=In(r)?u3(r):nr(r);if(i)for(const s in i)e[s]=i[s]}return e}else if(In(t)||sn(t))return t}const o3=/;(?![^(]*\))/g,a3=/:([^]+)/,l3=/\/\*[^]*?\*\//g;function u3(t){const e={};return t.replace(l3,"").split(o3).forEach(n=>{if(n){const r=n.split(a3);r.length>1&&(e[r[0].trim()]=r[1].trim())}}),e}function ke(t){let e="";if(In(t))e=t;else if(ze(t))for(let n=0;n<t.length;n++){const r=ke(t[n]);r&&(e+=r+" ")}else if(sn(t))for(const n in t)t[n]&&(e+=n+" ");return e.trim()}function Pn(t){if(!t)return null;let{class:e,style:n}=t;return e&&!In(e)&&(t.class=ke(e)),n&&(t.style=nr(n)),t}const c3="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",d3=og(c3);function YA(t){return!!t||t===""}function f3(t,e){if(t.length!==e.length)return!1;let n=!0;for(let r=0;n&&r<t.length;r++)n=Zo(t[r],e[r]);return n}function Zo(t,e){if(t===e)return!0;let n=sS(t),r=sS(e);if(n||r)return n&&r?t.getTime()===e.getTime():!1;if(n=Jo(t),r=Jo(e),n||r)return t===e;if(n=ze(t),r=ze(e),n||r)return n&&r?f3(t,e):!1;if(n=sn(t),r=sn(e),n||r){if(!n||!r)return!1;const i=Object.keys(t).length,s=Object.keys(e).length;if(i!==s)return!1;for(const o in t){const a=t.hasOwnProperty(o),l=e.hasOwnProperty(o);if(a&&!l||!a&&l||!Zo(t[o],e[o]))return!1}}return String(t)===String(e)}function lg(t,e){return t.findIndex(n=>Zo(n,e))}const $e=t=>In(t)?t:t==null?"":ze(t)||sn(t)&&(t.toString===KA||!at(t.toString))?JSON.stringify(t,qA,2):String(t),qA=(t,e)=>e&&e.__v_isRef?qA(t,e.value):vu(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((n,[r,i],s)=>(n[$v(r,s)+" =>"]=i,n),{})}:_l(e)?{[`Set(${e.size})`]:[...e.values()].map(n=>$v(n))}:Jo(e)?$v(e):sn(e)&&!ze(e)&&!zA(e)?String(e):e,$v=(t,e="")=>{var n;return Jo(t)?`Symbol(${(n=t.description)!=null?n:e})`:t};/**
* @vue/reactivity v3.4.21
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let vi;class Bw{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this.parent=vi,!e&&vi&&(this.index=(vi.scopes||(vi.scopes=[])).push(this)-1)}get active(){return this._active}run(e){if(this._active){const n=vi;try{return vi=this,e()}finally{vi=n}}}on(){vi=this}off(){vi=this.parent}stop(e){if(this._active){let n,r;for(n=0,r=this.effects.length;n<r;n++)this.effects[n].stop();for(n=0,r=this.cleanups.length;n<r;n++)this.cleanups[n]();if(this.scopes)for(n=0,r=this.scopes.length;n<r;n++)this.scopes[n].stop(!0);if(!this.detached&&this.parent&&!e){const i=this.parent.scopes.pop();i&&i!==this&&(this.parent.scopes[this.index]=i,i.index=this.index)}this.parent=void 0,this._active=!1}}}function ug(t){return new Bw(t)}function XA(t,e=vi){e&&e.active&&e.effects.push(t)}function cg(){return vi}function jw(t){vi&&vi.cleanups.push(t)}let Fa;class Lu{constructor(e,n,r,i){this.fn=e,this.trigger=n,this.scheduler=r,this.active=!0,this.deps=[],this._dirtyLevel=4,this._trackId=0,this._runnings=0,this._shouldSchedule=!1,this._depsLength=0,XA(this,i)}get dirty(){if(this._dirtyLevel===2||this._dirtyLevel===3){this._dirtyLevel=1,Tl();for(let e=0;e<this._depsLength;e++){const n=this.deps[e];if(n.computed&&(h3(n.computed),this._dirtyLevel>=4))break}this._dirtyLevel===1&&(this._dirtyLevel=0),Sl()}return this._dirtyLevel>=4}set dirty(e){this._dirtyLevel=e?4:0}run(){if(this._dirtyLevel=0,!this.active)return this.fn();let e=jo,n=Fa;try{return jo=!0,Fa=this,this._runnings++,aS(this),this.fn()}finally{lS(this),this._runnings--,Fa=n,jo=e}}stop(){var e;this.active&&(aS(this),lS(this),(e=this.onStop)==null||e.call(this),this.active=!1)}}function h3(t){return t.value}function aS(t){t._trackId++,t._depsLength=0}function lS(t){if(t.deps.length>t._depsLength){for(let e=t._depsLength;e<t.deps.length;e++)QA(t.deps[e],t);t.deps.length=t._depsLength}}function QA(t,e){const n=t.get(e);n!==void 0&&e._trackId!==n&&(t.delete(e),t.size===0&&t.cleanup())}function p3(t,e){t.effect instanceof Lu&&(t=t.effect.fn);const n=new Lu(t,li,()=>{n.dirty&&n.run()});e&&(En(n,e),e.scope&&XA(n,e.scope)),(!e||!e.lazy)&&n.run();const r=n.run.bind(n);return r.effect=n,r}function m3(t){t.effect.stop()}let jo=!0,w0=0;const JA=[];function Tl(){JA.push(jo),jo=!1}function Sl(){const t=JA.pop();jo=t===void 0?!0:t}function Hw(){w0++}function Ww(){for(w0--;!w0&&_0.length;)_0.shift()()}function ZA(t,e,n){if(e.get(t)!==t._trackId){e.set(t,t._trackId);const r=t.deps[t._depsLength];r!==e?(r&&QA(r,t),t.deps[t._depsLength++]=e):t._depsLength++}}const _0=[];function ek(t,e,n){Hw();for(const r of t.keys()){let i;r._dirtyLevel<e&&(i??(i=t.get(r)===r._trackId))&&(r._shouldSchedule||(r._shouldSchedule=r._dirtyLevel===0),r._dirtyLevel=e),r._shouldSchedule&&(i??(i=t.get(r)===r._trackId))&&(r.trigger(),(!r._runnings||r.allowRecurse)&&r._dirtyLevel!==2&&(r._shouldSchedule=!1,r.scheduler&&_0.push(r.scheduler)))}Ww()}const tk=(t,e)=>{const n=new Map;return n.cleanup=t,n.computed=e,n},Gp=new WeakMap,Ua=Symbol(""),T0=Symbol("");function hi(t,e,n){if(jo&&Fa){let r=Gp.get(t);r||Gp.set(t,r=new Map);let i=r.get(n);i||r.set(n,i=tk(()=>r.delete(n))),ZA(Fa,i)}}function Xs(t,e,n,r,i,s){const o=Gp.get(t);if(!o)return;let a=[];if(e==="clear")a=[...o.values()];else if(n==="length"&&ze(t)){const l=Number(r);o.forEach((u,c)=>{(c==="length"||!Jo(c)&&c>=l)&&a.push(u)})}else switch(n!==void 0&&a.push(o.get(n)),e){case"add":ze(t)?Vw(n)&&a.push(o.get("length")):(a.push(o.get(Ua)),vu(t)&&a.push(o.get(T0)));break;case"delete":ze(t)||(a.push(o.get(Ua)),vu(t)&&a.push(o.get(T0)));break;case"set":vu(t)&&a.push(o.get(Ua));break}Hw();for(const l of a)l&&ek(l,4);Ww()}function g3(t,e){var n;return(n=Gp.get(t))==null?void 0:n.get(e)}const v3=og("__proto__,__v_isRef,__isVue"),nk=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(Jo)),uS=y3();function y3(){const t={};return["includes","indexOf","lastIndexOf"].forEach(e=>{t[e]=function(...n){const r=_t(this);for(let s=0,o=this.length;s<o;s++)hi(r,"get",s+"");const i=r[e](...n);return i===-1||i===!1?r[e](...n.map(_t)):i}}),["push","pop","shift","unshift","splice"].forEach(e=>{t[e]=function(...n){Tl(),Hw();const r=_t(this)[e].apply(this,n);return Ww(),Sl(),r}}),t}function b3(t){const e=_t(this);return hi(e,"has",t),e.hasOwnProperty(t)}class rk{constructor(e=!1,n=!1){this._isReadonly=e,this._isShallow=n}get(e,n,r){const i=this._isReadonly,s=this._isShallow;if(n==="__v_isReactive")return!i;if(n==="__v_isReadonly")return i;if(n==="__v_isShallow")return s;if(n==="__v_raw")return r===(i?s?uk:lk:s?ak:ok).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(r)?e:void 0;const o=ze(e);if(!i){if(o&&Lt(uS,n))return Reflect.get(uS,n,r);if(n==="hasOwnProperty")return b3}const a=Reflect.get(e,n,r);return(Jo(n)?nk.has(n):v3(n))||(i||hi(e,"get",n),s)?a:cn(a)?o&&Vw(n)?a:a.value:sn(a)?i?hg(a):xn(a):a}}class ik extends rk{constructor(e=!1){super(!1,e)}set(e,n,r,i){let s=e[n];if(!this._isShallow){const l=Qa(s);if(!Bd(r)&&!Qa(r)&&(s=_t(s),r=_t(r)),!ze(e)&&cn(s)&&!cn(r))return l?!1:(s.value=r,!0)}const o=ze(e)&&Vw(n)?Number(n)<e.length:Lt(e,n),a=Reflect.set(e,n,r,i);return e===_t(i)&&(o?ls(r,s)&&Xs(e,"set",n,r):Xs(e,"add",n,r)),a}deleteProperty(e,n){const r=Lt(e,n);e[n];const i=Reflect.deleteProperty(e,n);return i&&r&&Xs(e,"delete",n,void 0),i}has(e,n){const r=Reflect.has(e,n);return(!Jo(n)||!nk.has(n))&&hi(e,"has",n),r}ownKeys(e){return hi(e,"iterate",ze(e)?"length":Ua),Reflect.ownKeys(e)}}class sk extends rk{constructor(e=!1){super(!0,e)}set(e,n){return!0}deleteProperty(e,n){return!0}}const w3=new ik,_3=new sk,T3=new ik(!0),S3=new sk(!0),Kw=t=>t,dg=t=>Reflect.getPrototypeOf(t);function Ah(t,e,n=!1,r=!1){t=t.__v_raw;const i=_t(t),s=_t(e);n||(ls(e,s)&&hi(i,"get",e),hi(i,"get",s));const{has:o}=dg(i),a=r?Kw:n?Yw:jd;if(o.call(i,e))return a(t.get(e));if(o.call(i,s))return a(t.get(s));t!==i&&t.get(e)}function kh(t,e=!1){const n=this.__v_raw,r=_t(n),i=_t(t);return e||(ls(t,i)&&hi(r,"has",t),hi(r,"has",i)),t===i?n.has(t):n.has(t)||n.has(i)}function Ph(t,e=!1){return t=t.__v_raw,!e&&hi(_t(t),"iterate",Ua),Reflect.get(t,"size",t)}function cS(t){t=_t(t);const e=_t(this);return dg(e).has.call(e,t)||(e.add(t),Xs(e,"add",t,t)),this}function dS(t,e){e=_t(e);const n=_t(this),{has:r,get:i}=dg(n);let s=r.call(n,t);s||(t=_t(t),s=r.call(n,t));const o=i.call(n,t);return n.set(t,e),s?ls(e,o)&&Xs(n,"set",t,e):Xs(n,"add",t,e),this}function fS(t){const e=_t(this),{has:n,get:r}=dg(e);let i=n.call(e,t);i||(t=_t(t),i=n.call(e,t)),r&&r.call(e,t);const s=e.delete(t);return i&&Xs(e,"delete",t,void 0),s}function hS(){const t=_t(this),e=t.size!==0,n=t.clear();return e&&Xs(t,"clear",void 0,void 0),n}function xh(t,e){return function(r,i){const s=this,o=s.__v_raw,a=_t(o),l=e?Kw:t?Yw:jd;return!t&&hi(a,"iterate",Ua),o.forEach((u,c)=>r.call(i,l(u),l(c),s))}}function Dh(t,e,n){return function(...r){const i=this.__v_raw,s=_t(i),o=vu(s),a=t==="entries"||t===Symbol.iterator&&o,l=t==="keys"&&o,u=i[t](...r),c=n?Kw:e?Yw:jd;return!e&&hi(s,"iterate",l?T0:Ua),{next(){const{value:d,done:f}=u.next();return f?{value:d,done:f}:{value:a?[c(d[0]),c(d[1])]:c(d),done:f}},[Symbol.iterator](){return this}}}}function go(t){return function(...e){return t==="delete"?!1:t==="clear"?void 0:this}}function E3(){const t={get(s){return Ah(this,s)},get size(){return Ph(this)},has:kh,add:cS,set:dS,delete:fS,clear:hS,forEach:xh(!1,!1)},e={get(s){return Ah(this,s,!1,!0)},get size(){return Ph(this)},has:kh,add:cS,set:dS,delete:fS,clear:hS,forEach:xh(!1,!0)},n={get(s){return Ah(this,s,!0)},get size(){return Ph(this,!0)},has(s){return kh.call(this,s,!0)},add:go("add"),set:go("set"),delete:go("delete"),clear:go("clear"),forEach:xh(!0,!1)},r={get(s){return Ah(this,s,!0,!0)},get size(){return Ph(this,!0)},has(s){return kh.call(this,s,!0)},add:go("add"),set:go("set"),delete:go("delete"),clear:go("clear"),forEach:xh(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(s=>{t[s]=Dh(s,!1,!1),n[s]=Dh(s,!0,!1),e[s]=Dh(s,!1,!0),r[s]=Dh(s,!0,!0)}),[t,n,e,r]}const[I3,C3,O3,A3]=E3();function fg(t,e){const n=e?t?A3:O3:t?C3:I3;return(r,i,s)=>i==="__v_isReactive"?!t:i==="__v_isReadonly"?t:i==="__v_raw"?r:Reflect.get(Lt(n,i)&&i in r?n:r,i,s)}const k3={get:fg(!1,!1)},P3={get:fg(!1,!0)},x3={get:fg(!0,!1)},D3={get:fg(!0,!0)},ok=new WeakMap,ak=new WeakMap,lk=new WeakMap,uk=new WeakMap;function R3(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function N3(t){return t.__v_skip||!Object.isExtensible(t)?0:R3(t3(t))}function xn(t){return Qa(t)?t:pg(t,!1,w3,k3,ok)}function zw(t){return pg(t,!1,T3,P3,ak)}function hg(t){return pg(t,!0,_3,x3,lk)}function M3(t){return pg(t,!0,S3,D3,uk)}function pg(t,e,n,r,i){if(!sn(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const s=i.get(t);if(s)return s;const o=N3(t);if(o===0)return t;const a=new Proxy(t,o===2?r:n);return i.set(t,a),a}function As(t){return Qa(t)?As(t.__v_raw):!!(t&&t.__v_isReactive)}function Qa(t){return!!(t&&t.__v_isReadonly)}function Bd(t){return!!(t&&t.__v_isShallow)}function Gw(t){return As(t)||Qa(t)}function _t(t){const e=t&&t.__v_raw;return e?_t(e):t}function jf(t){return Object.isExtensible(t)&&Kp(t,"__v_skip",!0),t}const jd=t=>sn(t)?xn(t):t,Yw=t=>sn(t)?hg(t):t;class ck{constructor(e,n,r,i){this.getter=e,this._setter=n,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this.effect=new Lu(()=>e(this._value),()=>wu(this,this.effect._dirtyLevel===2?2:3)),this.effect.computed=this,this.effect.active=this._cacheable=!i,this.__v_isReadonly=r}get value(){const e=_t(this);return(!e._cacheable||e.effect.dirty)&&ls(e._value,e._value=e.effect.run())&&wu(e,4),qw(e),e.effect._dirtyLevel>=2&&wu(e,2),e._value}set value(e){this._setter(e)}get _dirty(){return this.effect.dirty}set _dirty(e){this.effect.dirty=e}}function L3(t,e,n=!1){let r,i;const s=at(t);return s?(r=t,i=li):(r=t.get,i=t.set),new ck(r,i,s||!i,n)}function qw(t){var e;jo&&Fa&&(t=_t(t),ZA(Fa,(e=t.dep)!=null?e:t.dep=tk(()=>t.dep=void 0,t instanceof ck?t:void 0)))}function wu(t,e=4,n){t=_t(t);const r=t.dep;r&&ek(r,e)}function cn(t){return!!(t&&t.__v_isRef===!0)}function re(t){return fk(t,!1)}function dk(t){return fk(t,!0)}function fk(t,e){return cn(t)?t:new $3(t,e)}class $3{constructor(e,n){this.__v_isShallow=n,this.dep=void 0,this.__v_isRef=!0,this._rawValue=n?e:_t(e),this._value=n?e:jd(e)}get value(){return qw(this),this._value}set value(e){const n=this.__v_isShallow||Bd(e)||Qa(e);e=n?e:_t(e),ls(e,this._rawValue)&&(this._rawValue=e,this._value=n?e:jd(e),wu(this,4))}}function F3(t){wu(t,4)}function k(t){return cn(t)?t.value:t}function U3(t){return at(t)?t():k(t)}const V3={get:(t,e,n)=>k(Reflect.get(t,e,n)),set:(t,e,n,r)=>{const i=t[e];return cn(i)&&!cn(n)?(i.value=n,!0):Reflect.set(t,e,n,r)}};function Xw(t){return As(t)?t:new Proxy(t,V3)}class B3{constructor(e){this.dep=void 0,this.__v_isRef=!0;const{get:n,set:r}=e(()=>qw(this),()=>wu(this));this._get=n,this._set=r}get value(){return this._get()}set value(e){this._set(e)}}function hk(t){return new B3(t)}function pk(t){const e=ze(t)?new Array(t.length):{};for(const n in t)e[n]=mk(t,n);return e}class j3{constructor(e,n,r){this._object=e,this._key=n,this._defaultValue=r,this.__v_isRef=!0}get value(){const e=this._object[this._key];return e===void 0?this._defaultValue:e}set value(e){this._object[this._key]=e}get dep(){return g3(_t(this._object),this._key)}}class H3{constructor(e){this._getter=e,this.__v_isRef=!0,this.__v_isReadonly=!0}get value(){return this._getter()}}function $u(t,e,n){return cn(t)?t:at(t)?new H3(t):sn(t)&&arguments.length>1?mk(t,e,n):re(t)}function mk(t,e,n){const r=t[e];return cn(r)?r:new j3(t,e,n)}const W3={GET:"get",HAS:"has",ITERATE:"iterate"},K3={SET:"set",ADD:"add",DELETE:"delete",CLEAR:"clear"};/**
* @vue/runtime-core v3.4.21
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function z3(t,e){}const G3={SETUP_FUNCTION:0,0:"SETUP_FUNCTION",RENDER_FUNCTION:1,1:"RENDER_FUNCTION",WATCH_GETTER:2,2:"WATCH_GETTER",WATCH_CALLBACK:3,3:"WATCH_CALLBACK",WATCH_CLEANUP:4,4:"WATCH_CLEANUP",NATIVE_EVENT_HANDLER:5,5:"NATIVE_EVENT_HANDLER",COMPONENT_EVENT_HANDLER:6,6:"COMPONENT_EVENT_HANDLER",VNODE_HOOK:7,7:"VNODE_HOOK",DIRECTIVE_HOOK:8,8:"DIRECTIVE_HOOK",TRANSITION_HOOK:9,9:"TRANSITION_HOOK",APP_ERROR_HANDLER:10,10:"APP_ERROR_HANDLER",APP_WARN_HANDLER:11,11:"APP_WARN_HANDLER",FUNCTION_REF:12,12:"FUNCTION_REF",ASYNC_COMPONENT_LOADER:13,13:"ASYNC_COMPONENT_LOADER",SCHEDULER:14,14:"SCHEDULER"},Y3={sp:"serverPrefetch hook",bc:"beforeCreate hook",c:"created hook",bm:"beforeMount hook",m:"mounted hook",bu:"beforeUpdate hook",u:"updated",bum:"beforeUnmount hook",um:"unmounted hook",a:"activated hook",da:"deactivated hook",ec:"errorCaptured hook",rtc:"renderTracked hook",rtg:"renderTriggered hook",0:"setup function",1:"render function",2:"watcher getter",3:"watcher callback",4:"watcher cleanup function",5:"native event handler",6:"component event handler",7:"vnode hook",8:"directive hook",9:"transition hook",10:"app errorHandler",11:"app warnHandler",12:"ref function",13:"async component loader",14:"scheduler flush. This is likely a Vue internals bug. Please open an issue at https://github.com/vuejs/core ."};function Qs(t,e,n,r){try{return r?t(...r):t()}catch(i){El(i,e,n)}}function Si(t,e,n,r){if(at(t)){const s=Qs(t,e,n,r);return s&&Uw(s)&&s.catch(o=>{El(o,e,n)}),s}const i=[];for(let s=0;s<t.length;s++)i.push(Si(t[s],e,n,r));return i}function El(t,e,n,r=!0){const i=e?e.vnode:null;if(e){let s=e.parent;const o=e.proxy,a=`https://vuejs.org/error-reference/#runtime-${n}`;for(;s;){const u=s.ec;if(u){for(let c=0;c<u.length;c++)if(u[c](t,o,a)===!1)return}s=s.parent}const l=e.appContext.config.errorHandler;if(l){Qs(l,null,10,[t,o,a]);return}}q3(t,n,i,r)}function q3(t,e,n,r=!0){console.error(t)}let Hd=!1,S0=!1;const Nr=[];let ys=0;const _u=[];let Oo=null,ka=0;const gk=Promise.resolve();let Qw=null;function Wn(t){const e=Qw||gk;return t?e.then(this?t.bind(this):t):e}function X3(t){let e=ys+1,n=Nr.length;for(;e<n;){const r=e+n>>>1,i=Nr[r],s=Wd(i);s<t||s===t&&i.pre?e=r+1:n=r}return e}function mg(t){(!Nr.length||!Nr.includes(t,Hd&&t.allowRecurse?ys+1:ys))&&(t.id==null?Nr.push(t):Nr.splice(X3(t.id),0,t),vk())}function vk(){!Hd&&!S0&&(S0=!0,Qw=gk.then(yk))}function Q3(t){const e=Nr.indexOf(t);e>ys&&Nr.splice(e,1)}function Yp(t){ze(t)?_u.push(...t):(!Oo||!Oo.includes(t,t.allowRecurse?ka+1:ka))&&_u.push(t),vk()}function pS(t,e,n=Hd?ys+1:0){for(;n<Nr.length;n++){const r=Nr[n];if(r&&r.pre){if(t&&r.id!==t.uid)continue;Nr.splice(n,1),n--,r()}}}function qp(t){if(_u.length){const e=[...new Set(_u)].sort((n,r)=>Wd(n)-Wd(r));if(_u.length=0,Oo){Oo.push(...e);return}for(Oo=e,ka=0;ka<Oo.length;ka++)Oo[ka]();Oo=null,ka=0}}const Wd=t=>t.id==null?1/0:t.id,J3=(t,e)=>{const n=Wd(t)-Wd(e);if(n===0){if(t.pre&&!e.pre)return-1;if(e.pre&&!t.pre)return 1}return n};function yk(t){S0=!1,Hd=!0,Nr.sort(J3);try{for(ys=0;ys<Nr.length;ys++){const e=Nr[ys];e&&e.active!==!1&&Qs(e,null,14)}}finally{ys=0,Nr.length=0,qp(),Hd=!1,Qw=null,(Nr.length||_u.length)&&yk()}}let Xl,Rh=[];function bk(t,e){var n,r;Xl=t,Xl?(Xl.enabled=!0,Rh.forEach(({event:i,args:s})=>Xl.emit(i,...s)),Rh=[]):typeof window<"u"&&window.HTMLElement&&!((r=(n=window.navigator)==null?void 0:n.userAgent)!=null&&r.includes("jsdom"))?((e.__VUE_DEVTOOLS_HOOK_REPLAY__=e.__VUE_DEVTOOLS_HOOK_REPLAY__||[]).push(s=>{bk(s,e)}),setTimeout(()=>{Xl||(e.__VUE_DEVTOOLS_HOOK_REPLAY__=null,Rh=[])},3e3)):Rh=[]}function Z3(t,e,...n){if(t.isUnmounted)return;const r=t.vnode.props||Zt;let i=n;const s=e.startsWith("update:"),o=s&&e.slice(7);if(o&&o in r){const c=`${o==="modelValue"?"model":o}Modifiers`,{number:d,trim:f}=r[c]||Zt;f&&(i=n.map(h=>In(h)?h.trim():h)),d&&(i=n.map(Vd))}let a,l=r[a=cd(e)]||r[a=cd(Xr(e))];!l&&s&&(l=r[a=cd(bi(e))]),l&&Si(l,t,6,i);const u=r[a+"Once"];if(u){if(!t.emitted)t.emitted={};else if(t.emitted[a])return;t.emitted[a]=!0,Si(u,t,6,i)}}function wk(t,e,n=!1){const r=e.emitsCache,i=r.get(t);if(i!==void 0)return i;const s=t.emits;let o={},a=!1;if(!at(t)){const l=u=>{const c=wk(u,e,!0);c&&(a=!0,En(o,c))};!n&&e.mixins.length&&e.mixins.forEach(l),t.extends&&l(t.extends),t.mixins&&t.mixins.forEach(l)}return!s&&!a?(sn(t)&&r.set(t,null),null):(ze(s)?s.forEach(l=>o[l]=null):En(o,s),sn(t)&&r.set(t,o),o)}function gg(t,e){return!t||!Vf(e)?!1:(e=e.slice(2).replace(/Once$/,""),Lt(t,e[0].toLowerCase()+e.slice(1))||Lt(t,bi(e))||Lt(t,e))}let Qn=null,vg=null;function Kd(t){const e=Qn;return Qn=t,vg=t&&t.type.__scopeId||null,e}function _k(t){vg=t}function Tk(){vg=null}const eF=t=>ce;function ce(t,e=Qn,n){if(!e||t._n)return t;const r=(...i)=>{r._d&&x0(-1);const s=Kd(e);let o;try{o=t(...i)}finally{Kd(s),r._d&&x0(1)}return o};return r._n=!0,r._c=!0,r._d=!0,r}function wp(t){const{type:e,vnode:n,proxy:r,withProxy:i,props:s,propsOptions:[o],slots:a,attrs:l,emit:u,render:c,renderCache:d,data:f,setupState:h,ctx:p,inheritAttrs:m}=t;let g,y;const v=Kd(t);try{if(n.shapeFlag&4){const b=i||r,w=b;g=yi(c.call(w,b,d,s,h,f,p)),y=l}else{const b=e;g=yi(b.length>1?b(s,{attrs:l,slots:a,emit:u}):b(s,null)),y=e.props?l:nF(l)}}catch(b){hd.length=0,El(b,t,1),g=J(Fr)}let _=g;if(y&&m!==!1){const b=Object.keys(y),{shapeFlag:w}=_;b.length&&w&7&&(o&&b.some($w)&&(y=rF(y,o)),_=Ns(_,y))}return n.dirs&&(_=Ns(_),_.dirs=_.dirs?_.dirs.concat(n.dirs):n.dirs),n.transition&&(_.transition=n.transition),g=_,Kd(v),g}function tF(t,e=!0){let n;for(let r=0;r<t.length;r++){const i=t[r];if(ea(i)){if(i.type!==Fr||i.children==="v-if"){if(n)return;n=i}}else return}return n}const nF=t=>{let e;for(const n in t)(n==="class"||n==="style"||Vf(n))&&((e||(e={}))[n]=t[n]);return e},rF=(t,e)=>{const n={};for(const r in t)(!$w(r)||!(r.slice(9)in e))&&(n[r]=t[r]);return n};function iF(t,e,n){const{props:r,children:i,component:s}=t,{props:o,children:a,patchFlag:l}=e,u=s.emitsOptions;if(e.dirs||e.transition)return!0;if(n&&l>=0){if(l&1024)return!0;if(l&16)return r?mS(r,o,u):!!o;if(l&8){const c=e.dynamicProps;for(let d=0;d<c.length;d++){const f=c[d];if(o[f]!==r[f]&&!gg(u,f))return!0}}}else return(i||a)&&(!a||!a.$stable)?!0:r===o?!1:r?o?mS(r,o,u):!0:!!o;return!1}function mS(t,e,n){const r=Object.keys(e);if(r.length!==Object.keys(t).length)return!0;for(let i=0;i<r.length;i++){const s=r[i];if(e[s]!==t[s]&&!gg(n,s))return!0}return!1}function Jw({vnode:t,parent:e},n){for(;e;){const r=e.subTree;if(r.suspense&&r.suspense.activeBranch===t&&(r.el=t.el),r===t)(t=e.vnode).el=n,e=e.parent;else break}}const Zw="components",sF="directives";function Bn(t,e){return t1(Zw,t,!0,e)||t}const Sk=Symbol.for("v-ndc");function gn(t){return In(t)?t1(Zw,t,!1)||t:t||Sk}function e1(t){return t1(sF,t)}function t1(t,e,n=!0,r=!1){const i=Qn||er;if(i){const s=i.type;if(t===Zw){const a=L0(s,!1);if(a&&(a===e||a===Xr(e)||a===Bf(Xr(e))))return s}const o=gS(i[t]||s[t],e)||gS(i.appContext[t],e);return!o&&r?s:o}}function gS(t,e){return t&&(t[e]||t[Xr(e)]||t[Bf(Xr(e))])}const Ek=t=>t.__isSuspense;let E0=0;const oF={name:"Suspense",__isSuspense:!0,process(t,e,n,r,i,s,o,a,l,u){if(t==null)lF(e,n,r,i,s,o,a,l,u);else{if(s&&s.deps>0&&!t.suspense.isInFallback){e.suspense=t.suspense,e.suspense.vnode=e,e.el=t.el;return}uF(t,e,n,r,i,o,a,l,u)}},hydrate:cF,create:n1,normalize:dF},aF=oF;function zd(t,e){const n=t.props&&t.props[e];at(n)&&n()}function lF(t,e,n,r,i,s,o,a,l){const{p:u,o:{createElement:c}}=l,d=c("div"),f=t.suspense=n1(t,i,r,e,d,n,s,o,a,l);u(null,f.pendingBranch=t.ssContent,d,null,r,f,s,o),f.deps>0?(zd(t,"onPending"),zd(t,"onFallback"),u(null,t.ssFallback,e,n,r,null,s,o),Tu(f,t.ssFallback)):f.resolve(!1,!0)}function uF(t,e,n,r,i,s,o,a,{p:l,um:u,o:{createElement:c}}){const d=e.suspense=t.suspense;d.vnode=e,e.el=t.el;const f=e.ssContent,h=e.ssFallback,{activeBranch:p,pendingBranch:m,isInFallback:g,isHydrating:y}=d;if(m)d.pendingBranch=f,Qi(f,m)?(l(m,f,d.hiddenContainer,null,i,d,s,o,a),d.deps<=0?d.resolve():g&&(y||(l(p,h,n,r,i,null,s,o,a),Tu(d,h)))):(d.pendingId=E0++,y?(d.isHydrating=!1,d.activeBranch=m):u(m,i,d),d.deps=0,d.effects.length=0,d.hiddenContainer=c("div"),g?(l(null,f,d.hiddenContainer,null,i,d,s,o,a),d.deps<=0?d.resolve():(l(p,h,n,r,i,null,s,o,a),Tu(d,h))):p&&Qi(f,p)?(l(p,f,n,r,i,d,s,o,a),d.resolve(!0)):(l(null,f,d.hiddenContainer,null,i,d,s,o,a),d.deps<=0&&d.resolve()));else if(p&&Qi(f,p))l(p,f,n,r,i,d,s,o,a),Tu(d,f);else if(zd(e,"onPending"),d.pendingBranch=f,f.shapeFlag&512?d.pendingId=f.component.suspenseId:d.pendingId=E0++,l(null,f,d.hiddenContainer,null,i,d,s,o,a),d.deps<=0)d.resolve();else{const{timeout:v,pendingId:_}=d;v>0?setTimeout(()=>{d.pendingId===_&&d.fallback(h)},v):v===0&&d.fallback(h)}}function n1(t,e,n,r,i,s,o,a,l,u,c=!1){const{p:d,m:f,um:h,n:p,o:{parentNode:m,remove:g}}=u;let y;const v=fF(t);v&&e!=null&&e.pendingBranch&&(y=e.pendingId,e.deps++);const _=t.props?zp(t.props.timeout):void 0,b=s,w={vnode:t,parent:e,parentComponent:n,namespace:o,container:r,hiddenContainer:i,deps:0,pendingId:E0++,timeout:typeof _=="number"?_:-1,activeBranch:null,pendingBranch:null,isInFallback:!c,isHydrating:c,isUnmounted:!1,effects:[],resolve(T=!1,P=!1){const{vnode:A,activeBranch:O,pendingBranch:E,pendingId:M,effects:F,parentComponent:N,container:x}=w;let R=!1;w.isHydrating?w.isHydrating=!1:T||(R=O&&E.transition&&E.transition.mode==="out-in",R&&(O.transition.afterLeave=()=>{M===w.pendingId&&(f(E,x,s===b?p(O):s,0),Yp(F))}),O&&(m(O.el)!==w.hiddenContainer&&(s=p(O)),h(O,N,w,!0)),R||f(E,x,s,0)),Tu(w,E),w.pendingBranch=null,w.isInFallback=!1;let D=w.parent,B=!1;for(;D;){if(D.pendingBranch){D.effects.push(...F),B=!0;break}D=D.parent}!B&&!R&&Yp(F),w.effects=[],v&&e&&e.pendingBranch&&y===e.pendingId&&(e.deps--,e.deps===0&&!P&&e.resolve()),zd(A,"onResolve")},fallback(T){if(!w.pendingBranch)return;const{vnode:P,activeBranch:A,parentComponent:O,container:E,namespace:M}=w;zd(P,"onFallback");const F=p(A),N=()=>{w.isInFallback&&(d(null,T,E,F,O,null,M,a,l),Tu(w,T))},x=T.transition&&T.transition.mode==="out-in";x&&(A.transition.afterLeave=N),w.isInFallback=!0,h(A,O,null,!0),x||N()},move(T,P,A){w.activeBranch&&f(w.activeBranch,T,P,A),w.container=T},next(){return w.activeBranch&&p(w.activeBranch)},registerDep(T,P){const A=!!w.pendingBranch;A&&w.deps++;const O=T.vnode.el;T.asyncDep.catch(E=>{El(E,T,0)}).then(E=>{if(T.isUnmounted||w.isUnmounted||w.pendingId!==T.suspenseId)return;T.asyncResolved=!0;const{vnode:M}=T;N0(T,E,!1),O&&(M.el=O);const F=!O&&T.subTree.el;P(T,M,m(O||T.subTree.el),O?null:p(T.subTree),w,o,l),F&&g(F),Jw(T,M.el),A&&--w.deps===0&&w.resolve()})},unmount(T,P){w.isUnmounted=!0,w.activeBranch&&h(w.activeBranch,n,T,P),w.pendingBranch&&h(w.pendingBranch,n,T,P)}};return w}function cF(t,e,n,r,i,s,o,a,l){const u=e.suspense=n1(e,r,n,t.parentNode,document.createElement("div"),null,i,s,o,a,!0),c=l(t,u.pendingBranch=e.ssContent,n,u,s,o);return u.deps===0&&u.resolve(!1,!0),c}function dF(t){const{shapeFlag:e,children:n}=t,r=e&32;t.ssContent=vS(r?n.default:n),t.ssFallback=r?vS(n.fallback):J(Fr)}function vS(t){let e;if(at(t)){const n=el&&t._c;n&&(t._d=!1,S()),t=t(),n&&(t._d=!0,e=ui,iP())}return ze(t)&&(t=tF(t)),t=yi(t),e&&!t.dynamicChildren&&(t.dynamicChildren=e.filter(n=>n!==t)),t}function Ik(t,e){e&&e.pendingBranch?ze(t)?e.effects.push(...t):e.effects.push(t):Yp(t)}function Tu(t,e){t.activeBranch=e;const{vnode:n,parentComponent:r}=t;let i=e.el;for(;!i&&e.component;)e=e.component.subTree,i=e.el;n.el=i,r&&r.subTree===n&&(r.vnode.el=i,Jw(r,i))}function fF(t){var e;return((e=t.props)==null?void 0:e.suspensible)!=null&&t.props.suspensible!==!1}const Ck=Symbol.for("v-scx"),Ok=()=>Qr(Ck);function Ak(t,e){return Hf(t,null,e)}function kk(t,e){return Hf(t,null,{flush:"post"})}function Pk(t,e){return Hf(t,null,{flush:"sync"})}const Nh={};function It(t,e,n){return Hf(t,e,n)}function Hf(t,e,{immediate:n,deep:r,flush:i,once:s,onTrack:o,onTrigger:a}=Zt){if(e&&s){const T=e;e=(...P)=>{T(...P),w()}}const l=er,u=T=>r===!0?T:Da(T,r===!1?1:void 0);let c,d=!1,f=!1;if(cn(t)?(c=()=>t.value,d=Bd(t)):As(t)?(c=()=>u(t),d=!0):ze(t)?(f=!0,d=t.some(T=>As(T)||Bd(T)),c=()=>t.map(T=>{if(cn(T))return T.value;if(As(T))return u(T);if(at(T))return Qs(T,l,2)})):at(t)?e?c=()=>Qs(t,l,2):c=()=>(h&&h(),Si(t,l,3,[p])):c=li,e&&r){const T=c;c=()=>Da(T())}let h,p=T=>{h=_.onStop=()=>{Qs(T,l,4),h=_.onStop=void 0}},m;if(zf)if(p=li,e?n&&Si(e,l,3,[c(),f?[]:void 0,p]):c(),i==="sync"){const T=Ok();m=T.__watcherHandles||(T.__watcherHandles=[])}else return li;let g=f?new Array(t.length).fill(Nh):Nh;const y=()=>{if(!(!_.active||!_.dirty))if(e){const T=_.run();(r||d||(f?T.some((P,A)=>ls(P,g[A])):ls(T,g)))&&(h&&h(),Si(e,l,3,[T,g===Nh?void 0:f&&g[0]===Nh?[]:g,p]),g=T)}else _.run()};y.allowRecurse=!!e;let v;i==="sync"?v=y:i==="post"?v=()=>br(y,l&&l.suspense):(y.pre=!0,l&&(y.id=l.uid),v=()=>mg(y));const _=new Lu(c,li,v),b=cg(),w=()=>{_.stop(),b&&Fw(b.effects,_)};return e?n?y():g=_.run():i==="post"?br(_.run.bind(_),l&&l.suspense):_.run(),m&&m.push(w),w}function hF(t,e,n){const r=this.proxy,i=In(t)?t.includes(".")?xk(r,t):()=>r[t]:t.bind(r,r);let s;at(e)?s=e:(s=e.handler,n=e);const o=tl(this),a=Hf(i,s.bind(r),n);return o(),a}function xk(t,e){const n=e.split(".");return()=>{let r=t;for(let i=0;i<n.length&&r;i++)r=r[n[i]];return r}}function Da(t,e,n=0,r){if(!sn(t)||t.__v_skip)return t;if(e&&e>0){if(n>=e)return t;n++}if(r=r||new Set,r.has(t))return t;if(r.add(t),cn(t))Da(t.value,e,n,r);else if(ze(t))for(let i=0;i<t.length;i++)Da(t[i],e,n,r);else if(_l(t)||vu(t))t.forEach(i=>{Da(i,e,n,r)});else if(zA(t))for(const i in t)Da(t[i],e,n,r);return t}function ns(t,e){if(Qn===null)return t;const n=Tg(Qn)||Qn.proxy,r=t.dirs||(t.dirs=[]);for(let i=0;i<e.length;i++){let[s,o,a,l=Zt]=e[i];s&&(at(s)&&(s={mounted:s,updated:s}),s.deep&&Da(o),r.push({dir:s,instance:n,value:o,oldValue:void 0,arg:a,modifiers:l}))}return t}function gs(t,e,n,r){const i=t.dirs,s=e&&e.dirs;for(let o=0;o<i.length;o++){const a=i[o];s&&(a.oldValue=s[o].value);let l=a.dir[r];l&&(Tl(),Si(l,n,8,[t.el,a,t,e]),Sl())}}const Ao=Symbol("_leaveCb"),Mh=Symbol("_enterCb");function r1(){const t={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Gt(()=>{t.isMounted=!0}),Kf(()=>{t.isUnmounting=!0}),t}const xi=[Function,Array],i1={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:xi,onEnter:xi,onAfterEnter:xi,onEnterCancelled:xi,onBeforeLeave:xi,onLeave:xi,onAfterLeave:xi,onLeaveCancelled:xi,onBeforeAppear:xi,onAppear:xi,onAfterAppear:xi,onAppearCancelled:xi},pF={name:"BaseTransition",props:i1,setup(t,{slots:e}){const n=hs(),r=r1();return()=>{const i=e.default&&yg(e.default(),!0);if(!i||!i.length)return;let s=i[0];if(i.length>1){for(const f of i)if(f.type!==Fr){s=f;break}}const o=_t(t),{mode:a}=o;if(r.isLeaving)return Fv(s);const l=yS(s);if(!l)return Fv(s);const u=Fu(l,o,r,n);Ja(l,u);const c=n.subTree,d=c&&yS(c);if(d&&d.type!==Fr&&!Qi(l,d)){const f=Fu(d,o,r,n);if(Ja(d,f),a==="out-in")return r.isLeaving=!0,f.afterLeave=()=>{r.isLeaving=!1,n.update.active!==!1&&(n.effect.dirty=!0,n.update())},Fv(s);a==="in-out"&&l.type!==Fr&&(f.delayLeave=(h,p,m)=>{const g=Rk(r,d);g[String(d.key)]=d,h[Ao]=()=>{p(),h[Ao]=void 0,delete u.delayedLeave},u.delayedLeave=m})}return s}}},Dk=pF;function Rk(t,e){const{leavingVNodes:n}=t;let r=n.get(e.type);return r||(r=Object.create(null),n.set(e.type,r)),r}function Fu(t,e,n,r){const{appear:i,mode:s,persisted:o=!1,onBeforeEnter:a,onEnter:l,onAfterEnter:u,onEnterCancelled:c,onBeforeLeave:d,onLeave:f,onAfterLeave:h,onLeaveCancelled:p,onBeforeAppear:m,onAppear:g,onAfterAppear:y,onAppearCancelled:v}=e,_=String(t.key),b=Rk(n,t),w=(A,O)=>{A&&Si(A,r,9,O)},T=(A,O)=>{const E=O[1];w(A,O),ze(A)?A.every(M=>M.length<=1)&&E():A.length<=1&&E()},P={mode:s,persisted:o,beforeEnter(A){let O=a;if(!n.isMounted)if(i)O=m||a;else return;A[Ao]&&A[Ao](!0);const E=b[_];E&&Qi(t,E)&&E.el[Ao]&&E.el[Ao](),w(O,[A])},enter(A){let O=l,E=u,M=c;if(!n.isMounted)if(i)O=g||l,E=y||u,M=v||c;else return;let F=!1;const N=A[Mh]=x=>{F||(F=!0,x?w(M,[A]):w(E,[A]),P.delayedLeave&&P.delayedLeave(),A[Mh]=void 0)};O?T(O,[A,N]):N()},leave(A,O){const E=String(t.key);if(A[Mh]&&A[Mh](!0),n.isUnmounting)return O();w(d,[A]);let M=!1;const F=A[Ao]=N=>{M||(M=!0,O(),N?w(p,[A]):w(h,[A]),A[Ao]=void 0,b[E]===t&&delete b[E])};b[E]=t,f?T(f,[A,F]):F()},clone(A){return Fu(A,e,n,r)}};return P}function Fv(t){if(Wf(t))return t=Ns(t),t.children=null,t}function yS(t){return Wf(t)?t.children?t.children[0]:void 0:t}function Ja(t,e){t.shapeFlag&6&&t.component?Ja(t.component.subTree,e):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function yg(t,e=!1,n){let r=[],i=0;for(let s=0;s<t.length;s++){let o=t[s];const a=n==null?o.key:String(n)+String(o.key!=null?o.key:s);o.type===Te?(o.patchFlag&128&&i++,r=r.concat(yg(o.children,e,a))):(e||o.type!==Fr)&&r.push(a!=null?Ns(o,{key:a}):o)}if(i>1)for(let s=0;s<r.length;s++)r[s].patchFlag=-2;return r}/*! #__NO_SIDE_EFFECTS__ */function Oe(t,e){return at(t)?En({name:t.name},e,{setup:t}):t}const Va=t=>!!t.type.__asyncLoader;/*! #__NO_SIDE_EFFECTS__ */function mF(t){at(t)&&(t={loader:t});const{loader:e,loadingComponent:n,errorComponent:r,delay:i=200,timeout:s,suspensible:o=!0,onError:a}=t;let l=null,u,c=0;const d=()=>(c++,l=null,f()),f=()=>{let h;return l||(h=l=e().catch(p=>{if(p=p instanceof Error?p:new Error(String(p)),a)return new Promise((m,g)=>{a(p,()=>m(d()),()=>g(p),c+1)});throw p}).then(p=>h!==l&&l?l:(p&&(p.__esModule||p[Symbol.toStringTag]==="Module")&&(p=p.default),u=p,p)))};return Oe({name:"AsyncComponentWrapper",__asyncLoader:f,get __asyncResolved(){return u},setup(){const h=er;if(u)return()=>Uv(u,h);const p=v=>{l=null,El(v,h,13,!r)};if(o&&h.suspense||zf)return f().then(v=>()=>Uv(v,h)).catch(v=>(p(v),()=>r?J(r,{error:v}):null));const m=re(!1),g=re(),y=re(!!i);return i&&setTimeout(()=>{y.value=!1},i),s!=null&&setTimeout(()=>{if(!m.value&&!g.value){const v=new Error(`Async component timed out after ${s}ms.`);p(v),g.value=v}},s),f().then(()=>{m.value=!0,h.parent&&Wf(h.parent.vnode)&&(h.parent.effect.dirty=!0,mg(h.parent.update))}).catch(v=>{p(v),g.value=v}),()=>{if(m.value&&u)return Uv(u,h);if(g.value&&r)return J(r,{error:g.value});if(n&&!y.value)return J(n)}}})}function Uv(t,e){const{ref:n,props:r,children:i,ce:s}=e.vnode,o=J(t,r,i);return o.ref=n,o.ce=s,delete e.vnode.ce,o}const Wf=t=>t.type.__isKeepAlive,gF={name:"KeepAlive",__isKeepAlive:!0,props:{include:[String,RegExp,Array],exclude:[String,RegExp,Array],max:[String,Number]},setup(t,{slots:e}){const n=hs(),r=n.ctx;if(!r.renderer)return()=>{const v=e.default&&e.default();return v&&v.length===1?v[0]:v};const i=new Map,s=new Set;let o=null;const a=n.suspense,{renderer:{p:l,m:u,um:c,o:{createElement:d}}}=r,f=d("div");r.activate=(v,_,b,w,T)=>{const P=v.component;u(v,_,b,0,a),l(P.vnode,v,_,b,P,a,w,v.slotScopeIds,T),br(()=>{P.isDeactivated=!1,P.a&&bu(P.a);const A=v.props&&v.props.onVnodeMounted;A&&si(A,P.parent,v)},a)},r.deactivate=v=>{const _=v.component;u(v,f,null,1,a),br(()=>{_.da&&bu(_.da);const b=v.props&&v.props.onVnodeUnmounted;b&&si(b,_.parent,v),_.isDeactivated=!0},a)};function h(v){Vv(v),c(v,n,a,!0)}function p(v){i.forEach((_,b)=>{const w=L0(_.type);w&&(!v||!v(w))&&m(b)})}function m(v){const _=i.get(v);!o||!Qi(_,o)?h(_):o&&Vv(o),i.delete(v),s.delete(v)}It(()=>[t.include,t.exclude],([v,_])=>{v&&p(b=>Gc(v,b)),_&&p(b=>!Gc(_,b))},{flush:"post",deep:!0});let g=null;const y=()=>{g!=null&&i.set(g,Bv(n.subTree))};return Gt(y),wg(y),Kf(()=>{i.forEach(v=>{const{subTree:_,suspense:b}=n,w=Bv(_);if(v.type===w.type&&v.key===w.key){Vv(w);const T=w.component.da;T&&br(T,b);return}h(v)})}),()=>{if(g=null,!e.default)return null;const v=e.default(),_=v[0];if(v.length>1)return o=null,v;if(!ea(_)||!(_.shapeFlag&4)&&!(_.shapeFlag&128))return o=null,_;let b=Bv(_);const w=b.type,T=L0(Va(b)?b.type.__asyncResolved||{}:w),{include:P,exclude:A,max:O}=t;if(P&&(!T||!Gc(P,T))||A&&T&&Gc(A,T))return o=b,_;const E=b.key==null?w:b.key,M=i.get(E);return b.el&&(b=Ns(b),_.shapeFlag&128&&(_.ssContent=b)),g=E,M?(b.el=M.el,b.component=M.component,b.transition&&Ja(b,b.transition),b.shapeFlag|=512,s.delete(E),s.add(E)):(s.add(E),O&&s.size>parseInt(O,10)&&m(s.values().next().value)),b.shapeFlag|=256,o=b,Ek(_.type)?_:b}}},vF=gF;function Gc(t,e){return ze(t)?t.some(n=>Gc(n,e)):In(t)?t.split(",").includes(e):e3(t)?t.test(e):!1}function Nk(t,e){Lk(t,"a",e)}function Mk(t,e){Lk(t,"da",e)}function Lk(t,e,n=er){const r=t.__wdc||(t.__wdc=()=>{let i=n;for(;i;){if(i.isDeactivated)return;i=i.parent}return t()});if(bg(e,r,n),n){let i=n.parent;for(;i&&i.parent;)Wf(i.parent.vnode)&&yF(r,e,n,i),i=i.parent}}function yF(t,e,n,r){const i=bg(e,t,r,!0);oa(()=>{Fw(r[e],i)},n)}function Vv(t){t.shapeFlag&=-257,t.shapeFlag&=-513}function Bv(t){return t.shapeFlag&128?t.ssContent:t}function bg(t,e,n=er,r=!1){if(n){const i=n[t]||(n[t]=[]),s=e.__weh||(e.__weh=(...o)=>{if(n.isUnmounted)return;Tl();const a=tl(n),l=Si(e,n,t,o);return a(),Sl(),l});return r?i.unshift(s):i.push(s),s}}const fo=t=>(e,n=er)=>(!zf||t==="sp")&&bg(t,(...r)=>e(...r),n),$k=fo("bm"),Gt=fo("m"),s1=fo("bu"),wg=fo("u"),Kf=fo("bum"),oa=fo("um"),Fk=fo("sp"),Uk=fo("rtg"),Vk=fo("rtc");function Bk(t,e=er){bg("ec",t,e)}function st(t,e,n,r){let i;const s=n&&n[r];if(ze(t)||In(t)){i=new Array(t.length);for(let o=0,a=t.length;o<a;o++)i[o]=e(t[o],o,void 0,s&&s[o])}else if(typeof t=="number"){i=new Array(t);for(let o=0;o<t;o++)i[o]=e(o+1,o,void 0,s&&s[o])}else if(sn(t))if(t[Symbol.iterator])i=Array.from(t,(o,a)=>e(o,a,void 0,s&&s[a]));else{const o=Object.keys(t);i=new Array(o.length);for(let a=0,l=o.length;a<l;a++){const u=o[a];i[a]=e(t[u],u,a,s&&s[a])}}else i=[];return n&&(n[r]=i),i}function Jn(t,e){for(let n=0;n<e.length;n++){const r=e[n];if(ze(r))for(let i=0;i<r.length;i++)t[r[i].name]=r[i].fn;else r&&(t[r.name]=r.key?(...i)=>{const s=r.fn(...i);return s&&(s.key=r.key),s}:r.fn)}return t}function ge(t,e,n={},r,i){if(Qn.isCE||Qn.parent&&Va(Qn.parent)&&Qn.parent.isCE)return e!=="default"&&(n.name=e),J("slot",n,r&&r());let s=t[e];s&&s._c&&(s._d=!1),S();const o=s&&jk(s(n)),a=ie(Te,{key:n.key||o&&o.key||`_${e}`},o||(r?r():[]),o&&t._===1?64:-2);return!i&&a.scopeId&&(a.slotScopeIds=[a.scopeId+"-s"]),s&&s._c&&(s._d=!0),a}function jk(t){return t.some(e=>ea(e)?!(e.type===Fr||e.type===Te&&!jk(e.children)):!0)?t:null}function bF(t,e){const n={};for(const r in t)n[e&&/[A-Z]/.test(r)?`on:${r}`:cd(r)]=t[r];return n}const I0=t=>t?lP(t)?Tg(t)||t.proxy:I0(t.parent):null,dd=En(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>I0(t.parent),$root:t=>I0(t.root),$emit:t=>t.emit,$options:t=>o1(t),$forceUpdate:t=>t.f||(t.f=()=>{t.effect.dirty=!0,mg(t.update)}),$nextTick:t=>t.n||(t.n=Wn.bind(t.proxy)),$watch:t=>hF.bind(t)}),jv=(t,e)=>t!==Zt&&!t.__isScriptSetup&&Lt(t,e),C0={get({_:t},e){const{ctx:n,setupState:r,data:i,props:s,accessCache:o,type:a,appContext:l}=t;let u;if(e[0]!=="$"){const h=o[e];if(h!==void 0)switch(h){case 1:return r[e];case 2:return i[e];case 4:return n[e];case 3:return s[e]}else{if(jv(r,e))return o[e]=1,r[e];if(i!==Zt&&Lt(i,e))return o[e]=2,i[e];if((u=t.propsOptions[0])&&Lt(u,e))return o[e]=3,s[e];if(n!==Zt&&Lt(n,e))return o[e]=4,n[e];O0&&(o[e]=0)}}const c=dd[e];let d,f;if(c)return e==="$attrs"&&hi(t,"get",e),c(t);if((d=a.__cssModules)&&(d=d[e]))return d;if(n!==Zt&&Lt(n,e))return o[e]=4,n[e];if(f=l.config.globalProperties,Lt(f,e))return f[e]},set({_:t},e,n){const{data:r,setupState:i,ctx:s}=t;return jv(i,e)?(i[e]=n,!0):r!==Zt&&Lt(r,e)?(r[e]=n,!0):Lt(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(s[e]=n,!0)},has({_:{data:t,setupState:e,accessCache:n,ctx:r,appContext:i,propsOptions:s}},o){let a;return!!n[o]||t!==Zt&&Lt(t,o)||jv(e,o)||(a=s[0])&&Lt(a,o)||Lt(r,o)||Lt(dd,o)||Lt(i.config.globalProperties,o)},defineProperty(t,e,n){return n.get!=null?t._.accessCache[e]=0:Lt(n,"value")&&this.set(t,e,n.value,null),Reflect.defineProperty(t,e,n)}},wF=En({},C0,{get(t,e){if(e!==Symbol.unscopables)return C0.get(t,e,t)},has(t,e){return e[0]!=="_"&&!s3(e)}});function _F(){return null}function TF(){return null}function SF(t){}function EF(t){}function IF(){return null}function CF(){}function OF(t,e){return null}function aa(){return Hk().slots}function AF(){return Hk().attrs}function Hk(){const t=hs();return t.setupContext||(t.setupContext=dP(t))}function Gd(t){return ze(t)?t.reduce((e,n)=>(e[n]=null,e),{}):t}function kF(t,e){const n=Gd(t);for(const r in e){if(r.startsWith("__skip"))continue;let i=n[r];i?ze(i)||at(i)?i=n[r]={type:i,default:e[r]}:i.default=e[r]:i===null&&(i=n[r]={default:e[r]}),i&&e[`__skip_${r}`]&&(i.skipFactory=!0)}return n}function PF(t,e){return!t||!e?t||e:ze(t)&&ze(e)?t.concat(e):En({},Gd(t),Gd(e))}function xF(t,e){const n={};for(const r in t)e.includes(r)||Object.defineProperty(n,r,{enumerable:!0,get:()=>t[r]});return n}function DF(t){const e=hs();let n=t();return R0(),Uw(n)&&(n=n.catch(r=>{throw tl(e),r})),[n,()=>tl(e)]}let O0=!0;function RF(t){const e=o1(t),n=t.proxy,r=t.ctx;O0=!1,e.beforeCreate&&bS(e.beforeCreate,t,"bc");const{data:i,computed:s,methods:o,watch:a,provide:l,inject:u,created:c,beforeMount:d,mounted:f,beforeUpdate:h,updated:p,activated:m,deactivated:g,beforeDestroy:y,beforeUnmount:v,destroyed:_,unmounted:b,render:w,renderTracked:T,renderTriggered:P,errorCaptured:A,serverPrefetch:O,expose:E,inheritAttrs:M,components:F,directives:N,filters:x}=e;if(u&&NF(u,r,null),o)for(const B in o){const G=o[B];at(G)&&(r[B]=G.bind(n))}if(i){const B=i.call(n,n);sn(B)&&(t.data=xn(B))}if(O0=!0,s)for(const B in s){const G=s[B],$=at(G)?G.bind(n,n):at(G.get)?G.get.bind(n,n):li,I=!at(G)&&at(G.set)?G.set.bind(n):li,Z=ee({get:$,set:I});Object.defineProperty(r,B,{enumerable:!0,configurable:!0,get:()=>Z.value,set:te=>Z.value=te})}if(a)for(const B in a)Wk(a[B],r,n,B);if(l){const B=at(l)?l.call(n):l;Reflect.ownKeys(B).forEach(G=>{Eu(G,B[G])})}c&&bS(c,t,"c");function D(B,G){ze(G)?G.forEach($=>B($.bind(n))):G&&B(G.bind(n))}if(D($k,d),D(Gt,f),D(s1,h),D(wg,p),D(Nk,m),D(Mk,g),D(Bk,A),D(Vk,T),D(Uk,P),D(Kf,v),D(oa,b),D(Fk,O),ze(E))if(E.length){const B=t.exposed||(t.exposed={});E.forEach(G=>{Object.defineProperty(B,G,{get:()=>n[G],set:$=>n[G]=$})})}else t.exposed||(t.exposed={});w&&t.render===li&&(t.render=w),M!=null&&(t.inheritAttrs=M),F&&(t.components=F),N&&(t.directives=N)}function NF(t,e,n=li){ze(t)&&(t=A0(t));for(const r in t){const i=t[r];let s;sn(i)?"default"in i?s=Qr(i.from||r,i.default,!0):s=Qr(i.from||r):s=Qr(i),cn(s)?Object.defineProperty(e,r,{enumerable:!0,configurable:!0,get:()=>s.value,set:o=>s.value=o}):e[r]=s}}function bS(t,e,n){Si(ze(t)?t.map(r=>r.bind(e.proxy)):t.bind(e.proxy),e,n)}function Wk(t,e,n,r){const i=r.includes(".")?xk(n,r):()=>n[r];if(In(t)){const s=e[t];at(s)&&It(i,s)}else if(at(t))It(i,t.bind(n));else if(sn(t))if(ze(t))t.forEach(s=>Wk(s,e,n,r));else{const s=at(t.handler)?t.handler.bind(n):e[t.handler];at(s)&&It(i,s,t)}}function o1(t){const e=t.type,{mixins:n,extends:r}=e,{mixins:i,optionsCache:s,config:{optionMergeStrategies:o}}=t.appContext,a=s.get(e);let l;return a?l=a:!i.length&&!n&&!r?l=e:(l={},i.length&&i.forEach(u=>Xp(l,u,o,!0)),Xp(l,e,o)),sn(e)&&s.set(e,l),l}function Xp(t,e,n,r=!1){const{mixins:i,extends:s}=e;s&&Xp(t,s,n,!0),i&&i.forEach(o=>Xp(t,o,n,!0));for(const o in e)if(!(r&&o==="expose")){const a=MF[o]||n&&n[o];t[o]=a?a(t[o],e[o]):e[o]}return t}const MF={data:wS,props:_S,emits:_S,methods:Yc,computed:Yc,beforeCreate:Kr,created:Kr,beforeMount:Kr,mounted:Kr,beforeUpdate:Kr,updated:Kr,beforeDestroy:Kr,beforeUnmount:Kr,destroyed:Kr,unmounted:Kr,activated:Kr,deactivated:Kr,errorCaptured:Kr,serverPrefetch:Kr,components:Yc,directives:Yc,watch:$F,provide:wS,inject:LF};function wS(t,e){return e?t?function(){return En(at(t)?t.call(this,this):t,at(e)?e.call(this,this):e)}:e:t}function LF(t,e){return Yc(A0(t),A0(e))}function A0(t){if(ze(t)){const e={};for(let n=0;n<t.length;n++)e[t[n]]=t[n];return e}return t}function Kr(t,e){return t?[...new Set([].concat(t,e))]:e}function Yc(t,e){return t?En(Object.create(null),t,e):e}function _S(t,e){return t?ze(t)&&ze(e)?[...new Set([...t,...e])]:En(Object.create(null),Gd(t),Gd(e??{})):e}function $F(t,e){if(!t)return e;if(!e)return t;const n=En(Object.create(null),t);for(const r in e)n[r]=Kr(t[r],e[r]);return n}function Kk(){return{app:null,config:{isNativeTag:J$,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let FF=0;function UF(t,e){return function(r,i=null){at(r)||(r=En({},r)),i!=null&&!sn(i)&&(i=null);const s=Kk(),o=new WeakSet;let a=!1;const l=s.app={_uid:FF++,_component:r,_props:i,_container:null,_context:s,_instance:null,version:hP,get config(){return s.config},set config(u){},use(u,...c){return o.has(u)||(u&&at(u.install)?(o.add(u),u.install(l,...c)):at(u)&&(o.add(u),u(l,...c))),l},mixin(u){return s.mixins.includes(u)||s.mixins.push(u),l},component(u,c){return c?(s.components[u]=c,l):s.components[u]},directive(u,c){return c?(s.directives[u]=c,l):s.directives[u]},mount(u,c,d){if(!a){const f=J(r,i);return f.appContext=s,d===!0?d="svg":d===!1&&(d=void 0),c&&e?e(f,u):t(f,u,d),a=!0,l._container=u,u.__vue_app__=l,Tg(f.component)||f.component.proxy}},unmount(){a&&(t(null,l._container),delete l._container.__vue_app__)},provide(u,c){return s.provides[u]=c,l},runWithContext(u){const c=Su;Su=l;try{return u()}finally{Su=c}}};return l}}let Su=null;function Eu(t,e){if(er){let n=er.provides;const r=er.parent&&er.parent.provides;r===n&&(n=er.provides=Object.create(r)),n[t]=e}}function Qr(t,e,n=!1){const r=er||Qn;if(r||Su){const i=r?r.parent==null?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:Su._context.provides;if(i&&t in i)return i[t];if(arguments.length>1)return n&&at(e)?e.call(r&&r.proxy):e}}function zk(){return!!(er||Qn||Su)}function VF(t,e,n,r=!1){const i={},s={};Kp(s,_g,1),t.propsDefaults=Object.create(null),Gk(t,e,i,s);for(const o in t.propsOptions[0])o in i||(i[o]=void 0);n?t.props=r?i:zw(i):t.type.props?t.props=i:t.props=s,t.attrs=s}function BF(t,e,n,r){const{props:i,attrs:s,vnode:{patchFlag:o}}=t,a=_t(i),[l]=t.propsOptions;let u=!1;if((r||o>0)&&!(o&16)){if(o&8){const c=t.vnode.dynamicProps;for(let d=0;d<c.length;d++){let f=c[d];if(gg(t.emitsOptions,f))continue;const h=e[f];if(l)if(Lt(s,f))h!==s[f]&&(s[f]=h,u=!0);else{const p=Xr(f);i[p]=k0(l,a,p,h,t,!1)}else h!==s[f]&&(s[f]=h,u=!0)}}}else{Gk(t,e,i,s)&&(u=!0);let c;for(const d in a)(!e||!Lt(e,d)&&((c=bi(d))===d||!Lt(e,c)))&&(l?n&&(n[d]!==void 0||n[c]!==void 0)&&(i[d]=k0(l,a,d,void 0,t,!0)):delete i[d]);if(s!==a)for(const d in s)(!e||!Lt(e,d))&&(delete s[d],u=!0)}u&&Xs(t,"set","$attrs")}function Gk(t,e,n,r){const[i,s]=t.propsOptions;let o=!1,a;if(e)for(let l in e){if(yu(l))continue;const u=e[l];let c;i&&Lt(i,c=Xr(l))?!s||!s.includes(c)?n[c]=u:(a||(a={}))[c]=u:gg(t.emitsOptions,l)||(!(l in r)||u!==r[l])&&(r[l]=u,o=!0)}if(s){const l=_t(n),u=a||Zt;for(let c=0;c<s.length;c++){const d=s[c];n[d]=k0(i,l,d,u[d],t,!Lt(u,d))}}return o}function k0(t,e,n,r,i,s){const o=t[n];if(o!=null){const a=Lt(o,"default");if(a&&r===void 0){const l=o.default;if(o.type!==Function&&!o.skipFactory&&at(l)){const{propsDefaults:u}=i;if(n in u)r=u[n];else{const c=tl(i);r=u[n]=l.call(null,e),c()}}else r=l}o[0]&&(s&&!a?r=!1:o[1]&&(r===""||r===bi(n))&&(r=!0))}return r}function Yk(t,e,n=!1){const r=e.propsCache,i=r.get(t);if(i)return i;const s=t.props,o={},a=[];let l=!1;if(!at(t)){const c=d=>{l=!0;const[f,h]=Yk(d,e,!0);En(o,f),h&&a.push(...h)};!n&&e.mixins.length&&e.mixins.forEach(c),t.extends&&c(t.extends),t.mixins&&t.mixins.forEach(c)}if(!s&&!l)return sn(t)&&r.set(t,gu),gu;if(ze(s))for(let c=0;c<s.length;c++){const d=Xr(s[c]);TS(d)&&(o[d]=Zt)}else if(s)for(const c in s){const d=Xr(c);if(TS(d)){const f=s[c],h=o[d]=ze(f)||at(f)?{type:f}:En({},f);if(h){const p=IS(Boolean,h.type),m=IS(String,h.type);h[0]=p>-1,h[1]=m<0||p<m,(p>-1||Lt(h,"default"))&&a.push(d)}}}const u=[o,a];return sn(t)&&r.set(t,u),u}function TS(t){return t[0]!=="$"&&!yu(t)}function SS(t){return t===null?"null":typeof t=="function"?t.name||"":typeof t=="object"&&t.constructor&&t.constructor.name||""}function ES(t,e){return SS(t)===SS(e)}function IS(t,e){return ze(e)?e.findIndex(n=>ES(n,t)):at(e)&&ES(e,t)?0:-1}const qk=t=>t[0]==="_"||t==="$stable",a1=t=>ze(t)?t.map(yi):[yi(t)],jF=(t,e,n)=>{if(e._n)return e;const r=ce((...i)=>a1(e(...i)),n);return r._c=!1,r},Xk=(t,e,n)=>{const r=t._ctx;for(const i in t){if(qk(i))continue;const s=t[i];if(at(s))e[i]=jF(i,s,r);else if(s!=null){const o=a1(s);e[i]=()=>o}}},Qk=(t,e)=>{const n=a1(e);t.slots.default=()=>n},HF=(t,e)=>{if(t.vnode.shapeFlag&32){const n=e._;n?(t.slots=_t(e),Kp(e,"_",n)):Xk(e,t.slots={})}else t.slots={},e&&Qk(t,e);Kp(t.slots,_g,1)},WF=(t,e,n)=>{const{vnode:r,slots:i}=t;let s=!0,o=Zt;if(r.shapeFlag&32){const a=e._;a?n&&a===1?s=!1:(En(i,e),!n&&a===1&&delete i._):(s=!e.$stable,Xk(e,i)),o=e}else e&&(Qk(t,e),o={default:1});if(s)for(const a in i)!qk(a)&&o[a]==null&&delete i[a]};function Qp(t,e,n,r,i=!1){if(ze(t)){t.forEach((f,h)=>Qp(f,e&&(ze(e)?e[h]:e),n,r,i));return}if(Va(r)&&!i)return;const s=r.shapeFlag&4?Tg(r.component)||r.component.proxy:r.el,o=i?null:s,{i:a,r:l}=t,u=e&&e.r,c=a.refs===Zt?a.refs={}:a.refs,d=a.setupState;if(u!=null&&u!==l&&(In(u)?(c[u]=null,Lt(d,u)&&(d[u]=null)):cn(u)&&(u.value=null)),at(l))Qs(l,a,12,[o,c]);else{const f=In(l),h=cn(l);if(f||h){const p=()=>{if(t.f){const m=f?Lt(d,l)?d[l]:c[l]:l.value;i?ze(m)&&Fw(m,s):ze(m)?m.includes(s)||m.push(s):f?(c[l]=[s],Lt(d,l)&&(d[l]=c[l])):(l.value=[s],t.k&&(c[t.k]=l.value))}else f?(c[l]=o,Lt(d,l)&&(d[l]=o)):h&&(l.value=o,t.k&&(c[t.k]=o))};o?(p.id=-1,br(p,n)):p()}}}let vo=!1;const KF=t=>t.namespaceURI.includes("svg")&&t.tagName!=="foreignObject",zF=t=>t.namespaceURI.includes("MathML"),Lh=t=>{if(KF(t))return"svg";if(zF(t))return"mathml"},$h=t=>t.nodeType===8;function GF(t){const{mt:e,p:n,o:{patchProp:r,createText:i,nextSibling:s,parentNode:o,remove:a,insert:l,createComment:u}}=t,c=(_,b)=>{if(!b.hasChildNodes()){n(null,_,b),qp(),b._vnode=_;return}vo=!1,d(b.firstChild,_,null,null,null),qp(),b._vnode=_,vo&&console.error("Hydration completed but contains mismatches.")},d=(_,b,w,T,P,A=!1)=>{const O=$h(_)&&_.data==="[",E=()=>m(_,b,w,T,P,O),{type:M,ref:F,shapeFlag:N,patchFlag:x}=b;let R=_.nodeType;b.el=_,x===-2&&(A=!1,b.dynamicChildren=null);let D=null;switch(M){case Za:R!==3?b.children===""?(l(b.el=i(""),o(_),_),D=_):D=E():(_.data!==b.children&&(vo=!0,_.data=b.children),D=s(_));break;case Fr:v(_)?(D=s(_),y(b.el=_.content.firstChild,_,w)):R!==8||O?D=E():D=s(_);break;case Ba:if(O&&(_=s(_),R=_.nodeType),R===1||R===3){D=_;const B=!b.children.length;for(let G=0;G<b.staticCount;G++)B&&(b.children+=D.nodeType===1?D.outerHTML:D.data),G===b.staticCount-1&&(b.anchor=D),D=s(D);return O?s(D):D}else E();break;case Te:O?D=p(_,b,w,T,P,A):D=E();break;default:if(N&1)(R!==1||b.type.toLowerCase()!==_.tagName.toLowerCase())&&!v(_)?D=E():D=f(_,b,w,T,P,A);else if(N&6){b.slotScopeIds=P;const B=o(_);if(O?D=g(_):$h(_)&&_.data==="teleport start"?D=g(_,_.data,"teleport end"):D=s(_),e(b,B,null,w,T,Lh(B),A),Va(b)){let G;O?(G=J(Te),G.anchor=D?D.previousSibling:B.lastChild):G=_.nodeType===3?Je(""):J("div"),G.el=_,b.component.subTree=G}}else N&64?R!==8?D=E():D=b.type.hydrate(_,b,w,T,P,A,t,h):N&128&&(D=b.type.hydrate(_,b,w,T,Lh(o(_)),P,A,t,d))}return F!=null&&Qp(F,null,T,b),D},f=(_,b,w,T,P,A)=>{A=A||!!b.dynamicChildren;const{type:O,props:E,patchFlag:M,shapeFlag:F,dirs:N,transition:x}=b,R=O==="input"||O==="option";if(R||M!==-1){N&&gs(b,null,w,"created");let D=!1;if(v(_)){D=tP(T,x)&&w&&w.vnode.props&&w.vnode.props.appear;const G=_.content.firstChild;D&&x.beforeEnter(G),y(G,_,w),b.el=_=G}if(F&16&&!(E&&(E.innerHTML||E.textContent))){let G=h(_.firstChild,b,_,w,T,P,A);for(;G;){vo=!0;const $=G;G=G.nextSibling,a($)}}else F&8&&_.textContent!==b.children&&(vo=!0,_.textContent=b.children);if(E)if(R||!A||M&48)for(const G in E)(R&&(G.endsWith("value")||G==="indeterminate")||Vf(G)&&!yu(G)||G[0]===".")&&r(_,G,null,E[G],void 0,void 0,w);else E.onClick&&r(_,"onClick",null,E.onClick,void 0,void 0,w);let B;(B=E&&E.onVnodeBeforeMount)&&si(B,w,b),N&&gs(b,null,w,"beforeMount"),((B=E&&E.onVnodeMounted)||N||D)&&Ik(()=>{B&&si(B,w,b),D&&x.enter(_),N&&gs(b,null,w,"mounted")},T)}return _.nextSibling},h=(_,b,w,T,P,A,O)=>{O=O||!!b.dynamicChildren;const E=b.children,M=E.length;for(let F=0;F<M;F++){const N=O?E[F]:E[F]=yi(E[F]);if(_)_=d(_,N,T,P,A,O);else{if(N.type===Za&&!N.children)continue;vo=!0,n(null,N,w,null,T,P,Lh(w),A)}}return _},p=(_,b,w,T,P,A)=>{const{slotScopeIds:O}=b;O&&(P=P?P.concat(O):O);const E=o(_),M=h(s(_),b,E,w,T,P,A);return M&&$h(M)&&M.data==="]"?s(b.anchor=M):(vo=!0,l(b.anchor=u("]"),E,M),M)},m=(_,b,w,T,P,A)=>{if(vo=!0,b.el=null,A){const M=g(_);for(;;){const F=s(_);if(F&&F!==M)a(F);else break}}const O=s(_),E=o(_);return a(_),n(null,b,E,O,w,T,Lh(E),P),O},g=(_,b="[",w="]")=>{let T=0;for(;_;)if(_=s(_),_&&$h(_)&&(_.data===b&&T++,_.data===w)){if(T===0)return s(_);T--}return _},y=(_,b,w)=>{const T=b.parentNode;T&&T.replaceChild(_,b);let P=w;for(;P;)P.vnode.el===b&&(P.vnode.el=P.subTree.el=_),P=P.parent},v=_=>_.nodeType===1&&_.tagName.toLowerCase()==="template";return[c,d]}const br=Ik;function Jk(t){return eP(t)}function Zk(t){return eP(t,GF)}function eP(t,e){const n=GA();n.__VUE__=!0;const{insert:r,remove:i,patchProp:s,createElement:o,createText:a,createComment:l,setText:u,setElementText:c,parentNode:d,nextSibling:f,setScopeId:h=li,insertStaticContent:p}=t,m=(C,L,H,ae=null,ue=null,Se=null,Ae=void 0,we=null,Ee=!!L.dynamicChildren)=>{if(C===L)return;C&&!Qi(C,L)&&(ae=z(C),te(C,ue,Se,!0),C=null),L.patchFlag===-2&&(Ee=!1,L.dynamicChildren=null);const{type:ye,ref:De,shapeFlag:Be}=L;switch(ye){case Za:g(C,L,H,ae);break;case Fr:y(C,L,H,ae);break;case Ba:C==null&&v(L,H,ae,Ae);break;case Te:F(C,L,H,ae,ue,Se,Ae,we,Ee);break;default:Be&1?w(C,L,H,ae,ue,Se,Ae,we,Ee):Be&6?N(C,L,H,ae,ue,Se,Ae,we,Ee):(Be&64||Be&128)&&ye.process(C,L,H,ae,ue,Se,Ae,we,Ee,fe)}De!=null&&ue&&Qp(De,C&&C.ref,Se,L||C,!L)},g=(C,L,H,ae)=>{if(C==null)r(L.el=a(L.children),H,ae);else{const ue=L.el=C.el;L.children!==C.children&&u(ue,L.children)}},y=(C,L,H,ae)=>{C==null?r(L.el=l(L.children||""),H,ae):L.el=C.el},v=(C,L,H,ae)=>{[C.el,C.anchor]=p(C.children,L,H,ae,C.el,C.anchor)},_=({el:C,anchor:L},H,ae)=>{let ue;for(;C&&C!==L;)ue=f(C),r(C,H,ae),C=ue;r(L,H,ae)},b=({el:C,anchor:L})=>{let H;for(;C&&C!==L;)H=f(C),i(C),C=H;i(L)},w=(C,L,H,ae,ue,Se,Ae,we,Ee)=>{L.type==="svg"?Ae="svg":L.type==="math"&&(Ae="mathml"),C==null?T(L,H,ae,ue,Se,Ae,we,Ee):O(C,L,ue,Se,Ae,we,Ee)},T=(C,L,H,ae,ue,Se,Ae,we)=>{let Ee,ye;const{props:De,shapeFlag:Be,transition:Ke,dirs:et}=C;if(Ee=C.el=o(C.type,Se,De&&De.is,De),Be&8?c(Ee,C.children):Be&16&&A(C.children,Ee,null,ae,ue,Hv(C,Se),Ae,we),et&&gs(C,null,ae,"created"),P(Ee,C,C.scopeId,Ae,ae),De){for(const q in De)q!=="value"&&!yu(q)&&s(Ee,q,null,De[q],Se,C.children,ae,ue,j);"value"in De&&s(Ee,"value",null,De.value,Se),(ye=De.onVnodeBeforeMount)&&si(ye,ae,C)}et&&gs(C,null,ae,"beforeMount");const lt=tP(ue,Ke);lt&&Ke.beforeEnter(Ee),r(Ee,L,H),((ye=De&&De.onVnodeMounted)||lt||et)&&br(()=>{ye&&si(ye,ae,C),lt&&Ke.enter(Ee),et&&gs(C,null,ae,"mounted")},ue)},P=(C,L,H,ae,ue)=>{if(H&&h(C,H),ae)for(let Se=0;Se<ae.length;Se++)h(C,ae[Se]);if(ue){let Se=ue.subTree;if(L===Se){const Ae=ue.vnode;P(C,Ae,Ae.scopeId,Ae.slotScopeIds,ue.parent)}}},A=(C,L,H,ae,ue,Se,Ae,we,Ee=0)=>{for(let ye=Ee;ye<C.length;ye++){const De=C[ye]=we?ko(C[ye]):yi(C[ye]);m(null,De,L,H,ae,ue,Se,Ae,we)}},O=(C,L,H,ae,ue,Se,Ae)=>{const we=L.el=C.el;let{patchFlag:Ee,dynamicChildren:ye,dirs:De}=L;Ee|=C.patchFlag&16;const Be=C.props||Zt,Ke=L.props||Zt;let et;if(H&&va(H,!1),(et=Ke.onVnodeBeforeUpdate)&&si(et,H,L,C),De&&gs(L,C,H,"beforeUpdate"),H&&va(H,!0),ye?E(C.dynamicChildren,ye,we,H,ae,Hv(L,ue),Se):Ae||G(C,L,we,null,H,ae,Hv(L,ue),Se,!1),Ee>0){if(Ee&16)M(we,L,Be,Ke,H,ae,ue);else if(Ee&2&&Be.class!==Ke.class&&s(we,"class",null,Ke.class,ue),Ee&4&&s(we,"style",Be.style,Ke.style,ue),Ee&8){const lt=L.dynamicProps;for(let q=0;q<lt.length;q++){const U=lt[q],W=Be[U],Q=Ke[U];(Q!==W||U==="value")&&s(we,U,W,Q,ue,C.children,H,ae,j)}}Ee&1&&C.children!==L.children&&c(we,L.children)}else!Ae&&ye==null&&M(we,L,Be,Ke,H,ae,ue);((et=Ke.onVnodeUpdated)||De)&&br(()=>{et&&si(et,H,L,C),De&&gs(L,C,H,"updated")},ae)},E=(C,L,H,ae,ue,Se,Ae)=>{for(let we=0;we<L.length;we++){const Ee=C[we],ye=L[we],De=Ee.el&&(Ee.type===Te||!Qi(Ee,ye)||Ee.shapeFlag&70)?d(Ee.el):H;m(Ee,ye,De,null,ae,ue,Se,Ae,!0)}},M=(C,L,H,ae,ue,Se,Ae)=>{if(H!==ae){if(H!==Zt)for(const we in H)!yu(we)&&!(we in ae)&&s(C,we,H[we],null,Ae,L.children,ue,Se,j);for(const we in ae){if(yu(we))continue;const Ee=ae[we],ye=H[we];Ee!==ye&&we!=="value"&&s(C,we,ye,Ee,Ae,L.children,ue,Se,j)}"value"in ae&&s(C,"value",H.value,ae.value,Ae)}},F=(C,L,H,ae,ue,Se,Ae,we,Ee)=>{const ye=L.el=C?C.el:a(""),De=L.anchor=C?C.anchor:a("");let{patchFlag:Be,dynamicChildren:Ke,slotScopeIds:et}=L;et&&(we=we?we.concat(et):et),C==null?(r(ye,H,ae),r(De,H,ae),A(L.children||[],H,De,ue,Se,Ae,we,Ee)):Be>0&&Be&64&&Ke&&C.dynamicChildren?(E(C.dynamicChildren,Ke,H,ue,Se,Ae,we),(L.key!=null||ue&&L===ue.subTree)&&l1(C,L,!0)):G(C,L,H,De,ue,Se,Ae,we,Ee)},N=(C,L,H,ae,ue,Se,Ae,we,Ee)=>{L.slotScopeIds=we,C==null?L.shapeFlag&512?ue.ctx.activate(L,H,ae,Ae,Ee):x(L,H,ae,ue,Se,Ae,Ee):R(C,L,Ee)},x=(C,L,H,ae,ue,Se,Ae)=>{const we=C.component=aP(C,ae,ue);if(Wf(C)&&(we.ctx.renderer=fe),uP(we),we.asyncDep){if(ue&&ue.registerDep(we,D),!C.el){const Ee=we.subTree=J(Fr);y(null,Ee,L,H)}}else D(we,C,L,H,ue,Se,Ae)},R=(C,L,H)=>{const ae=L.component=C.component;if(iF(C,L,H))if(ae.asyncDep&&!ae.asyncResolved){B(ae,L,H);return}else ae.next=L,Q3(ae.update),ae.effect.dirty=!0,ae.update();else L.el=C.el,ae.vnode=L},D=(C,L,H,ae,ue,Se,Ae)=>{const we=()=>{if(C.isMounted){let{next:De,bu:Be,u:Ke,parent:et,vnode:lt}=C;{const de=nP(C);if(de){De&&(De.el=lt.el,B(C,De,Ae)),de.asyncDep.then(()=>{C.isUnmounted||we()});return}}let q=De,U;va(C,!1),De?(De.el=lt.el,B(C,De,Ae)):De=lt,Be&&bu(Be),(U=De.props&&De.props.onVnodeBeforeUpdate)&&si(U,et,De,lt),va(C,!0);const W=wp(C),Q=C.subTree;C.subTree=W,m(Q,W,d(Q.el),z(Q),C,ue,Se),De.el=W.el,q===null&&Jw(C,W.el),Ke&&br(Ke,ue),(U=De.props&&De.props.onVnodeUpdated)&&br(()=>si(U,et,De,lt),ue)}else{let De;const{el:Be,props:Ke}=L,{bm:et,m:lt,parent:q}=C,U=Va(L);if(va(C,!1),et&&bu(et),!U&&(De=Ke&&Ke.onVnodeBeforeMount)&&si(De,q,L),va(C,!0),Be&&se){const W=()=>{C.subTree=wp(C),se(Be,C.subTree,C,ue,null)};U?L.type.__asyncLoader().then(()=>!C.isUnmounted&&W()):W()}else{const W=C.subTree=wp(C);m(null,W,H,ae,C,ue,Se),L.el=W.el}if(lt&&br(lt,ue),!U&&(De=Ke&&Ke.onVnodeMounted)){const W=L;br(()=>si(De,q,W),ue)}(L.shapeFlag&256||q&&Va(q.vnode)&&q.vnode.shapeFlag&256)&&C.a&&br(C.a,ue),C.isMounted=!0,L=H=ae=null}},Ee=C.effect=new Lu(we,li,()=>mg(ye),C.scope),ye=C.update=()=>{Ee.dirty&&Ee.run()};ye.id=C.uid,va(C,!0),ye()},B=(C,L,H)=>{L.component=C;const ae=C.vnode.props;C.vnode=L,C.next=null,BF(C,L.props,ae,H),WF(C,L.children,H),Tl(),pS(C),Sl()},G=(C,L,H,ae,ue,Se,Ae,we,Ee=!1)=>{const ye=C&&C.children,De=C?C.shapeFlag:0,Be=L.children,{patchFlag:Ke,shapeFlag:et}=L;if(Ke>0){if(Ke&128){I(ye,Be,H,ae,ue,Se,Ae,we,Ee);return}else if(Ke&256){$(ye,Be,H,ae,ue,Se,Ae,we,Ee);return}}et&8?(De&16&&j(ye,ue,Se),Be!==ye&&c(H,Be)):De&16?et&16?I(ye,Be,H,ae,ue,Se,Ae,we,Ee):j(ye,ue,Se,!0):(De&8&&c(H,""),et&16&&A(Be,H,ae,ue,Se,Ae,we,Ee))},$=(C,L,H,ae,ue,Se,Ae,we,Ee)=>{C=C||gu,L=L||gu;const ye=C.length,De=L.length,Be=Math.min(ye,De);let Ke;for(Ke=0;Ke<Be;Ke++){const et=L[Ke]=Ee?ko(L[Ke]):yi(L[Ke]);m(C[Ke],et,H,null,ue,Se,Ae,we,Ee)}ye>De?j(C,ue,Se,!0,!1,Be):A(L,H,ae,ue,Se,Ae,we,Ee,Be)},I=(C,L,H,ae,ue,Se,Ae,we,Ee)=>{let ye=0;const De=L.length;let Be=C.length-1,Ke=De-1;for(;ye<=Be&&ye<=Ke;){const et=C[ye],lt=L[ye]=Ee?ko(L[ye]):yi(L[ye]);if(Qi(et,lt))m(et,lt,H,null,ue,Se,Ae,we,Ee);else break;ye++}for(;ye<=Be&&ye<=Ke;){const et=C[Be],lt=L[Ke]=Ee?ko(L[Ke]):yi(L[Ke]);if(Qi(et,lt))m(et,lt,H,null,ue,Se,Ae,we,Ee);else break;Be--,Ke--}if(ye>Be){if(ye<=Ke){const et=Ke+1,lt=et<De?L[et].el:ae;for(;ye<=Ke;)m(null,L[ye]=Ee?ko(L[ye]):yi(L[ye]),H,lt,ue,Se,Ae,we,Ee),ye++}}else if(ye>Ke)for(;ye<=Be;)te(C[ye],ue,Se,!0),ye++;else{const et=ye,lt=ye,q=new Map;for(ye=lt;ye<=Ke;ye++){const Ce=L[ye]=Ee?ko(L[ye]):yi(L[ye]);Ce.key!=null&&q.set(Ce.key,ye)}let U,W=0;const Q=Ke-lt+1;let de=!1,Me=0;const Ge=new Array(Q);for(ye=0;ye<Q;ye++)Ge[ye]=0;for(ye=et;ye<=Be;ye++){const Ce=C[ye];if(W>=Q){te(Ce,ue,Se,!0);continue}let Pe;if(Ce.key!=null)Pe=q.get(Ce.key);else for(U=lt;U<=Ke;U++)if(Ge[U-lt]===0&&Qi(Ce,L[U])){Pe=U;break}Pe===void 0?te(Ce,ue,Se,!0):(Ge[Pe-lt]=ye+1,Pe>=Me?Me=Pe:de=!0,m(Ce,L[Pe],H,null,ue,Se,Ae,we,Ee),W++)}const pe=de?YF(Ge):gu;for(U=pe.length-1,ye=Q-1;ye>=0;ye--){const Ce=lt+ye,Pe=L[Ce],Ye=Ce+1<De?L[Ce+1].el:ae;Ge[ye]===0?m(null,Pe,H,Ye,ue,Se,Ae,we,Ee):de&&(U<0||ye!==pe[U]?Z(Pe,H,Ye,2):U--)}}},Z=(C,L,H,ae,ue=null)=>{const{el:Se,type:Ae,transition:we,children:Ee,shapeFlag:ye}=C;if(ye&6){Z(C.component.subTree,L,H,ae);return}if(ye&128){C.suspense.move(L,H,ae);return}if(ye&64){Ae.move(C,L,H,fe);return}if(Ae===Te){r(Se,L,H);for(let Be=0;Be<Ee.length;Be++)Z(Ee[Be],L,H,ae);r(C.anchor,L,H);return}if(Ae===Ba){_(C,L,H);return}if(ae!==2&&ye&1&&we)if(ae===0)we.beforeEnter(Se),r(Se,L,H),br(()=>we.enter(Se),ue);else{const{leave:Be,delayLeave:Ke,afterLeave:et}=we,lt=()=>r(Se,L,H),q=()=>{Be(Se,()=>{lt(),et&&et()})};Ke?Ke(Se,lt,q):q()}else r(Se,L,H)},te=(C,L,H,ae=!1,ue=!1)=>{const{type:Se,props:Ae,ref:we,children:Ee,dynamicChildren:ye,shapeFlag:De,patchFlag:Be,dirs:Ke}=C;if(we!=null&&Qp(we,null,H,C,!0),De&256){L.ctx.deactivate(C);return}const et=De&1&&Ke,lt=!Va(C);let q;if(lt&&(q=Ae&&Ae.onVnodeBeforeUnmount)&&si(q,L,C),De&6)ne(C.component,H,ae);else{if(De&128){C.suspense.unmount(H,ae);return}et&&gs(C,null,L,"beforeUnmount"),De&64?C.type.remove(C,L,H,ue,fe,ae):ye&&(Se!==Te||Be>0&&Be&64)?j(ye,L,H,!1,!0):(Se===Te&&Be&384||!ue&&De&16)&&j(Ee,L,H),ae&&me(C)}(lt&&(q=Ae&&Ae.onVnodeUnmounted)||et)&&br(()=>{q&&si(q,L,C),et&&gs(C,null,L,"unmounted")},H)},me=C=>{const{type:L,el:H,anchor:ae,transition:ue}=C;if(L===Te){ve(H,ae);return}if(L===Ba){b(C);return}const Se=()=>{i(H),ue&&!ue.persisted&&ue.afterLeave&&ue.afterLeave()};if(C.shapeFlag&1&&ue&&!ue.persisted){const{leave:Ae,delayLeave:we}=ue,Ee=()=>Ae(H,Se);we?we(C.el,Se,Ee):Ee()}else Se()},ve=(C,L)=>{let H;for(;C!==L;)H=f(C),i(C),C=H;i(L)},ne=(C,L,H)=>{const{bum:ae,scope:ue,update:Se,subTree:Ae,um:we}=C;ae&&bu(ae),ue.stop(),Se&&(Se.active=!1,te(Ae,C,L,H)),we&&br(we,L),br(()=>{C.isUnmounted=!0},L),L&&L.pendingBranch&&!L.isUnmounted&&C.asyncDep&&!C.asyncResolved&&C.suspenseId===L.pendingId&&(L.deps--,L.deps===0&&L.resolve())},j=(C,L,H,ae=!1,ue=!1,Se=0)=>{for(let Ae=Se;Ae<C.length;Ae++)te(C[Ae],L,H,ae,ue)},z=C=>C.shapeFlag&6?z(C.component.subTree):C.shapeFlag&128?C.suspense.next():f(C.anchor||C.el);let oe=!1;const X=(C,L,H)=>{C==null?L._vnode&&te(L._vnode,null,null,!0):m(L._vnode||null,C,L,null,null,null,H),oe||(oe=!0,pS(),qp(),oe=!1),L._vnode=C},fe={p:m,um:te,m:Z,r:me,mt:x,mc:A,pc:G,pbc:E,n:z,o:t};let be,se;return e&&([be,se]=e(fe)),{render:X,hydrate:be,createApp:UF(X,be)}}function Hv({type:t,props:e},n){return n==="svg"&&t==="foreignObject"||n==="mathml"&&t==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:n}function va({effect:t,update:e},n){t.allowRecurse=e.allowRecurse=n}function tP(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function l1(t,e,n=!1){const r=t.children,i=e.children;if(ze(r)&&ze(i))for(let s=0;s<r.length;s++){const o=r[s];let a=i[s];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=i[s]=ko(i[s]),a.el=o.el),n||l1(o,a)),a.type===Za&&(a.el=o.el)}}function YF(t){const e=t.slice(),n=[0];let r,i,s,o,a;const l=t.length;for(r=0;r<l;r++){const u=t[r];if(u!==0){if(i=n[n.length-1],t[i]<u){e[r]=i,n.push(r);continue}for(s=0,o=n.length-1;s<o;)a=s+o>>1,t[n[a]]<u?s=a+1:o=a;u<t[n[s]]&&(s>0&&(e[r]=n[s-1]),n[s]=r)}}for(s=n.length,o=n[s-1];s-- >0;)n[s]=o,o=e[o];return n}function nP(t){const e=t.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:nP(e)}const qF=t=>t.__isTeleport,fd=t=>t&&(t.disabled||t.disabled===""),CS=t=>typeof SVGElement<"u"&&t instanceof SVGElement,OS=t=>typeof MathMLElement=="function"&&t instanceof MathMLElement,P0=(t,e)=>{const n=t&&t.to;return In(n)?e?e(n):null:n},XF={name:"Teleport",__isTeleport:!0,process(t,e,n,r,i,s,o,a,l,u){const{mc:c,pc:d,pbc:f,o:{insert:h,querySelector:p,createText:m,createComment:g}}=u,y=fd(e.props);let{shapeFlag:v,children:_,dynamicChildren:b}=e;if(t==null){const w=e.el=m(""),T=e.anchor=m("");h(w,n,r),h(T,n,r);const P=e.target=P0(e.props,p),A=e.targetAnchor=m("");P&&(h(A,P),o==="svg"||CS(P)?o="svg":(o==="mathml"||OS(P))&&(o="mathml"));const O=(E,M)=>{v&16&&c(_,E,M,i,s,o,a,l)};y?O(n,T):P&&O(P,A)}else{e.el=t.el;const w=e.anchor=t.anchor,T=e.target=t.target,P=e.targetAnchor=t.targetAnchor,A=fd(t.props),O=A?n:T,E=A?w:P;if(o==="svg"||CS(T)?o="svg":(o==="mathml"||OS(T))&&(o="mathml"),b?(f(t.dynamicChildren,b,O,i,s,o,a),l1(t,e,!0)):l||d(t,e,O,E,i,s,o,a,!1),y)A?e.props&&t.props&&e.props.to!==t.props.to&&(e.props.to=t.props.to):Fh(e,n,w,u,1);else if((e.props&&e.props.to)!==(t.props&&t.props.to)){const M=e.target=P0(e.props,p);M&&Fh(e,M,null,u,0)}else A&&Fh(e,T,P,u,1)}rP(e)},remove(t,e,n,r,{um:i,o:{remove:s}},o){const{shapeFlag:a,children:l,anchor:u,targetAnchor:c,target:d,props:f}=t;if(d&&s(c),o&&s(u),a&16){const h=o||!fd(f);for(let p=0;p<l.length;p++){const m=l[p];i(m,e,n,h,!!m.dynamicChildren)}}},move:Fh,hydrate:QF};function Fh(t,e,n,{o:{insert:r},m:i},s=2){s===0&&r(t.targetAnchor,e,n);const{el:o,anchor:a,shapeFlag:l,children:u,props:c}=t,d=s===2;if(d&&r(o,e,n),(!d||fd(c))&&l&16)for(let f=0;f<u.length;f++)i(u[f],e,n,2);d&&r(a,e,n)}function QF(t,e,n,r,i,s,{o:{nextSibling:o,parentNode:a,querySelector:l}},u){const c=e.target=P0(e.props,l);if(c){const d=c._lpa||c.firstChild;if(e.shapeFlag&16)if(fd(e.props))e.anchor=u(o(t),e,a(t),n,r,i,s),e.targetAnchor=d;else{e.anchor=o(t);let f=d;for(;f;)if(f=o(f),f&&f.nodeType===8&&f.data==="teleport anchor"){e.targetAnchor=f,c._lpa=e.targetAnchor&&o(e.targetAnchor);break}u(d,e,c,n,r,i,s)}rP(e)}return e.anchor&&o(e.anchor)}const u1=XF;function rP(t){const e=t.ctx;if(e&&e.ut){let n=t.children[0].el;for(;n&&n!==t.targetAnchor;)n.nodeType===1&&n.setAttribute("data-v-owner",e.uid),n=n.nextSibling;e.ut()}}const Te=Symbol.for("v-fgt"),Za=Symbol.for("v-txt"),Fr=Symbol.for("v-cmt"),Ba=Symbol.for("v-stc"),hd=[];let ui=null;function S(t=!1){hd.push(ui=t?null:[])}function iP(){hd.pop(),ui=hd[hd.length-1]||null}let el=1;function x0(t){el+=t}function sP(t){return t.dynamicChildren=el>0?ui||gu:null,iP(),el>0&&ui&&ui.push(t),t}function V(t,e,n,r,i,s){return sP(K(t,e,n,r,i,s,!0))}function ie(t,e,n,r,i){return sP(J(t,e,n,r,i,!0))}function ea(t){return t?t.__v_isVNode===!0:!1}function Qi(t,e){return t.type===e.type&&t.key===e.key}function JF(t){}const _g="__vInternal",oP=({key:t})=>t??null,_p=({ref:t,ref_key:e,ref_for:n})=>(typeof t=="number"&&(t=""+t),t!=null?In(t)||cn(t)||at(t)?{i:Qn,r:t,k:e,f:!!n}:t:null);function K(t,e=null,n=null,r=0,i=null,s=t===Te?0:1,o=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&oP(e),ref:e&&_p(e),scopeId:vg,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:s,patchFlag:r,dynamicProps:i,dynamicChildren:null,appContext:null,ctx:Qn};return a?(c1(l,n),s&128&&t.normalize(l)):n&&(l.shapeFlag|=In(n)?8:16),el>0&&!o&&ui&&(l.patchFlag>0||s&6)&&l.patchFlag!==32&&ui.push(l),l}const J=ZF;function ZF(t,e=null,n=null,r=0,i=null,s=!1){if((!t||t===Sk)&&(t=Fr),ea(t)){const a=Ns(t,e,!0);return n&&c1(a,n),el>0&&!s&&ui&&(a.shapeFlag&6?ui[ui.indexOf(t)]=a:ui.push(a)),a.patchFlag|=-2,a}if(a4(t)&&(t=t.__vccOpts),e){e=rr(e);let{class:a,style:l}=e;a&&!In(a)&&(e.class=ke(a)),sn(l)&&(Gw(l)&&!ze(l)&&(l=En({},l)),e.style=nr(l))}const o=In(t)?1:Ek(t)?128:qF(t)?64:sn(t)?4:at(t)?2:0;return K(t,e,n,r,i,o,s,!0)}function rr(t){return t?Gw(t)||_g in t?En({},t):t:null}function Ns(t,e,n=!1){const{props:r,ref:i,patchFlag:s,children:o}=t,a=e?le(r||{},e):r;return{__v_isVNode:!0,__v_skip:!0,type:t.type,props:a,key:a&&oP(a),ref:e&&e.ref?n&&i?ze(i)?i.concat(_p(e)):[i,_p(e)]:_p(e):i,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:o,target:t.target,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==Te?s===-1?16:s|16:s,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:t.transition,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&Ns(t.ssContent),ssFallback:t.ssFallback&&Ns(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce}}function Je(t=" ",e=0){return J(Za,null,t,e)}function e4(t,e){const n=J(Ba,null,t);return n.staticCount=e,n}function Y(t="",e=!1){return e?(S(),ie(Fr,null,t)):J(Fr,null,t)}function yi(t){return t==null||typeof t=="boolean"?J(Fr):ze(t)?J(Te,null,t.slice()):typeof t=="object"?ko(t):J(Za,null,String(t))}function ko(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:Ns(t)}function c1(t,e){let n=0;const{shapeFlag:r}=t;if(e==null)e=null;else if(ze(e))n=16;else if(typeof e=="object")if(r&65){const i=e.default;i&&(i._c&&(i._d=!1),c1(t,i()),i._c&&(i._d=!0));return}else{n=32;const i=e._;!i&&!(_g in e)?e._ctx=Qn:i===3&&Qn&&(Qn.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else at(e)?(e={default:e,_ctx:Qn},n=32):(e=String(e),r&64?(n=16,e=[Je(e)]):n=8);t.children=e,t.shapeFlag|=n}function le(...t){const e={};for(let n=0;n<t.length;n++){const r=t[n];for(const i in r)if(i==="class")e.class!==r.class&&(e.class=ke([e.class,r.class]));else if(i==="style")e.style=nr([e.style,r.style]);else if(Vf(i)){const s=e[i],o=r[i];o&&s!==o&&!(ze(s)&&s.includes(o))&&(e[i]=s?[].concat(s,o):o)}else i!==""&&(e[i]=r[i])}return e}function si(t,e,n,r=null){Si(t,e,7,[n,r])}const t4=Kk();let n4=0;function aP(t,e,n){const r=t.type,i=(e?e.appContext:t.appContext)||t4,s={uid:n4++,vnode:t,type:r,parent:e,appContext:i,root:null,next:null,subTree:null,effect:null,update:null,scope:new Bw(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(i.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Yk(r,i),emitsOptions:wk(r,i),emit:null,emitted:null,propsDefaults:Zt,inheritAttrs:r.inheritAttrs,ctx:Zt,data:Zt,props:Zt,attrs:Zt,slots:Zt,refs:Zt,setupState:Zt,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return s.ctx={_:s},s.root=e?e.root:s,s.emit=Z3.bind(null,s),t.ce&&t.ce(s),s}let er=null;const hs=()=>er||Qn;let Jp,D0;{const t=GA(),e=(n,r)=>{let i;return(i=t[n])||(i=t[n]=[]),i.push(r),s=>{i.length>1?i.forEach(o=>o(s)):i[0](s)}};Jp=e("__VUE_INSTANCE_SETTERS__",n=>er=n),D0=e("__VUE_SSR_SETTERS__",n=>zf=n)}const tl=t=>{const e=er;return Jp(t),t.scope.on(),()=>{t.scope.off(),Jp(e)}},R0=()=>{er&&er.scope.off(),Jp(null)};function lP(t){return t.vnode.shapeFlag&4}let zf=!1;function uP(t,e=!1){e&&D0(e);const{props:n,children:r}=t.vnode,i=lP(t);VF(t,n,i,e),HF(t,r);const s=i?r4(t,e):void 0;return e&&D0(!1),s}function r4(t,e){const n=t.type;t.accessCache=Object.create(null),t.proxy=jf(new Proxy(t.ctx,C0));const{setup:r}=n;if(r){const i=t.setupContext=r.length>1?dP(t):null,s=tl(t);Tl();const o=Qs(r,t,0,[t.props,i]);if(Sl(),s(),Uw(o)){if(o.then(R0,R0),e)return o.then(a=>{N0(t,a,e)}).catch(a=>{El(a,t,0)});t.asyncDep=o}else N0(t,o,e)}else cP(t,e)}function N0(t,e,n){at(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:sn(e)&&(t.setupState=Xw(e)),cP(t,n)}let Zp,M0;function i4(t){Zp=t,M0=e=>{e.render._rc&&(e.withProxy=new Proxy(e.ctx,wF))}}const s4=()=>!Zp;function cP(t,e,n){const r=t.type;if(!t.render){if(!e&&Zp&&!r.render){const i=r.template||o1(t).template;if(i){const{isCustomElement:s,compilerOptions:o}=t.appContext.config,{delimiters:a,compilerOptions:l}=r,u=En(En({isCustomElement:s,delimiters:a},o),l);r.render=Zp(i,u)}}t.render=r.render||li,M0&&M0(t)}{const i=tl(t);Tl();try{RF(t)}finally{Sl(),i()}}}function o4(t){return t.attrsProxy||(t.attrsProxy=new Proxy(t.attrs,{get(e,n){return hi(t,"get","$attrs"),e[n]}}))}function dP(t){const e=n=>{t.exposed=n||{}};return{get attrs(){return o4(t)},slots:t.slots,emit:t.emit,expose:e}}function Tg(t){if(t.exposed)return t.exposeProxy||(t.exposeProxy=new Proxy(Xw(jf(t.exposed)),{get(e,n){if(n in e)return e[n];if(n in dd)return dd[n](t)},has(e,n){return n in e||n in dd}}))}function L0(t,e=!0){return at(t)?t.displayName||t.name:t.name||e&&t.__name}function a4(t){return at(t)&&"__vccOpts"in t}const ee=(t,e)=>L3(t,e,zf);function l4(t,e,n=Zt){const r=hs(),i=Xr(e),s=bi(e),o=hk((l,u)=>{let c;return Pk(()=>{const d=t[e];ls(c,d)&&(c=d,u())}),{get(){return l(),n.get?n.get(c):c},set(d){const f=r.vnode.props;!(f&&(e in f||i in f||s in f)&&(`onUpdate:${e}`in f||`onUpdate:${i}`in f||`onUpdate:${s}`in f))&&ls(d,c)&&(c=d,u()),r.emit(`update:${e}`,n.set?n.set(d):d)}}}),a=e==="modelValue"?"modelModifiers":`${e}Modifiers`;return o[Symbol.iterator]=()=>{let l=0;return{next(){return l<2?{value:l++?t[a]||{}:o,done:!1}:{done:!0}}}},o}function nl(t,e,n){const r=arguments.length;return r===2?sn(e)&&!ze(e)?ea(e)?J(t,null,[e]):J(t,e):J(t,null,e):(r>3?n=Array.prototype.slice.call(arguments,2):r===3&&ea(n)&&(n=[n]),J(t,e,n))}function u4(){}function c4(t,e,n,r){const i=n[r];if(i&&fP(i,t))return i;const s=e();return s.memo=t.slice(),n[r]=s}function fP(t,e){const n=t.memo;if(n.length!=e.length)return!1;for(let r=0;r<n.length;r++)if(ls(n[r],e[r]))return!1;return el>0&&ui&&ui.push(t),!0}const hP="3.4.21",d4=li,f4=Y3,h4=Xl,p4=bk,m4={createComponentInstance:aP,setupComponent:uP,renderComponentRoot:wp,setCurrentRenderingInstance:Kd,isVNode:ea,normalizeVNode:yi},g4=m4,v4=null,y4=null,b4=null;/**
* @vue/runtime-dom v3.4.21
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const w4="http://www.w3.org/2000/svg",_4="http://www.w3.org/1998/Math/MathML",Po=typeof document<"u"?document:null,AS=Po&&Po.createElement("template"),T4={insert:(t,e,n)=>{e.insertBefore(t,n||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,n,r)=>{const i=e==="svg"?Po.createElementNS(w4,t):e==="mathml"?Po.createElementNS(_4,t):Po.createElement(t,n?{is:n}:void 0);return t==="select"&&r&&r.multiple!=null&&i.setAttribute("multiple",r.multiple),i},createText:t=>Po.createTextNode(t),createComment:t=>Po.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>Po.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,n,r,i,s){const o=n?n.previousSibling:e.lastChild;if(i&&(i===s||i.nextSibling))for(;e.insertBefore(i.cloneNode(!0),n),!(i===s||!(i=i.nextSibling)););else{AS.innerHTML=r==="svg"?`<svg>${t}</svg>`:r==="mathml"?`<math>${t}</math>`:t;const a=AS.content;if(r==="svg"||r==="mathml"){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}e.insertBefore(a,n)}return[o?o.nextSibling:e.firstChild,n?n.previousSibling:e.lastChild]}},yo="transition",Oc="animation",Uu=Symbol("_vtc"),Hi=(t,{slots:e})=>nl(Dk,mP(t),e);Hi.displayName="Transition";const pP={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},S4=Hi.props=En({},i1,pP),ya=(t,e=[])=>{ze(t)?t.forEach(n=>n(...e)):t&&t(...e)},kS=t=>t?ze(t)?t.some(e=>e.length>1):t.length>1:!1;function mP(t){const e={};for(const F in t)F in pP||(e[F]=t[F]);if(t.css===!1)return e;const{name:n="v",type:r,duration:i,enterFromClass:s=`${n}-enter-from`,enterActiveClass:o=`${n}-enter-active`,enterToClass:a=`${n}-enter-to`,appearFromClass:l=s,appearActiveClass:u=o,appearToClass:c=a,leaveFromClass:d=`${n}-leave-from`,leaveActiveClass:f=`${n}-leave-active`,leaveToClass:h=`${n}-leave-to`}=t,p=E4(i),m=p&&p[0],g=p&&p[1],{onBeforeEnter:y,onEnter:v,onEnterCancelled:_,onLeave:b,onLeaveCancelled:w,onBeforeAppear:T=y,onAppear:P=v,onAppearCancelled:A=_}=e,O=(F,N,x)=>{Eo(F,N?c:a),Eo(F,N?u:o),x&&x()},E=(F,N)=>{F._isLeaving=!1,Eo(F,d),Eo(F,h),Eo(F,f),N&&N()},M=F=>(N,x)=>{const R=F?P:v,D=()=>O(N,F,x);ya(R,[N,D]),PS(()=>{Eo(N,F?l:s),Bs(N,F?c:a),kS(R)||xS(N,r,m,D)})};return En(e,{onBeforeEnter(F){ya(y,[F]),Bs(F,s),Bs(F,o)},onBeforeAppear(F){ya(T,[F]),Bs(F,l),Bs(F,u)},onEnter:M(!1),onAppear:M(!0),onLeave(F,N){F._isLeaving=!0;const x=()=>E(F,N);Bs(F,d),vP(),Bs(F,f),PS(()=>{F._isLeaving&&(Eo(F,d),Bs(F,h),kS(b)||xS(F,r,g,x))}),ya(b,[F,x])},onEnterCancelled(F){O(F,!1),ya(_,[F])},onAppearCancelled(F){O(F,!0),ya(A,[F])},onLeaveCancelled(F){E(F),ya(w,[F])}})}function E4(t){if(t==null)return null;if(sn(t))return[Wv(t.enter),Wv(t.leave)];{const e=Wv(t);return[e,e]}}function Wv(t){return zp(t)}function Bs(t,e){e.split(/\s+/).forEach(n=>n&&t.classList.add(n)),(t[Uu]||(t[Uu]=new Set)).add(e)}function Eo(t,e){e.split(/\s+/).forEach(r=>r&&t.classList.remove(r));const n=t[Uu];n&&(n.delete(e),n.size||(t[Uu]=void 0))}function PS(t){requestAnimationFrame(()=>{requestAnimationFrame(t)})}let I4=0;function xS(t,e,n,r){const i=t._endId=++I4,s=()=>{i===t._endId&&r()};if(n)return setTimeout(s,n);const{type:o,timeout:a,propCount:l}=gP(t,e);if(!o)return r();const u=o+"end";let c=0;const d=()=>{t.removeEventListener(u,f),s()},f=h=>{h.target===t&&++c>=l&&d()};setTimeout(()=>{c<l&&d()},a+1),t.addEventListener(u,f)}function gP(t,e){const n=window.getComputedStyle(t),r=p=>(n[p]||"").split(", "),i=r(`${yo}Delay`),s=r(`${yo}Duration`),o=DS(i,s),a=r(`${Oc}Delay`),l=r(`${Oc}Duration`),u=DS(a,l);let c=null,d=0,f=0;e===yo?o>0&&(c=yo,d=o,f=s.length):e===Oc?u>0&&(c=Oc,d=u,f=l.length):(d=Math.max(o,u),c=d>0?o>u?yo:Oc:null,f=c?c===yo?s.length:l.length:0);const h=c===yo&&/\b(transform|all)(,|$)/.test(r(`${yo}Property`).toString());return{type:c,timeout:d,propCount:f,hasTransform:h}}function DS(t,e){for(;t.length<e.length;)t=t.concat(t);return Math.max(...e.map((n,r)=>RS(n)+RS(t[r])))}function RS(t){return t==="auto"?0:Number(t.slice(0,-1).replace(",","."))*1e3}function vP(){return document.body.offsetHeight}function C4(t,e,n){const r=t[Uu];r&&(e=(e?[e,...r]:[...r]).join(" ")),e==null?t.removeAttribute("class"):n?t.setAttribute("class",e):t.className=e}const em=Symbol("_vod"),yP=Symbol("_vsh"),Js={beforeMount(t,{value:e},{transition:n}){t[em]=t.style.display==="none"?"":t.style.display,n&&e?n.beforeEnter(t):Ac(t,e)},mounted(t,{value:e},{transition:n}){n&&e&&n.enter(t)},updated(t,{value:e,oldValue:n},{transition:r}){!e!=!n&&(r?e?(r.beforeEnter(t),Ac(t,!0),r.enter(t)):r.leave(t,()=>{Ac(t,!1)}):Ac(t,e))},beforeUnmount(t,{value:e}){Ac(t,e)}};function Ac(t,e){t.style.display=e?t[em]:"none",t[yP]=!e}function O4(){Js.getSSRProps=({value:t})=>{if(!t)return{style:{display:"none"}}}}const bP=Symbol("");function A4(t){const e=hs();if(!e)return;const n=e.ut=(i=t(e.proxy))=>{Array.from(document.querySelectorAll(`[data-v-owner="${e.uid}"]`)).forEach(s=>F0(s,i))},r=()=>{const i=t(e.proxy);$0(e.subTree,i),n(i)};kk(r),Gt(()=>{const i=new MutationObserver(r);i.observe(e.subTree.el.parentNode,{childList:!0}),oa(()=>i.disconnect())})}function $0(t,e){if(t.shapeFlag&128){const n=t.suspense;t=n.activeBranch,n.pendingBranch&&!n.isHydrating&&n.effects.push(()=>{$0(n.activeBranch,e)})}for(;t.component;)t=t.component.subTree;if(t.shapeFlag&1&&t.el)F0(t.el,e);else if(t.type===Te)t.children.forEach(n=>$0(n,e));else if(t.type===Ba){let{el:n,anchor:r}=t;for(;n&&(F0(n,e),n!==r);)n=n.nextSibling}}function F0(t,e){if(t.nodeType===1){const n=t.style;let r="";for(const i in e)n.setProperty(`--${i}`,e[i]),r+=`--${i}: ${e[i]};`;n[bP]=r}}const k4=/(^|;)\s*display\s*:/;function P4(t,e,n){const r=t.style,i=In(n);let s=!1;if(n&&!i){if(e)if(In(e))for(const o of e.split(";")){const a=o.slice(0,o.indexOf(":")).trim();n[a]==null&&Tp(r,a,"")}else for(const o in e)n[o]==null&&Tp(r,o,"");for(const o in n)o==="display"&&(s=!0),Tp(r,o,n[o])}else if(i){if(e!==n){const o=r[bP];o&&(n+=";"+o),r.cssText=n,s=k4.test(n)}}else e&&t.removeAttribute("style");em in t&&(t[em]=s?r.display:"",t[yP]&&(r.display="none"))}const NS=/\s*!important$/;function Tp(t,e,n){if(ze(n))n.forEach(r=>Tp(t,e,r));else if(n==null&&(n=""),e.startsWith("--"))t.setProperty(e,n);else{const r=x4(t,e);NS.test(n)?t.setProperty(bi(r),n.replace(NS,""),"important"):t[r]=n}}const MS=["Webkit","Moz","ms"],Kv={};function x4(t,e){const n=Kv[e];if(n)return n;let r=Xr(e);if(r!=="filter"&&r in t)return Kv[e]=r;r=Bf(r);for(let i=0;i<MS.length;i++){const s=MS[i]+r;if(s in t)return Kv[e]=s}return e}const LS="http://www.w3.org/1999/xlink";function D4(t,e,n,r,i){if(r&&e.startsWith("xlink:"))n==null?t.removeAttributeNS(LS,e.slice(6,e.length)):t.setAttributeNS(LS,e,n);else{const s=d3(e);n==null||s&&!YA(n)?t.removeAttribute(e):t.setAttribute(e,s?"":n)}}function R4(t,e,n,r,i,s,o){if(e==="innerHTML"||e==="textContent"){r&&o(r,i,s),t[e]=n??"";return}const a=t.tagName;if(e==="value"&&a!=="PROGRESS"&&!a.includes("-")){const u=a==="OPTION"?t.getAttribute("value")||"":t.value,c=n??"";(u!==c||!("_value"in t))&&(t.value=c),n==null&&t.removeAttribute(e),t._value=n;return}let l=!1;if(n===""||n==null){const u=typeof t[e];u==="boolean"?n=YA(n):n==null&&u==="string"?(n="",l=!0):u==="number"&&(n=0,l=!0)}try{t[e]=n}catch{}l&&t.removeAttribute(e)}function Hs(t,e,n,r){t.addEventListener(e,n,r)}function N4(t,e,n,r){t.removeEventListener(e,n,r)}const $S=Symbol("_vei");function M4(t,e,n,r,i=null){const s=t[$S]||(t[$S]={}),o=s[e];if(r&&o)o.value=r;else{const[a,l]=L4(e);if(r){const u=s[e]=U4(r,i);Hs(t,a,u,l)}else o&&(N4(t,a,o,l),s[e]=void 0)}}const FS=/(?:Once|Passive|Capture)$/;function L4(t){let e;if(FS.test(t)){e={};let r;for(;r=t.match(FS);)t=t.slice(0,t.length-r[0].length),e[r[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):bi(t.slice(2)),e]}let zv=0;const $4=Promise.resolve(),F4=()=>zv||($4.then(()=>zv=0),zv=Date.now());function U4(t,e){const n=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=n.attached)return;Si(V4(r,n.value),e,5,[r])};return n.value=t,n.attached=F4(),n}function V4(t,e){if(ze(e)){const n=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{n.call(t),t._stopped=!0},e.map(r=>i=>!i._stopped&&r&&r(i))}else return e}const US=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,B4=(t,e,n,r,i,s,o,a,l)=>{const u=i==="svg";e==="class"?C4(t,r,u):e==="style"?P4(t,n,r):Vf(e)?$w(e)||M4(t,e,n,r,o):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):j4(t,e,r,u))?R4(t,e,r,s,o,a,l):(e==="true-value"?t._trueValue=r:e==="false-value"&&(t._falseValue=r),D4(t,e,r,u))};function j4(t,e,n,r){if(r)return!!(e==="innerHTML"||e==="textContent"||e in t&&US(e)&&at(n));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const i=t.tagName;if(i==="IMG"||i==="VIDEO"||i==="CANVAS"||i==="SOURCE")return!1}return US(e)&&In(n)?!1:e in t}/*! #__NO_SIDE_EFFECTS__ */function wP(t,e){const n=Oe(t);class r extends Sg{constructor(s){super(n,s,e)}}return r.def=n,r}/*! #__NO_SIDE_EFFECTS__ */const H4=t=>wP(t,DP),W4=typeof HTMLElement<"u"?HTMLElement:class{};class Sg extends W4{constructor(e,n={},r){super(),this._def=e,this._props=n,this._instance=null,this._connected=!1,this._resolved=!1,this._numberProps=null,this._ob=null,this.shadowRoot&&r?r(this._createVNode(),this.shadowRoot):(this.attachShadow({mode:"open"}),this._def.__asyncLoader||this._resolveProps(this._def))}connectedCallback(){this._connected=!0,this._instance||(this._resolved?this._update():this._resolveDef())}disconnectedCallback(){this._connected=!1,this._ob&&(this._ob.disconnect(),this._ob=null),Wn(()=>{this._connected||(rl(null,this.shadowRoot),this._instance=null)})}_resolveDef(){this._resolved=!0;for(let r=0;r<this.attributes.length;r++)this._setAttr(this.attributes[r].name);this._ob=new MutationObserver(r=>{for(const i of r)this._setAttr(i.attributeName)}),this._ob.observe(this,{attributes:!0});const e=(r,i=!1)=>{const{props:s,styles:o}=r;let a;if(s&&!ze(s))for(const l in s){const u=s[l];(u===Number||u&&u.type===Number)&&(l in this._props&&(this._props[l]=zp(this._props[l])),(a||(a=Object.create(null)))[Xr(l)]=!0)}this._numberProps=a,i&&this._resolveProps(r),this._applyStyles(o),this._update()},n=this._def.__asyncLoader;n?n().then(r=>e(r,!0)):e(this._def)}_resolveProps(e){const{props:n}=e,r=ze(n)?n:Object.keys(n||{});for(const i of Object.keys(this))i[0]!=="_"&&r.includes(i)&&this._setProp(i,this[i],!0,!1);for(const i of r.map(Xr))Object.defineProperty(this,i,{get(){return this._getProp(i)},set(s){this._setProp(i,s)}})}_setAttr(e){let n=this.getAttribute(e);const r=Xr(e);this._numberProps&&this._numberProps[r]&&(n=zp(n)),this._setProp(r,n,!1)}_getProp(e){return this._props[e]}_setProp(e,n,r=!0,i=!0){n!==this._props[e]&&(this._props[e]=n,i&&this._instance&&this._update(),r&&(n===!0?this.setAttribute(bi(e),""):typeof n=="string"||typeof n=="number"?this.setAttribute(bi(e),n+""):n||this.removeAttribute(bi(e))))}_update(){rl(this._createVNode(),this.shadowRoot)}_createVNode(){const e=J(this._def,En({},this._props));return this._instance||(e.ce=n=>{this._instance=n,n.isCE=!0;const r=(s,o)=>{this.dispatchEvent(new CustomEvent(s,{detail:o}))};n.emit=(s,...o)=>{r(s,o),bi(s)!==s&&r(bi(s),o)};let i=this;for(;i=i&&(i.parentNode||i.host);)if(i instanceof Sg){n.parent=i._instance,n.provides=i._instance.provides;break}}),e}_applyStyles(e){e&&e.forEach(n=>{const r=document.createElement("style");r.textContent=n,this.shadowRoot.appendChild(r)})}}function K4(t="$style"){{const e=hs();if(!e)return Zt;const n=e.type.__cssModules;if(!n)return Zt;const r=n[t];return r||Zt}}const _P=new WeakMap,TP=new WeakMap,tm=Symbol("_moveCb"),VS=Symbol("_enterCb"),SP={name:"TransitionGroup",props:En({},S4,{tag:String,moveClass:String}),setup(t,{slots:e}){const n=hs(),r=r1();let i,s;return wg(()=>{if(!i.length)return;const o=t.moveClass||`${t.name||"v"}-move`;if(!X4(i[0].el,n.vnode.el,o))return;i.forEach(G4),i.forEach(Y4);const a=i.filter(q4);vP(),a.forEach(l=>{const u=l.el,c=u.style;Bs(u,o),c.transform=c.webkitTransform=c.transitionDuration="";const d=u[tm]=f=>{f&&f.target!==u||(!f||/transform$/.test(f.propertyName))&&(u.removeEventListener("transitionend",d),u[tm]=null,Eo(u,o))};u.addEventListener("transitionend",d)})}),()=>{const o=_t(t),a=mP(o);let l=o.tag||Te;i=s,s=e.default?yg(e.default()):[];for(let u=0;u<s.length;u++){const c=s[u];c.key!=null&&Ja(c,Fu(c,a,r,n))}if(i)for(let u=0;u<i.length;u++){const c=i[u];Ja(c,Fu(c,a,r,n)),_P.set(c,c.el.getBoundingClientRect())}return J(l,null,s)}}},z4=t=>delete t.mode;SP.props;const EP=SP;function G4(t){const e=t.el;e[tm]&&e[tm](),e[VS]&&e[VS]()}function Y4(t){TP.set(t,t.el.getBoundingClientRect())}function q4(t){const e=_P.get(t),n=TP.get(t),r=e.left-n.left,i=e.top-n.top;if(r||i){const s=t.el.style;return s.transform=s.webkitTransform=`translate(${r}px,${i}px)`,s.transitionDuration="0s",t}}function X4(t,e,n){const r=t.cloneNode(),i=t[Uu];i&&i.forEach(a=>{a.split(/\s+/).forEach(l=>l&&r.classList.remove(l))}),n.split(/\s+/).forEach(a=>a&&r.classList.add(a)),r.style.display="none";const s=e.nodeType===1?e:e.parentNode;s.appendChild(r);const{hasTransform:o}=gP(r);return s.removeChild(r),o}const ta=t=>{const e=t.props["onUpdate:modelValue"]||!1;return ze(e)?n=>bu(e,n):e};function Q4(t){t.target.composing=!0}function BS(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const Fi=Symbol("_assign"),nm={created(t,{modifiers:{lazy:e,trim:n,number:r}},i){t[Fi]=ta(i);const s=r||i.props&&i.props.type==="number";Hs(t,e?"change":"input",o=>{if(o.target.composing)return;let a=t.value;n&&(a=a.trim()),s&&(a=Vd(a)),t[Fi](a)}),n&&Hs(t,"change",()=>{t.value=t.value.trim()}),e||(Hs(t,"compositionstart",Q4),Hs(t,"compositionend",BS),Hs(t,"change",BS))},mounted(t,{value:e}){t.value=e??""},beforeUpdate(t,{value:e,modifiers:{lazy:n,trim:r,number:i}},s){if(t[Fi]=ta(s),t.composing)return;const o=i||t.type==="number"?Vd(t.value):t.value,a=e??"";o!==a&&(document.activeElement===t&&t.type!=="range"&&(n||r&&t.value.trim()===a)||(t.value=a))}},d1={deep:!0,created(t,e,n){t[Fi]=ta(n),Hs(t,"change",()=>{const r=t._modelValue,i=Vu(t),s=t.checked,o=t[Fi];if(ze(r)){const a=lg(r,i),l=a!==-1;if(s&&!l)o(r.concat(i));else if(!s&&l){const u=[...r];u.splice(a,1),o(u)}}else if(_l(r)){const a=new Set(r);s?a.add(i):a.delete(i),o(a)}else o(CP(t,s))})},mounted:jS,beforeUpdate(t,e,n){t[Fi]=ta(n),jS(t,e,n)}};function jS(t,{value:e,oldValue:n},r){t._modelValue=e,ze(e)?t.checked=lg(e,r.props.value)>-1:_l(e)?t.checked=e.has(r.props.value):e!==n&&(t.checked=Zo(e,CP(t,!0)))}const f1={created(t,{value:e},n){t.checked=Zo(e,n.props.value),t[Fi]=ta(n),Hs(t,"change",()=>{t[Fi](Vu(t))})},beforeUpdate(t,{value:e,oldValue:n},r){t[Fi]=ta(r),e!==n&&(t.checked=Zo(e,r.props.value))}},IP={deep:!0,created(t,{value:e,modifiers:{number:n}},r){const i=_l(e);Hs(t,"change",()=>{const s=Array.prototype.filter.call(t.options,o=>o.selected).map(o=>n?Vd(Vu(o)):Vu(o));t[Fi](t.multiple?i?new Set(s):s:s[0]),t._assigning=!0,Wn(()=>{t._assigning=!1})}),t[Fi]=ta(r)},mounted(t,{value:e,modifiers:{number:n}}){HS(t,e,n)},beforeUpdate(t,e,n){t[Fi]=ta(n)},updated(t,{value:e,modifiers:{number:n}}){t._assigning||HS(t,e,n)}};function HS(t,e,n){const r=t.multiple,i=ze(e);if(!(r&&!i&&!_l(e))){for(let s=0,o=t.options.length;s<o;s++){const a=t.options[s],l=Vu(a);if(r)if(i){const u=typeof l;u==="string"||u==="number"?a.selected=e.includes(n?Vd(l):l):a.selected=lg(e,l)>-1}else a.selected=e.has(l);else if(Zo(Vu(a),e)){t.selectedIndex!==s&&(t.selectedIndex=s);return}}!r&&t.selectedIndex!==-1&&(t.selectedIndex=-1)}}function Vu(t){return"_value"in t?t._value:t.value}function CP(t,e){const n=e?"_trueValue":"_falseValue";return n in t?t[n]:e}const OP={created(t,e,n){Uh(t,e,n,null,"created")},mounted(t,e,n){Uh(t,e,n,null,"mounted")},beforeUpdate(t,e,n,r){Uh(t,e,n,r,"beforeUpdate")},updated(t,e,n,r){Uh(t,e,n,r,"updated")}};function AP(t,e){switch(t){case"SELECT":return IP;case"TEXTAREA":return nm;default:switch(e){case"checkbox":return d1;case"radio":return f1;default:return nm}}}function Uh(t,e,n,r,i){const o=AP(t.tagName,n.props&&n.props.type)[i];o&&o(t,e,n,r)}function J4(){nm.getSSRProps=({value:t})=>({value:t}),f1.getSSRProps=({value:t},e)=>{if(e.props&&Zo(e.props.value,t))return{checked:!0}},d1.getSSRProps=({value:t},e)=>{if(ze(t)){if(e.props&&lg(t,e.props.value)>-1)return{checked:!0}}else if(_l(t)){if(e.props&&t.has(e.props.value))return{checked:!0}}else if(t)return{checked:!0}},OP.getSSRProps=(t,e)=>{if(typeof e.type!="string")return;const n=AP(e.type.toUpperCase(),e.props&&e.props.type);if(n.getSSRProps)return n.getSSRProps(t,e)}}const Z4=["ctrl","shift","alt","meta"],e6={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,e)=>Z4.some(n=>t[`${n}Key`]&&!e.includes(n))},St=(t,e)=>{const n=t._withMods||(t._withMods={}),r=e.join(".");return n[r]||(n[r]=(i,...s)=>{for(let o=0;o<e.length;o++){const a=e6[e[o]];if(a&&a(i,e))return}return t(i,...s)})},t6={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},dt=(t,e)=>{const n=t._withKeys||(t._withKeys={}),r=e.join(".");return n[r]||(n[r]=i=>{if(!("key"in i))return;const s=bi(i.key);if(e.some(o=>o===s||t6[o]===s))return t(i)})},kP=En({patchProp:B4},T4);let pd,WS=!1;function PP(){return pd||(pd=Jk(kP))}function xP(){return pd=WS?pd:Zk(kP),WS=!0,pd}const rl=(...t)=>{PP().render(...t)},DP=(...t)=>{xP().hydrate(...t)},RP=(...t)=>{const e=PP().createApp(...t),{mount:n}=e;return e.mount=r=>{const i=MP(r);if(!i)return;const s=e._component;!at(s)&&!s.render&&!s.template&&(s.template=i.innerHTML),i.innerHTML="";const o=n(i,!1,NP(i));return i instanceof Element&&(i.removeAttribute("v-cloak"),i.setAttribute("data-v-app","")),o},e},n6=(...t)=>{const e=xP().createApp(...t),{mount:n}=e;return e.mount=r=>{const i=MP(r);if(i)return n(i,!0,NP(i))},e};function NP(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function MP(t){return In(t)?document.querySelector(t):t}let KS=!1;const r6=()=>{KS||(KS=!0,J4(),O4())};/**
* vue v3.4.21
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const i6=()=>{},s6=Object.freeze(Object.defineProperty({__proto__:null,BaseTransition:Dk,BaseTransitionPropsValidators:i1,Comment:Fr,DeprecationTypes:b4,EffectScope:Bw,ErrorCodes:G3,ErrorTypeStrings:f4,Fragment:Te,KeepAlive:vF,ReactiveEffect:Lu,Static:Ba,Suspense:aF,Teleport:u1,Text:Za,TrackOpTypes:W3,Transition:Hi,TransitionGroup:EP,TriggerOpTypes:K3,VueElement:Sg,assertNumber:z3,callWithAsyncErrorHandling:Si,callWithErrorHandling:Qs,camelize:Xr,capitalize:Bf,cloneVNode:Ns,compatUtils:y4,compile:i6,computed:ee,createApp:RP,createBlock:ie,createCommentVNode:Y,createElementBlock:V,createElementVNode:K,createHydrationRenderer:Zk,createPropsRestProxy:xF,createRenderer:Jk,createSSRApp:n6,createSlots:Jn,createStaticVNode:e4,createTextVNode:Je,createVNode:J,customRef:hk,defineAsyncComponent:mF,defineComponent:Oe,defineCustomElement:wP,defineEmits:TF,defineExpose:SF,defineModel:CF,defineOptions:EF,defineProps:_F,defineSSRCustomElement:H4,defineSlots:IF,devtools:h4,effect:p3,effectScope:ug,getCurrentInstance:hs,getCurrentScope:cg,getTransitionRawChildren:yg,guardReactiveProps:rr,h:nl,handleError:El,hasInjectionContext:zk,hydrate:DP,initCustomFormatter:u4,initDirectivesForSSR:r6,inject:Qr,isMemoSame:fP,isProxy:Gw,isReactive:As,isReadonly:Qa,isRef:cn,isRuntimeOnly:s4,isShallow:Bd,isVNode:ea,markRaw:jf,mergeDefaults:kF,mergeModels:PF,mergeProps:le,nextTick:Wn,normalizeClass:ke,normalizeProps:Pn,normalizeStyle:nr,onActivated:Nk,onBeforeMount:$k,onBeforeUnmount:Kf,onBeforeUpdate:s1,onDeactivated:Mk,onErrorCaptured:Bk,onMounted:Gt,onRenderTracked:Vk,onRenderTriggered:Uk,onScopeDispose:jw,onServerPrefetch:Fk,onUnmounted:oa,onUpdated:wg,openBlock:S,popScopeId:Tk,provide:Eu,proxyRefs:Xw,pushScopeId:_k,queuePostFlushCb:Yp,reactive:xn,readonly:hg,ref:re,registerRuntimeCompiler:i4,render:rl,renderList:st,renderSlot:ge,resolveComponent:Bn,resolveDirective:e1,resolveDynamicComponent:gn,resolveFilter:v4,resolveTransitionHooks:Fu,setBlockTracking:x0,setDevtoolsHook:p4,setTransitionHooks:Ja,shallowReactive:zw,shallowReadonly:M3,shallowRef:dk,ssrContextKey:Ck,ssrUtils:g4,stop:m3,toDisplayString:$e,toHandlerKey:cd,toHandlers:bF,toRaw:_t,toRef:$u,toRefs:pk,toValue:U3,transformVNodeArgs:JF,triggerRef:F3,unref:k,useAttrs:AF,useCssModule:K4,useCssVars:A4,useModel:l4,useSSRContext:Ok,useSlots:aa,useTransitionState:r1,vModelCheckbox:d1,vModelDynamic:OP,vModelRadio:f1,vModelSelect:IP,vModelText:nm,vShow:Js,version:hP,warn:d4,watch:It,watchEffect:Ak,watchPostEffect:kk,watchSyncEffect:Pk,withAsyncContext:DF,withCtx:ce,withDefaults:OF,withDirectives:ns,withKeys:dt,withMemo:c4,withModifiers:St,withScopeId:eF},Symbol.toStringTag,{value:"Module"}));function o6(t){return{all:t=t||new Map,on:function(e,n){var r=t.get(e);r?r.push(n):t.set(e,[n])},off:function(e,n){var r=t.get(e);r&&(n?r.splice(r.indexOf(n)>>>0,1):t.set(e,[]))},emit:function(e,n){var r=t.get(e);r&&r.slice().map(function(i){i(n)}),(r=t.get("*"))&&r.slice().map(function(i){i(e,n)})}}}const rm=o6();let zS=0;const a6=()=>{const t=zS;return zS+=1,t},LP=()=>(t,e)=>{const n={...t,id:a6(),group:t.group||""};return rm.emit("notify",{notification:n,timeout:e}),()=>rm.emit("close",n.id)},$P="context",U0=Oe({__name:"Notification",props:{maxNotifications:{default:10},enter:{default:""},enterFrom:{default:""},enterTo:{default:""},leave:{default:""},leaveFrom:{default:""},leaveTo:{default:""},move:{default:""},moveDelay:{default:""}},emits:["close"],setup(t,{emit:e}){const n=t,r=Qr($P),i=xn({notifications:[],timeouts:{}}),s=ee(()=>i.notifications.filter(f=>f.group===r.group)),o=ee(()=>r.position==="bottom"?[...s.value]:[...s.value].reverse()),a=(f,h)=>{i.timeouts[f]=window.setTimeout(()=>{h!==-1&&l(f)},Math.max(h||3e3,0))},l=f=>{i.notifications.splice(i.notifications.findIndex(h=>h.id===f),1),clearTimeout(i.timeouts[f])},u=({notification:f,timeout:h})=>{i.notifications.length!==n.maxNotifications&&(i.notifications.push(f),a(f.id,h))},c=f=>{e("close"),l(f)},d=(f,h,p)=>{h?clearTimeout(i.timeouts[f]):a(f,p)};return Gt(()=>{rm.on("notify",u),rm.on("close",l)}),(f,h)=>(S(),ie(EP,{"enter-active-class":k(s).length>1?[n.enter,n.moveDelay].join(" "):n.enter,"enter-from-class":n.enterFrom,"enter-to-class":n.enterTo,"leave-active-class":n.leave,"leave-from-class":n.leaveFrom,"leave-to-class":n.leaveTo,"move-class":n.move},{default:ce(()=>[ge(f.$slots,"default",{notifications:k(o),close:c,hovering:d})]),_:3},8,["enter-active-class","enter-from-class","enter-to-class","leave-active-class","leave-from-class","leave-to-class","move-class"]))}}),GS=Oe({__name:"NotificationGroup",props:{group:{default:""},position:{default:"top"}},setup(t){const e=t;return Eu($P,{group:e.group,position:e.position}),(n,r)=>ge(n.$slots,"default",{group:t.group})}});function l6(t){t.config.globalProperties.$notify=LP(),t.component("Notification",U0),t.component("NotificationGroup",GS),t.component("notification",U0),t.component("notificationGroup",GS)}const u6={install:l6},c6=LP(),d6={class:"px-4 py-2 -mx-3"},f6={class:"mx-3"},h6={class:"font-semibold text-white"},p6={class:"text-sm text-gray-100"},Gv=Oe({__name:"Notification",props:{type:{},color:{}},setup(t){return(e,n)=>(S(),ie(k(U0),{enter:"transform ease-out duration-300 transition","enter-from":"translate-y-2 opacity-0 sm:translate-y-0 sm:translate-x-4","enter-to":"translate-y-0 opacity-100 sm:translate-x-0",leave:"transition ease-in duration-500","leave-from":"opacity-100","leave-to":"opacity-0",move:"transition duration-500","move-delay":"delay-300"},{default:ce(({notifications:r})=>[(S(!0),V(Te,null,st(r,i=>(S(),V("div",{key:i.id},[i.type===e.type?(S(),V("div",{key:0,class:ke("flex w-full max-w-sm mx-auto mt-4 overflow-hidden bg-opacity-75 rounded-lg shadow-md "+e.color)},[K("div",d6,[K("div",f6,[K("span",h6,$e(i.title),1),K("p",p6,$e(i.text),1)])])],2)):Y("",!0)]))),128))]),_:1}))}}),m6={class:"fixed inset-0 flex items-end justify-center p-6 px-4 py-6 pointer-events-none"},g6={class:"w-full max-w-sm"},v6=Oe({__name:"NotificationGroup",setup(t){return(e,n)=>{const r=Bn("NotificationGroup",!0);return S(),ie(r,null,{default:ce(()=>[K("div",m6,[K("div",g6,[J(Gv,{type:"error",color:"bg-red-800"}),J(Gv,{type:"warning",color:"bg-yellow-800"}),J(Gv,{type:"success",color:"bg-green-800"})])])]),_:1})}}});/*!
  * vue-router v4.3.0
  * (c) 2024 Eduardo San Martin Morote
  * @license MIT
  */const Ql=typeof document<"u";function y6(t){return t.__esModule||t[Symbol.toStringTag]==="Module"}const Jt=Object.assign;function Yv(t,e){const n={};for(const r in e){const i=e[r];n[r]=us(i)?i.map(t):t(i)}return n}const md=()=>{},us=Array.isArray,FP=/#/g,b6=/&/g,w6=/\//g,_6=/=/g,T6=/\?/g,UP=/\+/g,S6=/%5B/g,E6=/%5D/g,VP=/%5E/g,I6=/%60/g,BP=/%7B/g,C6=/%7C/g,jP=/%7D/g,O6=/%20/g;function h1(t){return encodeURI(""+t).replace(C6,"|").replace(S6,"[").replace(E6,"]")}function A6(t){return h1(t).replace(BP,"{").replace(jP,"}").replace(VP,"^")}function V0(t){return h1(t).replace(UP,"%2B").replace(O6,"+").replace(FP,"%23").replace(b6,"%26").replace(I6,"`").replace(BP,"{").replace(jP,"}").replace(VP,"^")}function k6(t){return V0(t).replace(_6,"%3D")}function P6(t){return h1(t).replace(FP,"%23").replace(T6,"%3F")}function x6(t){return t==null?"":P6(t).replace(w6,"%2F")}function Yd(t){try{return decodeURIComponent(""+t)}catch{}return""+t}const D6=/\/$/,R6=t=>t.replace(D6,"");function qv(t,e,n="/"){let r,i={},s="",o="";const a=e.indexOf("#");let l=e.indexOf("?");return a<l&&a>=0&&(l=-1),l>-1&&(r=e.slice(0,l),s=e.slice(l+1,a>-1?a:e.length),i=t(s)),a>-1&&(r=r||e.slice(0,a),o=e.slice(a,e.length)),r=$6(r??e,n),{fullPath:r+(s&&"?")+s+o,path:r,query:i,hash:Yd(o)}}function N6(t,e){const n=e.query?t(e.query):"";return e.path+(n&&"?")+n+(e.hash||"")}function YS(t,e){return!e||!t.toLowerCase().startsWith(e.toLowerCase())?t:t.slice(e.length)||"/"}function M6(t,e,n){const r=e.matched.length-1,i=n.matched.length-1;return r>-1&&r===i&&Bu(e.matched[r],n.matched[i])&&HP(e.params,n.params)&&t(e.query)===t(n.query)&&e.hash===n.hash}function Bu(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function HP(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(!L6(t[n],e[n]))return!1;return!0}function L6(t,e){return us(t)?qS(t,e):us(e)?qS(e,t):t===e}function qS(t,e){return us(e)?t.length===e.length&&t.every((n,r)=>n===e[r]):t.length===1&&t[0]===e}function $6(t,e){if(t.startsWith("/"))return t;if(!t)return e;const n=e.split("/"),r=t.split("/"),i=r[r.length-1];(i===".."||i===".")&&r.push("");let s=n.length-1,o,a;for(o=0;o<r.length;o++)if(a=r[o],a!==".")if(a==="..")s>1&&s--;else break;return n.slice(0,s).join("/")+"/"+r.slice(o).join("/")}var qd;(function(t){t.pop="pop",t.push="push"})(qd||(qd={}));var gd;(function(t){t.back="back",t.forward="forward",t.unknown=""})(gd||(gd={}));function F6(t){if(!t)if(Ql){const e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),R6(t)}const U6=/^[^#]+#/;function V6(t,e){return t.replace(U6,"#")+e}function B6(t,e){const n=document.documentElement.getBoundingClientRect(),r=t.getBoundingClientRect();return{behavior:e.behavior,left:r.left-n.left-(e.left||0),top:r.top-n.top-(e.top||0)}}const Eg=()=>({left:window.scrollX,top:window.scrollY});function j6(t){let e;if("el"in t){const n=t.el,r=typeof n=="string"&&n.startsWith("#"),i=typeof n=="string"?r?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!i)return;e=B6(i,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.scrollX,e.top!=null?e.top:window.scrollY)}function XS(t,e){return(history.state?history.state.position-e:-1)+t}const B0=new Map;function H6(t,e){B0.set(t,e)}function W6(t){const e=B0.get(t);return B0.delete(t),e}let K6=()=>location.protocol+"//"+location.host;function WP(t,e){const{pathname:n,search:r,hash:i}=e,s=t.indexOf("#");if(s>-1){let a=i.includes(t.slice(s))?t.slice(s).length:1,l=i.slice(a);return l[0]!=="/"&&(l="/"+l),YS(l,"")}return YS(n,t)+r+i}function z6(t,e,n,r){let i=[],s=[],o=null;const a=({state:f})=>{const h=WP(t,location),p=n.value,m=e.value;let g=0;if(f){if(n.value=h,e.value=f,o&&o===p){o=null;return}g=m?f.position-m.position:0}else r(h);i.forEach(y=>{y(n.value,p,{delta:g,type:qd.pop,direction:g?g>0?gd.forward:gd.back:gd.unknown})})};function l(){o=n.value}function u(f){i.push(f);const h=()=>{const p=i.indexOf(f);p>-1&&i.splice(p,1)};return s.push(h),h}function c(){const{history:f}=window;f.state&&f.replaceState(Jt({},f.state,{scroll:Eg()}),"")}function d(){for(const f of s)f();s=[],window.removeEventListener("popstate",a),window.removeEventListener("beforeunload",c)}return window.addEventListener("popstate",a),window.addEventListener("beforeunload",c,{passive:!0}),{pauseListeners:l,listen:u,destroy:d}}function QS(t,e,n,r=!1,i=!1){return{back:t,current:e,forward:n,replaced:r,position:window.history.length,scroll:i?Eg():null}}function G6(t){const{history:e,location:n}=window,r={value:WP(t,n)},i={value:e.state};i.value||s(r.value,{back:null,current:r.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function s(l,u,c){const d=t.indexOf("#"),f=d>-1?(n.host&&document.querySelector("base")?t:t.slice(d))+l:K6()+t+l;try{e[c?"replaceState":"pushState"](u,"",f),i.value=u}catch(h){console.error(h),n[c?"replace":"assign"](f)}}function o(l,u){const c=Jt({},e.state,QS(i.value.back,l,i.value.forward,!0),u,{position:i.value.position});s(l,c,!0),r.value=l}function a(l,u){const c=Jt({},i.value,e.state,{forward:l,scroll:Eg()});s(c.current,c,!0);const d=Jt({},QS(r.value,l,null),{position:c.position+1},u);s(l,d,!1),r.value=l}return{location:r,state:i,push:a,replace:o}}function Y6(t){t=F6(t);const e=G6(t),n=z6(t,e.state,e.location,e.replace);function r(s,o=!0){o||n.pauseListeners(),history.go(s)}const i=Jt({location:"",base:t,go:r,createHref:V6.bind(null,t)},e,n);return Object.defineProperty(i,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(i,"state",{enumerable:!0,get:()=>e.state.value}),i}function q6(t){return typeof t=="string"||t&&typeof t=="object"}function KP(t){return typeof t=="string"||typeof t=="symbol"}const bo={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},zP=Symbol("");var JS;(function(t){t[t.aborted=4]="aborted",t[t.cancelled=8]="cancelled",t[t.duplicated=16]="duplicated"})(JS||(JS={}));function ju(t,e){return Jt(new Error,{type:t,[zP]:!0},e)}function Vs(t,e){return t instanceof Error&&zP in t&&(e==null||!!(t.type&e))}const ZS="[^/]+?",X6={sensitive:!1,strict:!1,start:!0,end:!0},Q6=/[.+*?^${}()[\]/\\]/g;function J6(t,e){const n=Jt({},X6,e),r=[];let i=n.start?"^":"";const s=[];for(const u of t){const c=u.length?[]:[90];n.strict&&!u.length&&(i+="/");for(let d=0;d<u.length;d++){const f=u[d];let h=40+(n.sensitive?.25:0);if(f.type===0)d||(i+="/"),i+=f.value.replace(Q6,"\\$&"),h+=40;else if(f.type===1){const{value:p,repeatable:m,optional:g,regexp:y}=f;s.push({name:p,repeatable:m,optional:g});const v=y||ZS;if(v!==ZS){h+=10;try{new RegExp(`(${v})`)}catch(b){throw new Error(`Invalid custom RegExp for param "${p}" (${v}): `+b.message)}}let _=m?`((?:${v})(?:/(?:${v}))*)`:`(${v})`;d||(_=g&&u.length<2?`(?:/${_})`:"/"+_),g&&(_+="?"),i+=_,h+=20,g&&(h+=-8),m&&(h+=-20),v===".*"&&(h+=-50)}c.push(h)}r.push(c)}if(n.strict&&n.end){const u=r.length-1;r[u][r[u].length-1]+=.7000000000000001}n.strict||(i+="/?"),n.end?i+="$":n.strict&&(i+="(?:/|$)");const o=new RegExp(i,n.sensitive?"":"i");function a(u){const c=u.match(o),d={};if(!c)return null;for(let f=1;f<c.length;f++){const h=c[f]||"",p=s[f-1];d[p.name]=h&&p.repeatable?h.split("/"):h}return d}function l(u){let c="",d=!1;for(const f of t){(!d||!c.endsWith("/"))&&(c+="/"),d=!1;for(const h of f)if(h.type===0)c+=h.value;else if(h.type===1){const{value:p,repeatable:m,optional:g}=h,y=p in u?u[p]:"";if(us(y)&&!m)throw new Error(`Provided param "${p}" is an array but it is not repeatable (* or + modifiers)`);const v=us(y)?y.join("/"):y;if(!v)if(g)f.length<2&&(c.endsWith("/")?c=c.slice(0,-1):d=!0);else throw new Error(`Missing required param "${p}"`);c+=v}}return c||"/"}return{re:o,score:r,keys:s,parse:a,stringify:l}}function Z6(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=e[n]-t[n];if(r)return r;n++}return t.length<e.length?t.length===1&&t[0]===80?-1:1:t.length>e.length?e.length===1&&e[0]===80?1:-1:0}function eU(t,e){let n=0;const r=t.score,i=e.score;for(;n<r.length&&n<i.length;){const s=Z6(r[n],i[n]);if(s)return s;n++}if(Math.abs(i.length-r.length)===1){if(eE(r))return 1;if(eE(i))return-1}return i.length-r.length}function eE(t){const e=t[t.length-1];return t.length>0&&e[e.length-1]<0}const tU={type:0,value:""},nU=/[a-zA-Z0-9_]/;function rU(t){if(!t)return[[]];if(t==="/")return[[tU]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(h){throw new Error(`ERR (${n})/"${u}": ${h}`)}let n=0,r=n;const i=[];let s;function o(){s&&i.push(s),s=[]}let a=0,l,u="",c="";function d(){u&&(n===0?s.push({type:0,value:u}):n===1||n===2||n===3?(s.length>1&&(l==="*"||l==="+")&&e(`A repeatable param (${u}) must be alone in its segment. eg: '/:ids+.`),s.push({type:1,value:u,regexp:c,repeatable:l==="*"||l==="+",optional:l==="*"||l==="?"})):e("Invalid state to consume buffer"),u="")}function f(){u+=l}for(;a<t.length;){if(l=t[a++],l==="\\"&&n!==2){r=n,n=4;continue}switch(n){case 0:l==="/"?(u&&d(),o()):l===":"?(d(),n=1):f();break;case 4:f(),n=r;break;case 1:l==="("?n=2:nU.test(l)?f():(d(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&a--);break;case 2:l===")"?c[c.length-1]=="\\"?c=c.slice(0,-1)+l:n=3:c+=l;break;case 3:d(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&a--,c="";break;default:e("Unknown state");break}}return n===2&&e(`Unfinished custom RegExp for param "${u}"`),d(),o(),i}function iU(t,e,n){const r=J6(rU(t.path),n),i=Jt(r,{record:t,parent:e,children:[],alias:[]});return e&&!i.record.aliasOf==!e.record.aliasOf&&e.children.push(i),i}function sU(t,e){const n=[],r=new Map;e=rE({strict:!1,end:!0,sensitive:!1},e);function i(c){return r.get(c)}function s(c,d,f){const h=!f,p=oU(c);p.aliasOf=f&&f.record;const m=rE(e,c),g=[p];if("alias"in c){const _=typeof c.alias=="string"?[c.alias]:c.alias;for(const b of _)g.push(Jt({},p,{components:f?f.record.components:p.components,path:b,aliasOf:f?f.record:p}))}let y,v;for(const _ of g){const{path:b}=_;if(d&&b[0]!=="/"){const w=d.record.path,T=w[w.length-1]==="/"?"":"/";_.path=d.record.path+(b&&T+b)}if(y=iU(_,d,m),f?f.alias.push(y):(v=v||y,v!==y&&v.alias.push(y),h&&c.name&&!nE(y)&&o(c.name)),p.children){const w=p.children;for(let T=0;T<w.length;T++)s(w[T],y,f&&f.children[T])}f=f||y,(y.record.components&&Object.keys(y.record.components).length||y.record.name||y.record.redirect)&&l(y)}return v?()=>{o(v)}:md}function o(c){if(KP(c)){const d=r.get(c);d&&(r.delete(c),n.splice(n.indexOf(d),1),d.children.forEach(o),d.alias.forEach(o))}else{const d=n.indexOf(c);d>-1&&(n.splice(d,1),c.record.name&&r.delete(c.record.name),c.children.forEach(o),c.alias.forEach(o))}}function a(){return n}function l(c){let d=0;for(;d<n.length&&eU(c,n[d])>=0&&(c.record.path!==n[d].record.path||!GP(c,n[d]));)d++;n.splice(d,0,c),c.record.name&&!nE(c)&&r.set(c.record.name,c)}function u(c,d){let f,h={},p,m;if("name"in c&&c.name){if(f=r.get(c.name),!f)throw ju(1,{location:c});m=f.record.name,h=Jt(tE(d.params,f.keys.filter(v=>!v.optional).concat(f.parent?f.parent.keys.filter(v=>v.optional):[]).map(v=>v.name)),c.params&&tE(c.params,f.keys.map(v=>v.name))),p=f.stringify(h)}else if(c.path!=null)p=c.path,f=n.find(v=>v.re.test(p)),f&&(h=f.parse(p),m=f.record.name);else{if(f=d.name?r.get(d.name):n.find(v=>v.re.test(d.path)),!f)throw ju(1,{location:c,currentLocation:d});m=f.record.name,h=Jt({},d.params,c.params),p=f.stringify(h)}const g=[];let y=f;for(;y;)g.unshift(y.record),y=y.parent;return{name:m,path:p,params:h,matched:g,meta:lU(g)}}return t.forEach(c=>s(c)),{addRoute:s,resolve:u,removeRoute:o,getRoutes:a,getRecordMatcher:i}}function tE(t,e){const n={};for(const r of e)r in t&&(n[r]=t[r]);return n}function oU(t){return{path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:void 0,beforeEnter:t.beforeEnter,props:aU(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}}}function aU(t){const e={},n=t.props||!1;if("component"in t)e.default=n;else for(const r in t.components)e[r]=typeof n=="object"?n[r]:n;return e}function nE(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function lU(t){return t.reduce((e,n)=>Jt(e,n.meta),{})}function rE(t,e){const n={};for(const r in t)n[r]=r in e?e[r]:t[r];return n}function GP(t,e){return e.children.some(n=>n===t||GP(t,n))}function uU(t){const e={};if(t===""||t==="?")return e;const r=(t[0]==="?"?t.slice(1):t).split("&");for(let i=0;i<r.length;++i){const s=r[i].replace(UP," "),o=s.indexOf("="),a=Yd(o<0?s:s.slice(0,o)),l=o<0?null:Yd(s.slice(o+1));if(a in e){let u=e[a];us(u)||(u=e[a]=[u]),u.push(l)}else e[a]=l}return e}function iE(t){let e="";for(let n in t){const r=t[n];if(n=k6(n),r==null){r!==void 0&&(e+=(e.length?"&":"")+n);continue}(us(r)?r.map(s=>s&&V0(s)):[r&&V0(r)]).forEach(s=>{s!==void 0&&(e+=(e.length?"&":"")+n,s!=null&&(e+="="+s))})}return e}function cU(t){const e={};for(const n in t){const r=t[n];r!==void 0&&(e[n]=us(r)?r.map(i=>i==null?null:""+i):r==null?r:""+r)}return e}const dU=Symbol(""),sE=Symbol(""),Ig=Symbol(""),p1=Symbol(""),j0=Symbol("");function kc(){let t=[];function e(r){return t.push(r),()=>{const i=t.indexOf(r);i>-1&&t.splice(i,1)}}function n(){t=[]}return{add:e,list:()=>t.slice(),reset:n}}function xo(t,e,n,r,i,s=o=>o()){const o=r&&(r.enterCallbacks[i]=r.enterCallbacks[i]||[]);return()=>new Promise((a,l)=>{const u=f=>{f===!1?l(ju(4,{from:n,to:e})):f instanceof Error?l(f):q6(f)?l(ju(2,{from:e,to:f})):(o&&r.enterCallbacks[i]===o&&typeof f=="function"&&o.push(f),a())},c=s(()=>t.call(r&&r.instances[i],e,n,u));let d=Promise.resolve(c);t.length<3&&(d=d.then(u)),d.catch(f=>l(f))})}function Xv(t,e,n,r,i=s=>s()){const s=[];for(const o of t)for(const a in o.components){let l=o.components[a];if(!(e!=="beforeRouteEnter"&&!o.instances[a]))if(fU(l)){const c=(l.__vccOpts||l)[e];c&&s.push(xo(c,n,r,o,a,i))}else{let u=l();s.push(()=>u.then(c=>{if(!c)return Promise.reject(new Error(`Couldn't resolve component "${a}" at "${o.path}"`));const d=y6(c)?c.default:c;o.components[a]=d;const h=(d.__vccOpts||d)[e];return h&&xo(h,n,r,o,a,i)()}))}}return s}function fU(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function oE(t){const e=Qr(Ig),n=Qr(p1),r=ee(()=>e.resolve(k(t.to))),i=ee(()=>{const{matched:l}=r.value,{length:u}=l,c=l[u-1],d=n.matched;if(!c||!d.length)return-1;const f=d.findIndex(Bu.bind(null,c));if(f>-1)return f;const h=aE(l[u-2]);return u>1&&aE(c)===h&&d[d.length-1].path!==h?d.findIndex(Bu.bind(null,l[u-2])):f}),s=ee(()=>i.value>-1&&gU(n.params,r.value.params)),o=ee(()=>i.value>-1&&i.value===n.matched.length-1&&HP(n.params,r.value.params));function a(l={}){return mU(l)?e[k(t.replace)?"replace":"push"](k(t.to)).catch(md):Promise.resolve()}return{route:r,href:ee(()=>r.value.href),isActive:s,isExactActive:o,navigate:a}}const hU=Oe({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:oE,setup(t,{slots:e}){const n=xn(oE(t)),{options:r}=Qr(Ig),i=ee(()=>({[lE(t.activeClass,r.linkActiveClass,"router-link-active")]:n.isActive,[lE(t.exactActiveClass,r.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const s=e.default&&e.default(n);return t.custom?s:nl("a",{"aria-current":n.isExactActive?t.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:i.value},s)}}}),pU=hU;function mU(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function gU(t,e){for(const n in e){const r=e[n],i=t[n];if(typeof r=="string"){if(r!==i)return!1}else if(!us(i)||i.length!==r.length||r.some((s,o)=>s!==i[o]))return!1}return!0}function aE(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const lE=(t,e,n)=>t??e??n,vU=Oe({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:e,slots:n}){const r=Qr(j0),i=ee(()=>t.route||r.value),s=Qr(sE,0),o=ee(()=>{let u=k(s);const{matched:c}=i.value;let d;for(;(d=c[u])&&!d.components;)u++;return u}),a=ee(()=>i.value.matched[o.value]);Eu(sE,ee(()=>o.value+1)),Eu(dU,a),Eu(j0,i);const l=re();return It(()=>[l.value,a.value,t.name],([u,c,d],[f,h,p])=>{c&&(c.instances[d]=u,h&&h!==c&&u&&u===f&&(c.leaveGuards.size||(c.leaveGuards=h.leaveGuards),c.updateGuards.size||(c.updateGuards=h.updateGuards))),u&&c&&(!h||!Bu(c,h)||!f)&&(c.enterCallbacks[d]||[]).forEach(m=>m(u))},{flush:"post"}),()=>{const u=i.value,c=t.name,d=a.value,f=d&&d.components[c];if(!f)return uE(n.default,{Component:f,route:u});const h=d.props[c],p=h?h===!0?u.params:typeof h=="function"?h(u):h:null,g=nl(f,Jt({},p,e,{onVnodeUnmounted:y=>{y.component.isUnmounted&&(d.instances[c]=null)},ref:l}));return uE(n.default,{Component:g,route:u})||g}}});function uE(t,e){if(!t)return null;const n=t(e);return n.length===1?n[0]:n}const YP=vU;function yU(t){const e=sU(t.routes,t),n=t.parseQuery||uU,r=t.stringifyQuery||iE,i=t.history,s=kc(),o=kc(),a=kc(),l=dk(bo);let u=bo;Ql&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const c=Yv.bind(null,z=>""+z),d=Yv.bind(null,x6),f=Yv.bind(null,Yd);function h(z,oe){let X,fe;return KP(z)?(X=e.getRecordMatcher(z),fe=oe):fe=z,e.addRoute(fe,X)}function p(z){const oe=e.getRecordMatcher(z);oe&&e.removeRoute(oe)}function m(){return e.getRoutes().map(z=>z.record)}function g(z){return!!e.getRecordMatcher(z)}function y(z,oe){if(oe=Jt({},oe||l.value),typeof z=="string"){const L=qv(n,z,oe.path),H=e.resolve({path:L.path},oe),ae=i.createHref(L.fullPath);return Jt(L,H,{params:f(H.params),hash:Yd(L.hash),redirectedFrom:void 0,href:ae})}let X;if(z.path!=null)X=Jt({},z,{path:qv(n,z.path,oe.path).path});else{const L=Jt({},z.params);for(const H in L)L[H]==null&&delete L[H];X=Jt({},z,{params:d(L)}),oe.params=d(oe.params)}const fe=e.resolve(X,oe),be=z.hash||"";fe.params=c(f(fe.params));const se=N6(r,Jt({},z,{hash:A6(be),path:fe.path})),C=i.createHref(se);return Jt({fullPath:se,hash:be,query:r===iE?cU(z.query):z.query||{}},fe,{redirectedFrom:void 0,href:C})}function v(z){return typeof z=="string"?qv(n,z,l.value.path):Jt({},z)}function _(z,oe){if(u!==z)return ju(8,{from:oe,to:z})}function b(z){return P(z)}function w(z){return b(Jt(v(z),{replace:!0}))}function T(z){const oe=z.matched[z.matched.length-1];if(oe&&oe.redirect){const{redirect:X}=oe;let fe=typeof X=="function"?X(z):X;return typeof fe=="string"&&(fe=fe.includes("?")||fe.includes("#")?fe=v(fe):{path:fe},fe.params={}),Jt({query:z.query,hash:z.hash,params:fe.path!=null?{}:z.params},fe)}}function P(z,oe){const X=u=y(z),fe=l.value,be=z.state,se=z.force,C=z.replace===!0,L=T(X);if(L)return P(Jt(v(L),{state:typeof L=="object"?Jt({},be,L.state):be,force:se,replace:C}),oe||X);const H=X;H.redirectedFrom=oe;let ae;return!se&&M6(r,fe,X)&&(ae=ju(16,{to:H,from:fe}),Z(fe,fe,!0,!1)),(ae?Promise.resolve(ae):E(H,fe)).catch(ue=>Vs(ue)?Vs(ue,2)?ue:I(ue):G(ue,H,fe)).then(ue=>{if(ue){if(Vs(ue,2))return P(Jt({replace:C},v(ue.to),{state:typeof ue.to=="object"?Jt({},be,ue.to.state):be,force:se}),oe||H)}else ue=F(H,fe,!0,C,be);return M(H,fe,ue),ue})}function A(z,oe){const X=_(z,oe);return X?Promise.reject(X):Promise.resolve()}function O(z){const oe=ve.values().next().value;return oe&&typeof oe.runWithContext=="function"?oe.runWithContext(z):z()}function E(z,oe){let X;const[fe,be,se]=bU(z,oe);X=Xv(fe.reverse(),"beforeRouteLeave",z,oe);for(const L of fe)L.leaveGuards.forEach(H=>{X.push(xo(H,z,oe))});const C=A.bind(null,z,oe);return X.push(C),j(X).then(()=>{X=[];for(const L of s.list())X.push(xo(L,z,oe));return X.push(C),j(X)}).then(()=>{X=Xv(be,"beforeRouteUpdate",z,oe);for(const L of be)L.updateGuards.forEach(H=>{X.push(xo(H,z,oe))});return X.push(C),j(X)}).then(()=>{X=[];for(const L of se)if(L.beforeEnter)if(us(L.beforeEnter))for(const H of L.beforeEnter)X.push(xo(H,z,oe));else X.push(xo(L.beforeEnter,z,oe));return X.push(C),j(X)}).then(()=>(z.matched.forEach(L=>L.enterCallbacks={}),X=Xv(se,"beforeRouteEnter",z,oe,O),X.push(C),j(X))).then(()=>{X=[];for(const L of o.list())X.push(xo(L,z,oe));return X.push(C),j(X)}).catch(L=>Vs(L,8)?L:Promise.reject(L))}function M(z,oe,X){a.list().forEach(fe=>O(()=>fe(z,oe,X)))}function F(z,oe,X,fe,be){const se=_(z,oe);if(se)return se;const C=oe===bo,L=Ql?history.state:{};X&&(fe||C?i.replace(z.fullPath,Jt({scroll:C&&L&&L.scroll},be)):i.push(z.fullPath,be)),l.value=z,Z(z,oe,X,C),I()}let N;function x(){N||(N=i.listen((z,oe,X)=>{if(!ne.listening)return;const fe=y(z),be=T(fe);if(be){P(Jt(be,{replace:!0}),fe).catch(md);return}u=fe;const se=l.value;Ql&&H6(XS(se.fullPath,X.delta),Eg()),E(fe,se).catch(C=>Vs(C,12)?C:Vs(C,2)?(P(C.to,fe).then(L=>{Vs(L,20)&&!X.delta&&X.type===qd.pop&&i.go(-1,!1)}).catch(md),Promise.reject()):(X.delta&&i.go(-X.delta,!1),G(C,fe,se))).then(C=>{C=C||F(fe,se,!1),C&&(X.delta&&!Vs(C,8)?i.go(-X.delta,!1):X.type===qd.pop&&Vs(C,20)&&i.go(-1,!1)),M(fe,se,C)}).catch(md)}))}let R=kc(),D=kc(),B;function G(z,oe,X){I(z);const fe=D.list();return fe.length?fe.forEach(be=>be(z,oe,X)):console.error(z),Promise.reject(z)}function $(){return B&&l.value!==bo?Promise.resolve():new Promise((z,oe)=>{R.add([z,oe])})}function I(z){return B||(B=!z,x(),R.list().forEach(([oe,X])=>z?X(z):oe()),R.reset()),z}function Z(z,oe,X,fe){const{scrollBehavior:be}=t;if(!Ql||!be)return Promise.resolve();const se=!X&&W6(XS(z.fullPath,0))||(fe||!X)&&history.state&&history.state.scroll||null;return Wn().then(()=>be(z,oe,se)).then(C=>C&&j6(C)).catch(C=>G(C,z,oe))}const te=z=>i.go(z);let me;const ve=new Set,ne={currentRoute:l,listening:!0,addRoute:h,removeRoute:p,hasRoute:g,getRoutes:m,resolve:y,options:t,push:b,replace:w,go:te,back:()=>te(-1),forward:()=>te(1),beforeEach:s.add,beforeResolve:o.add,afterEach:a.add,onError:D.add,isReady:$,install(z){const oe=this;z.component("RouterLink",pU),z.component("RouterView",YP),z.config.globalProperties.$router=oe,Object.defineProperty(z.config.globalProperties,"$route",{enumerable:!0,get:()=>k(l)}),Ql&&!me&&l.value===bo&&(me=!0,b(i.location).catch(be=>{}));const X={};for(const be in bo)Object.defineProperty(X,be,{get:()=>l.value[be],enumerable:!0});z.provide(Ig,oe),z.provide(p1,zw(X)),z.provide(j0,l);const fe=z.unmount;ve.add(z),z.unmount=function(){ve.delete(z),ve.size<1&&(u=bo,N&&N(),N=null,l.value=bo,me=!1,B=!1),fe()}}};function j(z){return z.reduce((oe,X)=>oe.then(()=>O(X)),Promise.resolve())}return ne}function bU(t,e){const n=[],r=[],i=[],s=Math.max(e.matched.length,t.matched.length);for(let o=0;o<s;o++){const a=e.matched[o];a&&(t.matched.find(u=>Bu(u,a))?r.push(a):n.push(a));const l=t.matched[o];l&&(e.matched.find(u=>Bu(u,l))||i.push(l))}return[n,r,i]}function qP(){return Qr(Ig)}function m1(){return Qr(p1)}const wU=Oe({__name:"App",setup(t){return(e,n)=>(S(),V(Te,null,[J(k(YP)),J(v6)],64))}});var cE={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XP={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fe=function(t,e){if(!t)throw hc(e)},hc=function(t){return new Error("Firebase Database ("+XP.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QP=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},_U=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},Cg={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,l=i+2<t.length,u=l?t[i+2]:0,c=s>>2,d=(s&3)<<4|a>>4;let f=(a&15)<<2|u>>6,h=u&63;l||(h=64,o||(f=64)),r.push(n[c],n[d],n[f],n[h])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(QP(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):_U(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const d=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||u==null||d==null)throw new TU;const f=s<<2|a>>4;if(r.push(f),u!==64){const h=a<<4&240|u>>2;if(r.push(h),d!==64){const p=u<<6&192|d;r.push(p)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class TU extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const JP=function(t){const e=QP(t);return Cg.encodeByteArray(e,!0)},im=function(t){return JP(t).replace(/\./g,"")},sm=function(t){try{return Cg.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SU(t){return ZP(void 0,t)}function ZP(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!EU(n)||(t[n]=ZP(t[n],e[n]));return t}function EU(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ex(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IU=()=>ex().__FIREBASE_DEFAULTS__,CU=()=>{if(typeof process>"u"||typeof cE>"u")return;const t=cE.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},OU=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&sm(t[1]);return e&&JSON.parse(e)},Og=()=>{try{return IU()||CU()||OU()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},tx=t=>{var e,n;return(n=(e=Og())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},nx=t=>{const e=tx(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},rx=()=>{var t;return(t=Og())===null||t===void 0?void 0:t.config},ix=t=>{var e;return(e=Og())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class il{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sx(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[im(JSON.stringify(n)),im(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jr(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function g1(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(jr())}function AU(){var t;const e=(t=Og())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function ox(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function ax(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function kU(){const t=jr();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function lx(){return XP.NODE_ADMIN===!0}function Ag(){try{return typeof indexedDB=="object"}catch{return!1}}function ux(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}function PU(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xU="FirebaseError";class ki extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=xU,Object.setPrototypeOf(this,ki.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,la.prototype.create)}}class la{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?DU(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new ki(i,a,r)}}function DU(t,e){return t.replace(RU,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const RU=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xd(t){return JSON.parse(t)}function Tr(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cx=function(t){let e={},n={},r={},i="";try{const s=t.split(".");e=Xd(sm(s[0])||""),n=Xd(sm(s[1])||""),i=s[2],r=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:r,signature:i}},NU=function(t){const e=cx(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},MU=function(t){const e=cx(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ho(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Hu(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function H0(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function om(t,e,n){const r={};for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=e.call(n,t[i],i,t));return r}function Qd(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(dE(s)&&dE(o)){if(!Qd(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function dE(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pc(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function qc(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function Xc(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LU{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const r=this.W_;if(typeof e=="string")for(let d=0;d<16;d++)r[d]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let d=0;d<16;d++)r[d]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let d=16;d<80;d++){const f=r[d-3]^r[d-8]^r[d-14]^r[d-16];r[d]=(f<<1|f>>>31)&4294967295}let i=this.chain_[0],s=this.chain_[1],o=this.chain_[2],a=this.chain_[3],l=this.chain_[4],u,c;for(let d=0;d<80;d++){d<40?d<20?(u=a^s&(o^a),c=1518500249):(u=s^o^a,c=1859775393):d<60?(u=s&o|a&(s|o),c=2400959708):(u=s^o^a,c=3395469782);const f=(i<<5|i>>>27)+u+l+c+r[d]&4294967295;l=a,a=o,o=(s<<30|s>>>2)&4294967295,s=i,i=f}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+o&4294967295,this.chain_[3]=this.chain_[3]+a&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);const r=n-this.blockSize;let i=0;const s=this.buf_;let o=this.inbuf_;for(;i<n;){if(o===0)for(;i<=r;)this.compress_(e,i),i+=this.blockSize;if(typeof e=="string"){for(;i<n;)if(s[o]=e.charCodeAt(i),++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}else for(;i<n;)if(s[o]=e[i],++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}this.inbuf_=o,this.total_+=n}digest(){const e=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=n&255,n/=256;this.compress_(this.buf_);let r=0;for(let i=0;i<5;i++)for(let s=24;s>=0;s-=8)e[r]=this.chain_[i]>>s&255,++r;return e}}function $U(t,e){const n=new FU(t,e);return n.subscribe.bind(n)}class FU{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");UU(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Qv),i.error===void 0&&(i.error=Qv),i.complete===void 0&&(i.complete=Qv);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function UU(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Qv(){}function VU(t,e){return`${t} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BU=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);if(i>=55296&&i<=56319){const s=i-55296;r++,Fe(r<t.length,"Surrogate pair missing trail surrogate.");const o=t.charCodeAt(r)-56320;i=65536+(s<<10)+o}i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):i<65536?(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},kg=function(t){let e=0;for(let n=0;n<t.length;n++){const r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jU=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,t=>{const e=Math.random()*16|0;return(t==="x"?e:e&3|8).toString(16)})};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HU=1e3,WU=2,KU=4*60*60*1e3,zU=.5;function W0(t,e=HU,n=WU){const r=e*Math.pow(n,t),i=Math.round(zU*r*(Math.random()-.5)*2);return Math.min(KU,r+i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zt(t){return t&&t._delegate?t._delegate:t}class ei{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ta="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GU{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new il;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(qU(e))try{this.getOrInitializeService({instanceIdentifier:Ta})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Ta){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ta){return this.instances.has(e)}getOptions(e=Ta){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:YU(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Ta){return this.component?this.component.multipleInstances?e:Ta:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function YU(t){return t===Ta?void 0:t}function qU(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XU{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new GU(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var $t;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})($t||($t={}));const QU={debug:$t.DEBUG,verbose:$t.VERBOSE,info:$t.INFO,warn:$t.WARN,error:$t.ERROR,silent:$t.SILENT},JU=$t.INFO,ZU={[$t.DEBUG]:"log",[$t.VERBOSE]:"log",[$t.INFO]:"info",[$t.WARN]:"warn",[$t.ERROR]:"error"},e5=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=ZU[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class mc{constructor(e){this.name=e,this._logLevel=JU,this._logHandler=e5,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in $t))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?QU[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,$t.DEBUG,...e),this._logHandler(this,$t.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,$t.VERBOSE,...e),this._logHandler(this,$t.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,$t.INFO,...e),this._logHandler(this,$t.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,$t.WARN,...e),this._logHandler(this,$t.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,$t.ERROR,...e),this._logHandler(this,$t.ERROR,...e)}}const t5=(t,e)=>e.some(n=>t instanceof n);let fE,hE;function n5(){return fE||(fE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function r5(){return hE||(hE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const dx=new WeakMap,K0=new WeakMap,fx=new WeakMap,Jv=new WeakMap,v1=new WeakMap;function i5(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Ho(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&dx.set(n,t)}).catch(()=>{}),v1.set(e,t),e}function s5(t){if(K0.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});K0.set(t,e)}let z0={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return K0.get(t);if(e==="objectStoreNames")return t.objectStoreNames||fx.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ho(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function o5(t){z0=t(z0)}function a5(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Zv(this),e,...n);return fx.set(r,e.sort?e.sort():[e]),Ho(r)}:r5().includes(t)?function(...e){return t.apply(Zv(this),e),Ho(dx.get(this))}:function(...e){return Ho(t.apply(Zv(this),e))}}function l5(t){return typeof t=="function"?a5(t):(t instanceof IDBTransaction&&s5(t),t5(t,n5())?new Proxy(t,z0):t)}function Ho(t){if(t instanceof IDBRequest)return i5(t);if(Jv.has(t))return Jv.get(t);const e=l5(t);return e!==t&&(Jv.set(t,e),v1.set(e,t)),e}const Zv=t=>v1.get(t);function u5(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=Ho(o);return r&&o.addEventListener("upgradeneeded",l=>{r(Ho(o.result),l.oldVersion,l.newVersion,Ho(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const c5=["get","getKey","getAll","getAllKeys","count"],d5=["put","add","delete","clear"],ey=new Map;function pE(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(ey.get(e))return ey.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=d5.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||c5.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),i&&l.done]))[0]};return ey.set(e,s),s}o5(t=>({...t,get:(e,n,r)=>pE(e,n)||t.get(e,n,r),has:(e,n)=>!!pE(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f5{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(h5(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function h5(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const G0="@firebase/app",mE="0.9.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sl=new mc("@firebase/app"),p5="@firebase/app-compat",m5="@firebase/analytics-compat",g5="@firebase/analytics",v5="@firebase/app-check-compat",y5="@firebase/app-check",b5="@firebase/auth",w5="@firebase/auth-compat",_5="@firebase/database",T5="@firebase/database-compat",S5="@firebase/functions",E5="@firebase/functions-compat",I5="@firebase/installations",C5="@firebase/installations-compat",O5="@firebase/messaging",A5="@firebase/messaging-compat",k5="@firebase/performance",P5="@firebase/performance-compat",x5="@firebase/remote-config",D5="@firebase/remote-config-compat",R5="@firebase/storage",N5="@firebase/storage-compat",M5="@firebase/firestore",L5="@firebase/firestore-compat",$5="firebase",F5="9.23.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y0="[DEFAULT]",U5={[G0]:"fire-core",[p5]:"fire-core-compat",[g5]:"fire-analytics",[m5]:"fire-analytics-compat",[y5]:"fire-app-check",[v5]:"fire-app-check-compat",[b5]:"fire-auth",[w5]:"fire-auth-compat",[_5]:"fire-rtdb",[T5]:"fire-rtdb-compat",[S5]:"fire-fn",[E5]:"fire-fn-compat",[I5]:"fire-iid",[C5]:"fire-iid-compat",[O5]:"fire-fcm",[A5]:"fire-fcm-compat",[k5]:"fire-perf",[P5]:"fire-perf-compat",[x5]:"fire-rc",[D5]:"fire-rc-compat",[R5]:"fire-gcs",[N5]:"fire-gcs-compat",[M5]:"fire-fst",[L5]:"fire-fst-compat","fire-js":"fire-js",[$5]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const am=new Map,q0=new Map;function V5(t,e){try{t.container.addComponent(e)}catch(n){sl.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function pi(t){const e=t.name;if(q0.has(e))return sl.debug(`There were multiple attempts to register component ${e}.`),!1;q0.set(e,t);for(const n of am.values())V5(n,t);return!0}function Fs(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B5={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},Wo=new la("app","Firebase",B5);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j5{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ei("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Wo.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ua=F5;function hx(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Y0,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Wo.create("bad-app-name",{appName:String(i)});if(n||(n=rx()),!n)throw Wo.create("no-options");const s=am.get(i);if(s){if(Qd(n,s.options)&&Qd(r,s.config))return s;throw Wo.create("duplicate-app",{appName:i})}const o=new XU(i);for(const l of q0.values())o.addComponent(l);const a=new j5(n,r,o);return am.set(i,a),a}function gc(t=Y0){const e=am.get(t);if(!e&&t===Y0&&rx())return hx();if(!e)throw Wo.create("no-app",{appName:t});return e}function Er(t,e,n){var r;let i=(r=U5[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),sl.warn(a.join(" "));return}pi(new ei(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H5="firebase-heartbeat-database",W5=1,Jd="firebase-heartbeat-store";let ty=null;function px(){return ty||(ty=u5(H5,W5,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Jd)}}}).catch(t=>{throw Wo.create("idb-open",{originalErrorMessage:t.message})})),ty}async function K5(t){try{return await(await px()).transaction(Jd).objectStore(Jd).get(mx(t))}catch(e){if(e instanceof ki)sl.warn(e.message);else{const n=Wo.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});sl.warn(n.message)}}}async function gE(t,e){try{const r=(await px()).transaction(Jd,"readwrite");await r.objectStore(Jd).put(e,mx(t)),await r.done}catch(n){if(n instanceof ki)sl.warn(n.message);else{const r=Wo.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});sl.warn(r.message)}}}function mx(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z5=1024,G5=30*24*60*60*1e3;class Y5{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new X5(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=vE();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(i=>i.date===r)))return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(i=>{const s=new Date(i.date).valueOf();return Date.now()-s<=G5}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const e=vE(),{heartbeatsToSend:n,unsentEntries:r}=q5(this._heartbeatsCache.heartbeats),i=im(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}}function vE(){return new Date().toISOString().substring(0,10)}function q5(t,e=z5){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),yE(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),yE(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class X5{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Ag()?ux().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await K5(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return gE(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return gE(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function yE(t){return im(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q5(t){pi(new ei("platform-logger",e=>new f5(e),"PRIVATE")),pi(new ei("heartbeat",e=>new Y5(e),"PRIVATE")),Er(G0,mE,t),Er(G0,mE,"esm2017"),Er("fire-js","")}Q5("");const J5=(t,e)=>e.some(n=>t instanceof n);let bE,wE;function Z5(){return bE||(bE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function eV(){return wE||(wE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const gx=new WeakMap,X0=new WeakMap,vx=new WeakMap,ny=new WeakMap,y1=new WeakMap;function tV(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Ko(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&gx.set(n,t)}).catch(()=>{}),y1.set(e,t),e}function nV(t){if(X0.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});X0.set(t,e)}let Q0={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return X0.get(t);if(e==="objectStoreNames")return t.objectStoreNames||vx.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ko(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function rV(t){Q0=t(Q0)}function iV(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(ry(this),e,...n);return vx.set(r,e.sort?e.sort():[e]),Ko(r)}:eV().includes(t)?function(...e){return t.apply(ry(this),e),Ko(gx.get(this))}:function(...e){return Ko(t.apply(ry(this),e))}}function sV(t){return typeof t=="function"?iV(t):(t instanceof IDBTransaction&&nV(t),J5(t,Z5())?new Proxy(t,Q0):t)}function Ko(t){if(t instanceof IDBRequest)return tV(t);if(ny.has(t))return ny.get(t);const e=sV(t);return e!==t&&(ny.set(t,e),y1.set(e,t)),e}const ry=t=>y1.get(t);function oV(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=Ko(o);return r&&o.addEventListener("upgradeneeded",l=>{r(Ko(o.result),l.oldVersion,l.newVersion,Ko(o.transaction))}),n&&o.addEventListener("blocked",()=>n()),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",()=>i())}).catch(()=>{}),a}const aV=["get","getKey","getAll","getAllKeys","count"],lV=["put","add","delete","clear"],iy=new Map;function _E(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(iy.get(e))return iy.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=lV.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||aV.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),i&&l.done]))[0]};return iy.set(e,s),s}rV(t=>({...t,get:(e,n,r)=>_E(e,n)||t.get(e,n,r),has:(e,n)=>!!_E(e,n)||t.has(e,n)}));const yx="@firebase/installations",b1="0.6.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bx=1e4,wx=`w:${b1}`,_x="FIS_v2",uV="https://firebaseinstallations.googleapis.com/v1",cV=60*60*1e3,dV="installations",fV="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hV={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},ol=new la(dV,fV,hV);function Tx(t){return t instanceof ki&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sx({projectId:t}){return`${uV}/projects/${t}/installations`}function Ex(t){return{token:t.token,requestStatus:2,expiresIn:mV(t.expiresIn),creationTime:Date.now()}}async function Ix(t,e){const r=(await e.json()).error;return ol.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function Cx({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function pV(t,{refreshToken:e}){const n=Cx(t);return n.append("Authorization",gV(e)),n}async function Ox(t){const e=await t();return e.status>=500&&e.status<600?t():e}function mV(t){return Number(t.replace("s","000"))}function gV(t){return`${_x} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vV({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=Sx(t),i=Cx(t),s=e.getImmediate({optional:!0});if(s){const u=await s.getHeartbeatsHeader();u&&i.append("x-firebase-client",u)}const o={fid:n,authVersion:_x,appId:t.appId,sdkVersion:wx},a={method:"POST",headers:i,body:JSON.stringify(o)},l=await Ox(()=>fetch(r,a));if(l.ok){const u=await l.json();return{fid:u.fid||n,registrationStatus:2,refreshToken:u.refreshToken,authToken:Ex(u.authToken)}}else throw await Ix("Create Installation",l)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ax(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yV(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bV=/^[cdef][\w-]{21}$/,J0="";function wV(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=_V(t);return bV.test(n)?n:J0}catch{return J0}}function _V(t){return yV(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pg(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kx=new Map;function Px(t,e){const n=Pg(t);xx(n,e),TV(n,e)}function xx(t,e){const n=kx.get(t);if(n)for(const r of n)r(e)}function TV(t,e){const n=SV();n&&n.postMessage({key:t,fid:e}),EV()}let Ra=null;function SV(){return!Ra&&"BroadcastChannel"in self&&(Ra=new BroadcastChannel("[Firebase] FID Change"),Ra.onmessage=t=>{xx(t.data.key,t.data.fid)}),Ra}function EV(){kx.size===0&&Ra&&(Ra.close(),Ra=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IV="firebase-installations-database",CV=1,al="firebase-installations-store";let sy=null;function w1(){return sy||(sy=oV(IV,CV,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(al)}}})),sy}async function lm(t,e){const n=Pg(t),i=(await w1()).transaction(al,"readwrite"),s=i.objectStore(al),o=await s.get(n);return await s.put(e,n),await i.done,(!o||o.fid!==e.fid)&&Px(t,e.fid),e}async function Dx(t){const e=Pg(t),r=(await w1()).transaction(al,"readwrite");await r.objectStore(al).delete(e),await r.done}async function xg(t,e){const n=Pg(t),i=(await w1()).transaction(al,"readwrite"),s=i.objectStore(al),o=await s.get(n),a=e(o);return a===void 0?await s.delete(n):await s.put(a,n),await i.done,a&&(!o||o.fid!==a.fid)&&Px(t,a.fid),a}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _1(t){let e;const n=await xg(t.appConfig,r=>{const i=OV(r),s=AV(t,i);return e=s.registrationPromise,s.installationEntry});return n.fid===J0?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function OV(t){const e=t||{fid:wV(),registrationStatus:0};return Rx(e)}function AV(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const i=Promise.reject(ol.create("app-offline"));return{installationEntry:e,registrationPromise:i}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=kV(t,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:PV(t)}:{installationEntry:e}}async function kV(t,e){try{const n=await vV(t,e);return lm(t.appConfig,n)}catch(n){throw Tx(n)&&n.customData.serverCode===409?await Dx(t.appConfig):await lm(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function PV(t){let e=await TE(t.appConfig);for(;e.registrationStatus===1;)await Ax(100),e=await TE(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await _1(t);return r||n}return e}function TE(t){return xg(t,e=>{if(!e)throw ol.create("installation-not-found");return Rx(e)})}function Rx(t){return xV(t)?{fid:t.fid,registrationStatus:0}:t}function xV(t){return t.registrationStatus===1&&t.registrationTime+bx<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DV({appConfig:t,heartbeatServiceProvider:e},n){const r=RV(t,n),i=pV(t,n),s=e.getImmediate({optional:!0});if(s){const u=await s.getHeartbeatsHeader();u&&i.append("x-firebase-client",u)}const o={installation:{sdkVersion:wx,appId:t.appId}},a={method:"POST",headers:i,body:JSON.stringify(o)},l=await Ox(()=>fetch(r,a));if(l.ok){const u=await l.json();return Ex(u)}else throw await Ix("Generate Auth Token",l)}function RV(t,{fid:e}){return`${Sx(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function T1(t,e=!1){let n;const r=await xg(t.appConfig,s=>{if(!Nx(s))throw ol.create("not-registered");const o=s.authToken;if(!e&&LV(o))return s;if(o.requestStatus===1)return n=NV(t,e),s;{if(!navigator.onLine)throw ol.create("app-offline");const a=FV(s);return n=MV(t,a),a}});return n?await n:r.authToken}async function NV(t,e){let n=await SE(t.appConfig);for(;n.authToken.requestStatus===1;)await Ax(100),n=await SE(t.appConfig);const r=n.authToken;return r.requestStatus===0?T1(t,e):r}function SE(t){return xg(t,e=>{if(!Nx(e))throw ol.create("not-registered");const n=e.authToken;return UV(n)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function MV(t,e){try{const n=await DV(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return await lm(t.appConfig,r),n}catch(n){if(Tx(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await Dx(t.appConfig);else{const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await lm(t.appConfig,r)}throw n}}function Nx(t){return t!==void 0&&t.registrationStatus===2}function LV(t){return t.requestStatus===2&&!$V(t)}function $V(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+cV}function FV(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}function UV(t){return t.requestStatus===1&&t.requestTime+bx<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VV(t){const e=t,{installationEntry:n,registrationPromise:r}=await _1(e);return r?r.catch(console.error):T1(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function BV(t,e=!1){const n=t;return await jV(n),(await T1(n,e)).token}async function jV(t){const{registrationPromise:e}=await _1(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HV(t){if(!t||!t.options)throw oy("App Configuration");if(!t.name)throw oy("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw oy(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function oy(t){return ol.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mx="installations",WV="installations-internal",KV=t=>{const e=t.getProvider("app").getImmediate(),n=HV(e),r=Fs(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},zV=t=>{const e=t.getProvider("app").getImmediate(),n=Fs(e,Mx).getImmediate();return{getId:()=>VV(n),getToken:i=>BV(n,i)}};function GV(){pi(new ei(Mx,KV,"PUBLIC")),pi(new ei(WV,zV,"PRIVATE"))}GV();Er(yx,b1);Er(yx,b1,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const um="analytics",YV="firebase_id",qV="origin",XV=60*1e3,QV="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",S1="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fi=new mc("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JV={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},Ei=new la("analytics","Analytics",JV);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZV(t){if(!t.startsWith(S1)){const e=Ei.create("invalid-gtag-resource",{gtagURL:t});return fi.warn(e.message),""}return t}function Lx(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function e9(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function t9(t,e){const n=e9("firebase-js-sdk-policy",{createScriptURL:ZV}),r=document.createElement("script"),i=`${S1}?l=${t}&id=${e}`;r.src=n?n==null?void 0:n.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}function n9(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function r9(t,e,n,r,i,s){const o=r[i];try{if(o)await e[o];else{const l=(await Lx(n)).find(u=>u.measurementId===i);l&&await e[l.appId]}}catch(a){fi.error(a)}t("config",i,s)}async function i9(t,e,n,r,i){try{let s=[];if(i&&i.send_to){let o=i.send_to;Array.isArray(o)||(o=[o]);const a=await Lx(n);for(const l of o){const u=a.find(d=>d.measurementId===l),c=u&&e[u.appId];if(c)s.push(c);else{s=[];break}}}s.length===0&&(s=Object.values(e)),await Promise.all(s),t("event",r,i||{})}catch(s){fi.error(s)}}function s9(t,e,n,r){async function i(s,...o){try{if(s==="event"){const[a,l]=o;await i9(t,e,n,a,l)}else if(s==="config"){const[a,l]=o;await r9(t,e,n,r,a,l)}else if(s==="consent"){const[a]=o;t("consent","update",a)}else if(s==="get"){const[a,l,u]=o;t("get",a,l,u)}else if(s==="set"){const[a]=o;t("set",a)}else t(s,...o)}catch(a){fi.error(a)}}return i}function o9(t,e,n,r,i){let s=function(...o){window[r].push(arguments)};return window[i]&&typeof window[i]=="function"&&(s=window[i]),window[i]=s9(s,t,e,n),{gtagCore:s,wrappedGtag:window[i]}}function a9(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(S1)&&n.src.includes(t))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l9=30,u9=1e3;class c9{constructor(e={},n=u9){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const $x=new c9;function d9(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function f9(t){var e;const{appId:n,apiKey:r}=t,i={method:"GET",headers:d9(r)},s=QV.replace("{app-id}",n),o=await fetch(s,i);if(o.status!==200&&o.status!==304){let a="";try{const l=await o.json();!((e=l.error)===null||e===void 0)&&e.message&&(a=l.error.message)}catch{}throw Ei.create("config-fetch-failed",{httpStatus:o.status,responseMessage:a})}return o.json()}async function h9(t,e=$x,n){const{appId:r,apiKey:i,measurementId:s}=t.options;if(!r)throw Ei.create("no-app-id");if(!i){if(s)return{measurementId:s,appId:r};throw Ei.create("no-api-key")}const o=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new g9;return setTimeout(async()=>{a.abort()},n!==void 0?n:XV),Fx({appId:r,apiKey:i,measurementId:s},o,a,e)}async function Fx(t,{throttleEndTimeMillis:e,backoffCount:n},r,i=$x){var s;const{appId:o,measurementId:a}=t;try{await p9(r,e)}catch(l){if(a)return fi.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${l==null?void 0:l.message}]`),{appId:o,measurementId:a};throw l}try{const l=await f9(t);return i.deleteThrottleMetadata(o),l}catch(l){const u=l;if(!m9(u)){if(i.deleteThrottleMetadata(o),a)return fi.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${u==null?void 0:u.message}]`),{appId:o,measurementId:a};throw l}const c=Number((s=u==null?void 0:u.customData)===null||s===void 0?void 0:s.httpStatus)===503?W0(n,i.intervalMillis,l9):W0(n,i.intervalMillis),d={throttleEndTimeMillis:Date.now()+c,backoffCount:n+1};return i.setThrottleMetadata(o,d),fi.debug(`Calling attemptFetch again in ${c} millis`),Fx(t,d,r,i)}}function p9(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(s),r(Ei.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function m9(t){if(!(t instanceof ki)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class g9{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function v9(t,e,n,r,i){if(i&&i.global){t("event",n,r);return}else{const s=await e,o=Object.assign(Object.assign({},r),{send_to:s});t("event",n,o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function y9(){if(Ag())try{await ux()}catch(t){return fi.warn(Ei.create("indexeddb-unavailable",{errorInfo:t==null?void 0:t.toString()}).message),!1}else return fi.warn(Ei.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function b9(t,e,n,r,i,s,o){var a;const l=h9(t);l.then(h=>{n[h.measurementId]=h.appId,t.options.measurementId&&h.measurementId!==t.options.measurementId&&fi.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${h.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(h=>fi.error(h)),e.push(l);const u=y9().then(h=>{if(h)return r.getId()}),[c,d]=await Promise.all([l,u]);a9(s)||t9(s,c.measurementId),i("js",new Date);const f=(a=o==null?void 0:o.config)!==null&&a!==void 0?a:{};return f[qV]="firebase",f.update=!0,d!=null&&(f[YV]=d),i("config",c.measurementId,f),c.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w9{constructor(e){this.app=e}_delete(){return delete vd[this.app.options.appId],Promise.resolve()}}let vd={},EE=[];const IE={};let ay="dataLayer",_9="gtag",CE,Ux,OE=!1;function T9(){const t=[];if(ox()&&t.push("This is a browser extension environment."),PU()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,i)=>`(${i+1}) ${r}`).join(" "),n=Ei.create("invalid-analytics-context",{errorInfo:e});fi.warn(n.message)}}function S9(t,e,n){T9();const r=t.options.appId;if(!r)throw Ei.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)fi.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Ei.create("no-api-key");if(vd[r]!=null)throw Ei.create("already-exists",{id:r});if(!OE){n9(ay);const{wrappedGtag:s,gtagCore:o}=o9(vd,EE,IE,ay,_9);Ux=s,CE=o,OE=!0}return vd[r]=b9(t,EE,IE,e,CE,ay,n),new w9(t)}function E9(t=gc()){t=zt(t);const e=Fs(t,um);return e.isInitialized()?e.getImmediate():I9(t)}function I9(t,e={}){const n=Fs(t,um);if(n.isInitialized()){const i=n.getImmediate();if(Qd(e,n.getOptions()))return i;throw Ei.create("already-initialized")}return n.initialize({options:e})}function C9(t,e,n,r){t=zt(t),v9(Ux,vd[t.app.options.appId],e,n,r).catch(i=>fi.error(i))}const AE="@firebase/analytics",kE="0.10.0";function O9(){pi(new ei(um,(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();return S9(r,i,n)},"PUBLIC")),pi(new ei("analytics-internal",t,"PRIVATE")),Er(AE,kE),Er(AE,kE,"esm2017");function t(e){try{const n=e.getProvider(um).getImmediate();return{logEvent:(r,i,s)=>C9(n,r,i,s)}}catch(n){throw Ei.create("interop-component-reg-failed",{reason:n})}}}O9();var A9="firebase",k9="9.23.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Er(A9,k9,"app");/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z0=new Map,Vx={activated:!1,tokenObservers:[]},P9={initialized:!1,enabled:!1};function ir(t){return Z0.get(t)||Object.assign({},Vx)}function x9(t,e){return Z0.set(t,e),Z0.get(t)}function Dg(){return P9}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bx="https://content-firebaseappcheck.googleapis.com/v1",D9="exchangeRecaptchaV3Token",R9="exchangeDebugToken",PE={OFFSET_DURATION:5*60*1e3,RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:16*60*1e3},N9=24*60*60*1e3;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M9{constructor(e,n,r,i,s){if(this.operation=e,this.retryPolicy=n,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=s,this.pending=null,this.nextErrorWaitInterval=i,i>s)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}async process(e){this.stop();try{this.pending=new il,await L9(this.getNextRun(e)),this.pending.resolve(),await this.pending.promise,this.pending=new il,await this.operation(),this.pending.resolve(),await this.pending.promise,this.process(!0).catch(()=>{})}catch(n){this.retryPolicy(n)?this.process(!1).catch(()=>{}):this.stop()}}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n}}}function L9(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $9={"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"},ci=new la("appCheck","AppCheck",$9);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xE(t=!1){var e;return t?(e=self.grecaptcha)===null||e===void 0?void 0:e.enterprise:self.grecaptcha}function E1(t){if(!ir(t).activated)throw ci.create("use-before-activation",{appName:t.name})}function jx(t){const e=Math.round(t/1e3),n=Math.floor(e/(3600*24)),r=Math.floor((e-n*3600*24)/3600),i=Math.floor((e-n*3600*24-r*3600)/60),s=e-n*3600*24-r*3600-i*60;let o="";return n&&(o+=Vh(n)+"d:"),r&&(o+=Vh(r)+"h:"),o+=Vh(i)+"m:"+Vh(s)+"s",o}function Vh(t){return t===0?"00":t>=10?t.toString():"0"+t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function I1({url:t,body:e},n){const r={"Content-Type":"application/json"},i=n.getImmediate({optional:!0});if(i){const d=await i.getHeartbeatsHeader();d&&(r["X-Firebase-Client"]=d)}const s={method:"POST",body:JSON.stringify(e),headers:r};let o;try{o=await fetch(t,s)}catch(d){throw ci.create("fetch-network-error",{originalErrorMessage:d==null?void 0:d.message})}if(o.status!==200)throw ci.create("fetch-status-error",{httpStatus:o.status});let a;try{a=await o.json()}catch(d){throw ci.create("fetch-parse-error",{originalErrorMessage:d==null?void 0:d.message})}const l=a.ttl.match(/^([\d.]+)(s)$/);if(!l||!l[2]||isNaN(Number(l[1])))throw ci.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${a.ttl}`});const u=Number(l[1])*1e3,c=Date.now();return{token:a.token,expireTimeMillis:c+u,issuedAtTimeMillis:c}}function F9(t,e){const{projectId:n,appId:r,apiKey:i}=t.options;return{url:`${Bx}/projects/${n}/apps/${r}:${D9}?key=${i}`,body:{recaptcha_v3_token:e}}}function Hx(t,e){const{projectId:n,appId:r,apiKey:i}=t.options;return{url:`${Bx}/projects/${n}/apps/${r}:${R9}?key=${i}`,body:{debug_token:e}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U9="firebase-app-check-database",V9=1,Zd="firebase-app-check-store",Wx="debug-token";let Bh=null;function Kx(){return Bh||(Bh=new Promise((t,e)=>{try{const n=indexedDB.open(U9,V9);n.onsuccess=r=>{t(r.target.result)},n.onerror=r=>{var i;e(ci.create("storage-open",{originalErrorMessage:(i=r.target.error)===null||i===void 0?void 0:i.message}))},n.onupgradeneeded=r=>{const i=r.target.result;switch(r.oldVersion){case 0:i.createObjectStore(Zd,{keyPath:"compositeKey"})}}}catch(n){e(ci.create("storage-open",{originalErrorMessage:n==null?void 0:n.message}))}}),Bh)}function B9(t){return Gx(Yx(t))}function j9(t,e){return zx(Yx(t),e)}function H9(t){return zx(Wx,t)}function W9(){return Gx(Wx)}async function zx(t,e){const r=(await Kx()).transaction(Zd,"readwrite"),s=r.objectStore(Zd).put({compositeKey:t,value:e});return new Promise((o,a)=>{s.onsuccess=l=>{o()},r.onerror=l=>{var u;a(ci.create("storage-set",{originalErrorMessage:(u=l.target.error)===null||u===void 0?void 0:u.message}))}})}async function Gx(t){const n=(await Kx()).transaction(Zd,"readonly"),i=n.objectStore(Zd).get(t);return new Promise((s,o)=>{i.onsuccess=a=>{const l=a.target.result;s(l?l.value:void 0)},n.onerror=a=>{var l;o(ci.create("storage-get",{originalErrorMessage:(l=a.target.error)===null||l===void 0?void 0:l.message}))}})}function Yx(t){return`${t.options.appId}-${t.name}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ef=new mc("@firebase/app-check");/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function K9(t){if(Ag()){let e;try{e=await B9(t)}catch(n){ef.warn(`Failed to read token from IndexedDB. Error: ${n}`)}return e}}function ly(t,e){return Ag()?j9(t,e).catch(n=>{ef.warn(`Failed to write token to IndexedDB. Error: ${n}`)}):Promise.resolve()}async function z9(){let t;try{t=await W9()}catch{}if(t)return t;{const e=jU();return H9(e).catch(n=>ef.warn(`Failed to persist debug token to IndexedDB. Error: ${n}`)),e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C1(){return Dg().enabled}async function O1(){const t=Dg();if(t.enabled&&t.token)return t.token.promise;throw Error(`
            Can't get debug token in production mode.
        `)}function G9(){const t=ex(),e=Dg();if(e.initialized=!0,typeof t.FIREBASE_APPCHECK_DEBUG_TOKEN!="string"&&t.FIREBASE_APPCHECK_DEBUG_TOKEN!==!0)return;e.enabled=!0;const n=new il;e.token=n,typeof t.FIREBASE_APPCHECK_DEBUG_TOKEN=="string"?n.resolve(t.FIREBASE_APPCHECK_DEBUG_TOKEN):n.resolve(z9())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y9={error:"UNKNOWN_ERROR"};function q9(t){return Cg.encodeString(JSON.stringify(t),!1)}async function eb(t,e=!1){const n=t.app;E1(n);const r=ir(n);let i=r.token,s;if(i&&!su(i)&&(r.token=void 0,i=void 0),!i){const l=await r.cachedTokenPromise;l&&(su(l)?i=l:await ly(n,void 0))}if(!e&&i&&su(i))return{token:i.token};let o=!1;if(C1()){r.exchangeTokenPromise||(r.exchangeTokenPromise=I1(Hx(n,await O1()),t.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),o=!0);const l=await r.exchangeTokenPromise;return await ly(n,l),r.token=l,{token:l.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),o=!0),i=await ir(n).exchangeTokenPromise}catch(l){l.code==="appCheck/throttled"?ef.warn(l.message):ef.error(l),s=l}let a;return i?s?su(i)?a={token:i.token,internalError:s}:a=RE(s):(a={token:i.token},r.token=i,await ly(n,i)):a=RE(s),o&&Qx(n,a),a}async function X9(t){const e=t.app;E1(e);const{provider:n}=ir(e);if(C1()){const r=await O1(),{token:i}=await I1(Hx(e,r),t.heartbeatServiceProvider);return{token:i}}else{const{token:r}=await n.getToken();return{token:r}}}function qx(t,e,n,r){const{app:i}=t,s=ir(i),o={next:n,error:r,type:e};if(s.tokenObservers=[...s.tokenObservers,o],s.token&&su(s.token)){const a=s.token;Promise.resolve().then(()=>{n({token:a.token}),DE(t)}).catch(()=>{})}s.cachedTokenPromise.then(()=>DE(t))}function Xx(t,e){const n=ir(t),r=n.tokenObservers.filter(i=>i.next!==e);r.length===0&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),n.tokenObservers=r}function DE(t){const{app:e}=t,n=ir(e);let r=n.tokenRefresher;r||(r=Q9(t),n.tokenRefresher=r),!r.isRunning()&&n.isTokenAutoRefreshEnabled&&r.start()}function Q9(t){const{app:e}=t;return new M9(async()=>{const n=ir(e);let r;if(n.token?r=await eb(t,!0):r=await eb(t),r.error)throw r.error;if(r.internalError)throw r.internalError},()=>!0,()=>{const n=ir(e);if(n.token){let r=n.token.issuedAtTimeMillis+(n.token.expireTimeMillis-n.token.issuedAtTimeMillis)*.5+3e5;const i=n.token.expireTimeMillis-5*60*1e3;return r=Math.min(r,i),Math.max(0,r-Date.now())}else return 0},PE.RETRIAL_MIN_WAIT,PE.RETRIAL_MAX_WAIT)}function Qx(t,e){const n=ir(t).tokenObservers;for(const r of n)try{r.type==="EXTERNAL"&&e.error!=null?r.error(e.error):r.next(e)}catch{}}function su(t){return t.expireTimeMillis-Date.now()>0}function RE(t){return{token:q9(Y9),error:t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J9{constructor(e,n){this.app=e,this.heartbeatServiceProvider=n}_delete(){const{tokenObservers:e}=ir(this.app);for(const n of e)Xx(this.app,n.next);return Promise.resolve()}}function Z9(t,e){return new J9(t,e)}function e8(t){return{getToken:e=>eb(t,e),getLimitedUseToken:()=>X9(t),addTokenListener:e=>qx(t,"INTERNAL",e),removeTokenListener:e=>Xx(t.app,e)}}const t8="@firebase/app-check",n8="0.8.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r8="https://www.google.com/recaptcha/api.js";function i8(t,e){const n=new il,r=ir(t);r.reCAPTCHAState={initialized:n};const i=s8(t),s=xE(!1);return s?NE(t,e,s,i,n):l8(()=>{const o=xE(!1);if(!o)throw new Error("no recaptcha");NE(t,e,o,i,n)}),n.promise}function NE(t,e,n,r,i){n.ready(()=>{a8(t,e,n,r),i.resolve(n)})}function s8(t){const e=`fire_app_check_${t.name}`,n=document.createElement("div");return n.id=e,n.style.display="none",document.body.appendChild(n),e}async function o8(t){E1(t);const n=await ir(t).reCAPTCHAState.initialized.promise;return new Promise((r,i)=>{const s=ir(t).reCAPTCHAState;n.ready(()=>{r(n.execute(s.widgetId,{action:"fire_app_check"}))})})}function a8(t,e,n,r){const i=n.render(r,{sitekey:e,size:"invisible",callback:()=>{ir(t).reCAPTCHAState.succeeded=!0},"error-callback":()=>{ir(t).reCAPTCHAState.succeeded=!1}}),s=ir(t);s.reCAPTCHAState=Object.assign(Object.assign({},s.reCAPTCHAState),{widgetId:i})}function l8(t){const e=document.createElement("script");e.src=r8,e.onload=t,document.head.appendChild(e)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A1{constructor(e){this._siteKey=e,this._throttleData=null}async getToken(){var e,n,r;c8(this._throttleData);const i=await o8(this._app).catch(o=>{throw ci.create("recaptcha-error")});if(!(!((e=ir(this._app).reCAPTCHAState)===null||e===void 0)&&e.succeeded))throw ci.create("recaptcha-error");let s;try{s=await I1(F9(this._app,i),this._heartbeatServiceProvider)}catch(o){throw!((n=o.code)===null||n===void 0)&&n.includes("fetch-status-error")?(this._throttleData=u8(Number((r=o.customData)===null||r===void 0?void 0:r.httpStatus),this._throttleData),ci.create("throttled",{time:jx(this._throttleData.allowRequestsAfter-Date.now()),httpStatus:this._throttleData.httpStatus})):o}return this._throttleData=null,s}initialize(e){this._app=e,this._heartbeatServiceProvider=Fs(e,"heartbeat"),i8(e,this._siteKey).catch(()=>{})}isEqual(e){return e instanceof A1?this._siteKey===e._siteKey:!1}}function u8(t,e){if(t===404||t===403)return{backoffCount:1,allowRequestsAfter:Date.now()+N9,httpStatus:t};{const n=e?e.backoffCount:0,r=W0(n,1e3,2);return{backoffCount:n+1,allowRequestsAfter:Date.now()+r,httpStatus:t}}}function c8(t){if(t&&Date.now()-t.allowRequestsAfter<=0)throw ci.create("throttled",{time:jx(t.allowRequestsAfter-Date.now()),httpStatus:t.httpStatus})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d8(t=gc(),e){t=zt(t);const n=Fs(t,"app-check");if(Dg().initialized||G9(),C1()&&O1().then(i=>console.log(`App Check debug token: ${i}. You will need to add it to your app's App Check settings in the Firebase console for it to work.`)),n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(s.isTokenAutoRefreshEnabled===e.isTokenAutoRefreshEnabled&&s.provider.isEqual(e.provider))return i;throw ci.create("already-initialized",{appName:t.name})}const r=n.initialize({options:e});return f8(t,e.provider,e.isTokenAutoRefreshEnabled),ir(t).isTokenAutoRefreshEnabled&&qx(r,"INTERNAL",()=>{}),r}function f8(t,e,n){const r=x9(t,Object.assign({},Vx));r.activated=!0,r.provider=e,r.cachedTokenPromise=K9(t).then(i=>(i&&su(i)&&(r.token=i,Qx(t,{token:i.token})),i)),r.isTokenAutoRefreshEnabled=n===void 0?t.automaticDataCollectionEnabled:n,r.provider.initialize(t)}const h8="app-check",ME="app-check-internal";function p8(){pi(new ei(h8,t=>{const e=t.getProvider("app").getImmediate(),n=t.getProvider("heartbeat");return Z9(e,n)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,n)=>{t.getProvider(ME).initialize()})),pi(new ei(ME,t=>{const e=t.getProvider("app-check").getImmediate();return e8(e)},"PUBLIC").setInstantiationMode("EXPLICIT")),Er(t8,n8)}p8();const m8={apiKey:"AIzaSyAjt3RyE1KkK110jxZQUrm9kjfclWO126k",authDomain:"personal-website-c3482.firebaseapp.com",projectId:"personal-website-c3482",storageBucket:"personal-website-c3482.appspot.com",messagingSenderId:"110986644823",appId:"1:110986644823:web:4081c484521ba6b37bc212",measurementId:"G-PF7D6JKSC3"},g8=t=>{d8(t,{provider:new A1("6LdIOxQpAAAAAKwbiQMkZD5Fid1DmlsKvWxOIQA5"),isTokenAutoRefreshEnabled:!0})},v8=()=>{const t=hx(m8);return g8(t),E9(t),t},Jx=v8();var y8=!1;/*!
 * pinia v2.1.7
 * (c) 2023 Eduardo San Martin Morote
 * @license MIT
 */let Zx;const Rg=t=>Zx=t,eD=Symbol();function tb(t){return t&&typeof t=="object"&&Object.prototype.toString.call(t)==="[object Object]"&&typeof t.toJSON!="function"}var yd;(function(t){t.direct="direct",t.patchObject="patch object",t.patchFunction="patch function"})(yd||(yd={}));function b8(){const t=ug(!0),e=t.run(()=>re({}));let n=[],r=[];const i=jf({install(s){Rg(i),i._a=s,s.provide(eD,i),s.config.globalProperties.$pinia=i,r.forEach(o=>n.push(o)),r=[]},use(s){return!this._a&&!y8?r.push(s):n.push(s),this},_p:n,_a:null,_e:t,_s:new Map,state:e});return i}const tD=()=>{};function LE(t,e,n,r=tD){t.push(e);const i=()=>{const s=t.indexOf(e);s>-1&&(t.splice(s,1),r())};return!n&&cg()&&jw(i),i}function $l(t,...e){t.slice().forEach(n=>{n(...e)})}const w8=t=>t();function nb(t,e){t instanceof Map&&e instanceof Map&&e.forEach((n,r)=>t.set(r,n)),t instanceof Set&&e instanceof Set&&e.forEach(t.add,t);for(const n in e){if(!e.hasOwnProperty(n))continue;const r=e[n],i=t[n];tb(i)&&tb(r)&&t.hasOwnProperty(n)&&!cn(r)&&!As(r)?t[n]=nb(i,r):t[n]=r}return t}const _8=Symbol();function T8(t){return!tb(t)||!t.hasOwnProperty(_8)}const{assign:Io}=Object;function S8(t){return!!(cn(t)&&t.effect)}function E8(t,e,n,r){const{state:i,actions:s,getters:o}=e,a=n.state.value[t];let l;function u(){a||(n.state.value[t]=i?i():{});const c=pk(n.state.value[t]);return Io(c,s,Object.keys(o||{}).reduce((d,f)=>(d[f]=jf(ee(()=>{Rg(n);const h=n._s.get(t);return o[f].call(h,h)})),d),{}))}return l=nD(t,u,e,n,r,!0),l}function nD(t,e,n={},r,i,s){let o;const a=Io({actions:{}},n),l={deep:!0};let u,c,d=[],f=[],h;const p=r.state.value[t];!s&&!p&&(r.state.value[t]={}),re({});let m;function g(A){let O;u=c=!1,typeof A=="function"?(A(r.state.value[t]),O={type:yd.patchFunction,storeId:t,events:h}):(nb(r.state.value[t],A),O={type:yd.patchObject,payload:A,storeId:t,events:h});const E=m=Symbol();Wn().then(()=>{m===E&&(u=!0)}),c=!0,$l(d,O,r.state.value[t])}const y=s?function(){const{state:O}=n,E=O?O():{};this.$patch(M=>{Io(M,E)})}:tD;function v(){o.stop(),d=[],f=[],r._s.delete(t)}function _(A,O){return function(){Rg(r);const E=Array.from(arguments),M=[],F=[];function N(D){M.push(D)}function x(D){F.push(D)}$l(f,{args:E,name:A,store:w,after:N,onError:x});let R;try{R=O.apply(this&&this.$id===t?this:w,E)}catch(D){throw $l(F,D),D}return R instanceof Promise?R.then(D=>($l(M,D),D)).catch(D=>($l(F,D),Promise.reject(D))):($l(M,R),R)}}const b={_p:r,$id:t,$onAction:LE.bind(null,f),$patch:g,$reset:y,$subscribe(A,O={}){const E=LE(d,A,O.detached,()=>M()),M=o.run(()=>It(()=>r.state.value[t],F=>{(O.flush==="sync"?c:u)&&A({storeId:t,type:yd.direct,events:h},F)},Io({},l,O)));return E},$dispose:v},w=xn(b);r._s.set(t,w);const P=(r._a&&r._a.runWithContext||w8)(()=>r._e.run(()=>(o=ug()).run(e)));for(const A in P){const O=P[A];if(cn(O)&&!S8(O)||As(O))s||(p&&T8(O)&&(cn(O)?O.value=p[A]:nb(O,p[A])),r.state.value[t][A]=O);else if(typeof O=="function"){const E=_(A,O);P[A]=E,a.actions[A]=O}}return Io(w,P),Io(_t(w),P),Object.defineProperty(w,"$state",{get:()=>r.state.value[t],set:A=>{g(O=>{Io(O,A)})}}),r._p.forEach(A=>{Io(w,o.run(()=>A({store:w,app:r._a,pinia:r,options:a})))}),p&&s&&n.hydrate&&n.hydrate(w.$state,p),u=!0,c=!0,w}function rD(t,e,n){let r,i;const s=typeof e=="function";typeof t=="string"?(r=t,i=s?n:e):(i=t,r=t.id);function o(a,l){const u=zk();return a=a||(u?Qr(eD,null):null),a&&Rg(a),a=Zx,a._s.has(r)||(s?nD(r,e,i,a):E8(r,i,a)),a._s.get(r)}return o.$id=r,o}function en(t){{t=_t(t);const e={};for(const n in t){const r=t[n];(cn(r)||As(r))&&(e[n]=$u(t,n))}return e}}const $E=(t,e)=>{const n=t.storage||sessionStorage,r=t.key||e.$id;if(t.paths){const i=t.paths.reduce((s,o)=>(s[o]=e.$state[o],s),{});n.setItem(r,JSON.stringify(i))}else n.setItem(r,JSON.stringify(e.$state))};var I8=({options:t,store:e})=>{var n,r,i,s;if((n=t.persist)!=null&&n.enabled){const o=[{key:e.$id,storage:sessionStorage}],a=(i=(r=t.persist)==null?void 0:r.strategies)!=null&&i.length?(s=t.persist)==null?void 0:s.strategies:o;a.forEach(l=>{const u=l.storage||sessionStorage,c=l.key||e.$id,d=u.getItem(c);d&&(e.$patch(JSON.parse(d)),$E(l,e))}),e.$subscribe(()=>{a.forEach(l=>{$E(l,e)})})}};const iD=b8();iD.use(I8);const Gr=class Gr{constructor(e,n,r={}){Gr.log(r.debug,n),r.route&&RT.push({name:r.route}),c6({title:e,type:e.toLowerCase(),text:n},5e3)}};ga(Gr,"success",(e,n={})=>new Gr("Success",e,n)),ga(Gr,"warning",(e,n={})=>new Gr("Warning",e,n)),ga(Gr,"error",(e,n={})=>new Gr("Error",e,n)),ga(Gr,"generalError",(e,n)=>new Gr("Error",(n==null?void 0:n.message)||sD,{debug:e})),ga(Gr,"firebaseError",(e,n)=>(Gr.log(e,n),n instanceof ki?n.message=uy[n.code]:n instanceof Error&&Object.keys(uy).includes(n.name)?n.message=uy[n.name]:n=void 0,Gr.generalError(e,n))),ga(Gr,"log",(e,n)=>{e&&console.log(n)});let qe=Gr;const sD="Something went wrong",uy={"":sD,"auth/user-not-found":"Unknown user","auth/invalid-email":"Invalid e-mail address","auth/email-already-in-use":"E-mail already in use","auth/wrong-password":"Wrong password","auth/too-many-requests":"Temporarily blocked","auth/weak-password":"Weak password","auth/requires-recent-login":"You need to re-login to do this","permission-denied":"Not logged in or no permission"};var C8=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Ue,k1=k1||{},ft=C8||self;function Ng(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function Gf(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function O8(t){return Object.prototype.hasOwnProperty.call(t,cy)&&t[cy]||(t[cy]=++A8)}var cy="closure_uid_"+(1e9*Math.random()>>>0),A8=0;function k8(t,e,n){return t.call.apply(t.bind,arguments)}function P8(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function Ur(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?Ur=k8:Ur=P8,Ur.apply(null,arguments)}function jh(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function mr(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i].apply(r,o)}}function ca(){this.s=this.s,this.o=this.o}var x8=0;ca.prototype.s=!1;ca.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),x8!=0)&&O8(this)};ca.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const oD=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function P1(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function FE(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(Ng(r)){const i=t.length||0,s=r.length||0;t.length=i+s;for(let o=0;o<s;o++)t[i+o]=r[o]}else t.push(r)}}function Vr(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}Vr.prototype.h=function(){this.defaultPrevented=!0};var D8=function(){if(!ft.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{ft.addEventListener("test",()=>{},e),ft.removeEventListener("test",()=>{},e)}catch{}return t}();function tf(t){return/^[\s\xa0]*$/.test(t)}function Mg(){var t=ft.navigator;return t&&(t=t.userAgent)?t:""}function bs(t){return Mg().indexOf(t)!=-1}function x1(t){return x1[" "](t),t}x1[" "]=function(){};function R8(t,e){var n=IB;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}var N8=bs("Opera"),Wu=bs("Trident")||bs("MSIE"),aD=bs("Edge"),rb=aD||Wu,lD=bs("Gecko")&&!(Mg().toLowerCase().indexOf("webkit")!=-1&&!bs("Edge"))&&!(bs("Trident")||bs("MSIE"))&&!bs("Edge"),M8=Mg().toLowerCase().indexOf("webkit")!=-1&&!bs("Edge");function uD(){var t=ft.document;return t?t.documentMode:void 0}var ib;e:{var dy="",fy=function(){var t=Mg();if(lD)return/rv:([^\);]+)(\)|;)/.exec(t);if(aD)return/Edge\/([\d\.]+)/.exec(t);if(Wu)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(M8)return/WebKit\/(\S+)/.exec(t);if(N8)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(fy&&(dy=fy?fy[1]:""),Wu){var hy=uD();if(hy!=null&&hy>parseFloat(dy)){ib=String(hy);break e}}ib=dy}var sb;if(ft.document&&Wu){var UE=uD();sb=UE||parseInt(ib,10)||void 0}else sb=void 0;var L8=sb;function nf(t,e){if(Vr.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(lD){e:{try{x1(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:$8[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&nf.$.h.call(this)}}mr(nf,Vr);var $8={2:"touch",3:"pen",4:"mouse"};nf.prototype.h=function(){nf.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var Yf="closure_listenable_"+(1e6*Math.random()|0),F8=0;function U8(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=i,this.key=++F8,this.fa=this.ia=!1}function Lg(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function D1(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function V8(t,e){for(const n in t)e.call(void 0,t[n],n,t)}function cD(t){const e={};for(const n in t)e[n]=t[n];return e}const VE="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function dD(t,e){let n,r;for(let i=1;i<arguments.length;i++){r=arguments[i];for(n in r)t[n]=r[n];for(let s=0;s<VE.length;s++)n=VE[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function $g(t){this.src=t,this.g={},this.h=0}$g.prototype.add=function(t,e,n,r,i){var s=t.toString();t=this.g[s],t||(t=this.g[s]=[],this.h++);var o=ab(t,e,r,i);return-1<o?(e=t[o],n||(e.ia=!1)):(e=new U8(e,this.src,s,!!r,i),e.ia=n,t.push(e)),e};function ob(t,e){var n=e.type;if(n in t.g){var r=t.g[n],i=oD(r,e),s;(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(Lg(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function ab(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.fa&&s.listener==e&&s.capture==!!n&&s.la==r)return i}return-1}var R1="closure_lm_"+(1e6*Math.random()|0),py={};function fD(t,e,n,r,i){if(r&&r.once)return pD(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)fD(t,e[s],n,r,i);return null}return n=L1(n),t&&t[Yf]?t.O(e,n,Gf(r)?!!r.capture:!!r,i):hD(t,e,n,!1,r,i)}function hD(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=Gf(i)?!!i.capture:!!i,a=M1(t);if(a||(t[R1]=a=new $g(t)),n=a.add(e,n,r,o,s),n.proxy)return n;if(r=B8(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)D8||(i=o),i===void 0&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(gD(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function B8(){function t(n){return e.call(t.src,t.listener,n)}const e=j8;return t}function pD(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)pD(t,e[s],n,r,i);return null}return n=L1(n),t&&t[Yf]?t.P(e,n,Gf(r)?!!r.capture:!!r,i):hD(t,e,n,!0,r,i)}function mD(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)mD(t,e[s],n,r,i);else r=Gf(r)?!!r.capture:!!r,n=L1(n),t&&t[Yf]?(t=t.i,e=String(e).toString(),e in t.g&&(s=t.g[e],n=ab(s,n,r,i),-1<n&&(Lg(s[n]),Array.prototype.splice.call(s,n,1),s.length==0&&(delete t.g[e],t.h--)))):t&&(t=M1(t))&&(e=t.g[e.toString()],t=-1,e&&(t=ab(e,n,r,i)),(n=-1<t?e[t]:null)&&N1(n))}function N1(t){if(typeof t!="number"&&t&&!t.fa){var e=t.src;if(e&&e[Yf])ob(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(gD(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=M1(e))?(ob(n,t),n.h==0&&(n.src=null,e[R1]=null)):Lg(t)}}}function gD(t){return t in py?py[t]:py[t]="on"+t}function j8(t,e){if(t.fa)t=!0;else{e=new nf(e,this);var n=t.listener,r=t.la||t.src;t.ia&&N1(t),t=n.call(r,e)}return t}function M1(t){return t=t[R1],t instanceof $g?t:null}var my="__closure_events_fn_"+(1e9*Math.random()>>>0);function L1(t){return typeof t=="function"?t:(t[my]||(t[my]=function(e){return t.handleEvent(e)}),t[my])}function pr(){ca.call(this),this.i=new $g(this),this.S=this,this.J=null}mr(pr,ca);pr.prototype[Yf]=!0;pr.prototype.removeEventListener=function(t,e,n,r){mD(this,t,e,n,r)};function Ir(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,typeof e=="string")e=new Vr(e,t);else if(e instanceof Vr)e.target=e.target||t;else{var i=e;e=new Vr(r,t),dD(e,i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];i=Hh(o,r,!0,e)&&i}if(o=e.g=t,i=Hh(o,r,!0,e)&&i,i=Hh(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)o=e.g=n[s],i=Hh(o,r,!1,e)&&i}pr.prototype.N=function(){if(pr.$.N.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Lg(n[r]);delete t.g[e],t.h--}}this.J=null};pr.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};pr.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function Hh(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.fa&&o.capture==n){var a=o.listener,l=o.la||o.src;o.ia&&ob(t.i,o),i=a.call(l,r)!==!1&&i}}return i&&!r.defaultPrevented}var $1=ft.JSON.stringify;class H8{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}function W8(){var t=F1;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class K8{constructor(){this.h=this.g=null}add(e,n){const r=vD.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}}var vD=new H8(()=>new z8,t=>t.reset());class z8{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function G8(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function Y8(t){ft.setTimeout(()=>{throw t},0)}let rf,sf=!1,F1=new K8,yD=()=>{const t=ft.Promise.resolve(void 0);rf=()=>{t.then(q8)}};var q8=()=>{for(var t;t=W8();){try{t.h.call(t.g)}catch(n){Y8(n)}var e=vD;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}sf=!1};function Fg(t,e){pr.call(this),this.h=t||1,this.g=e||ft,this.j=Ur(this.qb,this),this.l=Date.now()}mr(Fg,pr);Ue=Fg.prototype;Ue.ga=!1;Ue.T=null;Ue.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Ir(this,"tick"),this.ga&&(U1(this),this.start()))}};Ue.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function U1(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}Ue.N=function(){Fg.$.N.call(this),U1(this),delete this.g};function V1(t,e,n){if(typeof t=="function")n&&(t=Ur(t,n));else if(t&&typeof t.handleEvent=="function")t=Ur(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:ft.setTimeout(t,e||0)}function bD(t){t.g=V1(()=>{t.g=null,t.i&&(t.i=!1,bD(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}class X8 extends ca{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:bD(this)}N(){super.N(),this.g&&(ft.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function of(t){ca.call(this),this.h=t,this.g={}}mr(of,ca);var BE=[];function wD(t,e,n,r){Array.isArray(n)||(n&&(BE[0]=n.toString()),n=BE);for(var i=0;i<n.length;i++){var s=fD(e,n[i],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function _D(t){D1(t.g,function(e,n){this.g.hasOwnProperty(n)&&N1(e)},t),t.g={}}of.prototype.N=function(){of.$.N.call(this),_D(this)};of.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function Ug(){this.g=!0}Ug.prototype.Ea=function(){this.g=!1};function Q8(t,e,n,r,i,s){t.info(function(){if(t.g)if(s)for(var o="",a=s.split("&"),l=0;l<a.length;l++){var u=a[l].split("=");if(1<u.length){var c=u[0];u=u[1];var d=c.split("_");o=2<=d.length&&d[1]=="type"?o+(c+"="+u+"&"):o+(c+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+`
`+n+`
`+o})}function J8(t,e,n,r,i,s,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+`
`+n+`
`+s+" "+o})}function ou(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+eB(t,n)+(r?" "+r:"")})}function Z8(t,e){t.info(function(){return"TIMEOUT: "+e})}Ug.prototype.info=function(){};function eB(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if(s!="noop"&&s!="stop"&&s!="close")for(var o=1;o<i.length;o++)i[o]=""}}}}return $1(n)}catch{return e}}var Il={},jE=null;function Vg(){return jE=jE||new pr}Il.Ta="serverreachability";function TD(t){Vr.call(this,Il.Ta,t)}mr(TD,Vr);function af(t){const e=Vg();Ir(e,new TD(e))}Il.STAT_EVENT="statevent";function SD(t,e){Vr.call(this,Il.STAT_EVENT,t),this.stat=e}mr(SD,Vr);function qr(t){const e=Vg();Ir(e,new SD(e,t))}Il.Ua="timingevent";function ED(t,e){Vr.call(this,Il.Ua,t),this.size=e}mr(ED,Vr);function qf(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return ft.setTimeout(function(){t()},e)}var Bg={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},ID={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function B1(){}B1.prototype.h=null;function HE(t){return t.h||(t.h=t.i())}function CD(){}var Xf={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function j1(){Vr.call(this,"d")}mr(j1,Vr);function H1(){Vr.call(this,"c")}mr(H1,Vr);var lb;function jg(){}mr(jg,B1);jg.prototype.g=function(){return new XMLHttpRequest};jg.prototype.i=function(){return{}};lb=new jg;function Qf(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new of(this),this.P=tB,t=rb?125:void 0,this.V=new Fg(t),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new OD}function OD(){this.i=null,this.g="",this.h=!1}var tB=45e3,ub={},cm={};Ue=Qf.prototype;Ue.setTimeout=function(t){this.P=t};function cb(t,e,n){t.L=1,t.v=Wg(ro(e)),t.s=n,t.S=!0,AD(t,null)}function AD(t,e){t.G=Date.now(),Jf(t),t.A=ro(t.v);var n=t.A,r=t.W;Array.isArray(r)||(r=[String(r)]),LD(n.i,"t",r),t.C=0,n=t.l.J,t.h=new OD,t.g=rR(t.l,n?e:null,!t.s),0<t.O&&(t.M=new X8(Ur(t.Pa,t,t.g),t.O)),wD(t.U,t.g,"readystatechange",t.nb),e=t.I?cD(t.I):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.A,t.u,t.s,e)):(t.u="GET",t.g.ha(t.A,t.u,null,e)),af(),Q8(t.j,t.u,t.A,t.m,t.W,t.s)}Ue.nb=function(t){t=t.target;const e=this.M;e&&Ts(t)==3?e.l():this.Pa(t)};Ue.Pa=function(t){try{if(t==this.g)e:{const c=Ts(this.g);var e=this.g.Ia();const d=this.g.da();if(!(3>c)&&(c!=3||rb||this.g&&(this.h.h||this.g.ja()||GE(this.g)))){this.J||c!=4||e==7||(e==8||0>=d?af(3):af(2)),Hg(this);var n=this.g.da();this.ca=n;t:if(kD(this)){var r=GE(this.g);t="";var i=r.length,s=Ts(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Na(this),bd(this);var o="";break t}this.h.i=new ft.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.splice(0,i),this.h.g+=t,this.C=0,o=this.h.g}else o=this.g.ja();if(this.i=n==200,J8(this.j,this.u,this.A,this.m,this.W,c,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!tf(a)){var u=a;break t}}u=null}if(n=u)ou(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,db(this,n);else{this.i=!1,this.o=3,qr(12),Na(this),bd(this);break e}}this.S?(PD(this,c,o),rb&&this.i&&c==3&&(wD(this.U,this.V,"tick",this.mb),this.V.start())):(ou(this.j,this.m,o,null),db(this,o)),c==4&&Na(this),this.i&&!this.J&&(c==4?ZD(this.l,this):(this.i=!1,Jf(this)))}else TB(this.g),n==400&&0<o.indexOf("Unknown SID")?(this.o=3,qr(12)):(this.o=0,qr(13)),Na(this),bd(this)}}}catch{}finally{}};function kD(t){return t.g?t.u=="GET"&&t.L!=2&&t.l.Ha:!1}function PD(t,e,n){let r=!0,i;for(;!t.J&&t.C<n.length;)if(i=nB(t,n),i==cm){e==4&&(t.o=4,qr(14),r=!1),ou(t.j,t.m,null,"[Incomplete Response]");break}else if(i==ub){t.o=4,qr(15),ou(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else ou(t.j,t.m,i,null),db(t,i);kD(t)&&i!=cm&&i!=ub&&(t.h.g="",t.C=0),e!=4||n.length!=0||t.h.h||(t.o=1,qr(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,e=t.l,e.g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),q1(e),e.M=!0,qr(11))):(ou(t.j,t.m,n,"[Invalid Chunked Response]"),Na(t),bd(t))}Ue.mb=function(){if(this.g){var t=Ts(this.g),e=this.g.ja();this.C<e.length&&(Hg(this),PD(this,t,e),this.i&&t!=4&&Jf(this))}};function nB(t,e){var n=t.C,r=e.indexOf(`
`,n);return r==-1?cm:(n=Number(e.substring(n,r)),isNaN(n)?ub:(r+=1,r+n>e.length?cm:(e=e.slice(r,r+n),t.C=r+n,e)))}Ue.cancel=function(){this.J=!0,Na(this)};function Jf(t){t.Y=Date.now()+t.P,xD(t,t.P)}function xD(t,e){if(t.B!=null)throw Error("WatchDog timer not null");t.B=qf(Ur(t.lb,t),e)}function Hg(t){t.B&&(ft.clearTimeout(t.B),t.B=null)}Ue.lb=function(){this.B=null;const t=Date.now();0<=t-this.Y?(Z8(this.j,this.A),this.L!=2&&(af(),qr(17)),Na(this),this.o=2,bd(this)):xD(this,this.Y-t)};function bd(t){t.l.H==0||t.J||ZD(t.l,t)}function Na(t){Hg(t);var e=t.M;e&&typeof e.sa=="function"&&e.sa(),t.M=null,U1(t.V),_D(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function db(t,e){try{var n=t.l;if(n.H!=0&&(n.g==t||fb(n.i,t))){if(!t.K&&fb(n.i,t)&&n.H==3){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<t.G)hm(n),Gg(n);else break e;Y1(n),qr(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&n.A==0&&!n.v&&(n.v=qf(Ur(n.ib,n),6e3));if(1>=UD(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else Ma(n,11)}else if((t.K||n.g==t)&&hm(n),!tf(e))for(i=n.Ja.g.parse(e),e=0;e<i.length;e++){let u=i[e];if(n.V=u[0],u=u[1],n.H==2)if(u[0]=="c"){n.K=u[1],n.pa=u[2];const c=u[3];c!=null&&(n.ra=c,n.l.info("VER="+n.ra));const d=u[4];d!=null&&(n.Ga=d,n.l.info("SVER="+n.Ga));const f=u[5];f!=null&&typeof f=="number"&&0<f&&(r=1.5*f,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const h=t.g;if(h){const p=h.g?h.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(p){var s=r.i;s.g||p.indexOf("spdy")==-1&&p.indexOf("quic")==-1&&p.indexOf("h2")==-1||(s.j=s.l,s.g=new Set,s.h&&(W1(s,s.h),s.h=null))}if(r.F){const m=h.g?h.g.getResponseHeader("X-HTTP-Session-Id"):null;m&&(r.Da=m,vn(r.I,r.F,m))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms")),r=n;var o=t;if(r.wa=nR(r,r.J?r.pa:null,r.Y),o.K){VD(r.i,o);var a=o,l=r.L;l&&a.setTimeout(l),a.B&&(Hg(a),Jf(a)),r.g=o}else QD(r);0<n.j.length&&Yg(n)}else u[0]!="stop"&&u[0]!="close"||Ma(n,7);else n.H==3&&(u[0]=="stop"||u[0]=="close"?u[0]=="stop"?Ma(n,7):G1(n):u[0]!="noop"&&n.h&&n.h.Aa(u),n.A=0)}}af(4)}catch{}}function rB(t){if(t.Z&&typeof t.Z=="function")return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(Ng(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function iB(t){if(t.ta&&typeof t.ta=="function")return t.ta();if(!t.Z||typeof t.Z!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(Ng(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}function DD(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(Ng(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=iB(t),r=rB(t),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}var RD=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function sB(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function ja(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof ja){this.h=t.h,dm(this,t.j),this.s=t.s,this.g=t.g,fm(this,t.m),this.l=t.l;var e=t.i,n=new lf;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),WE(this,n),this.o=t.o}else t&&(e=String(t).match(RD))?(this.h=!1,dm(this,e[1]||"",!0),this.s=Qc(e[2]||""),this.g=Qc(e[3]||"",!0),fm(this,e[4]),this.l=Qc(e[5]||"",!0),WE(this,e[6]||"",!0),this.o=Qc(e[7]||"")):(this.h=!1,this.i=new lf(null,this.h))}ja.prototype.toString=function(){var t=[],e=this.j;e&&t.push(Jc(e,KE,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(Jc(e,KE,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(Jc(n,n.charAt(0)=="/"?lB:aB,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",Jc(n,cB)),t.join("")};function ro(t){return new ja(t)}function dm(t,e,n){t.j=n?Qc(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function fm(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function WE(t,e,n){e instanceof lf?(t.i=e,dB(t.i,t.h)):(n||(e=Jc(e,uB)),t.i=new lf(e,t.h))}function vn(t,e,n){t.i.set(e,n)}function Wg(t){return vn(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function Qc(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Jc(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,oB),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function oB(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var KE=/[#\/\?@]/g,aB=/[#\?:]/g,lB=/[#\?]/g,uB=/[#\?@]/g,cB=/#/g;function lf(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function da(t){t.g||(t.g=new Map,t.h=0,t.i&&sB(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}Ue=lf.prototype;Ue.add=function(t,e){da(this),this.i=null,t=vc(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function ND(t,e){da(t),e=vc(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function MD(t,e){return da(t),e=vc(t,e),t.g.has(e)}Ue.forEach=function(t,e){da(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)};Ue.ta=function(){da(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const i=t[r];for(let s=0;s<i.length;s++)n.push(e[r])}return n};Ue.Z=function(t){da(this);let e=[];if(typeof t=="string")MD(this,t)&&(e=e.concat(this.g.get(vc(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};Ue.set=function(t,e){return da(this),this.i=null,t=vc(this,t),MD(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};Ue.get=function(t,e){return t?(t=this.Z(t),0<t.length?String(t[0]):e):e};function LD(t,e,n){ND(t,e),0<n.length&&(t.i=null,t.g.set(vc(t,e),P1(n)),t.h+=n.length)}Ue.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const s=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var i=s;o[r]!==""&&(i+="="+encodeURIComponent(String(o[r]))),t.push(i)}}return this.i=t.join("&")};function vc(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function dB(t,e){e&&!t.j&&(da(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(ND(this,r),LD(this,i,n))},t)),t.j=e}var fB=class{constructor(t,e){this.g=t,this.map=e}};function $D(t){this.l=t||hB,ft.PerformanceNavigationTiming?(t=ft.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(ft.g&&ft.g.Ka&&ft.g.Ka()&&ft.g.Ka().ec),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var hB=10;function FD(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function UD(t){return t.h?1:t.g?t.g.size:0}function fb(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function W1(t,e){t.g?t.g.add(e):t.h=e}function VD(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}$D.prototype.cancel=function(){if(this.i=BD(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function BD(t){if(t.h!=null)return t.i.concat(t.h.F);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return P1(t.i)}var pB=class{stringify(t){return ft.JSON.stringify(t,void 0)}parse(t){return ft.JSON.parse(t,void 0)}};function mB(){this.g=new pB}function gB(t,e,n){const r=n||"";try{DD(t,function(i,s){let o=i;Gf(i)&&(o=$1(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function vB(t,e){const n=new Ug;if(ft.Image){const r=new Image;r.onload=jh(Wh,n,r,"TestLoadImage: loaded",!0,e),r.onerror=jh(Wh,n,r,"TestLoadImage: error",!1,e),r.onabort=jh(Wh,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=jh(Wh,n,r,"TestLoadImage: timeout",!1,e),ft.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function Wh(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function Zf(t){this.l=t.fc||null,this.j=t.ob||!1}mr(Zf,B1);Zf.prototype.g=function(){return new Kg(this.l,this.j)};Zf.prototype.i=function(t){return function(){return t}}({});function Kg(t,e){pr.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=K1,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}mr(Kg,pr);var K1=0;Ue=Kg.prototype;Ue.open=function(t,e){if(this.readyState!=K1)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,uf(this)};Ue.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||ft).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};Ue.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,eh(this)),this.readyState=K1};Ue.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,uf(this)),this.g&&(this.readyState=3,uf(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof ft.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;jD(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))};function jD(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}Ue.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?eh(this):uf(this),this.readyState==3&&jD(this)}};Ue.Za=function(t){this.g&&(this.response=this.responseText=t,eh(this))};Ue.Ya=function(t){this.g&&(this.response=t,eh(this))};Ue.ka=function(){this.g&&eh(this)};function eh(t){t.readyState=4,t.l=null,t.j=null,t.A=null,uf(t)}Ue.setRequestHeader=function(t,e){this.v.append(t,e)};Ue.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};Ue.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function uf(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(Kg.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var yB=ft.JSON.parse;function Fn(t){pr.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=HD,this.L=this.M=!1}mr(Fn,pr);var HD="",bB=/^https?$/i,wB=["POST","PUT"];Ue=Fn.prototype;Ue.Oa=function(t){this.M=t};Ue.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():lb.g(),this.C=this.u?HE(this.u):HE(lb),this.g.onreadystatechange=Ur(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(s){zE(this,s);return}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(const s of r.keys())n.set(s,r.get(s));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(s=>s.toLowerCase()=="content-type"),i=ft.FormData&&t instanceof ft.FormData,!(0<=oD(wB,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of n)this.g.setRequestHeader(s,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{zD(this),0<this.B&&((this.L=_B(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Ur(this.ua,this)):this.A=V1(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){zE(this,s)}};function _B(t){return Wu&&typeof t.timeout=="number"&&t.ontimeout!==void 0}Ue.ua=function(){typeof k1<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Ir(this,"timeout"),this.abort(8))};function zE(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,WD(t),zg(t)}function WD(t){t.F||(t.F=!0,Ir(t,"complete"),Ir(t,"error"))}Ue.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,Ir(this,"complete"),Ir(this,"abort"),zg(this))};Ue.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),zg(this,!0)),Fn.$.N.call(this)};Ue.La=function(){this.s||(this.G||this.v||this.l?KD(this):this.kb())};Ue.kb=function(){KD(this)};function KD(t){if(t.h&&typeof k1<"u"&&(!t.C[1]||Ts(t)!=4||t.da()!=2)){if(t.v&&Ts(t)==4)V1(t.La,0,t);else if(Ir(t,"readystatechange"),Ts(t)==4){t.h=!1;try{const o=t.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=o===0){var i=String(t.I).match(RD)[1]||null;!i&&ft.self&&ft.self.location&&(i=ft.self.location.protocol.slice(0,-1)),r=!bB.test(i?i.toLowerCase():"")}n=r}if(n)Ir(t,"complete"),Ir(t,"success");else{t.m=6;try{var s=2<Ts(t)?t.g.statusText:""}catch{s=""}t.j=s+" ["+t.da()+"]",WD(t)}}finally{zg(t)}}}}function zg(t,e){if(t.g){zD(t);const n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||Ir(t,"ready");try{n.onreadystatechange=r}catch{}}}function zD(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(ft.clearTimeout(t.A),t.A=null)}Ue.isActive=function(){return!!this.g};function Ts(t){return t.g?t.g.readyState:0}Ue.da=function(){try{return 2<Ts(this)?this.g.status:-1}catch{return-1}};Ue.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};Ue.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),yB(e)}};function GE(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case HD:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function TB(t){const e={};t=(t.g&&2<=Ts(t)&&t.g.getAllResponseHeaders()||"").split(`\r
`);for(let r=0;r<t.length;r++){if(tf(t[r]))continue;var n=G8(t[r]);const i=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();const s=e[i]||[];e[i]=s,s.push(n)}V8(e,function(r){return r.join(", ")})}Ue.Ia=function(){return this.m};Ue.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function GD(t){let e="";return D1(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function z1(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=GD(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):vn(t,e,n))}function Pc(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function YD(t){this.Ga=0,this.j=[],this.l=new Ug,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Pc("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Pc("baseRetryDelayMs",5e3,t),this.hb=Pc("retryDelaySeedMs",1e4,t),this.eb=Pc("forwardChannelMaxRetries",2,t),this.xa=Pc("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.dc||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new $D(t&&t.concurrentRequestLimit),this.Ja=new mB,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}Ue=YD.prototype;Ue.ra=8;Ue.H=1;function G1(t){if(qD(t),t.H==3){var e=t.W++,n=ro(t.I);if(vn(n,"SID",t.K),vn(n,"RID",e),vn(n,"TYPE","terminate"),th(t,n),e=new Qf(t,t.l,e),e.L=2,e.v=Wg(ro(n)),n=!1,ft.navigator&&ft.navigator.sendBeacon)try{n=ft.navigator.sendBeacon(e.v.toString(),"")}catch{}!n&&ft.Image&&(new Image().src=e.v,n=!0),n||(e.g=rR(e.l,null),e.g.ha(e.v)),e.G=Date.now(),Jf(e)}tR(t)}function Gg(t){t.g&&(q1(t),t.g.cancel(),t.g=null)}function qD(t){Gg(t),t.u&&(ft.clearTimeout(t.u),t.u=null),hm(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&ft.clearTimeout(t.m),t.m=null)}function Yg(t){if(!FD(t.i)&&!t.m){t.m=!0;var e=t.Na;rf||yD(),sf||(rf(),sf=!0),F1.add(e,t),t.C=0}}function SB(t,e){return UD(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.j=e.F.concat(t.j),!0):t.H==1||t.H==2||t.C>=(t.cb?0:t.eb)?!1:(t.m=qf(Ur(t.Na,t,e),eR(t,t.C)),t.C++,!0)}Ue.Na=function(t){if(this.m)if(this.m=null,this.H==1){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const i=new Qf(this,this.l,t);let s=this.s;if(this.U&&(s?(s=cD(s),dD(s,this.U)):s=this.U),this.o!==null||this.O||(i.I=s,s=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){t:{var r=this.j[n];if("__data__"in r.map&&(r=r.map.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=n;break e}if(e===4096||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=XD(this,i,e),n=ro(this.I),vn(n,"RID",t),vn(n,"CVER",22),this.F&&vn(n,"X-HTTP-Session-Id",this.F),th(this,n),s&&(this.O?e="headers="+encodeURIComponent(String(GD(s)))+"&"+e:this.o&&z1(n,this.o,s)),W1(this.i,i),this.bb&&vn(n,"TYPE","init"),this.P?(vn(n,"$req",e),vn(n,"SID","null"),i.aa=!0,cb(i,n,null)):cb(i,n,e),this.H=2}}else this.H==3&&(t?YE(this,t):this.j.length==0||FD(this.i)||YE(this))};function YE(t,e){var n;e?n=e.m:n=t.W++;const r=ro(t.I);vn(r,"SID",t.K),vn(r,"RID",n),vn(r,"AID",t.V),th(t,r),t.o&&t.s&&z1(r,t.o,t.s),n=new Qf(t,t.l,n,t.C+1),t.o===null&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=XD(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),W1(t.i,n),cb(n,r,e)}function th(t,e){t.na&&D1(t.na,function(n,r){vn(e,r,n)}),t.h&&DD({},function(n,r){vn(e,r,n)})}function XD(t,e,n){n=Math.min(t.j.length,n);var r=t.h?Ur(t.h.Va,t.h,t):null;e:{var i=t.j;let s=-1;for(;;){const o=["count="+n];s==-1?0<n?(s=i[0].g,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let l=0;l<n;l++){let u=i[l].g;const c=i[l].map;if(u-=s,0>u)s=Math.max(0,i[l].g-100),a=!1;else try{gB(c,o,"req"+u+"_")}catch{r&&r(c)}}if(a){r=o.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function QD(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;rf||yD(),sf||(rf(),sf=!0),F1.add(e,t),t.A=0}}function Y1(t){return t.g||t.u||3<=t.A?!1:(t.ba++,t.u=qf(Ur(t.Ma,t),eR(t,t.A)),t.A++,!0)}Ue.Ma=function(){if(this.u=null,JD(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=qf(Ur(this.jb,this),t)}};Ue.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,qr(10),Gg(this),JD(this))};function q1(t){t.B!=null&&(ft.clearTimeout(t.B),t.B=null)}function JD(t){t.g=new Qf(t,t.l,"rpc",t.ba),t.o===null&&(t.g.I=t.s),t.g.O=0;var e=ro(t.wa);vn(e,"RID","rpc"),vn(e,"SID",t.K),vn(e,"AID",t.V),vn(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&vn(e,"TO",t.qa),vn(e,"TYPE","xmlhttp"),th(t,e),t.o&&t.s&&z1(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.v=Wg(ro(e)),n.s=null,n.S=!0,AD(n,t)}Ue.ib=function(){this.v!=null&&(this.v=null,Gg(this),Y1(this),qr(19))};function hm(t){t.v!=null&&(ft.clearTimeout(t.v),t.v=null)}function ZD(t,e){var n=null;if(t.g==e){hm(t),q1(t),t.g=null;var r=2}else if(fb(t.i,e))n=e.F,VD(t.i,e),r=1;else return;if(t.H!=0){if(e.i)if(r==1){n=e.s?e.s.length:0,e=Date.now()-e.G;var i=t.C;r=Vg(),Ir(r,new ED(r,n)),Yg(t)}else QD(t);else if(i=e.o,i==3||i==0&&0<e.ca||!(r==1&&SB(t,e)||r==2&&Y1(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:Ma(t,5);break;case 4:Ma(t,10);break;case 3:Ma(t,6);break;default:Ma(t,2)}}}function eR(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function Ma(t,e){if(t.l.info("Error code "+e),e==2){var n=null;t.h&&(n=null);var r=Ur(t.pb,t);n||(n=new ja("//www.google.com/images/cleardot.gif"),ft.location&&ft.location.protocol=="http"||dm(n,"https"),Wg(n)),vB(n.toString(),r)}else qr(2);t.H=0,t.h&&t.h.za(e),tR(t),qD(t)}Ue.pb=function(t){t?(this.l.info("Successfully pinged google.com"),qr(2)):(this.l.info("Failed to ping google.com"),qr(1))};function tR(t){if(t.H=0,t.ma=[],t.h){const e=BD(t.i);(e.length!=0||t.j.length!=0)&&(FE(t.ma,e),FE(t.ma,t.j),t.i.i.length=0,P1(t.j),t.j.length=0),t.h.ya()}}function nR(t,e,n){var r=n instanceof ja?ro(n):new ja(n);if(r.g!="")e&&(r.g=e+"."+r.g),fm(r,r.m);else{var i=ft.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new ja(null);r&&dm(s,r),e&&(s.g=e),i&&fm(s,i),n&&(s.l=n),r=s}return n=t.F,e=t.Da,n&&e&&vn(r,n,e),vn(r,"VER",t.ra),th(t,r),r}function rR(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return e=n&&t.Ha&&!t.va?new Fn(new Zf({ob:!0})):new Fn(t.va),e.Oa(t.J),e}Ue.isActive=function(){return!!this.h&&this.h.isActive(this)};function iR(){}Ue=iR.prototype;Ue.Ba=function(){};Ue.Aa=function(){};Ue.za=function(){};Ue.ya=function(){};Ue.isActive=function(){return!0};Ue.Va=function(){};function pm(){if(Wu&&!(10<=Number(L8)))throw Error("Environmental error: no available transport.")}pm.prototype.g=function(t,e){return new Oi(t,e)};function Oi(t,e){pr.call(this),this.g=new YD(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!tf(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!tf(e)&&(this.g.F=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new yc(this)}mr(Oi,pr);Oi.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;qr(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=nR(t,null,t.Y),Yg(t)};Oi.prototype.close=function(){G1(this.g)};Oi.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=$1(t),t=n);e.j.push(new fB(e.fb++,t)),e.H==3&&Yg(e)};Oi.prototype.N=function(){this.g.h=null,delete this.j,G1(this.g),delete this.g,Oi.$.N.call(this)};function sR(t){j1.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}mr(sR,j1);function oR(){H1.call(this),this.status=1}mr(oR,H1);function yc(t){this.g=t}mr(yc,iR);yc.prototype.Ba=function(){Ir(this.g,"a")};yc.prototype.Aa=function(t){Ir(this.g,new sR(t))};yc.prototype.za=function(t){Ir(this.g,new oR)};yc.prototype.ya=function(){Ir(this.g,"b")};function EB(){this.blockSize=-1}function cs(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}mr(cs,EB);cs.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function gy(t,e,n){n||(n=0);var r=Array(16);if(typeof e=="string")for(var i=0;16>i;++i)r[i]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],i=t.g[2];var s=t.g[3],o=e+(s^n&(i^s))+r[0]+3614090360&4294967295;e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[1]+3905402710&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[2]+606105819&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[3]+3250441966&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[4]+4118548399&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[5]+1200080426&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[6]+2821735955&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[7]+4249261313&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[8]+1770035416&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[9]+2336552879&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[10]+4294925233&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[11]+2304563134&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[12]+1804603682&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[13]+4254626195&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[14]+2792965006&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[15]+1236535329&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(i^s&(n^i))+r[1]+4129170786&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[6]+3225465664&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[11]+643717713&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[0]+3921069994&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[5]+3593408605&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[10]+38016083&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[15]+3634488961&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[4]+3889429448&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[9]+568446438&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[14]+3275163606&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[3]+4107603335&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[8]+1163531501&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[13]+2850285829&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[2]+4243563512&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[7]+1735328473&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[12]+2368359562&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(n^i^s)+r[5]+4294588738&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[8]+2272392833&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[11]+1839030562&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[14]+4259657740&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[1]+2763975236&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[4]+1272893353&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[7]+4139469664&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[10]+3200236656&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[13]+681279174&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[0]+3936430074&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[3]+3572445317&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[6]+76029189&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[9]+3654602809&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[12]+3873151461&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[15]+530742520&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[2]+3299628645&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(i^(n|~s))+r[0]+4096336452&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[7]+1126891415&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[14]+2878612391&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[5]+4237533241&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[12]+1700485571&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[3]+2399980690&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[10]+4293915773&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[1]+2240044497&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[8]+1873313359&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[15]+4264355552&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[6]+2734768916&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[13]+1309151649&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[4]+4149444226&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[11]+3174756917&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[2]+718787259&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+s&4294967295}cs.prototype.j=function(t,e){e===void 0&&(e=t.length);for(var n=e-this.blockSize,r=this.m,i=this.h,s=0;s<e;){if(i==0)for(;s<=n;)gy(this,t,s),s+=this.blockSize;if(typeof t=="string"){for(;s<e;)if(r[i++]=t.charCodeAt(s++),i==this.blockSize){gy(this,r),i=0;break}}else for(;s<e;)if(r[i++]=t[s++],i==this.blockSize){gy(this,r),i=0;break}}this.h=i,this.i+=e};cs.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=n&255,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};function tn(t,e){this.h=e;for(var n=[],r=!0,i=t.length-1;0<=i;i--){var s=t[i]|0;r&&s==e||(n[i]=s,r=!1)}this.g=n}var IB={};function X1(t){return-128<=t&&128>t?R8(t,function(e){return new tn([e|0],0>e?-1:0)}):new tn([t|0],0>t?-1:0)}function Ss(t){if(isNaN(t)||!isFinite(t))return Iu;if(0>t)return _r(Ss(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=hb;return new tn(e,0)}function aR(t,e){if(t.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(t.charAt(0)=="-")return _r(aR(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=Ss(Math.pow(e,8)),r=Iu,i=0;i<t.length;i+=8){var s=Math.min(8,t.length-i),o=parseInt(t.substring(i,i+s),e);8>s?(s=Ss(Math.pow(e,s)),r=r.R(s).add(Ss(o))):(r=r.R(n),r=r.add(Ss(o)))}return r}var hb=4294967296,Iu=X1(0),pb=X1(1),qE=X1(16777216);Ue=tn.prototype;Ue.ea=function(){if(Mi(this))return-_r(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:hb+r)*e,e*=hb}return t};Ue.toString=function(t){if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(Ks(this))return"0";if(Mi(this))return"-"+_r(this).toString(t);for(var e=Ss(Math.pow(t,6)),n=this,r="";;){var i=gm(n,e).g;n=mm(n,i.R(e));var s=((0<n.g.length?n.g[0]:n.h)>>>0).toString(t);if(n=i,Ks(n))return s+r;for(;6>s.length;)s="0"+s;r=s+r}};Ue.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h};function Ks(t){if(t.h!=0)return!1;for(var e=0;e<t.g.length;e++)if(t.g[e]!=0)return!1;return!0}function Mi(t){return t.h==-1}Ue.X=function(t){return t=mm(this,t),Mi(t)?-1:Ks(t)?0:1};function _r(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new tn(n,~t.h).add(pb)}Ue.abs=function(){return Mi(this)?_r(this):this};Ue.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,i=0;i<=e;i++){var s=r+(this.D(i)&65535)+(t.D(i)&65535),o=(s>>>16)+(this.D(i)>>>16)+(t.D(i)>>>16);r=o>>>16,s&=65535,o&=65535,n[i]=o<<16|s}return new tn(n,n[n.length-1]&-2147483648?-1:0)};function mm(t,e){return t.add(_r(e))}Ue.R=function(t){if(Ks(this)||Ks(t))return Iu;if(Mi(this))return Mi(t)?_r(this).R(_r(t)):_r(_r(this).R(t));if(Mi(t))return _r(this.R(_r(t)));if(0>this.X(qE)&&0>t.X(qE))return Ss(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<t.g.length;i++){var s=this.D(r)>>>16,o=this.D(r)&65535,a=t.D(i)>>>16,l=t.D(i)&65535;n[2*r+2*i]+=o*l,Kh(n,2*r+2*i),n[2*r+2*i+1]+=s*l,Kh(n,2*r+2*i+1),n[2*r+2*i+1]+=o*a,Kh(n,2*r+2*i+1),n[2*r+2*i+2]+=s*a,Kh(n,2*r+2*i+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new tn(n,0)};function Kh(t,e){for(;(t[e]&65535)!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function xc(t,e){this.g=t,this.h=e}function gm(t,e){if(Ks(e))throw Error("division by zero");if(Ks(t))return new xc(Iu,Iu);if(Mi(t))return e=gm(_r(t),e),new xc(_r(e.g),_r(e.h));if(Mi(e))return e=gm(t,_r(e)),new xc(_r(e.g),e.h);if(30<t.g.length){if(Mi(t)||Mi(e))throw Error("slowDivide_ only works with positive integers.");for(var n=pb,r=e;0>=r.X(t);)n=XE(n),r=XE(r);var i=Fl(n,1),s=Fl(r,1);for(r=Fl(r,2),n=Fl(n,2);!Ks(r);){var o=s.add(r);0>=o.X(t)&&(i=i.add(n),s=o),r=Fl(r,1),n=Fl(n,1)}return e=mm(t,i.R(e)),new xc(i,e)}for(i=Iu;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=Math.ceil(Math.log(n)/Math.LN2),r=48>=r?1:Math.pow(2,r-48),s=Ss(n),o=s.R(e);Mi(o)||0<o.X(t);)n-=r,s=Ss(n),o=s.R(e);Ks(s)&&(s=pb),i=i.add(s),t=mm(t,o)}return new xc(i,t)}Ue.gb=function(t){return gm(this,t).h};Ue.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new tn(n,this.h&t.h)};Ue.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new tn(n,this.h|t.h)};Ue.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new tn(n,this.h^t.h)};function XE(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new tn(n,t.h)}function Fl(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,i=[],s=0;s<r;s++)i[s]=0<e?t.D(s+n)>>>e|t.D(s+n+1)<<32-e:t.D(s+n);return new tn(i,t.h)}pm.prototype.createWebChannel=pm.prototype.g;Oi.prototype.send=Oi.prototype.u;Oi.prototype.open=Oi.prototype.m;Oi.prototype.close=Oi.prototype.close;Bg.NO_ERROR=0;Bg.TIMEOUT=8;Bg.HTTP_ERROR=6;ID.COMPLETE="complete";CD.EventType=Xf;Xf.OPEN="a";Xf.CLOSE="b";Xf.ERROR="c";Xf.MESSAGE="d";pr.prototype.listen=pr.prototype.O;Fn.prototype.listenOnce=Fn.prototype.P;Fn.prototype.getLastError=Fn.prototype.Sa;Fn.prototype.getLastErrorCode=Fn.prototype.Ia;Fn.prototype.getStatus=Fn.prototype.da;Fn.prototype.getResponseJson=Fn.prototype.Wa;Fn.prototype.getResponseText=Fn.prototype.ja;Fn.prototype.send=Fn.prototype.ha;Fn.prototype.setWithCredentials=Fn.prototype.Oa;cs.prototype.digest=cs.prototype.l;cs.prototype.reset=cs.prototype.reset;cs.prototype.update=cs.prototype.j;tn.prototype.add=tn.prototype.add;tn.prototype.multiply=tn.prototype.R;tn.prototype.modulo=tn.prototype.gb;tn.prototype.compare=tn.prototype.X;tn.prototype.toNumber=tn.prototype.ea;tn.prototype.toString=tn.prototype.toString;tn.prototype.getBits=tn.prototype.D;tn.fromNumber=Ss;tn.fromString=aR;var CB=function(){return new pm},OB=function(){return Vg()},vy=Bg,AB=ID,kB=Il,QE={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},PB=Zf,zh=CD,xB=Fn,DB=cs,Cu=tn;const JE="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Pr=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Pr.UNAUTHENTICATED=new Pr(null),Pr.GOOGLE_CREDENTIALS=new Pr("google-credentials-uid"),Pr.FIRST_PARTY=new Pr("first-party-uid"),Pr.MOCK_USER=new Pr("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let bc="9.23.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ll=new mc("@firebase/firestore");function ZE(){return ll.logLevel}function Qe(t,...e){if(ll.logLevel<=$t.DEBUG){const n=e.map(Q1);ll.debug(`Firestore (${bc}): ${t}`,...n)}}function io(t,...e){if(ll.logLevel<=$t.ERROR){const n=e.map(Q1);ll.error(`Firestore (${bc}): ${t}`,...n)}}function Ku(t,...e){if(ll.logLevel<=$t.WARN){const n=e.map(Q1);ll.warn(`Firestore (${bc}): ${t}`,...n)}}function Q1(t){if(typeof t=="string")return t;try{return e=t,JSON.stringify(e)}catch{return t}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ct(t="Unexpected state"){const e=`FIRESTORE (${bc}) INTERNAL ASSERTION FAILED: `+t;throw io(e),new Error(e)}function bn(t,e){t||ct()}function gt(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const he={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ne extends ki{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zs{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lR{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}let RB=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Pr.UNAUTHENTICATED))}shutdown(){}},NB=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}},MB=class{constructor(e){this.t=e,this.currentUser=Pr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let s=new Zs;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Zs,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{Qe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(Qe("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Zs)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(Qe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(bn(typeof r.accessToken=="string"),new lR(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return bn(e===null||typeof e=="string"),new Pr(e)}},LB=class{constructor(e,n,r){this.h=e,this.l=n,this.m=r,this.type="FirstParty",this.user=Pr.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}},$B=class{constructor(e,n,r){this.h=e,this.l=n,this.m=r}getToken(){return Promise.resolve(new LB(this.h,this.l,this.m))}start(e,n){e.enqueueRetryable(()=>n(Pr.FIRST_PARTY))}shutdown(){}invalidateToken(){}},FB=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},UB=class{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,n){const r=s=>{s.error!=null&&Qe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.T;return this.T=s.token,Qe("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{Qe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.I.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.I.getImmediate({optional:!0});s?i(s):Qe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(bn(typeof n.token=="string"),this.T=n.token,new FB(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VB(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let uR=class{static A(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=VB(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}};function Kt(t,e){return t<e?-1:t>e?1:0}function zu(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Xn=class Sp{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Ne(he.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Ne(he.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new Ne(he.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ne(he.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Sp.fromMillis(Date.now())}static fromDate(e){return Sp.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Sp(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Kt(this.nanoseconds,e.nanoseconds):Kt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let vt=class Ep{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Ep(e)}static min(){return new Ep(new Xn(0,0))}static max(){return new Ep(new Xn(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let cR=class mb{constructor(e,n,r){n===void 0?n=0:n>e.length&&ct(),r===void 0?r=e.length-n:r>e.length-n&&ct(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return mb.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof mb?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}},$n=class Ip extends cR{construct(e,n,r){return new Ip(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Ne(he.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Ip(n)}static emptyPath(){return new Ip([])}};const BB=/^[_a-zA-Z][_a-zA-Z0-9]*$/;let Ms=class Jl extends cR{construct(e,n,r){return new Jl(e,n,r)}static isValidIdentifier(e){return BB.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Jl.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Jl(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new Ne(he.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new Ne(he.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new Ne(he.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new Ne(he.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Jl(n)}static emptyPath(){return new Jl([])}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let rt=class Zc{constructor(e){this.path=e}static fromPath(e){return new Zc($n.fromString(e))}static fromName(e){return new Zc($n.fromString(e).popFirst(5))}static empty(){return new Zc($n.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&$n.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return $n.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Zc(new $n(e.slice()))}};function jB(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=vt.fromTimestamp(r===1e9?new Xn(n+1,0):new Xn(n,r));return new cf(i,rt.empty(),e)}function HB(t){return new cf(t.readTime,t.key,-1)}let cf=class gb{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new gb(vt.min(),rt.empty(),-1)}static max(){return new gb(vt.max(),rt.empty(),-1)}};function WB(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=rt.comparator(t.documentKey,e.documentKey),n!==0?n:Kt(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KB="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";let zB=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nh(t){if(t.code!==he.FAILED_PRECONDITION||t.message!==KB)throw t;Qe("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Re=class ii{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ct(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ii((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof ii?n:ii.resolve(n)}catch(n){return ii.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):ii.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):ii.reject(n)}static resolve(e){return new ii((n,r)=>{n(e)})}static reject(e){return new ii((n,r)=>{r(e)})}static waitFor(e){return new ii((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},l=>r(l))}),o=!0,s===i&&n()})}static or(e){let n=ii.resolve(!1);for(const r of e)n=n.next(i=>i?ii.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new ii((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const u=l;n(e[u]).next(c=>{o[u]=c,++a,a===s&&r(o)},c=>i(c))}})}static doWhile(e,n){return new ii((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}};function rh(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let J1=class{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ot(r),this.ut=r=>n.writeSequenceNumber(r))}ot(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ut&&this.ut(e),e}};J1.ct=-1;function qg(t){return t==null}function vm(t){return t===0&&1/t==-1/0}function GB(t){return typeof t=="number"&&Number.isInteger(t)&&!vm(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eI(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Cl(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function dR(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Zn=class vb{constructor(e,n){this.comparator=e,this.root=n||wr.EMPTY}insert(e,n){return new vb(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,wr.BLACK,null,null))}remove(e){return new vb(this.comparator,this.root.remove(e,this.comparator).copy(null,null,wr.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Gh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Gh(this.root,e,this.comparator,!1)}getReverseIterator(){return new Gh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Gh(this.root,e,this.comparator,!0)}},Gh=class{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}};class wr{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??wr.RED,this.left=i??wr.EMPTY,this.right=s??wr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new wr(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return wr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return wr.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,wr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,wr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ct();const e=this.left.check();if(e!==this.right.check())throw ct();return e+(this.isRed()?0:1)}}wr.EMPTY=null,wr.RED=!0,wr.BLACK=!1;wr.EMPTY=new class{constructor(){this.size=0}get key(){throw ct()}get value(){throw ct()}get color(){throw ct()}get left(){throw ct()}get right(){throw ct()}copy(t,e,n,r,i){return this}insert(t,e,n){return new wr(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ii=class yb{constructor(e){this.comparator=e,this.data=new Zn(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new tI(this.data.getIterator())}getIteratorFrom(e){return new tI(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof yb)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new yb(this.comparator);return n.data=e,n}},tI=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Es=class bb{constructor(e){this.fields=e,e.sort(Ms.comparator)}static empty(){return new bb([])}unionWith(e){let n=new Ii(Ms.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new bb(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return zu(this.fields,e.fields,(n,r)=>n.isEqual(r))}};/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let fR=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ai=class wb{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(r){try{return atob(r)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new fR("Invalid base64 string: "+i):i}}(e);return new wb(n)}static fromUint8Array(e){const n=function(r){let i="";for(let s=0;s<r.length;++s)i+=String.fromCharCode(r[s]);return i}(e);return new wb(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const n=new Uint8Array(e.length);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Kt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};Ai.EMPTY_BYTE_STRING=new Ai("");const YB=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function na(t){if(bn(!!t),typeof t=="string"){let e=0;const n=YB.exec(t);if(bn(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:qn(t.seconds),nanos:qn(t.nanos)}}function qn(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function ul(t){return typeof t=="string"?Ai.fromBase64String(t):Ai.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xg(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Z1(t){const e=t.mapValue.fields.__previous_value__;return Xg(e)?Z1(e):e}function df(t){const e=na(t.mapValue.fields.__local_write_time__.timestampValue);return new Xn(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let qB=class{constructor(e,n,r,i,s,o,a,l,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=u}},hR=class _b{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new _b("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof _b&&e.projectId===this.projectId&&e.database===this.database}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yh={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function cl(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Xg(t)?4:XB(t)?9007199254740991:10:ct()}function Ls(t,e){if(t===e)return!0;const n=cl(t);if(n!==cl(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return df(t).isEqual(df(e));case 3:return function(r,i){if(typeof r.timestampValue=="string"&&typeof i.timestampValue=="string"&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const s=na(r.timestampValue),o=na(i.timestampValue);return s.seconds===o.seconds&&s.nanos===o.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(r,i){return ul(r.bytesValue).isEqual(ul(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,i){return qn(r.geoPointValue.latitude)===qn(i.geoPointValue.latitude)&&qn(r.geoPointValue.longitude)===qn(i.geoPointValue.longitude)}(t,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return qn(r.integerValue)===qn(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const s=qn(r.doubleValue),o=qn(i.doubleValue);return s===o?vm(s)===vm(o):isNaN(s)&&isNaN(o)}return!1}(t,e);case 9:return zu(t.arrayValue.values||[],e.arrayValue.values||[],Ls);case 10:return function(r,i){const s=r.mapValue.fields||{},o=i.mapValue.fields||{};if(eI(s)!==eI(o))return!1;for(const a in s)if(s.hasOwnProperty(a)&&(o[a]===void 0||!Ls(s[a],o[a])))return!1;return!0}(t,e);default:return ct()}}function ff(t,e){return(t.values||[]).find(n=>Ls(n,e))!==void 0}function Gu(t,e){if(t===e)return 0;const n=cl(t),r=cl(e);if(n!==r)return Kt(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Kt(t.booleanValue,e.booleanValue);case 2:return function(i,s){const o=qn(i.integerValue||i.doubleValue),a=qn(s.integerValue||s.doubleValue);return o<a?-1:o>a?1:o===a?0:isNaN(o)?isNaN(a)?0:-1:1}(t,e);case 3:return nI(t.timestampValue,e.timestampValue);case 4:return nI(df(t),df(e));case 5:return Kt(t.stringValue,e.stringValue);case 6:return function(i,s){const o=ul(i),a=ul(s);return o.compareTo(a)}(t.bytesValue,e.bytesValue);case 7:return function(i,s){const o=i.split("/"),a=s.split("/");for(let l=0;l<o.length&&l<a.length;l++){const u=Kt(o[l],a[l]);if(u!==0)return u}return Kt(o.length,a.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,s){const o=Kt(qn(i.latitude),qn(s.latitude));return o!==0?o:Kt(qn(i.longitude),qn(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(i,s){const o=i.values||[],a=s.values||[];for(let l=0;l<o.length&&l<a.length;++l){const u=Gu(o[l],a[l]);if(u)return u}return Kt(o.length,a.length)}(t.arrayValue,e.arrayValue);case 10:return function(i,s){if(i===Yh.mapValue&&s===Yh.mapValue)return 0;if(i===Yh.mapValue)return 1;if(s===Yh.mapValue)return-1;const o=i.fields||{},a=Object.keys(o),l=s.fields||{},u=Object.keys(l);a.sort(),u.sort();for(let c=0;c<a.length&&c<u.length;++c){const d=Kt(a[c],u[c]);if(d!==0)return d;const f=Gu(o[a[c]],l[u[c]]);if(f!==0)return f}return Kt(a.length,u.length)}(t.mapValue,e.mapValue);default:throw ct()}}function nI(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Kt(t,e);const n=na(t),r=na(e),i=Kt(n.seconds,r.seconds);return i!==0?i:Kt(n.nanos,r.nanos)}function Yu(t){return Tb(t)}function Tb(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(r){const i=na(r);return`time(${i.seconds},${i.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?ul(t.bytesValue).toBase64():"referenceValue"in t?(n=t.referenceValue,rt.fromName(n).toString()):"geoPointValue"in t?`geo(${(e=t.geoPointValue).latitude},${e.longitude})`:"arrayValue"in t?function(r){let i="[",s=!0;for(const o of r.values||[])s?s=!1:i+=",",i+=Tb(o);return i+"]"}(t.arrayValue):"mapValue"in t?function(r){const i=Object.keys(r.fields||{}).sort();let s="{",o=!0;for(const a of i)o?o=!1:s+=",",s+=`${a}:${Tb(r.fields[a])}`;return s+"}"}(t.mapValue):ct();var e,n}function ym(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Sb(t){return!!t&&"integerValue"in t}function e_(t){return!!t&&"arrayValue"in t}function rI(t){return!!t&&"nullValue"in t}function iI(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Cp(t){return!!t&&"mapValue"in t}function wd(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Cl(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=wd(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=wd(t.arrayValue.values[n]);return e}return Object.assign({},t)}function XB(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ai{constructor(e){this.value=e}static empty(){return new ai({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Cp(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=wd(n)}setAll(e){let n=Ms.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=wd(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());Cp(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Ls(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Cp(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Cl(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new ai(wd(this.value))}}function pR(t){const e=[];return Cl(t.fields,(n,r)=>{const i=new Ms([n]);if(Cp(r)){const s=pR(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new Es(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let so=class Sa{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new Sa(e,0,vt.min(),vt.min(),vt.min(),ai.empty(),0)}static newFoundDocument(e,n,r,i){return new Sa(e,1,n,vt.min(),r,i,0)}static newNoDocument(e,n){return new Sa(e,2,n,vt.min(),vt.min(),ai.empty(),0)}static newUnknownDocument(e,n){return new Sa(e,3,n,vt.min(),vt.min(),ai.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(vt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ai.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ai.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=vt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Sa&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Sa(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let qu=class{constructor(e,n){this.position=e,this.inclusive=n}};function sI(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=rt.comparator(rt.fromName(o.referenceValue),n.key):r=Gu(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function oI(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Ls(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ou{constructor(e,n="asc"){this.field=e,this.dir=n}}function QB(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let mR=class{},dr=class gR extends mR{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new ZB(e,n,r):n==="array-contains"?new nj(e,r):n==="in"?new rj(e,r):n==="not-in"?new ij(e,r):n==="array-contains-any"?new sj(e,r):new gR(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new ej(e,r):new tj(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Gu(n,this.value)):n!==null&&cl(this.value)===cl(n)&&this.matchesComparison(Gu(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ct()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}},oo=class vR extends mR{constructor(e,n){super(),this.filters=e,this.op=n,this.lt=null}static create(e,n){return new vR(e,n)}matches(e){return yR(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.lt!==null||(this.lt=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(n=>n.isInequality());return e!==null?e.field:null}ft(e){for(const n of this.getFlattenedFilters())if(e(n))return n;return null}};function yR(t){return t.op==="and"}function bR(t){return JB(t)&&yR(t)}function JB(t){for(const e of t.filters)if(e instanceof oo)return!1;return!0}function Eb(t){if(t instanceof dr)return t.field.canonicalString()+t.op.toString()+Yu(t.value);if(bR(t))return t.filters.map(e=>Eb(e)).join(",");{const e=t.filters.map(n=>Eb(n)).join(",");return`${t.op}(${e})`}}function wR(t,e){return t instanceof dr?function(n,r){return r instanceof dr&&n.op===r.op&&n.field.isEqual(r.field)&&Ls(n.value,r.value)}(t,e):t instanceof oo?function(n,r){return r instanceof oo&&n.op===r.op&&n.filters.length===r.filters.length?n.filters.reduce((i,s,o)=>i&&wR(s,r.filters[o]),!0):!1}(t,e):void ct()}function _R(t){return t instanceof dr?function(e){return`${e.field.canonicalString()} ${e.op} ${Yu(e.value)}`}(t):t instanceof oo?function(e){return e.op.toString()+" {"+e.getFilters().map(_R).join(" ,")+"}"}(t):"Filter"}let ZB=class extends dr{constructor(e,n,r){super(e,n,r),this.key=rt.fromName(r.referenceValue)}matches(e){const n=rt.comparator(e.key,this.key);return this.matchesComparison(n)}},ej=class extends dr{constructor(e,n){super(e,"in",n),this.keys=TR("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}},tj=class extends dr{constructor(e,n){super(e,"not-in",n),this.keys=TR("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}};function TR(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>rt.fromName(r.referenceValue))}let nj=class extends dr{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return e_(n)&&ff(n.arrayValue,this.value)}},rj=class extends dr{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&ff(this.value.arrayValue,n)}};class ij extends dr{constructor(e,n){super(e,"not-in",n)}matches(e){if(ff(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!ff(this.value.arrayValue,n)}}class sj extends dr{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!e_(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>ff(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let oj=class{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.dt=null}};function aI(t,e=null,n=[],r=[],i=null,s=null,o=null){return new oj(t,e,n,r,i,s,o)}function t_(t){const e=gt(t);if(e.dt===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Eb(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),qg(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Yu(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Yu(r)).join(",")),e.dt=n}return e.dt}function n_(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!QB(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!wR(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!oI(t.startAt,e.startAt)&&oI(t.endAt,e.endAt)}function Ib(t){return rt.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ol=class{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.wt=null,this._t=null,this.startAt,this.endAt}};function aj(t,e,n,r,i,s,o,a){return new Ol(t,e,n,r,i,s,o,a)}function r_(t){return new Ol(t)}function lI(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function i_(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function Qg(t){for(const e of t.filters){const n=e.getFirstInequalityField();if(n!==null)return n}return null}function s_(t){return t.collectionGroup!==null}function Ha(t){const e=gt(t);if(e.wt===null){e.wt=[];const n=Qg(e),r=i_(e);if(n!==null&&r===null)n.isKeyField()||e.wt.push(new Ou(n)),e.wt.push(new Ou(Ms.keyField(),"asc"));else{let i=!1;for(const s of e.explicitOrderBy)e.wt.push(s),s.field.isKeyField()&&(i=!0);if(!i){const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new Ou(Ms.keyField(),s))}}}return e.wt}function ao(t){const e=gt(t);if(!e._t)if(e.limitType==="F")e._t=aI(e.path,e.collectionGroup,Ha(e),e.filters,e.limit,e.startAt,e.endAt);else{const n=[];for(const s of Ha(e)){const o=s.dir==="desc"?"asc":"desc";n.push(new Ou(s.field,o))}const r=e.endAt?new qu(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new qu(e.startAt.position,e.startAt.inclusive):null;e._t=aI(e.path,e.collectionGroup,n,e.filters,e.limit,r,i)}return e._t}function Cb(t,e){e.getFirstInequalityField(),Qg(t);const n=t.filters.concat([e]);return new Ol(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function bm(t,e,n){return new Ol(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Jg(t,e){return n_(ao(t),ao(e))&&t.limitType===e.limitType}function SR(t){return`${t_(ao(t))}|lt:${t.limitType}`}function Ob(t){return`Query(target=${function(e){let n=e.path.canonicalString();return e.collectionGroup!==null&&(n+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(n+=`, filters: [${e.filters.map(r=>_R(r)).join(", ")}]`),qg(e.limit)||(n+=", limit: "+e.limit),e.orderBy.length>0&&(n+=`, orderBy: [${e.orderBy.map(r=>function(i){return`${i.field.canonicalString()} (${i.dir})`}(r)).join(", ")}]`),e.startAt&&(n+=", startAt: ",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Yu(r)).join(",")),e.endAt&&(n+=", endAt: ",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Yu(r)).join(",")),`Target(${n})`}(ao(t))}; limitType=${t.limitType})`}function Zg(t,e){return e.isFoundDocument()&&function(n,r){const i=r.key.path;return n.collectionGroup!==null?r.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(i):rt.isDocumentKey(n.path)?n.path.isEqual(i):n.path.isImmediateParentOf(i)}(t,e)&&function(n,r){for(const i of Ha(n))if(!i.field.isKeyField()&&r.data.field(i.field)===null)return!1;return!0}(t,e)&&function(n,r){for(const i of n.filters)if(!i.matches(r))return!1;return!0}(t,e)&&function(n,r){return!(n.startAt&&!function(i,s,o){const a=sI(i,s,o);return i.inclusive?a<=0:a<0}(n.startAt,Ha(n),r)||n.endAt&&!function(i,s,o){const a=sI(i,s,o);return i.inclusive?a>=0:a>0}(n.endAt,Ha(n),r))}(t,e)}function lj(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function ER(t){return(e,n)=>{let r=!1;for(const i of Ha(t)){const s=uj(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function uj(t,e,n){const r=t.field.isKeyField()?rt.comparator(e.key,n.key):function(i,s,o){const a=s.data.field(i),l=o.data.field(i);return a!==null&&l!==null?Gu(a,l):ct()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ct()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wc{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Cl(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return dR(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cj=new Zn(rt.comparator);function lo(){return cj}const IR=new Zn(rt.comparator);function ed(...t){let e=IR;for(const n of t)e=e.insert(n.key,n);return e}function CR(t){let e=IR;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function La(){return _d()}function OR(){return _d()}function _d(){return new wc(t=>t.toString(),(t,e)=>t.isEqual(e))}const dj=new Zn(rt.comparator),fj=new Ii(rt.comparator);function Et(...t){let e=fj;for(const n of t)e=e.add(n);return e}const hj=new Ii(Kt);function pj(){return hj}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AR(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:vm(e)?"-0":e}}function kR(t){return{integerValue:""+t}}function mj(t,e){return GB(e)?kR(e):AR(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ev{constructor(){this._=void 0}}function gj(t,e,n){return t instanceof wm?function(r,i){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&Xg(i)&&(i=Z1(i)),i&&(s.fields.__previous_value__=i),{mapValue:s}}(n,e):t instanceof hf?xR(t,e):t instanceof pf?DR(t,e):function(r,i){const s=PR(r,i),o=uI(s)+uI(r.gt);return Sb(s)&&Sb(r.gt)?kR(o):AR(r.serializer,o)}(t,e)}function vj(t,e,n){return t instanceof hf?xR(t,e):t instanceof pf?DR(t,e):n}function PR(t,e){return t instanceof _m?Sb(n=e)||function(r){return!!r&&"doubleValue"in r}(n)?e:{integerValue:0}:null;var n}class wm extends ev{}class hf extends ev{constructor(e){super(),this.elements=e}}function xR(t,e){const n=RR(e);for(const r of t.elements)n.some(i=>Ls(i,r))||n.push(r);return{arrayValue:{values:n}}}class pf extends ev{constructor(e){super(),this.elements=e}}function DR(t,e){let n=RR(e);for(const r of t.elements)n=n.filter(i=>!Ls(i,r));return{arrayValue:{values:n}}}class _m extends ev{constructor(e,n){super(),this.serializer=e,this.gt=n}}function uI(t){return qn(t.integerValue||t.doubleValue)}function RR(t){return e_(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function yj(t,e){return t.field.isEqual(e.field)&&function(n,r){return n instanceof hf&&r instanceof hf||n instanceof pf&&r instanceof pf?zu(n.elements,r.elements,Ls):n instanceof _m&&r instanceof _m?Ls(n.gt,r.gt):n instanceof wm&&r instanceof wm}(t.transform,e.transform)}class bj{constructor(e,n){this.version=e,this.transformResults=n}}class Ui{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Ui}static exists(e){return new Ui(void 0,e)}static updateTime(e){return new Ui(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Op(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class tv{}function NR(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new o_(t.key,Ui.none()):new ih(t.key,t.data,Ui.none());{const n=t.data,r=ai.empty();let i=new Ii(Ms.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new fa(t.key,r,new Es(i.toArray()),Ui.none())}}function wj(t,e,n){t instanceof ih?function(r,i,s){const o=r.value.clone(),a=dI(r.fieldTransforms,i,s.transformResults);o.setAll(a),i.convertToFoundDocument(s.version,o).setHasCommittedMutations()}(t,e,n):t instanceof fa?function(r,i,s){if(!Op(r.precondition,i))return void i.convertToUnknownDocument(s.version);const o=dI(r.fieldTransforms,i,s.transformResults),a=i.data;a.setAll(MR(r)),a.setAll(o),i.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):function(r,i,s){i.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function Td(t,e,n,r){return t instanceof ih?function(i,s,o,a){if(!Op(i.precondition,s))return o;const l=i.value.clone(),u=fI(i.fieldTransforms,a,s);return l.setAll(u),s.convertToFoundDocument(s.version,l).setHasLocalMutations(),null}(t,e,n,r):t instanceof fa?function(i,s,o,a){if(!Op(i.precondition,s))return o;const l=fI(i.fieldTransforms,a,s),u=s.data;return u.setAll(MR(i)),u.setAll(l),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),o===null?null:o.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(c=>c.field))}(t,e,n,r):function(i,s,o){return Op(i.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):o}(t,e,n)}function _j(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=PR(r.transform,i||null);s!=null&&(n===null&&(n=ai.empty()),n.set(r.field,s))}return n||null}function cI(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(n,r){return n===void 0&&r===void 0||!(!n||!r)&&zu(n,r,(i,s)=>yj(i,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class ih extends tv{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class fa extends tv{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function MR(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function dI(t,e,n){const r=new Map;bn(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,vj(o,a,n[i]))}return r}function fI(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,gj(s,o,e))}return r}class o_ extends tv{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Tj extends tv{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sj{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&wj(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Td(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Td(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=OR();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const l=NR(o,a);l!==null&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(vt.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Et())}isEqual(e){return this.batchId===e.batchId&&zu(this.mutations,e.mutations,(n,r)=>cI(n,r))&&zu(this.baseMutations,e.baseMutations,(n,r)=>cI(n,r))}}class a_{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){bn(e.mutations.length===r.length);let i=dj;const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new a_(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ej{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ij{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var zn,Pt;function Cj(t){switch(t){default:return ct();case he.CANCELLED:case he.UNKNOWN:case he.DEADLINE_EXCEEDED:case he.RESOURCE_EXHAUSTED:case he.INTERNAL:case he.UNAVAILABLE:case he.UNAUTHENTICATED:return!1;case he.INVALID_ARGUMENT:case he.NOT_FOUND:case he.ALREADY_EXISTS:case he.PERMISSION_DENIED:case he.FAILED_PRECONDITION:case he.ABORTED:case he.OUT_OF_RANGE:case he.UNIMPLEMENTED:case he.DATA_LOSS:return!0}}function LR(t){if(t===void 0)return io("GRPC error has no .code"),he.UNKNOWN;switch(t){case zn.OK:return he.OK;case zn.CANCELLED:return he.CANCELLED;case zn.UNKNOWN:return he.UNKNOWN;case zn.DEADLINE_EXCEEDED:return he.DEADLINE_EXCEEDED;case zn.RESOURCE_EXHAUSTED:return he.RESOURCE_EXHAUSTED;case zn.INTERNAL:return he.INTERNAL;case zn.UNAVAILABLE:return he.UNAVAILABLE;case zn.UNAUTHENTICATED:return he.UNAUTHENTICATED;case zn.INVALID_ARGUMENT:return he.INVALID_ARGUMENT;case zn.NOT_FOUND:return he.NOT_FOUND;case zn.ALREADY_EXISTS:return he.ALREADY_EXISTS;case zn.PERMISSION_DENIED:return he.PERMISSION_DENIED;case zn.FAILED_PRECONDITION:return he.FAILED_PRECONDITION;case zn.ABORTED:return he.ABORTED;case zn.OUT_OF_RANGE:return he.OUT_OF_RANGE;case zn.UNIMPLEMENTED:return he.UNIMPLEMENTED;case zn.DATA_LOSS:return he.DATA_LOSS;default:return ct()}}(Pt=zn||(zn={}))[Pt.OK=0]="OK",Pt[Pt.CANCELLED=1]="CANCELLED",Pt[Pt.UNKNOWN=2]="UNKNOWN",Pt[Pt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Pt[Pt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Pt[Pt.NOT_FOUND=5]="NOT_FOUND",Pt[Pt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Pt[Pt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Pt[Pt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Pt[Pt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Pt[Pt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Pt[Pt.ABORTED=10]="ABORTED",Pt[Pt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Pt[Pt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Pt[Pt.INTERNAL=13]="INTERNAL",Pt[Pt.UNAVAILABLE=14]="UNAVAILABLE",Pt[Pt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l_{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return qh}static getOrCreateInstance(){return qh===null&&(qh=new l_),qh}onExistenceFilterMismatch(e){const n=Symbol();return this.onExistenceFilterMismatchCallbacks.set(n,e),()=>this.onExistenceFilterMismatchCallbacks.delete(n)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(n=>n(e))}}let qh=null;/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oj(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Aj=new Cu([4294967295,4294967295],0);function hI(t){const e=Oj().encode(t),n=new DB;return n.update(e),new Uint8Array(n.digest())}function pI(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Cu([n,r],0),new Cu([i,s],0)]}class u_{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new td(`Invalid padding: ${n}`);if(r<0)throw new td(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new td(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new td(`Invalid padding when bitmap length is 0: ${n}`);this.It=8*e.length-n,this.Tt=Cu.fromNumber(this.It)}Et(e,n,r){let i=e.add(n.multiply(Cu.fromNumber(r)));return i.compare(Aj)===1&&(i=new Cu([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Tt).toNumber()}At(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}vt(e){if(this.It===0)return!1;const n=hI(e),[r,i]=pI(n);for(let s=0;s<this.hashCount;s++){const o=this.Et(r,i,s);if(!this.At(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new u_(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.It===0)return;const n=hI(e),[r,i]=pI(n);for(let s=0;s<this.hashCount;s++){const o=this.Et(r,i,s);this.Rt(o)}}Rt(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class td extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nv{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,sh.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new nv(vt.min(),i,new Zn(Kt),lo(),Et())}}class sh{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new sh(r,n,Et(),Et(),Et())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ap{constructor(e,n,r,i){this.Pt=e,this.removedTargetIds=n,this.key=r,this.bt=i}}class $R{constructor(e,n){this.targetId=e,this.Vt=n}}class FR{constructor(e,n,r=Ai.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class mI{constructor(){this.St=0,this.Dt=vI(),this.Ct=Ai.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return this.St!==0}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=Et(),n=Et(),r=Et();return this.Dt.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:ct()}}),new sh(this.Ct,this.xt,e,n,r)}Ft(){this.Nt=!1,this.Dt=vI()}Bt(e,n){this.Nt=!0,this.Dt=this.Dt.insert(e,n)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class kj{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=lo(),this.zt=gI(),this.Wt=new Zn(Kt)}Ht(e){for(const n of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(n,e.bt):this.Yt(n,e.key,e.bt);for(const n of e.removedTargetIds)this.Yt(n,e.key,e.bt)}Xt(e){this.forEachTarget(e,n=>{const r=this.Zt(n);switch(e.state){case 0:this.te(n)&&r.$t(e.resumeToken);break;case 1:r.Ut(),r.kt||r.Ft(),r.$t(e.resumeToken);break;case 2:r.Ut(),r.kt||this.removeTarget(n);break;case 3:this.te(n)&&(r.Kt(),r.$t(e.resumeToken));break;case 4:this.te(n)&&(this.ee(n),r.$t(e.resumeToken));break;default:ct()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Qt.forEach((r,i)=>{this.te(i)&&n(i)})}ne(e){var n;const r=e.targetId,i=e.Vt.count,s=this.se(r);if(s){const o=s.target;if(Ib(o))if(i===0){const a=new rt(o.path);this.Yt(r,a,so.newNoDocument(a,vt.min()))}else bn(i===1);else{const a=this.ie(r);if(a!==i){const l=this.re(e,a);if(l!==0){this.ee(r);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Wt=this.Wt.insert(r,u)}(n=l_.instance)===null||n===void 0||n.notifyOnExistenceFilterMismatch(function(u,c,d){var f,h,p,m,g,y;const v={localCacheCount:c,existenceFilterCount:d.count},_=d.unchangedNames;return _&&(v.bloomFilter={applied:u===0,hashCount:(f=_==null?void 0:_.hashCount)!==null&&f!==void 0?f:0,bitmapLength:(m=(p=(h=_==null?void 0:_.bits)===null||h===void 0?void 0:h.bitmap)===null||p===void 0?void 0:p.length)!==null&&m!==void 0?m:0,padding:(y=(g=_==null?void 0:_.bits)===null||g===void 0?void 0:g.padding)!==null&&y!==void 0?y:0}),v}(l,a,e.Vt))}}}}re(e,n){const{unchangedNames:r,count:i}=e.Vt;if(!r||!r.bits)return 1;const{bits:{bitmap:s="",padding:o=0},hashCount:a=0}=r;let l,u;try{l=ul(s).toUint8Array()}catch(c){if(c instanceof fR)return Ku("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw c}try{u=new u_(l,o,a)}catch(c){return Ku(c instanceof td?"BloomFilter error: ":"Applying bloom filter failed: ",c),1}return u.It===0?1:i!==n-this.oe(e.targetId,u)?2:0}oe(e,n){const r=this.Gt.getRemoteKeysForTarget(e);let i=0;return r.forEach(s=>{const o=this.Gt.ue(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;n.vt(a)||(this.Yt(e,s,null),i++)}),i}ce(e){const n=new Map;this.Qt.forEach((s,o)=>{const a=this.se(o);if(a){if(s.current&&Ib(a.target)){const l=new rt(a.target.path);this.jt.get(l)!==null||this.ae(o,l)||this.Yt(o,l,so.newNoDocument(l,e))}s.Mt&&(n.set(o,s.Ot()),s.Ft())}});let r=Et();this.zt.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const u=this.se(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.jt.forEach((s,o)=>o.setReadTime(e));const i=new nv(e,n,this.Wt,this.jt,r);return this.jt=lo(),this.zt=gI(),this.Wt=new Zn(Kt),i}Jt(e,n){if(!this.te(e))return;const r=this.ae(e,n.key)?2:0;this.Zt(e).Bt(n.key,r),this.jt=this.jt.insert(n.key,n),this.zt=this.zt.insert(n.key,this.he(n.key).add(e))}Yt(e,n,r){if(!this.te(e))return;const i=this.Zt(e);this.ae(e,n)?i.Bt(n,1):i.Lt(n),this.zt=this.zt.insert(n,this.he(n).delete(e)),r&&(this.jt=this.jt.insert(n,r))}removeTarget(e){this.Qt.delete(e)}ie(e){const n=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let n=this.Qt.get(e);return n||(n=new mI,this.Qt.set(e,n)),n}he(e){let n=this.zt.get(e);return n||(n=new Ii(Kt),this.zt=this.zt.insert(e,n)),n}te(e){const n=this.se(e)!==null;return n||Qe("WatchChangeAggregator","Detected inactive target",e),n}se(e){const n=this.Qt.get(e);return n&&n.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new mI),this.Gt.getRemoteKeysForTarget(e).forEach(n=>{this.Yt(e,n,null)})}ae(e,n){return this.Gt.getRemoteKeysForTarget(e).has(n)}}function gI(){return new Zn(rt.comparator)}function vI(){return new Zn(rt.comparator)}const Pj={asc:"ASCENDING",desc:"DESCENDING"},xj={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Dj={and:"AND",or:"OR"};class Rj{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Ab(t,e){return t.useProto3Json||qg(e)?e:{value:e}}function Tm(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function UR(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function Nj(t,e){return Tm(t,e.toTimestamp())}function ks(t){return bn(!!t),vt.fromTimestamp(function(e){const n=na(e);return new Xn(n.seconds,n.nanos)}(t))}function c_(t,e){return function(n){return new $n(["projects",n.projectId,"databases",n.database])}(t).child("documents").child(e).canonicalString()}function VR(t){const e=$n.fromString(t);return bn(WR(e)),e}function kb(t,e){return c_(t.databaseId,e.path)}function yy(t,e){const n=VR(e);if(n.get(1)!==t.databaseId.projectId)throw new Ne(he.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Ne(he.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new rt(BR(n))}function Pb(t,e){return c_(t.databaseId,e)}function Mj(t){const e=VR(t);return e.length===4?$n.emptyPath():BR(e)}function xb(t){return new $n(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function BR(t){return bn(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function yI(t,e,n){return{name:kb(t,e),fields:n.value.mapValue.fields}}function Lj(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:ct()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(l,u){return l.useProto3Json?(bn(u===void 0||typeof u=="string"),Ai.fromBase64String(u||"")):(bn(u===void 0||u instanceof Uint8Array),Ai.fromUint8Array(u||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(l){const u=l.code===void 0?he.UNKNOWN:LR(l.code);return new Ne(u,l.message||"")}(o);n=new FR(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=yy(t,r.document.name),s=ks(r.document.updateTime),o=r.document.createTime?ks(r.document.createTime):vt.min(),a=new ai({mapValue:{fields:r.document.fields}}),l=so.newFoundDocument(i,s,o,a),u=r.targetIds||[],c=r.removedTargetIds||[];n=new Ap(u,c,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=yy(t,r.document),s=r.readTime?ks(r.readTime):vt.min(),o=so.newNoDocument(i,s),a=r.removedTargetIds||[];n=new Ap([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=yy(t,r.document),s=r.removedTargetIds||[];n=new Ap([],s,i,null)}else{if(!("filter"in e))return ct();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new Ij(i,s),a=r.targetId;n=new $R(a,o)}}return n}function $j(t,e){let n;if(e instanceof ih)n={update:yI(t,e.key,e.value)};else if(e instanceof o_)n={delete:kb(t,e.key)};else if(e instanceof fa)n={update:yI(t,e.key,e.data),updateMask:zj(e.fieldMask)};else{if(!(e instanceof Tj))return ct();n={verify:kb(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,s){const o=s.transform;if(o instanceof wm)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof hf)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof pf)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof _m)return{fieldPath:s.field.canonicalString(),increment:o.gt};throw ct()}(0,r))),e.precondition.isNone||(n.currentDocument=function(r,i){return i.updateTime!==void 0?{updateTime:Nj(r,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:ct()}(t,e.precondition)),n}function Fj(t,e){return t&&t.length>0?(bn(e!==void 0),t.map(n=>function(r,i){let s=r.updateTime?ks(r.updateTime):ks(i);return s.isEqual(vt.min())&&(s=ks(i)),new bj(s,r.transformResults||[])}(n,e))):[]}function Uj(t,e){return{documents:[Pb(t,e.path)]}}function Vj(t,e){const n={structuredQuery:{}},r=e.path;e.collectionGroup!==null?(n.parent=Pb(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=Pb(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(l){if(l.length!==0)return HR(oo.create(l,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const s=function(l){if(l.length!==0)return l.map(u=>function(c){return{field:Zl(c.field),direction:Hj(c.dir)}}(u))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const o=Ab(t,e.limit);var a;return o!==null&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt={before:(a=e.startAt).inclusive,values:a.position}),e.endAt&&(n.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),n}function Bj(t){let e=Mj(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){bn(r===1);const c=n.from[0];c.allDescendants?i=c.collectionId:e=e.child(c.collectionId)}let s=[];n.where&&(s=function(c){const d=jR(c);return d instanceof oo&&bR(d)?d.getFilters():[d]}(n.where));let o=[];n.orderBy&&(o=n.orderBy.map(c=>function(d){return new Ou(eu(d.field),function(f){switch(f){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(d.direction))}(c)));let a=null;n.limit&&(a=function(c){let d;return d=typeof c=="object"?c.value:c,qg(d)?null:d}(n.limit));let l=null;n.startAt&&(l=function(c){const d=!!c.before,f=c.values||[];return new qu(f,d)}(n.startAt));let u=null;return n.endAt&&(u=function(c){const d=!c.before,f=c.values||[];return new qu(f,d)}(n.endAt)),aj(e,i,o,s,a,"F",l,u)}function jj(t,e){const n=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ct()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function jR(t){return t.unaryFilter!==void 0?function(e){switch(e.unaryFilter.op){case"IS_NAN":const n=eu(e.unaryFilter.field);return dr.create(n,"==",{doubleValue:NaN});case"IS_NULL":const r=eu(e.unaryFilter.field);return dr.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=eu(e.unaryFilter.field);return dr.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=eu(e.unaryFilter.field);return dr.create(s,"!=",{nullValue:"NULL_VALUE"});default:return ct()}}(t):t.fieldFilter!==void 0?function(e){return dr.create(eu(e.fieldFilter.field),function(n){switch(n){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ct()}}(e.fieldFilter.op),e.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(e){return oo.create(e.compositeFilter.filters.map(n=>jR(n)),function(n){switch(n){case"AND":return"and";case"OR":return"or";default:return ct()}}(e.compositeFilter.op))}(t):ct()}function Hj(t){return Pj[t]}function Wj(t){return xj[t]}function Kj(t){return Dj[t]}function Zl(t){return{fieldPath:t.canonicalString()}}function eu(t){return Ms.fromServerFormat(t.fieldPath)}function HR(t){return t instanceof dr?function(e){if(e.op==="=="){if(iI(e.value))return{unaryFilter:{field:Zl(e.field),op:"IS_NAN"}};if(rI(e.value))return{unaryFilter:{field:Zl(e.field),op:"IS_NULL"}}}else if(e.op==="!="){if(iI(e.value))return{unaryFilter:{field:Zl(e.field),op:"IS_NOT_NAN"}};if(rI(e.value))return{unaryFilter:{field:Zl(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Zl(e.field),op:Wj(e.op),value:e.value}}}(t):t instanceof oo?function(e){const n=e.getFilters().map(r=>HR(r));return n.length===1?n[0]:{compositeFilter:{op:Kj(e.op),filters:n}}}(t):ct()}function zj(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function WR(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let d_=class nd{constructor(e,n,r,i,s=vt.min(),o=vt.min(),a=Ai.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new nd(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new nd(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new nd(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new nd(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Gj=class{constructor(e){this.fe=e}};function Yj(t){const e=Bj({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?bm(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let qj=class{constructor(){this.rn=new Xj}addToCollectionParentIndex(e,n){return this.rn.add(n),Re.resolve()}getCollectionParents(e,n){return Re.resolve(this.rn.getEntries(n))}addFieldIndex(e,n){return Re.resolve()}deleteFieldIndex(e,n){return Re.resolve()}getDocumentsMatchingTarget(e,n){return Re.resolve(null)}getIndexType(e,n){return Re.resolve(0)}getFieldIndexes(e,n){return Re.resolve([])}getNextCollectionGroupToUpdate(e){return Re.resolve(null)}getMinOffset(e,n){return Re.resolve(cf.min())}getMinOffsetFromCollectionGroup(e,n){return Re.resolve(cf.min())}updateCollectionGroup(e,n,r){return Re.resolve()}updateIndexEntries(e,n){return Re.resolve()}},Xj=class{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Ii($n.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Ii($n.comparator)).toArray()}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Db=class Rb{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new Rb(0)}static Mn(){return new Rb(-1)}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Qj=class{constructor(){this.changes=new wc(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,so.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?Re.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jj{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Zj=class{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Td(r.mutation,i,Es.empty(),Xn.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Et()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Et()){const i=La();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=ed();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=La();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Et()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=lo();const o=_d(),a=_d();return n.forEach((l,u)=>{const c=r.get(u.key);i.has(u.key)&&(c===void 0||c.mutation instanceof fa)?s=s.insert(u.key,u):c!==void 0?(o.set(u.key,c.mutation.getFieldMask()),Td(c.mutation,u,c.mutation.getFieldMask(),Xn.now())):o.set(u.key,Es.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((u,c)=>o.set(u,c)),n.forEach((u,c)=>{var d;return a.set(u,new Jj(c,(d=o.get(u))!==null&&d!==void 0?d:null))}),a))}recalculateAndSaveOverlays(e,n){const r=_d();let i=new Zn((o,a)=>o-a),s=Et();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let c=r.get(l)||Es.empty();c=a.applyToLocalView(u,c),r.set(l,c);const d=(i.get(a.batchId)||Et()).add(l);i=i.insert(a.batchId,d)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,c=l.value,d=OR();c.forEach(f=>{if(!s.has(f)){const h=NR(n.get(f),r.get(f));h!==null&&d.set(f,h),s=s.add(f)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,d))}return Re.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r){return function(i){return rt.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):s_(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r):this.getDocumentsMatchingCollectionQuery(e,n,r)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):Re.resolve(La());let a=-1,l=s;return o.next(u=>Re.forEach(u,(c,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),s.get(c)?Re.resolve():this.remoteDocumentCache.getEntry(e,c).next(f=>{l=l.insert(c,f)}))).next(()=>this.populateOverlays(e,u,s)).next(()=>this.computeViews(e,l,u,Et())).next(c=>({batchId:a,changes:CR(c)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new rt(n)).next(r=>{let i=ed();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r){const i=n.collectionGroup;let s=ed();return this.indexManager.getCollectionParents(e,i).next(o=>Re.forEach(o,a=>{const l=function(u,c){return new Ol(c,null,u.explicitOrderBy.slice(),u.filters.slice(),u.limit,u.limitType,u.startAt,u.endAt)}(n,a.child(i));return this.getDocumentsMatchingCollectionQuery(e,l,r).next(u=>{u.forEach((c,d)=>{s=s.insert(c,d)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(i=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i))).next(s=>{i.forEach((a,l)=>{const u=l.getKey();s.get(u)===null&&(s=s.insert(u,so.newInvalidDocument(u)))});let o=ed();return s.forEach((a,l)=>{const u=i.get(a);u!==void 0&&Td(u.mutation,l,Es.empty(),Xn.now()),Zg(n,l)&&(o=o.insert(a,l))}),o})}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let e7=class{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,n){return Re.resolve(this.cs.get(n))}saveBundleMetadata(e,n){var r;return this.cs.set(n.id,{id:(r=n).id,version:r.version,createTime:ks(r.createTime)}),Re.resolve()}getNamedQuery(e,n){return Re.resolve(this.hs.get(n))}saveNamedQuery(e,n){return this.hs.set(n.name,function(r){return{name:r.name,query:Yj(r.bundledQuery),readTime:ks(r.readTime)}}(n)),Re.resolve()}};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let t7=class{constructor(){this.overlays=new Zn(rt.comparator),this.ls=new Map}getOverlay(e,n){return Re.resolve(this.overlays.get(n))}getOverlays(e,n){const r=La();return Re.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.we(e,n,s)}),Re.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.ls.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.ls.delete(r)),Re.resolve()}getOverlaysForCollection(e,n,r){const i=La(),s=n.length+1,o=new rt(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return Re.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new Zn((u,c)=>u-c);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let c=s.get(u.largestBatchId);c===null&&(c=La(),s=s.insert(u.largestBatchId,c)),c.set(u.getKey(),u)}}const a=La(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,c)=>a.set(u,c)),!(a.size()>=i)););return Re.resolve(a)}we(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.ls.get(i.largestBatchId).delete(r.key);this.ls.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new Ej(n,r));let s=this.ls.get(n);s===void 0&&(s=Et(),this.ls.set(n,s)),this.ls.set(n,s.add(r.key))}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let f_=class{constructor(){this.fs=new Ii(ur.ds),this.ws=new Ii(ur._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,n){const r=new ur(e,n);this.fs=this.fs.add(r),this.ws=this.ws.add(r)}gs(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.ys(new ur(e,n))}ps(e,n){e.forEach(r=>this.removeReference(r,n))}Is(e){const n=new rt(new $n([])),r=new ur(n,e),i=new ur(n,e+1),s=[];return this.ws.forEachInRange([r,i],o=>{this.ys(o),s.push(o.key)}),s}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const n=new rt(new $n([])),r=new ur(n,e),i=new ur(n,e+1);let s=Et();return this.ws.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new ur(e,0),r=this.fs.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}};class ur{constructor(e,n){this.key=e,this.As=n}static ds(e,n){return rt.comparator(e.key,n.key)||Kt(e.As,n.As)}static _s(e,n){return Kt(e.As,n.As)||rt.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n7{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.vs=1,this.Rs=new Ii(ur.ds)}checkEmpty(e){return Re.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.vs;this.vs++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new Sj(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.Rs=this.Rs.add(new ur(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return Re.resolve(o)}lookupMutationBatch(e,n){return Re.resolve(this.Ps(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.bs(r),s=i<0?0:i;return Re.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return Re.resolve(this.mutationQueue.length===0?-1:this.vs-1)}getAllMutationBatches(e){return Re.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new ur(n,0),i=new ur(n,Number.POSITIVE_INFINITY),s=[];return this.Rs.forEachInRange([r,i],o=>{const a=this.Ps(o.As);s.push(a)}),Re.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Ii(Kt);return n.forEach(i=>{const s=new ur(i,0),o=new ur(i,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([s,o],a=>{r=r.add(a.As)})}),Re.resolve(this.Vs(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;rt.isDocumentKey(s)||(s=s.child(""));const o=new ur(new rt(s),0);let a=new Ii(Kt);return this.Rs.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(l.As)),!0)},o),Re.resolve(this.Vs(a))}Vs(e){const n=[];return e.forEach(r=>{const i=this.Ps(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){bn(this.Ss(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.Rs;return Re.forEach(n.mutations,i=>{const s=new ur(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Rs=r})}Cn(e){}containsKey(e,n){const r=new ur(n,0),i=this.Rs.firstAfterOrEqual(r);return Re.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,Re.resolve()}Ss(e,n){return this.bs(e)}bs(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Ps(e){const n=this.bs(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r7{constructor(e){this.Ds=e,this.docs=new Zn(rt.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Ds(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return Re.resolve(r?r.document.mutableCopy():so.newInvalidDocument(n))}getEntries(e,n){let r=lo();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():so.newInvalidDocument(i))}),Re.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=lo();const o=n.path,a=new rt(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:u,value:{document:c}}=l.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||WB(HB(c),r)<=0||(i.has(c.key)||Zg(n,c))&&(s=s.insert(c.key,c.mutableCopy()))}return Re.resolve(s)}getAllFromCollectionGroup(e,n,r,i){ct()}Cs(e,n){return Re.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new i7(this)}getSize(e){return Re.resolve(this.size)}}class i7 extends Qj{constructor(e){super(),this.os=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.os.addEntry(e,i)):this.os.removeEntry(r)}),Re.waitFor(n)}getFromCache(e,n){return this.os.getEntry(e,n)}getAllFromCache(e,n){return this.os.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s7{constructor(e){this.persistence=e,this.xs=new wc(n=>t_(n),n_),this.lastRemoteSnapshotVersion=vt.min(),this.highestTargetId=0,this.Ns=0,this.ks=new f_,this.targetCount=0,this.Ms=Db.kn()}forEachTarget(e,n){return this.xs.forEach((r,i)=>n(i)),Re.resolve()}getLastRemoteSnapshotVersion(e){return Re.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Re.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),Re.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Ns&&(this.Ns=n),Re.resolve()}Fn(e){this.xs.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Ms=new Db(n),this.highestTargetId=n),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,n){return this.Fn(n),this.targetCount+=1,Re.resolve()}updateTargetData(e,n){return this.Fn(n),Re.resolve()}removeTargetData(e,n){return this.xs.delete(n.target),this.ks.Is(n.targetId),this.targetCount-=1,Re.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.xs.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.xs.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),Re.waitFor(s).next(()=>i)}getTargetCount(e){return Re.resolve(this.targetCount)}getTargetData(e,n){const r=this.xs.get(n)||null;return Re.resolve(r)}addMatchingKeys(e,n,r){return this.ks.gs(n,r),Re.resolve()}removeMatchingKeys(e,n,r){this.ks.ps(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),Re.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.ks.Is(n),Re.resolve()}getMatchingKeysForTargetId(e,n){const r=this.ks.Es(n);return Re.resolve(r)}containsKey(e,n){return Re.resolve(this.ks.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o7{constructor(e,n){this.$s={},this.overlays={},this.Os=new J1(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new s7(this),this.indexManager=new qj,this.remoteDocumentCache=function(r){return new r7(r)}(r=>this.referenceDelegate.Ls(r)),this.serializer=new Gj(n),this.qs=new e7(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new t7,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.$s[e.toKey()];return r||(r=new n7(n,this.referenceDelegate),this.$s[e.toKey()]=r),r}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,n,r){Qe("MemoryPersistence","Starting transaction:",e);const i=new a7(this.Os.next());return this.referenceDelegate.Us(),r(i).next(s=>this.referenceDelegate.Ks(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Gs(e,n){return Re.or(Object.values(this.$s).map(r=>()=>r.containsKey(e,n)))}}class a7 extends zB{constructor(e){super(),this.currentSequenceNumber=e}}class h_{constructor(e){this.persistence=e,this.Qs=new f_,this.js=null}static zs(e){return new h_(e)}get Ws(){if(this.js)return this.js;throw ct()}addReference(e,n,r){return this.Qs.addReference(r,n),this.Ws.delete(r.toString()),Re.resolve()}removeReference(e,n,r){return this.Qs.removeReference(r,n),this.Ws.add(r.toString()),Re.resolve()}markPotentiallyOrphaned(e,n){return this.Ws.add(n.toString()),Re.resolve()}removeTarget(e,n){this.Qs.Is(n.targetId).forEach(i=>this.Ws.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Ws.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Us(){this.js=new Set}Ks(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Re.forEach(this.Ws,r=>{const i=rt.fromPath(r);return this.Hs(e,i).next(s=>{s||n.removeEntry(i,vt.min())})}).next(()=>(this.js=null,n.apply(e)))}updateLimboDocument(e,n){return this.Hs(e,n).next(r=>{r?this.Ws.delete(n.toString()):this.Ws.add(n.toString())})}Ls(e){return 0}Hs(e,n){return Re.or([()=>Re.resolve(this.Qs.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gs(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p_{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Fi=r,this.Bi=i}static Li(e,n){let r=Et(),i=Et();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new p_(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l7{constructor(){this.qi=!1}initialize(e,n){this.Ui=e,this.indexManager=n,this.qi=!0}getDocumentsMatchingQuery(e,n,r,i){return this.Ki(e,n).next(s=>s||this.Gi(e,n,i,r)).next(s=>s||this.Qi(e,n))}Ki(e,n){if(lI(n))return Re.resolve(null);let r=ao(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=bm(n,null,"F"),r=ao(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=Et(...s);return this.Ui.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const u=this.ji(n,a);return this.zi(n,u,o,l.readTime)?this.Ki(e,bm(n,null,"F")):this.Wi(e,u,n,l)}))})))}Gi(e,n,r,i){return lI(n)||i.isEqual(vt.min())?this.Qi(e,n):this.Ui.getDocuments(e,r).next(s=>{const o=this.ji(n,s);return this.zi(n,o,r,i)?this.Qi(e,n):(ZE()<=$t.DEBUG&&Qe("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Ob(n)),this.Wi(e,o,n,jB(i,-1)))})}ji(e,n){let r=new Ii(ER(e));return n.forEach((i,s)=>{Zg(e,s)&&(r=r.add(s))}),r}zi(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Qi(e,n){return ZE()<=$t.DEBUG&&Qe("QueryEngine","Using full collection scan to execute query:",Ob(n)),this.Ui.getDocumentsMatchingQuery(e,n,cf.min())}Wi(e,n,r,i){return this.Ui.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u7{constructor(e,n,r,i){this.persistence=e,this.Hi=n,this.serializer=i,this.Ji=new Zn(Kt),this.Yi=new wc(s=>t_(s),n_),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(r)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Zj(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ji))}}function c7(t,e,n,r){return new u7(t,e,n,r)}async function KR(t,e){const n=gt(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.tr(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let l=Et();for(const u of i){o.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}for(const u of s){a.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}return n.localDocuments.getDocuments(r,l).next(u=>({er:u,removedBatchIds:o,addedBatchIds:a}))})})}function d7(t,e){const n=gt(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.Zi.newChangeBuffer({trackRemovals:!0});return function(o,a,l,u){const c=l.batch,d=c.keys();let f=Re.resolve();return d.forEach(h=>{f=f.next(()=>u.getEntry(a,h)).next(p=>{const m=l.docVersions.get(h);bn(m!==null),p.version.compareTo(m)<0&&(c.applyToRemoteDocument(p,l),p.isValidDocument()&&(p.setReadTime(l.commitVersion),u.addEntry(p)))})}),f.next(()=>o.mutationQueue.removeMutationBatch(a,c))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(o){let a=Et();for(let l=0;l<o.mutationResults.length;++l)o.mutationResults[l].transformResults.length>0&&(a=a.add(o.batch.mutations[l].key));return a}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function zR(t){const e=gt(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Bs.getLastRemoteSnapshotVersion(n))}function f7(t,e){const n=gt(t),r=e.snapshotVersion;let i=n.Ji;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.Zi.newChangeBuffer({trackRemovals:!0});i=n.Ji;const a=[];e.targetChanges.forEach((c,d)=>{const f=i.get(d);if(!f)return;a.push(n.Bs.removeMatchingKeys(s,c.removedDocuments,d).next(()=>n.Bs.addMatchingKeys(s,c.addedDocuments,d)));let h=f.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(d)!==null?h=h.withResumeToken(Ai.EMPTY_BYTE_STRING,vt.min()).withLastLimboFreeSnapshotVersion(vt.min()):c.resumeToken.approximateByteSize()>0&&(h=h.withResumeToken(c.resumeToken,r)),i=i.insert(d,h),function(p,m,g){return p.resumeToken.approximateByteSize()===0||m.snapshotVersion.toMicroseconds()-p.snapshotVersion.toMicroseconds()>=3e8?!0:g.addedDocuments.size+g.modifiedDocuments.size+g.removedDocuments.size>0}(f,h,c)&&a.push(n.Bs.updateTargetData(s,h))});let l=lo(),u=Et();if(e.documentUpdates.forEach(c=>{e.resolvedLimboDocuments.has(c)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,c))}),a.push(h7(s,o,e.documentUpdates).next(c=>{l=c.nr,u=c.sr})),!r.isEqual(vt.min())){const c=n.Bs.getLastRemoteSnapshotVersion(s).next(d=>n.Bs.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(c)}return Re.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,u)).next(()=>l)}).then(s=>(n.Ji=i,s))}function h7(t,e,n){let r=Et(),i=Et();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=lo();return n.forEach((a,l)=>{const u=s.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(vt.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):Qe("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{nr:o,sr:i}})}function p7(t,e){const n=gt(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function m7(t,e){const n=gt(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Bs.getTargetData(r,e).next(s=>s?(i=s,Re.resolve(i)):n.Bs.allocateTargetId(r).next(o=>(i=new d_(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Bs.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Ji.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ji=n.Ji.insert(r.targetId,r),n.Yi.set(e,r.targetId)),r})}async function Nb(t,e,n){const r=gt(t),i=r.Ji.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!rh(o))throw o;Qe("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ji=r.Ji.remove(e),r.Yi.delete(i.target)}function bI(t,e,n){const r=gt(t);let i=vt.min(),s=Et();return r.persistence.runTransaction("Execute query","readonly",o=>function(a,l,u){const c=gt(a),d=c.Yi.get(u);return d!==void 0?Re.resolve(c.Ji.get(d)):c.Bs.getTargetData(l,u)}(r,o,ao(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Bs.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>r.Hi.getDocumentsMatchingQuery(o,e,n?i:vt.min(),n?s:Et())).next(a=>(g7(r,lj(e),a),{documents:a,ir:s})))}function g7(t,e,n){let r=t.Xi.get(e)||vt.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.Xi.set(e,r)}class wI{constructor(){this.activeTargetIds=pj()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class v7{constructor(){this.Hr=new wI,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,n,r){this.Jr[e]=n}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new wI,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y7{Yr(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _I{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){Qe("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){Qe("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Xh=null;function by(){return Xh===null?Xh=268435456+Math.round(2147483648*Math.random()):Xh++,"0x"+Xh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b7={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w7{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Or="WebChannelConnection";class _7 extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http";this.mo=n+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,n,r,i,s){const o=by(),a=this.To(e,n);Qe("RestConnection",`Sending RPC '${e}' ${o}:`,a,r);const l={};return this.Eo(l,i,s),this.Ao(e,a,l,r).then(u=>(Qe("RestConnection",`Received RPC '${e}' ${o}: `,u),u),u=>{throw Ku("RestConnection",`RPC '${e}' ${o} failed with error: `,u,"url: ",a,"request:",r),u})}vo(e,n,r,i,s,o){return this.Io(e,n,r,i,s)}Eo(e,n,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+bc,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}To(e,n){const r=b7[e];return`${this.mo}/v1/${n}:${r}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,n,r,i){const s=by();return new Promise((o,a)=>{const l=new xB;l.setWithCredentials(!0),l.listenOnce(AB.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case vy.NO_ERROR:const c=l.getResponseJson();Qe(Or,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(c)),o(c);break;case vy.TIMEOUT:Qe(Or,`RPC '${e}' ${s} timed out`),a(new Ne(he.DEADLINE_EXCEEDED,"Request time out"));break;case vy.HTTP_ERROR:const d=l.getStatus();if(Qe(Or,`RPC '${e}' ${s} failed with status:`,d,"response text:",l.getResponseText()),d>0){let f=l.getResponseJson();Array.isArray(f)&&(f=f[0]);const h=f==null?void 0:f.error;if(h&&h.status&&h.message){const p=function(m){const g=m.toLowerCase().replace(/_/g,"-");return Object.values(he).indexOf(g)>=0?g:he.UNKNOWN}(h.status);a(new Ne(p,h.message))}else a(new Ne(he.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new Ne(he.UNAVAILABLE,"Connection failed."));break;default:ct()}}finally{Qe(Or,`RPC '${e}' ${s} completed.`)}});const u=JSON.stringify(i);Qe(Or,`RPC '${e}' ${s} sending request:`,i),l.send(n,"POST",u,r,15)})}Ro(e,n,r){const i=by(),s=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=CB(),a=OB(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.xmlHttpFactory=new PB({})),this.Eo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const c=s.join("");Qe(Or,`Creating RPC '${e}' stream ${i}: ${c}`,l);const d=o.createWebChannel(c,l);let f=!1,h=!1;const p=new w7({ro:g=>{h?Qe(Or,`Not sending because RPC '${e}' stream ${i} is closed:`,g):(f||(Qe(Or,`Opening RPC '${e}' stream ${i} transport.`),d.open(),f=!0),Qe(Or,`RPC '${e}' stream ${i} sending:`,g),d.send(g))},oo:()=>d.close()}),m=(g,y,v)=>{g.listen(y,_=>{try{v(_)}catch(b){setTimeout(()=>{throw b},0)}})};return m(d,zh.EventType.OPEN,()=>{h||Qe(Or,`RPC '${e}' stream ${i} transport opened.`)}),m(d,zh.EventType.CLOSE,()=>{h||(h=!0,Qe(Or,`RPC '${e}' stream ${i} transport closed`),p.wo())}),m(d,zh.EventType.ERROR,g=>{h||(h=!0,Ku(Or,`RPC '${e}' stream ${i} transport errored:`,g),p.wo(new Ne(he.UNAVAILABLE,"The operation could not be completed")))}),m(d,zh.EventType.MESSAGE,g=>{var y;if(!h){const v=g.data[0];bn(!!v);const _=v,b=_.error||((y=_[0])===null||y===void 0?void 0:y.error);if(b){Qe(Or,`RPC '${e}' stream ${i} received error:`,b);const w=b.status;let T=function(A){const O=zn[A];if(O!==void 0)return LR(O)}(w),P=b.message;T===void 0&&(T=he.INTERNAL,P="Unknown error status: "+w+" with message "+b.message),h=!0,p.wo(new Ne(T,P)),d.close()}else Qe(Or,`RPC '${e}' stream ${i} received:`,v),p._o(v)}}),m(a,kB.STAT_EVENT,g=>{g.stat===QE.PROXY?Qe(Or,`RPC '${e}' stream ${i} detected buffering proxy`):g.stat===QE.NOPROXY&&Qe(Or,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{p.fo()},0),p}}function wy(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rv(t){return new Rj(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GR{constructor(e,n,r=1e3,i=1.5,s=6e4){this.ii=e,this.timerId=n,this.Po=r,this.bo=i,this.Vo=s,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const n=Math.floor(this.So+this.ko()),r=Math.max(0,Date.now()-this.Co),i=Math.max(0,n-r);i>0&&Qe("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.So} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,i,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){this.Do!==null&&(this.Do.skipDelay(),this.Do=null)}cancel(){this.Do!==null&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YR{constructor(e,n,r,i,s,o,a,l){this.ii=e,this.$o=r,this.Oo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new GR(e,n)}Uo(){return this.state===1||this.state===5||this.Ko()}Ko(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Go()}async stop(){this.Uo()&&await this.close(0)}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&this.Bo===null&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}async zo(){if(this.Ko())return this.close(0)}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}async close(e,n){this.Ho(),this.Jo(),this.qo.cancel(),this.Fo++,e!==4?this.qo.reset():n&&n.code===he.RESOURCE_EXHAUSTED?(io(n.toString()),io("Using maximum backoff delay to prevent overloading the backend."),this.qo.xo()):n&&n.code===he.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.Yo(),this.stream.close(),this.stream=null),this.state=e,await this.listener.ao(n)}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),n=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Fo===n&&this.Zo(r,i)},r=>{e(()=>{const i=new Ne(he.UNKNOWN,"Fetching auth token failed: "+r.message);return this.tu(i)})})}Zo(e,n){const r=this.Xo(this.Fo);this.stream=this.eu(e,n),this.stream.uo(()=>{r(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(i=>{r(()=>this.tu(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Go(){this.state=5,this.qo.No(async()=>{this.state=0,this.start()})}tu(e){return Qe("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return n=>{this.ii.enqueueAndForget(()=>this.Fo===e?n():(Qe("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class T7 extends YR{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}eu(e,n){return this.connection.Ro("Listen",e,n)}onMessage(e){this.qo.reset();const n=Lj(this.serializer,e),r=function(i){if(!("targetChange"in i))return vt.min();const s=i.targetChange;return s.targetIds&&s.targetIds.length?vt.min():s.readTime?ks(s.readTime):vt.min()}(e);return this.listener.nu(n,r)}su(e){const n={};n.database=xb(this.serializer),n.addTarget=function(i,s){let o;const a=s.target;if(o=Ib(a)?{documents:Uj(i,a)}:{query:Vj(i,a)},o.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){o.resumeToken=UR(i,s.resumeToken);const l=Ab(i,s.expectedCount);l!==null&&(o.expectedCount=l)}else if(s.snapshotVersion.compareTo(vt.min())>0){o.readTime=Tm(i,s.snapshotVersion.toTimestamp());const l=Ab(i,s.expectedCount);l!==null&&(o.expectedCount=l)}return o}(this.serializer,e);const r=jj(this.serializer,e);r&&(n.labels=r),this.Wo(n)}iu(e){const n={};n.database=xb(this.serializer),n.removeTarget=e,this.Wo(n)}}class S7 extends YR{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,n){return this.connection.Ro("Write",e,n)}onMessage(e){if(bn(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const n=Fj(e.writeResults,e.commitTime),r=ks(e.commitTime);return this.listener.cu(r,n)}return bn(!e.writeResults||e.writeResults.length===0),this.ru=!0,this.listener.au()}hu(){const e={};e.database=xb(this.serializer),this.Wo(e)}uu(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>$j(this.serializer,r))};this.Wo(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E7 extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.lu=!1}fu(){if(this.lu)throw new Ne(he.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,n,r){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.connection.Io(e,n,r,i,s)).catch(i=>{throw i.name==="FirebaseError"?(i.code===he.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new Ne(he.UNKNOWN,i.toString())})}vo(e,n,r,i){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.vo(e,n,r,s,o,i)).catch(s=>{throw s.name==="FirebaseError"?(s.code===he.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Ne(he.UNKNOWN,s.toString())})}terminate(){this.lu=!0}}class I7{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){this.wu===0&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){this.state==="Online"?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,e==="Online"&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(io(n),this.mu=!1):Qe("OnlineStateTracker",n)}Tu(){this._u!==null&&(this._u.cancel(),this._u=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C7{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=s,this.Pu.Yr(o=>{r.enqueueAndForget(async()=>{Al(this)&&(Qe("RemoteStore","Restarting streams for network reachability change."),await async function(a){const l=gt(a);l.vu.add(4),await oh(l),l.bu.set("Unknown"),l.vu.delete(4),await iv(l)}(this))})}),this.bu=new I7(r,i)}}async function iv(t){if(Al(t))for(const e of t.Ru)await e(!0)}async function oh(t){for(const e of t.Ru)await e(!1)}function qR(t,e){const n=gt(t);n.Au.has(e.targetId)||(n.Au.set(e.targetId,e),v_(n)?g_(n):_c(n).Ko()&&m_(n,e))}function XR(t,e){const n=gt(t),r=_c(n);n.Au.delete(e),r.Ko()&&QR(n,e),n.Au.size===0&&(r.Ko()?r.jo():Al(n)&&n.bu.set("Unknown"))}function m_(t,e){if(t.Vu.qt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(vt.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}_c(t).su(e)}function QR(t,e){t.Vu.qt(e),_c(t).iu(e)}function g_(t){t.Vu=new kj({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),le:e=>t.Au.get(e)||null,ue:()=>t.datastore.serializer.databaseId}),_c(t).start(),t.bu.gu()}function v_(t){return Al(t)&&!_c(t).Uo()&&t.Au.size>0}function Al(t){return gt(t).vu.size===0}function JR(t){t.Vu=void 0}async function O7(t){t.Au.forEach((e,n)=>{m_(t,e)})}async function A7(t,e){JR(t),v_(t)?(t.bu.Iu(e),g_(t)):t.bu.set("Unknown")}async function k7(t,e,n){if(t.bu.set("Online"),e instanceof FR&&e.state===2&&e.cause)try{await async function(r,i){const s=i.cause;for(const o of i.targetIds)r.Au.has(o)&&(await r.remoteSyncer.rejectListen(o,s),r.Au.delete(o),r.Vu.removeTarget(o))}(t,e)}catch(r){Qe("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Sm(t,r)}else if(e instanceof Ap?t.Vu.Ht(e):e instanceof $R?t.Vu.ne(e):t.Vu.Xt(e),!n.isEqual(vt.min()))try{const r=await zR(t.localStore);n.compareTo(r)>=0&&await function(i,s){const o=i.Vu.ce(s);return o.targetChanges.forEach((a,l)=>{if(a.resumeToken.approximateByteSize()>0){const u=i.Au.get(l);u&&i.Au.set(l,u.withResumeToken(a.resumeToken,s))}}),o.targetMismatches.forEach((a,l)=>{const u=i.Au.get(a);if(!u)return;i.Au.set(a,u.withResumeToken(Ai.EMPTY_BYTE_STRING,u.snapshotVersion)),QR(i,a);const c=new d_(u.target,a,l,u.sequenceNumber);m_(i,c)}),i.remoteSyncer.applyRemoteEvent(o)}(t,n)}catch(r){Qe("RemoteStore","Failed to raise snapshot:",r),await Sm(t,r)}}async function Sm(t,e,n){if(!rh(e))throw e;t.vu.add(1),await oh(t),t.bu.set("Offline"),n||(n=()=>zR(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{Qe("RemoteStore","Retrying IndexedDB access"),await n(),t.vu.delete(1),await iv(t)})}function ZR(t,e){return e().catch(n=>Sm(t,n,e))}async function sv(t){const e=gt(t),n=ra(e);let r=e.Eu.length>0?e.Eu[e.Eu.length-1].batchId:-1;for(;P7(e);)try{const i=await p7(e.localStore,r);if(i===null){e.Eu.length===0&&n.jo();break}r=i.batchId,x7(e,i)}catch(i){await Sm(e,i)}e2(e)&&t2(e)}function P7(t){return Al(t)&&t.Eu.length<10}function x7(t,e){t.Eu.push(e);const n=ra(t);n.Ko()&&n.ou&&n.uu(e.mutations)}function e2(t){return Al(t)&&!ra(t).Uo()&&t.Eu.length>0}function t2(t){ra(t).start()}async function D7(t){ra(t).hu()}async function R7(t){const e=ra(t);for(const n of t.Eu)e.uu(n.mutations)}async function N7(t,e,n){const r=t.Eu.shift(),i=a_.from(r,e,n);await ZR(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await sv(t)}async function M7(t,e){e&&ra(t).ou&&await async function(n,r){if(i=r.code,Cj(i)&&i!==he.ABORTED){const s=n.Eu.shift();ra(n).Qo(),await ZR(n,()=>n.remoteSyncer.rejectFailedWrite(s.batchId,r)),await sv(n)}var i}(t,e),e2(t)&&t2(t)}async function TI(t,e){const n=gt(t);n.asyncQueue.verifyOperationInProgress(),Qe("RemoteStore","RemoteStore received new credentials");const r=Al(n);n.vu.add(3),await oh(n),r&&n.bu.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.vu.delete(3),await iv(n)}async function L7(t,e){const n=gt(t);e?(n.vu.delete(2),await iv(n)):e||(n.vu.add(2),await oh(n),n.bu.set("Unknown"))}function _c(t){return t.Su||(t.Su=function(e,n,r){const i=gt(e);return i.fu(),new T7(n,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(t.datastore,t.asyncQueue,{uo:O7.bind(null,t),ao:A7.bind(null,t),nu:k7.bind(null,t)}),t.Ru.push(async e=>{e?(t.Su.Qo(),v_(t)?g_(t):t.bu.set("Unknown")):(await t.Su.stop(),JR(t))})),t.Su}function ra(t){return t.Du||(t.Du=function(e,n,r){const i=gt(e);return i.fu(),new S7(n,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(t.datastore,t.asyncQueue,{uo:D7.bind(null,t),ao:M7.bind(null,t),au:R7.bind(null,t),cu:N7.bind(null,t)}),t.Ru.push(async e=>{e?(t.Du.Qo(),await sv(t)):(await t.Du.stop(),t.Eu.length>0&&(Qe("RemoteStore",`Stopping write stream with ${t.Eu.length} pending writes`),t.Eu=[]))})),t.Du}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y_{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Zs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new y_(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Ne(he.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function b_(t,e){if(io("AsyncQueue",`${e}: ${t}`),rh(t))return new Ne(he.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Au{constructor(e){this.comparator=e?(n,r)=>e(n,r)||rt.comparator(n.key,r.key):(n,r)=>rt.comparator(n.key,r.key),this.keyedMap=ed(),this.sortedSet=new Zn(this.comparator)}static emptySet(e){return new Au(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Au)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Au;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SI{constructor(){this.Cu=new Zn(rt.comparator)}track(e){const n=e.doc.key,r=this.Cu.get(n);r?e.type!==0&&r.type===3?this.Cu=this.Cu.insert(n,e):e.type===3&&r.type!==1?this.Cu=this.Cu.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.Cu=this.Cu.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.Cu=this.Cu.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.Cu=this.Cu.remove(n):e.type===1&&r.type===2?this.Cu=this.Cu.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.Cu=this.Cu.insert(n,{type:2,doc:e.doc}):ct():this.Cu=this.Cu.insert(n,e)}xu(){const e=[];return this.Cu.inorderTraversal((n,r)=>{e.push(r)}),e}}class Xu{constructor(e,n,r,i,s,o,a,l,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new Xu(e,n,Au.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Jg(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $7{constructor(){this.Nu=void 0,this.listeners=[]}}class F7{constructor(){this.queries=new wc(e=>SR(e),Jg),this.onlineState="Unknown",this.ku=new Set}}async function n2(t,e){const n=gt(t),r=e.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new $7),i)try{s.Nu=await n.onListen(r)}catch(o){const a=b_(o,`Initialization of query '${Ob(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,s),s.listeners.push(e),e.Mu(n.onlineState),s.Nu&&e.$u(s.Nu)&&w_(n)}async function r2(t,e){const n=gt(t),r=e.query;let i=!1;const s=n.queries.get(r);if(s){const o=s.listeners.indexOf(e);o>=0&&(s.listeners.splice(o,1),i=s.listeners.length===0)}if(i)return n.queries.delete(r),n.onUnlisten(r)}function U7(t,e){const n=gt(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.listeners)a.$u(i)&&(r=!0);o.Nu=i}}r&&w_(n)}function V7(t,e,n){const r=gt(t),i=r.queries.get(e);if(i)for(const s of i.listeners)s.onError(n);r.queries.delete(e)}function w_(t){t.ku.forEach(e=>{e.next()})}class i2{constructor(e,n,r){this.query=e,this.Ou=n,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=r||{}}$u(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Xu(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),n=!0):this.qu(e,this.onlineState)&&(this.Uu(e),n=!0),this.Bu=e,n}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let n=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),n=!0),n}qu(e,n){if(!e.fromCache)return!0;const r=n!=="Offline";return(!this.options.Ku||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Lu(e){if(e.docChanges.length>0)return!0;const n=this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Uu(e){e=Xu.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s2{constructor(e){this.key=e}}class o2{constructor(e){this.key=e}}class B7{constructor(e,n){this.query=e,this.Yu=n,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=Et(),this.mutatedKeys=Et(),this.tc=ER(e),this.ec=new Au(this.tc)}get nc(){return this.Yu}sc(e,n){const r=n?n.ic:new SI,i=n?n.ec:this.ec;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((c,d)=>{const f=i.get(c),h=Zg(this.query,d)?d:null,p=!!f&&this.mutatedKeys.has(f.key),m=!!h&&(h.hasLocalMutations||this.mutatedKeys.has(h.key)&&h.hasCommittedMutations);let g=!1;f&&h?f.data.isEqual(h.data)?p!==m&&(r.track({type:3,doc:h}),g=!0):this.rc(f,h)||(r.track({type:2,doc:h}),g=!0,(l&&this.tc(h,l)>0||u&&this.tc(h,u)<0)&&(a=!0)):!f&&h?(r.track({type:0,doc:h}),g=!0):f&&!h&&(r.track({type:1,doc:f}),g=!0,(l||u)&&(a=!0)),g&&(h?(o=o.add(h),s=m?s.add(c):s.delete(c)):(o=o.delete(c),s=s.delete(c)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const c=this.query.limitType==="F"?o.last():o.first();o=o.delete(c.key),s=s.delete(c.key),r.track({type:1,doc:c})}return{ec:o,ic:r,zi:a,mutatedKeys:s}}rc(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r){const i=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const s=e.ic.xu();s.sort((u,c)=>function(d,f){const h=p=>{switch(p){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ct()}};return h(d)-h(f)}(u.type,c.type)||this.tc(u.doc,c.doc)),this.oc(r);const o=n?this.uc():[],a=this.Zu.size===0&&this.current?1:0,l=a!==this.Xu;return this.Xu=a,s.length!==0||l?{snapshot:new Xu(this.query,e.ec,i,s,e.mutatedKeys,a===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),cc:o}:{cc:o}}Mu(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ec:this.ec,ic:new SI,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(n=>this.Yu=this.Yu.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Yu=this.Yu.delete(n)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=Et(),this.ec.forEach(r=>{this.ac(r.key)&&(this.Zu=this.Zu.add(r.key))});const n=[];return e.forEach(r=>{this.Zu.has(r)||n.push(new o2(r))}),this.Zu.forEach(r=>{e.has(r)||n.push(new s2(r))}),n}hc(e){this.Yu=e.ir,this.Zu=Et();const n=this.sc(e.documents);return this.applyChanges(n,!0)}lc(){return Xu.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,this.Xu===0,this.hasCachedResults)}}class j7{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class H7{constructor(e){this.key=e,this.fc=!1}}class W7{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.dc={},this.wc=new wc(a=>SR(a),Jg),this._c=new Map,this.mc=new Set,this.gc=new Zn(rt.comparator),this.yc=new Map,this.Ic=new f_,this.Tc={},this.Ec=new Map,this.Ac=Db.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return this.vc===!0}}async function K7(t,e){const n=tH(t);let r,i;const s=n.wc.get(e);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.lc();else{const o=await m7(n.localStore,ao(e)),a=n.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=await z7(n,e,r,a==="current",o.resumeToken),n.isPrimaryClient&&qR(n.remoteStore,o)}return i}async function z7(t,e,n,r,i){t.Rc=(d,f,h)=>async function(p,m,g,y){let v=m.view.sc(g);v.zi&&(v=await bI(p.localStore,m.query,!1).then(({documents:w})=>m.view.sc(w,v)));const _=y&&y.targetChanges.get(m.targetId),b=m.view.applyChanges(v,p.isPrimaryClient,_);return II(p,m.targetId,b.cc),b.snapshot}(t,d,f,h);const s=await bI(t.localStore,e,!0),o=new B7(e,s.ir),a=o.sc(s.documents),l=sh.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=o.applyChanges(a,t.isPrimaryClient,l);II(t,n,u.cc);const c=new j7(e,n,o);return t.wc.set(e,c),t._c.has(n)?t._c.get(n).push(e):t._c.set(n,[e]),u.snapshot}async function G7(t,e){const n=gt(t),r=n.wc.get(e),i=n._c.get(r.targetId);if(i.length>1)return n._c.set(r.targetId,i.filter(s=>!Jg(s,e))),void n.wc.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await Nb(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),XR(n.remoteStore,r.targetId),Mb(n,r.targetId)}).catch(nh)):(Mb(n,r.targetId),await Nb(n.localStore,r.targetId,!0))}async function Y7(t,e,n){const r=nH(t);try{const i=await function(s,o){const a=gt(s),l=Xn.now(),u=o.reduce((f,h)=>f.add(h.key),Et());let c,d;return a.persistence.runTransaction("Locally write mutations","readwrite",f=>{let h=lo(),p=Et();return a.Zi.getEntries(f,u).next(m=>{h=m,h.forEach((g,y)=>{y.isValidDocument()||(p=p.add(g))})}).next(()=>a.localDocuments.getOverlayedDocuments(f,h)).next(m=>{c=m;const g=[];for(const y of o){const v=_j(y,c.get(y.key).overlayedDocument);v!=null&&g.push(new fa(y.key,v,pR(v.value.mapValue),Ui.exists(!0)))}return a.mutationQueue.addMutationBatch(f,l,g,o)}).next(m=>{d=m;const g=m.applyToLocalDocumentSet(c,p);return a.documentOverlayCache.saveOverlays(f,m.batchId,g)})}).then(()=>({batchId:d.batchId,changes:CR(c)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,o,a){let l=s.Tc[s.currentUser.toKey()];l||(l=new Zn(Kt)),l=l.insert(o,a),s.Tc[s.currentUser.toKey()]=l}(r,i.batchId,n),await ah(r,i.changes),await sv(r.remoteStore)}catch(i){const s=b_(i,"Failed to persist write");n.reject(s)}}async function a2(t,e){const n=gt(t);try{const r=await f7(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.yc.get(s);o&&(bn(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.fc=!0:i.modifiedDocuments.size>0?bn(o.fc):i.removedDocuments.size>0&&(bn(o.fc),o.fc=!1))}),await ah(n,r,e)}catch(r){await nh(r)}}function EI(t,e,n){const r=gt(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.wc.forEach((s,o)=>{const a=o.view.Mu(e);a.snapshot&&i.push(a.snapshot)}),function(s,o){const a=gt(s);a.onlineState=o;let l=!1;a.queries.forEach((u,c)=>{for(const d of c.listeners)d.Mu(o)&&(l=!0)}),l&&w_(a)}(r.eventManager,e),i.length&&r.dc.nu(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function q7(t,e,n){const r=gt(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.yc.get(e),s=i&&i.key;if(s){let o=new Zn(rt.comparator);o=o.insert(s,so.newNoDocument(s,vt.min()));const a=Et().add(s),l=new nv(vt.min(),new Map,new Zn(Kt),o,a);await a2(r,l),r.gc=r.gc.remove(s),r.yc.delete(e),__(r)}else await Nb(r.localStore,e,!1).then(()=>Mb(r,e,n)).catch(nh)}async function X7(t,e){const n=gt(t),r=e.batch.batchId;try{const i=await d7(n.localStore,e);u2(n,r,null),l2(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await ah(n,i)}catch(i){await nh(i)}}async function Q7(t,e,n){const r=gt(t);try{const i=await function(s,o){const a=gt(s);return a.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let u;return a.mutationQueue.lookupMutationBatch(l,o).next(c=>(bn(c!==null),u=c.keys(),a.mutationQueue.removeMutationBatch(l,c))).next(()=>a.mutationQueue.performConsistencyCheck(l)).next(()=>a.documentOverlayCache.removeOverlaysForBatchId(l,u,o)).next(()=>a.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,u)).next(()=>a.localDocuments.getDocuments(l,u))})}(r.localStore,e);u2(r,e,n),l2(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await ah(r,i)}catch(i){await nh(i)}}function l2(t,e){(t.Ec.get(e)||[]).forEach(n=>{n.resolve()}),t.Ec.delete(e)}function u2(t,e,n){const r=gt(t);let i=r.Tc[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Tc[r.currentUser.toKey()]=i}}function Mb(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t._c.get(e))t.wc.delete(r),n&&t.dc.Pc(r,n);t._c.delete(e),t.isPrimaryClient&&t.Ic.Is(e).forEach(r=>{t.Ic.containsKey(r)||c2(t,r)})}function c2(t,e){t.mc.delete(e.path.canonicalString());const n=t.gc.get(e);n!==null&&(XR(t.remoteStore,n),t.gc=t.gc.remove(e),t.yc.delete(n),__(t))}function II(t,e,n){for(const r of n)r instanceof s2?(t.Ic.addReference(r.key,e),J7(t,r)):r instanceof o2?(Qe("SyncEngine","Document no longer in limbo: "+r.key),t.Ic.removeReference(r.key,e),t.Ic.containsKey(r.key)||c2(t,r.key)):ct()}function J7(t,e){const n=e.key,r=n.path.canonicalString();t.gc.get(n)||t.mc.has(r)||(Qe("SyncEngine","New document in limbo: "+n),t.mc.add(r),__(t))}function __(t){for(;t.mc.size>0&&t.gc.size<t.maxConcurrentLimboResolutions;){const e=t.mc.values().next().value;t.mc.delete(e);const n=new rt($n.fromString(e)),r=t.Ac.next();t.yc.set(r,new H7(n)),t.gc=t.gc.insert(n,r),qR(t.remoteStore,new d_(ao(r_(n.path)),r,"TargetPurposeLimboResolution",J1.ct))}}async function ah(t,e,n){const r=gt(t),i=[],s=[],o=[];r.wc.isEmpty()||(r.wc.forEach((a,l)=>{o.push(r.Rc(l,e,n).then(u=>{if((u||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(l.targetId,u!=null&&u.fromCache?"not-current":"current"),u){i.push(u);const c=p_.Li(l.targetId,u);s.push(c)}}))}),await Promise.all(o),r.dc.nu(i),await async function(a,l){const u=gt(a);try{await u.persistence.runTransaction("notifyLocalViewChanges","readwrite",c=>Re.forEach(l,d=>Re.forEach(d.Fi,f=>u.persistence.referenceDelegate.addReference(c,d.targetId,f)).next(()=>Re.forEach(d.Bi,f=>u.persistence.referenceDelegate.removeReference(c,d.targetId,f)))))}catch(c){if(!rh(c))throw c;Qe("LocalStore","Failed to update sequence numbers: "+c)}for(const c of l){const d=c.targetId;if(!c.fromCache){const f=u.Ji.get(d),h=f.snapshotVersion,p=f.withLastLimboFreeSnapshotVersion(h);u.Ji=u.Ji.insert(d,p)}}}(r.localStore,s))}async function Z7(t,e){const n=gt(t);if(!n.currentUser.isEqual(e)){Qe("SyncEngine","User change. New user:",e.toKey());const r=await KR(n.localStore,e);n.currentUser=e,function(i,s){i.Ec.forEach(o=>{o.forEach(a=>{a.reject(new Ne(he.CANCELLED,s))})}),i.Ec.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await ah(n,r.er)}}function eH(t,e){const n=gt(t),r=n.yc.get(e);if(r&&r.fc)return Et().add(r.key);{let i=Et();const s=n._c.get(e);if(!s)return i;for(const o of s){const a=n.wc.get(o);i=i.unionWith(a.view.nc)}return i}}function tH(t){const e=gt(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=a2.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=eH.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=q7.bind(null,e),e.dc.nu=U7.bind(null,e.eventManager),e.dc.Pc=V7.bind(null,e.eventManager),e}function nH(t){const e=gt(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=X7.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Q7.bind(null,e),e}let CI=class{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=rv(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return c7(this.persistence,new l7,e.initialUser,this.serializer)}createPersistence(e){return new o7(h_.zs,this.serializer)}createSharedClientState(e){return new v7}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}},rH=class{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>EI(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=Z7.bind(null,this.syncEngine),await L7(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new F7}createDatastore(e){const n=rv(e.databaseInfo.databaseId),r=(i=e.databaseInfo,new _7(i));var i;return function(s,o,a,l){return new E7(s,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return n=this.localStore,r=this.datastore,i=e.asyncQueue,s=a=>EI(this.syncEngine,a,0),o=_I.D()?new _I:new y7,new C7(n,r,i,s,o);var n,r,i,s,o}createSyncEngine(e,n){return function(r,i,s,o,a,l,u){const c=new W7(r,i,s,o,a,l);return u&&(c.vc=!0),c}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return async function(e){const n=gt(e);Qe("RemoteStore","RemoteStore shutting down."),n.vu.add(5),await oh(n),n.Pu.shutdown(),n.bu.set("Unknown")}(this.remoteStore)}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let d2=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):io("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iH{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Pr.UNAUTHENTICATED,this.clientId=uR.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async s=>{Qe("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(Qe("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Ne(he.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Zs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=b_(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function _y(t,e){t.asyncQueue.verifyOperationInProgress(),Qe("FirestoreClient","Initializing OfflineComponentProvider");const n=await t.getConfiguration();await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await KR(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function OI(t,e){t.asyncQueue.verifyOperationInProgress();const n=await oH(t);Qe("FirestoreClient","Initializing OnlineComponentProvider");const r=await t.getConfiguration();await e.initialize(n,r),t.setCredentialChangeListener(i=>TI(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,s)=>TI(e.remoteStore,s)),t._onlineComponents=e}function sH(t){return t.name==="FirebaseError"?t.code===he.FAILED_PRECONDITION||t.code===he.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function oH(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Qe("FirestoreClient","Using user provided OfflineComponentProvider");try{await _y(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!sH(n))throw n;Ku("Error using user provided cache. Falling back to memory cache: "+n),await _y(t,new CI)}}else Qe("FirestoreClient","Using default OfflineComponentProvider"),await _y(t,new CI);return t._offlineComponents}async function f2(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Qe("FirestoreClient","Using user provided OnlineComponentProvider"),await OI(t,t._uninitializedComponentsProvider._online)):(Qe("FirestoreClient","Using default OnlineComponentProvider"),await OI(t,new rH))),t._onlineComponents}function aH(t){return f2(t).then(e=>e.syncEngine)}async function h2(t){const e=await f2(t),n=e.eventManager;return n.onListen=K7.bind(null,e.syncEngine),n.onUnlisten=G7.bind(null,e.syncEngine),n}function lH(t,e,n={}){const r=new Zs;return t.asyncQueue.enqueueAndForget(async()=>function(i,s,o,a,l){const u=new d2({next:d=>{s.enqueueAndForget(()=>r2(i,c));const f=d.docs.has(o);!f&&d.fromCache?l.reject(new Ne(he.UNAVAILABLE,"Failed to get document because the client is offline.")):f&&d.fromCache&&a&&a.source==="server"?l.reject(new Ne(he.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):l.resolve(d)},error:d=>l.reject(d)}),c=new i2(r_(o.path),u,{includeMetadataChanges:!0,Ku:!0});return n2(i,c)}(await h2(t),t.asyncQueue,e,n,r)),r.promise}function uH(t,e,n={}){const r=new Zs;return t.asyncQueue.enqueueAndForget(async()=>function(i,s,o,a,l){const u=new d2({next:d=>{s.enqueueAndForget(()=>r2(i,c)),d.fromCache&&a.source==="server"?l.reject(new Ne(he.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):l.resolve(d)},error:d=>l.reject(d)}),c=new i2(o,u,{includeMetadataChanges:!0,Ku:!0});return n2(i,c)}(await h2(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p2(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AI=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m2(t,e,n){if(!n)throw new Ne(he.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function cH(t,e,n,r){if(e===!0&&r===!0)throw new Ne(he.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function kI(t){if(!rt.isDocumentKey(t))throw new Ne(he.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function PI(t){if(rt.isDocumentKey(t))throw new Ne(he.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function ov(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(n){return n.constructor?n.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ct()}function ds(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Ne(he.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=ov(t);throw new Ne(he.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function dH(t,e){if(e<=0)throw new Ne(he.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xI{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new Ne(he.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new Ne(he.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}cH("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=p2((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new Ne(he.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new Ne(he.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new Ne(he.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(n=this.experimentalLongPollingOptions,r=e.experimentalLongPollingOptions,n.timeoutSeconds===r.timeoutSeconds)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams;var n,r}}class av{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new xI({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Ne(he.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new Ne(he.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new xI(e),e.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new RB;switch(n.type){case"firstParty":return new $B(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new Ne(he.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const n=AI.get(e);n&&(Qe("ComponentProvider","Removing Datastore"),AI.delete(e),n.terminate())}(this),Promise.resolve()}}function fH(t,e,n,r={}){var i;const s=(t=ds(t,av))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&Ku("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,l;if(typeof r.mockUserToken=="string")a=r.mockUserToken,l=Pr.MOCK_USER;else{a=sx(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new Ne(he.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new Pr(u)}t._authCredentials=new NB(new lR(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jr{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new zo(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Jr(this.firestore,e,this._key)}}class po{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new po(this.firestore,e,this._query)}}class zo extends po{constructor(e,n,r){super(e,n,r_(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Jr(this.firestore,null,new rt(e))}withConverter(e){return new zo(this.firestore,e,this._path)}}function Yi(t,e,...n){if(t=zt(t),m2("collection","path",e),t instanceof av){const r=$n.fromString(e,...n);return PI(r),new zo(t,null,r)}{if(!(t instanceof Jr||t instanceof zo))throw new Ne(he.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child($n.fromString(e,...n));return PI(r),new zo(t.firestore,null,r)}}function jt(t,e,...n){if(t=zt(t),arguments.length===1&&(e=uR.A()),m2("doc","path",e),t instanceof av){const r=$n.fromString(e,...n);return kI(r),new Jr(t,null,new rt(r))}{if(!(t instanceof Jr||t instanceof zo))throw new Ne(he.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child($n.fromString(e,...n));return kI(r),new Jr(t.firestore,t instanceof zo?t.converter:null,new rt(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hH{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new GR(this,"async_queue_retry"),this.Xc=()=>{const n=wy();n&&Qe("AsyncQueue","Visibility state changed to "+n.visibilityState),this.qo.Mo()};const e=wy();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const n=wy();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const n=new Zs;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}async ea(){if(this.Qc.length!==0){try{await this.Qc[0](),this.Qc.shift(),this.qo.reset()}catch(e){if(!rh(e))throw e;Qe("AsyncQueue","Operation failed with retryable error: "+e)}this.Qc.length>0&&this.qo.No(()=>this.ea())}}ta(e){const n=this.Gc.then(()=>(this.Hc=!0,e().catch(r=>{this.Wc=r,this.Hc=!1;const i=function(s){let o=s.message||"";return s.stack&&(o=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),o}(r);throw io("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.Hc=!1,r))));return this.Gc=n,n}enqueueAfterDelay(e,n,r){this.Zc(),this.Yc.indexOf(e)>-1&&(n=0);const i=y_.createAndSchedule(this,e,n,r,s=>this.na(s));return this.zc.push(i),i}Zc(){this.Wc&&ct()}verifyOperationInProgress(){}async sa(){let e;do e=this.Gc,await e;while(e!==this.Gc)}ia(e){for(const n of this.zc)if(n.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.zc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const n=this.zc.indexOf(e);this.zc.splice(n,1)}}class kl extends av{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new hH,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||g2(this),this._firestoreClient.terminate()}}function pH(t,e){const n=typeof t=="object"?t:gc(),r=typeof t=="string"?t:e||"(default)",i=Fs(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=nx("firestore");s&&fH(i,...s)}return i}function T_(t){return t._firestoreClient||g2(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function g2(t){var e,n,r;const i=t._freezeSettings(),s=function(o,a,l,u){return new qB(o,a,l,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,p2(u.experimentalLongPollingOptions),u.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new iH(t._authCredentials,t._appCheckCredentials,t._queue,s),!((n=i.cache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.cache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.cache.kind,_offline:i.cache._offlineComponentProvider,_online:i.cache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qu{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Qu(Ai.fromBase64String(e))}catch(n){throw new Ne(he.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Qu(Ai.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lv{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Ne(he.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ms(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S_{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E_{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Ne(he.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Ne(he.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Kt(this._lat,e._lat)||Kt(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mH=/^__.*__$/;class gH{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new fa(e,this.data,this.fieldMask,n,this.fieldTransforms):new ih(e,this.data,n,this.fieldTransforms)}}class v2{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new fa(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function y2(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ct()}}class I_{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.ua(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new I_(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.aa({path:r,la:!1});return i.fa(e),i}da(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.aa({path:r,la:!1});return i.ua(),i}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return Em(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(e.length===0)throw this._a("Document fields must not be empty");if(y2(this.ca)&&mH.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class vH{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||rv(e)}ya(e,n,r,i=!1){return new I_({ca:e,methodName:n,ga:r,path:Ms.emptyPath(),la:!1,ma:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function lh(t){const e=t._freezeSettings(),n=rv(t._databaseId);return new vH(t._databaseId,!!e.ignoreUndefinedProperties,n)}function b2(t,e,n,r,i,s={}){const o=t.ya(s.merge||s.mergeFields?2:0,e,n,i);C_("Data must be an object, but it was:",o,r);const a=S2(r,o);let l,u;if(s.merge)l=new Es(o.fieldMask),u=o.fieldTransforms;else if(s.mergeFields){const c=[];for(const d of s.mergeFields){const f=Lb(e,d,n);if(!o.contains(f))throw new Ne(he.INVALID_ARGUMENT,`Field '${f}' is specified in your field mask but missing from your input data.`);I2(c,f)||c.push(f)}l=new Es(c),u=o.fieldTransforms.filter(d=>l.covers(d.field))}else l=null,u=o.fieldTransforms;return new gH(new ai(a),l,u)}let w2=class _2 extends S_{_toFieldTransform(e){if(e.ca!==2)throw e.ca===1?e._a(`${this._methodName}() can only appear at the top level of your update data`):e._a(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof _2}};function yH(t,e,n,r){const i=t.ya(1,e,n);C_("Data must be an object, but it was:",i,r);const s=[],o=ai.empty();Cl(r,(l,u)=>{const c=O_(e,l,n);u=zt(u);const d=i.da(c);if(u instanceof w2)s.push(c);else{const f=uh(u,d);f!=null&&(s.push(c),o.set(c,f))}});const a=new Es(s);return new v2(o,a,i.fieldTransforms)}function bH(t,e,n,r,i,s){const o=t.ya(1,e,n),a=[Lb(e,r,n)],l=[i];if(s.length%2!=0)throw new Ne(he.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let f=0;f<s.length;f+=2)a.push(Lb(e,s[f])),l.push(s[f+1]);const u=[],c=ai.empty();for(let f=a.length-1;f>=0;--f)if(!I2(u,a[f])){const h=a[f];let p=l[f];p=zt(p);const m=o.da(h);if(p instanceof w2)u.push(h);else{const g=uh(p,m);g!=null&&(u.push(h),c.set(h,g))}}const d=new Es(u);return new v2(c,d,o.fieldTransforms)}function T2(t,e,n,r=!1){return uh(n,t.ya(r?4:3,e))}function uh(t,e){if(E2(t=zt(t)))return C_("Unsupported field value:",e,t),S2(t,e);if(t instanceof S_)return function(n,r){if(!y2(r.ca))throw r._a(`${n._methodName}() can only be used with update() and set()`);if(!r.path)throw r._a(`${n._methodName}() is not currently supported inside arrays`);const i=n._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.la&&e.ca!==4)throw e._a("Nested arrays are not supported");return function(n,r){const i=[];let s=0;for(const o of n){let a=uh(o,r.wa(s));a==null&&(a={nullValue:"NULL_VALUE"}),i.push(a),s++}return{arrayValue:{values:i}}}(t,e)}return function(n,r){if((n=zt(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return mj(r.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const i=Xn.fromDate(n);return{timestampValue:Tm(r.serializer,i)}}if(n instanceof Xn){const i=new Xn(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:Tm(r.serializer,i)}}if(n instanceof E_)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof Qu)return{bytesValue:UR(r.serializer,n._byteString)};if(n instanceof Jr){const i=r.databaseId,s=n.firestore._databaseId;if(!s.isEqual(i))throw r._a(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:c_(n.firestore._databaseId||r.databaseId,n._key.path)}}throw r._a(`Unsupported field value: ${ov(n)}`)}(t,e)}function S2(t,e){const n={};return dR(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Cl(t,(r,i)=>{const s=uh(i,e.ha(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function E2(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Xn||t instanceof E_||t instanceof Qu||t instanceof Jr||t instanceof S_)}function C_(t,e,n){if(!E2(n)||!function(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}(n)){const r=ov(n);throw r==="an object"?e._a(t+" a custom object"):e._a(t+" "+r)}}function Lb(t,e,n){if((e=zt(e))instanceof lv)return e._internalPath;if(typeof e=="string")return O_(t,e);throw Em("Field path arguments must be of type string or ",t,!1,void 0,n)}const wH=new RegExp("[~\\*/\\[\\]]");function O_(t,e,n){if(e.search(wH)>=0)throw Em(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new lv(...e.split("."))._internalPath}catch{throw Em(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Em(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new Ne(he.INVALID_ARGUMENT,a+t+l)}function I2(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let A_=class{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Jr(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new _H(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(uv("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}},_H=class extends A_{data(){return super.data()}};function uv(t,e){return typeof e=="string"?O_(t,e):e instanceof lv?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TH(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Ne(he.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}let k_=class{},cv=class extends k_{};function SH(t,e,...n){let r=[];e instanceof k_&&r.push(e),r=r.concat(n),function(i){const s=i.filter(a=>a instanceof EH).length,o=i.filter(a=>a instanceof C2).length;if(s>1||s>0&&o>0)throw new Ne(he.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}let C2=class O2 extends cv{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new O2(e,n,r)}_apply(e){const n=this._parse(e);return D2(e._query,n),new po(e.firestore,e.converter,Cb(e._query,n))}_parse(e){const n=lh(e.firestore);return function(i,s,o,a,l,u,c){let d;if(l.isKeyField()){if(u==="array-contains"||u==="array-contains-any")throw new Ne(he.INVALID_ARGUMENT,`Invalid Query. You can't perform '${u}' queries on documentId().`);if(u==="in"||u==="not-in"){MI(c,u);const f=[];for(const h of c)f.push(NI(a,i,h));d={arrayValue:{values:f}}}else d=NI(a,i,c)}else u!=="in"&&u!=="not-in"&&u!=="array-contains-any"||MI(c,u),d=T2(o,s,c,u==="in"||u==="not-in");return dr.create(l,u,d)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}};function DI(t,e,n){const r=e,i=uv("where",t);return C2._create(i,r,n)}let EH=class A2 extends k_{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new A2(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:oo.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(r,i){let s=r;const o=i.getFlattenedFilters();for(const a of o)D2(s,a),s=Cb(s,a)}(e._query,n),new po(e.firestore,e.converter,Cb(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}},IH=class k2 extends cv{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new k2(e,n)}_apply(e){const n=function(r,i,s){if(r.startAt!==null)throw new Ne(he.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(r.endAt!==null)throw new Ne(he.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const o=new Ou(i,s);return function(a,l){if(i_(a)===null){const u=Qg(a);u!==null&&R2(a,u,l.field)}}(r,o),o}(e._query,this._field,this._direction);return new po(e.firestore,e.converter,function(r,i){const s=r.explicitOrderBy.concat([i]);return new Ol(r.path,r.collectionGroup,s,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,n))}};function RI(t,e="asc"){const n=e,r=uv("orderBy",t);return IH._create(r,n)}let CH=class P2 extends cv{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new P2(e,n,r)}_apply(e){return new po(e.firestore,e.converter,bm(e._query,this._limit,this._limitType))}};function OH(t){return dH("limit",t),CH._create("limit",t,"F")}let AH=class x2 extends cv{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new x2(e,n,r)}_apply(e){const n=PH(e,this.type,this._docOrFields,this._inclusive);return new po(e.firestore,e.converter,function(r,i){return new Ol(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,i,r.endAt)}(e._query,n))}};function kH(...t){return AH._create("startAfter",t,!1)}function PH(t,e,n,r){if(n[0]=zt(n[0]),n[0]instanceof A_)return function(i,s,o,a,l){if(!a)throw new Ne(he.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${o}().`);const u=[];for(const c of Ha(i))if(c.field.isKeyField())u.push(ym(s,a.key));else{const d=a.data.field(c.field);if(Xg(d))throw new Ne(he.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+c.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(d===null){const f=c.field.canonicalString();throw new Ne(he.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${f}' (used as the orderBy) does not exist.`)}u.push(d)}return new qu(u,l)}(t._query,t.firestore._databaseId,e,n[0]._document,r);{const i=lh(t.firestore);return function(s,o,a,l,u,c){const d=s.explicitOrderBy;if(u.length>d.length)throw new Ne(he.INVALID_ARGUMENT,`Too many arguments provided to ${l}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const f=[];for(let h=0;h<u.length;h++){const p=u[h];if(d[h].field.isKeyField()){if(typeof p!="string")throw new Ne(he.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${l}(), but got a ${typeof p}`);if(!s_(s)&&p.indexOf("/")!==-1)throw new Ne(he.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${l}() must be a plain document ID, but '${p}' contains a slash.`);const m=s.path.child($n.fromString(p));if(!rt.isDocumentKey(m))throw new Ne(he.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${l}() must result in a valid document path, but '${m}' is not because it contains an odd number of segments.`);const g=new rt(m);f.push(ym(o,g))}else{const m=T2(a,l,p);f.push(m)}}return new qu(f,c)}(t._query,t.firestore._databaseId,i,e,n,r)}}function NI(t,e,n){if(typeof(n=zt(n))=="string"){if(n==="")throw new Ne(he.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!s_(e)&&n.indexOf("/")!==-1)throw new Ne(he.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child($n.fromString(n));if(!rt.isDocumentKey(r))throw new Ne(he.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return ym(t,new rt(r))}if(n instanceof Jr)return ym(t,n._key);throw new Ne(he.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${ov(n)}.`)}function MI(t,e){if(!Array.isArray(t)||t.length===0)throw new Ne(he.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function D2(t,e){if(e.isInequality()){const r=Qg(t),i=e.field;if(r!==null&&!r.isEqual(i))throw new Ne(he.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${r.toString()}' and '${i.toString()}'`);const s=i_(t);s!==null&&R2(t,i,s)}const n=function(r,i){for(const s of r)for(const o of s.getFlattenedFilters())if(i.indexOf(o.op)>=0)return o.op;return null}(t.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new Ne(he.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Ne(he.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function R2(t,e,n){if(!n.isEqual(e))throw new Ne(he.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${n.toString()}' instead.`)}let xH=class{convertValue(e,n="none"){switch(cl(e)){case 0:return null;case 1:return e.booleanValue;case 2:return qn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ul(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw ct()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Cl(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(e){return new E_(qn(e.latitude),qn(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Z1(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(df(e));default:return null}}convertTimestamp(e){const n=na(e);return new Xn(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=$n.fromString(e);bn(WR(r));const i=new hR(r.get(1),r.get(3)),s=new rt(r.popFirst(5));return i.isEqual(n)||io(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N2(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rd{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class M2 extends A_{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new kp(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(uv("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class kp extends M2{data(e={}){return super.data(e)}}class DH{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new rd(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new kp(this._firestore,this._userDataWriter,r.key,r,new rd(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Ne(he.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let s=0;return r._snapshot.docChanges.map(o=>{const a=new kp(r._firestore,r._userDataWriter,o.doc.key,o.doc,new rd(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter);return o.doc,{type:"added",doc:a,oldIndex:-1,newIndex:s++}})}{let s=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(o=>i||o.type!==3).map(o=>{const a=new kp(r._firestore,r._userDataWriter,o.doc.key,o.doc,new rd(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter);let l=-1,u=-1;return o.type!==0&&(l=s.indexOf(o.doc.key),s=s.delete(o.doc.key)),o.type!==1&&(s=s.add(o.doc),u=s.indexOf(o.doc.key)),{type:RH(o.type),doc:a,oldIndex:l,newIndex:u}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function RH(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ct()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NH(t){t=ds(t,Jr);const e=ds(t.firestore,kl);return lH(T_(e),t._key).then(n=>VH(e,t,n))}class L2 extends xH{constructor(e){super(),this.firestore=e}convertBytes(e){return new Qu(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Jr(this.firestore,null,n)}}function MH(t){t=ds(t,po);const e=ds(t.firestore,kl),n=T_(e),r=new L2(e);return TH(t._query),uH(n,t._query).then(i=>new DH(e,r,t,i))}function LH(t,e,n){t=ds(t,Jr);const r=ds(t.firestore,kl),i=N2(t.converter,e,n);return dv(r,[b2(lh(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,Ui.none())])}function $H(t,e,n,...r){t=ds(t,Jr);const i=ds(t.firestore,kl),s=lh(i);let o;return o=typeof(e=zt(e))=="string"||e instanceof lv?bH(s,"updateDoc",t._key,e,n,r):yH(s,"updateDoc",t._key,e),dv(i,[o.toMutation(t._key,Ui.exists(!0))])}function FH(t){return dv(ds(t.firestore,kl),[new o_(t._key,Ui.none())])}function UH(t,e){const n=ds(t.firestore,kl),r=jt(t),i=N2(t.converter,e);return dv(n,[b2(lh(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Ui.exists(!1))]).then(()=>r)}function dv(t,e){return function(n,r){const i=new Zs;return n.asyncQueue.enqueueAndForget(async()=>Y7(await aH(n),r,i)),i.promise}(T_(t),e)}function VH(t,e,n){const r=n.docs.get(e._key),i=new L2(t);return new M2(t,i,e._key,r,new rd(n.hasPendingWrites,n.fromCache),e.converter)}(function(t,e=!0){(function(n){bc=n})(ua),pi(new ei("firestore",(n,{instanceIdentifier:r,options:i})=>{const s=n.getProvider("app").getImmediate(),o=new kl(new MB(n.getProvider("auth-internal")),new UB(n.getProvider("app-check-internal")),function(a,l){if(!Object.prototype.hasOwnProperty.apply(a.options,["projectId"]))throw new Ne(he.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new hR(a.options.projectId,l)}(s,r),s);return i=Object.assign({useFetchStreams:e},i),o._setSettings(i),o},"PUBLIC").setMultipleInstances(!0)),Er(JE,"3.13.0",t),Er(JE,"3.13.0","esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $2="firebasestorage.googleapis.com",F2="storageBucket",BH=2*60*1e3,jH=10*60*1e3,HH=1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dn extends ki{constructor(e,n,r=0){super(Ty(e),`Firebase Storage: ${n} (${Ty(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Dn.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Ty(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var wn;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(wn||(wn={}));function Ty(t){return"storage/"+t}function P_(){const t="An unknown error occurred, please check the error payload for server response.";return new Dn(wn.UNKNOWN,t)}function WH(t){return new Dn(wn.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function KH(t){return new Dn(wn.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function zH(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Dn(wn.UNAUTHENTICATED,t)}function GH(){return new Dn(wn.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function YH(t){return new Dn(wn.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function U2(){return new Dn(wn.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function V2(){return new Dn(wn.CANCELED,"User canceled the upload/download.")}function qH(t){return new Dn(wn.INVALID_URL,"Invalid URL '"+t+"'.")}function XH(t){return new Dn(wn.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function QH(){return new Dn(wn.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+F2+"' property when initializing the app?")}function B2(){return new Dn(wn.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function JH(){return new Dn(wn.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}function ZH(){return new Dn(wn.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function eW(t){return new Dn(wn.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function $b(t){return new Dn(wn.INVALID_ARGUMENT,t)}function j2(){return new Dn(wn.APP_DELETED,"The Firebase app was deleted.")}function tW(t){return new Dn(wn.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Sd(t,e){return new Dn(wn.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function Dc(t){throw new Dn(wn.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wi{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=wi.makeFromUrl(e,n)}catch{return new wi(e,"")}if(r.path==="")return r;throw XH(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function s(b){b.path.charAt(b.path.length-1)==="/"&&(b.path_=b.path_.slice(0,-1))}const o="(/(.*))?$",a=new RegExp("^gs://"+i+o,"i"),l={bucket:1,path:3};function u(b){b.path_=decodeURIComponent(b.path)}const c="v[A-Za-z0-9_]+",d=n.replace(/[.]/g,"\\."),f="(/([^?#]*).*)?$",h=new RegExp(`^https?://${d}/${c}/b/${i}/o${f}`,"i"),p={bucket:1,path:3},m=n===$2?"(?:storage.googleapis.com|storage.cloud.google.com)":n,g="([^?#]*)",y=new RegExp(`^https?://${m}/${i}/${g}`,"i"),_=[{regex:a,indices:l,postModify:s},{regex:h,indices:p,postModify:u},{regex:y,indices:{bucket:1,path:2},postModify:u}];for(let b=0;b<_.length;b++){const w=_[b],T=w.regex.exec(e);if(T){const P=T[w.indices.bucket];let A=T[w.indices.path];A||(A=""),r=new wi(P,A),w.postModify(r);break}}if(r==null)throw qH(e);return r}}class nW{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rW(t,e,n){let r=1,i=null,s=null,o=!1,a=0;function l(){return a===2}let u=!1;function c(...g){u||(u=!0,e.apply(null,g))}function d(g){i=setTimeout(()=>{i=null,t(h,l())},g)}function f(){s&&clearTimeout(s)}function h(g,...y){if(u){f();return}if(g){f(),c.call(null,g,...y);return}if(l()||o){f(),c.call(null,g,...y);return}r<64&&(r*=2);let _;a===1?(a=2,_=0):_=(r+Math.random())*1e3,d(_)}let p=!1;function m(g){p||(p=!0,f(),!u&&(i!==null?(g||(a=2),clearTimeout(i),d(0)):g||(a=1)))}return d(0),s=setTimeout(()=>{o=!0,m(!0)},n),m}function iW(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sW(t){return t!==void 0}function oW(t){return typeof t=="function"}function aW(t){return typeof t=="object"&&!Array.isArray(t)}function fv(t){return typeof t=="string"||t instanceof String}function LI(t){return x_()&&t instanceof Blob}function x_(){return typeof Blob<"u"&&!AU()}function $I(t,e,n,r){if(r<e)throw $b(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw $b(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tc(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function H2(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Wa;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Wa||(Wa={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W2(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,s=e.indexOf(t)!==-1;return n||i||s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lW{constructor(e,n,r,i,s,o,a,l,u,c,d,f=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=l,this.timeout_=u,this.progressCallback_=c,this.connectionFactory_=d,this.retry=f,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((h,p)=>{this.resolve_=h,this.reject_=p,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new Qh(!1,null,!0));return}const s=this.connectionFactory_();this.pendingConnection_=s;const o=a=>{const l=a.loaded,u=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,u)};this.progressCallback_!==null&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(o),this.pendingConnection_=null;const a=s.getErrorCode()===Wa.NO_ERROR,l=s.getStatus();if(!a||W2(l,this.additionalRetryCodes_)&&this.retry){const c=s.getErrorCode()===Wa.ABORT;r(!1,new Qh(!1,null,c));return}const u=this.successCodes_.indexOf(l)!==-1;r(!0,new Qh(u,s))})},n=(r,i)=>{const s=this.resolve_,o=this.reject_,a=i.connection;if(i.wasSuccessCode)try{const l=this.callback_(a,a.getResponse());sW(l)?s(l):s()}catch(l){o(l)}else if(a!==null){const l=P_();l.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,l)):o(l)}else if(i.canceled){const l=this.appDelete_?j2():V2();o(l)}else{const l=U2();o(l)}};this.canceled_?n(!1,new Qh(!1,null,!0)):this.backoffId_=rW(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&iW(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Qh{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function uW(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function cW(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function dW(t,e){e&&(t["X-Firebase-GMPID"]=e)}function fW(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function hW(t,e,n,r,i,s,o=!0){const a=H2(t.urlParams),l=t.url+a,u=Object.assign({},t.headers);return dW(u,e),uW(u,n),cW(u,s),fW(u,r),new lW(l,t.method,u,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pW(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function mW(...t){const e=pW();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(x_())return new Blob(t);throw new Dn(wn.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function gW(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vW(t){if(typeof atob>"u")throw eW("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Is={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Sy{constructor(e,n){this.data=e,this.contentType=n||null}}function yW(t,e){switch(t){case Is.RAW:return new Sy(K2(e));case Is.BASE64:case Is.BASE64URL:return new Sy(z2(t,e));case Is.DATA_URL:return new Sy(wW(e),_W(e))}throw P_()}function K2(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const s=r,o=t.charCodeAt(++n);r=65536|(s&1023)<<10|o&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function bW(t){let e;try{e=decodeURIComponent(t)}catch{throw Sd(Is.DATA_URL,"Malformed data URL.")}return K2(e)}function z2(t,e){switch(t){case Is.BASE64:{const i=e.indexOf("-")!==-1,s=e.indexOf("_")!==-1;if(i||s)throw Sd(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case Is.BASE64URL:{const i=e.indexOf("+")!==-1,s=e.indexOf("/")!==-1;if(i||s)throw Sd(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=vW(e)}catch(i){throw i.message.includes("polyfill")?i:Sd(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class G2{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw Sd(Is.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=TW(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function wW(t){const e=new G2(t);return e.base64?z2(Is.BASE64,e.rest):bW(e.rest)}function _W(t){return new G2(t).contentType}function TW(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class No{constructor(e,n){let r=0,i="";LI(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,n){if(LI(this.data_)){const r=this.data_,i=gW(r,e,n);return i===null?null:new No(i)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new No(r,!0)}}static getBlob(...e){if(x_()){const n=e.map(r=>r instanceof No?r.data_:r);return new No(mW.apply(null,n))}else{const n=e.map(o=>fv(o)?yW(Is.RAW,o).data:o.data_);let r=0;n.forEach(o=>{r+=o.byteLength});const i=new Uint8Array(r);let s=0;return n.forEach(o=>{for(let a=0;a<o.length;a++)i[s++]=o[a]}),new No(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y2(t){let e;try{e=JSON.parse(t)}catch{return null}return aW(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SW(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function EW(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function q2(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IW(t,e){return e}class Hr{constructor(e,n,r,i){this.server=e,this.local=n||e,this.writable=!!r,this.xform=i||IW}}let Jh=null;function CW(t){return!fv(t)||t.length<2?t:q2(t)}function X2(){if(Jh)return Jh;const t=[];t.push(new Hr("bucket")),t.push(new Hr("generation")),t.push(new Hr("metageneration")),t.push(new Hr("name","fullPath",!0));function e(s,o){return CW(o)}const n=new Hr("name");n.xform=e,t.push(n);function r(s,o){return o!==void 0?Number(o):o}const i=new Hr("size");return i.xform=r,t.push(i),t.push(new Hr("timeCreated")),t.push(new Hr("updated")),t.push(new Hr("md5Hash",null,!0)),t.push(new Hr("cacheControl",null,!0)),t.push(new Hr("contentDisposition",null,!0)),t.push(new Hr("contentEncoding",null,!0)),t.push(new Hr("contentLanguage",null,!0)),t.push(new Hr("contentType",null,!0)),t.push(new Hr("metadata","customMetadata",!0)),Jh=t,Jh}function OW(t,e){function n(){const r=t.bucket,i=t.fullPath,s=new wi(r,i);return e._makeStorageReference(s)}Object.defineProperty(t,"ref",{get:n})}function AW(t,e,n){const r={};r.type="file";const i=n.length;for(let s=0;s<i;s++){const o=n[s];r[o.local]=o.xform(r,e[o.server])}return OW(r,t),r}function Q2(t,e,n){const r=Y2(e);return r===null?null:AW(t,r,n)}function kW(t,e,n,r){const i=Y2(e);if(i===null||!fv(i.downloadTokens))return null;const s=i.downloadTokens;if(s.length===0)return null;const o=encodeURIComponent;return s.split(",").map(u=>{const c=t.bucket,d=t.fullPath,f="/b/"+o(c)+"/o/"+o(d),h=Tc(f,n,r),p=H2({alt:"media",token:u});return h+p})[0]}function J2(t,e){const n={},r=e.length;for(let i=0;i<r;i++){const s=e[i];s.writable&&(n[s.server]=t[s.local])}return JSON.stringify(n)}class Pl{constructor(e,n,r,i){this.url=e,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eo(t){if(!t)throw P_()}function D_(t,e){function n(r,i){const s=Q2(t,i,e);return eo(s!==null),s}return n}function PW(t,e){function n(r,i){const s=Q2(t,i,e);return eo(s!==null),kW(s,i,t.host,t._protocol)}return n}function ch(t){function e(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=GH():i=zH():n.getStatus()===402?i=KH(t.bucket):n.getStatus()===403?i=YH(t.path):i=r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}return e}function R_(t){const e=ch(t);function n(r,i){let s=e(r,i);return r.getStatus()===404&&(s=WH(t.path)),s.serverResponse=i.serverResponse,s}return n}function xW(t,e,n){const r=e.fullServerUrl(),i=Tc(r,t.host,t._protocol),s="GET",o=t.maxOperationRetryTime,a=new Pl(i,s,D_(t,n),o);return a.errorHandler=R_(e),a}function DW(t,e,n){const r=e.fullServerUrl(),i=Tc(r,t.host,t._protocol),s="GET",o=t.maxOperationRetryTime,a=new Pl(i,s,PW(t,n),o);return a.errorHandler=R_(e),a}function RW(t,e){const n=e.fullServerUrl(),r=Tc(n,t.host,t._protocol),i="DELETE",s=t.maxOperationRetryTime;function o(l,u){}const a=new Pl(r,i,o,s);return a.successCodes=[200,204],a.errorHandler=R_(e),a}function NW(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function Z2(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=NW(null,e)),r}function MW(t,e,n,r,i){const s=e.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};function a(){let _="";for(let b=0;b<2;b++)_=_+Math.random().toString().slice(2);return _}const l=a();o["Content-Type"]="multipart/related; boundary="+l;const u=Z2(e,r,i),c=J2(u,n),d="--"+l+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+c+`\r
--`+l+`\r
Content-Type: `+u.contentType+`\r
\r
`,f=`\r
--`+l+"--",h=No.getBlob(d,r,f);if(h===null)throw B2();const p={name:u.fullPath},m=Tc(s,t.host,t._protocol),g="POST",y=t.maxUploadRetryTime,v=new Pl(m,g,D_(t,n),y);return v.urlParams=p,v.headers=o,v.body=h.uploadData(),v.errorHandler=ch(e),v}class Im{constructor(e,n,r,i){this.current=e,this.total=n,this.finalized=!!r,this.metadata=i||null}}function N_(t,e){let n=null;try{n=t.getResponseHeader("X-Goog-Upload-Status")}catch{eo(!1)}return eo(!!n&&(e||["active"]).indexOf(n)!==-1),n}function LW(t,e,n,r,i){const s=e.bucketOnlyServerUrl(),o=Z2(e,r,i),a={name:o.fullPath},l=Tc(s,t.host,t._protocol),u="POST",c={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${r.size()}`,"X-Goog-Upload-Header-Content-Type":o.contentType,"Content-Type":"application/json; charset=utf-8"},d=J2(o,n),f=t.maxUploadRetryTime;function h(m){N_(m);let g;try{g=m.getResponseHeader("X-Goog-Upload-URL")}catch{eo(!1)}return eo(fv(g)),g}const p=new Pl(l,u,h,f);return p.urlParams=a,p.headers=c,p.body=d,p.errorHandler=ch(e),p}function $W(t,e,n,r){const i={"X-Goog-Upload-Command":"query"};function s(u){const c=N_(u,["active","final"]);let d=null;try{d=u.getResponseHeader("X-Goog-Upload-Size-Received")}catch{eo(!1)}d||eo(!1);const f=Number(d);return eo(!isNaN(f)),new Im(f,r.size(),c==="final")}const o="POST",a=t.maxUploadRetryTime,l=new Pl(n,o,s,a);return l.headers=i,l.errorHandler=ch(e),l}const FI=256*1024;function FW(t,e,n,r,i,s,o,a){const l=new Im(0,0);if(o?(l.current=o.current,l.total=o.total):(l.current=0,l.total=r.size()),r.size()!==l.total)throw JH();const u=l.total-l.current;let c=u;i>0&&(c=Math.min(c,i));const d=l.current,f=d+c;let h="";c===0?h="finalize":u===c?h="upload, finalize":h="upload";const p={"X-Goog-Upload-Command":h,"X-Goog-Upload-Offset":`${l.current}`},m=r.slice(d,f);if(m===null)throw B2();function g(b,w){const T=N_(b,["active","final"]),P=l.current+c,A=r.size();let O;return T==="final"?O=D_(e,s)(b,w):O=null,new Im(P,A,T==="final",O)}const y="POST",v=e.maxUploadRetryTime,_=new Pl(n,y,g,v);return _.headers=p,_.body=m.uploadData(),_.progressCallback=a||null,_.errorHandler=ch(t),_}const oi={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function Ey(t){switch(t){case"running":case"pausing":case"canceling":return oi.RUNNING;case"paused":return oi.PAUSED;case"success":return oi.SUCCESS;case"canceled":return oi.CANCELED;case"error":return oi.ERROR;default:return oi.ERROR}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UW{constructor(e,n,r){if(oW(e)||n!=null||r!=null)this.next=e,this.error=n??void 0,this.complete=r??void 0;else{const s=e;this.next=s.next,this.error=s.error,this.complete=s.complete}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ul(t){return(...e)=>{Promise.resolve().then(()=>t(...e))}}class VW{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Wa.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Wa.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Wa.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,i){if(this.sent_)throw Dc("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),i!==void 0)for(const s in i)i.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,i[s].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Dc("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Dc("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Dc("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Dc("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class BW extends VW{initXhr(){this.xhr_.responseType="text"}}function Pa(){return new BW}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jW{constructor(e,n,r=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=n,this._metadata=r,this._mappings=X2(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=i=>{if(this._request=void 0,this._chunkMultiplier=1,i._codeEquals(wn.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const s=this.isExponentialBackoffExpired();if(W2(i.status,[]))if(s)i=U2();else{this.sleepTime=Math.max(this.sleepTime*2,HH),this._needToFetchStatus=!0,this.completeTransitions_();return}this._error=i,this._transition("error")}},this._metadataErrorHandler=i=>{this._request=void 0,i._codeEquals(wn.CANCELED)?this.completeTransitions_():(this._error=i,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((i,s)=>{this._resolve=i,this._reject=s,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const e=this._transferred;return n=>this._updateProgress(e+n)}_shouldDoResumable(e){return e.size()>256*1024}_start(){this._state==="running"&&this._request===void 0&&(this._resumable?this._uploadUrl===void 0?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([n,r])=>{switch(this._state){case"running":e(n,r);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused");break}})}_createResumable(){this._resolveToken((e,n)=>{const r=LW(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(r,Pa,e,n);this._request=i,i.getPromise().then(s=>{this._request=void 0,this._uploadUrl=s,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const e=this._uploadUrl;this._resolveToken((n,r)=>{const i=$W(this._ref.storage,this._ref._location,e,this._blob),s=this._ref.storage._makeRequest(i,Pa,n,r);this._request=s,s.getPromise().then(o=>{o=o,this._request=void 0,this._updateProgress(o.current),this._needToFetchStatus=!1,o.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const e=FI*this._chunkMultiplier,n=new Im(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((i,s)=>{let o;try{o=FW(this._ref._location,this._ref.storage,r,this._blob,e,this._mappings,n,this._makeProgressCallback())}catch(l){this._error=l,this._transition("error");return}const a=this._ref.storage._makeRequest(o,Pa,i,s,!1);this._request=a,a.getPromise().then(l=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(l.current),l.finalized?(this._metadata=l.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){FI*this._chunkMultiplier*2<32*1024*1024&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,n)=>{const r=xW(this._ref.storage,this._ref._location,this._mappings),i=this._ref.storage._makeRequest(r,Pa,e,n);this._request=i,i.getPromise().then(s=>{this._request=void 0,this._metadata=s,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,n)=>{const r=MW(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(r,Pa,e,n);this._request=i,i.getPromise().then(s=>{this._request=void 0,this._metadata=s,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){const n=this._transferred;this._transferred=e,this._transferred!==n&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,this._request!==void 0?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const n=this._state==="paused";this._state=e,n&&(this._notifyObservers(),this._start());break;case"paused":this._state=e,this._notifyObservers();break;case"canceled":this._error=V2(),this._state=e,this._notifyObservers();break;case"error":this._state=e,this._notifyObservers();break;case"success":this._state=e,this._notifyObservers();break}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start();break}}get snapshot(){const e=Ey(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,n,r,i){const s=new UW(n||void 0,r||void 0,i||void 0);return this._addObserver(s),()=>{this._removeObserver(s)}}then(e,n){return this._promise.then(e,n)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const n=this._observers.indexOf(e);n!==-1&&this._observers.splice(n,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(n=>{this._notifyObserver(n)})}_finishPromise(){if(this._resolve!==void 0){let e=!0;switch(Ey(this._state)){case oi.SUCCESS:Ul(this._resolve.bind(null,this.snapshot))();break;case oi.CANCELED:case oi.ERROR:const n=this._reject;Ul(n.bind(null,this._error))();break;default:e=!1;break}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(Ey(this._state)){case oi.RUNNING:case oi.PAUSED:e.next&&Ul(e.next.bind(e,this.snapshot))();break;case oi.SUCCESS:e.complete&&Ul(e.complete.bind(e))();break;case oi.CANCELED:case oi.ERROR:e.error&&Ul(e.error.bind(e,this._error))();break;default:e.error&&Ul(e.error.bind(e,this._error))()}}resume(){const e=this._state==="paused"||this._state==="pausing";return e&&this._transition("running"),e}pause(){const e=this._state==="running";return e&&this._transition("pausing"),e}cancel(){const e=this._state==="running"||this._state==="pausing";return e&&this._transition("canceling"),e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dl{constructor(e,n){this._service=e,n instanceof wi?this._location=n:this._location=wi.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new dl(e,n)}get root(){const e=new wi(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return q2(this._location.path)}get storage(){return this._service}get parent(){const e=SW(this._location.path);if(e===null)return null;const n=new wi(this._location.bucket,e);return new dl(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw tW(e)}}function HW(t,e,n){return t._throwIfRoot("uploadBytesResumable"),new jW(t,new No(e),n)}function WW(t){t._throwIfRoot("getDownloadURL");const e=DW(t.storage,t._location,X2());return t.storage.makeRequestWithTokens(e,Pa).then(n=>{if(n===null)throw ZH();return n})}function KW(t){t._throwIfRoot("deleteObject");const e=RW(t.storage,t._location);return t.storage.makeRequestWithTokens(e,Pa)}function zW(t,e){const n=EW(t._location.path,e),r=new wi(t._location.bucket,n);return new dl(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GW(t){return/^[A-Za-z]+:\/\//.test(t)}function YW(t,e){return new dl(t,e)}function eN(t,e){if(t instanceof M_){const n=t;if(n._bucket==null)throw QH();const r=new dl(n,n._bucket);return e!=null?eN(r,e):r}else return e!==void 0?zW(t,e):t}function qW(t,e){if(e&&GW(e)){if(t instanceof M_)return YW(t,e);throw $b("To use ref(service, url), the first argument must be a Storage instance.")}else return eN(t,e)}function UI(t,e){const n=e==null?void 0:e[F2];return n==null?null:wi.makeFromBucketSpec(n,t)}function XW(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:i}=r;i&&(t._overrideAuthToken=typeof i=="string"?i:sx(i,t.app.options.projectId))}class M_{constructor(e,n,r,i,s){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._bucket=null,this._host=$2,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=BH,this._maxUploadRetryTime=jH,this._requests=new Set,i!=null?this._bucket=wi.makeFromBucketSpec(i,this._host):this._bucket=UI(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=wi.makeFromBucketSpec(this._url,e):this._bucket=UI(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){$I("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){$I("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new dl(this,e)}_makeRequest(e,n,r,i,s=!0){if(this._deleted)return new nW(j2());{const o=hW(e,this._appId,r,i,n,this._firebaseVersion,s);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const VI="@firebase/storage",BI="0.11.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tN="storage";function QW(t,e,n){return t=zt(t),HW(t,e,n)}function JW(t){return t=zt(t),WW(t)}function ZW(t){return t=zt(t),KW(t)}function eK(t,e){return t=zt(t),qW(t,e)}function tK(t=gc(),e){t=zt(t);const r=Fs(t,tN).getImmediate({identifier:e}),i=nx("storage");return i&&nK(r,...i),r}function nK(t,e,n,r={}){XW(t,e,n,r)}function rK(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new M_(n,r,i,e,ua)}function iK(){pi(new ei(tN,rK,"PUBLIC").setMultipleInstances(!0)),Er(VI,BI,""),Er(VI,BI,"esm2017")}iK();const nN=1e3,Fb=nN*60,Ub=Fb*60,Cm=Ub*24,Om=Cm*365,rN=async t=>{const e=await NH(t),n=e.data();return n?{id:e.id,...n}:null},Vl=async(t,e)=>{const n=await MH(e?SH(t,...e):t);return Promise.all(n.docs.map(r=>rN(r.ref)))},Ni=rN,sK=UH,Am=LH,Do=$H,id=FH,Vb=t=>eK(tK(),t),jI=t=>t.sort((e,n)=>{const r=(n.order||0)-(e.order||0);return r!==0?r:e.date&&n.date?n.date.getTime()-e.date.getTime():0}),oK=(t,e,n,r)=>{setTimeout(()=>{t.forEach((i,s)=>{setTimeout(()=>{r(i)},s*n)})},e)},rs=(t,e)=>{if(!t||!e)return!1;for(const n in t){const r=t[n],i=e[n];if(r===void 0||i===void 0)return!1;if(r===null&&i===null)continue;if(Array.isArray(r)&&Array.isArray(i)){if(r.length!==i.length)return!1;const s=r.sort(),o=i.sort();if(s.some((a,l)=>!rs(a,o[l])||o.some((u,c)=>!rs(u,s[c]))))return!1}else if(r instanceof Date&&i instanceof Date){if(r.getTime()!==i.getTime())return!1}else if(typeof r=="object"){if(!rs(r,i))return!1}else if(r!==i)return!1}return!0},Bb=t=>{const e=Math.round((Date.now()-t.getTime())/1e3);if(e<30)return"Just now";if(e<60)return`${e} second${e!==1?"s":""} ago`;if(e<60*60){const n=Math.floor(e/60);return`${n} minute${n!==1?"s":""} ago`}else if(e<60*60*24){const n=Math.floor(e/3600);return`${n} hour${n!==1?"s":""} ago`}else{if(e<60*60*24*2)return"Yesterday";{const r=new Date().getTime()-t.getTime(),i=r/Om,o=r%Om/Cm,a=i<=1?{month:"long",day:"numeric"}:{year:"numeric",month:"long",day:"numeric"},l=t.toLocaleDateString(void 0,a);if(o<=7){const u={weekday:"long"};return t.toLocaleDateString(void 0,u)}else return l}}},Pp=(t,e)=>{if(t){var n=t.getBoundingClientRect().top,r=n+window.scrollY-15;setTimeout(()=>{window.scrollTo({top:r,behavior:"smooth"})},e??1e3)}},aK=()=>{var r;const t=document.createElement("div");t.style.visibility="hidden",t.style.overflow="scroll",document.body.appendChild(t);const e=document.createElement("div");t.appendChild(e);const n=t.offsetWidth-e.offsetWidth;return(r=t.parentNode)==null||r.removeChild(t),n},Co=t=>{var n;const e=!!((n=t==null?void 0:t.allowedUserIds)!=null&&n.length);return{isPrivate:e,visibility:e?"private":"public"}},Ea=t=>Array.isArray(t)?t:[t],lK=()=>{const t=document.activeElement;t instanceof HTMLElement&&t.blur()},jb=t=>t.join(", ").replace(/,([^,]*)$/," and$1"),dh=t=>Object.keys(t).map(e=>t[e].error).some(e=>typeof e=="boolean"?e:typeof e=="string"?!!e:e.some(n=>n));function L_(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function iN(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const uK=iN,sN=new la("auth","Firebase",iN());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const km=new mc("@firebase/auth");function cK(t,...e){km.logLevel<=$t.WARN&&km.warn(`Auth (${ua}): ${t}`,...e)}function xp(t,...e){km.logLevel<=$t.ERROR&&km.error(`Auth (${ua}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fs(t,...e){throw $_(t,...e)}function Ps(t,...e){return $_(t,...e)}function dK(t,e,n){const r=Object.assign(Object.assign({},uK()),{[e]:n});return new la("auth","Firebase",r).create(e,{appName:t.name})}function $_(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return sN.create(t,...e)}function it(t,e,...n){if(!t)throw $_(e,...n)}function zs(t){const e="INTERNAL ASSERTION FAILED: "+t;throw xp(e),new Error(e)}function uo(t,e){t||zs(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hb(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function fK(){return HI()==="http:"||HI()==="https:"}function HI(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hK(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(fK()||ox()||"connection"in navigator)?navigator.onLine:!0}function pK(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fh{constructor(e,n){this.shortDelay=e,this.longDelay=n,uo(n>e,"Short delay should be less than long delay!"),this.isMobile=g1()||ax()}get(){return hK()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F_(t,e){uo(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oN{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;zs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;zs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;zs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mK={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gK=new fh(3e4,6e4);function xl(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Dl(t,e,n,r,i={}){return aN(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const a=pc(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode),oN.fetch()(lN(t,t.config.apiHost,n,a),Object.assign({method:e,headers:l,referrerPolicy:"no-referrer"},s))})}async function aN(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},mK),e);try{const i=new vK(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw Zh(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,u]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Zh(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw Zh(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw Zh(t,"user-disabled",o);const c=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw dK(t,c,u);fs(t,c)}}catch(i){if(i instanceof ki)throw i;fs(t,"network-request-failed",{message:String(i)})}}async function hh(t,e,n,r,i={}){const s=await Dl(t,e,n,r,i);return"mfaPendingCredential"in s&&fs(t,"multi-factor-auth-required",{_serverResponse:s}),s}function lN(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?F_(t.config,i):`${t.config.apiScheme}://${i}`}class vK{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Ps(this.auth,"network-request-failed")),gK.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Zh(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Ps(t,e,r);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yK(t,e){return Dl(t,"POST","/v1/accounts:delete",e)}async function bK(t,e){return Dl(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ed(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function wK(t,e=!1){const n=zt(t),r=await n.getIdToken(e),i=U_(r);it(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:Ed(Iy(i.auth_time)),issuedAtTime:Ed(Iy(i.iat)),expirationTime:Ed(Iy(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function Iy(t){return Number(t)*1e3}function U_(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return xp("JWT malformed, contained fewer than 3 sections"),null;try{const i=sm(n);return i?JSON.parse(i):(xp("Failed to decode base64 JWT payload"),null)}catch(i){return xp("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function _K(t){const e=U_(t);return it(e,"internal-error"),it(typeof e.exp<"u","internal-error"),it(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ju(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof ki&&TK(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function TK({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SK{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uN{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ed(this.lastLoginAt),this.creationTime=Ed(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Pm(t){var e;const n=t.auth,r=await t.getIdToken(),i=await Ju(t,bK(n,{idToken:r}));it(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?CK(s.providerUserInfo):[],a=IK(t.providerData,o),l=t.isAnonymous,u=!(t.email&&s.passwordHash)&&!(a!=null&&a.length),c=l?u:!1,d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new uN(s.createdAt,s.lastLoginAt),isAnonymous:c};Object.assign(t,d)}async function EK(t){const e=zt(t);await Pm(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function IK(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function CK(t){return t.map(e=>{var{providerId:n}=e,r=L_(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function OK(t,e){const n=await aN(t,{},async()=>{const r=pc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=lN(t,i,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",oN.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mf{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){it(e.idToken,"internal-error"),it(typeof e.idToken<"u","internal-error"),it(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):_K(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}async getToken(e,n=!1){return it(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await OK(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new mf;return r&&(it(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(it(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(it(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new mf,this.toJSON())}_performRefresh(){return zs("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wo(t,e){it(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Ka{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=L_(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new SK(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new uN(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await Ju(this,this.stsTokenManager.getToken(this.auth,e));return it(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return wK(this,e)}reload(){return EK(this)}_assign(e){this!==e&&(it(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Ka(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){it(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Pm(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await Ju(this,yK(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,l,u,c;const d=(r=n.displayName)!==null&&r!==void 0?r:void 0,f=(i=n.email)!==null&&i!==void 0?i:void 0,h=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,p=(o=n.photoURL)!==null&&o!==void 0?o:void 0,m=(a=n.tenantId)!==null&&a!==void 0?a:void 0,g=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,y=(u=n.createdAt)!==null&&u!==void 0?u:void 0,v=(c=n.lastLoginAt)!==null&&c!==void 0?c:void 0,{uid:_,emailVerified:b,isAnonymous:w,providerData:T,stsTokenManager:P}=n;it(_&&P,e,"internal-error");const A=mf.fromJSON(this.name,P);it(typeof _=="string",e,"internal-error"),wo(d,e.name),wo(f,e.name),it(typeof b=="boolean",e,"internal-error"),it(typeof w=="boolean",e,"internal-error"),wo(h,e.name),wo(p,e.name),wo(m,e.name),wo(g,e.name),wo(y,e.name),wo(v,e.name);const O=new Ka({uid:_,auth:e,email:f,emailVerified:b,displayName:d,isAnonymous:w,photoURL:p,phoneNumber:h,tenantId:m,stsTokenManager:A,createdAt:y,lastLoginAt:v});return T&&Array.isArray(T)&&(O.providerData=T.map(E=>Object.assign({},E))),g&&(O._redirectEventId=g),O}static async _fromIdTokenResponse(e,n,r=!1){const i=new mf;i.updateFromServerResponse(n);const s=new Ka({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Pm(s),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WI=new Map;function Gs(t){uo(t instanceof Function,"Expected a class definition");let e=WI.get(t);return e?(uo(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,WI.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cN{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}cN.type="NONE";const KI=cN;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dp(t,e,n){return`firebase:${t}:${e}:${n}`}class ku{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Dp(this.userKey,i.apiKey,s),this.fullPersistenceKey=Dp("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Ka._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new ku(Gs(KI),e,r);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let s=i[0]||Gs(KI);const o=Dp(r,e.config.apiKey,e.name);let a=null;for(const u of n)try{const c=await u._get(o);if(c){const d=Ka._fromJSON(e,c);u!==s&&(a=d),s=u;break}}catch{}const l=i.filter(u=>u._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new ku(s,e,r):(s=l[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async u=>{if(u!==s)try{await u._remove(o)}catch{}})),new ku(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zI(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(hN(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(dN(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(mN(e))return"Blackberry";if(gN(e))return"Webos";if(V_(e))return"Safari";if((e.includes("chrome/")||fN(e))&&!e.includes("edge/"))return"Chrome";if(pN(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function dN(t=jr()){return/firefox\//i.test(t)}function V_(t=jr()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function fN(t=jr()){return/crios\//i.test(t)}function hN(t=jr()){return/iemobile/i.test(t)}function pN(t=jr()){return/android/i.test(t)}function mN(t=jr()){return/blackberry/i.test(t)}function gN(t=jr()){return/webos/i.test(t)}function hv(t=jr()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function AK(t=jr()){var e;return hv(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function kK(){return kU()&&document.documentMode===10}function vN(t=jr()){return hv(t)||pN(t)||gN(t)||mN(t)||/windows phone/i.test(t)||hN(t)}function PK(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yN(t,e=[]){let n;switch(t){case"Browser":n=zI(jr());break;case"Worker":n=`${zI(jr())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${ua}/${r}`}async function bN(t,e){return Dl(t,"GET","/v2/recaptchaConfig",xl(t,e))}function GI(t){return t!==void 0&&t.enterprise!==void 0}class wN{constructor(e){if(this.siteKey="",this.emailPasswordEnabled=!1,e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.emailPasswordEnabled=e.recaptchaEnforcementState.some(n=>n.provider==="EMAIL_PASSWORD_PROVIDER"&&n.enforcementState!=="OFF")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xK(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}function _N(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=Ps("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",xK().appendChild(r)})}function DK(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const RK="https://www.google.com/recaptcha/enterprise.js?render=",NK="recaptcha-enterprise",MK="NO_RECAPTCHA";class TN{constructor(e){this.type=NK,this.auth=Rl(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,a)=>{bN(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const u=new wN(l);return s.tenantId==null?s._agentRecaptchaConfig=u:s._tenantRecaptchaConfigs[s.tenantId]=u,o(u.siteKey)}}).catch(l=>{a(l)})})}function i(s,o,a){const l=window.grecaptcha;GI(l)?l.enterprise.ready(()=>{l.enterprise.execute(s,{action:e}).then(u=>{o(u)}).catch(()=>{o(MK)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,o)=>{r(this.auth).then(a=>{if(!n&&GI(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}_N(RK+a).then(()=>{i(a,s,o)}).catch(l=>{o(l)})}}).catch(a=>{o(a)})})}}async function Zu(t,e,n,r=!1){const i=new TN(t);let s;try{s=await i.verify(n)}catch{s=await i.verify(n,!0)}const o=Object.assign({},e);return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LK{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{const l=e(s);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $K{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new YI(this),this.idTokenSubscription=new YI(this),this.beforeStateQueue=new LK(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=sN,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Gs(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await ku.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUser(e){var n;const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(i=l.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return it(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Pm(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=pK()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const n=e?zt(e):null;return n&&it(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&it(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence(Gs(e))})}async initializeRecaptchaConfig(){const e=await bN(this,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),n=new wN(e);this.tenantId==null?this._agentRecaptchaConfig=n:this._tenantRecaptchaConfigs[this.tenantId]=n,n.emailPasswordEnabled&&new TN(this).verify()}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new la("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Gs(e)||this._popupRedirectResolver;it(n,this,"argument-error"),this.redirectPersistenceManager=await ku.create(this,[Gs(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n),o=this._isInitialized?Promise.resolve():this._initializationPromise;return it(o,this,"internal-error"),o.then(()=>s(this.currentUser)),typeof n=="function"?e.addObserver(n,r,i):e.addObserver(n)}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return it(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=yN(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&cK(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Rl(t){return zt(t)}class YI{constructor(e){this.auth=e,this.observer=null,this.addObserver=$U(n=>this.observer=n)}get next(){return it(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SN(t,e){const n=Fs(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(Qd(s,e??{}))return i;fs(i,"already-initialized")}return n.initialize({options:e})}function FK(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Gs);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function UK(t,e,n){const r=Rl(t);it(r._canInitEmulator,r,"emulator-config-failed"),it(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!(n!=null&&n.disableWarnings),s=EN(e),{host:o,port:a}=VK(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||BK()}function EN(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function VK(t){const e=EN(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:qI(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:qI(o)}}}function qI(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function BK(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B_{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return zs("not implemented")}_getIdTokenResponse(e){return zs("not implemented")}_linkToIdToken(e,n){return zs("not implemented")}_getReauthenticationResolver(e){return zs("not implemented")}}async function IN(t,e){return Dl(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Cy(t,e){return hh(t,"POST","/v1/accounts:signInWithPassword",xl(t,e))}async function jK(t,e){return Dl(t,"POST","/v1/accounts:sendOobCode",xl(t,e))}async function Oy(t,e){return jK(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HK(t,e){return hh(t,"POST","/v1/accounts:signInWithEmailLink",xl(t,e))}async function WK(t,e){return hh(t,"POST","/v1/accounts:signInWithEmailLink",xl(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gf extends B_{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new gf(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new gf(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){var n;switch(this.signInMethod){case"password":const r={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};if(!((n=e._getRecaptchaConfig())===null||n===void 0)&&n.emailPasswordEnabled){const i=await Zu(e,r,"signInWithPassword");return Cy(e,i)}else return Cy(e,r).catch(async i=>{if(i.code==="auth/missing-recaptcha-token"){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const s=await Zu(e,r,"signInWithPassword");return Cy(e,s)}else return Promise.reject(i)});case"emailLink":return HK(e,{email:this._email,oobCode:this._password});default:fs(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":return IN(e,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return WK(e,{idToken:n,email:this._email,oobCode:this._password});default:fs(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Pu(t,e){return hh(t,"POST","/v1/accounts:signInWithIdp",xl(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KK="http://localhost";class fl extends B_{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new fl(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):fs("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=L_(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new fl(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return Pu(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Pu(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Pu(e,n)}buildRequest(){const e={requestUri:KK,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=pc(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zK(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function GK(t){const e=qc(Xc(t)).link,n=e?qc(Xc(e)).deep_link_id:null,r=qc(Xc(t)).deep_link_id;return(r?qc(Xc(r)).link:null)||r||n||e||t}class j_{constructor(e){var n,r,i,s,o,a;const l=qc(Xc(e)),u=(n=l.apiKey)!==null&&n!==void 0?n:null,c=(r=l.oobCode)!==null&&r!==void 0?r:null,d=zK((i=l.mode)!==null&&i!==void 0?i:null);it(u&&c&&d,"argument-error"),this.apiKey=u,this.operation=d,this.code=c,this.continueUrl=(s=l.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=l.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=GK(e);try{return new j_(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ia{constructor(){this.providerId=ia.PROVIDER_ID}static credential(e,n){return gf._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=j_.parseLink(n);return it(r,"argument-error"),gf._fromEmailAndCode(e,r.code,r.tenantId)}}ia.PROVIDER_ID="password";ia.EMAIL_PASSWORD_SIGN_IN_METHOD="password";ia.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CN{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ph extends CN{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mo extends ph{constructor(){super("facebook.com")}static credential(e){return fl._fromParams({providerId:Mo.PROVIDER_ID,signInMethod:Mo.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Mo.credentialFromTaggedObject(e)}static credentialFromError(e){return Mo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Mo.credential(e.oauthAccessToken)}catch{return null}}}Mo.FACEBOOK_SIGN_IN_METHOD="facebook.com";Mo.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lo extends ph{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return fl._fromParams({providerId:Lo.PROVIDER_ID,signInMethod:Lo.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Lo.credentialFromTaggedObject(e)}static credentialFromError(e){return Lo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Lo.credential(n,r)}catch{return null}}}Lo.GOOGLE_SIGN_IN_METHOD="google.com";Lo.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $o extends ph{constructor(){super("github.com")}static credential(e){return fl._fromParams({providerId:$o.PROVIDER_ID,signInMethod:$o.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return $o.credentialFromTaggedObject(e)}static credentialFromError(e){return $o.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return $o.credential(e.oauthAccessToken)}catch{return null}}}$o.GITHUB_SIGN_IN_METHOD="github.com";$o.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fo extends ph{constructor(){super("twitter.com")}static credential(e,n){return fl._fromParams({providerId:Fo.PROVIDER_ID,signInMethod:Fo.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Fo.credentialFromTaggedObject(e)}static credentialFromError(e){return Fo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Fo.credential(n,r)}catch{return null}}}Fo.TWITTER_SIGN_IN_METHOD="twitter.com";Fo.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ay(t,e){return hh(t,"POST","/v1/accounts:signUp",xl(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hl{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await Ka._fromIdTokenResponse(e,r,i),o=XI(r);return new hl({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=XI(r);return new hl({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function XI(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xm extends ki{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,xm.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new xm(e,n,r,i)}}function ON(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?xm._fromErrorAndOperation(t,s,e,r):s})}async function YK(t,e,n=!1){const r=await Ju(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return hl._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function AN(t,e,n=!1){const{auth:r}=t,i="reauthenticate";try{const s=await Ju(t,ON(r,i,e,t),n);it(s.idToken,r,"internal-error");const o=U_(s.idToken);it(o,r,"internal-error");const{sub:a}=o;return it(t.uid===a,r,"user-mismatch"),hl._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&fs(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kN(t,e,n=!1){const r="signIn",i=await ON(t,r,e),s=await hl._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function qK(t,e){return kN(Rl(t),e)}async function QI(t,e){return AN(zt(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ky(t,e,n){var r;it(((r=n.url)===null||r===void 0?void 0:r.length)>0,t,"invalid-continue-uri"),it(typeof n.dynamicLinkDomain>"u"||n.dynamicLinkDomain.length>0,t,"invalid-dynamic-link-domain"),e.continueUrl=n.url,e.dynamicLinkDomain=n.dynamicLinkDomain,e.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(it(n.iOS.bundleId.length>0,t,"missing-ios-bundle-id"),e.iOSBundleId=n.iOS.bundleId),n.android&&(it(n.android.packageName.length>0,t,"missing-android-pkg-name"),e.androidInstallApp=n.android.installApp,e.androidMinimumVersionCode=n.android.minimumVersion,e.androidPackageName=n.android.packageName)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function XK(t,e,n){var r;const i=Rl(t),s={requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"};if(!((r=i._getRecaptchaConfig())===null||r===void 0)&&r.emailPasswordEnabled){const o=await Zu(i,s,"getOobCode",!0);n&&ky(i,o,n),await Oy(i,o)}else n&&ky(i,s,n),await Oy(i,s).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log("Password resets are protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the password reset flow.");const a=await Zu(i,s,"getOobCode",!0);n&&ky(i,a,n),await Oy(i,a)}else return Promise.reject(o)})}async function QK(t,e,n){var r;const i=Rl(t),s={returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"};let o;if(!((r=i._getRecaptchaConfig())===null||r===void 0)&&r.emailPasswordEnabled){const u=await Zu(i,s,"signUpPassword");o=Ay(i,u)}else o=Ay(i,s).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const c=await Zu(i,s,"signUpPassword");return Ay(i,c)}else return Promise.reject(u)});const a=await o.catch(u=>Promise.reject(u)),l=await hl._fromIdTokenResponse(i,"signIn",a);return await i._updateCurrentUser(l.user),l}function JK(t,e,n){return qK(zt(t),ia.credential(e,n))}function ZK(t,e){return PN(zt(t),e,null)}function ez(t,e){return PN(zt(t),null,e)}async function PN(t,e,n){const{auth:r}=t,s={idToken:await t.getIdToken(),returnSecureToken:!0};e&&(s.email=e),n&&(s.password=n);const o=await Ju(t,IN(r,s));await t._updateTokensIfNecessary(o,!0)}function xN(t,e,n,r){return zt(t).onIdTokenChanged(e,n,r)}function tz(t,e,n){return zt(t).beforeAuthStateChanged(e,n)}function nz(t){return zt(t).signOut()}async function rz(t){return zt(t).delete()}const Dm="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DN{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Dm,"1"),this.storage.removeItem(Dm),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iz(){const t=jr();return V_(t)||hv(t)}const sz=1e3,oz=10;class RN extends DN{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=iz()&&PK(),this.fallbackToPolling=vN(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const o=this.storage.getItem(r);if(e.newValue!==o)e.newValue!==null?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);kK()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,oz):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},sz)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}RN.type="LOCAL";const NN=RN;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MN extends DN{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}MN.type="SESSION";const H_=MN;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function az(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pv{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new pv(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async u=>u(n.origin,s)),l=await az(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}pv.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W_(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lz{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{const u=W_("",20);i.port1.start();const c=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(d){const f=d;if(f.data.eventId===u)switch(f.data.status){case"ack":clearTimeout(c),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(f.data.response);break;default:clearTimeout(c),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xs(){return window}function uz(t){xs().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LN(){return typeof xs().WorkerGlobalScope<"u"&&typeof xs().importScripts=="function"}async function cz(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function dz(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function fz(){return LN()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $N="firebaseLocalStorageDb",hz=1,Rm="firebaseLocalStorage",FN="fbase_key";class mh{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function mv(t,e){return t.transaction([Rm],e?"readwrite":"readonly").objectStore(Rm)}function pz(){const t=indexedDB.deleteDatabase($N);return new mh(t).toPromise()}function Wb(){const t=indexedDB.open($N,hz);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Rm,{keyPath:FN})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Rm)?e(r):(r.close(),await pz(),e(await Wb()))})})}async function JI(t,e,n){const r=mv(t,!0).put({[FN]:e,value:n});return new mh(r).toPromise()}async function mz(t,e){const n=mv(t,!1).get(e),r=await new mh(n).toPromise();return r===void 0?null:r.value}function ZI(t,e){const n=mv(t,!0).delete(e);return new mh(n).toPromise()}const gz=800,vz=3;class UN{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Wb(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>vz)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return LN()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=pv._getInstance(fz()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await cz(),!this.activeServiceWorker)return;this.sender=new lz(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||dz()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Wb();return await JI(e,Dm,"1"),await ZI(e,Dm),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>JI(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>mz(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>ZI(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=mv(i,!1).getAll();return new mh(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),gz)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}UN.type="LOCAL";const VN=UN;new fh(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yz(t,e){return e?Gs(e):(it(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K_ extends B_{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Pu(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Pu(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Pu(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function bz(t){return kN(t.auth,new K_(t),t.bypassAuthState)}function wz(t){const{auth:e,user:n}=t;return it(n,e,"internal-error"),AN(n,new K_(t),t.bypassAuthState)}async function _z(t){const{auth:e,user:n}=t;return it(n,e,"internal-error"),YK(n,new K_(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BN{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return bz;case"linkViaPopup":case"linkViaRedirect":return _z;case"reauthViaPopup":case"reauthViaRedirect":return wz;default:fs(this.auth,"internal-error")}}resolve(e){uo(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){uo(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tz=new fh(2e3,1e4);class au extends BN{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,au.currentPopupAction&&au.currentPopupAction.cancel(),au.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return it(e,this.auth,"internal-error"),e}async onExecution(){uo(this.filter.length===1,"Popup operations only handle one event");const e=W_();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Ps(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Ps(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,au.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ps(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,Tz.get())};e()}}au.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sz="pendingRedirect",Rp=new Map;class Ez extends BN{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Rp.get(this.auth._key());if(!e){try{const r=await Iz(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Rp.set(this.auth._key(),e)}return this.bypassAuthState||Rp.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Iz(t,e){const n=Az(e),r=Oz(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function Cz(t,e){Rp.set(t._key(),e)}function Oz(t){return Gs(t._redirectPersistence)}function Az(t){return Dp(Sz,t.config.apiKey,t.name)}async function kz(t,e,n=!1){const r=Rl(t),i=yz(r,e),o=await new Ez(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pz=10*60*1e3;class xz{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Dz(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!jN(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Ps(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Pz&&this.cachedEventUids.clear(),this.cachedEventUids.has(eC(e))}saveEventToCache(e){this.cachedEventUids.add(eC(e)),this.lastProcessedEventTime=Date.now()}}function eC(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function jN({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function Dz(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return jN(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Rz(t,e={}){return Dl(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nz=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Mz=/^https?/;async function Lz(t){if(t.config.emulator)return;const{authorizedDomains:e}=await Rz(t);for(const n of e)try{if($z(n))return}catch{}fs(t,"unauthorized-domain")}function $z(t){const e=Hb(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!Mz.test(n))return!1;if(Nz.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fz=new fh(3e4,6e4);function tC(){const t=xs().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function Uz(t){return new Promise((e,n)=>{var r,i,s;function o(){tC(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{tC(),n(Ps(t,"network-request-failed"))},timeout:Fz.get()})}if(!((i=(r=xs().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=xs().gapi)===null||s===void 0)&&s.load)o();else{const a=DK("iframefcb");return xs()[a]=()=>{gapi.load?o():n(Ps(t,"network-request-failed"))},_N(`https://apis.google.com/js/api.js?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw Np=null,e})}let Np=null;function Vz(t){return Np=Np||Uz(t),Np}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bz=new fh(5e3,15e3),jz="__/auth/iframe",Hz="emulator/auth/iframe",Wz={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Kz=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function zz(t){const e=t.config;it(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?F_(e,Hz):`https://${t.config.authDomain}/${jz}`,r={apiKey:e.apiKey,appName:t.name,v:ua},i=Kz.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${pc(r).slice(1)}`}async function Gz(t){const e=await Vz(t),n=xs().gapi;return it(n,t,"internal-error"),e.open({where:document.body,url:zz(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Wz,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=Ps(t,"network-request-failed"),a=xs().setTimeout(()=>{s(o)},Bz.get());function l(){xs().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yz={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},qz=500,Xz=600,Qz="_blank",Jz="http://localhost";class nC{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Zz(t,e,n,r=qz,i=Xz){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},Yz),{width:r.toString(),height:i.toString(),top:s,left:o}),u=jr().toLowerCase();n&&(a=fN(u)?Qz:n),dN(u)&&(e=e||Jz,l.scrollbars="yes");const c=Object.entries(l).reduce((f,[h,p])=>`${f}${h}=${p},`,"");if(AK(u)&&a!=="_self")return eG(e||"",a),new nC(null);const d=window.open(e||"",a,c);it(d,t,"popup-blocked");try{d.focus()}catch{}return new nC(d)}function eG(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tG="__/auth/handler",nG="emulator/auth/handler",rG=encodeURIComponent("fac");async function rC(t,e,n,r,i,s){it(t.config.authDomain,t,"auth-domain-config-required"),it(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:ua,eventId:i};if(e instanceof CN){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",H0(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[c,d]of Object.entries(s||{}))o[c]=d}if(e instanceof ph){const c=e.getScopes().filter(d=>d!=="");c.length>0&&(o.scopes=c.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const c of Object.keys(a))a[c]===void 0&&delete a[c];const l=await t._getAppCheckToken(),u=l?`#${rG}=${encodeURIComponent(l)}`:"";return`${iG(t)}?${pc(a).slice(1)}${u}`}function iG({config:t}){return t.emulator?F_(t,nG):`https://${t.authDomain}/${tG}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Py="webStorageSupport";class sG{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=H_,this._completeRedirectFn=kz,this._overrideRedirectResult=Cz}async _openPopup(e,n,r,i){var s;uo((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await rC(e,n,r,Hb(),i);return Zz(e,o,W_())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await rC(e,n,r,Hb(),i);return uz(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(uo(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await Gz(e),r=new xz(e);return n.register("authEvent",i=>(it(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Py,{type:Py},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[Py];o!==void 0&&n(!!o),fs(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=Lz(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return vN()||V_()||hv()}}const HN=sG;var iC="@firebase/auth",sC="0.23.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oG{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){it(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aG(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function lG(t){pi(new ei("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;it(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:yN(t)},u=new $K(r,i,s,l);return FK(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),pi(new ei("auth-internal",e=>{const n=Rl(e.getProvider("auth").getImmediate());return(r=>new oG(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Er(iC,sC,aG(t)),Er(iC,sC,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uG=5*60,cG=ix("authIdTokenMaxAge")||uG;let oC=null;const dG=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>cG)return;const i=n==null?void 0:n.token;oC!==i&&(oC=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function fG(t=gc()){const e=Fs(t,"auth");if(e.isInitialized())return e.getImmediate();const n=SN(t,{popupRedirectResolver:HN,persistence:[VN,NN,H_]}),r=ix("authTokenSyncURL");if(r){const s=dG(r);tz(n,s,()=>s(n.currentUser)),xN(n,o=>s(o))}const i=tx("auth");return i&&UK(n,`http://${i}`),n}lG("Browser");const WN=Symbol("firebaseApp");function KN(t){return hs()&&Qr(WN,null)||gc(t)}const ep=new WeakMap;function hG(t,e){if(!ep.has(t)){const n=ug(!0);ep.set(t,n);const{unmount:r}=e;e.unmount=()=>{r.call(e),n.stop(),ep.delete(t)}}return ep.get(t)}const pG=new WeakMap,tp=new WeakMap;function mG(t){const e=KN(t);if(!tp.has(e)){let n;const i=[new Promise(s=>{n=s}),s=>{tp.set(e,s),n(s.value)}];tp.set(e,i)}return tp.get(e)}function gG(t,e){xN(e,n=>{const r=mG();t.value=n,Array.isArray(r)&&r[1](t)})}var aC={};const lC="@firebase/database",uC="0.14.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let zN="";function vG(t){zN=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yG{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Tr(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:Xd(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bG{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return ho(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GN=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new yG(e)}}catch{}return new bG},$a=GN("localStorage"),Kb=GN("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xu=new mc("@firebase/database"),wG=function(){let t=1;return function(){return t++}}(),YN=function(t){const e=BU(t),n=new LU;n.update(e);const r=n.digest();return Cg.encodeByteArray(r)},gh=function(...t){let e="";for(let n=0;n<t.length;n++){const r=t[n];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?e+=gh.apply(null,r):typeof r=="object"?e+=Tr(r):e+=r,e+=" "}return e};let za=null,cC=!0;const _G=function(t,e){Fe(!e||t===!0||t===!1,"Can't turn on custom loggers persistently."),t===!0?(xu.logLevel=$t.VERBOSE,za=xu.log.bind(xu),e&&Kb.set("logging_enabled",!0)):typeof t=="function"?za=t:(za=null,Kb.remove("logging_enabled"))},Dr=function(...t){if(cC===!0&&(cC=!1,za===null&&Kb.get("logging_enabled")===!0&&_G(!0)),za){const e=gh.apply(null,t);za(e)}},vh=function(t){return function(...e){Dr(t,...e)}},zb=function(...t){const e="FIREBASE INTERNAL ERROR: "+gh(...t);xu.error(e)},pl=function(...t){const e=`FIREBASE FATAL ERROR: ${gh(...t)}`;throw xu.error(e),new Error(e)},Ci=function(...t){const e="FIREBASE WARNING: "+gh(...t);xu.warn(e)},TG=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&Ci("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},qN=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},SG=function(t){if(document.readyState==="complete")t();else{let e=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},ec="[MIN_NAME]",ml="[MAX_NAME]",Sc=function(t,e){if(t===e)return 0;if(t===ec||e===ml)return-1;if(e===ec||t===ml)return 1;{const n=dC(t),r=dC(e);return n!==null?r!==null?n-r===0?t.length-e.length:n-r:-1:r!==null?1:t<e?-1:1}},EG=function(t,e){return t===e?0:t<e?-1:1},Rc=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+Tr(e))},z_=function(t){if(typeof t!="object"||t===null)return Tr(t);const e=[];for(const r in t)e.push(r);e.sort();let n="{";for(let r=0;r<e.length;r++)r!==0&&(n+=","),n+=Tr(e[r]),n+=":",n+=z_(t[e[r]]);return n+="}",n},XN=function(t,e){const n=t.length;if(n<=e)return[t];const r=[];for(let i=0;i<n;i+=e)i+e>n?r.push(t.substring(i,n)):r.push(t.substring(i,i+e));return r};function Vi(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const QN=function(t){Fe(!qN(t),"Invalid JSON number");const e=11,n=52,r=(1<<e-1)-1;let i,s,o,a,l;t===0?(s=0,o=0,i=1/t===-1/0?1:0):(i=t<0,t=Math.abs(t),t>=Math.pow(2,1-r)?(a=Math.min(Math.floor(Math.log(t)/Math.LN2),r),s=a+r,o=Math.round(t*Math.pow(2,n-a)-Math.pow(2,n))):(s=0,o=Math.round(t/Math.pow(2,1-r-n))));const u=[];for(l=n;l;l-=1)u.push(o%2?1:0),o=Math.floor(o/2);for(l=e;l;l-=1)u.push(s%2?1:0),s=Math.floor(s/2);u.push(i?1:0),u.reverse();const c=u.join("");let d="";for(l=0;l<64;l+=8){let f=parseInt(c.substr(l,8),2).toString(16);f.length===1&&(f="0"+f),d=d+f}return d.toLowerCase()},IG=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},CG=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"},OG=new RegExp("^-?(0*)\\d{1,10}$"),AG=-2147483648,kG=2147483647,dC=function(t){if(OG.test(t)){const e=Number(t);if(e>=AG&&e<=kG)return e}return null},yh=function(t){try{t()}catch(e){setTimeout(()=>{const n=e.stack||"";throw Ci("Exception was thrown by user callback.",n),e},Math.floor(0))}},PG=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Id=function(t,e){const n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xG{constructor(e,n){this.appName_=e,this.appCheckProvider=n,this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(r=>this.appCheck=r)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){Ci(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DG{constructor(e,n,r){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(Dr("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Ci(e)}}class Gb{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}Gb.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G_="5",JN="v",ZN="s",eM="r",tM="f",nM=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,rM="ls",iM="p",Yb="ac",sM="websocket",oM="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RG{constructor(e,n,r,i,s=!1,o="",a=!1,l=!1){this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=s,this.persistenceKey=o,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=l,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=$a.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&$a.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}}function NG(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function aM(t,e,n){Fe(typeof e=="string","typeof type must == string"),Fe(typeof n=="object","typeof params must == object");let r;if(e===sM)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===oM)r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);NG(t)&&(n.ns=t.namespace);const i=[];return Vi(n,(s,o)=>{i.push(s+"="+o)}),r+i.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MG{constructor(){this.counters_={}}incrementCounter(e,n=1){ho(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return SU(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xy={},Dy={};function Y_(t){const e=t.toString();return xy[e]||(xy[e]=new MG),xy[e]}function LG(t,e){const n=t.toString();return Dy[n]||(Dy[n]=e()),Dy[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $G{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&yh(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fC="start",FG="close",UG="pLPCommand",VG="pRTLPCB",lM="id",uM="pw",cM="ser",BG="cb",jG="seg",HG="ts",WG="d",KG="dframe",dM=1870,fM=30,zG=dM-fM,GG=25e3,YG=3e4;class lu{constructor(e,n,r,i,s,o,a){this.connId=e,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.transportSessionId=o,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=vh(e),this.stats_=Y_(n),this.urlFn=l=>(this.appCheckToken&&(l[Yb]=this.appCheckToken),aM(n,oM,l))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new $G(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(YG)),SG(()=>{if(this.isClosed_)return;this.scriptTagHolder=new q_((...s)=>{const[o,a,l,u,c]=s;if(this.incrementIncomingBytes_(s),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,o===fC)this.id=a,this.password=l;else if(o===FG)a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+o)},(...s)=>{const[o,a]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(o,a)},()=>{this.onClosed_()},this.urlFn);const r={};r[fC]="t",r[cM]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[BG]=this.scriptTagHolder.uniqueCallbackIdentifier),r[JN]=G_,this.transportSessionId&&(r[ZN]=this.transportSessionId),this.lastSessionId&&(r[rM]=this.lastSessionId),this.applicationId&&(r[iM]=this.applicationId),this.appCheckToken&&(r[Yb]=this.appCheckToken),typeof location<"u"&&location.hostname&&nM.test(location.hostname)&&(r[eM]=tM);const i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){lu.forceAllow_=!0}static forceDisallow(){lu.forceDisallow_=!0}static isAvailable(){return lu.forceAllow_?!0:!lu.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!IG()&&!CG()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=Tr(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=JP(n),i=XN(r,zG);for(let s=0;s<i.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[s]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const r={};r[KG]="t",r[lM]=e,r[uM]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=Tr(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class q_{constructor(e,n,r,i){this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=wG(),window[UG+this.uniqueCallbackIdentifier]=e,window[VG+this.uniqueCallbackIdentifier]=n,this.myIFrame=q_.createIFrame_();let s="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(s='<script>document.domain="'+document.domain+'";<\/script>');const o="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(a){Dr("frame writing exception"),a.stack&&Dr(a.stack),Dr(a)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||Dr("No IE domain setting required")}catch{const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[lM]=this.myID,e[uM]=this.myPW,e[cM]=this.currentSerial;let n=this.urlFn(e),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+fM+r.length<=dM;){const o=this.pendingSegs.shift();r=r+"&"+jG+i+"="+o.seg+"&"+HG+i+"="+o.ts+"&"+WG+i+"="+o.d,i++}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,r){this.pendingSegs.push({seg:e,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},i=setTimeout(r,Math.floor(GG)),s=()=>{clearTimeout(i),r()};this.addTag(e,s)}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const i=r.readyState;(!i||i==="loaded"||i==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{Dr("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qG=16384,XG=45e3;let Nm=null;typeof MozWebSocket<"u"?Nm=MozWebSocket:typeof WebSocket<"u"&&(Nm=WebSocket);class Ji{constructor(e,n,r,i,s,o,a){this.connId=e,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=vh(this.connId),this.stats_=Y_(n),this.connURL=Ji.connectionURL_(n,o,a,i,r),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,r,i,s){const o={};return o[JN]=G_,typeof location<"u"&&location.hostname&&nM.test(location.hostname)&&(o[eM]=tM),n&&(o[ZN]=n),r&&(o[rM]=r),i&&(o[Yb]=i),s&&(o[iM]=s),aM(e,sM,o)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,$a.set("previous_websocket_failure",!0);try{let r;lx(),this.mySock=new Nm(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_()}}start(){}static forceDisallow(){Ji.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(n);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&Nm!==null&&!Ji.forceDisallow_}static previouslyFailed(){return $a.isInMemoryStorage||$a.get("previous_websocket_failure")===!0}markConnectionHealthy(){$a.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const r=Xd(n);this.onMessage(r)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(Fe(this.frames===null,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const r=this.extractFrameCount_(n);r!==null&&this.appendFrame_(r)}}send(e){this.resetKeepAlive();const n=Tr(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=XN(n,qG);r.length>1&&this.sendString_(String(r.length));for(let i=0;i<r.length;i++)this.sendString_(r[i])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(XG))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}Ji.responsesRequiredToBeHealthy=2;Ji.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vf{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[lu,Ji]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const n=Ji&&Ji.isAvailable();let r=n&&!Ji.previouslyFailed();if(e.webSocketOnly&&(n||Ci("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[Ji];else{const i=this.transports_=[];for(const s of vf.ALL_TRANSPORTS)s&&s.isAvailable()&&i.push(s);vf.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}vf.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QG=6e4,JG=5e3,ZG=10*1024,eY=100*1024,Ry="t",hC="d",tY="s",pC="r",nY="e",mC="o",gC="a",vC="n",yC="p",rY="h";class iY{constructor(e,n,r,i,s,o,a,l,u,c){this.id=e,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=s,this.onMessage_=o,this.onReady_=a,this.onDisconnect_=l,this.onKill_=u,this.lastSessionId=c,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=vh("c:"+this.id+":"),this.transportManager_=new vf(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));const i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=Id(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>eY?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>ZG?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){const n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(Ry in e){const n=e[Ry];n===gC?this.upgradeIfSecondaryHealthy_():n===pC?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===mC&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=Rc("t",e),r=Rc("d",e);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:yC,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:gC,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:vC,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=Rc("t",e),r=Rc("d",e);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=Rc(Ry,e);if(hC in e){const r=e[hC];if(n===rY){const i=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if(n===vC){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===tY?this.onConnectionShutdown_(r):n===pC?this.onReset_(r):n===nY?zb("Server Error: "+r):n===mC?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):zb("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,r=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),G_!==r&&Ci("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),Id(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(QG))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Id(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(JG))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:yC,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&($a.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hM{put(e,n,r,i){}merge(e,n,r,i){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,r){}onDisconnectMerge(e,n,r){}onDisconnectCancel(e,n){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pM{constructor(e){this.allowedEvents_=e,this.listeners_={},Fe(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,n)}}on(e,n,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:r});const i=this.getInitialEvent(e);i&&n.apply(r,i)}off(e,n,r){this.validateEventType_(e);const i=this.listeners_[e]||[];for(let s=0;s<i.length;s++)if(i[s].callback===n&&(!r||r===i[s].context)){i.splice(s,1);return}}validateEventType_(e){Fe(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mm extends pM{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!g1()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new Mm}getInitialEvent(e){return Fe(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bC=32,wC=768;class _n{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}}function rn(){return new _n("")}function Dt(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function sa(t){return t.pieces_.length-t.pieceNum_}function mn(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new _n(t.pieces_,e)}function mM(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function sY(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function gM(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function vM(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new _n(e,0)}function fr(t,e){const n=[];for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof _n)for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{const r=e.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&n.push(r[i])}return new _n(n,0)}function Ot(t){return t.pieceNum_>=t.pieces_.length}function $i(t,e){const n=Dt(t),r=Dt(e);if(n===null)return e;if(n===r)return $i(mn(t),mn(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function yM(t,e){if(sa(t)!==sa(e))return!1;for(let n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function es(t,e){let n=t.pieceNum_,r=e.pieceNum_;if(sa(t)>sa(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}class oY{constructor(e,n){this.errorPrefix_=n,this.parts_=gM(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=kg(this.parts_[r]);bM(this)}}function aY(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=kg(e),bM(t)}function lY(t){const e=t.parts_.pop();t.byteLength_-=kg(e),t.parts_.length>0&&(t.byteLength_-=1)}function bM(t){if(t.byteLength_>wC)throw new Error(t.errorPrefix_+"has a key path longer than "+wC+" bytes ("+t.byteLength_+").");if(t.parts_.length>bC)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+bC+") or object contains a cycle "+Ia(t))}function Ia(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X_ extends pM{constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new X_}getInitialEvent(e){return Fe(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nc=1e3,uY=60*5*1e3,_C=30*1e3,cY=1.3,dY=3e4,fY="server_kill",TC=3;class to extends hM{constructor(e,n,r,i,s,o,a,l){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=r,this.onConnectStatus_=i,this.onServerInfoUpdate_=s,this.authTokenProvider_=o,this.appCheckTokenProvider_=a,this.authOverride_=l,this.id=to.nextPersistentConnectionId_++,this.log_=vh("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Nc,this.maxReconnectDelay_=uY,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,l&&!lx())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");X_.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&Mm.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,r){const i=++this.requestNumber_,s={r:i,a:e,b:n};this.log_(Tr(s)),Fe(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(s),r&&(this.requestCBHash_[i]=r)}get(e){this.initConnection_();const n=new il,i={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:o=>{const a=o.d;o.s==="ok"?n.resolve(a):n.reject(a)}};this.outstandingGets_.push(i),this.outstandingGetCount_++;const s=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(s),n.promise}listen(e,n,r,i){this.initConnection_();const s=e._queryIdentifier,o=e._path.toString();this.log_("Listen called for "+o+" "+s),this.listens.has(o)||this.listens.set(o,new Map),Fe(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),Fe(!this.listens.get(o).has(s),"listen() called twice for same path/queryId.");const a={onComplete:i,hashFn:n,query:e,tag:r};this.listens.get(o).set(s,a),this.connected_&&this.sendListen_(a)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,r=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(r)})}sendListen_(e){const n=e.query,r=n._path.toString(),i=n._queryIdentifier;this.log_("Listen on "+r+" for "+i);const s={p:r},o="q";e.tag&&(s.q=n._queryObject,s.t=e.tag),s.h=e.hashFn(),this.sendRequest(o,s,a=>{const l=a.d,u=a.s;to.warnOnListenWarnings_(l,n),(this.listens.get(r)&&this.listens.get(r).get(i))===e&&(this.log_("listen response",a),u!=="ok"&&this.removeListen_(r,i),e.onComplete&&e.onComplete(u,l))})}static warnOnListenWarnings_(e,n){if(e&&typeof e=="object"&&ho(e,"w")){const r=Hu(e,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const i='".indexOn": "'+n._queryParams.getIndex().toString()+'"',s=n._path.toString();Ci(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${i} at ${s} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||MU(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=_C)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=NU(e)?"auth":"gauth",r={cred:e};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(n,r,i=>{const s=i.s,o=i.d||"error";this.authToken_===e&&(s==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(s,o))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,r=e.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,r)})}unlisten(e,n){const r=e._path.toString(),i=e._queryIdentifier;this.log_("Unlisten called for "+r+" "+i),Fe(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,i)&&this.connected_&&this.sendUnlisten_(r,i,e._queryObject,n)}sendUnlisten_(e,n,r,i){this.log_("Unlisten on "+e+" for "+n);const s={p:e},o="n";i&&(s.q=r,s.t=i),this.sendRequest(o,s)}onDisconnectPut(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:r})}onDisconnectMerge(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:r})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,r,i){const s={p:n,d:r};this.log_("onDisconnect "+e,s),this.sendRequest(e,s,o=>{i&&setTimeout(()=>{i(o.s,o.d)},Math.floor(0))})}put(e,n,r,i){this.putInternal("p",e,n,r,i)}merge(e,n,r,i){this.putInternal("m",e,n,r,i)}putInternal(e,n,r,i,s){this.initConnection_();const o={p:n,d:r};s!==void 0&&(o.h=s),this.outstandingPuts_.push({action:e,request:o,onComplete:i}),this.outstandingPutCount_++;const a=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(a):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,i=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,s=>{this.log_(n+" response",s),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),i&&i(s.s,s.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,r=>{if(r.s!=="ok"){const s=r.d;this.log_("reportStats","Error sending stats: "+s)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+Tr(e));const n=e.r,r=this.requestCBHash_[n];r&&(delete this.requestCBHash_[n],r(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),e==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):e==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):e==="c"?this.onListenRevoked_(n.p,n.q):e==="ac"?this.onAuthRevoked_(n.s,n.d):e==="apc"?this.onAppCheckRevoked_(n.s,n.d):e==="sd"?this.onSecurityDebugPacket_(n):zb("Unrecognized action received from server: "+Tr(e)+`
Are you using the latest client?`)}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){Fe(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Nc,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Nc,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>dY&&(this.reconnectDelay_=Nc),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=new Date().getTime()-this.lastConnectionAttemptTime_;let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*cY)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),i=this.id+":"+to.nextConnectionId_++,s=this.lastSessionId;let o=!1,a=null;const l=function(){a?a.close():(o=!0,r())},u=function(d){Fe(a,"sendRequest call when we're not connected not allowed."),a.sendRequest(d)};this.realtime_={close:l,sendRequest:u};const c=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[d,f]=await Promise.all([this.authTokenProvider_.getToken(c),this.appCheckTokenProvider_.getToken(c)]);o?Dr("getToken() completed but was canceled"):(Dr("getToken() completed. Creating connection."),this.authToken_=d&&d.accessToken,this.appCheckToken_=f&&f.token,a=new iY(i,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,r,h=>{Ci(h+" ("+this.repoInfo_.toString()+")"),this.interrupt(fY)},s))}catch(d){this.log_("Failed to get token: "+d),o||(this.repoInfo_.nodeAdmin&&Ci(d),l())}}}interrupt(e){Dr("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){Dr("Resuming connection for reason: "+e),delete this.interruptReasons_[e],H0(this.interruptReasons_)&&(this.reconnectDelay_=Nc,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let r;n?r=n.map(s=>z_(s)).join("$"):r="default";const i=this.removeListen_(e,r);i&&i.onComplete&&i.onComplete("permission_denied")}removeListen_(e,n){const r=new _n(e).toString();let i;if(this.listens.has(r)){const s=this.listens.get(r);i=s.get(n),s.delete(n),s.size===0&&this.listens.delete(r)}else i=void 0;return i}onAuthRevoked_(e,n){Dr("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=TC&&(this.reconnectDelay_=_C,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){Dr("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=TC&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";e["sdk."+n+"."+zN.replace(/\./g,"-")]=1,g1()?e["framework.cordova"]=1:ax()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=Mm.getInstance().currentlyOnline();return H0(this.interruptReasons_)&&e}}to.nextPersistentConnectionId_=0;to.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rt{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new Rt(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gv{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const r=new Rt(ec,e),i=new Rt(ec,n);return this.compare(r,i)!==0}minPost(){return Rt.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let np;class wM extends gv{static get __EMPTY_NODE(){return np}static set __EMPTY_NODE(e){np=e}compare(e,n){return Sc(e.name,n.name)}isDefinedOn(e){throw hc("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return Rt.MIN}maxPost(){return new Rt(ml,np)}makePost(e,n){return Fe(typeof e=="string","KeyIndex indexValue must always be a string."),new Rt(e,np)}toString(){return".key"}}const Du=new wM;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rp{constructor(e,n,r,i,s=null){this.isReverse_=i,this.resultGenerator_=s,this.nodeStack_=[];let o=1;for(;!e.isEmpty();)if(e=e,o=n?r(e.key,n):1,i&&(o*=-1),o<0)this.isReverse_?e=e.left:e=e.right;else if(o===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class cr{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??cr.RED,this.left=i??di.EMPTY_NODE,this.right=s??di.EMPTY_NODE}copy(e,n,r,i,s){return new cr(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return s<0?i=i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i=i.copy(null,n,null,null,null):i=i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp_()}removeMin_(){if(this.left.isEmpty())return di.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let r,i;if(r=this,n(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),n(e,r.key)===0){if(r.right.isEmpty())return di.EMPTY_NODE;i=r.right.min_(),r=r.copy(i.key,i.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,cr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,cr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}cr.RED=!0;cr.BLACK=!1;class hY{copy(e,n,r,i,s){return this}insert(e,n,r){return new cr(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class di{constructor(e,n=di.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new di(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,cr.BLACK,null,null))}remove(e){return new di(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,cr.BLACK,null,null))}get(e){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(e){let n,r=this.root_,i=null;for(;!r.isEmpty();)if(n=this.comparator_(e,r.key),n===0){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(i=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new rp(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new rp(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new rp(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new rp(this.root_,null,this.comparator_,!0,e)}}di.EMPTY_NODE=new hY;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pY(t,e){return Sc(t.name,e.name)}function Q_(t,e){return Sc(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let qb;function mY(t){qb=t}const _M=function(t){return typeof t=="number"?"number:"+QN(t):"string:"+t},TM=function(t){if(t.isLeafNode()){const e=t.val();Fe(typeof e=="string"||typeof e=="number"||typeof e=="object"&&ho(e,".sv"),"Priority must be a string or number.")}else Fe(t===qb||t.isEmpty(),"priority of unexpected type.");Fe(t===qb||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let SC;class lr{constructor(e,n=lr.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,Fe(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),TM(this.priorityNode_)}static set __childrenNodeConstructor(e){SC=e}static get __childrenNodeConstructor(){return SC}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new lr(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:lr.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return Ot(e)?this:Dt(e)===".priority"?this.priorityNode_:lr.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:lr.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const r=Dt(e);return r===null?n:n.isEmpty()&&r!==".priority"?this:(Fe(r!==".priority"||sa(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,lr.__childrenNodeConstructor.EMPTY_NODE.updateChild(mn(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+_M(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",n==="number"?e+=QN(this.value_):e+=this.value_,this.lazyHash_=YN(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===lr.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof lr.__childrenNodeConstructor?-1:(Fe(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,r=typeof this.value_,i=lr.VALUE_TYPE_ORDER.indexOf(n),s=lr.VALUE_TYPE_ORDER.indexOf(r);return Fe(i>=0,"Unknown leaf type: "+n),Fe(s>=0,"Unknown leaf type: "+r),i===s?r==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:s-i}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}lr.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let SM,EM;function gY(t){SM=t}function vY(t){EM=t}class yY extends gv{compare(e,n){const r=e.node.getPriority(),i=n.node.getPriority(),s=r.compareTo(i);return s===0?Sc(e.name,n.name):s}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return Rt.MIN}maxPost(){return new Rt(ml,new lr("[PRIORITY-POST]",EM))}makePost(e,n){const r=SM(e);return new Rt(n,new lr("[PRIORITY-POST]",r))}toString(){return".priority"}}const Lr=new yY;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bY=Math.log(2);class wY{constructor(e){const n=s=>parseInt(Math.log(s)/bY,10),r=s=>parseInt(Array(s+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;const i=r(this.count);this.bits_=e+1&i}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const Lm=function(t,e,n,r){t.sort(e);const i=function(l,u){const c=u-l;let d,f;if(c===0)return null;if(c===1)return d=t[l],f=n?n(d):d,new cr(f,d.node,cr.BLACK,null,null);{const h=parseInt(c/2,10)+l,p=i(l,h),m=i(h+1,u);return d=t[h],f=n?n(d):d,new cr(f,d.node,cr.BLACK,p,m)}},s=function(l){let u=null,c=null,d=t.length;const f=function(p,m){const g=d-p,y=d;d-=p;const v=i(g+1,y),_=t[g],b=n?n(_):_;h(new cr(b,_.node,m,null,v))},h=function(p){u?(u.left=p,u=p):(c=p,u=p)};for(let p=0;p<l.count;++p){const m=l.nextBitIsOne(),g=Math.pow(2,l.count-(p+1));m?f(g,cr.BLACK):(f(g,cr.BLACK),f(g,cr.RED))}return c},o=new wY(t.length),a=s(o);return new di(r||e,a)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ny;const Bl={};class Ys{constructor(e,n){this.indexes_=e,this.indexSet_=n}static get Default(){return Fe(Bl&&Lr,"ChildrenNode.ts has not been loaded"),Ny=Ny||new Ys({".priority":Bl},{".priority":Lr}),Ny}get(e){const n=Hu(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof di?n:null}hasIndex(e){return ho(this.indexSet_,e.toString())}addIndex(e,n){Fe(e!==Du,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let i=!1;const s=n.getIterator(Rt.Wrap);let o=s.getNext();for(;o;)i=i||e.isDefinedOn(o.node),r.push(o),o=s.getNext();let a;i?a=Lm(r,e.getCompare()):a=Bl;const l=e.toString(),u=Object.assign({},this.indexSet_);u[l]=e;const c=Object.assign({},this.indexes_);return c[l]=a,new Ys(c,u)}addToIndexes(e,n){const r=om(this.indexes_,(i,s)=>{const o=Hu(this.indexSet_,s);if(Fe(o,"Missing index implementation for "+s),i===Bl)if(o.isDefinedOn(e.node)){const a=[],l=n.getIterator(Rt.Wrap);let u=l.getNext();for(;u;)u.name!==e.name&&a.push(u),u=l.getNext();return a.push(e),Lm(a,o.getCompare())}else return Bl;else{const a=n.get(e.name);let l=i;return a&&(l=l.remove(new Rt(e.name,a))),l.insert(e,e.node)}});return new Ys(r,this.indexSet_)}removeFromIndexes(e,n){const r=om(this.indexes_,i=>{if(i===Bl)return i;{const s=n.get(e.name);return s?i.remove(new Rt(e.name,s)):i}});return new Ys(r,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Mc;class Xt{constructor(e,n,r){this.children_=e,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&TM(this.priorityNode_),this.children_.isEmpty()&&Fe(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return Mc||(Mc=new Xt(new di(Q_),null,Ys.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Mc}updatePriority(e){return this.children_.isEmpty()?this:new Xt(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const n=this.children_.get(e);return n===null?Mc:n}}getChild(e){const n=Dt(e);return n===null?this:this.getImmediateChild(n).getChild(mn(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,n){if(Fe(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);{const r=new Rt(e,n);let i,s;n.isEmpty()?(i=this.children_.remove(e),s=this.indexMap_.removeFromIndexes(r,this.children_)):(i=this.children_.insert(e,n),s=this.indexMap_.addToIndexes(r,this.children_));const o=i.isEmpty()?Mc:this.priorityNode_;return new Xt(i,o,s)}}updateChild(e,n){const r=Dt(e);if(r===null)return n;{Fe(Dt(e)!==".priority"||sa(e)===1,".priority must be the last token in a path");const i=this.getImmediateChild(r).updateChild(mn(e),n);return this.updateImmediateChild(r,i)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let r=0,i=0,s=!0;if(this.forEachChild(Lr,(o,a)=>{n[o]=a.val(e),r++,s&&Xt.INTEGER_REGEXP_.test(o)?i=Math.max(i,Number(o)):s=!1}),!e&&s&&i<2*r){const o=[];for(const a in n)o[a]=n[a];return o}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+_M(this.getPriority().val())+":"),this.forEachChild(Lr,(n,r)=>{const i=r.hash();i!==""&&(e+=":"+n+":"+i)}),this.lazyHash_=e===""?"":YN(e)}return this.lazyHash_}getPredecessorChildName(e,n,r){const i=this.resolveIndex_(r);if(i){const s=i.getPredecessorKey(new Rt(e,n));return s?s.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new Rt(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new Rt(n,this.children_.get(n)):null}forEachChild(e,n){const r=this.resolveIndex_(e);return r?r.inorderTraversal(i=>n(i.name,i.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getIteratorFrom(e,i=>i);{const i=this.children_.getIteratorFrom(e.name,Rt.Wrap);let s=i.peek();for(;s!=null&&n.compare(s,e)<0;)i.getNext(),s=i.peek();return i}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getReverseIteratorFrom(e,i=>i);{const i=this.children_.getReverseIteratorFrom(e.name,Rt.Wrap);let s=i.peek();for(;s!=null&&n.compare(s,e)>0;)i.getNext(),s=i.peek();return i}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===bh?-1:0}withIndex(e){if(e===Du||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new Xt(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===Du||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const r=this.getIterator(Lr),i=n.getIterator(Lr);let s=r.getNext(),o=i.getNext();for(;s&&o;){if(s.name!==o.name||!s.node.equals(o.node))return!1;s=r.getNext(),o=i.getNext()}return s===null&&o===null}else return!1;else return!1}}resolveIndex_(e){return e===Du?null:this.indexMap_.get(e.toString())}}Xt.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class _Y extends Xt{constructor(){super(new di(Q_),Xt.EMPTY_NODE,Ys.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return Xt.EMPTY_NODE}isEmpty(){return!1}}const bh=new _Y;Object.defineProperties(Rt,{MIN:{value:new Rt(ec,Xt.EMPTY_NODE)},MAX:{value:new Rt(ml,bh)}});wM.__EMPTY_NODE=Xt.EMPTY_NODE;lr.__childrenNodeConstructor=Xt;mY(bh);vY(bh);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TY=!0;function Rr(t,e=null){if(t===null)return Xt.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),Fe(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const n=t;return new lr(n,Rr(e))}if(!(t instanceof Array)&&TY){const n=[];let r=!1;if(Vi(t,(o,a)=>{if(o.substring(0,1)!=="."){const l=Rr(a);l.isEmpty()||(r=r||!l.getPriority().isEmpty(),n.push(new Rt(o,l)))}}),n.length===0)return Xt.EMPTY_NODE;const s=Lm(n,pY,o=>o.name,Q_);if(r){const o=Lm(n,Lr.getCompare());return new Xt(s,Rr(e),new Ys({".priority":o},{".priority":Lr}))}else return new Xt(s,Rr(e),Ys.Default)}else{let n=Xt.EMPTY_NODE;return Vi(t,(r,i)=>{if(ho(t,r)&&r.substring(0,1)!=="."){const s=Rr(i);(s.isLeafNode()||!s.isEmpty())&&(n=n.updateImmediateChild(r,s))}}),n.updatePriority(Rr(e))}}gY(Rr);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SY extends gv{constructor(e){super(),this.indexPath_=e,Fe(!Ot(e)&&Dt(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const r=this.extractChild(e.node),i=this.extractChild(n.node),s=r.compareTo(i);return s===0?Sc(e.name,n.name):s}makePost(e,n){const r=Rr(e),i=Xt.EMPTY_NODE.updateChild(this.indexPath_,r);return new Rt(n,i)}maxPost(){const e=Xt.EMPTY_NODE.updateChild(this.indexPath_,bh);return new Rt(ml,e)}toString(){return gM(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EY extends gv{compare(e,n){const r=e.node.compareTo(n.node);return r===0?Sc(e.name,n.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return Rt.MIN}maxPost(){return Rt.MAX}makePost(e,n){const r=Rr(e);return new Rt(n,r)}toString(){return".value"}}const IY=new EY;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CY(t){return{type:"value",snapshotNode:t}}function OY(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function AY(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function EC(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function kY(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J_{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Lr}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return Fe(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return Fe(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:ec}hasEnd(){return this.endSet_}getIndexEndValue(){return Fe(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return Fe(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:ml}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return Fe(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Lr}copy(){const e=new J_;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function IC(t){const e={};if(t.isDefault())return e;let n;if(t.index_===Lr?n="$priority":t.index_===IY?n="$value":t.index_===Du?n="$key":(Fe(t.index_ instanceof SY,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=Tr(n),t.startSet_){const r=t.startAfterSet_?"startAfter":"startAt";e[r]=Tr(t.indexStartValue_),t.startNameSet_&&(e[r]+=","+Tr(t.indexStartName_))}if(t.endSet_){const r=t.endBeforeSet_?"endBefore":"endAt";e[r]=Tr(t.indexEndValue_),t.endNameSet_&&(e[r]+=","+Tr(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function CC(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==Lr&&(e.i=t.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $m extends hM{constructor(e,n,r,i){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=vh("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(Fe(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,n,r,i){const s=e._path.toString();this.log_("Listen called for "+s+" "+e._queryIdentifier);const o=$m.getListenId_(e,r),a={};this.listens_[o]=a;const l=IC(e._queryParams);this.restRequest_(s+".json",l,(u,c)=>{let d=c;if(u===404&&(d=null,u=null),u===null&&this.onDataUpdate_(s,d,!1,r),Hu(this.listens_,o)===a){let f;u?u===401?f="permission_denied":f="rest_error:"+u:f="ok",i(f,null)}})}unlisten(e,n){const r=$m.getListenId_(e,n);delete this.listens_[r]}get(e){const n=IC(e._queryParams),r=e._path.toString(),i=new il;return this.restRequest_(r+".json",n,(s,o)=>{let a=o;s===404&&(a=null,s=null),s===null?(this.onDataUpdate_(r,a,!1,null),i.resolve(a)):i.reject(new Error(a))}),i.promise}refreshAuthToken(e){}restRequest_(e,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,s])=>{i&&i.accessToken&&(n.auth=i.accessToken),s&&s.token&&(n.ac=s.token);const o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+pc(n);this.log_("Sending REST request for "+o);const a=new XMLHttpRequest;a.onreadystatechange=()=>{if(r&&a.readyState===4){this.log_("REST Response for "+o+" received. status:",a.status,"response:",a.responseText);let l=null;if(a.status>=200&&a.status<300){try{l=Xd(a.responseText)}catch{Ci("Failed to parse JSON response for "+o+": "+a.responseText)}r(null,l)}else a.status!==401&&a.status!==404&&Ci("Got unsuccessful REST response for "+o+" Status: "+a.status),r(a.status);r=null}},a.open("GET",o,!0),a.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PY{constructor(){this.rootNode_=Xt.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fm(){return{value:null,children:new Map}}function IM(t,e,n){if(Ot(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{const r=Dt(e);t.children.has(r)||t.children.set(r,Fm());const i=t.children.get(r);e=mn(e),IM(i,e,n)}}function Xb(t,e,n){t.value!==null?n(e,t.value):xY(t,(r,i)=>{const s=new _n(e.toString()+"/"+r);Xb(i,s,n)})}function xY(t,e){t.children.forEach((n,r)=>{e(r,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DY{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n=Object.assign({},e);return this.last_&&Vi(this.last_,(r,i)=>{n[r]=n[r]-i}),this.last_=e,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OC=10*1e3,RY=30*1e3,NY=5*60*1e3;class MY{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new DY(e);const r=OC+(RY-OC)*Math.random();Id(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const e=this.statsListener_.get(),n={};let r=!1;Vi(e,(i,s)=>{s>0&&ho(this.statsToReport_,i)&&(n[i]=s,r=!0)}),r&&this.server_.reportStats(n),Id(this.reportStats_.bind(this),Math.floor(Math.random()*2*NY))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Cs;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(Cs||(Cs={}));function CM(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function OM(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function AM(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Um{constructor(e,n,r){this.path=e,this.affectedTree=n,this.revert=r,this.type=Cs.ACK_USER_WRITE,this.source=CM()}operationForChild(e){if(Ot(this.path)){if(this.affectedTree.value!=null)return Fe(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new _n(e));return new Um(rn(),n,this.revert)}}else return Fe(Dt(this.path)===e,"operationForChild called for unrelated child."),new Um(mn(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gl{constructor(e,n,r){this.source=e,this.path=n,this.snap=r,this.type=Cs.OVERWRITE}operationForChild(e){return Ot(this.path)?new gl(this.source,rn(),this.snap.getImmediateChild(e)):new gl(this.source,mn(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yf{constructor(e,n,r){this.source=e,this.path=n,this.children=r,this.type=Cs.MERGE}operationForChild(e){if(Ot(this.path)){const n=this.children.subtree(new _n(e));return n.isEmpty()?null:n.value?new gl(this.source,rn(),n.value):new yf(this.source,rn(),n)}else return Fe(Dt(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new yf(this.source,mn(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z_{constructor(e,n,r){this.node_=e,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(Ot(e))return this.isFullyInitialized()&&!this.filtered_;const n=Dt(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}function LY(t,e,n,r){const i=[],s=[];return e.forEach(o=>{o.type==="child_changed"&&t.index_.indexedValueChanged(o.oldSnap,o.snapshotNode)&&s.push(kY(o.childName,o.snapshotNode))}),Lc(t,i,"child_removed",e,r,n),Lc(t,i,"child_added",e,r,n),Lc(t,i,"child_moved",s,r,n),Lc(t,i,"child_changed",e,r,n),Lc(t,i,"value",e,r,n),i}function Lc(t,e,n,r,i,s){const o=r.filter(a=>a.type===n);o.sort((a,l)=>FY(t,a,l)),o.forEach(a=>{const l=$Y(t,a,s);i.forEach(u=>{u.respondsTo(a.type)&&e.push(u.createEvent(l,t.query_))})})}function $Y(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function FY(t,e,n){if(e.childName==null||n.childName==null)throw hc("Should only compare child_ events.");const r=new Rt(e.childName,e.snapshotNode),i=new Rt(n.childName,n.snapshotNode);return t.index_.compare(r,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kM(t,e){return{eventCache:t,serverCache:e}}function Cd(t,e,n,r){return kM(new Z_(e,n,r),t.serverCache)}function PM(t,e,n,r){return kM(t.eventCache,new Z_(e,n,r))}function Qb(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function vl(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let My;const UY=()=>(My||(My=new di(EG)),My);class pn{constructor(e,n=UY()){this.value=e,this.children=n}static fromObject(e){let n=new pn(null);return Vi(e,(r,i)=>{n=n.set(new _n(r),i)}),n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:rn(),value:this.value};if(Ot(e))return null;{const r=Dt(e),i=this.children.get(r);if(i!==null){const s=i.findRootMostMatchingPathAndValue(mn(e),n);return s!=null?{path:fr(new _n(r),s.path),value:s.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(Ot(e))return this;{const n=Dt(e),r=this.children.get(n);return r!==null?r.subtree(mn(e)):new pn(null)}}set(e,n){if(Ot(e))return new pn(n,this.children);{const r=Dt(e),s=(this.children.get(r)||new pn(null)).set(mn(e),n),o=this.children.insert(r,s);return new pn(this.value,o)}}remove(e){if(Ot(e))return this.children.isEmpty()?new pn(null):new pn(null,this.children);{const n=Dt(e),r=this.children.get(n);if(r){const i=r.remove(mn(e));let s;return i.isEmpty()?s=this.children.remove(n):s=this.children.insert(n,i),this.value===null&&s.isEmpty()?new pn(null):new pn(this.value,s)}else return this}}get(e){if(Ot(e))return this.value;{const n=Dt(e),r=this.children.get(n);return r?r.get(mn(e)):null}}setTree(e,n){if(Ot(e))return n;{const r=Dt(e),s=(this.children.get(r)||new pn(null)).setTree(mn(e),n);let o;return s.isEmpty()?o=this.children.remove(r):o=this.children.insert(r,s),new pn(this.value,o)}}fold(e){return this.fold_(rn(),e)}fold_(e,n){const r={};return this.children.inorderTraversal((i,s)=>{r[i]=s.fold_(fr(e,i),n)}),n(e,this.value,r)}findOnPath(e,n){return this.findOnPath_(e,rn(),n)}findOnPath_(e,n,r){const i=this.value?r(n,this.value):!1;if(i)return i;if(Ot(e))return null;{const s=Dt(e),o=this.children.get(s);return o?o.findOnPath_(mn(e),fr(n,s),r):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,rn(),n)}foreachOnPath_(e,n,r){if(Ot(e))return this;{this.value&&r(n,this.value);const i=Dt(e),s=this.children.get(i);return s?s.foreachOnPath_(mn(e),fr(n,i),r):new pn(null)}}foreach(e){this.foreach_(rn(),e)}foreach_(e,n){this.children.inorderTraversal((r,i)=>{i.foreach_(fr(e,r),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,r)=>{r.value&&e(n,r.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class is{constructor(e){this.writeTree_=e}static empty(){return new is(new pn(null))}}function Od(t,e,n){if(Ot(e))return new is(new pn(n));{const r=t.writeTree_.findRootMostValueAndPath(e);if(r!=null){const i=r.path;let s=r.value;const o=$i(i,e);return s=s.updateChild(o,n),new is(t.writeTree_.set(i,s))}else{const i=new pn(n),s=t.writeTree_.setTree(e,i);return new is(s)}}}function AC(t,e,n){let r=t;return Vi(n,(i,s)=>{r=Od(r,fr(e,i),s)}),r}function kC(t,e){if(Ot(e))return is.empty();{const n=t.writeTree_.setTree(e,new pn(null));return new is(n)}}function Jb(t,e){return Nl(t,e)!=null}function Nl(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild($i(n.path,e)):null}function PC(t){const e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(Lr,(r,i)=>{e.push(new Rt(r,i))}):t.writeTree_.children.inorderTraversal((r,i)=>{i.value!=null&&e.push(new Rt(r,i.value))}),e}function Go(t,e){if(Ot(e))return t;{const n=Nl(t,e);return n!=null?new is(new pn(n)):new is(t.writeTree_.subtree(e))}}function Zb(t){return t.writeTree_.isEmpty()}function tc(t,e){return xM(rn(),t.writeTree_,e)}function xM(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let r=null;return e.children.inorderTraversal((i,s)=>{i===".priority"?(Fe(s.value!==null,"Priority writes must always be leaf nodes"),r=s.value):n=xM(fr(t,i),s,n)}),!n.getChild(t).isEmpty()&&r!==null&&(n=n.updateChild(fr(t,".priority"),r)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DM(t,e){return $M(e,t)}function VY(t,e,n,r,i){Fe(r>t.lastWriteId,"Stacking an older write on top of newer ones"),i===void 0&&(i=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:i}),i&&(t.visibleWrites=Od(t.visibleWrites,e,n)),t.lastWriteId=r}function BY(t,e){for(let n=0;n<t.allWrites.length;n++){const r=t.allWrites[n];if(r.writeId===e)return r}return null}function jY(t,e){const n=t.allWrites.findIndex(a=>a.writeId===e);Fe(n>=0,"removeWrite called with nonexistent writeId.");const r=t.allWrites[n];t.allWrites.splice(n,1);let i=r.visible,s=!1,o=t.allWrites.length-1;for(;i&&o>=0;){const a=t.allWrites[o];a.visible&&(o>=n&&HY(a,r.path)?i=!1:es(r.path,a.path)&&(s=!0)),o--}if(i){if(s)return WY(t),!0;if(r.snap)t.visibleWrites=kC(t.visibleWrites,r.path);else{const a=r.children;Vi(a,l=>{t.visibleWrites=kC(t.visibleWrites,fr(r.path,l))})}return!0}else return!1}function HY(t,e){if(t.snap)return es(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&es(fr(t.path,n),e))return!0;return!1}function WY(t){t.visibleWrites=RM(t.allWrites,KY,rn()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function KY(t){return t.visible}function RM(t,e,n){let r=is.empty();for(let i=0;i<t.length;++i){const s=t[i];if(e(s)){const o=s.path;let a;if(s.snap)es(n,o)?(a=$i(n,o),r=Od(r,a,s.snap)):es(o,n)&&(a=$i(o,n),r=Od(r,rn(),s.snap.getChild(a)));else if(s.children){if(es(n,o))a=$i(n,o),r=AC(r,a,s.children);else if(es(o,n))if(a=$i(o,n),Ot(a))r=AC(r,rn(),s.children);else{const l=Hu(s.children,Dt(a));if(l){const u=l.getChild(mn(a));r=Od(r,rn(),u)}}}else throw hc("WriteRecord should have .snap or .children")}}return r}function NM(t,e,n,r,i){if(!r&&!i){const s=Nl(t.visibleWrites,e);if(s!=null)return s;{const o=Go(t.visibleWrites,e);if(Zb(o))return n;if(n==null&&!Jb(o,rn()))return null;{const a=n||Xt.EMPTY_NODE;return tc(o,a)}}}else{const s=Go(t.visibleWrites,e);if(!i&&Zb(s))return n;if(!i&&n==null&&!Jb(s,rn()))return null;{const o=function(u){return(u.visible||i)&&(!r||!~r.indexOf(u.writeId))&&(es(u.path,e)||es(e,u.path))},a=RM(t.allWrites,o,e),l=n||Xt.EMPTY_NODE;return tc(a,l)}}}function zY(t,e,n){let r=Xt.EMPTY_NODE;const i=Nl(t.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(Lr,(s,o)=>{r=r.updateImmediateChild(s,o)}),r;if(n){const s=Go(t.visibleWrites,e);return n.forEachChild(Lr,(o,a)=>{const l=tc(Go(s,new _n(o)),a);r=r.updateImmediateChild(o,l)}),PC(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}else{const s=Go(t.visibleWrites,e);return PC(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}}function GY(t,e,n,r,i){Fe(r||i,"Either existingEventSnap or existingServerSnap must exist");const s=fr(e,n);if(Jb(t.visibleWrites,s))return null;{const o=Go(t.visibleWrites,s);return Zb(o)?i.getChild(n):tc(o,i.getChild(n))}}function YY(t,e,n,r){const i=fr(e,n),s=Nl(t.visibleWrites,i);if(s!=null)return s;if(r.isCompleteForChild(n)){const o=Go(t.visibleWrites,i);return tc(o,r.getNode().getImmediateChild(n))}else return null}function qY(t,e){return Nl(t.visibleWrites,e)}function XY(t,e,n,r,i,s,o){let a;const l=Go(t.visibleWrites,e),u=Nl(l,rn());if(u!=null)a=u;else if(n!=null)a=tc(l,n);else return[];if(a=a.withIndex(o),!a.isEmpty()&&!a.isLeafNode()){const c=[],d=o.getCompare(),f=s?a.getReverseIteratorFrom(r,o):a.getIteratorFrom(r,o);let h=f.getNext();for(;h&&c.length<i;)d(h,r)!==0&&c.push(h),h=f.getNext();return c}else return[]}function QY(){return{visibleWrites:is.empty(),allWrites:[],lastWriteId:-1}}function ew(t,e,n,r){return NM(t.writeTree,t.treePath,e,n,r)}function MM(t,e){return zY(t.writeTree,t.treePath,e)}function xC(t,e,n,r){return GY(t.writeTree,t.treePath,e,n,r)}function Vm(t,e){return qY(t.writeTree,fr(t.treePath,e))}function JY(t,e,n,r,i,s){return XY(t.writeTree,t.treePath,e,n,r,i,s)}function eT(t,e,n){return YY(t.writeTree,t.treePath,e,n)}function LM(t,e){return $M(fr(t.treePath,e),t.writeTree)}function $M(t,e){return{treePath:t,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZY{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,r=e.childName;Fe(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),Fe(r!==".priority","Only non-priority child changes can be tracked.");const i=this.changeMap.get(r);if(i){const s=i.type;if(n==="child_added"&&s==="child_removed")this.changeMap.set(r,EC(r,e.snapshotNode,i.snapshotNode));else if(n==="child_removed"&&s==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&s==="child_changed")this.changeMap.set(r,AY(r,i.oldSnap));else if(n==="child_changed"&&s==="child_added")this.changeMap.set(r,OY(r,e.snapshotNode));else if(n==="child_changed"&&s==="child_changed")this.changeMap.set(r,EC(r,e.snapshotNode,i.oldSnap));else throw hc("Illegal combination of changes: "+e+" occurred after "+i)}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eq{getCompleteChild(e){return null}getChildAfterChild(e,n,r){return null}}const FM=new eq;class tT{constructor(e,n,r=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const r=this.optCompleteServerCache_!=null?new Z_(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return eT(this.writes_,e,r)}}getChildAfterChild(e,n,r){const i=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:vl(this.viewCache_),s=JY(this.writes_,i,n,1,r,e);return s.length===0?null:s[0]}}function tq(t,e){Fe(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),Fe(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function nq(t,e,n,r,i){const s=new ZY;let o,a;if(n.type===Cs.OVERWRITE){const u=n;u.source.fromUser?o=tw(t,e,u.path,u.snap,r,i,s):(Fe(u.source.fromServer,"Unknown source."),a=u.source.tagged||e.serverCache.isFiltered()&&!Ot(u.path),o=Bm(t,e,u.path,u.snap,r,i,a,s))}else if(n.type===Cs.MERGE){const u=n;u.source.fromUser?o=iq(t,e,u.path,u.children,r,i,s):(Fe(u.source.fromServer,"Unknown source."),a=u.source.tagged||e.serverCache.isFiltered(),o=nw(t,e,u.path,u.children,r,i,a,s))}else if(n.type===Cs.ACK_USER_WRITE){const u=n;u.revert?o=aq(t,e,u.path,r,i,s):o=sq(t,e,u.path,u.affectedTree,r,i,s)}else if(n.type===Cs.LISTEN_COMPLETE)o=oq(t,e,n.path,r,s);else throw hc("Unknown operation type: "+n.type);const l=s.getChanges();return rq(e,o,l),{viewCache:o,changes:l}}function rq(t,e,n){const r=e.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),s=Qb(t);(n.length>0||!t.eventCache.isFullyInitialized()||i&&!r.getNode().equals(s)||!r.getNode().getPriority().equals(s.getPriority()))&&n.push(CY(Qb(e)))}}function UM(t,e,n,r,i,s){const o=e.eventCache;if(Vm(r,n)!=null)return e;{let a,l;if(Ot(n))if(Fe(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const u=vl(e),c=u instanceof Xt?u:Xt.EMPTY_NODE,d=MM(r,c);a=t.filter.updateFullNode(e.eventCache.getNode(),d,s)}else{const u=ew(r,vl(e));a=t.filter.updateFullNode(e.eventCache.getNode(),u,s)}else{const u=Dt(n);if(u===".priority"){Fe(sa(n)===1,"Can't have a priority with additional path components");const c=o.getNode();l=e.serverCache.getNode();const d=xC(r,n,c,l);d!=null?a=t.filter.updatePriority(c,d):a=o.getNode()}else{const c=mn(n);let d;if(o.isCompleteForChild(u)){l=e.serverCache.getNode();const f=xC(r,n,o.getNode(),l);f!=null?d=o.getNode().getImmediateChild(u).updateChild(c,f):d=o.getNode().getImmediateChild(u)}else d=eT(r,u,e.serverCache);d!=null?a=t.filter.updateChild(o.getNode(),u,d,c,i,s):a=o.getNode()}}return Cd(e,a,o.isFullyInitialized()||Ot(n),t.filter.filtersNodes())}}function Bm(t,e,n,r,i,s,o,a){const l=e.serverCache;let u;const c=o?t.filter:t.filter.getIndexedFilter();if(Ot(n))u=c.updateFullNode(l.getNode(),r,null);else if(c.filtersNodes()&&!l.isFiltered()){const h=l.getNode().updateChild(n,r);u=c.updateFullNode(l.getNode(),h,null)}else{const h=Dt(n);if(!l.isCompleteForPath(n)&&sa(n)>1)return e;const p=mn(n),g=l.getNode().getImmediateChild(h).updateChild(p,r);h===".priority"?u=c.updatePriority(l.getNode(),g):u=c.updateChild(l.getNode(),h,g,p,FM,null)}const d=PM(e,u,l.isFullyInitialized()||Ot(n),c.filtersNodes()),f=new tT(i,d,s);return UM(t,d,n,i,f,a)}function tw(t,e,n,r,i,s,o){const a=e.eventCache;let l,u;const c=new tT(i,e,s);if(Ot(n))u=t.filter.updateFullNode(e.eventCache.getNode(),r,o),l=Cd(e,u,!0,t.filter.filtersNodes());else{const d=Dt(n);if(d===".priority")u=t.filter.updatePriority(e.eventCache.getNode(),r),l=Cd(e,u,a.isFullyInitialized(),a.isFiltered());else{const f=mn(n),h=a.getNode().getImmediateChild(d);let p;if(Ot(f))p=r;else{const m=c.getCompleteChild(d);m!=null?mM(f)===".priority"&&m.getChild(vM(f)).isEmpty()?p=m:p=m.updateChild(f,r):p=Xt.EMPTY_NODE}if(h.equals(p))l=e;else{const m=t.filter.updateChild(a.getNode(),d,p,f,c,o);l=Cd(e,m,a.isFullyInitialized(),t.filter.filtersNodes())}}}return l}function DC(t,e){return t.eventCache.isCompleteForChild(e)}function iq(t,e,n,r,i,s,o){let a=e;return r.foreach((l,u)=>{const c=fr(n,l);DC(e,Dt(c))&&(a=tw(t,a,c,u,i,s,o))}),r.foreach((l,u)=>{const c=fr(n,l);DC(e,Dt(c))||(a=tw(t,a,c,u,i,s,o))}),a}function RC(t,e,n){return n.foreach((r,i)=>{e=e.updateChild(r,i)}),e}function nw(t,e,n,r,i,s,o,a){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let l=e,u;Ot(n)?u=r:u=new pn(null).setTree(n,r);const c=e.serverCache.getNode();return u.children.inorderTraversal((d,f)=>{if(c.hasChild(d)){const h=e.serverCache.getNode().getImmediateChild(d),p=RC(t,h,f);l=Bm(t,l,new _n(d),p,i,s,o,a)}}),u.children.inorderTraversal((d,f)=>{const h=!e.serverCache.isCompleteForChild(d)&&f.value===null;if(!c.hasChild(d)&&!h){const p=e.serverCache.getNode().getImmediateChild(d),m=RC(t,p,f);l=Bm(t,l,new _n(d),m,i,s,o,a)}}),l}function sq(t,e,n,r,i,s,o){if(Vm(i,n)!=null)return e;const a=e.serverCache.isFiltered(),l=e.serverCache;if(r.value!=null){if(Ot(n)&&l.isFullyInitialized()||l.isCompleteForPath(n))return Bm(t,e,n,l.getNode().getChild(n),i,s,a,o);if(Ot(n)){let u=new pn(null);return l.getNode().forEachChild(Du,(c,d)=>{u=u.set(new _n(c),d)}),nw(t,e,n,u,i,s,a,o)}else return e}else{let u=new pn(null);return r.foreach((c,d)=>{const f=fr(n,c);l.isCompleteForPath(f)&&(u=u.set(c,l.getNode().getChild(f)))}),nw(t,e,n,u,i,s,a,o)}}function oq(t,e,n,r,i){const s=e.serverCache,o=PM(e,s.getNode(),s.isFullyInitialized()||Ot(n),s.isFiltered());return UM(t,o,n,r,FM,i)}function aq(t,e,n,r,i,s){let o;if(Vm(r,n)!=null)return e;{const a=new tT(r,e,i),l=e.eventCache.getNode();let u;if(Ot(n)||Dt(n)===".priority"){let c;if(e.serverCache.isFullyInitialized())c=ew(r,vl(e));else{const d=e.serverCache.getNode();Fe(d instanceof Xt,"serverChildren would be complete if leaf node"),c=MM(r,d)}c=c,u=t.filter.updateFullNode(l,c,s)}else{const c=Dt(n);let d=eT(r,c,e.serverCache);d==null&&e.serverCache.isCompleteForChild(c)&&(d=l.getImmediateChild(c)),d!=null?u=t.filter.updateChild(l,c,d,mn(n),a,s):e.eventCache.getNode().hasChild(c)?u=t.filter.updateChild(l,c,Xt.EMPTY_NODE,mn(n),a,s):u=l,u.isEmpty()&&e.serverCache.isFullyInitialized()&&(o=ew(r,vl(e)),o.isLeafNode()&&(u=t.filter.updateFullNode(u,o,s)))}return o=e.serverCache.isFullyInitialized()||Vm(r,rn())!=null,Cd(e,u,o,t.filter.filtersNodes())}}function lq(t,e){const n=vl(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!Ot(e)&&!n.getImmediateChild(Dt(e)).isEmpty())?n.getChild(e):null}function NC(t,e,n,r){e.type===Cs.MERGE&&e.source.queryId!==null&&(Fe(vl(t.viewCache_),"We should always have a full cache before handling merges"),Fe(Qb(t.viewCache_),"Missing event cache, even though we have a server cache"));const i=t.viewCache_,s=nq(t.processor_,i,e,n,r);return tq(t.processor_,s.viewCache),Fe(s.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=s.viewCache,uq(t,s.changes,s.viewCache.eventCache.getNode(),null)}function uq(t,e,n,r){const i=r?[r]:t.eventRegistrations_;return LY(t.eventGenerator_,e,n,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let MC;function cq(t){Fe(!MC,"__referenceConstructor has already been defined"),MC=t}function nT(t,e,n,r){const i=e.source.queryId;if(i!==null){const s=t.views.get(i);return Fe(s!=null,"SyncTree gave us an op for an invalid query."),NC(s,e,n,r)}else{let s=[];for(const o of t.views.values())s=s.concat(NC(o,e,n,r));return s}}function rT(t,e){let n=null;for(const r of t.views.values())n=n||lq(r,e);return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let LC;function dq(t){Fe(!LC,"__referenceConstructor has already been defined"),LC=t}class $C{constructor(e){this.listenProvider_=e,this.syncPointTree_=new pn(null),this.pendingWriteTree_=QY(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function fq(t,e,n,r,i){return VY(t.pendingWriteTree_,e,n,r,i),i?yv(t,new gl(CM(),e,n)):[]}function uu(t,e,n=!1){const r=BY(t.pendingWriteTree_,e);if(jY(t.pendingWriteTree_,e)){let s=new pn(null);return r.snap!=null?s=s.set(rn(),!0):Vi(r.children,o=>{s=s.set(new _n(o),!0)}),yv(t,new Um(r.path,s,n))}else return[]}function vv(t,e,n){return yv(t,new gl(OM(),e,n))}function hq(t,e,n){const r=pn.fromObject(n);return yv(t,new yf(OM(),e,r))}function pq(t,e,n,r){const i=HM(t,r);if(i!=null){const s=WM(i),o=s.path,a=s.queryId,l=$i(o,e),u=new gl(AM(a),l,n);return KM(t,o,u)}else return[]}function mq(t,e,n,r){const i=HM(t,r);if(i){const s=WM(i),o=s.path,a=s.queryId,l=$i(o,e),u=pn.fromObject(n),c=new yf(AM(a),l,u);return KM(t,o,c)}else return[]}function VM(t,e,n){const i=t.pendingWriteTree_,s=t.syncPointTree_.findOnPath(e,(o,a)=>{const l=$i(o,e),u=rT(a,l);if(u)return u});return NM(i,e,s,n,!0)}function yv(t,e){return BM(e,t.syncPointTree_,null,DM(t.pendingWriteTree_,rn()))}function BM(t,e,n,r){if(Ot(t.path))return jM(t,e,n,r);{const i=e.get(rn());n==null&&i!=null&&(n=rT(i,rn()));let s=[];const o=Dt(t.path),a=t.operationForChild(o),l=e.children.get(o);if(l&&a){const u=n?n.getImmediateChild(o):null,c=LM(r,o);s=s.concat(BM(a,l,u,c))}return i&&(s=s.concat(nT(i,t,r,n))),s}}function jM(t,e,n,r){const i=e.get(rn());n==null&&i!=null&&(n=rT(i,rn()));let s=[];return e.children.inorderTraversal((o,a)=>{const l=n?n.getImmediateChild(o):null,u=LM(r,o),c=t.operationForChild(o);c&&(s=s.concat(jM(c,a,l,u)))}),i&&(s=s.concat(nT(i,t,r,n))),s}function HM(t,e){return t.tagToQueryMap.get(e)}function WM(t){const e=t.indexOf("$");return Fe(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new _n(t.substr(0,e))}}function KM(t,e,n){const r=t.syncPointTree_.get(e);Fe(r,"Missing sync point for query tag that we're tracking");const i=DM(t.pendingWriteTree_,e);return nT(r,n,i,null)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iT{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new iT(n)}node(){return this.node_}}class sT{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=fr(this.path_,e);return new sT(this.syncTree_,n)}node(){return VM(this.syncTree_,this.path_)}}const gq=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},FC=function(t,e,n){if(!t||typeof t!="object")return t;if(Fe(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return vq(t[".sv"],e,n);if(typeof t[".sv"]=="object")return yq(t[".sv"],e);Fe(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},vq=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:Fe(!1,"Unexpected server value: "+t)}},yq=function(t,e,n){t.hasOwnProperty("increment")||Fe(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const r=t.increment;typeof r!="number"&&Fe(!1,"Unexpected increment value: "+r);const i=e.node();if(Fe(i!==null&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const o=i.getValue();return typeof o!="number"?r:o+r},bq=function(t,e,n,r){return oT(e,new sT(n,t),r)},wq=function(t,e,n){return oT(t,new iT(e),n)};function oT(t,e,n){const r=t.getPriority().val(),i=FC(r,e.getImmediateChild(".priority"),n);let s;if(t.isLeafNode()){const o=t,a=FC(o.getValue(),e,n);return a!==o.getValue()||i!==o.getPriority().val()?new lr(a,Rr(i)):t}else{const o=t;return s=o,i!==o.getPriority().val()&&(s=s.updatePriority(new lr(i))),o.forEachChild(Lr,(a,l)=>{const u=oT(l,e.getImmediateChild(a),n);u!==l&&(s=s.updateImmediateChild(a,u))}),s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aT{constructor(e="",n=null,r={children:{},childCount:0}){this.name=e,this.parent=n,this.node=r}}function lT(t,e){let n=e instanceof _n?e:new _n(e),r=t,i=Dt(n);for(;i!==null;){const s=Hu(r.node.children,i)||{children:{},childCount:0};r=new aT(i,r,s),n=mn(n),i=Dt(n)}return r}function Ec(t){return t.node.value}function zM(t,e){t.node.value=e,rw(t)}function GM(t){return t.node.childCount>0}function _q(t){return Ec(t)===void 0&&!GM(t)}function bv(t,e){Vi(t.node.children,(n,r)=>{e(new aT(n,t,r))})}function YM(t,e,n,r){n&&!r&&e(t),bv(t,i=>{YM(i,e,!0,r)}),n&&r&&e(t)}function Tq(t,e,n){let r=n?t:t.parent;for(;r!==null;){if(e(r))return!0;r=r.parent}return!1}function wh(t){return new _n(t.parent===null?t.name:wh(t.parent)+"/"+t.name)}function rw(t){t.parent!==null&&Sq(t.parent,t.name,t)}function Sq(t,e,n){const r=_q(n),i=ho(t.node.children,e);r&&i?(delete t.node.children[e],t.node.childCount--,rw(t)):!r&&!i&&(t.node.children[e]=n.node,t.node.childCount++,rw(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eq=/[\[\].#$\/\u0000-\u001F\u007F]/,Iq=/[\[\].#$\u0000-\u001F\u007F]/,Ly=10*1024*1024,qM=function(t){return typeof t=="string"&&t.length!==0&&!Eq.test(t)},Cq=function(t){return typeof t=="string"&&t.length!==0&&!Iq.test(t)},Oq=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),Cq(t)},XM=function(t,e,n){const r=n instanceof _n?new oY(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+Ia(r));if(typeof e=="function")throw new Error(t+"contains a function "+Ia(r)+" with contents = "+e.toString());if(qN(e))throw new Error(t+"contains "+e.toString()+" "+Ia(r));if(typeof e=="string"&&e.length>Ly/3&&kg(e)>Ly)throw new Error(t+"contains a string greater than "+Ly+" utf8 bytes "+Ia(r)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let i=!1,s=!1;if(Vi(e,(o,a)=>{if(o===".value")i=!0;else if(o!==".priority"&&o!==".sv"&&(s=!0,!qM(o)))throw new Error(t+" contains an invalid key ("+o+") "+Ia(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);aY(r,o),XM(t,a,r),lY(r)}),i&&s)throw new Error(t+' contains ".value" child '+Ia(r)+" in addition to actual children.")}},Aq=function(t,e){const n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!qM(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!Oq(n))throw new Error(VU(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kq{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Pq(t,e){let n=null;for(let r=0;r<e.length;r++){const i=e[r],s=i.getPath();n!==null&&!yM(s,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:s}),n.events.push(i)}n&&t.eventLists_.push(n)}function Ml(t,e,n){Pq(t,n),xq(t,r=>es(r,e)||es(e,r))}function xq(t,e){t.recursionDepth_++;let n=!0;for(let r=0;r<t.eventLists_.length;r++){const i=t.eventLists_[r];if(i){const s=i.path;e(s)?(Dq(t.eventLists_[r]),t.eventLists_[r]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function Dq(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(n!==null){t.events[e]=null;const r=n.getEventRunner();za&&Dr("event: "+n.toString()),yh(r)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rq="repo_interrupt",Nq=25;class Mq{constructor(e,n,r,i){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new kq,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Fm(),this.transactionQueueTree_=new aT,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function Lq(t,e,n){if(t.stats_=Y_(t.repoInfo_),t.forceRestClient_||PG())t.server_=new $m(t.repoInfo_,(r,i,s,o)=>{UC(t,r,i,s,o)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>VC(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Tr(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}t.persistentConnection_=new to(t.repoInfo_,e,(r,i,s,o)=>{UC(t,r,i,s,o)},r=>{VC(t,r)},r=>{Fq(t,r)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(r=>{t.server_.refreshAuthToken(r)}),t.appCheckProvider_.addTokenChangeListener(r=>{t.server_.refreshAppCheckToken(r.token)}),t.statsReporter_=LG(t.repoInfo_,()=>new MY(t.stats_,t.server_)),t.infoData_=new PY,t.infoSyncTree_=new $C({startListening:(r,i,s,o)=>{let a=[];const l=t.infoData_.getNode(r._path);return l.isEmpty()||(a=vv(t.infoSyncTree_,r._path,l),setTimeout(()=>{o("ok")},0)),a},stopListening:()=>{}}),uT(t,"connected",!1),t.serverSyncTree_=new $C({startListening:(r,i,s,o)=>(t.server_.listen(r,s,i,(a,l)=>{const u=o(a,l);Ml(t.eventQueue_,r._path,u)}),[]),stopListening:(r,i)=>{t.server_.unlisten(r,i)}})}function $q(t){const n=t.infoData_.getNode(new _n(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function QM(t){return gq({timestamp:$q(t)})}function UC(t,e,n,r,i){t.dataUpdateCount++;const s=new _n(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let o=[];if(i)if(r){const l=om(n,u=>Rr(u));o=mq(t.serverSyncTree_,s,l,i)}else{const l=Rr(n);o=pq(t.serverSyncTree_,s,l,i)}else if(r){const l=om(n,u=>Rr(u));o=hq(t.serverSyncTree_,s,l)}else{const l=Rr(n);o=vv(t.serverSyncTree_,s,l)}let a=s;o.length>0&&(a=dT(t,s)),Ml(t.eventQueue_,a,o)}function VC(t,e){uT(t,"connected",e),e===!1&&Vq(t)}function Fq(t,e){Vi(e,(n,r)=>{uT(t,n,r)})}function uT(t,e,n){const r=new _n("/.info/"+e),i=Rr(n);t.infoData_.updateSnapshot(r,i);const s=vv(t.infoSyncTree_,r,i);Ml(t.eventQueue_,r,s)}function Uq(t){return t.nextWriteId_++}function Vq(t){JM(t,"onDisconnectEvents");const e=QM(t),n=Fm();Xb(t.onDisconnect_,rn(),(i,s)=>{const o=bq(i,s,t.serverSyncTree_,e);IM(n,i,o)});let r=[];Xb(n,rn(),(i,s)=>{r=r.concat(vv(t.serverSyncTree_,i,s));const o=Wq(t,i);dT(t,o)}),t.onDisconnect_=Fm(),Ml(t.eventQueue_,rn(),r)}function Bq(t){t.persistentConnection_&&t.persistentConnection_.interrupt(Rq)}function JM(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),Dr(n,...e)}function ZM(t,e,n){return VM(t.serverSyncTree_,e,n)||Xt.EMPTY_NODE}function cT(t,e=t.transactionQueueTree_){if(e||wv(t,e),Ec(e)){const n=tL(t,e);Fe(n.length>0,"Sending zero length transaction queue"),n.every(i=>i.status===0)&&jq(t,wh(e),n)}else GM(e)&&bv(e,n=>{cT(t,n)})}function jq(t,e,n){const r=n.map(u=>u.currentWriteId),i=ZM(t,e,r);let s=i;const o=i.hash();for(let u=0;u<n.length;u++){const c=n[u];Fe(c.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),c.status=1,c.retryCount++;const d=$i(e,c.path);s=s.updateChild(d,c.currentOutputSnapshotRaw)}const a=s.val(!0),l=e;t.server_.put(l.toString(),a,u=>{JM(t,"transaction put response",{path:l.toString(),status:u});let c=[];if(u==="ok"){const d=[];for(let f=0;f<n.length;f++)n[f].status=2,c=c.concat(uu(t.serverSyncTree_,n[f].currentWriteId)),n[f].onComplete&&d.push(()=>n[f].onComplete(null,!0,n[f].currentOutputSnapshotResolved)),n[f].unwatcher();wv(t,lT(t.transactionQueueTree_,e)),cT(t,t.transactionQueueTree_),Ml(t.eventQueue_,e,c);for(let f=0;f<d.length;f++)yh(d[f])}else{if(u==="datastale")for(let d=0;d<n.length;d++)n[d].status===3?n[d].status=4:n[d].status=0;else{Ci("transaction at "+l.toString()+" failed: "+u);for(let d=0;d<n.length;d++)n[d].status=4,n[d].abortReason=u}dT(t,e)}},o)}function dT(t,e){const n=eL(t,e),r=wh(n),i=tL(t,n);return Hq(t,i,r),r}function Hq(t,e,n){if(e.length===0)return;const r=[];let i=[];const o=e.filter(a=>a.status===0).map(a=>a.currentWriteId);for(let a=0;a<e.length;a++){const l=e[a],u=$i(n,l.path);let c=!1,d;if(Fe(u!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),l.status===4)c=!0,d=l.abortReason,i=i.concat(uu(t.serverSyncTree_,l.currentWriteId,!0));else if(l.status===0)if(l.retryCount>=Nq)c=!0,d="maxretry",i=i.concat(uu(t.serverSyncTree_,l.currentWriteId,!0));else{const f=ZM(t,l.path,o);l.currentInputSnapshot=f;const h=e[a].update(f.val());if(h!==void 0){XM("transaction failed: Data returned ",h,l.path);let p=Rr(h);typeof h=="object"&&h!=null&&ho(h,".priority")||(p=p.updatePriority(f.getPriority()));const g=l.currentWriteId,y=QM(t),v=wq(p,f,y);l.currentOutputSnapshotRaw=p,l.currentOutputSnapshotResolved=v,l.currentWriteId=Uq(t),o.splice(o.indexOf(g),1),i=i.concat(fq(t.serverSyncTree_,l.path,v,l.currentWriteId,l.applyLocally)),i=i.concat(uu(t.serverSyncTree_,g,!0))}else c=!0,d="nodata",i=i.concat(uu(t.serverSyncTree_,l.currentWriteId,!0))}Ml(t.eventQueue_,n,i),i=[],c&&(e[a].status=2,function(f){setTimeout(f,Math.floor(0))}(e[a].unwatcher),e[a].onComplete&&(d==="nodata"?r.push(()=>e[a].onComplete(null,!1,e[a].currentInputSnapshot)):r.push(()=>e[a].onComplete(new Error(d),!1,null))))}wv(t,t.transactionQueueTree_);for(let a=0;a<r.length;a++)yh(r[a]);cT(t,t.transactionQueueTree_)}function eL(t,e){let n,r=t.transactionQueueTree_;for(n=Dt(e);n!==null&&Ec(r)===void 0;)r=lT(r,n),e=mn(e),n=Dt(e);return r}function tL(t,e){const n=[];return nL(t,e,n),n.sort((r,i)=>r.order-i.order),n}function nL(t,e,n){const r=Ec(e);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);bv(e,i=>{nL(t,i,n)})}function wv(t,e){const n=Ec(e);if(n){let r=0;for(let i=0;i<n.length;i++)n[i].status!==2&&(n[r]=n[i],r++);n.length=r,zM(e,n.length>0?n:void 0)}bv(e,r=>{wv(t,r)})}function Wq(t,e){const n=wh(eL(t,e)),r=lT(t.transactionQueueTree_,e);return Tq(r,i=>{$y(t,i)}),$y(t,r),YM(r,i=>{$y(t,i)}),n}function $y(t,e){const n=Ec(e);if(n){const r=[];let i=[],s=-1;for(let o=0;o<n.length;o++)n[o].status===3||(n[o].status===1?(Fe(s===o-1,"All SENT items should be at beginning of queue."),s=o,n[o].status=3,n[o].abortReason="set"):(Fe(n[o].status===0,"Unexpected transaction status in abort"),n[o].unwatcher(),i=i.concat(uu(t.serverSyncTree_,n[o].currentWriteId,!0)),n[o].onComplete&&r.push(n[o].onComplete.bind(null,new Error("set"),!1,null))));s===-1?zM(e,void 0):n.length=s+1,Ml(t.eventQueue_,wh(e),i);for(let o=0;o<r.length;o++)yh(r[o])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kq(t){let e="";const n=t.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}e+="/"+i}return e}function zq(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const n of t.split("&")){if(n.length===0)continue;const r=n.split("=");r.length===2?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):Ci(`Invalid query segment '${n}' in query '${t}'`)}return e}const BC=function(t,e){const n=Gq(t),r=n.namespace;n.domain==="firebase.com"&&pl(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&pl("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||TG();const i=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new RG(n.host,n.secure,r,i,e,"",r!==n.subdomain),path:new _n(n.pathString)}},Gq=function(t){let e="",n="",r="",i="",s="",o=!0,a="https",l=443;if(typeof t=="string"){let u=t.indexOf("//");u>=0&&(a=t.substring(0,u-1),t=t.substring(u+2));let c=t.indexOf("/");c===-1&&(c=t.length);let d=t.indexOf("?");d===-1&&(d=t.length),e=t.substring(0,Math.min(c,d)),c<d&&(i=Kq(t.substring(c,d)));const f=zq(t.substring(Math.min(t.length,d)));u=e.indexOf(":"),u>=0?(o=a==="https"||a==="wss",l=parseInt(e.substring(u+1),10)):u=e.length;const h=e.slice(0,u);if(h.toLowerCase()==="localhost")n="localhost";else if(h.split(".").length<=2)n=h;else{const p=e.indexOf(".");r=e.substring(0,p).toLowerCase(),n=e.substring(p+1),s=r}"ns"in f&&(s=f.ns)}return{host:e,port:l,domain:n,subdomain:r,secure:o,scheme:a,pathString:i,namespace:s}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fT{constructor(e,n,r,i){this._repo=e,this._path=n,this._queryParams=r,this._orderByCalled=i}get key(){return Ot(this._path)?null:mM(this._path)}get ref(){return new Ic(this._repo,this._path)}get _queryIdentifier(){const e=CC(this._queryParams),n=z_(e);return n==="{}"?"default":n}get _queryObject(){return CC(this._queryParams)}isEqual(e){if(e=zt(e),!(e instanceof fT))return!1;const n=this._repo===e._repo,r=yM(this._path,e._path),i=this._queryIdentifier===e._queryIdentifier;return n&&r&&i}toJSON(){return this.toString()}toString(){return this._repo.toString()+sY(this._path)}}class Ic extends fT{constructor(e,n){super(e,n,new J_,!1)}get parent(){const e=vM(this._path);return e===null?null:new Ic(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}cq(Ic);dq(Ic);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yq="FIREBASE_DATABASE_EMULATOR_HOST",iw={};let qq=!1;function Xq(t,e,n,r,i){let s=r||t.options.databaseURL;s===void 0&&(t.options.projectId||pl("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Dr("Using default host for project ",t.options.projectId),s=`${t.options.projectId}-default-rtdb.firebaseio.com`);let o=BC(s,i),a=o.repoInfo,l,u;typeof process<"u"&&aC&&(u=aC[Yq]),u?(l=!0,s=`http://${u}?ns=${a.namespace}`,o=BC(s,i),a=o.repoInfo):l=!o.repoInfo.secure;const c=i&&l?new Gb(Gb.OWNER):new DG(t.name,t.options,e);Aq("Invalid Firebase Database URL",o),Ot(o.path)||pl("Database URL must point to the root of a Firebase Database (not including a child path).");const d=Jq(a,t,c,new xG(t.name,n));return new Zq(d,t)}function Qq(t,e){const n=iw[e];(!n||n[t.key]!==t)&&pl(`Database ${e}(${t.repoInfo_}) has already been deleted.`),Bq(t),delete n[t.key]}function Jq(t,e,n,r){let i=iw[e.name];i||(i={},iw[e.name]=i);let s=i[t.toURLString()];return s&&pl("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new Mq(t,qq,n,r),i[t.toURLString()]=s,s}class Zq{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(Lq(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Ic(this._repo,rn())),this._rootInternal}_delete(){return this._rootInternal!==null&&(Qq(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&pl("Cannot call "+e+" on a deleted database.")}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eX(t){vG(ua),pi(new ei("database",(e,{instanceIdentifier:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),s=e.getProvider("app-check-internal");return Xq(r,i,s,n)},"PUBLIC").setMultipleInstances(!0)),Er(lC,uC,t),Er(lC,uC,"esm2017")}to.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};to.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};eX();function rL(t){return pH(KN(t))}function tX(t){return rX({initialUser:t,dependencies:{popupRedirectResolver:HN,persistence:[VN,NN,H_]}})}const nX=Symbol("VueFireAuth");function rX({dependencies:t,initialUser:e}){return(n,r)=>{const[i,s]=iX(n,r,e,t);gG(i,s)}}function iX(t,e,n,r,i=SN(t,r)){const s=hG(t,e).run(()=>re(n));return pG.set(t,s),e.provide(nX,i),[s,i]}function sX(t,{firebaseApp:e,modules:n=[]}){t.provide(WN,e);for(const r of n)r(e,t)}const oX=""+new URL("bundle6.css",import.meta.url).href,iL={name:"Sander Derks",role:"Full-Stack Developer",service:"Software Development",location:{country:"The Netherlands",city:"Nijmegen"}},aX={avatarUrl:oX,headerDescriptionGuest:["Loading"],headerDescriptionUser:["Loading"],blogDescriptionGuest:["Loading"],blogDescriptionUser:["Loading"],blogLoginGuest:"",dashboardDescription:["Loading"],privacyStatement:["Loading"],footerCopyright:"Sander Derks. All rights reserved."},lX=[{name:"",description:"Loading...",technologies:[],loading:!0},{name:"",description:"Loading...",technologies:[],loading:!0},{name:"",description:"Loading...",technologies:[],loading:!0},{name:"",description:"Loading...",technologies:[],loading:!0}],uX=[{id:"1",name:"Loading...",url:"#",loading:!0},{id:"2",name:"Loading...",url:"#",loading:!0},{id:"3",name:"Loading...",url:"#",loading:!0}],sL=[{value:"left",label:"Left"},{value:"center",label:"Center"},{value:"right",label:"Right"}];var Yn;(t=>{t.mapIncoming=async e=>{var n,r,i,s,o,a;return{...e,alignment:e.alignment??"center",date:e.date.toDate(),dateUpdated:((n=e.dateUpdated)==null?void 0:n.toDate())??null,datePinned:((r=e.datePinned)==null?void 0:r.toDate())??null,reactions:await Promise.all((await Promise.all(((i=e.reactions)==null?void 0:i.map(async l=>await Ni(l)))??[])).map(async l=>jm.mapIncoming(l,e.id)).filter(l=>!!l)),sections:((s=e.sections)==null?void 0:s.map(l=>{var u,c;return{...l,subTitle:l.subTitle??"",alignment:l.alignment??"center",countdown:((u=l.countdown)==null?void 0:u.toDate())??null,timer:((c=l.timer)==null?void 0:c.toDate())??null,coverImageUrl:l.coverImageUrl??"",bullets:l.bullets??[]}}))??[],countdown:((o=e.countdown)==null?void 0:o.toDate())??null,timer:((a=e.timer)==null?void 0:a.toDate())??null,archived:e.archived??!1}},t.convert=e=>({title:e.title,description:e.description,descriptionFooter:e.descriptionFooter??"",alignment:e.alignment??"left",sections:e.sections??[],date:e.date,dateUpdated:e.dateUpdated,datePinned:e.datePinned,locked:e.locked??!1,colorPrimary:e.colorPrimary??"",colorSecondary:e.colorSecondary??"",colorTertiary:e.colorTertiary??"",opacityPrimary:e.opacityPrimary??"",opacitySecondary:e.opacitySecondary??"",opacityTertiary:e.opacityTertiary??"",coverImageUrl:e.coverImageUrl??"",allowedUserIds:e.allowedUserIds??[],countdown:e.countdown,timer:e.timer,archived:e.archived}),(e=>{e.convert=n=>({title:n.title,description:n.description,descriptionFooter:n.descriptionFooter,sections:n.sections,coverImageUrl:n.coverImageUrl,countdown:n.countdown,timer:n.timer}),e.instanceOf=n=>["title","description","descriptionFooter","sections","coverImageUrl","countdown","timer"].every(r=>r in n)})(t.Content||(t.Content={})),(e=>{e.convert=n=>({alignment:n.alignment,colorPrimary:n.colorPrimary,colorSecondary:n.colorSecondary,colorTertiary:n.colorTertiary,opacityPrimary:n.opacityPrimary,opacitySecondary:n.opacitySecondary,opacityTertiary:n.opacityTertiary}),e.instanceOf=n=>["alignment","colorPrimary","colorSecondary","colorTertiary","opacityPrimary","opacitySecondary","opacityTertiary"].every(r=>r in n)})(t.Styling||(t.Styling={})),(e=>{e.convert=n=>({locked:n.locked,allowedUserIds:n.allowedUserIds,archived:n.archived,datePinned:n.datePinned}),e.instanceOf=n=>["locked","archived","datePinned"].every(r=>r in n)})(t.Settings||(t.Settings={}))})(Yn||(Yn={}));var jm;(t=>{t.mapIncoming=async(e,n)=>{if(!e)return null;const r=await Ni(e.user);return r?{...e,user:r,postId:n,date:e.date.toDate()}:null},t.convert=e=>({userId:e.user.id,postId:e.postId,message:e.message,date:e.date})})(jm||(jm={}));var sw;(t=>{t.convert=e=>({displayName:e.displayName,avatar:e.avatar??""})})(sw||(sw={}));const Hm=[{value:"bg-gray-900",label:"Default",background:"bg-gray-900",text:"text-white"},{value:"bg-red-700",label:"Important",background:"bg-red-700",text:"text-white"},{value:"bg-orange-500",label:"Orange",background:"bg-orange-500",text:"text-orange-900"},{value:"bg-yellow-900",label:"Amber",background:"bg-yellow-900",text:"text-yellow-500"},{value:"bg-yellow-500",label:"Yellow",background:"bg-yellow-500",text:"text-yellow-900"},{value:"bg-green-500",label:"Green",background:"bg-green-500",text:"text-green-900"},{value:"bg-cyan-500",label:"Aqua",background:"bg-cyan-500",text:"text-cyan-900"},{value:"bg-blue-600",label:"Blue",background:"bg-blue-600",text:"text-blue-900"},{value:"bg-purple-600",label:"Purple",background:"bg-purple-600",text:"text-purple-900"},{value:"bg-pink-600",label:"Pink",background:"bg-pink-600",text:"text-pink-900"}],cX=t=>Hm.map((e,n)=>n===0?{value:"",label:"Match Primary",background:(t==null?void 0:t.background)||"bg-gray-900",text:(t==null?void 0:t.text)||"text-white"}:e),dX=Hm.map((t,e)=>e===0?{value:"",label:"Default",background:"bg-gray-700",text:"text-white"}:t),Fy=[{value:"",label:"Default"},{value:"bg-opacity-10",label:"10"},{value:"bg-opacity-20",label:"20"},{value:"bg-opacity-30",label:"30"},{value:"bg-opacity-40",label:"40"},{value:"bg-opacity-50",label:"50"},{value:"bg-opacity-60",label:"60"},{value:"bg-opacity-70",label:"70"},{value:"bg-opacity-80",label:"80"},{value:"bg-opacity-90",label:"90"},{value:"bg-opacity-100",label:"100"}],qt=rL(),nn={content:Yi(qt,"content"),projects:Yi(qt,"projects"),menuItems:t=>Yi(qt,t?"menuItemsPrivate":"menuItems"),menuItemsPrivate:Yi(qt,"menuItemsPrivate"),blogPosts:t=>Yi(qt,t?"blogPostsPrivate":"blogPosts"),blogPostsPrivate:Yi(qt,"blogPostsPrivate"),blogReactions:t=>Yi(qt,t?"blogReactionsPrivate":"blogReactions"),usersPublic:Yi(qt,"usersPublic"),files:Yi(qt,"files")},or=rD("main",{state:()=>({profile:iL,content:aX,menuItems:uX,projects:lX,blogPosts:{data:{public:[],private:[],single:null},isLastPage:!1,visibility:"public",fetchLoading:!1,mutationLoading:!1},publicUsers:[],online:!0,debug:!1,fetchAllLoading:!1}),getters:{filteredProjects:t=>t.projects.filter(e=>!e.loading),filteredMenuItems:t=>t.menuItems.filter(e=>!e.loading),visibleMenuItems:t=>t.menuItems.filter(e=>!e.invisible),allBlogPosts:t=>[...t.blogPosts.data.public,...t.blogPosts.data.private],visibleBlogPosts:t=>t.blogPosts.data[t.blogPosts.visibility]},actions:{async fetchAll(t,e){try{this.fetchAllLoading||(this.fetchAllLoading=!0,console.log("attempt to fetch all"),(this.debug||this.online&&(!this.filteredProjects.length||!this.filteredMenuItems.length||e))&&(console.log("fetch all"),this.blogPosts.data={public:[],private:[],single:null},this.blogPosts.visibility="public",await Promise.all([this.fetchProjects(),this.fetchMenuItems(t),this.fetchBlogPosts(t),this.fetchContent(),this.fetchPublicUsers()])))}catch(n){qe.firebaseError(this.debug,n)}finally{this.fetchAllLoading=!1}},async fetchContent(){try{const t=await Ni(jt(qt,nn.content.id,"production"));this.content={...this.content,...t||{}}}catch(t){qe.firebaseError(this.debug,t)}},async fetchProjects(){try{const t=await Promise.all((await Vl(nn.projects)).map(async e=>({...e,technologies:await Promise.all(e.technologies.map(async n=>await Ni(n)))})));this.projects=t.length?jI(t):this.projects}catch(t){qe.firebaseError(this.debug,t)}},moveProject(t,e){const n=this.projects.splice(t,1)[0];this.projects.splice(e,0,n)},async fetchMenuItems(t){try{let e=await Vl(nn.menuItems());if(t)try{e=e.concat(await Vl(nn.menuItemsPrivate,[DI("allowedUserIds","array-contains",jt(qt,nn.usersPublic.id,t).id)]))}catch{}return this.menuItems=e.length?jI(e):this.menuItems,this.menuItems}catch(e){qe.firebaseError(this.debug,e)}},async fetchBlogPosts(t,e={}){try{this.blogPosts.fetchLoading=!0;const r=e.visibility??this.blogPosts.visibility,i=this.blogPosts.data[r][this.blogPosts.data[r].length-1],s=[RI("datePinned","desc"),RI("date","desc"),OH(e.amount||3)];this.visibleBlogPosts.length||(this.blogPosts.isLastPage=!1),e.amount&&(this.blogPosts.data[r]=[]),!e.amount&&i&&s.push(kH(i.datePinned,i.date));var n=[];r==="private"&&t?n=await Vl(nn.blogPostsPrivate,[DI("allowedUserIds","array-contains",jt(qt,nn.usersPublic.id,t).id),...s]):r==="public"&&(n=await Vl(nn.blogPosts(!1),s));const o=await Promise.all(n.map(async a=>await Yn.mapIncoming(a)));if(e.amount)this.blogPosts.data[r]=o;else for(const a of o)this.blogPosts.data[r].push(a);o.length<3&&(this.blogPosts.isLastPage=!0)}catch(r){qe.firebaseError(this.debug,r)}finally{this.blogPosts.fetchLoading=!1}},async fetchBlogPost(t,e){try{console.log("attempt to fetch single"),this.blogPosts.fetchLoading=!0;var n=await Ni(jt(nn.blogPosts(!!(e!=null&&e.isPrivate)),t));return n||(n=await Ni(jt(nn.blogPostsPrivate,t))),n?(this.blogPosts.data.single=await Yn.mapIncoming(n),this.blogPosts.data.single):null}catch(r){return qe.firebaseError(this.debug,r),null}finally{this.blogPosts.fetchLoading=!1}},async fetchPublicUsers(){try{this.publicUsers=await Vl(nn.usersPublic)}catch(t){return qe.firebaseError(this.debug,t),null}},async fetchPublicUser(t){try{return await Ni(jt(qt,nn.usersPublic.id,t))}catch(e){return qe.firebaseError(this.debug,e),null}},async allowedPublicUsers(t){try{return(await Promise.all(t.map(async n=>{const r=await this.fetchPublicUser(n);return r?{...r,displayName:r.displayName||"Anonymous"}:null}))).filter(Boolean)}catch{return[]}},async createBlogPost(t,e,n,r={includeTime:!1,fetch:!0}){try{this.blogPosts.mutationLoading=!0;const i=Co(e);return await Am(jt(qt,nn.blogPosts(i.isPrivate).id,t),{...e,date:r!=null&&r.includeTime?e.date:Xn.now(),dateUpdated:r!=null&&r.includeTime?e.dateUpdated:null,countdown:e.countdown?Xn.fromDate(e.countdown):null,timer:e.timer?Xn.fromDate(e.timer):null}),this.blogPosts.visibility=i.visibility,r!=null&&r.fetch&&this.fetchBlogPosts(n,{amount:this.visibleBlogPosts.length+1}),qe.success("Successfully created Post"),!0}catch(i){return qe.firebaseError(this.debug,i),!1}finally{this.blogPosts.mutationLoading=!1}},async updateBlogPost(t,e,n,r){try{this.blogPosts.mutationLoading=!0;const i=nn.blogPosts(n.isPrivate).id;let s="";if(Yn.Content.instanceOf(e)&&(await Do(jt(qt,i,t),{...Yn.Content.convert(e),dateUpdated:Xn.now()}),s="content"),Yn.Styling.instanceOf(e)&&(await Do(jt(qt,i,t),{...Yn.Styling.convert(e)}),s="styling"),Yn.Settings.instanceOf(e)&&(await Do(jt(qt,i,t),{...Yn.Settings.convert(e)}),s="settings"),s==="content"||s==="styling"){const o=await this.fetchBlogPost(t,n);this.blogPosts.data[n.visibility]=this.blogPosts.data[n.visibility].map(a=>a.id===(o==null?void 0:o.id)?o:a)}else this.fetchBlogPosts(r,{amount:this.blogPosts.data[n.visibility].length});return s}catch(i){qe.firebaseError(this.debug,i)}finally{this.blogPosts.mutationLoading=!1}},async toggleBlogPostVisibility(t,e,n,r,i){try{this.blogPosts.mutationLoading=!0;const s=this.allBlogPosts.find(o=>o.id===t);if(await this.deleteBlogPost(t,{includeFiles:!1,includeReactions:!1}),s&&await this.createBlogPost(t,e,i,{includeTime:!0,fetch:!1})){let o;do this.blogPosts.data[r]=[],await this.fetchBlogPosts(i,{visibility:r}),o=this.allBlogPosts.find(a=>a.id===t);while(!o);if(this.blogPosts.visibility=r,o){for(const a of n)await this.deleteBlogReaction(a.id,s,{mutatePost:!1,fetch:!1})||qe.error("Failed to delete old Reaction",{debug:this.debug}),await this.createBlogReaction(o,jm.convert(a),{includeTime:!0,fetch:!1})||qe.error("Failed to re-create Reaction",{debug:this.debug});for(const a of this.getFilesOfPost(s)){const l=Vb(a);await this.updateFileInfo(l.name,o)||qe.error("Failed to move Image",{debug:this.debug})}return this.fetchBlogPosts(i,{amount:this.visibleBlogPosts.length}),!0}else return qe.error("Failed to re-create Post",{debug:this.debug}),!1}else return qe.error("Failed to re-create Post",{debug:this.debug}),!1}catch(s){return qe.firebaseError(this.debug,s),!1}finally{this.blogPosts.mutationLoading=!1}},async deleteBlogPost(t,e={includeFiles:!0,includeReactions:!0}){try{const n=this.allBlogPosts.find(r=>r.id===t);if(n){e.includeReactions&&await this.deleteBlogReactionsOfBlogPost(n),e.includeFiles&&await this.deleteFilesOfBlogPost(n);const r=Co(n);return await id(jt(qt,nn.blogPosts(r.isPrivate).id,t)),this.blogPosts.data[r.visibility]=this.blogPosts.data[r.visibility].filter(i=>i.id!==t),qe.success("Successfully deleted Post"),!0}return!1}catch(n){return qe.firebaseError(this.debug,n),!1}},async createBlogReaction(t,e,n={includeTime:!1,fetch:!0}){try{const r=Co(t),i=jt(qt,nn.blogPosts(r.isPrivate).id,t.id),s=await Ni(i);if(s){const o=await sK(nn.blogReactions(r.isPrivate),{user:jt(qt,nn.usersPublic.id,e.userId),message:e.message,date:n!=null&&n.includeTime?e.date:Xn.now(),post:i});if(await Do(jt(qt,nn.blogPosts(r.isPrivate).id,s.id),{reactions:[...s.reactions??[],o]}),n!=null&&n.fetch){const a=await this.fetchBlogPost(s.id,r);this.blogPosts.data[r.visibility]=this.blogPosts.data[r.visibility].map(l=>l.id===s.id?a??l:l)}return qe.success("Successfully created Reaction"),!0}return!1}catch(r){return qe.firebaseError(this.debug,r),!1}},async deleteBlogReaction(t,e,n={mutatePost:!0,fetch:!0}){var r;try{const i=Co(e);if(n.mutatePost){const s=jt(qt,nn.blogPosts(i.isPrivate).id,e.id),o=await Ni(s);o&&await Do(s,{reactions:((r=o.reactions)==null?void 0:r.filter(a=>a.id!==t))??[]})}return await id(jt(qt,nn.blogReactions(i.isPrivate).id,t)),n!=null&&n.fetch&&(e.reactions=e.reactions.filter(s=>s.id!==t),this.blogPosts.data[i.visibility]=this.blogPosts.data[i.visibility].map(s=>s.id===e.id?e:s)),qe.success("Successfully deleted Reaction"),!0}catch(i){return qe.firebaseError(this.debug,i),!1}},async deleteBlogReactionsOfBlogPost(t){try{const e=Co(t),n=(t==null?void 0:t.reactions)??[];for(const r of n)await id(jt(qt,nn.blogReactions(e.isPrivate).id,r.id));return n.length&&qe.success(`Successfully deleted ${n.length} Reaction${n.length!==1?"s":""}`),!0}catch(e){return qe.firebaseError(this.debug,e),!1}},getFilesOfPost(t,e){var r,i;const n=[];if(t.coverImageUrl&&(!e||!e.coverImageUrl)&&n.push(t.coverImageUrl),t.sections.length)for(const[s,o]of t.sections.entries()){const a=(i=(r=e==null?void 0:e.sections)==null?void 0:r[s])==null?void 0:i.coverImageUrl,l=o.coverImageUrl;l&&(!e||!a)&&n.push(l)}return n},async fetchFileInfo(t){try{return await Ni(jt(qt,nn.files.path,t))}catch(e){return qe.firebaseError(this.debug,e),null}},async uploadFile(t,e,n,r,i,s,o){return await this.createFileInfo(t.name,r,i,s,o)&&await this.createFile(t,e,n)},async createFile(t,e,n){try{const r=QW(t,e);return r.on("state_changed",i=>{const s=i.bytesTransferred/i.totalBytes*100;n(s)}),await r,qe.success("Successfully uploaded File"),!0}catch(r){return qe.firebaseError(this.debug,r),!1}},async createFileInfo(t,e,n,r,i){try{let s;if(i){const o=Co(i);s=jt(qt,nn.blogPosts(o.isPrivate).id,i.id)}return await Am(jt(qt,nn.files.path,t),{name:e,owner:n,post:s??null,public:r??!1}),!0}catch(s){return qe.firebaseError(this.debug,s),!1}},async updateFileInfo(t,e){try{let n;if(e){const r=Co(e);n=jt(qt,nn.blogPosts(r.isPrivate).id,e.id)}return await Do(jt(qt,nn.files.path,t),{post:n??null}),!0}catch(n){return qe.firebaseError(this.debug,n),!1}},async deleteFile(t,e=!1){try{return await id(jt(qt,nn.files.path,t.name)),await ZW(t),e||qe.success("Successfully deleted File"),!0}catch(n){return qe.firebaseError(this.debug,n),!1}},async deleteFilesOfBlogPost(t,e){try{const n=this.getFilesOfPost(t,e);for(const r of n)await this.deleteFile(Vb(r),!0);return n.length&&qe.success(`Successfully deleted ${n.length} File${n.length!==1?"s":""}`),!0}catch(n){return qe.firebaseError(this.debug,n),!1}},toggleOnline(){this.online=!this.online},toggleDebug(){this.debug=!this.debug}},persist:{enabled:!0}}),tu=fG(Jx);tu.onAuthStateChanged(t=>{sr().fetchUser(t);const e=or();e.$patch({blogPosts:{...e.blogPosts,data:{...e.blogPosts.data,private:[]}}}),e.fetchAll(t==null?void 0:t.uid,!0)});const js=rL(),ba={users:Yi(js,"users"),usersPublic:Yi(js,"usersPublic")},sr=rD("auth",{state:()=>({currentUser:null,publicUser:null,firebaseUser:tu.currentUser,loginLoading:!1,mutationLoading:!1,logoutLoading:!1}),getters:{isOwner:t=>{var e;return((e=t.firebaseUser)==null?void 0:e.uid)==="wEaq28Vfx8aygJ6TUi0hDrNut1F2"}},actions:{async fetchUser(t){if(this.firebaseUser=t,t){this.publicUser=await Ni(jt(js,ba.usersPublic.id,t.uid));const e=await Ni(jt(js,ba.users.id,t.uid));e!=null&&(this.currentUser={firstName:e.firstName||"",lastName:e.lastName||""})}},async login(t,e){try{this.loginLoading=!0;const{user:n}=await JK(tu,t,e);await this.fetchUser(n),qe.success("Successfully logged in",{route:"dashboard"})}catch(n){qe.firebaseError(!1,n)}finally{this.loginLoading=!1}},async register(t,e,n){try{this.loginLoading=!0;const{user:r}=await QK(tu,t,e);await Am(jt(js,ba.users.id,r.uid),{firstName:n}),await this.updatePublicUser({displayName:"Anonymous",avatar:""}),await this.fetchUser(r),qe.success("Successfully created your account",{route:"dashboard"})}catch(r){qe.firebaseError(!1,r)}finally{this.loginLoading=!1}},async updateMail(t,e){try{if(this.loginLoading=!0,this.firebaseUser&&this.firebaseUser.email){const n=ia.credential(this.firebaseUser.email,e);await QI(this.firebaseUser,n),await ZK(this.firebaseUser,t),qe.success("Successfully changed your e-mail")}}catch(n){qe.firebaseError(!1,n)}finally{this.loginLoading=!1}},async updatePassword(t,e){try{if(this.loginLoading=!0,this.firebaseUser&&this.firebaseUser.email){const n=ia.credential(this.firebaseUser.email,e);await QI(this.firebaseUser,n),await ez(this.firebaseUser,t),qe.success("Successfully changed your password")}}catch(n){qe.firebaseError(!1,n)}finally{this.loginLoading=!1}},async resetPassword(t){try{await XK(tu,t),qe.success("Successfully requested password reset")}catch(e){qe.firebaseError(!1,e)}},async updateUser(t){try{this.mutationLoading=!0,this.currentUser&&this.firebaseUser&&(rs(this.currentUser,t)?qe.warning("Nothing changed in your details"):(await Do(jt(js,ba.users.id,this.firebaseUser.uid),t),await this.fetchUser(this.firebaseUser),qe.success("Successfully updated your profile")))}catch(e){qe.firebaseError(!1,e)}finally{this.mutationLoading=!1}},async updatePublicUser(t){try{this.mutationLoading=!0,this.publicUser?rs(this.publicUser,t)?qe.warning("Nothing changed in your public profile"):(await Do(jt(js,ba.usersPublic.id,this.publicUser.id),{displayName:t.displayName,avatar:t.avatar}),await this.fetchUser(this.firebaseUser),qe.success("Successfully updated your public profile")):this.firebaseUser?(await Am(jt(js,ba.usersPublic.id,this.firebaseUser.uid),{displayName:t.displayName,avatar:t.avatar}),await this.fetchUser(this.firebaseUser),qe.success("Successfully updated your public profile")):qe.firebaseError(!1)}catch(e){qe.firebaseError(!1,e)}finally{this.mutationLoading=!1}},async logout(){try{this.logoutLoading=!0,await nz(tu),this.currentUser=null,this.publicUser=null,qe.success("Successfully logged out",{route:"home"})}catch(t){qe.firebaseError(!1,t)}finally{this.logoutLoading=!1}},async deleteAccount(){try{this.logoutLoading=!0,this.currentUser&&this.firebaseUser&&(await id(jt(js,ba.users.id,this.firebaseUser.uid)),await rz(this.firebaseUser),this.currentUser=null,this.publicUser=null,qe.success("Successfully deleted your account",{route:"home"}))}catch(t){qe.firebaseError(!1,t)}finally{this.logoutLoading=!1}}},persist:{enabled:!0}});function fX(t,e){return S(),V("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon"},[K("path",{"fill-rule":"evenodd",d:"M15.312 11.424a5.5 5.5 0 0 1-9.201 2.466l-.312-.311h2.433a.75.75 0 0 0 0-1.5H3.989a.75.75 0 0 0-.75.75v4.242a.75.75 0 0 0 1.5 0v-2.43l.31.31a7 7 0 0 0 11.712-3.138.75.75 0 0 0-1.449-.39Zm1.23-3.723a.75.75 0 0 0 .219-.53V2.929a.75.75 0 0 0-1.5 0V5.36l-.31-.31A7 7 0 0 0 3.239 8.188a.75.75 0 1 0 1.448.389A5.5 5.5 0 0 1 13.89 6.11l.311.31h-2.432a.75.75 0 0 0 0 1.5h4.243a.75.75 0 0 0 .53-.219Z","clip-rule":"evenodd"})])}function hX(t,e){return S(),V("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon"},[K("path",{"fill-rule":"evenodd",d:"M6 3.75A2.75 2.75 0 0 1 8.75 1h2.5A2.75 2.75 0 0 1 14 3.75v.443c.572.055 1.14.122 1.706.2C17.053 4.582 18 5.75 18 7.07v3.469c0 1.126-.694 2.191-1.83 2.54-1.952.599-4.024.921-6.17.921s-4.219-.322-6.17-.921C2.694 12.73 2 11.665 2 10.539V7.07c0-1.321.947-2.489 2.294-2.676A41.047 41.047 0 0 1 6 4.193V3.75Zm6.5 0v.325a41.622 41.622 0 0 0-5 0V3.75c0-.69.56-1.25 1.25-1.25h2.5c.69 0 1.25.56 1.25 1.25ZM10 10a1 1 0 0 0-1 1v.01a1 1 0 0 0 1 1h.01a1 1 0 0 0 1-1V11a1 1 0 0 0-1-1H10Z","clip-rule":"evenodd"}),K("path",{d:"M3 15.055v-.684c.126.053.255.1.39.142 2.092.642 4.313.987 6.61.987 2.297 0 4.518-.345 6.61-.987.135-.041.264-.089.39-.142v.684c0 1.347-.985 2.53-2.363 2.686a41.454 41.454 0 0 1-9.274 0C3.985 17.585 3 16.402 3 15.055Z"})])}function pX(t,e){return S(),V("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon"},[K("path",{"fill-rule":"evenodd",d:"M5.22 8.22a.75.75 0 0 1 1.06 0L10 11.94l3.72-3.72a.75.75 0 1 1 1.06 1.06l-4.25 4.25a.75.75 0 0 1-1.06 0L5.22 9.28a.75.75 0 0 1 0-1.06Z","clip-rule":"evenodd"})])}function mX(t,e){return S(),V("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon"},[K("path",{"fill-rule":"evenodd",d:"m9.69 18.933.003.001C9.89 19.02 10 19 10 19s.11.02.308-.066l.002-.001.006-.003.018-.008a5.741 5.741 0 0 0 .281-.14c.186-.096.446-.24.757-.433.62-.384 1.445-.966 2.274-1.765C15.302 14.988 17 12.493 17 9A7 7 0 1 0 3 9c0 3.492 1.698 5.988 3.355 7.584a13.731 13.731 0 0 0 2.273 1.765 11.842 11.842 0 0 0 .976.544l.062.029.018.008.006.003ZM10 11.25a2.25 2.25 0 1 0 0-4.5 2.25 2.25 0 0 0 0 4.5Z","clip-rule":"evenodd"})])}function gX(t,e){return S(),V("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon"},[K("path",{d:"M10 8a3 3 0 1 0 0-6 3 3 0 0 0 0 6ZM3.465 14.493a1.23 1.23 0 0 0 .41 1.412A9.957 9.957 0 0 0 10 18c2.31 0 4.438-.784 6.131-2.1.43-.333.604-.903.408-1.41a7.002 7.002 0 0 0-13.074.003Z"})])}function vX(t,e){return S(),V("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon"},[K("path",{d:"M6.28 5.22a.75.75 0 0 0-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 1 0 1.06 1.06L10 11.06l3.72 3.72a.75.75 0 1 0 1.06-1.06L11.06 10l3.72-3.72a.75.75 0 0 0-1.06-1.06L10 8.94 6.28 5.22Z"})])}const yX=["href"],bX=Oe({__name:"ButtonWrapper",props:{class:{},activeClass:{},url:{}},setup(t){return(e,n)=>{const r=Bn("RouterLink");return e.url?(S(),V(Te,{key:0},[e.url.startsWith("http")?(S(),V("a",{key:1,class:ke(e.class),href:e.url},[ge(e.$slots,"default")],10,yX)):(S(),ie(r,{key:0,class:ke(e.class),"active-class":e.activeClass,to:{path:e.url}},{default:ce(()=>[ge(e.$slots,"default")]),_:3},8,["class","active-class","to"]))],64)):ge(e.$slots,"default",{key:1,class:ke(e.class)})}}}),wX=["type","disabled"],_X={class:ke("w-full flex flex-column justify-center")},Ft=Oe({__name:"CustomButton",props:{class:{},url:{},type:{},activeClass:{},style:{type:[Boolean,null,String,Object,Array]},outlined:{type:Boolean},list:{type:Boolean},action:{},bold:{type:Boolean},loading:{type:Boolean}},emits:["click"],setup(t){const e=t,n=ee(()=>{switch(e.type){case"primary":return e.outlined?e.list?"button-outlined-list-primary":"button-outlined-primary":"button-primary";case"secondary":return e.outlined?e.list?"button-outlined-list-secondary":"button-outlined-secondary":"button-secondary";case"danger":return e.outlined?e.list?"button-outlined-list-danger":"button-outlined-danger":"button-danger";case"action-positive":return e.outlined?"button-outlined-action-positive":"button-action-positive";case"orange":return e.outlined?"button-outlined-orange":"button-orange";default:return e.outlined?e.list?"button-outlined-list-primary":"button-outlined-primary":"button-primary"}});return(r,i)=>(S(),ie(bX,{class:ke([n.value,"md:mt-0 py-2 px-4 rounded-full",r.list?"flex flex-column justify-center":"",...k(Ea)(e.class)]),activeClass:r.activeClass,url:r.url},{default:ce(({class:s})=>[K("button",{class:ke(s),style:nr(r.style),type:r.action??"button",disabled:r.loading,onClick:i[0]||(i[0]=o=>r.$emit("click"))},[K("span",_X,[r.loading?(S(),ie(k(fX),{key:0,class:"my-1 mr-2.5 h-5 w-5 animate-spin"})):Y("",!0),ge(r.$slots,"default")])],14,wX)]),_:3},8,["class","activeClass","url"]))}}),$c=Oe({__name:"CountdownNumber",props:{time:{},animate:{type:Boolean},direction:{}},setup(t){return(e,n)=>(S(),V("span",{class:ke({"animation ease-in animate-timer-up":e.animate&&e.direction==="up","animation ease-in animate-timer-down":e.animate&&e.direction==="down"})},$e(e.time),3))}}),TX=Oe({__name:"CountdownWrapper",props:{time:{},direction:{}},setup(t){const e=t,n=m=>(e.direction==="up"?m=Math.abs(m):m=Math.max(0,m),Math.floor(m)),r=re(0),i=ee(()=>n(r.value/Om)),s=ee(()=>r.value%Om),o=ee(()=>n(s.value/Cm)),a=ee(()=>s.value%Cm),l=ee(()=>n(a.value/Ub)),u=ee(()=>a.value%Ub),c=ee(()=>n(u.value/Fb)),d=ee(()=>u.value%Fb),f=ee(()=>n(d.value/nN)),h=ee(()=>i.value===0&&o.value===0&&l.value===0&&c.value===0&&f.value===0),p=()=>{r.value=e.time-new Date().getTime(),setTimeout(p,1e3)};return Gt(()=>{p()}),(m,g)=>ge(m.$slots,"default",{years:i.value,days:o.value,hours:l.value,minutes:c.value,seconds:f.value,isTimeUp:h.value,daysIsLast:m.direction==="down"?o.value===364:o.value===0,hoursIsLast:m.direction==="down"?l.value===23:o.value===0,minutesIsLast:m.direction==="down"?c.value===59:c.value===0,secondsIsLast:m.direction==="down"?f.value===59:f.value===0})}}),SX={class:"grid grid-flow-col text-center"},EX={key:0,class:"flex flex-col py-2 px-1 sm:px-2 bg-neutral rounded-box text-neutral-content rounded-xl"},IX={class:"text-xl sm:text-3xl md:text-3xl lg:text-5xl font-mono font-bold sm:font-normal"},CX={key:1,class:"flex flex-col py-2 px-1 sm:px-2 bg-neutral rounded-box text-neutral-content rounded-xl"},OX={class:"text-xl sm:text-3xl md:text-3xl lg:text-5xl font-mono font-bold sm:font-normal"},AX={key:2,class:"flex flex-col py-2 px-1 sm:px-2 bg-neutral rounded-box text-neutral-content rounded-xl"},kX={class:"text-xl sm:text-3xl md:text-3xl lg:text-5xl font-mono font-bold sm:font-normal"},PX={key:3,class:"flex flex-col py-2 px-1 sm:px-2 bg-neutral rounded-box text-neutral-content rounded-xl"},xX={class:"text-xl sm:text-3xl md:text-3xl lg:text-5xl font-mono font-bold sm:font-normal"},DX={key:4,class:"flex flex-col py-2 px-1 sm:px-2 bg-neutral rounded-box text-neutral-content rounded-xl"},RX={class:"text-xl sm:text-3xl md:text-3xl lg:text-5xl font-mono font-bold sm:font-normal"},jl=Oe({__name:"Countdown",props:{time:{},direction:{},alignment:{}},setup(t){const e=t;return(n,r)=>(S(),V("div",{class:ke({block:!n.alignment,flex:!!n.alignment,"justify-start":n.alignment==="left","justify-center":n.alignment==="center","justify-end":n.alignment==="right"})},[J(TX,{time:e.time,direction:n.direction},{default:ce(({years:i,days:s,hours:o,minutes:a,seconds:l,isTimeUp:u,daysIsLast:c,hoursIsLast:d,minutesIsLast:f,secondsIsLast:h})=>[K("div",SX,[i>0?(S(),V("div",EX,[K("span",IX,[J($c,{time:i,animate:i>=0&&c&&d&&f&&h,direction:n.direction},null,8,["time","animate","direction"])]),Je(" years ")])):Y("",!0),i>0||s>0||u?(S(),V("div",CX,[K("span",OX,[J($c,{time:s,animate:s>=0&&d&&f&&h,direction:n.direction},null,8,["time","animate","direction"])]),Je(" days ")])):Y("",!0),i>0||s>0||o>0||u?(S(),V("div",AX,[K("span",kX,[J($c,{time:o,animate:o>=0&&f&&h,direction:n.direction},null,8,["time","animate","direction"])]),Je(" hrs ")])):Y("",!0),i>0||s>0||o>0||a>0||u?(S(),V("div",PX,[K("span",xX,[J($c,{time:a,animate:a>=0&&h,direction:n.direction},null,8,["time","animate","direction"])]),Je(" mins ")])):Y("",!0),i>0||s>0||o>0||a>0||l>0||u?(S(),V("div",DX,[K("span",RX,[J($c,{time:l,animate:!u,direction:n.direction},null,8,["time","animate","direction"])]),Je(" secs ")])):Y("",!0)])]),_:1},8,["time","direction"])],2))}});function Uy(t,e){var n=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=hT(t))||e&&t&&typeof t.length=="number"){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(u){throw u},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var s=!0,o=!1,a;return{s:function(){n=n.call(t)},n:function(){var u=n.next();return s=u.done,u},e:function(u){o=!0,a=u},f:function(){try{!s&&n.return!=null&&n.return()}finally{if(o)throw a}}}}function NX(t){return $X(t)||LX(t)||hT(t)||MX()}function MX(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function LX(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function $X(t){if(Array.isArray(t))return ow(t)}function Ad(t){"@babel/helpers - typeof";return Ad=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ad(t)}function Vy(t,e){return VX(t)||UX(t,e)||hT(t,e)||FX()}function FX(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hT(t,e){if(t){if(typeof t=="string")return ow(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ow(t,e)}}function ow(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function UX(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,a=[],l=!0,u=!1;try{if(s=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=s.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return a}}function VX(t){if(Array.isArray(t))return t}var Le={innerWidth:function(e){if(e){var n=e.offsetWidth,r=getComputedStyle(e);return n+=parseFloat(r.paddingLeft)+parseFloat(r.paddingRight),n}return 0},width:function(e){if(e){var n=e.offsetWidth,r=getComputedStyle(e);return n-=parseFloat(r.paddingLeft)+parseFloat(r.paddingRight),n}return 0},getWindowScrollTop:function(){var e=document.documentElement;return(window.pageYOffset||e.scrollTop)-(e.clientTop||0)},getWindowScrollLeft:function(){var e=document.documentElement;return(window.pageXOffset||e.scrollLeft)-(e.clientLeft||0)},getOuterWidth:function(e,n){if(e){var r=e.offsetWidth;if(n){var i=getComputedStyle(e);r+=parseFloat(i.marginLeft)+parseFloat(i.marginRight)}return r}return 0},getOuterHeight:function(e,n){if(e){var r=e.offsetHeight;if(n){var i=getComputedStyle(e);r+=parseFloat(i.marginTop)+parseFloat(i.marginBottom)}return r}return 0},getClientHeight:function(e,n){if(e){var r=e.clientHeight;if(n){var i=getComputedStyle(e);r+=parseFloat(i.marginTop)+parseFloat(i.marginBottom)}return r}return 0},getViewport:function(){var e=window,n=document,r=n.documentElement,i=n.getElementsByTagName("body")[0],s=e.innerWidth||r.clientWidth||i.clientWidth,o=e.innerHeight||r.clientHeight||i.clientHeight;return{width:s,height:o}},getOffset:function(e){if(e){var n=e.getBoundingClientRect();return{top:n.top+(window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0),left:n.left+(window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0)}}return{top:"auto",left:"auto"}},index:function(e){if(e)for(var n,r=(n=this.getParentNode(e))===null||n===void 0?void 0:n.childNodes,i=0,s=0;s<r.length;s++){if(r[s]===e)return i;r[s].nodeType===1&&i++}return-1},addMultipleClasses:function(e,n){var r=this;e&&n&&[n].flat().filter(Boolean).forEach(function(i){return i.split(" ").forEach(function(s){return r.addClass(e,s)})})},removeMultipleClasses:function(e,n){var r=this;e&&n&&[n].flat().filter(Boolean).forEach(function(i){return i.split(" ").forEach(function(s){return r.removeClass(e,s)})})},addClass:function(e,n){e&&n&&!this.hasClass(e,n)&&(e.classList?e.classList.add(n):e.className+=" "+n)},removeClass:function(e,n){e&&n&&(e.classList?e.classList.remove(n):e.className=e.className.replace(new RegExp("(^|\\b)"+n.split(" ").join("|")+"(\\b|$)","gi")," "))},hasClass:function(e,n){return e?e.classList?e.classList.contains(n):new RegExp("(^| )"+n+"( |$)","gi").test(e.className):!1},addStyles:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};e&&Object.entries(n).forEach(function(r){var i=Vy(r,2),s=i[0],o=i[1];return e.style[s]=o})},find:function(e,n){return this.isElement(e)?e.querySelectorAll(n):[]},findSingle:function(e,n){return this.isElement(e)?e.querySelector(n):null},createElement:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e){var r=document.createElement(e);this.setAttributes(r,n);for(var i=arguments.length,s=new Array(i>2?i-2:0),o=2;o<i;o++)s[o-2]=arguments[o];return r.append.apply(r,s),r}},setAttribute:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",r=arguments.length>2?arguments[2]:void 0;this.isElement(e)&&r!==null&&r!==void 0&&e.setAttribute(n,r)},setAttributes:function(e){var n=this,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.isElement(e)){var i=function s(o,a){var l,u,c=e!=null&&(l=e.$attrs)!==null&&l!==void 0&&l[o]?[e==null||(u=e.$attrs)===null||u===void 0?void 0:u[o]]:[];return[a].flat().reduce(function(d,f){if(f!=null){var h=Ad(f);if(h==="string"||h==="number")d.push(f);else if(h==="object"){var p=Array.isArray(f)?s(o,f):Object.entries(f).map(function(m){var g=Vy(m,2),y=g[0],v=g[1];return o==="style"&&(v||v===0)?"".concat(y.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),":").concat(v):v?y:void 0});d=p.length?d.concat(p.filter(function(m){return!!m})):d}}return d},c)};Object.entries(r).forEach(function(s){var o=Vy(s,2),a=o[0],l=o[1];if(l!=null){var u=a.match(/^on(.+)/);u?e.addEventListener(u[1].toLowerCase(),l):a==="p-bind"?n.setAttributes(e,l):(l=a==="class"?NX(new Set(i("class",l))).join(" ").trim():a==="style"?i("style",l).join(";").trim():l,(e.$attrs=e.$attrs||{})&&(e.$attrs[a]=l),e.setAttribute(a,l))}})}},getAttribute:function(e,n){if(this.isElement(e)){var r=e.getAttribute(n);return isNaN(r)?r==="true"||r==="false"?r==="true":r:+r}},isAttributeEquals:function(e,n,r){return this.isElement(e)?this.getAttribute(e,n)===r:!1},isAttributeNotEquals:function(e,n,r){return!this.isAttributeEquals(e,n,r)},getHeight:function(e){if(e){var n=e.offsetHeight,r=getComputedStyle(e);return n-=parseFloat(r.paddingTop)+parseFloat(r.paddingBottom)+parseFloat(r.borderTopWidth)+parseFloat(r.borderBottomWidth),n}return 0},getWidth:function(e){if(e){var n=e.offsetWidth,r=getComputedStyle(e);return n-=parseFloat(r.paddingLeft)+parseFloat(r.paddingRight)+parseFloat(r.borderLeftWidth)+parseFloat(r.borderRightWidth),n}return 0},absolutePosition:function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(e){var i=e.offsetParent?{width:e.offsetWidth,height:e.offsetHeight}:this.getHiddenElementDimensions(e),s=i.height,o=i.width,a=n.offsetHeight,l=n.offsetWidth,u=n.getBoundingClientRect(),c=this.getWindowScrollTop(),d=this.getWindowScrollLeft(),f=this.getViewport(),h,p,m="top";u.top+a+s>f.height?(h=u.top+c-s,m="bottom",h<0&&(h=c)):h=a+u.top+c,u.left+o>f.width?p=Math.max(0,u.left+d+l-o):p=u.left+d,e.style.top=h+"px",e.style.left=p+"px",e.style.transformOrigin=m,r&&(e.style.marginTop=m==="bottom"?"calc(var(--p-anchor-gutter) * -1)":"calc(var(--p-anchor-gutter))")}},relativePosition:function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(e){var i=e.offsetParent?{width:e.offsetWidth,height:e.offsetHeight}:this.getHiddenElementDimensions(e),s=n.offsetHeight,o=n.getBoundingClientRect(),a=this.getViewport(),l,u,c="top";o.top+s+i.height>a.height?(l=-1*i.height,c="bottom",o.top+l<0&&(l=-1*o.top)):l=s,i.width>a.width?u=o.left*-1:o.left+i.width>a.width?u=(o.left+i.width-a.width)*-1:u=0,e.style.top=l+"px",e.style.left=u+"px",e.style.transformOrigin=c,r&&(e.style.marginTop=c==="bottom"?"calc(var(--p-anchor-gutter) * -1)":"calc(var(--p-anchor-gutter))")}},nestedPosition:function(e,n){if(e){var r=e.parentElement,i=this.getOffset(r),s=this.getViewport(),o=e.offsetParent?e.offsetWidth:this.getHiddenElementOuterWidth(e),a=this.getOuterWidth(r.children[0]),l;parseInt(i.left,10)+a+o>s.width-this.calculateScrollbarWidth()?parseInt(i.left,10)<o?n%2===1?l=parseInt(i.left,10)?"-"+parseInt(i.left,10)+"px":"100%":n%2===0&&(l=s.width-o-this.calculateScrollbarWidth()+"px"):l="-100%":l="100%",e.style.top="0px",e.style.left=l}},getParentNode:function(e){var n=e==null?void 0:e.parentNode;return n&&n instanceof ShadowRoot&&n.host&&(n=n.host),n},getParents:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],r=this.getParentNode(e);return r===null?n:this.getParents(r,n.concat([r]))},getScrollableParents:function(e){var n=[];if(e){var r=this.getParents(e),i=/(auto|scroll)/,s=function(g){try{var y=window.getComputedStyle(g,null);return i.test(y.getPropertyValue("overflow"))||i.test(y.getPropertyValue("overflowX"))||i.test(y.getPropertyValue("overflowY"))}catch{return!1}},o=Uy(r),a;try{for(o.s();!(a=o.n()).done;){var l=a.value,u=l.nodeType===1&&l.dataset.scrollselectors;if(u){var c=u.split(","),d=Uy(c),f;try{for(d.s();!(f=d.n()).done;){var h=f.value,p=this.findSingle(l,h);p&&s(p)&&n.push(p)}}catch(m){d.e(m)}finally{d.f()}}l.nodeType!==9&&s(l)&&n.push(l)}}catch(m){o.e(m)}finally{o.f()}}return n},getHiddenElementOuterHeight:function(e){if(e){e.style.visibility="hidden",e.style.display="block";var n=e.offsetHeight;return e.style.display="none",e.style.visibility="visible",n}return 0},getHiddenElementOuterWidth:function(e){if(e){e.style.visibility="hidden",e.style.display="block";var n=e.offsetWidth;return e.style.display="none",e.style.visibility="visible",n}return 0},getHiddenElementDimensions:function(e){if(e){var n={};return e.style.visibility="hidden",e.style.display="block",n.width=e.offsetWidth,n.height=e.offsetHeight,e.style.display="none",e.style.visibility="visible",n}return 0},fadeIn:function(e,n){if(e){e.style.opacity=0;var r=+new Date,i=0,s=function o(){i=+e.style.opacity+(new Date().getTime()-r)/n,e.style.opacity=i,r=+new Date,+i<1&&(window.requestAnimationFrame&&requestAnimationFrame(o)||setTimeout(o,16))};s()}},fadeOut:function(e,n){if(e)var r=1,i=50,s=n,o=i/s,a=setInterval(function(){r-=o,r<=0&&(r=0,clearInterval(a)),e.style.opacity=r},i)},getUserAgent:function(){return navigator.userAgent},appendChild:function(e,n){if(this.isElement(n))n.appendChild(e);else if(n.el&&n.elElement)n.elElement.appendChild(e);else throw new Error("Cannot append "+n+" to "+e)},isElement:function(e){return(typeof HTMLElement>"u"?"undefined":Ad(HTMLElement))==="object"?e instanceof HTMLElement:e&&Ad(e)==="object"&&e!==null&&e.nodeType===1&&typeof e.nodeName=="string"},scrollInView:function(e,n){var r=getComputedStyle(e).getPropertyValue("borderTopWidth"),i=r?parseFloat(r):0,s=getComputedStyle(e).getPropertyValue("paddingTop"),o=s?parseFloat(s):0,a=e.getBoundingClientRect(),l=n.getBoundingClientRect(),u=l.top+document.body.scrollTop-(a.top+document.body.scrollTop)-i-o,c=e.scrollTop,d=e.clientHeight,f=this.getOuterHeight(n);u<0?e.scrollTop=c+u:u+f>d&&(e.scrollTop=c+u-d+f)},clearSelection:function(){if(window.getSelection)window.getSelection().empty?window.getSelection().empty():window.getSelection().removeAllRanges&&window.getSelection().rangeCount>0&&window.getSelection().getRangeAt(0).getClientRects().length>0&&window.getSelection().removeAllRanges();else if(document.selection&&document.selection.empty)try{document.selection.empty()}catch{}},getSelection:function(){return window.getSelection?window.getSelection().toString():document.getSelection?document.getSelection().toString():document.selection?document.selection.createRange().text:null},calculateScrollbarWidth:function(){if(this.calculatedScrollbarWidth!=null)return this.calculatedScrollbarWidth;var e=document.createElement("div");this.addStyles(e,{width:"100px",height:"100px",overflow:"scroll",position:"absolute",top:"-9999px"}),document.body.appendChild(e);var n=e.offsetWidth-e.clientWidth;return document.body.removeChild(e),this.calculatedScrollbarWidth=n,n},calculateBodyScrollbarWidth:function(){return window.innerWidth-document.documentElement.offsetWidth},getBrowser:function(){if(!this.browser){var e=this.resolveUserAgent();this.browser={},e.browser&&(this.browser[e.browser]=!0,this.browser.version=e.version),this.browser.chrome?this.browser.webkit=!0:this.browser.webkit&&(this.browser.safari=!0)}return this.browser},resolveUserAgent:function(){var e=navigator.userAgent.toLowerCase(),n=/(chrome)[ ]([\w.]+)/.exec(e)||/(webkit)[ ]([\w.]+)/.exec(e)||/(opera)(?:.*version|)[ ]([\w.]+)/.exec(e)||/(msie) ([\w.]+)/.exec(e)||e.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(e)||[];return{browser:n[1]||"",version:n[2]||"0"}},isVisible:function(e){return e&&e.offsetParent!=null},invokeElementMethod:function(e,n,r){e[n].apply(e,r)},isExist:function(e){return!!(e!==null&&typeof e<"u"&&e.nodeName&&this.getParentNode(e))},isClient:function(){return!!(typeof window<"u"&&window.document&&window.document.createElement)},focus:function(e,n){e&&document.activeElement!==e&&e.focus(n)},isFocusableElement:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";return this.isElement(e)?e.matches('button:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])'.concat(n,`,
                [href][clientHeight][clientWidth]:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])`).concat(n,`,
                input:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])`).concat(n,`,
                select:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])`).concat(n,`,
                textarea:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])`).concat(n,`,
                [tabIndex]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])`).concat(n,`,
                [contenteditable]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])`).concat(n)):!1},getFocusableElements:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",r=this.find(e,'button:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])'.concat(n,`,
                [href][clientHeight][clientWidth]:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])`).concat(n,`,
                input:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])`).concat(n,`,
                select:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])`).concat(n,`,
                textarea:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])`).concat(n,`,
                [tabIndex]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])`).concat(n,`,
                [contenteditable]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])`).concat(n)),i=[],s=Uy(r),o;try{for(s.s();!(o=s.n()).done;){var a=o.value;getComputedStyle(a).display!="none"&&getComputedStyle(a).visibility!="hidden"&&i.push(a)}}catch(l){s.e(l)}finally{s.f()}return i},getFirstFocusableElement:function(e,n){var r=this.getFocusableElements(e,n);return r.length>0?r[0]:null},getLastFocusableElement:function(e,n){var r=this.getFocusableElements(e,n);return r.length>0?r[r.length-1]:null},getNextFocusableElement:function(e,n,r){var i=this.getFocusableElements(e,r),s=i.length>0?i.findIndex(function(a){return a===n}):-1,o=s>-1&&i.length>=s+1?s+1:-1;return o>-1?i[o]:null},getPreviousElementSibling:function(e,n){for(var r=e.previousElementSibling;r;){if(r.matches(n))return r;r=r.previousElementSibling}return null},getNextElementSibling:function(e,n){for(var r=e.nextElementSibling;r;){if(r.matches(n))return r;r=r.nextElementSibling}return null},isClickable:function(e){if(e){var n=e.nodeName,r=e.parentElement&&e.parentElement.nodeName;return n==="INPUT"||n==="TEXTAREA"||n==="BUTTON"||n==="A"||r==="INPUT"||r==="TEXTAREA"||r==="BUTTON"||r==="A"||!!e.closest(".p-button, .p-checkbox, .p-radiobutton")}return!1},applyStyle:function(e,n){if(typeof n=="string")e.style.cssText=n;else for(var r in n)e.style[r]=n[r]},isIOS:function(){return/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream},isAndroid:function(){return/(android)/i.test(navigator.userAgent)},isTouchDevice:function(){return"ontouchstart"in window||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0},hasCSSAnimation:function(e){if(e){var n=getComputedStyle(e),r=parseFloat(n.getPropertyValue("animation-duration")||"0");return r>0}return!1},hasCSSTransition:function(e){if(e){var n=getComputedStyle(e),r=parseFloat(n.getPropertyValue("transition-duration")||"0");return r>0}return!1},exportCSV:function(e,n){var r=new Blob([e],{type:"application/csv;charset=utf-8;"});if(window.navigator.msSaveOrOpenBlob)navigator.msSaveOrOpenBlob(r,n+".csv");else{var i=document.createElement("a");i.download!==void 0?(i.setAttribute("href",URL.createObjectURL(r)),i.setAttribute("download",n+".csv"),i.style.display="none",document.body.appendChild(i),i.click(),document.body.removeChild(i)):(e="data:text/csv;charset=utf-8,"+e,window.open(encodeURI(e)))}},blockBodyScroll:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"p-overflow-hidden";document.body.style.setProperty("--scrollbar-width",this.calculateBodyScrollbarWidth()+"px"),this.addClass(document.body,e)},unblockBodyScroll:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"p-overflow-hidden";document.body.style.removeProperty("--scrollbar-width"),this.removeClass(document.body,e)}};function bf(t){"@babel/helpers - typeof";return bf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bf(t)}function BX(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function jC(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,HX(r.key),r)}}function jX(t,e,n){return e&&jC(t.prototype,e),n&&jC(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function HX(t){var e=WX(t,"string");return bf(e)=="symbol"?e:String(e)}function WX(t,e){if(bf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(bf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var oL=function(){function t(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:function(){};BX(this,t),this.element=e,this.listener=n}return jX(t,[{key:"bindScrollListener",value:function(){this.scrollableParents=Le.getScrollableParents(this.element);for(var n=0;n<this.scrollableParents.length;n++)this.scrollableParents[n].addEventListener("scroll",this.listener)}},{key:"unbindScrollListener",value:function(){if(this.scrollableParents)for(var n=0;n<this.scrollableParents.length;n++)this.scrollableParents[n].removeEventListener("scroll",this.listener)}},{key:"destroy",value:function(){this.unbindScrollListener(),this.element=null,this.listener=null,this.scrollableParents=null}}]),t}();function KX(){var t=new Map;return{on:function(n,r){var i=t.get(n);i?i.push(r):i=[r],t.set(n,i)},off:function(n,r){var i=t.get(n);i&&i.splice(i.indexOf(r)>>>0,1)},emit:function(n,r){var i=t.get(n);i&&i.slice().map(function(s){s(r)})}}}function HC(t,e){return YX(t)||GX(t,e)||pT(t,e)||zX()}function zX(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function GX(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,a=[],l=!0,u=!1;try{if(s=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=s.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return a}}function YX(t){if(Array.isArray(t))return t}function WC(t){return QX(t)||XX(t)||pT(t)||qX()}function qX(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function XX(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function QX(t){if(Array.isArray(t))return aw(t)}function By(t,e){var n=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=pT(t))||e&&t&&typeof t.length=="number"){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(u){throw u},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var s=!0,o=!1,a;return{s:function(){n=n.call(t)},n:function(){var u=n.next();return s=u.done,u},e:function(u){o=!0,a=u},f:function(){try{!s&&n.return!=null&&n.return()}finally{if(o)throw a}}}}function pT(t,e){if(t){if(typeof t=="string")return aw(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return aw(t,e)}}function aw(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function kd(t){"@babel/helpers - typeof";return kd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kd(t)}var Ie={equals:function(e,n,r){return r?this.resolveFieldData(e,r)===this.resolveFieldData(n,r):this.deepEquals(e,n)},deepEquals:function(e,n){if(e===n)return!0;if(e&&n&&kd(e)=="object"&&kd(n)=="object"){var r=Array.isArray(e),i=Array.isArray(n),s,o,a;if(r&&i){if(o=e.length,o!=n.length)return!1;for(s=o;s--!==0;)if(!this.deepEquals(e[s],n[s]))return!1;return!0}if(r!=i)return!1;var l=e instanceof Date,u=n instanceof Date;if(l!=u)return!1;if(l&&u)return e.getTime()==n.getTime();var c=e instanceof RegExp,d=n instanceof RegExp;if(c!=d)return!1;if(c&&d)return e.toString()==n.toString();var f=Object.keys(e);if(o=f.length,o!==Object.keys(n).length)return!1;for(s=o;s--!==0;)if(!Object.prototype.hasOwnProperty.call(n,f[s]))return!1;for(s=o;s--!==0;)if(a=f[s],!this.deepEquals(e[a],n[a]))return!1;return!0}return e!==e&&n!==n},resolveFieldData:function(e,n){if(!e||!n)return null;try{var r=e[n];if(this.isNotEmpty(r))return r}catch{}if(Object.keys(e).length){if(this.isFunction(n))return n(e);if(n.indexOf(".")===-1)return e[n];for(var i=n.split("."),s=e,o=0,a=i.length;o<a;++o){if(s==null)return null;s=s[i[o]]}return s}return null},getItemValue:function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return this.isFunction(e)?e.apply(void 0,r):e},filter:function(e,n,r){var i=[];if(e){var s=By(e),o;try{for(s.s();!(o=s.n()).done;){var a=o.value,l=By(n),u;try{for(l.s();!(u=l.n()).done;){var c=u.value;if(String(this.resolveFieldData(a,c)).toLowerCase().indexOf(r.toLowerCase())>-1){i.push(a);break}}}catch(d){l.e(d)}finally{l.f()}}}catch(d){s.e(d)}finally{s.f()}}return i},reorderArray:function(e,n,r){e&&n!==r&&(r>=e.length&&(r%=e.length,n%=e.length),e.splice(r,0,e.splice(n,1)[0]))},findIndexInList:function(e,n){var r=-1;if(n){for(var i=0;i<n.length;i++)if(n[i]===e){r=i;break}}return r},contains:function(e,n){if(e!=null&&n&&n.length){var r=By(n),i;try{for(r.s();!(i=r.n()).done;){var s=i.value;if(this.equals(e,s))return!0}}catch(o){r.e(o)}finally{r.f()}}return!1},insertIntoOrderedArray:function(e,n,r,i){if(r.length>0){for(var s=!1,o=0;o<r.length;o++){var a=this.findIndexInList(r[o],i);if(a>n){r.splice(o,0,e),s=!0;break}}s||r.push(e)}else r.push(e)},removeAccents:function(e){return e&&e.search(/[\xC0-\xFF]/g)>-1&&(e=e.replace(/[\xC0-\xC5]/g,"A").replace(/[\xC6]/g,"AE").replace(/[\xC7]/g,"C").replace(/[\xC8-\xCB]/g,"E").replace(/[\xCC-\xCF]/g,"I").replace(/[\xD0]/g,"D").replace(/[\xD1]/g,"N").replace(/[\xD2-\xD6\xD8]/g,"O").replace(/[\xD9-\xDC]/g,"U").replace(/[\xDD]/g,"Y").replace(/[\xDE]/g,"P").replace(/[\xE0-\xE5]/g,"a").replace(/[\xE6]/g,"ae").replace(/[\xE7]/g,"c").replace(/[\xE8-\xEB]/g,"e").replace(/[\xEC-\xEF]/g,"i").replace(/[\xF1]/g,"n").replace(/[\xF2-\xF6\xF8]/g,"o").replace(/[\xF9-\xFC]/g,"u").replace(/[\xFE]/g,"p").replace(/[\xFD\xFF]/g,"y")),e},getVNodeProp:function(e,n){if(e){var r=e.props;if(r){var i=n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),s=Object.prototype.hasOwnProperty.call(r,i)?i:n;return e.type.extends.props[n].type===Boolean&&r[s]===""?!0:r[s]}}return null},toFlatCase:function(e){return this.isString(e)?e.replace(/(-|_)/g,"").toLowerCase():e},toKebabCase:function(e){return this.isString(e)?e.replace(/(_)/g,"-").replace(/[A-Z]/g,function(n,r){return r===0?n:"-"+n.toLowerCase()}).toLowerCase():e},toCapitalCase:function(e){return this.isString(e,{empty:!1})?e[0].toUpperCase()+e.slice(1):e},isEmpty:function(e){return e==null||e===""||Array.isArray(e)&&e.length===0||!(e instanceof Date)&&kd(e)==="object"&&Object.keys(e).length===0},isNotEmpty:function(e){return!this.isEmpty(e)},isFunction:function(e){return!!(e&&e.constructor&&e.call&&e.apply)},isObject:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return e instanceof Object&&e.constructor===Object&&(n||Object.keys(e).length!==0)},isDate:function(e){return e instanceof Date&&e.constructor===Date},isArray:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return Array.isArray(e)&&(n||e.length!==0)},isString:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return typeof e=="string"&&(n||e!=="")},isPrintableCharacter:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return this.isNotEmpty(e)&&e.length===1&&e.match(/\S| /)},findLast:function(e,n){var r;if(this.isNotEmpty(e))try{r=e.findLast(n)}catch{r=WC(e).reverse().find(n)}return r},findLastIndex:function(e,n){var r=-1;if(this.isNotEmpty(e))try{r=e.findLastIndex(n)}catch{r=e.lastIndexOf(WC(e).reverse().find(n))}return r},sort:function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,i=arguments.length>3?arguments[3]:void 0,s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:1,o=this.compare(e,n,i,r),a=r;return(this.isEmpty(e)||this.isEmpty(n))&&(a=s===1?r:s),a*o},compare:function(e,n,r){var i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:1,s=-1,o=this.isEmpty(e),a=this.isEmpty(n);return o&&a?s=0:o?s=i:a?s=-i:typeof e=="string"&&typeof n=="string"?s=r(e,n):s=e<n?-1:e>n?1:0,s},localeComparator:function(){return new Intl.Collator(void 0,{numeric:!0}).compare},nestedKeys:function(){var e=this,n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";return Object.entries(n).reduce(function(i,s){var o=HC(s,2),a=o[0],l=o[1],u=r?"".concat(r,".").concat(a):a;return e.isObject(l)?i=i.concat(e.nestedKeys(l,u)):i.push(u),i},[])},stringify:function(e){var n=this,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:2,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,s=" ".repeat(i),o=" ".repeat(i+r);return this.isArray(e)?"["+e.map(function(a){return n.stringify(a,r,i+r)}).join(", ")+"]":this.isDate(e)?e.toISOString():this.isFunction(e)?e.toString():this.isObject(e)?`{
`+Object.entries(e).map(function(a){var l=HC(a,2),u=l[0],c=l[1];return"".concat(o).concat(u,": ").concat(n.stringify(c,r,i+r))}).join(`,
`)+`
`.concat(s)+"}":JSON.stringify(e)}},KC=0;function nc(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"pv_id_";return KC++,"".concat(t).concat(KC)}function JX(t){return nQ(t)||tQ(t)||eQ(t)||ZX()}function ZX(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function eQ(t,e){if(t){if(typeof t=="string")return lw(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return lw(t,e)}}function tQ(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function nQ(t){if(Array.isArray(t))return lw(t)}function lw(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function rQ(){var t=[],e=function(a,l){var u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:999,c=i(a,l,u),d=c.value+(c.key===a?0:u)+1;return t.push({key:a,value:d}),d},n=function(a){t=t.filter(function(l){return l.value!==a})},r=function(a,l){return i(a,l).value},i=function(a,l){var u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;return JX(t).reverse().find(function(c){return l?!0:c.key===a})||{key:a,value:u}},s=function(a){return a&&parseInt(a.style.zIndex,10)||0};return{get:s,set:function(a,l,u){l&&(l.style.zIndex=String(e(a,!0,u)))},clear:function(a){a&&(n(s(a)),a.style.zIndex="")},getCurrent:function(a){return r(a,!0)}}}var Ru=rQ();function wf(t){"@babel/helpers - typeof";return wf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wf(t)}function zC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function GC(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?zC(Object(n),!0).forEach(function(r){iQ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):zC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function iQ(t,e,n){return e=sQ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function sQ(t){var e=oQ(t,"string");return wf(e)=="symbol"?e:String(e)}function oQ(t,e){if(wf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(wf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function aQ(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;hs()?Gt(t):e?t():Wn(t)}var lQ=0;function aL(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=re(!1),r=re(t),i=re(null),s=Le.isClient()?window.document:void 0,o=e.document,a=o===void 0?s:o,l=e.immediate,u=l===void 0?!0:l,c=e.manual,d=c===void 0?!1:c,f=e.name,h=f===void 0?"style_".concat(++lQ):f,p=e.id,m=p===void 0?void 0:p,g=e.media,y=g===void 0?void 0:g,v=e.nonce,_=v===void 0?void 0:v,b=e.props,w=b===void 0?{}:b,T=function(){},P=function(E){var M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(a){var F=GC(GC({},w),M),N=F.name||h,x=F.id||m,R=F.nonce||_;i.value=a.querySelector('style[data-primevue-style-id="'.concat(N,'"]'))||a.getElementById(x)||a.createElement("style"),i.value.isConnected||(r.value=E||t,Le.setAttributes(i.value,{type:"text/css",id:x,media:y,nonce:R}),a.head.appendChild(i.value),Le.setAttribute(i.value,"data-primevue-style-id",h),Le.setAttributes(i.value,F)),!n.value&&(T=It(r,function(D){i.value.textContent=D},{immediate:!0}),n.value=!0)}},A=function(){!a||!n.value||(T(),Le.isExist(i.value)&&a.head.removeChild(i.value),n.value=!1)};return u&&!d&&aQ(P),{id:m,name:h,css:r,unload:A,load:P,isLoaded:hg(n)}}function _f(t){"@babel/helpers - typeof";return _f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_f(t)}function uQ(t,e){return hQ(t)||fQ(t,e)||dQ(t,e)||cQ()}function cQ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function dQ(t,e){if(t){if(typeof t=="string")return YC(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return YC(t,e)}}function YC(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function fQ(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,a=[],l=!0,u=!1;try{if(s=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=s.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return a}}function hQ(t){if(Array.isArray(t))return t}function qC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function jy(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?qC(Object(n),!0).forEach(function(r){pQ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):qC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function pQ(t,e,n){return e=mQ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function mQ(t){var e=gQ(t,"string");return _f(e)=="symbol"?e:String(e)}function gQ(t,e){if(_f(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(_f(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var vQ=`
.p-hidden-accessible {
    border: 0;
    clip: rect(0 0 0 0);
    height: 1px;
    margin: -1px;
    overflow: hidden;
    padding: 0;
    position: absolute;
    width: 1px;
}

.p-hidden-accessible input,
.p-hidden-accessible select {
    transform: scale(0);
}

.p-overflow-hidden {
    overflow: hidden;
    padding-right: var(--scrollbar-width);
}
`,yQ={},bQ={},Cr={name:"base",css:vQ,classes:yQ,inlineStyles:bQ,loadStyle:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return this.css?aL(this.css,jy({name:this.name},e)):{}},getStyleSheet:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.css){var r=Object.entries(n).reduce(function(i,s){var o=uQ(s,2),a=o[0],l=o[1];return i.push("".concat(a,'="').concat(l,'"'))&&i},[]).join(" ");return'<style type="text/css" data-primevue-style-id="'.concat(this.name,'" ').concat(r,">").concat(this.css).concat(e,"</style>")}return""},extend:function(e){return jy(jy({},this),{},{css:void 0},e)}},wQ={root:function(e){var n=e.props;return["p-avatar p-component",{"p-avatar-image":n.image!=null,"p-avatar-circle":n.shape==="circle","p-avatar-lg":n.size==="large","p-avatar-xl":n.size==="xlarge"}]},label:"p-avatar-text",icon:"p-avatar-icon"},_Q=Cr.extend({name:"avatar",classes:wQ});function Tf(t){"@babel/helpers - typeof";return Tf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tf(t)}function XC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function TQ(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?XC(Object(n),!0).forEach(function(r){SQ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):XC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function SQ(t,e,n){return e=EQ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function EQ(t){var e=IQ(t,"string");return Tf(e)=="symbol"?e:String(e)}function IQ(t,e){if(Tf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Tf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Hy=Cr.extend({name:"common",loadGlobalStyle:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return aL(e,TQ({name:"global"},n))}});function Sf(t){"@babel/helpers - typeof";return Sf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sf(t)}function CQ(t){return cL(t)||OQ(t)||uL(t)||lL()}function OQ(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function ip(t,e){return cL(t)||AQ(t,e)||uL(t,e)||lL()}function lL(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function uL(t,e){if(t){if(typeof t=="string")return QC(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return QC(t,e)}}function QC(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function AQ(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,a=[],l=!0,u=!1;try{if(s=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=s.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return a}}function cL(t){if(Array.isArray(t))return t}function JC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function dn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?JC(Object(n),!0).forEach(function(r){Mp(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):JC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Mp(t,e,n){return e=kQ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function kQ(t){var e=PQ(t,"string");return Sf(e)=="symbol"?e:String(e)}function PQ(t,e){if(Sf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Sf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Pi={name:"BaseComponent",props:{pt:{type:Object,default:void 0},ptOptions:{type:Object,default:void 0},unstyled:{type:Boolean,default:void 0}},inject:{$parentInstance:{default:void 0}},watch:{isUnstyled:{immediate:!0,handler:function(e){if(!e){var n,r;Hy.loadStyle({nonce:(n=this.$config)===null||n===void 0||(n=n.csp)===null||n===void 0?void 0:n.nonce}),this.$options.style&&this.$style.loadStyle({nonce:(r=this.$config)===null||r===void 0||(r=r.csp)===null||r===void 0?void 0:r.nonce})}}}},beforeCreate:function(){var e,n,r,i,s,o,a,l,u,c,d,f=(e=this.pt)===null||e===void 0?void 0:e._usept,h=f?(n=this.pt)===null||n===void 0||(n=n.originalValue)===null||n===void 0?void 0:n[this.$.type.name]:void 0,p=f?(r=this.pt)===null||r===void 0||(r=r.value)===null||r===void 0?void 0:r[this.$.type.name]:this.pt;(i=p||h)===null||i===void 0||(i=i.hooks)===null||i===void 0||(s=i.onBeforeCreate)===null||s===void 0||s.call(i);var m=(o=this.$config)===null||o===void 0||(o=o.pt)===null||o===void 0?void 0:o._usept,g=m?(a=this.$primevue)===null||a===void 0||(a=a.config)===null||a===void 0||(a=a.pt)===null||a===void 0?void 0:a.originalValue:void 0,y=m?(l=this.$primevue)===null||l===void 0||(l=l.config)===null||l===void 0||(l=l.pt)===null||l===void 0?void 0:l.value:(u=this.$primevue)===null||u===void 0||(u=u.config)===null||u===void 0?void 0:u.pt;(c=y||g)===null||c===void 0||(c=c[this.$.type.name])===null||c===void 0||(c=c.hooks)===null||c===void 0||(d=c.onBeforeCreate)===null||d===void 0||d.call(c)},created:function(){this._hook("onCreated")},beforeMount:function(){var e;Cr.loadStyle({nonce:(e=this.$config)===null||e===void 0||(e=e.csp)===null||e===void 0?void 0:e.nonce}),this._loadGlobalStyles(),this._hook("onBeforeMount")},mounted:function(){this._hook("onMounted")},beforeUpdate:function(){this._hook("onBeforeUpdate")},updated:function(){this._hook("onUpdated")},beforeUnmount:function(){this._hook("onBeforeUnmount")},unmounted:function(){this._hook("onUnmounted")},methods:{_hook:function(e){if(!this.$options.hostName){var n=this._usePT(this._getPT(this.pt,this.$.type.name),this._getOptionValue,"hooks.".concat(e)),r=this._useDefaultPT(this._getOptionValue,"hooks.".concat(e));n==null||n(),r==null||r()}},_mergeProps:function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return Ie.isFunction(e)?e.apply(void 0,r):le.apply(void 0,r)},_loadGlobalStyles:function(){var e,n=this._useGlobalPT(this._getOptionValue,"global.css",this.$params);Ie.isNotEmpty(n)&&Hy.loadGlobalStyle(n,{nonce:(e=this.$config)===null||e===void 0||(e=e.csp)===null||e===void 0?void 0:e.nonce})},_getHostInstance:function(e){return e?this.$options.hostName?e.$.type.name===this.$options.hostName?e:this._getHostInstance(e.$parentInstance):e.$parentInstance:void 0},_getPropValue:function(e){var n;return this[e]||((n=this._getHostInstance(this))===null||n===void 0?void 0:n[e])},_getOptionValue:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=Ie.toFlatCase(n).split("."),s=i.shift();return s?Ie.isObject(e)?this._getOptionValue(Ie.getItemValue(e[Object.keys(e).find(function(o){return Ie.toFlatCase(o)===s})||""],r),i.join("."),r):void 0:Ie.getItemValue(e,r)},_getPTValue:function(){var e,n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,o=/./g.test(r)&&!!i[r.split(".")[0]],a=this._getPropValue("ptOptions")||((e=this.$config)===null||e===void 0?void 0:e.ptOptions)||{},l=a.mergeSections,u=l===void 0?!0:l,c=a.mergeProps,d=c===void 0?!1:c,f=s?o?this._useGlobalPT(this._getPTClassValue,r,i):this._useDefaultPT(this._getPTClassValue,r,i):void 0,h=o?void 0:this._getPTSelf(n,this._getPTClassValue,r,dn(dn({},i),{},{global:f||{}})),p=this._getPTDatasets(r);return u||!u&&h?d?this._mergeProps(d,f,h,p):dn(dn(dn({},f),h),p):dn(dn({},h),p)},_getPTSelf:function(){for(var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return le(this._usePT.apply(this,[this._getPT(e,this.$name)].concat(r)),this._usePT.apply(this,[this.$_attrsPT].concat(r)))},_getPTDatasets:function(){var e,n,r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",i="data-pc-",s=r==="root"&&Ie.isNotEmpty((e=this.pt)===null||e===void 0?void 0:e["data-pc-section"]);return r!=="transition"&&dn(dn({},r==="root"&&dn(Mp({},"".concat(i,"name"),Ie.toFlatCase(s?(n=this.pt)===null||n===void 0?void 0:n["data-pc-section"]:this.$.type.name)),s&&Mp({},"".concat(i,"extend"),Ie.toFlatCase(this.$.type.name)))),{},Mp({},"".concat(i,"section"),Ie.toFlatCase(r)))},_getPTClassValue:function(){var e=this._getOptionValue.apply(this,arguments);return Ie.isString(e)||Ie.isArray(e)?{class:e}:e},_getPT:function(e){var n=this,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",i=arguments.length>2?arguments[2]:void 0,s=function(a){var l,u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,c=i?i(a):a,d=Ie.toFlatCase(r),f=Ie.toFlatCase(n.$name);return(l=u?d!==f?c==null?void 0:c[d]:void 0:c==null?void 0:c[d])!==null&&l!==void 0?l:c};return e!=null&&e.hasOwnProperty("_usept")?{_usept:e._usept,originalValue:s(e.originalValue),value:s(e.value)}:s(e,!0)},_usePT:function(e,n,r,i){var s=function(m){return n(m,r,i)};if(e!=null&&e.hasOwnProperty("_usept")){var o,a=e._usept||((o=this.$config)===null||o===void 0?void 0:o.ptOptions)||{},l=a.mergeSections,u=l===void 0?!0:l,c=a.mergeProps,d=c===void 0?!1:c,f=s(e.originalValue),h=s(e.value);return f===void 0&&h===void 0?void 0:Ie.isString(h)?h:Ie.isString(f)?f:u||!u&&h?d?this._mergeProps(d,f,h):dn(dn({},f),h):h}return s(e)},_useGlobalPT:function(e,n,r){return this._usePT(this.globalPT,e,n,r)},_useDefaultPT:function(e,n,r){return this._usePT(this.defaultPT,e,n,r)},ptm:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return this._getPTValue(this.pt,e,dn(dn({},this.$params),n))},ptmi:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return le(this.$_attrsNoPT,this.ptm(e,n))},ptmo:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this._getPTValue(e,n,dn({instance:this},r),!1)},cx:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return this.isUnstyled?void 0:this._getOptionValue(this.$style.classes,e,dn(dn({},this.$params),n))},sx:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(n){var i=this._getOptionValue(this.$style.inlineStyles,e,dn(dn({},this.$params),r)),s=this._getOptionValue(Hy.inlineStyles,e,dn(dn({},this.$params),r));return[s,i]}}},computed:{globalPT:function(){var e,n=this;return this._getPT((e=this.$config)===null||e===void 0?void 0:e.pt,void 0,function(r){return Ie.getItemValue(r,{instance:n})})},defaultPT:function(){var e,n=this;return this._getPT((e=this.$config)===null||e===void 0?void 0:e.pt,void 0,function(r){return n._getOptionValue(r,n.$name,dn({},n.$params))||Ie.getItemValue(r,dn({},n.$params))})},isUnstyled:function(){var e;return this.unstyled!==void 0?this.unstyled:(e=this.$config)===null||e===void 0?void 0:e.unstyled},$params:function(){var e=this._getHostInstance(this)||this.$parent;return{instance:this,props:this.$props,state:this.$data,attrs:this.$attrs,parent:{instance:e,props:e==null?void 0:e.$props,state:e==null?void 0:e.$data,attrs:e==null?void 0:e.$attrs},parentInstance:e}},$style:function(){return dn(dn({classes:void 0,inlineStyles:void 0,loadStyle:function(){},loadCustomStyle:function(){}},(this._getHostInstance(this)||{}).$style),this.$options.style)},$config:function(){var e;return(e=this.$primevue)===null||e===void 0?void 0:e.config},$name:function(){return this.$options.hostName||this.$.type.name},$_attrsPT:function(){return Object.entries(this.$attrs||{}).filter(function(e){var n=ip(e,1),r=n[0];return r==null?void 0:r.startsWith("pt:")}).reduce(function(e,n){var r=ip(n,2),i=r[0],s=r[1],o=i.split(":"),a=CQ(o),l=a.slice(1);return l==null||l.reduce(function(u,c,d,f){return!u[c]&&(u[c]=d===f.length-1?s:{}),u[c]},e),e},{})},$_attrsNoPT:function(){return Object.entries(this.$attrs||{}).filter(function(e){var n=ip(e,1),r=n[0];return!(r!=null&&r.startsWith("pt:"))}).reduce(function(e,n){var r=ip(n,2),i=r[0],s=r[1];return e[i]=s,e},{})}}},xQ={name:"BaseAvatar",extends:Pi,props:{label:{type:String,default:null},icon:{type:String,default:null},image:{type:String,default:null},size:{type:String,default:"normal"},shape:{type:String,default:"square"},ariaLabelledby:{type:String,default:null},ariaLabel:{type:String,default:null}},style:_Q,provide:function(){return{$parentInstance:this}}},uw={name:"Avatar",extends:xQ,inheritAttrs:!1,emits:["error"],methods:{onError:function(e){this.$emit("error",e)}}},DQ=["aria-labelledby","aria-label"],RQ=["src","alt"];function NQ(t,e,n,r,i,s){return S(),V("div",le({class:t.cx("root"),"aria-labelledby":t.ariaLabelledby,"aria-label":t.ariaLabel},t.ptmi("root")),[ge(t.$slots,"default",{},function(){return[t.label?(S(),V("span",le({key:0,class:t.cx("label")},t.ptm("label")),$e(t.label),17)):t.$slots.icon?(S(),ie(gn(t.$slots.icon),{key:1,class:ke(t.cx("icon"))},null,8,["class"])):t.icon?(S(),V("span",le({key:2,class:[t.cx("icon"),t.icon]},t.ptm("icon")),null,16)):t.image?(S(),V("img",le({key:3,src:t.image,alt:t.ariaLabel,onError:e[0]||(e[0]=function(){return s.onError&&s.onError.apply(s,arguments)})},t.ptm("image")),null,16,RQ)):Y("",!0)]})],16,DQ)}uw.render=NQ;var MQ={root:function(e){var n=e.props;return["p-tag p-component",{"p-tag-info":n.severity==="info","p-tag-success":n.severity==="success","p-tag-warning":n.severity==="warning","p-tag-danger":n.severity==="danger","p-tag-secondary":n.severity==="secondary","p-tag-contrast":n.severity==="contrast","p-tag-rounded":n.rounded}]},icon:"p-tag-icon",value:"p-tag-value"},LQ=Cr.extend({name:"tag",classes:MQ}),$Q={name:"BaseTag",extends:Pi,props:{value:null,severity:null,rounded:Boolean,icon:String},style:LQ,provide:function(){return{$parentInstance:this}}},cw={name:"Tag",extends:$Q,inheritAttrs:!1};function FQ(t,e,n,r,i,s){return S(),V("span",le({class:t.cx("root")},t.ptmi("root")),[t.$slots.icon?(S(),ie(gn(t.$slots.icon),le({key:0,class:t.cx("icon")},t.ptm("icon")),null,16,["class"])):t.icon?(S(),V("span",le({key:1,class:[t.cx("icon"),t.icon]},t.ptm("icon")),null,16)):Y("",!0),t.value||t.$slots.default?ge(t.$slots,"default",{key:2},function(){return[K("span",le({class:t.cx("value")},t.ptm("value")),$e(t.value),17)]}):Y("",!0)],16)}cw.render=FQ;const UQ={class:"flex justify-between"},VQ={class:"flex flex-col"},BQ={class:"flex justify-between"},jQ={class:"xl:flex"},HQ={key:0,class:"flex gap-2"},WQ=["href"],KQ={class:"text-2xl group-hover/bubble:underline font-bold mb-2"},zQ={key:1,class:"flex gap-2"},GQ={key:0,class:"xl:mt-2"},Zr=Oe({__name:"Bubble",props:{title:{},subTitle:{},tags:{},url:{},description:{},avatar:{},loading:{type:Boolean},titleProps:{},subTitleProps:{},descriptionProps:{}},setup(t){return(e,n)=>(S(),V("div",{class:ke(["group/bubble color-primary rounded-3xl p-5 md:p-10",e.url?"hover:bg-opacity-30":null,e.loading?"animate-pulse":null])},[K("div",UQ,[K("div",VQ,[K("div",BQ,[K("div",jQ,[e.url?(S(),V("div",HQ,[e.avatar?(S(),ie(k(uw),{key:0,image:e.avatar,shape:"circle"},null,8,["image"])):Y("",!0),K("a",{href:e.url},[K("h2",KQ,$e(e.title),1)],8,WQ),e.tags?(S(!0),V(Te,{key:1},st(e.tags,r=>(S(),ie(k(cw),{class:"ms-2",value:r.value,severity:r.severity,rounded:r.rounded!==!1,icon:r.icon},null,8,["value","severity","rounded","icon"]))),256)):Y("",!0)])):e.title?(S(),V("div",zQ,[e.avatar?(S(),ie(k(uw),{key:0,image:e.avatar,shape:"circle"},null,8,["image"])):Y("",!0),K("h2",le({class:"text-2xl font-bold mb-2 xl:whitespace-nowrap"},e.titleProps),[Je($e(e.title)+" ",1),e.tags?(S(!0),V(Te,{key:0},st(e.tags,r=>(S(),ie(k(cw),{class:"ms-2",value:r.value,severity:r.severity,rounded:r.rounded!==!1,icon:r.icon},null,8,["value","severity","rounded","icon"]))),256)):Y("",!0)],16)])):Y("",!0),e.subTitle?(S(),V("p",le({key:2,class:"text-sm text-gray-300 mt-2 mb-2 xl:ms-2 xl:mt-2 xl:whitespace-nowrap"},e.subTitleProps),$e(e.subTitle),17)):Y("",!0)])]),e.description?(S(),V("div",GQ,[(S(!0),V(Te,null,st(Array.isArray(e.description)?e.description:[e.description],r=>(S(),V("p",le({class:"text-gray-400 mb-2"},e.descriptionProps),$e(r),17))),256))])):Y("",!0)]),ge(e.$slots,"right")]),ge(e.$slots,"default")],2))}});var YQ=`
.p-icon {
    display: inline-block;
}

.p-icon-spin {
    -webkit-animation: p-icon-spin 2s infinite linear;
    animation: p-icon-spin 2s infinite linear;
}

@-webkit-keyframes p-icon-spin {
    0% {
        -webkit-transform: rotate(0deg);
        transform: rotate(0deg);
    }
    100% {
        -webkit-transform: rotate(359deg);
        transform: rotate(359deg);
    }
}

@keyframes p-icon-spin {
    0% {
        -webkit-transform: rotate(0deg);
        transform: rotate(0deg);
    }
    100% {
        -webkit-transform: rotate(359deg);
        transform: rotate(359deg);
    }
}
`,qQ=Cr.extend({name:"baseicon",css:YQ});function Ef(t){"@babel/helpers - typeof";return Ef=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ef(t)}function ZC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function eO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ZC(Object(n),!0).forEach(function(r){XQ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ZC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function XQ(t,e,n){return e=QQ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function QQ(t){var e=JQ(t,"string");return Ef(e)=="symbol"?e:String(e)}function JQ(t,e){if(Ef(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Ef(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ha={name:"BaseIcon",extends:Pi,props:{label:{type:String,default:void 0},spin:{type:Boolean,default:!1}},style:qQ,methods:{pti:function(){var e=Ie.isEmpty(this.label);return eO(eO({},!this.isUnstyled&&{class:["p-icon",{"p-icon-spin":this.spin}]}),{},{role:e?void 0:"img","aria-label":e?void 0:this.label,"aria-hidden":e})}}},_v={name:"ChevronDownIcon",extends:ha},ZQ=K("path",{d:"M7.01744 10.398C6.91269 10.3985 6.8089 10.378 6.71215 10.3379C6.61541 10.2977 6.52766 10.2386 6.45405 10.1641L1.13907 4.84913C1.03306 4.69404 0.985221 4.5065 1.00399 4.31958C1.02276 4.13266 1.10693 3.95838 1.24166 3.82747C1.37639 3.69655 1.55301 3.61742 1.74039 3.60402C1.92777 3.59062 2.11386 3.64382 2.26584 3.75424L7.01744 8.47394L11.769 3.75424C11.9189 3.65709 12.097 3.61306 12.2748 3.62921C12.4527 3.64535 12.6199 3.72073 12.7498 3.84328C12.8797 3.96582 12.9647 4.12842 12.9912 4.30502C13.0177 4.48162 12.9841 4.662 12.8958 4.81724L7.58083 10.1322C7.50996 10.2125 7.42344 10.2775 7.32656 10.3232C7.22968 10.3689 7.12449 10.3944 7.01744 10.398Z",fill:"currentColor"},null,-1),eJ=[ZQ];function tJ(t,e,n,r,i,s){return S(),V("svg",le({width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t.pti()),eJ,16)}_v.render=tJ;var dL={name:"ChevronRightIcon",extends:ha},nJ=K("path",{d:"M4.38708 13C4.28408 13.0005 4.18203 12.9804 4.08691 12.9409C3.99178 12.9014 3.9055 12.8433 3.83313 12.7701C3.68634 12.6231 3.60388 12.4238 3.60388 12.2161C3.60388 12.0084 3.68634 11.8091 3.83313 11.6622L8.50507 6.99022L3.83313 2.31827C3.69467 2.16968 3.61928 1.97313 3.62287 1.77005C3.62645 1.56698 3.70872 1.37322 3.85234 1.22959C3.99596 1.08597 4.18972 1.00371 4.3928 1.00012C4.59588 0.996539 4.79242 1.07192 4.94102 1.21039L10.1669 6.43628C10.3137 6.58325 10.3962 6.78249 10.3962 6.99022C10.3962 7.19795 10.3137 7.39718 10.1669 7.54416L4.94102 12.7701C4.86865 12.8433 4.78237 12.9014 4.68724 12.9409C4.59212 12.9804 4.49007 13.0005 4.38708 13Z",fill:"currentColor"},null,-1),rJ=[nJ];function iJ(t,e,n,r,i,s){return S(),V("svg",le({width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t.pti()),rJ,16)}dL.render=iJ;function If(t){"@babel/helpers - typeof";return If=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},If(t)}function tO(t,e){return lJ(t)||aJ(t,e)||oJ(t,e)||sJ()}function sJ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function oJ(t,e){if(t){if(typeof t=="string")return nO(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return nO(t,e)}}function nO(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function aJ(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,a=[],l=!0,u=!1;try{if(s=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=s.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return a}}function lJ(t){if(Array.isArray(t))return t}function rO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Cn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?rO(Object(n),!0).forEach(function(r){dw(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):rO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function dw(t,e,n){return e=uJ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function uJ(t){var e=cJ(t,"string");return If(e)=="symbol"?e:String(e)}function cJ(t,e){if(If(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(If(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Bt={_getMeta:function(){return[Ie.isObject(arguments.length<=0?void 0:arguments[0])||arguments.length<=0?void 0:arguments[0],Ie.getItemValue(Ie.isObject(arguments.length<=0?void 0:arguments[0])?arguments.length<=0?void 0:arguments[0]:arguments.length<=1?void 0:arguments[1])]},_getConfig:function(e,n){var r,i,s;return(r=(e==null||(i=e.instance)===null||i===void 0?void 0:i.$primevue)||(n==null||(s=n.ctx)===null||s===void 0||(s=s.appContext)===null||s===void 0||(s=s.config)===null||s===void 0||(s=s.globalProperties)===null||s===void 0?void 0:s.$primevue))===null||r===void 0?void 0:r.config},_getOptionValue:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=Ie.toFlatCase(n).split("."),s=i.shift();return s?Ie.isObject(e)?Bt._getOptionValue(Ie.getItemValue(e[Object.keys(e).find(function(o){return Ie.toFlatCase(o)===s})||""],r),i.join("."),r):void 0:Ie.getItemValue(e,r)},_getPTValue:function(){var e,n,r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"",o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,l=function(){var v=Bt._getOptionValue.apply(Bt,arguments);return Ie.isString(v)||Ie.isArray(v)?{class:v}:v},u=((e=r.binding)===null||e===void 0||(e=e.value)===null||e===void 0?void 0:e.ptOptions)||((n=r.$config)===null||n===void 0?void 0:n.ptOptions)||{},c=u.mergeSections,d=c===void 0?!0:c,f=u.mergeProps,h=f===void 0?!1:f,p=a?Bt._useDefaultPT(r,r.defaultPT(),l,s,o):void 0,m=Bt._usePT(r,Bt._getPT(i,r.$name),l,s,Cn(Cn({},o),{},{global:p||{}})),g=Bt._getPTDatasets(r,s);return d||!d&&m?h?Bt._mergeProps(r,h,p,m,g):Cn(Cn(Cn({},p),m),g):Cn(Cn({},m),g)},_getPTDatasets:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",r="data-pc-";return Cn(Cn({},n==="root"&&dw({},"".concat(r,"name"),Ie.toFlatCase(e.$name))),{},dw({},"".concat(r,"section"),Ie.toFlatCase(n)))},_getPT:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",r=arguments.length>2?arguments[2]:void 0,i=function(o){var a,l=r?r(o):o,u=Ie.toFlatCase(n);return(a=l==null?void 0:l[u])!==null&&a!==void 0?a:l};return e!=null&&e.hasOwnProperty("_usept")?{_usept:e._usept,originalValue:i(e.originalValue),value:i(e.value)}:i(e)},_usePT:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0,r=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,s=arguments.length>4?arguments[4]:void 0,o=function(g){return r(g,i,s)};if(n!=null&&n.hasOwnProperty("_usept")){var a,l=n._usept||((a=e.$config)===null||a===void 0?void 0:a.ptOptions)||{},u=l.mergeSections,c=u===void 0?!0:u,d=l.mergeProps,f=d===void 0?!1:d,h=o(n.originalValue),p=o(n.value);return h===void 0&&p===void 0?void 0:Ie.isString(p)?p:Ie.isString(h)?h:c||!c&&p?f?Bt._mergeProps(e,f,h,p):Cn(Cn({},h),p):p}return o(n)},_useDefaultPT:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,s=arguments.length>4?arguments[4]:void 0;return Bt._usePT(e,n,r,i,s)},_hook:function(e,n,r,i,s,o){var a,l,u="on".concat(Ie.toCapitalCase(n)),c=Bt._getConfig(i,s),d=r==null?void 0:r.$instance,f=Bt._usePT(d,Bt._getPT(i==null||(a=i.value)===null||a===void 0?void 0:a.pt,e),Bt._getOptionValue,"hooks.".concat(u)),h=Bt._useDefaultPT(d,c==null||(l=c.pt)===null||l===void 0||(l=l.directives)===null||l===void 0?void 0:l[e],Bt._getOptionValue,"hooks.".concat(u)),p={el:r,binding:i,vnode:s,prevVnode:o};f==null||f(d,p),h==null||h(d,p)},_mergeProps:function(){for(var e=arguments.length>1?arguments[1]:void 0,n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];return Ie.isFunction(e)?e.apply(void 0,r):le.apply(void 0,r)},_extend:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=function(s,o,a,l,u){var c,d;o._$instances=o._$instances||{};var f=Bt._getConfig(a,l),h=o._$instances[e]||{},p=Ie.isEmpty(h)?Cn(Cn({},n),n==null?void 0:n.methods):{};o._$instances[e]=Cn(Cn({},h),{},{$name:e,$host:o,$binding:a,$modifiers:a==null?void 0:a.modifiers,$value:a==null?void 0:a.value,$el:h.$el||o||void 0,$style:Cn({classes:void 0,inlineStyles:void 0,loadStyle:function(){}},n==null?void 0:n.style),$config:f,defaultPT:function(){return Bt._getPT(f==null?void 0:f.pt,void 0,function(g){var y;return g==null||(y=g.directives)===null||y===void 0?void 0:y[e]})},isUnstyled:function(){var g,y;return((g=o.$instance)===null||g===void 0||(g=g.$binding)===null||g===void 0||(g=g.value)===null||g===void 0?void 0:g.unstyled)!==void 0?(y=o.$instance)===null||y===void 0||(y=y.$binding)===null||y===void 0||(y=y.value)===null||y===void 0?void 0:y.unstyled:f==null?void 0:f.unstyled},ptm:function(){var g,y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",v=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Bt._getPTValue(o.$instance,(g=o.$instance)===null||g===void 0||(g=g.$binding)===null||g===void 0||(g=g.value)===null||g===void 0?void 0:g.pt,y,Cn({},v))},ptmo:function(){var g=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return Bt._getPTValue(o.$instance,g,y,v,!1)},cx:function(){var g,y,v=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",_=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return(g=o.$instance)!==null&&g!==void 0&&g.isUnstyled()?void 0:Bt._getOptionValue((y=o.$instance)===null||y===void 0||(y=y.$style)===null||y===void 0?void 0:y.classes,v,Cn({},_))},sx:function(){var g,y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",v=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,_=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return v?Bt._getOptionValue((g=o.$instance)===null||g===void 0||(g=g.$style)===null||g===void 0?void 0:g.inlineStyles,y,Cn({},_)):void 0}},p),o.$instance=o._$instances[e],(c=(d=o.$instance)[s])===null||c===void 0||c.call(d,o,a,l,u),o["$".concat(e)]=o.$instance,Bt._hook(e,s,o,a,l,u)};return{created:function(s,o,a,l){r("created",s,o,a,l)},beforeMount:function(s,o,a,l){var u,c,d,f,h=Bt._getConfig(o,a);Cr.loadStyle({nonce:h==null||(u=h.csp)===null||u===void 0?void 0:u.nonce}),!((c=s.$instance)!==null&&c!==void 0&&c.isUnstyled())&&((d=s.$instance)===null||d===void 0||(d=d.$style)===null||d===void 0||d.loadStyle({nonce:h==null||(f=h.csp)===null||f===void 0?void 0:f.nonce})),r("beforeMount",s,o,a,l)},mounted:function(s,o,a,l){var u,c,d,f,h=Bt._getConfig(o,a);Cr.loadStyle({nonce:h==null||(u=h.csp)===null||u===void 0?void 0:u.nonce}),!((c=s.$instance)!==null&&c!==void 0&&c.isUnstyled())&&((d=s.$instance)===null||d===void 0||(d=d.$style)===null||d===void 0||d.loadStyle({nonce:h==null||(f=h.csp)===null||f===void 0?void 0:f.nonce})),r("mounted",s,o,a,l)},beforeUpdate:function(s,o,a,l){r("beforeUpdate",s,o,a,l)},updated:function(s,o,a,l){r("updated",s,o,a,l)},beforeUnmount:function(s,o,a,l){r("beforeUnmount",s,o,a,l)},unmounted:function(s,o,a,l){r("unmounted",s,o,a,l)}}},extend:function(){var e=Bt._getMeta.apply(Bt,arguments),n=tO(e,2),r=n[0],i=n[1];return Cn({extend:function(){var o=Bt._getMeta.apply(Bt,arguments),a=tO(o,2),l=a[0],u=a[1];return Bt.extend(l,Cn(Cn(Cn({},i),i==null?void 0:i.methods),u))}},Bt._extend(r,i))}},dJ={root:"p-ink"},fJ=Cr.extend({name:"ripple",classes:dJ}),hJ=Bt.extend({style:fJ});function pJ(t){return yJ(t)||vJ(t)||gJ(t)||mJ()}function mJ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gJ(t,e){if(t){if(typeof t=="string")return fw(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return fw(t,e)}}function vJ(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function yJ(t){if(Array.isArray(t))return fw(t)}function fw(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var mT=hJ.extend("ripple",{mounted:function(e){var n,r=e==null||(n=e.$instance)===null||n===void 0?void 0:n.$config;r&&r.ripple&&(this.create(e),this.bindEvents(e),e.setAttribute("data-pd-ripple",!0))},unmounted:function(e){this.remove(e)},timeout:void 0,methods:{bindEvents:function(e){e.addEventListener("mousedown",this.onMouseDown.bind(this))},unbindEvents:function(e){e.removeEventListener("mousedown",this.onMouseDown.bind(this))},create:function(e){var n=Le.createElement("span",{role:"presentation","aria-hidden":!0,"data-p-ink":!0,"data-p-ink-active":!1,class:!this.isUnstyled()&&this.cx("root"),onAnimationEnd:this.onAnimationEnd.bind(this),"p-bind":this.ptm("root")});e.appendChild(n),this.$el=n},remove:function(e){var n=this.getInk(e);n&&(this.unbindEvents(e),n.removeEventListener("animationend",this.onAnimationEnd),n.remove())},onMouseDown:function(e){var n=this,r=e.currentTarget,i=this.getInk(r);if(!(!i||getComputedStyle(i,null).display==="none")){if(!this.isUnstyled()&&Le.removeClass(i,"p-ink-active"),i.setAttribute("data-p-ink-active","false"),!Le.getHeight(i)&&!Le.getWidth(i)){var s=Math.max(Le.getOuterWidth(r),Le.getOuterHeight(r));i.style.height=s+"px",i.style.width=s+"px"}var o=Le.getOffset(r),a=e.pageX-o.left+document.body.scrollTop-Le.getWidth(i)/2,l=e.pageY-o.top+document.body.scrollLeft-Le.getHeight(i)/2;i.style.top=l+"px",i.style.left=a+"px",!this.isUnstyled()&&Le.addClass(i,"p-ink-active"),i.setAttribute("data-p-ink-active","true"),this.timeout=setTimeout(function(){i&&(!n.isUnstyled()&&Le.removeClass(i,"p-ink-active"),i.setAttribute("data-p-ink-active","false"))},401)}},onAnimationEnd:function(e){this.timeout&&clearTimeout(this.timeout),!this.isUnstyled()&&Le.removeClass(e.currentTarget,"p-ink-active"),e.currentTarget.setAttribute("data-p-ink-active","false")},getInk:function(e){return e&&e.children?pJ(e.children).find(function(n){return Le.getAttribute(n,"data-pc-name")==="ripple"}):void 0}}}),bJ={root:"p-accordion p-component",tab:{root:function(e){var n=e.instance,r=e.index;return["p-accordion-tab",{"p-accordion-tab-active":n.isTabActive(r)}]},header:function(e){var n=e.instance,r=e.tab,i=e.index;return["p-accordion-header",{"p-highlight":n.isTabActive(i),"p-disabled":n.getTabProp(r,"disabled")}]},headerAction:"p-accordion-header-link p-accordion-header-action",headerIcon:"p-accordion-toggle-icon",headerTitle:"p-accordion-header-text",toggleableContent:"p-toggleable-content",content:"p-accordion-content"}},wJ=Cr.extend({name:"accordion",classes:bJ}),_J={name:"BaseAccordion",extends:Pi,props:{multiple:{type:Boolean,default:!1},activeIndex:{type:[Number,Array],default:null},lazy:{type:Boolean,default:!1},expandIcon:{type:String,default:void 0},collapseIcon:{type:String,default:void 0},tabindex:{type:Number,default:0},selectOnFocus:{type:Boolean,default:!1}},style:wJ,provide:function(){return{$parentInstance:this}}},_h={name:"Accordion",extends:_J,inheritAttrs:!1,emits:["update:activeIndex","tab-open","tab-close","tab-click"],data:function(){return{id:this.$attrs.id,d_activeIndex:this.activeIndex}},watch:{"$attrs.id":function(e){this.id=e||nc()},activeIndex:function(e){this.d_activeIndex=e}},mounted:function(){this.id=this.id||nc()},methods:{isAccordionTab:function(e){return e.type.name==="AccordionTab"},isTabActive:function(e){return this.multiple?this.d_activeIndex&&this.d_activeIndex.includes(e):this.d_activeIndex===e},getTabProp:function(e,n){return e.props?e.props[n]:void 0},getKey:function(e,n){return this.getTabProp(e,"header")||n},getTabHeaderActionId:function(e){return"".concat(this.id,"_").concat(e,"_header_action")},getTabContentId:function(e){return"".concat(this.id,"_").concat(e,"_content")},getTabPT:function(e,n,r){var i=this.tabs.length,s={props:e.props||{},parent:{instance:this,props:this.$props,state:this.$data},context:{index:r,count:i,first:r===0,last:r===i-1,active:this.isTabActive(r)}};return le(this.ptm("tab.".concat(n),{tab:s}),this.ptm("accordiontab.".concat(n),{accordiontab:s}),this.ptm("accordiontab.".concat(n),s),this.ptmo(this.getTabProp(e,"pt"),n,s))},onTabClick:function(e,n,r){this.changeActiveIndex(e,n,r),this.$emit("tab-click",{originalEvent:e,index:r})},onTabKeyDown:function(e,n,r){switch(e.code){case"ArrowDown":this.onTabArrowDownKey(e);break;case"ArrowUp":this.onTabArrowUpKey(e);break;case"Home":this.onTabHomeKey(e);break;case"End":this.onTabEndKey(e);break;case"Enter":case"NumpadEnter":case"Space":this.onTabEnterKey(e,n,r);break}},onTabArrowDownKey:function(e){var n=this.findNextHeaderAction(e.target.parentElement.parentElement);n?this.changeFocusedTab(e,n):this.onTabHomeKey(e),e.preventDefault()},onTabArrowUpKey:function(e){var n=this.findPrevHeaderAction(e.target.parentElement.parentElement);n?this.changeFocusedTab(e,n):this.onTabEndKey(e),e.preventDefault()},onTabHomeKey:function(e){var n=this.findFirstHeaderAction();this.changeFocusedTab(e,n),e.preventDefault()},onTabEndKey:function(e){var n=this.findLastHeaderAction();this.changeFocusedTab(e,n),e.preventDefault()},onTabEnterKey:function(e,n,r){this.changeActiveIndex(e,n,r),e.preventDefault()},findNextHeaderAction:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,r=n?e:e.nextElementSibling,i=Le.findSingle(r,'[data-pc-section="header"]');return i?Le.getAttribute(i,"data-p-disabled")?this.findNextHeaderAction(i.parentElement):Le.findSingle(i,'[data-pc-section="headeraction"]'):null},findPrevHeaderAction:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,r=n?e:e.previousElementSibling,i=Le.findSingle(r,'[data-pc-section="header"]');return i?Le.getAttribute(i,"data-p-disabled")?this.findPrevHeaderAction(i.parentElement):Le.findSingle(i,'[data-pc-section="headeraction"]'):null},findFirstHeaderAction:function(){return this.findNextHeaderAction(this.$el.firstElementChild,!0)},findLastHeaderAction:function(){return this.findPrevHeaderAction(this.$el.lastElementChild,!0)},changeActiveIndex:function(e,n,r){if(!this.getTabProp(n,"disabled")){var i=this.isTabActive(r),s=i?"tab-close":"tab-open";this.multiple?i?this.d_activeIndex=this.d_activeIndex.filter(function(o){return o!==r}):this.d_activeIndex?this.d_activeIndex.push(r):this.d_activeIndex=[r]:this.d_activeIndex=this.d_activeIndex===r?null:r,this.$emit("update:activeIndex",this.d_activeIndex),this.$emit(s,{originalEvent:e,index:r})}},changeFocusedTab:function(e,n){if(n&&(Le.focus(n),this.selectOnFocus)){var r=parseInt(n.parentElement.parentElement.dataset.pcIndex,10),i=this.tabs[r];this.changeActiveIndex(e,i,r)}}},computed:{tabs:function(){var e=this;return this.$slots.default().reduce(function(n,r){return e.isAccordionTab(r)?n.push(r):r.children&&r.children instanceof Array&&r.children.forEach(function(i){e.isAccordionTab(i)&&n.push(i)}),n},[])}},components:{ChevronDownIcon:_v,ChevronRightIcon:dL},directives:{ripple:mT}};function Cf(t){"@babel/helpers - typeof";return Cf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cf(t)}function iO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Hl(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?iO(Object(n),!0).forEach(function(r){TJ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):iO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function TJ(t,e,n){return e=SJ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function SJ(t){var e=EJ(t,"string");return Cf(e)=="symbol"?e:String(e)}function EJ(t,e){if(Cf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Cf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var IJ=["data-pc-index","data-p-active"],CJ=["data-p-highlight","data-p-disabled"],OJ=["id","tabindex","aria-disabled","aria-expanded","aria-controls","onClick","onKeydown"],AJ=["id","aria-labelledby"];function kJ(t,e,n,r,i,s){return S(),V("div",le({class:t.cx("root")},t.ptmi("root")),[(S(!0),V(Te,null,st(s.tabs,function(o,a){return S(),V("div",le({key:s.getKey(o,a),class:t.cx("tab.root",{tab:o,index:a})},s.getTabPT(o,"root",a),{"data-pc-name":"accordiontab","data-pc-index":a,"data-p-active":s.isTabActive(a)}),[K("div",le({style:s.getTabProp(o,"headerStyle"),class:[t.cx("tab.header",{tab:o,index:a}),s.getTabProp(o,"headerClass")]},Hl(Hl({},s.getTabProp(o,"headerProps")),s.getTabPT(o,"header",a)),{"data-p-highlight":s.isTabActive(a),"data-p-disabled":s.getTabProp(o,"disabled")}),[K("a",le({id:s.getTabHeaderActionId(a),class:t.cx("tab.headerAction"),tabindex:s.getTabProp(o,"disabled")?-1:t.tabindex,role:"button","aria-disabled":s.getTabProp(o,"disabled"),"aria-expanded":s.isTabActive(a),"aria-controls":s.getTabContentId(a),onClick:function(u){return s.onTabClick(u,o,a)},onKeydown:function(u){return s.onTabKeyDown(u,o,a)}},Hl(Hl({},s.getTabProp(o,"headeractionprops")),s.getTabPT(o,"headeraction",a))),[o.children&&o.children.headericon?(S(),ie(gn(o.children.headericon),{key:0,isTabActive:s.isTabActive(a),active:s.isTabActive(a),index:a},null,8,["isTabActive","active","index"])):s.isTabActive(a)?(S(),ie(gn(t.$slots.collapseicon?t.$slots.collapseicon:t.collapseIcon?"span":"ChevronDownIcon"),le({key:1,class:[t.cx("tab.headerIcon"),t.collapseIcon],"aria-hidden":"true"},s.getTabPT(o,"headericon",a)),null,16,["class"])):(S(),ie(gn(t.$slots.expandicon?t.$slots.expandicon:t.expandIcon?"span":"ChevronRightIcon"),le({key:2,class:[t.cx("tab.headerIcon"),t.expandIcon],"aria-hidden":"true"},s.getTabPT(o,"headericon",a)),null,16,["class"])),o.props&&o.props.header?(S(),V("span",le({key:3,class:t.cx("tab.headerTitle")},s.getTabPT(o,"headertitle",a)),$e(o.props.header),17)):Y("",!0),o.children&&o.children.header?(S(),ie(gn(o.children.header),{key:4})):Y("",!0)],16,OJ)],16,CJ),J(Hi,le({name:"p-toggleable-content"},s.getTabPT(o,"transition",a)),{default:ce(function(){return[!t.lazy||s.isTabActive(a)?ns((S(),V("div",le({key:0,id:s.getTabContentId(a),style:s.getTabProp(o,"contentStyle"),class:[t.cx("tab.toggleableContent"),s.getTabProp(o,"contentClass")],role:"region","aria-labelledby":s.getTabHeaderActionId(a)},Hl(Hl({},s.getTabProp(o,"contentProps")),s.getTabPT(o,"toggleablecontent",a))),[K("div",le({class:t.cx("tab.content")},s.getTabPT(o,"content",a)),[(S(),ie(gn(o)))],16)],16,AJ)),[[Js,t.lazy?!0:s.isTabActive(a)]]):Y("",!0)]}),_:2},1040)],16,IJ)}),128))],16)}_h.render=kJ;var PJ={},xJ={name:"BaseAccordionTab",extends:Pi,props:{header:null,headerStyle:null,headerClass:null,headerProps:null,headerActionProps:null,contentStyle:null,contentClass:null,contentProps:null,disabled:Boolean},style:PJ,provide:function(){return{$parentInstance:this}}},Yo={name:"AccordionTab",extends:xJ,inheritAttrs:!1};function DJ(t,e,n,r,i,s){return ge(t.$slots,"default")}Yo.render=DJ;var gT={name:"TimesCircleIcon",extends:ha},RJ=K("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M7 14C5.61553 14 4.26215 13.5895 3.11101 12.8203C1.95987 12.0511 1.06266 10.9579 0.532846 9.67879C0.00303296 8.3997 -0.13559 6.99224 0.134506 5.63437C0.404603 4.2765 1.07129 3.02922 2.05026 2.05026C3.02922 1.07129 4.2765 0.404603 5.63437 0.134506C6.99224 -0.13559 8.3997 0.00303296 9.67879 0.532846C10.9579 1.06266 12.0511 1.95987 12.8203 3.11101C13.5895 4.26215 14 5.61553 14 7C14 8.85652 13.2625 10.637 11.9497 11.9497C10.637 13.2625 8.85652 14 7 14ZM7 1.16667C5.84628 1.16667 4.71846 1.50879 3.75918 2.14976C2.79989 2.79074 2.05222 3.70178 1.61071 4.76768C1.16919 5.83358 1.05367 7.00647 1.27876 8.13803C1.50384 9.26958 2.05941 10.309 2.87521 11.1248C3.69102 11.9406 4.73042 12.4962 5.86198 12.7212C6.99353 12.9463 8.16642 12.8308 9.23232 12.3893C10.2982 11.9478 11.2093 11.2001 11.8502 10.2408C12.4912 9.28154 12.8333 8.15373 12.8333 7C12.8333 5.45291 12.2188 3.96918 11.1248 2.87521C10.0308 1.78125 8.5471 1.16667 7 1.16667ZM4.66662 9.91668C4.58998 9.91704 4.51404 9.90209 4.44325 9.87271C4.37246 9.84333 4.30826 9.8001 4.2544 9.74557C4.14516 9.6362 4.0838 9.48793 4.0838 9.33335C4.0838 9.17876 4.14516 9.0305 4.2544 8.92113L6.17553 7L4.25443 5.07891C4.15139 4.96832 4.09529 4.82207 4.09796 4.67094C4.10063 4.51982 4.16185 4.37563 4.26872 4.26876C4.3756 4.16188 4.51979 4.10066 4.67091 4.09799C4.82204 4.09532 4.96829 4.15142 5.07887 4.25446L6.99997 6.17556L8.92106 4.25446C9.03164 4.15142 9.1779 4.09532 9.32903 4.09799C9.48015 4.10066 9.62434 4.16188 9.73121 4.26876C9.83809 4.37563 9.89931 4.51982 9.90198 4.67094C9.90464 4.82207 9.84855 4.96832 9.74551 5.07891L7.82441 7L9.74554 8.92113C9.85478 9.0305 9.91614 9.17876 9.91614 9.33335C9.91614 9.48793 9.85478 9.6362 9.74554 9.74557C9.69168 9.8001 9.62748 9.84333 9.55669 9.87271C9.4859 9.90209 9.40996 9.91704 9.33332 9.91668C9.25668 9.91704 9.18073 9.90209 9.10995 9.87271C9.03916 9.84333 8.97495 9.8001 8.9211 9.74557L6.99997 7.82444L5.07884 9.74557C5.02499 9.8001 4.96078 9.84333 4.88999 9.87271C4.81921 9.90209 4.74326 9.91704 4.66662 9.91668Z",fill:"currentColor"},null,-1),NJ=[RJ];function MJ(t,e,n,r,i,s){return S(),V("svg",le({width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t.pti()),NJ,16)}gT.render=MJ;var LJ={root:function(e){var n=e.props;return["p-chip p-component",{"p-chip-image":n.image!=null}]},icon:"p-chip-icon",label:"p-chip-text",removeIcon:"p-chip-remove-icon"},$J=Cr.extend({name:"chip",classes:LJ}),FJ={name:"BaseChip",extends:Pi,props:{label:{type:String,default:null},icon:{type:String,default:null},image:{type:String,default:null},removable:{type:Boolean,default:!1},removeIcon:{type:String,default:void 0}},style:$J,provide:function(){return{$parentInstance:this}}},fL={name:"Chip",extends:FJ,inheritAttrs:!1,emits:["remove"],data:function(){return{visible:!0}},methods:{onKeydown:function(e){(e.key==="Enter"||e.key==="Backspace")&&this.close(e)},close:function(e){this.visible=!1,this.$emit("remove",e)}},components:{TimesCircleIcon:gT}},UJ=["aria-label"],VJ=["src"];function BJ(t,e,n,r,i,s){return i.visible?(S(),V("div",le({key:0,class:t.cx("root"),"aria-label":t.label},t.ptmi("root")),[ge(t.$slots,"default",{},function(){return[t.image?(S(),V("img",le({key:0,src:t.image},t.ptm("image")),null,16,VJ)):t.$slots.icon?(S(),ie(gn(t.$slots.icon),le({key:1,class:t.cx("icon")},t.ptm("icon")),null,16,["class"])):t.icon?(S(),V("span",le({key:2,class:[t.cx("icon"),t.icon]},t.ptm("icon")),null,16)):Y("",!0),t.label?(S(),V("div",le({key:3,class:t.cx("label")},t.ptm("label")),$e(t.label),17)):Y("",!0)]}),t.removable?ge(t.$slots,"removeicon",{key:0,onClick:s.close,onKeydown:s.onKeydown,removeCallback:s.close,keydownCallback:s.onKeydown},function(){return[(S(),ie(gn(t.removeIcon?"span":"TimesCircleIcon"),le({tabindex:"0",class:[t.cx("removeIcon"),t.removeIcon],onClick:s.close,onKeydown:s.onKeydown},t.ptm("removeIcon")),null,16,["class","onClick","onKeydown"]))]}):Y("",!0)],16,UJ)):Y("",!0)}fL.render=BJ;const jJ={key:0,class:"text-red-600"},vT=Oe({__name:"ErrorMessage",props:{name:{},error:{}},setup(t){return(e,n)=>e.error?(S(),V("p",jJ,$e(e.error),1)):Y("",!0)}});var yT=(t=>(t.Required="Required",t.Numeric="Numeric",t.Min="Min",t.Max="Max",t.Email="Email",t.MinLength="MinLength",t.MaxLength="MaxLength",t.EqualTo="EqualTo",t))(yT||{});const xt={Required:{type:"Required",test:({value:t})=>!!t.length,error:()=>"Required"},Numeric:{type:"Numeric",test:({value:t})=>/^-?[0-9]\d*(\.\d+)?$/.test(t),error:()=>"Must be numeric"},Min:{type:"Min",test:({value:t,minValue:e})=>e?Number(t)>=e:!0,error:({minValue:t})=>`Must be at least ${t}`},Max:{type:"Max",test:({value:t,maxValue:e})=>e?Number(t)<=e:!0,error:({maxValue:t})=>`May not be more than ${t}`},Email:{type:"Email",test:({value:t})=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t),error:()=>"Must be an e-mail address"},MinLength:{type:"MinLength",test:({value:t,minLength:e})=>!t.length||t.length>=(e||3),error:({minLength:t})=>`Must be at least ${t} characters`},MaxLength:{type:"MaxLength",test:({value:t,maxLength:e})=>!t.length||t.length<=(e||50),error:({maxLength:t})=>`May not be more than ${t} characters`},EqualTo:{type:"EqualTo",test:({value:t,compare:e})=>!t.length||!e||t===e.value,error:()=>"Fields don't match",compareError:({compare:t})=>t?"Must be equal to "+(t==null?void 0:t.name):""}},HJ=Oe({__name:"TrashIcon",setup(t){return(e,n)=>(S(),ie(k(vX),{class:"h-7 w-7"}))}}),hL=Oe({__name:"DeleteButton",emits:["click"],setup(t,{emit:e}){return(n,r)=>(S(),ie(Ft,{class:"w-fit flex justify-center !rounded",type:"danger",outlined:"",onClick:r[0]||(r[0]=i=>n.$emit("click"))},{default:ce(()=>[J(HJ)]),_:1}))}}),WJ={class:"m-4"},KJ=["for"],zJ={class:"flex"},hr=Oe({__name:"TextField",props:{id:{},name:{},label:{},placeholder:{},modelValue:{},error:{},rules:{},inputProps:{},labelProps:{},minLength:{},maxLength:{},minValue:{},maxValue:{},compare:{},deleteButton:{type:Boolean}},emits:["update:modelValue","update:error","update:delete"],setup(t,{expose:e,emit:n}){const r=t,i=ee(()=>{const c=r.modelValue;return c?typeof c=="string"?c.endsWith("  ")?c.trim():c:typeof c=="number"?c||0:c||"":r.modelValue||""}),s=ee(()=>r.label?r.label+((r.rules??[]).some(c=>c.type===yT.Required)?" *":""):void 0),o=ee(()=>r.name+(r.id?"."+r.id:"")),a=c=>{const d=c.target.value;u("update:modelValue",d),l(d)},l=async c=>{const d=c||i.value,f=r.rules||[];typeof r.minValue=="number"&&f.push(xt.Min),typeof r.maxValue=="number"&&f.push(xt.Max),typeof r.minLength=="number"&&f.push(xt.MinLength),typeof r.maxLength=="number"&&f.push(xt.MaxLength),r.compare&&f.push(xt.EqualTo);const h={value:d.toString(),minValue:r.minValue,maxValue:r.maxValue,minLength:r.minLength,maxLength:r.maxLength,compare:r.compare},p=f.filter(m=>!m.test(h)).map(m=>{var g;return((g=m.compareError)==null?void 0:g.call(m,h))||m.error(h)})||[];u("update:error",p[0]||"")},u=n;return e({test:l}),(c,d)=>{var f,h;return S(),V("div",WJ,[c.label?(S(),V("label",le({key:0,class:"block text-sm font-bold mb-2",for:o.value},c.labelProps),$e(s.value),17,KJ)):Y("",!0),K("div",zJ,[(S(),ie(gn(((f=c.inputProps)==null?void 0:f.type)==="textarea"?"PrimeTextArea":"PrimeInputText"),le({id:o.value,ref:"input",value:i.value,class:"p-input",type:((h=c.inputProps)==null?void 0:h.type)||"text",placeholder:c.placeholder,invalid:!!c.error,onInput:a},c.inputProps),null,16,["id","value","type","placeholder","invalid"])),c.deleteButton?(S(),ie(hL,{key:0,class:"h-fit",onClick:d[0]||(d[0]=p=>u("update:delete"))})):Y("",!0)]),c.error?(S(),ie(vT,{key:1,name:c.name,error:c.error},null,8,["name","error"])):Y("",!0)])}}}),GJ={class:"flex flex-col"},YJ=Oe({__name:"BlogReaction",props:{post:{},reaction:{}},setup(t){const e=t,{publicUser:n,isOwner:r}=en(sr()),{deleteBlogReaction:i}=or();return(s,o)=>(S(),ie(Zr,{class:ke(["p-5 mb-5 w-full md:w-3/4",e.post.colorTertiary||"",e.post.opacityTertiary||"bg-opacity-50"]),titleProps:{class:"!text-base mt-1"},title:e.reaction.user.displayName||"Unknown user",subTitle:k(Bb)(new Date(e.reaction.date)),avatar:e.reaction.user.avatar,description:e.reaction.message},Jn({_:2},[k(n)&&e.reaction.user.id===k(n).id||k(r)?{name:"right",fn:ce(()=>[K("div",GJ,[e.post.locked?Y("",!0):(S(),ie(Ft,{key:0,type:"danger",outlined:"",class:"h-fit",onClick:o[0]||(o[0]=a=>k(i)(e.reaction.id,e.post))},{default:ce(()=>[Je(" Delete ")]),_:1}))])]),key:"0"}:void 0]),1032,["class","title","subTitle","avatar","description"]))}}),qJ={class:"grid justify-items-center p-5"},XJ=Oe({__name:"BlogReactions",props:{post:{}},setup(t){const e=t,{publicUser:n}=en(sr()),r=or(),{content:i}=en(r),{createBlogReaction:s}=r,o=re(),a=xn({reaction:{value:"",error:""}}),l=async()=>{await o.value.test(),!a.reaction.error&&n.value&&await s(e.post,{userId:n.value.id,postId:e.post.id,message:a.reaction.value,date:new Date})&&(a.reaction.value=""),lK()};return(u,c)=>(S(),V("form",{action:"",onSubmit:St(l,["prevent"])},[K("div",qJ,[(S(!0),V(Te,null,st(u.post.reactions,d=>(S(),ie(YJ,{post:u.post,reaction:d},null,8,["post","reaction"]))),256)),!k(n)||u.post.reactions.filter(d=>d.user.id===k(n).id).length<8?(S(),ie(Zr,{key:0,class:ke(["p-5 flex justify-center w-full md:w-3/4",u.post.colorTertiary||"bg-gray-700",u.post.opacityTertiary||"bg-opacity-50"])},{default:ce(()=>[J(hr,{class:"w-5/6",id:u.post.id,inputProps:{class:["rounded-xl border-none !placeholder-gray-300",u.post.colorSecondary||u.post.colorPrimary||"bg-gray-600",u.post.opacitySecondary||"!bg-opacity-20",!u.post.locked&&k(n)?"hover:!bg-gray-700 focus:!bg-gray-600 focus:!text-white focus:!placeholder-gray-200":"!bg-gray-900 !bg-opacity-50"],disabled:!k(n)||u.post.locked},ref_key:"reaction",ref:o,name:"reaction",placeholder:u.post.locked?"Locked for comments":k(n)?"Reply":k(i).blogLoginGuest,modelValue:a.reaction.value,"onUpdate:modelValue":c[0]||(c[0]=d=>a.reaction.value=d),error:a.reaction.error,"onUpdate:error":c[1]||(c[1]=d=>a.reaction.error=d),rules:[k(xt).Required],onClick:c[2]||(c[2]=()=>!k(n)&&!u.post.locked?k(RT).push({name:"login"}):{})},null,8,["id","inputProps","placeholder","modelValue","error","rules"])]),_:1},8,["class"])):Y("",!0)])],32))}}),QJ=Oe({__name:"BlogPostBullets",props:{bullets:{},alignment:{}},setup(t){return(e,n)=>(S(),V("div",null,[K("div",{class:ke({block:!e.alignment,flex:!!e.alignment,"justify-start":e.alignment==="left","justify-center":e.alignment==="center","justify-end":e.alignment==="right"})},[K("ul",{class:ke(["list-disc",{"ms-5":e.alignment==="left"}])},[(S(!0),V(Te,null,st(e.bullets,r=>(S(),V("li",null,$e(r),1))),256))],2)],2)]))}}),JJ=["href"],ZJ={class:"break-all"},eZ={key:1},tZ={key:2},sp=Oe({__name:"BlogPostDescription",props:{class:{},description:{},alignment:{}},setup(t){const e=t,n=r=>{try{const i=new URL(r);return i.protocol==="http:"||i.protocol==="https:"}catch{return!1}};return(r,i)=>(S(!0),V(Te,null,st(e.description.split(`
`).map(s=>s.trim()),s=>(S(),V("div",{class:ke(["text-lg",e.class])},[K("div",{class:ke({block:!r.alignment,flex:!!r.alignment,"justify-start":r.alignment==="left","justify-center":r.alignment==="center","justify-end":r.alignment==="right"})},[n(s)?(S(),V("a",{key:0,href:s,class:"underline hover:no-underline"},[K("span",ZJ,$e(s),1)],8,JJ)):s?(S(),V("p",eZ,$e(s),1)):(S(),V("br",tZ))],2)],2))),256))}});/*!
 * Viewer.js v1.11.6
 * https://fengyuanchen.github.io/viewerjs
 *
 * Copyright 2015-present Chen Fengyuan
 * Released under the MIT license
 *
 * Date: 2023-09-17T03:16:38.052Z
 */function sO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function bT(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?sO(Object(n),!0).forEach(function(r){iZ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):sO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function hw(t){"@babel/helpers - typeof";return hw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hw(t)}function nZ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function oO(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,pL(r.key),r)}}function rZ(t,e,n){return e&&oO(t.prototype,e),n&&oO(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function iZ(t,e,n){return e=pL(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function sZ(t,e){if(typeof t!="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function pL(t){var e=sZ(t,"string");return typeof e=="symbol"?e:String(e)}var aO={backdrop:!0,button:!0,navbar:!0,title:!0,toolbar:!0,className:"",container:"body",filter:null,fullscreen:!0,inheritedAttributes:["crossOrigin","decoding","isMap","loading","referrerPolicy","sizes","srcset","useMap"],initialCoverage:.9,initialViewIndex:0,inline:!1,interval:5e3,keyboard:!0,focus:!0,loading:!0,loop:!0,minWidth:200,minHeight:100,movable:!0,rotatable:!0,scalable:!0,zoomable:!0,zoomOnTouch:!0,zoomOnWheel:!0,slideOnTouch:!0,toggleOnDblclick:!0,tooltip:!0,transition:!0,zIndex:2015,zIndexInline:0,zoomRatio:.1,minZoomRatio:.01,maxZoomRatio:100,url:"src",ready:null,show:null,shown:null,hide:null,hidden:null,view:null,viewed:null,move:null,moved:null,rotate:null,rotated:null,scale:null,scaled:null,zoom:null,zoomed:null,play:null,stop:null},oZ='<div class="viewer-container" tabindex="-1" touch-action="none"><div class="viewer-canvas"></div><div class="viewer-footer"><div class="viewer-title"></div><div class="viewer-toolbar"></div><div class="viewer-navbar"><ul class="viewer-list" role="navigation"></ul></div></div><div class="viewer-tooltip" role="alert" aria-hidden="true"></div><div class="viewer-button" data-viewer-action="mix" role="button"></div><div class="viewer-player"></div></div>',Tv=typeof window<"u"&&typeof window.document<"u",co=Tv?window:{},Nu=Tv&&co.document.documentElement?"ontouchstart"in co.document.documentElement:!1,wT=Tv?"PointerEvent"in co:!1,yt="viewer",Lp="move",mL="switch",sd="zoom",op="".concat(yt,"-active"),aZ="".concat(yt,"-close"),$p="".concat(yt,"-fade"),pw="".concat(yt,"-fixed"),lZ="".concat(yt,"-fullscreen"),lO="".concat(yt,"-fullscreen-exit"),xa="".concat(yt,"-hide"),uZ="".concat(yt,"-hide-md-down"),cZ="".concat(yt,"-hide-sm-down"),dZ="".concat(yt,"-hide-xs-down"),Di="".concat(yt,"-in"),Pd="".concat(yt,"-invisible"),Mu="".concat(yt,"-loading"),fZ="".concat(yt,"-move"),uO="".concat(yt,"-open"),Wl="".concat(yt,"-show"),Mn="".concat(yt,"-transition"),rc="click",mw="dblclick",cO="dragstart",dO="focusin",fO="keydown",Li="load",Ga="error",hZ=Nu?"touchend touchcancel":"mouseup",pZ=Nu?"touchmove":"mousemove",mZ=Nu?"touchstart":"mousedown",hO=wT?"pointerdown":mZ,pO=wT?"pointermove":pZ,mO=wT?"pointerup pointercancel":hZ,gO="resize",qi="transitionend",vO="wheel",yO="ready",bO="show",wO="shown",_O="hide",TO="hidden",SO="view",Of="viewed",EO="move",IO="moved",CO="rotate",OO="rotated",AO="scale",kO="scaled",PO="zoom",xO="zoomed",DO="play",RO="stop",Wm="".concat(yt,"Action"),_T=/\s\s*/,ap=["zoom-in","zoom-out","one-to-one","reset","prev","play","next","rotate-left","rotate-right","flip-horizontal","flip-vertical"];function Af(t){return typeof t=="string"}var gZ=Number.isNaN||co.isNaN;function An(t){return typeof t=="number"&&!gZ(t)}function cu(t){return typeof t>"u"}function ic(t){return hw(t)==="object"&&t!==null}var vZ=Object.prototype.hasOwnProperty;function du(t){if(!ic(t))return!1;try{var e=t.constructor,n=e.prototype;return e&&n&&vZ.call(n,"isPrototypeOf")}catch{return!1}}function on(t){return typeof t=="function"}function un(t,e){if(t&&on(e))if(Array.isArray(t)||An(t.length)){var n=t.length,r;for(r=0;r<n&&e.call(t,t[r],r,t)!==!1;r+=1);}else ic(t)&&Object.keys(t).forEach(function(i){e.call(t,t[i],i,t)});return t}var _i=Object.assign||function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return ic(e)&&r.length>0&&r.forEach(function(s){ic(s)&&Object.keys(s).forEach(function(o){e[o]=s[o]})}),e},yZ=/^(?:width|height|left|top|marginLeft|marginTop)$/;function ts(t,e){var n=t.style;un(e,function(r,i){yZ.test(i)&&An(r)&&(r+="px"),n[i]=r})}function bZ(t){return Af(t)?t.replace(/&(?!amp;|quot;|#39;|lt;|gt;)/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;"):t}function nu(t,e){return!t||!e?!1:t.classList?t.classList.contains(e):t.className.indexOf(e)>-1}function ut(t,e){if(!(!t||!e)){if(An(t.length)){un(t,function(r){ut(r,e)});return}if(t.classList){t.classList.add(e);return}var n=t.className.trim();n?n.indexOf(e)<0&&(t.className="".concat(n," ").concat(e)):t.className=e}}function Ht(t,e){if(!(!t||!e)){if(An(t.length)){un(t,function(n){Ht(n,e)});return}if(t.classList){t.classList.remove(e);return}t.className.indexOf(e)>=0&&(t.className=t.className.replace(e,""))}}function kf(t,e,n){if(e){if(An(t.length)){un(t,function(r){kf(r,e,n)});return}n?ut(t,e):Ht(t,e)}}var wZ=/([a-z\d])([A-Z])/g;function TT(t){return t.replace(wZ,"$1-$2").toLowerCase()}function fu(t,e){return ic(t[e])?t[e]:t.dataset?t.dataset[e]:t.getAttribute("data-".concat(TT(e)))}function gw(t,e,n){ic(n)?t[e]=n:t.dataset?t.dataset[e]=n:t.setAttribute("data-".concat(TT(e)),n)}var gL=function(){var t=!1;if(Tv){var e=!1,n=function(){},r=Object.defineProperty({},"once",{get:function(){return t=!0,e},set:function(s){e=s}});co.addEventListener("test",n,r),co.removeEventListener("test",n,r)}return t}();function an(t,e,n){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},i=n;e.trim().split(_T).forEach(function(s){if(!gL){var o=t.listeners;o&&o[s]&&o[s][n]&&(i=o[s][n],delete o[s][n],Object.keys(o[s]).length===0&&delete o[s],Object.keys(o).length===0&&delete t.listeners)}t.removeEventListener(s,i,r)})}function pt(t,e,n){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},i=n;e.trim().split(_T).forEach(function(s){if(r.once&&!gL){var o=t.listeners,a=o===void 0?{}:o;i=function(){delete a[s][n],t.removeEventListener(s,i,r);for(var u=arguments.length,c=new Array(u),d=0;d<u;d++)c[d]=arguments[d];n.apply(t,c)},a[s]||(a[s]={}),a[s][n]&&t.removeEventListener(s,a[s][n],r),a[s][n]=i,t.listeners=a}t.addEventListener(s,i,r)})}function Vn(t,e,n,r){var i;return on(Event)&&on(CustomEvent)?i=new CustomEvent(e,bT({bubbles:!0,cancelable:!0,detail:n},r)):(i=document.createEvent("CustomEvent"),i.initCustomEvent(e,!0,!0,n)),t.dispatchEvent(i)}function _Z(t){var e=t.getBoundingClientRect();return{left:e.left+(window.pageXOffset-document.documentElement.clientLeft),top:e.top+(window.pageYOffset-document.documentElement.clientTop)}}function Fp(t){var e=t.rotate,n=t.scaleX,r=t.scaleY,i=t.translateX,s=t.translateY,o=[];An(i)&&i!==0&&o.push("translateX(".concat(i,"px)")),An(s)&&s!==0&&o.push("translateY(".concat(s,"px)")),An(e)&&e!==0&&o.push("rotate(".concat(e,"deg)")),An(n)&&n!==1&&o.push("scaleX(".concat(n,")")),An(r)&&r!==1&&o.push("scaleY(".concat(r,")"));var a=o.length?o.join(" "):"none";return{WebkitTransform:a,msTransform:a,transform:a}}function TZ(t){return Af(t)?decodeURIComponent(t.replace(/^.*\//,"").replace(/[?&#].*$/,"")):""}var Wy=co.navigator&&/Version\/\d+(\.\d+)+?\s+Safari/i.test(co.navigator.userAgent);function vL(t,e,n){var r=document.createElement("img");if(t.naturalWidth&&!Wy)return n(t.naturalWidth,t.naturalHeight),r;var i=document.body||document.documentElement;return r.onload=function(){n(r.width,r.height),Wy||i.removeChild(r)},un(e.inheritedAttributes,function(s){var o=t.getAttribute(s);o!==null&&r.setAttribute(s,o)}),r.src=t.src,Wy||(r.style.cssText="left:0;max-height:none!important;max-width:none!important;min-height:0!important;min-width:0!important;opacity:0;position:absolute;top:0;z-index:-1;",i.appendChild(r)),r}function lp(t){switch(t){case 2:return dZ;case 3:return cZ;case 4:return uZ;default:return""}}function SZ(t){var e=bT({},t),n=[];return un(t,function(r,i){delete e[i],un(e,function(s){var o=Math.abs(r.startX-s.startX),a=Math.abs(r.startY-s.startY),l=Math.abs(r.endX-s.endX),u=Math.abs(r.endY-s.endY),c=Math.sqrt(o*o+a*a),d=Math.sqrt(l*l+u*u),f=(d-c)/c;n.push(f)})}),n.sort(function(r,i){return Math.abs(r)<Math.abs(i)}),n[0]}function up(t,e){var n=t.pageX,r=t.pageY,i={endX:n,endY:r};return e?i:bT({timeStamp:Date.now(),startX:n,startY:r},i)}function EZ(t){var e=0,n=0,r=0;return un(t,function(i){var s=i.startX,o=i.startY;e+=s,n+=o,r+=1}),e/=r,n/=r,{pageX:e,pageY:n}}var IZ={render:function(){this.initContainer(),this.initViewer(),this.initList(),this.renderViewer()},initBody:function(){var e=this.element.ownerDocument,n=e.body||e.documentElement;this.body=n,this.scrollbarWidth=window.innerWidth-e.documentElement.clientWidth,this.initialBodyPaddingRight=n.style.paddingRight,this.initialBodyComputedPaddingRight=window.getComputedStyle(n).paddingRight},initContainer:function(){this.containerData={width:window.innerWidth,height:window.innerHeight}},initViewer:function(){var e=this.options,n=this.parent,r;e.inline&&(r={width:Math.max(n.offsetWidth,e.minWidth),height:Math.max(n.offsetHeight,e.minHeight)},this.parentData=r),(this.fulled||!r)&&(r=this.containerData),this.viewerData=_i({},r)},renderViewer:function(){this.options.inline&&!this.fulled&&ts(this.viewer,this.viewerData)},initList:function(){var e=this,n=this.element,r=this.options,i=this.list,s=[];i.innerHTML="",un(this.images,function(o,a){var l=o.src,u=o.alt||TZ(l),c=e.getImageURL(o);if(l||c){var d=document.createElement("li"),f=document.createElement("img");un(r.inheritedAttributes,function(h){var p=o.getAttribute(h);p!==null&&f.setAttribute(h,p)}),r.navbar&&(f.src=l||c),f.alt=u,f.setAttribute("data-original-url",c||l),d.setAttribute("data-index",a),d.setAttribute("data-viewer-action","view"),d.setAttribute("role","button"),r.keyboard&&d.setAttribute("tabindex",0),d.appendChild(f),i.appendChild(d),s.push(d)}}),this.items=s,un(s,function(o){var a=o.firstElementChild,l,u;gw(a,"filled",!0),r.loading&&ut(o,Mu),pt(a,Li,l=function(d){an(a,Ga,u),r.loading&&Ht(o,Mu),e.loadImage(d)},{once:!0}),pt(a,Ga,u=function(){an(a,Li,l),r.loading&&Ht(o,Mu)},{once:!0})}),r.transition&&pt(n,Of,function(){ut(i,Mn)},{once:!0})},renderList:function(){var e=this.index,n=this.items[e];if(n){var r=n.nextElementSibling,i=parseInt(window.getComputedStyle(r||n).marginLeft,10),s=n.offsetWidth,o=s+i;ts(this.list,_i({width:o*this.length-i},Fp({translateX:(this.viewerData.width-s)/2-o*e})))}},resetList:function(){var e=this.list;e.innerHTML="",Ht(e,Mn),ts(e,Fp({translateX:0}))},initImage:function(e){var n=this,r=this.options,i=this.image,s=this.viewerData,o=this.footer.offsetHeight,a=s.width,l=Math.max(s.height-o,o),u=this.imageData||{},c;this.imageInitializing={abort:function(){c.onload=null}},c=vL(i,r,function(d,f){var h=d/f,p=Math.max(0,Math.min(1,r.initialCoverage)),m=a,g=l;n.imageInitializing=!1,l*h>a?g=a/h:m=l*h,p=An(p)?p:.9,m=Math.min(m*p,d),g=Math.min(g*p,f);var y=(a-m)/2,v=(l-g)/2,_={left:y,top:v,x:y,y:v,width:m,height:g,oldRatio:1,ratio:m/d,aspectRatio:h,naturalWidth:d,naturalHeight:f},b=_i({},_);r.rotatable&&(_.rotate=u.rotate||0,b.rotate=0),r.scalable&&(_.scaleX=u.scaleX||1,_.scaleY=u.scaleY||1,b.scaleX=1,b.scaleY=1),n.imageData=_,n.initialImageData=b,e&&e()})},renderImage:function(e){var n=this,r=this.image,i=this.imageData;if(ts(r,_i({width:i.width,height:i.height,marginLeft:i.x,marginTop:i.y},Fp(i))),e)if((this.viewing||this.moving||this.rotating||this.scaling||this.zooming)&&this.options.transition&&nu(r,Mn)){var s=function(){n.imageRendering=!1,e()};this.imageRendering={abort:function(){an(r,qi,s)}},pt(r,qi,s,{once:!0})}else e()},resetImage:function(){var e=this.image;e&&(this.viewing&&this.viewing.abort(),e.parentNode.removeChild(e),this.image=null,this.title.innerHTML="")}},CZ={bind:function(){var e=this.options,n=this.viewer,r=this.canvas,i=this.element.ownerDocument;pt(n,rc,this.onClick=this.click.bind(this)),pt(n,cO,this.onDragStart=this.dragstart.bind(this)),pt(r,hO,this.onPointerDown=this.pointerdown.bind(this)),pt(i,pO,this.onPointerMove=this.pointermove.bind(this)),pt(i,mO,this.onPointerUp=this.pointerup.bind(this)),pt(i,fO,this.onKeyDown=this.keydown.bind(this)),pt(window,gO,this.onResize=this.resize.bind(this)),e.zoomable&&e.zoomOnWheel&&pt(n,vO,this.onWheel=this.wheel.bind(this),{passive:!1,capture:!0}),e.toggleOnDblclick&&pt(r,mw,this.onDblclick=this.dblclick.bind(this))},unbind:function(){var e=this.options,n=this.viewer,r=this.canvas,i=this.element.ownerDocument;an(n,rc,this.onClick),an(n,cO,this.onDragStart),an(r,hO,this.onPointerDown),an(i,pO,this.onPointerMove),an(i,mO,this.onPointerUp),an(i,fO,this.onKeyDown),an(window,gO,this.onResize),e.zoomable&&e.zoomOnWheel&&an(n,vO,this.onWheel,{passive:!1,capture:!0}),e.toggleOnDblclick&&an(r,mw,this.onDblclick)}},OZ={click:function(e){var n=this.options,r=this.imageData,i=e.target,s=fu(i,Wm);switch(!s&&i.localName==="img"&&i.parentElement.localName==="li"&&(i=i.parentElement,s=fu(i,Wm)),Nu&&e.isTrusted&&i===this.canvas&&clearTimeout(this.clickCanvasTimeout),s){case"mix":this.played?this.stop():n.inline?this.fulled?this.exit():this.full():this.hide();break;case"hide":this.pointerMoved||this.hide();break;case"view":this.view(fu(i,"index"));break;case"zoom-in":this.zoom(.1,!0);break;case"zoom-out":this.zoom(-.1,!0);break;case"one-to-one":this.toggle();break;case"reset":this.reset();break;case"prev":this.prev(n.loop);break;case"play":this.play(n.fullscreen);break;case"next":this.next(n.loop);break;case"rotate-left":this.rotate(-90);break;case"rotate-right":this.rotate(90);break;case"flip-horizontal":this.scaleX(-r.scaleX||-1);break;case"flip-vertical":this.scaleY(-r.scaleY||-1);break;default:this.played&&this.stop()}},dblclick:function(e){e.preventDefault(),this.viewed&&e.target===this.image&&(Nu&&e.isTrusted&&clearTimeout(this.doubleClickImageTimeout),this.toggle(e.isTrusted?e:e.detail&&e.detail.originalEvent))},load:function(){var e=this;this.timeout&&(clearTimeout(this.timeout),this.timeout=!1);var n=this.element,r=this.options,i=this.image,s=this.index,o=this.viewerData;Ht(i,Pd),r.loading&&Ht(this.canvas,Mu),i.style.cssText="height:0;"+"margin-left:".concat(o.width/2,"px;")+"margin-top:".concat(o.height/2,"px;")+"max-width:none!important;position:relative;width:0;",this.initImage(function(){kf(i,fZ,r.movable),kf(i,Mn,r.transition),e.renderImage(function(){e.viewed=!0,e.viewing=!1,on(r.viewed)&&pt(n,Of,r.viewed,{once:!0}),Vn(n,Of,{originalImage:e.images[s],index:s,image:i},{cancelable:!1})})})},loadImage:function(e){var n=e.target,r=n.parentNode,i=r.offsetWidth||30,s=r.offsetHeight||50,o=!!fu(n,"filled");vL(n,this.options,function(a,l){var u=a/l,c=i,d=s;s*u>i?o?c=s*u:d=i/u:o?d=i/u:c=s*u,ts(n,_i({width:c,height:d},Fp({translateX:(i-c)/2,translateY:(s-d)/2})))})},keydown:function(e){var n=this.options;if(n.keyboard){var r=e.keyCode||e.which||e.charCode;switch(r){case 13:this.viewer.contains(e.target)&&this.click(e);break}if(this.fulled)switch(r){case 27:this.played?this.stop():n.inline?this.fulled&&this.exit():this.hide();break;case 32:this.played&&this.stop();break;case 37:this.played&&this.playing?this.playing.prev():this.prev(n.loop);break;case 38:e.preventDefault(),this.zoom(n.zoomRatio,!0);break;case 39:this.played&&this.playing?this.playing.next():this.next(n.loop);break;case 40:e.preventDefault(),this.zoom(-n.zoomRatio,!0);break;case 48:case 49:e.ctrlKey&&(e.preventDefault(),this.toggle());break}}},dragstart:function(e){e.target.localName==="img"&&e.preventDefault()},pointerdown:function(e){var n=this.options,r=this.pointers,i=e.buttons,s=e.button;if(this.pointerMoved=!1,!(!this.viewed||this.showing||this.viewing||this.hiding||(e.type==="mousedown"||e.type==="pointerdown"&&e.pointerType==="mouse")&&(An(i)&&i!==1||An(s)&&s!==0||e.ctrlKey))){e.preventDefault(),e.changedTouches?un(e.changedTouches,function(a){r[a.identifier]=up(a)}):r[e.pointerId||0]=up(e);var o=n.movable?Lp:!1;n.zoomOnTouch&&n.zoomable&&Object.keys(r).length>1?o=sd:n.slideOnTouch&&(e.pointerType==="touch"||e.type==="touchstart")&&this.isSwitchable()&&(o=mL),n.transition&&(o===Lp||o===sd)&&Ht(this.image,Mn),this.action=o}},pointermove:function(e){var n=this.pointers,r=this.action;!this.viewed||!r||(e.preventDefault(),e.changedTouches?un(e.changedTouches,function(i){_i(n[i.identifier]||{},up(i,!0))}):_i(n[e.pointerId||0]||{},up(e,!0)),this.change(e))},pointerup:function(e){var n=this,r=this.options,i=this.action,s=this.pointers,o;e.changedTouches?un(e.changedTouches,function(a){o=s[a.identifier],delete s[a.identifier]}):(o=s[e.pointerId||0],delete s[e.pointerId||0]),i&&(e.preventDefault(),r.transition&&(i===Lp||i===sd)&&ut(this.image,Mn),this.action=!1,Nu&&i!==sd&&o&&Date.now()-o.timeStamp<500&&(clearTimeout(this.clickCanvasTimeout),clearTimeout(this.doubleClickImageTimeout),r.toggleOnDblclick&&this.viewed&&e.target===this.image?this.imageClicked?(this.imageClicked=!1,this.doubleClickImageTimeout=setTimeout(function(){Vn(n.image,mw,{originalEvent:e})},50)):(this.imageClicked=!0,this.doubleClickImageTimeout=setTimeout(function(){n.imageClicked=!1},500)):(this.imageClicked=!1,r.backdrop&&r.backdrop!=="static"&&e.target===this.canvas&&(this.clickCanvasTimeout=setTimeout(function(){Vn(n.canvas,rc,{originalEvent:e})},50)))))},resize:function(){var e=this;if(!(!this.isShown||this.hiding)&&(this.fulled&&(this.close(),this.initBody(),this.open()),this.initContainer(),this.initViewer(),this.renderViewer(),this.renderList(),this.viewed&&this.initImage(function(){e.renderImage()}),this.played)){if(this.options.fullscreen&&this.fulled&&!(document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement)){this.stop();return}un(this.player.getElementsByTagName("img"),function(n){pt(n,Li,e.loadImage.bind(e),{once:!0}),Vn(n,Li)})}},wheel:function(e){var n=this;if(this.viewed&&(e.preventDefault(),!this.wheeling)){this.wheeling=!0,setTimeout(function(){n.wheeling=!1},50);var r=Number(this.options.zoomRatio)||.1,i=1;e.deltaY?i=e.deltaY>0?1:-1:e.wheelDelta?i=-e.wheelDelta/120:e.detail&&(i=e.detail>0?1:-1),this.zoom(-i*r,!0,null,e)}}},AZ={show:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,n=this.element,r=this.options;if(r.inline||this.showing||this.isShown||this.showing)return this;if(!this.ready)return this.build(),this.ready&&this.show(e),this;if(on(r.show)&&pt(n,bO,r.show,{once:!0}),Vn(n,bO)===!1||!this.ready)return this;this.hiding&&this.transitioning.abort(),this.showing=!0,this.open();var i=this.viewer;if(Ht(i,xa),i.setAttribute("role","dialog"),i.setAttribute("aria-labelledby",this.title.id),i.setAttribute("aria-modal",!0),i.removeAttribute("aria-hidden"),r.transition&&!e){var s=this.shown.bind(this);this.transitioning={abort:function(){an(i,qi,s),Ht(i,Di)}},ut(i,Mn),i.initialOffsetWidth=i.offsetWidth,pt(i,qi,s,{once:!0}),ut(i,Di)}else ut(i,Di),this.shown();return this},hide:function(){var e=this,n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,r=this.element,i=this.options;if(i.inline||this.hiding||!(this.isShown||this.showing))return this;if(on(i.hide)&&pt(r,_O,i.hide,{once:!0}),Vn(r,_O)===!1)return this;this.showing&&this.transitioning.abort(),this.hiding=!0,this.played?this.stop():this.viewing&&this.viewing.abort();var s=this.viewer,o=this.image,a=function(){Ht(s,Di),e.hidden()};if(i.transition&&!n){var l=function c(d){d&&d.target===s&&(an(s,qi,c),e.hidden())},u=function(){nu(s,Mn)?(pt(s,qi,l),Ht(s,Di)):a()};this.transitioning={abort:function(){e.viewed&&nu(o,Mn)?an(o,qi,u):nu(s,Mn)&&an(s,qi,l)}},this.viewed&&nu(o,Mn)?(pt(o,qi,u,{once:!0}),this.zoomTo(0,!1,null,null,!0)):u()}else a();return this},view:function(){var e=this,n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.options.initialViewIndex;if(n=Number(n)||0,this.hiding||this.played||n<0||n>=this.length||this.viewed&&n===this.index)return this;if(!this.isShown)return this.index=n,this.show();this.viewing&&this.viewing.abort();var r=this.element,i=this.options,s=this.title,o=this.canvas,a=this.items[n],l=a.querySelector("img"),u=fu(l,"originalUrl"),c=l.getAttribute("alt"),d=document.createElement("img");if(un(i.inheritedAttributes,function(g){var y=l.getAttribute(g);y!==null&&d.setAttribute(g,y)}),d.src=u,d.alt=c,on(i.view)&&pt(r,SO,i.view,{once:!0}),Vn(r,SO,{originalImage:this.images[n],index:n,image:d})===!1||!this.isShown||this.hiding||this.played)return this;var f=this.items[this.index];f&&(Ht(f,op),f.removeAttribute("aria-selected")),ut(a,op),a.setAttribute("aria-selected",!0),i.focus&&a.focus(),this.image=d,this.viewed=!1,this.index=n,this.imageData={},ut(d,Pd),i.loading&&ut(o,Mu),o.innerHTML="",o.appendChild(d),this.renderList(),s.innerHTML="";var h=function(){var y=e.imageData,v=Array.isArray(i.title)?i.title[1]:i.title;s.innerHTML=bZ(on(v)?v.call(e,d,y):"".concat(c," (").concat(y.naturalWidth," × ").concat(y.naturalHeight,")"))},p,m;return pt(r,Of,h,{once:!0}),this.viewing={abort:function(){an(r,Of,h),d.complete?e.imageRendering?e.imageRendering.abort():e.imageInitializing&&e.imageInitializing.abort():(d.src="",an(d,Li,p),e.timeout&&clearTimeout(e.timeout))}},d.complete?this.load():(pt(d,Li,p=function(){an(d,Ga,m),e.load()},{once:!0}),pt(d,Ga,m=function(){an(d,Li,p),e.timeout&&(clearTimeout(e.timeout),e.timeout=!1),Ht(d,Pd),i.loading&&Ht(e.canvas,Mu)},{once:!0}),this.timeout&&clearTimeout(this.timeout),this.timeout=setTimeout(function(){Ht(d,Pd),e.timeout=!1},1e3)),this},prev:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,n=this.index-1;return n<0&&(n=e?this.length-1:0),this.view(n),this},next:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,n=this.length-1,r=this.index+1;return r>n&&(r=e?0:n),this.view(r),this},move:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e,r=this.imageData;return this.moveTo(cu(e)?e:r.x+Number(e),cu(n)?n:r.y+Number(n)),this},moveTo:function(e){var n=this,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,s=this.element,o=this.options,a=this.imageData;if(e=Number(e),r=Number(r),this.viewed&&!this.played&&o.movable){var l=a.x,u=a.y,c=!1;if(An(e)?c=!0:e=l,An(r)?c=!0:r=u,c){if(on(o.move)&&pt(s,EO,o.move,{once:!0}),Vn(s,EO,{x:e,y:r,oldX:l,oldY:u,originalEvent:i})===!1)return this;a.x=e,a.y=r,a.left=e,a.top=r,this.moving=!0,this.renderImage(function(){n.moving=!1,on(o.moved)&&pt(s,IO,o.moved,{once:!0}),Vn(s,IO,{x:e,y:r,oldX:l,oldY:u,originalEvent:i},{cancelable:!1})})}}return this},rotate:function(e){return this.rotateTo((this.imageData.rotate||0)+Number(e)),this},rotateTo:function(e){var n=this,r=this.element,i=this.options,s=this.imageData;if(e=Number(e),An(e)&&this.viewed&&!this.played&&i.rotatable){var o=s.rotate;if(on(i.rotate)&&pt(r,CO,i.rotate,{once:!0}),Vn(r,CO,{degree:e,oldDegree:o})===!1)return this;s.rotate=e,this.rotating=!0,this.renderImage(function(){n.rotating=!1,on(i.rotated)&&pt(r,OO,i.rotated,{once:!0}),Vn(r,OO,{degree:e,oldDegree:o},{cancelable:!1})})}return this},scaleX:function(e){return this.scale(e,this.imageData.scaleY),this},scaleY:function(e){return this.scale(this.imageData.scaleX,e),this},scale:function(e){var n=this,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e,i=this.element,s=this.options,o=this.imageData;if(e=Number(e),r=Number(r),this.viewed&&!this.played&&s.scalable){var a=o.scaleX,l=o.scaleY,u=!1;if(An(e)?u=!0:e=a,An(r)?u=!0:r=l,u){if(on(s.scale)&&pt(i,AO,s.scale,{once:!0}),Vn(i,AO,{scaleX:e,scaleY:r,oldScaleX:a,oldScaleY:l})===!1)return this;o.scaleX=e,o.scaleY=r,this.scaling=!0,this.renderImage(function(){n.scaling=!1,on(s.scaled)&&pt(i,kO,s.scaled,{once:!0}),Vn(i,kO,{scaleX:e,scaleY:r,oldScaleX:a,oldScaleY:l},{cancelable:!1})})}}return this},zoom:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null,s=this.imageData;return e=Number(e),e<0?e=1/(1-e):e=1+e,this.zoomTo(s.width*e/s.naturalWidth,n,r,i),this},zoomTo:function(e){var n=this,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null,o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1,a=this.element,l=this.options,u=this.pointers,c=this.imageData,d=c.x,f=c.y,h=c.width,p=c.height,m=c.naturalWidth,g=c.naturalHeight;if(e=Math.max(0,e),An(e)&&this.viewed&&!this.played&&(o||l.zoomable)){if(!o){var y=Math.max(.01,l.minZoomRatio),v=Math.min(100,l.maxZoomRatio);e=Math.min(Math.max(e,y),v)}if(s)switch(s.type){case"wheel":l.zoomRatio>=.055&&e>.95&&e<1.05&&(e=1);break;case"pointermove":case"touchmove":case"mousemove":e>.99&&e<1.01&&(e=1);break}var _=m*e,b=g*e,w=_-h,T=b-p,P=c.ratio;if(on(l.zoom)&&pt(a,PO,l.zoom,{once:!0}),Vn(a,PO,{ratio:e,oldRatio:P,originalEvent:s})===!1)return this;if(this.zooming=!0,s){var A=_Z(this.viewer),O=u&&Object.keys(u).length>0?EZ(u):{pageX:s.pageX,pageY:s.pageY};c.x-=w*((O.pageX-A.left-d)/h),c.y-=T*((O.pageY-A.top-f)/p)}else du(i)&&An(i.x)&&An(i.y)?(c.x-=w*((i.x-d)/h),c.y-=T*((i.y-f)/p)):(c.x-=w/2,c.y-=T/2);c.left=c.x,c.top=c.y,c.width=_,c.height=b,c.oldRatio=P,c.ratio=e,this.renderImage(function(){n.zooming=!1,on(l.zoomed)&&pt(a,xO,l.zoomed,{once:!0}),Vn(a,xO,{ratio:e,oldRatio:P,originalEvent:s},{cancelable:!1})}),r&&this.tooltip()}return this},play:function(){var e=this,n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;if(!this.isShown||this.played)return this;var r=this.element,i=this.options;if(on(i.play)&&pt(r,DO,i.play,{once:!0}),Vn(r,DO)===!1)return this;var s=this.player,o=this.loadImage.bind(this),a=[],l=0,u=0;if(this.played=!0,this.onLoadWhenPlay=o,n&&this.requestFullscreen(n),ut(s,Wl),un(this.items,function(f,h){var p=f.querySelector("img"),m=document.createElement("img");m.src=fu(p,"originalUrl"),m.alt=p.getAttribute("alt"),m.referrerPolicy=p.referrerPolicy,l+=1,ut(m,$p),kf(m,Mn,i.transition),nu(f,op)&&(ut(m,Di),u=h),a.push(m),pt(m,Li,o,{once:!0}),s.appendChild(m)}),An(i.interval)&&i.interval>0){var c=function f(){clearTimeout(e.playing.timeout),Ht(a[u],Di),u-=1,u=u>=0?u:l-1,ut(a[u],Di),e.playing.timeout=setTimeout(f,i.interval)},d=function f(){clearTimeout(e.playing.timeout),Ht(a[u],Di),u+=1,u=u<l?u:0,ut(a[u],Di),e.playing.timeout=setTimeout(f,i.interval)};l>1&&(this.playing={prev:c,next:d,timeout:setTimeout(d,i.interval)})}return this},stop:function(){var e=this;if(!this.played)return this;var n=this.element,r=this.options;if(on(r.stop)&&pt(n,RO,r.stop,{once:!0}),Vn(n,RO)===!1)return this;var i=this.player;return clearTimeout(this.playing.timeout),this.playing=!1,this.played=!1,un(i.getElementsByTagName("img"),function(s){an(s,Li,e.onLoadWhenPlay)}),Ht(i,Wl),i.innerHTML="",this.exitFullscreen(),this},full:function(){var e=this,n=this.options,r=this.viewer,i=this.image,s=this.list;return!this.isShown||this.played||this.fulled||!n.inline?this:(this.fulled=!0,this.open(),ut(this.button,lO),n.transition&&(Ht(s,Mn),this.viewed&&Ht(i,Mn)),ut(r,pw),r.setAttribute("role","dialog"),r.setAttribute("aria-labelledby",this.title.id),r.setAttribute("aria-modal",!0),r.removeAttribute("style"),ts(r,{zIndex:n.zIndex}),n.focus&&this.enforceFocus(),this.initContainer(),this.viewerData=_i({},this.containerData),this.renderList(),this.viewed&&this.initImage(function(){e.renderImage(function(){n.transition&&setTimeout(function(){ut(i,Mn),ut(s,Mn)},0)})}),this)},exit:function(){var e=this,n=this.options,r=this.viewer,i=this.image,s=this.list;return!this.isShown||this.played||!this.fulled||!n.inline?this:(this.fulled=!1,this.close(),Ht(this.button,lO),n.transition&&(Ht(s,Mn),this.viewed&&Ht(i,Mn)),n.focus&&this.clearEnforceFocus(),r.removeAttribute("role"),r.removeAttribute("aria-labelledby"),r.removeAttribute("aria-modal"),Ht(r,pw),ts(r,{zIndex:n.zIndexInline}),this.viewerData=_i({},this.parentData),this.renderViewer(),this.renderList(),this.viewed&&this.initImage(function(){e.renderImage(function(){n.transition&&setTimeout(function(){ut(i,Mn),ut(s,Mn)},0)})}),this)},tooltip:function(){var e=this,n=this.options,r=this.tooltipBox,i=this.imageData;return!this.viewed||this.played||!n.tooltip?this:(r.textContent="".concat(Math.round(i.ratio*100),"%"),this.tooltipping?clearTimeout(this.tooltipping):n.transition?(this.fading&&Vn(r,qi),ut(r,Wl),ut(r,$p),ut(r,Mn),r.removeAttribute("aria-hidden"),r.initialOffsetWidth=r.offsetWidth,ut(r,Di)):(ut(r,Wl),r.removeAttribute("aria-hidden")),this.tooltipping=setTimeout(function(){n.transition?(pt(r,qi,function(){Ht(r,Wl),Ht(r,$p),Ht(r,Mn),r.setAttribute("aria-hidden",!0),e.fading=!1},{once:!0}),Ht(r,Di),e.fading=!0):(Ht(r,Wl),r.setAttribute("aria-hidden",!0)),e.tooltipping=!1},1e3),this)},toggle:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;return this.imageData.ratio===1?this.zoomTo(this.imageData.oldRatio,!0,null,e):this.zoomTo(1,!0,null,e),this},reset:function(){return this.viewed&&!this.played&&(this.imageData=_i({},this.initialImageData),this.renderImage()),this},update:function(){var e=this,n=this.element,r=this.options,i=this.isImg;if(i&&!n.parentNode)return this.destroy();var s=[];if(un(i?[n]:n.querySelectorAll("img"),function(u){on(r.filter)?r.filter.call(e,u)&&s.push(u):e.getImageURL(u)&&s.push(u)}),!s.length)return this;if(this.images=s,this.length=s.length,this.ready){var o=[];if(un(this.items,function(u,c){var d=u.querySelector("img"),f=s[c];f&&d?(f.src!==d.src||f.alt!==d.alt)&&o.push(c):o.push(c)}),ts(this.list,{width:"auto"}),this.initList(),this.isShown)if(this.length){if(this.viewed){var a=o.indexOf(this.index);if(a>=0)this.viewed=!1,this.view(Math.max(Math.min(this.index-a,this.length-1),0));else{var l=this.items[this.index];ut(l,op),l.setAttribute("aria-selected",!0)}}}else this.image=null,this.viewed=!1,this.index=0,this.imageData={},this.canvas.innerHTML="",this.title.innerHTML=""}else this.build();return this},destroy:function(){var e=this.element,n=this.options;return e[yt]?(this.destroyed=!0,this.ready?(this.played&&this.stop(),n.inline?(this.fulled&&this.exit(),this.unbind()):this.isShown?(this.viewing&&(this.imageRendering?this.imageRendering.abort():this.imageInitializing&&this.imageInitializing.abort()),this.hiding&&this.transitioning.abort(),this.hidden()):this.showing&&(this.transitioning.abort(),this.hidden()),this.ready=!1,this.viewer.parentNode.removeChild(this.viewer)):n.inline&&(this.delaying?this.delaying.abort():this.initializing&&this.initializing.abort()),n.inline||an(e,rc,this.onStart),e[yt]=void 0,this):this}},kZ={getImageURL:function(e){var n=this.options.url;return Af(n)?n=e.getAttribute(n):on(n)?n=n.call(this,e):n="",n},enforceFocus:function(){var e=this;this.clearEnforceFocus(),pt(document,dO,this.onFocusin=function(n){var r=e.viewer,i=n.target;if(!(i===document||i===r||r.contains(i))){for(;i;){if(i.getAttribute("tabindex")!==null||i.getAttribute("aria-modal")==="true")return;i=i.parentElement}r.focus()}})},clearEnforceFocus:function(){this.onFocusin&&(an(document,dO,this.onFocusin),this.onFocusin=null)},open:function(){var e=this.body;ut(e,uO),this.scrollbarWidth>0&&(e.style.paddingRight="".concat(this.scrollbarWidth+(parseFloat(this.initialBodyComputedPaddingRight)||0),"px"))},close:function(){var e=this.body;Ht(e,uO),this.scrollbarWidth>0&&(e.style.paddingRight=this.initialBodyPaddingRight)},shown:function(){var e=this.element,n=this.options,r=this.viewer;this.fulled=!0,this.isShown=!0,this.render(),this.bind(),this.showing=!1,n.focus&&(r.focus(),this.enforceFocus()),on(n.shown)&&pt(e,wO,n.shown,{once:!0}),Vn(e,wO)!==!1&&this.ready&&this.isShown&&!this.hiding&&this.view(this.index)},hidden:function(){var e=this.element,n=this.options,r=this.viewer;n.fucus&&this.clearEnforceFocus(),this.close(),this.unbind(),ut(r,xa),r.removeAttribute("role"),r.removeAttribute("aria-labelledby"),r.removeAttribute("aria-modal"),r.setAttribute("aria-hidden",!0),this.resetList(),this.resetImage(),this.fulled=!1,this.viewed=!1,this.isShown=!1,this.hiding=!1,this.destroyed||(on(n.hidden)&&pt(e,TO,n.hidden,{once:!0}),Vn(e,TO,null,{cancelable:!1}))},requestFullscreen:function(e){var n=this.element.ownerDocument;if(this.fulled&&!(n.fullscreenElement||n.webkitFullscreenElement||n.mozFullScreenElement||n.msFullscreenElement)){var r=n.documentElement;r.requestFullscreen?du(e)?r.requestFullscreen(e):r.requestFullscreen():r.webkitRequestFullscreen?r.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT):r.mozRequestFullScreen?r.mozRequestFullScreen():r.msRequestFullscreen&&r.msRequestFullscreen()}},exitFullscreen:function(){var e=this.element.ownerDocument;this.fulled&&(e.fullscreenElement||e.webkitFullscreenElement||e.mozFullScreenElement||e.msFullscreenElement)&&(e.exitFullscreen?e.exitFullscreen():e.webkitExitFullscreen?e.webkitExitFullscreen():e.mozCancelFullScreen?e.mozCancelFullScreen():e.msExitFullscreen&&e.msExitFullscreen())},change:function(e){var n=this.options,r=this.pointers,i=r[Object.keys(r)[0]];if(i){var s=i.endX-i.startX,o=i.endY-i.startY;switch(this.action){case Lp:(s!==0||o!==0)&&(this.pointerMoved=!0,this.move(s,o,e));break;case sd:this.zoom(SZ(r),!1,null,e);break;case mL:{this.action="switched";var a=Math.abs(s);a>1&&a>Math.abs(o)&&(this.pointers={},s>1?this.prev(n.loop):s<-1&&this.next(n.loop));break}}un(r,function(l){l.startX=l.endX,l.startY=l.endY})}},isSwitchable:function(){var e=this.imageData,n=this.viewerData;return this.length>1&&e.x>=0&&e.y>=0&&e.width<=n.width&&e.height<=n.height}},PZ=co.Viewer,xZ=function(t){return function(){return t+=1,t}}(-1),sc=function(){function t(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(nZ(this,t),!e||e.nodeType!==1)throw new Error("The first argument is required and must be an element.");this.element=e,this.options=_i({},aO,du(n)&&n),this.action=!1,this.fading=!1,this.fulled=!1,this.hiding=!1,this.imageClicked=!1,this.imageData={},this.index=this.options.initialViewIndex,this.isImg=!1,this.isShown=!1,this.length=0,this.moving=!1,this.played=!1,this.playing=!1,this.pointers={},this.ready=!1,this.rotating=!1,this.scaling=!1,this.showing=!1,this.timeout=!1,this.tooltipping=!1,this.viewed=!1,this.viewing=!1,this.wheeling=!1,this.zooming=!1,this.pointerMoved=!1,this.id=xZ(),this.init()}return rZ(t,[{key:"init",value:function(){var n=this,r=this.element,i=this.options;if(!r[yt]){r[yt]=this,i.focus&&!i.keyboard&&(i.focus=!1);var s=r.localName==="img",o=[];if(un(s?[r]:r.querySelectorAll("img"),function(u){on(i.filter)?i.filter.call(n,u)&&o.push(u):n.getImageURL(u)&&o.push(u)}),this.isImg=s,this.length=o.length,this.images=o,this.initBody(),cu(document.createElement(yt).style.transition)&&(i.transition=!1),i.inline){var a=0,l=function(){if(a+=1,a===n.length){var c;n.initializing=!1,n.delaying={abort:function(){clearTimeout(c)}},c=setTimeout(function(){n.delaying=!1,n.build()},0)}};this.initializing={abort:function(){un(o,function(c){c.complete||(an(c,Li,l),an(c,Ga,l))})}},un(o,function(u){if(u.complete)l();else{var c,d;pt(u,Li,c=function(){an(u,Ga,d),l()},{once:!0}),pt(u,Ga,d=function(){an(u,Li,c),l()},{once:!0})}})}else pt(r,rc,this.onStart=function(u){var c=u.target;c.localName==="img"&&(!on(i.filter)||i.filter.call(n,c))&&n.view(n.images.indexOf(c))})}}},{key:"build",value:function(){if(!this.ready){var n=this.element,r=this.options,i=n.parentNode,s=document.createElement("div");s.innerHTML=oZ;var o=s.querySelector(".".concat(yt,"-container")),a=o.querySelector(".".concat(yt,"-title")),l=o.querySelector(".".concat(yt,"-toolbar")),u=o.querySelector(".".concat(yt,"-navbar")),c=o.querySelector(".".concat(yt,"-button")),d=o.querySelector(".".concat(yt,"-canvas"));if(this.parent=i,this.viewer=o,this.title=a,this.toolbar=l,this.navbar=u,this.button=c,this.canvas=d,this.footer=o.querySelector(".".concat(yt,"-footer")),this.tooltipBox=o.querySelector(".".concat(yt,"-tooltip")),this.player=o.querySelector(".".concat(yt,"-player")),this.list=o.querySelector(".".concat(yt,"-list")),o.id="".concat(yt).concat(this.id),a.id="".concat(yt,"Title").concat(this.id),ut(a,r.title?lp(Array.isArray(r.title)?r.title[0]:r.title):xa),ut(u,r.navbar?lp(r.navbar):xa),kf(c,xa,!r.button),r.keyboard&&c.setAttribute("tabindex",0),r.backdrop&&(ut(o,"".concat(yt,"-backdrop")),!r.inline&&r.backdrop!=="static"&&gw(d,Wm,"hide")),Af(r.className)&&r.className&&r.className.split(_T).forEach(function(_){ut(o,_)}),r.toolbar){var f=document.createElement("ul"),h=du(r.toolbar),p=ap.slice(0,3),m=ap.slice(7,9),g=ap.slice(9);h||ut(l,lp(r.toolbar)),un(h?r.toolbar:ap,function(_,b){var w=h&&du(_),T=h?TT(b):_,P=w&&!cu(_.show)?_.show:_;if(!(!P||!r.zoomable&&p.indexOf(T)!==-1||!r.rotatable&&m.indexOf(T)!==-1||!r.scalable&&g.indexOf(T)!==-1)){var A=w&&!cu(_.size)?_.size:_,O=w&&!cu(_.click)?_.click:_,E=document.createElement("li");r.keyboard&&E.setAttribute("tabindex",0),E.setAttribute("role","button"),ut(E,"".concat(yt,"-").concat(T)),on(O)||gw(E,Wm,T),An(P)&&ut(E,lp(P)),["small","large"].indexOf(A)!==-1?ut(E,"".concat(yt,"-").concat(A)):T==="play"&&ut(E,"".concat(yt,"-large")),on(O)&&pt(E,rc,O),f.appendChild(E)}}),l.appendChild(f)}else ut(l,xa);if(!r.rotatable){var y=l.querySelectorAll('li[class*="rotate"]');ut(y,Pd),un(y,function(_){l.appendChild(_)})}if(r.inline)ut(c,lZ),ts(o,{zIndex:r.zIndexInline}),window.getComputedStyle(i).position==="static"&&ts(i,{position:"relative"}),i.insertBefore(o,n.nextSibling);else{ut(c,aZ),ut(o,pw),ut(o,$p),ut(o,xa),ts(o,{zIndex:r.zIndex});var v=r.container;Af(v)&&(v=n.ownerDocument.querySelector(v)),v||(v=this.body),v.appendChild(o)}if(r.inline&&(this.render(),this.bind(),this.isShown=!0),this.ready=!0,on(r.ready)&&pt(n,yO,r.ready,{once:!0}),Vn(n,yO)===!1){this.ready=!1;return}this.ready&&r.inline&&this.view(this.index)}}}],[{key:"noConflict",value:function(){return window.Viewer=PZ,t}},{key:"setDefaults",value:function(n){_i(aO,du(n)&&n)}}]),t}();_i(sc.prototype,IZ,CZ,OZ,AZ,kZ);var DZ=typeof global=="object"&&global&&global.Object===Object&&global;const yL=DZ;var RZ=typeof self=="object"&&self&&self.Object===Object&&self,NZ=yL||RZ||Function("return this")();const Sv=NZ;var MZ=Sv.Symbol;const Km=MZ;var bL=Object.prototype,LZ=bL.hasOwnProperty,$Z=bL.toString,Fc=Km?Km.toStringTag:void 0;function FZ(t){var e=LZ.call(t,Fc),n=t[Fc];try{t[Fc]=void 0;var r=!0}catch{}var i=$Z.call(t);return r&&(e?t[Fc]=n:delete t[Fc]),i}var UZ=Object.prototype,VZ=UZ.toString;function BZ(t){return VZ.call(t)}var jZ="[object Null]",HZ="[object Undefined]",NO=Km?Km.toStringTag:void 0;function Ev(t){return t==null?t===void 0?HZ:jZ:NO&&NO in Object(t)?FZ(t):BZ(t)}function Iv(t){return t!=null&&typeof t=="object"}var WZ="[object Symbol]";function KZ(t){return typeof t=="symbol"||Iv(t)&&Ev(t)==WZ}var zZ=Array.isArray;const GZ=zZ;var YZ=/\s/;function qZ(t){for(var e=t.length;e--&&YZ.test(t.charAt(e)););return e}var XZ=/^\s+/;function QZ(t){return t&&t.slice(0,qZ(t)+1).replace(XZ,"")}function yl(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var MO=NaN,JZ=/^[-+]0x[0-9a-f]+$/i,ZZ=/^0b[01]+$/i,eee=/^0o[0-7]+$/i,tee=parseInt;function LO(t){if(typeof t=="number")return t;if(KZ(t))return MO;if(yl(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=yl(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=QZ(t);var n=ZZ.test(t);return n||eee.test(t)?tee(t.slice(2),n?2:8):JZ.test(t)?MO:+t}function wL(t){return t}var nee="[object AsyncFunction]",ree="[object Function]",iee="[object GeneratorFunction]",see="[object Proxy]";function _L(t){if(!yl(t))return!1;var e=Ev(t);return e==ree||e==iee||e==nee||e==see}var oee=Sv["__core-js_shared__"];const Ky=oee;var $O=function(){var t=/[^.]+$/.exec(Ky&&Ky.keys&&Ky.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function aee(t){return!!$O&&$O in t}var lee=Function.prototype,uee=lee.toString;function cee(t){if(t!=null){try{return uee.call(t)}catch{}try{return t+""}catch{}}return""}var dee=/[\\^$.*+?()[\]{}|]/g,fee=/^\[object .+?Constructor\]$/,hee=Function.prototype,pee=Object.prototype,mee=hee.toString,gee=pee.hasOwnProperty,vee=RegExp("^"+mee.call(gee).replace(dee,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function yee(t){if(!yl(t)||aee(t))return!1;var e=_L(t)?vee:fee;return e.test(cee(t))}function bee(t,e){return t==null?void 0:t[e]}function wee(t,e){var n=bee(t,e);return yee(n)?n:void 0}function _ee(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}var Tee=800,See=16,Eee=Date.now;function Iee(t){var e=0,n=0;return function(){var r=Eee(),i=See-(r-n);if(n=r,i>0){if(++e>=Tee)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}function Cee(t){return function(){return t}}var Oee=function(){try{var t=wee(Object,"defineProperty");return t({},"",{}),t}catch{}}();const zm=Oee;var Aee=zm?function(t,e){return zm(t,"toString",{configurable:!0,enumerable:!1,value:Cee(e),writable:!0})}:wL;const kee=Aee;var Pee=Iee(kee);const xee=Pee;var Dee=9007199254740991,Ree=/^(?:0|[1-9]\d*)$/;function TL(t,e){var n=typeof t;return e=e??Dee,!!e&&(n=="number"||n!="symbol"&&Ree.test(t))&&t>-1&&t%1==0&&t<e}function SL(t,e,n){e=="__proto__"&&zm?zm(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}function ST(t,e){return t===e||t!==t&&e!==e}var Nee=Object.prototype,Mee=Nee.hasOwnProperty;function EL(t,e,n){var r=t[e];(!(Mee.call(t,e)&&ST(r,n))||n===void 0&&!(e in t))&&SL(t,e,n)}function Lee(t,e,n,r){var i=!n;n||(n={});for(var s=-1,o=e.length;++s<o;){var a=e[s],l=r?r(n[a],t[a],a,n,t):void 0;l===void 0&&(l=t[a]),i?SL(n,a,l):EL(n,a,l)}return n}var FO=Math.max;function $ee(t,e,n){return e=FO(e===void 0?t.length-1:e,0),function(){for(var r=arguments,i=-1,s=FO(r.length-e,0),o=Array(s);++i<s;)o[i]=r[e+i];i=-1;for(var a=Array(e+1);++i<e;)a[i]=r[i];return a[e]=n(o),_ee(t,this,a)}}function IL(t,e){return xee($ee(t,e,wL),t+"")}var Fee=9007199254740991;function CL(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=Fee}function Cv(t){return t!=null&&CL(t.length)&&!_L(t)}function OL(t,e,n){if(!yl(n))return!1;var r=typeof e;return(r=="number"?Cv(n)&&TL(e,n.length):r=="string"&&e in n)?ST(n[e],t):!1}function Uee(t){return IL(function(e,n){var r=-1,i=n.length,s=i>1?n[i-1]:void 0,o=i>2?n[2]:void 0;for(s=t.length>3&&typeof s=="function"?(i--,s):void 0,o&&OL(n[0],n[1],o)&&(s=i<3?void 0:s,i=1),e=Object(e);++r<i;){var a=n[r];a&&t(e,a,r,s)}return e})}var Vee=Object.prototype;function ET(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||Vee;return t===n}function Bee(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var jee="[object Arguments]";function UO(t){return Iv(t)&&Ev(t)==jee}var AL=Object.prototype,Hee=AL.hasOwnProperty,Wee=AL.propertyIsEnumerable,Kee=UO(function(){return arguments}())?UO:function(t){return Iv(t)&&Hee.call(t,"callee")&&!Wee.call(t,"callee")};const zee=Kee;function Gee(){return!1}var kL=typeof exports=="object"&&exports&&!exports.nodeType&&exports,VO=kL&&typeof module=="object"&&module&&!module.nodeType&&module,Yee=VO&&VO.exports===kL,BO=Yee?Sv.Buffer:void 0,qee=BO?BO.isBuffer:void 0,Xee=qee||Gee;const Qee=Xee;var Jee="[object Arguments]",Zee="[object Array]",ete="[object Boolean]",tte="[object Date]",nte="[object Error]",rte="[object Function]",ite="[object Map]",ste="[object Number]",ote="[object Object]",ate="[object RegExp]",lte="[object Set]",ute="[object String]",cte="[object WeakMap]",dte="[object ArrayBuffer]",fte="[object DataView]",hte="[object Float32Array]",pte="[object Float64Array]",mte="[object Int8Array]",gte="[object Int16Array]",vte="[object Int32Array]",yte="[object Uint8Array]",bte="[object Uint8ClampedArray]",wte="[object Uint16Array]",_te="[object Uint32Array]",hn={};hn[hte]=hn[pte]=hn[mte]=hn[gte]=hn[vte]=hn[yte]=hn[bte]=hn[wte]=hn[_te]=!0;hn[Jee]=hn[Zee]=hn[dte]=hn[ete]=hn[fte]=hn[tte]=hn[nte]=hn[rte]=hn[ite]=hn[ste]=hn[ote]=hn[ate]=hn[lte]=hn[ute]=hn[cte]=!1;function Tte(t){return Iv(t)&&CL(t.length)&&!!hn[Ev(t)]}function Ste(t){return function(e){return t(e)}}var PL=typeof exports=="object"&&exports&&!exports.nodeType&&exports,xd=PL&&typeof module=="object"&&module&&!module.nodeType&&module,Ete=xd&&xd.exports===PL,zy=Ete&&yL.process,Ite=function(){try{var t=xd&&xd.require&&xd.require("util").types;return t||zy&&zy.binding&&zy.binding("util")}catch{}}();const jO=Ite;var HO=jO&&jO.isTypedArray,Cte=HO?Ste(HO):Tte;const Ote=Cte;var Ate=Object.prototype,kte=Ate.hasOwnProperty;function xL(t,e){var n=GZ(t),r=!n&&zee(t),i=!n&&!r&&Qee(t),s=!n&&!r&&!i&&Ote(t),o=n||r||i||s,a=o?Bee(t.length,String):[],l=a.length;for(var u in t)(e||kte.call(t,u))&&!(o&&(u=="length"||i&&(u=="offset"||u=="parent")||s&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||TL(u,l)))&&a.push(u);return a}function Pte(t,e){return function(n){return t(e(n))}}var xte=Pte(Object.keys,Object);const Dte=xte;var Rte=Object.prototype,Nte=Rte.hasOwnProperty;function Mte(t){if(!ET(t))return Dte(t);var e=[];for(var n in Object(t))Nte.call(t,n)&&n!="constructor"&&e.push(n);return e}function Lte(t){return Cv(t)?xL(t):Mte(t)}var $te=Object.prototype,Fte=$te.hasOwnProperty,Ute=Uee(function(t,e){if(ET(e)||Cv(e)){Lee(e,Lte(e),t);return}for(var n in e)Fte.call(e,n)&&EL(t,n,e[n])});const Vte=Ute;function Bte(t){var e=[];if(t!=null)for(var n in Object(t))e.push(n);return e}var jte=Object.prototype,Hte=jte.hasOwnProperty;function Wte(t){if(!yl(t))return Bte(t);var e=ET(t),n=[];for(var r in t)r=="constructor"&&(e||!Hte.call(t,r))||n.push(r);return n}function Kte(t){return Cv(t)?xL(t,!0):Wte(t)}var zte=function(){return Sv.Date.now()};const Gy=zte;var Gte="Expected a function",Yte=Math.max,qte=Math.min;function Xte(t,e,n){var r,i,s,o,a,l,u=0,c=!1,d=!1,f=!0;if(typeof t!="function")throw new TypeError(Gte);e=LO(e)||0,yl(n)&&(c=!!n.leading,d="maxWait"in n,s=d?Yte(LO(n.maxWait)||0,e):s,f="trailing"in n?!!n.trailing:f);function h(T){var P=r,A=i;return r=i=void 0,u=T,o=t.apply(A,P),o}function p(T){return u=T,a=setTimeout(y,e),c?h(T):o}function m(T){var P=T-l,A=T-u,O=e-P;return d?qte(O,s-A):O}function g(T){var P=T-l,A=T-u;return l===void 0||P>=e||P<0||d&&A>=s}function y(){var T=Gy();if(g(T))return v(T);a=setTimeout(y,m(T))}function v(T){return a=void 0,f&&r?h(T):(r=i=void 0,o)}function _(){a!==void 0&&clearTimeout(a),u=0,r=l=i=a=void 0}function b(){return a===void 0?o:v(Gy())}function w(){var T=Gy(),P=g(T);if(r=arguments,i=this,l=T,P){if(a===void 0)return p(l);if(d)return clearTimeout(a),a=setTimeout(y,e),h(l)}return a===void 0&&(a=setTimeout(y,e)),o}return w.cancel=_,w.flush=b,w}var DL=Object.prototype,Qte=DL.hasOwnProperty,Jte=IL(function(t,e){t=Object(t);var n=-1,r=e.length,i=r>2?e[2]:void 0;for(i&&OL(e[0],e[1],i)&&(r=1);++n<r;)for(var s=e[n],o=Kte(s),a=-1,l=o.length;++a<l;){var u=o[a],c=t[u];(c===void 0||ST(c,DL[u])&&!Qte.call(t,u))&&(t[u]=s[u])}return t});const Zte=Jte,ene=({images:t=[],options:e})=>{e=Vte(e,{inline:!1});const n=document.createElement("div"),r=nl("div",{style:{display:"none"},class:["__viewer-token"]},t.map(a=>nl("img",typeof a=="string"?{src:a}:a)));rl(r,n);const i=n.firstElementChild;document.body.appendChild(i);const s=new sc(i,e),o=s.destroy.bind(s);return s.destroy=function(){return o(),rl(null,n),s},s.show(),i.addEventListener("hidden",function(){this.viewer===s&&s.destroy()}),s},tne=({name:t="viewer",debug:e=!1}={})=>{async function n(c,d,f=!1,h=!1){await Wn(),!(h&&!r(c))&&(f||!c[`$${t}`]?(o(c),c[`$${t}`]=new sc(c,d),u("Viewer created")):(c[`$${t}`].update(),u("Viewer updated")))}function r(c){const d=c.innerHTML.match(/<img([\w\W]+?)[\\/]?>/g),f=d?d.join(""):void 0;return c.__viewerImageDiffCache===f?(u("Element change detected, but image(s) has not changed"),!1):(u("Image change detected"),c.__viewerImageDiffCache=f,!0)}function i(c,d,f,h){a(c);const p=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver;if(!p){u("Observer not supported");return}const m=new p(y=>{y.forEach(v=>{u(`Viewer mutation:${v.type}`),f(c,d,h,!0)})}),g={attributes:!0,childList:!0,characterData:!0,subtree:!0};m.observe(c,g),c.__viewerMutationObserver=m,u("Observer created")}function s(c,d,f,h){c.__viewerUnwatch=It(()=>d.value,(p,m)=>{u("Change detected by watcher: ",d.value),h(c,p,!0,!1)},{deep:!0}),u("Watcher created, expression: ",d.value)}function o(c){!c[`$${t}`]||(c[`$${t}`].destroy(),delete c[`$${t}`],u("Viewer destroyed"))}function a(c){!c.__viewerMutationObserver||(c.__viewerMutationObserver.disconnect(),delete c.__viewerMutationObserver,u("observer destroyed"))}function l(c){!c.__viewerUnwatch||(c.__viewerUnwatch(),delete c.__viewerUnwatch,u("Watcher destroyed"))}function u(...c){e&&console.log(...c)}return{mounted(c,d,f){u("Viewer bind");const h=Xte(n,50);h(c,d.value),s(c,d,f,h),d.modifiers.static||i(c,d.value,h,d.modifiers.rebuild)},unmounted(c){u("Viewer unbind"),a(c),l(c),o(c)}}},nne=Oe({name:"Viewer",props:{images:{type:Array,default:()=>[]},rebuild:{type:Boolean,default:!1},trigger:{type:Object,default:null},options:{type:Object,default:()=>null}},emits:["inited"],setup(t,{emit:e}){let n;const r=re();function i(){n=new sc(r.value,t.options),e("inited",n)}function s(){n&&n.destroy()}function o(){s(),i()}function a(){n?(n.update(),e("inited",n)):i()}function l(){t.rebuild?o():a()}const u={deep:!0};return It(()=>t.images,()=>{Wn(()=>{l()})},u),It(()=>t.trigger,()=>{Wn(()=>{l()})},u),It(()=>t.options,()=>{Wn(()=>{o()})},u),Gt(()=>i()),oa(()=>s()),{root:r,createViewer:i,rebuildViewer:o,updateViewer:a,destroyViewer:s}}}),rne=(t,e)=>{const n=t.__vccOpts||t;for(const[r,i]of e)n[r]=i;return n},ine={ref:"root"};function sne(t,e,n,r,i,s){return S(),V("div",ine,[ge(t.$slots,"default",{images:t.images,options:t.options})],512)}const RL=rne(nne,[["render",sne]]),one={install(t,{name:e="viewer",debug:n=!1,defaultOptions:r}={}){r&&sc.setDefaults(r),t.config.globalProperties[`$${e}Api`]=ene,t.component(e,Zte(RL,{name:e})),t.directive(e,tne({name:e,debug:n}))},setDefaults(t){sc.setDefaults(t)}},ane=["src"],WO=Oe({__name:"BlogPostImage",props:{post:{},coverImageUrl:{},maxHeight:{},maxWidth:{},alignment:{}},setup(t){const e=t,n=re(0),r=re(0),i=ee(()=>n.value>r.value),s=ee(()=>n.value>r.value*1.5),o=ee(()=>r.value>n.value),a=ee(()=>r.value>n.value*1.5);return Gt(()=>{const l=new Image;l.src=e.coverImageUrl,l.onload=()=>{n.value=l.height,r.value=l.width}}),(l,u)=>(S(),V("div",{class:ke({flex:!0,"justify-start":l.alignment==="left","justify-center":l.alignment===void 0||l.alignment==="center","justify-end":l.alignment==="right"})},[J(Zr,{class:ke(["!p-5 my-5 w-fit",l.post.colorTertiary||"",l.post.opacityTertiary||"bg-opacity-50"])},{default:ce(()=>[J(k(RL),{class:"cursor-pointer"},{default:ce(()=>[K("img",{class:"cover-image",src:l.coverImageUrl,style:nr({maxHeight:i.value?l.maxHeight??a.value?"60vh":"40h":"50vh",maxWidth:o.value?l.maxWidth??s.value?"60vw":"40vw":"50vw"})},null,12,ane)]),_:1})]),_:1},8,["class"])],2))}}),vw=Oe({__name:"ArrowIcon",props:{rotate:{type:Boolean},size:{}},setup(t){return(e,n)=>(S(),ie(k(pX),{class:ke(["sm:block animation",{"rotate-180":e.rotate,"mt-0.5 mr-2.5 h-5 w-5":!e.size||e.size==="sm","h-10 w-10":e.size==="md","h-20 w-20":e.size==="xl"}])},null,8,["class"]))}}),lne=Oe({__name:"BlogPostSectionTitle",props:{class:{},alignment:{},isExpandable:{type:Boolean},isExpanded:{type:Boolean}},emits:["click"],setup(t){const e=t;return(n,r)=>(S(),V("div",{class:ke(["font-bold text-lg md:text-2xl",{"hover:underline cursor-pointer":n.isExpandable},e.class])},[K("div",{class:ke({block:!n.alignment,flex:!!n.alignment,"justify-start":n.alignment==="left","justify-center":n.alignment==="center","justify-end":n.alignment==="right"})},[K("span",{class:"flex",onClick:r[0]||(r[0]=i=>n.$emit("click"))},[n.isExpandable&&n.alignment==="right"?(S(),ie(vw,{key:0,rotate:n.isExpanded,size:"md"},null,8,["rotate"])):Y("",!0),ge(n.$slots,"default"),n.isExpandable&&(n.alignment==="left"||n.alignment==="center")?(S(),ie(vw,{key:1,rotate:n.isExpanded,size:"md"},null,8,["rotate"])):Y("",!0)])],2)],2))}}),une={class:"flex justify-between h-fit mt-2 gap-2"},cne={class:"flex flex-wrap gap-3"},dne={class:"w-full"},fne={class:"w-full"},hne={class:"flex gap-3"},pne=K("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",class:"h-6"},[K("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 01-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 011.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 00-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 01-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 00-3.375-3.375h-1.5a1.125 1.125 0 01-1.125-1.125v-1.5a3.375 3.375 0 00-3.375-3.375H9.75"})],-1),NL=Oe({__name:"BlogPost",props:{post:{}},emits:["editClicked","deleteClicked"],setup(t){const e=t,{publicUsers:n}=en(or()),{firebaseUser:r,isOwner:i}=en(sr()),s=ee(()=>{var c;return(c=e.post.allowedUserIds)!=null&&c.length?n.value.filter(d=>{var f;return(f=e.post.allowedUserIds)==null?void 0:f.includes(d.id)}):[]}),o=ee(()=>{const c=[];return e.post.datePinned&&c.push({value:"Pinned",severity:"success",rounded:!1}),e.post.locked&&c.push({value:"Locked",severity:"danger",rounded:!1,icon:"pi pi-lock"}),c}),a=ee(()=>e.post.sections.map(c=>({...c,isExpandable:l(c)}))),l=c=>!!c.description||!!c.coverImageUrl||!!c.bullets.length,u=()=>{const c=document.createElement("textarea"),{protocol:d,hostname:f,port:h,pathname:p}=window.location,m=`${d}//${f}`+(f==="localhost"?`:${h}`:"")+p;c.value=`${m}/${e.post.id}`,document.body.appendChild(c),c.select(),document.execCommand("copy"),document.body.removeChild(c),qe.success("Copied link!")};return(c,d)=>(S(),ie(Zr,{id:c.post.id,class:ke(["min-h-[90vh] border-4 border-transparent",c.post.colorPrimary||"bg-gray-900",c.post.opacityPrimary||"bg-opacity-30"]),title:c.post.title,subTitle:k(Bb)(new Date(c.post.date))+(c.post.dateUpdated?" - updated "+k(Bb)(new Date(c.post.dateUpdated)):""),tags:o.value,loading:c.post.loading},{right:ce(()=>[K("div",hne,[J(Ft,{class:"border-none bg-gray-500 text-purple-100 bg-opacity-10 h-fit",type:"secondary",outlined:"",onClick:u},{default:ce(()=>[pne]),_:1})])]),default:ce(()=>{var f;return[K("div",une,[K("div",cne,[(S(!0),V(Te,null,st(s.value,h=>{var p;return S(),ie(k(fL),{class:"h-fit !p-0 !px-4 !py-1 bg-red-800 bg-opacity-50",icon:"pi pi-user",label:h.id===((p=k(r))==null?void 0:p.uid)?"You":h.displayName,rounded:""},null,8,["label"])}),256))]),k(i)?(S(),V("div",{key:0,class:ke(["flex justify-end h-fit ms-5 gap-3",(f=c.post.allowedUserIds)!=null&&f.length?"flex-col md:flex-row":"flex-row"])},[J(Ft,{class:"min-w-80",onClick:d[0]||(d[0]=h=>c.$emit("editClicked"))},{default:ce(()=>[Je(" Edit ")]),_:1}),J(Ft,{class:"min-w-80",type:"danger",outlined:"",onClick:d[1]||(d[1]=h=>c.$emit("deleteClicked"))},{default:ce(()=>[Je(" Delete ")]),_:1})],2)):Y("",!0)]),J(Zr,{class:ke(["z-10 min-h-[125px] md:min-h-[160px] p-5 mt-5",c.post.colorSecondary||c.post.colorPrimary,c.post.opacitySecondary||"bg-opacity-25"])},{default:ce(()=>[K("div",{class:ke(["flex relative",c.post.countdown||c.post.alignment==="center"?"flex justify-between":""])},[K("div",dne,[c.post.countdown?(S(),ie(jl,{key:0,time:new Date(c.post.countdown).getTime(),direction:"down",alignment:c.post.alignment},null,8,["time","alignment"])):Y("",!0),c.post.timer?(S(),ie(jl,{key:1,time:new Date(c.post.timer).getTime(),direction:"up",alignment:c.post.alignment},null,8,["time","alignment"])):Y("",!0),c.post.description?(S(),ie(sp,{key:2,description:c.post.description,alignment:c.post.alignment},null,8,["description","alignment"])):Y("",!0)])],2),c.post.coverImageUrl?(S(),ie(WO,{key:0,post:c.post,"cover-image-url":c.post.coverImageUrl},null,8,["post","cover-image-url"])):Y("",!0),c.post.descriptionFooter?(S(),ie(sp,{key:1,class:"mb-5",description:c.post.descriptionFooter,alignment:c.post.alignment},null,8,["description","alignment"])):Y("",!0),J(k(_h),null,{default:ce(()=>[(S(!0),V(Te,null,st(a.value,h=>(S(),ie(k(Yo),{disabled:!h.isExpandable,pt:{headerAction:{class:["px-0 bg-transparent",h.isExpandable?void 0:"cursor-auto"]},headerIcon:{class:h.isExpandable?void 0:"invisible"}}},Jn({header:ce(()=>[K("div",fne,[h.title?(S(),ie(lne,{key:0,alignment:h.alignment},{default:ce(()=>[Je($e(h.title),1)]),_:2},1032,["alignment"])):Y("",!0),h.subTitle?(S(),ie(sp,{key:1,class:"mb-5",description:h.subTitle,alignment:h.alignment},null,8,["description","alignment"])):Y("",!0),h.isExpandable?Y("",!0):(S(),V(Te,{key:2},[h.countdown?(S(),ie(jl,{key:0,time:new Date(h.countdown).getTime(),direction:"down",alignment:h.alignment},null,8,["time","alignment"])):Y("",!0),h.timer?(S(),ie(jl,{key:1,time:new Date(h.timer).getTime(),direction:"up",alignment:h.alignment},null,8,["time","alignment"])):Y("",!0)],64))])]),default:ce(()=>[h.description?(S(),ie(sp,{key:0,description:h.description,alignment:h.alignment},null,8,["description","alignment"])):Y("",!0),h.coverImageUrl?(S(),ie(WO,{key:1,post:c.post,"cover-image-url":h.coverImageUrl,alignment:h.alignment,"max-height":"30vh"},null,8,["post","cover-image-url","alignment"])):Y("",!0),J(QJ,{bullets:h.bullets,alignment:h.alignment},null,8,["bullets","alignment"]),h.isExpandable?(S(),V(Te,{key:2},[h.countdown?(S(),ie(jl,{key:0,time:new Date(h.countdown).getTime(),direction:"down",alignment:h.alignment},null,8,["time","alignment"])):Y("",!0),h.timer?(S(),ie(jl,{key:1,time:new Date(h.timer).getTime(),direction:"up",alignment:h.alignment},null,8,["time","alignment"])):Y("",!0)],64)):Y("",!0)]),_:2},[h.isExpandable?void 0:{name:"headericon",fn:ce(()=>[]),key:"0"}]),1032,["disabled","pt"]))),256))]),_:1})]),_:1},8,["class"]),J(XJ,{post:c.post},null,8,["post"])]}),_:1},8,["id","class","title","subTitle","tags","loading"]))}}),mne={key:0,class:"flex justify-center mt-5"},gne={class:"grid grid-cols-6 mb-5 gap-5"},vne=Oe({__name:"BlogDetails",setup(t){const e=m1(),n=ee(()=>e.params.postId),r=or(),{fetchBlogPost:i}=r,{blogPosts:s}=en(r);return Gt(()=>{var o,a;n.value&&((o=s.value.data.single)==null?void 0:o.id)!==n.value&&((a=s.value.data.single)==null?void 0:a.id)!==n.value&&i(n.value)}),(o,a)=>k(s).fetchLoading?(S(),V("div",mne,[J(Ft,{class:"w-full md:w-1/2 xl:w-1/4",outlined:"",loading:k(s).fetchLoading},{default:ce(()=>[Je(" Loading... ")]),_:1},8,["loading"])])):(S(),V(Te,{key:1},[K("div",gne,[J(Ft,{class:"col-span-full md:col-start-2 md:col-span-4 lg:col-start-3 lg:col-span-2",type:"orange",url:"/blog"},{default:ce(()=>[Je(" All Posts ")]),_:1})]),k(s).data.single?(S(),ie(NL,{key:0,post:k(s).data.single},null,8,["post"])):Y("",!0)],64))}}),yne={key:0,class:"fixed z-10 inset-0 flex items-center justify-center overflow-auto"},bne={class:"relative w-full md:w-3/4 lg:w-1/2 max-h-screen"},wne={class:"bg-gray-800 border border-gray-500 rounded-2xl p-5"},_ne={class:"p-8"},Tne={class:"title-secondary"},Sne={class:"mt-4 text-gray-300"},Ene={class:"my-2"},Ine={class:"grid grid-cols-4 mt-10 gap-3"},IT=Oe({__name:"Dialog",props:{isOpen:{type:Boolean},title:{},description:{},confirmText:{},confirmLoading:{type:Boolean},confirmProps:{}},emits:["confirm","cancel"],setup(t){const e=t;return Kf(()=>{document.body.style.overflow=""}),It(()=>e.isOpen,()=>{e.isOpen?(document.body.style.overflow="hidden",document.body.style.marginRight=`${aK()}px`):(document.body.style.marginRight="",document.body.style.overflow="")}),(n,r)=>n.isOpen?(S(),V("div",yne,[K("div",{class:"fixed inset-0 bg-gray-900 opacity-50 animation",onClick:r[0]||(r[0]=i=>n.$emit("cancel"))}),K("div",bne,[K("div",wne,[K("div",_ne,[K("h3",Tne,$e(n.title),1),K("div",Sne,[(S(!0),V(Te,null,st(Array.isArray(n.description)?[...n.description]:[n.description],i=>(S(),V("p",Ene,$e(i),1))),256))]),ge(n.$slots,"default")]),K("div",Ine,[J(Ft,{class:ke(["col-span-full",n.confirmText?"md:col-span-2":""]),outlined:"",onClick:r[1]||(r[1]=i=>n.$emit("cancel"))},{default:ce(()=>[Je(" Cancel ")]),_:1},8,["class"]),n.confirmText?(S(),ie(Ft,le({key:0,class:"col-span-full md:col-span-2 md:col-start-3",loading:n.confirmLoading},n.confirmProps,{onClick:r[2]||(r[2]=i=>n.$emit("confirm"))}),{default:ce(()=>[Je($e(n.confirmText),1)]),_:1},16,["loading"])):Y("",!0)])])])])):Y("",!0)}});let cp;const Cne=new Uint8Array(16);function One(){if(!cp&&(cp=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!cp))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return cp(Cne)}const vr=[];for(let t=0;t<256;++t)vr.push((t+256).toString(16).slice(1));function Ane(t,e=0){return vr[t[e+0]]+vr[t[e+1]]+vr[t[e+2]]+vr[t[e+3]]+"-"+vr[t[e+4]]+vr[t[e+5]]+"-"+vr[t[e+6]]+vr[t[e+7]]+"-"+vr[t[e+8]]+vr[t[e+9]]+"-"+vr[t[e+10]]+vr[t[e+11]]+vr[t[e+12]]+vr[t[e+13]]+vr[t[e+14]]+vr[t[e+15]]}const kne=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),KO={randomUUID:kne};function Gm(t,e,n){if(KO.randomUUID&&!e&&!t)return KO.randomUUID();t=t||{};const r=t.random||(t.rng||One)();if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,e){n=n||0;for(let i=0;i<16;++i)e[n+i]=r[i];return e}return Ane(r)}const Pne={class:"m-4"},xne=["for"],Ym=Oe({__name:"DateField",props:{id:{},name:{},label:{},modelValue:{},labelProps:{}},emits:["update:modelValue","update:error"],setup(t,{expose:e,emit:n}){const r=t,i=ee({get:()=>r.modelValue,set:l=>{a("update:modelValue",l)}}),s=ee(()=>r.name+(r.id!==void 0?"."+r.id:"")),o=()=>{},a=n;return e({test:o}),(l,u)=>{const c=Bn("VueDatePicker");return S(),V("div",Pne,[l.label?(S(),V("label",le({key:0,class:"block text-sm font-bold mb-2",for:"dp-input-"+s.value},l.labelProps),$e(l.label),17,xne)):Y("",!0),J(c,{uid:s.value,class:"p-input px-5",modelValue:i.value,"onUpdate:modelValue":u[0]||(u[0]=d=>i.value=d),dark:""},null,8,["uid","modelValue"])])}}}),Dne={class:"m-4"},Rne=["for"],Nne={class:"flex justify-between gap-1"},Mne=["id","disabled"],Lne={key:2},$ne={class:"flex justify-center"},Fne=["src"],CT=Oe({__name:"FileUpload",props:{id:{},name:{},label:{},modelValue:{},error:{},isPublic:{type:Boolean},blogPost:{},imageProps:{},imageContainerProps:{}},emits:["update:modelValue","update:error"],setup(t,{expose:e,emit:n}){const r=t,{firebaseUser:i}=en(sr()),{fetchFileInfo:s,uploadFile:o,deleteFile:a}=or(),l=re(),u=re(null),c=re(0),d=ee(()=>Vb(r.modelValue||"uploads/"+Gm())),f=ee(()=>d.value.name),h=re(),p=re(""),m=b=>{const w=b.target;w.files&&w.files.length>0&&(u.value=w.files[0],p.value=u.value.name,g())},g=async()=>{var b,w;u.value&&((b=i.value)!=null&&b.uid)&&await o(d.value,u.value,T=>c.value=T,p.value,(w=i.value)==null?void 0:w.uid,r.isPublic,r.blogPost)&&(_("update:modelValue",await JW(d.value)),u.value=null,c.value=0)},y=async()=>{await a(d.value)?(window.URL.revokeObjectURL(r.modelValue),l.value.value=null,_("update:modelValue","")):_("update:error","Failed to delete File reference")},v=()=>{};It(()=>r.modelValue,async()=>{var b;h.value=r.modelValue?await s(f.value):void 0,p.value=((b=h.value)==null?void 0:b.name)??""},{immediate:!0});const _=n;return e({test:v}),(b,w)=>(S(),V("div",Dne,[b.label?(S(),V("label",{key:0,class:"block text-sm font-bold mb-2",for:`${b.id}`},$e(b.label),9,Rne)):Y("",!0),K("div",Nne,[K("input",{id:`${b.id}`,ref_key:"fileUpload",ref:l,type:"file",accept:"image/*",onChange:m,class:"p-input",disabled:!!h.value},null,40,Mne),h.value?(S(),ie(hL,{key:0,onClick:y})):Y("",!0)]),b.error?(S(),ie(vT,{key:1,name:b.name,error:b.error},null,8,["name","error"])):Y("",!0),c.value>0?(S(),V("div",Lne,"Uploading: "+$e(c.value.toFixed(2))+"%",1)):Y("",!0),K("div",$ne,[K("div",Pn(rr(b.imageContainerProps)),[h.value?(S(),V("img",le({key:0,class:"p-input-file mt-4 w-full min-w-25 md:max-w-fit",src:b.modelValue},b.imageProps),null,16,Fne)):Y("",!0)],16)])]))}}),Une={class:"m-4"},Vne=["for"],xr=Oe({__name:"SelectField",props:{id:{},name:{},label:{},modelValue:{},placeholder:{},error:{},rules:{},options:{},multiple:{type:Boolean}},emits:["update:modelValue","update:arrayValue","update:error"],setup(t,{expose:e,emit:n}){const r=t,i=n,s=ee(()=>(r.rules??[]).some(h=>h.type===yT.Required)),o=ee({get:()=>{if(r.multiple){const h=Array.isArray(r.modelValue)?r.modelValue:[];return h.length?h:s.value?r.options.length?[r.options[0].value]:[]:[]}else{const h=typeof r.modelValue=="string"||typeof r.modelValue=="number"?r.modelValue:"";return h||(r.options.length?r.options[0].value:"")}},set:h=>{i("update:modelValue",Ea(h)[0]),i("update:arrayValue",Ea(h))}}),a=ee(()=>r.label+(s.value?" *":"")),l=ee(()=>r.name+(r.id?"."+r.id:"")),u=ee(()=>r.options.find(({value:h})=>h===o.value)),c=ee(()=>{var h,p,m;return[((h=u.value)==null?void 0:h.background)??"bg-transparent",(p=u.value)!=null&&p.background?"bg-opacity-90":"bg-opacity-40",((m=u.value)==null?void 0:m.text)??"text-black"]}),d=ee(()=>Ea(o.value).map(h=>{var p;return(p=r.options.find(m=>m.value===h))==null?void 0:p.label}).join(", "));return Gt(()=>{s.value&&(i("update:modelValue",Ea(o.value)[0]),i("update:arrayValue",Ea(o.value)))}),e({test:async()=>{const h=r.rules||[];let p="";for(const m of Ea(o.value)){const g={value:m.toString()},y=h.filter(v=>!v.test(g)).map(v=>v.error(g))||[];if(y[0]){p=y[0];break}}i("update:error",p)}}),(h,p)=>(S(),V("div",Une,[K("label",{class:"block text-sm font-bold mb-2",for:l.value},$e(a.value),9,Vne),K("div",null,[(S(),ie(gn(h.multiple?"PrimeMultiSelect":"PrimeDropdown"),{inputId:l.value,modelValue:o.value,"onUpdate:modelValue":p[0]||(p[0]=m=>o.value=m),placeholder:h.placeholder??"No option selected",class:"w-full p-input p-0",multiple:h.multiple,options:h.options,optionValue:"value",pt:{trigger:{class:c.value}}},{value:ce(({placeholder:m})=>{var g;return[K("span",{class:ke(["block w-full p-2",...c.value])},$e((h.multiple?d.value:(g=u.value)==null?void 0:g.label)||m),3)]}),option:ce(({option:m})=>[K("span",{class:ke(["w-full p-2",m.background,m.background?"bg-opacity-90":"bg-opacity-40",m.text])},$e(m.label),3)]),_:1},8,["inputId","modelValue","placeholder","multiple","options","pt"]))]),h.error?(S(),ie(vT,{key:0,name:h.name,error:h.error},null,8,["name","error"])):Y("",!0)]))}});var Bne=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function jne(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function ML(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var LL={exports:{}};const Hne=ML(s6);/**!
 * Sortable 1.14.0
 * @author	RubaXa   <trash@rubaxa.org>
 * @author	owenm    <owen23355@gmail.com>
 * @license MIT
 */function zO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function $s(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?zO(Object(n),!0).forEach(function(r){Wne(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):zO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Up(t){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Up=function(e){return typeof e}:Up=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Up(t)}function Wne(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Bi(){return Bi=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Bi.apply(this,arguments)}function Kne(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function zne(t,e){if(t==null)return{};var n=Kne(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Gne(t){return Yne(t)||qne(t)||Xne(t)||Qne()}function Yne(t){if(Array.isArray(t))return yw(t)}function qne(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Xne(t,e){if(t){if(typeof t=="string")return yw(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return yw(t,e)}}function yw(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Qne(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Jne="1.14.0";function no(t){if(typeof window<"u"&&window.navigator)return!!navigator.userAgent.match(t)}var mo=no(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),Th=no(/Edge/i),GO=no(/firefox/i),Dd=no(/safari/i)&&!no(/chrome/i)&&!no(/android/i),$L=no(/iP(ad|od|hone)/i),Zne=no(/chrome/i)&&no(/android/i),FL={capture:!1,passive:!1};function Tt(t,e,n){t.addEventListener(e,n,!mo&&FL)}function wt(t,e,n){t.removeEventListener(e,n,!mo&&FL)}function qm(t,e){if(e){if(e[0]===">"&&(e=e.substring(1)),t)try{if(t.matches)return t.matches(e);if(t.msMatchesSelector)return t.msMatchesSelector(e);if(t.webkitMatchesSelector)return t.webkitMatchesSelector(e)}catch{return!1}return!1}}function ere(t){return t.host&&t!==document&&t.host.nodeType?t.host:t.parentNode}function Xi(t,e,n,r){if(t){n=n||document;do{if(e!=null&&(e[0]===">"?t.parentNode===n&&qm(t,e):qm(t,e))||r&&t===n)return t;if(t===n)break}while(t=ere(t))}return null}var YO=/\s+/g;function On(t,e,n){if(t&&e)if(t.classList)t.classList[n?"add":"remove"](e);else{var r=(" "+t.className+" ").replace(YO," ").replace(" "+e+" "," ");t.className=(r+(n?" "+e:"")).replace(YO," ")}}function Xe(t,e,n){var r=t&&t.style;if(r){if(n===void 0)return document.defaultView&&document.defaultView.getComputedStyle?n=document.defaultView.getComputedStyle(t,""):t.currentStyle&&(n=t.currentStyle),e===void 0?n:n[e];!(e in r)&&e.indexOf("webkit")===-1&&(e="-webkit-"+e),r[e]=n+(typeof n=="string"?"":"px")}}function Ya(t,e){var n="";if(typeof t=="string")n=t;else do{var r=Xe(t,"transform");r&&r!=="none"&&(n=r+" "+n)}while(!e&&(t=t.parentNode));var i=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return i&&new i(n)}function UL(t,e,n){if(t){var r=t.getElementsByTagName(e),i=0,s=r.length;if(n)for(;i<s;i++)n(r[i],i);return r}return[]}function Ds(){var t=document.scrollingElement;return t||document.documentElement}function Sn(t,e,n,r,i){if(!(!t.getBoundingClientRect&&t!==window)){var s,o,a,l,u,c,d;if(t!==window&&t.parentNode&&t!==Ds()?(s=t.getBoundingClientRect(),o=s.top,a=s.left,l=s.bottom,u=s.right,c=s.height,d=s.width):(o=0,a=0,l=window.innerHeight,u=window.innerWidth,c=window.innerHeight,d=window.innerWidth),(e||n)&&t!==window&&(i=i||t.parentNode,!mo))do if(i&&i.getBoundingClientRect&&(Xe(i,"transform")!=="none"||n&&Xe(i,"position")!=="static")){var f=i.getBoundingClientRect();o-=f.top+parseInt(Xe(i,"border-top-width")),a-=f.left+parseInt(Xe(i,"border-left-width")),l=o+s.height,u=a+s.width;break}while(i=i.parentNode);if(r&&t!==window){var h=Ya(i||t),p=h&&h.a,m=h&&h.d;h&&(o/=m,a/=p,d/=p,c/=m,l=o+c,u=a+d)}return{top:o,left:a,bottom:l,right:u,width:d,height:c}}}function qO(t,e,n){for(var r=Vo(t,!0),i=Sn(t)[e];r;){var s=Sn(r)[n],o=void 0;if(n==="top"||n==="left"?o=i>=s:o=i<=s,!o)return r;if(r===Ds())break;r=Vo(r,!1)}return!1}function oc(t,e,n,r){for(var i=0,s=0,o=t.children;s<o.length;){if(o[s].style.display!=="none"&&o[s]!==ot.ghost&&(r||o[s]!==ot.dragged)&&Xi(o[s],n.draggable,t,!1)){if(i===e)return o[s];i++}s++}return null}function OT(t,e){for(var n=t.lastElementChild;n&&(n===ot.ghost||Xe(n,"display")==="none"||e&&!qm(n,e));)n=n.previousElementSibling;return n||null}function Ln(t,e){var n=0;if(!t||!t.parentNode)return-1;for(;t=t.previousElementSibling;)t.nodeName.toUpperCase()!=="TEMPLATE"&&t!==ot.clone&&(!e||qm(t,e))&&n++;return n}function XO(t){var e=0,n=0,r=Ds();if(t)do{var i=Ya(t),s=i.a,o=i.d;e+=t.scrollLeft*s,n+=t.scrollTop*o}while(t!==r&&(t=t.parentNode));return[e,n]}function tre(t,e){for(var n in t)if(t.hasOwnProperty(n)){for(var r in e)if(e.hasOwnProperty(r)&&e[r]===t[n][r])return Number(n)}return-1}function Vo(t,e){if(!t||!t.getBoundingClientRect)return Ds();var n=t,r=!1;do if(n.clientWidth<n.scrollWidth||n.clientHeight<n.scrollHeight){var i=Xe(n);if(n.clientWidth<n.scrollWidth&&(i.overflowX=="auto"||i.overflowX=="scroll")||n.clientHeight<n.scrollHeight&&(i.overflowY=="auto"||i.overflowY=="scroll")){if(!n.getBoundingClientRect||n===document.body)return Ds();if(r||e)return n;r=!0}}while(n=n.parentNode);return Ds()}function nre(t,e){if(t&&e)for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}function Yy(t,e){return Math.round(t.top)===Math.round(e.top)&&Math.round(t.left)===Math.round(e.left)&&Math.round(t.height)===Math.round(e.height)&&Math.round(t.width)===Math.round(e.width)}var Rd;function VL(t,e){return function(){if(!Rd){var n=arguments,r=this;n.length===1?t.call(r,n[0]):t.apply(r,n),Rd=setTimeout(function(){Rd=void 0},e)}}}function rre(){clearTimeout(Rd),Rd=void 0}function BL(t,e,n){t.scrollLeft+=e,t.scrollTop+=n}function AT(t){var e=window.Polymer,n=window.jQuery||window.Zepto;return e&&e.dom?e.dom(t).cloneNode(!0):n?n(t).clone(!0)[0]:t.cloneNode(!0)}function QO(t,e){Xe(t,"position","absolute"),Xe(t,"top",e.top),Xe(t,"left",e.left),Xe(t,"width",e.width),Xe(t,"height",e.height)}function qy(t){Xe(t,"position",""),Xe(t,"top",""),Xe(t,"left",""),Xe(t,"width",""),Xe(t,"height","")}var Mr="Sortable"+new Date().getTime();function ire(){var t=[],e;return{captureAnimationState:function(){if(t=[],!!this.options.animation){var r=[].slice.call(this.el.children);r.forEach(function(i){if(!(Xe(i,"display")==="none"||i===ot.ghost)){t.push({target:i,rect:Sn(i)});var s=$s({},t[t.length-1].rect);if(i.thisAnimationDuration){var o=Ya(i,!0);o&&(s.top-=o.f,s.left-=o.e)}i.fromRect=s}})}},addAnimationState:function(r){t.push(r)},removeAnimationState:function(r){t.splice(tre(t,{target:r}),1)},animateAll:function(r){var i=this;if(!this.options.animation){clearTimeout(e),typeof r=="function"&&r();return}var s=!1,o=0;t.forEach(function(a){var l=0,u=a.target,c=u.fromRect,d=Sn(u),f=u.prevFromRect,h=u.prevToRect,p=a.rect,m=Ya(u,!0);m&&(d.top-=m.f,d.left-=m.e),u.toRect=d,u.thisAnimationDuration&&Yy(f,d)&&!Yy(c,d)&&(p.top-d.top)/(p.left-d.left)===(c.top-d.top)/(c.left-d.left)&&(l=ore(p,f,h,i.options)),Yy(d,c)||(u.prevFromRect=c,u.prevToRect=d,l||(l=i.options.animation),i.animate(u,p,d,l)),l&&(s=!0,o=Math.max(o,l),clearTimeout(u.animationResetTimer),u.animationResetTimer=setTimeout(function(){u.animationTime=0,u.prevFromRect=null,u.fromRect=null,u.prevToRect=null,u.thisAnimationDuration=null},l),u.thisAnimationDuration=l)}),clearTimeout(e),s?e=setTimeout(function(){typeof r=="function"&&r()},o):typeof r=="function"&&r(),t=[]},animate:function(r,i,s,o){if(o){Xe(r,"transition",""),Xe(r,"transform","");var a=Ya(this.el),l=a&&a.a,u=a&&a.d,c=(i.left-s.left)/(l||1),d=(i.top-s.top)/(u||1);r.animatingX=!!c,r.animatingY=!!d,Xe(r,"transform","translate3d("+c+"px,"+d+"px,0)"),this.forRepaintDummy=sre(r),Xe(r,"transition","transform "+o+"ms"+(this.options.easing?" "+this.options.easing:"")),Xe(r,"transform","translate3d(0,0,0)"),typeof r.animated=="number"&&clearTimeout(r.animated),r.animated=setTimeout(function(){Xe(r,"transition",""),Xe(r,"transform",""),r.animated=!1,r.animatingX=!1,r.animatingY=!1},o)}}}}function sre(t){return t.offsetWidth}function ore(t,e,n,r){return Math.sqrt(Math.pow(e.top-t.top,2)+Math.pow(e.left-t.left,2))/Math.sqrt(Math.pow(e.top-n.top,2)+Math.pow(e.left-n.left,2))*r.animation}var Kl=[],Xy={initializeByDefault:!0},Sh={mount:function(e){for(var n in Xy)Xy.hasOwnProperty(n)&&!(n in e)&&(e[n]=Xy[n]);Kl.forEach(function(r){if(r.pluginName===e.pluginName)throw"Sortable: Cannot mount plugin ".concat(e.pluginName," more than once")}),Kl.push(e)},pluginEvent:function(e,n,r){var i=this;this.eventCanceled=!1,r.cancel=function(){i.eventCanceled=!0};var s=e+"Global";Kl.forEach(function(o){n[o.pluginName]&&(n[o.pluginName][s]&&n[o.pluginName][s]($s({sortable:n},r)),n.options[o.pluginName]&&n[o.pluginName][e]&&n[o.pluginName][e]($s({sortable:n},r)))})},initializePlugins:function(e,n,r,i){Kl.forEach(function(a){var l=a.pluginName;if(!(!e.options[l]&&!a.initializeByDefault)){var u=new a(e,n,e.options);u.sortable=e,u.options=e.options,e[l]=u,Bi(r,u.defaults)}});for(var s in e.options)if(e.options.hasOwnProperty(s)){var o=this.modifyOption(e,s,e.options[s]);typeof o<"u"&&(e.options[s]=o)}},getEventProperties:function(e,n){var r={};return Kl.forEach(function(i){typeof i.eventProperties=="function"&&Bi(r,i.eventProperties.call(n[i.pluginName],e))}),r},modifyOption:function(e,n,r){var i;return Kl.forEach(function(s){e[s.pluginName]&&s.optionListeners&&typeof s.optionListeners[n]=="function"&&(i=s.optionListeners[n].call(e[s.pluginName],r))}),i}};function od(t){var e=t.sortable,n=t.rootEl,r=t.name,i=t.targetEl,s=t.cloneEl,o=t.toEl,a=t.fromEl,l=t.oldIndex,u=t.newIndex,c=t.oldDraggableIndex,d=t.newDraggableIndex,f=t.originalEvent,h=t.putSortable,p=t.extraEventProperties;if(e=e||n&&n[Mr],!!e){var m,g=e.options,y="on"+r.charAt(0).toUpperCase()+r.substr(1);window.CustomEvent&&!mo&&!Th?m=new CustomEvent(r,{bubbles:!0,cancelable:!0}):(m=document.createEvent("Event"),m.initEvent(r,!0,!0)),m.to=o||n,m.from=a||n,m.item=i||n,m.clone=s,m.oldIndex=l,m.newIndex=u,m.oldDraggableIndex=c,m.newDraggableIndex=d,m.originalEvent=f,m.pullMode=h?h.lastPutMode:void 0;var v=$s($s({},p),Sh.getEventProperties(r,e));for(var _ in v)m[_]=v[_];n&&n.dispatchEvent(m),g[y]&&g[y].call(e,m)}}var are=["evt"],ni=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=r.evt,s=zne(r,are);Sh.pluginEvent.bind(ot)(e,n,$s({dragEl:xe,parentEl:Rn,ghostEl:mt,rootEl:Tn,nextEl:Ca,lastDownEl:Vp,cloneEl:Nn,cloneHidden:Uo,dragStarted:ad,putSortable:yr,activeSortable:ot.active,originalEvent:i,oldIndex:hu,oldDraggableIndex:Nd,newIndex:gi,newDraggableIndex:Ro,hideGhostForTarget:KL,unhideGhostForTarget:zL,cloneNowHidden:function(){Uo=!0},cloneNowShown:function(){Uo=!1},dispatchSortableEvent:function(a){zr({sortable:n,name:a,originalEvent:i})}},s))};function zr(t){od($s({putSortable:yr,cloneEl:Nn,targetEl:xe,rootEl:Tn,oldIndex:hu,oldDraggableIndex:Nd,newIndex:gi,newDraggableIndex:Ro},t))}var xe,Rn,mt,Tn,Ca,Vp,Nn,Uo,hu,gi,Nd,Ro,dp,yr,ru=!1,Xm=!1,Qm=[],wa,Ki,Qy,Jy,JO,ZO,ad,zl,Md,Ld=!1,fp=!1,Bp,Ar,Zy=[],bw=!1,Jm=[],Ov=typeof document<"u",hp=$L,eA=Th||mo?"cssFloat":"float",lre=Ov&&!Zne&&!$L&&"draggable"in document.createElement("div"),jL=function(){if(Ov){if(mo)return!1;var t=document.createElement("x");return t.style.cssText="pointer-events:auto",t.style.pointerEvents==="auto"}}(),HL=function(e,n){var r=Xe(e),i=parseInt(r.width)-parseInt(r.paddingLeft)-parseInt(r.paddingRight)-parseInt(r.borderLeftWidth)-parseInt(r.borderRightWidth),s=oc(e,0,n),o=oc(e,1,n),a=s&&Xe(s),l=o&&Xe(o),u=a&&parseInt(a.marginLeft)+parseInt(a.marginRight)+Sn(s).width,c=l&&parseInt(l.marginLeft)+parseInt(l.marginRight)+Sn(o).width;if(r.display==="flex")return r.flexDirection==="column"||r.flexDirection==="column-reverse"?"vertical":"horizontal";if(r.display==="grid")return r.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(s&&a.float&&a.float!=="none"){var d=a.float==="left"?"left":"right";return o&&(l.clear==="both"||l.clear===d)?"vertical":"horizontal"}return s&&(a.display==="block"||a.display==="flex"||a.display==="table"||a.display==="grid"||u>=i&&r[eA]==="none"||o&&r[eA]==="none"&&u+c>i)?"vertical":"horizontal"},ure=function(e,n,r){var i=r?e.left:e.top,s=r?e.right:e.bottom,o=r?e.width:e.height,a=r?n.left:n.top,l=r?n.right:n.bottom,u=r?n.width:n.height;return i===a||s===l||i+o/2===a+u/2},cre=function(e,n){var r;return Qm.some(function(i){var s=i[Mr].options.emptyInsertThreshold;if(!(!s||OT(i))){var o=Sn(i),a=e>=o.left-s&&e<=o.right+s,l=n>=o.top-s&&n<=o.bottom+s;if(a&&l)return r=i}}),r},WL=function(e){function n(s,o){return function(a,l,u,c){var d=a.options.group.name&&l.options.group.name&&a.options.group.name===l.options.group.name;if(s==null&&(o||d))return!0;if(s==null||s===!1)return!1;if(o&&s==="clone")return s;if(typeof s=="function")return n(s(a,l,u,c),o)(a,l,u,c);var f=(o?a:l).options.group.name;return s===!0||typeof s=="string"&&s===f||s.join&&s.indexOf(f)>-1}}var r={},i=e.group;(!i||Up(i)!="object")&&(i={name:i}),r.name=i.name,r.checkPull=n(i.pull,!0),r.checkPut=n(i.put),r.revertClone=i.revertClone,e.group=r},KL=function(){!jL&&mt&&Xe(mt,"display","none")},zL=function(){!jL&&mt&&Xe(mt,"display","")};Ov&&document.addEventListener("click",function(t){if(Xm)return t.preventDefault(),t.stopPropagation&&t.stopPropagation(),t.stopImmediatePropagation&&t.stopImmediatePropagation(),Xm=!1,!1},!0);var _a=function(e){if(xe){e=e.touches?e.touches[0]:e;var n=cre(e.clientX,e.clientY);if(n){var r={};for(var i in e)e.hasOwnProperty(i)&&(r[i]=e[i]);r.target=r.rootEl=n,r.preventDefault=void 0,r.stopPropagation=void 0,n[Mr]._onDragOver(r)}}},dre=function(e){xe&&xe.parentNode[Mr]._isOutsideThisEl(e.target)};function ot(t,e){if(!(t&&t.nodeType&&t.nodeType===1))throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(t));this.el=t,this.options=e=Bi({},e),t[Mr]=this;var n={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(t.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return HL(t,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(o,a){o.setData("Text",a.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:ot.supportPointer!==!1&&"PointerEvent"in window&&!Dd,emptyInsertThreshold:5};Sh.initializePlugins(this,t,n);for(var r in n)!(r in e)&&(e[r]=n[r]);WL(e);for(var i in this)i.charAt(0)==="_"&&typeof this[i]=="function"&&(this[i]=this[i].bind(this));this.nativeDraggable=e.forceFallback?!1:lre,this.nativeDraggable&&(this.options.touchStartThreshold=1),e.supportPointer?Tt(t,"pointerdown",this._onTapStart):(Tt(t,"mousedown",this._onTapStart),Tt(t,"touchstart",this._onTapStart)),this.nativeDraggable&&(Tt(t,"dragover",this),Tt(t,"dragenter",this)),Qm.push(this.el),e.store&&e.store.get&&this.sort(e.store.get(this)||[]),Bi(this,ire())}ot.prototype={constructor:ot,_isOutsideThisEl:function(e){!this.el.contains(e)&&e!==this.el&&(zl=null)},_getDirection:function(e,n){return typeof this.options.direction=="function"?this.options.direction.call(this,e,n,xe):this.options.direction},_onTapStart:function(e){if(e.cancelable){var n=this,r=this.el,i=this.options,s=i.preventOnFilter,o=e.type,a=e.touches&&e.touches[0]||e.pointerType&&e.pointerType==="touch"&&e,l=(a||e).target,u=e.target.shadowRoot&&(e.path&&e.path[0]||e.composedPath&&e.composedPath()[0])||l,c=i.filter;if(bre(r),!xe&&!(/mousedown|pointerdown/.test(o)&&e.button!==0||i.disabled)&&!u.isContentEditable&&!(!this.nativeDraggable&&Dd&&l&&l.tagName.toUpperCase()==="SELECT")&&(l=Xi(l,i.draggable,r,!1),!(l&&l.animated)&&Vp!==l)){if(hu=Ln(l),Nd=Ln(l,i.draggable),typeof c=="function"){if(c.call(this,e,l,this)){zr({sortable:n,rootEl:u,name:"filter",targetEl:l,toEl:r,fromEl:r}),ni("filter",n,{evt:e}),s&&e.cancelable&&e.preventDefault();return}}else if(c&&(c=c.split(",").some(function(d){if(d=Xi(u,d.trim(),r,!1),d)return zr({sortable:n,rootEl:d,name:"filter",targetEl:l,fromEl:r,toEl:r}),ni("filter",n,{evt:e}),!0}),c)){s&&e.cancelable&&e.preventDefault();return}i.handle&&!Xi(u,i.handle,r,!1)||this._prepareDragStart(e,a,l)}}},_prepareDragStart:function(e,n,r){var i=this,s=i.el,o=i.options,a=s.ownerDocument,l;if(r&&!xe&&r.parentNode===s){var u=Sn(r);if(Tn=s,xe=r,Rn=xe.parentNode,Ca=xe.nextSibling,Vp=r,dp=o.group,ot.dragged=xe,wa={target:xe,clientX:(n||e).clientX,clientY:(n||e).clientY},JO=wa.clientX-u.left,ZO=wa.clientY-u.top,this._lastX=(n||e).clientX,this._lastY=(n||e).clientY,xe.style["will-change"]="all",l=function(){if(ni("delayEnded",i,{evt:e}),ot.eventCanceled){i._onDrop();return}i._disableDelayedDragEvents(),!GO&&i.nativeDraggable&&(xe.draggable=!0),i._triggerDragStart(e,n),zr({sortable:i,name:"choose",originalEvent:e}),On(xe,o.chosenClass,!0)},o.ignore.split(",").forEach(function(c){UL(xe,c.trim(),e0)}),Tt(a,"dragover",_a),Tt(a,"mousemove",_a),Tt(a,"touchmove",_a),Tt(a,"mouseup",i._onDrop),Tt(a,"touchend",i._onDrop),Tt(a,"touchcancel",i._onDrop),GO&&this.nativeDraggable&&(this.options.touchStartThreshold=4,xe.draggable=!0),ni("delayStart",this,{evt:e}),o.delay&&(!o.delayOnTouchOnly||n)&&(!this.nativeDraggable||!(Th||mo))){if(ot.eventCanceled){this._onDrop();return}Tt(a,"mouseup",i._disableDelayedDrag),Tt(a,"touchend",i._disableDelayedDrag),Tt(a,"touchcancel",i._disableDelayedDrag),Tt(a,"mousemove",i._delayedDragTouchMoveHandler),Tt(a,"touchmove",i._delayedDragTouchMoveHandler),o.supportPointer&&Tt(a,"pointermove",i._delayedDragTouchMoveHandler),i._dragStartTimer=setTimeout(l,o.delay)}else l()}},_delayedDragTouchMoveHandler:function(e){var n=e.touches?e.touches[0]:e;Math.max(Math.abs(n.clientX-this._lastX),Math.abs(n.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){xe&&e0(xe),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var e=this.el.ownerDocument;wt(e,"mouseup",this._disableDelayedDrag),wt(e,"touchend",this._disableDelayedDrag),wt(e,"touchcancel",this._disableDelayedDrag),wt(e,"mousemove",this._delayedDragTouchMoveHandler),wt(e,"touchmove",this._delayedDragTouchMoveHandler),wt(e,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(e,n){n=n||e.pointerType=="touch"&&e,!this.nativeDraggable||n?this.options.supportPointer?Tt(document,"pointermove",this._onTouchMove):n?Tt(document,"touchmove",this._onTouchMove):Tt(document,"mousemove",this._onTouchMove):(Tt(xe,"dragend",this),Tt(Tn,"dragstart",this._onDragStart));try{document.selection?jp(function(){document.selection.empty()}):window.getSelection().removeAllRanges()}catch{}},_dragStarted:function(e,n){if(ru=!1,Tn&&xe){ni("dragStarted",this,{evt:n}),this.nativeDraggable&&Tt(document,"dragover",dre);var r=this.options;!e&&On(xe,r.dragClass,!1),On(xe,r.ghostClass,!0),ot.active=this,e&&this._appendGhost(),zr({sortable:this,name:"start",originalEvent:n})}else this._nulling()},_emulateDragOver:function(){if(Ki){this._lastX=Ki.clientX,this._lastY=Ki.clientY,KL();for(var e=document.elementFromPoint(Ki.clientX,Ki.clientY),n=e;e&&e.shadowRoot&&(e=e.shadowRoot.elementFromPoint(Ki.clientX,Ki.clientY),e!==n);)n=e;if(xe.parentNode[Mr]._isOutsideThisEl(e),n)do{if(n[Mr]){var r=void 0;if(r=n[Mr]._onDragOver({clientX:Ki.clientX,clientY:Ki.clientY,target:e,rootEl:n}),r&&!this.options.dragoverBubble)break}e=n}while(n=n.parentNode);zL()}},_onTouchMove:function(e){if(wa){var n=this.options,r=n.fallbackTolerance,i=n.fallbackOffset,s=e.touches?e.touches[0]:e,o=mt&&Ya(mt,!0),a=mt&&o&&o.a,l=mt&&o&&o.d,u=hp&&Ar&&XO(Ar),c=(s.clientX-wa.clientX+i.x)/(a||1)+(u?u[0]-Zy[0]:0)/(a||1),d=(s.clientY-wa.clientY+i.y)/(l||1)+(u?u[1]-Zy[1]:0)/(l||1);if(!ot.active&&!ru){if(r&&Math.max(Math.abs(s.clientX-this._lastX),Math.abs(s.clientY-this._lastY))<r)return;this._onDragStart(e,!0)}if(mt){o?(o.e+=c-(Qy||0),o.f+=d-(Jy||0)):o={a:1,b:0,c:0,d:1,e:c,f:d};var f="matrix(".concat(o.a,",").concat(o.b,",").concat(o.c,",").concat(o.d,",").concat(o.e,",").concat(o.f,")");Xe(mt,"webkitTransform",f),Xe(mt,"mozTransform",f),Xe(mt,"msTransform",f),Xe(mt,"transform",f),Qy=c,Jy=d,Ki=s}e.cancelable&&e.preventDefault()}},_appendGhost:function(){if(!mt){var e=this.options.fallbackOnBody?document.body:Tn,n=Sn(xe,!0,hp,!0,e),r=this.options;if(hp){for(Ar=e;Xe(Ar,"position")==="static"&&Xe(Ar,"transform")==="none"&&Ar!==document;)Ar=Ar.parentNode;Ar!==document.body&&Ar!==document.documentElement?(Ar===document&&(Ar=Ds()),n.top+=Ar.scrollTop,n.left+=Ar.scrollLeft):Ar=Ds(),Zy=XO(Ar)}mt=xe.cloneNode(!0),On(mt,r.ghostClass,!1),On(mt,r.fallbackClass,!0),On(mt,r.dragClass,!0),Xe(mt,"transition",""),Xe(mt,"transform",""),Xe(mt,"box-sizing","border-box"),Xe(mt,"margin",0),Xe(mt,"top",n.top),Xe(mt,"left",n.left),Xe(mt,"width",n.width),Xe(mt,"height",n.height),Xe(mt,"opacity","0.8"),Xe(mt,"position",hp?"absolute":"fixed"),Xe(mt,"zIndex","100000"),Xe(mt,"pointerEvents","none"),ot.ghost=mt,e.appendChild(mt),Xe(mt,"transform-origin",JO/parseInt(mt.style.width)*100+"% "+ZO/parseInt(mt.style.height)*100+"%")}},_onDragStart:function(e,n){var r=this,i=e.dataTransfer,s=r.options;if(ni("dragStart",this,{evt:e}),ot.eventCanceled){this._onDrop();return}ni("setupClone",this),ot.eventCanceled||(Nn=AT(xe),Nn.draggable=!1,Nn.style["will-change"]="",this._hideClone(),On(Nn,this.options.chosenClass,!1),ot.clone=Nn),r.cloneId=jp(function(){ni("clone",r),!ot.eventCanceled&&(r.options.removeCloneOnHide||Tn.insertBefore(Nn,xe),r._hideClone(),zr({sortable:r,name:"clone"}))}),!n&&On(xe,s.dragClass,!0),n?(Xm=!0,r._loopId=setInterval(r._emulateDragOver,50)):(wt(document,"mouseup",r._onDrop),wt(document,"touchend",r._onDrop),wt(document,"touchcancel",r._onDrop),i&&(i.effectAllowed="move",s.setData&&s.setData.call(r,i,xe)),Tt(document,"drop",r),Xe(xe,"transform","translateZ(0)")),ru=!0,r._dragStartId=jp(r._dragStarted.bind(r,n,e)),Tt(document,"selectstart",r),ad=!0,Dd&&Xe(document.body,"user-select","none")},_onDragOver:function(e){var n=this.el,r=e.target,i,s,o,a=this.options,l=a.group,u=ot.active,c=dp===l,d=a.sort,f=yr||u,h,p=this,m=!1;if(bw)return;function g(G,$){ni(G,p,$s({evt:e,isOwner:c,axis:h?"vertical":"horizontal",revert:o,dragRect:i,targetRect:s,canSort:d,fromSortable:f,target:r,completed:v,onMove:function(Z,te){return pp(Tn,n,xe,i,Z,Sn(Z),e,te)},changed:_},$))}function y(){g("dragOverAnimationCapture"),p.captureAnimationState(),p!==f&&f.captureAnimationState()}function v(G){return g("dragOverCompleted",{insertion:G}),G&&(c?u._hideClone():u._showClone(p),p!==f&&(On(xe,yr?yr.options.ghostClass:u.options.ghostClass,!1),On(xe,a.ghostClass,!0)),yr!==p&&p!==ot.active?yr=p:p===ot.active&&yr&&(yr=null),f===p&&(p._ignoreWhileAnimating=r),p.animateAll(function(){g("dragOverAnimationComplete"),p._ignoreWhileAnimating=null}),p!==f&&(f.animateAll(),f._ignoreWhileAnimating=null)),(r===xe&&!xe.animated||r===n&&!r.animated)&&(zl=null),!a.dragoverBubble&&!e.rootEl&&r!==document&&(xe.parentNode[Mr]._isOutsideThisEl(e.target),!G&&_a(e)),!a.dragoverBubble&&e.stopPropagation&&e.stopPropagation(),m=!0}function _(){gi=Ln(xe),Ro=Ln(xe,a.draggable),zr({sortable:p,name:"change",toEl:n,newIndex:gi,newDraggableIndex:Ro,originalEvent:e})}if(e.preventDefault!==void 0&&e.cancelable&&e.preventDefault(),r=Xi(r,a.draggable,n,!0),g("dragOver"),ot.eventCanceled)return m;if(xe.contains(e.target)||r.animated&&r.animatingX&&r.animatingY||p._ignoreWhileAnimating===r)return v(!1);if(Xm=!1,u&&!a.disabled&&(c?d||(o=Rn!==Tn):yr===this||(this.lastPutMode=dp.checkPull(this,u,xe,e))&&l.checkPut(this,u,xe,e))){if(h=this._getDirection(e,r)==="vertical",i=Sn(xe),g("dragOverValid"),ot.eventCanceled)return m;if(o)return Rn=Tn,y(),this._hideClone(),g("revert"),ot.eventCanceled||(Ca?Tn.insertBefore(xe,Ca):Tn.appendChild(xe)),v(!0);var b=OT(n,a.draggable);if(!b||mre(e,h,this)&&!b.animated){if(b===xe)return v(!1);if(b&&n===e.target&&(r=b),r&&(s=Sn(r)),pp(Tn,n,xe,i,r,s,e,!!r)!==!1)return y(),n.appendChild(xe),Rn=n,_(),v(!0)}else if(b&&pre(e,h,this)){var w=oc(n,0,a,!0);if(w===xe)return v(!1);if(r=w,s=Sn(r),pp(Tn,n,xe,i,r,s,e,!1)!==!1)return y(),n.insertBefore(xe,w),Rn=n,_(),v(!0)}else if(r.parentNode===n){s=Sn(r);var T=0,P,A=xe.parentNode!==n,O=!ure(xe.animated&&xe.toRect||i,r.animated&&r.toRect||s,h),E=h?"top":"left",M=qO(r,"top","top")||qO(xe,"top","top"),F=M?M.scrollTop:void 0;zl!==r&&(P=s[E],Ld=!1,fp=!O&&a.invertSwap||A),T=gre(e,r,s,h,O?1:a.swapThreshold,a.invertedSwapThreshold==null?a.swapThreshold:a.invertedSwapThreshold,fp,zl===r);var N;if(T!==0){var x=Ln(xe);do x-=T,N=Rn.children[x];while(N&&(Xe(N,"display")==="none"||N===mt))}if(T===0||N===r)return v(!1);zl=r,Md=T;var R=r.nextElementSibling,D=!1;D=T===1;var B=pp(Tn,n,xe,i,r,s,e,D);if(B!==!1)return(B===1||B===-1)&&(D=B===1),bw=!0,setTimeout(hre,30),y(),D&&!R?n.appendChild(xe):r.parentNode.insertBefore(xe,D?R:r),M&&BL(M,0,F-M.scrollTop),Rn=xe.parentNode,P!==void 0&&!fp&&(Bp=Math.abs(P-Sn(r)[E])),_(),v(!0)}if(n.contains(xe))return v(!1)}return!1},_ignoreWhileAnimating:null,_offMoveEvents:function(){wt(document,"mousemove",this._onTouchMove),wt(document,"touchmove",this._onTouchMove),wt(document,"pointermove",this._onTouchMove),wt(document,"dragover",_a),wt(document,"mousemove",_a),wt(document,"touchmove",_a)},_offUpEvents:function(){var e=this.el.ownerDocument;wt(e,"mouseup",this._onDrop),wt(e,"touchend",this._onDrop),wt(e,"pointerup",this._onDrop),wt(e,"touchcancel",this._onDrop),wt(document,"selectstart",this)},_onDrop:function(e){var n=this.el,r=this.options;if(gi=Ln(xe),Ro=Ln(xe,r.draggable),ni("drop",this,{evt:e}),Rn=xe&&xe.parentNode,gi=Ln(xe),Ro=Ln(xe,r.draggable),ot.eventCanceled){this._nulling();return}ru=!1,fp=!1,Ld=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),ww(this.cloneId),ww(this._dragStartId),this.nativeDraggable&&(wt(document,"drop",this),wt(n,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),Dd&&Xe(document.body,"user-select",""),Xe(xe,"transform",""),e&&(ad&&(e.cancelable&&e.preventDefault(),!r.dropBubble&&e.stopPropagation()),mt&&mt.parentNode&&mt.parentNode.removeChild(mt),(Tn===Rn||yr&&yr.lastPutMode!=="clone")&&Nn&&Nn.parentNode&&Nn.parentNode.removeChild(Nn),xe&&(this.nativeDraggable&&wt(xe,"dragend",this),e0(xe),xe.style["will-change"]="",ad&&!ru&&On(xe,yr?yr.options.ghostClass:this.options.ghostClass,!1),On(xe,this.options.chosenClass,!1),zr({sortable:this,name:"unchoose",toEl:Rn,newIndex:null,newDraggableIndex:null,originalEvent:e}),Tn!==Rn?(gi>=0&&(zr({rootEl:Rn,name:"add",toEl:Rn,fromEl:Tn,originalEvent:e}),zr({sortable:this,name:"remove",toEl:Rn,originalEvent:e}),zr({rootEl:Rn,name:"sort",toEl:Rn,fromEl:Tn,originalEvent:e}),zr({sortable:this,name:"sort",toEl:Rn,originalEvent:e})),yr&&yr.save()):gi!==hu&&gi>=0&&(zr({sortable:this,name:"update",toEl:Rn,originalEvent:e}),zr({sortable:this,name:"sort",toEl:Rn,originalEvent:e})),ot.active&&((gi==null||gi===-1)&&(gi=hu,Ro=Nd),zr({sortable:this,name:"end",toEl:Rn,originalEvent:e}),this.save()))),this._nulling()},_nulling:function(){ni("nulling",this),Tn=xe=Rn=mt=Ca=Nn=Vp=Uo=wa=Ki=ad=gi=Ro=hu=Nd=zl=Md=yr=dp=ot.dragged=ot.ghost=ot.clone=ot.active=null,Jm.forEach(function(e){e.checked=!0}),Jm.length=Qy=Jy=0},handleEvent:function(e){switch(e.type){case"drop":case"dragend":this._onDrop(e);break;case"dragenter":case"dragover":xe&&(this._onDragOver(e),fre(e));break;case"selectstart":e.preventDefault();break}},toArray:function(){for(var e=[],n,r=this.el.children,i=0,s=r.length,o=this.options;i<s;i++)n=r[i],Xi(n,o.draggable,this.el,!1)&&e.push(n.getAttribute(o.dataIdAttr)||yre(n));return e},sort:function(e,n){var r={},i=this.el;this.toArray().forEach(function(s,o){var a=i.children[o];Xi(a,this.options.draggable,i,!1)&&(r[s]=a)},this),n&&this.captureAnimationState(),e.forEach(function(s){r[s]&&(i.removeChild(r[s]),i.appendChild(r[s]))}),n&&this.animateAll()},save:function(){var e=this.options.store;e&&e.set&&e.set(this)},closest:function(e,n){return Xi(e,n||this.options.draggable,this.el,!1)},option:function(e,n){var r=this.options;if(n===void 0)return r[e];var i=Sh.modifyOption(this,e,n);typeof i<"u"?r[e]=i:r[e]=n,e==="group"&&WL(r)},destroy:function(){ni("destroy",this);var e=this.el;e[Mr]=null,wt(e,"mousedown",this._onTapStart),wt(e,"touchstart",this._onTapStart),wt(e,"pointerdown",this._onTapStart),this.nativeDraggable&&(wt(e,"dragover",this),wt(e,"dragenter",this)),Array.prototype.forEach.call(e.querySelectorAll("[draggable]"),function(n){n.removeAttribute("draggable")}),this._onDrop(),this._disableDelayedDragEvents(),Qm.splice(Qm.indexOf(this.el),1),this.el=e=null},_hideClone:function(){if(!Uo){if(ni("hideClone",this),ot.eventCanceled)return;Xe(Nn,"display","none"),this.options.removeCloneOnHide&&Nn.parentNode&&Nn.parentNode.removeChild(Nn),Uo=!0}},_showClone:function(e){if(e.lastPutMode!=="clone"){this._hideClone();return}if(Uo){if(ni("showClone",this),ot.eventCanceled)return;xe.parentNode==Tn&&!this.options.group.revertClone?Tn.insertBefore(Nn,xe):Ca?Tn.insertBefore(Nn,Ca):Tn.appendChild(Nn),this.options.group.revertClone&&this.animate(xe,Nn),Xe(Nn,"display",""),Uo=!1}}};function fre(t){t.dataTransfer&&(t.dataTransfer.dropEffect="move"),t.cancelable&&t.preventDefault()}function pp(t,e,n,r,i,s,o,a){var l,u=t[Mr],c=u.options.onMove,d;return window.CustomEvent&&!mo&&!Th?l=new CustomEvent("move",{bubbles:!0,cancelable:!0}):(l=document.createEvent("Event"),l.initEvent("move",!0,!0)),l.to=e,l.from=t,l.dragged=n,l.draggedRect=r,l.related=i||e,l.relatedRect=s||Sn(e),l.willInsertAfter=a,l.originalEvent=o,t.dispatchEvent(l),c&&(d=c.call(u,l,o)),d}function e0(t){t.draggable=!1}function hre(){bw=!1}function pre(t,e,n){var r=Sn(oc(n.el,0,n.options,!0)),i=10;return e?t.clientX<r.left-i||t.clientY<r.top&&t.clientX<r.right:t.clientY<r.top-i||t.clientY<r.bottom&&t.clientX<r.left}function mre(t,e,n){var r=Sn(OT(n.el,n.options.draggable)),i=10;return e?t.clientX>r.right+i||t.clientX<=r.right&&t.clientY>r.bottom&&t.clientX>=r.left:t.clientX>r.right&&t.clientY>r.top||t.clientX<=r.right&&t.clientY>r.bottom+i}function gre(t,e,n,r,i,s,o,a){var l=r?t.clientY:t.clientX,u=r?n.height:n.width,c=r?n.top:n.left,d=r?n.bottom:n.right,f=!1;if(!o){if(a&&Bp<u*i){if(!Ld&&(Md===1?l>c+u*s/2:l<d-u*s/2)&&(Ld=!0),Ld)f=!0;else if(Md===1?l<c+Bp:l>d-Bp)return-Md}else if(l>c+u*(1-i)/2&&l<d-u*(1-i)/2)return vre(e)}return f=f||o,f&&(l<c+u*s/2||l>d-u*s/2)?l>c+u/2?1:-1:0}function vre(t){return Ln(xe)<Ln(t)?1:-1}function yre(t){for(var e=t.tagName+t.className+t.src+t.href+t.textContent,n=e.length,r=0;n--;)r+=e.charCodeAt(n);return r.toString(36)}function bre(t){Jm.length=0;for(var e=t.getElementsByTagName("input"),n=e.length;n--;){var r=e[n];r.checked&&Jm.push(r)}}function jp(t){return setTimeout(t,0)}function ww(t){return clearTimeout(t)}Ov&&Tt(document,"touchmove",function(t){(ot.active||ru)&&t.cancelable&&t.preventDefault()});ot.utils={on:Tt,off:wt,css:Xe,find:UL,is:function(e,n){return!!Xi(e,n,e,!1)},extend:nre,throttle:VL,closest:Xi,toggleClass:On,clone:AT,index:Ln,nextTick:jp,cancelNextTick:ww,detectDirection:HL,getChild:oc};ot.get=function(t){return t[Mr]};ot.mount=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];e[0].constructor===Array&&(e=e[0]),e.forEach(function(r){if(!r.prototype||!r.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(r));r.utils&&(ot.utils=$s($s({},ot.utils),r.utils)),Sh.mount(r)})};ot.create=function(t,e){return new ot(t,e)};ot.version=Jne;var Gn=[],ld,_w,Tw=!1,t0,n0,Zm,ud;function wre(){function t(){this.defaults={scroll:!0,forceAutoScrollFallback:!1,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0};for(var e in this)e.charAt(0)==="_"&&typeof this[e]=="function"&&(this[e]=this[e].bind(this))}return t.prototype={dragStarted:function(n){var r=n.originalEvent;this.sortable.nativeDraggable?Tt(document,"dragover",this._handleAutoScroll):this.options.supportPointer?Tt(document,"pointermove",this._handleFallbackAutoScroll):r.touches?Tt(document,"touchmove",this._handleFallbackAutoScroll):Tt(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(n){var r=n.originalEvent;!this.options.dragOverBubble&&!r.rootEl&&this._handleAutoScroll(r)},drop:function(){this.sortable.nativeDraggable?wt(document,"dragover",this._handleAutoScroll):(wt(document,"pointermove",this._handleFallbackAutoScroll),wt(document,"touchmove",this._handleFallbackAutoScroll),wt(document,"mousemove",this._handleFallbackAutoScroll)),tA(),Hp(),rre()},nulling:function(){Zm=_w=ld=Tw=ud=t0=n0=null,Gn.length=0},_handleFallbackAutoScroll:function(n){this._handleAutoScroll(n,!0)},_handleAutoScroll:function(n,r){var i=this,s=(n.touches?n.touches[0]:n).clientX,o=(n.touches?n.touches[0]:n).clientY,a=document.elementFromPoint(s,o);if(Zm=n,r||this.options.forceAutoScrollFallback||Th||mo||Dd){r0(n,this.options,a,r);var l=Vo(a,!0);Tw&&(!ud||s!==t0||o!==n0)&&(ud&&tA(),ud=setInterval(function(){var u=Vo(document.elementFromPoint(s,o),!0);u!==l&&(l=u,Hp()),r0(n,i.options,u,r)},10),t0=s,n0=o)}else{if(!this.options.bubbleScroll||Vo(a,!0)===Ds()){Hp();return}r0(n,this.options,Vo(a,!1),!1)}}},Bi(t,{pluginName:"scroll",initializeByDefault:!0})}function Hp(){Gn.forEach(function(t){clearInterval(t.pid)}),Gn=[]}function tA(){clearInterval(ud)}var r0=VL(function(t,e,n,r){if(e.scroll){var i=(t.touches?t.touches[0]:t).clientX,s=(t.touches?t.touches[0]:t).clientY,o=e.scrollSensitivity,a=e.scrollSpeed,l=Ds(),u=!1,c;_w!==n&&(_w=n,Hp(),ld=e.scroll,c=e.scrollFn,ld===!0&&(ld=Vo(n,!0)));var d=0,f=ld;do{var h=f,p=Sn(h),m=p.top,g=p.bottom,y=p.left,v=p.right,_=p.width,b=p.height,w=void 0,T=void 0,P=h.scrollWidth,A=h.scrollHeight,O=Xe(h),E=h.scrollLeft,M=h.scrollTop;h===l?(w=_<P&&(O.overflowX==="auto"||O.overflowX==="scroll"||O.overflowX==="visible"),T=b<A&&(O.overflowY==="auto"||O.overflowY==="scroll"||O.overflowY==="visible")):(w=_<P&&(O.overflowX==="auto"||O.overflowX==="scroll"),T=b<A&&(O.overflowY==="auto"||O.overflowY==="scroll"));var F=w&&(Math.abs(v-i)<=o&&E+_<P)-(Math.abs(y-i)<=o&&!!E),N=T&&(Math.abs(g-s)<=o&&M+b<A)-(Math.abs(m-s)<=o&&!!M);if(!Gn[d])for(var x=0;x<=d;x++)Gn[x]||(Gn[x]={});(Gn[d].vx!=F||Gn[d].vy!=N||Gn[d].el!==h)&&(Gn[d].el=h,Gn[d].vx=F,Gn[d].vy=N,clearInterval(Gn[d].pid),(F!=0||N!=0)&&(u=!0,Gn[d].pid=setInterval((function(){r&&this.layer===0&&ot.active._onTouchMove(Zm);var R=Gn[this.layer].vy?Gn[this.layer].vy*a:0,D=Gn[this.layer].vx?Gn[this.layer].vx*a:0;typeof c=="function"&&c.call(ot.dragged.parentNode[Mr],D,R,t,Zm,Gn[this.layer].el)!=="continue"||BL(Gn[this.layer].el,D,R)}).bind({layer:d}),24))),d++}while(e.bubbleScroll&&f!==l&&(f=Vo(f,!1)));Tw=u}},30),GL=function(e){var n=e.originalEvent,r=e.putSortable,i=e.dragEl,s=e.activeSortable,o=e.dispatchSortableEvent,a=e.hideGhostForTarget,l=e.unhideGhostForTarget;if(n){var u=r||s;a();var c=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:n,d=document.elementFromPoint(c.clientX,c.clientY);l(),u&&!u.el.contains(d)&&(o("spill"),this.onSpill({dragEl:i,putSortable:r}))}};function kT(){}kT.prototype={startIndex:null,dragStart:function(e){var n=e.oldDraggableIndex;this.startIndex=n},onSpill:function(e){var n=e.dragEl,r=e.putSortable;this.sortable.captureAnimationState(),r&&r.captureAnimationState();var i=oc(this.sortable.el,this.startIndex,this.options);i?this.sortable.el.insertBefore(n,i):this.sortable.el.appendChild(n),this.sortable.animateAll(),r&&r.animateAll()},drop:GL};Bi(kT,{pluginName:"revertOnSpill"});function PT(){}PT.prototype={onSpill:function(e){var n=e.dragEl,r=e.putSortable,i=r||this.sortable;i.captureAnimationState(),n.parentNode&&n.parentNode.removeChild(n),i.animateAll()},drop:GL};Bi(PT,{pluginName:"removeOnSpill"});var Ri;function _re(){function t(){this.defaults={swapClass:"sortable-swap-highlight"}}return t.prototype={dragStart:function(n){var r=n.dragEl;Ri=r},dragOverValid:function(n){var r=n.completed,i=n.target,s=n.onMove,o=n.activeSortable,a=n.changed,l=n.cancel;if(o.options.swap){var u=this.sortable.el,c=this.options;if(i&&i!==u){var d=Ri;s(i)!==!1?(On(i,c.swapClass,!0),Ri=i):Ri=null,d&&d!==Ri&&On(d,c.swapClass,!1)}a(),r(!0),l()}},drop:function(n){var r=n.activeSortable,i=n.putSortable,s=n.dragEl,o=i||this.sortable,a=this.options;Ri&&On(Ri,a.swapClass,!1),Ri&&(a.swap||i&&i.options.swap)&&s!==Ri&&(o.captureAnimationState(),o!==r&&r.captureAnimationState(),Tre(s,Ri),o.animateAll(),o!==r&&r.animateAll())},nulling:function(){Ri=null}},Bi(t,{pluginName:"swap",eventProperties:function(){return{swapItem:Ri}}})}function Tre(t,e){var n=t.parentNode,r=e.parentNode,i,s;!n||!r||n.isEqualNode(e)||r.isEqualNode(t)||(i=Ln(t),s=Ln(e),n.isEqualNode(r)&&i<s&&s++,n.insertBefore(e,n.children[i]),r.insertBefore(t,r.children[s]))}var ht=[],mi=[],Uc,zi,Vc=!1,ri=!1,Gl=!1,ln,Bc,mp;function Sre(){function t(e){for(var n in this)n.charAt(0)==="_"&&typeof this[n]=="function"&&(this[n]=this[n].bind(this));e.options.supportPointer?Tt(document,"pointerup",this._deselectMultiDrag):(Tt(document,"mouseup",this._deselectMultiDrag),Tt(document,"touchend",this._deselectMultiDrag)),Tt(document,"keydown",this._checkKeyDown),Tt(document,"keyup",this._checkKeyUp),this.defaults={selectedClass:"sortable-selected",multiDragKey:null,setData:function(i,s){var o="";ht.length&&zi===e?ht.forEach(function(a,l){o+=(l?", ":"")+a.textContent}):o=s.textContent,i.setData("Text",o)}}}return t.prototype={multiDragKeyDown:!1,isMultiDrag:!1,delayStartGlobal:function(n){var r=n.dragEl;ln=r},delayEnded:function(){this.isMultiDrag=~ht.indexOf(ln)},setupClone:function(n){var r=n.sortable,i=n.cancel;if(this.isMultiDrag){for(var s=0;s<ht.length;s++)mi.push(AT(ht[s])),mi[s].sortableIndex=ht[s].sortableIndex,mi[s].draggable=!1,mi[s].style["will-change"]="",On(mi[s],this.options.selectedClass,!1),ht[s]===ln&&On(mi[s],this.options.chosenClass,!1);r._hideClone(),i()}},clone:function(n){var r=n.sortable,i=n.rootEl,s=n.dispatchSortableEvent,o=n.cancel;this.isMultiDrag&&(this.options.removeCloneOnHide||ht.length&&zi===r&&(nA(!0,i),s("clone"),o()))},showClone:function(n){var r=n.cloneNowShown,i=n.rootEl,s=n.cancel;this.isMultiDrag&&(nA(!1,i),mi.forEach(function(o){Xe(o,"display","")}),r(),mp=!1,s())},hideClone:function(n){var r=this;n.sortable;var i=n.cloneNowHidden,s=n.cancel;this.isMultiDrag&&(mi.forEach(function(o){Xe(o,"display","none"),r.options.removeCloneOnHide&&o.parentNode&&o.parentNode.removeChild(o)}),i(),mp=!0,s())},dragStartGlobal:function(n){n.sortable,!this.isMultiDrag&&zi&&zi.multiDrag._deselectMultiDrag(),ht.forEach(function(r){r.sortableIndex=Ln(r)}),ht=ht.sort(function(r,i){return r.sortableIndex-i.sortableIndex}),Gl=!0},dragStarted:function(n){var r=this,i=n.sortable;if(this.isMultiDrag){if(this.options.sort&&(i.captureAnimationState(),this.options.animation)){ht.forEach(function(o){o!==ln&&Xe(o,"position","absolute")});var s=Sn(ln,!1,!0,!0);ht.forEach(function(o){o!==ln&&QO(o,s)}),ri=!0,Vc=!0}i.animateAll(function(){ri=!1,Vc=!1,r.options.animation&&ht.forEach(function(o){qy(o)}),r.options.sort&&gp()})}},dragOver:function(n){var r=n.target,i=n.completed,s=n.cancel;ri&&~ht.indexOf(r)&&(i(!1),s())},revert:function(n){var r=n.fromSortable,i=n.rootEl,s=n.sortable,o=n.dragRect;ht.length>1&&(ht.forEach(function(a){s.addAnimationState({target:a,rect:ri?Sn(a):o}),qy(a),a.fromRect=o,r.removeAnimationState(a)}),ri=!1,Ere(!this.options.removeCloneOnHide,i))},dragOverCompleted:function(n){var r=n.sortable,i=n.isOwner,s=n.insertion,o=n.activeSortable,a=n.parentEl,l=n.putSortable,u=this.options;if(s){if(i&&o._hideClone(),Vc=!1,u.animation&&ht.length>1&&(ri||!i&&!o.options.sort&&!l)){var c=Sn(ln,!1,!0,!0);ht.forEach(function(f){f!==ln&&(QO(f,c),a.appendChild(f))}),ri=!0}if(!i)if(ri||gp(),ht.length>1){var d=mp;o._showClone(r),o.options.animation&&!mp&&d&&mi.forEach(function(f){o.addAnimationState({target:f,rect:Bc}),f.fromRect=Bc,f.thisAnimationDuration=null})}else o._showClone(r)}},dragOverAnimationCapture:function(n){var r=n.dragRect,i=n.isOwner,s=n.activeSortable;if(ht.forEach(function(a){a.thisAnimationDuration=null}),s.options.animation&&!i&&s.multiDrag.isMultiDrag){Bc=Bi({},r);var o=Ya(ln,!0);Bc.top-=o.f,Bc.left-=o.e}},dragOverAnimationComplete:function(){ri&&(ri=!1,gp())},drop:function(n){var r=n.originalEvent,i=n.rootEl,s=n.parentEl,o=n.sortable,a=n.dispatchSortableEvent,l=n.oldIndex,u=n.putSortable,c=u||this.sortable;if(r){var d=this.options,f=s.children;if(!Gl)if(d.multiDragKey&&!this.multiDragKeyDown&&this._deselectMultiDrag(),On(ln,d.selectedClass,!~ht.indexOf(ln)),~ht.indexOf(ln))ht.splice(ht.indexOf(ln),1),Uc=null,od({sortable:o,rootEl:i,name:"deselect",targetEl:ln,originalEvt:r});else{if(ht.push(ln),od({sortable:o,rootEl:i,name:"select",targetEl:ln,originalEvt:r}),r.shiftKey&&Uc&&o.el.contains(Uc)){var h=Ln(Uc),p=Ln(ln);if(~h&&~p&&h!==p){var m,g;for(p>h?(g=h,m=p):(g=p,m=h+1);g<m;g++)~ht.indexOf(f[g])||(On(f[g],d.selectedClass,!0),ht.push(f[g]),od({sortable:o,rootEl:i,name:"select",targetEl:f[g],originalEvt:r}))}}else Uc=ln;zi=c}if(Gl&&this.isMultiDrag){if(ri=!1,(s[Mr].options.sort||s!==i)&&ht.length>1){var y=Sn(ln),v=Ln(ln,":not(."+this.options.selectedClass+")");if(!Vc&&d.animation&&(ln.thisAnimationDuration=null),c.captureAnimationState(),!Vc&&(d.animation&&(ln.fromRect=y,ht.forEach(function(b){if(b.thisAnimationDuration=null,b!==ln){var w=ri?Sn(b):y;b.fromRect=w,c.addAnimationState({target:b,rect:w})}})),gp(),ht.forEach(function(b){f[v]?s.insertBefore(b,f[v]):s.appendChild(b),v++}),l===Ln(ln))){var _=!1;ht.forEach(function(b){if(b.sortableIndex!==Ln(b)){_=!0;return}}),_&&a("update")}ht.forEach(function(b){qy(b)}),c.animateAll()}zi=c}(i===s||u&&u.lastPutMode!=="clone")&&mi.forEach(function(b){b.parentNode&&b.parentNode.removeChild(b)})}},nullingGlobal:function(){this.isMultiDrag=Gl=!1,mi.length=0},destroyGlobal:function(){this._deselectMultiDrag(),wt(document,"pointerup",this._deselectMultiDrag),wt(document,"mouseup",this._deselectMultiDrag),wt(document,"touchend",this._deselectMultiDrag),wt(document,"keydown",this._checkKeyDown),wt(document,"keyup",this._checkKeyUp)},_deselectMultiDrag:function(n){if(!(typeof Gl<"u"&&Gl)&&zi===this.sortable&&!(n&&Xi(n.target,this.options.draggable,this.sortable.el,!1))&&!(n&&n.button!==0))for(;ht.length;){var r=ht[0];On(r,this.options.selectedClass,!1),ht.shift(),od({sortable:this.sortable,rootEl:this.sortable.el,name:"deselect",targetEl:r,originalEvt:n})}},_checkKeyDown:function(n){n.key===this.options.multiDragKey&&(this.multiDragKeyDown=!0)},_checkKeyUp:function(n){n.key===this.options.multiDragKey&&(this.multiDragKeyDown=!1)}},Bi(t,{pluginName:"multiDrag",utils:{select:function(n){var r=n.parentNode[Mr];!r||!r.options.multiDrag||~ht.indexOf(n)||(zi&&zi!==r&&(zi.multiDrag._deselectMultiDrag(),zi=r),On(n,r.options.selectedClass,!0),ht.push(n))},deselect:function(n){var r=n.parentNode[Mr],i=ht.indexOf(n);!r||!r.options.multiDrag||!~i||(On(n,r.options.selectedClass,!1),ht.splice(i,1))}},eventProperties:function(){var n=this,r=[],i=[];return ht.forEach(function(s){r.push({multiDragElement:s,index:s.sortableIndex});var o;ri&&s!==ln?o=-1:ri?o=Ln(s,":not(."+n.options.selectedClass+")"):o=Ln(s),i.push({multiDragElement:s,index:o})}),{items:Gne(ht),clones:[].concat(mi),oldIndicies:r,newIndicies:i}},optionListeners:{multiDragKey:function(n){return n=n.toLowerCase(),n==="ctrl"?n="Control":n.length>1&&(n=n.charAt(0).toUpperCase()+n.substr(1)),n}}})}function Ere(t,e){ht.forEach(function(n,r){var i=e.children[n.sortableIndex+(t?Number(r):0)];i?e.insertBefore(n,i):e.appendChild(n)})}function nA(t,e){mi.forEach(function(n,r){var i=e.children[n.sortableIndex+(t?Number(r):0)];i?e.insertBefore(n,i):e.appendChild(n)})}function gp(){ht.forEach(function(t){t!==ln&&t.parentNode&&t.parentNode.removeChild(t)})}ot.mount(new wre);ot.mount(PT,kT);const Ire=Object.freeze(Object.defineProperty({__proto__:null,MultiDrag:Sre,Sortable:ot,Swap:_re,default:ot},Symbol.toStringTag,{value:"Module"})),Cre=ML(Ire);(function(t,e){(function(r,i){t.exports=i(Hne,Cre)})(typeof self<"u"?self:Bne,function(n,r){return function(i){var s={};function o(a){if(s[a])return s[a].exports;var l=s[a]={i:a,l:!1,exports:{}};return i[a].call(l.exports,l,l.exports,o),l.l=!0,l.exports}return o.m=i,o.c=s,o.d=function(a,l,u){o.o(a,l)||Object.defineProperty(a,l,{enumerable:!0,get:u})},o.r=function(a){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(a,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(a,"__esModule",{value:!0})},o.t=function(a,l){if(l&1&&(a=o(a)),l&8||l&4&&typeof a=="object"&&a&&a.__esModule)return a;var u=Object.create(null);if(o.r(u),Object.defineProperty(u,"default",{enumerable:!0,value:a}),l&2&&typeof a!="string")for(var c in a)o.d(u,c,(function(d){return a[d]}).bind(null,c));return u},o.n=function(a){var l=a&&a.__esModule?function(){return a.default}:function(){return a};return o.d(l,"a",l),l},o.o=function(a,l){return Object.prototype.hasOwnProperty.call(a,l)},o.p="",o(o.s="fb15")}({"00ee":function(i,s,o){var a=o("b622"),l=a("toStringTag"),u={};u[l]="z",i.exports=String(u)==="[object z]"},"0366":function(i,s,o){var a=o("1c0b");i.exports=function(l,u,c){if(a(l),u===void 0)return l;switch(c){case 0:return function(){return l.call(u)};case 1:return function(d){return l.call(u,d)};case 2:return function(d,f){return l.call(u,d,f)};case 3:return function(d,f,h){return l.call(u,d,f,h)}}return function(){return l.apply(u,arguments)}}},"057f":function(i,s,o){var a=o("fc6a"),l=o("241c").f,u={}.toString,c=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],d=function(f){try{return l(f)}catch{return c.slice()}};i.exports.f=function(h){return c&&u.call(h)=="[object Window]"?d(h):l(a(h))}},"06cf":function(i,s,o){var a=o("83ab"),l=o("d1e7"),u=o("5c6c"),c=o("fc6a"),d=o("c04e"),f=o("5135"),h=o("0cfb"),p=Object.getOwnPropertyDescriptor;s.f=a?p:function(g,y){if(g=c(g),y=d(y,!0),h)try{return p(g,y)}catch{}if(f(g,y))return u(!l.f.call(g,y),g[y])}},"0cfb":function(i,s,o){var a=o("83ab"),l=o("d039"),u=o("cc12");i.exports=!a&&!l(function(){return Object.defineProperty(u("div"),"a",{get:function(){return 7}}).a!=7})},"13d5":function(i,s,o){var a=o("23e7"),l=o("d58f").left,u=o("a640"),c=o("ae40"),d=u("reduce"),f=c("reduce",{1:0});a({target:"Array",proto:!0,forced:!d||!f},{reduce:function(p){return l(this,p,arguments.length,arguments.length>1?arguments[1]:void 0)}})},"14c3":function(i,s,o){var a=o("c6b6"),l=o("9263");i.exports=function(u,c){var d=u.exec;if(typeof d=="function"){var f=d.call(u,c);if(typeof f!="object")throw TypeError("RegExp exec method returned something other than an Object or null");return f}if(a(u)!=="RegExp")throw TypeError("RegExp#exec called on incompatible receiver");return l.call(u,c)}},"159b":function(i,s,o){var a=o("da84"),l=o("fdbc"),u=o("17c2"),c=o("9112");for(var d in l){var f=a[d],h=f&&f.prototype;if(h&&h.forEach!==u)try{c(h,"forEach",u)}catch{h.forEach=u}}},"17c2":function(i,s,o){var a=o("b727").forEach,l=o("a640"),u=o("ae40"),c=l("forEach"),d=u("forEach");i.exports=!c||!d?function(h){return a(this,h,arguments.length>1?arguments[1]:void 0)}:[].forEach},"1be4":function(i,s,o){var a=o("d066");i.exports=a("document","documentElement")},"1c0b":function(i,s){i.exports=function(o){if(typeof o!="function")throw TypeError(String(o)+" is not a function");return o}},"1c7e":function(i,s,o){var a=o("b622"),l=a("iterator"),u=!1;try{var c=0,d={next:function(){return{done:!!c++}},return:function(){u=!0}};d[l]=function(){return this},Array.from(d,function(){throw 2})}catch{}i.exports=function(f,h){if(!h&&!u)return!1;var p=!1;try{var m={};m[l]=function(){return{next:function(){return{done:p=!0}}}},f(m)}catch{}return p}},"1d80":function(i,s){i.exports=function(o){if(o==null)throw TypeError("Can't call method on "+o);return o}},"1dde":function(i,s,o){var a=o("d039"),l=o("b622"),u=o("2d00"),c=l("species");i.exports=function(d){return u>=51||!a(function(){var f=[],h=f.constructor={};return h[c]=function(){return{foo:1}},f[d](Boolean).foo!==1})}},"23cb":function(i,s,o){var a=o("a691"),l=Math.max,u=Math.min;i.exports=function(c,d){var f=a(c);return f<0?l(f+d,0):u(f,d)}},"23e7":function(i,s,o){var a=o("da84"),l=o("06cf").f,u=o("9112"),c=o("6eeb"),d=o("ce4e"),f=o("e893"),h=o("94ca");i.exports=function(p,m){var g=p.target,y=p.global,v=p.stat,_,b,w,T,P,A;if(y?b=a:v?b=a[g]||d(g,{}):b=(a[g]||{}).prototype,b)for(w in m){if(P=m[w],p.noTargetGet?(A=l(b,w),T=A&&A.value):T=b[w],_=h(y?w:g+(v?".":"#")+w,p.forced),!_&&T!==void 0){if(typeof P==typeof T)continue;f(P,T)}(p.sham||T&&T.sham)&&u(P,"sham",!0),c(b,w,P,p)}}},"241c":function(i,s,o){var a=o("ca84"),l=o("7839"),u=l.concat("length","prototype");s.f=Object.getOwnPropertyNames||function(d){return a(d,u)}},"25f0":function(i,s,o){var a=o("6eeb"),l=o("825a"),u=o("d039"),c=o("ad6d"),d="toString",f=RegExp.prototype,h=f[d],p=u(function(){return h.call({source:"a",flags:"b"})!="/a/b"}),m=h.name!=d;(p||m)&&a(RegExp.prototype,d,function(){var y=l(this),v=String(y.source),_=y.flags,b=String(_===void 0&&y instanceof RegExp&&!("flags"in f)?c.call(y):_);return"/"+v+"/"+b},{unsafe:!0})},"2ca0":function(i,s,o){var a=o("23e7"),l=o("06cf").f,u=o("50c4"),c=o("5a34"),d=o("1d80"),f=o("ab13"),h=o("c430"),p="".startsWith,m=Math.min,g=f("startsWith"),y=!h&&!g&&!!function(){var v=l(String.prototype,"startsWith");return v&&!v.writable}();a({target:"String",proto:!0,forced:!y&&!g},{startsWith:function(_){var b=String(d(this));c(_);var w=u(m(arguments.length>1?arguments[1]:void 0,b.length)),T=String(_);return p?p.call(b,T,w):b.slice(w,w+T.length)===T}})},"2d00":function(i,s,o){var a=o("da84"),l=o("342f"),u=a.process,c=u&&u.versions,d=c&&c.v8,f,h;d?(f=d.split("."),h=f[0]+f[1]):l&&(f=l.match(/Edge\/(\d+)/),(!f||f[1]>=74)&&(f=l.match(/Chrome\/(\d+)/),f&&(h=f[1]))),i.exports=h&&+h},"342f":function(i,s,o){var a=o("d066");i.exports=a("navigator","userAgent")||""},"35a1":function(i,s,o){var a=o("f5df"),l=o("3f8c"),u=o("b622"),c=u("iterator");i.exports=function(d){if(d!=null)return d[c]||d["@@iterator"]||l[a(d)]}},"37e8":function(i,s,o){var a=o("83ab"),l=o("9bf2"),u=o("825a"),c=o("df75");i.exports=a?Object.defineProperties:function(f,h){u(f);for(var p=c(h),m=p.length,g=0,y;m>g;)l.f(f,y=p[g++],h[y]);return f}},"3bbe":function(i,s,o){var a=o("861d");i.exports=function(l){if(!a(l)&&l!==null)throw TypeError("Can't set "+String(l)+" as a prototype");return l}},"3ca3":function(i,s,o){var a=o("6547").charAt,l=o("69f3"),u=o("7dd0"),c="String Iterator",d=l.set,f=l.getterFor(c);u(String,"String",function(h){d(this,{type:c,string:String(h),index:0})},function(){var p=f(this),m=p.string,g=p.index,y;return g>=m.length?{value:void 0,done:!0}:(y=a(m,g),p.index+=y.length,{value:y,done:!1})})},"3f8c":function(i,s){i.exports={}},4160:function(i,s,o){var a=o("23e7"),l=o("17c2");a({target:"Array",proto:!0,forced:[].forEach!=l},{forEach:l})},"428f":function(i,s,o){var a=o("da84");i.exports=a},"44ad":function(i,s,o){var a=o("d039"),l=o("c6b6"),u="".split;i.exports=a(function(){return!Object("z").propertyIsEnumerable(0)})?function(c){return l(c)=="String"?u.call(c,""):Object(c)}:Object},"44d2":function(i,s,o){var a=o("b622"),l=o("7c73"),u=o("9bf2"),c=a("unscopables"),d=Array.prototype;d[c]==null&&u.f(d,c,{configurable:!0,value:l(null)}),i.exports=function(f){d[c][f]=!0}},"44e7":function(i,s,o){var a=o("861d"),l=o("c6b6"),u=o("b622"),c=u("match");i.exports=function(d){var f;return a(d)&&((f=d[c])!==void 0?!!f:l(d)=="RegExp")}},4930:function(i,s,o){var a=o("d039");i.exports=!!Object.getOwnPropertySymbols&&!a(function(){return!String(Symbol())})},"4d64":function(i,s,o){var a=o("fc6a"),l=o("50c4"),u=o("23cb"),c=function(d){return function(f,h,p){var m=a(f),g=l(m.length),y=u(p,g),v;if(d&&h!=h){for(;g>y;)if(v=m[y++],v!=v)return!0}else for(;g>y;y++)if((d||y in m)&&m[y]===h)return d||y||0;return!d&&-1}};i.exports={includes:c(!0),indexOf:c(!1)}},"4de4":function(i,s,o){var a=o("23e7"),l=o("b727").filter,u=o("1dde"),c=o("ae40"),d=u("filter"),f=c("filter");a({target:"Array",proto:!0,forced:!d||!f},{filter:function(p){return l(this,p,arguments.length>1?arguments[1]:void 0)}})},"4df4":function(i,s,o){var a=o("0366"),l=o("7b0b"),u=o("9bdd"),c=o("e95a"),d=o("50c4"),f=o("8418"),h=o("35a1");i.exports=function(m){var g=l(m),y=typeof this=="function"?this:Array,v=arguments.length,_=v>1?arguments[1]:void 0,b=_!==void 0,w=h(g),T=0,P,A,O,E,M,F;if(b&&(_=a(_,v>2?arguments[2]:void 0,2)),w!=null&&!(y==Array&&c(w)))for(E=w.call(g),M=E.next,A=new y;!(O=M.call(E)).done;T++)F=b?u(E,_,[O.value,T],!0):O.value,f(A,T,F);else for(P=d(g.length),A=new y(P);P>T;T++)F=b?_(g[T],T):g[T],f(A,T,F);return A.length=T,A}},"4fad":function(i,s,o){var a=o("23e7"),l=o("6f53").entries;a({target:"Object",stat:!0},{entries:function(c){return l(c)}})},"50c4":function(i,s,o){var a=o("a691"),l=Math.min;i.exports=function(u){return u>0?l(a(u),9007199254740991):0}},5135:function(i,s){var o={}.hasOwnProperty;i.exports=function(a,l){return o.call(a,l)}},5319:function(i,s,o){var a=o("d784"),l=o("825a"),u=o("7b0b"),c=o("50c4"),d=o("a691"),f=o("1d80"),h=o("8aa5"),p=o("14c3"),m=Math.max,g=Math.min,y=Math.floor,v=/\$([$&'`]|\d\d?|<[^>]*>)/g,_=/\$([$&'`]|\d\d?)/g,b=function(w){return w===void 0?w:String(w)};a("replace",2,function(w,T,P,A){var O=A.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,E=A.REPLACE_KEEPS_$0,M=O?"$":"$0";return[function(x,R){var D=f(this),B=x==null?void 0:x[w];return B!==void 0?B.call(x,D,R):T.call(String(D),x,R)},function(N,x){if(!O&&E||typeof x=="string"&&x.indexOf(M)===-1){var R=P(T,N,this,x);if(R.done)return R.value}var D=l(N),B=String(this),G=typeof x=="function";G||(x=String(x));var $=D.global;if($){var I=D.unicode;D.lastIndex=0}for(var Z=[];;){var te=p(D,B);if(te===null||(Z.push(te),!$))break;var me=String(te[0]);me===""&&(D.lastIndex=h(B,c(D.lastIndex),I))}for(var ve="",ne=0,j=0;j<Z.length;j++){te=Z[j];for(var z=String(te[0]),oe=m(g(d(te.index),B.length),0),X=[],fe=1;fe<te.length;fe++)X.push(b(te[fe]));var be=te.groups;if(G){var se=[z].concat(X,oe,B);be!==void 0&&se.push(be);var C=String(x.apply(void 0,se))}else C=F(z,B,oe,X,be,x);oe>=ne&&(ve+=B.slice(ne,oe)+C,ne=oe+z.length)}return ve+B.slice(ne)}];function F(N,x,R,D,B,G){var $=R+N.length,I=D.length,Z=_;return B!==void 0&&(B=u(B),Z=v),T.call(G,Z,function(te,me){var ve;switch(me.charAt(0)){case"$":return"$";case"&":return N;case"`":return x.slice(0,R);case"'":return x.slice($);case"<":ve=B[me.slice(1,-1)];break;default:var ne=+me;if(ne===0)return te;if(ne>I){var j=y(ne/10);return j===0?te:j<=I?D[j-1]===void 0?me.charAt(1):D[j-1]+me.charAt(1):te}ve=D[ne-1]}return ve===void 0?"":ve})}})},5692:function(i,s,o){var a=o("c430"),l=o("c6cd");(i.exports=function(u,c){return l[u]||(l[u]=c!==void 0?c:{})})("versions",[]).push({version:"3.6.5",mode:a?"pure":"global",copyright:"© 2020 Denis Pushkarev (zloirock.ru)"})},"56ef":function(i,s,o){var a=o("d066"),l=o("241c"),u=o("7418"),c=o("825a");i.exports=a("Reflect","ownKeys")||function(f){var h=l.f(c(f)),p=u.f;return p?h.concat(p(f)):h}},"5a34":function(i,s,o){var a=o("44e7");i.exports=function(l){if(a(l))throw TypeError("The method doesn't accept regular expressions");return l}},"5c6c":function(i,s){i.exports=function(o,a){return{enumerable:!(o&1),configurable:!(o&2),writable:!(o&4),value:a}}},"5db7":function(i,s,o){var a=o("23e7"),l=o("a2bf"),u=o("7b0b"),c=o("50c4"),d=o("1c0b"),f=o("65f0");a({target:"Array",proto:!0},{flatMap:function(p){var m=u(this),g=c(m.length),y;return d(p),y=f(m,0),y.length=l(y,m,m,g,0,1,p,arguments.length>1?arguments[1]:void 0),y}})},6547:function(i,s,o){var a=o("a691"),l=o("1d80"),u=function(c){return function(d,f){var h=String(l(d)),p=a(f),m=h.length,g,y;return p<0||p>=m?c?"":void 0:(g=h.charCodeAt(p),g<55296||g>56319||p+1===m||(y=h.charCodeAt(p+1))<56320||y>57343?c?h.charAt(p):g:c?h.slice(p,p+2):(g-55296<<10)+(y-56320)+65536)}};i.exports={codeAt:u(!1),charAt:u(!0)}},"65f0":function(i,s,o){var a=o("861d"),l=o("e8b5"),u=o("b622"),c=u("species");i.exports=function(d,f){var h;return l(d)&&(h=d.constructor,typeof h=="function"&&(h===Array||l(h.prototype))?h=void 0:a(h)&&(h=h[c],h===null&&(h=void 0))),new(h===void 0?Array:h)(f===0?0:f)}},"69f3":function(i,s,o){var a=o("7f9a"),l=o("da84"),u=o("861d"),c=o("9112"),d=o("5135"),f=o("f772"),h=o("d012"),p=l.WeakMap,m,g,y,v=function(O){return y(O)?g(O):m(O,{})},_=function(O){return function(E){var M;if(!u(E)||(M=g(E)).type!==O)throw TypeError("Incompatible receiver, "+O+" required");return M}};if(a){var b=new p,w=b.get,T=b.has,P=b.set;m=function(O,E){return P.call(b,O,E),E},g=function(O){return w.call(b,O)||{}},y=function(O){return T.call(b,O)}}else{var A=f("state");h[A]=!0,m=function(O,E){return c(O,A,E),E},g=function(O){return d(O,A)?O[A]:{}},y=function(O){return d(O,A)}}i.exports={set:m,get:g,has:y,enforce:v,getterFor:_}},"6eeb":function(i,s,o){var a=o("da84"),l=o("9112"),u=o("5135"),c=o("ce4e"),d=o("8925"),f=o("69f3"),h=f.get,p=f.enforce,m=String(String).split("String");(i.exports=function(g,y,v,_){var b=_?!!_.unsafe:!1,w=_?!!_.enumerable:!1,T=_?!!_.noTargetGet:!1;if(typeof v=="function"&&(typeof y=="string"&&!u(v,"name")&&l(v,"name",y),p(v).source=m.join(typeof y=="string"?y:"")),g===a){w?g[y]=v:c(y,v);return}else b?!T&&g[y]&&(w=!0):delete g[y];w?g[y]=v:l(g,y,v)})(Function.prototype,"toString",function(){return typeof this=="function"&&h(this).source||d(this)})},"6f53":function(i,s,o){var a=o("83ab"),l=o("df75"),u=o("fc6a"),c=o("d1e7").f,d=function(f){return function(h){for(var p=u(h),m=l(p),g=m.length,y=0,v=[],_;g>y;)_=m[y++],(!a||c.call(p,_))&&v.push(f?[_,p[_]]:p[_]);return v}};i.exports={entries:d(!0),values:d(!1)}},"73d9":function(i,s,o){var a=o("44d2");a("flatMap")},7418:function(i,s){s.f=Object.getOwnPropertySymbols},"746f":function(i,s,o){var a=o("428f"),l=o("5135"),u=o("e538"),c=o("9bf2").f;i.exports=function(d){var f=a.Symbol||(a.Symbol={});l(f,d)||c(f,d,{value:u.f(d)})}},7839:function(i,s){i.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},"7b0b":function(i,s,o){var a=o("1d80");i.exports=function(l){return Object(a(l))}},"7c73":function(i,s,o){var a=o("825a"),l=o("37e8"),u=o("7839"),c=o("d012"),d=o("1be4"),f=o("cc12"),h=o("f772"),p=">",m="<",g="prototype",y="script",v=h("IE_PROTO"),_=function(){},b=function(O){return m+y+p+O+m+"/"+y+p},w=function(O){O.write(b("")),O.close();var E=O.parentWindow.Object;return O=null,E},T=function(){var O=f("iframe"),E="java"+y+":",M;return O.style.display="none",d.appendChild(O),O.src=String(E),M=O.contentWindow.document,M.open(),M.write(b("document.F=Object")),M.close(),M.F},P,A=function(){try{P=document.domain&&new ActiveXObject("htmlfile")}catch{}A=P?w(P):T();for(var O=u.length;O--;)delete A[g][u[O]];return A()};c[v]=!0,i.exports=Object.create||function(E,M){var F;return E!==null?(_[g]=a(E),F=new _,_[g]=null,F[v]=E):F=A(),M===void 0?F:l(F,M)}},"7dd0":function(i,s,o){var a=o("23e7"),l=o("9ed3"),u=o("e163"),c=o("d2bb"),d=o("d44e"),f=o("9112"),h=o("6eeb"),p=o("b622"),m=o("c430"),g=o("3f8c"),y=o("ae93"),v=y.IteratorPrototype,_=y.BUGGY_SAFARI_ITERATORS,b=p("iterator"),w="keys",T="values",P="entries",A=function(){return this};i.exports=function(O,E,M,F,N,x,R){l(M,E,F);var D=function(j){if(j===N&&Z)return Z;if(!_&&j in $)return $[j];switch(j){case w:return function(){return new M(this,j)};case T:return function(){return new M(this,j)};case P:return function(){return new M(this,j)}}return function(){return new M(this)}},B=E+" Iterator",G=!1,$=O.prototype,I=$[b]||$["@@iterator"]||N&&$[N],Z=!_&&I||D(N),te=E=="Array"&&$.entries||I,me,ve,ne;if(te&&(me=u(te.call(new O)),v!==Object.prototype&&me.next&&(!m&&u(me)!==v&&(c?c(me,v):typeof me[b]!="function"&&f(me,b,A)),d(me,B,!0,!0),m&&(g[B]=A))),N==T&&I&&I.name!==T&&(G=!0,Z=function(){return I.call(this)}),(!m||R)&&$[b]!==Z&&f($,b,Z),g[E]=Z,N)if(ve={values:D(T),keys:x?Z:D(w),entries:D(P)},R)for(ne in ve)(_||G||!(ne in $))&&h($,ne,ve[ne]);else a({target:E,proto:!0,forced:_||G},ve);return ve}},"7f9a":function(i,s,o){var a=o("da84"),l=o("8925"),u=a.WeakMap;i.exports=typeof u=="function"&&/native code/.test(l(u))},"825a":function(i,s,o){var a=o("861d");i.exports=function(l){if(!a(l))throw TypeError(String(l)+" is not an object");return l}},"83ab":function(i,s,o){var a=o("d039");i.exports=!a(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7})},8418:function(i,s,o){var a=o("c04e"),l=o("9bf2"),u=o("5c6c");i.exports=function(c,d,f){var h=a(d);h in c?l.f(c,h,u(0,f)):c[h]=f}},"861d":function(i,s){i.exports=function(o){return typeof o=="object"?o!==null:typeof o=="function"}},8875:function(i,s,o){var a,l,u;(function(c,d){l=[],a=d,u=typeof a=="function"?a.apply(s,l):a,u!==void 0&&(i.exports=u)})(typeof self<"u"?self:this,function(){function c(){var d=Object.getOwnPropertyDescriptor(document,"currentScript");if(!d&&"currentScript"in document&&document.currentScript||d&&d.get!==c&&document.currentScript)return document.currentScript;try{throw new Error}catch(P){var f=/.*at [^(]*\((.*):(.+):(.+)\)$/ig,h=/@([^@]*):(\d+):(\d+)\s*$/ig,p=f.exec(P.stack)||h.exec(P.stack),m=p&&p[1]||!1,g=p&&p[2]||!1,y=document.location.href.replace(document.location.hash,""),v,_,b,w=document.getElementsByTagName("script");m===y&&(v=document.documentElement.outerHTML,_=new RegExp("(?:[^\\n]+?\\n){0,"+(g-2)+"}[^<]*<script>([\\d\\D]*?)<\\/script>[\\d\\D]*","i"),b=v.replace(_,"$1").trim());for(var T=0;T<w.length;T++)if(w[T].readyState==="interactive"||w[T].src===m||m===y&&w[T].innerHTML&&w[T].innerHTML.trim()===b)return w[T];return null}}return c})},8925:function(i,s,o){var a=o("c6cd"),l=Function.toString;typeof a.inspectSource!="function"&&(a.inspectSource=function(u){return l.call(u)}),i.exports=a.inspectSource},"8aa5":function(i,s,o){var a=o("6547").charAt;i.exports=function(l,u,c){return u+(c?a(l,u).length:1)}},"8bbf":function(i,s){i.exports=n},"90e3":function(i,s){var o=0,a=Math.random();i.exports=function(l){return"Symbol("+String(l===void 0?"":l)+")_"+(++o+a).toString(36)}},9112:function(i,s,o){var a=o("83ab"),l=o("9bf2"),u=o("5c6c");i.exports=a?function(c,d,f){return l.f(c,d,u(1,f))}:function(c,d,f){return c[d]=f,c}},9263:function(i,s,o){var a=o("ad6d"),l=o("9f7f"),u=RegExp.prototype.exec,c=String.prototype.replace,d=u,f=function(){var g=/a/,y=/b*/g;return u.call(g,"a"),u.call(y,"a"),g.lastIndex!==0||y.lastIndex!==0}(),h=l.UNSUPPORTED_Y||l.BROKEN_CARET,p=/()??/.exec("")[1]!==void 0,m=f||p||h;m&&(d=function(y){var v=this,_,b,w,T,P=h&&v.sticky,A=a.call(v),O=v.source,E=0,M=y;return P&&(A=A.replace("y",""),A.indexOf("g")===-1&&(A+="g"),M=String(y).slice(v.lastIndex),v.lastIndex>0&&(!v.multiline||v.multiline&&y[v.lastIndex-1]!==`
`)&&(O="(?: "+O+")",M=" "+M,E++),b=new RegExp("^(?:"+O+")",A)),p&&(b=new RegExp("^"+O+"$(?!\\s)",A)),f&&(_=v.lastIndex),w=u.call(P?b:v,M),P?w?(w.input=w.input.slice(E),w[0]=w[0].slice(E),w.index=v.lastIndex,v.lastIndex+=w[0].length):v.lastIndex=0:f&&w&&(v.lastIndex=v.global?w.index+w[0].length:_),p&&w&&w.length>1&&c.call(w[0],b,function(){for(T=1;T<arguments.length-2;T++)arguments[T]===void 0&&(w[T]=void 0)}),w}),i.exports=d},"94ca":function(i,s,o){var a=o("d039"),l=/#|\.prototype\./,u=function(p,m){var g=d[c(p)];return g==h?!0:g==f?!1:typeof m=="function"?a(m):!!m},c=u.normalize=function(p){return String(p).replace(l,".").toLowerCase()},d=u.data={},f=u.NATIVE="N",h=u.POLYFILL="P";i.exports=u},"99af":function(i,s,o){var a=o("23e7"),l=o("d039"),u=o("e8b5"),c=o("861d"),d=o("7b0b"),f=o("50c4"),h=o("8418"),p=o("65f0"),m=o("1dde"),g=o("b622"),y=o("2d00"),v=g("isConcatSpreadable"),_=9007199254740991,b="Maximum allowed index exceeded",w=y>=51||!l(function(){var O=[];return O[v]=!1,O.concat()[0]!==O}),T=m("concat"),P=function(O){if(!c(O))return!1;var E=O[v];return E!==void 0?!!E:u(O)},A=!w||!T;a({target:"Array",proto:!0,forced:A},{concat:function(E){var M=d(this),F=p(M,0),N=0,x,R,D,B,G;for(x=-1,D=arguments.length;x<D;x++)if(G=x===-1?M:arguments[x],P(G)){if(B=f(G.length),N+B>_)throw TypeError(b);for(R=0;R<B;R++,N++)R in G&&h(F,N,G[R])}else{if(N>=_)throw TypeError(b);h(F,N++,G)}return F.length=N,F}})},"9bdd":function(i,s,o){var a=o("825a");i.exports=function(l,u,c,d){try{return d?u(a(c)[0],c[1]):u(c)}catch(h){var f=l.return;throw f!==void 0&&a(f.call(l)),h}}},"9bf2":function(i,s,o){var a=o("83ab"),l=o("0cfb"),u=o("825a"),c=o("c04e"),d=Object.defineProperty;s.f=a?d:function(h,p,m){if(u(h),p=c(p,!0),u(m),l)try{return d(h,p,m)}catch{}if("get"in m||"set"in m)throw TypeError("Accessors not supported");return"value"in m&&(h[p]=m.value),h}},"9ed3":function(i,s,o){var a=o("ae93").IteratorPrototype,l=o("7c73"),u=o("5c6c"),c=o("d44e"),d=o("3f8c"),f=function(){return this};i.exports=function(h,p,m){var g=p+" Iterator";return h.prototype=l(a,{next:u(1,m)}),c(h,g,!1,!0),d[g]=f,h}},"9f7f":function(i,s,o){var a=o("d039");function l(u,c){return RegExp(u,c)}s.UNSUPPORTED_Y=a(function(){var u=l("a","y");return u.lastIndex=2,u.exec("abcd")!=null}),s.BROKEN_CARET=a(function(){var u=l("^r","gy");return u.lastIndex=2,u.exec("str")!=null})},a2bf:function(i,s,o){var a=o("e8b5"),l=o("50c4"),u=o("0366"),c=function(d,f,h,p,m,g,y,v){for(var _=m,b=0,w=y?u(y,v,3):!1,T;b<p;){if(b in h){if(T=w?w(h[b],b,f):h[b],g>0&&a(T))_=c(d,f,T,l(T.length),_,g-1)-1;else{if(_>=9007199254740991)throw TypeError("Exceed the acceptable array length");d[_]=T}_++}b++}return _};i.exports=c},a352:function(i,s){i.exports=r},a434:function(i,s,o){var a=o("23e7"),l=o("23cb"),u=o("a691"),c=o("50c4"),d=o("7b0b"),f=o("65f0"),h=o("8418"),p=o("1dde"),m=o("ae40"),g=p("splice"),y=m("splice",{ACCESSORS:!0,0:0,1:2}),v=Math.max,_=Math.min,b=9007199254740991,w="Maximum allowed length exceeded";a({target:"Array",proto:!0,forced:!g||!y},{splice:function(P,A){var O=d(this),E=c(O.length),M=l(P,E),F=arguments.length,N,x,R,D,B,G;if(F===0?N=x=0:F===1?(N=0,x=E-M):(N=F-2,x=_(v(u(A),0),E-M)),E+N-x>b)throw TypeError(w);for(R=f(O,x),D=0;D<x;D++)B=M+D,B in O&&h(R,D,O[B]);if(R.length=x,N<x){for(D=M;D<E-x;D++)B=D+x,G=D+N,B in O?O[G]=O[B]:delete O[G];for(D=E;D>E-x+N;D--)delete O[D-1]}else if(N>x)for(D=E-x;D>M;D--)B=D+x-1,G=D+N-1,B in O?O[G]=O[B]:delete O[G];for(D=0;D<N;D++)O[D+M]=arguments[D+2];return O.length=E-x+N,R}})},a4d3:function(i,s,o){var a=o("23e7"),l=o("da84"),u=o("d066"),c=o("c430"),d=o("83ab"),f=o("4930"),h=o("fdbf"),p=o("d039"),m=o("5135"),g=o("e8b5"),y=o("861d"),v=o("825a"),_=o("7b0b"),b=o("fc6a"),w=o("c04e"),T=o("5c6c"),P=o("7c73"),A=o("df75"),O=o("241c"),E=o("057f"),M=o("7418"),F=o("06cf"),N=o("9bf2"),x=o("d1e7"),R=o("9112"),D=o("6eeb"),B=o("5692"),G=o("f772"),$=o("d012"),I=o("90e3"),Z=o("b622"),te=o("e538"),me=o("746f"),ve=o("d44e"),ne=o("69f3"),j=o("b727").forEach,z=G("hidden"),oe="Symbol",X="prototype",fe=Z("toPrimitive"),be=ne.set,se=ne.getterFor(oe),C=Object[X],L=l.Symbol,H=u("JSON","stringify"),ae=F.f,ue=N.f,Se=E.f,Ae=x.f,we=B("symbols"),Ee=B("op-symbols"),ye=B("string-to-symbol-registry"),De=B("symbol-to-string-registry"),Be=B("wks"),Ke=l.QObject,et=!Ke||!Ke[X]||!Ke[X].findChild,lt=d&&p(function(){return P(ue({},"a",{get:function(){return ue(this,"a",{value:7}).a}})).a!=7})?function(Ye,je,tt){var Ct=ae(C,je);Ct&&delete C[je],ue(Ye,je,tt),Ct&&Ye!==C&&ue(C,je,Ct)}:ue,q=function(Ye,je){var tt=we[Ye]=P(L[X]);return be(tt,{type:oe,tag:Ye,description:je}),d||(tt.description=je),tt},U=h?function(Ye){return typeof Ye=="symbol"}:function(Ye){return Object(Ye)instanceof L},W=function(je,tt,Ct){je===C&&W(Ee,tt,Ct),v(je);var Nt=w(tt,!0);return v(Ct),m(we,Nt)?(Ct.enumerable?(m(je,z)&&je[z][Nt]&&(je[z][Nt]=!1),Ct=P(Ct,{enumerable:T(0,!1)})):(m(je,z)||ue(je,z,T(1,{})),je[z][Nt]=!0),lt(je,Nt,Ct)):ue(je,Nt,Ct)},Q=function(je,tt){v(je);var Ct=b(tt),Nt=A(Ct).concat(Ce(Ct));return j(Nt,function(ti){(!d||Me.call(Ct,ti))&&W(je,ti,Ct[ti])}),je},de=function(je,tt){return tt===void 0?P(je):Q(P(je),tt)},Me=function(je){var tt=w(je,!0),Ct=Ae.call(this,tt);return this===C&&m(we,tt)&&!m(Ee,tt)?!1:Ct||!m(this,tt)||!m(we,tt)||m(this,z)&&this[z][tt]?Ct:!0},Ge=function(je,tt){var Ct=b(je),Nt=w(tt,!0);if(!(Ct===C&&m(we,Nt)&&!m(Ee,Nt))){var ti=ae(Ct,Nt);return ti&&m(we,Nt)&&!(m(Ct,z)&&Ct[z][Nt])&&(ti.enumerable=!0),ti}},pe=function(je){var tt=Se(b(je)),Ct=[];return j(tt,function(Nt){!m(we,Nt)&&!m($,Nt)&&Ct.push(Nt)}),Ct},Ce=function(je){var tt=je===C,Ct=Se(tt?Ee:b(je)),Nt=[];return j(Ct,function(ti){m(we,ti)&&(!tt||m(C,ti))&&Nt.push(we[ti])}),Nt};if(f||(L=function(){if(this instanceof L)throw TypeError("Symbol is not a constructor");var je=!arguments.length||arguments[0]===void 0?void 0:String(arguments[0]),tt=I(je),Ct=function(Nt){this===C&&Ct.call(Ee,Nt),m(this,z)&&m(this[z],tt)&&(this[z][tt]=!1),lt(this,tt,T(1,Nt))};return d&&et&&lt(C,tt,{configurable:!0,set:Ct}),q(tt,je)},D(L[X],"toString",function(){return se(this).tag}),D(L,"withoutSetter",function(Ye){return q(I(Ye),Ye)}),x.f=Me,N.f=W,F.f=Ge,O.f=E.f=pe,M.f=Ce,te.f=function(Ye){return q(Z(Ye),Ye)},d&&(ue(L[X],"description",{configurable:!0,get:function(){return se(this).description}}),c||D(C,"propertyIsEnumerable",Me,{unsafe:!0}))),a({global:!0,wrap:!0,forced:!f,sham:!f},{Symbol:L}),j(A(Be),function(Ye){me(Ye)}),a({target:oe,stat:!0,forced:!f},{for:function(Ye){var je=String(Ye);if(m(ye,je))return ye[je];var tt=L(je);return ye[je]=tt,De[tt]=je,tt},keyFor:function(je){if(!U(je))throw TypeError(je+" is not a symbol");if(m(De,je))return De[je]},useSetter:function(){et=!0},useSimple:function(){et=!1}}),a({target:"Object",stat:!0,forced:!f,sham:!d},{create:de,defineProperty:W,defineProperties:Q,getOwnPropertyDescriptor:Ge}),a({target:"Object",stat:!0,forced:!f},{getOwnPropertyNames:pe,getOwnPropertySymbols:Ce}),a({target:"Object",stat:!0,forced:p(function(){M.f(1)})},{getOwnPropertySymbols:function(je){return M.f(_(je))}}),H){var Pe=!f||p(function(){var Ye=L();return H([Ye])!="[null]"||H({a:Ye})!="{}"||H(Object(Ye))!="{}"});a({target:"JSON",stat:!0,forced:Pe},{stringify:function(je,tt,Ct){for(var Nt=[je],ti=1,Lv;arguments.length>ti;)Nt.push(arguments[ti++]);if(Lv=tt,!(!y(tt)&&je===void 0||U(je)))return g(tt)||(tt=function(q$,Oh){if(typeof Lv=="function"&&(Oh=Lv.call(this,q$,Oh)),!U(Oh))return Oh}),Nt[1]=tt,H.apply(null,Nt)}})}L[X][fe]||R(L[X],fe,L[X].valueOf),ve(L,oe),$[z]=!0},a630:function(i,s,o){var a=o("23e7"),l=o("4df4"),u=o("1c7e"),c=!u(function(d){Array.from(d)});a({target:"Array",stat:!0,forced:c},{from:l})},a640:function(i,s,o){var a=o("d039");i.exports=function(l,u){var c=[][l];return!!c&&a(function(){c.call(null,u||function(){throw 1},1)})}},a691:function(i,s){var o=Math.ceil,a=Math.floor;i.exports=function(l){return isNaN(l=+l)?0:(l>0?a:o)(l)}},ab13:function(i,s,o){var a=o("b622"),l=a("match");i.exports=function(u){var c=/./;try{"/./"[u](c)}catch{try{return c[l]=!1,"/./"[u](c)}catch{}}return!1}},ac1f:function(i,s,o){var a=o("23e7"),l=o("9263");a({target:"RegExp",proto:!0,forced:/./.exec!==l},{exec:l})},ad6d:function(i,s,o){var a=o("825a");i.exports=function(){var l=a(this),u="";return l.global&&(u+="g"),l.ignoreCase&&(u+="i"),l.multiline&&(u+="m"),l.dotAll&&(u+="s"),l.unicode&&(u+="u"),l.sticky&&(u+="y"),u}},ae40:function(i,s,o){var a=o("83ab"),l=o("d039"),u=o("5135"),c=Object.defineProperty,d={},f=function(h){throw h};i.exports=function(h,p){if(u(d,h))return d[h];p||(p={});var m=[][h],g=u(p,"ACCESSORS")?p.ACCESSORS:!1,y=u(p,0)?p[0]:f,v=u(p,1)?p[1]:void 0;return d[h]=!!m&&!l(function(){if(g&&!a)return!0;var _={length:-1};g?c(_,1,{enumerable:!0,get:f}):_[1]=1,m.call(_,y,v)})}},ae93:function(i,s,o){var a=o("e163"),l=o("9112"),u=o("5135"),c=o("b622"),d=o("c430"),f=c("iterator"),h=!1,p=function(){return this},m,g,y;[].keys&&(y=[].keys(),"next"in y?(g=a(a(y)),g!==Object.prototype&&(m=g)):h=!0),m==null&&(m={}),!d&&!u(m,f)&&l(m,f,p),i.exports={IteratorPrototype:m,BUGGY_SAFARI_ITERATORS:h}},b041:function(i,s,o){var a=o("00ee"),l=o("f5df");i.exports=a?{}.toString:function(){return"[object "+l(this)+"]"}},b0c0:function(i,s,o){var a=o("83ab"),l=o("9bf2").f,u=Function.prototype,c=u.toString,d=/^\s*function ([^ (]*)/,f="name";a&&!(f in u)&&l(u,f,{configurable:!0,get:function(){try{return c.call(this).match(d)[1]}catch{return""}}})},b622:function(i,s,o){var a=o("da84"),l=o("5692"),u=o("5135"),c=o("90e3"),d=o("4930"),f=o("fdbf"),h=l("wks"),p=a.Symbol,m=f?p:p&&p.withoutSetter||c;i.exports=function(g){return u(h,g)||(d&&u(p,g)?h[g]=p[g]:h[g]=m("Symbol."+g)),h[g]}},b64b:function(i,s,o){var a=o("23e7"),l=o("7b0b"),u=o("df75"),c=o("d039"),d=c(function(){u(1)});a({target:"Object",stat:!0,forced:d},{keys:function(h){return u(l(h))}})},b727:function(i,s,o){var a=o("0366"),l=o("44ad"),u=o("7b0b"),c=o("50c4"),d=o("65f0"),f=[].push,h=function(p){var m=p==1,g=p==2,y=p==3,v=p==4,_=p==6,b=p==5||_;return function(w,T,P,A){for(var O=u(w),E=l(O),M=a(T,P,3),F=c(E.length),N=0,x=A||d,R=m?x(w,F):g?x(w,0):void 0,D,B;F>N;N++)if((b||N in E)&&(D=E[N],B=M(D,N,O),p)){if(m)R[N]=B;else if(B)switch(p){case 3:return!0;case 5:return D;case 6:return N;case 2:f.call(R,D)}else if(v)return!1}return _?-1:y||v?v:R}};i.exports={forEach:h(0),map:h(1),filter:h(2),some:h(3),every:h(4),find:h(5),findIndex:h(6)}},c04e:function(i,s,o){var a=o("861d");i.exports=function(l,u){if(!a(l))return l;var c,d;if(u&&typeof(c=l.toString)=="function"&&!a(d=c.call(l))||typeof(c=l.valueOf)=="function"&&!a(d=c.call(l))||!u&&typeof(c=l.toString)=="function"&&!a(d=c.call(l)))return d;throw TypeError("Can't convert object to primitive value")}},c430:function(i,s){i.exports=!1},c6b6:function(i,s){var o={}.toString;i.exports=function(a){return o.call(a).slice(8,-1)}},c6cd:function(i,s,o){var a=o("da84"),l=o("ce4e"),u="__core-js_shared__",c=a[u]||l(u,{});i.exports=c},c740:function(i,s,o){var a=o("23e7"),l=o("b727").findIndex,u=o("44d2"),c=o("ae40"),d="findIndex",f=!0,h=c(d);d in[]&&Array(1)[d](function(){f=!1}),a({target:"Array",proto:!0,forced:f||!h},{findIndex:function(m){return l(this,m,arguments.length>1?arguments[1]:void 0)}}),u(d)},c8ba:function(i,s){var o;o=function(){return this}();try{o=o||new Function("return this")()}catch{typeof window=="object"&&(o=window)}i.exports=o},c975:function(i,s,o){var a=o("23e7"),l=o("4d64").indexOf,u=o("a640"),c=o("ae40"),d=[].indexOf,f=!!d&&1/[1].indexOf(1,-0)<0,h=u("indexOf"),p=c("indexOf",{ACCESSORS:!0,1:0});a({target:"Array",proto:!0,forced:f||!h||!p},{indexOf:function(g){return f?d.apply(this,arguments)||0:l(this,g,arguments.length>1?arguments[1]:void 0)}})},ca84:function(i,s,o){var a=o("5135"),l=o("fc6a"),u=o("4d64").indexOf,c=o("d012");i.exports=function(d,f){var h=l(d),p=0,m=[],g;for(g in h)!a(c,g)&&a(h,g)&&m.push(g);for(;f.length>p;)a(h,g=f[p++])&&(~u(m,g)||m.push(g));return m}},caad:function(i,s,o){var a=o("23e7"),l=o("4d64").includes,u=o("44d2"),c=o("ae40"),d=c("indexOf",{ACCESSORS:!0,1:0});a({target:"Array",proto:!0,forced:!d},{includes:function(h){return l(this,h,arguments.length>1?arguments[1]:void 0)}}),u("includes")},cc12:function(i,s,o){var a=o("da84"),l=o("861d"),u=a.document,c=l(u)&&l(u.createElement);i.exports=function(d){return c?u.createElement(d):{}}},ce4e:function(i,s,o){var a=o("da84"),l=o("9112");i.exports=function(u,c){try{l(a,u,c)}catch{a[u]=c}return c}},d012:function(i,s){i.exports={}},d039:function(i,s){i.exports=function(o){try{return!!o()}catch{return!0}}},d066:function(i,s,o){var a=o("428f"),l=o("da84"),u=function(c){return typeof c=="function"?c:void 0};i.exports=function(c,d){return arguments.length<2?u(a[c])||u(l[c]):a[c]&&a[c][d]||l[c]&&l[c][d]}},d1e7:function(i,s,o){var a={}.propertyIsEnumerable,l=Object.getOwnPropertyDescriptor,u=l&&!a.call({1:2},1);s.f=u?function(d){var f=l(this,d);return!!f&&f.enumerable}:a},d28b:function(i,s,o){var a=o("746f");a("iterator")},d2bb:function(i,s,o){var a=o("825a"),l=o("3bbe");i.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var u=!1,c={},d;try{d=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set,d.call(c,[]),u=c instanceof Array}catch{}return function(h,p){return a(h),l(p),u?d.call(h,p):h.__proto__=p,h}}():void 0)},d3b7:function(i,s,o){var a=o("00ee"),l=o("6eeb"),u=o("b041");a||l(Object.prototype,"toString",u,{unsafe:!0})},d44e:function(i,s,o){var a=o("9bf2").f,l=o("5135"),u=o("b622"),c=u("toStringTag");i.exports=function(d,f,h){d&&!l(d=h?d:d.prototype,c)&&a(d,c,{configurable:!0,value:f})}},d58f:function(i,s,o){var a=o("1c0b"),l=o("7b0b"),u=o("44ad"),c=o("50c4"),d=function(f){return function(h,p,m,g){a(p);var y=l(h),v=u(y),_=c(y.length),b=f?_-1:0,w=f?-1:1;if(m<2)for(;;){if(b in v){g=v[b],b+=w;break}if(b+=w,f?b<0:_<=b)throw TypeError("Reduce of empty array with no initial value")}for(;f?b>=0:_>b;b+=w)b in v&&(g=p(g,v[b],b,y));return g}};i.exports={left:d(!1),right:d(!0)}},d784:function(i,s,o){o("ac1f");var a=o("6eeb"),l=o("d039"),u=o("b622"),c=o("9263"),d=o("9112"),f=u("species"),h=!l(function(){var v=/./;return v.exec=function(){var _=[];return _.groups={a:"7"},_},"".replace(v,"$<a>")!=="7"}),p=function(){return"a".replace(/./,"$0")==="$0"}(),m=u("replace"),g=function(){return/./[m]?/./[m]("a","$0")==="":!1}(),y=!l(function(){var v=/(?:)/,_=v.exec;v.exec=function(){return _.apply(this,arguments)};var b="ab".split(v);return b.length!==2||b[0]!=="a"||b[1]!=="b"});i.exports=function(v,_,b,w){var T=u(v),P=!l(function(){var N={};return N[T]=function(){return 7},""[v](N)!=7}),A=P&&!l(function(){var N=!1,x=/a/;return v==="split"&&(x={},x.constructor={},x.constructor[f]=function(){return x},x.flags="",x[T]=/./[T]),x.exec=function(){return N=!0,null},x[T](""),!N});if(!P||!A||v==="replace"&&!(h&&p&&!g)||v==="split"&&!y){var O=/./[T],E=b(T,""[v],function(N,x,R,D,B){return x.exec===c?P&&!B?{done:!0,value:O.call(x,R,D)}:{done:!0,value:N.call(R,x,D)}:{done:!1}},{REPLACE_KEEPS_$0:p,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:g}),M=E[0],F=E[1];a(String.prototype,v,M),a(RegExp.prototype,T,_==2?function(N,x){return F.call(N,this,x)}:function(N){return F.call(N,this)})}w&&d(RegExp.prototype[T],"sham",!0)}},d81d:function(i,s,o){var a=o("23e7"),l=o("b727").map,u=o("1dde"),c=o("ae40"),d=u("map"),f=c("map");a({target:"Array",proto:!0,forced:!d||!f},{map:function(p){return l(this,p,arguments.length>1?arguments[1]:void 0)}})},da84:function(i,s,o){(function(a){var l=function(u){return u&&u.Math==Math&&u};i.exports=l(typeof globalThis=="object"&&globalThis)||l(typeof window=="object"&&window)||l(typeof self=="object"&&self)||l(typeof a=="object"&&a)||Function("return this")()}).call(this,o("c8ba"))},dbb4:function(i,s,o){var a=o("23e7"),l=o("83ab"),u=o("56ef"),c=o("fc6a"),d=o("06cf"),f=o("8418");a({target:"Object",stat:!0,sham:!l},{getOwnPropertyDescriptors:function(p){for(var m=c(p),g=d.f,y=u(m),v={},_=0,b,w;y.length>_;)w=g(m,b=y[_++]),w!==void 0&&f(v,b,w);return v}})},dbf1:function(i,s,o){(function(a){o.d(s,"a",function(){return u});function l(){return typeof window<"u"?window.console:a.console}var u=l()}).call(this,o("c8ba"))},ddb0:function(i,s,o){var a=o("da84"),l=o("fdbc"),u=o("e260"),c=o("9112"),d=o("b622"),f=d("iterator"),h=d("toStringTag"),p=u.values;for(var m in l){var g=a[m],y=g&&g.prototype;if(y){if(y[f]!==p)try{c(y,f,p)}catch{y[f]=p}if(y[h]||c(y,h,m),l[m]){for(var v in u)if(y[v]!==u[v])try{c(y,v,u[v])}catch{y[v]=u[v]}}}}},df75:function(i,s,o){var a=o("ca84"),l=o("7839");i.exports=Object.keys||function(c){return a(c,l)}},e01a:function(i,s,o){var a=o("23e7"),l=o("83ab"),u=o("da84"),c=o("5135"),d=o("861d"),f=o("9bf2").f,h=o("e893"),p=u.Symbol;if(l&&typeof p=="function"&&(!("description"in p.prototype)||p().description!==void 0)){var m={},g=function(){var T=arguments.length<1||arguments[0]===void 0?void 0:String(arguments[0]),P=this instanceof g?new p(T):T===void 0?p():p(T);return T===""&&(m[P]=!0),P};h(g,p);var y=g.prototype=p.prototype;y.constructor=g;var v=y.toString,_=String(p("test"))=="Symbol(test)",b=/^Symbol\((.*)\)[^)]+$/;f(y,"description",{configurable:!0,get:function(){var T=d(this)?this.valueOf():this,P=v.call(T);if(c(m,T))return"";var A=_?P.slice(7,-1):P.replace(b,"$1");return A===""?void 0:A}}),a({global:!0,forced:!0},{Symbol:g})}},e163:function(i,s,o){var a=o("5135"),l=o("7b0b"),u=o("f772"),c=o("e177"),d=u("IE_PROTO"),f=Object.prototype;i.exports=c?Object.getPrototypeOf:function(h){return h=l(h),a(h,d)?h[d]:typeof h.constructor=="function"&&h instanceof h.constructor?h.constructor.prototype:h instanceof Object?f:null}},e177:function(i,s,o){var a=o("d039");i.exports=!a(function(){function l(){}return l.prototype.constructor=null,Object.getPrototypeOf(new l)!==l.prototype})},e260:function(i,s,o){var a=o("fc6a"),l=o("44d2"),u=o("3f8c"),c=o("69f3"),d=o("7dd0"),f="Array Iterator",h=c.set,p=c.getterFor(f);i.exports=d(Array,"Array",function(m,g){h(this,{type:f,target:a(m),index:0,kind:g})},function(){var m=p(this),g=m.target,y=m.kind,v=m.index++;return!g||v>=g.length?(m.target=void 0,{value:void 0,done:!0}):y=="keys"?{value:v,done:!1}:y=="values"?{value:g[v],done:!1}:{value:[v,g[v]],done:!1}},"values"),u.Arguments=u.Array,l("keys"),l("values"),l("entries")},e439:function(i,s,o){var a=o("23e7"),l=o("d039"),u=o("fc6a"),c=o("06cf").f,d=o("83ab"),f=l(function(){c(1)}),h=!d||f;a({target:"Object",stat:!0,forced:h,sham:!d},{getOwnPropertyDescriptor:function(m,g){return c(u(m),g)}})},e538:function(i,s,o){var a=o("b622");s.f=a},e893:function(i,s,o){var a=o("5135"),l=o("56ef"),u=o("06cf"),c=o("9bf2");i.exports=function(d,f){for(var h=l(f),p=c.f,m=u.f,g=0;g<h.length;g++){var y=h[g];a(d,y)||p(d,y,m(f,y))}}},e8b5:function(i,s,o){var a=o("c6b6");i.exports=Array.isArray||function(u){return a(u)=="Array"}},e95a:function(i,s,o){var a=o("b622"),l=o("3f8c"),u=a("iterator"),c=Array.prototype;i.exports=function(d){return d!==void 0&&(l.Array===d||c[u]===d)}},f5df:function(i,s,o){var a=o("00ee"),l=o("c6b6"),u=o("b622"),c=u("toStringTag"),d=l(function(){return arguments}())=="Arguments",f=function(h,p){try{return h[p]}catch{}};i.exports=a?l:function(h){var p,m,g;return h===void 0?"Undefined":h===null?"Null":typeof(m=f(p=Object(h),c))=="string"?m:d?l(p):(g=l(p))=="Object"&&typeof p.callee=="function"?"Arguments":g}},f772:function(i,s,o){var a=o("5692"),l=o("90e3"),u=a("keys");i.exports=function(c){return u[c]||(u[c]=l(c))}},fb15:function(i,s,o){if(o.r(s),typeof window<"u"){var a=window.document.currentScript;{var l=o("8875");a=l(),"currentScript"in document||Object.defineProperty(document,"currentScript",{get:l})}var u=a&&a.src.match(/(.+\/)[^/]+\.js(\?.*)?$/);u&&(o.p=u[1])}o("99af"),o("4de4"),o("4160"),o("c975"),o("d81d"),o("a434"),o("159b"),o("a4d3"),o("e439"),o("dbb4"),o("b64b");function c(U,W,Q){return W in U?Object.defineProperty(U,W,{value:Q,enumerable:!0,configurable:!0,writable:!0}):U[W]=Q,U}function d(U,W){var Q=Object.keys(U);if(Object.getOwnPropertySymbols){var de=Object.getOwnPropertySymbols(U);W&&(de=de.filter(function(Me){return Object.getOwnPropertyDescriptor(U,Me).enumerable})),Q.push.apply(Q,de)}return Q}function f(U){for(var W=1;W<arguments.length;W++){var Q=arguments[W]!=null?arguments[W]:{};W%2?d(Object(Q),!0).forEach(function(de){c(U,de,Q[de])}):Object.getOwnPropertyDescriptors?Object.defineProperties(U,Object.getOwnPropertyDescriptors(Q)):d(Object(Q)).forEach(function(de){Object.defineProperty(U,de,Object.getOwnPropertyDescriptor(Q,de))})}return U}function h(U){if(Array.isArray(U))return U}o("e01a"),o("d28b"),o("e260"),o("d3b7"),o("3ca3"),o("ddb0");function p(U,W){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(U)))){var Q=[],de=!0,Me=!1,Ge=void 0;try{for(var pe=U[Symbol.iterator](),Ce;!(de=(Ce=pe.next()).done)&&(Q.push(Ce.value),!(W&&Q.length===W));de=!0);}catch(Pe){Me=!0,Ge=Pe}finally{try{!de&&pe.return!=null&&pe.return()}finally{if(Me)throw Ge}}return Q}}o("a630"),o("fb6a"),o("b0c0"),o("25f0");function m(U,W){(W==null||W>U.length)&&(W=U.length);for(var Q=0,de=new Array(W);Q<W;Q++)de[Q]=U[Q];return de}function g(U,W){if(U){if(typeof U=="string")return m(U,W);var Q=Object.prototype.toString.call(U).slice(8,-1);if(Q==="Object"&&U.constructor&&(Q=U.constructor.name),Q==="Map"||Q==="Set")return Array.from(U);if(Q==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Q))return m(U,W)}}function y(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function v(U,W){return h(U)||p(U,W)||g(U,W)||y()}function _(U){if(Array.isArray(U))return m(U)}function b(U){if(typeof Symbol<"u"&&Symbol.iterator in Object(U))return Array.from(U)}function w(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function T(U){return _(U)||b(U)||g(U)||w()}var P=o("a352"),A=o.n(P);function O(U){U.parentElement!==null&&U.parentElement.removeChild(U)}function E(U,W,Q){var de=Q===0?U.children[0]:U.children[Q-1].nextSibling;U.insertBefore(W,de)}var M=o("dbf1");o("13d5"),o("4fad"),o("ac1f"),o("5319");function F(U){var W=Object.create(null);return function(de){var Me=W[de];return Me||(W[de]=U(de))}}var N=/-(\w)/g,x=F(function(U){return U.replace(N,function(W,Q){return Q.toUpperCase()})});o("5db7"),o("73d9");var R=["Start","Add","Remove","Update","End"],D=["Choose","Unchoose","Sort","Filter","Clone"],B=["Move"],G=[B,R,D].flatMap(function(U){return U}).map(function(U){return"on".concat(U)}),$={manage:B,manageAndEmit:R,emit:D};function I(U){return G.indexOf(U)!==-1}o("caad"),o("2ca0");var Z=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","label","legend","li","link","main","map","mark","math","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rb","rp","rt","rtc","ruby","s","samp","script","section","select","slot","small","source","span","strong","style","sub","summary","sup","svg","table","tbody","td","template","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr"];function te(U){return Z.includes(U)}function me(U){return["transition-group","TransitionGroup"].includes(U)}function ve(U){return["id","class","role","style"].includes(U)||U.startsWith("data-")||U.startsWith("aria-")||U.startsWith("on")}function ne(U){return U.reduce(function(W,Q){var de=v(Q,2),Me=de[0],Ge=de[1];return W[Me]=Ge,W},{})}function j(U){var W=U.$attrs,Q=U.componentData,de=Q===void 0?{}:Q,Me=ne(Object.entries(W).filter(function(Ge){var pe=v(Ge,2),Ce=pe[0];return pe[1],ve(Ce)}));return f(f({},Me),de)}function z(U){var W=U.$attrs,Q=U.callBackBuilder,de=ne(oe(W));Object.entries(Q).forEach(function(Ge){var pe=v(Ge,2),Ce=pe[0],Pe=pe[1];$[Ce].forEach(function(Ye){de["on".concat(Ye)]=Pe(Ye)})});var Me="[data-draggable]".concat(de.draggable||"");return f(f({},de),{},{draggable:Me})}function oe(U){return Object.entries(U).filter(function(W){var Q=v(W,2),de=Q[0];return Q[1],!ve(de)}).map(function(W){var Q=v(W,2),de=Q[0],Me=Q[1];return[x(de),Me]}).filter(function(W){var Q=v(W,2),de=Q[0];return Q[1],!I(de)})}o("c740");function X(U,W){if(!(U instanceof W))throw new TypeError("Cannot call a class as a function")}function fe(U,W){for(var Q=0;Q<W.length;Q++){var de=W[Q];de.enumerable=de.enumerable||!1,de.configurable=!0,"value"in de&&(de.writable=!0),Object.defineProperty(U,de.key,de)}}function be(U,W,Q){return W&&fe(U.prototype,W),Q&&fe(U,Q),U}var se=function(W){var Q=W.el;return Q},C=function(W,Q){return W.__draggable_context=Q},L=function(W){return W.__draggable_context},H=function(){function U(W){var Q=W.nodes,de=Q.header,Me=Q.default,Ge=Q.footer,pe=W.root,Ce=W.realList;X(this,U),this.defaultNodes=Me,this.children=[].concat(T(de),T(Me),T(Ge)),this.externalComponent=pe.externalComponent,this.rootTransition=pe.transition,this.tag=pe.tag,this.realList=Ce}return be(U,[{key:"render",value:function(Q,de){var Me=this.tag,Ge=this.children,pe=this._isRootComponent,Ce=pe?{default:function(){return Ge}}:Ge;return Q(Me,de,Ce)}},{key:"updated",value:function(){var Q=this.defaultNodes,de=this.realList;Q.forEach(function(Me,Ge){C(se(Me),{element:de[Ge],index:Ge})})}},{key:"getUnderlyingVm",value:function(Q){return L(Q)}},{key:"getVmIndexFromDomIndex",value:function(Q,de){var Me=this.defaultNodes,Ge=Me.length,pe=de.children,Ce=pe.item(Q);if(Ce===null)return Ge;var Pe=L(Ce);if(Pe)return Pe.index;if(Ge===0)return 0;var Ye=se(Me[0]),je=T(pe).findIndex(function(tt){return tt===Ye});return Q<je?0:Ge}},{key:"_isRootComponent",get:function(){return this.externalComponent||this.rootTransition}}]),U}(),ae=o("8bbf");function ue(U,W){var Q=U[W];return Q?Q():[]}function Se(U){var W=U.$slots,Q=U.realList,de=U.getKey,Me=Q||[],Ge=["header","footer"].map(function(tt){return ue(W,tt)}),pe=v(Ge,2),Ce=pe[0],Pe=pe[1],Ye=W.item;if(!Ye)throw new Error("draggable element must have an item slot");var je=Me.flatMap(function(tt,Ct){return Ye({element:tt,index:Ct}).map(function(Nt){return Nt.key=de(tt),Nt.props=f(f({},Nt.props||{}),{},{"data-draggable":!0}),Nt})});if(je.length!==Me.length)throw new Error("Item slot must have only one child");return{header:Ce,footer:Pe,default:je}}function Ae(U){var W=me(U),Q=!te(U)&&!W;return{transition:W,externalComponent:Q,tag:Q?Object(ae.resolveComponent)(U):W?ae.TransitionGroup:U}}function we(U){var W=U.$slots,Q=U.tag,de=U.realList,Me=U.getKey,Ge=Se({$slots:W,realList:de,getKey:Me}),pe=Ae(Q);return new H({nodes:Ge,root:pe,realList:de})}function Ee(U,W){var Q=this;Object(ae.nextTick)(function(){return Q.$emit(U.toLowerCase(),W)})}function ye(U){var W=this;return function(Q,de){if(W.realList!==null)return W["onDrag".concat(U)](Q,de)}}function De(U){var W=this,Q=ye.call(this,U);return function(de,Me){Q.call(W,de,Me),Ee.call(W,U,de)}}var Be=null,Ke={list:{type:Array,required:!1,default:null},modelValue:{type:Array,required:!1,default:null},itemKey:{type:[String,Function],required:!0},clone:{type:Function,default:function(W){return W}},tag:{type:String,default:"div"},move:{type:Function,default:null},componentData:{type:Object,required:!1,default:null}},et=["update:modelValue","change"].concat(T([].concat(T($.manageAndEmit),T($.emit)).map(function(U){return U.toLowerCase()}))),lt=Object(ae.defineComponent)({name:"draggable",inheritAttrs:!1,props:Ke,emits:et,data:function(){return{error:!1}},render:function(){try{this.error=!1;var W=this.$slots,Q=this.$attrs,de=this.tag,Me=this.componentData,Ge=this.realList,pe=this.getKey,Ce=we({$slots:W,tag:de,realList:Ge,getKey:pe});this.componentStructure=Ce;var Pe=j({$attrs:Q,componentData:Me});return Ce.render(ae.h,Pe)}catch(Ye){return this.error=!0,Object(ae.h)("pre",{style:{color:"red"}},Ye.stack)}},created:function(){this.list!==null&&this.modelValue!==null&&M.a.error("modelValue and list props are mutually exclusive! Please set one or another.")},mounted:function(){var W=this;if(!this.error){var Q=this.$attrs,de=this.$el,Me=this.componentStructure;Me.updated();var Ge=z({$attrs:Q,callBackBuilder:{manageAndEmit:function(Pe){return De.call(W,Pe)},emit:function(Pe){return Ee.bind(W,Pe)},manage:function(Pe){return ye.call(W,Pe)}}}),pe=de.nodeType===1?de:de.parentElement;this._sortable=new A.a(pe,Ge),this.targetDomElement=pe,pe.__draggable_component__=this}},updated:function(){this.componentStructure.updated()},beforeUnmount:function(){this._sortable!==void 0&&this._sortable.destroy()},computed:{realList:function(){var W=this.list;return W||this.modelValue},getKey:function(){var W=this.itemKey;return typeof W=="function"?W:function(Q){return Q[W]}}},watch:{$attrs:{handler:function(W){var Q=this._sortable;Q&&oe(W).forEach(function(de){var Me=v(de,2),Ge=Me[0],pe=Me[1];Q.option(Ge,pe)})},deep:!0}},methods:{getUnderlyingVm:function(W){return this.componentStructure.getUnderlyingVm(W)||null},getUnderlyingPotencialDraggableComponent:function(W){return W.__draggable_component__},emitChanges:function(W){var Q=this;Object(ae.nextTick)(function(){return Q.$emit("change",W)})},alterList:function(W){if(this.list){W(this.list);return}var Q=T(this.modelValue);W(Q),this.$emit("update:modelValue",Q)},spliceList:function(){var W=arguments,Q=function(Me){return Me.splice.apply(Me,T(W))};this.alterList(Q)},updatePosition:function(W,Q){var de=function(Ge){return Ge.splice(Q,0,Ge.splice(W,1)[0])};this.alterList(de)},getRelatedContextFromMoveEvent:function(W){var Q=W.to,de=W.related,Me=this.getUnderlyingPotencialDraggableComponent(Q);if(!Me)return{component:Me};var Ge=Me.realList,pe={list:Ge,component:Me};if(Q!==de&&Ge){var Ce=Me.getUnderlyingVm(de)||{};return f(f({},Ce),pe)}return pe},getVmIndexFromDomIndex:function(W){return this.componentStructure.getVmIndexFromDomIndex(W,this.targetDomElement)},onDragStart:function(W){this.context=this.getUnderlyingVm(W.item),W.item._underlying_vm_=this.clone(this.context.element),Be=W.item},onDragAdd:function(W){var Q=W.item._underlying_vm_;if(Q!==void 0){O(W.item);var de=this.getVmIndexFromDomIndex(W.newIndex);this.spliceList(de,0,Q);var Me={element:Q,newIndex:de};this.emitChanges({added:Me})}},onDragRemove:function(W){if(E(this.$el,W.item,W.oldIndex),W.pullMode==="clone"){O(W.clone);return}var Q=this.context,de=Q.index,Me=Q.element;this.spliceList(de,1);var Ge={element:Me,oldIndex:de};this.emitChanges({removed:Ge})},onDragUpdate:function(W){O(W.item),E(W.from,W.item,W.oldIndex);var Q=this.context.index,de=this.getVmIndexFromDomIndex(W.newIndex);this.updatePosition(Q,de);var Me={element:this.context.element,oldIndex:Q,newIndex:de};this.emitChanges({moved:Me})},computeFutureIndex:function(W,Q){if(!W.element)return 0;var de=T(Q.to.children).filter(function(Ce){return Ce.style.display!=="none"}),Me=de.indexOf(Q.related),Ge=W.component.getVmIndexFromDomIndex(Me),pe=de.indexOf(Be)!==-1;return pe||!Q.willInsertAfter?Ge:Ge+1},onDragMove:function(W,Q){var de=this.move,Me=this.realList;if(!de||!Me)return!0;var Ge=this.getRelatedContextFromMoveEvent(W),pe=this.computeFutureIndex(Ge,W),Ce=f(f({},this.context),{},{futureIndex:pe}),Pe=f(f({},W),{},{relatedContext:Ge,draggedContext:Ce});return de(Pe,Q)},onDragEnd:function(){Be=null}}}),q=lt;s.default=q},fb6a:function(i,s,o){var a=o("23e7"),l=o("861d"),u=o("e8b5"),c=o("23cb"),d=o("50c4"),f=o("fc6a"),h=o("8418"),p=o("b622"),m=o("1dde"),g=o("ae40"),y=m("slice"),v=g("slice",{ACCESSORS:!0,0:0,1:2}),_=p("species"),b=[].slice,w=Math.max;a({target:"Array",proto:!0,forced:!y||!v},{slice:function(P,A){var O=f(this),E=d(O.length),M=c(P,E),F=c(A===void 0?E:A,E),N,x,R;if(u(O)&&(N=O.constructor,typeof N=="function"&&(N===Array||u(N.prototype))?N=void 0:l(N)&&(N=N[_],N===null&&(N=void 0)),N===Array||N===void 0))return b.call(O,M,F);for(x=new(N===void 0?Array:N)(w(F-M,0)),R=0;M<F;M++,R++)M in O&&h(x,R,O[M]);return x.length=R,x}})},fc6a:function(i,s,o){var a=o("44ad"),l=o("1d80");i.exports=function(u){return a(l(u))}},fdbc:function(i,s){i.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},fdbf:function(i,s,o){var a=o("4930");i.exports=a&&!Symbol.sham&&typeof Symbol.iterator=="symbol"}}).default})})(LL);var Ore=LL.exports;const YL=jne(Ore),Are={key:0,class:"mb-5 p-4 border-y"},kre={class:"flex"},Pre=Oe({__name:"StringListField",props:{name:{},label:{},placeholder:{},modelValue:{}},emits:["update:modelValue","update:error"],setup(t,{expose:e,emit:n}){const r=t,i=re(""),s=ee({get:()=>r.modelValue,set:d=>{u("update:modelValue",d),i.value=""}}),o=d=>{if(d.moved){const{oldIndex:f,newIndex:h}=d.moved,p=[...s.value];if(p.length===2)s.value=[p[1],p[0]];else{const m=p.splice(f,1)[0];p.splice(h,0,m),s.value=p}}},a=()=>{i.value.length&&(s.value=[...s.value,i.value])},l=d=>{s.value.splice(d,1)},u=n;return e({test:()=>{}}),(d,f)=>(S(),V("div",null,[J(hr,{id:d.name,name:d.name,label:d.label,modelValue:i.value,"onUpdate:modelValue":f[0]||(f[0]=h=>i.value=h),max:200,placeholder:d.placeholder,onKeydown:f[1]||(f[1]=dt(h=>a(),["enter"]))},null,8,["id","name","label","modelValue","placeholder"]),s.value.length?(S(),V("div",Are,[J(k(YL),{modelValue:s.value,itemKey:"index",onChange:o},{item:ce(({element:h,index:p})=>[K("div",kre,[J(hr,{class:"w-full",id:`${d.name}.${p}`,name:d.name,"model-value":h,max:200,"delete-button":"","onUpdate:modelValue":m=>s.value[p]=m.toString(),"onUpdate:delete":m=>l(p)},null,8,["id","name","model-value","onUpdate:modelValue","onUpdate:delete"])])]),_:1},8,["modelValue"])])):Y("",!0)]))}}),xre={class:"mt-5"},Dre={class:"px-5 pb-5"},Rre={class:"flex justify-evenly font-bold"},Nre=Oe({__name:"BlogPostContentSectionDialogSection",props:{selected:{},selectedBlogPost:{},index:{},isOpen:{type:Boolean}},emits:["update:selected","error","delete"],setup(t,{expose:e,emit:n}){const r=t,i=n,s=re(),o=re(),a=re(),l=re(),u=re(),c=re(),d=re(),f=re(),h=()=>({selected:{title:{value:r.selected.title,error:""},subTitle:{value:r.selected.subTitle,error:""},description:{value:r.selected.description,error:""},coverImageUrl:{value:r.selected.coverImageUrl,error:""},alignment:{value:r.selected.alignment,error:""},countdown:{value:r.selected.countdown,error:""},timer:{value:r.selected.timer,error:""},bullets:{value:r.selected.bullets,error:""}}}),p=xn(h()),m=async()=>{await Promise.all([s.value.test(),o.value.test(),a.value.test(),u.value.test(),l.value.test(),c.value.test(),d.value.test(),f.value.test()]),i("error",dh(p.selected))};return It(()=>r.selectedBlogPost,()=>{p.selected=h().selected}),It(()=>p.selected,()=>{i("update:selected",{title:p.selected.title.value,subTitle:p.selected.subTitle.value,description:p.selected.description.value,alignment:p.selected.alignment.value,coverImageUrl:p.selected.coverImageUrl.value,countdown:p.selected.countdown.value,timer:p.selected.timer.value,bullets:p.selected.bullets.value})},{deep:!0}),e({test:m}),(g,y)=>(S(),V("div",xre,[g.isOpen?(S(),ie(k(_h),{key:0},{default:ce(()=>[J(k(Yo),{header:`Section ${g.index+1}`},{default:ce(()=>[K("div",Dre,[J(hr,{ref_key:"title",ref:s,id:g.index,name:"title",label:"Section Title",modelValue:p.selected.title.value,"onUpdate:modelValue":y[0]||(y[0]=v=>p.selected.title.value=v),error:p.selected.title.error,"onUpdate:error":y[1]||(y[1]=v=>p.selected.title.error=v),max:50},null,8,["id","modelValue","error"]),J(hr,{ref_key:"subTitle",ref:o,id:g.index,name:"subTitle",label:"Section Subtitle",modelValue:p.selected.subTitle.value,"onUpdate:modelValue":y[2]||(y[2]=v=>p.selected.subTitle.value=v),error:p.selected.subTitle.error,"onUpdate:error":y[3]||(y[3]=v=>p.selected.subTitle.error=v),max:200},null,8,["id","modelValue","error"]),J(hr,{ref_key:"description",ref:a,id:g.index,name:"description",label:"Section Description",modelValue:p.selected.description.value,"onUpdate:modelValue":y[4]||(y[4]=v=>p.selected.description.value=v),error:p.selected.description.error,"onUpdate:error":y[5]||(y[5]=v=>p.selected.description.error=v),max:300,"input-props":{type:"textarea",rows:p.selected.description.value.split(`
`).length<=5?p.selected.description.value.split(`
`).length:5}},null,8,["id","modelValue","error","input-props"]),J(xr,{ref_key:"alignment",ref:l,id:g.index,name:"alignment",label:"Alignment",modelValue:p.selected.alignment.value,"onUpdate:modelValue":y[6]||(y[6]=v=>p.selected.alignment.value=v),error:p.selected.alignment.error,"onUpdate:error":y[7]||(y[7]=v=>p.selected.alignment.error=v),options:k(sL),rules:[k(xt).Required]},null,8,["id","modelValue","error","options","rules"]),J(CT,{ref_key:"coverImageUrl",ref:u,id:g.index,name:"coverImageUrl",label:"Cover image",modelValue:p.selected.coverImageUrl.value,"onUpdate:modelValue":y[8]||(y[8]=v=>p.selected.coverImageUrl.value=v),error:p.selected.coverImageUrl.error,"onUpdate:error":y[9]||(y[9]=v=>p.selected.coverImageUrl.error=v)},null,8,["id","modelValue","error"]),J(Ym,{ref_key:"countdown",ref:c,id:g.index,name:"countdown",label:"Countdown",modelValue:p.selected.countdown.value,"onUpdate:modelValue":y[10]||(y[10]=v=>p.selected.countdown.value=v),error:p.selected.countdown.error,"onUpdate:error":y[11]||(y[11]=v=>p.selected.countdown.error=v)},null,8,["id","modelValue","error"]),J(Ym,{ref_key:"timer",ref:d,id:g.index,name:"timer",label:"Timer",modelValue:p.selected.timer.value,"onUpdate:modelValue":y[12]||(y[12]=v=>p.selected.timer.value=v),error:p.selected.timer.error,"onUpdate:error":y[13]||(y[13]=v=>p.selected.timer.error=v)},null,8,["id","modelValue","error"]),J(Pre,{ref_key:"bullets",ref:f,name:"bullets",label:"Section Bullets",placeholder:"New bullet...",modelValue:p.selected.bullets.value,"onUpdate:modelValue":y[14]||(y[14]=v=>p.selected.bullets.value=v)},null,8,["modelValue"]),K("div",Rre,[J(Ft,{class:"w-1/2",type:"danger",outlined:"",onClick:y[15]||(y[15]=v=>g.$emit("delete"))},{default:ce(()=>[Je(" Delete ")]),_:1})])])]),_:1},8,["header"])]),_:1})):Y("",!0)]))}}),Mre={class:"mt-3 flex justify-center"},Lre=Oe({__name:"BlogPostContentDialogSection",props:{selected:{},selectedBlogPost:{},isOpen:{type:Boolean}},emits:["update:selected","error"],setup(t,{expose:e,emit:n}){const r=t,i=n,s=re(),o=re(),a=re(),l=re(),u=re(),c=re(),d=re([]),f=()=>({selected:{title:{value:r.selected.title,error:""},description:{value:r.selected.description,error:""},descriptionFooter:{value:r.selected.descriptionFooter,error:""},coverImageUrl:{value:r.selected.coverImageUrl,error:""},countdown:{value:r.selected.countdown,error:""},timer:{value:r.selected.timer,error:""},sections:{value:r.selected.sections.map(_=>({id:Gm(),..._})),error:[]}}}),h=xn(f()),p=()=>{h.selected.sections.value.push({id:Gm(),title:"",subTitle:"",description:"",alignment:"left",coverImageUrl:"",countdown:null,timer:null,bullets:[]})},m=(_,b)=>{h.selected.sections.value.splice(b,1,{id:h.selected.sections.value[b].id,..._})},g=_=>{h.selected.sections.value.splice(_,1)},y=(_,b)=>{h.selected.sections.error[b]=_},v=async()=>{for(const _ of d.value)await _.test();await Promise.all([s.value.test(),o.value.test(),a.value.test(),l.value.test(),u.value.test(),c.value.test()]),i("error",dh(h.selected)),h.selected.sections.error=[]};return It(()=>r.selectedBlogPost,()=>{h.selected=f().selected}),It(()=>h.selected,()=>{i("update:selected",{title:h.selected.title.value,description:h.selected.description.value,descriptionFooter:h.selected.descriptionFooter.value,coverImageUrl:h.selected.coverImageUrl.value,countdown:h.selected.countdown.value,timer:h.selected.timer.value,sections:h.selected.sections.value})},{deep:!0}),e({test:v}),(_,b)=>(S(),V(Te,null,[J(hr,{ref_key:"title",ref:s,name:"title",label:"Title",placeholder:"Amazing Post",modelValue:h.selected.title.value,"onUpdate:modelValue":b[0]||(b[0]=w=>h.selected.title.value=w),error:h.selected.title.error,"onUpdate:error":b[1]||(b[1]=w=>h.selected.title.error=w),rules:[k(xt).Required],"min-length":3,"max-length":50},null,8,["modelValue","error","rules"]),J(hr,{ref_key:"description",ref:o,name:"description",label:"Description",placeholder:"Something about my post...",modelValue:h.selected.description.value,"onUpdate:modelValue":b[2]||(b[2]=w=>h.selected.description.value=w),error:h.selected.description.error,"onUpdate:error":b[3]||(b[3]=w=>h.selected.description.error=w),"max-length":500,"input-props":{type:"textarea",rows:h.selected.description.value.split(`
`).length<=5?h.selected.description.value.split(`
`).length:5}},null,8,["modelValue","error","input-props"]),J(CT,{ref_key:"coverImageUrl",ref:l,id:"coverImageUrl",name:"coverImageUrl",label:"Cover image",modelValue:h.selected.coverImageUrl.value,"onUpdate:modelValue":b[4]||(b[4]=w=>h.selected.coverImageUrl.value=w),error:h.selected.coverImageUrl.error,"onUpdate:error":b[5]||(b[5]=w=>h.selected.coverImageUrl.error=w),"blog-post":_.selectedBlogPost??void 0},null,8,["modelValue","error","blog-post"]),_.isOpen?(S(),ie(k(_h),{key:0},{default:ce(()=>[J(k(Yo),{header:"Other content"},{default:ce(()=>[J(hr,{ref_key:"descriptionFooter",ref:a,name:"descriptionFooter",label:"Footer",placeholder:"Some beautiful ending...",modelValue:h.selected.descriptionFooter.value,"onUpdate:modelValue":b[6]||(b[6]=w=>h.selected.descriptionFooter.value=w),error:h.selected.descriptionFooter.error,"onUpdate:error":b[7]||(b[7]=w=>h.selected.descriptionFooter.error=w),"max-length":300,"input-props":{type:"textarea",rows:h.selected.descriptionFooter.value.split(`
`).length<=5?h.selected.descriptionFooter.value.split(`
`).length:5}},null,8,["modelValue","error","input-props"]),J(Ym,{ref_key:"countdown",ref:u,name:"countdown",label:"Countdown",modelValue:h.selected.countdown.value,"onUpdate:modelValue":b[8]||(b[8]=w=>h.selected.countdown.value=w),error:h.selected.countdown.error,"onUpdate:error":b[9]||(b[9]=w=>h.selected.countdown.error=w)},null,8,["modelValue","error"]),J(Ym,{ref_key:"timer",ref:c,name:"timer",label:"Timer",modelValue:h.selected.timer.value,"onUpdate:modelValue":b[10]||(b[10]=w=>h.selected.timer.value=w),error:h.selected.timer.error,"onUpdate:error":b[11]||(b[11]=w=>h.selected.timer.error=w)},null,8,["modelValue","error"])]),_:1}),J(k(Yo),{header:"Sections"},{default:ce(()=>[(S(!0),V(Te,null,st(h.selected.sections.value,(w,T)=>(S(),ie(Nre,{key:w.id,ref_for:!0,ref_key:"sections",ref:d,selected:w,"selected-blog-post":_.selectedBlogPost,index:T,"is-open":_.isOpen,"onUpdate:selected":P=>m(P,T),onError:P=>y(P,T),onDelete:P=>g(T)},null,8,["selected","selected-blog-post","index","is-open","onUpdate:selected","onError","onDelete"]))),128)),K("div",Mre,[J(Ft,{class:"w-1/2",type:"action-positive",onClick:p},{default:ce(()=>[Je(" Add Section ")]),_:1})])]),_:1})]),_:1})):Y("",!0)],64))}});var $re={root:{position:"relative"}},Fre={root:function(e){var n=e.instance,r=e.props;return["p-inputswitch p-component",{"p-highlight":n.checked,"p-disabled":r.disabled,"p-invalid":r.invalid}]},input:"p-inputswitch-input",slider:"p-inputswitch-slider"},Ure=Cr.extend({name:"inputswitch",classes:Fre,inlineStyles:$re}),Vre={name:"BaseInputSwitch",extends:Pi,props:{modelValue:{type:null,default:!1},trueValue:{type:null,default:!0},falseValue:{type:null,default:!1},invalid:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},tabindex:{type:Number,default:null},inputId:{type:String,default:null},inputClass:{type:[String,Object],default:null},inputStyle:{type:Object,default:null},ariaLabelledby:{type:String,default:null},ariaLabel:{type:String,default:null}},style:Ure,provide:function(){return{$parentInstance:this}}},qL={name:"InputSwitch",extends:Vre,inheritAttrs:!1,emits:["update:modelValue","change","focus","blur"],methods:{getPTOptions:function(e){var n=e==="root"?this.ptmi:this.ptm;return n(e,{context:{checked:this.checked,disabled:this.disabled}})},onChange:function(e){if(!this.disabled&&!this.readonly){var n=this.checked?this.falseValue:this.trueValue;this.$emit("update:modelValue",n),this.$emit("change",e)}},onFocus:function(e){this.$emit("focus",e)},onBlur:function(e){this.$emit("blur",e)}},computed:{checked:function(){return this.modelValue===this.trueValue}}},Bre=["data-p-highlight","data-p-disabled"],jre=["id","checked","tabindex","disabled","readonly","aria-checked","aria-labelledby","aria-label","aria-invalid"];function Hre(t,e,n,r,i,s){return S(),V("div",le({class:t.cx("root"),style:t.sx("root")},s.getPTOptions("root"),{"data-p-highlight":s.checked,"data-p-disabled":t.disabled}),[K("input",le({id:t.inputId,type:"checkbox",role:"switch",class:[t.cx("input"),t.inputClass],style:t.inputStyle,checked:s.checked,tabindex:t.tabindex,disabled:t.disabled,readonly:t.readonly,"aria-checked":s.checked,"aria-labelledby":t.ariaLabelledby,"aria-label":t.ariaLabel,"aria-invalid":t.invalid||void 0,onFocus:e[0]||(e[0]=function(){return s.onFocus&&s.onFocus.apply(s,arguments)}),onBlur:e[1]||(e[1]=function(){return s.onBlur&&s.onBlur.apply(s,arguments)}),onChange:e[2]||(e[2]=function(){return s.onChange&&s.onChange.apply(s,arguments)})},s.getPTOptions("input")),null,16,jre),K("span",le({class:t.cx("slider")},s.getPTOptions("slider")),null,16)],16,Bre)}qL.render=Hre;const Wre={class:"m-4"},Kre=["for"],$d=Oe({__name:"SwitchField",props:{id:{},name:{},label:{},modelValue:{type:Boolean},labelProps:{}},emits:["update:modelValue","update:error"],setup(t,{expose:e,emit:n}){const r=t,i=ee({get:()=>r.modelValue,set:l=>{a("update:modelValue",l)}}),s=ee(()=>r.name+(r.id?"."+r.id:"")),o=async l=>{},a=n;return e({test:o}),(l,u)=>(S(),V("div",Wre,[l.label?(S(),V("label",le({key:0,class:"block text-sm font-bold mb-2",for:s.value},l.labelProps),$e(l.label),17,Kre)):Y("",!0),K("div",{class:"p-input cursor-pointer flex align-middle",onClick:u[1]||(u[1]=St(c=>i.value=!i.value,["prevent"]))},[J(k(qL),{inputId:s.value,ref:"input",modelValue:i.value,"onUpdate:modelValue":u[0]||(u[0]=c=>i.value=c)},null,8,["inputId","modelValue"])])]))}}),zre=Oe({__name:"BlogPostSettingsDialogSection",props:{selected:{},selectedBlogPost:{}},emits:["update:selected","error"],setup(t,{expose:e,emit:n}){const r=t,i=n,{firebaseUser:s,publicUser:o}=en(sr()),a=or(),{allowedPublicUsers:l}=a,{publicUsers:u}=en(a),c=re(),d=re(),f=re(),h=re(),p=ee(()=>u.value.map(({id:_,displayName:b})=>({value:_,label:b}))),m=re([]),g=()=>({selected:{allowedUserIds:{value:r.selected.allowedUserIds,error:""},locked:{value:r.selected.locked,error:""},archived:{value:r.selected.archived,error:""},pinned:{value:!!r.selected.datePinned,error:""}}}),y=xn(g()),v=async()=>{y.selected.allowedUserIds.value.length&&!m.value.length&&(y.selected.allowedUserIds.error="Invalid user ID's"),await Promise.all([d.value.test(),f.value.test(),h.value.test()]),i("error",dh(y.selected))};return It(()=>y.selected.allowedUserIds.value,async _=>{m.value=await l(_)}),It(()=>r.selectedBlogPost,()=>{y.selected=g().selected}),It(()=>y.selected,()=>{var _,b;i("update:selected",{allowedUserIds:y.selected.allowedUserIds.value,locked:y.selected.locked.value,archived:y.selected.archived.value,datePinned:y.selected.pinned.value?(_=r.selected)!=null&&_.datePinned?((b=r.selected)==null?void 0:b.datePinned)??null:new Date:null})},{deep:!0}),e({test:v}),(_,b)=>(S(),V(Te,null,[J(xr,{ref_key:"allowedUsers",ref:c,name:"allowedUserIds",label:"Allowed users",placeholder:"This post is public","model-value":y.selected.allowedUserIds.value,error:y.selected.allowedUserIds.error,"onUpdate:error":b[0]||(b[0]=w=>y.selected.allowedUserIds.error=w),"onUpdate:arrayValue":b[1]||(b[1]=w=>y.selected.allowedUserIds.value=w),options:[{value:k(s).uid,label:k(o).displayName},...p.value.filter(({value:w})=>{var T;return w!==((T=k(s))==null?void 0:T.uid)})],multiple:""},null,8,["model-value","error","options"]),J($d,{ref_key:"pinned",ref:h,name:"pinned",label:"Pinned",modelValue:y.selected.pinned.value,"onUpdate:modelValue":b[2]||(b[2]=w=>y.selected.pinned.value=w)},null,8,["modelValue"]),J($d,{ref_key:"locked",ref:d,name:"locked",label:"Locked for commenting",modelValue:y.selected.locked.value,"onUpdate:modelValue":b[3]||(b[3]=w=>y.selected.locked.value=w)},null,8,["modelValue"]),J($d,{ref_key:"archived",ref:f,name:"archived",label:"Archived",modelValue:y.selected.archived.value,"onUpdate:modelValue":b[4]||(b[4]=w=>y.selected.archived.value=w)},null,8,["modelValue"])],64))}}),Gre=Oe({__name:"BlogPostStylingDialogSection",props:{selected:{},selectedBlogPost:{}},emits:["update:selected","error"],setup(t,{expose:e,emit:n}){const r=t,i=n,s=re(),o=re(),a=re(),l=re(),u=re(),c=re(),d=re(),f=ee(()=>cX(Hm.find(g=>g.value===p.selected.colorPrimary.value))),h=()=>({selected:{alignment:{value:r.selected.alignment,error:""},colorPrimary:{value:r.selected.colorPrimary,error:""},colorSecondary:{value:r.selected.colorSecondary,error:""},colorTertiary:{value:r.selected.colorTertiary,error:""},opacityPrimary:{value:r.selected.opacityPrimary,error:""},opacitySecondary:{value:r.selected.opacitySecondary,error:""},opacityTertiary:{value:r.selected.opacityTertiary,error:""}}}),p=xn(h()),m=async()=>{await Promise.all([s.value.test(),o.value.test(),a.value.test(),l.value.test(),u.value.test(),c.value.test(),d.value.test()]),i("error",dh(p.selected))};return It(()=>r.selectedBlogPost,()=>{p.selected=h().selected}),It(()=>p.selected,()=>{i("update:selected",{alignment:p.selected.alignment.value,colorPrimary:p.selected.colorPrimary.value,colorSecondary:p.selected.colorSecondary.value,colorTertiary:p.selected.colorTertiary.value,opacityPrimary:p.selected.opacityPrimary.value,opacitySecondary:p.selected.opacitySecondary.value,opacityTertiary:p.selected.opacityTertiary.value})},{deep:!0}),e({test:m}),(g,y)=>(S(),V(Te,null,[J(xr,{ref_key:"alignment",ref:s,name:"alignment",label:"Alignment",modelValue:p.selected.alignment.value,"onUpdate:modelValue":y[0]||(y[0]=v=>p.selected.alignment.value=v),error:p.selected.alignment.error,"onUpdate:error":y[1]||(y[1]=v=>p.selected.alignment.error=v),options:k(sL),rules:[k(xt).Required]},null,8,["modelValue","error","options","rules"]),J(xr,{ref_key:"colorPrimary",ref:o,name:"colorPrimary",label:"Primary Style",modelValue:p.selected.colorPrimary.value,"onUpdate:modelValue":y[2]||(y[2]=v=>p.selected.colorPrimary.value=v),error:p.selected.colorPrimary.error,"onUpdate:error":y[3]||(y[3]=v=>p.selected.colorPrimary.error=v),options:k(Hm),rules:[k(xt).Required]},null,8,["modelValue","error","options","rules"]),J(xr,{ref_key:"opacityPrimary",ref:u,name:"opacityPrimary",label:"Primary Opacity",modelValue:p.selected.opacityPrimary.value,"onUpdate:modelValue":y[4]||(y[4]=v=>p.selected.opacityPrimary.value=v),error:p.selected.opacityPrimary.error,"onUpdate:error":y[5]||(y[5]=v=>p.selected.opacityPrimary.error=v),options:k(Fy)},null,8,["modelValue","error","options"]),J(xr,{ref_key:"colorSecondary",ref:a,name:"colorSecondary",label:"Secondary Style",modelValue:p.selected.colorSecondary.value,"onUpdate:modelValue":y[6]||(y[6]=v=>p.selected.colorSecondary.value=v),error:p.selected.colorSecondary.error,"onUpdate:error":y[7]||(y[7]=v=>p.selected.colorSecondary.error=v),options:f.value},null,8,["modelValue","error","options"]),J(xr,{ref_key:"opacitySecondary",ref:c,name:"opacitySecondary",label:"Secondary Opacity",modelValue:p.selected.opacitySecondary.value,"onUpdate:modelValue":y[8]||(y[8]=v=>p.selected.opacitySecondary.value=v),error:p.selected.opacitySecondary.error,"onUpdate:error":y[9]||(y[9]=v=>p.selected.opacitySecondary.error=v),options:k(Fy)},null,8,["modelValue","error","options"]),J(xr,{ref_key:"colorTertiary",ref:l,name:"colorTertiary",label:"Tertiary Style",modelValue:p.selected.colorTertiary.value,"onUpdate:modelValue":y[10]||(y[10]=v=>p.selected.colorTertiary.value=v),error:p.selected.colorTertiary.error,"onUpdate:error":y[11]||(y[11]=v=>p.selected.colorTertiary.error=v),options:k(dX)},null,8,["modelValue","error","options"]),J(xr,{ref_key:"opacityTertiary",ref:d,name:"opacityTertiary",label:"Tertiary Opacity",modelValue:p.selected.opacityTertiary.value,"onUpdate:modelValue":y[12]||(y[12]=v=>p.selected.opacityTertiary.value=v),error:p.selected.opacityTertiary.error,"onUpdate:error":y[13]||(y[13]=v=>p.selected.opacityTertiary.error=v),options:k(Fy)},null,8,["modelValue","error","options"])],64))}}),Yre=Oe({__name:"BlogPostDialog",props:{isOpen:{type:Boolean},selected:{}},emits:["close","scroll-to-updated"],setup(t,{emit:e}){const n=t,{firebaseUser:r}=en(sr()),i=or(),{createBlogPost:s,updateBlogPost:o,deleteFilesOfBlogPost:a,toggleBlogPostVisibility:l}=i,{blogPosts:u}=en(i),c=re(),d=re(),f=re(),h=re(),p=()=>{var x,R,D,B,G,$,I,Z,te,me,ve,ne,j,z,oe,X,fe,be;return{id:Gm(),form:{content:{value:{title:((x=n.selected)==null?void 0:x.title)??"",description:((R=n.selected)==null?void 0:R.description)??"",descriptionFooter:((D=n.selected)==null?void 0:D.descriptionFooter)??"",coverImageUrl:((B=n.selected)==null?void 0:B.coverImageUrl)??"",timer:((G=n.selected)==null?void 0:G.timer)??null,countdown:(($=n.selected)==null?void 0:$.countdown)??null,sections:((I=n.selected)==null?void 0:I.sections)??[]},error:!1},styling:{value:{alignment:((Z=n.selected)==null?void 0:Z.alignment)??"center",colorPrimary:((te=n.selected)==null?void 0:te.colorPrimary)??"",colorSecondary:((me=n.selected)==null?void 0:me.colorSecondary)??"",colorTertiary:((ve=n.selected)==null?void 0:ve.colorTertiary)??"",opacityPrimary:((ne=n.selected)==null?void 0:ne.opacityPrimary)??"",opacitySecondary:((j=n.selected)==null?void 0:j.opacitySecondary)??"",opacityTertiary:((z=n.selected)==null?void 0:z.opacityTertiary)??""},error:!1},settings:{value:{locked:((oe=n.selected)==null?void 0:oe.locked)??!1,allowedUserIds:((X=n.selected)==null?void 0:X.allowedUserIds)??[],archived:((fe=n.selected)==null?void 0:fe.archived)??!1,datePinned:((be=n.selected)==null?void 0:be.datePinned)??null},error:!1}}}},m=xn(p()),g=()=>{var x,R;return{id:m.id,date:((x=n.selected)==null?void 0:x.date)||new Date,dateUpdated:((R=n.selected)==null?void 0:R.dateUpdated)||new Date,...m.form.content.value,...m.form.styling.value,...m.form.settings.value,reactions:[]}},y=re(g()),v=ee(()=>Yn.Content.convert(y.value)),_=ee(()=>!!n.selected&&!rs(Yn.Content.convert(Yn.convert(n.selected)),v.value)),b=ee(()=>Yn.Styling.convert(y.value)),w=ee(()=>!!n.selected&&!rs(Yn.Styling.convert(Yn.convert(n.selected)),b.value)),T=ee(()=>Yn.Settings.convert(y.value)),P=ee(()=>!!n.selected&&!rs(Yn.Settings.convert(Yn.convert(n.selected)),T.value)),A=ee(()=>{var x,R,D,B,G,$;return!!((R=(x=n.selected)==null?void 0:x.allowedUserIds)!=null&&R.length)&&!((D=T.value.allowedUserIds)!=null&&D.length)||!((G=(B=n.selected)==null?void 0:B.allowedUserIds)!=null&&G.length)&&!!(($=T.value.allowedUserIds)!=null&&$.length)}),O=ee(()=>{const x=[];return _.value&&x.push("Content"),w.value&&x.push("Styling"),P.value&&x.push("Settings"),x.length?"Update "+jb(x):void 0}),E=ee(()=>Co(n.selected)),M=async()=>{var x,R,D,B,G;if(await Promise.all([d.value.test(),f.value.test(),h.value.test()]),!dh(m.form))if(!n.selected)await s(m.id,y.value,(x=r.value)==null?void 0:x.uid)&&(N("close"),N("scroll-to-updated",m.id));else if(A.value){const $=n.selected.id;N("close"),await l($,Yn.convert(y.value),n.selected.reactions,y.value.allowedUserIds.length?"private":"public",(R=r.value)==null?void 0:R.uid)&&(qe.success("Successfully updated Post Visibility"),N("scroll-to-updated",$))}else{const $=n.selected.id;let I=[];_.value&&I.push(await o($,v.value,E.value,(D=r.value)==null?void 0:D.uid)),w.value&&I.push(await o($,b.value,E.value,(B=r.value)==null?void 0:B.uid)),P.value&&(I.push(await o($,T.value,E.value,(G=r.value)==null?void 0:G.uid)),N("scroll-to-updated",$)),I=I.filter(Z=>typeof Z=="string"),I.length&&(qe.success(`Successfully updated Post ${jb(I)}`),N("close"))}},F=async()=>{a(y.value,n.selected??void 0),Object.assign(m,p()),N("close")};It(()=>n.selected,()=>{const x=p();m.id=x.id,m.form.content=x.form.content,m.form.styling=x.form.styling,m.form.settings=x.form.settings}),It(m,()=>{y.value=g()},{deep:!0});const N=e;return(x,R)=>(S(),ie(IT,{isOpen:x.isOpen,title:x.selected?"Update Post":"Create Post",description:x.selected?"Update this post":"Create a new post","confirm-text":x.selected?O.value:"Create","confirm-loading":k(u).mutationLoading,onConfirm:M,onCancel:F},{default:ce(()=>[K("form",{ref_key:"dialog",ref:c,class:"pt-6 mb-4 xl:px-36"},[x.isOpen?(S(),ie(k(_h),{key:0,"active-index":0},{default:ce(()=>[J(k(Yo),{header:"Content"},{default:ce(()=>[J(Lre,{ref_key:"content",ref:d,selected:m.form.content.value,"onUpdate:selected":R[0]||(R[0]=D=>m.form.content.value=D),"selected-blog-post":x.selected??void 0,"is-open":x.isOpen,onError:R[1]||(R[1]=D=>m.form.content.error=D)},null,8,["selected","selected-blog-post","is-open"])]),_:1}),J(k(Yo),{header:"Styling"},{default:ce(()=>[J(Gre,{ref_key:"styling",ref:f,selected:m.form.styling.value,"onUpdate:selected":R[2]||(R[2]=D=>m.form.styling.value=D),"selected-blog-post":x.selected??void 0,onError:R[3]||(R[3]=D=>m.form.styling.error=D)},null,8,["selected","selected-blog-post"])]),_:1}),J(k(Yo),{header:"Settings"},{default:ce(()=>[J(zre,{ref_key:"settings",ref:h,selected:m.form.settings.value,"onUpdate:selected":R[4]||(R[4]=D=>m.form.settings.value=D),"selected-blog-post":x.selected??void 0,onError:R[5]||(R[5]=D=>m.form.settings.error=D)},null,8,["selected","selected-blog-post"])]),_:1})]),_:1})):Y("",!0)],512)]),_:1},8,["isOpen","title","description","confirm-text","confirm-loading"]))}}),qre={key:0,class:"grid grid-cols-6 mb-5 gap-5"},Xre={key:1,class:"grid grid-cols-6 lg:hidden mb-5"},Qre={class:"grid gap-4 md:gap-10 xl:gap-20"},Jre={key:2,class:"flex justify-center mt-5"},Zre=Oe({__name:"BlogPosts",setup(t){const e=or(),{deleteBlogPost:n,fetchBlogPosts:r}=e,{blogPosts:i,visibleBlogPosts:s}=en(e),{isOwner:o,firebaseUser:a}=en(sr()),l=re(),u=re(),c=re(!1),d=re(!1),f=re(null),h=re(),p=()=>{f.value=null,c.value=!0},m=w=>{f.value=w,c.value=!0},g=w=>{f.value=w,d.value=!0},y=async w=>{await n(w)&&(d.value=!1,f.value=null)},v=()=>{c.value=!1,f.value=null},_=async w=>{var T;i.value.visibility!==w&&(i.value.visibility=w,i.value.isLastPage=!1,s.value.length||await r((T=a.value)==null?void 0:T.uid),Pp(l.value))},b=async()=>{var T;const w=s.value.length;await r((T=a.value)==null?void 0:T.uid),s.value[w]&&Pp(u.value[w])};return It(()=>{var w;return(w=u.value)==null?void 0:w.length},()=>{var w;if((w=u.value)!=null&&w.length&&h.value){const T=s.value.find(P=>P.id===h.value);if(T){const P=s.value.indexOf(T);Pp(u.value[P]),h.value=void 0}}}),(w,T)=>(S(),V(Te,null,[K("div",{ref_key:"container",ref:l},[k(a)?(S(),V("div",qre,[J(Ft,{class:"hidden lg:block col-span-2 xl:col-span-1",type:"orange",outlined:k(i).visibility!=="public",loading:k(i).fetchLoading,onClick:T[0]||(T[0]=P=>_("public"))},{default:ce(()=>[Je(" Public Posts ")]),_:1},8,["outlined","loading"]),k(o)?(S(),ie(Ft,{key:0,class:"col-span-full md:col-start-2 md:col-span-4 lg:col-start-3 lg:col-span-2",onClick:p},{default:ce(()=>[Je(" New Post ")]),_:1})):Y("",!0),J(Ft,{type:"orange",class:"hidden lg:block col-start-5 col-span-2 xl:col-start-6 xl:col-span-1",outlined:k(i).visibility!=="private",loading:k(i).fetchLoading,onClick:T[1]||(T[1]=P=>_("private"))},{default:ce(()=>[Je(" Private Posts ")]),_:1},8,["outlined","loading"])])):Y("",!0),k(a)?(S(),V("div",Xre,[J(Ft,{class:"col-span-3 md:col-start-2 md:col-span-2 rounded-r-none",type:"orange",outlined:k(i).visibility!=="public",loading:k(i).fetchLoading,onClick:T[2]||(T[2]=P=>_("public"))},{default:ce(()=>[Je(" Public Posts ")]),_:1},8,["outlined","loading"]),J(Ft,{type:"orange",class:"col-span-3 md:col-start-4 md:col-span-2 rounded-l-none",outlined:k(i).visibility!=="private",loading:k(i).fetchLoading,onClick:T[3]||(T[3]=P=>_("private"))},{default:ce(()=>[Je(" Private Posts ")]),_:1},8,["outlined","loading"])])):Y("",!0),K("div",Qre,[k(s).length?(S(!0),V(Te,{key:0},st(k(s),P=>(S(),V("div",{key:P.id,ref_for:!0,ref_key:"posts",ref:u},[J(NL,{post:P,onEditClicked:A=>m(P),onDeleteClicked:A=>g(P)},null,8,["post","onEditClicked","onDeleteClicked"])]))),128)):k(i).fetchLoading?Y("",!0):(S(),ie(Zr,{key:1,class:"!bg-red-900 !bg-opacity-40",title:"No posts"}))]),k(i).isLastPage?Y("",!0):(S(),V("div",Jre,[J(Ft,{class:"w-full md:w-1/2 xl:w-1/4",outlined:"",loading:k(i).fetchLoading,onClick:b},{default:ce(()=>[Je(" Load more posts ")]),_:1},8,["loading"])]))],512),J(Yre,{isOpen:c.value,selected:f.value,onClose:v,onScrollToUpdated:T[4]||(T[4]=P=>h.value=P)},null,8,["isOpen","selected"]),f.value?(S(),ie(IT,{key:0,title:"Delete Post",isOpen:d.value,description:[` Are you sure you want to delete this post called ' ${f.value.title}'?`,"This cannot be undone."],"confirm-text":"Confirm","confirm-props":{type:"danger",outlined:!0},onConfirm:T[5]||(T[5]=P=>y(f.value.id)),onCancel:T[6]||(T[6]=P=>d.value=!1)},null,8,["isOpen","description"])):Y("",!0)],64))}}),eie={class:"bg-black text-white shadow-md py-4"},tie={class:"container mx-auto text-center"},nie=Oe({__name:"Footer",setup(t){const{content:e}=en(or());return(n,r)=>(S(),V("footer",eie,[K("div",tie,[K("p",null,"© "+$e(new Date().getFullYear()+" "+k(e).footerCopyright),1)])]))}}),rie=Oe({__name:"DropDown",props:{isOpen:{type:Boolean},toggle:{type:Function}},setup(t){const e=sr(),{currentUser:n}=en(e),{visibleMenuItems:r}=en(or());return(i,s)=>(S(),V(Te,null,[ns(K("div",{class:"md:hidden w-screen h-screen z-10 bg-gray-900 opacity-25 fixed top-1/2 start-1/2 transform -translate-x-1/2 -translate-y-1/2 animation",onClick:s[0]||(s[0]=(...o)=>i.toggle&&i.toggle(...o))},null,512),[[Js,i.isOpen]]),ns(K("div",{class:"md:hidden absolute z-20 w-3/4 start-1/2 transform -translate-x-1/2 mt-12 sm:mt-2 p-4 py-8 bg-gray-900 border border-indigo-600 rounded-xl",onClick:s[1]||(s[1]=(...o)=>i.toggle&&i.toggle(...o))},[(S(!0),V(Te,null,st(k(r),o=>(S(),ie(Ft,{class:"w-full text-lg rounded-none first:rounded-t-xl",outlined:"",list:"",url:o.url,loading:o.loading},{default:ce(()=>[Je($e(o.name),1)]),_:2},1032,["url","loading"]))),256)),k(n)?(S(),ie(Ft,{key:0,class:"w-full text-lg rounded-none first:rounded-t-xl",outlined:"",list:"",url:"dashboard"},{default:ce(()=>[Je(" Dashboard ")]),_:1})):Y("",!0),k(n)?(S(),ie(Ft,{key:1,class:"w-full text-lg rounded-none rounded-b-xl first:rounded-b-xl",outlined:"",list:"",type:"danger",onClick:k(e).logout},{default:ce(()=>[Je(" Logout ")]),_:1},8,["onClick"])):(S(),ie(Ft,{key:2,class:"w-full text-lg rounded-none rounded-b-xl first:rounded-b-xl",outlined:"",list:"",type:"secondary",url:"login"},{default:ce(()=>[Je(" Login ")]),_:1}))],512),[[Js,i.isOpen]])],64))}}),iie={key:0,class:ke(["flex items-center justify-between flex-wrap gap-3","sm:flex-col","lg:flex-row"])},sie={class:"group fixed w-full px-10 sm:px-0 sm:relative md:hidden"},oie={class:"flex justify-between sm:justify-center"},aie=K("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 5.25h16.5m-16.5 4.5h16.5m-16.5 4.5h16.5m-16.5 4.5h16.5"},null,-1),lie=[aie],uie=Oe({__name:"Menu",setup(t){const e=sr(),{currentUser:n,logoutLoading:r}=en(e),{visibleMenuItems:i}=en(or()),s=re(),o=re(!1),a=()=>{o.value=!o.value,o.value&&Wn(()=>{var l;(l=s.value)==null||l.scrollIntoView({behavior:"smooth",block:"center"})})};return(l,u)=>k(i).length?(S(),V("div",iie,[(S(!0),V(Te,null,st(k(i),c=>(S(),ie(Ft,{class:"hidden sm:flex sm:w-full lg:w-auto grow justify-center","active-class":"button-primary",outlined:"",url:c.url,loading:c.loading},{default:ce(()=>[Je($e(c.name),1)]),_:2},1032,["url","loading"]))),256)),k(n)?Y("",!0):(S(),ie(Ft,{key:0,class:"hidden sm:flex sm:w-full lg:w-auto grow justify-center","active-class":"button-primary",type:"secondary",outlined:"",url:"login"},{default:ce(()=>[Je(" Login ")]),_:1})),k(n)?(S(),ie(Ft,{key:1,class:"hidden sm:flex sm:w-full lg:w-auto grow justify-center",type:"danger",outlined:"",loading:k(r),onClick:k(e).logout},{default:ce(()=>[Je(" Logout ")]),_:1},8,["loading","onClick"])):Y("",!0),K("div",{ref_key:"dropdown",ref:s,class:"dropdown absolute sm:hidden w-full left-0 top-5 flex justify-end"},[K("div",sie,[K("div",{class:ke(["flex animation",o.value?"justify-center":"justify-end"])},[J(Ft,{class:ke(["sm:w-full bg-black bg-opacity-50 sm:bg-transparent",o.value?"w-full":"w-fit hover:w-full"]),outlined:"",onClick:a},{default:ce(()=>[K("div",oie,[J(vw,{rotate:o.value,class:ke(["group-hover:block",o.value?"block":"hidden"])},null,8,["rotate","class"]),K("p",{class:ke(["sm:block group-hover:block",o.value?"block":"hidden"])},"Menu",2),(S(),V("svg",{class:ke(["h-6 sm:hidden group-hover:hidden",o.value?"hidden":null]),xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},lie,2))])]),_:1},8,["class"])],2)]),J(rie,{"is-open":o.value,toggle:()=>o.value=!o.value},null,8,["is-open","toggle"])],512)])):Y("",!0)}}),cie={class:ke(["w-fit md:w-1/3","mb-8 py-8 bg-transparent text-indigo-300","sm:mt-8 sm:mb-0 sm:p-4 sm:bg-black sm:bg-opacity-50 sm:rounded-3xl sm:rounded-e-none","lg:px-8 lg:mt-0 lg:rounded-br-3xl lg:rounded-t-none"])},die={key:0,class:"hidden sm:flex justify-center mb-4"},fie={class:"hidden md:block w-4/5 space-y-2"},hie={class:"hidden font-semibold text-base md:first:block lg:block first:font-bold first:text-lg"},pie={class:"flex items-center justify-center w-full md:w-3/5 lg:w-1/5"},mie={key:1},gie={class:"hidden lg:grid col-span-5 space-y-2 mb-5"},vie={class:"font-semibold text-base first:font-bold first:text-lg"},yie=Oe({__name:"HeaderMain",setup(t){const{currentUser:e}=en(sr()),{content:n}=en(or());return(r,i)=>{const s=Bn("RouterLink");return S(),V("div",cie,[k(e)?(S(),V("div",die,[K("div",fie,[(S(!0),V(Te,null,st(k(n).headerDescriptionUser,o=>(S(),V("p",hie,$e(o.replace("%USER%",k(e).firstName+(k(e).lastName?" "+k(e).lastName:""))),1))),256))]),K("div",pie,[J(s,{to:{name:"dashboard"}},{default:ce(()=>[J(k(gX),{class:"w-16 h-16 rounded-full border-2 text-indigo-600 border-indigo-600 animation-scale"})]),_:1})])])):(S(),V("div",mie,[K("div",gie,[(S(!0),V(Te,null,st(k(n).headerDescriptionGuest,o=>(S(),V("p",vie,$e(o),1))),256))])])),J(uie)])}}}),bie={class:"flex justify-between"},wie={class:"hidden sm:block w-full sm:min-w-fit"},_ie=["src","alt"],Tie={class:"w-fit sm:max-w-1/2"},Sie={class:"title-primary"},Eie={class:"title-secondary"},Iie={class:"title-tertiary absolute sm:relative mt-1 sm:mt-0 flex flex-col xl:flex-row xl:flex-wrap"},Cie={class:"mt-2 flex items-center whitespace-nowrap me-6"},Oie={class:"mt-2 flex items-center whitespace-nowrap"},Aie={class:"sm:hidden min-w-fit mt-3"},kie=["src","alt"],rA=Oe({__name:"HeaderTop",setup(t){const{profile:e,content:n}=en(or());return(r,i)=>{const s=Bn("RouterLink");return S(),V("div",bie,[K("div",wie,[J(s,{to:{name:"home"}},{default:ce(()=>[K("img",{class:"h-32 w-32 md:h-48 md:w-48 rounded-full animation-scale mb-4 cursor-pointer",src:k(n).avatarUrl,alt:k(e).name},null,8,_ie)]),_:1})]),K("div",Tie,[K("h1",Sie,$e(k(e).name),1),K("h2",Eie,$e(k(e).service),1),K("div",Iie,[K("div",Cie,[J(k(hX),{class:"mr-1.5 h-5 w-5 text-gray-400"}),Je(" "+$e(k(e).role),1)]),K("div",Oie,[J(k(mX),{class:"mr-1.5 h-5 w-5 text-gray-400"}),Je(" "+$e(k(e).location.city)+", "+$e(k(e).location.country),1)])])]),K("div",Aie,[J(s,{to:{name:"home"}},{default:ce(()=>[K("img",{class:"h-32 w-32 md:h-48 md:w-48 rounded-full animation-scale mb-4 cursor-pointer",src:k(n).avatarUrl,alt:k(e).name},null,8,kie)]),_:1})])])}}}),Pie={class:"sm:flex sm:items-start sm:justify-between mb-20"},xie={class:"w-full sm:w-1/3 lg:flex lg:justify-end"},Die=Oe({__name:"Header",setup(t){return(e,n)=>(S(),V("div",Pie,[J(rA,{class:"hidden sm:block"}),K("div",xie,[J(yie,{class:ke(["sm:fixed sm:right-0 sm:mt-0 sm:top-5","md:absolute","lg:top-0 lg:right-auto"])})]),J(rA,{class:"sm:hidden"})]))}}),Rie={class:"min-h-screen bg-gradient-to-t from-black to-blue-900 via-gray-800"},Nie={class:"mx-0 sm:mx-16 px-5 pb-5 sm:p-14 rounded-b-3xl text-white bg-blue-gray-900 bg-opacity-50 bg-gradient-to-b from-transparent to-black via-purple-900 border-opacity-100"},pa=Oe({__name:"Page",props:{scrollToContent:{type:Boolean,required:!1,default:!0}},setup(t){const e=t,n=m1(),r=re(),i=()=>{e.scrollToContent&&Pp(r.value)};return It(()=>n.fullPath,()=>{i()}),Gt(()=>{i()}),(s,o)=>(S(),V(Te,null,[K("div",Rie,[K("div",Nie,[K("header",null,[s.$slots.header?ge(s.$slots,"header",{key:0}):(S(),ie(Die,{key:1}))]),K("main",null,[K("div",{ref_key:"content",ref:r},[ge(s.$slots,"content")],512)])])]),K("footer",null,[s.$slots.footer?ge(s.$slots,"footer",{key:0}):(S(),ie(nie,{key:1}))])],64))}}),Mie={class:"grid mt-10 md:mt-15"},Lie={class:"grid justify-center"},$ie={class:"text-lg md:text-xl text-white"},Fie=["innerHTML"],Uie={class:"grid my-5 xl:mx-20"},Vie=Oe({__name:"Blog",setup(t){const{publicUser:e}=en(sr()),{menuItems:n,content:r}=en(or()),i=ee(()=>window.location.hash),s=m1();return(o,a)=>(S(),ie(pa,{"scroll-to-content":!i.value},{content:ce(()=>{var l;return[K("div",Mie,[K("div",Lie,[(S(!0),V(Te,null,st(k(e)?[...k(r).blogDescriptionUser.map(u=>u.replace("%USER%",k(e).displayName||"Unknown user")),...((l=k(n).find(u=>u.id==="nfNQM4SMESU2VOkJtcgY"))==null?void 0:l.description)||[]]:k(r).blogDescriptionGuest,u=>(S(),V("h1",$ie,[K("span",{innerHTML:u},null,8,Fie)]))),256))]),K("div",Uie,[k(s).params.postId?(S(),ie(vne,{key:0})):(S(),ie(Zre,{key:1}))])])]}),_:1},8,["scroll-to-content"]))}}),Bie=Oe({__name:"Blog",setup(t){return(e,n)=>(S(),ie(Vie))}}),jie={class:"flex flex-col items-center content-center"},Hie=Oe({__name:"CatCalc",setup(t){const e=xn({calculator:{value:"average",error:""},catWeigth:{value:"",error:""},catAge:{value:"",error:""},catGender:{value:"male",error:""},catSize:{value:"",error:""},catFoodDry:{value:"",error:""},catFoodWet:{value:"",error:""},catFoodSnax:{value:"",error:""},catFoodSnaxPercentage:{value:"5",error:""}}),n=[{value:"average",label:"Average"},{value:"nvwa",label:"Nederlandse Voedsel- en Warenautoriteit"},{value:"royalcanin",label:"Royal Canin"},{value:"petsplace",label:"Pets Place"},{value:"rawz",label:"RAWZ"},{value:"petcube",label:"Petcube"}],r=[{value:"default",label:"Adult healthy",rerIndex:1.4},{value:"lazy",label:"Adult lazy",rerIndex:1},{value:"castrated",label:"Adult castrated",rerIndex:1.2},{value:"underweight",label:"Adult underfed",rerIndex:1.8},{value:"overweight",label:"Adult overfed",rerIndex:.8},{value:"kitten0.4",label:"Kitten 0-4 months",rerIndex:2.5},{value:"kitten1",label:"Kitten 4-12 months",rerIndex:2}],i=[{value:"male",label:"Male"},{value:"female",label:"Female"}],s=ee(()=>[{value:"35",label:"Small (<25cm)",factor:e.catGender.value==="male"?.9:.75},{value:"40",label:"Average (25-30cm)",factor:e.catGender.value==="male"?1:.9},{value:"45",label:"Big (30-35cm)",factor:e.catGender.value==="male"?1.125:1},{value:"65",label:"Pretty damn big (35-40cm)",factor:e.catGender.value==="male"?1.6:1.4},{value:"90",label:"Massive (>40cm)",factor:e.catGender.value==="male"?2.25:2}]),o={nvwa:[{weight:0,calories:0},{weight:1,calories:200},{weight:2,calories:200},{weight:3,calories:240},{weight:4,calories:280},{weight:5,calories:320},{weight:6,calories:360},{weight:7,calories:400},{weight:8,calories:440},{weight:9,calories:480},{weight:10,calories:520}],royalcanin:[{weight:0,calories:0},{weight:1,calories:225},{weight:2,calories:225},{weight:3,calories:275},{weight:4,calories:325},{weight:5,calories:375},{weight:6,calories:425},{weight:7,calories:475},{weight:8,calories:525},{weight:9,calories:575},{weight:10,calories:625}],petsplace:[{weight:0,calories:0},{weight:.5,calories:39},{weight:.9,calories:65},{weight:1.4,calories:88},{weight:1.8,calories:110},{weight:2.3,calories:130},{weight:2.7,calories:149},{weight:3.2,calories:167},{weight:3.6,calories:184},{weight:4.1,calories:200},{weight:4.5,calories:218},{weight:5,calories:234},{weight:5.5,calories:250},{weight:5.9,calories:265},{weight:6.4,calories:280},{weight:6.8,calories:295},{weight:7.3,calories:310},{weight:7.7,calories:324},{weight:8.2,calories:339},{weight:8.6,calories:353},{weight:9.1,calories:366},{weight:11.4,calories:433}],rawz:[{weight:0,calories:0},{weight:1,calories:183},{weight:2.268,calories:183},{weight:3.402,calories:245},{weight:4.536,calories:303},{weight:5.67,calories:362},{weight:6.804,calories:413},{weight:7.938,calories:462},{weight:9.072,calories:513}],petcube:[{weight:.45,calories:40},{weight:.9,calories:65},{weight:2.3,calories:140},{weight:3.15,calories:166},{weight:4.5,calories:250},{weight:6.8,calories:325},{weight:9.1,calories:400},{weight:11.25,calories:450}],average:[]},a=(w,T)=>{const A=o[w].sort((N,x)=>N.weight-x.weight);let O=A[A.length-2].weight,E=A[A.length-2].calories,M=A[A.length-1].weight,F=A[A.length-1].calories;for(let N=0;N<A.length-1;N++)if(T>=A[N].weight&&T<=A[N+1].weight){O=A[N].weight,E=A[N].calories,M=A[N+1].weight,F=A[N+1].calories;break}return{x1:O,y1:E,x2:M,y2:F}},l=(w,T)=>{const{x1:P,y1:A,x2:O,y2:E}=a(w,T);return A+(T-P)*(E-A)/(O-P)},u=()=>{const w=new Map;for(const A of Object.values(o).filter(O=>O!==o.average))for(const{weight:O,calories:E}of A)w.has(O)||w.set(O,{sum:0,count:0}),w.get(O).sum+=E,w.get(O).count++;return[0,1,2,3,4,5,6,7,8,9,10].filter(A=>w.has(A)).map(A=>({weight:A,calories:w.get(A).sum/w.get(A).count}))};o.average=u();const c=[{value:"default",label:"Average (340kcal)",calories:340},{value:"yarrah",label:"Yarrah Chicken (362kcal)",calories:361.5}],d=[{value:"",label:"None",calories:0},{value:"default",label:"Average (85kcal)",calories:85}],f=[{value:"",label:"None",calories:0},{value:"default",label:"Average (2kcal)",calories:2},{value:"yarrah",label:"Yarrah Mini Snack (2kcal)",calories:2},{value:"catstick",label:"Vitakraft Cat Stick (12kcal)",calories:12},{value:"milk_average",label:"Milk Average (40kcal/50ml)",calories:40},{value:"dried_fish",label:"Dried Fish",calories:8}],h=ee(()=>l(e.calculator.value,Number(e.catWeigth.value))),p=ee(()=>{var w;return h.value*(((w=r.find(T=>T.value===e.catAge.value))==null?void 0:w.rerIndex)??1)}),m=ee(()=>{var w;return p.value*(((w=s.value.find(T=>T.value===e.catSize.value))==null?void 0:w.factor)??1)}),g=ee(()=>{const w=f.find(T=>T.value===e.catFoodSnax.value);return w!=null&&w.calories?m.value*(Number(e.catFoodSnaxPercentage.value)/100)/w.calories:void 0}),y=ee(()=>m.value*(1-Number(g.value?e.catFoodSnaxPercentage.value:0)/100)),v=ee(()=>{const w=d.find(T=>T.value===e.catFoodWet.value);return w!=null&&w.calories?y.value/4/w.calories*100:void 0}),_=ee(()=>y.value/4*(v.value?3:4)),b=ee(()=>{var w;return _.value/(((w=c.find(T=>T.value===e.catFoodDry.value))==null?void 0:w.calories)??c[0].calories)*100});return(w,T)=>(S(),ie(pa,null,{content:ce(()=>[J(Zr,{class:"!bg-cyan-800 !bg-opacity-50 my-5",title:"Cat Calculator",description:"Do a Cat Calculation!"},{default:ce(()=>{var P;return[K("div",jie,[J(xr,{class:"w-3/4 md:w-1/2",name:"calculator",label:"Calculation based on",modelValue:e.calculator.value,"onUpdate:modelValue":T[0]||(T[0]=A=>e.calculator.value=A),error:e.calculator.error,"onUpdate:error":T[1]||(T[1]=A=>e.calculator.error=A),options:n,rules:[k(xt).Required]},null,8,["modelValue","error","rules"]),J(hr,{class:"w-3/4 md:w-1/2",name:"catWeigth",label:"Cat Weight (kg)",modelValue:e.catWeigth.value,"onUpdate:modelValue":T[2]||(T[2]=A=>e.catWeigth.value=A),error:e.catWeigth.error,"onUpdate:error":T[3]||(T[3]=A=>e.catWeigth.error=A),rules:[k(xt).Required,k(xt).Numeric],"min-value":1,"max-value":10,"input-props":{type:"number"}},null,8,["modelValue","error","rules"]),J(xr,{class:"w-3/4 md:w-1/2",name:"catAge",label:"Cat Age",modelValue:e.catAge.value,"onUpdate:modelValue":T[4]||(T[4]=A=>e.catAge.value=A),error:e.catAge.error,"onUpdate:error":T[5]||(T[5]=A=>e.catAge.error=A),options:r,rules:[k(xt).Required]},null,8,["modelValue","error","rules"]),J(xr,{class:"w-3/4 md:w-1/2",name:"catGender",label:"Cat Gender",modelValue:e.catGender.value,"onUpdate:modelValue":T[6]||(T[6]=A=>e.catGender.value=A),error:e.catGender.error,"onUpdate:error":T[7]||(T[7]=A=>e.catGender.error=A),options:i,rules:[k(xt).Required]},null,8,["modelValue","error","rules"]),J(xr,{class:"w-3/4 md:w-1/2",name:"catSize",label:"Cat Shoulder Height",modelValue:e.catSize.value,"onUpdate:modelValue":T[8]||(T[8]=A=>e.catSize.value=A),error:e.catSize.error,"onUpdate:error":T[9]||(T[9]=A=>e.catSize.error=A),options:s.value,rules:[k(xt).Required]},null,8,["modelValue","error","options","rules"]),J(Zr,{class:"w-full md:w-1/2 my-5 border border-gray-400",description:"Required energy per day: "+m.value.toFixed(1)+" kcal"},null,8,["description"]),J(xr,{class:"w-3/4 md:w-1/2",name:"catFoodDry",label:"Dry Food",modelValue:e.catFoodDry.value,"onUpdate:modelValue":T[10]||(T[10]=A=>e.catFoodDry.value=A),error:e.catFoodDry.error,"onUpdate:error":T[11]||(T[11]=A=>e.catFoodDry.error=A),options:c,rules:[k(xt).Required]},null,8,["modelValue","error","rules"]),J(xr,{class:"w-3/4 md:w-1/2",name:"catFoodWet",label:"Wet Food (25%)",modelValue:e.catFoodWet.value,"onUpdate:modelValue":T[12]||(T[12]=A=>e.catFoodWet.value=A),error:e.catFoodWet.error,"onUpdate:error":T[13]||(T[13]=A=>e.catFoodWet.error=A),options:d,rules:[k(xt).Required]},null,8,["modelValue","error","rules"]),J(xr,{class:"w-3/4 md:w-1/2",name:"catFoodSnax",label:"Snacks",modelValue:e.catFoodSnax.value,"onUpdate:modelValue":T[14]||(T[14]=A=>e.catFoodSnax.value=A),error:e.catFoodSnax.error,"onUpdate:error":T[15]||(T[15]=A=>e.catFoodSnax.error=A),options:f,rules:[k(xt).Required]},null,8,["modelValue","error","rules"]),e.catFoodSnax.value?(S(),ie(hr,{key:0,class:"w-3/4 md:w-1/2",name:"catFoodSnaxPercentage",label:"Snacks Percentage",modelValue:e.catFoodSnaxPercentage.value,"onUpdate:modelValue":T[16]||(T[16]=A=>e.catFoodSnaxPercentage.value=A),error:e.catFoodSnaxPercentage.error,"onUpdate:error":T[17]||(T[17]=A=>e.catFoodSnaxPercentage.error=A),rules:[k(xt).Required,k(xt).Numeric],"min-value":1,"max-value":10,"input-props":{type:"number"}},null,8,["modelValue","error","rules"])):Y("",!0),J(Zr,{class:"w-full md:w-1/2 my-5 border border-gray-400",title:"Result","sub-title":"Based on constants from "+((P=n.find(A=>A.value===e.calculator.value))==null?void 0:P.label),description:["Required dry food per day: "+b.value.toFixed(1)+" g","","","Required dry food per meal: "+(b.value/(v.value?2:3)).toFixed(1)+" g",...v.value?["Required wet food per day: "+v.value.toFixed(1)+" g"]:[],...g.value?["Allowed snacks per day: "+g.value.toFixed(g.value<1?1:0)+" snacks"]:[],"","","","^ Mogu approved!"]},null,8,["sub-title","description"])])]}),_:1})]),_:1}))}}),Wie=Oe({__name:"CatCalc",setup(t){return(e,n)=>(S(),ie(Hie))}}),Kie={class:"min-w-0 flex-1"},zie=K("img",{class:"w-48 h-48 rounded-full animation-scale mb-4 cursor-pointer",src:"https://www.spigotmc.org/data/resource_icons/28/28103.jpg?1472586104",alt:"customvoting"},null,-1),Gie=Oe({__name:"CustomVoting",setup(t){return(e,n)=>{const r=Bn("RouterLink");return S(),ie(pa,null,{header:ce(()=>[K("div",Kie,[J(r,{to:{name:"home"}},{default:ce(()=>[zie]),_:1})])]),content:ce(()=>[J(Zr,{class:"!bg-yellow-700 !bg-opacity-50 my-5",title:"CustomVoting",description:"In Progress"})]),_:1})}}}),Yie=Oe({__name:"CustomVoting",setup(t){return(e,n)=>(S(),ie(Gie))}}),qie={class:"flex flex-col lg:justify-center lg:items-center py-10 text-md text-primary"},Xie={class:"m-1 lg:w-4/5"},xT=Oe({__name:"Privacy",setup(t){const{content:e}=en(or());return(n,r)=>(S(),V("div",qie,[(S(!0),V(Te,null,st(k(e).privacyStatement,i=>(S(),V("p",Xie,$e(i),1))),256))]))}}),DT=Oe({__name:"EmailField",props:{id:{},name:{},label:{},rules:{},modelValue:{},error:{}},emits:["update:modelValue","update:error"],setup(t,{expose:e,emit:n}){const r=t,i=re(),s=ee({get:()=>r.modelValue,set:l=>{a("update:modelValue",l)}}),o=ee({get:()=>r.error,set:l=>{a("update:error",l??"")}}),a=n;return e({test:async()=>await i.value.test()}),(l,u)=>(S(),ie(hr,{ref_key:"email",ref:i,id:l.id,name:l.name,label:l.label,placeholder:"someone@example.com","input-props":{type:"email",autocomplete:"on"},modelValue:s.value,"onUpdate:modelValue":u[0]||(u[0]=c=>s.value=c),error:o.value,"onUpdate:error":u[1]||(u[1]=c=>o.value=c),rules:[...l.rules,k(xt).Email]},null,8,["id","name","label","modelValue","error","rules"]))}}),pu=Oe({__name:"PasswordField",props:{id:{},name:{},label:{},placeholder:{},rules:{},modelValue:{},error:{},min:{},max:{},compare:{}},emits:["update:modelValue","update:error"],setup(t,{expose:e,emit:n}){const r=t,i=re(),s=ee({get:()=>r.modelValue,set:l=>{a("update:modelValue",l)}}),o=ee({get:()=>r.error,set:l=>{a("update:error",l??"")}}),a=n;return e({test:async()=>i.value.test()}),(l,u)=>(S(),ie(hr,{ref_key:"password",ref:i,id:l.id,name:l.name,label:l.label,placeholder:"******","input-props":{type:"password",autocomplete:"on"},modelValue:s.value,"onUpdate:modelValue":u[0]||(u[0]=c=>s.value=c),error:o.value,"onUpdate:error":u[1]||(u[1]=c=>o.value=c),rules:l.rules,"min-length":l.min,"max-length":l.max,compare:l.compare},null,8,["id","name","label","modelValue","error","rules","min-length","max-length","compare"]))}}),Qie={class:"flex flex-wrap pt-6 pb-8 mb-4"},Jie={class:"basis-full lg:basis-1/2"},Zie={class:"flex gap-3 mt-10 flex-wrap"},ese={class:"basis-full lg:basis-1/2"},tse={class:"flex flex-col items-center content-center"},nse=Oe({__name:"Dashboard",setup(t){const e=sr(),{currentUser:n,firebaseUser:r,publicUser:i,isOwner:s,mutationLoading:o}=en(e),a=or(),{fetchAll:l}=a,{content:u,online:c,debug:d}=en(a),f=re(!1),h=re(),p=re(),m=re(),g=re(),y=re(),v=re(),_=re(),b=re(),w=xn({firstName:{value:"",error:""},lastName:{value:"",error:""},displayName:{value:"",error:""},email:{value:"",error:""},newPassword:{value:"",error:""},currentPassword:{value:"",error:""},repeatPassword:{value:"",error:""},avatar:{value:"",error:""}}),T=ee(()=>({firstName:w.firstName.value,lastName:w.lastName.value})),P=ee(()=>({displayName:w.displayName.value,avatar:w.avatar.value})),A=ee(()=>!!i.value&&!rs(sw.convert(i.value),P.value)),O=ee(()=>{var F;return w.email.value!==((F=r.value)==null?void 0:F.email)}),E=ee(()=>{const F=[];return rs(n.value,T.value)||F.push("Details"),A.value&&F.push("Public Profile"),O.value&&F.push("E-mail"),w.newPassword.value&&F.push("Password"),F.length?"Save "+jb(F):void 0}),M=async()=>{var F;Object.keys(w).forEach(N=>w[N].error=""),w.newPassword.value&&(await Promise.all([y.value.test(),v.value.test(),_.value.test()]),!w.newPassword.error&&!w.currentPassword.error&&!w.repeatPassword.error&&(await e.updatePassword(w.newPassword.value,w.currentPassword.value),w.newPassword.value="",w.currentPassword.value="")),A.value&&(await m.value.test(),!w.displayName.error&&!w.avatar.error&&e.updatePublicUser({displayName:w.displayName.value,avatar:w.avatar.value})),O.value&&(await Promise.all([g.value.test(),v.value.test()]),!w.email.error&&!w.currentPassword.error&&(await e.updateMail(w.email.value,w.currentPassword.value),w.currentPassword.value="")),rs(n.value,T.value)||(await Promise.all([h.value.test(),p.value.test()]),!w.firstName.error&&!w.lastName.error&&e.updateUser({firstName:w.firstName.value,lastName:w.lastName.value})),await l((F=r.value)==null?void 0:F.uid,!0)};return Ak(()=>{var F,N,x,R,D;w.firstName.value=((F=n.value)==null?void 0:F.firstName)||"",w.lastName.value=((N=n.value)==null?void 0:N.lastName)||"",w.displayName.value=((x=i.value)==null?void 0:x.displayName)||"",w.email.value=((R=r.value)==null?void 0:R.email)||"",w.avatar.value=((D=i.value)==null?void 0:D.avatar)||""}),(F,N)=>(S(),ie(pa,null,{content:ce(()=>[k(n)&&k(r)?(S(),ie(Zr,{key:0,class:"!bg-cyan-800 !bg-opacity-50 my-5",title:"Welcome "+k(n).firstName+(k(n).lastName?" "+k(n).lastName:""),description:k(u).dashboardDescription},{default:ce(()=>[K("div",Qie,[K("div",Jie,[K("form",{onSubmit:N[19]||(N[19]=St(x=>M(),["prevent"]))},[J(hr,{name:"accountType",label:"Account Type","model-value":k(s)?"Owner":"Member","input-props":{disabled:!0}},null,8,["model-value"]),J(hr,{ref_key:"firstName",ref:h,name:"firstName",label:"First Name",placeholder:"Someone",modelValue:w.firstName.value,"onUpdate:modelValue":N[0]||(N[0]=x=>w.firstName.value=x),error:w.firstName.error,"onUpdate:error":N[1]||(N[1]=x=>w.firstName.error=x),rules:[k(xt).Required],"min-length":3,"max-length":50},null,8,["modelValue","error","rules"]),J(hr,{ref_key:"lastName",ref:p,name:"lastName",label:"Last Name",modelValue:w.lastName.value,"onUpdate:modelValue":N[2]||(N[2]=x=>w.lastName.value=x),error:w.lastName.error,"onUpdate:error":N[3]||(N[3]=x=>w.lastName.error=x),"min-length":3,"max-length":50},null,8,["modelValue","error"]),J(hr,{ref_key:"displayName",ref:m,name:"displayName",label:"Public Username",modelValue:w.displayName.value,"onUpdate:modelValue":N[4]||(N[4]=x=>w.displayName.value=x),error:w.displayName.error,"onUpdate:error":N[5]||(N[5]=x=>w.displayName.error=x),rules:[k(xt).MinLength],"min-length":3,"max-length":50},null,8,["modelValue","error","rules"]),J(DT,{ref_key:"email",ref:g,name:"email",label:"E-mail",modelValue:w.email.value,"onUpdate:modelValue":N[6]||(N[6]=x=>w.email.value=x),error:w.email.error,"onUpdate:error":N[7]||(N[7]=x=>w.email.error=x),rules:[k(xt).Required]},null,8,["modelValue","error","rules"]),O.value?(S(),ie(pu,{key:0,ref_key:"currentPassword",ref:v,name:"currentPassword",label:"Current Password",modelValue:w.currentPassword.value,"onUpdate:modelValue":N[8]||(N[8]=x=>w.currentPassword.value=x),error:w.currentPassword.error,"onUpdate:error":N[9]||(N[9]=x=>w.currentPassword.error=x),rules:[k(xt).Required]},null,8,["modelValue","error","rules"])):Y("",!0),J(pu,{ref_key:"newPassword",ref:y,name:"newPassword",label:"New Password",modelValue:w.newPassword.value,"onUpdate:modelValue":N[10]||(N[10]=x=>w.newPassword.value=x),error:w.newPassword.error,"onUpdate:error":N[11]||(N[11]=x=>w.newPassword.error=x),min:6,max:50},null,8,["modelValue","error"]),w.newPassword.value?(S(),ie(pu,{key:1,ref_key:"repeatPassword",ref:_,name:"repeatPassword",label:"Repeat New Password",modelValue:w.repeatPassword.value,"onUpdate:modelValue":N[12]||(N[12]=x=>w.repeatPassword.value=x),error:w.repeatPassword.error,"onUpdate:error":N[13]||(N[13]=x=>w.repeatPassword.error=x),rules:[k(xt).Required],compare:{value:w.newPassword.value,name:"New Password"}},null,8,["modelValue","error","rules","compare"])):Y("",!0),w.newPassword.value&&!O.value?(S(),ie(pu,{key:2,ref_key:"currentPassword",ref:v,name:"currentPassword",label:"Current Password",modelValue:w.currentPassword.value,"onUpdate:modelValue":N[14]||(N[14]=x=>w.currentPassword.value=x),error:w.currentPassword.error,"onUpdate:error":N[15]||(N[15]=x=>w.currentPassword.error=x),rules:[k(xt).Required]},null,8,["modelValue","error","rules"])):Y("",!0),K("div",Zie,[E.value?(S(),ie(Ft,{key:0,class:"w-full",action:"submit",loading:k(o)},{default:ce(()=>[Je($e(E.value),1)]),_:1},8,["loading"])):Y("",!0),k(s)?Y("",!0):(S(),ie(Ft,{key:1,class:"w-full",type:"danger",outlined:"",onClick:N[16]||(N[16]=x=>f.value=!0)},{default:ce(()=>[Je(" Delete account ")]),_:1}))]),k(s)?(S(),ie($d,{key:3,name:"online",label:"Online",modelValue:k(c),"onUpdate:modelValue":N[17]||(N[17]=x=>cn(c)?c.value=x:null)},null,8,["modelValue"])):Y("",!0),k(s)?(S(),ie($d,{key:4,name:"debug",label:"Debug",modelValue:k(d),"onUpdate:modelValue":N[18]||(N[18]=x=>cn(d)?d.value=x:null)},null,8,["modelValue"])):Y("",!0)],32)]),K("div",ese,[J(CT,{ref_key:"avatar",ref:b,id:"avatar",name:"avatar",label:"Public Avatar",modelValue:w.avatar.value,"onUpdate:modelValue":N[20]||(N[20]=x=>w.avatar.value=x),error:w.avatar.error,"onUpdate:error":N[21]||(N[21]=x=>w.avatar.error=x),"is-public":"","image-props":{class:"rounded-full"},"image-container-props":{class:"!h-64 !w-64"}},null,8,["modelValue","error"])])]),K("div",tse,[J(xT)])]),_:1},8,["title","description"])):Y("",!0),J(IT,{title:"Delete Account",isOpen:f.value,description:["Are you sure you want to delete your account?","This cannot be undone."],"confirm-text":"Confirm","confirm-props":{type:"danger",outlined:!0},onConfirm:N[22]||(N[22]=x=>k(e).deleteAccount()),onCancel:N[23]||(N[23]=x=>f.value=!1)},null,8,["isOpen","description"])]),_:1}))}}),rse=Oe({__name:"Dashboard",setup(t){return(e,n)=>(S(),ie(nse))}}),ise=t=>(_k("data-v-d69062a4"),t=t(),Tk(),t),sse=ise(()=>K("h3",{class:"title-secondary"},"My Work",-1)),ose=Oe({__name:"Projects",setup(t){const e=or(),{moveProject:n}=e,{projects:r}=en(e),i=o=>{o.moved&&n(o.moved.oldIndex,o.moved.newIndex)},s=()=>{Wn(()=>{const o=document.querySelectorAll(".transition-opacity");o.forEach(a=>{a.classList.replace("opacity-100","opacity-0")}),oK(Array.from(o),500,300,a=>{a.classList.replace("opacity-0","opacity-100")})})};return It(()=>r.value,(o,a)=>{o>a&&s()}),Gt(()=>{s()}),(o,a)=>(S(),V(Te,null,[sse,J(k(YL),{class:"grid grid-cols-1 gap-4 my-5 sm:grid-cols-2 xl:grid-cols-3 cursor-pointer select-none","model-value":k(r),"item-key":"index",onChange:i,animation:150,delay:50},{item:ce(({element:l})=>[J(Zr,{class:"border-4 border-transparent opacity-100 transition-opacity duration-1000 ease-in",title:l.name,url:l.url,description:l.description,loading:l.loading},{default:ce(()=>[(S(!0),V(Te,null,st(l.technologies,u=>(S(),ie(Ft,{class:"m-1 md:mt-2 font-bold",style:nr({backgroundColor:u.color})},{default:ce(()=>[Je($e(u.name),1)]),_:2},1032,["style"]))),256))]),_:2},1032,["title","url","description","loading"])]),_:1},8,["model-value"])],64))}}),ase=(t,e)=>{const n=t.__vccOpts||t;for(const[r,i]of e)n[r]=i;return n},lse=ase(ose,[["__scopeId","data-v-d69062a4"]]),use={class:"grid mt-20"},cse=Oe({__name:"Home",setup(t){return(e,n)=>(S(),ie(pa,{"scroll-to-content":!1},{content:ce(()=>[K("div",use,[J(lse)])]),_:1}))}}),dse=Oe({__name:"Home",setup(t){return(e,n)=>(S(),ie(cse))}}),fse={class:"flex flex-col items-center content-center"},hse={class:"grid grid-cols-4 mt-10 gap-3"},pse=Oe({__name:"Login",setup(t){const e=sr(),{loginLoading:n}=en(e),r=qP(),{initEmail:i,initPassword:s}=r.currentRoute.value.query,o=re(),a=re(),l=xn({email:{value:(i==null?void 0:i.toString())||"",error:""},password:{value:(s==null?void 0:s.toString())||"",error:""}}),u=async()=>{Object.keys(l).forEach(d=>l[d].error=""),await Promise.all([o.value.test(),a.value.test()]),!l.email.error&&!l.password.error&&e.login(l.email.value,l.password.value)},c=async()=>{await o.value.test(),l.email.error||e.resetPassword(l.email.value)};return Gt(()=>{r.replace({query:void 0})}),(d,f)=>{const h=Bn("RouterLink");return S(),ie(pa,null,{content:ce(()=>[J(Zr,{class:"!bg-cyan-800 !bg-opacity-50 my-5",title:"Login",description:"Please login using your e-mail and password."},{default:ce(()=>[K("div",fse,[K("form",{class:"w-full lg:w-1/2 xl:w-1/3 px-8 pt-6 pb-8 mb-4",onSubmit:f[4]||(f[4]=St(p=>u(),["prevent"]))},[J(DT,{ref_key:"email",ref:o,name:"email",label:"E-mail",modelValue:l.email.value,"onUpdate:modelValue":f[0]||(f[0]=p=>l.email.value=p),error:l.email.error,"onUpdate:error":f[1]||(f[1]=p=>l.email.error=p),rules:[k(xt).Required]},null,8,["modelValue","error","rules"]),J(pu,{ref_key:"password",ref:a,name:"password",label:"Password",modelValue:l.password.value,"onUpdate:modelValue":f[2]||(f[2]=p=>l.password.value=p),error:l.password.error,"onUpdate:error":f[3]||(f[3]=p=>l.password.error=p),rules:[k(xt).Required]},null,8,["modelValue","error","rules"]),K("div",hse,[J(Ft,{class:"col-span-full md:col-span-2",action:"submit",loading:k(n)},{default:ce(()=>[Je(" Login ")]),_:1},8,["loading"]),J(h,{class:"col-span-full md:col-span-2",to:{name:"register",query:{initEmail:l.email.value,initPassword:l.password.value}}},{default:ce(()=>[J(Ft,{class:"w-full",outlined:""},{default:ce(()=>[Je(" Register ")]),_:1})]),_:1},8,["to"]),J(Ft,{class:"col-span-full md:col-span-2 md:col-start-3",outlined:"",onClick:c},{default:ce(()=>[Je(" Forgot Password ")]),_:1})])],32),J(xT)])]),_:1})]),_:1})}}}),mse=Oe({__name:"Login",setup(t){return(e,n)=>(S(),ie(pse))}}),gse=Oe({__name:"NotFound",setup(t){return(e,n)=>(S(),ie(pa,{"scroll-to-content":!1},{content:ce(()=>[J(Zr,{class:"!bg-red-800 !bg-opacity-50 my-5",title:"Not found.",description:"Where are you going?"})]),_:1}))}}),vse=Oe({__name:"NotFound",setup(t){return(e,n)=>(S(),ie(gse))}}),yse={class:"flex flex-col items-center content-center"},bse={class:"grid grid-cols-2 mt-10 gap-3"},wse=Oe({__name:"Register",setup(t){const e=sr(),{loginLoading:n}=en(e),r=qP(),{initEmail:i,initPassword:s}=r.currentRoute.value.query,o=re(),a=re(),l=re(),u=xn({email:{value:(i==null?void 0:i.toString())||"",error:""},password:{value:(s==null?void 0:s.toString())||"",error:""},firstName:{value:"",error:""}}),c=async()=>{Object.keys(u).forEach(d=>u[d].error=""),await Promise.all([o.value.test(),a.value.test(),l.value.test()]),!u.email.error&&!u.password.error&&!u.firstName.error&&e.register(u.email.value,u.password.value,u.firstName.value)};return Gt(()=>{r.replace({query:void 0})}),(d,f)=>{const h=Bn("RouterLink");return S(),ie(pa,null,{content:ce(()=>[J(Zr,{class:"!bg-cyan-800 !bg-opacity-50 my-5",title:"Register",description:"Please register using your e-mail, password and first name."},{default:ce(()=>[K("div",yse,[K("form",{class:"w-full lg:w-1/2 xl:w-1/3 px-8 pt-6 pb-8 mb-4",onSubmit:f[6]||(f[6]=St(p=>c(),["prevent"]))},[J(hr,{ref_key:"firstName",ref:l,name:"firstName",label:"First Name",placeholder:"Someone",modelValue:u.firstName.value,"onUpdate:modelValue":f[0]||(f[0]=p=>u.firstName.value=p),error:u.firstName.error,"onUpdate:error":f[1]||(f[1]=p=>u.firstName.error=p),rules:[k(xt).Required,k(xt).MinLength],"min-length":3,"max-length":25},null,8,["modelValue","error","rules"]),J(DT,{ref_key:"email",ref:o,name:"email",label:"E-mail",modelValue:u.email.value,"onUpdate:modelValue":f[2]||(f[2]=p=>u.email.value=p),error:u.email.error,"onUpdate:error":f[3]||(f[3]=p=>u.email.error=p),rules:[k(xt).Required]},null,8,["modelValue","error","rules"]),J(pu,{ref_key:"password",ref:a,name:"password",label:"Password",modelValue:u.password.value,"onUpdate:modelValue":f[4]||(f[4]=p=>u.password.value=p),error:u.password.error,"onUpdate:error":f[5]||(f[5]=p=>u.password.error=p),rules:[k(xt).Required]},null,8,["modelValue","error","rules"]),K("div",bse,[J(Ft,{class:"col-span-full md:col-span-1",action:"submit",loading:k(n)},{default:ce(()=>[Je(" Register ")]),_:1},8,["loading"]),J(h,{to:{name:"login",query:{initEmail:u.email.value,initPassword:u.password.value}},class:"col-span-full md:col-span-1"},{default:ce(()=>[J(Ft,{class:"w-full",outlined:""},{default:ce(()=>[Je(" Login ")]),_:1})]),_:1},8,["to"])])],32),J(xT)])]),_:1})]),_:1})}}}),_se=Oe({__name:"Register",setup(t){return(e,n)=>(S(),ie(wse))}}),Av=yU({history:Y6(""),routes:[{path:"/",name:"home",meta:{title:"Home"},component:dse,beforeEnter:(t,e,n)=>{var i;const r=decodeURIComponent(((i=t.query.path)==null?void 0:i.toString())||"");if(r){const s=r.split("/")[0];Av.getRoutes().find(o=>o.path.startsWith(`/${s}`))?n({path:r}):n({name:"notfound"})}else n()}},{path:"/login",name:"login",meta:{title:"Login"},component:mse,beforeEnter:(t,e,n)=>{sr().currentUser?n({name:"dashboard"}):n()}},{path:"/register",name:"register",meta:{title:"Register"},component:_se,beforeEnter:(t,e,n)=>{sr().currentUser?n({name:"dashboard"}):n()}},{path:"/dashboard",name:"dashboard",meta:{title:"Dashboard"},component:rse,beforeEnter:(t,e,n)=>{sr().currentUser?n():n({name:"login"})}},{path:"/blog/:postId?",name:"blog",meta:{title:"Blog"},component:Bie},{path:"/customvoting",name:"customvoting",meta:{title:"CustomVoting"},component:Yie},{path:"/cat-calc",name:"cat-calc",meta:{title:"CatCalc"},component:Wie},{path:"/:pathMatch(.*)*",name:"notfound",meta:{title:"404"},component:vse}],scrollBehavior(t,e,n){return t.hash?new Promise((r,i)=>{let s=10;const o=()=>{setTimeout(()=>{try{document.getElementById(t.hash.replace("#",""))?r({el:t.hash,behavior:"smooth",top:15}):(s--,s>0?o():i())}catch(a){i(a)}},1e3)};o()}):n||((t.name==="login"||t.name==="register")&&(e.name==="login"||e.name==="register")?!1:{top:0})}}),iA=iL.name;Av.beforeEach(async(t,e,n)=>{var r,i;if(t!==e){const s=or();t.name&&(["home","login","register","dashboard","notfound"].includes(t.name.toString())||(i=await s.fetchMenuItems((r=sr().firebaseUser)==null?void 0:r.uid))!=null&&i.some(o=>t.path.startsWith(o.url)))?n():n({name:"notfound"})}else n()});Av.beforeResolve(t=>{document.title=iA+" | "+t.meta.title||iA});const RT=Av;function ji(t){"@babel/helpers - typeof";return ji=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ji(t)}function nt(t){if(t===null||t===!0||t===!1)return NaN;var e=Number(t);return isNaN(e)?e:e<0?Math.ceil(e):Math.floor(e)}function We(t,e){if(e.length<t)throw new TypeError(t+" argument"+(t>1?"s":"")+" required, but only "+e.length+" present")}function Ze(t){We(1,arguments);var e=Object.prototype.toString.call(t);return t instanceof Date||ji(t)==="object"&&e==="[object Date]"?new Date(t.getTime()):typeof t=="number"||e==="[object Number]"?new Date(t):((typeof t=="string"||e==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}function Ws(t,e){We(2,arguments);var n=Ze(t),r=nt(e);return isNaN(r)?new Date(NaN):(r&&n.setDate(n.getDate()+r),n)}function ss(t,e){We(2,arguments);var n=Ze(t),r=nt(e);if(isNaN(r))return new Date(NaN);if(!r)return n;var i=n.getDate(),s=new Date(n.getTime());s.setMonth(n.getMonth()+r+1,0);var o=s.getDate();return i>=o?s:(n.setFullYear(s.getFullYear(),s.getMonth(),i),n)}function XL(t,e){if(We(2,arguments),!e||ji(e)!=="object")return new Date(NaN);var n=e.years?nt(e.years):0,r=e.months?nt(e.months):0,i=e.weeks?nt(e.weeks):0,s=e.days?nt(e.days):0,o=e.hours?nt(e.hours):0,a=e.minutes?nt(e.minutes):0,l=e.seconds?nt(e.seconds):0,u=Ze(t),c=r||n?ss(u,r+n*12):u,d=s||i?Ws(c,s+i*7):c,f=a+o*60,h=l+f*60,p=h*1e3,m=new Date(d.getTime()+p);return m}function Tse(t,e){We(2,arguments);var n=Ze(t).getTime(),r=nt(e);return new Date(n+r)}var Sse={};function Us(){return Sse}function bl(t,e){var n,r,i,s,o,a,l,u;We(1,arguments);var c=Us(),d=nt((n=(r=(i=(s=e==null?void 0:e.weekStartsOn)!==null&&s!==void 0?s:e==null||(o=e.locale)===null||o===void 0||(a=o.options)===null||a===void 0?void 0:a.weekStartsOn)!==null&&i!==void 0?i:c.weekStartsOn)!==null&&r!==void 0?r:(l=c.locale)===null||l===void 0||(u=l.options)===null||u===void 0?void 0:u.weekStartsOn)!==null&&n!==void 0?n:0);if(!(d>=0&&d<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var f=Ze(t),h=f.getDay(),p=(h<d?7:0)+h-d;return f.setDate(f.getDate()-p),f.setHours(0,0,0,0),f}function eg(t){return We(1,arguments),bl(t,{weekStartsOn:1})}function Ese(t){We(1,arguments);var e=Ze(t),n=e.getFullYear(),r=new Date(0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);var i=eg(r),s=new Date(0);s.setFullYear(n,0,4),s.setHours(0,0,0,0);var o=eg(s);return e.getTime()>=i.getTime()?n+1:e.getTime()>=o.getTime()?n:n-1}function Ise(t){We(1,arguments);var e=Ese(t),n=new Date(0);n.setFullYear(e,0,4),n.setHours(0,0,0,0);var r=eg(n);return r}function tg(t){var e=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return e.setUTCFullYear(t.getFullYear()),t.getTime()-e.getTime()}function sA(t){We(1,arguments);var e=Ze(t);return e.setHours(0,0,0,0),e}var Cse=864e5;function Ose(t,e){We(2,arguments);var n=sA(t),r=sA(e),i=n.getTime()-tg(n),s=r.getTime()-tg(r);return Math.round((i-s)/Cse)}function Ase(t,e){We(2,arguments);var n=nt(e),r=n*3;return ss(t,r)}function NT(t,e){We(2,arguments);var n=nt(e);return ss(t,n*12)}var MT=6e4,LT=36e5,kse=1e3;function QL(t){return We(1,arguments),t instanceof Date||ji(t)==="object"&&Object.prototype.toString.call(t)==="[object Date]"}function Fd(t){if(We(1,arguments),!QL(t)&&typeof t!="number")return!1;var e=Ze(t);return!isNaN(Number(e))}function oA(t){We(1,arguments);var e=Ze(t),n=Math.floor(e.getMonth()/3)+1;return n}function JL(t,e){var n;We(1,arguments);var r=t||{},i=Ze(r.start),s=Ze(r.end),o=s.getTime();if(!(i.getTime()<=o))throw new RangeError("Invalid interval");var a=[],l=i;l.setHours(0,0,0,0);var u=Number((n=e==null?void 0:e.step)!==null&&n!==void 0?n:1);if(u<1||isNaN(u))throw new RangeError("`options.step` must be a number greater than 1");for(;l.getTime()<=o;)a.push(Ze(l)),l.setDate(l.getDate()+u),l.setHours(0,0,0,0);return a}function Pf(t){We(1,arguments);var e=Ze(t),n=e.getMonth(),r=n-n%3;return e.setMonth(r,1),e.setHours(0,0,0,0),e}function Pse(t){We(1,arguments);var e=t||{},n=Ze(e.start),r=Ze(e.end),i=r.getTime();if(!(n.getTime()<=i))throw new RangeError("Invalid interval");var s=Pf(n),o=Pf(r);i=o.getTime();for(var a=[],l=s;l.getTime()<=i;)a.push(Ze(l)),l=Ase(l,1);return a}function xse(t){We(1,arguments);var e=Ze(t),n=e.getFullYear();return e.setFullYear(n+1,0,0),e.setHours(23,59,59,999),e}function Dse(t){We(1,arguments);var e=Ze(t),n=new Date(0);return n.setFullYear(e.getFullYear(),0,1),n.setHours(0,0,0,0),n}function Rse(t,e){var n,r,i,s,o,a,l,u;We(1,arguments);var c=Us(),d=nt((n=(r=(i=(s=e==null?void 0:e.weekStartsOn)!==null&&s!==void 0?s:e==null||(o=e.locale)===null||o===void 0||(a=o.options)===null||a===void 0?void 0:a.weekStartsOn)!==null&&i!==void 0?i:c.weekStartsOn)!==null&&r!==void 0?r:(l=c.locale)===null||l===void 0||(u=l.options)===null||u===void 0?void 0:u.weekStartsOn)!==null&&n!==void 0?n:0);if(!(d>=0&&d<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var f=Ze(t),h=f.getDay(),p=(h<d?-7:0)+6-(h-d);return f.setDate(f.getDate()+p),f.setHours(23,59,59,999),f}function aA(t){We(1,arguments);var e=Ze(t),n=e.getMonth(),r=n-n%3+3;return e.setMonth(r,0),e.setHours(23,59,59,999),e}function ZL(t,e){We(2,arguments);var n=nt(e);return Tse(t,-n)}var Nse=864e5;function Mse(t){We(1,arguments);var e=Ze(t),n=e.getTime();e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0);var r=e.getTime(),i=n-r;return Math.floor(i/Nse)+1}function ac(t){We(1,arguments);var e=1,n=Ze(t),r=n.getUTCDay(),i=(r<e?7:0)+r-e;return n.setUTCDate(n.getUTCDate()-i),n.setUTCHours(0,0,0,0),n}function e$(t){We(1,arguments);var e=Ze(t),n=e.getUTCFullYear(),r=new Date(0);r.setUTCFullYear(n+1,0,4),r.setUTCHours(0,0,0,0);var i=ac(r),s=new Date(0);s.setUTCFullYear(n,0,4),s.setUTCHours(0,0,0,0);var o=ac(s);return e.getTime()>=i.getTime()?n+1:e.getTime()>=o.getTime()?n:n-1}function Lse(t){We(1,arguments);var e=e$(t),n=new Date(0);n.setUTCFullYear(e,0,4),n.setUTCHours(0,0,0,0);var r=ac(n);return r}var $se=6048e5;function t$(t){We(1,arguments);var e=Ze(t),n=ac(e).getTime()-Lse(e).getTime();return Math.round(n/$se)+1}function wl(t,e){var n,r,i,s,o,a,l,u;We(1,arguments);var c=Us(),d=nt((n=(r=(i=(s=e==null?void 0:e.weekStartsOn)!==null&&s!==void 0?s:e==null||(o=e.locale)===null||o===void 0||(a=o.options)===null||a===void 0?void 0:a.weekStartsOn)!==null&&i!==void 0?i:c.weekStartsOn)!==null&&r!==void 0?r:(l=c.locale)===null||l===void 0||(u=l.options)===null||u===void 0?void 0:u.weekStartsOn)!==null&&n!==void 0?n:0);if(!(d>=0&&d<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var f=Ze(t),h=f.getUTCDay(),p=(h<d?7:0)+h-d;return f.setUTCDate(f.getUTCDate()-p),f.setUTCHours(0,0,0,0),f}function $T(t,e){var n,r,i,s,o,a,l,u;We(1,arguments);var c=Ze(t),d=c.getUTCFullYear(),f=Us(),h=nt((n=(r=(i=(s=e==null?void 0:e.firstWeekContainsDate)!==null&&s!==void 0?s:e==null||(o=e.locale)===null||o===void 0||(a=o.options)===null||a===void 0?void 0:a.firstWeekContainsDate)!==null&&i!==void 0?i:f.firstWeekContainsDate)!==null&&r!==void 0?r:(l=f.locale)===null||l===void 0||(u=l.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&n!==void 0?n:1);if(!(h>=1&&h<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var p=new Date(0);p.setUTCFullYear(d+1,0,h),p.setUTCHours(0,0,0,0);var m=wl(p,e),g=new Date(0);g.setUTCFullYear(d,0,h),g.setUTCHours(0,0,0,0);var y=wl(g,e);return c.getTime()>=m.getTime()?d+1:c.getTime()>=y.getTime()?d:d-1}function Fse(t,e){var n,r,i,s,o,a,l,u;We(1,arguments);var c=Us(),d=nt((n=(r=(i=(s=e==null?void 0:e.firstWeekContainsDate)!==null&&s!==void 0?s:e==null||(o=e.locale)===null||o===void 0||(a=o.options)===null||a===void 0?void 0:a.firstWeekContainsDate)!==null&&i!==void 0?i:c.firstWeekContainsDate)!==null&&r!==void 0?r:(l=c.locale)===null||l===void 0||(u=l.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&n!==void 0?n:1),f=$T(t,e),h=new Date(0);h.setUTCFullYear(f,0,d),h.setUTCHours(0,0,0,0);var p=wl(h,e);return p}var Use=6048e5;function n$(t,e){We(1,arguments);var n=Ze(t),r=wl(n,e).getTime()-Fse(n,e).getTime();return Math.round(r/Use)+1}function Qt(t,e){for(var n=t<0?"-":"",r=Math.abs(t).toString();r.length<e;)r="0"+r;return n+r}var Vse={y:function(e,n){var r=e.getUTCFullYear(),i=r>0?r:1-r;return Qt(n==="yy"?i%100:i,n.length)},M:function(e,n){var r=e.getUTCMonth();return n==="M"?String(r+1):Qt(r+1,2)},d:function(e,n){return Qt(e.getUTCDate(),n.length)},a:function(e,n){var r=e.getUTCHours()/12>=1?"pm":"am";switch(n){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h:function(e,n){return Qt(e.getUTCHours()%12||12,n.length)},H:function(e,n){return Qt(e.getUTCHours(),n.length)},m:function(e,n){return Qt(e.getUTCMinutes(),n.length)},s:function(e,n){return Qt(e.getUTCSeconds(),n.length)},S:function(e,n){var r=n.length,i=e.getUTCMilliseconds(),s=Math.floor(i*Math.pow(10,r-3));return Qt(s,n.length)}};const _o=Vse;var Yl={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Bse={G:function(e,n,r){var i=e.getUTCFullYear()>0?1:0;switch(n){case"G":case"GG":case"GGG":return r.era(i,{width:"abbreviated"});case"GGGGG":return r.era(i,{width:"narrow"});case"GGGG":default:return r.era(i,{width:"wide"})}},y:function(e,n,r){if(n==="yo"){var i=e.getUTCFullYear(),s=i>0?i:1-i;return r.ordinalNumber(s,{unit:"year"})}return _o.y(e,n)},Y:function(e,n,r,i){var s=$T(e,i),o=s>0?s:1-s;if(n==="YY"){var a=o%100;return Qt(a,2)}return n==="Yo"?r.ordinalNumber(o,{unit:"year"}):Qt(o,n.length)},R:function(e,n){var r=e$(e);return Qt(r,n.length)},u:function(e,n){var r=e.getUTCFullYear();return Qt(r,n.length)},Q:function(e,n,r){var i=Math.ceil((e.getUTCMonth()+1)/3);switch(n){case"Q":return String(i);case"QQ":return Qt(i,2);case"Qo":return r.ordinalNumber(i,{unit:"quarter"});case"QQQ":return r.quarter(i,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(i,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(i,{width:"wide",context:"formatting"})}},q:function(e,n,r){var i=Math.ceil((e.getUTCMonth()+1)/3);switch(n){case"q":return String(i);case"qq":return Qt(i,2);case"qo":return r.ordinalNumber(i,{unit:"quarter"});case"qqq":return r.quarter(i,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(i,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(i,{width:"wide",context:"standalone"})}},M:function(e,n,r){var i=e.getUTCMonth();switch(n){case"M":case"MM":return _o.M(e,n);case"Mo":return r.ordinalNumber(i+1,{unit:"month"});case"MMM":return r.month(i,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(i,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(i,{width:"wide",context:"formatting"})}},L:function(e,n,r){var i=e.getUTCMonth();switch(n){case"L":return String(i+1);case"LL":return Qt(i+1,2);case"Lo":return r.ordinalNumber(i+1,{unit:"month"});case"LLL":return r.month(i,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(i,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(i,{width:"wide",context:"standalone"})}},w:function(e,n,r,i){var s=n$(e,i);return n==="wo"?r.ordinalNumber(s,{unit:"week"}):Qt(s,n.length)},I:function(e,n,r){var i=t$(e);return n==="Io"?r.ordinalNumber(i,{unit:"week"}):Qt(i,n.length)},d:function(e,n,r){return n==="do"?r.ordinalNumber(e.getUTCDate(),{unit:"date"}):_o.d(e,n)},D:function(e,n,r){var i=Mse(e);return n==="Do"?r.ordinalNumber(i,{unit:"dayOfYear"}):Qt(i,n.length)},E:function(e,n,r){var i=e.getUTCDay();switch(n){case"E":case"EE":case"EEE":return r.day(i,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(i,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(i,{width:"short",context:"formatting"});case"EEEE":default:return r.day(i,{width:"wide",context:"formatting"})}},e:function(e,n,r,i){var s=e.getUTCDay(),o=(s-i.weekStartsOn+8)%7||7;switch(n){case"e":return String(o);case"ee":return Qt(o,2);case"eo":return r.ordinalNumber(o,{unit:"day"});case"eee":return r.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(s,{width:"short",context:"formatting"});case"eeee":default:return r.day(s,{width:"wide",context:"formatting"})}},c:function(e,n,r,i){var s=e.getUTCDay(),o=(s-i.weekStartsOn+8)%7||7;switch(n){case"c":return String(o);case"cc":return Qt(o,n.length);case"co":return r.ordinalNumber(o,{unit:"day"});case"ccc":return r.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(s,{width:"narrow",context:"standalone"});case"cccccc":return r.day(s,{width:"short",context:"standalone"});case"cccc":default:return r.day(s,{width:"wide",context:"standalone"})}},i:function(e,n,r){var i=e.getUTCDay(),s=i===0?7:i;switch(n){case"i":return String(s);case"ii":return Qt(s,n.length);case"io":return r.ordinalNumber(s,{unit:"day"});case"iii":return r.day(i,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(i,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(i,{width:"short",context:"formatting"});case"iiii":default:return r.day(i,{width:"wide",context:"formatting"})}},a:function(e,n,r){var i=e.getUTCHours(),s=i/12>=1?"pm":"am";switch(n){case"a":case"aa":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(e,n,r){var i=e.getUTCHours(),s;switch(i===12?s=Yl.noon:i===0?s=Yl.midnight:s=i/12>=1?"pm":"am",n){case"b":case"bb":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(e,n,r){var i=e.getUTCHours(),s;switch(i>=17?s=Yl.evening:i>=12?s=Yl.afternoon:i>=4?s=Yl.morning:s=Yl.night,n){case"B":case"BB":case"BBB":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(e,n,r){if(n==="ho"){var i=e.getUTCHours()%12;return i===0&&(i=12),r.ordinalNumber(i,{unit:"hour"})}return _o.h(e,n)},H:function(e,n,r){return n==="Ho"?r.ordinalNumber(e.getUTCHours(),{unit:"hour"}):_o.H(e,n)},K:function(e,n,r){var i=e.getUTCHours()%12;return n==="Ko"?r.ordinalNumber(i,{unit:"hour"}):Qt(i,n.length)},k:function(e,n,r){var i=e.getUTCHours();return i===0&&(i=24),n==="ko"?r.ordinalNumber(i,{unit:"hour"}):Qt(i,n.length)},m:function(e,n,r){return n==="mo"?r.ordinalNumber(e.getUTCMinutes(),{unit:"minute"}):_o.m(e,n)},s:function(e,n,r){return n==="so"?r.ordinalNumber(e.getUTCSeconds(),{unit:"second"}):_o.s(e,n)},S:function(e,n){return _o.S(e,n)},X:function(e,n,r,i){var s=i._originalDate||e,o=s.getTimezoneOffset();if(o===0)return"Z";switch(n){case"X":return uA(o);case"XXXX":case"XX":return Oa(o);case"XXXXX":case"XXX":default:return Oa(o,":")}},x:function(e,n,r,i){var s=i._originalDate||e,o=s.getTimezoneOffset();switch(n){case"x":return uA(o);case"xxxx":case"xx":return Oa(o);case"xxxxx":case"xxx":default:return Oa(o,":")}},O:function(e,n,r,i){var s=i._originalDate||e,o=s.getTimezoneOffset();switch(n){case"O":case"OO":case"OOO":return"GMT"+lA(o,":");case"OOOO":default:return"GMT"+Oa(o,":")}},z:function(e,n,r,i){var s=i._originalDate||e,o=s.getTimezoneOffset();switch(n){case"z":case"zz":case"zzz":return"GMT"+lA(o,":");case"zzzz":default:return"GMT"+Oa(o,":")}},t:function(e,n,r,i){var s=i._originalDate||e,o=Math.floor(s.getTime()/1e3);return Qt(o,n.length)},T:function(e,n,r,i){var s=i._originalDate||e,o=s.getTime();return Qt(o,n.length)}};function lA(t,e){var n=t>0?"-":"+",r=Math.abs(t),i=Math.floor(r/60),s=r%60;if(s===0)return n+String(i);var o=e||"";return n+String(i)+o+Qt(s,2)}function uA(t,e){if(t%60===0){var n=t>0?"-":"+";return n+Qt(Math.abs(t)/60,2)}return Oa(t,e)}function Oa(t,e){var n=e||"",r=t>0?"-":"+",i=Math.abs(t),s=Qt(Math.floor(i/60),2),o=Qt(i%60,2);return r+s+n+o}var cA=function(e,n){switch(e){case"P":return n.date({width:"short"});case"PP":return n.date({width:"medium"});case"PPP":return n.date({width:"long"});case"PPPP":default:return n.date({width:"full"})}},r$=function(e,n){switch(e){case"p":return n.time({width:"short"});case"pp":return n.time({width:"medium"});case"ppp":return n.time({width:"long"});case"pppp":default:return n.time({width:"full"})}},jse=function(e,n){var r=e.match(/(P+)(p+)?/)||[],i=r[1],s=r[2];if(!s)return cA(e,n);var o;switch(i){case"P":o=n.dateTime({width:"short"});break;case"PP":o=n.dateTime({width:"medium"});break;case"PPP":o=n.dateTime({width:"long"});break;case"PPPP":default:o=n.dateTime({width:"full"});break}return o.replace("{{date}}",cA(i,n)).replace("{{time}}",r$(s,n))},Sw={p:r$,P:jse},Hse=["D","DD"],Wse=["YY","YYYY"];function i$(t){return Hse.indexOf(t)!==-1}function s$(t){return Wse.indexOf(t)!==-1}function ng(t,e,n){if(t==="YYYY")throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(e,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(t==="YY")throw new RangeError("Use `yy` instead of `YY` (in `".concat(e,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(t==="D")throw new RangeError("Use `d` instead of `D` (in `".concat(e,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(t==="DD")throw new RangeError("Use `dd` instead of `DD` (in `".concat(e,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var Kse={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},zse=function(e,n,r){var i,s=Kse[e];return typeof s=="string"?i=s:n===1?i=s.one:i=s.other.replace("{{count}}",n.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+i:i+" ago":i};const Gse=zse;function i0(t){return function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.width?String(e.width):t.defaultWidth,r=t.formats[n]||t.formats[t.defaultWidth];return r}}var Yse={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},qse={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Xse={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Qse={date:i0({formats:Yse,defaultWidth:"full"}),time:i0({formats:qse,defaultWidth:"full"}),dateTime:i0({formats:Xse,defaultWidth:"full"})};const Jse=Qse;var Zse={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},eoe=function(e,n,r,i){return Zse[e]};const toe=eoe;function jc(t){return function(e,n){var r=n!=null&&n.context?String(n.context):"standalone",i;if(r==="formatting"&&t.formattingValues){var s=t.defaultFormattingWidth||t.defaultWidth,o=n!=null&&n.width?String(n.width):s;i=t.formattingValues[o]||t.formattingValues[s]}else{var a=t.defaultWidth,l=n!=null&&n.width?String(n.width):t.defaultWidth;i=t.values[l]||t.values[a]}var u=t.argumentCallback?t.argumentCallback(e):e;return i[u]}}var noe={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},roe={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},ioe={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},soe={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},ooe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},aoe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},loe=function(e,n){var r=Number(e),i=r%100;if(i>20||i<10)switch(i%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},uoe={ordinalNumber:loe,era:jc({values:noe,defaultWidth:"wide"}),quarter:jc({values:roe,defaultWidth:"wide",argumentCallback:function(e){return e-1}}),month:jc({values:ioe,defaultWidth:"wide"}),day:jc({values:soe,defaultWidth:"wide"}),dayPeriod:jc({values:ooe,defaultWidth:"wide",formattingValues:aoe,defaultFormattingWidth:"wide"})};const coe=uoe;function Hc(t){return function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=n.width,i=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],s=e.match(i);if(!s)return null;var o=s[0],a=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],l=Array.isArray(a)?foe(a,function(d){return d.test(o)}):doe(a,function(d){return d.test(o)}),u;u=t.valueCallback?t.valueCallback(l):l,u=n.valueCallback?n.valueCallback(u):u;var c=e.slice(o.length);return{value:u,rest:c}}}function doe(t,e){for(var n in t)if(t.hasOwnProperty(n)&&e(t[n]))return n}function foe(t,e){for(var n=0;n<t.length;n++)if(e(t[n]))return n}function hoe(t){return function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=e.match(t.matchPattern);if(!r)return null;var i=r[0],s=e.match(t.parsePattern);if(!s)return null;var o=t.valueCallback?t.valueCallback(s[0]):s[0];o=n.valueCallback?n.valueCallback(o):o;var a=e.slice(i.length);return{value:o,rest:a}}}var poe=/^(\d+)(th|st|nd|rd)?/i,moe=/\d+/i,goe={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},voe={any:[/^b/i,/^(a|c)/i]},yoe={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},boe={any:[/1/i,/2/i,/3/i,/4/i]},woe={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},_oe={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Toe={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Soe={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Eoe={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Ioe={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Coe={ordinalNumber:hoe({matchPattern:poe,parsePattern:moe,valueCallback:function(e){return parseInt(e,10)}}),era:Hc({matchPatterns:goe,defaultMatchWidth:"wide",parsePatterns:voe,defaultParseWidth:"any"}),quarter:Hc({matchPatterns:yoe,defaultMatchWidth:"wide",parsePatterns:boe,defaultParseWidth:"any",valueCallback:function(e){return e+1}}),month:Hc({matchPatterns:woe,defaultMatchWidth:"wide",parsePatterns:_oe,defaultParseWidth:"any"}),day:Hc({matchPatterns:Toe,defaultMatchWidth:"wide",parsePatterns:Soe,defaultParseWidth:"any"}),dayPeriod:Hc({matchPatterns:Eoe,defaultMatchWidth:"any",parsePatterns:Ioe,defaultParseWidth:"any"})};const Ooe=Coe;var Aoe={code:"en-US",formatDistance:Gse,formatLong:Jse,formatRelative:toe,localize:coe,match:Ooe,options:{weekStartsOn:0,firstWeekContainsDate:1}};const o$=Aoe;var koe=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Poe=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,xoe=/^'([^]*?)'?$/,Doe=/''/g,Roe=/[a-zA-Z]/;function qo(t,e,n){var r,i,s,o,a,l,u,c,d,f,h,p,m,g,y,v,_,b;We(2,arguments);var w=String(e),T=Us(),P=(r=(i=n==null?void 0:n.locale)!==null&&i!==void 0?i:T.locale)!==null&&r!==void 0?r:o$,A=nt((s=(o=(a=(l=n==null?void 0:n.firstWeekContainsDate)!==null&&l!==void 0?l:n==null||(u=n.locale)===null||u===void 0||(c=u.options)===null||c===void 0?void 0:c.firstWeekContainsDate)!==null&&a!==void 0?a:T.firstWeekContainsDate)!==null&&o!==void 0?o:(d=T.locale)===null||d===void 0||(f=d.options)===null||f===void 0?void 0:f.firstWeekContainsDate)!==null&&s!==void 0?s:1);if(!(A>=1&&A<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var O=nt((h=(p=(m=(g=n==null?void 0:n.weekStartsOn)!==null&&g!==void 0?g:n==null||(y=n.locale)===null||y===void 0||(v=y.options)===null||v===void 0?void 0:v.weekStartsOn)!==null&&m!==void 0?m:T.weekStartsOn)!==null&&p!==void 0?p:(_=T.locale)===null||_===void 0||(b=_.options)===null||b===void 0?void 0:b.weekStartsOn)!==null&&h!==void 0?h:0);if(!(O>=0&&O<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!P.localize)throw new RangeError("locale must contain localize property");if(!P.formatLong)throw new RangeError("locale must contain formatLong property");var E=Ze(t);if(!Fd(E))throw new RangeError("Invalid time value");var M=tg(E),F=ZL(E,M),N={firstWeekContainsDate:A,weekStartsOn:O,locale:P,_originalDate:E},x=w.match(Poe).map(function(R){var D=R[0];if(D==="p"||D==="P"){var B=Sw[D];return B(R,P.formatLong)}return R}).join("").match(koe).map(function(R){if(R==="''")return"'";var D=R[0];if(D==="'")return Noe(R);var B=Bse[D];if(B)return!(n!=null&&n.useAdditionalWeekYearTokens)&&s$(R)&&ng(R,e,String(t)),!(n!=null&&n.useAdditionalDayOfYearTokens)&&i$(R)&&ng(R,e,String(t)),B(F,R,P.localize,N);if(D.match(Roe))throw new RangeError("Format string contains an unescaped latin alphabet character `"+D+"`");return R}).join("");return x}function Noe(t){var e=t.match(xoe);return e?e[1].replace(Doe,"'"):t}function Moe(t,e){if(t==null)throw new TypeError("assign requires that input parameter not be null or undefined");for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}function Loe(t){We(1,arguments);var e=Ze(t),n=e.getDay();return n}function $oe(t){We(1,arguments);var e=Ze(t),n=e.getFullYear(),r=e.getMonth(),i=new Date(0);return i.setFullYear(n,r+1,0),i.setHours(0,0,0,0),i.getDate()}function os(t){We(1,arguments);var e=Ze(t),n=e.getHours();return n}var Foe=6048e5;function Uoe(t){We(1,arguments);var e=Ze(t),n=eg(e).getTime()-Ise(e).getTime();return Math.round(n/Foe)+1}function Rs(t){We(1,arguments);var e=Ze(t),n=e.getMinutes();return n}function Mt(t){We(1,arguments);var e=Ze(t),n=e.getMonth();return n}function lc(t){We(1,arguments);var e=Ze(t),n=e.getSeconds();return n}function Voe(t,e){var n,r,i,s,o,a,l,u;We(1,arguments);var c=Ze(t),d=c.getFullYear(),f=Us(),h=nt((n=(r=(i=(s=e==null?void 0:e.firstWeekContainsDate)!==null&&s!==void 0?s:e==null||(o=e.locale)===null||o===void 0||(a=o.options)===null||a===void 0?void 0:a.firstWeekContainsDate)!==null&&i!==void 0?i:f.firstWeekContainsDate)!==null&&r!==void 0?r:(l=f.locale)===null||l===void 0||(u=l.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&n!==void 0?n:1);if(!(h>=1&&h<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var p=new Date(0);p.setFullYear(d+1,0,h),p.setHours(0,0,0,0);var m=bl(p,e),g=new Date(0);g.setFullYear(d,0,h),g.setHours(0,0,0,0);var y=bl(g,e);return c.getTime()>=m.getTime()?d+1:c.getTime()>=y.getTime()?d:d-1}function Boe(t,e){var n,r,i,s,o,a,l,u;We(1,arguments);var c=Us(),d=nt((n=(r=(i=(s=e==null?void 0:e.firstWeekContainsDate)!==null&&s!==void 0?s:e==null||(o=e.locale)===null||o===void 0||(a=o.options)===null||a===void 0?void 0:a.firstWeekContainsDate)!==null&&i!==void 0?i:c.firstWeekContainsDate)!==null&&r!==void 0?r:(l=c.locale)===null||l===void 0||(u=l.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&n!==void 0?n:1),f=Voe(t,e),h=new Date(0);h.setFullYear(f,0,d),h.setHours(0,0,0,0);var p=bl(h,e);return p}var joe=6048e5;function Hoe(t,e){We(1,arguments);var n=Ze(t),r=bl(n,e).getTime()-Boe(n,e).getTime();return Math.round(r/joe)+1}function bt(t){return We(1,arguments),Ze(t).getFullYear()}function xf(t,e){We(2,arguments);var n=Ze(t),r=Ze(e);return n.getTime()>r.getTime()}function Df(t,e){We(2,arguments);var n=Ze(t),r=Ze(e);return n.getTime()<r.getTime()}function mu(t,e){We(2,arguments);var n=Ze(t),r=Ze(e);return n.getTime()===r.getTime()}function dA(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Woe(t,e){if(t){if(typeof t=="string")return dA(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return dA(t,e)}}function fA(t,e){var n=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=Woe(t))||e&&t&&typeof t.length=="number"){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(u){throw u},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var s=!0,o=!1,a;return{s:function(){n=n.call(t)},n:function(){var u=n.next();return s=u.done,u},e:function(u){o=!0,a=u},f:function(){try{!s&&n.return!=null&&n.return()}finally{if(o)throw a}}}}function He(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ew(t,e){return Ew=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Ew(t,e)}function Ut(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ew(t,e)}function rg(t){return rg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},rg(t)}function a$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(a$=function(){return!!t})()}function Koe(t,e){if(e&&(ji(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return He(t)}function Vt(t){var e=a$();return function(){var r=rg(t),i;if(e){var s=rg(this).constructor;i=Reflect.construct(r,arguments,s)}else i=r.apply(this,arguments);return Koe(this,i)}}function At(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function zoe(t,e){if(ji(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(ji(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function l$(t){var e=zoe(t,"string");return ji(e)=="symbol"?e:String(e)}function hA(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,l$(r.key),r)}}function kt(t,e,n){return e&&hA(t.prototype,e),n&&hA(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Ve(t,e,n){return e=l$(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Goe=10,u$=function(){function t(){At(this,t),Ve(this,"priority",void 0),Ve(this,"subPriority",0)}return kt(t,[{key:"validate",value:function(n,r){return!0}}]),t}(),Yoe=function(t){Ut(n,t);var e=Vt(n);function n(r,i,s,o,a){var l;return At(this,n),l=e.call(this),l.value=r,l.validateValue=i,l.setValue=s,l.priority=o,a&&(l.subPriority=a),l}return kt(n,[{key:"validate",value:function(i,s){return this.validateValue(i,this.value,s)}},{key:"set",value:function(i,s,o){return this.setValue(i,s,this.value,o)}}]),n}(u$),qoe=function(t){Ut(n,t);var e=Vt(n);function n(){var r;At(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Ve(He(r),"priority",Goe),Ve(He(r),"subPriority",-1),r}return kt(n,[{key:"set",value:function(i,s){if(s.timestampIsSet)return i;var o=new Date(0);return o.setFullYear(i.getUTCFullYear(),i.getUTCMonth(),i.getUTCDate()),o.setHours(i.getUTCHours(),i.getUTCMinutes(),i.getUTCSeconds(),i.getUTCMilliseconds()),o}}]),n}(u$),Yt=function(){function t(){At(this,t),Ve(this,"incompatibleTokens",void 0),Ve(this,"priority",void 0),Ve(this,"subPriority",void 0)}return kt(t,[{key:"run",value:function(n,r,i,s){var o=this.parse(n,r,i,s);return o?{setter:new Yoe(o.value,this.validate,this.set,this.priority,this.subPriority),rest:o.rest}:null}},{key:"validate",value:function(n,r,i){return!0}}]),t}(),Xoe=function(t){Ut(n,t);var e=Vt(n);function n(){var r;At(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Ve(He(r),"priority",140),Ve(He(r),"incompatibleTokens",["R","u","t","T"]),r}return kt(n,[{key:"parse",value:function(i,s,o){switch(s){case"G":case"GG":case"GGG":return o.era(i,{width:"abbreviated"})||o.era(i,{width:"narrow"});case"GGGGG":return o.era(i,{width:"narrow"});case"GGGG":default:return o.era(i,{width:"wide"})||o.era(i,{width:"abbreviated"})||o.era(i,{width:"narrow"})}}},{key:"set",value:function(i,s,o){return s.era=o,i.setUTCFullYear(o,0,1),i.setUTCHours(0,0,0,0),i}}]),n}(Yt),jn={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},ws={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function Hn(t,e){return t&&{value:e(t.value),rest:t.rest}}function kn(t,e){var n=e.match(t);return n?{value:parseInt(n[0],10),rest:e.slice(n[0].length)}:null}function _s(t,e){var n=e.match(t);if(!n)return null;if(n[0]==="Z")return{value:0,rest:e.slice(1)};var r=n[1]==="+"?1:-1,i=n[2]?parseInt(n[2],10):0,s=n[3]?parseInt(n[3],10):0,o=n[5]?parseInt(n[5],10):0;return{value:r*(i*LT+s*MT+o*kse),rest:e.slice(n[0].length)}}function c$(t){return kn(jn.anyDigitsSigned,t)}function Un(t,e){switch(t){case 1:return kn(jn.singleDigit,e);case 2:return kn(jn.twoDigits,e);case 3:return kn(jn.threeDigits,e);case 4:return kn(jn.fourDigits,e);default:return kn(new RegExp("^\\d{1,"+t+"}"),e)}}function ig(t,e){switch(t){case 1:return kn(jn.singleDigitSigned,e);case 2:return kn(jn.twoDigitsSigned,e);case 3:return kn(jn.threeDigitsSigned,e);case 4:return kn(jn.fourDigitsSigned,e);default:return kn(new RegExp("^-?\\d{1,"+t+"}"),e)}}function FT(t){switch(t){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function d$(t,e){var n=e>0,r=n?e:1-e,i;if(r<=50)i=t||100;else{var s=r+50,o=Math.floor(s/100)*100,a=t>=s%100;i=t+o-(a?100:0)}return n?i:1-i}function f$(t){return t%400===0||t%4===0&&t%100!==0}var Qoe=function(t){Ut(n,t);var e=Vt(n);function n(){var r;At(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Ve(He(r),"priority",130),Ve(He(r),"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"]),r}return kt(n,[{key:"parse",value:function(i,s,o){var a=function(u){return{year:u,isTwoDigitYear:s==="yy"}};switch(s){case"y":return Hn(Un(4,i),a);case"yo":return Hn(o.ordinalNumber(i,{unit:"year"}),a);default:return Hn(Un(s.length,i),a)}}},{key:"validate",value:function(i,s){return s.isTwoDigitYear||s.year>0}},{key:"set",value:function(i,s,o){var a=i.getUTCFullYear();if(o.isTwoDigitYear){var l=d$(o.year,a);return i.setUTCFullYear(l,0,1),i.setUTCHours(0,0,0,0),i}var u=!("era"in s)||s.era===1?o.year:1-o.year;return i.setUTCFullYear(u,0,1),i.setUTCHours(0,0,0,0),i}}]),n}(Yt),Joe=function(t){Ut(n,t);var e=Vt(n);function n(){var r;At(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Ve(He(r),"priority",130),Ve(He(r),"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"]),r}return kt(n,[{key:"parse",value:function(i,s,o){var a=function(u){return{year:u,isTwoDigitYear:s==="YY"}};switch(s){case"Y":return Hn(Un(4,i),a);case"Yo":return Hn(o.ordinalNumber(i,{unit:"year"}),a);default:return Hn(Un(s.length,i),a)}}},{key:"validate",value:function(i,s){return s.isTwoDigitYear||s.year>0}},{key:"set",value:function(i,s,o,a){var l=$T(i,a);if(o.isTwoDigitYear){var u=d$(o.year,l);return i.setUTCFullYear(u,0,a.firstWeekContainsDate),i.setUTCHours(0,0,0,0),wl(i,a)}var c=!("era"in s)||s.era===1?o.year:1-o.year;return i.setUTCFullYear(c,0,a.firstWeekContainsDate),i.setUTCHours(0,0,0,0),wl(i,a)}}]),n}(Yt),Zoe=function(t){Ut(n,t);var e=Vt(n);function n(){var r;At(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Ve(He(r),"priority",130),Ve(He(r),"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"]),r}return kt(n,[{key:"parse",value:function(i,s){return ig(s==="R"?4:s.length,i)}},{key:"set",value:function(i,s,o){var a=new Date(0);return a.setUTCFullYear(o,0,4),a.setUTCHours(0,0,0,0),ac(a)}}]),n}(Yt),eae=function(t){Ut(n,t);var e=Vt(n);function n(){var r;At(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Ve(He(r),"priority",130),Ve(He(r),"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"]),r}return kt(n,[{key:"parse",value:function(i,s){return ig(s==="u"?4:s.length,i)}},{key:"set",value:function(i,s,o){return i.setUTCFullYear(o,0,1),i.setUTCHours(0,0,0,0),i}}]),n}(Yt),tae=function(t){Ut(n,t);var e=Vt(n);function n(){var r;At(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Ve(He(r),"priority",120),Ve(He(r),"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"]),r}return kt(n,[{key:"parse",value:function(i,s,o){switch(s){case"Q":case"QQ":return Un(s.length,i);case"Qo":return o.ordinalNumber(i,{unit:"quarter"});case"QQQ":return o.quarter(i,{width:"abbreviated",context:"formatting"})||o.quarter(i,{width:"narrow",context:"formatting"});case"QQQQQ":return o.quarter(i,{width:"narrow",context:"formatting"});case"QQQQ":default:return o.quarter(i,{width:"wide",context:"formatting"})||o.quarter(i,{width:"abbreviated",context:"formatting"})||o.quarter(i,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(i,s){return s>=1&&s<=4}},{key:"set",value:function(i,s,o){return i.setUTCMonth((o-1)*3,1),i.setUTCHours(0,0,0,0),i}}]),n}(Yt),nae=function(t){Ut(n,t);var e=Vt(n);function n(){var r;At(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Ve(He(r),"priority",120),Ve(He(r),"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"]),r}return kt(n,[{key:"parse",value:function(i,s,o){switch(s){case"q":case"qq":return Un(s.length,i);case"qo":return o.ordinalNumber(i,{unit:"quarter"});case"qqq":return o.quarter(i,{width:"abbreviated",context:"standalone"})||o.quarter(i,{width:"narrow",context:"standalone"});case"qqqqq":return o.quarter(i,{width:"narrow",context:"standalone"});case"qqqq":default:return o.quarter(i,{width:"wide",context:"standalone"})||o.quarter(i,{width:"abbreviated",context:"standalone"})||o.quarter(i,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(i,s){return s>=1&&s<=4}},{key:"set",value:function(i,s,o){return i.setUTCMonth((o-1)*3,1),i.setUTCHours(0,0,0,0),i}}]),n}(Yt),rae=function(t){Ut(n,t);var e=Vt(n);function n(){var r;At(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Ve(He(r),"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]),Ve(He(r),"priority",110),r}return kt(n,[{key:"parse",value:function(i,s,o){var a=function(u){return u-1};switch(s){case"M":return Hn(kn(jn.month,i),a);case"MM":return Hn(Un(2,i),a);case"Mo":return Hn(o.ordinalNumber(i,{unit:"month"}),a);case"MMM":return o.month(i,{width:"abbreviated",context:"formatting"})||o.month(i,{width:"narrow",context:"formatting"});case"MMMMM":return o.month(i,{width:"narrow",context:"formatting"});case"MMMM":default:return o.month(i,{width:"wide",context:"formatting"})||o.month(i,{width:"abbreviated",context:"formatting"})||o.month(i,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(i,s){return s>=0&&s<=11}},{key:"set",value:function(i,s,o){return i.setUTCMonth(o,1),i.setUTCHours(0,0,0,0),i}}]),n}(Yt),iae=function(t){Ut(n,t);var e=Vt(n);function n(){var r;At(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Ve(He(r),"priority",110),Ve(He(r),"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"]),r}return kt(n,[{key:"parse",value:function(i,s,o){var a=function(u){return u-1};switch(s){case"L":return Hn(kn(jn.month,i),a);case"LL":return Hn(Un(2,i),a);case"Lo":return Hn(o.ordinalNumber(i,{unit:"month"}),a);case"LLL":return o.month(i,{width:"abbreviated",context:"standalone"})||o.month(i,{width:"narrow",context:"standalone"});case"LLLLL":return o.month(i,{width:"narrow",context:"standalone"});case"LLLL":default:return o.month(i,{width:"wide",context:"standalone"})||o.month(i,{width:"abbreviated",context:"standalone"})||o.month(i,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(i,s){return s>=0&&s<=11}},{key:"set",value:function(i,s,o){return i.setUTCMonth(o,1),i.setUTCHours(0,0,0,0),i}}]),n}(Yt);function sae(t,e,n){We(2,arguments);var r=Ze(t),i=nt(e),s=n$(r,n)-i;return r.setUTCDate(r.getUTCDate()-s*7),r}var oae=function(t){Ut(n,t);var e=Vt(n);function n(){var r;At(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Ve(He(r),"priority",100),Ve(He(r),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"]),r}return kt(n,[{key:"parse",value:function(i,s,o){switch(s){case"w":return kn(jn.week,i);case"wo":return o.ordinalNumber(i,{unit:"week"});default:return Un(s.length,i)}}},{key:"validate",value:function(i,s){return s>=1&&s<=53}},{key:"set",value:function(i,s,o,a){return wl(sae(i,o,a),a)}}]),n}(Yt);function aae(t,e){We(2,arguments);var n=Ze(t),r=nt(e),i=t$(n)-r;return n.setUTCDate(n.getUTCDate()-i*7),n}var lae=function(t){Ut(n,t);var e=Vt(n);function n(){var r;At(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Ve(He(r),"priority",100),Ve(He(r),"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"]),r}return kt(n,[{key:"parse",value:function(i,s,o){switch(s){case"I":return kn(jn.week,i);case"Io":return o.ordinalNumber(i,{unit:"week"});default:return Un(s.length,i)}}},{key:"validate",value:function(i,s){return s>=1&&s<=53}},{key:"set",value:function(i,s,o){return ac(aae(i,o))}}]),n}(Yt),uae=[31,28,31,30,31,30,31,31,30,31,30,31],cae=[31,29,31,30,31,30,31,31,30,31,30,31],dae=function(t){Ut(n,t);var e=Vt(n);function n(){var r;At(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Ve(He(r),"priority",90),Ve(He(r),"subPriority",1),Ve(He(r),"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"]),r}return kt(n,[{key:"parse",value:function(i,s,o){switch(s){case"d":return kn(jn.date,i);case"do":return o.ordinalNumber(i,{unit:"date"});default:return Un(s.length,i)}}},{key:"validate",value:function(i,s){var o=i.getUTCFullYear(),a=f$(o),l=i.getUTCMonth();return a?s>=1&&s<=cae[l]:s>=1&&s<=uae[l]}},{key:"set",value:function(i,s,o){return i.setUTCDate(o),i.setUTCHours(0,0,0,0),i}}]),n}(Yt),fae=function(t){Ut(n,t);var e=Vt(n);function n(){var r;At(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Ve(He(r),"priority",90),Ve(He(r),"subpriority",1),Ve(He(r),"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"]),r}return kt(n,[{key:"parse",value:function(i,s,o){switch(s){case"D":case"DD":return kn(jn.dayOfYear,i);case"Do":return o.ordinalNumber(i,{unit:"date"});default:return Un(s.length,i)}}},{key:"validate",value:function(i,s){var o=i.getUTCFullYear(),a=f$(o);return a?s>=1&&s<=366:s>=1&&s<=365}},{key:"set",value:function(i,s,o){return i.setUTCMonth(0,o),i.setUTCHours(0,0,0,0),i}}]),n}(Yt);function UT(t,e,n){var r,i,s,o,a,l,u,c;We(2,arguments);var d=Us(),f=nt((r=(i=(s=(o=n==null?void 0:n.weekStartsOn)!==null&&o!==void 0?o:n==null||(a=n.locale)===null||a===void 0||(l=a.options)===null||l===void 0?void 0:l.weekStartsOn)!==null&&s!==void 0?s:d.weekStartsOn)!==null&&i!==void 0?i:(u=d.locale)===null||u===void 0||(c=u.options)===null||c===void 0?void 0:c.weekStartsOn)!==null&&r!==void 0?r:0);if(!(f>=0&&f<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var h=Ze(t),p=nt(e),m=h.getUTCDay(),g=p%7,y=(g+7)%7,v=(y<f?7:0)+p-m;return h.setUTCDate(h.getUTCDate()+v),h}var hae=function(t){Ut(n,t);var e=Vt(n);function n(){var r;At(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Ve(He(r),"priority",90),Ve(He(r),"incompatibleTokens",["D","i","e","c","t","T"]),r}return kt(n,[{key:"parse",value:function(i,s,o){switch(s){case"E":case"EE":case"EEE":return o.day(i,{width:"abbreviated",context:"formatting"})||o.day(i,{width:"short",context:"formatting"})||o.day(i,{width:"narrow",context:"formatting"});case"EEEEE":return o.day(i,{width:"narrow",context:"formatting"});case"EEEEEE":return o.day(i,{width:"short",context:"formatting"})||o.day(i,{width:"narrow",context:"formatting"});case"EEEE":default:return o.day(i,{width:"wide",context:"formatting"})||o.day(i,{width:"abbreviated",context:"formatting"})||o.day(i,{width:"short",context:"formatting"})||o.day(i,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(i,s){return s>=0&&s<=6}},{key:"set",value:function(i,s,o,a){return i=UT(i,o,a),i.setUTCHours(0,0,0,0),i}}]),n}(Yt),pae=function(t){Ut(n,t);var e=Vt(n);function n(){var r;At(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Ve(He(r),"priority",90),Ve(He(r),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"]),r}return kt(n,[{key:"parse",value:function(i,s,o,a){var l=function(c){var d=Math.floor((c-1)/7)*7;return(c+a.weekStartsOn+6)%7+d};switch(s){case"e":case"ee":return Hn(Un(s.length,i),l);case"eo":return Hn(o.ordinalNumber(i,{unit:"day"}),l);case"eee":return o.day(i,{width:"abbreviated",context:"formatting"})||o.day(i,{width:"short",context:"formatting"})||o.day(i,{width:"narrow",context:"formatting"});case"eeeee":return o.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return o.day(i,{width:"short",context:"formatting"})||o.day(i,{width:"narrow",context:"formatting"});case"eeee":default:return o.day(i,{width:"wide",context:"formatting"})||o.day(i,{width:"abbreviated",context:"formatting"})||o.day(i,{width:"short",context:"formatting"})||o.day(i,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(i,s){return s>=0&&s<=6}},{key:"set",value:function(i,s,o,a){return i=UT(i,o,a),i.setUTCHours(0,0,0,0),i}}]),n}(Yt),mae=function(t){Ut(n,t);var e=Vt(n);function n(){var r;At(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Ve(He(r),"priority",90),Ve(He(r),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"]),r}return kt(n,[{key:"parse",value:function(i,s,o,a){var l=function(c){var d=Math.floor((c-1)/7)*7;return(c+a.weekStartsOn+6)%7+d};switch(s){case"c":case"cc":return Hn(Un(s.length,i),l);case"co":return Hn(o.ordinalNumber(i,{unit:"day"}),l);case"ccc":return o.day(i,{width:"abbreviated",context:"standalone"})||o.day(i,{width:"short",context:"standalone"})||o.day(i,{width:"narrow",context:"standalone"});case"ccccc":return o.day(i,{width:"narrow",context:"standalone"});case"cccccc":return o.day(i,{width:"short",context:"standalone"})||o.day(i,{width:"narrow",context:"standalone"});case"cccc":default:return o.day(i,{width:"wide",context:"standalone"})||o.day(i,{width:"abbreviated",context:"standalone"})||o.day(i,{width:"short",context:"standalone"})||o.day(i,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(i,s){return s>=0&&s<=6}},{key:"set",value:function(i,s,o,a){return i=UT(i,o,a),i.setUTCHours(0,0,0,0),i}}]),n}(Yt);function gae(t,e){We(2,arguments);var n=nt(e);n%7===0&&(n=n-7);var r=1,i=Ze(t),s=i.getUTCDay(),o=n%7,a=(o+7)%7,l=(a<r?7:0)+n-s;return i.setUTCDate(i.getUTCDate()+l),i}var vae=function(t){Ut(n,t);var e=Vt(n);function n(){var r;At(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Ve(He(r),"priority",90),Ve(He(r),"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"]),r}return kt(n,[{key:"parse",value:function(i,s,o){var a=function(u){return u===0?7:u};switch(s){case"i":case"ii":return Un(s.length,i);case"io":return o.ordinalNumber(i,{unit:"day"});case"iii":return Hn(o.day(i,{width:"abbreviated",context:"formatting"})||o.day(i,{width:"short",context:"formatting"})||o.day(i,{width:"narrow",context:"formatting"}),a);case"iiiii":return Hn(o.day(i,{width:"narrow",context:"formatting"}),a);case"iiiiii":return Hn(o.day(i,{width:"short",context:"formatting"})||o.day(i,{width:"narrow",context:"formatting"}),a);case"iiii":default:return Hn(o.day(i,{width:"wide",context:"formatting"})||o.day(i,{width:"abbreviated",context:"formatting"})||o.day(i,{width:"short",context:"formatting"})||o.day(i,{width:"narrow",context:"formatting"}),a)}}},{key:"validate",value:function(i,s){return s>=1&&s<=7}},{key:"set",value:function(i,s,o){return i=gae(i,o),i.setUTCHours(0,0,0,0),i}}]),n}(Yt),yae=function(t){Ut(n,t);var e=Vt(n);function n(){var r;At(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Ve(He(r),"priority",80),Ve(He(r),"incompatibleTokens",["b","B","H","k","t","T"]),r}return kt(n,[{key:"parse",value:function(i,s,o){switch(s){case"a":case"aa":case"aaa":return o.dayPeriod(i,{width:"abbreviated",context:"formatting"})||o.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaaa":return o.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return o.dayPeriod(i,{width:"wide",context:"formatting"})||o.dayPeriod(i,{width:"abbreviated",context:"formatting"})||o.dayPeriod(i,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(i,s,o){return i.setUTCHours(FT(o),0,0,0),i}}]),n}(Yt),bae=function(t){Ut(n,t);var e=Vt(n);function n(){var r;At(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Ve(He(r),"priority",80),Ve(He(r),"incompatibleTokens",["a","B","H","k","t","T"]),r}return kt(n,[{key:"parse",value:function(i,s,o){switch(s){case"b":case"bb":case"bbb":return o.dayPeriod(i,{width:"abbreviated",context:"formatting"})||o.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbbb":return o.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return o.dayPeriod(i,{width:"wide",context:"formatting"})||o.dayPeriod(i,{width:"abbreviated",context:"formatting"})||o.dayPeriod(i,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(i,s,o){return i.setUTCHours(FT(o),0,0,0),i}}]),n}(Yt),wae=function(t){Ut(n,t);var e=Vt(n);function n(){var r;At(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Ve(He(r),"priority",80),Ve(He(r),"incompatibleTokens",["a","b","t","T"]),r}return kt(n,[{key:"parse",value:function(i,s,o){switch(s){case"B":case"BB":case"BBB":return o.dayPeriod(i,{width:"abbreviated",context:"formatting"})||o.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBBB":return o.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return o.dayPeriod(i,{width:"wide",context:"formatting"})||o.dayPeriod(i,{width:"abbreviated",context:"formatting"})||o.dayPeriod(i,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(i,s,o){return i.setUTCHours(FT(o),0,0,0),i}}]),n}(Yt),_ae=function(t){Ut(n,t);var e=Vt(n);function n(){var r;At(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Ve(He(r),"priority",70),Ve(He(r),"incompatibleTokens",["H","K","k","t","T"]),r}return kt(n,[{key:"parse",value:function(i,s,o){switch(s){case"h":return kn(jn.hour12h,i);case"ho":return o.ordinalNumber(i,{unit:"hour"});default:return Un(s.length,i)}}},{key:"validate",value:function(i,s){return s>=1&&s<=12}},{key:"set",value:function(i,s,o){var a=i.getUTCHours()>=12;return a&&o<12?i.setUTCHours(o+12,0,0,0):!a&&o===12?i.setUTCHours(0,0,0,0):i.setUTCHours(o,0,0,0),i}}]),n}(Yt),Tae=function(t){Ut(n,t);var e=Vt(n);function n(){var r;At(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Ve(He(r),"priority",70),Ve(He(r),"incompatibleTokens",["a","b","h","K","k","t","T"]),r}return kt(n,[{key:"parse",value:function(i,s,o){switch(s){case"H":return kn(jn.hour23h,i);case"Ho":return o.ordinalNumber(i,{unit:"hour"});default:return Un(s.length,i)}}},{key:"validate",value:function(i,s){return s>=0&&s<=23}},{key:"set",value:function(i,s,o){return i.setUTCHours(o,0,0,0),i}}]),n}(Yt),Sae=function(t){Ut(n,t);var e=Vt(n);function n(){var r;At(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Ve(He(r),"priority",70),Ve(He(r),"incompatibleTokens",["h","H","k","t","T"]),r}return kt(n,[{key:"parse",value:function(i,s,o){switch(s){case"K":return kn(jn.hour11h,i);case"Ko":return o.ordinalNumber(i,{unit:"hour"});default:return Un(s.length,i)}}},{key:"validate",value:function(i,s){return s>=0&&s<=11}},{key:"set",value:function(i,s,o){var a=i.getUTCHours()>=12;return a&&o<12?i.setUTCHours(o+12,0,0,0):i.setUTCHours(o,0,0,0),i}}]),n}(Yt),Eae=function(t){Ut(n,t);var e=Vt(n);function n(){var r;At(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Ve(He(r),"priority",70),Ve(He(r),"incompatibleTokens",["a","b","h","H","K","t","T"]),r}return kt(n,[{key:"parse",value:function(i,s,o){switch(s){case"k":return kn(jn.hour24h,i);case"ko":return o.ordinalNumber(i,{unit:"hour"});default:return Un(s.length,i)}}},{key:"validate",value:function(i,s){return s>=1&&s<=24}},{key:"set",value:function(i,s,o){var a=o<=24?o%24:o;return i.setUTCHours(a,0,0,0),i}}]),n}(Yt),Iae=function(t){Ut(n,t);var e=Vt(n);function n(){var r;At(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Ve(He(r),"priority",60),Ve(He(r),"incompatibleTokens",["t","T"]),r}return kt(n,[{key:"parse",value:function(i,s,o){switch(s){case"m":return kn(jn.minute,i);case"mo":return o.ordinalNumber(i,{unit:"minute"});default:return Un(s.length,i)}}},{key:"validate",value:function(i,s){return s>=0&&s<=59}},{key:"set",value:function(i,s,o){return i.setUTCMinutes(o,0,0),i}}]),n}(Yt),Cae=function(t){Ut(n,t);var e=Vt(n);function n(){var r;At(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Ve(He(r),"priority",50),Ve(He(r),"incompatibleTokens",["t","T"]),r}return kt(n,[{key:"parse",value:function(i,s,o){switch(s){case"s":return kn(jn.second,i);case"so":return o.ordinalNumber(i,{unit:"second"});default:return Un(s.length,i)}}},{key:"validate",value:function(i,s){return s>=0&&s<=59}},{key:"set",value:function(i,s,o){return i.setUTCSeconds(o,0),i}}]),n}(Yt),Oae=function(t){Ut(n,t);var e=Vt(n);function n(){var r;At(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Ve(He(r),"priority",30),Ve(He(r),"incompatibleTokens",["t","T"]),r}return kt(n,[{key:"parse",value:function(i,s){var o=function(l){return Math.floor(l*Math.pow(10,-s.length+3))};return Hn(Un(s.length,i),o)}},{key:"set",value:function(i,s,o){return i.setUTCMilliseconds(o),i}}]),n}(Yt),Aae=function(t){Ut(n,t);var e=Vt(n);function n(){var r;At(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Ve(He(r),"priority",10),Ve(He(r),"incompatibleTokens",["t","T","x"]),r}return kt(n,[{key:"parse",value:function(i,s){switch(s){case"X":return _s(ws.basicOptionalMinutes,i);case"XX":return _s(ws.basic,i);case"XXXX":return _s(ws.basicOptionalSeconds,i);case"XXXXX":return _s(ws.extendedOptionalSeconds,i);case"XXX":default:return _s(ws.extended,i)}}},{key:"set",value:function(i,s,o){return s.timestampIsSet?i:new Date(i.getTime()-o)}}]),n}(Yt),kae=function(t){Ut(n,t);var e=Vt(n);function n(){var r;At(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Ve(He(r),"priority",10),Ve(He(r),"incompatibleTokens",["t","T","X"]),r}return kt(n,[{key:"parse",value:function(i,s){switch(s){case"x":return _s(ws.basicOptionalMinutes,i);case"xx":return _s(ws.basic,i);case"xxxx":return _s(ws.basicOptionalSeconds,i);case"xxxxx":return _s(ws.extendedOptionalSeconds,i);case"xxx":default:return _s(ws.extended,i)}}},{key:"set",value:function(i,s,o){return s.timestampIsSet?i:new Date(i.getTime()-o)}}]),n}(Yt),Pae=function(t){Ut(n,t);var e=Vt(n);function n(){var r;At(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Ve(He(r),"priority",40),Ve(He(r),"incompatibleTokens","*"),r}return kt(n,[{key:"parse",value:function(i){return c$(i)}},{key:"set",value:function(i,s,o){return[new Date(o*1e3),{timestampIsSet:!0}]}}]),n}(Yt),xae=function(t){Ut(n,t);var e=Vt(n);function n(){var r;At(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Ve(He(r),"priority",20),Ve(He(r),"incompatibleTokens","*"),r}return kt(n,[{key:"parse",value:function(i){return c$(i)}},{key:"set",value:function(i,s,o){return[new Date(o),{timestampIsSet:!0}]}}]),n}(Yt),Dae={G:new Xoe,y:new Qoe,Y:new Joe,R:new Zoe,u:new eae,Q:new tae,q:new nae,M:new rae,L:new iae,w:new oae,I:new lae,d:new dae,D:new fae,E:new hae,e:new pae,c:new mae,i:new vae,a:new yae,b:new bae,B:new wae,h:new _ae,H:new Tae,K:new Sae,k:new Eae,m:new Iae,s:new Cae,S:new Oae,X:new Aae,x:new kae,t:new Pae,T:new xae},Rae=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Nae=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Mae=/^'([^]*?)'?$/,Lae=/''/g,$ae=/\S/,Fae=/[a-zA-Z]/;function Iw(t,e,n,r){var i,s,o,a,l,u,c,d,f,h,p,m,g,y,v,_,b,w;We(3,arguments);var T=String(t),P=String(e),A=Us(),O=(i=(s=r==null?void 0:r.locale)!==null&&s!==void 0?s:A.locale)!==null&&i!==void 0?i:o$;if(!O.match)throw new RangeError("locale must contain match property");var E=nt((o=(a=(l=(u=r==null?void 0:r.firstWeekContainsDate)!==null&&u!==void 0?u:r==null||(c=r.locale)===null||c===void 0||(d=c.options)===null||d===void 0?void 0:d.firstWeekContainsDate)!==null&&l!==void 0?l:A.firstWeekContainsDate)!==null&&a!==void 0?a:(f=A.locale)===null||f===void 0||(h=f.options)===null||h===void 0?void 0:h.firstWeekContainsDate)!==null&&o!==void 0?o:1);if(!(E>=1&&E<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var M=nt((p=(m=(g=(y=r==null?void 0:r.weekStartsOn)!==null&&y!==void 0?y:r==null||(v=r.locale)===null||v===void 0||(_=v.options)===null||_===void 0?void 0:_.weekStartsOn)!==null&&g!==void 0?g:A.weekStartsOn)!==null&&m!==void 0?m:(b=A.locale)===null||b===void 0||(w=b.options)===null||w===void 0?void 0:w.weekStartsOn)!==null&&p!==void 0?p:0);if(!(M>=0&&M<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(P==="")return T===""?Ze(n):new Date(NaN);var F={firstWeekContainsDate:E,weekStartsOn:M,locale:O},N=[new qoe],x=P.match(Nae).map(function(oe){var X=oe[0];if(X in Sw){var fe=Sw[X];return fe(oe,O.formatLong)}return oe}).join("").match(Rae),R=[],D=fA(x),B;try{var G=function(){var X=B.value;!(r!=null&&r.useAdditionalWeekYearTokens)&&s$(X)&&ng(X,P,t),!(r!=null&&r.useAdditionalDayOfYearTokens)&&i$(X)&&ng(X,P,t);var fe=X[0],be=Dae[fe];if(be){var se=be.incompatibleTokens;if(Array.isArray(se)){var C=R.find(function(H){return se.includes(H.token)||H.token===fe});if(C)throw new RangeError("The format string mustn't contain `".concat(C.fullToken,"` and `").concat(X,"` at the same time"))}else if(be.incompatibleTokens==="*"&&R.length>0)throw new RangeError("The format string mustn't contain `".concat(X,"` and any other token at the same time"));R.push({token:fe,fullToken:X});var L=be.run(T,X,O.match,F);if(!L)return{v:new Date(NaN)};N.push(L.setter),T=L.rest}else{if(fe.match(Fae))throw new RangeError("Format string contains an unescaped latin alphabet character `"+fe+"`");if(X==="''"?X="'":fe==="'"&&(X=Uae(X)),T.indexOf(X)===0)T=T.slice(X.length);else return{v:new Date(NaN)}}};for(D.s();!(B=D.n()).done;){var $=G();if(ji($)==="object")return $.v}}catch(oe){D.e(oe)}finally{D.f()}if(T.length>0&&$ae.test(T))return new Date(NaN);var I=N.map(function(oe){return oe.priority}).sort(function(oe,X){return X-oe}).filter(function(oe,X,fe){return fe.indexOf(oe)===X}).map(function(oe){return N.filter(function(X){return X.priority===oe}).sort(function(X,fe){return fe.subPriority-X.subPriority})}).map(function(oe){return oe[0]}),Z=Ze(n);if(isNaN(Z.getTime()))return new Date(NaN);var te=ZL(Z,tg(Z)),me={},ve=fA(I),ne;try{for(ve.s();!(ne=ve.n()).done;){var j=ne.value;if(!j.validate(te,F))return new Date(NaN);var z=j.set(te,me,F);Array.isArray(z)?(te=z[0],Moe(me,z[1])):te=z}}catch(oe){ve.e(oe)}finally{ve.f()}return te}function Uae(t){return t.match(Mae)[1].replace(Lae,"'")}function pA(t,e){We(2,arguments);var n=Pf(t),r=Pf(e);return n.getTime()===r.getTime()}function Vae(t,e){We(2,arguments);var n=nt(e);return Ws(t,-n)}function Bae(t,e){var n;We(1,arguments);var r=nt((n=e==null?void 0:e.additionalDigits)!==null&&n!==void 0?n:2);if(r!==2&&r!==1&&r!==0)throw new RangeError("additionalDigits must be 0, 1 or 2");if(!(typeof t=="string"||Object.prototype.toString.call(t)==="[object String]"))return new Date(NaN);var i=Kae(t),s;if(i.date){var o=zae(i.date,r);s=Gae(o.restDateString,o.year)}if(!s||isNaN(s.getTime()))return new Date(NaN);var a=s.getTime(),l=0,u;if(i.time&&(l=Yae(i.time),isNaN(l)))return new Date(NaN);if(i.timezone){if(u=qae(i.timezone),isNaN(u))return new Date(NaN)}else{var c=new Date(a+l),d=new Date(0);return d.setFullYear(c.getUTCFullYear(),c.getUTCMonth(),c.getUTCDate()),d.setHours(c.getUTCHours(),c.getUTCMinutes(),c.getUTCSeconds(),c.getUTCMilliseconds()),d}return new Date(a+l+u)}var vp={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},jae=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,Hae=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,Wae=/^([+-])(\d{2})(?::?(\d{2}))?$/;function Kae(t){var e={},n=t.split(vp.dateTimeDelimiter),r;if(n.length>2)return e;if(/:/.test(n[0])?r=n[0]:(e.date=n[0],r=n[1],vp.timeZoneDelimiter.test(e.date)&&(e.date=t.split(vp.timeZoneDelimiter)[0],r=t.substr(e.date.length,t.length))),r){var i=vp.timezone.exec(r);i?(e.time=r.replace(i[1],""),e.timezone=i[1]):e.time=r}return e}function zae(t,e){var n=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+e)+"})|(\\d{2}|[+-]\\d{"+(2+e)+"})$)"),r=t.match(n);if(!r)return{year:NaN,restDateString:""};var i=r[1]?parseInt(r[1]):null,s=r[2]?parseInt(r[2]):null;return{year:s===null?i:s*100,restDateString:t.slice((r[1]||r[2]).length)}}function Gae(t,e){if(e===null)return new Date(NaN);var n=t.match(jae);if(!n)return new Date(NaN);var r=!!n[4],i=Wc(n[1]),s=Wc(n[2])-1,o=Wc(n[3]),a=Wc(n[4]),l=Wc(n[5])-1;if(r)return ele(e,a,l)?Xae(e,a,l):new Date(NaN);var u=new Date(0);return!Jae(e,s,o)||!Zae(e,i)?new Date(NaN):(u.setUTCFullYear(e,s,Math.max(i,o)),u)}function Wc(t){return t?parseInt(t):1}function Yae(t){var e=t.match(Hae);if(!e)return NaN;var n=s0(e[1]),r=s0(e[2]),i=s0(e[3]);return tle(n,r,i)?n*LT+r*MT+i*1e3:NaN}function s0(t){return t&&parseFloat(t.replace(",","."))||0}function qae(t){if(t==="Z")return 0;var e=t.match(Wae);if(!e)return 0;var n=e[1]==="+"?-1:1,r=parseInt(e[2]),i=e[3]&&parseInt(e[3])||0;return nle(r,i)?n*(r*LT+i*MT):NaN}function Xae(t,e,n){var r=new Date(0);r.setUTCFullYear(t,0,4);var i=r.getUTCDay()||7,s=(e-1)*7+n+1-i;return r.setUTCDate(r.getUTCDate()+s),r}var Qae=[31,null,31,30,31,30,31,31,30,31,30,31];function h$(t){return t%400===0||t%4===0&&t%100!==0}function Jae(t,e,n){return e>=0&&e<=11&&n>=1&&n<=(Qae[e]||(h$(t)?29:28))}function Zae(t,e){return e>=1&&e<=(h$(t)?366:365)}function ele(t,e,n){return e>=1&&e<=53&&n>=0&&n<=6}function tle(t,e,n){return t===24?e===0&&n===0:n>=0&&n<60&&e>=0&&e<60&&t>=0&&t<25}function nle(t,e){return e>=0&&e<=59}function p$(t,e){We(2,arguments);var n=Ze(t),r=nt(e),i=n.getFullYear(),s=n.getDate(),o=new Date(0);o.setFullYear(i,r,15),o.setHours(0,0,0,0);var a=$oe(o);return n.setMonth(r,Math.min(s,a)),n}function yn(t,e){if(We(2,arguments),ji(e)!=="object"||e===null)throw new RangeError("values parameter must be an object");var n=Ze(t);return isNaN(n.getTime())?new Date(NaN):(e.year!=null&&n.setFullYear(e.year),e.month!=null&&(n=p$(n,e.month)),e.date!=null&&n.setDate(nt(e.date)),e.hours!=null&&n.setHours(nt(e.hours)),e.minutes!=null&&n.setMinutes(nt(e.minutes)),e.seconds!=null&&n.setSeconds(nt(e.seconds)),e.milliseconds!=null&&n.setMilliseconds(nt(e.milliseconds)),n)}function m$(t,e){We(2,arguments);var n=Ze(t),r=nt(e);return n.setHours(r),n}function VT(t,e){We(2,arguments);var n=Ze(t),r=nt(e);return n.setMilliseconds(r),n}function g$(t,e){We(2,arguments);var n=Ze(t),r=nt(e);return n.setMinutes(r),n}function BT(t,e){We(2,arguments);var n=Ze(t),r=nt(e);return n.setSeconds(r),n}function Os(t,e){We(2,arguments);var n=Ze(t),r=nt(e);return isNaN(n.getTime())?new Date(NaN):(n.setFullYear(r),n)}function uc(t,e){We(2,arguments);var n=nt(e);return ss(t,-n)}function rle(t,e){if(We(2,arguments),!e||ji(e)!=="object")return new Date(NaN);var n=e.years?nt(e.years):0,r=e.months?nt(e.months):0,i=e.weeks?nt(e.weeks):0,s=e.days?nt(e.days):0,o=e.hours?nt(e.hours):0,a=e.minutes?nt(e.minutes):0,l=e.seconds?nt(e.seconds):0,u=uc(t,r+n*12),c=Vae(u,s+i*7),d=a+o*60,f=l+d*60,h=f*1e3,p=new Date(c.getTime()-h);return p}function v$(t,e){We(2,arguments);var n=nt(e);return NT(t,-n)}function Cc(){return S(),V("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[K("path",{d:"M29.333 8c0-2.208-1.792-4-4-4h-18.667c-2.208 0-4 1.792-4 4v18.667c0 2.208 1.792 4 4 4h18.667c2.208 0 4-1.792 4-4v-18.667zM26.667 8v18.667c0 0.736-0.597 1.333-1.333 1.333 0 0-18.667 0-18.667 0-0.736 0-1.333-0.597-1.333-1.333 0 0 0-18.667 0-18.667 0-0.736 0.597-1.333 1.333-1.333 0 0 18.667 0 18.667 0 0.736 0 1.333 0.597 1.333 1.333z"}),K("path",{d:"M20 2.667v5.333c0 0.736 0.597 1.333 1.333 1.333s1.333-0.597 1.333-1.333v-5.333c0-0.736-0.597-1.333-1.333-1.333s-1.333 0.597-1.333 1.333z"}),K("path",{d:"M9.333 2.667v5.333c0 0.736 0.597 1.333 1.333 1.333s1.333-0.597 1.333-1.333v-5.333c0-0.736-0.597-1.333-1.333-1.333s-1.333 0.597-1.333 1.333z"}),K("path",{d:"M4 14.667h24c0.736 0 1.333-0.597 1.333-1.333s-0.597-1.333-1.333-1.333h-24c-0.736 0-1.333 0.597-1.333 1.333s0.597 1.333 1.333 1.333z"})])}Cc.compatConfig={MODE:3};function y$(){return S(),V("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[K("path",{d:"M23.057 7.057l-16 16c-0.52 0.52-0.52 1.365 0 1.885s1.365 0.52 1.885 0l16-16c0.52-0.52 0.52-1.365 0-1.885s-1.365-0.52-1.885 0z"}),K("path",{d:"M7.057 8.943l16 16c0.52 0.52 1.365 0.52 1.885 0s0.52-1.365 0-1.885l-16-16c-0.52-0.52-1.365-0.52-1.885 0s-0.52 1.365 0 1.885z"})])}y$.compatConfig={MODE:3};function jT(){return S(),V("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[K("path",{d:"M20.943 23.057l-7.057-7.057c0 0 7.057-7.057 7.057-7.057 0.52-0.52 0.52-1.365 0-1.885s-1.365-0.52-1.885 0l-8 8c-0.521 0.521-0.521 1.365 0 1.885l8 8c0.52 0.52 1.365 0.52 1.885 0s0.52-1.365 0-1.885z"})])}jT.compatConfig={MODE:3};function HT(){return S(),V("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[K("path",{d:"M12.943 24.943l8-8c0.521-0.521 0.521-1.365 0-1.885l-8-8c-0.52-0.52-1.365-0.52-1.885 0s-0.52 1.365 0 1.885l7.057 7.057c0 0-7.057 7.057-7.057 7.057-0.52 0.52-0.52 1.365 0 1.885s1.365 0.52 1.885 0z"})])}HT.compatConfig={MODE:3};function WT(){return S(),V("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[K("path",{d:"M16 1.333c-8.095 0-14.667 6.572-14.667 14.667s6.572 14.667 14.667 14.667c8.095 0 14.667-6.572 14.667-14.667s-6.572-14.667-14.667-14.667zM16 4c6.623 0 12 5.377 12 12s-5.377 12-12 12c-6.623 0-12-5.377-12-12s5.377-12 12-12z"}),K("path",{d:"M14.667 8v8c0 0.505 0.285 0.967 0.737 1.193l5.333 2.667c0.658 0.329 1.46 0.062 1.789-0.596s0.062-1.46-0.596-1.789l-4.596-2.298c0 0 0-7.176 0-7.176 0-0.736-0.597-1.333-1.333-1.333s-1.333 0.597-1.333 1.333z"})])}WT.compatConfig={MODE:3};function KT(){return S(),V("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[K("path",{d:"M24.943 19.057l-8-8c-0.521-0.521-1.365-0.521-1.885 0l-8 8c-0.52 0.52-0.52 1.365 0 1.885s1.365 0.52 1.885 0l7.057-7.057c0 0 7.057 7.057 7.057 7.057 0.52 0.52 1.365 0.52 1.885 0s0.52-1.365 0-1.885z"})])}KT.compatConfig={MODE:3};function zT(){return S(),V("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[K("path",{d:"M7.057 12.943l8 8c0.521 0.521 1.365 0.521 1.885 0l8-8c0.52-0.52 0.52-1.365 0-1.885s-1.365-0.52-1.885 0l-7.057 7.057c0 0-7.057-7.057-7.057-7.057-0.52-0.52-1.365-0.52-1.885 0s-0.52 1.365 0 1.885z"})])}zT.compatConfig={MODE:3};function GT(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var b$={exports:{}};(function(t){function e(n){return n&&n.__esModule?n:{default:n}}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports})(b$);var ile=b$.exports,Cw={exports:{}};(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=n;function n(r){if(r===null||r===!0||r===!1)return NaN;var i=Number(r);return isNaN(i)?i:i<0?Math.ceil(i):Math.floor(i)}t.exports=e.default})(Cw,Cw.exports);var sle=Cw.exports;const ole=GT(sle);var Ow={exports:{}};(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=n;function n(r){var i=new Date(Date.UTC(r.getFullYear(),r.getMonth(),r.getDate(),r.getHours(),r.getMinutes(),r.getSeconds(),r.getMilliseconds()));return i.setUTCFullYear(r.getFullYear()),r.getTime()-i.getTime()}t.exports=e.default})(Ow,Ow.exports);var ale=Ow.exports;const mA=GT(ale);function lle(t,e){var n=fle(e);return n.formatToParts?cle(n,t):dle(n,t)}var ule={year:0,month:1,day:2,hour:3,minute:4,second:5};function cle(t,e){try{for(var n=t.formatToParts(e),r=[],i=0;i<n.length;i++){var s=ule[n[i].type];s>=0&&(r[s]=parseInt(n[i].value,10))}return r}catch(o){if(o instanceof RangeError)return[NaN];throw o}}function dle(t,e){var n=t.format(e).replace(/\u200E/g,""),r=/(\d+)\/(\d+)\/(\d+),? (\d+):(\d+):(\d+)/.exec(n);return[r[3],r[1],r[2],r[4],r[5],r[6]]}var o0={};function fle(t){if(!o0[t]){var e=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:"America/New_York",year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}).format(new Date("2014-06-25T04:00:00.123Z")),n=e==="06/25/2014, 00:00:00"||e==="‎06‎/‎25‎/‎2014‎ ‎00‎:‎00‎:‎00";o0[t]=n?new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:t,year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}):new Intl.DateTimeFormat("en-US",{hourCycle:"h23",timeZone:t,year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"})}return o0[t]}function YT(t,e,n,r,i,s,o){var a=new Date(0);return a.setUTCFullYear(t,e,n),a.setUTCHours(r,i,s,o),a}var gA=36e5,hle=6e4,a0={timezone:/([Z+-].*)$/,timezoneZ:/^(Z)$/,timezoneHH:/^([+-]\d{2})$/,timezoneHHMM:/^([+-]\d{2}):?(\d{2})$/};function qT(t,e,n){var r,i;if(t===""||(r=a0.timezoneZ.exec(t),r))return 0;var s;if(r=a0.timezoneHH.exec(t),r)return s=parseInt(r[1],10),vA(s)?-(s*gA):NaN;if(r=a0.timezoneHHMM.exec(t),r){s=parseInt(r[1],10);var o=parseInt(r[2],10);return vA(s,o)?(i=Math.abs(s)*gA+o*hle,s>0?-i:i):NaN}if(gle(t)){e=new Date(e||Date.now());var a=n?e:ple(e),l=Aw(a,t),u=n?l:mle(e,l,t);return-u}return NaN}function ple(t){return YT(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds())}function Aw(t,e){var n=lle(t,e),r=YT(n[0],n[1]-1,n[2],n[3]%24,n[4],n[5],0).getTime(),i=t.getTime(),s=i%1e3;return i-=s>=0?s:1e3+s,r-i}function mle(t,e,n){var r=t.getTime(),i=r-e,s=Aw(new Date(i),n);if(e===s)return e;i-=s-e;var o=Aw(new Date(i),n);return s===o?s:Math.max(s,o)}function vA(t,e){return-23<=t&&t<=23&&(e==null||0<=e&&e<=59)}var yA={};function gle(t){if(yA[t])return!0;try{return new Intl.DateTimeFormat(void 0,{timeZone:t}),yA[t]=!0,!0}catch{return!1}}var w$=/(Z|[+-]\d{2}(?::?\d{2})?| UTC| [a-zA-Z]+\/[a-zA-Z_]+(?:\/[a-zA-Z_]+)?)$/,l0=36e5,bA=6e4,vle=2,Yr={dateTimePattern:/^([0-9W+-]+)(T| )(.*)/,datePattern:/^([0-9W+-]+)(.*)/,plainTime:/:/,YY:/^(\d{2})$/,YYY:[/^([+-]\d{2})$/,/^([+-]\d{3})$/,/^([+-]\d{4})$/],YYYY:/^(\d{4})/,YYYYY:[/^([+-]\d{4})/,/^([+-]\d{5})/,/^([+-]\d{6})/],MM:/^-(\d{2})$/,DDD:/^-?(\d{3})$/,MMDD:/^-?(\d{2})-?(\d{2})$/,Www:/^-?W(\d{2})$/,WwwD:/^-?W(\d{2})-?(\d{1})$/,HH:/^(\d{2}([.,]\d*)?)$/,HHMM:/^(\d{2}):?(\d{2}([.,]\d*)?)$/,HHMMSS:/^(\d{2}):?(\d{2}):?(\d{2}([.,]\d*)?)$/,timeZone:w$};function kw(t,e){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");if(t===null)return new Date(NaN);var n=e||{},r=n.additionalDigits==null?vle:ole(n.additionalDigits);if(r!==2&&r!==1&&r!==0)throw new RangeError("additionalDigits must be 0, 1 or 2");if(t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]")return new Date(t.getTime());if(typeof t=="number"||Object.prototype.toString.call(t)==="[object Number]")return new Date(t);if(!(typeof t=="string"||Object.prototype.toString.call(t)==="[object String]"))return new Date(NaN);var i=yle(t),s=ble(i.date,r),o=s.year,a=s.restDateString,l=wle(a,o);if(isNaN(l))return new Date(NaN);if(l){var u=l.getTime(),c=0,d;if(i.time&&(c=_le(i.time),isNaN(c)))return new Date(NaN);if(i.timeZone||n.timeZone){if(d=qT(i.timeZone||n.timeZone,new Date(u+c)),isNaN(d))return new Date(NaN)}else d=mA(new Date(u+c)),d=mA(new Date(u+c+d));return new Date(u+c+d)}else return new Date(NaN)}function yle(t){var e={},n=Yr.dateTimePattern.exec(t),r;if(n?(e.date=n[1],r=n[3]):(n=Yr.datePattern.exec(t),n?(e.date=n[1],r=n[2]):(e.date=null,r=t)),r){var i=Yr.timeZone.exec(r);i?(e.time=r.replace(i[1],""),e.timeZone=i[1].trim()):e.time=r}return e}function ble(t,e){var n=Yr.YYY[e],r=Yr.YYYYY[e],i;if(i=Yr.YYYY.exec(t)||r.exec(t),i){var s=i[1];return{year:parseInt(s,10),restDateString:t.slice(s.length)}}if(i=Yr.YY.exec(t)||n.exec(t),i){var o=i[1];return{year:parseInt(o,10)*100,restDateString:t.slice(o.length)}}return{year:null}}function wle(t,e){if(e===null)return null;var n,r,i,s;if(t.length===0)return r=new Date(0),r.setUTCFullYear(e),r;if(n=Yr.MM.exec(t),n)return r=new Date(0),i=parseInt(n[1],10)-1,_A(e,i)?(r.setUTCFullYear(e,i),r):new Date(NaN);if(n=Yr.DDD.exec(t),n){r=new Date(0);var o=parseInt(n[1],10);return Ele(e,o)?(r.setUTCFullYear(e,0,o),r):new Date(NaN)}if(n=Yr.MMDD.exec(t),n){r=new Date(0),i=parseInt(n[1],10)-1;var a=parseInt(n[2],10);return _A(e,i,a)?(r.setUTCFullYear(e,i,a),r):new Date(NaN)}if(n=Yr.Www.exec(t),n)return s=parseInt(n[1],10)-1,TA(e,s)?wA(e,s):new Date(NaN);if(n=Yr.WwwD.exec(t),n){s=parseInt(n[1],10)-1;var l=parseInt(n[2],10)-1;return TA(e,s,l)?wA(e,s,l):new Date(NaN)}return null}function _le(t){var e,n,r;if(e=Yr.HH.exec(t),e)return n=parseFloat(e[1].replace(",",".")),u0(n)?n%24*l0:NaN;if(e=Yr.HHMM.exec(t),e)return n=parseInt(e[1],10),r=parseFloat(e[2].replace(",",".")),u0(n,r)?n%24*l0+r*bA:NaN;if(e=Yr.HHMMSS.exec(t),e){n=parseInt(e[1],10),r=parseInt(e[2],10);var i=parseFloat(e[3].replace(",","."));return u0(n,r,i)?n%24*l0+r*bA+i*1e3:NaN}return null}function wA(t,e,n){e=e||0,n=n||0;var r=new Date(0);r.setUTCFullYear(t,0,4);var i=r.getUTCDay()||7,s=e*7+n+1-i;return r.setUTCDate(r.getUTCDate()+s),r}var Tle=[31,28,31,30,31,30,31,31,30,31,30,31],Sle=[31,29,31,30,31,30,31,31,30,31,30,31];function _$(t){return t%400===0||t%4===0&&t%100!==0}function _A(t,e,n){if(e<0||e>11)return!1;if(n!=null){if(n<1)return!1;var r=_$(t);if(r&&n>Sle[e]||!r&&n>Tle[e])return!1}return!0}function Ele(t,e){if(e<1)return!1;var n=_$(t);return!(n&&e>366||!n&&e>365)}function TA(t,e,n){return!(e<0||e>52||n!=null&&(n<0||n>6))}function u0(t,e,n){return!(t!=null&&(t<0||t>=25)||e!=null&&(e<0||e>=60)||n!=null&&(n<0||n>=60))}var Pw={exports:{}},xw={exports:{}};(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=n;function n(r,i){if(r==null)throw new TypeError("assign requires that input parameter not be null or undefined");for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(r[s]=i[s]);return r}t.exports=e.default})(xw,xw.exports);var Ile=xw.exports;(function(t,e){var n=ile.default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=i;var r=n(Ile);function i(s){return(0,r.default)({},s)}t.exports=e.default})(Pw,Pw.exports);var Cle=Pw.exports;const Ole=GT(Cle);function Ale(t,e,n){var r=kw(t,n),i=qT(e,r,!0),s=new Date(r.getTime()-i),o=new Date(0);return o.setFullYear(s.getUTCFullYear(),s.getUTCMonth(),s.getUTCDate()),o.setHours(s.getUTCHours(),s.getUTCMinutes(),s.getUTCSeconds(),s.getUTCMilliseconds()),o}function kle(t,e,n){if(typeof t=="string"&&!t.match(w$)){var r=Ole(n);return r.timeZone=e,kw(t,r)}var i=kw(t,n),s=YT(i.getFullYear(),i.getMonth(),i.getDate(),i.getHours(),i.getMinutes(),i.getSeconds(),i.getMilliseconds()).getTime(),o=qT(e,new Date(s));return new Date(s+o)}function SA(t){return e=>new Intl.DateTimeFormat(t,{weekday:"short",timeZone:"UTC"}).format(new Date(`2017-01-0${e}T00:00:00+00:00`)).slice(0,2)}function Ple(t){return e=>qo(new Date(`2017-01-0${e}T00:00:00+00:00`),"EEEEEE",{locale:t})}const xle=(t,e,n)=>{const r=[1,2,3,4,5,6,7];let i;if(t!==null)try{i=r.map(Ple(t))}catch{i=r.map(SA(e))}else i=r.map(SA(e));const s=i.slice(0,n),o=i.slice(n+1,i.length);return[i[n]].concat(...o).concat(...s)},XT=(t,e)=>{const n=[];for(let r=+t[0];r<=+t[1];r++)n.push({value:+r,text:`${r}`});return e?n.reverse():n},T$=(t,e,n)=>{const r=[1,2,3,4,5,6,7,8,9,10,11,12].map(s=>{const o=s<10?`0${s}`:s;return new Date(`2017-${o}-01T00:00:00+00:00`)});if(t!==null)try{const s=n==="long"?"MMMM":"MMM";return r.map((o,a)=>{const l=qo(o,s,{locale:t});return{text:l.charAt(0).toUpperCase()+l.substring(1),value:a}})}catch{}const i=new Intl.DateTimeFormat(e,{month:n,timeZone:"UTC"});return r.map((s,o)=>{const a=i.format(s);return{text:a.charAt(0).toUpperCase()+a.substring(1),value:o}})},Dle=t=>[12,1,2,3,4,5,6,7,8,9,10,11,12,1,2,3,4,5,6,7,8,9,10,11][t],tr=t=>{const e=k(t);return e!=null&&e.$el?e==null?void 0:e.$el:e},Rle=t=>Object.assign({type:"dot"},t),S$=t=>Array.isArray(t)?!!t[0]&&!!t[1]:!1,sg={prop:t=>`"${t}" prop must be enabled!`,dateArr:t=>`You need to use array as "model-value" binding in order to support "${t}"`},ar=t=>t,EA=t=>t===0?t:!t||isNaN(+t)?null:+t,IA=t=>t===null,Nle=t=>{if(t)return[...t.querySelectorAll("input, button, select, textarea, a[href]")][0]},Mle=t=>{const e=[],n=r=>r.filter(i=>i);for(let r=0;r<t.length;r+=3){const i=[t[r],t[r+1],t[r+2]];e.push(n(i))}return e},Rf=(t,e,n)=>{const r=n!=null,i=e!=null;if(!r&&!i)return!1;const s=+n,o=+e;return r&&i?+t>s||+t<o:r?+t>s:i?+t<o:!1},cc=(t,e)=>Mle(t).map(n=>n.map(r=>{const{active:i,disabled:s,isBetween:o,highlighted:a}=e(r);return{...r,active:i,disabled:s,className:{dp__overlay_cell_active:i,dp__overlay_cell:!i,dp__overlay_cell_disabled:s,dp__overlay_cell_pad:!0,dp__overlay_cell_active_disabled:s&&i,dp__cell_in_between:o,"dp--highlighted":a}}})),Xo=(t,e,n=!1)=>{t&&e.allowStopPropagation&&(n&&t.stopImmediatePropagation(),t.stopPropagation())},Lle=()=>["a[href]","area[href]","input:not([disabled]):not([type='hidden'])","select:not([disabled])","textarea:not([disabled])","button:not([disabled])","[tabindex]:not([tabindex='-1'])","[data-datepicker-instance]"].join(", ");function $le(t,e){let n=[...document.querySelectorAll(Lle())];n=n.filter(i=>!t.contains(i)||i.hasAttribute("data-datepicker-instance"));const r=n.indexOf(t);if(r>=0&&(e?r-1>=0:r+1<=n.length))return n[r+(e?-1:1)]}const Fle=(t,e)=>{let n;return function(...r){clearTimeout(n),n=setTimeout(()=>{t(...r)},e)}},CA=(t,e,n,r,i)=>{const s=Iw(t,e.slice(0,t.length),new Date);return Fd(s)&&QL(s)?r||i?s:yn(s,{hours:+n.hours,minutes:+(n==null?void 0:n.minutes),seconds:+(n==null?void 0:n.seconds),milliseconds:0}):null},Ule=(t,e,n,r,i)=>{const s=Array.isArray(n)?n[0]:n;if(typeof e=="string")return CA(t,e,s,r,i);if(Array.isArray(e)){let o=null;for(const a of e)if(o=CA(t,a,s,r,i),o)break;return o}return typeof e=="function"?e(t):null},_e=t=>t?new Date(t):new Date,Vle=(t,e,n)=>{if(e){const i=(t.getMonth()+1).toString().padStart(2,"0"),s=t.getDate().toString().padStart(2,"0"),o=t.getHours().toString().padStart(2,"0"),a=t.getMinutes().toString().padStart(2,"0"),l=n?t.getSeconds().toString().padStart(2,"0"):"00";return`${t.getFullYear()}-${i}-${s}T${o}:${a}:${l}.000Z`}const r=Date.UTC(t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate(),t.getUTCHours(),t.getUTCMinutes(),t.getUTCSeconds());return new Date(r).toISOString()},Br=t=>{let e=_e(JSON.parse(JSON.stringify(t)));return e=m$(e,0),e=g$(e,0),e=BT(e,0),e=VT(e,0),e},Qo=(t,e,n,r)=>{let i=t?_e(t):_e();return(e||e===0)&&(i=m$(i,+e)),(n||n===0)&&(i=g$(i,+n)),(r||r===0)&&(i=BT(i,+r)),VT(i,0)},Sr=(t,e)=>!t||!e?!1:Df(Br(t),Br(e)),Wt=(t,e)=>!t||!e?!1:mu(Br(t),Br(e)),$r=(t,e)=>!t||!e?!1:xf(Br(t),Br(e)),kv=(t,e,n)=>t!=null&&t[0]&&t!=null&&t[1]?$r(n,t[0])&&Sr(n,t[1]):t!=null&&t[0]&&e?$r(n,t[0])&&Sr(n,e)||Sr(n,t[0])&&$r(n,e):!1,Zi=t=>{const e=yn(new Date(t),{date:1});return Br(e)},c0=(t,e,n)=>e&&(n||n===0)?Object.fromEntries(["hours","minutes","seconds"].map(r=>r===e?[r,n]:[r,isNaN(+t[r])?void 0:+t[r]])):{hours:isNaN(+t.hours)?void 0:+t.hours,minutes:isNaN(+t.minutes)?void 0:+t.minutes,seconds:isNaN(+t.seconds)?void 0:+t.seconds},qa=t=>({hours:os(t),minutes:Rs(t),seconds:lc(t)}),E$=(t,e)=>{if(e){const n=bt(_e(e));if(n>t)return 12;if(n===t)return Mt(_e(e))}},I$=(t,e)=>{if(e){const n=bt(_e(e));return n<t?-1:n===t?Mt(_e(e)):void 0}},dc=t=>{if(t)return bt(_e(t))},as=(t,e)=>e?Ale(t,e):t,C$=(t,e)=>e?kle(t,e):t,Ble=t=>t instanceof Date?t:Bae(t),O$=(t,e)=>{const n=$r(t,e)?e:t,r=$r(e,t)?e:t;return JL({start:n,end:r})},jle=t=>{const e=ss(t,1);return{month:Mt(e),year:bt(e)}},Wp=(t,e,n)=>{const r=bl(as(t,e),{weekStartsOn:+n}),i=Rse(as(t,e),{weekStartsOn:+n});return[r,i]},A$=(t,e)=>{const n={hours:os(_e()),minutes:Rs(_e()),seconds:e?lc(_e()):0};return Object.assign(n,t)},Bo=(t,e,n)=>[yn(_e(t),{date:1}),yn(_e(),{month:e,year:n,date:1})],qs=(t,e,n)=>{let r=t?_e(t):_e();return(e||e===0)&&(r=p$(r,e)),n&&(r=Os(r,n)),r},k$=(t,e,n,r,i)=>{if(!r||i&&!e||!i&&!n)return!1;const s=i?ss(t,1):uc(t,1),o=[Mt(s),bt(s)];return i?!Wle(...o,e):!Hle(...o,n)},Hle=(t,e,n)=>Sr(...Bo(n,t,e))||Wt(...Bo(n,t,e)),Wle=(t,e,n)=>$r(...Bo(n,t,e))||Wt(...Bo(n,t,e)),P$=(t,e,n,r,i,s,o)=>{if(typeof e=="function"&&!o)return e(t);const a=n?{locale:n}:void 0;return Array.isArray(t)?`${qo(t[0],s,a)}${i&&!t[1]?"":r}${t[1]?qo(t[1],s,a):""}`:qo(t,s,a)},ql=t=>{if(t)return null;throw new Error(sg.prop("partial-range"))},yp=(t,e)=>{if(e)return t();throw new Error(sg.prop("range"))},Dw=t=>Array.isArray(t)?Fd(t[0])&&(t[1]?Fd(t[1]):!0):t?Fd(t):!1,Kle=(t,e)=>yn(e??_e(),{hours:+t.hours||0,minutes:+t.minutes||0,seconds:+t.seconds||0}),d0=(t,e,n,r)=>{if(!t)return!0;if(r){const i=n==="max"?Df(t,e):xf(t,e),s={seconds:0,milliseconds:0};return i||mu(yn(t,s),yn(e,s))}return n==="max"?t.getTime()<=e.getTime():t.getTime()>=e.getTime()},f0=(t,e,n)=>t?Kle(t,e):_e(n??e),OA=(t,e,n,r,i)=>{if(Array.isArray(r)){const o=f0(t,r[0],e),a=f0(t,r[1],e);return d0(r[0],o,n,!!e)&&d0(r[1],a,n,!!e)&&i}const s=f0(t,r,e);return d0(r,s,n,!!e)&&i},h0=t=>yn(_e(),qa(t)),zle=(t,e)=>Array.isArray(t)?t.map(n=>_e(n)).filter(n=>bt(_e(n))===e).map(n=>Mt(n)):[],x$=(t,e,n)=>typeof t=="function"?t({month:e,year:n}):!!t.months.find(r=>r.month===e&&r.year===n),QT=(t,e)=>typeof t=="function"?t(e):t.years.includes(e),Kc=xn({menuFocused:!1,shiftKeyInMenu:!1}),D$=()=>{const t=n=>{Kc.menuFocused=n},e=n=>{Kc.shiftKeyInMenu!==n&&(Kc.shiftKeyInMenu=n)};return{control:ee(()=>({shiftKeyInMenu:Kc.shiftKeyInMenu,menuFocused:Kc.menuFocused})),setMenuFocused:t,setShiftKey:e}},fn=xn({monthYear:[],calendar:[],time:[],actionRow:[],selectionGrid:[],timePicker:{0:[],1:[]},monthPicker:[]}),p0=re(null),bp=re(!1),m0=re(!1),g0=re(!1),v0=re(!1),Wr=re(0),gr=re(0),ma=()=>{const t=ee(()=>bp.value?[...fn.selectionGrid,fn.actionRow].filter(d=>d.length):m0.value?[...fn.timePicker[0],...fn.timePicker[1],v0.value?[]:[p0.value],fn.actionRow].filter(d=>d.length):g0.value?[...fn.monthPicker,fn.actionRow]:[fn.monthYear,...fn.calendar,fn.time,fn.actionRow].filter(d=>d.length)),e=d=>{Wr.value=d?Wr.value+1:Wr.value-1;let f=null;t.value[gr.value]&&(f=t.value[gr.value][Wr.value]),f||(Wr.value=d?Wr.value-1:Wr.value+1)},n=d=>{gr.value===0&&!d||gr.value===t.value.length&&d||(gr.value=d?gr.value+1:gr.value-1,t.value[gr.value]?t.value[gr.value]&&!t.value[gr.value][Wr.value]&&Wr.value!==0&&(Wr.value=t.value[gr.value].length-1):gr.value=d?gr.value-1:gr.value+1)},r=d=>{let f=null;t.value[gr.value]&&(f=t.value[gr.value][Wr.value]),f?f.focus({preventScroll:!bp.value}):Wr.value=d?Wr.value-1:Wr.value+1},i=()=>{e(!0),r(!0)},s=()=>{e(!1),r(!1)},o=()=>{n(!1),r(!0)},a=()=>{n(!0),r(!0)},l=(d,f)=>{fn[f]=d},u=(d,f)=>{fn[f]=d},c=()=>{Wr.value=0,gr.value=0};return{buildMatrix:l,buildMultiLevelMatrix:u,setTimePickerBackRef:d=>{p0.value=d},setSelectionGrid:d=>{bp.value=d,c(),d||(fn.selectionGrid=[])},setTimePicker:(d,f=!1)=>{m0.value=d,v0.value=f,c(),d||(fn.timePicker[0]=[],fn.timePicker[1]=[])},setTimePickerElements:(d,f=0)=>{fn.timePicker[f]=d},arrowRight:i,arrowLeft:s,arrowUp:o,arrowDown:a,clearArrowNav:()=>{fn.monthYear=[],fn.calendar=[],fn.time=[],fn.actionRow=[],fn.selectionGrid=[],fn.timePicker[0]=[],fn.timePicker[1]=[],bp.value=!1,m0.value=!1,v0.value=!1,g0.value=!1,c(),p0.value=null},setMonthPicker:d=>{g0.value=d,c()},refSets:fn}},AA=t=>({menuAppearTop:"dp-menu-appear-top",menuAppearBottom:"dp-menu-appear-bottom",open:"dp-slide-down",close:"dp-slide-up",next:"calendar-next",previous:"calendar-prev",vNext:"dp-slide-up",vPrevious:"dp-slide-down",...t??{}}),Gle=t=>({toggleOverlay:"Toggle overlay",menu:"Datepicker menu",input:"Datepicker input",calendarWrap:"Calendar wrapper",calendarDays:"Calendar days",openTimePicker:"Open time picker",closeTimePicker:"Close time Picker",incrementValue:e=>`Increment ${e}`,decrementValue:e=>`Decrement ${e}`,openTpOverlay:e=>`Open ${e} overlay`,amPmButton:"Switch AM/PM mode",openYearsOverlay:"Open years overlay",openMonthsOverlay:"Open months overlay",nextMonth:"Next month",prevMonth:"Previous month",nextYear:"Next year",prevYear:"Previous year",day:()=>"",...t??{}}),kA=t=>t?typeof t=="boolean"?t?2:0:+t>=2?+t:2:0,Yle=t=>{const e=typeof t=="object"&&t,n={static:!0,solo:!1};if(!t)return{...n,count:kA(!1)};const r=e?t:{},i=e?r.count??!0:t,s=kA(i);return Object.assign(n,r,{count:s})},qle=(t,e,n)=>t||(typeof n=="string"?n:e),Xle=t=>typeof t=="boolean"?t?AA({}):!1:AA(t),Qle=t=>{const e={enterSubmit:!0,tabSubmit:!0,openMenu:!0,selectOnFocus:!1,rangeSeparator:" - "};return typeof t=="object"?{...e,...t??{},enabled:!0}:{...e,enabled:t}},Jle=t=>({months:[],years:[],times:{hours:[],minutes:[],seconds:[]},...t??{}}),Zle=t=>({showSelect:!0,showCancel:!0,showNow:!1,showPreview:!0,...t??{}}),eue=t=>{const e={input:!1};return typeof t=="object"?{...e,...t??{},enabled:!0}:{enabled:t,...e}},tue=t=>({allowStopPropagation:!0,closeOnScroll:!1,modeHeight:255,allowPreventDefault:!1,closeOnClearValue:!0,closeOnAutoApply:!0,noSwipe:!1,keepActionRow:!1,onClickOutside:void 0,tabOutClosesMenu:!0,...t??{}}),nue=(t,e,n)=>{const r={dates:Array.isArray(t)?t.map(i=>_e(i)):[],years:[],months:[],quarters:[],weeks:[],weekdays:e,options:{highlightDisabled:n}};return typeof t=="function"?t:{...r,...t??{}}},rue=t=>typeof t=="object"?{type:t.type,hideOnOffsetDates:t.hideOnOffsetDates??!1}:{type:t,hideOnOffsetDates:!1},Kn=t=>{const e=()=>{const y=t.enableSeconds?":ss":"";return t.is24?`HH:mm${y}`:`hh:mm${y} aa`},n=()=>t.format?t.format:t.monthPicker?"MM/yyyy":t.timePicker?e():t.weekPicker?"MM/dd/yyyy":t.yearPicker?"yyyy":t.quarterPicker?"QQQ/yyyy":t.enableTimePicker?`MM/dd/yyyy, ${e()}`:"MM/dd/yyyy",r=y=>A$(y,t.enableSeconds),i=()=>t.range?t.startTime&&Array.isArray(t.startTime)?[r(t.startTime[0]),r(t.startTime[1])]:null:t.startTime&&!Array.isArray(t.startTime)?r(t.startTime):null,s=ee(()=>Yle(t.multiCalendars)),o=ee(()=>i()),a=ee(()=>Gle(t.ariaLabels)),l=ee(()=>Jle(t.filters)),u=ee(()=>Xle(t.transitions)),c=ee(()=>Zle(t.actionRow)),d=ee(()=>qle(t.previewFormat,t.format,n())),f=ee(()=>Qle(t.textInput)),h=ee(()=>eue(t.inline)),p=ee(()=>tue(t.config)),m=ee(()=>nue(t.highlight,t.highlightWeekDays,t.highlightDisabledDays)),g=ee(()=>rue(t.weekNumbers));return{defaultedTransitions:u,defaultedMultiCalendars:s,defaultedStartTime:o,defaultedAriaLabels:a,defaultedFilters:l,defaultedActionRow:c,defaultedPreviewFormat:d,defaultedTextInput:f,defaultedInline:h,defaultedConfig:p,defaultedHighlight:m,defaultedWeekNumbers:g,getDefaultPattern:n,getDefaultStartTime:i}},iue=(t,e,n)=>{const r=re(),{defaultedTextInput:i,getDefaultPattern:s}=Kn(e),o=re(""),a=$u(e,"format");It(r,()=>{t("internal-model-change",r.value)}),It(a,()=>{x()});const l=I=>C$(I,e.timezone),u=I=>as(I,e.timezone),c=(I,Z,te=!1)=>P$(I,e.format,e.formatLocale,i.value.rangeSeparator,e.modelAuto,Z??s(),te),d=I=>I?e.modelType?D(I):{hours:os(I),minutes:Rs(I),seconds:e.enableSeconds?lc(I):0}:null,f=I=>e.modelType?D(I):{month:Mt(I),year:bt(I)},h=I=>Array.isArray(I)?e.multiDates?I.map(Z=>p(Z,Os(_e(),Z))):yp(()=>[Os(_e(),I[0]),I[1]?Os(_e(),I[1]):ql(e.partialRange)],e.range):Os(_e(),+I),p=(I,Z)=>(typeof I=="string"||typeof I=="number")&&e.modelType?R(I):Z,m=I=>Array.isArray(I)?[p(I[0],Qo(null,+I[0].hours,+I[0].minutes,I[0].seconds)),p(I[1],Qo(null,+I[1].hours,+I[1].minutes,I[1].seconds))]:p(I,Qo(null,I.hours,I.minutes,I.seconds)),g=I=>Array.isArray(I)?e.multiDates?I.map(Z=>p(Z,qs(null,+Z.month,+Z.year))):yp(()=>[p(I[0],qs(null,+I[0].month,+I[0].year)),p(I[1],I[1]?qs(null,+I[1].month,+I[1].year):ql(e.partialRange))],e.range):p(I,qs(null,+I.month,+I.year)),y=I=>{if(Array.isArray(I))return I.map(Z=>R(Z));throw new Error(sg.dateArr("multi-dates"))},v=I=>{if(Array.isArray(I))return[_e(I[0]),_e(I[1])];throw new Error(sg.dateArr("week-picker"))},_=I=>e.modelAuto?Array.isArray(I)?[R(I[0]),R(I[1])]:e.autoApply?[R(I)]:[R(I),null]:Array.isArray(I)?yp(()=>[R(I[0]),I[1]?R(I[1]):ql(e.partialRange)],e.range):R(I),b=()=>{Array.isArray(r.value)&&e.range&&r.value.length===1&&r.value.push(ql(e.partialRange))},w=()=>{const I=r.value;return[D(I[0]),I[1]?D(I[1]):ql(e.partialRange)]},T=()=>r.value[1]?w():D(ar(r.value[0])),P=()=>(r.value||[]).map(I=>D(I)),A=()=>(b(),e.modelAuto?T():e.multiDates?P():Array.isArray(r.value)?yp(()=>w(),e.range):D(ar(r.value))),O=I=>!I||Array.isArray(I)&&!I.length?null:e.timePicker?m(ar(I)):e.monthPicker?g(ar(I)):e.yearPicker?h(ar(I)):e.multiDates?y(ar(I)):e.weekPicker?v(ar(I)):_(ar(I)),E=I=>{const Z=O(I);Dw(ar(Z))?(r.value=ar(Z),x()):(r.value=null,o.value="")},M=()=>{const I=Z=>qo(Z,i.value.format);return`${I(r.value[0])} ${i.value.rangeSeparator} ${r.value[1]?I(r.value[1]):""}`},F=()=>n.value&&r.value?Array.isArray(r.value)?M():qo(r.value,i.value.format):c(r.value),N=()=>r.value?e.multiDates?r.value.map(I=>c(I)).join("; "):i.value.enabled&&typeof i.value.format=="string"?F():c(r.value):"",x=()=>{!e.format||typeof e.format=="string"||i.value.enabled&&typeof i.value.format=="string"?o.value=N():o.value=e.format(r.value)},R=I=>{if(e.utc){const Z=new Date(I);return e.utc==="preserve"?new Date(Z.getTime()+Z.getTimezoneOffset()*6e4):Z}return e.modelType?e.modelType==="date"||e.modelType==="timestamp"?u(new Date(I)):e.modelType==="format"&&(typeof e.format=="string"||!e.format)?Iw(I,s(),new Date):u(Iw(I,e.modelType,new Date)):u(new Date(I))},D=I=>I?e.utc?Vle(I,e.utc==="preserve",e.enableSeconds):e.modelType?e.modelType==="timestamp"?+l(I):e.modelType==="format"&&(typeof e.format=="string"||!e.format)?c(l(I)):c(l(I),e.modelType,!0):l(I):"",B=(I,Z=!1)=>{if(t("update:model-value",I),e.emitTimezone&&Z){const te=Array.isArray(I)?I.map(me=>as(ar(me)),e.emitTimezone):as(ar(I),e.emitTimezone);t("update:model-timezone-value",te)}},G=I=>Array.isArray(r.value)?e.multiDates?r.value.map(Z=>I(Z)):[I(r.value[0]),r.value[1]?I(r.value[1]):ql(e.partialRange)]:I(ar(r.value)),$=I=>B(ar(G(I)));return{inputValue:o,internalModelValue:r,checkBeforeEmit:()=>r.value?e.range?e.partialRange?r.value.length>=1:r.value.length===2:!!r.value:!1,parseExternalModelValue:E,formatInputValue:x,emitModelValue:()=>(x(),e.monthPicker?$(f):e.timePicker?$(d):e.yearPicker?$(bt):e.weekPicker?B(r.value.map(I=>D(I)),!0):B(A(),!0))}},sue=(t,e)=>{const{defaultedFilters:n}=Kn(t),{validateMonthYearInRange:r}=Ll(t),i=(u,c)=>{let d=u;return n.value.months.includes(Mt(d))?(d=c?ss(u,1):uc(u,1),i(d,c)):d},s=(u,c)=>{let d=u;return n.value.years.includes(bt(d))?(d=c?NT(u,1):v$(u,1),s(d,c)):d},o=(u,c=!1)=>{const d=yn(new Date,{month:t.month,year:t.year});let f=u?ss(d,1):uc(d,1);t.disableYearSelect&&(f=Os(f,t.year));let h=Mt(f),p=bt(f);n.value.months.includes(h)&&(f=i(f,u),h=Mt(f),p=bt(f)),n.value.years.includes(p)&&(f=s(f,u),p=bt(f)),r(h,p,u,t.preventMinMaxNavigation)&&a(h,p,c)},a=(u,c,d)=>{e("update-month-year",{month:u,year:c,fromNav:d})},l=ee(()=>u=>k$(yn(new Date,{month:t.month,year:t.year}),t.maxDate,t.minDate,t.preventMinMaxNavigation,u));return{handleMonthYearChange:o,isDisabled:l,updateMonthYear:a}};var iu=(t=>(t.center="center",t.left="left",t.right="right",t))(iu||{}),Gi=(t=>(t.month="month",t.year="year",t))(Gi||{}),Aa=(t=>(t.top="top",t.bottom="bottom",t))(Aa||{}),Xa=(t=>(t.header="header",t.calendar="calendar",t.timePicker="timePicker",t))(Xa||{}),vs=(t=>(t.month="month",t.year="year",t.calendar="calendar",t.time="time",t.minutes="minutes",t.hours="hours",t.seconds="seconds",t))(vs||{});const oue=({menuRef:t,menuRefInner:e,inputRef:n,pickerWrapperRef:r,inline:i,emit:s,props:o,slots:a})=>{const l=re({}),u=re(!1),c=re({top:"0",left:"0"}),d=re(!1),f=$u(o,"teleportCenter");It(f,()=>{c.value=JSON.parse(JSON.stringify({})),b()});const h=R=>{if(o.teleport){const D=R.getBoundingClientRect();return{left:D.left+window.scrollX,top:D.top+window.scrollY}}return{top:0,left:0}},p=(R,D)=>{c.value.left=`${R+D-l.value.width}px`},m=R=>{c.value.left=`${R}px`},g=(R,D)=>{o.position===iu.left&&m(R),o.position===iu.right&&p(R,D),o.position===iu.center&&(c.value.left=`${R+D/2-l.value.width/2}px`)},y=R=>{const{width:D,height:B}=R.getBoundingClientRect(),{top:G,left:$}=o.altPosition?o.altPosition(R):h(R);return{top:+G,left:+$,width:D,height:B}},v=()=>{c.value.left="50%",c.value.top="50%",c.value.transform="translate(-50%, -50%)",c.value.position="fixed",delete c.value.opacity},_=()=>{const R=tr(n),{top:D,left:B,transform:G}=o.altPosition(R);c.value={top:`${D}px`,left:`${B}px`,transform:G??""}},b=(R=!0)=>{var D;if(!i.value.enabled){if(f.value)return v();if(o.altPosition!==null)return _();if(R){const B=o.teleport?(D=e.value)==null?void 0:D.$el:t.value;B&&(l.value=B.getBoundingClientRect()),s("recalculate-position")}return M()}},w=({inputEl:R,left:D,width:B})=>{window.screen.width>768&&!u.value&&g(D,B),A(R)},T=R=>{const{top:D,left:B,height:G,width:$}=y(R);c.value.top=`${G+D+ +o.offset}px`,d.value=!1,u.value||(c.value.left=`${B+$/2-l.value.width/2}px`),w({inputEl:R,left:B,width:$})},P=R=>{const{top:D,left:B,width:G}=y(R);c.value.top=`${D-+o.offset-l.value.height}px`,d.value=!0,w({inputEl:R,left:B,width:G})},A=R=>{if(o.autoPosition){const{left:D,width:B}=y(R),{left:G,right:$}=l.value;if(!u.value){if(Math.abs(G)!==Math.abs($)){if(G<=0)return u.value=!0,m(D);if($>=document.documentElement.clientWidth)return u.value=!0,p(D,B)}return g(D,B)}}},O=()=>{const R=tr(n);if(R){const{height:D}=l.value,{top:B,height:G}=R.getBoundingClientRect(),$=window.innerHeight-B-G,I=B;return D<=$?Aa.bottom:D>$&&D<=I?Aa.top:$>=I?Aa.bottom:Aa.top}return Aa.bottom},E=R=>O()===Aa.bottom?T(R):P(R),M=()=>{const R=tr(n);if(R)return o.autoPosition?E(R):T(R)},F=function(R){if(R){const D=R.scrollHeight>R.clientHeight,B=window.getComputedStyle(R).overflowY.indexOf("hidden")!==-1;return D&&!B}return!0},N=function(R){return!R||R===document.body||R.nodeType===Node.DOCUMENT_FRAGMENT_NODE?window:F(R)?R:N(R.parentNode)},x=R=>{if(R)switch(o.position){case iu.left:return{left:0,transform:"translateX(0)"};case iu.right:return{left:`${R.width}px`,transform:"translateX(-100%)"};default:return{left:`${R.width/2}px`,transform:"translateX(-50%)"}}return{}};return{openOnTop:d,menuStyle:c,xCorrect:u,setMenuPosition:b,getScrollableParent:N,shadowRender:(R,D)=>{var B,G,$;const I=document.createElement("div"),Z=(B=tr(n))==null?void 0:B.getBoundingClientRect();I.setAttribute("id","dp--temp-container");const te=(G=r.value)!=null&&G.clientWidth?r.value:document.body;te.append(I);const me=x(Z),ve=nl(R,{...D,shadow:!0,style:{opacity:0,position:"absolute",...me}},Object.fromEntries(Object.keys(a).filter(ne=>["right-sidebar","left-sidebar"].includes(ne)).map(ne=>[ne,a[ne]])));rl(ve,I),l.value=($=ve.el)==null?void 0:$.getBoundingClientRect(),rl(null,I),te.removeChild(I)}}},To=[{name:"clock-icon",use:["time","calendar","shared"]},{name:"arrow-left",use:["month-year","calendar","shared","year-mode"]},{name:"arrow-right",use:["month-year","calendar","shared","year-mode"]},{name:"arrow-up",use:["time","calendar","month-year","shared"]},{name:"arrow-down",use:["time","calendar","month-year","shared"]},{name:"calendar-icon",use:["month-year","time","calendar","shared","year-mode"]},{name:"day",use:["calendar","shared"]},{name:"month-overlay-value",use:["calendar","month-year","shared"]},{name:"year-overlay-value",use:["calendar","month-year","shared","year-mode"]},{name:"year-overlay",use:["month-year","shared"]},{name:"month-overlay",use:["month-year","shared"]},{name:"month-overlay-header",use:["month-year","shared"]},{name:"year-overlay-header",use:["month-year","shared"]},{name:"hours-overlay-value",use:["calendar","time","shared"]},{name:"minutes-overlay-value",use:["calendar","time","shared"]},{name:"seconds-overlay-value",use:["calendar","time","shared"]},{name:"hours",use:["calendar","time","shared"]},{name:"minutes",use:["calendar","time","shared"]},{name:"month",use:["calendar","month-year","shared"]},{name:"year",use:["calendar","month-year","shared","year-mode"]},{name:"action-buttons",use:["action"]},{name:"action-preview",use:["action"]},{name:"calendar-header",use:["calendar","shared"]},{name:"marker-tooltip",use:["calendar","shared"]},{name:"action-extra",use:["menu"]},{name:"time-picker-overlay",use:["calendar","time","shared"]},{name:"am-pm-button",use:["calendar","time","shared"]},{name:"left-sidebar",use:["menu"]},{name:"right-sidebar",use:["menu"]},{name:"month-year",use:["month-year","shared"]},{name:"time-picker",use:["menu","shared"]},{name:"action-row",use:["action"]},{name:"marker",use:["calendar","shared"]},{name:"quarter",use:["shared"]}],aue=[{name:"trigger"},{name:"input-icon"},{name:"clear-icon"},{name:"dp-input"}],lue={all:()=>To,monthYear:()=>To.filter(t=>t.use.includes("month-year")),input:()=>aue,timePicker:()=>To.filter(t=>t.use.includes("time")),action:()=>To.filter(t=>t.use.includes("action")),calendar:()=>To.filter(t=>t.use.includes("calendar")),menu:()=>To.filter(t=>t.use.includes("menu")),shared:()=>To.filter(t=>t.use.includes("shared")),yearMode:()=>To.filter(t=>t.use.includes("year-mode"))},Ti=(t,e,n)=>{const r=[];return lue[e]().forEach(i=>{t[i.name]&&r.push(i.name)}),n!=null&&n.length&&n.forEach(i=>{i.slot&&r.push(i.slot)}),r},Eh=t=>{const e=ee(()=>r=>t.value?r?t.value.open:t.value.close:""),n=ee(()=>r=>t.value?r?t.value.menuAppearTop:t.value.menuAppearBottom:"");return{transitionName:e,showTransition:!!t.value,menuTransition:n}},Ih=(t,e)=>{const n=_e(as(new Date,t.timezone)),r=re([{month:Mt(n),year:bt(n)}]),i=xn({hours:t.range?[os(n),os(n)]:os(n),minutes:t.range?[Rs(n),Rs(n)]:Rs(n),seconds:t.range?[0,0]:0}),s=ee({get:()=>t.internalModelValue,set:l=>{!t.readonly&&!t.disabled&&e("update:internal-model-value",l)}}),o=ee(()=>l=>r.value[l]?r.value[l].month:0),a=ee(()=>l=>r.value[l]?r.value[l].year:0);return{calendars:r,time:i,modelValue:s,month:o,year:a}},uue=(t,e)=>{const{defaultedMultiCalendars:n,defaultedHighlight:r}=Kn(e),{isDisabled:i,matchDate:s}=Ll(e),o=re(null),a=re(_e(as(new Date,e.timezone))),l=$=>{!$.current&&e.hideOffsetDates||(o.value=$.value)},u=()=>{o.value=null},c=$=>Array.isArray(t.value)&&e.range&&t.value[0]&&o.value?$?$r(o.value,t.value[0]):Sr(o.value,t.value[0]):!0,d=($,I)=>{const Z=()=>t.value?I?t.value[0]||null:t.value[1]:null,te=t.value&&Array.isArray(t.value)?Z():null;return Wt(_e($.value),te)},f=$=>{const I=Array.isArray(t.value)?t.value[0]:null;return $?!Sr(o.value??null,I):!0},h=($,I=!0)=>(e.range||e.weekPicker)&&Array.isArray(t.value)&&t.value.length===2?e.hideOffsetDates&&!$.current?!1:Wt(_e($.value),t.value[I?0:1]):e.range?d($,I)&&f(I)||Wt($.value,Array.isArray(t.value)?t.value[0]:null)&&c(I):!1,p=($,I,Z)=>Array.isArray(t.value)&&t.value[0]&&t.value.length===1?$?!1:Z?$r(t.value[0],I.value):Sr(t.value[0],I.value):!1,m=$=>!t.value||e.hideOffsetDates&&!$.current?!1:e.range?e.modelAuto&&Array.isArray(t.value)?Wt($.value,t.value[0]?t.value[0]:a.value):!1:e.multiDates&&Array.isArray(t.value)?t.value.some(I=>Wt(I,$.value)):Wt($.value,t.value?t.value:a.value),g=$=>{if(e.autoRange||e.weekPicker){if(o.value){if(e.hideOffsetDates&&!$.current)return!1;const I=Ws(o.value,+e.autoRange),Z=Wp(_e(o.value),e.timezone,e.weekStart);return e.weekPicker?Wt(Z[1],_e($.value)):Wt(I,_e($.value))}return!1}return!1},y=$=>{if(e.autoRange||e.weekPicker){if(o.value){const I=Ws(o.value,+e.autoRange);if(e.hideOffsetDates&&!$.current)return!1;const Z=Wp(_e(o.value),e.timezone,e.weekStart);return e.weekPicker?$r($.value,Z[0])&&Sr($.value,Z[1]):$r($.value,o.value)&&Sr($.value,I)}return!1}return!1},v=$=>{if(e.autoRange||e.weekPicker){if(o.value){if(e.hideOffsetDates&&!$.current)return!1;const I=Wp(_e(o.value),e.timezone,e.weekStart);return e.weekPicker?Wt(I[0],$.value):Wt(o.value,$.value)}return!1}return!1},_=$=>kv(t.value,o.value,$.value),b=()=>e.modelAuto&&Array.isArray(e.internalModelValue)?!!e.internalModelValue[0]:!1,w=()=>e.modelAuto?S$(e.internalModelValue):!0,T=$=>{if(Array.isArray(t.value)&&t.value.length||e.weekPicker)return!1;const I=e.range?!h($)&&!h($,!1):!0;return!i($.value)&&!m($)&&!(!$.current&&e.hideOffsetDates)&&I},P=$=>e.range?e.modelAuto?b()&&m($):!1:m($),A=$=>{var I;return r.value?typeof r.value=="function"?r.value($.value):s($.value,(I=e.arrMapValues)!=null&&I.highlightedDates?e.arrMapValues.highlightedDates:r.value.dates):!1},O=$=>{const I=i($.value);return I&&(typeof r.value=="function"?!r.value($.value,I):!r.value.options.highlightDisabled)},E=$=>{var I;return typeof r.value=="function"?r.value($.value):(I=r.value.weekdays)==null?void 0:I.includes($.value.getDay())},M=$=>(e.range||e.weekPicker)&&(!(n.value.count>0)||$.current)&&w()&&!(!$.current&&e.hideOffsetDates)&&!m($)?_($):!1,F=$=>{const{isRangeStart:I,isRangeEnd:Z}=R($),te=e.range?I||Z:!1;return{dp__cell_offset:!$.current,dp__pointer:!e.disabled&&!(!$.current&&e.hideOffsetDates)&&!i($.value),dp__cell_disabled:i($.value),dp__cell_highlight:!O($)&&(A($)||E($))&&!P($)&&!te&&!v($)&&!(M($)&&e.weekPicker)&&!Z,dp__cell_highlight_active:!O($)&&(A($)||E($))&&P($),dp__today:!e.noToday&&Wt($.value,a.value)&&$.current}},N=$=>({dp__active_date:P($),dp__date_hover:T($)}),x=$=>({...D($),...B($),dp__range_between_week:M($)&&e.weekPicker}),R=$=>{const I=n.value.count>0?$.current&&h($)&&w():h($)&&w(),Z=n.value.count>0?$.current&&h($,!1)&&w():h($,!1)&&w();return{isRangeStart:I,isRangeEnd:Z}},D=$=>{const{isRangeStart:I,isRangeEnd:Z}=R($);return{dp__range_start:I,dp__range_end:Z,dp__range_between:M($)&&!e.weekPicker,dp__date_hover_start:p(T($),$,!0),dp__date_hover_end:p(T($),$,!1)}},B=$=>({...D($),dp__cell_auto_range:y($),dp__cell_auto_range_start:v($),dp__cell_auto_range_end:g($)}),G=$=>e.range?e.autoRange?B($):e.modelAuto?{...N($),...D($)}:D($):e.weekPicker?x($):N($);return{setHoverDate:l,clearHoverDate:u,getDayClassData:$=>e.hideOffsetDates&&!$.current?{}:{...F($),...G($),[e.dayClass?e.dayClass($.value):""]:!0,[e.calendarCellClassName]:!!e.calendarCellClassName}}},Ll=t=>{const{defaultedFilters:e,defaultedHighlight:n}=Kn(t),r=()=>{if(t.timezone)return t.timezone;if(t.utc)return"UTC"},i=E=>{const M=Br(s(_e(E))).toISOString(),[F]=M.split("T");return F},s=E=>t.utc==="preserve"?C$(E,r()):as(E,r()),o=E=>{var M;const F=t.maxDate?$r(E,s(_e(t.maxDate))):!1,N=t.minDate?Sr(E,s(_e(t.minDate))):!1,x=c(s(E),(M=t.arrMapValues)!=null&&M.disabledDates?t.arrMapValues.disabledDates:t.disabledDates),R=e.value.months.map(I=>+I).includes(Mt(E)),D=t.disabledWeekDays.length?t.disabledWeekDays.some(I=>+I===Loe(E)):!1,B=f(E),G=bt(E),$=G<+t.yearRange[0]||G>+t.yearRange[1];return!(F||N||x||R||$||D||B)},a=(E,M)=>Sr(...Bo(t.minDate,E,M))||Wt(...Bo(t.minDate,E,M)),l=(E,M)=>$r(...Bo(t.maxDate,E,M))||Wt(...Bo(t.maxDate,E,M)),u=(E,M,F)=>{let N=!1;return t.maxDate&&F&&l(E,M)&&(N=!0),t.minDate&&!F&&a(E,M)&&(N=!0),N},c=(E,M)=>E?M instanceof Map?!!M.get(i(E)):Array.isArray(M)?M.some(F=>Wt(s(_e(F)),E)):M?M(_e(JSON.parse(JSON.stringify(E)))):!1:!0,d=(E,M,F,N)=>{let x=!1;return N?t.minDate&&t.maxDate?x=u(E,M,F):(t.minDate&&a(E,M)||t.maxDate&&l(E,M))&&(x=!0):x=!0,x},f=E=>{var M,F,N,x,R;return Array.isArray(t.allowedDates)&&!((M=t.allowedDates)!=null&&M.length)?!0:(F=t.arrMapValues)!=null&&F.allowedDates?!c(E,(N=t.arrMapValues)==null?void 0:N.allowedDates):(x=t.allowedDates)!=null&&x.length?!((R=t.allowedDates)!=null&&R.some(D=>Wt(Br(D),s(Br(E))))):!1},h=E=>!o(E),p=E=>t.noDisabledRange?!JL({start:E[0],end:E[1]}).some(M=>h(M)):!0,m=(E,M,F=0)=>{if(Array.isArray(M)&&M[F]){const N=Ose(E,M[F]),x=O$(M[F],E),R=x.length===1?0:x.filter(B=>h(B)).length,D=Math.abs(N)-R;if(t.minRange&&t.maxRange)return D>=+t.minRange&&D<=+t.maxRange;if(t.minRange)return D>=+t.minRange;if(t.maxRange)return D<=+t.maxRange}return!0},g=E=>new Map(E.map(M=>[i(M),!0])),y=E=>Array.isArray(E)&&E.length>0,v=()=>{const E={disabledDates:null,allowedDates:null,highlightedDates:null};return y(t.allowedDates)&&(E.allowedDates=g(t.allowedDates)),typeof n.value!="function"&&y(n.value.dates)&&(E.highlightedDates=g(n.value.dates)),y(t.disabledDates)&&(E.disabledDates=g(t.disabledDates)),E},_=()=>!t.enableTimePicker||t.monthPicker||t.yearPicker||t.ignoreTimeValidation,b=E=>Array.isArray(E)?[E[0]?h0(E[0]):null,E[1]?h0(E[1]):null]:h0(E),w=(E,M,F)=>E.find(N=>+N.hours===os(M)&&N.minutes==="*"?!0:+N.minutes===Rs(M)&&+N.hours===os(M))&&F,T=(E,M,F)=>{const[N,x]=E,[R,D]=M;return!w(N,R,F)&&!w(x,D,F)&&F},P=(E,M)=>{const F=Array.isArray(M)?M:[M];return Array.isArray(t.disabledTimes)?Array.isArray(t.disabledTimes[0])?T(t.disabledTimes,F,E):!F.some(N=>w(t.disabledTimes,N,E)):E},A=(E,M)=>{const F=Array.isArray(M)?[qa(M[0]),M[1]?qa(M[1]):void 0]:qa(M),N=!t.disabledTimes(F);return E&&N},O=(E,M)=>t.disabledTimes?Array.isArray(t.disabledTimes)?P(M,E):A(M,E):M;return{isDisabled:h,validateDate:o,validateMonthYearInRange:d,isDateRangeAllowed:p,checkMinMaxRange:m,matchDate:c,mapDatesArrToMap:v,isValidTime:E=>{let M=!0;if(!E||_())return!0;const F=!t.minDate&&!t.maxDate?b(E):E;return(t.maxTime||t.maxDate)&&(M=OA(t.maxTime,t.maxDate,"max",ar(F),M)),(t.minTime||t.minDate)&&(M=OA(t.minTime,t.minDate,"min",ar(F),M)),O(E,M)}}},Pv=()=>{const t=ee(()=>(r,i)=>r==null?void 0:r.includes(i)),e=ee(()=>(r,i)=>r.count?r.solo?!0:i===0:!0),n=ee(()=>(r,i)=>r.count?r.solo?!0:i===r.count-1:!0);return{hideNavigationButtons:t,showLeftIcon:e,showRightIcon:n}},cue=(t,e,n)=>{const r=re(0),i=xn({[Xa.timePicker]:!t.enableTimePicker||t.timePicker||t.monthPicker,[Xa.calendar]:!1,[Xa.header]:!1}),s=ee(()=>t.monthPicker),o=d=>{var f;if((f=t.flow)!=null&&f.length){if(!d&&s.value)return c();i[d]=!0,Object.keys(i).filter(h=>!i[h]).length||c()}},a=()=>{var d;(d=t.flow)!=null&&d.length&&r.value!==-1&&(r.value+=1,e("flow-step",r.value),c())},l=()=>{r.value=-1},u=(d,f,...h)=>{t.flow[r.value]===d&&n.value&&n.value[f](...h)},c=()=>{u(vs.month,"toggleMonthPicker",!0),u(vs.year,"toggleYearPicker",!0),u(vs.calendar,"toggleTimePicker",!1,!0),u(vs.time,"toggleTimePicker",!0,!0);const d=t.flow[r.value];(d===vs.hours||d===vs.minutes||d===vs.seconds)&&u(d,"toggleTimePicker",!0,!0,d)};return{childMount:o,updateFlowStep:a,resetFlow:l,flowStep:r}},xv={multiCalendars:{type:[Boolean,Number,String,Object],default:void 0},modelValue:{type:[String,Date,Array,Object,Number],default:null},modelType:{type:String,default:null},position:{type:String,default:"center"},dark:{type:Boolean,default:!1},format:{type:[String,Function],default:()=>null},autoPosition:{type:Boolean,default:!0},altPosition:{type:Function,default:null},transitions:{type:[Boolean,Object],default:!0},formatLocale:{type:Object,default:null},utc:{type:[Boolean,String],default:!1},ariaLabels:{type:Object,default:()=>({})},offset:{type:[Number,String],default:10},hideNavigation:{type:Array,default:()=>[]},timezone:{type:String,default:null},emitTimezone:{type:String,default:null},vertical:{type:Boolean,default:!1},disableMonthYearSelect:{type:Boolean,default:!1},disableYearSelect:{type:Boolean,default:!1},menuClassName:{type:String,default:null},dayClass:{type:Function,default:null},yearRange:{type:Array,default:()=>[1900,2100]},calendarCellClassName:{type:String,default:null},enableTimePicker:{type:Boolean,default:!0},autoApply:{type:Boolean,default:!1},disabledDates:{type:[Array,Function],default:()=>[]},monthNameFormat:{type:String,default:"short"},startDate:{type:[Date,String],default:null},startTime:{type:[Object,Array],default:null},hideOffsetDates:{type:Boolean,default:!1},autoRange:{type:[Number,String],default:null},noToday:{type:Boolean,default:!1},disabledWeekDays:{type:Array,default:()=>[]},allowedDates:{type:Array,default:null},nowButtonLabel:{type:String,default:"Now"},markers:{type:Array,default:()=>[]},escClose:{type:Boolean,default:!0},spaceConfirm:{type:Boolean,default:!0},monthChangeOnArrows:{type:Boolean,default:!0},presetDates:{type:Array,default:()=>[]},flow:{type:Array,default:()=>[]},partialFlow:{type:Boolean,default:!1},preventMinMaxNavigation:{type:Boolean,default:!1},minRange:{type:[Number,String],default:null},maxRange:{type:[Number,String],default:null},multiDatesLimit:{type:[Number,String],default:null},reverseYears:{type:Boolean,default:!1},weekPicker:{type:Boolean,default:!1},filters:{type:Object,default:()=>({})},arrowNavigation:{type:Boolean,default:!1},disableTimeRangeValidation:{type:Boolean,default:!1},highlight:{type:[Array,Function,Object],default:null},highlightWeekDays:{type:Array,default:null},highlightDisabledDays:{type:Boolean,default:!1},teleport:{type:[String,Boolean,Object],default:null},teleportCenter:{type:Boolean,default:!1},locale:{type:String,default:"en-Us"},weekNumName:{type:String,default:"W"},weekStart:{type:[Number,String],default:1},weekNumbers:{type:[String,Function,Object],default:null},calendarClassName:{type:String,default:null},monthChangeOnScroll:{type:[Boolean,String],default:!0},dayNames:{type:[Function,Array],default:null},monthPicker:{type:Boolean,default:!1},customProps:{type:Object,default:null},yearPicker:{type:Boolean,default:!1},modelAuto:{type:Boolean,default:!1},selectText:{type:String,default:"Select"},cancelText:{type:String,default:"Cancel"},previewFormat:{type:[String,Function],default:()=>""},multiDates:{type:Boolean,default:!1},partialRange:{type:Boolean,default:!0},ignoreTimeValidation:{type:Boolean,default:!1},minDate:{type:[Date,String],default:null},maxDate:{type:[Date,String],default:null},minTime:{type:Object,default:null},maxTime:{type:Object,default:null},name:{type:String,default:null},placeholder:{type:String,default:""},hideInputIcon:{type:Boolean,default:!1},clearable:{type:Boolean,default:!0},state:{type:Boolean,default:null},required:{type:Boolean,default:!1},autocomplete:{type:String,default:"off"},inputClassName:{type:String,default:null},fixedStart:{type:Boolean,default:!1},fixedEnd:{type:Boolean,default:!1},timePicker:{type:Boolean,default:!1},enableSeconds:{type:Boolean,default:!1},is24:{type:Boolean,default:!0},noHoursOverlay:{type:Boolean,default:!1},noMinutesOverlay:{type:Boolean,default:!1},noSecondsOverlay:{type:Boolean,default:!1},hoursGridIncrement:{type:[String,Number],default:1},minutesGridIncrement:{type:[String,Number],default:5},secondsGridIncrement:{type:[String,Number],default:5},hoursIncrement:{type:[Number,String],default:1},minutesIncrement:{type:[Number,String],default:1},secondsIncrement:{type:[Number,String],default:1},range:{type:Boolean,default:!1},uid:{type:String,default:null},disabled:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},inline:{type:[Boolean,Object],default:!1},textInput:{type:[Boolean,Object],default:!1},noDisabledRange:{type:Boolean,default:!1},sixWeeks:{type:[Boolean,String],default:!1},actionRow:{type:Object,default:()=>({})},focusStartDate:{type:Boolean,default:!1},disabledTimes:{type:[Function,Array],default:void 0},showLastInRange:{type:Boolean,default:!0},timePickerInline:{type:Boolean,default:!1},calendar:{type:Function,default:null},config:{type:Object,default:void 0},quarterPicker:{type:Boolean,default:!1},yearFirst:{type:Boolean,default:!1}},ps={...xv,shadow:{type:Boolean,default:!1},flowStep:{type:Number,default:0},internalModelValue:{type:[Date,Array],default:null},arrMapValues:{type:Object,default:()=>({})},noOverlayFocus:{type:Boolean,default:!1}},due={key:1,class:"dp__input_wrap"},fue=["id","name","inputmode","placeholder","disabled","readonly","required","value","autocomplete","aria-label","aria-disabled","aria-invalid"],hue={key:2,class:"dp__clear_icon"},pue=Oe({compatConfig:{MODE:3},__name:"DatepickerInput",props:{isMenuOpen:{type:Boolean,default:!1},inputValue:{type:String,default:""},...xv},emits:["clear","open","update:input-value","set-input-date","close","select-date","set-empty-date","toggle","focus-prev","focus","blur","real-blur"],setup(t,{expose:e,emit:n}){const r=n,i=t,{defaultedTextInput:s,defaultedAriaLabels:o,defaultedInline:a,defaultedConfig:l,getDefaultPattern:u,getDefaultStartTime:c}=Kn(i),{checkMinMaxRange:d}=Ll(i),f=re(),h=re(null),p=re(!1),m=re(!1),g=ee(()=>({dp__pointer:!i.disabled&&!i.readonly&&!s.value.enabled,dp__disabled:i.disabled,dp__input_readonly:!s.value.enabled,dp__input:!0,dp__input_icon_pad:!i.hideInputIcon,dp__input_valid:!!i.state,dp__input_invalid:i.state===!1,dp__input_focus:p.value||i.isMenuOpen,dp__input_reg:!s.value.enabled,[i.inputClassName]:!!i.inputClassName})),y=()=>{r("set-input-date",null),i.autoApply&&(r("set-empty-date"),f.value=null)},v=x=>{const R=c();return Ule(x,s.value.format??u(),R??A$({},i.enableSeconds),i.inputValue,m.value)},_=x=>{const{rangeSeparator:R}=s.value,[D,B]=x.split(`${R}`);if(D){const G=v(D.trim()),$=B?v(B.trim()):null,I=G&&$?[G,$]:[G];d($,I,0)&&(f.value=G?I:null)}},b=()=>{m.value=!0},w=x=>{if(i.range)_(x);else if(i.multiDates){const R=x.split(";");f.value=R.map(D=>v(D.trim())).filter(D=>D)}else f.value=v(x)},T=x=>{var R;const D=typeof x=="string"?x:(R=x.target)==null?void 0:R.value;D!==""?(s.value.openMenu&&!i.isMenuOpen&&r("open"),w(D),r("set-input-date",f.value)):y(),m.value=!1,r("update:input-value",D)},P=x=>{s.value.enabled?(w(x.target.value),s.value.enterSubmit&&Dw(f.value)&&i.inputValue!==""?(r("set-input-date",f.value,!0),f.value=null):s.value.enterSubmit&&i.inputValue===""&&(f.value=null,r("clear"))):E(x)},A=x=>{s.value.enabled&&s.value.tabSubmit&&w(x.target.value),s.value.tabSubmit&&Dw(f.value)&&i.inputValue!==""?(r("set-input-date",f.value,!0,!0),f.value=null):s.value.tabSubmit&&i.inputValue===""&&(f.value=null,r("clear",!0))},O=()=>{var x;p.value=!0,r("focus"),s.value.enabled&&s.value.selectOnFocus&&((x=h.value)==null||x.select())},E=x=>{x.preventDefault(),Xo(x,l.value,!0),s.value.enabled&&s.value.openMenu&&!a.value.input&&!i.isMenuOpen?r("open"):s.value.enabled||r("toggle")},M=()=>{r("real-blur"),p.value=!1,(!i.isMenuOpen||a.value.enabled&&a.value.input)&&r("blur"),i.autoApply&&s.value.enabled&&f.value&&!i.isMenuOpen&&(r("set-input-date",f.value),r("select-date"),f.value=null)},F=x=>{Xo(x,l.value,!0),r("clear")},N=x=>{if(!s.value.enabled){if(x.code==="Tab")return;x.preventDefault()}};return e({focusInput:()=>{var x;(x=h.value)==null||x.focus({preventScroll:!0})},setParsedDate:x=>{f.value=x}}),(x,R)=>{var D;return S(),V("div",{onClick:E},[x.$slots.trigger&&!x.$slots["dp-input"]&&!k(a).enabled?ge(x.$slots,"trigger",{key:0}):Y("",!0),!x.$slots.trigger&&(!k(a).enabled||k(a).input)?(S(),V("div",due,[x.$slots["dp-input"]&&!x.$slots.trigger&&!k(a).enabled?ge(x.$slots,"dp-input",{key:0,value:t.inputValue,isMenuOpen:t.isMenuOpen,onInput:T,onEnter:P,onTab:A,onClear:F,onBlur:M,onKeypress:N,onPaste:b,openMenu:()=>x.$emit("open"),closeMenu:()=>x.$emit("close"),toggleMenu:()=>x.$emit("toggle")}):Y("",!0),x.$slots["dp-input"]?Y("",!0):(S(),V("input",{key:1,id:x.uid?`dp-input-${x.uid}`:void 0,ref_key:"inputRef",ref:h,name:x.name,class:ke(g.value),inputmode:k(s).enabled?"text":"none",placeholder:x.placeholder,disabled:x.disabled,readonly:x.readonly,required:x.required,value:t.inputValue,autocomplete:x.autocomplete,"aria-label":(D=k(o))==null?void 0:D.input,"aria-disabled":x.disabled||void 0,"aria-invalid":x.state===!1?!0:void 0,onInput:T,onKeydown:[dt(P,["enter"]),dt(A,["tab"]),N],onBlur:M,onFocus:O,onKeypress:N,onPaste:b},null,42,fue)),K("div",{onClick:R[2]||(R[2]=B=>r("toggle"))},[x.$slots["input-icon"]&&!x.hideInputIcon?(S(),V("span",{key:0,class:"dp__input_icon",onClick:R[0]||(R[0]=B=>r("toggle"))},[ge(x.$slots,"input-icon")])):Y("",!0),!x.$slots["input-icon"]&&!x.hideInputIcon&&!x.$slots["dp-input"]?(S(),ie(k(Cc),{key:1,class:"dp__input_icon dp__input_icons",onClick:R[1]||(R[1]=B=>r("toggle"))})):Y("",!0)]),x.$slots["clear-icon"]&&t.inputValue&&x.clearable&&!x.disabled&&!x.readonly?(S(),V("span",hue,[ge(x.$slots,"clear-icon",{clear:F})])):Y("",!0),x.clearable&&!x.$slots["clear-icon"]&&t.inputValue&&!x.disabled&&!x.readonly?(S(),ie(k(y$),{key:3,class:"dp__clear_icon dp__input_icons",onClick:R[3]||(R[3]=St(B=>F(B),["prevent"]))})):Y("",!0)])):Y("",!0)])}}}),mue=["title"],gue={class:"dp__action_buttons"},vue=["disabled"],yue=Oe({compatConfig:{MODE:3},__name:"ActionRow",props:{menuMount:{type:Boolean,default:!1},calendarWidth:{type:Number,default:0},...ps},emits:["close-picker","select-date","select-now","invalid-select"],setup(t,{emit:e}){const n=e,r=t,{defaultedActionRow:i,defaultedPreviewFormat:s,defaultedMultiCalendars:o,defaultedTextInput:a,defaultedInline:l,getDefaultPattern:u}=Kn(r),{isValidTime:c}=Ll(r),{buildMatrix:d}=ma(),f=re(null),h=re(null);Gt(()=>{r.arrowNavigation&&d([tr(f),tr(h)],"actionRow")});const p=ee(()=>r.range&&!r.partialRange&&r.internalModelValue?r.internalModelValue.length===2:!0),m=ee(()=>!g.value||!y.value||!p.value),g=ee(()=>!r.enableTimePicker||r.ignoreTimeValidation?!0:c(r.internalModelValue)),y=ee(()=>r.monthPicker?r.range&&Array.isArray(r.internalModelValue)?!r.internalModelValue.filter(E=>!A(E)).length:A(r.internalModelValue):!0),v=()=>{const E=s.value;return r.timePicker||r.monthPicker,E(ar(r.internalModelValue))},_=()=>{const E=r.internalModelValue;return o.value.count>0?`${b(E[0])} - ${b(E[1])}`:[b(E[0]),b(E[1])]},b=E=>P$(E,s.value,r.formatLocale,a.value.rangeSeparator,r.modelAuto,u()),w=ee(()=>!r.internalModelValue||!r.menuMount?"":typeof s.value=="string"?Array.isArray(r.internalModelValue)?r.internalModelValue.length===2&&r.internalModelValue[1]?_():r.multiDates?r.internalModelValue.map(E=>`${b(E)}`):r.modelAuto?`${b(r.internalModelValue[0])}`:`${b(r.internalModelValue[0])} -`:b(r.internalModelValue):v()),T=()=>r.multiDates?"; ":" - ",P=ee(()=>Array.isArray(w.value)?w.value.join(T()):w.value),A=E=>{if(!r.monthPicker)return!0;let M=!0;const F=_e(Zi(E));if(r.minDate&&r.maxDate){const N=_e(Zi(r.minDate)),x=_e(Zi(r.maxDate));return $r(F,N)&&Sr(F,x)||Wt(F,N)||Wt(F,x)}if(r.minDate){const N=_e(Zi(r.minDate));M=$r(F,N)||Wt(F,N)}if(r.maxDate){const N=_e(Zi(r.maxDate));M=Sr(F,N)||Wt(F,N)}return M},O=()=>{g.value&&y.value&&p.value?n("select-date"):n("invalid-select")};return(E,M)=>(S(),V("div",{class:"dp__action_row",style:nr(t.calendarWidth?{width:`${t.calendarWidth}px`}:{})},[E.$slots["action-row"]?ge(E.$slots,"action-row",Pn(le({key:0},{internalModelValue:E.internalModelValue,disabled:m.value,selectDate:()=>E.$emit("select-date"),closePicker:()=>E.$emit("close-picker")}))):(S(),V(Te,{key:1},[k(i).showPreview?(S(),V("div",{key:0,class:"dp__selection_preview",title:P.value},[E.$slots["action-preview"]?ge(E.$slots,"action-preview",{key:0,value:E.internalModelValue}):Y("",!0),E.$slots["action-preview"]?Y("",!0):(S(),V(Te,{key:1},[Je($e(P.value),1)],64))],8,mue)):Y("",!0),K("div",gue,[E.$slots["action-buttons"]?ge(E.$slots,"action-buttons",{key:0,value:E.internalModelValue}):Y("",!0),E.$slots["action-buttons"]?Y("",!0):(S(),V(Te,{key:1},[!k(l).enabled&&k(i).showCancel?(S(),V("button",{key:0,ref_key:"cancelButtonRef",ref:f,type:"button",class:"dp__action_button dp__action_cancel",onClick:M[0]||(M[0]=F=>E.$emit("close-picker")),onKeydown:[M[1]||(M[1]=dt(F=>E.$emit("close-picker"),["enter"])),M[2]||(M[2]=dt(F=>E.$emit("close-picker"),["space"]))]},$e(E.cancelText),545)):Y("",!0),k(i).showNow?(S(),V("button",{key:1,ref_key:"cancelButtonRef",ref:f,type:"button",class:"dp__action_button dp__action_cancel",onClick:M[3]||(M[3]=F=>E.$emit("select-now")),onKeydown:[M[4]||(M[4]=dt(F=>E.$emit("select-now"),["enter"])),M[5]||(M[5]=dt(F=>E.$emit("select-now"),["space"]))]},$e(E.nowButtonLabel),545)):Y("",!0),k(i).showSelect?(S(),V("button",{key:2,ref_key:"selectButtonRef",ref:h,type:"button",class:"dp__action_button dp__action_select",disabled:m.value,onKeydown:[dt(O,["enter"]),dt(O,["space"])],onClick:O},$e(E.selectText),41,vue)):Y("",!0)],64))])],64))],4))}}),bue=["onKeydown"],wue={class:"dp__selection_grid_header"},_ue=["aria-selected","aria-disabled","onClick","onKeydown","onMouseover"],Tue=["aria-label"],Ch=Oe({__name:"SelectionOverlay",props:{items:{},type:{},isLast:{type:Boolean},arrowNavigation:{type:Boolean},skipButtonRef:{type:Boolean},headerRefs:{},hideNavigation:{},escClose:{type:Boolean},useRelative:{type:Boolean},height:{},textInput:{type:[Boolean,Object]},config:{},noOverlayFocus:{type:Boolean},focusValue:{}},emits:["selected","toggle","reset-flow","hover-value"],setup(t,{expose:e,emit:n}){const{setSelectionGrid:r,buildMultiLevelMatrix:i,setMonthPicker:s}=ma(),o=n,a=t,{defaultedAriaLabels:l,defaultedTextInput:u,defaultedConfig:c}=Kn(a),{hideNavigationButtons:d}=Pv(),f=re(!1),h=re(null),p=re(null),m=re([]),g=re(),y=re(null),v=re(0),_=re(null);s1(()=>{h.value=null}),Gt(()=>{Wn().then(()=>M()),a.noOverlayFocus||w(),b(!0)}),oa(()=>b(!1));const b=$=>{var I;a.arrowNavigation&&((I=a.headerRefs)!=null&&I.length?s($):r($))},w=()=>{var $;const I=tr(p);I&&(u.value.enabled||(h.value?($=h.value)==null||$.focus({preventScroll:!0}):I.focus({preventScroll:!0})),f.value=I.clientHeight<I.scrollHeight)},T=ee(()=>({dp__overlay:!0,"dp--overlay-absolute":!a.useRelative,"dp--overlay-relative":a.useRelative})),P=ee(()=>a.useRelative?{height:`${a.height}px`,width:"260px"}:void 0),A=ee(()=>({dp__overlay_col:!0})),O=ee(()=>({dp__btn:!0,dp__button:!0,dp__overlay_action:!0,dp__over_action_scroll:f.value,dp__button_bottom:a.isLast})),E=ee(()=>{var $,I;return{dp__overlay_container:!0,dp__container_flex:(($=a.items)==null?void 0:$.length)<=6,dp__container_block:((I=a.items)==null?void 0:I.length)>6}});It(()=>a.items,()=>M(),{deep:!0});const M=()=>{Wn().then(()=>{const $=tr(h),I=tr(p),Z=tr(y),te=tr(_),me=Z?Z.getBoundingClientRect().height:0;I&&(I.getBoundingClientRect().height?v.value=I.getBoundingClientRect().height-me:v.value=c.value.modeHeight-me),$&&te&&(te.scrollTop=$.offsetTop-te.offsetTop-(v.value/2-$.getBoundingClientRect().height)-me)})},F=$=>{$.disabled||o("selected",$.value)},N=()=>{o("toggle"),o("reset-flow")},x=()=>{a.escClose&&N()},R=($,I,Z,te)=>{$&&((I.active||I.value===a.focusValue)&&(h.value=$),a.arrowNavigation&&(Array.isArray(m.value[Z])?m.value[Z][te]=$:m.value[Z]=[$],D()))},D=()=>{var $,I;const Z=($=a.headerRefs)!=null&&$.length?[a.headerRefs].concat(m.value):m.value.concat([a.skipButtonRef?[]:[y.value]]);i(ar(Z),(I=a.headerRefs)!=null&&I.length?"monthPicker":"selectionGrid")},B=$=>{a.arrowNavigation||Xo($,c.value,!0)},G=$=>{g.value=$,o("hover-value",$)};return e({focusGrid:w}),($,I)=>{var Z;return S(),V("div",{ref_key:"gridWrapRef",ref:p,class:ke(T.value),style:nr(P.value),role:"dialog",tabindex:"0",onKeydown:[dt(St(x,["prevent"]),["esc"]),I[0]||(I[0]=dt(St(te=>B(te),["prevent"]),["left"])),I[1]||(I[1]=dt(St(te=>B(te),["prevent"]),["up"])),I[2]||(I[2]=dt(St(te=>B(te),["prevent"]),["down"])),I[3]||(I[3]=dt(St(te=>B(te),["prevent"]),["right"]))]},[K("div",{ref_key:"containerRef",ref:_,class:ke(E.value),role:"grid",style:nr({height:`${v.value}px`})},[K("div",wue,[ge($.$slots,"header")]),$.$slots.overlay?ge($.$slots,"overlay",{key:0}):(S(!0),V(Te,{key:1},st($.items,(te,me)=>(S(),V("div",{key:me,class:ke(["dp__overlay_row",{dp__flex_row:$.items.length>=3}]),role:"row"},[(S(!0),V(Te,null,st(te,(ve,ne)=>(S(),V("div",{key:ve.value,ref_for:!0,ref:j=>R(j,ve,me,ne),role:"gridcell",class:ke(A.value),"aria-selected":ve.active,"aria-disabled":ve.disabled||void 0,tabindex:"0",onClick:j=>F(ve),onKeydown:[dt(St(j=>F(ve),["prevent"]),["enter"]),dt(St(j=>F(ve),["prevent"]),["space"])],onMouseover:j=>G(ve.value)},[K("div",{class:ke(ve.className)},[$.$slots.item?ge($.$slots,"item",{key:0,item:ve}):Y("",!0),$.$slots.item?Y("",!0):(S(),V(Te,{key:1},[Je($e(ve.text),1)],64))],2)],42,_ue))),128))],2))),128))],6),$.$slots["button-icon"]?ns((S(),V("button",{key:0,ref_key:"toggleButton",ref:y,type:"button","aria-label":(Z=k(l))==null?void 0:Z.toggleOverlay,class:ke(O.value),tabindex:"0",onClick:N,onKeydown:[dt(N,["enter"]),dt(N,["tab"])]},[ge($.$slots,"button-icon")],42,Tue)),[[Js,!k(d)($.hideNavigation,$.type)]]):Y("",!0)],46,bue)}}}),Dv=Oe({__name:"InstanceWrap",props:{multiCalendars:{},stretch:{type:Boolean}},setup(t){const e=t,n=ee(()=>e.multiCalendars>0?[...Array(e.multiCalendars).keys()]:[0]),r=ee(()=>({dp__instance_calendar:e.multiCalendars>0}));return(i,s)=>(S(),V("div",{class:ke({dp__menu_inner:!i.stretch,"dp--menu--inner-stretched":i.stretch,dp__flex_display:i.multiCalendars>0})},[(S(!0),V(Te,null,st(n.value,(o,a)=>(S(),V("div",{key:o,class:ke(r.value)},[ge(i.$slots,"default",{instance:o,index:a})],2))),128))],2))}}),Sue=["aria-label","aria-disabled"],Ud=Oe({compatConfig:{MODE:3},__name:"ArrowBtn",props:{ariaLabel:{},disabled:{type:Boolean}},emits:["activate","set-ref"],setup(t,{emit:e}){const n=e,r=re(null);return Gt(()=>n("set-ref",r)),(i,s)=>(S(),V("button",{ref_key:"elRef",ref:r,type:"button",class:"dp__btn dp--arrow-btn-nav",tabindex:"0","aria-label":i.ariaLabel,"aria-disabled":i.disabled||void 0,onClick:s[0]||(s[0]=o=>i.$emit("activate")),onKeydown:[s[1]||(s[1]=dt(St(o=>i.$emit("activate"),["prevent"]),["enter"])),s[2]||(s[2]=dt(St(o=>i.$emit("activate"),["prevent"]),["space"]))]},[K("span",{class:ke(["dp__inner_nav",{dp__inner_nav_disabled:i.disabled}])},[ge(i.$slots,"default")],2)],40,Sue))}}),Eue={class:"dp--year-mode-picker"},Iue=["aria-label"],R$=Oe({__name:"YearModePicker",props:{...ps,showYearPicker:{type:Boolean,default:!1},items:{type:Array,default:()=>[]},instance:{type:Number,default:0},year:{type:Number,default:0},isDisabled:{type:Function,default:()=>!1}},emits:["toggle-year-picker","year-select","handle-year"],setup(t,{emit:e}){const n=e,r=t,{showRightIcon:i,showLeftIcon:s}=Pv(),{defaultedConfig:o,defaultedMultiCalendars:a,defaultedAriaLabels:l,defaultedTransitions:u}=Kn(r),{showTransition:c,transitionName:d}=Eh(u),f=(m=!1,g)=>{n("toggle-year-picker",{flow:m,show:g})},h=m=>{n("year-select",m)},p=(m=!1)=>{n("handle-year",m)};return(m,g)=>{var y,v,_;return S(),V("div",Eue,[k(s)(k(a),t.instance)?(S(),ie(Ud,{key:0,ref:"mpPrevIconRef","aria-label":(y=k(l))==null?void 0:y.prevYear,disabled:t.isDisabled(!1),onActivate:g[0]||(g[0]=b=>p(!1))},{default:ce(()=>[m.$slots["arrow-left"]?ge(m.$slots,"arrow-left",{key:0}):Y("",!0),m.$slots["arrow-left"]?Y("",!0):(S(),ie(k(jT),{key:1}))]),_:3},8,["aria-label","disabled"])):Y("",!0),K("button",{ref:"mpYearButtonRef",class:"dp__btn dp--year-select",type:"button","aria-label":(v=k(l))==null?void 0:v.openYearsOverlay,onClick:g[1]||(g[1]=()=>f(!1)),onKeydown:g[2]||(g[2]=dt(()=>f(!1),["enter"]))},[m.$slots.year?ge(m.$slots,"year",{key:0,year:t.year}):Y("",!0),m.$slots.year?Y("",!0):(S(),V(Te,{key:1},[Je($e(t.year),1)],64))],40,Iue),k(i)(k(a),t.instance)?(S(),ie(Ud,{key:1,ref:"mpNextIconRef","aria-label":(_=k(l))==null?void 0:_.nextYear,disabled:t.isDisabled(!0),onActivate:g[3]||(g[3]=b=>p(!0))},{default:ce(()=>[m.$slots["arrow-right"]?ge(m.$slots,"arrow-right",{key:0}):Y("",!0),m.$slots["arrow-right"]?Y("",!0):(S(),ie(k(HT),{key:1}))]),_:3},8,["aria-label","disabled"])):Y("",!0),J(Hi,{name:k(d)(t.showYearPicker),css:k(c)},{default:ce(()=>[t.showYearPicker?(S(),ie(Ch,{key:0,items:t.items,"text-input":m.textInput,"esc-close":m.escClose,config:m.config,"is-last":m.autoApply&&!k(o).keepActionRow,"hide-navigation":m.hideNavigation,type:"year",onToggle:f,onSelected:g[4]||(g[4]=b=>h(b))},Jn({"button-icon":ce(()=>[m.$slots["calendar-icon"]?ge(m.$slots,"calendar-icon",{key:0}):Y("",!0),m.$slots["calendar-icon"]?Y("",!0):(S(),ie(k(Cc),{key:1}))]),_:2},[m.$slots["year-overlay-value"]?{name:"item",fn:ce(({item:b})=>[ge(m.$slots,"year-overlay-value",{text:b.text,value:b.value})]),key:"0"}:void 0]),1032,["items","text-input","esc-close","config","is-last","hide-navigation"])):Y("",!0)]),_:3},8,["name","css"])])}}}),JT=(t,e,n)=>{if(e.value&&Array.isArray(e.value))if(e.value.some(r=>Wt(t,r))){const r=e.value.filter(i=>!Wt(i,t));e.value=r.length?r:null}else(n&&+n>e.value.length||!n)&&e.value.push(t);else e.value=[t]},ZT=(t,e,n)=>{let r=t.value?t.value.slice():[];return r.length===2&&r[1]!==null&&(r=[]),r.length?Sr(e,r[0])?(r.unshift(e),n("range-start",r[0]),n("range-start",r[1])):(r[1]=e,n("range-end",e)):(r=[e],n("range-start",e)),t.value=r,r},Rv=(t,e,n,r)=>{t[0]&&t[1]&&n&&e("auto-apply"),t[0]&&!t[1]&&r&&n&&e("auto-apply")},N$=t=>{Array.isArray(t.value)&&t.value.length<=2&&t.range?t.modelValue.value=t.value.map(e=>as(_e(e),t.timezone)):Array.isArray(t.value)||(t.modelValue.value=as(_e(t.value),t.timezone))},M$=({multiCalendars:t,highlight:e,calendars:n,modelValue:r,props:i,year:s,month:o,emit:a})=>{const l=ee(()=>XT(i.yearRange,i.reverseYears)),u=re([!1]),c=ee(()=>(b,w)=>{const T=yn(Zi(new Date),{month:o.value(b),year:s.value(b)});return k$(T,i.maxDate,i.minDate,i.preventMinMaxNavigation,w)}),d=()=>{for(let b=0;b<t.value.count;b++)if(b===0)n.value[b]=n.value[0];else{const w=yn(_e(),n.value[b-1]);n.value[b]={month:Mt(w),year:bt(NT(w,1))}}},f=b=>{if(!b)return d();const w=yn(_e(),n.value[b]);return n.value[0].year=bt(v$(w,t.value.count-1)),d()},h=b=>i.focusStartDate?b[0]:b[1]?b[1]:b[0],p=()=>{if(r.value){const b=Array.isArray(r.value)?h(r.value):r.value;n.value[0]={month:Mt(b),year:bt(b)}}};Gt(()=>{p(),t.value.count&&d()});const m=(b,w)=>{n.value[w].year=b,t.value.count&&!t.value.solo&&f(w)},g=ee(()=>b=>cc(l.value,w=>{const T=s.value(b)===w.value,P=Rf(w.value,dc(i.minDate),dc(i.maxDate)),A=QT(e.value,w.value);return{active:T,disabled:P,highlighted:A}})),y=(b,w)=>{m(b,w),_(w)},v=(b,w=!1)=>{if(!c.value(b,w)){const T=w?s.value(b)+1:s.value(b)-1;m(T,b)}},_=(b,w=!1,T)=>{w||a("reset-flow"),T!==void 0?u.value[b]=T:u.value[b]=!u.value[b],u.value||a("overlay-closed")};return{isDisabled:c,groupedYears:g,showYearPicker:u,selectYear:m,toggleYearPicker:_,handleYearSelect:y,handleYear:v}},Cue=(t,e)=>{const{defaultedMultiCalendars:n,defaultedAriaLabels:r,defaultedTransitions:i,defaultedConfig:s,defaultedHighlight:o}=Kn(t),{modelValue:a,year:l,month:u,calendars:c}=Ih(t,e),d=ee(()=>T$(t.formatLocale,t.locale,t.monthNameFormat)),f=re(null),{selectYear:h,groupedYears:p,showYearPicker:m,toggleYearPicker:g,handleYearSelect:y,handleYear:v,isDisabled:_}=M$({modelValue:a,multiCalendars:n,highlight:o,calendars:c,year:l,month:u,props:t,emit:e});Gt(()=>{t.startDate&&(a.value&&t.focusStartDate||!a.value)&&h(bt(_e(t.startDate)),0)});const b=B=>B?{month:Mt(B),year:bt(B)}:{month:null,year:null},w=()=>a.value?Array.isArray(a.value)?a.value.map(B=>b(B)):b(a.value):b(),T=(B,G)=>{const $=c.value[B],I=w();return Array.isArray(I)?I.some(Z=>Z.year===($==null?void 0:$.year)&&Z.month===G):($==null?void 0:$.year)===I.year&&G===I.month},P=(B,G,$)=>{var I,Z;const te=w();return Array.isArray(te)?l.value(G)===((I=te[$])==null?void 0:I.year)&&B===((Z=te[$])==null?void 0:Z.month):!1},A=(B,G)=>{if(t.range){const $=w();if(Array.isArray(a.value)&&Array.isArray($)){const I=P(B,G,0)||P(B,G,1),Z=qs(Zi(_e()),B,l.value(G));return kv(a.value,f.value,Z)&&!I}return!1}return!1},O=ee(()=>B=>cc(d.value,G=>{const $=T(B,G.value),I=Rf(G.value,E$(l.value(B),t.minDate),I$(l.value(B),t.maxDate))||zle(t.disabledDates,l.value(B)).includes(G.value),Z=A(G.value,B),te=x$(o.value,G.value,l.value(B));return{active:$,disabled:I,isBetween:Z,highlighted:te}})),E=(B,G)=>qs(Zi(_e()),B,l.value(G)),M=(B,G)=>{const $=a.value?a.value:Zi(new Date);a.value=qs($,B,l.value(G)),e("auto-apply")},F=(B,G)=>{const $=ZT(a,E(B,G),e);Rv($,e,t.autoApply,t.modelAuto)},N=(B,G)=>{JT(E(B,G),a,t.multiDatesLimit),e("auto-apply",!0)},x=(B,G)=>(c.value[G].month=B,D(G,c.value[G].year,B),t.multiDates?N(B,G):t.range?F(B,G):M(B,G)),R=(B,G)=>{h(B,G),D(G,B,null)},D=(B,G,$)=>{let I=$;if(!I&&I!==0){const Z=w();I=Array.isArray(Z)?Z[B].month:Z.month}e("update-month-year",{instance:B,year:G,month:I})};return{groupedMonths:O,groupedYears:p,year:l,isDisabled:_,defaultedMultiCalendars:n,defaultedAriaLabels:r,defaultedTransitions:i,defaultedConfig:s,showYearPicker:m,modelValue:a,presetDate:(B,G)=>{N$({value:B,modelValue:a,range:t.range,timezone:G?void 0:t.timezone}),e("auto-apply")},setHoverDate:(B,G)=>{f.value=E(B,G)},selectMonth:x,selectYear:R,toggleYearPicker:g,handleYearSelect:y,handleYear:v,getModelMonthYear:w}},Oue=Oe({compatConfig:{MODE:3},__name:"MonthPicker",props:{...ps},emits:["update:internal-model-value","overlay-closed","reset-flow","range-start","range-end","auto-apply","update-month-year","mount"],setup(t,{expose:e,emit:n}){const r=n,i=aa(),s=Ti(i,"yearMode"),o=t;Gt(()=>{o.shadow||r("mount",null)});const{groupedMonths:a,groupedYears:l,year:u,isDisabled:c,defaultedMultiCalendars:d,defaultedConfig:f,showYearPicker:h,modelValue:p,presetDate:m,setHoverDate:g,selectMonth:y,selectYear:v,toggleYearPicker:_,handleYearSelect:b,handleYear:w,getModelMonthYear:T}=Cue(o,r);return e({getSidebarProps:()=>({modelValue:p,year:u,getModelMonthYear:T,selectMonth:y,selectYear:v,handleYear:w}),presetDate:m,toggleYearPicker:P=>_(0,P)}),(P,A)=>(S(),ie(Dv,{"multi-calendars":k(d).count,stretch:""},{default:ce(({instance:O})=>[P.$slots["month-year"]?ge(P.$slots,"month-year",Pn(le({key:0},{year:k(u),months:k(a)(O),years:k(l)(O),selectMonth:k(y),selectYear:k(v),instance:O}))):(S(),ie(Ch,{key:1,items:k(a)(O),"arrow-navigation":P.arrowNavigation,"is-last":P.autoApply&&!k(f).keepActionRow,"esc-close":P.escClose,height:k(f).modeHeight,config:P.config,"no-overlay-focus":!!(P.noOverlayFocus||P.textInput),"use-relative":"",type:"month",onSelected:E=>k(y)(E,O),onHoverValue:E=>k(g)(E,O)},{header:ce(()=>[J(R$,le(P.$props,{items:k(l)(O),instance:O,"show-year-picker":k(h)[O],year:k(u)(O),"is-disabled":E=>k(c)(O,E),onHandleYear:E=>k(w)(O,E),onYearSelect:E=>k(b)(E,O),onToggleYearPicker:E=>k(_)(O,E==null?void 0:E.flow,E==null?void 0:E.show)}),Jn({_:2},[st(k(s),(E,M)=>({name:E,fn:ce(F=>[ge(P.$slots,E,Pn(rr(F)))])}))]),1040,["items","instance","show-year-picker","year","is-disabled","onHandleYear","onYearSelect","onToggleYearPicker"])]),_:2},1032,["items","arrow-navigation","is-last","esc-close","height","config","no-overlay-focus","onSelected","onHoverValue"]))]),_:3},8,["multi-calendars"]))}}),Aue=(t,e)=>{const{modelValue:n}=Ih(t,e),r=re(null),{defaultedHighlight:i,defaultedFilters:s}=Kn(t),o=re();Gt(()=>{t.startDate&&(n.value&&t.focusStartDate||!n.value)&&(o.value=bt(_e(t.startDate)))});const a=d=>Array.isArray(n.value)?n.value.some(f=>bt(f)===d):n.value?bt(n.value)===d:!1,l=d=>t.range&&Array.isArray(n.value)?kv(n.value,r.value,c(d)):!1,u=ee(()=>cc(XT(t.yearRange,t.reverseYears),d=>{const f=a(d.value),h=Rf(d.value,dc(t.minDate),dc(t.maxDate))||s.value.years.includes(d.value),p=l(d.value)&&!f,m=QT(i.value,d.value);return{active:f,disabled:h,isBetween:p,highlighted:m}})),c=d=>Os(Zi(new Date),d);return{groupedYears:u,modelValue:n,focusYear:o,setHoverValue:d=>{r.value=Os(Zi(new Date),d)},selectYear:d=>{var f;if(t.multiDates)return n.value?Array.isArray(n.value)&&(((f=n.value)==null?void 0:f.map(h=>bt(h))).includes(d)?n.value=n.value.filter(h=>bt(h)!==d):n.value.push(Os(Br(_e()),d))):n.value=[Os(Br(_e()),d)],e("auto-apply",!0);if(t.range){const h=ZT(n,c(d),e);return Rv(h,e,t.autoApply,t.modelAuto)}n.value=c(d),e("auto-apply")}}},kue=Oe({compatConfig:{MODE:3},__name:"YearPicker",props:{...ps},emits:["update:internal-model-value","reset-flow","range-start","range-end","auto-apply"],setup(t,{expose:e,emit:n}){const r=n,i=t,{groupedYears:s,modelValue:o,focusYear:a,selectYear:l,setHoverValue:u}=Aue(i,r),{defaultedConfig:c}=Kn(i);return e({getSidebarProps:()=>({modelValue:o,selectYear:l})}),(d,f)=>(S(),V("div",null,[d.$slots["month-year"]?ge(d.$slots,"month-year",Pn(le({key:0},{years:k(s),selectYear:k(l)}))):(S(),ie(Ch,{key:1,items:k(s),"is-last":d.autoApply&&!k(c).keepActionRow,height:k(c).modeHeight,config:d.config,"no-overlay-focus":!!(d.noOverlayFocus||d.textInput),"focus-value":k(a),type:"year","use-relative":"",onSelected:k(l),onHoverValue:k(u)},Jn({_:2},[d.$slots["year-overlay-value"]?{name:"item",fn:ce(({item:h})=>[ge(d.$slots,"year-overlay-value",{text:h.text,value:h.value})]),key:"0"}:void 0]),1032,["items","is-last","height","config","no-overlay-focus","focus-value","onSelected","onHoverValue"]))]))}}),Pue={key:0,class:"dp__time_input"},xue=["aria-label","onKeydown","onClick"],Due=K("span",{class:"dp__tp_inline_btn_bar dp__tp_btn_in_l"},null,-1),Rue=K("span",{class:"dp__tp_inline_btn_bar dp__tp_btn_in_r"},null,-1),Nue=["aria-label","disabled","onKeydown","onClick"],Mue=["aria-label","onKeydown","onClick"],Lue=K("span",{class:"dp__tp_inline_btn_bar dp__tp_btn_in_l"},null,-1),$ue=K("span",{class:"dp__tp_inline_btn_bar dp__tp_btn_in_r"},null,-1),Fue={key:0},Uue=["aria-label","onKeydown"],Vue=Oe({compatConfig:{MODE:3},__name:"TimeInput",props:{hours:{type:Number,default:0},minutes:{type:Number,default:0},seconds:{type:Number,default:0},closeTimePickerBtn:{type:Object,default:null},order:{type:Number,default:0},disabledTimesConfig:{type:Function,default:null},validateTime:{type:Function,default:()=>!1},...ps},emits:["set-hours","set-minutes","update:hours","update:minutes","update:seconds","reset-flow","mounted","overlay-closed","am-pm-change"],setup(t,{expose:e,emit:n}){const r=n,i=t,{setTimePickerElements:s,setTimePickerBackRef:o}=ma(),{defaultedAriaLabels:a,defaultedTransitions:l,defaultedFilters:u,defaultedConfig:c}=Kn(i),{transitionName:d,showTransition:f}=Eh(l),h=xn({hours:!1,minutes:!1,seconds:!1}),p=re("AM"),m=re(null),g=re([]);Gt(()=>{r("mounted")});const y=j=>yn(new Date,{hours:j.hours,minutes:j.minutes,seconds:i.enableSeconds?j.seconds:0,milliseconds:0}),v=ee(()=>j=>x(j,i[j])||b(j,i[j])),_=ee(()=>({hours:i.hours,minutes:i.minutes,seconds:i.seconds})),b=(j,z)=>i.range&&!i.disableTimeRangeValidation?!i.validateTime(j,z):!1,w=(j,z)=>{if(i.range&&!i.disableTimeRangeValidation){const oe=z?+i[`${j}Increment`]:-+i[`${j}Increment`],X=i[j]+oe;return!i.validateTime(j,X)}return!1},T=ee(()=>j=>!D(+i[j]+ +i[`${j}Increment`],j)||w(j,!0)),P=ee(()=>j=>!D(+i[j]-+i[`${j}Increment`],j)||w(j,!1)),A=(j,z)=>XL(yn(_e(),j),z),O=(j,z)=>rle(yn(_e(),j),z),E=ee(()=>({dp__time_col:!0,dp__time_col_block:!i.timePickerInline,dp__time_col_reg_block:!i.enableSeconds&&i.is24&&!i.timePickerInline,dp__time_col_reg_inline:!i.enableSeconds&&i.is24&&i.timePickerInline,dp__time_col_reg_with_button:!i.enableSeconds&&!i.is24,dp__time_col_sec:i.enableSeconds&&i.is24,dp__time_col_sec_with_button:i.enableSeconds&&!i.is24})),M=ee(()=>{const j=[{type:"hours"},{type:"",separator:!0},{type:"minutes"}];return i.enableSeconds?j.concat([{type:"",separator:!0},{type:"seconds"}]):j}),F=ee(()=>M.value.filter(j=>!j.separator)),N=ee(()=>j=>{if(j==="hours"){const z=Z(+i.hours);return{text:z<10?`0${z}`:`${z}`,value:z}}return{text:i[j]<10?`0${i[j]}`:`${i[j]}`,value:i[j]}}),x=(j,z)=>{var oe;if(!i.disabledTimesConfig)return!1;const X=i.disabledTimesConfig(i.order,j==="hours"?z:void 0);return X[j]?!!((oe=X[j])!=null&&oe.includes(z)):!0},R=j=>{const z=i.is24?24:12,oe=j==="hours"?z:60,X=+i[`${j}GridIncrement`],fe=j==="hours"&&!i.is24?X:0,be=[];for(let se=fe;se<oe;se+=X)be.push({value:se,text:se<10?`0${se}`:`${se}`});return j==="hours"&&!i.is24&&be.push({value:0,text:"12"}),cc(be,se=>({active:!1,disabled:u.value.times[j].includes(se.value)||!D(se.value,j)||x(j,se.value)||b(j,se.value)}))},D=(j,z)=>{const oe=i.minTime?y(c0(i.minTime)):null,X=i.maxTime?y(c0(i.maxTime)):null,fe=y(c0(_.value,z,j));return oe&&X?(Df(fe,X)||mu(fe,X))&&(xf(fe,oe)||mu(fe,oe)):oe?xf(fe,oe)||mu(fe,oe):X?Df(fe,X)||mu(fe,X):!0},B=j=>i[`no${j[0].toUpperCase()+j.slice(1)}Overlay`],G=j=>{B(j)||(h[j]=!h[j],h[j]||r("overlay-closed"))},$=j=>j==="hours"?os:j==="minutes"?Rs:lc,I=(j,z=!0)=>{const oe=z?A:O,X=z?+i[`${j}Increment`]:-+i[`${j}Increment`];D(+i[j]+X,j)&&r(`update:${j}`,$(j)(oe({[j]:+i[j]},{[j]:+i[`${j}Increment`]})))},Z=j=>i.is24?j:(j>=12?p.value="PM":p.value="AM",Dle(j)),te=()=>{p.value==="PM"?(p.value="AM",r("update:hours",i.hours-12)):(p.value="PM",r("update:hours",i.hours+12)),r("am-pm-change",p.value)},me=j=>{h[j]=!0},ve=(j,z,oe)=>{if(j&&i.arrowNavigation){Array.isArray(g.value[z])?g.value[z][oe]=j:g.value[z]=[j];const X=g.value.reduce((fe,be)=>be.map((se,C)=>[...fe[C]||[],be[C]]),[]);o(i.closeTimePickerBtn),m.value&&(X[1]=X[1].concat(m.value)),s(X,i.order)}},ne=(j,z)=>(G(j),j==="hours"&&!i.is24?r(`update:${j}`,p.value==="PM"?z+12:z):r(`update:${j}`,z));return e({openChildCmp:me}),(j,z)=>{var oe;return j.disabled?Y("",!0):(S(),V("div",Pue,[(S(!0),V(Te,null,st(M.value,(X,fe)=>{var be,se,C;return S(),V("div",{key:fe,class:ke(E.value)},[X.separator?(S(),V(Te,{key:0},[Je(" : ")],64)):(S(),V(Te,{key:1},[K("button",{ref_for:!0,ref:L=>ve(L,fe,0),type:"button",class:ke({dp__btn:!0,dp__inc_dec_button:!j.timePickerInline,dp__inc_dec_button_inline:j.timePickerInline,dp__tp_inline_btn_top:j.timePickerInline,dp__inc_dec_button_disabled:T.value(X.type)}),"aria-label":(be=k(a))==null?void 0:be.incrementValue(X.type),tabindex:"0",onKeydown:[dt(St(L=>I(X.type),["prevent"]),["enter"]),dt(St(L=>I(X.type),["prevent"]),["space"])],onClick:L=>I(X.type)},[i.timePickerInline?(S(),V(Te,{key:1},[Due,Rue],64)):(S(),V(Te,{key:0},[j.$slots["arrow-up"]?ge(j.$slots,"arrow-up",{key:0}):Y("",!0),j.$slots["arrow-up"]?Y("",!0):(S(),ie(k(KT),{key:1}))],64))],42,xue),K("button",{ref_for:!0,ref:L=>ve(L,fe,1),type:"button","aria-label":(se=k(a))==null?void 0:se.openTpOverlay(X.type),class:ke({dp__time_display:!0,dp__time_display_block:!j.timePickerInline,dp__time_display_inline:j.timePickerInline,"dp--time-invalid":v.value(X.type),"dp--time-overlay-btn":!v.value(X.type)}),disabled:B(X.type),tabindex:"0",onKeydown:[dt(St(L=>G(X.type),["prevent"]),["enter"]),dt(St(L=>G(X.type),["prevent"]),["space"])],onClick:L=>G(X.type)},[j.$slots[X.type]?ge(j.$slots,X.type,{key:0,text:N.value(X.type).text,value:N.value(X.type).value}):Y("",!0),j.$slots[X.type]?Y("",!0):(S(),V(Te,{key:1},[Je($e(N.value(X.type).text),1)],64))],42,Nue),K("button",{ref_for:!0,ref:L=>ve(L,fe,2),type:"button",class:ke({dp__btn:!0,dp__inc_dec_button:!j.timePickerInline,dp__inc_dec_button_inline:j.timePickerInline,dp__tp_inline_btn_bottom:j.timePickerInline,dp__inc_dec_button_disabled:P.value(X.type)}),"aria-label":(C=k(a))==null?void 0:C.decrementValue(X.type),tabindex:"0",onKeydown:[dt(St(L=>I(X.type,!1),["prevent"]),["enter"]),dt(St(L=>I(X.type,!1),["prevent"]),["space"])],onClick:L=>I(X.type,!1)},[i.timePickerInline?(S(),V(Te,{key:1},[Lue,$ue],64)):(S(),V(Te,{key:0},[j.$slots["arrow-down"]?ge(j.$slots,"arrow-down",{key:0}):Y("",!0),j.$slots["arrow-down"]?Y("",!0):(S(),ie(k(zT),{key:1}))],64))],42,Mue)],64))],2)}),128)),j.is24?Y("",!0):(S(),V("div",Fue,[j.$slots["am-pm-button"]?ge(j.$slots,"am-pm-button",{key:0,toggle:te,value:p.value}):Y("",!0),j.$slots["am-pm-button"]?Y("",!0):(S(),V("button",{key:1,ref_key:"amPmButton",ref:m,type:"button",class:"dp__pm_am_button",role:"button","aria-label":(oe=k(a))==null?void 0:oe.amPmButton,tabindex:"0",onClick:te,onKeydown:[dt(St(te,["prevent"]),["enter"]),dt(St(te,["prevent"]),["space"])]},$e(p.value),41,Uue))])),(S(!0),V(Te,null,st(F.value,(X,fe)=>(S(),ie(Hi,{key:fe,name:k(d)(h[X.type]),css:k(f)},{default:ce(()=>[h[X.type]?(S(),ie(Ch,{key:0,items:R(X.type),"is-last":j.autoApply&&!k(c).keepActionRow,"esc-close":j.escClose,type:X.type,"text-input":j.textInput,config:j.config,"arrow-navigation":j.arrowNavigation,onSelected:be=>ne(X.type,be),onToggle:be=>G(X.type),onResetFlow:z[0]||(z[0]=be=>j.$emit("reset-flow"))},Jn({"button-icon":ce(()=>[j.$slots["clock-icon"]?ge(j.$slots,"clock-icon",{key:0}):Y("",!0),j.$slots["clock-icon"]?Y("",!0):(S(),ie(gn(j.timePickerInline?k(Cc):k(WT)),{key:1}))]),_:2},[j.$slots[`${X.type}-overlay-value`]?{name:"item",fn:ce(({item:be})=>[ge(j.$slots,`${X.type}-overlay-value`,{text:be.text,value:be.value})]),key:"0"}:void 0]),1032,["items","is-last","esc-close","type","text-input","config","arrow-navigation","onSelected","onToggle"])):Y("",!0)]),_:2},1032,["name","css"]))),128))]))}}}),Bue={class:"dp--tp-wrap"},jue=["aria-label","tabindex"],Hue=["tabindex"],Wue=["aria-label"],L$=Oe({compatConfig:{MODE:3},__name:"TimePicker",props:{hours:{type:[Number,Array],default:0},minutes:{type:[Number,Array],default:0},seconds:{type:[Number,Array],default:0},disabledTimesConfig:{type:Function,default:null},validateTime:{type:Function,default:()=>!1},...ps},emits:["update:hours","update:minutes","update:seconds","mount","reset-flow","overlay-opened","overlay-closed","am-pm-change"],setup(t,{expose:e,emit:n}){const r=n,i=t,{buildMatrix:s,setTimePicker:o}=ma(),a=aa(),{defaultedTransitions:l,defaultedAriaLabels:u,defaultedTextInput:c,defaultedConfig:d}=Kn(i),{transitionName:f,showTransition:h}=Eh(l),{hideNavigationButtons:p}=Pv(),m=re(null),g=re(null),y=re([]),v=re(null);Gt(()=>{r("mount"),!i.timePicker&&i.arrowNavigation?s([tr(m.value)],"time"):o(!0,i.timePicker)});const _=ee(()=>i.range&&i.modelAuto?S$(i.internalModelValue):!0),b=re(!1),w=R=>({hours:Array.isArray(i.hours)?i.hours[R]:i.hours,minutes:Array.isArray(i.minutes)?i.minutes[R]:i.minutes,seconds:Array.isArray(i.seconds)?i.seconds[R]:i.seconds}),T=ee(()=>{const R=[];if(i.range)for(let D=0;D<2;D++)R.push(w(D));else R.push(w(0));return R}),P=(R,D=!1,B="")=>{D||r("reset-flow"),b.value=R,r(R?"overlay-opened":"overlay-closed"),i.arrowNavigation&&o(R),Wn(()=>{B!==""&&y.value[0]&&y.value[0].openChildCmp(B)})},A=ee(()=>({dp__btn:!0,dp__button:!0,dp__button_bottom:i.autoApply&&!d.value.keepActionRow})),O=Ti(a,"timePicker"),E=(R,D,B)=>i.range?D===0?[R,T.value[1][B]]:[T.value[0][B],R]:R,M=R=>{r("update:hours",R)},F=R=>{r("update:minutes",R)},N=R=>{r("update:seconds",R)},x=()=>{if(v.value&&!c.value.enabled&&!i.noOverlayFocus){const R=Nle(v.value);R&&R.focus({preventScroll:!0})}};return e({toggleTimePicker:P}),(R,D)=>{var B;return S(),V("div",Bue,[!R.timePicker&&!R.timePickerInline?ns((S(),V("button",{key:0,ref_key:"openTimePickerBtn",ref:m,type:"button",class:ke(A.value),"aria-label":(B=k(u))==null?void 0:B.openTimePicker,tabindex:R.noOverlayFocus?void 0:0,onKeydown:[D[0]||(D[0]=dt(G=>P(!0),["enter"])),D[1]||(D[1]=dt(G=>P(!0),["space"]))],onClick:D[2]||(D[2]=G=>P(!0))},[R.$slots["clock-icon"]?ge(R.$slots,"clock-icon",{key:0}):Y("",!0),R.$slots["clock-icon"]?Y("",!0):(S(),ie(k(WT),{key:1}))],42,jue)),[[Js,!k(p)(R.hideNavigation,"time")]]):Y("",!0),J(Hi,{name:k(f)(b.value),css:k(h)&&!R.timePickerInline},{default:ce(()=>{var G;return[b.value||R.timePicker||R.timePickerInline?(S(),V("div",{key:0,ref_key:"overlayRef",ref:v,class:ke({dp__overlay:!R.timePickerInline,"dp--overlay-absolute":!i.timePicker&&!R.timePickerInline,"dp--overlay-relative":i.timePicker}),style:nr(R.timePicker?{height:`${k(d).modeHeight}px`}:void 0),tabindex:R.timePickerInline?void 0:0},[K("div",{class:ke(R.timePickerInline?"dp__time_picker_inline_container":"dp__overlay_container dp__container_flex dp__time_picker_overlay_container"),style:{display:"flex"}},[R.$slots["time-picker-overlay"]?ge(R.$slots,"time-picker-overlay",{key:0,hours:t.hours,minutes:t.minutes,seconds:t.seconds,setHours:M,setMinutes:F,setSeconds:N}):Y("",!0),R.$slots["time-picker-overlay"]?Y("",!0):(S(),V("div",{key:1,class:ke(R.timePickerInline?"dp__flex":"dp__overlay_row dp__flex_row")},[(S(!0),V(Te,null,st(T.value,($,I)=>ns((S(),ie(Vue,le({key:I},{...R.$props,order:I,hours:$.hours,minutes:$.minutes,seconds:$.seconds,closeTimePickerBtn:g.value,disabledTimesConfig:t.disabledTimesConfig,disabled:I===0?R.fixedStart:R.fixedEnd},{ref_for:!0,ref_key:"timeInputRefs",ref:y,"validate-time":(Z,te)=>t.validateTime(Z,E(te,I,Z)),"onUpdate:hours":Z=>M(E(Z,I,"hours")),"onUpdate:minutes":Z=>F(E(Z,I,"minutes")),"onUpdate:seconds":Z=>N(E(Z,I,"seconds")),onMounted:x,onOverlayClosed:x,onAmPmChange:D[3]||(D[3]=Z=>R.$emit("am-pm-change",Z))}),Jn({_:2},[st(k(O),(Z,te)=>({name:Z,fn:ce(me=>[ge(R.$slots,Z,Pn(rr(me)))])}))]),1040,["validate-time","onUpdate:hours","onUpdate:minutes","onUpdate:seconds"])),[[Js,I===0?!0:_.value]])),128))],2)),!R.timePicker&&!R.timePickerInline?ns((S(),V("button",{key:2,ref_key:"closeTimePickerBtn",ref:g,type:"button",class:ke(A.value),"aria-label":(G=k(u))==null?void 0:G.closeTimePicker,tabindex:"0",onKeydown:[D[4]||(D[4]=dt($=>P(!1),["enter"])),D[5]||(D[5]=dt($=>P(!1),["space"]))],onClick:D[6]||(D[6]=$=>P(!1))},[R.$slots["calendar-icon"]?ge(R.$slots,"calendar-icon",{key:0}):Y("",!0),R.$slots["calendar-icon"]?Y("",!0):(S(),ie(k(Cc),{key:1}))],42,Wue)),[[Js,!k(p)(R.hideNavigation,"time")]]):Y("",!0)],2)],14,Hue)):Y("",!0)]}),_:3},8,["name","css"])])}}}),$$=(t,e,n,r)=>{const i=(y,v)=>Array.isArray(e[y])?e[y][v]:e[y],s=y=>t.enableSeconds?Array.isArray(e.seconds)?e.seconds[y]:e.seconds:0,o=(y,v)=>y?v!==void 0?Qo(y,i("hours",v),i("minutes",v),s(v)):Qo(y,e.hours,e.minutes,s()):BT(_e(),s(v)),a=(y,v)=>{e[y]=v},l=(y,v)=>{const _=Object.fromEntries(Object.keys(e).map(b=>b===y?[b,v]:[b,e[b]].slice()));if(t.range&&!t.disableTimeRangeValidation){const b=T=>n.value?Qo(n.value[T],_.hours[T],_.minutes[T],_.seconds[T]):null,w=T=>VT(n.value[T],0);return!(Wt(b(0),b(1))&&(xf(b(0),w(1))||Df(b(1),w(0))))}return!0},u=(y,v)=>{l(y,v)&&(a(y,v),r&&r())},c=y=>{u("hours",y)},d=y=>{u("minutes",y)},f=y=>{u("seconds",y)},h=(y,v,_,b)=>{v&&c(y),!v&&!_&&d(y),_&&f(y),n.value&&b(n.value)},p=y=>{if(y){const v=Array.isArray(y),_=v?[+y[0].hours,+y[1].hours]:+y.hours,b=v?[+y[0].minutes,+y[1].minutes]:+y.minutes,w=v?[+y[0].seconds,+y[1].seconds]:+y.seconds;a("hours",_),a("minutes",b),t.enableSeconds&&a("seconds",w)}},m=(y,v)=>{const _={hours:Array.isArray(e.hours)?e.hours[y]:e.hours,disabledArr:[]};return(v||v===0)&&(_.hours=v),Array.isArray(t.disabledTimes)&&(_.disabledArr=t.range&&Array.isArray(t.disabledTimes[y])?t.disabledTimes[y]:t.disabledTimes),_},g=ee(()=>(y,v)=>{var _;if(Array.isArray(t.disabledTimes)){const{disabledArr:b,hours:w}=m(y,v),T=b.filter(P=>+P.hours===w);return((_=T[0])==null?void 0:_.minutes)==="*"?{hours:[w],minutes:void 0,seconds:void 0}:{hours:[],minutes:(T==null?void 0:T.map(P=>+P.minutes))??[],seconds:(T==null?void 0:T.map(P=>P.seconds?+P.seconds:void 0))??[]}}return{hours:[],minutes:[],seconds:[]}});return{setTime:a,updateHours:c,updateMinutes:d,updateSeconds:f,getSetDateTime:o,updateTimeValues:h,getSecondsValue:s,assignStartTime:p,validateTime:l,disabledTimesConfig:g}},Kue=(t,e)=>{const{modelValue:n,time:r}=Ih(t,e),{defaultedStartTime:i}=Kn(t),{updateTimeValues:s,getSetDateTime:o,setTime:a,assignStartTime:l,disabledTimesConfig:u,validateTime:c}=$$(t,r,n),d=v=>{const{hours:_,minutes:b,seconds:w}=v;return{hours:+_,minutes:+b,seconds:w?+w:0}},f=()=>{if(t.startTime){if(Array.isArray(t.startTime)){const _=d(t.startTime[0]),b=d(t.startTime[1]);return[yn(_e(),_),yn(_e(),b)]}const v=d(t.startTime);return yn(_e(),v)}return t.range?[null,null]:null},h=()=>{if(t.range){const[v,_]=f();n.value=[o(v,0),o(_,1)]}else n.value=o(f())},p=v=>Array.isArray(v)?[qa(_e(v[0])),qa(_e(v[1]))]:[qa(v??_e())],m=(v,_,b)=>{a("hours",v),a("minutes",_),a("seconds",t.enableSeconds?b:0)},g=()=>{const[v,_]=p(n.value);return t.range?m([v.hours,_.hours],[v.minutes,_.minutes],[v.seconds,_.minutes]):m(v.hours,v.minutes,v.seconds)};Gt(()=>{if(!t.shadow)return l(i.value),n.value?g():h()});const y=()=>{Array.isArray(n.value)?n.value=n.value.map((v,_)=>v&&o(v,_)):n.value=o(n.value),e("time-update")};return{modelValue:n,time:r,disabledTimesConfig:u,updateTime:(v,_=!0,b=!1)=>{s(v,_,b,y)},validateTime:c}},zue=Oe({compatConfig:{MODE:3},__name:"TimePickerSolo",props:{...ps},emits:["update:internal-model-value","time-update","am-pm-change"],setup(t,{expose:e,emit:n}){const r=n,i=t,s=aa(),o=Ti(s,"timePicker"),{time:a,modelValue:l,disabledTimesConfig:u,updateTime:c,validateTime:d}=Kue(i,r);return e({getSidebarProps:()=>({modelValue:l,time:a,updateTime:c})}),(f,h)=>(S(),ie(Dv,{"multi-calendars":0,stretch:""},{default:ce(()=>[J(L$,le(f.$props,{hours:k(a).hours,minutes:k(a).minutes,seconds:k(a).seconds,"internal-model-value":f.internalModelValue,"disabled-times-config":k(u),"validate-time":k(d),"onUpdate:hours":h[0]||(h[0]=p=>k(c)(p)),"onUpdate:minutes":h[1]||(h[1]=p=>k(c)(p,!1)),"onUpdate:seconds":h[2]||(h[2]=p=>k(c)(p,!1,!0)),onAmPmChange:h[3]||(h[3]=p=>f.$emit("am-pm-change",p))}),Jn({_:2},[st(k(o),(p,m)=>({name:p,fn:ce(g=>[ge(f.$slots,p,Pn(rr(g)))])}))]),1040,["hours","minutes","seconds","internal-model-value","disabled-times-config","validate-time"])]),_:3}))}}),Gue={class:"dp__month_year_row"},Yue=["aria-label","onClick","onKeydown"],que=Oe({compatConfig:{MODE:3},__name:"DpHeader",props:{month:{type:Number,default:0},year:{type:Number,default:0},instance:{type:Number,default:0},years:{type:Array,default:()=>[]},months:{type:Array,default:()=>[]},...ps},emits:["update-month-year","mount","reset-flow","overlay-closed"],setup(t,{expose:e,emit:n}){const r=n,i=t,{defaultedTransitions:s,defaultedAriaLabels:o,defaultedMultiCalendars:a,defaultedFilters:l,defaultedConfig:u,defaultedHighlight:c}=Kn(i),{transitionName:d,showTransition:f}=Eh(s),{buildMatrix:h}=ma(),{handleMonthYearChange:p,isDisabled:m,updateMonthYear:g}=sue(i,r),{showLeftIcon:y,showRightIcon:v}=Pv(),_=re(!1),b=re(!1),w=re([null,null,null,null]);Gt(()=>{r("mount")});const T=I=>({get:()=>i[I],set:Z=>{const te=I===Gi.month?Gi.year:Gi.month;r("update-month-year",{[I]:Z,[te]:i[te]}),I===Gi.month?x(!0):R(!0)}}),P=ee(T(Gi.month)),A=ee(T(Gi.year)),O=ee(()=>I=>({month:i.month,year:i.year,items:I===Gi.month?i.months:i.years,instance:i.instance,updateMonthYear:g,toggle:I===Gi.month?x:R})),E=ee(()=>i.months.find(Z=>Z.value===i.month)||{text:"",value:0}),M=ee(()=>cc(i.months,I=>{const Z=i.month===I.value,te=Rf(I.value,E$(i.year,i.minDate),I$(i.year,i.maxDate))||l.value.months.includes(I.value),me=x$(c.value,I.value,i.year);return{active:Z,disabled:te,highlighted:me}})),F=ee(()=>cc(i.years,I=>{const Z=i.year===I.value,te=Rf(I.value,dc(i.minDate),dc(i.maxDate))||l.value.years.includes(I.value),me=QT(c.value,I.value);return{active:Z,disabled:te,highlighted:me}})),N=(I,Z)=>{Z!==void 0?I.value=Z:I.value=!I.value,I.value||r("overlay-closed")},x=(I=!1,Z)=>{D(I),N(_,Z)},R=(I=!1,Z)=>{D(I),N(b,Z)},D=I=>{I||r("reset-flow")},B=(I,Z)=>{i.arrowNavigation&&(w.value[Z]=tr(I),h(w.value,"monthYear"))},G=ee(()=>{var I,Z;return[{type:Gi.month,index:1,toggle:x,modelValue:P.value,updateModelValue:te=>P.value=te,text:E.value.text,showSelectionGrid:_.value,items:M.value,ariaLabel:(I=o.value)==null?void 0:I.openMonthsOverlay},{type:Gi.year,index:2,toggle:R,modelValue:A.value,updateModelValue:te=>A.value=te,text:i.year,showSelectionGrid:b.value,items:F.value,ariaLabel:(Z=o.value)==null?void 0:Z.openYearsOverlay}]}),$=ee(()=>i.disableYearSelect?[G.value[0]]:i.yearFirst?[...G.value].reverse():G.value);return e({toggleMonthPicker:x,toggleYearPicker:R,handleMonthYearChange:p}),(I,Z)=>{var te,me,ve;return S(),V("div",Gue,[I.$slots["month-year"]?ge(I.$slots,"month-year",Pn(le({key:0},{month:t.month,year:t.year,months:t.months,years:t.years,updateMonthYear:k(g),handleMonthYearChange:k(p),instance:t.instance}))):(S(),V(Te,{key:1},[k(y)(k(a),t.instance)&&!I.vertical?(S(),ie(Ud,{key:0,"aria-label":(te=k(o))==null?void 0:te.prevMonth,disabled:k(m)(!1),onActivate:Z[0]||(Z[0]=ne=>k(p)(!1,!0)),onSetRef:Z[1]||(Z[1]=ne=>B(ne,0))},{default:ce(()=>[I.$slots["arrow-left"]?ge(I.$slots,"arrow-left",{key:0}):Y("",!0),I.$slots["arrow-left"]?Y("",!0):(S(),ie(k(jT),{key:1}))]),_:3},8,["aria-label","disabled"])):Y("",!0),K("div",{class:ke(["dp__month_year_wrap",{dp__year_disable_select:I.disableYearSelect}])},[(S(!0),V(Te,null,st($.value,(ne,j)=>(S(),V(Te,{key:ne.type},[K("button",{ref_for:!0,ref:z=>B(z,j+1),type:"button",class:"dp__btn dp__month_year_select",tabindex:"0","aria-label":ne.ariaLabel,onClick:ne.toggle,onKeydown:[dt(St(ne.toggle,["prevent"]),["enter"]),dt(St(ne.toggle,["prevent"]),["space"])]},[I.$slots[ne.type]?ge(I.$slots,ne.type,{key:0,text:ne.text,value:i[ne.type]}):Y("",!0),I.$slots[ne.type]?Y("",!0):(S(),V(Te,{key:1},[Je($e(ne.text),1)],64))],40,Yue),J(Hi,{name:k(d)(ne.showSelectionGrid),css:k(f)},{default:ce(()=>[ne.showSelectionGrid?(S(),ie(Ch,{key:0,items:ne.items,"arrow-navigation":I.arrowNavigation,"hide-navigation":I.hideNavigation,"is-last":I.autoApply&&!k(u).keepActionRow,"skip-button-ref":!1,config:I.config,type:ne.type,"header-refs":[],"esc-close":I.escClose,"text-input":I.textInput,onSelected:ne.updateModelValue,onToggle:ne.toggle},Jn({"button-icon":ce(()=>[I.$slots["calendar-icon"]?ge(I.$slots,"calendar-icon",{key:0}):Y("",!0),I.$slots["calendar-icon"]?Y("",!0):(S(),ie(k(Cc),{key:1}))]),_:2},[I.$slots[`${ne.type}-overlay-value`]?{name:"item",fn:ce(({item:z})=>[ge(I.$slots,`${ne.type}-overlay-value`,{text:z.text,value:z.value})]),key:"0"}:void 0,I.$slots[`${ne.type}-overlay`]?{name:"overlay",fn:ce(()=>[ge(I.$slots,`${ne.type}-overlay`,Pn(rr(O.value(ne.type))))]),key:"1"}:void 0,I.$slots[`${ne.type}-overlay-header`]?{name:"header",fn:ce(()=>[ge(I.$slots,`${ne.type}-overlay-header`,{toggle:ne.toggle})]),key:"2"}:void 0]),1032,["items","arrow-navigation","hide-navigation","is-last","config","type","esc-close","text-input","onSelected","onToggle"])):Y("",!0)]),_:2},1032,["name","css"])],64))),128))],2),k(y)(k(a),t.instance)&&I.vertical?(S(),ie(Ud,{key:1,"aria-label":(me=k(o))==null?void 0:me.prevMonth,disabled:k(m)(!1),onActivate:Z[2]||(Z[2]=ne=>k(p)(!1,!0))},{default:ce(()=>[I.$slots["arrow-up"]?ge(I.$slots,"arrow-up",{key:0}):Y("",!0),I.$slots["arrow-up"]?Y("",!0):(S(),ie(k(KT),{key:1}))]),_:3},8,["aria-label","disabled"])):Y("",!0),k(v)(k(a),t.instance)?(S(),ie(Ud,{key:2,ref:"rightIcon",disabled:k(m)(!0),"aria-label":(ve=k(o))==null?void 0:ve.nextMonth,onActivate:Z[3]||(Z[3]=ne=>k(p)(!0,!0)),onSetRef:Z[4]||(Z[4]=ne=>B(ne,I.disableYearSelect?2:3))},{default:ce(()=>[I.$slots[I.vertical?"arrow-down":"arrow-right"]?ge(I.$slots,I.vertical?"arrow-down":"arrow-right",{key:0}):Y("",!0),I.$slots[I.vertical?"arrow-down":"arrow-right"]?Y("",!0):(S(),ie(gn(I.vertical?k(zT):k(HT)),{key:1}))]),_:3},8,["disabled","aria-label"])):Y("",!0)],64))])}}}),Xue=["aria-label"],Que={class:"dp__calendar_header",role:"row"},Jue={key:0,class:"dp__calendar_header_item",role:"gridcell"},Zue=K("div",{class:"dp__calendar_header_separator"},null,-1),ece=["aria-label"],tce={key:0,role:"gridcell",class:"dp__calendar_item dp__week_num"},nce={class:"dp__cell_inner"},rce=["id","aria-selected","aria-disabled","aria-label","onClick","onKeydown","onMouseenter","onMouseleave"],ice=Oe({compatConfig:{MODE:3},__name:"DpCalendar",props:{mappedDates:{type:Array,default:()=>[]},instance:{type:Number,default:0},month:{type:Number,default:0},year:{type:Number,default:0},...ps},emits:["select-date","set-hover-date","handle-scroll","mount","handle-swipe","handle-space","tooltip-open","tooltip-close"],setup(t,{expose:e,emit:n}){const r=n,i=t,{buildMultiLevelMatrix:s}=ma(),{defaultedTransitions:o,defaultedConfig:a,defaultedAriaLabels:l,defaultedMultiCalendars:u,defaultedWeekNumbers:c}=Kn(i),d=re(null),f=re({bottom:"",left:"",transform:""}),h=re([]),p=re(null),m=re(!0),g=re(""),y=re({startX:0,endX:0,startY:0,endY:0}),v=re([]),_=re({left:"50%"}),b=ee(()=>i.calendar?i.calendar(i.mappedDates):i.mappedDates),w=ee(()=>i.dayNames?Array.isArray(i.dayNames)?i.dayNames:i.dayNames(i.locale,+i.weekStart):xle(i.formatLocale,i.locale,+i.weekStart));Gt(()=>{r("mount",{cmp:"calendar",refs:h}),a.value.noSwipe||p.value&&(p.value.addEventListener("touchstart",R,{passive:!1}),p.value.addEventListener("touchend",D,{passive:!1}),p.value.addEventListener("touchmove",B,{passive:!1})),i.monthChangeOnScroll&&p.value&&p.value.addEventListener("wheel",I,{passive:!1})});const T=ne=>ne?i.vertical?"vNext":"next":i.vertical?"vPrevious":"previous",P=(ne,j)=>{if(i.transitions){const z=Br(qs(_e(),i.month,i.year));g.value=$r(Br(qs(_e(),ne,j)),z)?o.value[T(!0)]:o.value[T(!1)],m.value=!1,Wn(()=>{m.value=!0})}},A=ee(()=>({[i.calendarClassName]:!!i.calendarClassName})),O=ee(()=>ne=>{const j=Rle(ne);return{dp__marker_dot:j.type==="dot",dp__marker_line:j.type==="line"}}),E=ee(()=>ne=>Wt(ne,d.value)),M=ee(()=>({dp__calendar:!0,dp__calendar_next:u.value.count>0&&i.instance!==0})),F=ee(()=>ne=>i.hideOffsetDates?ne.current:!0),N=async(ne,j,z)=>{var oe,X;if(r("set-hover-date",ne),(X=(oe=ne.marker)==null?void 0:oe.tooltip)!=null&&X.length){const fe=tr(h.value[j][z]);if(fe){const{width:be,height:se}=fe.getBoundingClientRect();d.value=ne.value;let C={left:`${be/2}px`},L=-50;if(await Wn(),v.value[0]){const{left:H,width:ae}=v.value[0].getBoundingClientRect();H<0&&(C={left:"0"},L=0,_.value.left=`${be/2}px`),window.innerWidth<H+ae&&(C={right:"0"},L=0,_.value.left=`${ae-be/2}px`)}f.value={bottom:`${se}px`,...C,transform:`translateX(${L}%)`},r("tooltip-open",ne.marker)}}},x=ne=>{d.value&&(d.value=null,f.value=JSON.parse(JSON.stringify({bottom:"",left:"",transform:""})),r("tooltip-close",ne.marker))},R=ne=>{y.value.startX=ne.changedTouches[0].screenX,y.value.startY=ne.changedTouches[0].screenY},D=ne=>{y.value.endX=ne.changedTouches[0].screenX,y.value.endY=ne.changedTouches[0].screenY,G()},B=ne=>{i.vertical&&!i.inline&&ne.preventDefault()},G=()=>{const ne=i.vertical?"Y":"X";Math.abs(y.value[`start${ne}`]-y.value[`end${ne}`])>10&&r("handle-swipe",y.value[`start${ne}`]>y.value[`end${ne}`]?"right":"left")},$=(ne,j,z)=>{ne&&(Array.isArray(h.value[j])?h.value[j][z]=ne:h.value[j]=[ne]),i.arrowNavigation&&s(h.value,"calendar")},I=ne=>{i.monthChangeOnScroll&&(ne.preventDefault(),r("handle-scroll",ne))},Z=ne=>c.value.type==="local"?Hoe(ne.value,{weekStartsOn:+i.weekStart}):c.value.type==="iso"?Uoe(ne.value):typeof c.value.type=="function"?c.value.type(ne.value):"",te=ne=>{const j=ne[0];return c.value.hideOnOffsetDates?ne.some(z=>z.current)?Z(j):"":Z(j)},me=(ne,j)=>{Xo(ne,a.value),r("select-date",j)},ve=ne=>{Xo(ne,a.value)};return e({triggerTransition:P}),(ne,j)=>{var z;return S(),V("div",{class:ke(M.value)},[K("div",{ref_key:"calendarWrapRef",ref:p,role:"grid",class:ke(A.value),"aria-label":(z=k(l))==null?void 0:z.calendarWrap},[(S(),V(Te,{key:0},[K("div",Que,[ne.weekNumbers?(S(),V("div",Jue,$e(ne.weekNumName),1)):Y("",!0),(S(!0),V(Te,null,st(w.value,(oe,X)=>(S(),V("div",{key:X,class:"dp__calendar_header_item",role:"gridcell"},[ne.$slots["calendar-header"]?ge(ne.$slots,"calendar-header",{key:0,day:oe,index:X}):Y("",!0),ne.$slots["calendar-header"]?Y("",!0):(S(),V(Te,{key:1},[Je($e(oe),1)],64))]))),128))]),Zue,J(Hi,{name:g.value,css:!!ne.transitions},{default:ce(()=>{var oe;return[m.value?(S(),V("div",{key:0,class:"dp__calendar",role:"rowgroup","aria-label":((oe=k(l))==null?void 0:oe.calendarDays)||void 0},[(S(!0),V(Te,null,st(b.value,(X,fe)=>(S(),V("div",{key:fe,class:"dp__calendar_row",role:"row"},[ne.weekNumbers?(S(),V("div",tce,[K("div",nce,$e(te(X.days)),1)])):Y("",!0),(S(!0),V(Te,null,st(X.days,(be,se)=>{var C,L,H;return S(),V("div",{id:be.value.toISOString().split("T")[0],ref_for:!0,ref:ae=>$(ae,fe,se),key:se+fe,role:"gridcell",class:"dp__calendar_item","aria-selected":be.classData.dp__active_date||be.classData.dp__range_start||be.classData.dp__range_start,"aria-disabled":be.classData.dp__cell_disabled||void 0,"aria-label":(L=(C=k(l))==null?void 0:C.day)==null?void 0:L.call(C,be),tabindex:"0",onClick:St(ae=>me(ae,be),["prevent"]),onKeydown:[dt(ae=>ne.$emit("select-date",be),["enter"]),dt(ae=>ne.$emit("handle-space",be),["space"])],onMouseenter:ae=>N(be,fe,se),onMouseleave:ae=>x(be)},[K("div",{class:ke(["dp__cell_inner",be.classData])},[ne.$slots.day&&F.value(be)?ge(ne.$slots,"day",{key:0,day:+be.text,date:be.value}):Y("",!0),ne.$slots.day?Y("",!0):(S(),V(Te,{key:1},[Je($e(be.text),1)],64)),be.marker&&F.value(be)?(S(),V(Te,{key:2},[ne.$slots.marker?ge(ne.$slots,"marker",{key:0,marker:be.marker,day:+be.text,date:be.value}):(S(),V("div",{key:1,class:ke(O.value(be.marker)),style:nr(be.marker.color?{backgroundColor:be.marker.color}:{})},null,6))],64)):Y("",!0),E.value(be.value)?(S(),V("div",{key:3,ref_for:!0,ref_key:"activeTooltip",ref:v,class:"dp__marker_tooltip",style:nr(f.value)},[(H=be.marker)!=null&&H.tooltip?(S(),V("div",{key:0,class:"dp__tooltip_content",onClick:ve},[(S(!0),V(Te,null,st(be.marker.tooltip,(ae,ue)=>(S(),V("div",{key:ue,class:"dp__tooltip_text"},[ne.$slots["marker-tooltip"]?ge(ne.$slots,"marker-tooltip",{key:0,tooltip:ae,day:be.value}):Y("",!0),ne.$slots["marker-tooltip"]?Y("",!0):(S(),V(Te,{key:1},[K("div",{class:"dp__tooltip_mark",style:nr(ae.color?{backgroundColor:ae.color}:{})},null,4),K("div",null,$e(ae.text),1)],64))]))),128)),K("div",{class:"dp__arrow_bottom_tp",style:nr(_.value)},null,4)])):Y("",!0)],4)):Y("",!0)],2)],40,rce)}),128))]))),128))],8,ece)):Y("",!0)]}),_:3},8,["name","css"])],64))],10,Xue)],2)}}}),PA=t=>Array.isArray(t),sce=(t,e,n,r)=>{const i=re([]),{modelValue:s,calendars:o,time:a}=Ih(t,e),{defaultedMultiCalendars:l,defaultedStartTime:u}=Kn(t),{validateMonthYearInRange:c,isDisabled:d,isDateRangeAllowed:f,checkMinMaxRange:h}=Ll(t),{updateTimeValues:p,getSetDateTime:m,setTime:g,assignStartTime:y,validateTime:v,disabledTimesConfig:_}=$$(t,a,s,r),b=ee(()=>q=>o.value[q]?o.value[q].month:0),w=ee(()=>q=>o.value[q]?o.value[q].year:0),T=(q,U,W)=>{var Q,de;o.value[q]||(o.value[q]={month:0,year:0}),o.value[q].month=IA(U)?(Q=o.value[q])==null?void 0:Q.month:U,o.value[q].year=IA(W)?(de=o.value[q])==null?void 0:de.year:W},P=()=>{t.autoApply&&e("select-date")};It(s,(q,U)=>{JSON.stringify(q)!==JSON.stringify(U)&&E()}),Gt(()=>{t.shadow||(s.value||(I(),u.value&&y(u.value)),E(!0),t.focusStartDate&&t.startDate&&I())});const A=ee(()=>{var q;return(q=t.flow)!=null&&q.length&&!t.partialFlow?t.flowStep===t.flow.length:!0}),O=()=>{t.autoApply&&A.value&&e("auto-apply",t.partialFlow)},E=(q=!1)=>{if(s.value)return Array.isArray(s.value)?(i.value=s.value,D(q)):F(s.value,q);if(l.value.count&&q&&!t.startDate)return M(_e(),q)},M=(q,U=!1)=>{if((!l.value.count||!l.value.static||U)&&T(0,Mt(q),bt(q)),l.value.count&&(!l.value.solo||!s.value))for(let W=1;W<l.value.count;W++){const Q=yn(_e(),{month:b.value(W-1),year:w.value(W-1)}),de=XL(Q,{months:1});o.value[W]={month:Mt(de),year:bt(de)}}},F=(q,U)=>{M(q),g("hours",os(q)),g("minutes",Rs(q)),g("seconds",lc(q)),l.value.count&&U&&$()},N=q=>{if(l.value.count){if(l.value.solo)return 0;const U=Mt(q[0]),W=Mt(q[1]);return Math.abs(W-U)<l.value.count?0:1}return 1},x=(q,U)=>{q[1]&&t.showLastInRange?M(q[N(q)],U):M(q[0],U);const W=(Q,de)=>[Q(q[0]),q[1]?Q(q[1]):a[de][1]];g("hours",W(os,"hours")),g("minutes",W(Rs,"minutes")),g("seconds",W(lc,"seconds"))},R=(q,U)=>{if((t.range||t.weekPicker)&&!t.multiDates)return x(q,U);if(t.multiDates&&U){const W=q[q.length-1];return F(W,U)}},D=q=>{const U=s.value;R(U,q),l.value.count&&l.value.solo&&$()},B=(q,U)=>{const W=yn(_e(),{month:b.value(U),year:w.value(U)}),Q=q<0?ss(W,1):uc(W,1);c(Mt(Q),bt(Q),q<0,t.preventMinMaxNavigation)&&(T(U,Mt(Q),bt(Q)),e("update-month-year",{instance:U,month:Mt(Q),year:bt(Q)}),l.value.count&&!l.value.solo&&G(U),n())},G=q=>{for(let U=q-1;U>=0;U--){const W=uc(yn(_e(),{month:b.value(U+1),year:w.value(U+1)}),1);T(U,Mt(W),bt(W))}for(let U=q+1;U<=l.value.count-1;U++){const W=ss(yn(_e(),{month:b.value(U-1),year:w.value(U-1)}),1);T(U,Mt(W),bt(W))}},$=()=>{if(Array.isArray(s.value)&&s.value.length===2){const q=_e(_e(s.value[1]?s.value[1]:ss(s.value[0],1))),[U,W]=[Mt(s.value[0]),bt(s.value[0])],[Q,de]=[Mt(s.value[1]),bt(s.value[1])];(U!==Q||U===Q&&W!==de)&&l.value.solo&&T(1,Mt(q),bt(q))}else s.value&&!Array.isArray(s.value)&&(T(0,Mt(s.value),bt(s.value)),M(_e()))},I=()=>{t.startDate&&(T(0,Mt(_e(t.startDate)),bt(_e(t.startDate))),l.value.count&&G(0))},Z=Fle((q,U)=>{t.monthChangeOnScroll&&B(t.monthChangeOnScroll!=="inverse"?-q.deltaY:q.deltaY,U)},50),te=(q,U,W=!1)=>{t.monthChangeOnArrows&&t.vertical===W&&me(q,U)},me=(q,U)=>{B(q==="right"?-1:1,U)},ve=q=>t.markers.find(U=>Wt(Ble(q.value),as(_e(U.date),t.timezone))),ne=(q,U)=>{switch(t.sixWeeks===!0?"append":t.sixWeeks){case"prepend":return[!0,!1];case"center":return[q==0,!0];case"fair":return[q==0||U>q,!0];case"append":return[!1,!1];default:return[!1,!1]}},j=(q,U,W,Q)=>{if(t.sixWeeks&&q.length<6){const de=6-q.length,Me=(U.getDay()+7-Q)%7,Ge=6-(W.getDay()+7-Q)%7,[pe,Ce]=ne(Me,Ge);for(let Pe=1;Pe<=de;Pe++)if(Ce?!!(Pe%2)==pe:pe){const Ye=q[0].days[0],je=z(Ws(Ye.value,-7),Mt(U));q.unshift({days:je})}else{const Ye=q[q.length-1],je=Ye.days[Ye.days.length-1],tt=z(Ws(je.value,1),Mt(U));q.push({days:tt})}}return q},z=(q,U)=>{const W=_e(q),Q=[];for(let de=0;de<7;de++){const Me=Ws(W,de),Ge=Mt(Me)!==U;Q.push({text:t.hideOffsetDates&&Ge?"":Me.getDate(),value:Me,current:!Ge,classData:{}})}return Q},oe=(q,U)=>{const W=[],Q=new Date(U,q),de=new Date(U,q+1,0),Me=t.weekStart,Ge=bl(Q,{weekStartsOn:Me}),pe=Ce=>{const Pe=z(Ce,q);if(W.push({days:Pe}),!W[W.length-1].days.some(Ye=>Wt(Br(Ye.value),Br(de)))){const Ye=Ws(Ce,7);pe(Ye)}};return pe(Ge),j(W,Q,de,Me)},X=q=>(s.value=Wp(_e(q.value),t.timezone,t.weekStart),e("date-update",q.value),O()),fe=q=>{const U=Qo(_e(q.value),a.hours,a.minutes,Se());e("date-update",U),t.multiDates?JT(U,s,t.multiDatesLimit):s.value=U,r(),Wn().then(()=>{O()})},be=q=>t.noDisabledRange?O$(i.value[0],q).some(U=>d(U)):!1,se=()=>{i.value=s.value?s.value.slice():[],i.value.length===2&&!(t.fixedStart||t.fixedEnd)&&(i.value=[])},C=(q,U)=>{const W=[_e(q.value),Ws(_e(q.value),+t.autoRange)];f(W)?(U&&L(q.value),i.value=W):e("invalid-date",q.value)},L=q=>{const U=Mt(_e(q)),W=bt(_e(q));if(T(0,U,W),l.value.count>0)for(let Q=1;Q<l.value.count;Q++){const de=jle(yn(_e(q),{year:b.value(Q-1),month:w.value(Q-1)}));T(Q,de.month,de.year)}},H=q=>Array.isArray(s.value)&&s.value.length===2?t.fixedStart&&($r(q,s.value[0])||Wt(q,s.value[0]))?[s.value[0],q]:t.fixedEnd&&(Sr(q,s.value[1])||Wt(q,s.value[1]))?[q,s.value[1]]:(e("invalid-fixed-range",q),s.value):[],ae=q=>{if(be(q.value)||!h(q.value,s.value,t.fixedStart?0:1))return e("invalid-date",q.value);i.value=H(_e(q.value))},ue=(q,U)=>{if(se(),t.autoRange)return C(q,U);if(t.fixedStart||t.fixedEnd)return ae(q);i.value[0]?h(_e(q.value),s.value)&&!be(q.value)?Sr(_e(q.value),_e(i.value[0]))?(i.value.unshift(_e(q.value)),e("range-end",i.value[0])):(i.value[1]=_e(q.value),e("range-end",i.value[1])):(t.autoApply&&e("auto-apply-invalid",q.value),e("invalid-date",q.value)):(i.value[0]=_e(q.value),e("range-start",i.value[0]))},Se=(q=!0)=>t.enableSeconds?Array.isArray(a.seconds)?q?a.seconds[0]:a.seconds[1]:a.seconds:0,Ae=q=>{i.value[q]=Qo(i.value[q],a.hours[q],a.minutes[q],Se(q!==1))},we=()=>{var q,U;i.value[0]&&i.value[1]&&+((q=i.value)==null?void 0:q[0])>+((U=i.value)==null?void 0:U[1])&&(i.value.reverse(),e("range-start",i.value[0]),e("range-end",i.value[1]))},Ee=()=>{i.value.length&&(i.value[0]&&!i.value[1]?Ae(0):(Ae(0),Ae(1),r()),we(),s.value=i.value.slice(),Rv(i.value,e,t.autoApply,t.modelAuto))},ye=(q,U=!1)=>{if(d(q.value)||!q.current&&t.hideOffsetDates)return e("invalid-date",q.value);if(t.weekPicker)return X(q);if(!t.range)return fe(q);PA(a.hours)&&PA(a.minutes)&&!t.multiDates&&(ue(q,U),Ee())},De=(q,U)=>{var W;T(q,U.month,U.year),l.value.count&&!l.value.solo&&G(q),e("update-month-year",{instance:q,month:U.month,year:U.year}),n(l.value.solo?q:void 0);const Q=(W=t.flow)!=null&&W.length?t.flow[t.flowStep]:void 0;!U.fromNav&&(Q===vs.month||Q===vs.year)&&r()},Be=(q,U)=>{N$({value:q,modelValue:s,range:t.range,timezone:U?void 0:t.timezone}),P(),t.multiCalendars&&Wn().then(()=>E(!0))},Ke=()=>{t.range?s.value&&Array.isArray(s.value)&&s.value[0]?s.value=Sr(_e(),s.value[0])?[_e(),s.value[0]]:[s.value[0],_e()]:s.value=[_e()]:s.value=_e(),P()},et=()=>{if(Array.isArray(s.value))if(t.multiDates){const q=lt();s.value[s.value.length-1]=m(q)}else s.value=s.value.map((q,U)=>q&&m(q,U));else s.value=m(s.value);e("time-update")},lt=()=>Array.isArray(s.value)&&s.value.length?s.value[s.value.length-1]:null;return{calendars:o,modelValue:s,month:b,year:w,time:a,disabledTimesConfig:_,validateTime:v,getCalendarDays:oe,getMarker:ve,handleScroll:Z,handleSwipe:me,handleArrow:te,selectDate:ye,updateMonthYear:De,presetDate:Be,selectCurrentDate:Ke,updateTime:(q,U=!0,W=!1)=>{p(q,U,W,et)}}},oce={key:0},ace=Oe({__name:"DatePicker",props:{...ps},emits:["tooltip-open","tooltip-close","mount","update:internal-model-value","update-flow-step","reset-flow","auto-apply","focus-menu","select-date","range-start","range-end","invalid-fixed-range","time-update","am-pm-change","time-picker-open","time-picker-close","recalculate-position","update-month-year","auto-apply-invalid","date-update","invalid-date"],setup(t,{expose:e,emit:n}){const r=n,i=t,{calendars:s,month:o,year:a,modelValue:l,time:u,disabledTimesConfig:c,validateTime:d,getCalendarDays:f,getMarker:h,handleArrow:p,handleScroll:m,handleSwipe:g,selectDate:y,updateMonthYear:v,presetDate:_,selectCurrentDate:b,updateTime:w}=sce(i,r,$,I),T=aa(),{setHoverDate:P,getDayClassData:A,clearHoverDate:O}=uue(l,i),{defaultedMultiCalendars:E}=Kn(i),M=re([]),F=re([]),N=re(null),x=Ti(T,"calendar"),R=Ti(T,"monthYear"),D=Ti(T,"timePicker"),B=te=>{i.shadow||r("mount",te)};It(s,()=>{i.shadow||setTimeout(()=>{r("recalculate-position")},0)},{deep:!0});const G=ee(()=>te=>f(o.value(te),a.value(te)).map(me=>({...me,days:me.days.map(ve=>(ve.marker=h(ve),ve.classData=A(ve),ve))})));function $(te){var me;te||te===0?(me=F.value[te])==null||me.triggerTransition(o.value(te),a.value(te)):F.value.forEach((ve,ne)=>ve.triggerTransition(o.value(ne),a.value(ne)))}function I(){r("update-flow-step")}const Z=(te,me=!1)=>{y(te,me),i.spaceConfirm&&r("select-date")};return e({clearHoverDate:O,presetDate:_,selectCurrentDate:b,toggleMonthPicker:(te,me,ve=0)=>{var ne;(ne=M.value[ve])==null||ne.toggleMonthPicker(te,me)},toggleYearPicker:(te,me,ve=0)=>{var ne;(ne=M.value[ve])==null||ne.toggleYearPicker(te,me)},toggleTimePicker:(te,me,ve)=>{var ne;(ne=N.value)==null||ne.toggleTimePicker(te,me,ve)},handleArrow:p,updateMonthYear:v,getSidebarProps:()=>({modelValue:l,month:o,year:a,time:u,updateTime:w,updateMonthYear:v,selectDate:y,presetDate:_})}),(te,me)=>(S(),V(Te,null,[J(Dv,{"multi-calendars":k(E).count},{default:ce(({instance:ve,index:ne})=>[te.disableMonthYearSelect?Y("",!0):(S(),ie(que,le({key:0,ref:j=>{j&&(M.value[ne]=j)},months:k(T$)(te.formatLocale,te.locale,te.monthNameFormat),years:k(XT)(te.yearRange,te.reverseYears),month:k(o)(ve),year:k(a)(ve),instance:ve},te.$props,{onMount:me[0]||(me[0]=j=>B(k(Xa).header)),onResetFlow:me[1]||(me[1]=j=>te.$emit("reset-flow")),onUpdateMonthYear:j=>k(v)(ve,j),onOverlayClosed:me[2]||(me[2]=j=>te.$emit("focus-menu"))}),Jn({_:2},[st(k(R),(j,z)=>({name:j,fn:ce(oe=>[ge(te.$slots,j,Pn(rr(oe)))])}))]),1040,["months","years","month","year","instance","onUpdateMonthYear"])),J(ice,le({ref:j=>{j&&(F.value[ne]=j)},"mapped-dates":G.value(ve),month:k(o)(ve),year:k(a)(ve),instance:ve},te.$props,{onSelectDate:j=>k(y)(j,ve!==1),onHandleSpace:j=>Z(j,ve!==1),onSetHoverDate:me[3]||(me[3]=j=>k(P)(j)),onHandleScroll:j=>k(m)(j,ve),onHandleSwipe:j=>k(g)(j,ve),onMount:me[4]||(me[4]=j=>B(k(Xa).calendar)),onResetFlow:me[5]||(me[5]=j=>te.$emit("reset-flow")),onTooltipOpen:me[6]||(me[6]=j=>te.$emit("tooltip-open",j)),onTooltipClose:me[7]||(me[7]=j=>te.$emit("tooltip-close",j))}),Jn({_:2},[st(k(x),(j,z)=>({name:j,fn:ce(oe=>[ge(te.$slots,j,Pn(rr({...oe})))])}))]),1040,["mapped-dates","month","year","instance","onSelectDate","onHandleSpace","onHandleScroll","onHandleSwipe"])]),_:3},8,["multi-calendars"]),te.enableTimePicker?(S(),V("div",oce,[te.$slots["time-picker"]?ge(te.$slots,"time-picker",Pn(le({key:0},{time:k(u),updateTime:k(w)}))):(S(),ie(L$,le({key:1,ref_key:"timePickerRef",ref:N},te.$props,{hours:k(u).hours,minutes:k(u).minutes,seconds:k(u).seconds,"internal-model-value":te.internalModelValue,"disabled-times-config":k(c),"validate-time":k(d),onMount:me[8]||(me[8]=ve=>B(k(Xa).timePicker)),"onUpdate:hours":me[9]||(me[9]=ve=>k(w)(ve)),"onUpdate:minutes":me[10]||(me[10]=ve=>k(w)(ve,!1)),"onUpdate:seconds":me[11]||(me[11]=ve=>k(w)(ve,!1,!0)),onResetFlow:me[12]||(me[12]=ve=>te.$emit("reset-flow")),onOverlayClosed:me[13]||(me[13]=ve=>te.$emit("time-picker-close")),onOverlayOpened:me[14]||(me[14]=ve=>te.$emit("time-picker-open",ve)),onAmPmChange:me[15]||(me[15]=ve=>te.$emit("am-pm-change",ve))}),Jn({_:2},[st(k(D),(ve,ne)=>({name:ve,fn:ce(j=>[ge(te.$slots,ve,Pn(rr(j)))])}))]),1040,["hours","minutes","seconds","internal-model-value","disabled-times-config","validate-time"]))])):Y("",!0)],64))}}),lce=(t,e)=>{const n=re(),{defaultedMultiCalendars:r,defaultedConfig:i,defaultedHighlight:s}=Kn(t),{modelValue:o,year:a,month:l,calendars:u}=Ih(t,e),{isDisabled:c}=Ll(t),{selectYear:d,groupedYears:f,showYearPicker:h,isDisabled:p,toggleYearPicker:m,handleYearSelect:g,handleYear:y}=M$({modelValue:o,multiCalendars:r,highlight:s,calendars:u,month:l,year:a,props:t,emit:e}),v=(O,E)=>[O,E].map(M=>qo(M,"MMMM",{locale:t.formatLocale})).join("-"),_=ee(()=>O=>o.value?Array.isArray(o.value)?o.value.some(E=>pA(O,E)):pA(o.value,O):!1),b=O=>{if(t.range){if(Array.isArray(o.value)){const E=Wt(O,o.value[0])||Wt(O,o.value[1]);return kv(o.value,n.value,O)&&!E}return!1}return!1},w=ee(()=>O=>{const E=yn(new Date,{year:a.value(O)});return Pse({start:Dse(E),end:xse(E)}).map(M=>{const F=Pf(M),N=aA(M),x=c(M),R=b(F),D=typeof s.value=="function"?s.value({quarter:oA(F),year:bt(F)}):!!s.value.quarters.find(B=>B.quarter===oA(F)&&B.year===bt(F));return{text:v(F,N),value:F,active:_.value(F),highlighted:D,disabled:x,isBetween:R}})}),T=O=>{JT(O,o,t.multiDatesLimit),e("auto-apply",!0)},P=O=>{const E=ZT(o,O,e);Rv(E,e,t.autoApply,t.modelAuto)},A=O=>{o.value=O,e("auto-apply")};return{defaultedConfig:i,defaultedMultiCalendars:r,groupedYears:f,year:a,isDisabled:p,quarters:w,showYearPicker:h,modelValue:o,setHoverDate:O=>{n.value=O},selectYear:d,selectQuarter:(O,E,M)=>{if(!M)return u.value[E].month=Mt(aA(O)),t.multiDates?T(O):t.range?P(O):A(O)},toggleYearPicker:m,handleYearSelect:g,handleYear:y}},uce={class:"dp--quarter-items"},cce=["disabled","onClick","onMouseover"],dce=Oe({compatConfig:{MODE:3},__name:"QuarterPicker",props:{...ps},emits:["update:internal-model-value","reset-flow","overlay-closed","auto-apply","range-start","range-end"],setup(t,{expose:e,emit:n}){const r=n,i=t,s=aa(),o=Ti(s,"yearMode"),{defaultedMultiCalendars:a,defaultedConfig:l,groupedYears:u,year:c,isDisabled:d,quarters:f,modelValue:h,showYearPicker:p,setHoverDate:m,selectQuarter:g,toggleYearPicker:y,handleYearSelect:v,handleYear:_}=lce(i,r);return e({getSidebarProps:()=>({modelValue:h,year:c,selectQuarter:g,handleYearSelect:v,handleYear:_})}),(b,w)=>(S(),ie(Dv,{"multi-calendars":k(a).count,stretch:""},{default:ce(({instance:T})=>[K("div",{class:"dp-quarter-picker-wrap",style:nr({minHeight:`${k(l).modeHeight}px`})},[K("div",null,[J(R$,le(b.$props,{items:k(u)(T),instance:T,"show-year-picker":k(p)[T],year:k(c)(T),"is-disabled":P=>k(d)(T,P),onHandleYear:P=>k(_)(T,P),onYearSelect:P=>k(v)(P,T),onToggleYearPicker:P=>k(y)(T,P==null?void 0:P.flow,P==null?void 0:P.show)}),Jn({_:2},[st(k(o),(P,A)=>({name:P,fn:ce(O=>[ge(b.$slots,P,Pn(rr(O)))])}))]),1040,["items","instance","show-year-picker","year","is-disabled","onHandleYear","onYearSelect","onToggleYearPicker"])]),K("div",uce,[(S(!0),V(Te,null,st(k(f)(T),(P,A)=>(S(),V("div",{key:A},[K("button",{type:"button",class:ke(["dp--qr-btn",{"dp--qr-btn-active":P.active,"dp--qr-btn-between":P.isBetween,"dp--qr-btn-disabled":P.disabled,"dp--highlighted":P.highlighted}]),disabled:P.disabled,onClick:O=>k(g)(P.value,T,P.disabled),onMouseover:O=>k(m)(P.value)},[b.$slots.quarter?ge(b.$slots,"quarter",{key:0,value:P.value,text:P.text}):(S(),V(Te,{key:1},[Je($e(P.text),1)],64))],42,cce)]))),128))])],4)]),_:3},8,["multi-calendars"]))}}),fce=["id"],hce={key:0,class:"dp__sidebar_left"},pce={key:1,class:"dp--preset-dates"},mce=["onClick","onKeydown"],gce={key:2,class:"dp__sidebar_right"},vce={key:3,class:"dp__action_extra"},xA=Oe({compatConfig:{MODE:3},__name:"DatepickerMenu",props:{...xv,shadow:{type:Boolean,default:!1},openOnTop:{type:Boolean,default:!1},internalModelValue:{type:[Date,Array],default:null},arrMapValues:{type:Object,default:()=>({})},noOverlayFocus:{type:Boolean,default:!1}},emits:["close-picker","select-date","auto-apply","time-update","flow-step","update-month-year","invalid-select","update:internal-model-value","recalculate-position","invalid-fixed-range","tooltip-open","tooltip-close","time-picker-open","time-picker-close","am-pm-change","range-start","range-end","auto-apply-invalid","date-update","invalid-date"],setup(t,{expose:e,emit:n}){const r=n,i=t,s=ee(()=>{const{openOnTop:se,...C}=i;return{...C,flowStep:A.value,noOverlayFocus:i.noOverlayFocus}}),{setMenuFocused:o,setShiftKey:a,control:l}=D$(),u=aa(),{defaultedTextInput:c,defaultedInline:d,defaultedConfig:f}=Kn(i),h=re(null),p=re(0),m=re(null),g=re(null),y=re(!1),v=re(null);Gt(()=>{if(!i.shadow){y.value=!0,_(),window.addEventListener("resize",_);const se=tr(m);if(se&&!c.value.enabled&&!d.value.enabled&&(o(!0),N()),se){const C=L=>{f.value.allowPreventDefault&&L.preventDefault(),Xo(L,f.value,!0)};se.addEventListener("pointerdown",C),se.addEventListener("mousedown",C)}}}),oa(()=>{window.removeEventListener("resize",_)});const _=()=>{const se=tr(g);se&&(p.value=se.getBoundingClientRect().width)},{arrowRight:b,arrowLeft:w,arrowDown:T,arrowUp:P}=ma(),{flowStep:A,updateFlowStep:O,childMount:E,resetFlow:M}=cue(i,r,v),F=ee(()=>i.monthPicker?Oue:i.yearPicker?kue:i.timePicker?zue:i.quarterPicker?dce:ace),N=()=>{const se=tr(m);se&&se.focus({preventScroll:!0})},x=ee(()=>{var se;return((se=v.value)==null?void 0:se.getSidebarProps())||{}}),R=()=>{i.openOnTop&&r("recalculate-position")},D=Ti(u,"action"),B=ee(()=>i.monthPicker||i.yearPicker?Ti(u,"monthYear"):i.timePicker?Ti(u,"timePicker"):Ti(u,"shared")),G=ee(()=>i.openOnTop?"dp__arrow_bottom":"dp__arrow_top"),$=ee(()=>({dp__menu_disabled:i.disabled,dp__menu_readonly:i.readonly})),I=ee(()=>({dp__menu:!0,dp__menu_index:!d.value.enabled,dp__relative:d.value.enabled,[i.menuClassName]:!!i.menuClassName})),Z=se=>{Xo(se,f.value,!0)},te=()=>{i.escClose&&r("close-picker")},me=se=>{if(i.arrowNavigation){if(se==="up")return P();if(se==="down")return T();if(se==="left")return w();if(se==="right")return b()}else se==="left"||se==="up"?oe("handleArrow","left",0,se==="up"):oe("handleArrow","right",0,se==="down")},ve=se=>{a(se.shiftKey),!i.disableMonthYearSelect&&se.code==="Tab"&&se.target.classList.contains("dp__menu")&&l.value.shiftKeyInMenu&&(se.preventDefault(),Xo(se,f.value,!0),r("close-picker"))},ne=()=>{N(),r("time-picker-close")},j=se=>{var C,L,H;(C=v.value)==null||C.toggleTimePicker(!1,!1),(L=v.value)==null||L.toggleMonthPicker(!1,!1,se),(H=v.value)==null||H.toggleYearPicker(!1,!1,se)},z=(se,C=0)=>{var L,H,ae;return se==="month"?(L=v.value)==null?void 0:L.toggleMonthPicker(!1,!0,C):se==="year"?(H=v.value)==null?void 0:H.toggleYearPicker(!1,!0,C):se==="time"?(ae=v.value)==null?void 0:ae.toggleTimePicker(!0,!1):j(C)},oe=(se,...C)=>{var L,H;(L=v.value)!=null&&L[se]&&((H=v.value)==null||H[se](...C))},X=()=>{oe("selectCurrentDate")},fe=(se,C)=>{oe("presetDate",se,C)},be=()=>{oe("clearHoverDate")};return e({updateMonthYear:(se,C)=>{oe("updateMonthYear",se,C)},switchView:z}),(se,C)=>{var L;return S(),V("div",{id:se.uid?`dp-menu-${se.uid}`:void 0,ref_key:"dpMenuRef",ref:m,tabindex:"0",role:"dialog",class:ke(I.value),onMouseleave:be,onClick:Z,onKeydown:[dt(te,["esc"]),C[18]||(C[18]=dt(St(H=>me("left"),["prevent"]),["left"])),C[19]||(C[19]=dt(St(H=>me("up"),["prevent"]),["up"])),C[20]||(C[20]=dt(St(H=>me("down"),["prevent"]),["down"])),C[21]||(C[21]=dt(St(H=>me("right"),["prevent"]),["right"])),ve]},[(se.disabled||se.readonly)&&k(d).enabled?(S(),V("div",{key:0,class:ke($.value)},null,2)):Y("",!0),!k(d).enabled&&!se.teleportCenter?(S(),V("div",{key:1,class:ke(G.value)},null,2)):Y("",!0),K("div",{ref_key:"innerMenuRef",ref:g,class:ke({dp__menu_content_wrapper:((L=se.presetDates)==null?void 0:L.length)||!!se.$slots["left-sidebar"]||!!se.$slots["right-sidebar"]}),style:nr({"--dp-menu-width":`${p.value}px`})},[se.$slots["left-sidebar"]?(S(),V("div",hce,[ge(se.$slots,"left-sidebar",Pn(rr(x.value)))])):Y("",!0),se.presetDates.length?(S(),V("div",pce,[(S(!0),V(Te,null,st(se.presetDates,(H,ae)=>(S(),V(Te,{key:ae},[H.slot?ge(se.$slots,H.slot,{key:0,presetDate:fe,label:H.label,value:H.value}):(S(),V("button",{key:1,type:"button",style:nr(H.style||{}),class:"dp__btn dp--preset-range",onClick:St(ue=>fe(H.value,H.noTz),["prevent"]),onKeydown:[dt(St(ue=>fe(H.value,H.noTz),["prevent"]),["enter"]),dt(St(ue=>fe(H.value,H.noTz),["prevent"]),["space"])]},$e(H.label),45,mce))],64))),128))])):Y("",!0),K("div",{ref_key:"calendarWrapperRef",ref:h,class:"dp__instance_calendar",role:"document"},[(S(),ie(gn(F.value),le({ref_key:"dynCmpRef",ref:v},s.value,{"flow-step":k(A),onMount:k(E),onUpdateFlowStep:k(O),onResetFlow:k(M),onFocusMenu:N,onSelectDate:C[0]||(C[0]=H=>se.$emit("select-date")),onDateUpdate:C[1]||(C[1]=H=>se.$emit("date-update",H)),onTooltipOpen:C[2]||(C[2]=H=>se.$emit("tooltip-open",H)),onTooltipClose:C[3]||(C[3]=H=>se.$emit("tooltip-close",H)),onAutoApply:C[4]||(C[4]=H=>se.$emit("auto-apply",H)),onRangeStart:C[5]||(C[5]=H=>se.$emit("range-start",H)),onRangeEnd:C[6]||(C[6]=H=>se.$emit("range-end",H)),onInvalidFixedRange:C[7]||(C[7]=H=>se.$emit("invalid-fixed-range",H)),onTimeUpdate:C[8]||(C[8]=H=>se.$emit("time-update")),onAmPmChange:C[9]||(C[9]=H=>se.$emit("am-pm-change",H)),onTimePickerOpen:C[10]||(C[10]=H=>se.$emit("time-picker-open",H)),onTimePickerClose:ne,onRecalculatePosition:R,onUpdateMonthYear:C[11]||(C[11]=H=>se.$emit("update-month-year",H)),onAutoApplyInvalid:C[12]||(C[12]=H=>se.$emit("auto-apply-invalid",H)),onInvalidDate:C[13]||(C[13]=H=>se.$emit("invalid-date",H)),"onUpdate:internalModelValue":C[14]||(C[14]=H=>se.$emit("update:internal-model-value",H))}),Jn({_:2},[st(B.value,(H,ae)=>({name:H,fn:ce(ue=>[ge(se.$slots,H,Pn(rr({...ue})))])}))]),1040,["flow-step","onMount","onUpdateFlowStep","onResetFlow"]))],512),se.$slots["right-sidebar"]?(S(),V("div",gce,[ge(se.$slots,"right-sidebar",Pn(rr(x.value)))])):Y("",!0),se.$slots["action-extra"]?(S(),V("div",vce,[se.$slots["action-extra"]?ge(se.$slots,"action-extra",{key:0,selectCurrentDate:X}):Y("",!0)])):Y("",!0)],6),!se.autoApply||k(f).keepActionRow?(S(),ie(yue,le({key:2,"menu-mount":y.value},s.value,{"calendar-width":p.value,onClosePicker:C[15]||(C[15]=H=>se.$emit("close-picker")),onSelectDate:C[16]||(C[16]=H=>se.$emit("select-date")),onInvalidSelect:C[17]||(C[17]=H=>se.$emit("invalid-select")),onSelectNow:X}),Jn({_:2},[st(k(D),(H,ae)=>({name:H,fn:ce(ue=>[ge(se.$slots,H,Pn(rr({...ue})))])}))]),1040,["menu-mount","calendar-width"])):Y("",!0)],42,fce)}}}),yce=typeof window<"u"?window:void 0,y0=()=>{},bce=t=>cg()?(jw(t),!0):!1,wce=(t,e,n,r)=>{if(!t)return y0;let i=y0;const s=It(()=>k(t),a=>{i(),a&&(a.addEventListener(e,n,r),i=()=>{a.removeEventListener(e,n,r),i=y0})},{immediate:!0,flush:"post"}),o=()=>{s(),i()};return bce(o),o},_ce=(t,e,n,r={})=>{const{window:i=yce,event:s="pointerdown"}=r;return i?wce(i,s,o=>{const a=tr(t),l=tr(e);!a||!l||a===o.target||o.composedPath().includes(a)||o.composedPath().includes(l)||n(o)},{passive:!0}):void 0},Tce=Oe({compatConfig:{MODE:3},__name:"VueDatePicker",props:{...xv},emits:["update:model-value","update:model-timezone-value","text-submit","closed","cleared","open","focus","blur","internal-model-change","recalculate-position","flow-step","update-month-year","invalid-select","invalid-fixed-range","tooltip-open","tooltip-close","time-picker-open","time-picker-close","am-pm-change","range-start","range-end","date-update","invalid-date"],setup(t,{expose:e,emit:n}){const r=n,i=t,s=aa(),o=re(!1),a=$u(i,"modelValue"),l=$u(i,"timezone"),u=re(null),c=re(null),d=re(null),f=re(!1),h=re(null),p=re(!1),m=re(!1),{setMenuFocused:g,setShiftKey:y}=D$(),{clearArrowNav:v}=ma(),{mapDatesArrToMap:_,validateDate:b,isValidTime:w}=Ll(i),{defaultedTransitions:T,defaultedTextInput:P,defaultedInline:A,defaultedConfig:O}=Kn(i),{menuTransition:E,showTransition:M}=Eh(T);Gt(()=>{me(i.modelValue),Wn().then(()=>{if(!A.value.enabled){const pe=$(h.value);pe==null||pe.addEventListener("scroll",se),window==null||window.addEventListener("resize",C)}}),A.value.enabled&&(o.value=!0),window==null||window.addEventListener("keyup",L),window==null||window.addEventListener("keydown",H)});const F=ee(()=>_());oa(()=>{if(!A.value.enabled){const pe=$(h.value);pe==null||pe.removeEventListener("scroll",se),window==null||window.removeEventListener("resize",C)}window==null||window.removeEventListener("keyup",L),window==null||window.removeEventListener("keydown",H)});const N=Ti(s,"all",i.presetDates),x=Ti(s,"input");It([a,l],()=>{me(a.value)},{deep:!0});const{openOnTop:R,menuStyle:D,xCorrect:B,setMenuPosition:G,getScrollableParent:$,shadowRender:I}=oue({menuRef:u,menuRefInner:c,inputRef:d,pickerWrapperRef:h,inline:A,emit:r,props:i,slots:s}),{inputValue:Z,internalModelValue:te,parseExternalModelValue:me,emitModelValue:ve,formatInputValue:ne,checkBeforeEmit:j}=iue(r,i,f),z=ee(()=>({dp__main:!0,dp__theme_dark:i.dark,dp__theme_light:!i.dark,dp__flex_display:A.value.enabled,dp__flex_display_with_input:A.value.input})),oe=ee(()=>i.dark?"dp__theme_dark":"dp__theme_light"),X=ee(()=>({to:typeof i.teleport=="boolean"?"body":i.teleport,disabled:!i.teleport||A.value.enabled})),fe=ee(()=>({class:"dp__outer_menu_wrap"})),be=ee(()=>A.value.enabled&&(i.timePicker||i.monthPicker||i.yearPicker||i.quarterPicker)),se=()=>{o.value&&(O.value.closeOnScroll?Be():G())},C=()=>{o.value&&G()},L=pe=>{pe.key==="Tab"&&!A.value.enabled&&!i.teleport&&O.value.tabOutClosesMenu&&(h.value.contains(document.activeElement)||Be()),m.value=pe.shiftKey},H=pe=>{m.value=pe.shiftKey},ae=()=>{!i.disabled&&!i.readonly&&(I(xA,i),G(!1),o.value=!0,o.value&&r("open"),o.value||De(),me(i.modelValue))},ue=()=>{var pe;Z.value="",De(),(pe=d.value)==null||pe.setParsedDate(null),r("update:model-value",null),r("update:model-timezone-value",null),r("cleared"),O.value.closeOnClearValue&&Be()},Se=()=>{const pe=te.value;return!pe||!Array.isArray(pe)&&b(pe)?!0:Array.isArray(pe)?i.multiDates||pe.length===2&&b(pe[0])&&b(pe[1])?!0:i.partialRange&&!i.timePicker?b(pe[0]):!1:!1},Ae=()=>{j()&&Se()?(ve(),Be()):r("invalid-select",te.value)},we=pe=>{Ee(),ve(),O.value.closeOnAutoApply&&!pe&&Be()},Ee=()=>{d.value&&P.value.enabled&&d.value.setParsedDate(te.value)},ye=(pe=!1)=>{i.autoApply&&w(te.value)&&Se()&&(i.range&&Array.isArray(te.value)?(i.partialRange||te.value.length===2)&&we(pe):we(pe))},De=()=>{P.value.enabled||(te.value=null)},Be=()=>{A.value.enabled||(o.value&&(o.value=!1,B.value=!1,g(!1),y(!1),v(),r("closed"),Z.value&&me(a.value)),De(),r("blur"))},Ke=(pe,Ce,Pe=!1)=>{if(!pe){te.value=null;return}const Ye=Array.isArray(pe)?!pe.some(tt=>!b(tt)):b(pe),je=w(pe);Ye&&je&&(te.value=pe,Ce&&(p.value=Pe,Ae(),r("text-submit")))},et=()=>{i.autoApply&&w(te.value)&&ve(),Ee()},lt=()=>o.value?Be():ae(),q=pe=>{te.value=pe},U=()=>{P.value.enabled&&(f.value=!0,ne()),r("focus")},W=()=>{if(P.value.enabled&&(f.value=!1,me(i.modelValue),p.value)){const pe=$le(h.value,m.value);pe==null||pe.focus()}r("blur")},Q=pe=>{c.value&&c.value.updateMonthYear(0,{month:EA(pe.month),year:EA(pe.year)})},de=pe=>{me(pe??i.modelValue)},Me=(pe,Ce)=>{var Pe;(Pe=c.value)==null||Pe.switchView(pe,Ce)},Ge=pe=>O.value.onClickOutside?O.value.onClickOutside(pe):Be();return _ce(u,d,()=>Ge(Se)),e({closeMenu:Be,selectDate:Ae,clearValue:ue,openMenu:ae,onScroll:se,formatInputValue:ne,updateInternalModelValue:q,setMonthYear:Q,parseModel:de,switchView:Me,toggleMenu:lt}),(pe,Ce)=>(S(),V("div",{ref_key:"pickerWrapperRef",ref:h,class:ke(z.value),"data-datepicker-instance":""},[J(pue,le({ref_key:"inputRef",ref:d,"input-value":k(Z),"onUpdate:inputValue":Ce[0]||(Ce[0]=Pe=>cn(Z)?Z.value=Pe:null),"is-menu-open":o.value},pe.$props,{onClear:ue,onOpen:ae,onSetInputDate:Ke,onSetEmptyDate:k(ve),onSelectDate:Ae,onToggle:lt,onClose:Be,onFocus:U,onBlur:W,onRealBlur:Ce[1]||(Ce[1]=Pe=>f.value=!1)}),Jn({_:2},[st(k(x),(Pe,Ye)=>({name:Pe,fn:ce(je=>[ge(pe.$slots,Pe,Pn(rr(je)))])}))]),1040,["input-value","is-menu-open","onSetEmptyDate"]),J(u1,Pn(rr(X.value)),{default:ce(()=>[J(Hi,{name:k(E)(k(R)),css:k(M)&&!k(A).enabled},{default:ce(()=>[o.value?(S(),V("div",le({key:0,ref_key:"dpWrapMenuRef",ref:u},fe.value,{class:{"dp--menu-wrapper":!k(A).enabled},style:k(A).enabled?void 0:k(D)}),[J(xA,le({ref_key:"dpMenuRef",ref:c},pe.$props,{"internal-model-value":k(te),"onUpdate:internalModelValue":Ce[2]||(Ce[2]=Pe=>cn(te)?te.value=Pe:null),class:{[oe.value]:!0,"dp--menu-wrapper":pe.teleport},"open-on-top":k(R),"arr-map-values":F.value,"no-overlay-focus":be.value,onClosePicker:Be,onSelectDate:Ae,onAutoApply:ye,onTimeUpdate:et,onFlowStep:Ce[3]||(Ce[3]=Pe=>pe.$emit("flow-step",Pe)),onUpdateMonthYear:Ce[4]||(Ce[4]=Pe=>pe.$emit("update-month-year",Pe)),onInvalidSelect:Ce[5]||(Ce[5]=Pe=>pe.$emit("invalid-select",k(te))),onAutoApplyInvalid:Ce[6]||(Ce[6]=Pe=>pe.$emit("invalid-select",Pe)),onInvalidFixedRange:Ce[7]||(Ce[7]=Pe=>pe.$emit("invalid-fixed-range",Pe)),onRecalculatePosition:k(G),onTooltipOpen:Ce[8]||(Ce[8]=Pe=>pe.$emit("tooltip-open",Pe)),onTooltipClose:Ce[9]||(Ce[9]=Pe=>pe.$emit("tooltip-close",Pe)),onTimePickerOpen:Ce[10]||(Ce[10]=Pe=>pe.$emit("time-picker-open",Pe)),onTimePickerClose:Ce[11]||(Ce[11]=Pe=>pe.$emit("time-picker-close",Pe)),onAmPmChange:Ce[12]||(Ce[12]=Pe=>pe.$emit("am-pm-change",Pe)),onRangeStart:Ce[13]||(Ce[13]=Pe=>pe.$emit("range-start",Pe)),onRangeEnd:Ce[14]||(Ce[14]=Pe=>pe.$emit("range-end",Pe)),onDateUpdate:Ce[15]||(Ce[15]=Pe=>pe.$emit("date-update",Pe)),onInvalidDate:Ce[16]||(Ce[16]=Pe=>pe.$emit("invalid-date",Pe))}),Jn({_:2},[st(k(N),(Pe,Ye)=>({name:Pe,fn:ce(je=>[ge(pe.$slots,Pe,Pn(rr({...je})))])}))]),1040,["internal-model-value","class","open-on-top","arr-map-values","no-overlay-focus","onRecalculatePosition"])],16)):Y("",!0)]),_:3},8,["name","css"])]),_:3},16)],2))}}),eS=(()=>{const t=Tce;return t.install=e=>{e.component("Vue3DatePicker",t)},t})(),Sce=Object.freeze(Object.defineProperty({__proto__:null,default:eS},Symbol.toStringTag,{value:"Module"}));Object.entries(Sce).forEach(([t,e])=>{t!=="default"&&(eS[t]=e)});var kr={STARTS_WITH:"startsWith",CONTAINS:"contains",NOT_CONTAINS:"notContains",ENDS_WITH:"endsWith",EQUALS:"equals",NOT_EQUALS:"notEquals",IN:"in",LESS_THAN:"lt",LESS_THAN_OR_EQUAL_TO:"lte",GREATER_THAN:"gt",GREATER_THAN_OR_EQUAL_TO:"gte",BETWEEN:"between",DATE_IS:"dateIs",DATE_IS_NOT:"dateIsNot",DATE_BEFORE:"dateBefore",DATE_AFTER:"dateAfter"};function DA(t,e){var n=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=Ece(t))||e&&t&&typeof t.length=="number"){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(u){throw u},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var s=!0,o=!1,a;return{s:function(){n=n.call(t)},n:function(){var u=n.next();return s=u.done,u},e:function(u){o=!0,a=u},f:function(){try{!s&&n.return!=null&&n.return()}finally{if(o)throw a}}}}function Ece(t,e){if(t){if(typeof t=="string")return RA(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return RA(t,e)}}function RA(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var F$={filter:function(e,n,r,i,s){var o=[];if(!e)return o;var a=DA(e),l;try{for(a.s();!(l=a.n()).done;){var u=l.value;if(typeof u=="string"){if(this.filters[i](u,r,s)){o.push(u);continue}}else{var c=DA(n),d;try{for(c.s();!(d=c.n()).done;){var f=d.value,h=Ie.resolveFieldData(u,f);if(this.filters[i](h,r,s)){o.push(u);break}}}catch(p){c.e(p)}finally{c.f()}}}}catch(p){a.e(p)}finally{a.f()}return o},filters:{startsWith:function(e,n,r){if(n==null||n==="")return!0;if(e==null)return!1;var i=Ie.removeAccents(n.toString()).toLocaleLowerCase(r),s=Ie.removeAccents(e.toString()).toLocaleLowerCase(r);return s.slice(0,i.length)===i},contains:function(e,n,r){if(n==null||n==="")return!0;if(e==null)return!1;var i=Ie.removeAccents(n.toString()).toLocaleLowerCase(r),s=Ie.removeAccents(e.toString()).toLocaleLowerCase(r);return s.indexOf(i)!==-1},notContains:function(e,n,r){if(n==null||n==="")return!0;if(e==null)return!1;var i=Ie.removeAccents(n.toString()).toLocaleLowerCase(r),s=Ie.removeAccents(e.toString()).toLocaleLowerCase(r);return s.indexOf(i)===-1},endsWith:function(e,n,r){if(n==null||n==="")return!0;if(e==null)return!1;var i=Ie.removeAccents(n.toString()).toLocaleLowerCase(r),s=Ie.removeAccents(e.toString()).toLocaleLowerCase(r);return s.indexOf(i,s.length-i.length)!==-1},equals:function(e,n,r){return n==null||n===""?!0:e==null?!1:e.getTime&&n.getTime?e.getTime()===n.getTime():Ie.removeAccents(e.toString()).toLocaleLowerCase(r)==Ie.removeAccents(n.toString()).toLocaleLowerCase(r)},notEquals:function(e,n,r){return n==null||n===""?!1:e==null?!0:e.getTime&&n.getTime?e.getTime()!==n.getTime():Ie.removeAccents(e.toString()).toLocaleLowerCase(r)!=Ie.removeAccents(n.toString()).toLocaleLowerCase(r)},in:function(e,n){if(n==null||n.length===0)return!0;for(var r=0;r<n.length;r++)if(Ie.equals(e,n[r]))return!0;return!1},between:function(e,n){return n==null||n[0]==null||n[1]==null?!0:e==null?!1:e.getTime?n[0].getTime()<=e.getTime()&&e.getTime()<=n[1].getTime():n[0]<=e&&e<=n[1]},lt:function(e,n){return n==null?!0:e==null?!1:e.getTime&&n.getTime?e.getTime()<n.getTime():e<n},lte:function(e,n){return n==null?!0:e==null?!1:e.getTime&&n.getTime?e.getTime()<=n.getTime():e<=n},gt:function(e,n){return n==null?!0:e==null?!1:e.getTime&&n.getTime?e.getTime()>n.getTime():e>n},gte:function(e,n){return n==null?!0:e==null?!1:e.getTime&&n.getTime?e.getTime()>=n.getTime():e>=n},dateIs:function(e,n){return n==null?!0:e==null?!1:e.toDateString()===n.toDateString()},dateIsNot:function(e,n){return n==null?!0:e==null?!1:e.toDateString()!==n.toDateString()},dateBefore:function(e,n){return n==null?!0:e==null?!1:e.getTime()<n.getTime()},dateAfter:function(e,n){return n==null?!0:e==null?!1:e.getTime()>n.getTime()}},register:function(e,n){this.filters[e]=n}};function Nf(t){"@babel/helpers - typeof";return Nf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nf(t)}function NA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function b0(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?NA(Object(n),!0).forEach(function(r){Ice(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):NA(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ice(t,e,n){return e=Cce(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Cce(t){var e=Oce(t,"string");return Nf(e)=="symbol"?e:String(e)}function Oce(t,e){if(Nf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Nf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var MA={ripple:!1,inputStyle:null,locale:{startsWith:"Starts with",contains:"Contains",notContains:"Not contains",endsWith:"Ends with",equals:"Equals",notEquals:"Not equals",noFilter:"No Filter",lt:"Less than",lte:"Less than or equal to",gt:"Greater than",gte:"Greater than or equal to",dateIs:"Date is",dateIsNot:"Date is not",dateBefore:"Date is before",dateAfter:"Date is after",clear:"Clear",apply:"Apply",matchAll:"Match All",matchAny:"Match Any",addRule:"Add Rule",removeRule:"Remove Rule",accept:"Yes",reject:"No",choose:"Choose",upload:"Upload",cancel:"Cancel",completed:"Completed",pending:"Pending",fileSizeTypes:["B","KB","MB","GB","TB","PB","EB","ZB","YB"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],chooseYear:"Choose Year",chooseMonth:"Choose Month",chooseDate:"Choose Date",prevDecade:"Previous Decade",nextDecade:"Next Decade",prevYear:"Previous Year",nextYear:"Next Year",prevMonth:"Previous Month",nextMonth:"Next Month",prevHour:"Previous Hour",nextHour:"Next Hour",prevMinute:"Previous Minute",nextMinute:"Next Minute",prevSecond:"Previous Second",nextSecond:"Next Second",am:"am",pm:"pm",today:"Today",weekHeader:"Wk",firstDayOfWeek:0,showMonthAfterYear:!1,dateFormat:"mm/dd/yy",weak:"Weak",medium:"Medium",strong:"Strong",passwordPrompt:"Enter a password",emptyFilterMessage:"No results found",searchMessage:"{0} results are available",selectionMessage:"{0} items selected",emptySelectionMessage:"No selected item",emptySearchMessage:"No results found",emptyMessage:"No available options",aria:{trueLabel:"True",falseLabel:"False",nullLabel:"Not Selected",star:"1 star",stars:"{star} stars",selectAll:"All items selected",unselectAll:"All items unselected",close:"Close",previous:"Previous",next:"Next",navigation:"Navigation",scrollTop:"Scroll Top",moveTop:"Move Top",moveUp:"Move Up",moveDown:"Move Down",moveBottom:"Move Bottom",moveToTarget:"Move to Target",moveToSource:"Move to Source",moveAllToTarget:"Move All to Target",moveAllToSource:"Move All to Source",pageLabel:"Page {page}",firstPageLabel:"First Page",lastPageLabel:"Last Page",nextPageLabel:"Next Page",prevPageLabel:"Previous Page",rowsPerPageLabel:"Rows per page",jumpToPageDropdownLabel:"Jump to Page Dropdown",jumpToPageInputLabel:"Jump to Page Input",selectRow:"Row Selected",unselectRow:"Row Unselected",expandRow:"Row Expanded",collapseRow:"Row Collapsed",showFilterMenu:"Show Filter Menu",hideFilterMenu:"Hide Filter Menu",filterOperator:"Filter Operator",filterConstraint:"Filter Constraint",editRow:"Row Edit",saveEdit:"Save Edit",cancelEdit:"Cancel Edit",listView:"List View",gridView:"Grid View",slide:"Slide",slideNumber:"{slideNumber}",zoomImage:"Zoom Image",zoomIn:"Zoom In",zoomOut:"Zoom Out",rotateRight:"Rotate Right",rotateLeft:"Rotate Left"}},filterMatchModeOptions:{text:[kr.STARTS_WITH,kr.CONTAINS,kr.NOT_CONTAINS,kr.ENDS_WITH,kr.EQUALS,kr.NOT_EQUALS],numeric:[kr.EQUALS,kr.NOT_EQUALS,kr.LESS_THAN,kr.LESS_THAN_OR_EQUAL_TO,kr.GREATER_THAN,kr.GREATER_THAN_OR_EQUAL_TO],date:[kr.DATE_IS,kr.DATE_IS_NOT,kr.DATE_BEFORE,kr.DATE_AFTER]},zIndex:{modal:1100,overlay:1e3,menu:1e3,tooltip:1100},pt:void 0,ptOptions:{mergeSections:!0,mergeProps:!1},unstyled:!1,csp:{nonce:void 0}},Ace=Symbol();function kce(t,e,n,r){if(t!==e){var i=document.getElementById(n),s=i.cloneNode(!0),o=i.getAttribute("href").replace(t,e);s.setAttribute("id",n+"-clone"),s.setAttribute("href",o),s.addEventListener("load",function(){i.remove(),s.setAttribute("id",n),r&&r()}),i.parentNode&&i.parentNode.insertBefore(s,i.nextSibling)}}var Pce={install:function(e,n){var r=n?b0(b0({},MA),n):b0({},MA),i={config:xn(r),changeTheme:kce};e.config.globalProperties.$primevue=i,e.provide(Ace,i)}},xce={root:function(e){var n=e.instance,r=e.props;return["p-inputtext p-component",{"p-filled":n.filled,"p-inputtext-sm":r.size==="small","p-inputtext-lg":r.size==="large","p-invalid":r.invalid,"p-variant-filled":r.variant?r.variant==="filled":n.$primevue.config.inputStyle==="filled"}]}},Dce=Cr.extend({name:"inputtext",classes:xce}),Rce={name:"BaseInputText",extends:Pi,props:{modelValue:null,size:{type:String,default:null},invalid:{type:Boolean,default:!1},variant:{type:String,default:null}},style:Dce,provide:function(){return{$parentInstance:this}}},U$={name:"InputText",extends:Rce,inheritAttrs:!1,emits:["update:modelValue"],methods:{getPTOptions:function(e){var n=e==="root"?this.ptmi:this.ptm;return n(e,{context:{filled:this.filled,disabled:this.$attrs.disabled||this.$attrs.disabled===""}})},onInput:function(e){this.$emit("update:modelValue",e.target.value)}},computed:{filled:function(){return this.modelValue!=null&&this.modelValue.toString().length>0}}},Nce=["value","aria-invalid"];function Mce(t,e,n,r,i,s){return S(),V("input",le({class:t.cx("root"),value:t.modelValue,"aria-invalid":t.invalid||void 0,onInput:e[0]||(e[0]=function(){return s.onInput&&s.onInput.apply(s,arguments)})},s.getPTOptions("root")),null,16,Nce)}U$.render=Mce;var Lce={root:function(e){var n=e.instance,r=e.props;return["p-inputtextarea p-inputtext p-component",{"p-filled":n.filled,"p-inputtextarea-resizable ":r.autoResize,"p-invalid":r.invalid,"p-variant-filled":r.variant?r.variant==="filled":n.$primevue.config.inputStyle==="filled"}]}},$ce=Cr.extend({name:"textarea",classes:Lce}),Fce={name:"BaseTextarea",extends:Pi,props:{modelValue:null,autoResize:Boolean,invalid:{type:Boolean,default:!1},variant:{type:String,default:null}},style:$ce,provide:function(){return{$parentInstance:this}}},V$={name:"Textarea",extends:Fce,inheritAttrs:!1,emits:["update:modelValue"],mounted:function(){this.$el.offsetParent&&this.autoResize&&this.resize()},updated:function(){this.$el.offsetParent&&this.autoResize&&this.resize()},methods:{resize:function(){this.$el.style.height="auto",this.$el.style.height=this.$el.scrollHeight+"px",parseFloat(this.$el.style.height)>=parseFloat(this.$el.style.maxHeight)?(this.$el.style.overflowY="scroll",this.$el.style.height=this.$el.style.maxHeight):this.$el.style.overflow="hidden"},onInput:function(e){this.autoResize&&this.resize(),this.$emit("update:modelValue",e.target.value)}},computed:{filled:function(){return this.modelValue!=null&&this.modelValue.toString().length>0},ptmParams:function(){return{context:{disabled:this.$attrs.disabled||this.$attrs.disabled===""}}}}},Uce=["value","aria-invalid"];function Vce(t,e,n,r,i,s){return S(),V("textarea",le({class:t.cx("root"),value:t.modelValue,"aria-invalid":t.invalid||void 0,onInput:e[0]||(e[0]=function(){return s.onInput&&s.onInput.apply(s,arguments)})},t.ptmi("root",s.ptmParams)),null,16,Uce)}V$.render=Vce;var B$={name:"BlankIcon",extends:ha},Bce=K("rect",{width:"1",height:"1",fill:"currentColor","fill-opacity":"0"},null,-1),jce=[Bce];function Hce(t,e,n,r,i,s){return S(),V("svg",le({width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t.pti()),jce,16)}B$.render=Hce;var Nv={name:"CheckIcon",extends:ha},Wce=K("path",{d:"M4.86199 11.5948C4.78717 11.5923 4.71366 11.5745 4.64596 11.5426C4.57826 11.5107 4.51779 11.4652 4.46827 11.4091L0.753985 7.69483C0.683167 7.64891 0.623706 7.58751 0.580092 7.51525C0.536478 7.44299 0.509851 7.36177 0.502221 7.27771C0.49459 7.19366 0.506156 7.10897 0.536046 7.03004C0.565935 6.95111 0.613367 6.88 0.674759 6.82208C0.736151 6.76416 0.8099 6.72095 0.890436 6.69571C0.970973 6.67046 1.05619 6.66385 1.13966 6.67635C1.22313 6.68886 1.30266 6.72017 1.37226 6.76792C1.44186 6.81567 1.4997 6.8786 1.54141 6.95197L4.86199 10.2503L12.6397 2.49483C12.7444 2.42694 12.8689 2.39617 12.9932 2.40745C13.1174 2.41873 13.2343 2.47141 13.3251 2.55705C13.4159 2.64268 13.4753 2.75632 13.4938 2.87973C13.5123 3.00315 13.4888 3.1292 13.4271 3.23768L5.2557 11.4091C5.20618 11.4652 5.14571 11.5107 5.07801 11.5426C5.01031 11.5745 4.9368 11.5923 4.86199 11.5948Z",fill:"currentColor"},null,-1),Kce=[Wce];function zce(t,e,n,r,i,s){return S(),V("svg",le({width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t.pti()),Kce,16)}Nv.render=zce;var tS={name:"SearchIcon",extends:ha},Gce=K("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M2.67602 11.0265C3.6661 11.688 4.83011 12.0411 6.02086 12.0411C6.81149 12.0411 7.59438 11.8854 8.32483 11.5828C8.87005 11.357 9.37808 11.0526 9.83317 10.6803L12.9769 13.8241C13.0323 13.8801 13.0983 13.9245 13.171 13.9548C13.2438 13.985 13.3219 14.0003 13.4007 14C13.4795 14.0003 13.5575 13.985 13.6303 13.9548C13.7031 13.9245 13.7691 13.8801 13.8244 13.8241C13.9367 13.7116 13.9998 13.5592 13.9998 13.4003C13.9998 13.2414 13.9367 13.089 13.8244 12.9765L10.6807 9.8328C11.053 9.37773 11.3573 8.86972 11.5831 8.32452C11.8857 7.59408 12.0414 6.81119 12.0414 6.02056C12.0414 4.8298 11.6883 3.66579 11.0268 2.67572C10.3652 1.68564 9.42494 0.913972 8.32483 0.45829C7.22472 0.00260857 6.01418 -0.116618 4.84631 0.115686C3.67844 0.34799 2.60568 0.921393 1.76369 1.76338C0.921698 2.60537 0.348296 3.67813 0.115991 4.84601C-0.116313 6.01388 0.00291375 7.22441 0.458595 8.32452C0.914277 9.42464 1.68595 10.3649 2.67602 11.0265ZM3.35565 2.0158C4.14456 1.48867 5.07206 1.20731 6.02086 1.20731C7.29317 1.20731 8.51338 1.71274 9.41304 2.6124C10.3127 3.51206 10.8181 4.73226 10.8181 6.00457C10.8181 6.95337 10.5368 7.88088 10.0096 8.66978C9.48251 9.45868 8.73328 10.0736 7.85669 10.4367C6.98011 10.7997 6.01554 10.8947 5.08496 10.7096C4.15439 10.5245 3.2996 10.0676 2.62869 9.39674C1.95778 8.72583 1.50089 7.87104 1.31579 6.94046C1.13068 6.00989 1.22568 5.04532 1.58878 4.16874C1.95187 3.29215 2.56675 2.54292 3.35565 2.0158Z",fill:"currentColor"},null,-1),Yce=[Gce];function qce(t,e,n,r,i,s){return S(),V("svg",le({width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t.pti()),Yce,16)}tS.render=qce;var Mv={name:"SpinnerIcon",extends:ha},Xce=K("path",{d:"M6.99701 14C5.85441 13.999 4.72939 13.7186 3.72012 13.1832C2.71084 12.6478 1.84795 11.8737 1.20673 10.9284C0.565504 9.98305 0.165424 8.89526 0.041387 7.75989C-0.0826496 6.62453 0.073125 5.47607 0.495122 4.4147C0.917119 3.35333 1.59252 2.4113 2.46241 1.67077C3.33229 0.930247 4.37024 0.413729 5.4857 0.166275C6.60117 -0.0811796 7.76026 -0.0520535 8.86188 0.251112C9.9635 0.554278 10.9742 1.12227 11.8057 1.90555C11.915 2.01493 11.9764 2.16319 11.9764 2.31778C11.9764 2.47236 11.915 2.62062 11.8057 2.73C11.7521 2.78503 11.688 2.82877 11.6171 2.85864C11.5463 2.8885 11.4702 2.90389 11.3933 2.90389C11.3165 2.90389 11.2404 2.8885 11.1695 2.85864C11.0987 2.82877 11.0346 2.78503 10.9809 2.73C9.9998 1.81273 8.73246 1.26138 7.39226 1.16876C6.05206 1.07615 4.72086 1.44794 3.62279 2.22152C2.52471 2.99511 1.72683 4.12325 1.36345 5.41602C1.00008 6.70879 1.09342 8.08723 1.62775 9.31926C2.16209 10.5513 3.10478 11.5617 4.29713 12.1803C5.48947 12.7989 6.85865 12.988 8.17414 12.7157C9.48963 12.4435 10.6711 11.7264 11.5196 10.6854C12.3681 9.64432 12.8319 8.34282 12.8328 7C12.8328 6.84529 12.8943 6.69692 13.0038 6.58752C13.1132 6.47812 13.2616 6.41667 13.4164 6.41667C13.5712 6.41667 13.7196 6.47812 13.8291 6.58752C13.9385 6.69692 14 6.84529 14 7C14 8.85651 13.2622 10.637 11.9489 11.9497C10.6356 13.2625 8.85432 14 6.99701 14Z",fill:"currentColor"},null,-1),Qce=[Xce];function Jce(t,e,n,r,i,s){return S(),V("svg",le({width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t.pti()),Qce,16)}Mv.render=Jce;var nS={name:"TimesIcon",extends:ha},Zce=K("path",{d:"M8.01186 7.00933L12.27 2.75116C12.341 2.68501 12.398 2.60524 12.4375 2.51661C12.4769 2.42798 12.4982 2.3323 12.4999 2.23529C12.5016 2.13827 12.4838 2.0419 12.4474 1.95194C12.4111 1.86197 12.357 1.78024 12.2884 1.71163C12.2198 1.64302 12.138 1.58893 12.0481 1.55259C11.9581 1.51625 11.8617 1.4984 11.7647 1.50011C11.6677 1.50182 11.572 1.52306 11.4834 1.56255C11.3948 1.60204 11.315 1.65898 11.2488 1.72997L6.99067 5.98814L2.7325 1.72997C2.59553 1.60234 2.41437 1.53286 2.22718 1.53616C2.03999 1.53946 1.8614 1.61529 1.72901 1.74767C1.59663 1.88006 1.5208 2.05865 1.5175 2.24584C1.5142 2.43303 1.58368 2.61419 1.71131 2.75116L5.96948 7.00933L1.71131 11.2675C1.576 11.403 1.5 11.5866 1.5 11.7781C1.5 11.9696 1.576 12.1532 1.71131 12.2887C1.84679 12.424 2.03043 12.5 2.2219 12.5C2.41338 12.5 2.59702 12.424 2.7325 12.2887L6.99067 8.03052L11.2488 12.2887C11.3843 12.424 11.568 12.5 11.7594 12.5C11.9509 12.5 12.1346 12.424 12.27 12.2887C12.4053 12.1532 12.4813 11.9696 12.4813 11.7781C12.4813 11.5866 12.4053 11.403 12.27 11.2675L8.01186 7.00933Z",fill:"currentColor"},null,-1),ede=[Zce];function tde(t,e,n,r,i,s){return S(),V("svg",le({width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t.pti()),ede,16)}nS.render=tde;var j$=KX(),rS={name:"Portal",props:{appendTo:{type:[String,Object],default:"body"},disabled:{type:Boolean,default:!1}},data:function(){return{mounted:!1}},mounted:function(){this.mounted=Le.isClient()},computed:{inline:function(){return this.disabled||this.appendTo==="self"}}};function nde(t,e,n,r,i,s){return s.inline?ge(t.$slots,"default",{key:0}):i.mounted?(S(),ie(u1,{key:1,to:n.appendTo},[ge(t.$slots,"default")],8,["to"])):Y("",!0)}rS.render=nde;var rde=`
@layer primevue {
    .p-virtualscroller {
        position: relative;
        overflow: auto;
        contain: strict;
        transform: translateZ(0);
        will-change: scroll-position;
        outline: 0 none;
    }

    .p-virtualscroller-content {
        position: absolute;
        top: 0;
        left: 0;
        /* contain: content; */
        min-height: 100%;
        min-width: 100%;
        will-change: transform;
    }

    .p-virtualscroller-spacer {
        position: absolute;
        top: 0;
        left: 0;
        height: 1px;
        width: 1px;
        transform-origin: 0 0;
        pointer-events: none;
    }

    .p-virtualscroller .p-virtualscroller-loader {
        position: sticky;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
    }

    .p-virtualscroller-loader.p-component-overlay {
        display: flex;
        align-items: center;
        justify-content: center;
    }

    .p-virtualscroller-loading-icon {
        font-size: 2rem;
    }

    .p-virtualscroller-loading-icon.p-icon {
        width: 2rem;
        height: 2rem;
    }

    .p-virtualscroller-horizontal > .p-virtualscroller-content {
        display: flex;
    }

    /* Inline */
    .p-virtualscroller-inline .p-virtualscroller-content {
        position: static;
    }
}
`,LA=Cr.extend({name:"virtualscroller",css:rde}),ide={name:"BaseVirtualScroller",extends:Pi,props:{id:{type:String,default:null},style:null,class:null,items:{type:Array,default:null},itemSize:{type:[Number,Array],default:0},scrollHeight:null,scrollWidth:null,orientation:{type:String,default:"vertical"},numToleratedItems:{type:Number,default:null},delay:{type:Number,default:0},resizeDelay:{type:Number,default:10},lazy:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},loaderDisabled:{type:Boolean,default:!1},columns:{type:Array,default:null},loading:{type:Boolean,default:!1},showSpacer:{type:Boolean,default:!0},showLoader:{type:Boolean,default:!1},tabindex:{type:Number,default:0},inline:{type:Boolean,default:!1},step:{type:Number,default:0},appendOnly:{type:Boolean,default:!1},autoSize:{type:Boolean,default:!1}},style:LA,provide:function(){return{$parentInstance:this}},beforeMount:function(){var e;LA.loadStyle({nonce:(e=this.$config)===null||e===void 0||(e=e.csp)===null||e===void 0?void 0:e.nonce})}};function Mf(t){"@babel/helpers - typeof";return Mf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Mf(t)}function $A(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function zc(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$A(Object(n),!0).forEach(function(r){H$(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$A(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function H$(t,e,n){return e=sde(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function sde(t){var e=ode(t,"string");return Mf(e)=="symbol"?e:String(e)}function ode(t,e){if(Mf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Mf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var iS={name:"VirtualScroller",extends:ide,inheritAttrs:!1,emits:["update:numToleratedItems","scroll","scroll-index-change","lazy-load"],data:function(){var e=this.isBoth();return{first:e?{rows:0,cols:0}:0,last:e?{rows:0,cols:0}:0,page:e?{rows:0,cols:0}:0,numItemsInViewport:e?{rows:0,cols:0}:0,lastScrollPos:e?{top:0,left:0}:0,d_numToleratedItems:this.numToleratedItems,d_loading:this.loading,loaderArr:[],spacerStyle:{},contentStyle:{}}},element:null,content:null,lastScrollPos:null,scrollTimeout:null,resizeTimeout:null,defaultWidth:0,defaultHeight:0,defaultContentWidth:0,defaultContentHeight:0,isRangeChanged:!1,lazyLoadState:{},resizeListener:null,initialized:!1,watch:{numToleratedItems:function(e){this.d_numToleratedItems=e},loading:function(e,n){this.lazy&&e!==n&&e!==this.d_loading&&(this.d_loading=e)},items:function(e,n){(!n||n.length!==(e||[]).length)&&(this.init(),this.calculateAutoSize())},itemSize:function(){this.init(),this.calculateAutoSize()},orientation:function(){this.lastScrollPos=this.isBoth()?{top:0,left:0}:0},scrollHeight:function(){this.init(),this.calculateAutoSize()},scrollWidth:function(){this.init(),this.calculateAutoSize()}},mounted:function(){this.viewInit(),this.lastScrollPos=this.isBoth()?{top:0,left:0}:0,this.lazyLoadState=this.lazyLoadState||{}},updated:function(){!this.initialized&&this.viewInit()},unmounted:function(){this.unbindResizeListener(),this.initialized=!1},methods:{viewInit:function(){Le.isVisible(this.element)&&(this.setContentEl(this.content),this.init(),this.calculateAutoSize(),this.bindResizeListener(),this.defaultWidth=Le.getWidth(this.element),this.defaultHeight=Le.getHeight(this.element),this.defaultContentWidth=Le.getWidth(this.content),this.defaultContentHeight=Le.getHeight(this.content),this.initialized=!0)},init:function(){this.disabled||(this.setSize(),this.calculateOptions(),this.setSpacerSize())},isVertical:function(){return this.orientation==="vertical"},isHorizontal:function(){return this.orientation==="horizontal"},isBoth:function(){return this.orientation==="both"},scrollTo:function(e){this.element&&this.element.scrollTo(e)},scrollToIndex:function(e){var n=this,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"auto",i=this.isBoth(),s=this.isHorizontal(),o=i?e.every(function(P){return P>-1}):e>-1;if(o){var a=this.first,l=this.element,u=l.scrollTop,c=u===void 0?0:u,d=l.scrollLeft,f=d===void 0?0:d,h=this.calculateNumItems(),p=h.numToleratedItems,m=this.getContentPosition(),g=this.itemSize,y=function(){var A=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,O=arguments.length>1?arguments[1]:void 0;return A<=O?0:A},v=function(A,O,E){return A*O+E},_=function(){var A=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,O=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return n.scrollTo({left:A,top:O,behavior:r})},b=i?{rows:0,cols:0}:0,w=!1,T=!1;i?(b={rows:y(e[0],p[0]),cols:y(e[1],p[1])},_(v(b.cols,g[1],m.left),v(b.rows,g[0],m.top)),T=this.lastScrollPos.top!==c||this.lastScrollPos.left!==f,w=b.rows!==a.rows||b.cols!==a.cols):(b=y(e,p),s?_(v(b,g,m.left),c):_(f,v(b,g,m.top)),T=this.lastScrollPos!==(s?f:c),w=b!==a),this.isRangeChanged=w,T&&(this.first=b)}},scrollInView:function(e,n){var r=this,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"auto";if(n){var s=this.isBoth(),o=this.isHorizontal(),a=s?e.every(function(g){return g>-1}):e>-1;if(a){var l=this.getRenderedRange(),u=l.first,c=l.viewport,d=function(){var y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,v=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return r.scrollTo({left:y,top:v,behavior:i})},f=n==="to-start",h=n==="to-end";if(f){if(s)c.first.rows-u.rows>e[0]?d(c.first.cols*this.itemSize[1],(c.first.rows-1)*this.itemSize[0]):c.first.cols-u.cols>e[1]&&d((c.first.cols-1)*this.itemSize[1],c.first.rows*this.itemSize[0]);else if(c.first-u>e){var p=(c.first-1)*this.itemSize;o?d(p,0):d(0,p)}}else if(h){if(s)c.last.rows-u.rows<=e[0]+1?d(c.first.cols*this.itemSize[1],(c.first.rows+1)*this.itemSize[0]):c.last.cols-u.cols<=e[1]+1&&d((c.first.cols+1)*this.itemSize[1],c.first.rows*this.itemSize[0]);else if(c.last-u<=e+1){var m=(c.first+1)*this.itemSize;o?d(m,0):d(0,m)}}}}else this.scrollToIndex(e,i)},getRenderedRange:function(){var e=function(d,f){return Math.floor(d/(f||d))},n=this.first,r=0;if(this.element){var i=this.isBoth(),s=this.isHorizontal(),o=this.element,a=o.scrollTop,l=o.scrollLeft;if(i)n={rows:e(a,this.itemSize[0]),cols:e(l,this.itemSize[1])},r={rows:n.rows+this.numItemsInViewport.rows,cols:n.cols+this.numItemsInViewport.cols};else{var u=s?l:a;n=e(u,this.itemSize),r=n+this.numItemsInViewport}}return{first:this.first,last:this.last,viewport:{first:n,last:r}}},calculateNumItems:function(){var e=this.isBoth(),n=this.isHorizontal(),r=this.itemSize,i=this.getContentPosition(),s=this.element?this.element.offsetWidth-i.left:0,o=this.element?this.element.offsetHeight-i.top:0,a=function(f,h){return Math.ceil(f/(h||f))},l=function(f){return Math.ceil(f/2)},u=e?{rows:a(o,r[0]),cols:a(s,r[1])}:a(n?s:o,r),c=this.d_numToleratedItems||(e?[l(u.rows),l(u.cols)]:l(u));return{numItemsInViewport:u,numToleratedItems:c}},calculateOptions:function(){var e=this,n=this.isBoth(),r=this.first,i=this.calculateNumItems(),s=i.numItemsInViewport,o=i.numToleratedItems,a=function(c,d,f){var h=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;return e.getLast(c+d+(c<f?2:3)*f,h)},l=n?{rows:a(r.rows,s.rows,o[0]),cols:a(r.cols,s.cols,o[1],!0)}:a(r,s,o);this.last=l,this.numItemsInViewport=s,this.d_numToleratedItems=o,this.$emit("update:numToleratedItems",this.d_numToleratedItems),this.showLoader&&(this.loaderArr=n?Array.from({length:s.rows}).map(function(){return Array.from({length:s.cols})}):Array.from({length:s})),this.lazy&&Promise.resolve().then(function(){var u;e.lazyLoadState={first:e.step?n?{rows:0,cols:r.cols}:0:r,last:Math.min(e.step?e.step:l,((u=e.items)===null||u===void 0?void 0:u.length)||0)},e.$emit("lazy-load",e.lazyLoadState)})},calculateAutoSize:function(){var e=this;this.autoSize&&!this.d_loading&&Promise.resolve().then(function(){if(e.content){var n=e.isBoth(),r=e.isHorizontal(),i=e.isVertical();e.content.style.minHeight=e.content.style.minWidth="auto",e.content.style.position="relative",e.element.style.contain="none";var s=[Le.getWidth(e.element),Le.getHeight(e.element)],o=s[0],a=s[1];(n||r)&&(e.element.style.width=o<e.defaultWidth?o+"px":e.scrollWidth||e.defaultWidth+"px"),(n||i)&&(e.element.style.height=a<e.defaultHeight?a+"px":e.scrollHeight||e.defaultHeight+"px"),e.content.style.minHeight=e.content.style.minWidth="",e.content.style.position="",e.element.style.contain=""}})},getLast:function(){var e,n,r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,i=arguments.length>1?arguments[1]:void 0;return this.items?Math.min(i?((e=this.columns||this.items[0])===null||e===void 0?void 0:e.length)||0:((n=this.items)===null||n===void 0?void 0:n.length)||0,r):0},getContentPosition:function(){if(this.content){var e=getComputedStyle(this.content),n=parseFloat(e.paddingLeft)+Math.max(parseFloat(e.left)||0,0),r=parseFloat(e.paddingRight)+Math.max(parseFloat(e.right)||0,0),i=parseFloat(e.paddingTop)+Math.max(parseFloat(e.top)||0,0),s=parseFloat(e.paddingBottom)+Math.max(parseFloat(e.bottom)||0,0);return{left:n,right:r,top:i,bottom:s,x:n+r,y:i+s}}return{left:0,right:0,top:0,bottom:0,x:0,y:0}},setSize:function(){var e=this;if(this.element){var n=this.isBoth(),r=this.isHorizontal(),i=this.element.parentElement,s=this.scrollWidth||"".concat(this.element.offsetWidth||i.offsetWidth,"px"),o=this.scrollHeight||"".concat(this.element.offsetHeight||i.offsetHeight,"px"),a=function(u,c){return e.element.style[u]=c};n||r?(a("height",o),a("width",s)):a("height",o)}},setSpacerSize:function(){var e=this,n=this.items;if(n){var r=this.isBoth(),i=this.isHorizontal(),s=this.getContentPosition(),o=function(l,u,c){var d=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;return e.spacerStyle=zc(zc({},e.spacerStyle),H$({},"".concat(l),(u||[]).length*c+d+"px"))};r?(o("height",n,this.itemSize[0],s.y),o("width",this.columns||n[1],this.itemSize[1],s.x)):i?o("width",this.columns||n,this.itemSize,s.x):o("height",n,this.itemSize,s.y)}},setContentPosition:function(e){var n=this;if(this.content&&!this.appendOnly){var r=this.isBoth(),i=this.isHorizontal(),s=e?e.first:this.first,o=function(c,d){return c*d},a=function(){var c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return n.contentStyle=zc(zc({},n.contentStyle),{transform:"translate3d(".concat(c,"px, ").concat(d,"px, 0)")})};if(r)a(o(s.cols,this.itemSize[1]),o(s.rows,this.itemSize[0]));else{var l=o(s,this.itemSize);i?a(l,0):a(0,l)}}},onScrollPositionChange:function(e){var n=this,r=e.target,i=this.isBoth(),s=this.isHorizontal(),o=this.getContentPosition(),a=function(M,F){return M?M>F?M-F:M:0},l=function(M,F){return Math.floor(M/(F||M))},u=function(M,F,N,x,R,D){return M<=R?R:D?N-x-R:F+R-1},c=function(M,F,N,x,R,D,B){return M<=D?0:Math.max(0,B?M<F?N:M-D:M>F?N:M-2*D)},d=function(M,F,N,x,R,D){var B=F+x+2*R;return M>=R&&(B+=R+1),n.getLast(B,D)},f=a(r.scrollTop,o.top),h=a(r.scrollLeft,o.left),p=i?{rows:0,cols:0}:0,m=this.last,g=!1,y=this.lastScrollPos;if(i){var v=this.lastScrollPos.top<=f,_=this.lastScrollPos.left<=h;if(!this.appendOnly||this.appendOnly&&(v||_)){var b={rows:l(f,this.itemSize[0]),cols:l(h,this.itemSize[1])},w={rows:u(b.rows,this.first.rows,this.last.rows,this.numItemsInViewport.rows,this.d_numToleratedItems[0],v),cols:u(b.cols,this.first.cols,this.last.cols,this.numItemsInViewport.cols,this.d_numToleratedItems[1],_)};p={rows:c(b.rows,w.rows,this.first.rows,this.last.rows,this.numItemsInViewport.rows,this.d_numToleratedItems[0],v),cols:c(b.cols,w.cols,this.first.cols,this.last.cols,this.numItemsInViewport.cols,this.d_numToleratedItems[1],_)},m={rows:d(b.rows,p.rows,this.last.rows,this.numItemsInViewport.rows,this.d_numToleratedItems[0]),cols:d(b.cols,p.cols,this.last.cols,this.numItemsInViewport.cols,this.d_numToleratedItems[1],!0)},g=p.rows!==this.first.rows||m.rows!==this.last.rows||p.cols!==this.first.cols||m.cols!==this.last.cols||this.isRangeChanged,y={top:f,left:h}}}else{var T=s?h:f,P=this.lastScrollPos<=T;if(!this.appendOnly||this.appendOnly&&P){var A=l(T,this.itemSize),O=u(A,this.first,this.last,this.numItemsInViewport,this.d_numToleratedItems,P);p=c(A,O,this.first,this.last,this.numItemsInViewport,this.d_numToleratedItems,P),m=d(A,p,this.last,this.numItemsInViewport,this.d_numToleratedItems),g=p!==this.first||m!==this.last||this.isRangeChanged,y=T}}return{first:p,last:m,isRangeChanged:g,scrollPos:y}},onScrollChange:function(e){var n=this.onScrollPositionChange(e),r=n.first,i=n.last,s=n.isRangeChanged,o=n.scrollPos;if(s){var a={first:r,last:i};if(this.setContentPosition(a),this.first=r,this.last=i,this.lastScrollPos=o,this.$emit("scroll-index-change",a),this.lazy&&this.isPageChanged(r)){var l,u,c={first:this.step?Math.min(this.getPageByFirst(r)*this.step,(((l=this.items)===null||l===void 0?void 0:l.length)||0)-this.step):r,last:Math.min(this.step?(this.getPageByFirst(r)+1)*this.step:i,((u=this.items)===null||u===void 0?void 0:u.length)||0)},d=this.lazyLoadState.first!==c.first||this.lazyLoadState.last!==c.last;d&&this.$emit("lazy-load",c),this.lazyLoadState=c}}},onScroll:function(e){var n=this;if(this.$emit("scroll",e),this.delay){if(this.scrollTimeout&&clearTimeout(this.scrollTimeout),this.isPageChanged()){if(!this.d_loading&&this.showLoader){var r=this.onScrollPositionChange(e),i=r.isRangeChanged,s=i||(this.step?this.isPageChanged():!1);s&&(this.d_loading=!0)}this.scrollTimeout=setTimeout(function(){n.onScrollChange(e),n.d_loading&&n.showLoader&&(!n.lazy||n.loading===void 0)&&(n.d_loading=!1,n.page=n.getPageByFirst())},this.delay)}}else this.onScrollChange(e)},onResize:function(){var e=this;this.resizeTimeout&&clearTimeout(this.resizeTimeout),this.resizeTimeout=setTimeout(function(){if(Le.isVisible(e.element)){var n=e.isBoth(),r=e.isVertical(),i=e.isHorizontal(),s=[Le.getWidth(e.element),Le.getHeight(e.element)],o=s[0],a=s[1],l=o!==e.defaultWidth,u=a!==e.defaultHeight,c=n?l||u:i?l:r?u:!1;c&&(e.d_numToleratedItems=e.numToleratedItems,e.defaultWidth=o,e.defaultHeight=a,e.defaultContentWidth=Le.getWidth(e.content),e.defaultContentHeight=Le.getHeight(e.content),e.init())}},this.resizeDelay)},bindResizeListener:function(){this.resizeListener||(this.resizeListener=this.onResize.bind(this),window.addEventListener("resize",this.resizeListener),window.addEventListener("orientationchange",this.resizeListener))},unbindResizeListener:function(){this.resizeListener&&(window.removeEventListener("resize",this.resizeListener),window.removeEventListener("orientationchange",this.resizeListener),this.resizeListener=null)},getOptions:function(e){var n=(this.items||[]).length,r=this.isBoth()?this.first.rows+e:this.first+e;return{index:r,count:n,first:r===0,last:r===n-1,even:r%2===0,odd:r%2!==0}},getLoaderOptions:function(e,n){var r=this.loaderArr.length;return zc({index:e,count:r,first:e===0,last:e===r-1,even:e%2===0,odd:e%2!==0},n)},getPageByFirst:function(e){return Math.floor(((e??this.first)+this.d_numToleratedItems*4)/(this.step||1))},isPageChanged:function(e){return this.step?this.page!==this.getPageByFirst(e??this.first):!0},setContentEl:function(e){this.content=e||this.content||Le.findSingle(this.element,'[data-pc-section="content"]')},elementRef:function(e){this.element=e},contentRef:function(e){this.content=e}},computed:{containerClass:function(){return["p-virtualscroller",this.class,{"p-virtualscroller-inline":this.inline,"p-virtualscroller-both p-both-scroll":this.isBoth(),"p-virtualscroller-horizontal p-horizontal-scroll":this.isHorizontal()}]},contentClass:function(){return["p-virtualscroller-content",{"p-virtualscroller-loading":this.d_loading}]},loaderClass:function(){return["p-virtualscroller-loader",{"p-component-overlay":!this.$slots.loader}]},loadedItems:function(){var e=this;return this.items&&!this.d_loading?this.isBoth()?this.items.slice(this.appendOnly?0:this.first.rows,this.last.rows).map(function(n){return e.columns?n:n.slice(e.appendOnly?0:e.first.cols,e.last.cols)}):this.isHorizontal()&&this.columns?this.items:this.items.slice(this.appendOnly?0:this.first,this.last):[]},loadedRows:function(){return this.d_loading?this.loaderDisabled?this.loaderArr:[]:this.loadedItems},loadedColumns:function(){if(this.columns){var e=this.isBoth(),n=this.isHorizontal();if(e||n)return this.d_loading&&this.loaderDisabled?e?this.loaderArr[0]:this.loaderArr:this.columns.slice(e?this.first.cols:this.first,e?this.last.cols:this.last)}return this.columns}},components:{SpinnerIcon:Mv}},ade=["tabindex"];function lde(t,e,n,r,i,s){var o=Bn("SpinnerIcon");return t.disabled?(S(),V(Te,{key:1},[ge(t.$slots,"default"),ge(t.$slots,"content",{items:t.items,rows:t.items,columns:s.loadedColumns})],64)):(S(),V("div",le({key:0,ref:s.elementRef,class:s.containerClass,tabindex:t.tabindex,style:t.style,onScroll:e[0]||(e[0]=function(){return s.onScroll&&s.onScroll.apply(s,arguments)})},t.ptmi("root")),[ge(t.$slots,"content",{styleClass:s.contentClass,items:s.loadedItems,getItemOptions:s.getOptions,loading:i.d_loading,getLoaderOptions:s.getLoaderOptions,itemSize:t.itemSize,rows:s.loadedRows,columns:s.loadedColumns,contentRef:s.contentRef,spacerStyle:i.spacerStyle,contentStyle:i.contentStyle,vertical:s.isVertical(),horizontal:s.isHorizontal(),both:s.isBoth()},function(){return[K("div",le({ref:s.contentRef,class:s.contentClass,style:i.contentStyle},t.ptm("content")),[(S(!0),V(Te,null,st(s.loadedItems,function(a,l){return ge(t.$slots,"item",{key:l,item:a,options:s.getOptions(l)})}),128))],16)]}),t.showSpacer?(S(),V("div",le({key:0,class:"p-virtualscroller-spacer",style:i.spacerStyle},t.ptm("spacer")),null,16)):Y("",!0),!t.loaderDisabled&&t.showLoader&&i.d_loading?(S(),V("div",le({key:1,class:s.loaderClass},t.ptm("loader")),[t.$slots&&t.$slots.loader?(S(!0),V(Te,{key:0},st(i.loaderArr,function(a,l){return ge(t.$slots,"loader",{key:l,options:s.getLoaderOptions(l,s.isBoth()&&{numCols:t.d_numItemsInViewport.cols})})}),128)):Y("",!0),ge(t.$slots,"loadingicon",{},function(){return[J(o,le({spin:"",class:"p-virtualscroller-loading-icon"},t.ptm("loadingIcon")),null,16)]})],16)):Y("",!0)],16,ade))}iS.render=lde;var ude={root:function(e){var n=e.instance,r=e.props,i=e.state;return["p-dropdown p-component p-inputwrapper",{"p-disabled":r.disabled,"p-invalid":r.invalid,"p-variant-filled":r.variant?r.variant==="filled":n.$primevue.config.inputStyle==="filled","p-dropdown-clearable":r.showClear,"p-focus":i.focused,"p-inputwrapper-filled":n.hasSelectedOption,"p-inputwrapper-focus":i.focused||i.overlayVisible,"p-overlay-open":i.overlayVisible}]},input:function(e){var n=e.instance,r=e.props;return["p-dropdown-label p-inputtext",{"p-placeholder":!r.editable&&n.label===r.placeholder,"p-dropdown-label-empty":!r.editable&&!n.$slots.value&&(n.label==="p-emptylabel"||n.label.length===0)}]},clearIcon:"p-dropdown-clear-icon",trigger:"p-dropdown-trigger",loadingicon:"p-dropdown-trigger-icon",dropdownIcon:"p-dropdown-trigger-icon",panel:function(e){e.props;var n=e.instance;return["p-dropdown-panel p-component",{"p-ripple-disabled":n.$primevue.config.ripple===!1}]},header:"p-dropdown-header",filterContainer:"p-dropdown-filter-container",filterInput:function(e){var n=e.props,r=e.instance;return["p-dropdown-filter p-inputtext p-component",{"p-variant-filled":n.variant?n.variant==="filled":r.$primevue.config.inputStyle==="filled"}]},filterIcon:"p-dropdown-filter-icon",wrapper:"p-dropdown-items-wrapper",list:"p-dropdown-items",itemGroup:"p-dropdown-item-group",itemGroupLabel:"p-dropdown-item-group-label",item:function(e){var n=e.instance,r=e.props,i=e.state,s=e.option,o=e.focusedOption;return["p-dropdown-item",{"p-highlight":n.isSelected(s)&&r.highlightOnSelect,"p-focus":i.focusedOptionIndex===o,"p-disabled":n.isOptionDisabled(s)}]},itemLabel:"p-dropdown-item-label",checkIcon:"p-dropdown-check-icon",blankIcon:"p-dropdown-blank-icon",emptyMessage:"p-dropdown-empty-message"},cde=Cr.extend({name:"dropdown",classes:ude}),dde={name:"BaseDropdown",extends:Pi,props:{modelValue:null,options:Array,optionLabel:[String,Function],optionValue:[String,Function],optionDisabled:[String,Function],optionGroupLabel:[String,Function],optionGroupChildren:[String,Function],scrollHeight:{type:String,default:"200px"},filter:Boolean,filterPlaceholder:String,filterLocale:String,filterMatchMode:{type:String,default:"contains"},filterFields:{type:Array,default:null},editable:Boolean,placeholder:{type:String,default:null},variant:{type:String,default:null},invalid:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},dataKey:null,showClear:{type:Boolean,default:!1},inputId:{type:String,default:null},inputClass:{type:[String,Object],default:null},inputStyle:{type:Object,default:null},inputProps:{type:null,default:null},panelClass:{type:[String,Object],default:null},panelStyle:{type:Object,default:null},panelProps:{type:null,default:null},filterInputProps:{type:null,default:null},clearIconProps:{type:null,default:null},appendTo:{type:[String,Object],default:"body"},loading:{type:Boolean,default:!1},clearIcon:{type:String,default:void 0},dropdownIcon:{type:String,default:void 0},filterIcon:{type:String,default:void 0},loadingIcon:{type:String,default:void 0},resetFilterOnHide:{type:Boolean,default:!1},resetFilterOnClear:{type:Boolean,default:!1},virtualScrollerOptions:{type:Object,default:null},autoOptionFocus:{type:Boolean,default:!1},autoFilterFocus:{type:Boolean,default:!1},selectOnFocus:{type:Boolean,default:!1},focusOnHover:{type:Boolean,default:!0},highlightOnSelect:{type:Boolean,default:!0},checkmark:{type:Boolean,default:!1},filterMessage:{type:String,default:null},selectionMessage:{type:String,default:null},emptySelectionMessage:{type:String,default:null},emptyFilterMessage:{type:String,default:null},emptyMessage:{type:String,default:null},tabindex:{type:Number,default:0},ariaLabel:{type:String,default:null},ariaLabelledby:{type:String,default:null}},style:cde,provide:function(){return{$parentInstance:this}}};function Lf(t){"@babel/helpers - typeof";return Lf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Lf(t)}function fde(t){return gde(t)||mde(t)||pde(t)||hde()}function hde(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function pde(t,e){if(t){if(typeof t=="string")return Rw(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Rw(t,e)}}function mde(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function gde(t){if(Array.isArray(t))return Rw(t)}function Rw(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function FA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function UA(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?FA(Object(n),!0).forEach(function(r){W$(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):FA(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function W$(t,e,n){return e=vde(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function vde(t){var e=yde(t,"string");return Lf(e)=="symbol"?e:String(e)}function yde(t,e){if(Lf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Lf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var K$={name:"Dropdown",extends:dde,inheritAttrs:!1,emits:["update:modelValue","change","focus","blur","before-show","before-hide","show","hide","filter"],outsideClickListener:null,scrollHandler:null,resizeListener:null,labelClickListener:null,overlay:null,list:null,virtualScroller:null,searchTimeout:null,searchValue:null,isModelValueChanged:!1,data:function(){return{id:this.$attrs.id,clicked:!1,focused:!1,focusedOptionIndex:-1,filterValue:null,overlayVisible:!1}},watch:{"$attrs.id":function(e){this.id=e||nc()},modelValue:function(){this.isModelValueChanged=!0},options:function(){this.autoUpdateModel()}},mounted:function(){this.id=this.id||nc(),this.autoUpdateModel(),this.bindLabelClickListener()},updated:function(){this.overlayVisible&&this.isModelValueChanged&&this.scrollInView(this.findSelectedOptionIndex()),this.isModelValueChanged=!1},beforeUnmount:function(){this.unbindOutsideClickListener(),this.unbindResizeListener(),this.unbindLabelClickListener(),this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null),this.overlay&&(Ru.clear(this.overlay),this.overlay=null)},methods:{getOptionIndex:function(e,n){return this.virtualScrollerDisabled?e:n&&n(e).index},getOptionLabel:function(e){return this.optionLabel?Ie.resolveFieldData(e,this.optionLabel):e},getOptionValue:function(e){return this.optionValue?Ie.resolveFieldData(e,this.optionValue):e},getOptionRenderKey:function(e,n){return(this.dataKey?Ie.resolveFieldData(e,this.dataKey):this.getOptionLabel(e))+"_"+n},getPTItemOptions:function(e,n,r,i){return this.ptm(i,{context:{selected:this.isSelected(e),focused:this.focusedOptionIndex===this.getOptionIndex(r,n),disabled:this.isOptionDisabled(e)}})},isOptionDisabled:function(e){return this.optionDisabled?Ie.resolveFieldData(e,this.optionDisabled):!1},isOptionGroup:function(e){return this.optionGroupLabel&&e.optionGroup&&e.group},getOptionGroupLabel:function(e){return Ie.resolveFieldData(e,this.optionGroupLabel)},getOptionGroupChildren:function(e){return Ie.resolveFieldData(e,this.optionGroupChildren)},getAriaPosInset:function(e){var n=this;return(this.optionGroupLabel?e-this.visibleOptions.slice(0,e).filter(function(r){return n.isOptionGroup(r)}).length:e)+1},show:function(e){this.$emit("before-show"),this.overlayVisible=!0,this.focusedOptionIndex=this.focusedOptionIndex!==-1?this.focusedOptionIndex:this.autoOptionFocus?this.findFirstFocusedOptionIndex():this.editable?-1:this.findSelectedOptionIndex(),e&&Le.focus(this.$refs.focusInput)},hide:function(e){var n=this,r=function(){n.$emit("before-hide"),n.overlayVisible=!1,n.clicked=!1,n.focusedOptionIndex=-1,n.searchValue="",n.resetFilterOnHide&&(n.filterValue=null),e&&Le.focus(n.$refs.focusInput)};setTimeout(function(){r()},0)},onFocus:function(e){this.disabled||(this.focused=!0,this.overlayVisible&&(this.focusedOptionIndex=this.focusedOptionIndex!==-1?this.focusedOptionIndex:this.autoOptionFocus?this.findFirstFocusedOptionIndex():this.editable?-1:this.findSelectedOptionIndex(),this.scrollInView(this.focusedOptionIndex)),this.$emit("focus",e))},onBlur:function(e){this.focused=!1,this.focusedOptionIndex=-1,this.searchValue="",this.$emit("blur",e)},onKeyDown:function(e){if(this.disabled||Le.isAndroid()){e.preventDefault();return}var n=e.metaKey||e.ctrlKey;switch(e.code){case"ArrowDown":this.onArrowDownKey(e);break;case"ArrowUp":this.onArrowUpKey(e,this.editable);break;case"ArrowLeft":case"ArrowRight":this.onArrowLeftKey(e,this.editable);break;case"Delete":this.onDeleteKey(e);case"Home":this.onHomeKey(e,this.editable);break;case"End":this.onEndKey(e,this.editable);break;case"PageDown":this.onPageDownKey(e);break;case"PageUp":this.onPageUpKey(e);break;case"Space":this.onSpaceKey(e,this.editable);break;case"Enter":case"NumpadEnter":this.onEnterKey(e);break;case"Escape":this.onEscapeKey(e);break;case"Tab":this.onTabKey(e);break;case"Backspace":this.onBackspaceKey(e,this.editable);break;case"ShiftLeft":case"ShiftRight":break;default:!n&&Ie.isPrintableCharacter(e.key)&&(!this.overlayVisible&&this.show(),!this.editable&&this.searchOptions(e,e.key));break}this.clicked=!1},onEditableInput:function(e){var n=e.target.value;this.searchValue="";var r=this.searchOptions(e,n);!r&&(this.focusedOptionIndex=-1),this.updateModel(e,n),!this.overlayVisible&&Ie.isNotEmpty(n)&&this.show()},onContainerClick:function(e){this.disabled||this.loading||e.target.tagName==="INPUT"||e.target.getAttribute("data-pc-section")==="clearicon"||e.target.closest('[data-pc-section="clearicon"]')||((!this.overlay||!this.overlay.contains(e.target))&&(this.overlayVisible?this.hide(!0):this.show(!0)),this.clicked=!0)},onClearClick:function(e){this.updateModel(e,null),this.resetFilterOnClear&&(this.filterValue=null)},onFirstHiddenFocus:function(e){var n=e.relatedTarget===this.$refs.focusInput?Le.getFirstFocusableElement(this.overlay,':not([data-p-hidden-focusable="true"])'):this.$refs.focusInput;Le.focus(n)},onLastHiddenFocus:function(e){var n=e.relatedTarget===this.$refs.focusInput?Le.getLastFocusableElement(this.overlay,':not([data-p-hidden-focusable="true"])'):this.$refs.focusInput;Le.focus(n)},onOptionSelect:function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,i=this.getOptionValue(n);this.updateModel(e,i),r&&this.hide(!0)},onOptionMouseMove:function(e,n){this.focusOnHover&&this.changeFocusedOptionIndex(e,n)},onFilterChange:function(e){var n=e.target.value;this.filterValue=n,this.focusedOptionIndex=-1,this.$emit("filter",{originalEvent:e,value:n}),!this.virtualScrollerDisabled&&this.virtualScroller.scrollToIndex(0)},onFilterKeyDown:function(e){switch(e.code){case"ArrowDown":this.onArrowDownKey(e);break;case"ArrowUp":this.onArrowUpKey(e,!0);break;case"ArrowLeft":case"ArrowRight":this.onArrowLeftKey(e,!0);break;case"Home":this.onHomeKey(e,!0);break;case"End":this.onEndKey(e,!0);break;case"Enter":case"NumpadEnter":this.onEnterKey(e);break;case"Escape":this.onEscapeKey(e);break;case"Tab":this.onTabKey(e,!0);break}},onFilterBlur:function(){this.focusedOptionIndex=-1},onFilterUpdated:function(){this.overlayVisible&&this.alignOverlay()},onOverlayClick:function(e){j$.emit("overlay-click",{originalEvent:e,target:this.$el})},onOverlayKeyDown:function(e){switch(e.code){case"Escape":this.onEscapeKey(e);break}},onDeleteKey:function(e){this.showClear&&(this.updateModel(e,null),e.preventDefault())},onArrowDownKey:function(e){if(!this.overlayVisible)this.show(),this.editable&&this.changeFocusedOptionIndex(e,this.findSelectedOptionIndex());else{var n=this.focusedOptionIndex!==-1?this.findNextOptionIndex(this.focusedOptionIndex):this.clicked?this.findFirstOptionIndex():this.findFirstFocusedOptionIndex();this.changeFocusedOptionIndex(e,n)}e.preventDefault()},onArrowUpKey:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(e.altKey&&!n)this.focusedOptionIndex!==-1&&this.onOptionSelect(e,this.visibleOptions[this.focusedOptionIndex]),this.overlayVisible&&this.hide(),e.preventDefault();else{var r=this.focusedOptionIndex!==-1?this.findPrevOptionIndex(this.focusedOptionIndex):this.clicked?this.findLastOptionIndex():this.findLastFocusedOptionIndex();this.changeFocusedOptionIndex(e,r),!this.overlayVisible&&this.show(),e.preventDefault()}},onArrowLeftKey:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;n&&(this.focusedOptionIndex=-1)},onHomeKey:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;n?(e.currentTarget.setSelectionRange(0,0),this.focusedOptionIndex=-1):(this.changeFocusedOptionIndex(e,this.findFirstOptionIndex()),!this.overlayVisible&&this.show()),e.preventDefault()},onEndKey:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(n){var r=e.currentTarget,i=r.value.length;r.setSelectionRange(i,i),this.focusedOptionIndex=-1}else this.changeFocusedOptionIndex(e,this.findLastOptionIndex()),!this.overlayVisible&&this.show();e.preventDefault()},onPageUpKey:function(e){this.scrollInView(0),e.preventDefault()},onPageDownKey:function(e){this.scrollInView(this.visibleOptions.length-1),e.preventDefault()},onEnterKey:function(e){this.overlayVisible?(this.focusedOptionIndex!==-1&&this.onOptionSelect(e,this.visibleOptions[this.focusedOptionIndex]),this.hide()):(this.focusedOptionIndex=-1,this.onArrowDownKey(e)),e.preventDefault()},onSpaceKey:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;!n&&this.onEnterKey(e)},onEscapeKey:function(e){this.overlayVisible&&this.hide(!0),e.preventDefault(),e.stopPropagation()},onTabKey:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;n||(this.overlayVisible&&this.hasFocusableElements()?(Le.focus(this.$refs.firstHiddenFocusableElementOnOverlay),e.preventDefault()):(this.focusedOptionIndex!==-1&&this.onOptionSelect(e,this.visibleOptions[this.focusedOptionIndex]),this.overlayVisible&&this.hide(this.filter)))},onBackspaceKey:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;n&&!this.overlayVisible&&this.show()},onOverlayEnter:function(e){Ru.set("overlay",e,this.$primevue.config.zIndex.overlay),Le.addStyles(e,{position:"absolute",top:"0",left:"0"}),this.alignOverlay(),this.scrollInView(),this.autoFilterFocus&&Le.focus(this.$refs.filterInput)},onOverlayAfterEnter:function(){this.bindOutsideClickListener(),this.bindScrollListener(),this.bindResizeListener(),this.$emit("show")},onOverlayLeave:function(){this.unbindOutsideClickListener(),this.unbindScrollListener(),this.unbindResizeListener(),this.$emit("hide"),this.overlay=null},onOverlayAfterLeave:function(e){Ru.clear(e)},alignOverlay:function(){this.appendTo==="self"?Le.relativePosition(this.overlay,this.$el):(this.overlay.style.minWidth=Le.getOuterWidth(this.$el)+"px",Le.absolutePosition(this.overlay,this.$el))},bindOutsideClickListener:function(){var e=this;this.outsideClickListener||(this.outsideClickListener=function(n){e.overlayVisible&&e.overlay&&!e.$el.contains(n.target)&&!e.overlay.contains(n.target)&&e.hide()},document.addEventListener("click",this.outsideClickListener))},unbindOutsideClickListener:function(){this.outsideClickListener&&(document.removeEventListener("click",this.outsideClickListener),this.outsideClickListener=null)},bindScrollListener:function(){var e=this;this.scrollHandler||(this.scrollHandler=new oL(this.$refs.container,function(){e.overlayVisible&&e.hide()})),this.scrollHandler.bindScrollListener()},unbindScrollListener:function(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()},bindResizeListener:function(){var e=this;this.resizeListener||(this.resizeListener=function(){e.overlayVisible&&!Le.isTouchDevice()&&e.hide()},window.addEventListener("resize",this.resizeListener))},unbindResizeListener:function(){this.resizeListener&&(window.removeEventListener("resize",this.resizeListener),this.resizeListener=null)},bindLabelClickListener:function(){var e=this;if(!this.editable&&!this.labelClickListener){var n=document.querySelector('label[for="'.concat(this.inputId,'"]'));n&&Le.isVisible(n)&&(this.labelClickListener=function(){Le.focus(e.$refs.focusInput)},n.addEventListener("click",this.labelClickListener))}},unbindLabelClickListener:function(){if(this.labelClickListener){var e=document.querySelector('label[for="'.concat(this.inputId,'"]'));e&&Le.isVisible(e)&&e.removeEventListener("click",this.labelClickListener)}},hasFocusableElements:function(){return Le.getFocusableElements(this.overlay,':not([data-p-hidden-focusable="true"])').length>0},isOptionMatched:function(e){var n;return this.isValidOption(e)&&((n=this.getOptionLabel(e))===null||n===void 0?void 0:n.toLocaleLowerCase(this.filterLocale).startsWith(this.searchValue.toLocaleLowerCase(this.filterLocale)))},isValidOption:function(e){return Ie.isNotEmpty(e)&&!(this.isOptionDisabled(e)||this.isOptionGroup(e))},isValidSelectedOption:function(e){return this.isValidOption(e)&&this.isSelected(e)},isSelected:function(e){return this.isValidOption(e)&&Ie.equals(this.modelValue,this.getOptionValue(e),this.equalityKey)},findFirstOptionIndex:function(){var e=this;return this.visibleOptions.findIndex(function(n){return e.isValidOption(n)})},findLastOptionIndex:function(){var e=this;return Ie.findLastIndex(this.visibleOptions,function(n){return e.isValidOption(n)})},findNextOptionIndex:function(e){var n=this,r=e<this.visibleOptions.length-1?this.visibleOptions.slice(e+1).findIndex(function(i){return n.isValidOption(i)}):-1;return r>-1?r+e+1:e},findPrevOptionIndex:function(e){var n=this,r=e>0?Ie.findLastIndex(this.visibleOptions.slice(0,e),function(i){return n.isValidOption(i)}):-1;return r>-1?r:e},findSelectedOptionIndex:function(){var e=this;return this.hasSelectedOption?this.visibleOptions.findIndex(function(n){return e.isValidSelectedOption(n)}):-1},findFirstFocusedOptionIndex:function(){var e=this.findSelectedOptionIndex();return e<0?this.findFirstOptionIndex():e},findLastFocusedOptionIndex:function(){var e=this.findSelectedOptionIndex();return e<0?this.findLastOptionIndex():e},searchOptions:function(e,n){var r=this;this.searchValue=(this.searchValue||"")+n;var i=-1,s=!1;return Ie.isNotEmpty(this.searchValue)&&(this.focusedOptionIndex!==-1?(i=this.visibleOptions.slice(this.focusedOptionIndex).findIndex(function(o){return r.isOptionMatched(o)}),i=i===-1?this.visibleOptions.slice(0,this.focusedOptionIndex).findIndex(function(o){return r.isOptionMatched(o)}):i+this.focusedOptionIndex):i=this.visibleOptions.findIndex(function(o){return r.isOptionMatched(o)}),i!==-1&&(s=!0),i===-1&&this.focusedOptionIndex===-1&&(i=this.findFirstFocusedOptionIndex()),i!==-1&&this.changeFocusedOptionIndex(e,i)),this.searchTimeout&&clearTimeout(this.searchTimeout),this.searchTimeout=setTimeout(function(){r.searchValue="",r.searchTimeout=null},500),s},changeFocusedOptionIndex:function(e,n){this.focusedOptionIndex!==n&&(this.focusedOptionIndex=n,this.scrollInView(),this.selectOnFocus&&this.onOptionSelect(e,this.visibleOptions[n],!1))},scrollInView:function(){var e=this,n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:-1;this.$nextTick(function(){var r=n!==-1?"".concat(e.id,"_").concat(n):e.focusedOptionId,i=Le.findSingle(e.list,'li[id="'.concat(r,'"]'));i?i.scrollIntoView&&i.scrollIntoView({block:"nearest",inline:"start"}):e.virtualScrollerDisabled||e.virtualScroller&&e.virtualScroller.scrollToIndex(n!==-1?n:e.focusedOptionIndex)})},autoUpdateModel:function(){this.selectOnFocus&&this.autoOptionFocus&&!this.hasSelectedOption&&(this.focusedOptionIndex=this.findFirstFocusedOptionIndex(),this.onOptionSelect(null,this.visibleOptions[this.focusedOptionIndex],!1))},updateModel:function(e,n){this.$emit("update:modelValue",n),this.$emit("change",{originalEvent:e,value:n})},flatOptions:function(e){var n=this;return(e||[]).reduce(function(r,i,s){r.push({optionGroup:i,group:!0,index:s});var o=n.getOptionGroupChildren(i);return o&&o.forEach(function(a){return r.push(a)}),r},[])},overlayRef:function(e){this.overlay=e},listRef:function(e,n){this.list=e,n&&n(e)},virtualScrollerRef:function(e){this.virtualScroller=e}},computed:{visibleOptions:function(){var e=this,n=this.optionGroupLabel?this.flatOptions(this.options):this.options||[];if(this.filterValue){var r=F$.filter(n,this.searchFields,this.filterValue,this.filterMatchMode,this.filterLocale);if(this.optionGroupLabel){var i=this.options||[],s=[];return i.forEach(function(o){var a=e.getOptionGroupChildren(o),l=a.filter(function(u){return r.includes(u)});l.length>0&&s.push(UA(UA({},o),{},W$({},typeof e.optionGroupChildren=="string"?e.optionGroupChildren:"items",fde(l))))}),this.flatOptions(s)}return r}return n},hasSelectedOption:function(){return Ie.isNotEmpty(this.modelValue)},label:function(){var e=this.findSelectedOptionIndex();return e!==-1?this.getOptionLabel(this.visibleOptions[e]):this.placeholder||"p-emptylabel"},editableInputValue:function(){var e=this.findSelectedOptionIndex();return e!==-1?this.getOptionLabel(this.visibleOptions[e]):this.modelValue||""},equalityKey:function(){return this.optionValue?null:this.dataKey},searchFields:function(){return this.filterFields||[this.optionLabel]},filterResultMessageText:function(){return Ie.isNotEmpty(this.visibleOptions)?this.filterMessageText.replaceAll("{0}",this.visibleOptions.length):this.emptyFilterMessageText},filterMessageText:function(){return this.filterMessage||this.$primevue.config.locale.searchMessage||""},emptyFilterMessageText:function(){return this.emptyFilterMessage||this.$primevue.config.locale.emptySearchMessage||this.$primevue.config.locale.emptyFilterMessage||""},emptyMessageText:function(){return this.emptyMessage||this.$primevue.config.locale.emptyMessage||""},selectionMessageText:function(){return this.selectionMessage||this.$primevue.config.locale.selectionMessage||""},emptySelectionMessageText:function(){return this.emptySelectionMessage||this.$primevue.config.locale.emptySelectionMessage||""},selectedMessageText:function(){return this.hasSelectedOption?this.selectionMessageText.replaceAll("{0}","1"):this.emptySelectionMessageText},focusedOptionId:function(){return this.focusedOptionIndex!==-1?"".concat(this.id,"_").concat(this.focusedOptionIndex):null},ariaSetSize:function(){var e=this;return this.visibleOptions.filter(function(n){return!e.isOptionGroup(n)}).length},virtualScrollerDisabled:function(){return!this.virtualScrollerOptions}},directives:{ripple:mT},components:{VirtualScroller:iS,Portal:rS,TimesIcon:nS,ChevronDownIcon:_v,SpinnerIcon:Mv,SearchIcon:tS,CheckIcon:Nv,BlankIcon:B$}};function $f(t){"@babel/helpers - typeof";return $f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$f(t)}function VA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ms(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?VA(Object(n),!0).forEach(function(r){bde(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):VA(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function bde(t,e,n){return e=wde(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function wde(t){var e=_de(t,"string");return $f(e)=="symbol"?e:String(e)}function _de(t,e){if($f(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if($f(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Tde=["id"],Sde=["id","value","placeholder","tabindex","disabled","aria-label","aria-labelledby","aria-expanded","aria-controls","aria-activedescendant","aria-invalid"],Ede=["id","tabindex","aria-label","aria-labelledby","aria-expanded","aria-controls","aria-activedescendant","aria-disabled"],Ide=["value","placeholder","aria-owns","aria-activedescendant"],Cde=["id"],Ode=["id"],Ade=["id","aria-label","aria-selected","aria-disabled","aria-setsize","aria-posinset","onClick","onMousemove","data-p-highlight","data-p-focused","data-p-disabled"];function kde(t,e,n,r,i,s){var o=Bn("SpinnerIcon"),a=Bn("CheckIcon"),l=Bn("BlankIcon"),u=Bn("VirtualScroller"),c=Bn("Portal"),d=e1("ripple");return S(),V("div",le({ref:"container",id:i.id,class:t.cx("root"),onClick:e[16]||(e[16]=function(){return s.onContainerClick&&s.onContainerClick.apply(s,arguments)})},t.ptmi("root")),[t.editable?(S(),V("input",le({key:0,ref:"focusInput",id:t.inputId,type:"text",class:[t.cx("input"),t.inputClass],style:t.inputStyle,value:s.editableInputValue,placeholder:t.placeholder,tabindex:t.disabled?-1:t.tabindex,disabled:t.disabled,autocomplete:"off",role:"combobox","aria-label":t.ariaLabel,"aria-labelledby":t.ariaLabelledby,"aria-haspopup":"listbox","aria-expanded":i.overlayVisible,"aria-controls":i.id+"_list","aria-activedescendant":i.focused?s.focusedOptionId:void 0,"aria-invalid":t.invalid||void 0,onFocus:e[0]||(e[0]=function(){return s.onFocus&&s.onFocus.apply(s,arguments)}),onBlur:e[1]||(e[1]=function(){return s.onBlur&&s.onBlur.apply(s,arguments)}),onKeydown:e[2]||(e[2]=function(){return s.onKeyDown&&s.onKeyDown.apply(s,arguments)}),onInput:e[3]||(e[3]=function(){return s.onEditableInput&&s.onEditableInput.apply(s,arguments)})},ms(ms({},t.inputProps),t.ptm("input"))),null,16,Sde)):(S(),V("span",le({key:1,ref:"focusInput",id:t.inputId,class:[t.cx("input"),t.inputClass],style:t.inputStyle,tabindex:t.disabled?-1:t.tabindex,role:"combobox","aria-label":t.ariaLabel||(s.label==="p-emptylabel"?void 0:s.label),"aria-labelledby":t.ariaLabelledby,"aria-haspopup":"listbox","aria-expanded":i.overlayVisible,"aria-controls":i.id+"_list","aria-activedescendant":i.focused?s.focusedOptionId:void 0,"aria-disabled":t.disabled,onFocus:e[4]||(e[4]=function(){return s.onFocus&&s.onFocus.apply(s,arguments)}),onBlur:e[5]||(e[5]=function(){return s.onBlur&&s.onBlur.apply(s,arguments)}),onKeydown:e[6]||(e[6]=function(){return s.onKeyDown&&s.onKeyDown.apply(s,arguments)})},ms(ms({},t.inputProps),t.ptm("input"))),[ge(t.$slots,"value",{value:t.modelValue,placeholder:t.placeholder},function(){return[Je($e(s.label==="p-emptylabel"?" ":s.label||"empty"),1)]})],16,Ede)),t.showClear&&t.modelValue!=null?ge(t.$slots,"clearicon",{key:2,class:ke(t.cx("clearIcon")),onClick:s.onClearClick,clearCallback:s.onClearClick},function(){return[(S(),ie(gn(t.clearIcon?"i":"TimesIcon"),le({ref:"clearIcon",class:[t.cx("clearIcon"),t.clearIcon],onClick:s.onClearClick},ms(ms({},t.clearIconProps),t.ptm("clearIcon")),{"data-pc-section":"clearicon"}),null,16,["class","onClick"]))]}):Y("",!0),K("div",le({class:t.cx("trigger")},t.ptm("trigger")),[t.loading?ge(t.$slots,"loadingicon",{key:0,class:ke(t.cx("loadingIcon"))},function(){return[t.loadingIcon?(S(),V("span",le({key:0,class:[t.cx("loadingIcon"),"pi-spin",t.loadingIcon],"aria-hidden":"true"},t.ptm("loadingIcon")),null,16)):(S(),ie(o,le({key:1,class:t.cx("loadingIcon"),spin:"","aria-hidden":"true"},t.ptm("loadingIcon")),null,16,["class"]))]}):ge(t.$slots,"dropdownicon",{key:1,class:ke(t.cx("dropdownIcon"))},function(){return[(S(),ie(gn(t.dropdownIcon?"span":"ChevronDownIcon"),le({class:[t.cx("dropdownIcon"),t.dropdownIcon],"aria-hidden":"true"},t.ptm("dropdownIcon")),null,16,["class"]))]})],16),J(c,{appendTo:t.appendTo},{default:ce(function(){return[J(Hi,le({name:"p-connected-overlay",onEnter:s.onOverlayEnter,onAfterEnter:s.onOverlayAfterEnter,onLeave:s.onOverlayLeave,onAfterLeave:s.onOverlayAfterLeave},t.ptm("transition")),{default:ce(function(){return[i.overlayVisible?(S(),V("div",le({key:0,ref:s.overlayRef,class:[t.cx("panel"),t.panelClass],style:t.panelStyle,onClick:e[14]||(e[14]=function(){return s.onOverlayClick&&s.onOverlayClick.apply(s,arguments)}),onKeydown:e[15]||(e[15]=function(){return s.onOverlayKeyDown&&s.onOverlayKeyDown.apply(s,arguments)})},ms(ms({},t.panelProps),t.ptm("panel"))),[K("span",le({ref:"firstHiddenFocusableElementOnOverlay",role:"presentation","aria-hidden":"true",class:"p-hidden-accessible p-hidden-focusable",tabindex:0,onFocus:e[7]||(e[7]=function(){return s.onFirstHiddenFocus&&s.onFirstHiddenFocus.apply(s,arguments)})},t.ptm("hiddenFirstFocusableEl"),{"data-p-hidden-accessible":!0,"data-p-hidden-focusable":!0}),null,16),ge(t.$slots,"header",{value:t.modelValue,options:s.visibleOptions}),t.filter?(S(),V("div",le({key:0,class:t.cx("header")},t.ptm("header")),[K("div",le({class:t.cx("filterContainer")},t.ptm("filterContainer")),[K("input",le({ref:"filterInput",type:"text",value:i.filterValue,onVnodeMounted:e[8]||(e[8]=function(){return s.onFilterUpdated&&s.onFilterUpdated.apply(s,arguments)}),onVnodeUpdated:e[9]||(e[9]=function(){return s.onFilterUpdated&&s.onFilterUpdated.apply(s,arguments)}),class:t.cx("filterInput"),placeholder:t.filterPlaceholder,role:"searchbox",autocomplete:"off","aria-owns":i.id+"_list","aria-activedescendant":s.focusedOptionId,onKeydown:e[10]||(e[10]=function(){return s.onFilterKeyDown&&s.onFilterKeyDown.apply(s,arguments)}),onBlur:e[11]||(e[11]=function(){return s.onFilterBlur&&s.onFilterBlur.apply(s,arguments)}),onInput:e[12]||(e[12]=function(){return s.onFilterChange&&s.onFilterChange.apply(s,arguments)})},ms(ms({},t.filterInputProps),t.ptm("filterInput"))),null,16,Ide),ge(t.$slots,"filtericon",{class:ke(t.cx("filterIcon"))},function(){return[(S(),ie(gn(t.filterIcon?"span":"SearchIcon"),le({class:[t.cx("filterIcon"),t.filterIcon]},t.ptm("filterIcon")),null,16,["class"]))]})],16),K("span",le({role:"status","aria-live":"polite",class:"p-hidden-accessible"},t.ptm("hiddenFilterResult"),{"data-p-hidden-accessible":!0}),$e(s.filterResultMessageText),17)],16)):Y("",!0),K("div",le({class:t.cx("wrapper"),style:{"max-height":s.virtualScrollerDisabled?t.scrollHeight:""}},t.ptm("wrapper")),[J(u,le({ref:s.virtualScrollerRef},t.virtualScrollerOptions,{items:s.visibleOptions,style:{height:t.scrollHeight},tabindex:-1,disabled:s.virtualScrollerDisabled,pt:t.ptm("virtualScroller")}),Jn({content:ce(function(f){var h=f.styleClass,p=f.contentRef,m=f.items,g=f.getItemOptions,y=f.contentStyle,v=f.itemSize;return[K("ul",le({ref:function(b){return s.listRef(b,p)},id:i.id+"_list",class:[t.cx("list"),h],style:y,role:"listbox"},t.ptm("list")),[(S(!0),V(Te,null,st(m,function(_,b){return S(),V(Te,{key:s.getOptionRenderKey(_,s.getOptionIndex(b,g))},[s.isOptionGroup(_)?(S(),V("li",le({key:0,id:i.id+"_"+s.getOptionIndex(b,g),style:{height:v?v+"px":void 0},class:t.cx("itemGroup"),role:"option"},t.ptm("itemGroup")),[ge(t.$slots,"optiongroup",{option:_.optionGroup,index:s.getOptionIndex(b,g)},function(){return[K("span",le({class:t.cx("itemGroupLabel")},t.ptm("itemGroupLabel")),$e(s.getOptionGroupLabel(_.optionGroup)),17)]})],16,Ode)):ns((S(),V("li",le({key:1,id:i.id+"_"+s.getOptionIndex(b,g),class:t.cx("item",{option:_,focusedOption:s.getOptionIndex(b,g)}),style:{height:v?v+"px":void 0},role:"option","aria-label":s.getOptionLabel(_),"aria-selected":s.isSelected(_),"aria-disabled":s.isOptionDisabled(_),"aria-setsize":s.ariaSetSize,"aria-posinset":s.getAriaPosInset(s.getOptionIndex(b,g)),onClick:function(T){return s.onOptionSelect(T,_)},onMousemove:function(T){return s.onOptionMouseMove(T,s.getOptionIndex(b,g))},"data-p-highlight":s.isSelected(_),"data-p-focused":i.focusedOptionIndex===s.getOptionIndex(b,g),"data-p-disabled":s.isOptionDisabled(_)},s.getPTItemOptions(_,g,b,"item")),[t.checkmark?(S(),V(Te,{key:0},[s.isSelected(_)?(S(),ie(a,le({key:0,class:t.cx("checkIcon")},t.ptm("checkIcon")),null,16,["class"])):(S(),ie(l,le({key:1,class:t.cx("blankIcon")},t.ptm("blankIcon")),null,16,["class"]))],64)):Y("",!0),ge(t.$slots,"option",{option:_,index:s.getOptionIndex(b,g)},function(){return[K("span",le({class:t.cx("itemLabel")},t.ptm("itemLabel")),$e(s.getOptionLabel(_)),17)]})],16,Ade)),[[d]])],64)}),128)),i.filterValue&&(!m||m&&m.length===0)?(S(),V("li",le({key:0,class:t.cx("emptyMessage"),role:"option"},t.ptm("emptyMessage"),{"data-p-hidden-accessible":!0}),[ge(t.$slots,"emptyfilter",{},function(){return[Je($e(s.emptyFilterMessageText),1)]})],16)):!t.options||t.options&&t.options.length===0?(S(),V("li",le({key:1,class:t.cx("emptyMessage"),role:"option"},t.ptm("emptyMessage"),{"data-p-hidden-accessible":!0}),[ge(t.$slots,"empty",{},function(){return[Je($e(s.emptyMessageText),1)]})],16)):Y("",!0)],16,Cde)]}),_:2},[t.$slots.loader?{name:"loader",fn:ce(function(f){var h=f.options;return[ge(t.$slots,"loader",{options:h})]}),key:"0"}:void 0]),1040,["items","style","disabled","pt"])],16),ge(t.$slots,"footer",{value:t.modelValue,options:s.visibleOptions}),!t.options||t.options&&t.options.length===0?(S(),V("span",le({key:1,role:"status","aria-live":"polite",class:"p-hidden-accessible"},t.ptm("hiddenEmptyMessage"),{"data-p-hidden-accessible":!0}),$e(s.emptyMessageText),17)):Y("",!0),K("span",le({role:"status","aria-live":"polite",class:"p-hidden-accessible"},t.ptm("hiddenSelectedMessage"),{"data-p-hidden-accessible":!0}),$e(s.selectedMessageText),17),K("span",le({ref:"lastHiddenFocusableElementOnOverlay",role:"presentation","aria-hidden":"true",class:"p-hidden-accessible p-hidden-focusable",tabindex:0,onFocus:e[13]||(e[13]=function(){return s.onLastHiddenFocus&&s.onLastHiddenFocus.apply(s,arguments)})},t.ptm("hiddenLastFocusableEl"),{"data-p-hidden-accessible":!0,"data-p-hidden-focusable":!0}),null,16)],16)):Y("",!0)]}),_:3},16,["onEnter","onAfterEnter","onLeave","onAfterLeave"])]}),_:3},8,["appendTo"])],16,Tde)}K$.render=kde;var Pde={root:function(e){var n=e.instance,r=e.props;return["p-checkbox p-component",{"p-highlight":n.checked,"p-disabled":r.disabled,"p-invalid":r.invalid,"p-variant-filled":r.variant?r.variant==="filled":n.$primevue.config.inputStyle==="filled"}]},box:"p-checkbox-box",input:"p-checkbox-input",icon:"p-checkbox-icon"},xde=Cr.extend({name:"checkbox",classes:Pde}),Dde={name:"BaseCheckbox",extends:Pi,props:{value:null,modelValue:null,binary:Boolean,name:{type:String,default:null},trueValue:{type:null,default:!0},falseValue:{type:null,default:!1},variant:{type:String,default:null},invalid:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},required:{type:Boolean,default:!1},tabindex:{type:Number,default:null},inputId:{type:String,default:null},inputClass:{type:[String,Object],default:null},inputStyle:{type:Object,default:null},ariaLabelledby:{type:String,default:null},ariaLabel:{type:String,default:null}},style:xde,provide:function(){return{$parentInstance:this}}};function Rde(t){return $de(t)||Lde(t)||Mde(t)||Nde()}function Nde(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Mde(t,e){if(t){if(typeof t=="string")return Nw(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Nw(t,e)}}function Lde(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function $de(t){if(Array.isArray(t))return Nw(t)}function Nw(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var z$={name:"Checkbox",extends:Dde,inheritAttrs:!1,emits:["update:modelValue","change","focus","blur"],methods:{getPTOptions:function(e){var n=e==="root"?this.ptmi:this.ptm;return n(e,{context:{checked:this.checked,disabled:this.disabled}})},onChange:function(e){var n=this;if(!this.disabled&&!this.readonly){var r;this.binary?r=this.checked?this.falseValue:this.trueValue:this.checked?r=this.modelValue.filter(function(i){return!Ie.equals(i,n.value)}):r=this.modelValue?[].concat(Rde(this.modelValue),[this.value]):[this.value],this.$emit("update:modelValue",r),this.$emit("change",e)}},onFocus:function(e){this.$emit("focus",e)},onBlur:function(e){this.$emit("blur",e)}},computed:{checked:function(){return this.binary?this.modelValue===this.trueValue:Ie.contains(this.value,this.modelValue)}},components:{CheckIcon:Nv}},Fde=["data-p-highlight","data-p-disabled"],Ude=["id","value","name","checked","tabindex","disabled","readonly","required","aria-labelledby","aria-label","aria-invalid"];function Vde(t,e,n,r,i,s){var o=Bn("CheckIcon");return S(),V("div",le({class:t.cx("root")},s.getPTOptions("root"),{"data-p-highlight":s.checked,"data-p-disabled":t.disabled}),[K("input",le({id:t.inputId,type:"checkbox",class:[t.cx("input"),t.inputClass],style:t.inputStyle,value:t.value,name:t.name,checked:s.checked,tabindex:t.tabindex,disabled:t.disabled,readonly:t.readonly,required:t.required,"aria-labelledby":t.ariaLabelledby,"aria-label":t.ariaLabel,"aria-invalid":t.invalid||void 0,onFocus:e[0]||(e[0]=function(){return s.onFocus&&s.onFocus.apply(s,arguments)}),onBlur:e[1]||(e[1]=function(){return s.onBlur&&s.onBlur.apply(s,arguments)}),onChange:e[2]||(e[2]=function(){return s.onChange&&s.onChange.apply(s,arguments)})},s.getPTOptions("input")),null,16,Ude),K("div",le({class:t.cx("box")},s.getPTOptions("box")),[ge(t.$slots,"icon",{checked:s.checked,class:ke(t.cx("icon"))},function(){return[s.checked?(S(),ie(o,le({key:0,class:t.cx("icon")},s.getPTOptions("icon")),null,16,["class"])):Y("",!0)]})],16)],16,Fde)}z$.render=Vde;var Bde={root:function(e){var n=e.props;return{position:n.appendTo==="self"?"relative":void 0}}},jde={root:function(e){var n=e.instance,r=e.props;return["p-multiselect p-component p-inputwrapper",{"p-multiselect-chip":r.display==="chip","p-disabled":r.disabled,"p-invalid":r.invalid,"p-variant-filled":r.variant?r.variant==="filled":n.$primevue.config.inputStyle==="filled","p-focus":n.focused,"p-inputwrapper-filled":r.modelValue&&r.modelValue.length,"p-inputwrapper-focus":n.focused||n.overlayVisible,"p-overlay-open":n.overlayVisible}]},labelContainer:"p-multiselect-label-container",label:function(e){var n=e.instance,r=e.props;return["p-multiselect-label",{"p-placeholder":n.label===r.placeholder,"p-multiselect-label-empty":!r.placeholder&&(!r.modelValue||r.modelValue.length===0)}]},token:"p-multiselect-token",tokenLabel:"p-multiselect-token-label",removeTokenIcon:"p-multiselect-token-icon",trigger:"p-multiselect-trigger",loadingIcon:"p-multiselect-trigger-icon",dropdownIcon:"p-multiselect-trigger-icon",panel:function(e){e.props;var n=e.instance;return["p-multiselect-panel p-component",{"p-ripple-disabled":n.$primevue.config.ripple===!1}]},header:"p-multiselect-header",filterContainer:"p-multiselect-filter-container",filterInput:function(e){var n=e.props,r=e.instance;return["p-multiselect-filter p-inputtext p-component",{"p-variant-filled":n.variant?n.variant==="filled":r.$primevue.config.inputStyle==="filled"}]},filterIcon:"p-multiselect-filter-icon",closeButton:"p-multiselect-close p-link",closeIcon:"p-multiselect-close-icon",wrapper:"p-multiselect-items-wrapper",list:"p-multiselect-items p-component",itemGroup:"p-multiselect-item-group",item:function(e){var n=e.instance,r=e.option,i=e.index,s=e.getItemOptions,o=e.props;return["p-multiselect-item",{"p-highlight":n.isSelected(r)&&o.highlightOnSelect,"p-focus":n.focusedOptionIndex===n.getOptionIndex(i,s),"p-disabled":n.isOptionDisabled(r)}]},emptyMessage:"p-multiselect-empty-message"},Hde=Cr.extend({name:"multiselect",classes:jde,inlineStyles:Bde}),Wde={name:"BaseMultiSelect",extends:Pi,props:{modelValue:null,options:Array,optionLabel:null,optionValue:null,optionDisabled:null,optionGroupLabel:null,optionGroupChildren:null,scrollHeight:{type:String,default:"200px"},placeholder:String,variant:{type:String,default:null},invalid:{type:Boolean,default:!1},disabled:Boolean,inputId:{type:String,default:null},inputProps:{type:null,default:null},panelClass:{type:String,default:null},panelStyle:{type:null,default:null},panelProps:{type:null,default:null},filterInputProps:{type:null,default:null},closeButtonProps:{type:null,default:null},dataKey:null,filter:Boolean,filterPlaceholder:String,filterLocale:String,filterMatchMode:{type:String,default:"contains"},filterFields:{type:Array,default:null},appendTo:{type:[String,Object],default:"body"},display:{type:String,default:"comma"},selectedItemsLabel:{type:String,default:"{0} items selected"},maxSelectedLabels:{type:Number,default:null},selectionLimit:{type:Number,default:null},showToggleAll:{type:Boolean,default:!0},loading:{type:Boolean,default:!1},checkboxIcon:{type:String,default:void 0},closeIcon:{type:String,default:void 0},dropdownIcon:{type:String,default:void 0},filterIcon:{type:String,default:void 0},loadingIcon:{type:String,default:void 0},removeTokenIcon:{type:String,default:void 0},selectAll:{type:Boolean,default:null},resetFilterOnHide:{type:Boolean,default:!1},virtualScrollerOptions:{type:Object,default:null},autoOptionFocus:{type:Boolean,default:!1},autoFilterFocus:{type:Boolean,default:!1},focusOnHover:{type:Boolean,default:!0},highlightOnSelect:{type:Boolean,default:!1},filterMessage:{type:String,default:null},selectionMessage:{type:String,default:null},emptySelectionMessage:{type:String,default:null},emptyFilterMessage:{type:String,default:null},emptyMessage:{type:String,default:null},tabindex:{type:Number,default:0},ariaLabel:{type:String,default:null},ariaLabelledby:{type:String,default:null}},style:Hde,provide:function(){return{$parentInstance:this}}};function Ff(t){"@babel/helpers - typeof";return Ff=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ff(t)}function BA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function jA(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?BA(Object(n),!0).forEach(function(r){G$(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):BA(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function G$(t,e,n){return e=Kde(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Kde(t){var e=zde(t,"string");return Ff(e)=="symbol"?e:String(e)}function zde(t,e){if(Ff(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Ff(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function HA(t){return Xde(t)||qde(t)||Yde(t)||Gde()}function Gde(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Yde(t,e){if(t){if(typeof t=="string")return Mw(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Mw(t,e)}}function qde(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Xde(t){if(Array.isArray(t))return Mw(t)}function Mw(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Y$={name:"MultiSelect",extends:Wde,inheritAttrs:!1,emits:["update:modelValue","change","focus","blur","before-show","before-hide","show","hide","filter","selectall-change"],outsideClickListener:null,scrollHandler:null,resizeListener:null,overlay:null,list:null,virtualScroller:null,startRangeIndex:-1,searchTimeout:null,searchValue:"",selectOnFocus:!1,data:function(){return{id:this.$attrs.id,clicked:!1,focused:!1,focusedOptionIndex:-1,filterValue:null,overlayVisible:!1}},watch:{"$attrs.id":function(e){this.id=e||nc()},options:function(){this.autoUpdateModel()}},mounted:function(){this.id=this.id||nc(),this.autoUpdateModel()},beforeUnmount:function(){this.unbindOutsideClickListener(),this.unbindResizeListener(),this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null),this.overlay&&(Ru.clear(this.overlay),this.overlay=null)},methods:{getOptionIndex:function(e,n){return this.virtualScrollerDisabled?e:n&&n(e).index},getOptionLabel:function(e){return this.optionLabel?Ie.resolveFieldData(e,this.optionLabel):e},getOptionValue:function(e){return this.optionValue?Ie.resolveFieldData(e,this.optionValue):e},getOptionRenderKey:function(e){return this.dataKey?Ie.resolveFieldData(e,this.dataKey):this.getOptionLabel(e)},getHeaderCheckboxPTOptions:function(e){return this.ptm(e,{context:{selected:this.allSelected}})},getCheckboxPTOptions:function(e,n,r,i){return this.ptm(i,{context:{selected:this.isSelected(e),focused:this.focusedOptionIndex===this.getOptionIndex(r,n),disabled:this.isOptionDisabled(e)}})},isOptionDisabled:function(e){return this.maxSelectionLimitReached&&!this.isSelected(e)?!0:this.optionDisabled?Ie.resolveFieldData(e,this.optionDisabled):!1},isOptionGroup:function(e){return this.optionGroupLabel&&e.optionGroup&&e.group},getOptionGroupLabel:function(e){return Ie.resolveFieldData(e,this.optionGroupLabel)},getOptionGroupChildren:function(e){return Ie.resolveFieldData(e,this.optionGroupChildren)},getAriaPosInset:function(e){var n=this;return(this.optionGroupLabel?e-this.visibleOptions.slice(0,e).filter(function(r){return n.isOptionGroup(r)}).length:e)+1},show:function(e){this.$emit("before-show"),this.overlayVisible=!0,this.focusedOptionIndex=this.focusedOptionIndex!==-1?this.focusedOptionIndex:this.autoOptionFocus?this.findFirstFocusedOptionIndex():this.findSelectedOptionIndex(),e&&Le.focus(this.$refs.focusInput)},hide:function(e){var n=this,r=function(){n.$emit("before-hide"),n.overlayVisible=!1,n.clicked=!1,n.focusedOptionIndex=-1,n.searchValue="",n.resetFilterOnHide&&(n.filterValue=null),e&&Le.focus(n.$refs.focusInput)};setTimeout(function(){r()},0)},onFocus:function(e){this.disabled||(this.focused=!0,this.overlayVisible&&(this.focusedOptionIndex=this.focusedOptionIndex!==-1?this.focusedOptionIndex:this.autoOptionFocus?this.findFirstFocusedOptionIndex():this.findSelectedOptionIndex(),this.scrollInView(this.focusedOptionIndex)),this.$emit("focus",e))},onBlur:function(e){this.clicked=!1,this.focused=!1,this.focusedOptionIndex=-1,this.searchValue="",this.$emit("blur",e)},onKeyDown:function(e){var n=this;if(this.disabled){e.preventDefault();return}var r=e.metaKey||e.ctrlKey;switch(e.code){case"ArrowDown":this.onArrowDownKey(e);break;case"ArrowUp":this.onArrowUpKey(e);break;case"Home":this.onHomeKey(e);break;case"End":this.onEndKey(e);break;case"PageDown":this.onPageDownKey(e);break;case"PageUp":this.onPageUpKey(e);break;case"Enter":case"NumpadEnter":case"Space":this.onEnterKey(e);break;case"Escape":this.onEscapeKey(e);break;case"Tab":this.onTabKey(e);break;case"ShiftLeft":case"ShiftRight":this.onShiftKey(e);break;default:if(e.code==="KeyA"&&r){var i=this.visibleOptions.filter(function(s){return n.isValidOption(s)}).map(function(s){return n.getOptionValue(s)});this.updateModel(e,i),e.preventDefault();break}!r&&Ie.isPrintableCharacter(e.key)&&(!this.overlayVisible&&this.show(),this.searchOptions(e),e.preventDefault());break}this.clicked=!1},onContainerClick:function(e){this.disabled||this.loading||((!this.overlay||!this.overlay.contains(e.target))&&(this.overlayVisible?this.hide(!0):this.show(!0)),this.clicked=!0)},onFirstHiddenFocus:function(e){var n=e.relatedTarget===this.$refs.focusInput?Le.getFirstFocusableElement(this.overlay,':not([data-p-hidden-focusable="true"])'):this.$refs.focusInput;Le.focus(n)},onLastHiddenFocus:function(e){var n=e.relatedTarget===this.$refs.focusInput?Le.getLastFocusableElement(this.overlay,':not([data-p-hidden-focusable="true"])'):this.$refs.focusInput;Le.focus(n)},onCloseClick:function(){this.hide(!0)},onOptionSelect:function(e,n){var r=this,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:-1,s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!(this.disabled||this.isOptionDisabled(n))){var o=this.isSelected(n),a=null;o?a=this.modelValue.filter(function(l){return!Ie.equals(l,r.getOptionValue(n),r.equalityKey)}):a=[].concat(HA(this.modelValue||[]),[this.getOptionValue(n)]),this.updateModel(e,a),i!==-1&&(this.focusedOptionIndex=i),s&&Le.focus(this.$refs.focusInput)}},onOptionMouseMove:function(e,n){this.focusOnHover&&this.changeFocusedOptionIndex(e,n)},onOptionSelectRange:function(e){var n=this,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:-1,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:-1;if(r===-1&&(r=this.findNearestSelectedOptionIndex(i,!0)),i===-1&&(i=this.findNearestSelectedOptionIndex(r)),r!==-1&&i!==-1){var s=Math.min(r,i),o=Math.max(r,i),a=this.visibleOptions.slice(s,o+1).filter(function(l){return n.isValidOption(l)}).map(function(l){return n.getOptionValue(l)});this.updateModel(e,a)}},onFilterChange:function(e){var n=e.target.value;this.filterValue=n,this.focusedOptionIndex=-1,this.$emit("filter",{originalEvent:e,value:n}),!this.virtualScrollerDisabled&&this.virtualScroller.scrollToIndex(0)},onFilterKeyDown:function(e){switch(e.code){case"ArrowDown":this.onArrowDownKey(e);break;case"ArrowUp":this.onArrowUpKey(e,!0);break;case"ArrowLeft":case"ArrowRight":this.onArrowLeftKey(e,!0);break;case"Home":this.onHomeKey(e,!0);break;case"End":this.onEndKey(e,!0);break;case"Enter":case"NumpadEnter":this.onEnterKey(e);break;case"Escape":this.onEscapeKey(e);break;case"Tab":this.onTabKey(e,!0);break}},onFilterBlur:function(){this.focusedOptionIndex=-1},onFilterUpdated:function(){this.overlayVisible&&this.alignOverlay()},onOverlayClick:function(e){j$.emit("overlay-click",{originalEvent:e,target:this.$el})},onOverlayKeyDown:function(e){switch(e.code){case"Escape":this.onEscapeKey(e);break}},onArrowDownKey:function(e){if(!this.overlayVisible)this.show();else{var n=this.focusedOptionIndex!==-1?this.findNextOptionIndex(this.focusedOptionIndex):this.clicked?this.findFirstOptionIndex():this.findFirstFocusedOptionIndex();e.shiftKey&&this.onOptionSelectRange(e,this.startRangeIndex,n),this.changeFocusedOptionIndex(e,n)}e.preventDefault()},onArrowUpKey:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(e.altKey&&!n)this.focusedOptionIndex!==-1&&this.onOptionSelect(e,this.visibleOptions[this.focusedOptionIndex]),this.overlayVisible&&this.hide(),e.preventDefault();else{var r=this.focusedOptionIndex!==-1?this.findPrevOptionIndex(this.focusedOptionIndex):this.clicked?this.findLastOptionIndex():this.findLastFocusedOptionIndex();e.shiftKey&&this.onOptionSelectRange(e,r,this.startRangeIndex),this.changeFocusedOptionIndex(e,r),!this.overlayVisible&&this.show(),e.preventDefault()}},onArrowLeftKey:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;n&&(this.focusedOptionIndex=-1)},onHomeKey:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,r=e.currentTarget;if(n){var i=r.value.length;r.setSelectionRange(0,e.shiftKey?i:0),this.focusedOptionIndex=-1}else{var s=e.metaKey||e.ctrlKey,o=this.findFirstOptionIndex();e.shiftKey&&s&&this.onOptionSelectRange(e,o,this.startRangeIndex),this.changeFocusedOptionIndex(e,o),!this.overlayVisible&&this.show()}e.preventDefault()},onEndKey:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,r=e.currentTarget;if(n){var i=r.value.length;r.setSelectionRange(e.shiftKey?0:i,i),this.focusedOptionIndex=-1}else{var s=e.metaKey||e.ctrlKey,o=this.findLastOptionIndex();e.shiftKey&&s&&this.onOptionSelectRange(e,this.startRangeIndex,o),this.changeFocusedOptionIndex(e,o),!this.overlayVisible&&this.show()}e.preventDefault()},onPageUpKey:function(e){this.scrollInView(0),e.preventDefault()},onPageDownKey:function(e){this.scrollInView(this.visibleOptions.length-1),e.preventDefault()},onEnterKey:function(e){this.overlayVisible?this.focusedOptionIndex!==-1&&(e.shiftKey?this.onOptionSelectRange(e,this.focusedOptionIndex):this.onOptionSelect(e,this.visibleOptions[this.focusedOptionIndex])):(this.focusedOptionIndex=-1,this.onArrowDownKey(e)),e.preventDefault()},onEscapeKey:function(e){this.overlayVisible&&this.hide(!0),e.preventDefault()},onTabKey:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;n||(this.overlayVisible&&this.hasFocusableElements()?(Le.focus(e.shiftKey?this.$refs.lastHiddenFocusableElementOnOverlay:this.$refs.firstHiddenFocusableElementOnOverlay),e.preventDefault()):(this.focusedOptionIndex!==-1&&this.onOptionSelect(e,this.visibleOptions[this.focusedOptionIndex]),this.overlayVisible&&this.hide(this.filter)))},onShiftKey:function(){this.startRangeIndex=this.focusedOptionIndex},onOverlayEnter:function(e){Ru.set("overlay",e,this.$primevue.config.zIndex.overlay),Le.addStyles(e,{position:"absolute",top:"0",left:"0"}),this.alignOverlay(),this.scrollInView(),this.autoFilterFocus&&Le.focus(this.$refs.filterInput)},onOverlayAfterEnter:function(){this.bindOutsideClickListener(),this.bindScrollListener(),this.bindResizeListener(),this.$emit("show")},onOverlayLeave:function(){this.unbindOutsideClickListener(),this.unbindScrollListener(),this.unbindResizeListener(),this.$emit("hide"),this.overlay=null},onOverlayAfterLeave:function(e){Ru.clear(e)},alignOverlay:function(){this.appendTo==="self"?Le.relativePosition(this.overlay,this.$el):(this.overlay.style.minWidth=Le.getOuterWidth(this.$el)+"px",Le.absolutePosition(this.overlay,this.$el))},bindOutsideClickListener:function(){var e=this;this.outsideClickListener||(this.outsideClickListener=function(n){e.overlayVisible&&e.isOutsideClicked(n)&&e.hide()},document.addEventListener("click",this.outsideClickListener))},unbindOutsideClickListener:function(){this.outsideClickListener&&(document.removeEventListener("click",this.outsideClickListener),this.outsideClickListener=null)},bindScrollListener:function(){var e=this;this.scrollHandler||(this.scrollHandler=new oL(this.$refs.container,function(){e.overlayVisible&&e.hide()})),this.scrollHandler.bindScrollListener()},unbindScrollListener:function(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()},bindResizeListener:function(){var e=this;this.resizeListener||(this.resizeListener=function(){e.overlayVisible&&!Le.isTouchDevice()&&e.hide()},window.addEventListener("resize",this.resizeListener))},unbindResizeListener:function(){this.resizeListener&&(window.removeEventListener("resize",this.resizeListener),this.resizeListener=null)},isOutsideClicked:function(e){return!(this.$el.isSameNode(e.target)||this.$el.contains(e.target)||this.overlay&&this.overlay.contains(e.target))},getLabelByValue:function(e){var n=this,r=this.optionGroupLabel?this.flatOptions(this.options):this.options||[],i=r.find(function(s){return!n.isOptionGroup(s)&&Ie.equals(n.getOptionValue(s),e,n.equalityKey)});return i?this.getOptionLabel(i):null},getSelectedItemsLabel:function(){var e=/{(.*?)}/,n=this.selectedItemsLabel||this.$primevue.config.locale.selectionMessage;return e.test(n)?n.replace(n.match(e)[0],this.modelValue.length+""):n},onToggleAll:function(e){var n=this;if(this.selectAll!==null)this.$emit("selectall-change",{originalEvent:e,checked:!this.allSelected});else{var r=this.allSelected?[]:this.visibleOptions.filter(function(i){return n.isValidOption(i)}).map(function(i){return n.getOptionValue(i)});this.updateModel(e,r)}},removeOption:function(e,n){var r=this,i=this.modelValue.filter(function(s){return!Ie.equals(s,n,r.equalityKey)});this.updateModel(e,i)},clearFilter:function(){this.filterValue=null},hasFocusableElements:function(){return Le.getFocusableElements(this.overlay,':not([data-p-hidden-focusable="true"])').length>0},isOptionMatched:function(e){var n;return this.isValidOption(e)&&((n=this.getOptionLabel(e))===null||n===void 0?void 0:n.toLocaleLowerCase(this.filterLocale).startsWith(this.searchValue.toLocaleLowerCase(this.filterLocale)))},isValidOption:function(e){return Ie.isNotEmpty(e)&&!(this.isOptionDisabled(e)||this.isOptionGroup(e))},isValidSelectedOption:function(e){return this.isValidOption(e)&&this.isSelected(e)},isEquals:function(e,n){return Ie.equals(e,n,this.equalityKey)},isSelected:function(e){var n=this,r=this.getOptionValue(e);return(this.modelValue||[]).some(function(i){return n.isEquals(i,r)})},findFirstOptionIndex:function(){var e=this;return this.visibleOptions.findIndex(function(n){return e.isValidOption(n)})},findLastOptionIndex:function(){var e=this;return Ie.findLastIndex(this.visibleOptions,function(n){return e.isValidOption(n)})},findNextOptionIndex:function(e){var n=this,r=e<this.visibleOptions.length-1?this.visibleOptions.slice(e+1).findIndex(function(i){return n.isValidOption(i)}):-1;return r>-1?r+e+1:e},findPrevOptionIndex:function(e){var n=this,r=e>0?Ie.findLastIndex(this.visibleOptions.slice(0,e),function(i){return n.isValidOption(i)}):-1;return r>-1?r:e},findSelectedOptionIndex:function(){var e=this;if(this.hasSelectedOption){for(var n=function(){var o=e.modelValue[i],a=e.visibleOptions.findIndex(function(l){return e.isValidSelectedOption(l)&&e.isEquals(o,e.getOptionValue(l))});if(a>-1)return{v:a}},r,i=this.modelValue.length-1;i>=0;i--)if(r=n(),r)return r.v}return-1},findFirstSelectedOptionIndex:function(){var e=this;return this.hasSelectedOption?this.visibleOptions.findIndex(function(n){return e.isValidSelectedOption(n)}):-1},findLastSelectedOptionIndex:function(){var e=this;return this.hasSelectedOption?Ie.findLastIndex(this.visibleOptions,function(n){return e.isValidSelectedOption(n)}):-1},findNextSelectedOptionIndex:function(e){var n=this,r=this.hasSelectedOption&&e<this.visibleOptions.length-1?this.visibleOptions.slice(e+1).findIndex(function(i){return n.isValidSelectedOption(i)}):-1;return r>-1?r+e+1:-1},findPrevSelectedOptionIndex:function(e){var n=this,r=this.hasSelectedOption&&e>0?Ie.findLastIndex(this.visibleOptions.slice(0,e),function(i){return n.isValidSelectedOption(i)}):-1;return r>-1?r:-1},findNearestSelectedOptionIndex:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,r=-1;return this.hasSelectedOption&&(n?(r=this.findPrevSelectedOptionIndex(e),r=r===-1?this.findNextSelectedOptionIndex(e):r):(r=this.findNextSelectedOptionIndex(e),r=r===-1?this.findPrevSelectedOptionIndex(e):r)),r>-1?r:e},findFirstFocusedOptionIndex:function(){var e=this.findSelectedOptionIndex();return e<0?this.findFirstOptionIndex():e},findLastFocusedOptionIndex:function(){var e=this.findSelectedOptionIndex();return e<0?this.findLastOptionIndex():e},searchOptions:function(e){var n=this;this.searchValue=(this.searchValue||"")+e.key;var r=-1;Ie.isNotEmpty(this.searchValue)&&(this.focusedOptionIndex!==-1?(r=this.visibleOptions.slice(this.focusedOptionIndex).findIndex(function(i){return n.isOptionMatched(i)}),r=r===-1?this.visibleOptions.slice(0,this.focusedOptionIndex).findIndex(function(i){return n.isOptionMatched(i)}):r+this.focusedOptionIndex):r=this.visibleOptions.findIndex(function(i){return n.isOptionMatched(i)}),r===-1&&this.focusedOptionIndex===-1&&(r=this.findFirstFocusedOptionIndex()),r!==-1&&this.changeFocusedOptionIndex(e,r)),this.searchTimeout&&clearTimeout(this.searchTimeout),this.searchTimeout=setTimeout(function(){n.searchValue="",n.searchTimeout=null},500)},changeFocusedOptionIndex:function(e,n){this.focusedOptionIndex!==n&&(this.focusedOptionIndex=n,this.scrollInView(),this.selectOnFocus&&this.onOptionSelect(e,this.visibleOptions[n]))},scrollInView:function(){var e=this,n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:-1;this.$nextTick(function(){var r=n!==-1?"".concat(e.id,"_").concat(n):e.focusedOptionId,i=Le.findSingle(e.list,'li[id="'.concat(r,'"]'));i?i.scrollIntoView&&i.scrollIntoView({block:"nearest",inline:"nearest"}):e.virtualScrollerDisabled||e.virtualScroller&&e.virtualScroller.scrollToIndex(n!==-1?n:e.focusedOptionIndex)})},autoUpdateModel:function(){if(this.selectOnFocus&&this.autoOptionFocus&&!this.hasSelectedOption){this.focusedOptionIndex=this.findFirstFocusedOptionIndex();var e=this.getOptionValue(this.visibleOptions[this.focusedOptionIndex]);this.updateModel(null,[e])}},updateModel:function(e,n){this.$emit("update:modelValue",n),this.$emit("change",{originalEvent:e,value:n})},flatOptions:function(e){var n=this;return(e||[]).reduce(function(r,i,s){r.push({optionGroup:i,group:!0,index:s});var o=n.getOptionGroupChildren(i);return o&&o.forEach(function(a){return r.push(a)}),r},[])},overlayRef:function(e){this.overlay=e},listRef:function(e,n){this.list=e,n&&n(e)},virtualScrollerRef:function(e){this.virtualScroller=e}},computed:{visibleOptions:function(){var e=this,n=this.optionGroupLabel?this.flatOptions(this.options):this.options||[];if(this.filterValue){var r=F$.filter(n,this.searchFields,this.filterValue,this.filterMatchMode,this.filterLocale);if(this.optionGroupLabel){var i=this.options||[],s=[];return i.forEach(function(o){var a=e.getOptionGroupChildren(o),l=a.filter(function(u){return r.includes(u)});l.length>0&&s.push(jA(jA({},o),{},G$({},typeof e.optionGroupChildren=="string"?e.optionGroupChildren:"items",HA(l))))}),this.flatOptions(s)}return r}return n},label:function(){var e;if(this.modelValue&&this.modelValue.length){if(Ie.isNotEmpty(this.maxSelectedLabels)&&this.modelValue.length>this.maxSelectedLabels)return this.getSelectedItemsLabel();e="";for(var n=0;n<this.modelValue.length;n++)n!==0&&(e+=", "),e+=this.getLabelByValue(this.modelValue[n])}else e=this.placeholder;return e},chipSelectedItems:function(){return Ie.isNotEmpty(this.maxSelectedLabels)&&this.modelValue&&this.modelValue.length>this.maxSelectedLabels?this.modelValue.slice(0,this.maxSelectedLabels):this.modelValue},allSelected:function(){var e=this;return this.selectAll!==null?this.selectAll:Ie.isNotEmpty(this.visibleOptions)&&this.visibleOptions.every(function(n){return e.isOptionGroup(n)||e.isOptionDisabled(n)||e.isSelected(n)})},hasSelectedOption:function(){return Ie.isNotEmpty(this.modelValue)},equalityKey:function(){return this.optionValue?null:this.dataKey},searchFields:function(){return this.filterFields||[this.optionLabel]},maxSelectionLimitReached:function(){return this.selectionLimit&&this.modelValue&&this.modelValue.length===this.selectionLimit},filterResultMessageText:function(){return Ie.isNotEmpty(this.visibleOptions)?this.filterMessageText.replaceAll("{0}",this.visibleOptions.length):this.emptyFilterMessageText},filterMessageText:function(){return this.filterMessage||this.$primevue.config.locale.searchMessage||""},emptyFilterMessageText:function(){return this.emptyFilterMessage||this.$primevue.config.locale.emptySearchMessage||this.$primevue.config.locale.emptyFilterMessage||""},emptyMessageText:function(){return this.emptyMessage||this.$primevue.config.locale.emptyMessage||""},selectionMessageText:function(){return this.selectionMessage||this.$primevue.config.locale.selectionMessage||""},emptySelectionMessageText:function(){return this.emptySelectionMessage||this.$primevue.config.locale.emptySelectionMessage||""},selectedMessageText:function(){return this.hasSelectedOption?this.selectionMessageText.replaceAll("{0}",this.modelValue.length):this.emptySelectionMessageText},focusedOptionId:function(){return this.focusedOptionIndex!==-1?"".concat(this.id,"_").concat(this.focusedOptionIndex):null},ariaSetSize:function(){var e=this;return this.visibleOptions.filter(function(n){return!e.isOptionGroup(n)}).length},toggleAllAriaLabel:function(){return this.$primevue.config.locale.aria?this.$primevue.config.locale.aria[this.allSelected?"selectAll":"unselectAll"]:void 0},closeAriaLabel:function(){return this.$primevue.config.locale.aria?this.$primevue.config.locale.aria.close:void 0},virtualScrollerDisabled:function(){return!this.virtualScrollerOptions}},directives:{ripple:mT},components:{Checkbox:z$,VirtualScroller:iS,Portal:rS,TimesIcon:nS,SearchIcon:tS,TimesCircleIcon:gT,ChevronDownIcon:_v,SpinnerIcon:Mv,CheckIcon:Nv}};function Uf(t){"@babel/helpers - typeof";return Uf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Uf(t)}function WA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function So(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?WA(Object(n),!0).forEach(function(r){Lw(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):WA(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Lw(t,e,n){return e=Qde(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Qde(t){var e=Jde(t,"string");return Uf(e)=="symbol"?e:String(e)}function Jde(t,e){if(Uf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Uf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Zde=["id","disabled","placeholder","tabindex","aria-label","aria-labelledby","aria-expanded","aria-controls","aria-activedescendant","aria-invalid"],efe=["onClick"],tfe=["value","placeholder","aria-owns","aria-activedescendant"],nfe=["aria-label"],rfe=["id"],ife=["id"],sfe=["id","aria-label","aria-selected","aria-disabled","aria-setsize","aria-posinset","onClick","onMousemove","data-p-highlight","data-p-focused","data-p-disabled"];function ofe(t,e,n,r,i,s){var o=Bn("TimesCircleIcon"),a=Bn("SpinnerIcon"),l=Bn("Checkbox"),u=Bn("VirtualScroller"),c=Bn("Portal"),d=e1("ripple");return S(),V("div",le({ref:"container",class:t.cx("root"),onClick:e[13]||(e[13]=function(){return s.onContainerClick&&s.onContainerClick.apply(s,arguments)})},t.ptmi("root")),[K("div",le({class:"p-hidden-accessible"},t.ptm("hiddenInputWrapper"),{"data-p-hidden-accessible":!0}),[K("input",le({ref:"focusInput",id:t.inputId,type:"text",readonly:"",disabled:t.disabled,placeholder:t.placeholder,tabindex:t.disabled?-1:t.tabindex,role:"combobox","aria-label":t.ariaLabel,"aria-labelledby":t.ariaLabelledby,"aria-haspopup":"listbox","aria-expanded":i.overlayVisible,"aria-controls":i.id+"_list","aria-activedescendant":i.focused?s.focusedOptionId:void 0,"aria-invalid":t.invalid||void 0,onFocus:e[0]||(e[0]=function(){return s.onFocus&&s.onFocus.apply(s,arguments)}),onBlur:e[1]||(e[1]=function(){return s.onBlur&&s.onBlur.apply(s,arguments)}),onKeydown:e[2]||(e[2]=function(){return s.onKeyDown&&s.onKeyDown.apply(s,arguments)})},So(So({},t.inputProps),t.ptm("hiddenInput"))),null,16,Zde)],16),K("div",le({class:t.cx("labelContainer")},t.ptm("labelContainer")),[K("div",le({class:t.cx("label")},t.ptm("label")),[ge(t.$slots,"value",{value:t.modelValue,placeholder:t.placeholder},function(){return[t.display==="comma"?(S(),V(Te,{key:0},[Je($e(s.label||"empty"),1)],64)):t.display==="chip"?(S(),V(Te,{key:1},[(S(!0),V(Te,null,st(s.chipSelectedItems,function(f){return S(),V("div",le({key:s.getLabelByValue(f),class:t.cx("token")},t.ptm("token")),[ge(t.$slots,"chip",{value:f},function(){return[K("span",le({class:t.cx("tokenLabel")},t.ptm("tokenLabel")),$e(s.getLabelByValue(f)),17)]}),t.disabled?Y("",!0):ge(t.$slots,"removetokenicon",{key:0,class:ke(t.cx("removeTokenIcon")),item:f,onClick:function(p){return s.removeOption(p,f)},removeCallback:function(p){return s.removeOption(p,f)}},function(){return[t.removeTokenIcon?(S(),V("span",le({key:0,class:[t.cx("removeTokenIcon"),t.removeTokenIcon],onClick:St(function(h){return s.removeOption(h,f)},["stop"])},t.ptm("removeTokenIcon")),null,16,efe)):(S(),ie(o,le({key:1,class:t.cx("removeTokenIcon"),onClick:St(function(h){return s.removeOption(h,f)},["stop"])},t.ptm("removeTokenIcon")),null,16,["class","onClick"]))]})],16)}),128)),!t.modelValue||t.modelValue.length===0?(S(),V(Te,{key:0},[Je($e(t.placeholder||"empty"),1)],64)):Y("",!0)],64)):Y("",!0)]})],16)],16),K("div",le({class:t.cx("trigger")},t.ptm("trigger")),[t.loading?ge(t.$slots,"loadingicon",{key:0,class:ke(t.cx("loadingIcon"))},function(){return[t.loadingIcon?(S(),V("span",le({key:0,class:[t.cx("loadingIcon"),"pi-spin",t.loadingIcon],"aria-hidden":"true"},t.ptm("loadingIcon")),null,16)):(S(),ie(a,le({key:1,class:t.cx("loadingIcon"),spin:"","aria-hidden":"true"},t.ptm("loadingIcon")),null,16,["class"]))]}):ge(t.$slots,"dropdownicon",{key:1,class:ke(t.cx("dropdownIcon"))},function(){return[(S(),ie(gn(t.dropdownIcon?"span":"ChevronDownIcon"),le({class:[t.cx("dropdownIcon"),t.dropdownIcon],"aria-hidden":"true"},t.ptm("dropdownIcon")),null,16,["class"]))]})],16),J(c,{appendTo:t.appendTo},{default:ce(function(){return[J(Hi,le({name:"p-connected-overlay",onEnter:s.onOverlayEnter,onAfterEnter:s.onOverlayAfterEnter,onLeave:s.onOverlayLeave,onAfterLeave:s.onOverlayAfterLeave},t.ptm("transition")),{default:ce(function(){return[i.overlayVisible?(S(),V("div",le({key:0,ref:s.overlayRef,style:t.panelStyle,class:[t.cx("panel"),t.panelClass],onClick:e[11]||(e[11]=function(){return s.onOverlayClick&&s.onOverlayClick.apply(s,arguments)}),onKeydown:e[12]||(e[12]=function(){return s.onOverlayKeyDown&&s.onOverlayKeyDown.apply(s,arguments)})},So(So({},t.panelProps),t.ptm("panel"))),[K("span",le({ref:"firstHiddenFocusableElementOnOverlay",role:"presentation","aria-hidden":"true",class:"p-hidden-accessible p-hidden-focusable",tabindex:0,onFocus:e[3]||(e[3]=function(){return s.onFirstHiddenFocus&&s.onFirstHiddenFocus.apply(s,arguments)})},t.ptm("hiddenFirstFocusableEl"),{"data-p-hidden-accessible":!0,"data-p-hidden-focusable":!0}),null,16),ge(t.$slots,"header",{value:t.modelValue,options:s.visibleOptions}),t.showToggleAll&&t.selectionLimit==null||t.filter?(S(),V("div",le({key:0,class:t.cx("header")},t.ptm("header")),[t.showToggleAll&&t.selectionLimit==null?(S(),ie(l,{key:0,modelValue:s.allSelected,binary:!0,disabled:t.disabled,variant:t.variant,"aria-label":s.toggleAllAriaLabel,onChange:s.onToggleAll,unstyled:t.unstyled,pt:s.getHeaderCheckboxPTOptions("headerCheckbox")},{icon:ce(function(f){return[t.$slots.headercheckboxicon?(S(),ie(gn(t.$slots.headercheckboxicon),{key:0,checked:f.checked,class:ke(f.class)},null,8,["checked","class"])):f.checked?(S(),ie(gn(t.checkboxIcon?"span":"CheckIcon"),le({key:1,class:[f.class,Lw({},t.checkboxIcon,f.checked)]},s.getHeaderCheckboxPTOptions("headerCheckbox.icon")),null,16,["class"])):Y("",!0)]}),_:1},8,["modelValue","disabled","variant","aria-label","onChange","unstyled","pt"])):Y("",!0),t.filter?(S(),V("div",le({key:1,class:t.cx("filterContainer")},t.ptm("filterContainer")),[K("input",le({ref:"filterInput",type:"text",value:i.filterValue,onVnodeMounted:e[4]||(e[4]=function(){return s.onFilterUpdated&&s.onFilterUpdated.apply(s,arguments)}),onVnodeUpdated:e[5]||(e[5]=function(){return s.onFilterUpdated&&s.onFilterUpdated.apply(s,arguments)}),class:t.cx("filterInput"),placeholder:t.filterPlaceholder,role:"searchbox",autocomplete:"off","aria-owns":i.id+"_list","aria-activedescendant":s.focusedOptionId,onKeydown:e[6]||(e[6]=function(){return s.onFilterKeyDown&&s.onFilterKeyDown.apply(s,arguments)}),onBlur:e[7]||(e[7]=function(){return s.onFilterBlur&&s.onFilterBlur.apply(s,arguments)}),onInput:e[8]||(e[8]=function(){return s.onFilterChange&&s.onFilterChange.apply(s,arguments)})},So(So({},t.filterInputProps),t.ptm("filterInput"))),null,16,tfe),ge(t.$slots,"filtericon",{class:ke(t.cx("filterIcon"))},function(){return[(S(),ie(gn(t.filterIcon?"span":"SearchIcon"),le({class:[t.cx("filterIcon"),t.filterIcon]},t.ptm("filterIcon")),null,16,["class"]))]})],16)):Y("",!0),t.filter?(S(),V("span",le({key:2,role:"status","aria-live":"polite",class:"p-hidden-accessible"},t.ptm("hiddenFilterResult"),{"data-p-hidden-accessible":!0}),$e(s.filterResultMessageText),17)):Y("",!0),ns((S(),V("button",le({class:t.cx("closeButton"),"aria-label":s.closeAriaLabel,onClick:e[9]||(e[9]=function(){return s.onCloseClick&&s.onCloseClick.apply(s,arguments)}),type:"button"},So(So({},t.closeButtonProps),t.ptm("closeButton"))),[ge(t.$slots,"closeicon",{class:ke(t.cx("closeIcon"))},function(){return[(S(),ie(gn(t.closeIcon?"span":"TimesIcon"),le({class:[t.cx("closeIcon"),t.closeIcon]},t.ptm("closeIcon")),null,16,["class"]))]})],16,nfe)),[[d]])],16)):Y("",!0),K("div",le({class:t.cx("wrapper"),style:{"max-height":s.virtualScrollerDisabled?t.scrollHeight:""}},t.ptm("wrapper")),[J(u,le({ref:s.virtualScrollerRef},t.virtualScrollerOptions,{items:s.visibleOptions,style:{height:t.scrollHeight},tabindex:-1,disabled:s.virtualScrollerDisabled,pt:t.ptm("virtualScroller")}),Jn({content:ce(function(f){var h=f.styleClass,p=f.contentRef,m=f.items,g=f.getItemOptions,y=f.contentStyle,v=f.itemSize;return[K("ul",le({ref:function(b){return s.listRef(b,p)},id:i.id+"_list",class:[t.cx("list"),h],style:y,role:"listbox","aria-multiselectable":"true"},t.ptm("list")),[(S(!0),V(Te,null,st(m,function(_,b){return S(),V(Te,{key:s.getOptionRenderKey(_,s.getOptionIndex(b,g))},[s.isOptionGroup(_)?(S(),V("li",le({key:0,id:i.id+"_"+s.getOptionIndex(b,g),style:{height:v?v+"px":void 0},class:t.cx("itemGroup"),role:"option"},t.ptm("itemGroup")),[ge(t.$slots,"optiongroup",{option:_.optionGroup,index:s.getOptionIndex(b,g)},function(){return[Je($e(s.getOptionGroupLabel(_.optionGroup)),1)]})],16,ife)):ns((S(),V("li",le({key:1,id:i.id+"_"+s.getOptionIndex(b,g),style:{height:v?v+"px":void 0},class:t.cx("item",{option:_,index:b,getItemOptions:g}),role:"option","aria-label":s.getOptionLabel(_),"aria-selected":s.isSelected(_),"aria-disabled":s.isOptionDisabled(_),"aria-setsize":s.ariaSetSize,"aria-posinset":s.getAriaPosInset(s.getOptionIndex(b,g)),onClick:function(T){return s.onOptionSelect(T,_,s.getOptionIndex(b,g),!0)},onMousemove:function(T){return s.onOptionMouseMove(T,s.getOptionIndex(b,g))}},s.getCheckboxPTOptions(_,g,b,"item"),{"data-p-highlight":s.isSelected(_),"data-p-focused":i.focusedOptionIndex===s.getOptionIndex(b,g),"data-p-disabled":s.isOptionDisabled(_)}),[J(l,{modelValue:s.isSelected(_),binary:!0,tabindex:-1,variant:t.variant,unstyled:t.unstyled,pt:s.getCheckboxPTOptions(_,g,b,"itemCheckbox")},{icon:ce(function(w){return[t.$slots.itemcheckboxicon?(S(),ie(gn(t.$slots.itemcheckboxicon),{key:0,checked:w.checked,class:ke(w.class)},null,8,["checked","class"])):w.checked?(S(),ie(gn(t.checkboxIcon?"span":"CheckIcon"),le({key:1,class:[w.class,Lw({},t.checkboxIcon,w.checked)]},s.getCheckboxPTOptions(_,g,b,"itemCheckbox.icon")),null,16,["class"])):Y("",!0)]}),_:2},1032,["modelValue","variant","unstyled","pt"]),ge(t.$slots,"option",{option:_,index:s.getOptionIndex(b,g)},function(){return[K("span",Pn(rr(t.ptm("option"))),$e(s.getOptionLabel(_)),17)]})],16,sfe)),[[d]])],64)}),128)),i.filterValue&&(!m||m&&m.length===0)?(S(),V("li",le({key:0,class:t.cx("emptyMessage"),role:"option"},t.ptm("emptyMessage")),[ge(t.$slots,"emptyfilter",{},function(){return[Je($e(s.emptyFilterMessageText),1)]})],16)):!t.options||t.options&&t.options.length===0?(S(),V("li",le({key:1,class:t.cx("emptyMessage"),role:"option"},t.ptm("emptyMessage")),[ge(t.$slots,"empty",{},function(){return[Je($e(s.emptyMessageText),1)]})],16)):Y("",!0)],16,rfe)]}),_:2},[t.$slots.loader?{name:"loader",fn:ce(function(f){var h=f.options;return[ge(t.$slots,"loader",{options:h})]}),key:"0"}:void 0]),1040,["items","style","disabled","pt"])],16),ge(t.$slots,"footer",{value:t.modelValue,options:s.visibleOptions}),!t.options||t.options&&t.options.length===0?(S(),V("span",le({key:1,role:"status","aria-live":"polite",class:"p-hidden-accessible"},t.ptm("hiddenEmptyMessage"),{"data-p-hidden-accessible":!0}),$e(s.emptyMessageText),17)):Y("",!0),K("span",le({role:"status","aria-live":"polite",class:"p-hidden-accessible"},t.ptm("hiddenSelectedMessage"),{"data-p-hidden-accessible":!0}),$e(s.selectedMessageText),17),K("span",le({ref:"lastHiddenFocusableElementOnOverlay",role:"presentation","aria-hidden":"true",class:"p-hidden-accessible p-hidden-focusable",tabindex:0,onFocus:e[10]||(e[10]=function(){return s.onLastHiddenFocus&&s.onLastHiddenFocus.apply(s,arguments)})},t.ptm("hiddenLastFocusableEl"),{"data-p-hidden-accessible":!0,"data-p-hidden-focusable":!0}),null,16)],16)):Y("",!0)]}),_:3},16,["onEnter","onAfterEnter","onLeave","onAfterLeave"])]}),_:3},8,["appendTo"])],16)}Y$.render=ofe;const Wi=RP(wU);Wi.use(RT);Wi.use(sX,{firebaseApp:Jx,modules:[tX()]});Wi.use(iD);Wi.use(u6);Wi.use(one);Wi.use(Pce);Wi.component("VueDatePicker",eS);Wi.component("PrimeInputText",U$);Wi.component("PrimeTextArea",V$);Wi.component("PrimeDropdown",K$);Wi.component("PrimeMultiSelect",Y$);Wi.mount("#app");
