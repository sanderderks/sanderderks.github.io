var LN=Object.defineProperty;var VN=(t,e,n)=>e in t?LN(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var os=(t,e,n)=>(VN(t,typeof e!="symbol"?e+"":e,n),n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();/**
* @vue/shared v3.5.12
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function mp(t){const e=Object.create(null);for(const n of t.split(","))e[n]=1;return n=>n in e}const mt={},pl=[],Ti=()=>{},FN=()=>!1,Td=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),$y=t=>t.startsWith("onUpdate:"),Yt=Object.assign,Uy=(t,e)=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},$N=Object.prototype.hasOwnProperty,Dt=(t,e)=>$N.call(t,e),Fe=Array.isArray,ml=t=>ru(t)==="[object Map]",Ia=t=>ru(t)==="[object Set]",yw=t=>ru(t)==="[object Date]",UN=t=>ru(t)==="[object RegExp]",Ze=t=>typeof t=="function",Zt=t=>typeof t=="string",Oi=t=>typeof t=="symbol",Wt=t=>t!==null&&typeof t=="object",By=t=>(Wt(t)||Ze(t))&&Ze(t.then)&&Ze(t.catch),BS=Object.prototype.toString,ru=t=>BS.call(t),BN=t=>ru(t).slice(8,-1),gp=t=>ru(t)==="[object Object]",jy=t=>Zt(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,gl=mp(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),vp=t=>{const e=Object.create(null);return n=>e[n]||(e[n]=t(n))},jN=/-(\w)/g,gr=vp(t=>t.replace(jN,(e,n)=>n?n.toUpperCase():"")),HN=/\B([A-Z])/g,xr=vp(t=>t.replace(HN,"-$1").toLowerCase()),yp=vp(t=>t.charAt(0).toUpperCase()+t.slice(1)),jh=vp(t=>t?`on${yp(t)}`:""),Sr=(t,e)=>!Object.is(t,e),vl=(t,...e)=>{for(let n=0;n<t.length;n++)t[n](...e)},jS=(t,e,n,r=!1)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,writable:r,value:n})},lf=t=>{const e=parseFloat(t);return isNaN(e)?t:e},uf=t=>{const e=Zt(t)?Number(t):NaN;return isNaN(e)?t:e};let _w;const _p=()=>_w||(_w=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{}),WN="Infinity,undefined,NaN,isFinite,isNaN,parseFloat,parseInt,decodeURI,decodeURIComponent,encodeURI,encodeURIComponent,Math,Number,Date,Array,Object,Boolean,String,RegExp,Map,Set,JSON,Intl,BigInt,console,Error,Symbol",qN=mp(WN);function Or(t){if(Fe(t)){const e={};for(let n=0;n<t.length;n++){const r=t[n],i=Zt(r)?GN(r):Or(r);if(i)for(const s in i)e[s]=i[s]}return e}else if(Zt(t)||Wt(t))return t}const zN=/;(?![^(]*\))/g,KN=/:([^]+)/,YN=/\/\*[^]*?\*\//g;function GN(t){const e={};return t.replace(YN,"").split(zN).forEach(n=>{if(n){const r=n.split(KN);r.length>1&&(e[r[0].trim()]=r[1].trim())}}),e}function tt(t){let e="";if(Zt(t))e=t;else if(Fe(t))for(let n=0;n<t.length;n++){const r=tt(t[n]);r&&(e+=r+" ")}else if(Wt(t))for(const n in t)t[n]&&(e+=n+" ");return e.trim()}function Tn(t){if(!t)return null;let{class:e,style:n}=t;return e&&!Zt(e)&&(t.class=tt(e)),n&&(t.style=Or(n)),t}const QN="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",XN=mp(QN);function HS(t){return!!t||t===""}function JN(t,e){if(t.length!==e.length)return!1;let n=!0;for(let r=0;n&&r<t.length;r++)n=mo(t[r],e[r]);return n}function mo(t,e){if(t===e)return!0;let n=yw(t),r=yw(e);if(n||r)return n&&r?t.getTime()===e.getTime():!1;if(n=Oi(t),r=Oi(e),n||r)return t===e;if(n=Fe(t),r=Fe(e),n||r)return n&&r?JN(t,e):!1;if(n=Wt(t),r=Wt(e),n||r){if(!n||!r)return!1;const i=Object.keys(t).length,s=Object.keys(e).length;if(i!==s)return!1;for(const o in t){const a=t.hasOwnProperty(o),l=e.hasOwnProperty(o);if(a&&!l||!a&&l||!mo(t[o],e[o]))return!1}}return String(t)===String(e)}function bp(t,e){return t.findIndex(n=>mo(n,e))}const WS=t=>!!(t&&t.__v_isRef===!0),dt=t=>Zt(t)?t:t==null?"":Fe(t)||Wt(t)&&(t.toString===BS||!Ze(t.toString))?WS(t)?dt(t.value):JSON.stringify(t,qS,2):String(t),qS=(t,e)=>WS(e)?qS(t,e.value):ml(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((n,[r,i],s)=>(n[Um(r,s)+" =>"]=i,n),{})}:Ia(e)?{[`Set(${e.size})`]:[...e.values()].map(n=>Um(n))}:Oi(e)?Um(e):Wt(e)&&!Fe(e)&&!gp(e)?String(e):e,Um=(t,e="")=>{var n;return Oi(t)?`Symbol(${(n=t.description)!=null?n:e})`:t};/**
* @vue/reactivity v3.5.12
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Ir;class zS{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=Ir,!e&&Ir&&(this.index=(Ir.scopes||(Ir.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let e,n;if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].pause();for(e=0,n=this.effects.length;e<n;e++)this.effects[e].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let e,n;if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].resume();for(e=0,n=this.effects.length;e<n;e++)this.effects[e].resume()}}run(e){if(this._active){const n=Ir;try{return Ir=this,e()}finally{Ir=n}}}on(){Ir=this}off(){Ir=this.parent}stop(e){if(this._active){let n,r;for(n=0,r=this.effects.length;n<r;n++)this.effects[n].stop();for(n=0,r=this.cleanups.length;n<r;n++)this.cleanups[n]();if(this.scopes)for(n=0,r=this.scopes.length;n<r;n++)this.scopes[n].stop(!0);if(!this.detached&&this.parent&&!e){const i=this.parent.scopes.pop();i&&i!==this&&(this.parent.scopes[this.index]=i,i.index=this.index)}this.parent=void 0,this._active=!1}}}function Hy(t){return new zS(t)}function Wy(){return Ir}function KS(t,e=!1){Ir&&Ir.cleanups.push(t)}let Qt;const Bm=new WeakSet;class cf{constructor(e){this.fn=e,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,Ir&&Ir.active&&Ir.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,Bm.has(this)&&(Bm.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||GS(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,bw(this),QS(this);const e=Qt,n=Ei;Qt=this,Ei=!0;try{return this.fn()}finally{XS(this),Qt=e,Ei=n,this.flags&=-3}}stop(){if(this.flags&1){for(let e=this.deps;e;e=e.nextDep)Ky(e);this.deps=this.depsTail=void 0,bw(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?Bm.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){Zg(this)&&this.run()}get dirty(){return Zg(this)}}let YS=0,tc,nc;function GS(t,e=!1){if(t.flags|=8,e){t.next=nc,nc=t;return}t.next=tc,tc=t}function qy(){YS++}function zy(){if(--YS>0)return;if(nc){let e=nc;for(nc=void 0;e;){const n=e.next;e.next=void 0,e.flags&=-9,e=n}}let t;for(;tc;){let e=tc;for(tc=void 0;e;){const n=e.next;if(e.next=void 0,e.flags&=-9,e.flags&1)try{e.trigger()}catch(r){t||(t=r)}e=n}}if(t)throw t}function QS(t){for(let e=t.deps;e;e=e.nextDep)e.version=-1,e.prevActiveLink=e.dep.activeLink,e.dep.activeLink=e}function XS(t){let e,n=t.depsTail,r=n;for(;r;){const i=r.prevDep;r.version===-1?(r===n&&(n=i),Ky(r),ZN(r)):e=r,r.dep.activeLink=r.prevActiveLink,r.prevActiveLink=void 0,r=i}t.deps=e,t.depsTail=n}function Zg(t){for(let e=t.deps;e;e=e.nextDep)if(e.dep.version!==e.version||e.dep.computed&&(JS(e.dep.computed)||e.dep.version!==e.version))return!0;return!!t._dirty}function JS(t){if(t.flags&4&&!(t.flags&16)||(t.flags&=-17,t.globalVersion===Oc))return;t.globalVersion=Oc;const e=t.dep;if(t.flags|=2,e.version>0&&!t.isSSR&&t.deps&&!Zg(t)){t.flags&=-3;return}const n=Qt,r=Ei;Qt=t,Ei=!0;try{QS(t);const i=t.fn(t._value);(e.version===0||Sr(i,t._value))&&(t._value=i,e.version++)}catch(i){throw e.version++,i}finally{Qt=n,Ei=r,XS(t),t.flags&=-3}}function Ky(t,e=!1){const{dep:n,prevSub:r,nextSub:i}=t;if(r&&(r.nextSub=i,t.prevSub=void 0),i&&(i.prevSub=r,t.nextSub=void 0),n.subs===t&&(n.subs=r,!r&&n.computed)){n.computed.flags&=-5;for(let s=n.computed.deps;s;s=s.nextDep)Ky(s,!0)}!e&&!--n.sc&&n.map&&n.map.delete(n.key)}function ZN(t){const{prevDep:e,nextDep:n}=t;e&&(e.nextDep=n,t.prevDep=void 0),n&&(n.prevDep=e,t.nextDep=void 0)}function ene(t,e){t.effect instanceof cf&&(t=t.effect.fn);const n=new cf(t);e&&Yt(n,e);try{n.run()}catch(i){throw n.stop(),i}const r=n.run.bind(n);return r.effect=n,r}function tne(t){t.effect.stop()}let Ei=!0;const ZS=[];function Io(){ZS.push(Ei),Ei=!1}function So(){const t=ZS.pop();Ei=t===void 0?!0:t}function bw(t){const{cleanup:e}=t;if(t.cleanup=void 0,e){const n=Qt;Qt=void 0;try{e()}finally{Qt=n}}}let Oc=0;class eM{constructor(e,n){this.sub=e,this.dep=n,this.version=n.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class wp{constructor(e){this.computed=e,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0}track(e){if(!Qt||!Ei||Qt===this.computed)return;let n=this.activeLink;if(n===void 0||n.sub!==Qt)n=this.activeLink=new eM(Qt,this),Qt.deps?(n.prevDep=Qt.depsTail,Qt.depsTail.nextDep=n,Qt.depsTail=n):Qt.deps=Qt.depsTail=n,eC(n);else if(n.version===-1&&(n.version=this.version,n.nextDep)){const r=n.nextDep;r.prevDep=n.prevDep,n.prevDep&&(n.prevDep.nextDep=r),n.prevDep=Qt.depsTail,n.nextDep=void 0,Qt.depsTail.nextDep=n,Qt.depsTail=n,Qt.deps===n&&(Qt.deps=r)}return n}trigger(e){this.version++,Oc++,this.notify(e)}notify(e){qy();try{for(let n=this.subs;n;n=n.prevSub)n.sub.notify()&&n.sub.dep.notify()}finally{zy()}}}function eC(t){if(t.dep.sc++,t.sub.flags&4){const e=t.dep.computed;if(e&&!t.dep.subs){e.flags|=20;for(let r=e.deps;r;r=r.nextDep)eC(r)}const n=t.dep.subs;n!==t&&(t.prevSub=n,n&&(n.nextSub=t)),t.dep.subs=t}}const df=new WeakMap,Go=Symbol(""),ev=Symbol(""),Pc=Symbol("");function lr(t,e,n){if(Ei&&Qt){let r=df.get(t);r||df.set(t,r=new Map);let i=r.get(n);i||(r.set(n,i=new wp),i.map=r,i.key=n),i.track()}}function fs(t,e,n,r,i,s){const o=df.get(t);if(!o){Oc++;return}const a=l=>{l&&l.trigger()};if(qy(),e==="clear")o.forEach(a);else{const l=Fe(t),u=l&&jy(n);if(l&&n==="length"){const c=Number(r);o.forEach((h,f)=>{(f==="length"||f===Pc||!Oi(f)&&f>=c)&&a(h)})}else switch((n!==void 0||o.has(void 0))&&a(o.get(n)),u&&a(o.get(Pc)),e){case"add":l?u&&a(o.get("length")):(a(o.get(Go)),ml(t)&&a(o.get(ev)));break;case"delete":l||(a(o.get(Go)),ml(t)&&a(o.get(ev)));break;case"set":ml(t)&&a(o.get(Go));break}}zy()}function tM(t,e){const n=df.get(t);return n&&n.get(e)}function Ba(t){const e=pt(t);return e===t?e:(lr(e,"iterate",Pc),si(t)?e:e.map(ur))}function Tp(t){return lr(t=pt(t),"iterate",Pc),t}const nM={__proto__:null,[Symbol.iterator](){return jm(this,Symbol.iterator,ur)},concat(...t){return Ba(this).concat(...t.map(e=>Fe(e)?Ba(e):e))},entries(){return jm(this,"entries",t=>(t[1]=ur(t[1]),t))},every(t,e){return as(this,"every",t,e,void 0,arguments)},filter(t,e){return as(this,"filter",t,e,n=>n.map(ur),arguments)},find(t,e){return as(this,"find",t,e,ur,arguments)},findIndex(t,e){return as(this,"findIndex",t,e,void 0,arguments)},findLast(t,e){return as(this,"findLast",t,e,ur,arguments)},findLastIndex(t,e){return as(this,"findLastIndex",t,e,void 0,arguments)},forEach(t,e){return as(this,"forEach",t,e,void 0,arguments)},includes(...t){return Hm(this,"includes",t)},indexOf(...t){return Hm(this,"indexOf",t)},join(t){return Ba(this).join(t)},lastIndexOf(...t){return Hm(this,"lastIndexOf",t)},map(t,e){return as(this,"map",t,e,void 0,arguments)},pop(){return Pu(this,"pop")},push(...t){return Pu(this,"push",t)},reduce(t,...e){return ww(this,"reduce",t,e)},reduceRight(t,...e){return ww(this,"reduceRight",t,e)},shift(){return Pu(this,"shift")},some(t,e){return as(this,"some",t,e,void 0,arguments)},splice(...t){return Pu(this,"splice",t)},toReversed(){return Ba(this).toReversed()},toSorted(t){return Ba(this).toSorted(t)},toSpliced(...t){return Ba(this).toSpliced(...t)},unshift(...t){return Pu(this,"unshift",t)},values(){return jm(this,"values",ur)}};function jm(t,e,n){const r=Tp(t),i=r[e]();return r!==t&&!si(t)&&(i._next=i.next,i.next=()=>{const s=i._next();return s.value&&(s.value=n(s.value)),s}),i}const rM=Array.prototype;function as(t,e,n,r,i,s){const o=Tp(t),a=o!==t&&!si(t),l=o[e];if(l!==rM[e]){const h=l.apply(t,s);return a?ur(h):h}let u=n;o!==t&&(a?u=function(h,f){return n.call(this,ur(h),f,t)}:n.length>2&&(u=function(h,f){return n.call(this,h,f,t)}));const c=l.call(o,u,r);return a&&i?i(c):c}function ww(t,e,n,r){const i=Tp(t);let s=n;return i!==t&&(si(t)?n.length>3&&(s=function(o,a,l){return n.call(this,o,a,l,t)}):s=function(o,a,l){return n.call(this,o,ur(a),l,t)}),i[e](s,...r)}function Hm(t,e,n){const r=pt(t);lr(r,"iterate",Pc);const i=r[e](...n);return(i===-1||i===!1)&&Gy(n[0])?(n[0]=pt(n[0]),r[e](...n)):i}function Pu(t,e,n=[]){Io(),qy();const r=pt(t)[e].apply(t,n);return zy(),So(),r}const iM=mp("__proto__,__v_isRef,__isVue"),tC=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(Oi));function sM(t){Oi(t)||(t=String(t));const e=pt(this);return lr(e,"has",t),e.hasOwnProperty(t)}class nC{constructor(e=!1,n=!1){this._isReadonly=e,this._isShallow=n}get(e,n,r){const i=this._isReadonly,s=this._isShallow;if(n==="__v_isReactive")return!i;if(n==="__v_isReadonly")return i;if(n==="__v_isShallow")return s;if(n==="__v_raw")return r===(i?s?lC:aC:s?oC:sC).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(r)?e:void 0;const o=Fe(e);if(!i){let l;if(o&&(l=nM[n]))return l;if(n==="hasOwnProperty")return sM}const a=Reflect.get(e,n,ln(e)?e:r);return(Oi(n)?tC.has(n):iM(n))||(i||lr(e,"get",n),s)?a:ln(a)?o&&jy(n)?a:a.value:Wt(a)?i?Yy(a):di(a):a}}class rC extends nC{constructor(e=!1){super(!1,e)}set(e,n,r,i){let s=e[n];if(!this._isShallow){const l=sa(s);if(!si(r)&&!sa(r)&&(s=pt(s),r=pt(r)),!Fe(e)&&ln(s)&&!ln(r))return l?!1:(s.value=r,!0)}const o=Fe(e)&&jy(n)?Number(n)<e.length:Dt(e,n),a=Reflect.set(e,n,r,ln(e)?e:i);return e===pt(i)&&(o?Sr(r,s)&&fs(e,"set",n,r):fs(e,"add",n,r)),a}deleteProperty(e,n){const r=Dt(e,n);e[n];const i=Reflect.deleteProperty(e,n);return i&&r&&fs(e,"delete",n,void 0),i}has(e,n){const r=Reflect.has(e,n);return(!Oi(n)||!tC.has(n))&&lr(e,"has",n),r}ownKeys(e){return lr(e,"iterate",Fe(e)?"length":Go),Reflect.ownKeys(e)}}class iC extends nC{constructor(e=!1){super(!0,e)}set(e,n){return!0}deleteProperty(e,n){return!0}}const oM=new rC,aM=new iC,lM=new rC(!0),uM=new iC(!0),tv=t=>t,uh=t=>Reflect.getPrototypeOf(t);function cM(t,e,n){return function(...r){const i=this.__v_raw,s=pt(i),o=ml(s),a=t==="entries"||t===Symbol.iterator&&o,l=t==="keys"&&o,u=i[t](...r),c=n?tv:e?nv:ur;return!e&&lr(s,"iterate",l?ev:Go),{next(){const{value:h,done:f}=u.next();return f?{value:h,done:f}:{value:a?[c(h[0]),c(h[1])]:c(h),done:f}},[Symbol.iterator](){return this}}}}function ch(t){return function(...e){return t==="delete"?!1:t==="clear"?void 0:this}}function dM(t,e){const n={get(i){const s=this.__v_raw,o=pt(s),a=pt(i);t||(Sr(i,a)&&lr(o,"get",i),lr(o,"get",a));const{has:l}=uh(o),u=e?tv:t?nv:ur;if(l.call(o,i))return u(s.get(i));if(l.call(o,a))return u(s.get(a));s!==o&&s.get(i)},get size(){const i=this.__v_raw;return!t&&lr(pt(i),"iterate",Go),Reflect.get(i,"size",i)},has(i){const s=this.__v_raw,o=pt(s),a=pt(i);return t||(Sr(i,a)&&lr(o,"has",i),lr(o,"has",a)),i===a?s.has(i):s.has(i)||s.has(a)},forEach(i,s){const o=this,a=o.__v_raw,l=pt(a),u=e?tv:t?nv:ur;return!t&&lr(l,"iterate",Go),a.forEach((c,h)=>i.call(s,u(c),u(h),o))}};return Yt(n,t?{add:ch("add"),set:ch("set"),delete:ch("delete"),clear:ch("clear")}:{add(i){!e&&!si(i)&&!sa(i)&&(i=pt(i));const s=pt(this);return uh(s).has.call(s,i)||(s.add(i),fs(s,"add",i,i)),this},set(i,s){!e&&!si(s)&&!sa(s)&&(s=pt(s));const o=pt(this),{has:a,get:l}=uh(o);let u=a.call(o,i);u||(i=pt(i),u=a.call(o,i));const c=l.call(o,i);return o.set(i,s),u?Sr(s,c)&&fs(o,"set",i,s):fs(o,"add",i,s),this},delete(i){const s=pt(this),{has:o,get:a}=uh(s);let l=o.call(s,i);l||(i=pt(i),l=o.call(s,i)),a&&a.call(s,i);const u=s.delete(i);return l&&fs(s,"delete",i,void 0),u},clear(){const i=pt(this),s=i.size!==0,o=i.clear();return s&&fs(i,"clear",void 0,void 0),o}}),["keys","values","entries",Symbol.iterator].forEach(i=>{n[i]=cM(i,t,e)}),n}function Ep(t,e){const n=dM(t,e);return(r,i,s)=>i==="__v_isReactive"?!t:i==="__v_isReadonly"?t:i==="__v_raw"?r:Reflect.get(Dt(n,i)&&i in r?n:r,i,s)}const hM={get:Ep(!1,!1)},fM={get:Ep(!1,!0)},pM={get:Ep(!0,!1)},mM={get:Ep(!0,!0)},sC=new WeakMap,oC=new WeakMap,aC=new WeakMap,lC=new WeakMap;function gM(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function vM(t){return t.__v_skip||!Object.isExtensible(t)?0:gM(BN(t))}function di(t){return sa(t)?t:Ip(t,!1,oM,hM,sC)}function uC(t){return Ip(t,!1,lM,fM,oC)}function Yy(t){return Ip(t,!0,aM,pM,aC)}function nne(t){return Ip(t,!0,uM,mM,lC)}function Ip(t,e,n,r,i){if(!Wt(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const s=i.get(t);if(s)return s;const o=vM(t);if(o===0)return t;const a=new Proxy(t,o===2?r:n);return i.set(t,a),a}function zi(t){return sa(t)?zi(t.__v_raw):!!(t&&t.__v_isReactive)}function sa(t){return!!(t&&t.__v_isReadonly)}function si(t){return!!(t&&t.__v_isShallow)}function Gy(t){return t?!!t.__v_raw:!1}function pt(t){const e=t&&t.__v_raw;return e?pt(e):t}function Qy(t){return!Dt(t,"__v_skip")&&Object.isExtensible(t)&&jS(t,"__v_skip",!0),t}const ur=t=>Wt(t)?di(t):t,nv=t=>Wt(t)?Yy(t):t;function ln(t){return t?t.__v_isRef===!0:!1}function Te(t){return dC(t,!1)}function cC(t){return dC(t,!0)}function dC(t,e){return ln(t)?t:new yM(t,e)}class yM{constructor(e,n){this.dep=new wp,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=n?e:pt(e),this._value=n?e:ur(e),this.__v_isShallow=n}get value(){return this.dep.track(),this._value}set value(e){const n=this._rawValue,r=this.__v_isShallow||si(e)||sa(e);e=r?e:pt(e),Sr(e,n)&&(this._rawValue=e,this._value=r?e:ur(e),this.dep.trigger())}}function rne(t){t.dep&&t.dep.trigger()}function q(t){return ln(t)?t.value:t}function ine(t){return Ze(t)?t():q(t)}const _M={get:(t,e,n)=>e==="__v_raw"?t:q(Reflect.get(t,e,n)),set:(t,e,n,r)=>{const i=t[e];return ln(i)&&!ln(n)?(i.value=n,!0):Reflect.set(t,e,n,r)}};function hC(t){return zi(t)?t:new Proxy(t,_M)}class bM{constructor(e){this.__v_isRef=!0,this._value=void 0;const n=this.dep=new wp,{get:r,set:i}=e(n.track.bind(n),n.trigger.bind(n));this._get=r,this._set=i}get value(){return this._value=this._get()}set value(e){this._set(e)}}function wM(t){return new bM(t)}function TM(t){const e=Fe(t)?new Array(t.length):{};for(const n in t)e[n]=fC(t,n);return e}class EM{constructor(e,n,r){this._object=e,this._key=n,this._defaultValue=r,this.__v_isRef=!0,this._value=void 0}get value(){const e=this._object[this._key];return this._value=e===void 0?this._defaultValue:e}set value(e){this._object[this._key]=e}get dep(){return tM(pt(this._object),this._key)}}class IM{constructor(e){this._getter=e,this.__v_isRef=!0,this.__v_isReadonly=!0,this._value=void 0}get value(){return this._value=this._getter()}}function kc(t,e,n){return ln(t)?t:Ze(t)?new IM(t):Wt(t)&&arguments.length>1?fC(t,e,n):Te(t)}function fC(t,e,n){const r=t[e];return ln(r)?r:new EM(t,e,n)}class SM{constructor(e,n,r){this.fn=e,this.setter=n,this._value=void 0,this.dep=new wp(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=Oc-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!n,this.isSSR=r}notify(){if(this.flags|=16,!(this.flags&8)&&Qt!==this)return GS(this,!0),!0}get value(){const e=this.dep.track();return JS(this),e&&(e.version=this.dep.version),this._value}set value(e){this.setter&&this.setter(e)}}function CM(t,e,n=!1){let r,i;return Ze(t)?r=t:(r=t.get,i=t.set),new SM(r,i,n)}const sne={GET:"get",HAS:"has",ITERATE:"iterate"},one={SET:"set",ADD:"add",DELETE:"delete",CLEAR:"clear"},dh={},hf=new WeakMap;let Ks;function ane(){return Ks}function AM(t,e=!1,n=Ks){if(n){let r=hf.get(n);r||hf.set(n,r=[]),r.push(t)}}function OM(t,e,n=mt){const{immediate:r,deep:i,once:s,scheduler:o,augmentJob:a,call:l}=n,u=E=>i?E:si(E)||i===!1||i===0?ps(E,1):ps(E);let c,h,f,p,g=!1,b=!1;if(ln(t)?(h=()=>t.value,g=si(t)):zi(t)?(h=()=>u(t),g=!0):Fe(t)?(b=!0,g=t.some(E=>zi(E)||si(E)),h=()=>t.map(E=>{if(ln(E))return E.value;if(zi(E))return u(E);if(Ze(E))return l?l(E,2):E()})):Ze(t)?e?h=l?()=>l(t,2):t:h=()=>{if(f){Io();try{f()}finally{So()}}const E=Ks;Ks=c;try{return l?l(t,3,[p]):t(p)}finally{Ks=E}}:h=Ti,e&&i){const E=h,N=i===!0?1/0:i;h=()=>ps(E(),N)}const S=Wy(),R=()=>{c.stop(),S&&Uy(S.effects,c)};if(s&&e){const E=e;e=(...N)=>{E(...N),R()}}let P=b?new Array(t.length).fill(dh):dh;const w=E=>{if(!(!(c.flags&1)||!c.dirty&&!E))if(e){const N=c.run();if(i||g||(b?N.some((M,I)=>Sr(M,P[I])):Sr(N,P))){f&&f();const M=Ks;Ks=c;try{const I=[N,P===dh?void 0:b&&P[0]===dh?[]:P,p];l?l(e,3,I):e(...I),P=N}finally{Ks=M}}}else c.run()};return a&&a(w),c=new cf(h),c.scheduler=o?()=>o(w,!1):w,p=E=>AM(E,!1,c),f=c.onStop=()=>{const E=hf.get(c);if(E){if(l)l(E,4);else for(const N of E)N();hf.delete(c)}},e?r?w(!0):P=c.run():o?o(w.bind(null,!0),!0):c.run(),R.pause=c.pause.bind(c),R.resume=c.resume.bind(c),R.stop=R,R}function ps(t,e=1/0,n){if(e<=0||!Wt(t)||t.__v_skip||(n=n||new Set,n.has(t)))return t;if(n.add(t),e--,ln(t))ps(t.value,e,n);else if(Fe(t))for(let r=0;r<t.length;r++)ps(t[r],e,n);else if(Ia(t)||ml(t))t.forEach(r=>{ps(r,e,n)});else if(gp(t)){for(const r in t)ps(t[r],e,n);for(const r of Object.getOwnPropertySymbols(t))Object.prototype.propertyIsEnumerable.call(t,r)&&ps(t[r],e,n)}return t}/**
* @vue/runtime-core v3.5.12
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const pC=[];function PM(t){pC.push(t)}function kM(){pC.pop()}function lne(t,e){}const une={SETUP_FUNCTION:0,0:"SETUP_FUNCTION",RENDER_FUNCTION:1,1:"RENDER_FUNCTION",NATIVE_EVENT_HANDLER:5,5:"NATIVE_EVENT_HANDLER",COMPONENT_EVENT_HANDLER:6,6:"COMPONENT_EVENT_HANDLER",VNODE_HOOK:7,7:"VNODE_HOOK",DIRECTIVE_HOOK:8,8:"DIRECTIVE_HOOK",TRANSITION_HOOK:9,9:"TRANSITION_HOOK",APP_ERROR_HANDLER:10,10:"APP_ERROR_HANDLER",APP_WARN_HANDLER:11,11:"APP_WARN_HANDLER",FUNCTION_REF:12,12:"FUNCTION_REF",ASYNC_COMPONENT_LOADER:13,13:"ASYNC_COMPONENT_LOADER",SCHEDULER:14,14:"SCHEDULER",COMPONENT_UPDATE:15,15:"COMPONENT_UPDATE",APP_UNMOUNT_CLEANUP:16,16:"APP_UNMOUNT_CLEANUP"},RM={sp:"serverPrefetch hook",bc:"beforeCreate hook",c:"created hook",bm:"beforeMount hook",m:"mounted hook",bu:"beforeUpdate hook",u:"updated",bum:"beforeUnmount hook",um:"unmounted hook",a:"activated hook",da:"deactivated hook",ec:"errorCaptured hook",rtc:"renderTracked hook",rtg:"renderTriggered hook",0:"setup function",1:"render function",2:"watcher getter",3:"watcher callback",4:"watcher cleanup function",5:"native event handler",6:"component event handler",7:"vnode hook",8:"directive hook",9:"transition hook",10:"app errorHandler",11:"app warnHandler",12:"ref function",13:"async component loader",14:"scheduler flush",15:"component update",16:"app unmount cleanup function"};function Ed(t,e,n,r){try{return r?t(...r):t()}catch(i){iu(i,e,n)}}function Pi(t,e,n,r){if(Ze(t)){const i=Ed(t,e,n,r);return i&&By(i)&&i.catch(s=>{iu(s,e,n)}),i}if(Fe(t)){const i=[];for(let s=0;s<t.length;s++)i.push(Pi(t[s],e,n,r));return i}}function iu(t,e,n,r=!0){const i=e?e.vnode:null,{errorHandler:s,throwUnhandledErrorInProduction:o}=e&&e.appContext.config||mt;if(e){let a=e.parent;const l=e.proxy,u=`https://vuejs.org/error-reference/#runtime-${n}`;for(;a;){const c=a.ec;if(c){for(let h=0;h<c.length;h++)if(c[h](t,l,u)===!1)return}a=a.parent}if(s){Io(),Ed(s,null,10,[t,l,u]),So();return}}DM(t,n,i,r,o)}function DM(t,e,n,r=!0,i=!1){if(i)throw t;console.error(t)}const Cr=[];let Li=-1;const yl=[];let Ys=null,Ga=0;const mC=Promise.resolve();let ff=null;function jn(t){const e=ff||mC;return t?e.then(this?t.bind(this):t):e}function xM(t){let e=Li+1,n=Cr.length;for(;e<n;){const r=e+n>>>1,i=Cr[r],s=Rc(i);s<t||s===t&&i.flags&2?e=r+1:n=r}return e}function Xy(t){if(!(t.flags&1)){const e=Rc(t),n=Cr[Cr.length-1];!n||!(t.flags&2)&&e>=Rc(n)?Cr.push(t):Cr.splice(xM(e),0,t),t.flags|=1,gC()}}function gC(){ff||(ff=mC.then(vC))}function rv(t){Fe(t)?yl.push(...t):Ys&&t.id===-1?Ys.splice(Ga+1,0,t):t.flags&1||(yl.push(t),t.flags|=1),gC()}function Tw(t,e,n=Li+1){for(;n<Cr.length;n++){const r=Cr[n];if(r&&r.flags&2){if(t&&r.id!==t.uid)continue;Cr.splice(n,1),n--,r.flags&4&&(r.flags&=-2),r(),r.flags&4||(r.flags&=-2)}}}function pf(t){if(yl.length){const e=[...new Set(yl)].sort((n,r)=>Rc(n)-Rc(r));if(yl.length=0,Ys){Ys.push(...e);return}for(Ys=e,Ga=0;Ga<Ys.length;Ga++){const n=Ys[Ga];n.flags&4&&(n.flags&=-2),n.flags&8||n(),n.flags&=-2}Ys=null,Ga=0}}const Rc=t=>t.id==null?t.flags&2?-1:1/0:t.id;function vC(t){try{for(Li=0;Li<Cr.length;Li++){const e=Cr[Li];e&&!(e.flags&8)&&(e.flags&4&&(e.flags&=-2),Ed(e,e.i,e.i?15:14),e.flags&4||(e.flags&=-2))}}finally{for(;Li<Cr.length;Li++){const e=Cr[Li];e&&(e.flags&=-2)}Li=-1,Cr.length=0,pf(),ff=null,(Cr.length||yl.length)&&vC()}}let Qa,hh=[];function yC(t,e){var n,r;Qa=t,Qa?(Qa.enabled=!0,hh.forEach(({event:i,args:s})=>Qa.emit(i,...s)),hh=[]):typeof window<"u"&&window.HTMLElement&&!((r=(n=window.navigator)==null?void 0:n.userAgent)!=null&&r.includes("jsdom"))?((e.__VUE_DEVTOOLS_HOOK_REPLAY__=e.__VUE_DEVTOOLS_HOOK_REPLAY__||[]).push(s=>{yC(s,e)}),setTimeout(()=>{Qa||(e.__VUE_DEVTOOLS_HOOK_REPLAY__=null,hh=[])},3e3)):hh=[]}let xn=null,Sp=null;function Dc(t){const e=xn;return xn=t,Sp=t&&t.type.__scopeId||null,e}function cne(t){Sp=t}function dne(){Sp=null}const hne=t=>Qe;function Qe(t,e=xn,n){if(!e||t._n)return t;const r=(...i)=>{r._d&&Mw(-1);const s=Dc(e);let o;try{o=t(...i)}finally{Dc(s),r._d&&Mw(1)}return o};return r._n=!0,r._c=!0,r._d=!0,r}function Qo(t,e){if(xn===null)return t;const n=Cd(xn),r=t.dirs||(t.dirs=[]);for(let i=0;i<e.length;i++){let[s,o,a,l=mt]=e[i];s&&(Ze(s)&&(s={mounted:s,updated:s}),s.deep&&ps(o),r.push({dir:s,instance:n,value:o,oldValue:void 0,arg:a,modifiers:l}))}return t}function $i(t,e,n,r){const i=t.dirs,s=e&&e.dirs;for(let o=0;o<i.length;o++){const a=i[o];s&&(a.oldValue=s[o].value);let l=a.dir[r];l&&(Io(),Pi(l,n,8,[t.el,a,t,e]),So())}}const _C=Symbol("_vte"),bC=t=>t.__isTeleport,rc=t=>t&&(t.disabled||t.disabled===""),NM=t=>t&&(t.defer||t.defer===""),Ew=t=>typeof SVGElement<"u"&&t instanceof SVGElement,Iw=t=>typeof MathMLElement=="function"&&t instanceof MathMLElement,iv=(t,e)=>{const n=t&&t.to;return Zt(n)?e?e(n):null:n},MM={name:"Teleport",__isTeleport:!0,process(t,e,n,r,i,s,o,a,l,u){const{mc:c,pc:h,pbc:f,o:{insert:p,querySelector:g,createText:b,createComment:S}}=u,R=rc(e.props);let{shapeFlag:P,children:w,dynamicChildren:E}=e;if(t==null){const N=e.el=b(""),M=e.anchor=b("");p(N,n,r),p(M,n,r);const I=(_,v)=>{P&16&&(i&&i.isCE&&(i.ce._teleportTarget=_),c(w,_,v,i,s,o,a,l))},T=()=>{const _=e.target=iv(e.props,g),v=TC(_,e,b,p);_&&(o!=="svg"&&Ew(_)?o="svg":o!=="mathml"&&Iw(_)&&(o="mathml"),R||(I(_,v),Hh(e,!1)))};R&&(I(n,M),Hh(e,!0)),NM(e.props)?Vn(T,s):T()}else{e.el=t.el,e.targetStart=t.targetStart;const N=e.anchor=t.anchor,M=e.target=t.target,I=e.targetAnchor=t.targetAnchor,T=rc(t.props),_=T?n:M,v=T?N:I;if(o==="svg"||Ew(M)?o="svg":(o==="mathml"||Iw(M))&&(o="mathml"),E?(f(t.dynamicChildren,E,_,i,s,o,a),a_(t,e,!0)):l||h(t,e,_,v,i,s,o,a,!1),R)T?e.props&&t.props&&e.props.to!==t.props.to&&(e.props.to=t.props.to):fh(e,n,N,u,1);else if((e.props&&e.props.to)!==(t.props&&t.props.to)){const C=e.target=iv(e.props,g);C&&fh(e,C,null,u,0)}else T&&fh(e,M,I,u,1);Hh(e,R)}},remove(t,e,n,{um:r,o:{remove:i}},s){const{shapeFlag:o,children:a,anchor:l,targetStart:u,targetAnchor:c,target:h,props:f}=t;if(h&&(i(u),i(c)),s&&i(l),o&16){const p=s||!rc(f);for(let g=0;g<a.length;g++){const b=a[g];r(b,e,n,p,!!b.dynamicChildren)}}},move:fh,hydrate:LM};function fh(t,e,n,{o:{insert:r},m:i},s=2){s===0&&r(t.targetAnchor,e,n);const{el:o,anchor:a,shapeFlag:l,children:u,props:c}=t,h=s===2;if(h&&r(o,e,n),(!h||rc(c))&&l&16)for(let f=0;f<u.length;f++)i(u[f],e,n,2);h&&r(a,e,n)}function LM(t,e,n,r,i,s,{o:{nextSibling:o,parentNode:a,querySelector:l,insert:u,createText:c}},h){const f=e.target=iv(e.props,l);if(f){const p=rc(e.props),g=f._lpa||f.firstChild;if(e.shapeFlag&16)if(p)e.anchor=h(o(t),e,a(t),n,r,i,s),e.targetStart=g,e.targetAnchor=g&&o(g);else{e.anchor=o(t);let b=g;for(;b;){if(b&&b.nodeType===8){if(b.data==="teleport start anchor")e.targetStart=b;else if(b.data==="teleport anchor"){e.targetAnchor=b,f._lpa=e.targetAnchor&&o(e.targetAnchor);break}}b=o(b)}e.targetAnchor||TC(f,e,c,u),h(g&&o(g),e,f,n,r,i,s)}Hh(e,p)}return e.anchor&&o(e.anchor)}const wC=MM;function Hh(t,e){const n=t.ctx;if(n&&n.ut){let r,i;for(e?(r=t.el,i=t.anchor):(r=t.targetStart,i=t.targetAnchor);r&&r!==i;)r.nodeType===1&&r.setAttribute("data-v-owner",n.uid),r=r.nextSibling;n.ut()}}function TC(t,e,n,r){const i=e.targetStart=n(""),s=e.targetAnchor=n("");return i[_C]=s,t&&(r(i,t),r(s,t)),s}const Gs=Symbol("_leaveCb"),ph=Symbol("_enterCb");function EC(){const t={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return _n(()=>{t.isMounted=!0}),t_(()=>{t.isUnmounting=!0}),t}const Zr=[Function,Array],IC={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:Zr,onEnter:Zr,onAfterEnter:Zr,onEnterCancelled:Zr,onBeforeLeave:Zr,onLeave:Zr,onAfterLeave:Zr,onLeaveCancelled:Zr,onBeforeAppear:Zr,onAppear:Zr,onAfterAppear:Zr,onAppearCancelled:Zr},SC=t=>{const e=t.subTree;return e.component?SC(e.component):e},VM={name:"BaseTransition",props:IC,setup(t,{slots:e}){const n=Xr(),r=EC();return()=>{const i=e.default&&Jy(e.default(),!0);if(!i||!i.length)return;const s=CC(i),o=pt(t),{mode:a}=o;if(r.isLeaving)return Wm(s);const l=Sw(s);if(!l)return Wm(s);let u=xc(l,o,r,n,f=>u=f);l.type!==Pn&&go(l,u);const c=n.subTree,h=c&&Sw(c);if(h&&h.type!==Pn&&!gi(l,h)&&SC(n).type!==Pn){const f=xc(h,o,r,n);if(go(h,f),a==="out-in"&&l.type!==Pn)return r.isLeaving=!0,f.afterLeave=()=>{r.isLeaving=!1,n.job.flags&8||n.update(),delete f.afterLeave},Wm(s);a==="in-out"&&l.type!==Pn&&(f.delayLeave=(p,g,b)=>{const S=AC(r,h);S[String(h.key)]=h,p[Gs]=()=>{g(),p[Gs]=void 0,delete u.delayedLeave},u.delayedLeave=b})}return s}}};function CC(t){let e=t[0];if(t.length>1){for(const n of t)if(n.type!==Pn){e=n;break}}return e}const FM=VM;function AC(t,e){const{leavingVNodes:n}=t;let r=n.get(e.type);return r||(r=Object.create(null),n.set(e.type,r)),r}function xc(t,e,n,r,i){const{appear:s,mode:o,persisted:a=!1,onBeforeEnter:l,onEnter:u,onAfterEnter:c,onEnterCancelled:h,onBeforeLeave:f,onLeave:p,onAfterLeave:g,onLeaveCancelled:b,onBeforeAppear:S,onAppear:R,onAfterAppear:P,onAppearCancelled:w}=e,E=String(t.key),N=AC(n,t),M=(_,v)=>{_&&Pi(_,r,9,v)},I=(_,v)=>{const C=v[1];M(_,v),Fe(_)?_.every(A=>A.length<=1)&&C():_.length<=1&&C()},T={mode:o,persisted:a,beforeEnter(_){let v=l;if(!n.isMounted)if(s)v=S||l;else return;_[Gs]&&_[Gs](!0);const C=N[E];C&&gi(t,C)&&C.el[Gs]&&C.el[Gs](),M(v,[_])},enter(_){let v=u,C=c,A=h;if(!n.isMounted)if(s)v=R||u,C=P||c,A=w||h;else return;let O=!1;const z=_[ph]=F=>{O||(O=!0,F?M(A,[_]):M(C,[_]),T.delayedLeave&&T.delayedLeave(),_[ph]=void 0)};v?I(v,[_,z]):z()},leave(_,v){const C=String(t.key);if(_[ph]&&_[ph](!0),n.isUnmounting)return v();M(f,[_]);let A=!1;const O=_[Gs]=z=>{A||(A=!0,v(),z?M(b,[_]):M(g,[_]),_[Gs]=void 0,N[C]===t&&delete N[C])};N[C]=t,p?I(p,[_,O]):O()},clone(_){const v=xc(_,e,n,r,i);return i&&i(v),v}};return T}function Wm(t){if(Id(t))return t=Ss(t),t.children=null,t}function Sw(t){if(!Id(t))return bC(t.type)&&t.children?CC(t.children):t;const{shapeFlag:e,children:n}=t;if(n){if(e&16)return n[0];if(e&32&&Ze(n.default))return n.default()}}function go(t,e){t.shapeFlag&6&&t.component?(t.transition=e,go(t.component.subTree,e)):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function Jy(t,e=!1,n){let r=[],i=0;for(let s=0;s<t.length;s++){let o=t[s];const a=n==null?o.key:String(n)+String(o.key!=null?o.key:s);o.type===Ne?(o.patchFlag&128&&i++,r=r.concat(Jy(o.children,e,a))):(e||o.type!==Pn)&&r.push(a!=null?Ss(o,{key:a}):o)}if(i>1)for(let s=0;s<r.length;s++)r[s].patchFlag=-2;return r}/*! #__NO_SIDE_EFFECTS__ */function Gt(t,e){return Ze(t)?Yt({name:t.name},e,{setup:t}):t}function fne(){const t=Xr();return t?(t.appContext.config.idPrefix||"v")+"-"+t.ids[0]+t.ids[1]++:""}function Zy(t){t.ids=[t.ids[0]+t.ids[2]+++"-",0,0]}function pne(t){const e=Xr(),n=cC(null);if(e){const i=e.refs===mt?e.refs={}:e.refs;Object.defineProperty(i,t,{enumerable:!0,get:()=>n.value,set:s=>n.value=s})}return n}function mf(t,e,n,r,i=!1){if(Fe(t)){t.forEach((g,b)=>mf(g,e&&(Fe(e)?e[b]:e),n,r,i));return}if(so(r)&&!i)return;const s=r.shapeFlag&4?Cd(r.component):r.el,o=i?null:s,{i:a,r:l}=t,u=e&&e.r,c=a.refs===mt?a.refs={}:a.refs,h=a.setupState,f=pt(h),p=h===mt?()=>!1:g=>Dt(f,g);if(u!=null&&u!==l&&(Zt(u)?(c[u]=null,p(u)&&(h[u]=null)):ln(u)&&(u.value=null)),Ze(l))Ed(l,a,12,[o,c]);else{const g=Zt(l),b=ln(l);if(g||b){const S=()=>{if(t.f){const R=g?p(l)?h[l]:c[l]:l.value;i?Fe(R)&&Uy(R,s):Fe(R)?R.includes(s)||R.push(s):g?(c[l]=[s],p(l)&&(h[l]=c[l])):(l.value=[s],t.k&&(c[t.k]=l.value))}else g?(c[l]=o,p(l)&&(h[l]=o)):b&&(l.value=o,t.k&&(c[t.k]=o))};o?(S.id=-1,Vn(S,n)):S()}}}let Cw=!1;const ja=()=>{Cw||(console.error("Hydration completed but contains mismatches."),Cw=!0)},$M=t=>t.namespaceURI.includes("svg")&&t.tagName!=="foreignObject",UM=t=>t.namespaceURI.includes("MathML"),mh=t=>{if(t.nodeType===1){if($M(t))return"svg";if(UM(t))return"mathml"}},il=t=>t.nodeType===8;function BM(t){const{mt:e,p:n,o:{patchProp:r,createText:i,nextSibling:s,parentNode:o,remove:a,insert:l,createComment:u}}=t,c=(w,E)=>{if(!E.hasChildNodes()){n(null,w,E),pf(),E._vnode=w;return}h(E.firstChild,w,null,null,null),pf(),E._vnode=w},h=(w,E,N,M,I,T=!1)=>{T=T||!!E.dynamicChildren;const _=il(w)&&w.data==="[",v=()=>b(w,E,N,M,I,_),{type:C,ref:A,shapeFlag:O,patchFlag:z}=E;let F=w.nodeType;E.el=w,z===-2&&(T=!1,E.dynamicChildren=null);let U=null;switch(C){case Jo:F!==3?E.children===""?(l(E.el=i(""),o(w),w),U=w):U=v():(w.data!==E.children&&(ja(),w.data=E.children),U=s(w));break;case Pn:P(w)?(U=s(w),R(E.el=w.content.firstChild,w,N)):F!==8||_?U=v():U=s(w);break;case bl:if(_&&(w=s(w),F=w.nodeType),F===1||F===3){U=w;const H=!E.children.length;for(let Q=0;Q<E.staticCount;Q++)H&&(E.children+=U.nodeType===1?U.outerHTML:U.data),Q===E.staticCount-1&&(E.anchor=U),U=s(U);return _?s(U):U}else v();break;case Ne:_?U=g(w,E,N,M,I,T):U=v();break;default:if(O&1)(F!==1||E.type.toLowerCase()!==w.tagName.toLowerCase())&&!P(w)?U=v():U=f(w,E,N,M,I,T);else if(O&6){E.slotScopeIds=I;const H=o(w);if(_?U=S(w):il(w)&&w.data==="teleport start"?U=S(w,w.data,"teleport end"):U=s(w),e(E,H,null,N,M,mh(H),T),so(E)){let Q;_?(Q=et(Ne),Q.anchor=U?U.previousSibling:H.lastChild):Q=w.nodeType===3?kn(""):et("div"),Q.el=w,E.component.subTree=Q}}else O&64?F!==8?U=v():U=E.type.hydrate(w,E,N,M,I,T,t,p):O&128&&(U=E.type.hydrate(w,E,N,M,mh(o(w)),I,T,t,h))}return A!=null&&mf(A,null,M,E),U},f=(w,E,N,M,I,T)=>{T=T||!!E.dynamicChildren;const{type:_,props:v,patchFlag:C,shapeFlag:A,dirs:O,transition:z}=E,F=_==="input"||_==="option";if(F||C!==-1){O&&$i(E,null,N,"created");let U=!1;if(P(w)){U=zC(null,z)&&N&&N.vnode.props&&N.vnode.props.appear;const Q=w.content.firstChild;U&&z.beforeEnter(Q),R(Q,w,N),E.el=w=Q}if(A&16&&!(v&&(v.innerHTML||v.textContent))){let Q=p(w.firstChild,E,w,N,M,I,T);for(;Q;){gh(w,1)||ja();const V=Q;Q=Q.nextSibling,a(V)}}else if(A&8){let Q=E.children;Q[0]===`
`&&(w.tagName==="PRE"||w.tagName==="TEXTAREA")&&(Q=Q.slice(1)),w.textContent!==Q&&(gh(w,0)||ja(),w.textContent=E.children)}if(v){if(F||!T||C&48){const Q=w.tagName.includes("-");for(const V in v)(F&&(V.endsWith("value")||V==="indeterminate")||Td(V)&&!gl(V)||V[0]==="."||Q)&&r(w,V,null,v[V],void 0,N)}else if(v.onClick)r(w,"onClick",null,v.onClick,void 0,N);else if(C&4&&zi(v.style))for(const Q in v.style)v.style[Q]}let H;(H=v&&v.onVnodeBeforeMount)&&kr(H,N,E),O&&$i(E,null,N,"beforeMount"),((H=v&&v.onVnodeMounted)||O||U)&&JC(()=>{H&&kr(H,N,E),U&&z.enter(w),O&&$i(E,null,N,"mounted")},M)}return w.nextSibling},p=(w,E,N,M,I,T,_)=>{_=_||!!E.dynamicChildren;const v=E.children,C=v.length;for(let A=0;A<C;A++){const O=_?v[A]:v[A]=Dr(v[A]),z=O.type===Jo;w?(z&&!_&&A+1<C&&Dr(v[A+1]).type===Jo&&(l(i(w.data.slice(O.children.length)),N,s(w)),w.data=O.children),w=h(w,O,M,I,T,_)):z&&!O.children?l(O.el=i(""),N):(gh(N,1)||ja(),n(null,O,N,null,M,I,mh(N),T))}return w},g=(w,E,N,M,I,T)=>{const{slotScopeIds:_}=E;_&&(I=I?I.concat(_):_);const v=o(w),C=p(s(w),E,v,N,M,I,T);return C&&il(C)&&C.data==="]"?s(E.anchor=C):(ja(),l(E.anchor=u("]"),v,C),C)},b=(w,E,N,M,I,T)=>{if(gh(w.parentElement,1)||ja(),E.el=null,T){const C=S(w);for(;;){const A=s(w);if(A&&A!==C)a(A);else break}}const _=s(w),v=o(w);return a(w),n(null,E,v,_,N,M,mh(v),I),_},S=(w,E="[",N="]")=>{let M=0;for(;w;)if(w=s(w),w&&il(w)&&(w.data===E&&M++,w.data===N)){if(M===0)return s(w);M--}return w},R=(w,E,N)=>{const M=E.parentNode;M&&M.replaceChild(w,E);let I=N;for(;I;)I.vnode.el===E&&(I.vnode.el=I.subTree.el=w),I=I.parent},P=w=>w.nodeType===1&&w.tagName==="TEMPLATE";return[c,h]}const Aw="data-allow-mismatch",jM={0:"text",1:"children",2:"class",3:"style",4:"attribute"};function gh(t,e){if(e===0||e===1)for(;t&&!t.hasAttribute(Aw);)t=t.parentElement;const n=t&&t.getAttribute(Aw);if(n==null)return!1;if(n==="")return!0;{const r=n.split(",");return e===0&&r.includes("children")?!0:n.split(",").includes(jM[e])}}const HM=_p().requestIdleCallback||(t=>setTimeout(t,1)),WM=_p().cancelIdleCallback||(t=>clearTimeout(t)),mne=(t=1e4)=>e=>{const n=HM(e,{timeout:t});return()=>WM(n)};function qM(t){const{top:e,left:n,bottom:r,right:i}=t.getBoundingClientRect(),{innerHeight:s,innerWidth:o}=window;return(e>0&&e<s||r>0&&r<s)&&(n>0&&n<o||i>0&&i<o)}const gne=t=>(e,n)=>{const r=new IntersectionObserver(i=>{for(const s of i)if(s.isIntersecting){r.disconnect(),e();break}},t);return n(i=>{if(i instanceof Element){if(qM(i))return e(),r.disconnect(),!1;r.observe(i)}}),()=>r.disconnect()},vne=t=>e=>{if(t){const n=matchMedia(t);if(n.matches)e();else return n.addEventListener("change",e,{once:!0}),()=>n.removeEventListener("change",e)}},yne=(t=[])=>(e,n)=>{Zt(t)&&(t=[t]);let r=!1;const i=o=>{r||(r=!0,s(),e(),o.target.dispatchEvent(new o.constructor(o.type,o)))},s=()=>{n(o=>{for(const a of t)o.removeEventListener(a,i)})};return n(o=>{for(const a of t)o.addEventListener(a,i,{once:!0})}),s};function zM(t,e){if(il(t)&&t.data==="["){let n=1,r=t.nextSibling;for(;r;){if(r.nodeType===1){if(e(r)===!1)break}else if(il(r))if(r.data==="]"){if(--n===0)break}else r.data==="["&&n++;r=r.nextSibling}}else e(t)}const so=t=>!!t.type.__asyncLoader;/*! #__NO_SIDE_EFFECTS__ */function _ne(t){Ze(t)&&(t={loader:t});const{loader:e,loadingComponent:n,errorComponent:r,delay:i=200,hydrate:s,timeout:o,suspensible:a=!0,onError:l}=t;let u=null,c,h=0;const f=()=>(h++,u=null,p()),p=()=>{let g;return u||(g=u=e().catch(b=>{if(b=b instanceof Error?b:new Error(String(b)),l)return new Promise((S,R)=>{l(b,()=>S(f()),()=>R(b),h+1)});throw b}).then(b=>g!==u&&u?u:(b&&(b.__esModule||b[Symbol.toStringTag]==="Module")&&(b=b.default),c=b,b)))};return Gt({name:"AsyncComponentWrapper",__asyncLoader:p,__asyncHydrate(g,b,S){const R=s?()=>{const P=s(S,w=>zM(g,w));P&&(b.bum||(b.bum=[])).push(P)}:S;c?R():p().then(()=>!b.isUnmounted&&R())},get __asyncResolved(){return c},setup(){const g=Rn;if(Zy(g),c)return()=>qm(c,g);const b=w=>{u=null,iu(w,g,13,!r)};if(a&&g.suspense||Rl)return p().then(w=>()=>qm(w,g)).catch(w=>(b(w),()=>r?et(r,{error:w}):null));const S=Te(!1),R=Te(),P=Te(!!i);return i&&setTimeout(()=>{P.value=!1},i),o!=null&&setTimeout(()=>{if(!S.value&&!R.value){const w=new Error(`Async component timed out after ${o}ms.`);b(w),R.value=w}},o),p().then(()=>{S.value=!0,g.parent&&Id(g.parent.vnode)&&g.parent.update()}).catch(w=>{b(w),R.value=w}),()=>{if(S.value&&c)return qm(c,g);if(R.value&&r)return et(r,{error:R.value});if(n&&!P.value)return et(n)}}})}function qm(t,e){const{ref:n,props:r,children:i,ce:s}=e.vnode,o=et(t,r,i);return o.ref=n,o.ce=s,delete e.vnode.ce,o}const Id=t=>t.type.__isKeepAlive,KM={name:"KeepAlive",__isKeepAlive:!0,props:{include:[String,RegExp,Array],exclude:[String,RegExp,Array],max:[String,Number]},setup(t,{slots:e}){const n=Xr(),r=n.ctx;if(!r.renderer)return()=>{const P=e.default&&e.default();return P&&P.length===1?P[0]:P};const i=new Map,s=new Set;let o=null;const a=n.suspense,{renderer:{p:l,m:u,um:c,o:{createElement:h}}}=r,f=h("div");r.activate=(P,w,E,N,M)=>{const I=P.component;u(P,w,E,0,a),l(I.vnode,P,w,E,I,a,N,P.slotScopeIds,M),Vn(()=>{I.isDeactivated=!1,I.a&&vl(I.a);const T=P.props&&P.props.onVnodeMounted;T&&kr(T,I.parent,P)},a)},r.deactivate=P=>{const w=P.component;vf(w.m),vf(w.a),u(P,f,null,1,a),Vn(()=>{w.da&&vl(w.da);const E=P.props&&P.props.onVnodeUnmounted;E&&kr(E,w.parent,P),w.isDeactivated=!0},a)};function p(P){zm(P),c(P,n,a,!0)}function g(P){i.forEach((w,E)=>{const N=mv(w.type);N&&!P(N)&&b(E)})}function b(P){const w=i.get(P);w&&(!o||!gi(w,o))?p(w):o&&zm(o),i.delete(P),s.delete(P)}Nn(()=>[t.include,t.exclude],([P,w])=>{P&&g(E=>qu(P,E)),w&&g(E=>!qu(w,E))},{flush:"post",deep:!0});let S=null;const R=()=>{S!=null&&(yf(n.subTree.type)?Vn(()=>{i.set(S,vh(n.subTree))},n.subTree.suspense):i.set(S,vh(n.subTree)))};return _n(R),e_(R),t_(()=>{i.forEach(P=>{const{subTree:w,suspense:E}=n,N=vh(w);if(P.type===N.type&&P.key===N.key){zm(N);const M=N.component.da;M&&Vn(M,E);return}p(P)})}),()=>{if(S=null,!e.default)return o=null;const P=e.default(),w=P[0];if(P.length>1)return o=null,P;if(!vo(w)||!(w.shapeFlag&4)&&!(w.shapeFlag&128))return o=null,w;let E=vh(w);if(E.type===Pn)return o=null,E;const N=E.type,M=mv(so(E)?E.type.__asyncResolved||{}:N),{include:I,exclude:T,max:_}=t;if(I&&(!M||!qu(I,M))||T&&M&&qu(T,M))return E.shapeFlag&=-257,o=E,w;const v=E.key==null?N:E.key,C=i.get(v);return E.el&&(E=Ss(E),w.shapeFlag&128&&(w.ssContent=E)),S=v,C?(E.el=C.el,E.component=C.component,E.transition&&go(E,E.transition),E.shapeFlag|=512,s.delete(v),s.add(v)):(s.add(v),_&&s.size>parseInt(_,10)&&b(s.values().next().value)),E.shapeFlag|=256,o=E,yf(w.type)?w:E}}},bne=KM;function qu(t,e){return Fe(t)?t.some(n=>qu(n,e)):Zt(t)?t.split(",").includes(e):UN(t)?(t.lastIndex=0,t.test(e)):!1}function YM(t,e){OC(t,"a",e)}function GM(t,e){OC(t,"da",e)}function OC(t,e,n=Rn){const r=t.__wdc||(t.__wdc=()=>{let i=n;for(;i;){if(i.isDeactivated)return;i=i.parent}return t()});if(Cp(e,r,n),n){let i=n.parent;for(;i&&i.parent;)Id(i.parent.vnode)&&QM(r,e,n,i),i=i.parent}}function QM(t,e,n,r){const i=Cp(e,t,r,!0);Sa(()=>{Uy(r[e],i)},n)}function zm(t){t.shapeFlag&=-257,t.shapeFlag&=-513}function vh(t){return t.shapeFlag&128?t.ssContent:t}function Cp(t,e,n=Rn,r=!1){if(n){const i=n[t]||(n[t]=[]),s=e.__weh||(e.__weh=(...o)=>{Io();const a=aa(n),l=Pi(e,n,t,o);return a(),So(),l});return r?i.unshift(s):i.push(s),s}}const Ds=t=>(e,n=Rn)=>{(!Rl||t==="sp")&&Cp(t,(...r)=>e(...r),n)},PC=Ds("bm"),_n=Ds("m"),kC=Ds("bu"),e_=Ds("u"),t_=Ds("bum"),Sa=Ds("um"),XM=Ds("sp"),JM=Ds("rtg"),ZM=Ds("rtc");function eL(t,e=Rn){Cp("ec",t,e)}const n_="components",tL="directives";function Wr(t,e){return r_(n_,t,!0,e)||t}const RC=Symbol.for("v-ndc");function Hr(t){return Zt(t)?r_(n_,t,!1)||t:t||RC}function DC(t){return r_(tL,t)}function r_(t,e,n=!0,r=!1){const i=xn||Rn;if(i){const s=i.type;if(t===n_){const a=mv(s,!1);if(a&&(a===e||a===gr(e)||a===yp(gr(e))))return s}const o=Ow(i[t]||s[t],e)||Ow(i.appContext[t],e);return!o&&r?s:o}}function Ow(t,e){return t&&(t[e]||t[gr(e)]||t[yp(gr(e))])}function Ft(t,e,n,r){let i;const s=n&&n[r],o=Fe(t);if(o||Zt(t)){const a=o&&zi(t);let l=!1;a&&(l=!si(t),t=Tp(t)),i=new Array(t.length);for(let u=0,c=t.length;u<c;u++)i[u]=e(l?ur(t[u]):t[u],u,void 0,s&&s[u])}else if(typeof t=="number"){i=new Array(t);for(let a=0;a<t;a++)i[a]=e(a+1,a,void 0,s&&s[a])}else if(Wt(t))if(t[Symbol.iterator])i=Array.from(t,(a,l)=>e(a,l,void 0,s&&s[l]));else{const a=Object.keys(t);i=new Array(a.length);for(let l=0,u=a.length;l<u;l++){const c=a[l];i[l]=e(t[c],c,l,s&&s[l])}}else i=[];return n&&(n[r]=i),i}function Zn(t,e){for(let n=0;n<e.length;n++){const r=e[n];if(Fe(r))for(let i=0;i<r.length;i++)t[r[i].name]=r[i].fn;else r&&(t[r.name]=r.key?(...i)=>{const s=r.fn(...i);return s&&(s.key=r.key),s}:r.fn)}return t}function ve(t,e,n={},r,i){if(xn.ce||xn.parent&&so(xn.parent)&&xn.parent.ce)return e!=="default"&&(n.name=e),j(),qe(Ne,null,[et("slot",n,r&&r())],64);let s=t[e];s&&s._c&&(s._d=!1),j();const o=s&&i_(s(n)),a=n.key||o&&o.key,l=qe(Ne,{key:(a&&!Oi(a)?a:`_${e}`)+(!o&&r?"_fb":"")},o||(r?r():[]),o&&t._===1?64:-2);return!i&&l.scopeId&&(l.slotScopeIds=[l.scopeId+"-s"]),s&&s._c&&(s._d=!0),l}function i_(t){return t.some(e=>vo(e)?!(e.type===Pn||e.type===Ne&&!i_(e.children)):!0)?t:null}function wne(t,e){const n={};for(const r in t)n[e&&/[A-Z]/.test(r)?`on:${r}`:jh(r)]=t[r];return n}const sv=t=>t?rA(t)?Cd(t):sv(t.parent):null,ic=Yt(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>sv(t.parent),$root:t=>sv(t.root),$host:t=>t.ce,$emit:t=>t.emit,$options:t=>s_(t),$forceUpdate:t=>t.f||(t.f=()=>{Xy(t.update)}),$nextTick:t=>t.n||(t.n=jn.bind(t.proxy)),$watch:t=>IL.bind(t)}),Km=(t,e)=>t!==mt&&!t.__isScriptSetup&&Dt(t,e),ov={get({_:t},e){if(e==="__v_skip")return!0;const{ctx:n,setupState:r,data:i,props:s,accessCache:o,type:a,appContext:l}=t;let u;if(e[0]!=="$"){const p=o[e];if(p!==void 0)switch(p){case 1:return r[e];case 2:return i[e];case 4:return n[e];case 3:return s[e]}else{if(Km(r,e))return o[e]=1,r[e];if(i!==mt&&Dt(i,e))return o[e]=2,i[e];if((u=t.propsOptions[0])&&Dt(u,e))return o[e]=3,s[e];if(n!==mt&&Dt(n,e))return o[e]=4,n[e];av&&(o[e]=0)}}const c=ic[e];let h,f;if(c)return e==="$attrs"&&lr(t.attrs,"get",""),c(t);if((h=a.__cssModules)&&(h=h[e]))return h;if(n!==mt&&Dt(n,e))return o[e]=4,n[e];if(f=l.config.globalProperties,Dt(f,e))return f[e]},set({_:t},e,n){const{data:r,setupState:i,ctx:s}=t;return Km(i,e)?(i[e]=n,!0):r!==mt&&Dt(r,e)?(r[e]=n,!0):Dt(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(s[e]=n,!0)},has({_:{data:t,setupState:e,accessCache:n,ctx:r,appContext:i,propsOptions:s}},o){let a;return!!n[o]||t!==mt&&Dt(t,o)||Km(e,o)||(a=s[0])&&Dt(a,o)||Dt(r,o)||Dt(ic,o)||Dt(i.config.globalProperties,o)},defineProperty(t,e,n){return n.get!=null?t._.accessCache[e]=0:Dt(n,"value")&&this.set(t,e,n.value,null),Reflect.defineProperty(t,e,n)}},nL=Yt({},ov,{get(t,e){if(e!==Symbol.unscopables)return ov.get(t,e,t)},has(t,e){return e[0]!=="_"&&!qN(e)}});function Tne(){return null}function Ene(){return null}function Ine(t){}function Sne(t){}function Cne(){return null}function Ane(){}function One(t,e){return null}function Ca(){return xC().slots}function Pne(){return xC().attrs}function xC(){const t=Xr();return t.setupContext||(t.setupContext=oA(t))}function Nc(t){return Fe(t)?t.reduce((e,n)=>(e[n]=null,e),{}):t}function kne(t,e){const n=Nc(t);for(const r in e){if(r.startsWith("__skip"))continue;let i=n[r];i?Fe(i)||Ze(i)?i=n[r]={type:i,default:e[r]}:i.default=e[r]:i===null&&(i=n[r]={default:e[r]}),i&&e[`__skip_${r}`]&&(i.skipFactory=!0)}return n}function Rne(t,e){return!t||!e?t||e:Fe(t)&&Fe(e)?t.concat(e):Yt({},Nc(t),Nc(e))}function Dne(t,e){const n={};for(const r in t)e.includes(r)||Object.defineProperty(n,r,{enumerable:!0,get:()=>t[r]});return n}function xne(t){const e=Xr();let n=t();return hv(),By(n)&&(n=n.catch(r=>{throw aa(e),r})),[n,()=>aa(e)]}let av=!0;function rL(t){const e=s_(t),n=t.proxy,r=t.ctx;av=!1,e.beforeCreate&&Pw(e.beforeCreate,t,"bc");const{data:i,computed:s,methods:o,watch:a,provide:l,inject:u,created:c,beforeMount:h,mounted:f,beforeUpdate:p,updated:g,activated:b,deactivated:S,beforeDestroy:R,beforeUnmount:P,destroyed:w,unmounted:E,render:N,renderTracked:M,renderTriggered:I,errorCaptured:T,serverPrefetch:_,expose:v,inheritAttrs:C,components:A,directives:O,filters:z}=e;if(u&&iL(u,r,null),o)for(const H in o){const Q=o[H];Ze(Q)&&(r[H]=Q.bind(n))}if(i){const H=i.call(n,n);Wt(H)&&(t.data=di(H))}if(av=!0,s)for(const H in s){const Q=s[H],V=Ze(Q)?Q.bind(n,n):Ze(Q.get)?Q.get.bind(n,n):Ti,D=!Ze(Q)&&Ze(Q.set)?Q.set.bind(n):Ti,Z=he({get:V,set:D});Object.defineProperty(r,H,{enumerable:!0,configurable:!0,get:()=>Z.value,set:X=>Z.value=X})}if(a)for(const H in a)NC(a[H],r,n,H);if(l){const H=Ze(l)?l.call(n):l;Reflect.ownKeys(H).forEach(Q=>{sc(Q,H[Q])})}c&&Pw(c,t,"c");function U(H,Q){Fe(Q)?Q.forEach(V=>H(V.bind(n))):Q&&H(Q.bind(n))}if(U(PC,h),U(_n,f),U(kC,p),U(e_,g),U(YM,b),U(GM,S),U(eL,T),U(ZM,M),U(JM,I),U(t_,P),U(Sa,E),U(XM,_),Fe(v))if(v.length){const H=t.exposed||(t.exposed={});v.forEach(Q=>{Object.defineProperty(H,Q,{get:()=>n[Q],set:V=>n[Q]=V})})}else t.exposed||(t.exposed={});N&&t.render===Ti&&(t.render=N),C!=null&&(t.inheritAttrs=C),A&&(t.components=A),O&&(t.directives=O),_&&Zy(t)}function iL(t,e,n=Ti){Fe(t)&&(t=lv(t));for(const r in t){const i=t[r];let s;Wt(i)?"default"in i?s=Vr(i.from||r,i.default,!0):s=Vr(i.from||r):s=Vr(i),ln(s)?Object.defineProperty(e,r,{enumerable:!0,configurable:!0,get:()=>s.value,set:o=>s.value=o}):e[r]=s}}function Pw(t,e,n){Pi(Fe(t)?t.map(r=>r.bind(e.proxy)):t.bind(e.proxy),e,n)}function NC(t,e,n,r){let i=r.includes(".")?YC(n,r):()=>n[r];if(Zt(t)){const s=e[t];Ze(s)&&Nn(i,s)}else if(Ze(t))Nn(i,t.bind(n));else if(Wt(t))if(Fe(t))t.forEach(s=>NC(s,e,n,r));else{const s=Ze(t.handler)?t.handler.bind(n):e[t.handler];Ze(s)&&Nn(i,s,t)}}function s_(t){const e=t.type,{mixins:n,extends:r}=e,{mixins:i,optionsCache:s,config:{optionMergeStrategies:o}}=t.appContext,a=s.get(e);let l;return a?l=a:!i.length&&!n&&!r?l=e:(l={},i.length&&i.forEach(u=>gf(l,u,o,!0)),gf(l,e,o)),Wt(e)&&s.set(e,l),l}function gf(t,e,n,r=!1){const{mixins:i,extends:s}=e;s&&gf(t,s,n,!0),i&&i.forEach(o=>gf(t,o,n,!0));for(const o in e)if(!(r&&o==="expose")){const a=sL[o]||n&&n[o];t[o]=a?a(t[o],e[o]):e[o]}return t}const sL={data:kw,props:Rw,emits:Rw,methods:zu,computed:zu,beforeCreate:Er,created:Er,beforeMount:Er,mounted:Er,beforeUpdate:Er,updated:Er,beforeDestroy:Er,beforeUnmount:Er,destroyed:Er,unmounted:Er,activated:Er,deactivated:Er,errorCaptured:Er,serverPrefetch:Er,components:zu,directives:zu,watch:aL,provide:kw,inject:oL};function kw(t,e){return e?t?function(){return Yt(Ze(t)?t.call(this,this):t,Ze(e)?e.call(this,this):e)}:e:t}function oL(t,e){return zu(lv(t),lv(e))}function lv(t){if(Fe(t)){const e={};for(let n=0;n<t.length;n++)e[t[n]]=t[n];return e}return t}function Er(t,e){return t?[...new Set([].concat(t,e))]:e}function zu(t,e){return t?Yt(Object.create(null),t,e):e}function Rw(t,e){return t?Fe(t)&&Fe(e)?[...new Set([...t,...e])]:Yt(Object.create(null),Nc(t),Nc(e??{})):e}function aL(t,e){if(!t)return e;if(!e)return t;const n=Yt(Object.create(null),t);for(const r in e)n[r]=Er(t[r],e[r]);return n}function MC(){return{app:null,config:{isNativeTag:FN,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let lL=0;function uL(t,e){return function(r,i=null){Ze(r)||(r=Yt({},r)),i!=null&&!Wt(i)&&(i=null);const s=MC(),o=new WeakSet,a=[];let l=!1;const u=s.app={_uid:lL++,_component:r,_props:i,_container:null,_context:s,_instance:null,version:HL,get config(){return s.config},set config(c){},use(c,...h){return o.has(c)||(c&&Ze(c.install)?(o.add(c),c.install(u,...h)):Ze(c)&&(o.add(c),c(u,...h))),u},mixin(c){return s.mixins.includes(c)||s.mixins.push(c),u},component(c,h){return h?(s.components[c]=h,u):s.components[c]},directive(c,h){return h?(s.directives[c]=h,u):s.directives[c]},mount(c,h,f){if(!l){const p=u._ceVNode||et(r,i);return p.appContext=s,f===!0?f="svg":f===!1&&(f=void 0),h&&e?e(p,c):t(p,c,f),l=!0,u._container=c,c.__vue_app__=u,Cd(p.component)}},onUnmount(c){a.push(c)},unmount(){l&&(Pi(a,u._instance,16),t(null,u._container),delete u._container.__vue_app__)},provide(c,h){return s.provides[c]=h,u},runWithContext(c){const h=Xo;Xo=u;try{return c()}finally{Xo=h}}};return u}}let Xo=null;function sc(t,e){if(Rn){let n=Rn.provides;const r=Rn.parent&&Rn.parent.provides;r===n&&(n=Rn.provides=Object.create(r)),n[t]=e}}function Vr(t,e,n=!1){const r=Rn||xn;if(r||Xo){const i=Xo?Xo._context.provides:r?r.parent==null?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:void 0;if(i&&t in i)return i[t];if(arguments.length>1)return n&&Ze(e)?e.call(r&&r.proxy):e}}function cL(){return!!(Rn||xn||Xo)}const LC={},VC=()=>Object.create(LC),FC=t=>Object.getPrototypeOf(t)===LC;function dL(t,e,n,r=!1){const i={},s=VC();t.propsDefaults=Object.create(null),$C(t,e,i,s);for(const o in t.propsOptions[0])o in i||(i[o]=void 0);n?t.props=r?i:uC(i):t.type.props?t.props=i:t.props=s,t.attrs=s}function hL(t,e,n,r){const{props:i,attrs:s,vnode:{patchFlag:o}}=t,a=pt(i),[l]=t.propsOptions;let u=!1;if((r||o>0)&&!(o&16)){if(o&8){const c=t.vnode.dynamicProps;for(let h=0;h<c.length;h++){let f=c[h];if(Ap(t.emitsOptions,f))continue;const p=e[f];if(l)if(Dt(s,f))p!==s[f]&&(s[f]=p,u=!0);else{const g=gr(f);i[g]=uv(l,a,g,p,t,!1)}else p!==s[f]&&(s[f]=p,u=!0)}}}else{$C(t,e,i,s)&&(u=!0);let c;for(const h in a)(!e||!Dt(e,h)&&((c=xr(h))===h||!Dt(e,c)))&&(l?n&&(n[h]!==void 0||n[c]!==void 0)&&(i[h]=uv(l,a,h,void 0,t,!0)):delete i[h]);if(s!==a)for(const h in s)(!e||!Dt(e,h))&&(delete s[h],u=!0)}u&&fs(t.attrs,"set","")}function $C(t,e,n,r){const[i,s]=t.propsOptions;let o=!1,a;if(e)for(let l in e){if(gl(l))continue;const u=e[l];let c;i&&Dt(i,c=gr(l))?!s||!s.includes(c)?n[c]=u:(a||(a={}))[c]=u:Ap(t.emitsOptions,l)||(!(l in r)||u!==r[l])&&(r[l]=u,o=!0)}if(s){const l=pt(n),u=a||mt;for(let c=0;c<s.length;c++){const h=s[c];n[h]=uv(i,l,h,u[h],t,!Dt(u,h))}}return o}function uv(t,e,n,r,i,s){const o=t[n];if(o!=null){const a=Dt(o,"default");if(a&&r===void 0){const l=o.default;if(o.type!==Function&&!o.skipFactory&&Ze(l)){const{propsDefaults:u}=i;if(n in u)r=u[n];else{const c=aa(i);r=u[n]=l.call(null,e),c()}}else r=l;i.ce&&i.ce._setProp(n,r)}o[0]&&(s&&!a?r=!1:o[1]&&(r===""||r===xr(n))&&(r=!0))}return r}const fL=new WeakMap;function UC(t,e,n=!1){const r=n?fL:e.propsCache,i=r.get(t);if(i)return i;const s=t.props,o={},a=[];let l=!1;if(!Ze(t)){const c=h=>{l=!0;const[f,p]=UC(h,e,!0);Yt(o,f),p&&a.push(...p)};!n&&e.mixins.length&&e.mixins.forEach(c),t.extends&&c(t.extends),t.mixins&&t.mixins.forEach(c)}if(!s&&!l)return Wt(t)&&r.set(t,pl),pl;if(Fe(s))for(let c=0;c<s.length;c++){const h=gr(s[c]);Dw(h)&&(o[h]=mt)}else if(s)for(const c in s){const h=gr(c);if(Dw(h)){const f=s[c],p=o[h]=Fe(f)||Ze(f)?{type:f}:Yt({},f),g=p.type;let b=!1,S=!0;if(Fe(g))for(let R=0;R<g.length;++R){const P=g[R],w=Ze(P)&&P.name;if(w==="Boolean"){b=!0;break}else w==="String"&&(S=!1)}else b=Ze(g)&&g.name==="Boolean";p[0]=b,p[1]=S,(b||Dt(p,"default"))&&a.push(h)}}const u=[o,a];return Wt(t)&&r.set(t,u),u}function Dw(t){return t[0]!=="$"&&!gl(t)}const BC=t=>t[0]==="_"||t==="$stable",o_=t=>Fe(t)?t.map(Dr):[Dr(t)],pL=(t,e,n)=>{if(e._n)return e;const r=Qe((...i)=>o_(e(...i)),n);return r._c=!1,r},jC=(t,e,n)=>{const r=t._ctx;for(const i in t){if(BC(i))continue;const s=t[i];if(Ze(s))e[i]=pL(i,s,r);else if(s!=null){const o=o_(s);e[i]=()=>o}}},HC=(t,e)=>{const n=o_(e);t.slots.default=()=>n},WC=(t,e,n)=>{for(const r in e)(n||r!=="_")&&(t[r]=e[r])},mL=(t,e,n)=>{const r=t.slots=VC();if(t.vnode.shapeFlag&32){const i=e._;i?(WC(r,e,n),n&&jS(r,"_",i,!0)):jC(e,r)}else e&&HC(t,e)},gL=(t,e,n)=>{const{vnode:r,slots:i}=t;let s=!0,o=mt;if(r.shapeFlag&32){const a=e._;a?n&&a===1?s=!1:WC(i,e,n):(s=!e.$stable,jC(e,i)),o=e}else e&&(HC(t,e),o={default:1});if(s)for(const a in i)!BC(a)&&o[a]==null&&delete i[a]},Vn=JC;function vL(t){return qC(t)}function yL(t){return qC(t,BM)}function qC(t,e){const n=_p();n.__VUE__=!0;const{insert:r,remove:i,patchProp:s,createElement:o,createText:a,createComment:l,setText:u,setElementText:c,parentNode:h,nextSibling:f,setScopeId:p=Ti,insertStaticContent:g}=t,b=(k,L,$,se=null,ie=null,fe=null,Se=void 0,Ee=null,we=!!L.dynamicChildren)=>{if(k===L)return;k&&!gi(k,L)&&(se=K(k),X(k,ie,fe,!0),k=null),L.patchFlag===-2&&(we=!1,L.dynamicChildren=null);const{type:pe,ref:He,shapeFlag:Ie}=L;switch(pe){case Jo:S(k,L,$,se);break;case Pn:R(k,L,$,se);break;case bl:k==null&&P(L,$,se,Se);break;case Ne:A(k,L,$,se,ie,fe,Se,Ee,we);break;default:Ie&1?N(k,L,$,se,ie,fe,Se,Ee,we):Ie&6?O(k,L,$,se,ie,fe,Se,Ee,we):(Ie&64||Ie&128)&&pe.process(k,L,$,se,ie,fe,Se,Ee,we,le)}He!=null&&ie&&mf(He,k&&k.ref,fe,L||k,!L)},S=(k,L,$,se)=>{if(k==null)r(L.el=a(L.children),$,se);else{const ie=L.el=k.el;L.children!==k.children&&u(ie,L.children)}},R=(k,L,$,se)=>{k==null?r(L.el=l(L.children||""),$,se):L.el=k.el},P=(k,L,$,se)=>{[k.el,k.anchor]=g(k.children,L,$,se,k.el,k.anchor)},w=({el:k,anchor:L},$,se)=>{let ie;for(;k&&k!==L;)ie=f(k),r(k,$,se),k=ie;r(L,$,se)},E=({el:k,anchor:L})=>{let $;for(;k&&k!==L;)$=f(k),i(k),k=$;i(L)},N=(k,L,$,se,ie,fe,Se,Ee,we)=>{L.type==="svg"?Se="svg":L.type==="math"&&(Se="mathml"),k==null?M(L,$,se,ie,fe,Se,Ee,we):_(k,L,ie,fe,Se,Ee,we)},M=(k,L,$,se,ie,fe,Se,Ee)=>{let we,pe;const{props:He,shapeFlag:Ie,transition:Ve,dirs:Ge}=k;if(we=k.el=o(k.type,fe,He&&He.is,He),Ie&8?c(we,k.children):Ie&16&&T(k.children,we,null,se,ie,Ym(k,fe),Se,Ee),Ge&&$i(k,null,se,"created"),I(we,k,k.scopeId,Se,se),He){for(const W in He)W!=="value"&&!gl(W)&&s(we,W,null,He[W],fe,se);"value"in He&&s(we,"value",null,He.value,fe),(pe=He.onVnodeBeforeMount)&&kr(pe,se,k)}Ge&&$i(k,null,se,"beforeMount");const Ke=zC(ie,Ve);Ke&&Ve.beforeEnter(we),r(we,L,$),((pe=He&&He.onVnodeMounted)||Ke||Ge)&&Vn(()=>{pe&&kr(pe,se,k),Ke&&Ve.enter(we),Ge&&$i(k,null,se,"mounted")},ie)},I=(k,L,$,se,ie)=>{if($&&p(k,$),se)for(let fe=0;fe<se.length;fe++)p(k,se[fe]);if(ie){let fe=ie.subTree;if(L===fe||yf(fe.type)&&(fe.ssContent===L||fe.ssFallback===L)){const Se=ie.vnode;I(k,Se,Se.scopeId,Se.slotScopeIds,ie.parent)}}},T=(k,L,$,se,ie,fe,Se,Ee,we=0)=>{for(let pe=we;pe<k.length;pe++){const He=k[pe]=Ee?Qs(k[pe]):Dr(k[pe]);b(null,He,L,$,se,ie,fe,Se,Ee)}},_=(k,L,$,se,ie,fe,Se)=>{const Ee=L.el=k.el;let{patchFlag:we,dynamicChildren:pe,dirs:He}=L;we|=k.patchFlag&16;const Ie=k.props||mt,Ve=L.props||mt;let Ge;if($&&Lo($,!1),(Ge=Ve.onVnodeBeforeUpdate)&&kr(Ge,$,L,k),He&&$i(L,k,$,"beforeUpdate"),$&&Lo($,!0),(Ie.innerHTML&&Ve.innerHTML==null||Ie.textContent&&Ve.textContent==null)&&c(Ee,""),pe?v(k.dynamicChildren,pe,Ee,$,se,Ym(L,ie),fe):Se||Q(k,L,Ee,null,$,se,Ym(L,ie),fe,!1),we>0){if(we&16)C(Ee,Ie,Ve,$,ie);else if(we&2&&Ie.class!==Ve.class&&s(Ee,"class",null,Ve.class,ie),we&4&&s(Ee,"style",Ie.style,Ve.style,ie),we&8){const Ke=L.dynamicProps;for(let W=0;W<Ke.length;W++){const oe=Ke[W],xe=Ie[oe],We=Ve[oe];(We!==xe||oe==="value")&&s(Ee,oe,xe,We,ie,$)}}we&1&&k.children!==L.children&&c(Ee,L.children)}else!Se&&pe==null&&C(Ee,Ie,Ve,$,ie);((Ge=Ve.onVnodeUpdated)||He)&&Vn(()=>{Ge&&kr(Ge,$,L,k),He&&$i(L,k,$,"updated")},se)},v=(k,L,$,se,ie,fe,Se)=>{for(let Ee=0;Ee<L.length;Ee++){const we=k[Ee],pe=L[Ee],He=we.el&&(we.type===Ne||!gi(we,pe)||we.shapeFlag&70)?h(we.el):$;b(we,pe,He,null,se,ie,fe,Se,!0)}},C=(k,L,$,se,ie)=>{if(L!==$){if(L!==mt)for(const fe in L)!gl(fe)&&!(fe in $)&&s(k,fe,L[fe],null,ie,se);for(const fe in $){if(gl(fe))continue;const Se=$[fe],Ee=L[fe];Se!==Ee&&fe!=="value"&&s(k,fe,Ee,Se,ie,se)}"value"in $&&s(k,"value",L.value,$.value,ie)}},A=(k,L,$,se,ie,fe,Se,Ee,we)=>{const pe=L.el=k?k.el:a(""),He=L.anchor=k?k.anchor:a("");let{patchFlag:Ie,dynamicChildren:Ve,slotScopeIds:Ge}=L;Ge&&(Ee=Ee?Ee.concat(Ge):Ge),k==null?(r(pe,$,se),r(He,$,se),T(L.children||[],$,He,ie,fe,Se,Ee,we)):Ie>0&&Ie&64&&Ve&&k.dynamicChildren?(v(k.dynamicChildren,Ve,$,ie,fe,Se,Ee),(L.key!=null||ie&&L===ie.subTree)&&a_(k,L,!0)):Q(k,L,$,He,ie,fe,Se,Ee,we)},O=(k,L,$,se,ie,fe,Se,Ee,we)=>{L.slotScopeIds=Ee,k==null?L.shapeFlag&512?ie.ctx.activate(L,$,se,Se,we):z(L,$,se,ie,fe,Se,we):F(k,L,we)},z=(k,L,$,se,ie,fe,Se)=>{const Ee=k.component=nA(k,se,ie);if(Id(k)&&(Ee.ctx.renderer=le),iA(Ee,!1,Se),Ee.asyncDep){if(ie&&ie.registerDep(Ee,U,Se),!k.el){const we=Ee.subTree=et(Pn);R(null,we,L,$)}}else U(Ee,k,L,$,ie,fe,Se)},F=(k,L,$)=>{const se=L.component=k.component;if(PL(k,L,$))if(se.asyncDep&&!se.asyncResolved){H(se,L,$);return}else se.next=L,se.update();else L.el=k.el,se.vnode=L},U=(k,L,$,se,ie,fe,Se)=>{const Ee=()=>{if(k.isMounted){let{next:Ie,bu:Ve,u:Ge,parent:Ke,vnode:W}=k;{const Mt=KC(k);if(Mt){Ie&&(Ie.el=W.el,H(k,Ie,Se)),Mt.asyncDep.then(()=>{k.isUnmounted||Ee()});return}}let oe=Ie,xe;Lo(k,!1),Ie?(Ie.el=W.el,H(k,Ie,Se)):Ie=W,Ve&&vl(Ve),(xe=Ie.props&&Ie.props.onVnodeBeforeUpdate)&&kr(xe,Ke,Ie,W),Lo(k,!0);const We=Wh(k),ct=k.subTree;k.subTree=We,b(ct,We,h(ct.el),K(ct),k,ie,fe),Ie.el=We.el,oe===null&&l_(k,We.el),Ge&&Vn(Ge,ie),(xe=Ie.props&&Ie.props.onVnodeUpdated)&&Vn(()=>kr(xe,Ke,Ie,W),ie)}else{let Ie;const{el:Ve,props:Ge}=L,{bm:Ke,m:W,parent:oe,root:xe,type:We}=k,ct=so(L);if(Lo(k,!1),Ke&&vl(Ke),!ct&&(Ie=Ge&&Ge.onVnodeBeforeMount)&&kr(Ie,oe,L),Lo(k,!0),Ve&&ee){const Mt=()=>{k.subTree=Wh(k),ee(Ve,k.subTree,k,ie,null)};ct&&We.__asyncHydrate?We.__asyncHydrate(Ve,k,Mt):Mt()}else{xe.ce&&xe.ce._injectChildStyle(We);const Mt=k.subTree=Wh(k);b(null,Mt,$,se,k,ie,fe),L.el=Mt.el}if(W&&Vn(W,ie),!ct&&(Ie=Ge&&Ge.onVnodeMounted)){const Mt=L;Vn(()=>kr(Ie,oe,Mt),ie)}(L.shapeFlag&256||oe&&so(oe.vnode)&&oe.vnode.shapeFlag&256)&&k.a&&Vn(k.a,ie),k.isMounted=!0,L=$=se=null}};k.scope.on();const we=k.effect=new cf(Ee);k.scope.off();const pe=k.update=we.run.bind(we),He=k.job=we.runIfDirty.bind(we);He.i=k,He.id=k.uid,we.scheduler=()=>Xy(He),Lo(k,!0),pe()},H=(k,L,$)=>{L.component=k;const se=k.vnode.props;k.vnode=L,k.next=null,hL(k,L.props,se,$),gL(k,L.children,$),Io(),Tw(k),So()},Q=(k,L,$,se,ie,fe,Se,Ee,we=!1)=>{const pe=k&&k.children,He=k?k.shapeFlag:0,Ie=L.children,{patchFlag:Ve,shapeFlag:Ge}=L;if(Ve>0){if(Ve&128){D(pe,Ie,$,se,ie,fe,Se,Ee,we);return}else if(Ve&256){V(pe,Ie,$,se,ie,fe,Se,Ee,we);return}}Ge&8?(He&16&&B(pe,ie,fe),Ie!==pe&&c($,Ie)):He&16?Ge&16?D(pe,Ie,$,se,ie,fe,Se,Ee,we):B(pe,ie,fe,!0):(He&8&&c($,""),Ge&16&&T(Ie,$,se,ie,fe,Se,Ee,we))},V=(k,L,$,se,ie,fe,Se,Ee,we)=>{k=k||pl,L=L||pl;const pe=k.length,He=L.length,Ie=Math.min(pe,He);let Ve;for(Ve=0;Ve<Ie;Ve++){const Ge=L[Ve]=we?Qs(L[Ve]):Dr(L[Ve]);b(k[Ve],Ge,$,null,ie,fe,Se,Ee,we)}pe>He?B(k,ie,fe,!0,!1,Ie):T(L,$,se,ie,fe,Se,Ee,we,Ie)},D=(k,L,$,se,ie,fe,Se,Ee,we)=>{let pe=0;const He=L.length;let Ie=k.length-1,Ve=He-1;for(;pe<=Ie&&pe<=Ve;){const Ge=k[pe],Ke=L[pe]=we?Qs(L[pe]):Dr(L[pe]);if(gi(Ge,Ke))b(Ge,Ke,$,null,ie,fe,Se,Ee,we);else break;pe++}for(;pe<=Ie&&pe<=Ve;){const Ge=k[Ie],Ke=L[Ve]=we?Qs(L[Ve]):Dr(L[Ve]);if(gi(Ge,Ke))b(Ge,Ke,$,null,ie,fe,Se,Ee,we);else break;Ie--,Ve--}if(pe>Ie){if(pe<=Ve){const Ge=Ve+1,Ke=Ge<He?L[Ge].el:se;for(;pe<=Ve;)b(null,L[pe]=we?Qs(L[pe]):Dr(L[pe]),$,Ke,ie,fe,Se,Ee,we),pe++}}else if(pe>Ve)for(;pe<=Ie;)X(k[pe],ie,fe,!0),pe++;else{const Ge=pe,Ke=pe,W=new Map;for(pe=Ke;pe<=Ve;pe++){const Be=L[pe]=we?Qs(L[pe]):Dr(L[pe]);Be.key!=null&&W.set(Be.key,pe)}let oe,xe=0;const We=Ve-Ke+1;let ct=!1,Mt=0;const Hn=new Array(We);for(pe=0;pe<We;pe++)Hn[pe]=0;for(pe=Ge;pe<=Ie;pe++){const Be=k[pe];if(xe>=We){X(Be,ie,fe,!0);continue}let je;if(Be.key!=null)je=W.get(Be.key);else for(oe=Ke;oe<=Ve;oe++)if(Hn[oe-Ke]===0&&gi(Be,L[oe])){je=oe;break}je===void 0?X(Be,ie,fe,!0):(Hn[je-Ke]=pe+1,je>=Mt?Mt=je:ct=!0,b(Be,L[je],$,null,ie,fe,Se,Ee,we),xe++)}const Oe=ct?_L(Hn):pl;for(oe=Oe.length-1,pe=We-1;pe>=0;pe--){const Be=Ke+pe,je=L[Be],Wn=Be+1<He?L[Be+1].el:se;Hn[pe]===0?b(null,je,$,Wn,ie,fe,Se,Ee,we):ct&&(oe<0||pe!==Oe[oe]?Z(je,$,Wn,2):oe--)}}},Z=(k,L,$,se,ie=null)=>{const{el:fe,type:Se,transition:Ee,children:we,shapeFlag:pe}=k;if(pe&6){Z(k.component.subTree,L,$,se);return}if(pe&128){k.suspense.move(L,$,se);return}if(pe&64){Se.move(k,L,$,le);return}if(Se===Ne){r(fe,L,$);for(let Ie=0;Ie<we.length;Ie++)Z(we[Ie],L,$,se);r(k.anchor,L,$);return}if(Se===bl){w(k,L,$);return}if(se!==2&&pe&1&&Ee)if(se===0)Ee.beforeEnter(fe),r(fe,L,$),Vn(()=>Ee.enter(fe),ie);else{const{leave:Ie,delayLeave:Ve,afterLeave:Ge}=Ee,Ke=()=>r(fe,L,$),W=()=>{Ie(fe,()=>{Ke(),Ge&&Ge()})};Ve?Ve(fe,Ke,W):W()}else r(fe,L,$)},X=(k,L,$,se=!1,ie=!1)=>{const{type:fe,props:Se,ref:Ee,children:we,dynamicChildren:pe,shapeFlag:He,patchFlag:Ie,dirs:Ve,cacheIndex:Ge}=k;if(Ie===-2&&(ie=!1),Ee!=null&&mf(Ee,null,$,k,!0),Ge!=null&&(L.renderCache[Ge]=void 0),He&256){L.ctx.deactivate(k);return}const Ke=He&1&&Ve,W=!so(k);let oe;if(W&&(oe=Se&&Se.onVnodeBeforeUnmount)&&kr(oe,L,k),He&6)te(k.component,$,se);else{if(He&128){k.suspense.unmount($,se);return}Ke&&$i(k,null,L,"beforeUnmount"),He&64?k.type.remove(k,L,$,le,se):pe&&!pe.hasOnce&&(fe!==Ne||Ie>0&&Ie&64)?B(pe,L,$,!1,!0):(fe===Ne&&Ie&384||!ie&&He&16)&&B(we,L,$),se&&ce(k)}(W&&(oe=Se&&Se.onVnodeUnmounted)||Ke)&&Vn(()=>{oe&&kr(oe,L,k),Ke&&$i(k,null,L,"unmounted")},$)},ce=k=>{const{type:L,el:$,anchor:se,transition:ie}=k;if(L===Ne){be($,se);return}if(L===bl){E(k);return}const fe=()=>{i($),ie&&!ie.persisted&&ie.afterLeave&&ie.afterLeave()};if(k.shapeFlag&1&&ie&&!ie.persisted){const{leave:Se,delayLeave:Ee}=ie,we=()=>Se($,fe);Ee?Ee(k.el,fe,we):we()}else fe()},be=(k,L)=>{let $;for(;k!==L;)$=f(k),i(k),k=$;i(L)},te=(k,L,$)=>{const{bum:se,scope:ie,job:fe,subTree:Se,um:Ee,m:we,a:pe}=k;vf(we),vf(pe),se&&vl(se),ie.stop(),fe&&(fe.flags|=8,X(Se,k,L,$)),Ee&&Vn(Ee,L),Vn(()=>{k.isUnmounted=!0},L),L&&L.pendingBranch&&!L.isUnmounted&&k.asyncDep&&!k.asyncResolved&&k.suspenseId===L.pendingId&&(L.deps--,L.deps===0&&L.resolve())},B=(k,L,$,se=!1,ie=!1,fe=0)=>{for(let Se=fe;Se<k.length;Se++)X(k[Se],L,$,se,ie)},K=k=>{if(k.shapeFlag&6)return K(k.component.subTree);if(k.shapeFlag&128)return k.suspense.next();const L=f(k.anchor||k.el),$=L&&L[_C];return $?f($):L};let re=!1;const Y=(k,L,$)=>{k==null?L._vnode&&X(L._vnode,null,null,!0):b(L._vnode||null,k,L,null,null,null,$),L._vnode=k,re||(re=!0,Tw(),pf(),re=!1)},le={p:b,um:X,m:Z,r:ce,mt:z,mc:T,pc:Q,pbc:v,n:K,o:t};let ye,ee;return e&&([ye,ee]=e(le)),{render:Y,hydrate:ye,createApp:uL(Y,ye)}}function Ym({type:t,props:e},n){return n==="svg"&&t==="foreignObject"||n==="mathml"&&t==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:n}function Lo({effect:t,job:e},n){n?(t.flags|=32,e.flags|=4):(t.flags&=-33,e.flags&=-5)}function zC(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function a_(t,e,n=!1){const r=t.children,i=e.children;if(Fe(r)&&Fe(i))for(let s=0;s<r.length;s++){const o=r[s];let a=i[s];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=i[s]=Qs(i[s]),a.el=o.el),!n&&a.patchFlag!==-2&&a_(o,a)),a.type===Jo&&(a.el=o.el)}}function _L(t){const e=t.slice(),n=[0];let r,i,s,o,a;const l=t.length;for(r=0;r<l;r++){const u=t[r];if(u!==0){if(i=n[n.length-1],t[i]<u){e[r]=i,n.push(r);continue}for(s=0,o=n.length-1;s<o;)a=s+o>>1,t[n[a]]<u?s=a+1:o=a;u<t[n[s]]&&(s>0&&(e[r]=n[s-1]),n[s]=r)}}for(s=n.length,o=n[s-1];s-- >0;)n[s]=o,o=e[o];return n}function KC(t){const e=t.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:KC(e)}function vf(t){if(t)for(let e=0;e<t.length;e++)t[e].flags|=8}const bL=Symbol.for("v-scx"),wL=()=>Vr(bL);function Nne(t,e){return Sd(t,null,e)}function TL(t,e){return Sd(t,null,{flush:"post"})}function EL(t,e){return Sd(t,null,{flush:"sync"})}function Nn(t,e,n){return Sd(t,e,n)}function Sd(t,e,n=mt){const{immediate:r,deep:i,flush:s,once:o}=n,a=Yt({},n),l=e&&r||!e&&s!=="post";let u;if(Rl){if(s==="sync"){const p=wL();u=p.__watcherHandles||(p.__watcherHandles=[])}else if(!l){const p=()=>{};return p.stop=Ti,p.resume=Ti,p.pause=Ti,p}}const c=Rn;a.call=(p,g,b)=>Pi(p,c,g,b);let h=!1;s==="post"?a.scheduler=p=>{Vn(p,c&&c.suspense)}:s!=="sync"&&(h=!0,a.scheduler=(p,g)=>{g?p():Xy(p)}),a.augmentJob=p=>{e&&(p.flags|=4),h&&(p.flags|=2,c&&(p.id=c.uid,p.i=c))};const f=OM(t,e,a);return Rl&&(u?u.push(f):l&&f()),f}function IL(t,e,n){const r=this.proxy,i=Zt(t)?t.includes(".")?YC(r,t):()=>r[t]:t.bind(r,r);let s;Ze(e)?s=e:(s=e.handler,n=e);const o=aa(this),a=Sd(i,s.bind(r),n);return o(),a}function YC(t,e){const n=e.split(".");return()=>{let r=t;for(let i=0;i<n.length&&r;i++)r=r[n[i]];return r}}function Mne(t,e,n=mt){const r=Xr(),i=gr(e),s=xr(e),o=GC(t,i),a=wM((l,u)=>{let c,h=mt,f;return EL(()=>{const p=t[i];Sr(c,p)&&(c=p,u())}),{get(){return l(),n.get?n.get(c):c},set(p){const g=n.set?n.set(p):p;if(!Sr(g,c)&&!(h!==mt&&Sr(p,h)))return;const b=r.vnode.props;b&&(e in b||i in b||s in b)&&(`onUpdate:${e}`in b||`onUpdate:${i}`in b||`onUpdate:${s}`in b)||(c=p,u()),r.emit(`update:${e}`,g),Sr(p,g)&&Sr(p,h)&&!Sr(g,f)&&u(),h=p,f=g}}});return a[Symbol.iterator]=()=>{let l=0;return{next(){return l<2?{value:l++?o||mt:a,done:!1}:{done:!0}}}},a}const GC=(t,e)=>e==="modelValue"||e==="model-value"?t.modelModifiers:t[`${e}Modifiers`]||t[`${gr(e)}Modifiers`]||t[`${xr(e)}Modifiers`];function SL(t,e,...n){if(t.isUnmounted)return;const r=t.vnode.props||mt;let i=n;const s=e.startsWith("update:"),o=s&&GC(r,e.slice(7));o&&(o.trim&&(i=n.map(c=>Zt(c)?c.trim():c)),o.number&&(i=n.map(lf)));let a,l=r[a=jh(e)]||r[a=jh(gr(e))];!l&&s&&(l=r[a=jh(xr(e))]),l&&Pi(l,t,6,i);const u=r[a+"Once"];if(u){if(!t.emitted)t.emitted={};else if(t.emitted[a])return;t.emitted[a]=!0,Pi(u,t,6,i)}}function QC(t,e,n=!1){const r=e.emitsCache,i=r.get(t);if(i!==void 0)return i;const s=t.emits;let o={},a=!1;if(!Ze(t)){const l=u=>{const c=QC(u,e,!0);c&&(a=!0,Yt(o,c))};!n&&e.mixins.length&&e.mixins.forEach(l),t.extends&&l(t.extends),t.mixins&&t.mixins.forEach(l)}return!s&&!a?(Wt(t)&&r.set(t,null),null):(Fe(s)?s.forEach(l=>o[l]=null):Yt(o,s),Wt(t)&&r.set(t,o),o)}function Ap(t,e){return!t||!Td(e)?!1:(e=e.slice(2).replace(/Once$/,""),Dt(t,e[0].toLowerCase()+e.slice(1))||Dt(t,xr(e))||Dt(t,e))}function Wh(t){const{type:e,vnode:n,proxy:r,withProxy:i,propsOptions:[s],slots:o,attrs:a,emit:l,render:u,renderCache:c,props:h,data:f,setupState:p,ctx:g,inheritAttrs:b}=t,S=Dc(t);let R,P;try{if(n.shapeFlag&4){const E=i||r,N=E;R=Dr(u.call(N,E,c,h,p,f,g)),P=a}else{const E=e;R=Dr(E.length>1?E(h,{attrs:a,slots:o,emit:l}):E(h,null)),P=e.props?a:AL(a)}}catch(E){oc.length=0,iu(E,t,1),R=et(Pn)}let w=R;if(P&&b!==!1){const E=Object.keys(P),{shapeFlag:N}=w;E.length&&N&7&&(s&&E.some($y)&&(P=OL(P,s)),w=Ss(w,P,!1,!0))}return n.dirs&&(w=Ss(w,null,!1,!0),w.dirs=w.dirs?w.dirs.concat(n.dirs):n.dirs),n.transition&&go(w,n.transition),R=w,Dc(S),R}function CL(t,e=!0){let n;for(let r=0;r<t.length;r++){const i=t[r];if(vo(i)){if(i.type!==Pn||i.children==="v-if"){if(n)return;n=i}}else return}return n}const AL=t=>{let e;for(const n in t)(n==="class"||n==="style"||Td(n))&&((e||(e={}))[n]=t[n]);return e},OL=(t,e)=>{const n={};for(const r in t)(!$y(r)||!(r.slice(9)in e))&&(n[r]=t[r]);return n};function PL(t,e,n){const{props:r,children:i,component:s}=t,{props:o,children:a,patchFlag:l}=e,u=s.emitsOptions;if(e.dirs||e.transition)return!0;if(n&&l>=0){if(l&1024)return!0;if(l&16)return r?xw(r,o,u):!!o;if(l&8){const c=e.dynamicProps;for(let h=0;h<c.length;h++){const f=c[h];if(o[f]!==r[f]&&!Ap(u,f))return!0}}}else return(i||a)&&(!a||!a.$stable)?!0:r===o?!1:r?o?xw(r,o,u):!0:!!o;return!1}function xw(t,e,n){const r=Object.keys(e);if(r.length!==Object.keys(t).length)return!0;for(let i=0;i<r.length;i++){const s=r[i];if(e[s]!==t[s]&&!Ap(n,s))return!0}return!1}function l_({vnode:t,parent:e},n){for(;e;){const r=e.subTree;if(r.suspense&&r.suspense.activeBranch===t&&(r.el=t.el),r===t)(t=e.vnode).el=n,e=e.parent;else break}}const yf=t=>t.__isSuspense;let cv=0;const kL={name:"Suspense",__isSuspense:!0,process(t,e,n,r,i,s,o,a,l,u){if(t==null)RL(e,n,r,i,s,o,a,l,u);else{if(s&&s.deps>0&&!t.suspense.isInFallback){e.suspense=t.suspense,e.suspense.vnode=e,e.el=t.el;return}DL(t,e,n,r,i,o,a,l,u)}},hydrate:xL,normalize:NL},Lne=kL;function Mc(t,e){const n=t.props&&t.props[e];Ze(n)&&n()}function RL(t,e,n,r,i,s,o,a,l){const{p:u,o:{createElement:c}}=l,h=c("div"),f=t.suspense=XC(t,i,r,e,h,n,s,o,a,l);u(null,f.pendingBranch=t.ssContent,h,null,r,f,s,o),f.deps>0?(Mc(t,"onPending"),Mc(t,"onFallback"),u(null,t.ssFallback,e,n,r,null,s,o),_l(f,t.ssFallback)):f.resolve(!1,!0)}function DL(t,e,n,r,i,s,o,a,{p:l,um:u,o:{createElement:c}}){const h=e.suspense=t.suspense;h.vnode=e,e.el=t.el;const f=e.ssContent,p=e.ssFallback,{activeBranch:g,pendingBranch:b,isInFallback:S,isHydrating:R}=h;if(b)h.pendingBranch=f,gi(f,b)?(l(b,f,h.hiddenContainer,null,i,h,s,o,a),h.deps<=0?h.resolve():S&&(R||(l(g,p,n,r,i,null,s,o,a),_l(h,p)))):(h.pendingId=cv++,R?(h.isHydrating=!1,h.activeBranch=b):u(b,i,h),h.deps=0,h.effects.length=0,h.hiddenContainer=c("div"),S?(l(null,f,h.hiddenContainer,null,i,h,s,o,a),h.deps<=0?h.resolve():(l(g,p,n,r,i,null,s,o,a),_l(h,p))):g&&gi(f,g)?(l(g,f,n,r,i,h,s,o,a),h.resolve(!0)):(l(null,f,h.hiddenContainer,null,i,h,s,o,a),h.deps<=0&&h.resolve()));else if(g&&gi(f,g))l(g,f,n,r,i,h,s,o,a),_l(h,f);else if(Mc(e,"onPending"),h.pendingBranch=f,f.shapeFlag&512?h.pendingId=f.component.suspenseId:h.pendingId=cv++,l(null,f,h.hiddenContainer,null,i,h,s,o,a),h.deps<=0)h.resolve();else{const{timeout:P,pendingId:w}=h;P>0?setTimeout(()=>{h.pendingId===w&&h.fallback(p)},P):P===0&&h.fallback(p)}}function XC(t,e,n,r,i,s,o,a,l,u,c=!1){const{p:h,m:f,um:p,n:g,o:{parentNode:b,remove:S}}=u;let R;const P=ML(t);P&&e&&e.pendingBranch&&(R=e.pendingId,e.deps++);const w=t.props?uf(t.props.timeout):void 0,E=s,N={vnode:t,parent:e,parentComponent:n,namespace:o,container:r,hiddenContainer:i,deps:0,pendingId:cv++,timeout:typeof w=="number"?w:-1,activeBranch:null,pendingBranch:null,isInFallback:!c,isHydrating:c,isUnmounted:!1,effects:[],resolve(M=!1,I=!1){const{vnode:T,activeBranch:_,pendingBranch:v,pendingId:C,effects:A,parentComponent:O,container:z}=N;let F=!1;N.isHydrating?N.isHydrating=!1:M||(F=_&&v.transition&&v.transition.mode==="out-in",F&&(_.transition.afterLeave=()=>{C===N.pendingId&&(f(v,z,s===E?g(_):s,0),rv(A))}),_&&(b(_.el)===z&&(s=g(_)),p(_,O,N,!0)),F||f(v,z,s,0)),_l(N,v),N.pendingBranch=null,N.isInFallback=!1;let U=N.parent,H=!1;for(;U;){if(U.pendingBranch){U.effects.push(...A),H=!0;break}U=U.parent}!H&&!F&&rv(A),N.effects=[],P&&e&&e.pendingBranch&&R===e.pendingId&&(e.deps--,e.deps===0&&!I&&e.resolve()),Mc(T,"onResolve")},fallback(M){if(!N.pendingBranch)return;const{vnode:I,activeBranch:T,parentComponent:_,container:v,namespace:C}=N;Mc(I,"onFallback");const A=g(T),O=()=>{N.isInFallback&&(h(null,M,v,A,_,null,C,a,l),_l(N,M))},z=M.transition&&M.transition.mode==="out-in";z&&(T.transition.afterLeave=O),N.isInFallback=!0,p(T,_,null,!0),z||O()},move(M,I,T){N.activeBranch&&f(N.activeBranch,M,I,T),N.container=M},next(){return N.activeBranch&&g(N.activeBranch)},registerDep(M,I,T){const _=!!N.pendingBranch;_&&N.deps++;const v=M.vnode.el;M.asyncDep.catch(C=>{iu(C,M,0)}).then(C=>{if(M.isUnmounted||N.isUnmounted||N.pendingId!==M.suspenseId)return;M.asyncResolved=!0;const{vnode:A}=M;fv(M,C,!1),v&&(A.el=v);const O=!v&&M.subTree.el;I(M,A,b(v||M.subTree.el),v?null:g(M.subTree),N,o,T),O&&S(O),l_(M,A.el),_&&--N.deps===0&&N.resolve()})},unmount(M,I){N.isUnmounted=!0,N.activeBranch&&p(N.activeBranch,n,M,I),N.pendingBranch&&p(N.pendingBranch,n,M,I)}};return N}function xL(t,e,n,r,i,s,o,a,l){const u=e.suspense=XC(e,r,n,t.parentNode,document.createElement("div"),null,i,s,o,a,!0),c=l(t,u.pendingBranch=e.ssContent,n,u,s,o);return u.deps===0&&u.resolve(!1,!0),c}function NL(t){const{shapeFlag:e,children:n}=t,r=e&32;t.ssContent=Nw(r?n.default:n),t.ssFallback=r?Nw(n.fallback):et(Pn)}function Nw(t){let e;if(Ze(t)){const n=oa&&t._c;n&&(t._d=!1,j()),t=t(),n&&(t._d=!0,e=fr,ZC())}return Fe(t)&&(t=CL(t)),t=Dr(t),e&&!t.dynamicChildren&&(t.dynamicChildren=e.filter(n=>n!==t)),t}function JC(t,e){e&&e.pendingBranch?Fe(t)?e.effects.push(...t):e.effects.push(t):rv(t)}function _l(t,e){t.activeBranch=e;const{vnode:n,parentComponent:r}=t;let i=e.el;for(;!i&&e.component;)e=e.component.subTree,i=e.el;n.el=i,r&&r.subTree===n&&(r.vnode.el=i,l_(r,i))}function ML(t){const e=t.props&&t.props.suspensible;return e!=null&&e!==!1}const Ne=Symbol.for("v-fgt"),Jo=Symbol.for("v-txt"),Pn=Symbol.for("v-cmt"),bl=Symbol.for("v-stc"),oc=[];let fr=null;function j(t=!1){oc.push(fr=t?null:[])}function ZC(){oc.pop(),fr=oc[oc.length-1]||null}let oa=1;function Mw(t){oa+=t,t<0&&fr&&(fr.hasOnce=!0)}function eA(t){return t.dynamicChildren=oa>0?fr||pl:null,ZC(),oa>0&&fr&&fr.push(t),t}function J(t,e,n,r,i,s){return eA(Ce(t,e,n,r,i,s,!0))}function qe(t,e,n,r,i){return eA(et(t,e,n,r,i,!0))}function vo(t){return t?t.__v_isVNode===!0:!1}function gi(t,e){return t.type===e.type&&t.key===e.key}function Vne(t){}const tA=({key:t})=>t??null,qh=({ref:t,ref_key:e,ref_for:n})=>(typeof t=="number"&&(t=""+t),t!=null?Zt(t)||ln(t)||Ze(t)?{i:xn,r:t,k:e,f:!!n}:t:null);function Ce(t,e=null,n=null,r=0,i=null,s=t===Ne?0:1,o=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&tA(e),ref:e&&qh(e),scopeId:Sp,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:s,patchFlag:r,dynamicProps:i,dynamicChildren:null,appContext:null,ctx:xn};return a?(u_(l,n),s&128&&t.normalize(l)):n&&(l.shapeFlag|=Zt(n)?8:16),oa>0&&!o&&fr&&(l.patchFlag>0||s&6)&&l.patchFlag!==32&&fr.push(l),l}const et=LL;function LL(t,e=null,n=null,r=0,i=null,s=!1){if((!t||t===RC)&&(t=Pn),vo(t)){const a=Ss(t,e,!0);return n&&u_(a,n),oa>0&&!s&&fr&&(a.shapeFlag&6?fr[fr.indexOf(t)]=a:fr.push(a)),a.patchFlag=-2,a}if(BL(t)&&(t=t.__vccOpts),e){e=Jn(e);let{class:a,style:l}=e;a&&!Zt(a)&&(e.class=tt(a)),Wt(l)&&(Gy(l)&&!Fe(l)&&(l=Yt({},l)),e.style=Or(l))}const o=Zt(t)?1:yf(t)?128:bC(t)?64:Wt(t)?4:Ze(t)?2:0;return Ce(t,e,n,r,i,o,s,!0)}function Jn(t){return t?Gy(t)||FC(t)?Yt({},t):t:null}function Ss(t,e,n=!1,r=!1){const{props:i,ref:s,patchFlag:o,children:a,transition:l}=t,u=e?de(i||{},e):i,c={__v_isVNode:!0,__v_skip:!0,type:t.type,props:u,key:u&&tA(u),ref:e&&e.ref?n&&s?Fe(s)?s.concat(qh(e)):[s,qh(e)]:qh(e):s,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:a,target:t.target,targetStart:t.targetStart,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==Ne?o===-1?16:o|16:o,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:l,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&Ss(t.ssContent),ssFallback:t.ssFallback&&Ss(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce};return l&&r&&go(c,l.clone(c)),c}function kn(t=" ",e=0){return et(Jo,null,t,e)}function Fne(t,e){const n=et(bl,null,t);return n.staticCount=e,n}function ue(t="",e=!1){return e?(j(),qe(Pn,null,t)):et(Pn,null,t)}function Dr(t){return t==null||typeof t=="boolean"?et(Pn):Fe(t)?et(Ne,null,t.slice()):vo(t)?Qs(t):et(Jo,null,String(t))}function Qs(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:Ss(t)}function u_(t,e){let n=0;const{shapeFlag:r}=t;if(e==null)e=null;else if(Fe(e))n=16;else if(typeof e=="object")if(r&65){const i=e.default;i&&(i._c&&(i._d=!1),u_(t,i()),i._c&&(i._d=!0));return}else{n=32;const i=e._;!i&&!FC(e)?e._ctx=xn:i===3&&xn&&(xn.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else Ze(e)?(e={default:e,_ctx:xn},n=32):(e=String(e),r&64?(n=16,e=[kn(e)]):n=8);t.children=e,t.shapeFlag|=n}function de(...t){const e={};for(let n=0;n<t.length;n++){const r=t[n];for(const i in r)if(i==="class")e.class!==r.class&&(e.class=tt([e.class,r.class]));else if(i==="style")e.style=Or([e.style,r.style]);else if(Td(i)){const s=e[i],o=r[i];o&&s!==o&&!(Fe(s)&&s.includes(o))&&(e[i]=s?[].concat(s,o):o)}else i!==""&&(e[i]=r[i])}return e}function kr(t,e,n,r=null){Pi(t,e,7,[n,r])}const VL=MC();let FL=0;function nA(t,e,n){const r=t.type,i=(e?e.appContext:t.appContext)||VL,s={uid:FL++,vnode:t,type:r,parent:e,appContext:i,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new zS(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(i.provides),ids:e?e.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:UC(r,i),emitsOptions:QC(r,i),emit:null,emitted:null,propsDefaults:mt,inheritAttrs:r.inheritAttrs,ctx:mt,data:mt,props:mt,attrs:mt,slots:mt,refs:mt,setupState:mt,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return s.ctx={_:s},s.root=e?e.root:s,s.emit=SL.bind(null,s),t.ce&&t.ce(s),s}let Rn=null;const Xr=()=>Rn||xn;let _f,dv;{const t=_p(),e=(n,r)=>{let i;return(i=t[n])||(i=t[n]=[]),i.push(r),s=>{i.length>1?i.forEach(o=>o(s)):i[0](s)}};_f=e("__VUE_INSTANCE_SETTERS__",n=>Rn=n),dv=e("__VUE_SSR_SETTERS__",n=>Rl=n)}const aa=t=>{const e=Rn;return _f(t),t.scope.on(),()=>{t.scope.off(),_f(e)}},hv=()=>{Rn&&Rn.scope.off(),_f(null)};function rA(t){return t.vnode.shapeFlag&4}let Rl=!1;function iA(t,e=!1,n=!1){e&&dv(e);const{props:r,children:i}=t.vnode,s=rA(t);dL(t,r,s,e),mL(t,i,n);const o=s?$L(t,e):void 0;return e&&dv(!1),o}function $L(t,e){const n=t.type;t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,ov);const{setup:r}=n;if(r){Io();const i=t.setupContext=r.length>1?oA(t):null,s=aa(t),o=Ed(r,t,0,[t.props,i]),a=By(o);if(So(),s(),(a||t.sp)&&!so(t)&&Zy(t),a){if(o.then(hv,hv),e)return o.then(l=>{fv(t,l,e)}).catch(l=>{iu(l,t,0)});t.asyncDep=o}else fv(t,o,e)}else sA(t,e)}function fv(t,e,n){Ze(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:Wt(e)&&(t.setupState=hC(e)),sA(t,n)}let bf,pv;function $ne(t){bf=t,pv=e=>{e.render._rc&&(e.withProxy=new Proxy(e.ctx,nL))}}const Une=()=>!bf;function sA(t,e,n){const r=t.type;if(!t.render){if(!e&&bf&&!r.render){const i=r.template||s_(t).template;if(i){const{isCustomElement:s,compilerOptions:o}=t.appContext.config,{delimiters:a,compilerOptions:l}=r,u=Yt(Yt({isCustomElement:s,delimiters:a},o),l);r.render=bf(i,u)}}t.render=r.render||Ti,pv&&pv(t)}{const i=aa(t);Io();try{rL(t)}finally{So(),i()}}}const UL={get(t,e){return lr(t,"get",""),t[e]}};function oA(t){const e=n=>{t.exposed=n||{}};return{attrs:new Proxy(t.attrs,UL),slots:t.slots,emit:t.emit,expose:e}}function Cd(t){return t.exposed?t.exposeProxy||(t.exposeProxy=new Proxy(hC(Qy(t.exposed)),{get(e,n){if(n in e)return e[n];if(n in ic)return ic[n](t)},has(e,n){return n in e||n in ic}})):t.proxy}function mv(t,e=!0){return Ze(t)?t.displayName||t.name:t.name||e&&t.__name}function BL(t){return Ze(t)&&"__vccOpts"in t}const he=(t,e)=>CM(t,e,Rl);function Dl(t,e,n){const r=arguments.length;return r===2?Wt(e)&&!Fe(e)?vo(e)?et(t,null,[e]):et(t,e):et(t,null,e):(r>3?n=Array.prototype.slice.call(arguments,2):r===3&&vo(n)&&(n=[n]),et(t,e,n))}function Bne(){}function jne(t,e,n,r){const i=n[r];if(i&&jL(i,t))return i;const s=e();return s.memo=t.slice(),s.cacheIndex=r,n[r]=s}function jL(t,e){const n=t.memo;if(n.length!=e.length)return!1;for(let r=0;r<n.length;r++)if(Sr(n[r],e[r]))return!1;return oa>0&&fr&&fr.push(t),!0}const HL="3.5.12",Hne=Ti,Wne=RM,qne=Qa,zne=yC,WL={createComponentInstance:nA,setupComponent:iA,renderComponentRoot:Wh,setCurrentRenderingInstance:Dc,isVNode:vo,normalizeVNode:Dr,getComponentPublicInstance:Cd,ensureValidVNode:i_,pushWarningContext:PM,popWarningContext:kM},Kne=WL,Yne=null,Gne=null,Qne=null;/**
* @vue/runtime-dom v3.5.12
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let gv;const Lw=typeof window<"u"&&window.trustedTypes;if(Lw)try{gv=Lw.createPolicy("vue",{createHTML:t=>t})}catch{}const aA=gv?t=>gv.createHTML(t):t=>t,qL="http://www.w3.org/2000/svg",zL="http://www.w3.org/1998/Math/MathML",ds=typeof document<"u"?document:null,Vw=ds&&ds.createElement("template"),KL={insert:(t,e,n)=>{e.insertBefore(t,n||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,n,r)=>{const i=e==="svg"?ds.createElementNS(qL,t):e==="mathml"?ds.createElementNS(zL,t):n?ds.createElement(t,{is:n}):ds.createElement(t);return t==="select"&&r&&r.multiple!=null&&i.setAttribute("multiple",r.multiple),i},createText:t=>ds.createTextNode(t),createComment:t=>ds.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>ds.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,n,r,i,s){const o=n?n.previousSibling:e.lastChild;if(i&&(i===s||i.nextSibling))for(;e.insertBefore(i.cloneNode(!0),n),!(i===s||!(i=i.nextSibling)););else{Vw.innerHTML=aA(r==="svg"?`<svg>${t}</svg>`:r==="mathml"?`<math>${t}</math>`:t);const a=Vw.content;if(r==="svg"||r==="mathml"){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}e.insertBefore(a,n)}return[o?o.nextSibling:e.firstChild,n?n.previousSibling:e.lastChild]}},Fs="transition",ku="animation",xl=Symbol("_vtc"),lA={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},uA=Yt({},IC,lA),YL=t=>(t.displayName="Transition",t.props=uA,t),Co=YL((t,{slots:e})=>Dl(FM,cA(t),e)),Vo=(t,e=[])=>{Fe(t)?t.forEach(n=>n(...e)):t&&t(...e)},Fw=t=>t?Fe(t)?t.some(e=>e.length>1):t.length>1:!1;function cA(t){const e={};for(const A in t)A in lA||(e[A]=t[A]);if(t.css===!1)return e;const{name:n="v",type:r,duration:i,enterFromClass:s=`${n}-enter-from`,enterActiveClass:o=`${n}-enter-active`,enterToClass:a=`${n}-enter-to`,appearFromClass:l=s,appearActiveClass:u=o,appearToClass:c=a,leaveFromClass:h=`${n}-leave-from`,leaveActiveClass:f=`${n}-leave-active`,leaveToClass:p=`${n}-leave-to`}=t,g=GL(i),b=g&&g[0],S=g&&g[1],{onBeforeEnter:R,onEnter:P,onEnterCancelled:w,onLeave:E,onLeaveCancelled:N,onBeforeAppear:M=R,onAppear:I=P,onAppearCancelled:T=w}=e,_=(A,O,z)=>{qs(A,O?c:a),qs(A,O?u:o),z&&z()},v=(A,O)=>{A._isLeaving=!1,qs(A,h),qs(A,p),qs(A,f),O&&O()},C=A=>(O,z)=>{const F=A?I:P,U=()=>_(O,A,z);Vo(F,[O,U]),$w(()=>{qs(O,A?l:s),us(O,A?c:a),Fw(F)||Uw(O,r,b,U)})};return Yt(e,{onBeforeEnter(A){Vo(R,[A]),us(A,s),us(A,o)},onBeforeAppear(A){Vo(M,[A]),us(A,l),us(A,u)},onEnter:C(!1),onAppear:C(!0),onLeave(A,O){A._isLeaving=!0;const z=()=>v(A,O);us(A,h),us(A,f),hA(),$w(()=>{A._isLeaving&&(qs(A,h),us(A,p),Fw(E)||Uw(A,r,S,z))}),Vo(E,[A,z])},onEnterCancelled(A){_(A,!1),Vo(w,[A])},onAppearCancelled(A){_(A,!0),Vo(T,[A])},onLeaveCancelled(A){v(A),Vo(N,[A])}})}function GL(t){if(t==null)return null;if(Wt(t))return[Gm(t.enter),Gm(t.leave)];{const e=Gm(t);return[e,e]}}function Gm(t){return uf(t)}function us(t,e){e.split(/\s+/).forEach(n=>n&&t.classList.add(n)),(t[xl]||(t[xl]=new Set)).add(e)}function qs(t,e){e.split(/\s+/).forEach(r=>r&&t.classList.remove(r));const n=t[xl];n&&(n.delete(e),n.size||(t[xl]=void 0))}function $w(t){requestAnimationFrame(()=>{requestAnimationFrame(t)})}let QL=0;function Uw(t,e,n,r){const i=t._endId=++QL,s=()=>{i===t._endId&&r()};if(n!=null)return setTimeout(s,n);const{type:o,timeout:a,propCount:l}=dA(t,e);if(!o)return r();const u=o+"end";let c=0;const h=()=>{t.removeEventListener(u,f),s()},f=p=>{p.target===t&&++c>=l&&h()};setTimeout(()=>{c<l&&h()},a+1),t.addEventListener(u,f)}function dA(t,e){const n=window.getComputedStyle(t),r=g=>(n[g]||"").split(", "),i=r(`${Fs}Delay`),s=r(`${Fs}Duration`),o=Bw(i,s),a=r(`${ku}Delay`),l=r(`${ku}Duration`),u=Bw(a,l);let c=null,h=0,f=0;e===Fs?o>0&&(c=Fs,h=o,f=s.length):e===ku?u>0&&(c=ku,h=u,f=l.length):(h=Math.max(o,u),c=h>0?o>u?Fs:ku:null,f=c?c===Fs?s.length:l.length:0);const p=c===Fs&&/\b(transform|all)(,|$)/.test(r(`${Fs}Property`).toString());return{type:c,timeout:h,propCount:f,hasTransform:p}}function Bw(t,e){for(;t.length<e.length;)t=t.concat(t);return Math.max(...e.map((n,r)=>jw(n)+jw(t[r])))}function jw(t){return t==="auto"?0:Number(t.slice(0,-1).replace(",","."))*1e3}function hA(){return document.body.offsetHeight}function XL(t,e,n){const r=t[xl];r&&(e=(e?[e,...r]:[...r]).join(" ")),e==null?t.removeAttribute("class"):n?t.setAttribute("class",e):t.className=e}const wf=Symbol("_vod"),fA=Symbol("_vsh"),ac={beforeMount(t,{value:e},{transition:n}){t[wf]=t.style.display==="none"?"":t.style.display,n&&e?n.beforeEnter(t):Ru(t,e)},mounted(t,{value:e},{transition:n}){n&&e&&n.enter(t)},updated(t,{value:e,oldValue:n},{transition:r}){!e!=!n&&(r?e?(r.beforeEnter(t),Ru(t,!0),r.enter(t)):r.leave(t,()=>{Ru(t,!1)}):Ru(t,e))},beforeUnmount(t,{value:e}){Ru(t,e)}};function Ru(t,e){t.style.display=e?t[wf]:"none",t[fA]=!e}function JL(){ac.getSSRProps=({value:t})=>{if(!t)return{style:{display:"none"}}}}const pA=Symbol("");function Xne(t){const e=Xr();if(!e)return;const n=e.ut=(i=t(e.proxy))=>{Array.from(document.querySelectorAll(`[data-v-owner="${e.uid}"]`)).forEach(s=>Tf(s,i))},r=()=>{const i=t(e.proxy);e.ce?Tf(e.ce,i):vv(e.subTree,i),n(i)};PC(()=>{TL(r)}),_n(()=>{const i=new MutationObserver(r);i.observe(e.subTree.el.parentNode,{childList:!0}),Sa(()=>i.disconnect())})}function vv(t,e){if(t.shapeFlag&128){const n=t.suspense;t=n.activeBranch,n.pendingBranch&&!n.isHydrating&&n.effects.push(()=>{vv(n.activeBranch,e)})}for(;t.component;)t=t.component.subTree;if(t.shapeFlag&1&&t.el)Tf(t.el,e);else if(t.type===Ne)t.children.forEach(n=>vv(n,e));else if(t.type===bl){let{el:n,anchor:r}=t;for(;n&&(Tf(n,e),n!==r);)n=n.nextSibling}}function Tf(t,e){if(t.nodeType===1){const n=t.style;let r="";for(const i in e)n.setProperty(`--${i}`,e[i]),r+=`--${i}: ${e[i]};`;n[pA]=r}}const ZL=/(^|;)\s*display\s*:/;function e2(t,e,n){const r=t.style,i=Zt(n);let s=!1;if(n&&!i){if(e)if(Zt(e))for(const o of e.split(";")){const a=o.slice(0,o.indexOf(":")).trim();n[a]==null&&zh(r,a,"")}else for(const o in e)n[o]==null&&zh(r,o,"");for(const o in n)o==="display"&&(s=!0),zh(r,o,n[o])}else if(i){if(e!==n){const o=r[pA];o&&(n+=";"+o),r.cssText=n,s=ZL.test(n)}}else e&&t.removeAttribute("style");wf in t&&(t[wf]=s?r.display:"",t[fA]&&(r.display="none"))}const Hw=/\s*!important$/;function zh(t,e,n){if(Fe(n))n.forEach(r=>zh(t,e,r));else if(n==null&&(n=""),e.startsWith("--"))t.setProperty(e,n);else{const r=t2(t,e);Hw.test(n)?t.setProperty(xr(r),n.replace(Hw,""),"important"):t[r]=n}}const Ww=["Webkit","Moz","ms"],Qm={};function t2(t,e){const n=Qm[e];if(n)return n;let r=gr(e);if(r!=="filter"&&r in t)return Qm[e]=r;r=yp(r);for(let i=0;i<Ww.length;i++){const s=Ww[i]+r;if(s in t)return Qm[e]=s}return e}const qw="http://www.w3.org/1999/xlink";function zw(t,e,n,r,i,s=XN(e)){r&&e.startsWith("xlink:")?n==null?t.removeAttributeNS(qw,e.slice(6,e.length)):t.setAttributeNS(qw,e,n):n==null||s&&!HS(n)?t.removeAttribute(e):t.setAttribute(e,s?"":Oi(n)?String(n):n)}function Kw(t,e,n,r,i){if(e==="innerHTML"||e==="textContent"){n!=null&&(t[e]=e==="innerHTML"?aA(n):n);return}const s=t.tagName;if(e==="value"&&s!=="PROGRESS"&&!s.includes("-")){const a=s==="OPTION"?t.getAttribute("value")||"":t.value,l=n==null?t.type==="checkbox"?"on":"":String(n);(a!==l||!("_value"in t))&&(t.value=l),n==null&&t.removeAttribute(e),t._value=n;return}let o=!1;if(n===""||n==null){const a=typeof t[e];a==="boolean"?n=HS(n):n==null&&a==="string"?(n="",o=!0):a==="number"&&(n=0,o=!0)}try{t[e]=n}catch{}o&&t.removeAttribute(i||e)}function ms(t,e,n,r){t.addEventListener(e,n,r)}function n2(t,e,n,r){t.removeEventListener(e,n,r)}const Yw=Symbol("_vei");function r2(t,e,n,r,i=null){const s=t[Yw]||(t[Yw]={}),o=s[e];if(r&&o)o.value=r;else{const[a,l]=i2(e);if(r){const u=s[e]=a2(r,i);ms(t,a,u,l)}else o&&(n2(t,a,o,l),s[e]=void 0)}}const Gw=/(?:Once|Passive|Capture)$/;function i2(t){let e;if(Gw.test(t)){e={};let r;for(;r=t.match(Gw);)t=t.slice(0,t.length-r[0].length),e[r[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):xr(t.slice(2)),e]}let Xm=0;const s2=Promise.resolve(),o2=()=>Xm||(s2.then(()=>Xm=0),Xm=Date.now());function a2(t,e){const n=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=n.attached)return;Pi(l2(r,n.value),e,5,[r])};return n.value=t,n.attached=o2(),n}function l2(t,e){if(Fe(e)){const n=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{n.call(t),t._stopped=!0},e.map(r=>i=>!i._stopped&&r&&r(i))}else return e}const Qw=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,u2=(t,e,n,r,i,s)=>{const o=i==="svg";e==="class"?XL(t,r,o):e==="style"?e2(t,n,r):Td(e)?$y(e)||r2(t,e,n,r,s):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):c2(t,e,r,o))?(Kw(t,e,r),!t.tagName.includes("-")&&(e==="value"||e==="checked"||e==="selected")&&zw(t,e,r,o,s,e!=="value")):t._isVueCE&&(/[A-Z]/.test(e)||!Zt(r))?Kw(t,gr(e),r,s,e):(e==="true-value"?t._trueValue=r:e==="false-value"&&(t._falseValue=r),zw(t,e,r,o))};function c2(t,e,n,r){if(r)return!!(e==="innerHTML"||e==="textContent"||e in t&&Qw(e)&&Ze(n));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const i=t.tagName;if(i==="IMG"||i==="VIDEO"||i==="CANVAS"||i==="SOURCE")return!1}return Qw(e)&&Zt(n)?!1:e in t}const Xw={};/*! #__NO_SIDE_EFFECTS__ */function d2(t,e,n){const r=Gt(t,e);gp(r)&&Yt(r,e);class i extends c_{constructor(o){super(r,o,n)}}return i.def=r,i}/*! #__NO_SIDE_EFFECTS__ */const Jne=(t,e)=>d2(t,e,O2),h2=typeof HTMLElement<"u"?HTMLElement:class{};class c_ extends h2{constructor(e,n={},r=_v){super(),this._def=e,this._props=n,this._createApp=r,this._isVueCE=!0,this._instance=null,this._app=null,this._nonce=this._def.nonce,this._connected=!1,this._resolved=!1,this._numberProps=null,this._styleChildren=new WeakSet,this._ob=null,this.shadowRoot&&r!==_v?this._root=this.shadowRoot:e.shadowRoot!==!1?(this.attachShadow({mode:"open"}),this._root=this.shadowRoot):this._root=this,this._def.__asyncLoader||this._resolveProps(this._def)}connectedCallback(){if(!this.isConnected)return;this.shadowRoot||this._parseSlots(),this._connected=!0;let e=this;for(;e=e&&(e.parentNode||e.host);)if(e instanceof c_){this._parent=e;break}this._instance||(this._resolved?(this._setParent(),this._update()):e&&e._pendingResolve?this._pendingResolve=e._pendingResolve.then(()=>{this._pendingResolve=void 0,this._resolveDef()}):this._resolveDef())}_setParent(e=this._parent){e&&(this._instance.parent=e._instance,this._instance.provides=e._instance.provides)}disconnectedCallback(){this._connected=!1,jn(()=>{this._connected||(this._ob&&(this._ob.disconnect(),this._ob=null),this._app&&this._app.unmount(),this._instance&&(this._instance.ce=void 0),this._app=this._instance=null)})}_resolveDef(){if(this._pendingResolve)return;for(let r=0;r<this.attributes.length;r++)this._setAttr(this.attributes[r].name);this._ob=new MutationObserver(r=>{for(const i of r)this._setAttr(i.attributeName)}),this._ob.observe(this,{attributes:!0});const e=(r,i=!1)=>{this._resolved=!0,this._pendingResolve=void 0;const{props:s,styles:o}=r;let a;if(s&&!Fe(s))for(const l in s){const u=s[l];(u===Number||u&&u.type===Number)&&(l in this._props&&(this._props[l]=uf(this._props[l])),(a||(a=Object.create(null)))[gr(l)]=!0)}this._numberProps=a,i&&this._resolveProps(r),this.shadowRoot&&this._applyStyles(o),this._mount(r)},n=this._def.__asyncLoader;n?this._pendingResolve=n().then(r=>e(this._def=r,!0)):e(this._def)}_mount(e){this._app=this._createApp(e),e.configureApp&&e.configureApp(this._app),this._app._ceVNode=this._createVNode(),this._app.mount(this._root);const n=this._instance&&this._instance.exposed;if(n)for(const r in n)Dt(this,r)||Object.defineProperty(this,r,{get:()=>q(n[r])})}_resolveProps(e){const{props:n}=e,r=Fe(n)?n:Object.keys(n||{});for(const i of Object.keys(this))i[0]!=="_"&&r.includes(i)&&this._setProp(i,this[i]);for(const i of r.map(gr))Object.defineProperty(this,i,{get(){return this._getProp(i)},set(s){this._setProp(i,s,!0,!0)}})}_setAttr(e){if(e.startsWith("data-v-"))return;const n=this.hasAttribute(e);let r=n?this.getAttribute(e):Xw;const i=gr(e);n&&this._numberProps&&this._numberProps[i]&&(r=uf(r)),this._setProp(i,r,!1,!0)}_getProp(e){return this._props[e]}_setProp(e,n,r=!0,i=!1){n!==this._props[e]&&(n===Xw?delete this._props[e]:(this._props[e]=n,e==="key"&&this._app&&(this._app._ceVNode.key=n)),i&&this._instance&&this._update(),r&&(n===!0?this.setAttribute(xr(e),""):typeof n=="string"||typeof n=="number"?this.setAttribute(xr(e),n+""):n||this.removeAttribute(xr(e))))}_update(){Lc(this._createVNode(),this._root)}_createVNode(){const e={};this.shadowRoot||(e.onVnodeMounted=e.onVnodeUpdated=this._renderSlots.bind(this));const n=et(this._def,Yt(e,this._props));return this._instance||(n.ce=r=>{this._instance=r,r.ce=this,r.isCE=!0;const i=(s,o)=>{this.dispatchEvent(new CustomEvent(s,gp(o[0])?Yt({detail:o},o[0]):{detail:o}))};r.emit=(s,...o)=>{i(s,o),xr(s)!==s&&i(xr(s),o)},this._setParent()}),n}_applyStyles(e,n){if(!e)return;if(n){if(n===this._def||this._styleChildren.has(n))return;this._styleChildren.add(n)}const r=this._nonce;for(let i=e.length-1;i>=0;i--){const s=document.createElement("style");r&&s.setAttribute("nonce",r),s.textContent=e[i],this.shadowRoot.prepend(s)}}_parseSlots(){const e=this._slots={};let n;for(;n=this.firstChild;){const r=n.nodeType===1&&n.getAttribute("slot")||"default";(e[r]||(e[r]=[])).push(n),this.removeChild(n)}}_renderSlots(){const e=(this._teleportTarget||this).querySelectorAll("slot"),n=this._instance.type.__scopeId;for(let r=0;r<e.length;r++){const i=e[r],s=i.getAttribute("name")||"default",o=this._slots[s],a=i.parentNode;if(o)for(const l of o){if(n&&l.nodeType===1){const u=n+"-s",c=document.createTreeWalker(l,1);l.setAttribute(u,"");let h;for(;h=c.nextNode();)h.setAttribute(u,"")}a.insertBefore(l,i)}else for(;i.firstChild;)a.insertBefore(i.firstChild,i);a.removeChild(i)}}_injectChildStyle(e){this._applyStyles(e.styles,e)}_removeChildStyle(e){}}function f2(t){const e=Xr(),n=e&&e.ce;return n||null}function Zne(){const t=f2();return t&&t.shadowRoot}function ere(t="$style"){{const e=Xr();if(!e)return mt;const n=e.type.__cssModules;if(!n)return mt;const r=n[t];return r||mt}}const mA=new WeakMap,gA=new WeakMap,Ef=Symbol("_moveCb"),Jw=Symbol("_enterCb"),p2=t=>(delete t.props.mode,t),m2=p2({name:"TransitionGroup",props:Yt({},uA,{tag:String,moveClass:String}),setup(t,{slots:e}){const n=Xr(),r=EC();let i,s;return e_(()=>{if(!i.length)return;const o=t.moveClass||`${t.name||"v"}-move`;if(!b2(i[0].el,n.vnode.el,o))return;i.forEach(v2),i.forEach(y2);const a=i.filter(_2);hA(),a.forEach(l=>{const u=l.el,c=u.style;us(u,o),c.transform=c.webkitTransform=c.transitionDuration="";const h=u[Ef]=f=>{f&&f.target!==u||(!f||/transform$/.test(f.propertyName))&&(u.removeEventListener("transitionend",h),u[Ef]=null,qs(u,o))};u.addEventListener("transitionend",h)})}),()=>{const o=pt(t),a=cA(o);let l=o.tag||Ne;if(i=[],s)for(let u=0;u<s.length;u++){const c=s[u];c.el&&c.el instanceof Element&&(i.push(c),go(c,xc(c,a,r,n)),mA.set(c,c.el.getBoundingClientRect()))}s=e.default?Jy(e.default()):[];for(let u=0;u<s.length;u++){const c=s[u];c.key!=null&&go(c,xc(c,a,r,n))}return et(l,null,s)}}}),g2=m2;function v2(t){const e=t.el;e[Ef]&&e[Ef](),e[Jw]&&e[Jw]()}function y2(t){gA.set(t,t.el.getBoundingClientRect())}function _2(t){const e=mA.get(t),n=gA.get(t),r=e.left-n.left,i=e.top-n.top;if(r||i){const s=t.el.style;return s.transform=s.webkitTransform=`translate(${r}px,${i}px)`,s.transitionDuration="0s",t}}function b2(t,e,n){const r=t.cloneNode(),i=t[xl];i&&i.forEach(a=>{a.split(/\s+/).forEach(l=>l&&r.classList.remove(l))}),n.split(/\s+/).forEach(a=>a&&r.classList.add(a)),r.style.display="none";const s=e.nodeType===1?e:e.parentNode;s.appendChild(r);const{hasTransform:o}=dA(r);return s.removeChild(r),o}const yo=t=>{const e=t.props["onUpdate:modelValue"]||!1;return Fe(e)?n=>vl(e,n):e};function w2(t){t.target.composing=!0}function Zw(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const oi=Symbol("_assign"),yv={created(t,{modifiers:{lazy:e,trim:n,number:r}},i){t[oi]=yo(i);const s=r||i.props&&i.props.type==="number";ms(t,e?"change":"input",o=>{if(o.target.composing)return;let a=t.value;n&&(a=a.trim()),s&&(a=lf(a)),t[oi](a)}),n&&ms(t,"change",()=>{t.value=t.value.trim()}),e||(ms(t,"compositionstart",w2),ms(t,"compositionend",Zw),ms(t,"change",Zw))},mounted(t,{value:e}){t.value=e??""},beforeUpdate(t,{value:e,oldValue:n,modifiers:{lazy:r,trim:i,number:s}},o){if(t[oi]=yo(o),t.composing)return;const a=(s||t.type==="number")&&!/^0\d/.test(t.value)?lf(t.value):t.value,l=e??"";a!==l&&(document.activeElement===t&&t.type!=="range"&&(r&&e===n||i&&t.value.trim()===l)||(t.value=l))}},vA={deep:!0,created(t,e,n){t[oi]=yo(n),ms(t,"change",()=>{const r=t._modelValue,i=Nl(t),s=t.checked,o=t[oi];if(Fe(r)){const a=bp(r,i),l=a!==-1;if(s&&!l)o(r.concat(i));else if(!s&&l){const u=[...r];u.splice(a,1),o(u)}}else if(Ia(r)){const a=new Set(r);s?a.add(i):a.delete(i),o(a)}else o(_A(t,s))})},mounted:e1,beforeUpdate(t,e,n){t[oi]=yo(n),e1(t,e,n)}};function e1(t,{value:e,oldValue:n},r){t._modelValue=e;let i;if(Fe(e))i=bp(e,r.props.value)>-1;else if(Ia(e))i=e.has(r.props.value);else{if(e===n)return;i=mo(e,_A(t,!0))}t.checked!==i&&(t.checked=i)}const yA={created(t,{value:e},n){t.checked=mo(e,n.props.value),t[oi]=yo(n),ms(t,"change",()=>{t[oi](Nl(t))})},beforeUpdate(t,{value:e,oldValue:n},r){t[oi]=yo(r),e!==n&&(t.checked=mo(e,r.props.value))}},T2={deep:!0,created(t,{value:e,modifiers:{number:n}},r){const i=Ia(e);ms(t,"change",()=>{const s=Array.prototype.filter.call(t.options,o=>o.selected).map(o=>n?lf(Nl(o)):Nl(o));t[oi](t.multiple?i?new Set(s):s:s[0]),t._assigning=!0,jn(()=>{t._assigning=!1})}),t[oi]=yo(r)},mounted(t,{value:e}){t1(t,e)},beforeUpdate(t,e,n){t[oi]=yo(n)},updated(t,{value:e}){t._assigning||t1(t,e)}};function t1(t,e){const n=t.multiple,r=Fe(e);if(!(n&&!r&&!Ia(e))){for(let i=0,s=t.options.length;i<s;i++){const o=t.options[i],a=Nl(o);if(n)if(r){const l=typeof a;l==="string"||l==="number"?o.selected=e.some(u=>String(u)===String(a)):o.selected=bp(e,a)>-1}else o.selected=e.has(a);else if(mo(Nl(o),e)){t.selectedIndex!==i&&(t.selectedIndex=i);return}}!n&&t.selectedIndex!==-1&&(t.selectedIndex=-1)}}function Nl(t){return"_value"in t?t._value:t.value}function _A(t,e){const n=e?"_trueValue":"_falseValue";return n in t?t[n]:e}const E2={created(t,e,n){yh(t,e,n,null,"created")},mounted(t,e,n){yh(t,e,n,null,"mounted")},beforeUpdate(t,e,n,r){yh(t,e,n,r,"beforeUpdate")},updated(t,e,n,r){yh(t,e,n,r,"updated")}};function bA(t,e){switch(t){case"SELECT":return T2;case"TEXTAREA":return yv;default:switch(e){case"checkbox":return vA;case"radio":return yA;default:return yv}}}function yh(t,e,n,r,i){const o=bA(t.tagName,n.props&&n.props.type)[i];o&&o(t,e,n,r)}function I2(){yv.getSSRProps=({value:t})=>({value:t}),yA.getSSRProps=({value:t},e)=>{if(e.props&&mo(e.props.value,t))return{checked:!0}},vA.getSSRProps=({value:t},e)=>{if(Fe(t)){if(e.props&&bp(t,e.props.value)>-1)return{checked:!0}}else if(Ia(t)){if(e.props&&t.has(e.props.value))return{checked:!0}}else if(t)return{checked:!0}},E2.getSSRProps=(t,e)=>{if(typeof e.type!="string")return;const n=bA(e.type.toUpperCase(),e.props&&e.props.type);if(n.getSSRProps)return n.getSSRProps(t,e)}}const S2=["ctrl","shift","alt","meta"],C2={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,e)=>S2.some(n=>t[`${n}Key`]&&!e.includes(n))},Lt=(t,e)=>{const n=t._withMods||(t._withMods={}),r=e.join(".");return n[r]||(n[r]=(i,...s)=>{for(let o=0;o<e.length;o++){const a=C2[e[o]];if(a&&a(i,e))return}return t(i,...s)})},A2={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},at=(t,e)=>{const n=t._withKeys||(t._withKeys={}),r=e.join(".");return n[r]||(n[r]=i=>{if(!("key"in i))return;const s=xr(i.key);if(e.some(o=>o===s||A2[o]===s))return t(i)})},wA=Yt({patchProp:u2},KL);let lc,n1=!1;function TA(){return lc||(lc=vL(wA))}function EA(){return lc=n1?lc:yL(wA),n1=!0,lc}const Lc=(...t)=>{TA().render(...t)},tre=(...t)=>{EA().hydrate(...t)},_v=(...t)=>{const e=TA().createApp(...t),{mount:n}=e;return e.mount=r=>{const i=SA(r);if(!i)return;const s=e._component;!Ze(s)&&!s.render&&!s.template&&(s.template=i.innerHTML),i.nodeType===1&&(i.textContent="");const o=n(i,!1,IA(i));return i instanceof Element&&(i.removeAttribute("v-cloak"),i.setAttribute("data-v-app","")),o},e},O2=(...t)=>{const e=EA().createApp(...t),{mount:n}=e;return e.mount=r=>{const i=SA(r);if(i)return n(i,!0,IA(i))},e};function IA(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function SA(t){return Zt(t)?document.querySelector(t):t}let r1=!1;const nre=()=>{r1||(r1=!0,I2(),JL())};function P2(t){return{all:t=t||new Map,on:function(e,n){var r=t.get(e);r?r.push(n):t.set(e,[n])},off:function(e,n){var r=t.get(e);r&&(n?r.splice(r.indexOf(n)>>>0,1):t.set(e,[]))},emit:function(e,n){var r=t.get(e);r&&r.slice().map(function(i){i(n)}),(r=t.get("*"))&&r.slice().map(function(i){i(e,n)})}}}const If=P2();let i1=0;const k2=()=>{const t=i1;return i1+=1,t},CA=()=>(t,e)=>{const n={...t,id:k2(),group:t.group||""};return If.emit("notify",{notification:n,timeout:e}),()=>If.emit("close",n.id)},AA="context",bv=Gt({__name:"Notification",props:{maxNotifications:{default:10},enter:{default:""},enterFrom:{default:""},enterTo:{default:""},leave:{default:""},leaveFrom:{default:""},leaveTo:{default:""},move:{default:""},moveDelay:{default:""}},emits:["close"],setup(t,{emit:e}){const n=t,r=Vr(AA),i=di({notifications:[],timeouts:{}}),s=he(()=>i.notifications.filter(f=>f.group===r.group)),o=he(()=>r.position==="bottom"?[...s.value]:[...s.value].reverse()),a=(f,p)=>{i.timeouts[f]=window.setTimeout(()=>{p!==-1&&l(f)},Math.max(p||3e3,0))},l=f=>{i.notifications.splice(i.notifications.findIndex(p=>p.id===f),1),clearTimeout(i.timeouts[f])},u=({notification:f,timeout:p})=>{i.notifications.length!==n.maxNotifications&&(i.notifications.push(f),a(f.id,p))},c=f=>{e("close"),l(f)},h=(f,p,g)=>{p?clearTimeout(i.timeouts[f]):a(f,g)};return _n(()=>{If.on("notify",u),If.on("close",l)}),(f,p)=>(j(),qe(g2,{"enter-active-class":q(s).length>1?[n.enter,n.moveDelay].join(" "):n.enter,"enter-from-class":n.enterFrom,"enter-to-class":n.enterTo,"leave-active-class":n.leave,"leave-from-class":n.leaveFrom,"leave-to-class":n.leaveTo,"move-class":n.move},{default:Qe(()=>[ve(f.$slots,"default",{notifications:q(o),close:c,hovering:h})]),_:3},8,["enter-active-class","enter-from-class","enter-to-class","leave-active-class","leave-from-class","leave-to-class","move-class"]))}}),s1=Gt({__name:"NotificationGroup",props:{group:{default:""},position:{default:"top"}},setup(t){const e=t;return sc(AA,{group:e.group,position:e.position}),(n,r)=>ve(n.$slots,"default",{group:t.group})}});function R2(t){t.config.globalProperties.$notify=CA(),t.component("Notification",bv),t.component("NotificationGroup",s1),t.component("notification",bv),t.component("notificationGroup",s1)}const D2={install:R2},x2=CA(),N2={class:"px-4 py-2 -mx-3"},M2={class:"mx-3"},L2={class:"font-semibold text-white"},V2={class:"text-sm text-gray-100"},Jm=Gt({__name:"Notification",props:{type:{},color:{}},setup(t){return(e,n)=>(j(),qe(q(bv),{enter:"transform ease-out duration-300 transition","enter-from":"translate-y-2 opacity-0 sm:translate-y-0 sm:translate-x-4","enter-to":"translate-y-0 opacity-100 sm:translate-x-0",leave:"transition ease-in duration-500","leave-from":"opacity-100","leave-to":"opacity-0",move:"transition duration-500","move-delay":"delay-300"},{default:Qe(({notifications:r})=>[(j(!0),J(Ne,null,Ft(r,i=>(j(),J("div",{key:i.id},[i.type===e.type?(j(),J("div",{key:0,class:tt("flex w-full max-w-sm mx-auto mt-4 overflow-hidden bg-opacity-75 rounded-primary shadow-md "+e.color)},[Ce("div",N2,[Ce("div",M2,[Ce("span",L2,dt(i.title),1),Ce("p",V2,dt(i.text),1)])])],2)):ue("",!0)]))),128))]),_:1}))}}),F2={class:"fixed inset-0 flex items-end justify-center p-6 px-4 py-6 pointer-events-none"},$2={class:"w-full max-w-sm"},U2=Gt({__name:"NotificationGroup",setup(t){return(e,n)=>{const r=Wr("NotificationGroup",!0);return j(),qe(r,null,{default:Qe(()=>[Ce("div",F2,[Ce("div",$2,[et(Jm,{type:"error",color:"bg-red-800"}),et(Jm,{type:"warning",color:"bg-yellow-800"}),et(Jm,{type:"success",color:"bg-green-800"})])])]),_:1})}}});/*!
  * vue-router v4.4.5
  * (c) 2024 Eduardo San Martin Morote
  * @license MIT
  */const Xa=typeof document<"u";function OA(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function B2(t){return t.__esModule||t[Symbol.toStringTag]==="Module"||t.default&&OA(t.default)}const Bt=Object.assign;function Zm(t,e){const n={};for(const r in e){const i=e[r];n[r]=ki(i)?i.map(t):t(i)}return n}const uc=()=>{},ki=Array.isArray,PA=/#/g,j2=/&/g,H2=/\//g,W2=/=/g,q2=/\?/g,kA=/\+/g,z2=/%5B/g,K2=/%5D/g,RA=/%5E/g,Y2=/%60/g,DA=/%7B/g,G2=/%7C/g,xA=/%7D/g,Q2=/%20/g;function d_(t){return encodeURI(""+t).replace(G2,"|").replace(z2,"[").replace(K2,"]")}function X2(t){return d_(t).replace(DA,"{").replace(xA,"}").replace(RA,"^")}function wv(t){return d_(t).replace(kA,"%2B").replace(Q2,"+").replace(PA,"%23").replace(j2,"%26").replace(Y2,"`").replace(DA,"{").replace(xA,"}").replace(RA,"^")}function J2(t){return wv(t).replace(W2,"%3D")}function Z2(t){return d_(t).replace(PA,"%23").replace(q2,"%3F")}function eV(t){return t==null?"":Z2(t).replace(H2,"%2F")}function Vc(t){try{return decodeURIComponent(""+t)}catch{}return""+t}const tV=/\/$/,nV=t=>t.replace(tV,"");function eg(t,e,n="/"){let r,i={},s="",o="";const a=e.indexOf("#");let l=e.indexOf("?");return a<l&&a>=0&&(l=-1),l>-1&&(r=e.slice(0,l),s=e.slice(l+1,a>-1?a:e.length),i=t(s)),a>-1&&(r=r||e.slice(0,a),o=e.slice(a,e.length)),r=oV(r??e,n),{fullPath:r+(s&&"?")+s+o,path:r,query:i,hash:Vc(o)}}function rV(t,e){const n=e.query?t(e.query):"";return e.path+(n&&"?")+n+(e.hash||"")}function o1(t,e){return!e||!t.toLowerCase().startsWith(e.toLowerCase())?t:t.slice(e.length)||"/"}function iV(t,e,n){const r=e.matched.length-1,i=n.matched.length-1;return r>-1&&r===i&&Ml(e.matched[r],n.matched[i])&&NA(e.params,n.params)&&t(e.query)===t(n.query)&&e.hash===n.hash}function Ml(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function NA(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(!sV(t[n],e[n]))return!1;return!0}function sV(t,e){return ki(t)?a1(t,e):ki(e)?a1(e,t):t===e}function a1(t,e){return ki(e)?t.length===e.length&&t.every((n,r)=>n===e[r]):t.length===1&&t[0]===e}function oV(t,e){if(t.startsWith("/"))return t;if(!t)return e;const n=e.split("/"),r=t.split("/"),i=r[r.length-1];(i===".."||i===".")&&r.push("");let s=n.length-1,o,a;for(o=0;o<r.length;o++)if(a=r[o],a!==".")if(a==="..")s>1&&s--;else break;return n.slice(0,s).join("/")+"/"+r.slice(o).join("/")}const $s={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};var Fc;(function(t){t.pop="pop",t.push="push"})(Fc||(Fc={}));var cc;(function(t){t.back="back",t.forward="forward",t.unknown=""})(cc||(cc={}));function aV(t){if(!t)if(Xa){const e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),nV(t)}const lV=/^[^#]+#/;function uV(t,e){return t.replace(lV,"#")+e}function cV(t,e){const n=document.documentElement.getBoundingClientRect(),r=t.getBoundingClientRect();return{behavior:e.behavior,left:r.left-n.left-(e.left||0),top:r.top-n.top-(e.top||0)}}const Op=()=>({left:window.scrollX,top:window.scrollY});function dV(t){let e;if("el"in t){const n=t.el,r=typeof n=="string"&&n.startsWith("#"),i=typeof n=="string"?r?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!i)return;e=cV(i,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.scrollX,e.top!=null?e.top:window.scrollY)}function l1(t,e){return(history.state?history.state.position-e:-1)+t}const Tv=new Map;function hV(t,e){Tv.set(t,e)}function fV(t){const e=Tv.get(t);return Tv.delete(t),e}let pV=()=>location.protocol+"//"+location.host;function MA(t,e){const{pathname:n,search:r,hash:i}=e,s=t.indexOf("#");if(s>-1){let a=i.includes(t.slice(s))?t.slice(s).length:1,l=i.slice(a);return l[0]!=="/"&&(l="/"+l),o1(l,"")}return o1(n,t)+r+i}function mV(t,e,n,r){let i=[],s=[],o=null;const a=({state:f})=>{const p=MA(t,location),g=n.value,b=e.value;let S=0;if(f){if(n.value=p,e.value=f,o&&o===g){o=null;return}S=b?f.position-b.position:0}else r(p);i.forEach(R=>{R(n.value,g,{delta:S,type:Fc.pop,direction:S?S>0?cc.forward:cc.back:cc.unknown})})};function l(){o=n.value}function u(f){i.push(f);const p=()=>{const g=i.indexOf(f);g>-1&&i.splice(g,1)};return s.push(p),p}function c(){const{history:f}=window;f.state&&f.replaceState(Bt({},f.state,{scroll:Op()}),"")}function h(){for(const f of s)f();s=[],window.removeEventListener("popstate",a),window.removeEventListener("beforeunload",c)}return window.addEventListener("popstate",a),window.addEventListener("beforeunload",c,{passive:!0}),{pauseListeners:l,listen:u,destroy:h}}function u1(t,e,n,r=!1,i=!1){return{back:t,current:e,forward:n,replaced:r,position:window.history.length,scroll:i?Op():null}}function gV(t){const{history:e,location:n}=window,r={value:MA(t,n)},i={value:e.state};i.value||s(r.value,{back:null,current:r.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function s(l,u,c){const h=t.indexOf("#"),f=h>-1?(n.host&&document.querySelector("base")?t:t.slice(h))+l:pV()+t+l;try{e[c?"replaceState":"pushState"](u,"",f),i.value=u}catch(p){console.error(p),n[c?"replace":"assign"](f)}}function o(l,u){const c=Bt({},e.state,u1(i.value.back,l,i.value.forward,!0),u,{position:i.value.position});s(l,c,!0),r.value=l}function a(l,u){const c=Bt({},i.value,e.state,{forward:l,scroll:Op()});s(c.current,c,!0);const h=Bt({},u1(r.value,l,null),{position:c.position+1},u);s(l,h,!1),r.value=l}return{location:r,state:i,push:a,replace:o}}function vV(t){t=aV(t);const e=gV(t),n=mV(t,e.state,e.location,e.replace);function r(s,o=!0){o||n.pauseListeners(),history.go(s)}const i=Bt({location:"",base:t,go:r,createHref:uV.bind(null,t)},e,n);return Object.defineProperty(i,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(i,"state",{enumerable:!0,get:()=>e.state.value}),i}function yV(t){return t=location.host?t||location.pathname+location.search:"",t.includes("#")||(t+="#"),vV(t)}function _V(t){return typeof t=="string"||t&&typeof t=="object"}function LA(t){return typeof t=="string"||typeof t=="symbol"}const VA=Symbol("");var c1;(function(t){t[t.aborted=4]="aborted",t[t.cancelled=8]="cancelled",t[t.duplicated=16]="duplicated"})(c1||(c1={}));function Ll(t,e){return Bt(new Error,{type:t,[VA]:!0},e)}function ls(t,e){return t instanceof Error&&VA in t&&(e==null||!!(t.type&e))}const d1="[^/]+?",bV={sensitive:!1,strict:!1,start:!0,end:!0},wV=/[.+*?^${}()[\]/\\]/g;function TV(t,e){const n=Bt({},bV,e),r=[];let i=n.start?"^":"";const s=[];for(const u of t){const c=u.length?[]:[90];n.strict&&!u.length&&(i+="/");for(let h=0;h<u.length;h++){const f=u[h];let p=40+(n.sensitive?.25:0);if(f.type===0)h||(i+="/"),i+=f.value.replace(wV,"\\$&"),p+=40;else if(f.type===1){const{value:g,repeatable:b,optional:S,regexp:R}=f;s.push({name:g,repeatable:b,optional:S});const P=R||d1;if(P!==d1){p+=10;try{new RegExp(`(${P})`)}catch(E){throw new Error(`Invalid custom RegExp for param "${g}" (${P}): `+E.message)}}let w=b?`((?:${P})(?:/(?:${P}))*)`:`(${P})`;h||(w=S&&u.length<2?`(?:/${w})`:"/"+w),S&&(w+="?"),i+=w,p+=20,S&&(p+=-8),b&&(p+=-20),P===".*"&&(p+=-50)}c.push(p)}r.push(c)}if(n.strict&&n.end){const u=r.length-1;r[u][r[u].length-1]+=.7000000000000001}n.strict||(i+="/?"),n.end?i+="$":n.strict&&(i+="(?:/|$)");const o=new RegExp(i,n.sensitive?"":"i");function a(u){const c=u.match(o),h={};if(!c)return null;for(let f=1;f<c.length;f++){const p=c[f]||"",g=s[f-1];h[g.name]=p&&g.repeatable?p.split("/"):p}return h}function l(u){let c="",h=!1;for(const f of t){(!h||!c.endsWith("/"))&&(c+="/"),h=!1;for(const p of f)if(p.type===0)c+=p.value;else if(p.type===1){const{value:g,repeatable:b,optional:S}=p,R=g in u?u[g]:"";if(ki(R)&&!b)throw new Error(`Provided param "${g}" is an array but it is not repeatable (* or + modifiers)`);const P=ki(R)?R.join("/"):R;if(!P)if(S)f.length<2&&(c.endsWith("/")?c=c.slice(0,-1):h=!0);else throw new Error(`Missing required param "${g}"`);c+=P}}return c||"/"}return{re:o,score:r,keys:s,parse:a,stringify:l}}function EV(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=e[n]-t[n];if(r)return r;n++}return t.length<e.length?t.length===1&&t[0]===80?-1:1:t.length>e.length?e.length===1&&e[0]===80?1:-1:0}function FA(t,e){let n=0;const r=t.score,i=e.score;for(;n<r.length&&n<i.length;){const s=EV(r[n],i[n]);if(s)return s;n++}if(Math.abs(i.length-r.length)===1){if(h1(r))return 1;if(h1(i))return-1}return i.length-r.length}function h1(t){const e=t[t.length-1];return t.length>0&&e[e.length-1]<0}const IV={type:0,value:""},SV=/[a-zA-Z0-9_]/;function CV(t){if(!t)return[[]];if(t==="/")return[[IV]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(p){throw new Error(`ERR (${n})/"${u}": ${p}`)}let n=0,r=n;const i=[];let s;function o(){s&&i.push(s),s=[]}let a=0,l,u="",c="";function h(){u&&(n===0?s.push({type:0,value:u}):n===1||n===2||n===3?(s.length>1&&(l==="*"||l==="+")&&e(`A repeatable param (${u}) must be alone in its segment. eg: '/:ids+.`),s.push({type:1,value:u,regexp:c,repeatable:l==="*"||l==="+",optional:l==="*"||l==="?"})):e("Invalid state to consume buffer"),u="")}function f(){u+=l}for(;a<t.length;){if(l=t[a++],l==="\\"&&n!==2){r=n,n=4;continue}switch(n){case 0:l==="/"?(u&&h(),o()):l===":"?(h(),n=1):f();break;case 4:f(),n=r;break;case 1:l==="("?n=2:SV.test(l)?f():(h(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&a--);break;case 2:l===")"?c[c.length-1]=="\\"?c=c.slice(0,-1)+l:n=3:c+=l;break;case 3:h(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&a--,c="";break;default:e("Unknown state");break}}return n===2&&e(`Unfinished custom RegExp for param "${u}"`),h(),o(),i}function AV(t,e,n){const r=TV(CV(t.path),n),i=Bt(r,{record:t,parent:e,children:[],alias:[]});return e&&!i.record.aliasOf==!e.record.aliasOf&&e.children.push(i),i}function OV(t,e){const n=[],r=new Map;e=g1({strict:!1,end:!0,sensitive:!1},e);function i(h){return r.get(h)}function s(h,f,p){const g=!p,b=p1(h);b.aliasOf=p&&p.record;const S=g1(e,h),R=[b];if("alias"in h){const E=typeof h.alias=="string"?[h.alias]:h.alias;for(const N of E)R.push(p1(Bt({},b,{components:p?p.record.components:b.components,path:N,aliasOf:p?p.record:b})))}let P,w;for(const E of R){const{path:N}=E;if(f&&N[0]!=="/"){const M=f.record.path,I=M[M.length-1]==="/"?"":"/";E.path=f.record.path+(N&&I+N)}if(P=AV(E,f,S),p?p.alias.push(P):(w=w||P,w!==P&&w.alias.push(P),g&&h.name&&!m1(P)&&o(h.name)),$A(P)&&l(P),b.children){const M=b.children;for(let I=0;I<M.length;I++)s(M[I],P,p&&p.children[I])}p=p||P}return w?()=>{o(w)}:uc}function o(h){if(LA(h)){const f=r.get(h);f&&(r.delete(h),n.splice(n.indexOf(f),1),f.children.forEach(o),f.alias.forEach(o))}else{const f=n.indexOf(h);f>-1&&(n.splice(f,1),h.record.name&&r.delete(h.record.name),h.children.forEach(o),h.alias.forEach(o))}}function a(){return n}function l(h){const f=RV(h,n);n.splice(f,0,h),h.record.name&&!m1(h)&&r.set(h.record.name,h)}function u(h,f){let p,g={},b,S;if("name"in h&&h.name){if(p=r.get(h.name),!p)throw Ll(1,{location:h});S=p.record.name,g=Bt(f1(f.params,p.keys.filter(w=>!w.optional).concat(p.parent?p.parent.keys.filter(w=>w.optional):[]).map(w=>w.name)),h.params&&f1(h.params,p.keys.map(w=>w.name))),b=p.stringify(g)}else if(h.path!=null)b=h.path,p=n.find(w=>w.re.test(b)),p&&(g=p.parse(b),S=p.record.name);else{if(p=f.name?r.get(f.name):n.find(w=>w.re.test(f.path)),!p)throw Ll(1,{location:h,currentLocation:f});S=p.record.name,g=Bt({},f.params,h.params),b=p.stringify(g)}const R=[];let P=p;for(;P;)R.unshift(P.record),P=P.parent;return{name:S,path:b,params:g,matched:R,meta:kV(R)}}t.forEach(h=>s(h));function c(){n.length=0,r.clear()}return{addRoute:s,resolve:u,removeRoute:o,clearRoutes:c,getRoutes:a,getRecordMatcher:i}}function f1(t,e){const n={};for(const r of e)r in t&&(n[r]=t[r]);return n}function p1(t){const e={path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:t.aliasOf,beforeEnter:t.beforeEnter,props:PV(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}};return Object.defineProperty(e,"mods",{value:{}}),e}function PV(t){const e={},n=t.props||!1;if("component"in t)e.default=n;else for(const r in t.components)e[r]=typeof n=="object"?n[r]:n;return e}function m1(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function kV(t){return t.reduce((e,n)=>Bt(e,n.meta),{})}function g1(t,e){const n={};for(const r in t)n[r]=r in e?e[r]:t[r];return n}function RV(t,e){let n=0,r=e.length;for(;n!==r;){const s=n+r>>1;FA(t,e[s])<0?r=s:n=s+1}const i=DV(t);return i&&(r=e.lastIndexOf(i,r-1)),r}function DV(t){let e=t;for(;e=e.parent;)if($A(e)&&FA(t,e)===0)return e}function $A({record:t}){return!!(t.name||t.components&&Object.keys(t.components).length||t.redirect)}function xV(t){const e={};if(t===""||t==="?")return e;const r=(t[0]==="?"?t.slice(1):t).split("&");for(let i=0;i<r.length;++i){const s=r[i].replace(kA," "),o=s.indexOf("="),a=Vc(o<0?s:s.slice(0,o)),l=o<0?null:Vc(s.slice(o+1));if(a in e){let u=e[a];ki(u)||(u=e[a]=[u]),u.push(l)}else e[a]=l}return e}function v1(t){let e="";for(let n in t){const r=t[n];if(n=J2(n),r==null){r!==void 0&&(e+=(e.length?"&":"")+n);continue}(ki(r)?r.map(s=>s&&wv(s)):[r&&wv(r)]).forEach(s=>{s!==void 0&&(e+=(e.length?"&":"")+n,s!=null&&(e+="="+s))})}return e}function NV(t){const e={};for(const n in t){const r=t[n];r!==void 0&&(e[n]=ki(r)?r.map(i=>i==null?null:""+i):r==null?r:""+r)}return e}const MV=Symbol(""),y1=Symbol(""),Pp=Symbol(""),h_=Symbol(""),Ev=Symbol("");function Du(){let t=[];function e(r){return t.push(r),()=>{const i=t.indexOf(r);i>-1&&t.splice(i,1)}}function n(){t=[]}return{add:e,list:()=>t.slice(),reset:n}}function Xs(t,e,n,r,i,s=o=>o()){const o=r&&(r.enterCallbacks[i]=r.enterCallbacks[i]||[]);return()=>new Promise((a,l)=>{const u=f=>{f===!1?l(Ll(4,{from:n,to:e})):f instanceof Error?l(f):_V(f)?l(Ll(2,{from:e,to:f})):(o&&r.enterCallbacks[i]===o&&typeof f=="function"&&o.push(f),a())},c=s(()=>t.call(r&&r.instances[i],e,n,u));let h=Promise.resolve(c);t.length<3&&(h=h.then(u)),h.catch(f=>l(f))})}function tg(t,e,n,r,i=s=>s()){const s=[];for(const o of t)for(const a in o.components){let l=o.components[a];if(!(e!=="beforeRouteEnter"&&!o.instances[a]))if(OA(l)){const c=(l.__vccOpts||l)[e];c&&s.push(Xs(c,n,r,o,a,i))}else{let u=l();s.push(()=>u.then(c=>{if(!c)throw new Error(`Couldn't resolve component "${a}" at "${o.path}"`);const h=B2(c)?c.default:c;o.mods[a]=c,o.components[a]=h;const p=(h.__vccOpts||h)[e];return p&&Xs(p,n,r,o,a,i)()}))}}return s}function _1(t){const e=Vr(Pp),n=Vr(h_),r=he(()=>{const l=q(t.to);return e.resolve(l)}),i=he(()=>{const{matched:l}=r.value,{length:u}=l,c=l[u-1],h=n.matched;if(!c||!h.length)return-1;const f=h.findIndex(Ml.bind(null,c));if(f>-1)return f;const p=b1(l[u-2]);return u>1&&b1(c)===p&&h[h.length-1].path!==p?h.findIndex(Ml.bind(null,l[u-2])):f}),s=he(()=>i.value>-1&&$V(n.params,r.value.params)),o=he(()=>i.value>-1&&i.value===n.matched.length-1&&NA(n.params,r.value.params));function a(l={}){return FV(l)?e[q(t.replace)?"replace":"push"](q(t.to)).catch(uc):Promise.resolve()}return{route:r,href:he(()=>r.value.href),isActive:s,isExactActive:o,navigate:a}}const LV=Gt({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:_1,setup(t,{slots:e}){const n=di(_1(t)),{options:r}=Vr(Pp),i=he(()=>({[w1(t.activeClass,r.linkActiveClass,"router-link-active")]:n.isActive,[w1(t.exactActiveClass,r.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const s=e.default&&e.default(n);return t.custom?s:Dl("a",{"aria-current":n.isExactActive?t.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:i.value},s)}}}),VV=LV;function FV(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function $V(t,e){for(const n in e){const r=e[n],i=t[n];if(typeof r=="string"){if(r!==i)return!1}else if(!ki(i)||i.length!==r.length||r.some((s,o)=>s!==i[o]))return!1}return!0}function b1(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const w1=(t,e,n)=>t??e??n,UV=Gt({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:e,slots:n}){const r=Vr(Ev),i=he(()=>t.route||r.value),s=Vr(y1,0),o=he(()=>{let u=q(s);const{matched:c}=i.value;let h;for(;(h=c[u])&&!h.components;)u++;return u}),a=he(()=>i.value.matched[o.value]);sc(y1,he(()=>o.value+1)),sc(MV,a),sc(Ev,i);const l=Te();return Nn(()=>[l.value,a.value,t.name],([u,c,h],[f,p,g])=>{c&&(c.instances[h]=u,p&&p!==c&&u&&u===f&&(c.leaveGuards.size||(c.leaveGuards=p.leaveGuards),c.updateGuards.size||(c.updateGuards=p.updateGuards))),u&&c&&(!p||!Ml(c,p)||!f)&&(c.enterCallbacks[h]||[]).forEach(b=>b(u))},{flush:"post"}),()=>{const u=i.value,c=t.name,h=a.value,f=h&&h.components[c];if(!f)return T1(n.default,{Component:f,route:u});const p=h.props[c],g=p?p===!0?u.params:typeof p=="function"?p(u):p:null,S=Dl(f,Bt({},g,e,{onVnodeUnmounted:R=>{R.component.isUnmounted&&(h.instances[c]=null)},ref:l}));return T1(n.default,{Component:S,route:u})||S}}});function T1(t,e){if(!t)return null;const n=t(e);return n.length===1?n[0]:n}const UA=UV;function BV(t){const e=OV(t.routes,t),n=t.parseQuery||xV,r=t.stringifyQuery||v1,i=t.history,s=Du(),o=Du(),a=Du(),l=cC($s);let u=$s;Xa&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const c=Zm.bind(null,K=>""+K),h=Zm.bind(null,eV),f=Zm.bind(null,Vc);function p(K,re){let Y,le;return LA(K)?(Y=e.getRecordMatcher(K),le=re):le=K,e.addRoute(le,Y)}function g(K){const re=e.getRecordMatcher(K);re&&e.removeRoute(re)}function b(){return e.getRoutes().map(K=>K.record)}function S(K){return!!e.getRecordMatcher(K)}function R(K,re){if(re=Bt({},re||l.value),typeof K=="string"){const L=eg(n,K,re.path),$=e.resolve({path:L.path},re),se=i.createHref(L.fullPath);return Bt(L,$,{params:f($.params),hash:Vc(L.hash),redirectedFrom:void 0,href:se})}let Y;if(K.path!=null)Y=Bt({},K,{path:eg(n,K.path,re.path).path});else{const L=Bt({},K.params);for(const $ in L)L[$]==null&&delete L[$];Y=Bt({},K,{params:h(L)}),re.params=h(re.params)}const le=e.resolve(Y,re),ye=K.hash||"";le.params=c(f(le.params));const ee=rV(r,Bt({},K,{hash:X2(ye),path:le.path})),k=i.createHref(ee);return Bt({fullPath:ee,hash:ye,query:r===v1?NV(K.query):K.query||{}},le,{redirectedFrom:void 0,href:k})}function P(K){return typeof K=="string"?eg(n,K,l.value.path):Bt({},K)}function w(K,re){if(u!==K)return Ll(8,{from:re,to:K})}function E(K){return I(K)}function N(K){return E(Bt(P(K),{replace:!0}))}function M(K){const re=K.matched[K.matched.length-1];if(re&&re.redirect){const{redirect:Y}=re;let le=typeof Y=="function"?Y(K):Y;return typeof le=="string"&&(le=le.includes("?")||le.includes("#")?le=P(le):{path:le},le.params={}),Bt({query:K.query,hash:K.hash,params:le.path!=null?{}:K.params},le)}}function I(K,re){const Y=u=R(K),le=l.value,ye=K.state,ee=K.force,k=K.replace===!0,L=M(Y);if(L)return I(Bt(P(L),{state:typeof L=="object"?Bt({},ye,L.state):ye,force:ee,replace:k}),re||Y);const $=Y;$.redirectedFrom=re;let se;return!ee&&iV(r,le,Y)&&(se=Ll(16,{to:$,from:le}),Z(le,le,!0,!1)),(se?Promise.resolve(se):v($,le)).catch(ie=>ls(ie)?ls(ie,2)?ie:D(ie):Q(ie,$,le)).then(ie=>{if(ie){if(ls(ie,2))return I(Bt({replace:k},P(ie.to),{state:typeof ie.to=="object"?Bt({},ye,ie.to.state):ye,force:ee}),re||$)}else ie=A($,le,!0,k,ye);return C($,le,ie),ie})}function T(K,re){const Y=w(K,re);return Y?Promise.reject(Y):Promise.resolve()}function _(K){const re=be.values().next().value;return re&&typeof re.runWithContext=="function"?re.runWithContext(K):K()}function v(K,re){let Y;const[le,ye,ee]=jV(K,re);Y=tg(le.reverse(),"beforeRouteLeave",K,re);for(const L of le)L.leaveGuards.forEach($=>{Y.push(Xs($,K,re))});const k=T.bind(null,K,re);return Y.push(k),B(Y).then(()=>{Y=[];for(const L of s.list())Y.push(Xs(L,K,re));return Y.push(k),B(Y)}).then(()=>{Y=tg(ye,"beforeRouteUpdate",K,re);for(const L of ye)L.updateGuards.forEach($=>{Y.push(Xs($,K,re))});return Y.push(k),B(Y)}).then(()=>{Y=[];for(const L of ee)if(L.beforeEnter)if(ki(L.beforeEnter))for(const $ of L.beforeEnter)Y.push(Xs($,K,re));else Y.push(Xs(L.beforeEnter,K,re));return Y.push(k),B(Y)}).then(()=>(K.matched.forEach(L=>L.enterCallbacks={}),Y=tg(ee,"beforeRouteEnter",K,re,_),Y.push(k),B(Y))).then(()=>{Y=[];for(const L of o.list())Y.push(Xs(L,K,re));return Y.push(k),B(Y)}).catch(L=>ls(L,8)?L:Promise.reject(L))}function C(K,re,Y){a.list().forEach(le=>_(()=>le(K,re,Y)))}function A(K,re,Y,le,ye){const ee=w(K,re);if(ee)return ee;const k=re===$s,L=Xa?history.state:{};Y&&(le||k?i.replace(K.fullPath,Bt({scroll:k&&L&&L.scroll},ye)):i.push(K.fullPath,ye)),l.value=K,Z(K,re,Y,k),D()}let O;function z(){O||(O=i.listen((K,re,Y)=>{if(!te.listening)return;const le=R(K),ye=M(le);if(ye){I(Bt(ye,{replace:!0}),le).catch(uc);return}u=le;const ee=l.value;Xa&&hV(l1(ee.fullPath,Y.delta),Op()),v(le,ee).catch(k=>ls(k,12)?k:ls(k,2)?(I(k.to,le).then(L=>{ls(L,20)&&!Y.delta&&Y.type===Fc.pop&&i.go(-1,!1)}).catch(uc),Promise.reject()):(Y.delta&&i.go(-Y.delta,!1),Q(k,le,ee))).then(k=>{k=k||A(le,ee,!1),k&&(Y.delta&&!ls(k,8)?i.go(-Y.delta,!1):Y.type===Fc.pop&&ls(k,20)&&i.go(-1,!1)),C(le,ee,k)}).catch(uc)}))}let F=Du(),U=Du(),H;function Q(K,re,Y){D(K);const le=U.list();return le.length?le.forEach(ye=>ye(K,re,Y)):console.error(K),Promise.reject(K)}function V(){return H&&l.value!==$s?Promise.resolve():new Promise((K,re)=>{F.add([K,re])})}function D(K){return H||(H=!K,z(),F.list().forEach(([re,Y])=>K?Y(K):re()),F.reset()),K}function Z(K,re,Y,le){const{scrollBehavior:ye}=t;if(!Xa||!ye)return Promise.resolve();const ee=!Y&&fV(l1(K.fullPath,0))||(le||!Y)&&history.state&&history.state.scroll||null;return jn().then(()=>ye(K,re,ee)).then(k=>k&&dV(k)).catch(k=>Q(k,K,re))}const X=K=>i.go(K);let ce;const be=new Set,te={currentRoute:l,listening:!0,addRoute:p,removeRoute:g,clearRoutes:e.clearRoutes,hasRoute:S,getRoutes:b,resolve:R,options:t,push:E,replace:N,go:X,back:()=>X(-1),forward:()=>X(1),beforeEach:s.add,beforeResolve:o.add,afterEach:a.add,onError:U.add,isReady:V,install(K){const re=this;K.component("RouterLink",VV),K.component("RouterView",UA),K.config.globalProperties.$router=re,Object.defineProperty(K.config.globalProperties,"$route",{enumerable:!0,get:()=>q(l)}),Xa&&!ce&&l.value===$s&&(ce=!0,E(i.location).catch(ye=>{}));const Y={};for(const ye in $s)Object.defineProperty(Y,ye,{get:()=>l.value[ye],enumerable:!0});K.provide(Pp,re),K.provide(h_,uC(Y)),K.provide(Ev,l);const le=K.unmount;be.add(K),K.unmount=function(){be.delete(K),be.size<1&&(u=$s,O&&O(),O=null,l.value=$s,ce=!1,H=!1),le()}}};function B(K){return K.reduce((re,Y)=>re.then(()=>_(Y)),Promise.resolve())}return te}function jV(t,e){const n=[],r=[],i=[],s=Math.max(e.matched.length,t.matched.length);for(let o=0;o<s;o++){const a=e.matched[o];a&&(t.matched.find(u=>Ml(u,a))?r.push(a):n.push(a));const l=t.matched[o];l&&(e.matched.find(u=>Ml(u,l))||i.push(l))}return[n,r,i]}function rre(){return Vr(Pp)}function ire(t){return Vr(h_)}const HV=Gt({__name:"App",setup(t){return(e,n)=>(j(),J(Ne,null,[et(q(UA)),et(U2)],64))}});var E1={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BA={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ke=function(t,e){if(!t)throw su(e)},su=function(t){return new Error("Firebase Database ("+BA.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jA=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},WV=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},kp={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,l=i+2<t.length,u=l?t[i+2]:0,c=s>>2,h=(s&3)<<4|a>>4;let f=(a&15)<<2|u>>6,p=u&63;l||(p=64,o||(f=64)),r.push(n[c],n[h],n[f],n[p])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(jA(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):WV(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const h=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||u==null||h==null)throw new qV;const f=s<<2|a>>4;if(r.push(f),u!==64){const p=a<<4&240|u>>2;if(r.push(p),h!==64){const g=u<<6&192|h;r.push(g)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class qV extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const HA=function(t){const e=jA(t);return kp.encodeByteArray(e,!0)},Sf=function(t){return HA(t).replace(/\./g,"")},Cf=function(t){try{return kp.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zV(t){return WA(void 0,t)}function WA(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!KV(n)||(t[n]=WA(t[n],e[n]));return t}function KV(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qA(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YV=()=>qA().__FIREBASE_DEFAULTS__,GV=()=>{if(typeof process>"u"||typeof E1>"u")return;const t=E1.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},QV=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Cf(t[1]);return e&&JSON.parse(e)},Rp=()=>{try{return YV()||GV()||QV()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},zA=t=>{var e,n;return(n=(e=Rp())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},KA=t=>{const e=zA(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},YA=()=>{var t;return(t=Rp())===null||t===void 0?void 0:t.config},GA=t=>{var e;return(e=Rp())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class la{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QA(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Sf(JSON.stringify(n)),Sf(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _r(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function f_(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(_r())}function XV(){var t;const e=(t=Rp())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function JV(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function XA(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function JA(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function ZV(){const t=_r();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function ZA(){return BA.NODE_ADMIN===!0}function eF(){return!XV()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Dp(){try{return typeof indexedDB=="object"}catch{return!1}}function eO(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}function tF(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nF="FirebaseError";class Jr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=nF,Object.setPrototypeOf(this,Jr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ao.prototype.create)}}class Ao{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?rF(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new Jr(i,a,r)}}function rF(t,e){return t.replace(iF,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const iF=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $c(t){return JSON.parse(t)}function Gn(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tO=function(t){let e={},n={},r={},i="";try{const s=t.split(".");e=$c(Cf(s[0])||""),n=$c(Cf(s[1])||""),i=s[2],r=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:r,signature:i}},sF=function(t){const e=tO(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},oF=function(t){const e=tO(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xs(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Vl(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function Iv(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Af(t,e,n){const r={};for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=e.call(n,t[i],i,t));return r}function Uc(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(I1(s)&&I1(o)){if(!Uc(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function I1(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ou(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Ku(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function Yu(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aF{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const r=this.W_;if(typeof e=="string")for(let h=0;h<16;h++)r[h]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let h=0;h<16;h++)r[h]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let h=16;h<80;h++){const f=r[h-3]^r[h-8]^r[h-14]^r[h-16];r[h]=(f<<1|f>>>31)&4294967295}let i=this.chain_[0],s=this.chain_[1],o=this.chain_[2],a=this.chain_[3],l=this.chain_[4],u,c;for(let h=0;h<80;h++){h<40?h<20?(u=a^s&(o^a),c=1518500249):(u=s^o^a,c=1859775393):h<60?(u=s&o|a&(s|o),c=2400959708):(u=s^o^a,c=3395469782);const f=(i<<5|i>>>27)+u+l+c+r[h]&4294967295;l=a,a=o,o=(s<<30|s>>>2)&4294967295,s=i,i=f}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+o&4294967295,this.chain_[3]=this.chain_[3]+a&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);const r=n-this.blockSize;let i=0;const s=this.buf_;let o=this.inbuf_;for(;i<n;){if(o===0)for(;i<=r;)this.compress_(e,i),i+=this.blockSize;if(typeof e=="string"){for(;i<n;)if(s[o]=e.charCodeAt(i),++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}else for(;i<n;)if(s[o]=e[i],++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}this.inbuf_=o,this.total_+=n}digest(){const e=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=n&255,n/=256;this.compress_(this.buf_);let r=0;for(let i=0;i<5;i++)for(let s=24;s>=0;s-=8)e[r]=this.chain_[i]>>s&255,++r;return e}}function lF(t,e){const n=new uF(t,e);return n.subscribe.bind(n)}class uF{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");cF(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=ng),i.error===void 0&&(i.error=ng),i.complete===void 0&&(i.complete=ng);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function cF(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function ng(){}function dF(t,e){return`${t} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hF=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);if(i>=55296&&i<=56319){const s=i-55296;r++,ke(r<t.length,"Surrogate pair missing trail surrogate.");const o=t.charCodeAt(r)-56320;i=65536+(s<<10)+o}i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):i<65536?(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},xp=function(t){let e=0;for(let n=0;n<t.length;n++){const r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fF=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,t=>{const e=Math.random()*16|0;return(t==="x"?e:e&3|8).toString(16)})};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pF=1e3,mF=2,gF=4*60*60*1e3,vF=.5;function Sv(t,e=pF,n=mF){const r=e*Math.pow(n,t),i=Math.round(vF*r*(Math.random()-.5)*2);return Math.min(gF,r+i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pt(t){return t&&t._delegate?t._delegate:t}class Pr{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uo="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yF{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new la;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(bF(e))try{this.getOrInitializeService({instanceIdentifier:Uo})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Uo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Uo){return this.instances.has(e)}getOptions(e=Uo){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:_F(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Uo){return this.component?this.component.multipleInstances?e:Uo:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function _F(t){return t===Uo?void 0:t}function bF(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wF{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new yF(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ht;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ht||(ht={}));const TF={debug:ht.DEBUG,verbose:ht.VERBOSE,info:ht.INFO,warn:ht.WARN,error:ht.ERROR,silent:ht.SILENT},EF=ht.INFO,IF={[ht.DEBUG]:"log",[ht.VERBOSE]:"log",[ht.INFO]:"info",[ht.WARN]:"warn",[ht.ERROR]:"error"},SF=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=IF[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class au{constructor(e){this.name=e,this._logLevel=EF,this._logHandler=SF,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ht))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?TF[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ht.DEBUG,...e),this._logHandler(this,ht.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ht.VERBOSE,...e),this._logHandler(this,ht.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ht.INFO,...e),this._logHandler(this,ht.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ht.WARN,...e),this._logHandler(this,ht.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ht.ERROR,...e),this._logHandler(this,ht.ERROR,...e)}}const CF=(t,e)=>e.some(n=>t instanceof n);let S1,C1;function AF(){return S1||(S1=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function OF(){return C1||(C1=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const nO=new WeakMap,Cv=new WeakMap,rO=new WeakMap,rg=new WeakMap,p_=new WeakMap;function PF(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(oo(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&nO.set(n,t)}).catch(()=>{}),p_.set(e,t),e}function kF(t){if(Cv.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});Cv.set(t,e)}let Av={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Cv.get(t);if(e==="objectStoreNames")return t.objectStoreNames||rO.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return oo(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function RF(t){Av=t(Av)}function DF(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(ig(this),e,...n);return rO.set(r,e.sort?e.sort():[e]),oo(r)}:OF().includes(t)?function(...e){return t.apply(ig(this),e),oo(nO.get(this))}:function(...e){return oo(t.apply(ig(this),e))}}function xF(t){return typeof t=="function"?DF(t):(t instanceof IDBTransaction&&kF(t),CF(t,AF())?new Proxy(t,Av):t)}function oo(t){if(t instanceof IDBRequest)return PF(t);if(rg.has(t))return rg.get(t);const e=xF(t);return e!==t&&(rg.set(t,e),p_.set(e,t)),e}const ig=t=>p_.get(t);function iO(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=oo(o);return r&&o.addEventListener("upgradeneeded",l=>{r(oo(o.result),l.oldVersion,l.newVersion,oo(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const NF=["get","getKey","getAll","getAllKeys","count"],MF=["put","add","delete","clear"],sg=new Map;function A1(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(sg.get(e))return sg.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=MF.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||NF.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),i&&l.done]))[0]};return sg.set(e,s),s}RF(t=>({...t,get:(e,n,r)=>A1(e,n)||t.get(e,n,r),has:(e,n)=>!!A1(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LF{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(VF(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function VF(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Ov="@firebase/app",O1="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cs=new au("@firebase/app"),FF="@firebase/app-compat",$F="@firebase/analytics-compat",UF="@firebase/analytics",BF="@firebase/app-check-compat",jF="@firebase/app-check",HF="@firebase/auth",WF="@firebase/auth-compat",qF="@firebase/database",zF="@firebase/data-connect",KF="@firebase/database-compat",YF="@firebase/functions",GF="@firebase/functions-compat",QF="@firebase/installations",XF="@firebase/installations-compat",JF="@firebase/messaging",ZF="@firebase/messaging-compat",e$="@firebase/performance",t$="@firebase/performance-compat",n$="@firebase/remote-config",r$="@firebase/remote-config-compat",i$="@firebase/storage",s$="@firebase/storage-compat",o$="@firebase/firestore",a$="@firebase/vertexai-preview",l$="@firebase/firestore-compat",u$="firebase",c$="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pv="[DEFAULT]",d$={[Ov]:"fire-core",[FF]:"fire-core-compat",[UF]:"fire-analytics",[$F]:"fire-analytics-compat",[jF]:"fire-app-check",[BF]:"fire-app-check-compat",[HF]:"fire-auth",[WF]:"fire-auth-compat",[qF]:"fire-rtdb",[zF]:"fire-data-connect",[KF]:"fire-rtdb-compat",[YF]:"fire-fn",[GF]:"fire-fn-compat",[QF]:"fire-iid",[XF]:"fire-iid-compat",[JF]:"fire-fcm",[ZF]:"fire-fcm-compat",[e$]:"fire-perf",[t$]:"fire-perf-compat",[n$]:"fire-rc",[r$]:"fire-rc-compat",[i$]:"fire-gcs",[s$]:"fire-gcs-compat",[o$]:"fire-fst",[l$]:"fire-fst-compat",[a$]:"fire-vertex","fire-js":"fire-js",[u$]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Of=new Map,h$=new Map,kv=new Map;function P1(t,e){try{t.container.addComponent(e)}catch(n){Cs.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Ur(t){const e=t.name;if(kv.has(e))return Cs.debug(`There were multiple attempts to register component ${e}.`),!1;kv.set(e,t);for(const n of Of.values())P1(n,t);for(const n of h$.values())P1(n,t);return!0}function es(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function _i(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f$={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ao=new Ao("app","Firebase",f$);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p${constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Pr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ao.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oo=c$;function sO(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Pv,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw ao.create("bad-app-name",{appName:String(i)});if(n||(n=YA()),!n)throw ao.create("no-options");const s=Of.get(i);if(s){if(Uc(n,s.options)&&Uc(r,s.config))return s;throw ao.create("duplicate-app",{appName:i})}const o=new wF(i);for(const l of kv.values())o.addComponent(l);const a=new p$(n,r,o);return Of.set(i,a),a}function lu(t=Pv){const e=Of.get(t);if(!e&&t===Pv&&YA())return sO();if(!e)throw ao.create("no-app",{appName:t});return e}function er(t,e,n){var r;let i=(r=d$[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Cs.warn(a.join(" "));return}Ur(new Pr(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m$="firebase-heartbeat-database",g$=1,Bc="firebase-heartbeat-store";let og=null;function oO(){return og||(og=iO(m$,g$,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Bc)}catch(n){console.warn(n)}}}}).catch(t=>{throw ao.create("idb-open",{originalErrorMessage:t.message})})),og}async function v$(t){try{const n=(await oO()).transaction(Bc),r=await n.objectStore(Bc).get(aO(t));return await n.done,r}catch(e){if(e instanceof Jr)Cs.warn(e.message);else{const n=ao.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Cs.warn(n.message)}}}async function k1(t,e){try{const r=(await oO()).transaction(Bc,"readwrite");await r.objectStore(Bc).put(e,aO(t)),await r.done}catch(n){if(n instanceof Jr)Cs.warn(n.message);else{const r=ao.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Cs.warn(r.message)}}}function aO(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y$=1024,_$=30*24*60*60*1e3;class b${constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new T$(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=R1();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)?void 0:(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const a=new Date(o.date).valueOf();return Date.now()-a<=_$}),this._storage.overwrite(this._heartbeatsCache))}catch(r){Cs.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=R1(),{heartbeatsToSend:r,unsentEntries:i}=w$(this._heartbeatsCache.heartbeats),s=Sf(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return Cs.warn(n),""}}}function R1(){return new Date().toISOString().substring(0,10)}function w$(t,e=y$){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),D1(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),D1(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class T${constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Dp()?eO().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await v$(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return k1(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return k1(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function D1(t){return Sf(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E$(t){Ur(new Pr("platform-logger",e=>new LF(e),"PRIVATE")),Ur(new Pr("heartbeat",e=>new b$(e),"PRIVATE")),er(Ov,O1,t),er(Ov,O1,"esm2017"),er("fire-js","")}E$("");const lO="@firebase/installations",m_="0.6.9";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uO=1e4,cO=`w:${m_}`,dO="FIS_v2",I$="https://firebaseinstallations.googleapis.com/v1",S$=60*60*1e3,C$="installations",A$="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O$={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},ua=new Ao(C$,A$,O$);function hO(t){return t instanceof Jr&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fO({projectId:t}){return`${I$}/projects/${t}/installations`}function pO(t){return{token:t.token,requestStatus:2,expiresIn:k$(t.expiresIn),creationTime:Date.now()}}async function mO(t,e){const r=(await e.json()).error;return ua.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function gO({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function P$(t,{refreshToken:e}){const n=gO(t);return n.append("Authorization",R$(e)),n}async function vO(t){const e=await t();return e.status>=500&&e.status<600?t():e}function k$(t){return Number(t.replace("s","000"))}function R$(t){return`${dO} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function D$({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=fO(t),i=gO(t),s=e.getImmediate({optional:!0});if(s){const u=await s.getHeartbeatsHeader();u&&i.append("x-firebase-client",u)}const o={fid:n,authVersion:dO,appId:t.appId,sdkVersion:cO},a={method:"POST",headers:i,body:JSON.stringify(o)},l=await vO(()=>fetch(r,a));if(l.ok){const u=await l.json();return{fid:u.fid||n,registrationStatus:2,refreshToken:u.refreshToken,authToken:pO(u.authToken)}}else throw await mO("Create Installation",l)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yO(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x$(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N$=/^[cdef][\w-]{21}$/,Rv="";function M$(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=L$(t);return N$.test(n)?n:Rv}catch{return Rv}}function L$(t){return x$(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Np(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _O=new Map;function bO(t,e){const n=Np(t);wO(n,e),V$(n,e)}function wO(t,e){const n=_O.get(t);if(n)for(const r of n)r(e)}function V$(t,e){const n=F$();n&&n.postMessage({key:t,fid:e}),$$()}let zo=null;function F$(){return!zo&&"BroadcastChannel"in self&&(zo=new BroadcastChannel("[Firebase] FID Change"),zo.onmessage=t=>{wO(t.data.key,t.data.fid)}),zo}function $$(){_O.size===0&&zo&&(zo.close(),zo=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U$="firebase-installations-database",B$=1,ca="firebase-installations-store";let ag=null;function g_(){return ag||(ag=iO(U$,B$,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(ca)}}})),ag}async function Pf(t,e){const n=Np(t),i=(await g_()).transaction(ca,"readwrite"),s=i.objectStore(ca),o=await s.get(n);return await s.put(e,n),await i.done,(!o||o.fid!==e.fid)&&bO(t,e.fid),e}async function TO(t){const e=Np(t),r=(await g_()).transaction(ca,"readwrite");await r.objectStore(ca).delete(e),await r.done}async function Mp(t,e){const n=Np(t),i=(await g_()).transaction(ca,"readwrite"),s=i.objectStore(ca),o=await s.get(n),a=e(o);return a===void 0?await s.delete(n):await s.put(a,n),await i.done,a&&(!o||o.fid!==a.fid)&&bO(t,a.fid),a}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function v_(t){let e;const n=await Mp(t.appConfig,r=>{const i=j$(r),s=H$(t,i);return e=s.registrationPromise,s.installationEntry});return n.fid===Rv?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function j$(t){const e=t||{fid:M$(),registrationStatus:0};return EO(e)}function H$(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const i=Promise.reject(ua.create("app-offline"));return{installationEntry:e,registrationPromise:i}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=W$(t,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:q$(t)}:{installationEntry:e}}async function W$(t,e){try{const n=await D$(t,e);return Pf(t.appConfig,n)}catch(n){throw hO(n)&&n.customData.serverCode===409?await TO(t.appConfig):await Pf(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function q$(t){let e=await x1(t.appConfig);for(;e.registrationStatus===1;)await yO(100),e=await x1(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await v_(t);return r||n}return e}function x1(t){return Mp(t,e=>{if(!e)throw ua.create("installation-not-found");return EO(e)})}function EO(t){return z$(t)?{fid:t.fid,registrationStatus:0}:t}function z$(t){return t.registrationStatus===1&&t.registrationTime+uO<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function K$({appConfig:t,heartbeatServiceProvider:e},n){const r=Y$(t,n),i=P$(t,n),s=e.getImmediate({optional:!0});if(s){const u=await s.getHeartbeatsHeader();u&&i.append("x-firebase-client",u)}const o={installation:{sdkVersion:cO,appId:t.appId}},a={method:"POST",headers:i,body:JSON.stringify(o)},l=await vO(()=>fetch(r,a));if(l.ok){const u=await l.json();return pO(u)}else throw await mO("Generate Auth Token",l)}function Y$(t,{fid:e}){return`${fO(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function y_(t,e=!1){let n;const r=await Mp(t.appConfig,s=>{if(!IO(s))throw ua.create("not-registered");const o=s.authToken;if(!e&&X$(o))return s;if(o.requestStatus===1)return n=G$(t,e),s;{if(!navigator.onLine)throw ua.create("app-offline");const a=Z$(s);return n=Q$(t,a),a}});return n?await n:r.authToken}async function G$(t,e){let n=await N1(t.appConfig);for(;n.authToken.requestStatus===1;)await yO(100),n=await N1(t.appConfig);const r=n.authToken;return r.requestStatus===0?y_(t,e):r}function N1(t){return Mp(t,e=>{if(!IO(e))throw ua.create("not-registered");const n=e.authToken;return e3(n)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function Q$(t,e){try{const n=await K$(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return await Pf(t.appConfig,r),n}catch(n){if(hO(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await TO(t.appConfig);else{const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await Pf(t.appConfig,r)}throw n}}function IO(t){return t!==void 0&&t.registrationStatus===2}function X$(t){return t.requestStatus===2&&!J$(t)}function J$(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+S$}function Z$(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}function e3(t){return t.requestStatus===1&&t.requestTime+uO<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function t3(t){const e=t,{installationEntry:n,registrationPromise:r}=await v_(e);return r?r.catch(console.error):y_(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function n3(t,e=!1){const n=t;return await r3(n),(await y_(n,e)).token}async function r3(t){const{registrationPromise:e}=await v_(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i3(t){if(!t||!t.options)throw lg("App Configuration");if(!t.name)throw lg("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw lg(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function lg(t){return ua.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SO="installations",s3="installations-internal",o3=t=>{const e=t.getProvider("app").getImmediate(),n=i3(e),r=es(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},a3=t=>{const e=t.getProvider("app").getImmediate(),n=es(e,SO).getImmediate();return{getId:()=>t3(n),getToken:i=>n3(n,i)}};function l3(){Ur(new Pr(SO,o3,"PUBLIC")),Ur(new Pr(s3,a3,"PRIVATE"))}l3();er(lO,m_);er(lO,m_,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kf="analytics",u3="firebase_id",c3="origin",d3=60*1e3,h3="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",__="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fr=new au("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f3={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},Gr=new Ao("analytics","Analytics",f3);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p3(t){if(!t.startsWith(__)){const e=Gr.create("invalid-gtag-resource",{gtagURL:t});return Fr.warn(e.message),""}return t}function CO(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function m3(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function g3(t,e){const n=m3("firebase-js-sdk-policy",{createScriptURL:p3}),r=document.createElement("script"),i=`${__}?l=${t}&id=${e}`;r.src=n?n==null?void 0:n.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}function v3(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function y3(t,e,n,r,i,s){const o=r[i];try{if(o)await e[o];else{const l=(await CO(n)).find(u=>u.measurementId===i);l&&await e[l.appId]}}catch(a){Fr.error(a)}t("config",i,s)}async function _3(t,e,n,r,i){try{let s=[];if(i&&i.send_to){let o=i.send_to;Array.isArray(o)||(o=[o]);const a=await CO(n);for(const l of o){const u=a.find(h=>h.measurementId===l),c=u&&e[u.appId];if(c)s.push(c);else{s=[];break}}}s.length===0&&(s=Object.values(e)),await Promise.all(s),t("event",r,i||{})}catch(s){Fr.error(s)}}function b3(t,e,n,r){async function i(s,...o){try{if(s==="event"){const[a,l]=o;await _3(t,e,n,a,l)}else if(s==="config"){const[a,l]=o;await y3(t,e,n,r,a,l)}else if(s==="consent"){const[a,l]=o;t("consent",a,l)}else if(s==="get"){const[a,l,u]=o;t("get",a,l,u)}else if(s==="set"){const[a]=o;t("set",a)}else t(s,...o)}catch(a){Fr.error(a)}}return i}function w3(t,e,n,r,i){let s=function(...o){window[r].push(arguments)};return window[i]&&typeof window[i]=="function"&&(s=window[i]),window[i]=b3(s,t,e,n),{gtagCore:s,wrappedGtag:window[i]}}function T3(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(__)&&n.src.includes(t))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E3=30,I3=1e3;class S3{constructor(e={},n=I3){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const AO=new S3;function C3(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function A3(t){var e;const{appId:n,apiKey:r}=t,i={method:"GET",headers:C3(r)},s=h3.replace("{app-id}",n),o=await fetch(s,i);if(o.status!==200&&o.status!==304){let a="";try{const l=await o.json();!((e=l.error)===null||e===void 0)&&e.message&&(a=l.error.message)}catch{}throw Gr.create("config-fetch-failed",{httpStatus:o.status,responseMessage:a})}return o.json()}async function O3(t,e=AO,n){const{appId:r,apiKey:i,measurementId:s}=t.options;if(!r)throw Gr.create("no-app-id");if(!i){if(s)return{measurementId:s,appId:r};throw Gr.create("no-api-key")}const o=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new R3;return setTimeout(async()=>{a.abort()},n!==void 0?n:d3),OO({appId:r,apiKey:i,measurementId:s},o,a,e)}async function OO(t,{throttleEndTimeMillis:e,backoffCount:n},r,i=AO){var s;const{appId:o,measurementId:a}=t;try{await P3(r,e)}catch(l){if(a)return Fr.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${l==null?void 0:l.message}]`),{appId:o,measurementId:a};throw l}try{const l=await A3(t);return i.deleteThrottleMetadata(o),l}catch(l){const u=l;if(!k3(u)){if(i.deleteThrottleMetadata(o),a)return Fr.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${u==null?void 0:u.message}]`),{appId:o,measurementId:a};throw l}const c=Number((s=u==null?void 0:u.customData)===null||s===void 0?void 0:s.httpStatus)===503?Sv(n,i.intervalMillis,E3):Sv(n,i.intervalMillis),h={throttleEndTimeMillis:Date.now()+c,backoffCount:n+1};return i.setThrottleMetadata(o,h),Fr.debug(`Calling attemptFetch again in ${c} millis`),OO(t,h,r,i)}}function P3(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(s),r(Gr.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function k3(t){if(!(t instanceof Jr)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class R3{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function D3(t,e,n,r,i){if(i&&i.global){t("event",n,r);return}else{const s=await e,o=Object.assign(Object.assign({},r),{send_to:s});t("event",n,o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function x3(){if(Dp())try{await eO()}catch(t){return Fr.warn(Gr.create("indexeddb-unavailable",{errorInfo:t==null?void 0:t.toString()}).message),!1}else return Fr.warn(Gr.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function N3(t,e,n,r,i,s,o){var a;const l=O3(t);l.then(p=>{n[p.measurementId]=p.appId,t.options.measurementId&&p.measurementId!==t.options.measurementId&&Fr.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${p.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(p=>Fr.error(p)),e.push(l);const u=x3().then(p=>{if(p)return r.getId()}),[c,h]=await Promise.all([l,u]);T3(s)||g3(s,c.measurementId),i("js",new Date);const f=(a=o==null?void 0:o.config)!==null&&a!==void 0?a:{};return f[c3]="firebase",f.update=!0,h!=null&&(f[u3]=h),i("config",c.measurementId,f),c.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M3{constructor(e){this.app=e}_delete(){return delete dc[this.app.options.appId],Promise.resolve()}}let dc={},M1=[];const L1={};let ug="dataLayer",L3="gtag",V1,PO,F1=!1;function V3(){const t=[];if(XA()&&t.push("This is a browser extension environment."),tF()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,i)=>`(${i+1}) ${r}`).join(" "),n=Gr.create("invalid-analytics-context",{errorInfo:e});Fr.warn(n.message)}}function F3(t,e,n){V3();const r=t.options.appId;if(!r)throw Gr.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)Fr.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Gr.create("no-api-key");if(dc[r]!=null)throw Gr.create("already-exists",{id:r});if(!F1){v3(ug);const{wrappedGtag:s,gtagCore:o}=w3(dc,M1,L1,ug,L3);PO=s,V1=o,F1=!0}return dc[r]=N3(t,M1,L1,e,V1,ug,n),new M3(t)}function kO(t=lu()){t=Pt(t);const e=es(t,kf);return e.isInitialized()?e.getImmediate():$3(t)}function $3(t,e={}){const n=es(t,kf);if(n.isInitialized()){const i=n.getImmediate();if(Uc(e,n.getOptions()))return i;throw Gr.create("already-initialized")}return n.initialize({options:e})}function RO(t,e,n,r){t=Pt(t),D3(PO,dc[t.app.options.appId],e,n,r).catch(i=>Fr.error(i))}const $1="@firebase/analytics",U1="0.10.8";function U3(){Ur(new Pr(kf,(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();return F3(r,i,n)},"PUBLIC")),Ur(new Pr("analytics-internal",t,"PRIVATE")),er($1,U1),er($1,U1,"esm2017");function t(e){try{const n=e.getProvider(kf).getImmediate();return{logEvent:(r,i,s)=>RO(n,r,i,s)}}catch(n){throw Gr.create("interop-component-reg-failed",{reason:n})}}}U3();var B3="firebase",j3="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */er(B3,j3,"app");/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dv=new Map,DO={activated:!1,tokenObservers:[]},H3={initialized:!1,enabled:!1};function Mn(t){return Dv.get(t)||Object.assign({},DO)}function W3(t,e){return Dv.set(t,e),Dv.get(t)}function Lp(){return H3}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xO="https://content-firebaseappcheck.googleapis.com/v1",q3="exchangeRecaptchaV3Token",z3="exchangeDebugToken",B1={OFFSET_DURATION:5*60*1e3,RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:16*60*1e3},K3=24*60*60*1e3;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y3{constructor(e,n,r,i,s){if(this.operation=e,this.retryPolicy=n,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=s,this.pending=null,this.nextErrorWaitInterval=i,i>s)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}async process(e){this.stop();try{this.pending=new la,this.pending.promise.catch(n=>{}),await G3(this.getNextRun(e)),this.pending.resolve(),await this.pending.promise,this.pending=new la,this.pending.promise.catch(n=>{}),await this.operation(),this.pending.resolve(),await this.pending.promise,this.process(!0).catch(()=>{})}catch(n){this.retryPolicy(n)?this.process(!1).catch(()=>{}):this.stop()}}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n}}}function G3(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q3={"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"},Mr=new Ao("appCheck","AppCheck",Q3);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j1(t=!1){var e;return t?(e=self.grecaptcha)===null||e===void 0?void 0:e.enterprise:self.grecaptcha}function b_(t){if(!Mn(t).activated)throw Mr.create("use-before-activation",{appName:t.name})}function NO(t){const e=Math.round(t/1e3),n=Math.floor(e/(3600*24)),r=Math.floor((e-n*3600*24)/3600),i=Math.floor((e-n*3600*24-r*3600)/60),s=e-n*3600*24-r*3600-i*60;let o="";return n&&(o+=_h(n)+"d:"),r&&(o+=_h(r)+"h:"),o+=_h(i)+"m:"+_h(s)+"s",o}function _h(t){return t===0?"00":t>=10?t.toString():"0"+t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function w_({url:t,body:e},n){const r={"Content-Type":"application/json"},i=n.getImmediate({optional:!0});if(i){const h=await i.getHeartbeatsHeader();h&&(r["X-Firebase-Client"]=h)}const s={method:"POST",body:JSON.stringify(e),headers:r};let o;try{o=await fetch(t,s)}catch(h){throw Mr.create("fetch-network-error",{originalErrorMessage:h==null?void 0:h.message})}if(o.status!==200)throw Mr.create("fetch-status-error",{httpStatus:o.status});let a;try{a=await o.json()}catch(h){throw Mr.create("fetch-parse-error",{originalErrorMessage:h==null?void 0:h.message})}const l=a.ttl.match(/^([\d.]+)(s)$/);if(!l||!l[2]||isNaN(Number(l[1])))throw Mr.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${a.ttl}`});const u=Number(l[1])*1e3,c=Date.now();return{token:a.token,expireTimeMillis:c+u,issuedAtTimeMillis:c}}function X3(t,e){const{projectId:n,appId:r,apiKey:i}=t.options;return{url:`${xO}/projects/${n}/apps/${r}:${q3}?key=${i}`,body:{recaptcha_v3_token:e}}}function MO(t,e){const{projectId:n,appId:r,apiKey:i}=t.options;return{url:`${xO}/projects/${n}/apps/${r}:${z3}?key=${i}`,body:{debug_token:e}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J3="firebase-app-check-database",Z3=1,jc="firebase-app-check-store",LO="debug-token";let bh=null;function VO(){return bh||(bh=new Promise((t,e)=>{try{const n=indexedDB.open(J3,Z3);n.onsuccess=r=>{t(r.target.result)},n.onerror=r=>{var i;e(Mr.create("storage-open",{originalErrorMessage:(i=r.target.error)===null||i===void 0?void 0:i.message}))},n.onupgradeneeded=r=>{const i=r.target.result;switch(r.oldVersion){case 0:i.createObjectStore(jc,{keyPath:"compositeKey"})}}}catch(n){e(Mr.create("storage-open",{originalErrorMessage:n==null?void 0:n.message}))}}),bh)}function eU(t){return $O(UO(t))}function tU(t,e){return FO(UO(t),e)}function nU(t){return FO(LO,t)}function rU(){return $O(LO)}async function FO(t,e){const r=(await VO()).transaction(jc,"readwrite"),s=r.objectStore(jc).put({compositeKey:t,value:e});return new Promise((o,a)=>{s.onsuccess=l=>{o()},r.onerror=l=>{var u;a(Mr.create("storage-set",{originalErrorMessage:(u=l.target.error)===null||u===void 0?void 0:u.message}))}})}async function $O(t){const n=(await VO()).transaction(jc,"readonly"),i=n.objectStore(jc).get(t);return new Promise((s,o)=>{i.onsuccess=a=>{const l=a.target.result;s(l?l.value:void 0)},n.onerror=a=>{var l;o(Mr.create("storage-get",{originalErrorMessage:(l=a.target.error)===null||l===void 0?void 0:l.message}))}})}function UO(t){return`${t.options.appId}-${t.name}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hc=new au("@firebase/app-check");/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iU(t){if(Dp()){let e;try{e=await eU(t)}catch(n){Hc.warn(`Failed to read token from IndexedDB. Error: ${n}`)}return e}}function cg(t,e){return Dp()?tU(t,e).catch(n=>{Hc.warn(`Failed to write token to IndexedDB. Error: ${n}`)}):Promise.resolve()}async function sU(){let t;try{t=await rU()}catch{}if(t)return t;{const e=fF();return nU(e).catch(n=>Hc.warn(`Failed to persist debug token to IndexedDB. Error: ${n}`)),e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T_(){return Lp().enabled}async function E_(){const t=Lp();if(t.enabled&&t.token)return t.token.promise;throw Error(`
            Can't get debug token in production mode.
        `)}function oU(){const t=qA(),e=Lp();if(e.initialized=!0,typeof t.FIREBASE_APPCHECK_DEBUG_TOKEN!="string"&&t.FIREBASE_APPCHECK_DEBUG_TOKEN!==!0)return;e.enabled=!0;const n=new la;e.token=n,typeof t.FIREBASE_APPCHECK_DEBUG_TOKEN=="string"?n.resolve(t.FIREBASE_APPCHECK_DEBUG_TOKEN):n.resolve(sU())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aU={error:"UNKNOWN_ERROR"};function lU(t){return kp.encodeString(JSON.stringify(t),!1)}async function xv(t,e=!1){const n=t.app;b_(n);const r=Mn(n);let i=r.token,s;if(i&&!sl(i)&&(r.token=void 0,i=void 0),!i){const l=await r.cachedTokenPromise;l&&(sl(l)?i=l:await cg(n,void 0))}if(!e&&i&&sl(i))return{token:i.token};let o=!1;if(T_()){r.exchangeTokenPromise||(r.exchangeTokenPromise=w_(MO(n,await E_()),t.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),o=!0);const l=await r.exchangeTokenPromise;return await cg(n,l),r.token=l,{token:l.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),o=!0),i=await Mn(n).exchangeTokenPromise}catch(l){l.code==="appCheck/throttled"?Hc.warn(l.message):Hc.error(l),s=l}let a;return i?s?sl(i)?a={token:i.token,internalError:s}:a=W1(s):(a={token:i.token},r.token=i,await cg(n,i)):a=W1(s),o&&HO(n,a),a}async function uU(t){const e=t.app;b_(e);const{provider:n}=Mn(e);if(T_()){const r=await E_(),{token:i}=await w_(MO(e,r),t.heartbeatServiceProvider);return{token:i}}else{const{token:r}=await n.getToken();return{token:r}}}function BO(t,e,n,r){const{app:i}=t,s=Mn(i),o={next:n,error:r,type:e};if(s.tokenObservers=[...s.tokenObservers,o],s.token&&sl(s.token)){const a=s.token;Promise.resolve().then(()=>{n({token:a.token}),H1(t)}).catch(()=>{})}s.cachedTokenPromise.then(()=>H1(t))}function jO(t,e){const n=Mn(t),r=n.tokenObservers.filter(i=>i.next!==e);r.length===0&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),n.tokenObservers=r}function H1(t){const{app:e}=t,n=Mn(e);let r=n.tokenRefresher;r||(r=cU(t),n.tokenRefresher=r),!r.isRunning()&&n.isTokenAutoRefreshEnabled&&r.start()}function cU(t){const{app:e}=t;return new Y3(async()=>{const n=Mn(e);let r;if(n.token?r=await xv(t,!0):r=await xv(t),r.error)throw r.error;if(r.internalError)throw r.internalError},()=>!0,()=>{const n=Mn(e);if(n.token){let r=n.token.issuedAtTimeMillis+(n.token.expireTimeMillis-n.token.issuedAtTimeMillis)*.5+3e5;const i=n.token.expireTimeMillis-5*60*1e3;return r=Math.min(r,i),Math.max(0,r-Date.now())}else return 0},B1.RETRIAL_MIN_WAIT,B1.RETRIAL_MAX_WAIT)}function HO(t,e){const n=Mn(t).tokenObservers;for(const r of n)try{r.type==="EXTERNAL"&&e.error!=null?r.error(e.error):r.next(e)}catch{}}function sl(t){return t.expireTimeMillis-Date.now()>0}function W1(t){return{token:lU(aU),error:t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dU{constructor(e,n){this.app=e,this.heartbeatServiceProvider=n}_delete(){const{tokenObservers:e}=Mn(this.app);for(const n of e)jO(this.app,n.next);return Promise.resolve()}}function hU(t,e){return new dU(t,e)}function fU(t){return{getToken:e=>xv(t,e),getLimitedUseToken:()=>uU(t),addTokenListener:e=>BO(t,"INTERNAL",e),removeTokenListener:e=>jO(t.app,e)}}const pU="@firebase/app-check",mU="0.8.8";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gU="https://www.google.com/recaptcha/api.js";function vU(t,e){const n=new la,r=Mn(t);r.reCAPTCHAState={initialized:n};const i=yU(t),s=j1(!1);return s?q1(t,e,s,i,n):wU(()=>{const o=j1(!1);if(!o)throw new Error("no recaptcha");q1(t,e,o,i,n)}),n.promise}function q1(t,e,n,r,i){n.ready(()=>{bU(t,e,n,r),i.resolve(n)})}function yU(t){const e=`fire_app_check_${t.name}`,n=document.createElement("div");return n.id=e,n.style.display="none",document.body.appendChild(n),e}async function _U(t){b_(t);const n=await Mn(t).reCAPTCHAState.initialized.promise;return new Promise((r,i)=>{const s=Mn(t).reCAPTCHAState;n.ready(()=>{r(n.execute(s.widgetId,{action:"fire_app_check"}))})})}function bU(t,e,n,r){const i=n.render(r,{sitekey:e,size:"invisible",callback:()=>{Mn(t).reCAPTCHAState.succeeded=!0},"error-callback":()=>{Mn(t).reCAPTCHAState.succeeded=!1}}),s=Mn(t);s.reCAPTCHAState=Object.assign(Object.assign({},s.reCAPTCHAState),{widgetId:i})}function wU(t){const e=document.createElement("script");e.src=gU,e.onload=t,document.head.appendChild(e)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I_{constructor(e){this._siteKey=e,this._throttleData=null}async getToken(){var e,n,r;EU(this._throttleData);const i=await _U(this._app).catch(o=>{throw Mr.create("recaptcha-error")});if(!(!((e=Mn(this._app).reCAPTCHAState)===null||e===void 0)&&e.succeeded))throw Mr.create("recaptcha-error");let s;try{s=await w_(X3(this._app,i),this._heartbeatServiceProvider)}catch(o){throw!((n=o.code)===null||n===void 0)&&n.includes("fetch-status-error")?(this._throttleData=TU(Number((r=o.customData)===null||r===void 0?void 0:r.httpStatus),this._throttleData),Mr.create("throttled",{time:NO(this._throttleData.allowRequestsAfter-Date.now()),httpStatus:this._throttleData.httpStatus})):o}return this._throttleData=null,s}initialize(e){this._app=e,this._heartbeatServiceProvider=es(e,"heartbeat"),vU(e,this._siteKey).catch(()=>{})}isEqual(e){return e instanceof I_?this._siteKey===e._siteKey:!1}}function TU(t,e){if(t===404||t===403)return{backoffCount:1,allowRequestsAfter:Date.now()+K3,httpStatus:t};{const n=e?e.backoffCount:0,r=Sv(n,1e3,2);return{backoffCount:n+1,allowRequestsAfter:Date.now()+r,httpStatus:t}}}function EU(t){if(t&&Date.now()-t.allowRequestsAfter<=0)throw Mr.create("throttled",{time:NO(t.allowRequestsAfter-Date.now()),httpStatus:t.httpStatus})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IU(t=lu(),e){t=Pt(t);const n=es(t,"app-check");if(Lp().initialized||oU(),T_()&&E_().then(i=>console.log(`App Check debug token: ${i}. You will need to add it to your app's App Check settings in the Firebase console for it to work.`)),n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(s.isTokenAutoRefreshEnabled===e.isTokenAutoRefreshEnabled&&s.provider.isEqual(e.provider))return i;throw Mr.create("already-initialized",{appName:t.name})}const r=n.initialize({options:e});return SU(t,e.provider,e.isTokenAutoRefreshEnabled),Mn(t).isTokenAutoRefreshEnabled&&BO(r,"INTERNAL",()=>{}),r}function SU(t,e,n){const r=W3(t,Object.assign({},DO));r.activated=!0,r.provider=e,r.cachedTokenPromise=iU(t).then(i=>(i&&sl(i)&&(r.token=i,HO(t,{token:i.token})),i)),r.isTokenAutoRefreshEnabled=n===void 0?t.automaticDataCollectionEnabled:n,r.provider.initialize(t)}const CU="app-check",z1="app-check-internal";function AU(){Ur(new Pr(CU,t=>{const e=t.getProvider("app").getImmediate(),n=t.getProvider("heartbeat");return hU(e,n)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,n)=>{t.getProvider(z1).initialize()})),Ur(new Pr(z1,t=>{const e=t.getProvider("app-check").getImmediate();return fU(e)},"PUBLIC").setInstantiationMode("EXPLICIT")),er(pU,mU)}AU();const OU={apiKey:"AIzaSyAjt3RyE1KkK110jxZQUrm9kjfclWO126k",authDomain:"personal-website-c3482.firebaseapp.com",projectId:"personal-website-c3482",storageBucket:"personal-website-c3482.appspot.com",messagingSenderId:"110986644823",appId:"1:110986644823:web:4081c484521ba6b37bc212",measurementId:"G-PF7D6JKSC3"},PU=t=>{IU(t,{provider:new I_("6LdIOxQpAAAAAKwbiQMkZD5Fid1DmlsKvWxOIQA5"),isTokenAutoRefreshEnabled:!0})},kU=()=>{const t=sO(OU);return PU(t),kO(t),t},WO=kU();var RU=!1;/*!
 * pinia v2.2.6
 * (c) 2024 Eduardo San Martin Morote
 * @license MIT
 */let qO;const Vp=t=>qO=t,zO=Symbol();function Nv(t){return t&&typeof t=="object"&&Object.prototype.toString.call(t)==="[object Object]"&&typeof t.toJSON!="function"}var hc;(function(t){t.direct="direct",t.patchObject="patch object",t.patchFunction="patch function"})(hc||(hc={}));function DU(){const t=Hy(!0),e=t.run(()=>Te({}));let n=[],r=[];const i=Qy({install(s){Vp(i),i._a=s,s.provide(zO,i),s.config.globalProperties.$pinia=i,r.forEach(o=>n.push(o)),r=[]},use(s){return!this._a&&!RU?r.push(s):n.push(s),this},_p:n,_a:null,_e:t,_s:new Map,state:e});return i}const KO=()=>{};function K1(t,e,n,r=KO){t.push(e);const i=()=>{const s=t.indexOf(e);s>-1&&(t.splice(s,1),r())};return!n&&Wy()&&KS(i),i}function Ha(t,...e){t.slice().forEach(n=>{n(...e)})}const xU=t=>t(),Y1=Symbol(),dg=Symbol();function Mv(t,e){t instanceof Map&&e instanceof Map?e.forEach((n,r)=>t.set(r,n)):t instanceof Set&&e instanceof Set&&e.forEach(t.add,t);for(const n in e){if(!e.hasOwnProperty(n))continue;const r=e[n],i=t[n];Nv(i)&&Nv(r)&&t.hasOwnProperty(n)&&!ln(r)&&!zi(r)?t[n]=Mv(i,r):t[n]=r}return t}const NU=Symbol();function MU(t){return!Nv(t)||!t.hasOwnProperty(NU)}const{assign:zs}=Object;function LU(t){return!!(ln(t)&&t.effect)}function VU(t,e,n,r){const{state:i,actions:s,getters:o}=e,a=n.state.value[t];let l;function u(){a||(n.state.value[t]=i?i():{});const c=TM(n.state.value[t]);return zs(c,s,Object.keys(o||{}).reduce((h,f)=>(h[f]=Qy(he(()=>{Vp(n);const p=n._s.get(t);return o[f].call(p,p)})),h),{}))}return l=YO(t,u,e,n,r,!0),l}function YO(t,e,n={},r,i,s){let o;const a=zs({actions:{}},n),l={deep:!0};let u,c,h=[],f=[],p;const g=r.state.value[t];!s&&!g&&(r.state.value[t]={}),Te({});let b;function S(T){let _;u=c=!1,typeof T=="function"?(T(r.state.value[t]),_={type:hc.patchFunction,storeId:t,events:p}):(Mv(r.state.value[t],T),_={type:hc.patchObject,payload:T,storeId:t,events:p});const v=b=Symbol();jn().then(()=>{b===v&&(u=!0)}),c=!0,Ha(h,_,r.state.value[t])}const R=s?function(){const{state:_}=n,v=_?_():{};this.$patch(C=>{zs(C,v)})}:KO;function P(){o.stop(),h=[],f=[],r._s.delete(t)}const w=(T,_="")=>{if(Y1 in T)return T[dg]=_,T;const v=function(){Vp(r);const C=Array.from(arguments),A=[],O=[];function z(H){A.push(H)}function F(H){O.push(H)}Ha(f,{args:C,name:v[dg],store:N,after:z,onError:F});let U;try{U=T.apply(this&&this.$id===t?this:N,C)}catch(H){throw Ha(O,H),H}return U instanceof Promise?U.then(H=>(Ha(A,H),H)).catch(H=>(Ha(O,H),Promise.reject(H))):(Ha(A,U),U)};return v[Y1]=!0,v[dg]=_,v},E={_p:r,$id:t,$onAction:K1.bind(null,f),$patch:S,$reset:R,$subscribe(T,_={}){const v=K1(h,T,_.detached,()=>C()),C=o.run(()=>Nn(()=>r.state.value[t],A=>{(_.flush==="sync"?c:u)&&T({storeId:t,type:hc.direct,events:p},A)},zs({},l,_)));return v},$dispose:P},N=di(E);r._s.set(t,N);const I=(r._a&&r._a.runWithContext||xU)(()=>r._e.run(()=>(o=Hy()).run(()=>e({action:w}))));for(const T in I){const _=I[T];if(ln(_)&&!LU(_)||zi(_))s||(g&&MU(_)&&(ln(_)?_.value=g[T]:Mv(_,g[T])),r.state.value[t][T]=_);else if(typeof _=="function"){const v=w(_,T);I[T]=v,a.actions[T]=_}}return zs(N,I),zs(pt(N),I),Object.defineProperty(N,"$state",{get:()=>r.state.value[t],set:T=>{S(_=>{zs(_,T)})}}),r._p.forEach(T=>{zs(N,o.run(()=>T({store:N,app:r._a,pinia:r,options:a})))}),g&&s&&n.hydrate&&n.hydrate(N.$state,g),u=!0,c=!0,N}/*! #__NO_SIDE_EFFECTS__ */function GO(t,e,n){let r,i;const s=typeof e=="function";typeof t=="string"?(r=t,i=s?n:e):(i=t,r=t.id);function o(a,l){const u=cL();return a=a||(u?Vr(zO,null):null),a&&Vp(a),a=qO,a._s.has(r)||(s?YO(r,e,i,a):VU(r,i,a)),a._s.get(r)}return o.$id=r,o}function sre(t){{const e=pt(t),n={};for(const r in e){const i=e[r];(ln(i)||zi(i))&&(n[r]=kc(t,r))}return n}}const G1=(t,e)=>{const n=t.storage||sessionStorage,r=t.key||e.$id;if(t.paths){const i=t.paths.reduce((s,o)=>(s[o]=e.$state[o],s),{});n.setItem(r,JSON.stringify(i))}else n.setItem(r,JSON.stringify(e.$state))};var FU=({options:t,store:e})=>{var n,r,i,s;if((n=t.persist)!=null&&n.enabled){const o=[{key:e.$id,storage:sessionStorage}],a=(i=(r=t.persist)==null?void 0:r.strategies)!=null&&i.length?(s=t.persist)==null?void 0:s.strategies:o;a.forEach(l=>{const u=l.storage||sessionStorage,c=l.key||e.$id,h=u.getItem(c);h&&(e.$patch(JSON.parse(h)),G1(l,e))}),e.$subscribe(()=>{a.forEach(l=>{G1(l,e)})})}};const QO=DU();QO.use(FU);const $U="modulepreload",UU=function(t,e){return new URL(t,e).href},Q1={},xi=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){const s=document.getElementsByTagName("link");i=Promise.all(n.map(o=>{if(o=UU(o,r),o in Q1)return;Q1[o]=!0;const a=o.endsWith(".css"),l=a?'[rel="stylesheet"]':"";if(!!r)for(let h=s.length-1;h>=0;h--){const f=s[h];if(f.href===o&&(!a||f.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${o}"]${l}`))return;const c=document.createElement("link");if(c.rel=a?"stylesheet":$U,a||(c.as="script",c.crossOrigin=""),c.href=o,document.head.appendChild(c),a)return new Promise((h,f)=>{c.addEventListener("load",h),c.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${o}`)))})}))}return i.then(()=>e()).catch(s=>{const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=s,window.dispatchEvent(o),!o.defaultPrevented)throw s})},Yn=class Yn{constructor(e,n,r={},i,s){os(this,"errorCode");this.errorCode=s,Yn.log(r.debug,n),r.route&&BD.push({name:r.route}),x2({title:i??e,type:e.toLowerCase(),text:n},5e3)}};os(Yn,"success",(e,n={})=>new Yn("Success",e,n)),os(Yn,"update",(e,n={})=>new Yn("Warning",e,n,"Update")),os(Yn,"warning",(e,n={})=>new Yn("Warning",e,n)),os(Yn,"error",(e,n={})=>new Yn("Error",e,n)),os(Yn,"generalError",(e,n,r)=>new Yn("Error",(n==null?void 0:n.message)||XO,{debug:e},void 0,r)),os(Yn,"firebaseError",(e,n)=>{Yn.log(e,n);let r;return n instanceof Jr&&Object.keys(wh).includes(n.code)?(r=n.code,n.message=wh[r]):n instanceof Error&&Object.keys(wh).includes(n.name)?(r=n.name,n.message=wh[r]):n.message=void 0,Yn.generalError(e,n,r)}),os(Yn,"log",(e,n)=>{e&&console.log(n)});let $e=Yn;const XO="Something went wrong";var JO=(t=>(t.DEFAULT_ERROR="",t.AUTH_USER_NOT_FOUND="auth/user-not-found",t.AUTH_INVALID_EMAIL="auth/invalid-email",t.AUTH_EMAIL_ALREADY_IN_USE="auth/email-already-in-use",t.AUTH_WRONG_PASSWORD="auth/wrong-password",t.AUTH_TOO_MANY_REQUESTS="auth/too-many-requests",t.AUTH_WEAK_PASSWORD="auth/weak-password",t.AUTH_REQUIRES_RECENT_LOGIN="auth/requires-recent-login",t.PERMISSION_DENIED="permission-denied",t))(JO||{});const X1=t=>Object.values(JO).includes(t),wh={"":XO,"auth/user-not-found":"Unknown user","auth/invalid-email":"Invalid e-mail address","auth/email-already-in-use":"E-mail already in use","auth/wrong-password":"Wrong password","auth/too-many-requests":"Temporarily blocked","auth/weak-password":"Weak password","auth/requires-recent-login":"You need to re-login to do this","permission-denied":"Not logged in or no permission"};var J1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Zo,ZO;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(I,T){function _(){}_.prototype=T.prototype,I.D=T.prototype,I.prototype=new _,I.prototype.constructor=I,I.C=function(v,C,A){for(var O=Array(arguments.length-2),z=2;z<arguments.length;z++)O[z-2]=arguments[z];return T.prototype[C].apply(v,O)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(I,T,_){_||(_=0);var v=Array(16);if(typeof T=="string")for(var C=0;16>C;++C)v[C]=T.charCodeAt(_++)|T.charCodeAt(_++)<<8|T.charCodeAt(_++)<<16|T.charCodeAt(_++)<<24;else for(C=0;16>C;++C)v[C]=T[_++]|T[_++]<<8|T[_++]<<16|T[_++]<<24;T=I.g[0],_=I.g[1],C=I.g[2];var A=I.g[3],O=T+(A^_&(C^A))+v[0]+3614090360&4294967295;T=_+(O<<7&4294967295|O>>>25),O=A+(C^T&(_^C))+v[1]+3905402710&4294967295,A=T+(O<<12&4294967295|O>>>20),O=C+(_^A&(T^_))+v[2]+606105819&4294967295,C=A+(O<<17&4294967295|O>>>15),O=_+(T^C&(A^T))+v[3]+3250441966&4294967295,_=C+(O<<22&4294967295|O>>>10),O=T+(A^_&(C^A))+v[4]+4118548399&4294967295,T=_+(O<<7&4294967295|O>>>25),O=A+(C^T&(_^C))+v[5]+1200080426&4294967295,A=T+(O<<12&4294967295|O>>>20),O=C+(_^A&(T^_))+v[6]+2821735955&4294967295,C=A+(O<<17&4294967295|O>>>15),O=_+(T^C&(A^T))+v[7]+4249261313&4294967295,_=C+(O<<22&4294967295|O>>>10),O=T+(A^_&(C^A))+v[8]+1770035416&4294967295,T=_+(O<<7&4294967295|O>>>25),O=A+(C^T&(_^C))+v[9]+2336552879&4294967295,A=T+(O<<12&4294967295|O>>>20),O=C+(_^A&(T^_))+v[10]+4294925233&4294967295,C=A+(O<<17&4294967295|O>>>15),O=_+(T^C&(A^T))+v[11]+2304563134&4294967295,_=C+(O<<22&4294967295|O>>>10),O=T+(A^_&(C^A))+v[12]+1804603682&4294967295,T=_+(O<<7&4294967295|O>>>25),O=A+(C^T&(_^C))+v[13]+4254626195&4294967295,A=T+(O<<12&4294967295|O>>>20),O=C+(_^A&(T^_))+v[14]+2792965006&4294967295,C=A+(O<<17&4294967295|O>>>15),O=_+(T^C&(A^T))+v[15]+1236535329&4294967295,_=C+(O<<22&4294967295|O>>>10),O=T+(C^A&(_^C))+v[1]+4129170786&4294967295,T=_+(O<<5&4294967295|O>>>27),O=A+(_^C&(T^_))+v[6]+3225465664&4294967295,A=T+(O<<9&4294967295|O>>>23),O=C+(T^_&(A^T))+v[11]+643717713&4294967295,C=A+(O<<14&4294967295|O>>>18),O=_+(A^T&(C^A))+v[0]+3921069994&4294967295,_=C+(O<<20&4294967295|O>>>12),O=T+(C^A&(_^C))+v[5]+3593408605&4294967295,T=_+(O<<5&4294967295|O>>>27),O=A+(_^C&(T^_))+v[10]+38016083&4294967295,A=T+(O<<9&4294967295|O>>>23),O=C+(T^_&(A^T))+v[15]+3634488961&4294967295,C=A+(O<<14&4294967295|O>>>18),O=_+(A^T&(C^A))+v[4]+3889429448&4294967295,_=C+(O<<20&4294967295|O>>>12),O=T+(C^A&(_^C))+v[9]+568446438&4294967295,T=_+(O<<5&4294967295|O>>>27),O=A+(_^C&(T^_))+v[14]+3275163606&4294967295,A=T+(O<<9&4294967295|O>>>23),O=C+(T^_&(A^T))+v[3]+4107603335&4294967295,C=A+(O<<14&4294967295|O>>>18),O=_+(A^T&(C^A))+v[8]+1163531501&4294967295,_=C+(O<<20&4294967295|O>>>12),O=T+(C^A&(_^C))+v[13]+2850285829&4294967295,T=_+(O<<5&4294967295|O>>>27),O=A+(_^C&(T^_))+v[2]+4243563512&4294967295,A=T+(O<<9&4294967295|O>>>23),O=C+(T^_&(A^T))+v[7]+1735328473&4294967295,C=A+(O<<14&4294967295|O>>>18),O=_+(A^T&(C^A))+v[12]+2368359562&4294967295,_=C+(O<<20&4294967295|O>>>12),O=T+(_^C^A)+v[5]+4294588738&4294967295,T=_+(O<<4&4294967295|O>>>28),O=A+(T^_^C)+v[8]+2272392833&4294967295,A=T+(O<<11&4294967295|O>>>21),O=C+(A^T^_)+v[11]+1839030562&4294967295,C=A+(O<<16&4294967295|O>>>16),O=_+(C^A^T)+v[14]+4259657740&4294967295,_=C+(O<<23&4294967295|O>>>9),O=T+(_^C^A)+v[1]+2763975236&4294967295,T=_+(O<<4&4294967295|O>>>28),O=A+(T^_^C)+v[4]+1272893353&4294967295,A=T+(O<<11&4294967295|O>>>21),O=C+(A^T^_)+v[7]+4139469664&4294967295,C=A+(O<<16&4294967295|O>>>16),O=_+(C^A^T)+v[10]+3200236656&4294967295,_=C+(O<<23&4294967295|O>>>9),O=T+(_^C^A)+v[13]+681279174&4294967295,T=_+(O<<4&4294967295|O>>>28),O=A+(T^_^C)+v[0]+3936430074&4294967295,A=T+(O<<11&4294967295|O>>>21),O=C+(A^T^_)+v[3]+3572445317&4294967295,C=A+(O<<16&4294967295|O>>>16),O=_+(C^A^T)+v[6]+76029189&4294967295,_=C+(O<<23&4294967295|O>>>9),O=T+(_^C^A)+v[9]+3654602809&4294967295,T=_+(O<<4&4294967295|O>>>28),O=A+(T^_^C)+v[12]+3873151461&4294967295,A=T+(O<<11&4294967295|O>>>21),O=C+(A^T^_)+v[15]+530742520&4294967295,C=A+(O<<16&4294967295|O>>>16),O=_+(C^A^T)+v[2]+3299628645&4294967295,_=C+(O<<23&4294967295|O>>>9),O=T+(C^(_|~A))+v[0]+4096336452&4294967295,T=_+(O<<6&4294967295|O>>>26),O=A+(_^(T|~C))+v[7]+1126891415&4294967295,A=T+(O<<10&4294967295|O>>>22),O=C+(T^(A|~_))+v[14]+2878612391&4294967295,C=A+(O<<15&4294967295|O>>>17),O=_+(A^(C|~T))+v[5]+4237533241&4294967295,_=C+(O<<21&4294967295|O>>>11),O=T+(C^(_|~A))+v[12]+1700485571&4294967295,T=_+(O<<6&4294967295|O>>>26),O=A+(_^(T|~C))+v[3]+2399980690&4294967295,A=T+(O<<10&4294967295|O>>>22),O=C+(T^(A|~_))+v[10]+4293915773&4294967295,C=A+(O<<15&4294967295|O>>>17),O=_+(A^(C|~T))+v[1]+2240044497&4294967295,_=C+(O<<21&4294967295|O>>>11),O=T+(C^(_|~A))+v[8]+1873313359&4294967295,T=_+(O<<6&4294967295|O>>>26),O=A+(_^(T|~C))+v[15]+4264355552&4294967295,A=T+(O<<10&4294967295|O>>>22),O=C+(T^(A|~_))+v[6]+2734768916&4294967295,C=A+(O<<15&4294967295|O>>>17),O=_+(A^(C|~T))+v[13]+1309151649&4294967295,_=C+(O<<21&4294967295|O>>>11),O=T+(C^(_|~A))+v[4]+4149444226&4294967295,T=_+(O<<6&4294967295|O>>>26),O=A+(_^(T|~C))+v[11]+3174756917&4294967295,A=T+(O<<10&4294967295|O>>>22),O=C+(T^(A|~_))+v[2]+718787259&4294967295,C=A+(O<<15&4294967295|O>>>17),O=_+(A^(C|~T))+v[9]+3951481745&4294967295,I.g[0]=I.g[0]+T&4294967295,I.g[1]=I.g[1]+(C+(O<<21&4294967295|O>>>11))&4294967295,I.g[2]=I.g[2]+C&4294967295,I.g[3]=I.g[3]+A&4294967295}r.prototype.u=function(I,T){T===void 0&&(T=I.length);for(var _=T-this.blockSize,v=this.B,C=this.h,A=0;A<T;){if(C==0)for(;A<=_;)i(this,I,A),A+=this.blockSize;if(typeof I=="string"){for(;A<T;)if(v[C++]=I.charCodeAt(A++),C==this.blockSize){i(this,v),C=0;break}}else for(;A<T;)if(v[C++]=I[A++],C==this.blockSize){i(this,v),C=0;break}}this.h=C,this.o+=T},r.prototype.v=function(){var I=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);I[0]=128;for(var T=1;T<I.length-8;++T)I[T]=0;var _=8*this.o;for(T=I.length-8;T<I.length;++T)I[T]=_&255,_/=256;for(this.u(I),I=Array(16),T=_=0;4>T;++T)for(var v=0;32>v;v+=8)I[_++]=this.g[T]>>>v&255;return I};function s(I,T){var _=a;return Object.prototype.hasOwnProperty.call(_,I)?_[I]:_[I]=T(I)}function o(I,T){this.h=T;for(var _=[],v=!0,C=I.length-1;0<=C;C--){var A=I[C]|0;v&&A==T||(_[C]=A,v=!1)}this.g=_}var a={};function l(I){return-128<=I&&128>I?s(I,function(T){return new o([T|0],0>T?-1:0)}):new o([I|0],0>I?-1:0)}function u(I){if(isNaN(I)||!isFinite(I))return h;if(0>I)return S(u(-I));for(var T=[],_=1,v=0;I>=_;v++)T[v]=I/_|0,_*=4294967296;return new o(T,0)}function c(I,T){if(I.length==0)throw Error("number format error: empty string");if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(I.charAt(0)=="-")return S(c(I.substring(1),T));if(0<=I.indexOf("-"))throw Error('number format error: interior "-" character');for(var _=u(Math.pow(T,8)),v=h,C=0;C<I.length;C+=8){var A=Math.min(8,I.length-C),O=parseInt(I.substring(C,C+A),T);8>A?(A=u(Math.pow(T,A)),v=v.j(A).add(u(O))):(v=v.j(_),v=v.add(u(O)))}return v}var h=l(0),f=l(1),p=l(16777216);t=o.prototype,t.m=function(){if(b(this))return-S(this).m();for(var I=0,T=1,_=0;_<this.g.length;_++){var v=this.i(_);I+=(0<=v?v:4294967296+v)*T,T*=4294967296}return I},t.toString=function(I){if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(g(this))return"0";if(b(this))return"-"+S(this).toString(I);for(var T=u(Math.pow(I,6)),_=this,v="";;){var C=E(_,T).g;_=R(_,C.j(T));var A=((0<_.g.length?_.g[0]:_.h)>>>0).toString(I);if(_=C,g(_))return A+v;for(;6>A.length;)A="0"+A;v=A+v}},t.i=function(I){return 0>I?0:I<this.g.length?this.g[I]:this.h};function g(I){if(I.h!=0)return!1;for(var T=0;T<I.g.length;T++)if(I.g[T]!=0)return!1;return!0}function b(I){return I.h==-1}t.l=function(I){return I=R(this,I),b(I)?-1:g(I)?0:1};function S(I){for(var T=I.g.length,_=[],v=0;v<T;v++)_[v]=~I.g[v];return new o(_,~I.h).add(f)}t.abs=function(){return b(this)?S(this):this},t.add=function(I){for(var T=Math.max(this.g.length,I.g.length),_=[],v=0,C=0;C<=T;C++){var A=v+(this.i(C)&65535)+(I.i(C)&65535),O=(A>>>16)+(this.i(C)>>>16)+(I.i(C)>>>16);v=O>>>16,A&=65535,O&=65535,_[C]=O<<16|A}return new o(_,_[_.length-1]&-2147483648?-1:0)};function R(I,T){return I.add(S(T))}t.j=function(I){if(g(this)||g(I))return h;if(b(this))return b(I)?S(this).j(S(I)):S(S(this).j(I));if(b(I))return S(this.j(S(I)));if(0>this.l(p)&&0>I.l(p))return u(this.m()*I.m());for(var T=this.g.length+I.g.length,_=[],v=0;v<2*T;v++)_[v]=0;for(v=0;v<this.g.length;v++)for(var C=0;C<I.g.length;C++){var A=this.i(v)>>>16,O=this.i(v)&65535,z=I.i(C)>>>16,F=I.i(C)&65535;_[2*v+2*C]+=O*F,P(_,2*v+2*C),_[2*v+2*C+1]+=A*F,P(_,2*v+2*C+1),_[2*v+2*C+1]+=O*z,P(_,2*v+2*C+1),_[2*v+2*C+2]+=A*z,P(_,2*v+2*C+2)}for(v=0;v<T;v++)_[v]=_[2*v+1]<<16|_[2*v];for(v=T;v<2*T;v++)_[v]=0;return new o(_,0)};function P(I,T){for(;(I[T]&65535)!=I[T];)I[T+1]+=I[T]>>>16,I[T]&=65535,T++}function w(I,T){this.g=I,this.h=T}function E(I,T){if(g(T))throw Error("division by zero");if(g(I))return new w(h,h);if(b(I))return T=E(S(I),T),new w(S(T.g),S(T.h));if(b(T))return T=E(I,S(T)),new w(S(T.g),T.h);if(30<I.g.length){if(b(I)||b(T))throw Error("slowDivide_ only works with positive integers.");for(var _=f,v=T;0>=v.l(I);)_=N(_),v=N(v);var C=M(_,1),A=M(v,1);for(v=M(v,2),_=M(_,2);!g(v);){var O=A.add(v);0>=O.l(I)&&(C=C.add(_),A=O),v=M(v,1),_=M(_,1)}return T=R(I,C.j(T)),new w(C,T)}for(C=h;0<=I.l(T);){for(_=Math.max(1,Math.floor(I.m()/T.m())),v=Math.ceil(Math.log(_)/Math.LN2),v=48>=v?1:Math.pow(2,v-48),A=u(_),O=A.j(T);b(O)||0<O.l(I);)_-=v,A=u(_),O=A.j(T);g(A)&&(A=f),C=C.add(A),I=R(I,O)}return new w(C,I)}t.A=function(I){return E(this,I).h},t.and=function(I){for(var T=Math.max(this.g.length,I.g.length),_=[],v=0;v<T;v++)_[v]=this.i(v)&I.i(v);return new o(_,this.h&I.h)},t.or=function(I){for(var T=Math.max(this.g.length,I.g.length),_=[],v=0;v<T;v++)_[v]=this.i(v)|I.i(v);return new o(_,this.h|I.h)},t.xor=function(I){for(var T=Math.max(this.g.length,I.g.length),_=[],v=0;v<T;v++)_[v]=this.i(v)^I.i(v);return new o(_,this.h^I.h)};function N(I){for(var T=I.g.length+1,_=[],v=0;v<T;v++)_[v]=I.i(v)<<1|I.i(v-1)>>>31;return new o(_,I.h)}function M(I,T){var _=T>>5;T%=32;for(var v=I.g.length-_,C=[],A=0;A<v;A++)C[A]=0<T?I.i(A+_)>>>T|I.i(A+_+1)<<32-T:I.i(A+_);return new o(C,I.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,ZO=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=u,o.fromString=c,Zo=o}).apply(typeof J1<"u"?J1:typeof self<"u"?self:typeof window<"u"?window:{});var Th=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var eP,Gu,tP,Kh,Lv,nP,rP,iP;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(d,m,y){return d==Array.prototype||d==Object.prototype||(d[m]=y.value),d};function n(d){d=[typeof globalThis=="object"&&globalThis,d,typeof window=="object"&&window,typeof self=="object"&&self,typeof Th=="object"&&Th];for(var m=0;m<d.length;++m){var y=d[m];if(y&&y.Math==Math)return y}throw Error("Cannot find global object")}var r=n(this);function i(d,m){if(m)e:{var y=r;d=d.split(".");for(var x=0;x<d.length-1;x++){var G=d[x];if(!(G in y))break e;y=y[G]}d=d[d.length-1],x=y[d],m=m(x),m!=x&&m!=null&&e(y,d,{configurable:!0,writable:!0,value:m})}}function s(d,m){d instanceof String&&(d+="");var y=0,x=!1,G={next:function(){if(!x&&y<d.length){var ne=y++;return{value:m(ne,d[ne]),done:!1}}return x=!0,{done:!0,value:void 0}}};return G[Symbol.iterator]=function(){return G},G}i("Array.prototype.values",function(d){return d||function(){return s(this,function(m,y){return y})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function l(d){var m=typeof d;return m=m!="object"?m:d?Array.isArray(d)?"array":m:"null",m=="array"||m=="object"&&typeof d.length=="number"}function u(d){var m=typeof d;return m=="object"&&d!=null||m=="function"}function c(d,m,y){return d.call.apply(d.bind,arguments)}function h(d,m,y){if(!d)throw Error();if(2<arguments.length){var x=Array.prototype.slice.call(arguments,2);return function(){var G=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(G,x),d.apply(m,G)}}return function(){return d.apply(m,arguments)}}function f(d,m,y){return f=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?c:h,f.apply(null,arguments)}function p(d,m){var y=Array.prototype.slice.call(arguments,1);return function(){var x=y.slice();return x.push.apply(x,arguments),d.apply(this,x)}}function g(d,m){function y(){}y.prototype=m.prototype,d.aa=m.prototype,d.prototype=new y,d.prototype.constructor=d,d.Qb=function(x,G,ne){for(var Ae=Array(arguments.length-2),qt=2;qt<arguments.length;qt++)Ae[qt-2]=arguments[qt];return m.prototype[G].apply(x,Ae)}}function b(d){const m=d.length;if(0<m){const y=Array(m);for(let x=0;x<m;x++)y[x]=d[x];return y}return[]}function S(d,m){for(let y=1;y<arguments.length;y++){const x=arguments[y];if(l(x)){const G=d.length||0,ne=x.length||0;d.length=G+ne;for(let Ae=0;Ae<ne;Ae++)d[G+Ae]=x[Ae]}else d.push(x)}}class R{constructor(m,y){this.i=m,this.j=y,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function P(d){return/^[\s\xa0]*$/.test(d)}function w(){var d=a.navigator;return d&&(d=d.userAgent)?d:""}function E(d){return E[" "](d),d}E[" "]=function(){};var N=w().indexOf("Gecko")!=-1&&!(w().toLowerCase().indexOf("webkit")!=-1&&w().indexOf("Edge")==-1)&&!(w().indexOf("Trident")!=-1||w().indexOf("MSIE")!=-1)&&w().indexOf("Edge")==-1;function M(d,m,y){for(const x in d)m.call(y,d[x],x,d)}function I(d,m){for(const y in d)m.call(void 0,d[y],y,d)}function T(d){const m={};for(const y in d)m[y]=d[y];return m}const _="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function v(d,m){let y,x;for(let G=1;G<arguments.length;G++){x=arguments[G];for(y in x)d[y]=x[y];for(let ne=0;ne<_.length;ne++)y=_[ne],Object.prototype.hasOwnProperty.call(x,y)&&(d[y]=x[y])}}function C(d){var m=1;d=d.split(":");const y=[];for(;0<m&&d.length;)y.push(d.shift()),m--;return d.length&&y.push(d.join(":")),y}function A(d){a.setTimeout(()=>{throw d},0)}function O(){var d=V;let m=null;return d.g&&(m=d.g,d.g=d.g.next,d.g||(d.h=null),m.next=null),m}class z{constructor(){this.h=this.g=null}add(m,y){const x=F.get();x.set(m,y),this.h?this.h.next=x:this.g=x,this.h=x}}var F=new R(()=>new U,d=>d.reset());class U{constructor(){this.next=this.g=this.h=null}set(m,y){this.h=m,this.g=y,this.next=null}reset(){this.next=this.g=this.h=null}}let H,Q=!1,V=new z,D=()=>{const d=a.Promise.resolve(void 0);H=()=>{d.then(Z)}};var Z=()=>{for(var d;d=O();){try{d.h.call(d.g)}catch(y){A(y)}var m=F;m.j(d),100>m.h&&(m.h++,d.next=m.g,m.g=d)}Q=!1};function X(){this.s=this.s,this.C=this.C}X.prototype.s=!1,X.prototype.ma=function(){this.s||(this.s=!0,this.N())},X.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ce(d,m){this.type=d,this.g=this.target=m,this.defaultPrevented=!1}ce.prototype.h=function(){this.defaultPrevented=!0};var be=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var d=!1,m=Object.defineProperty({},"passive",{get:function(){d=!0}});try{const y=()=>{};a.addEventListener("test",y,m),a.removeEventListener("test",y,m)}catch{}return d}();function te(d,m){if(ce.call(this,d?d.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,d){var y=this.type=d.type,x=d.changedTouches&&d.changedTouches.length?d.changedTouches[0]:null;if(this.target=d.target||d.srcElement,this.g=m,m=d.relatedTarget){if(N){e:{try{E(m.nodeName);var G=!0;break e}catch{}G=!1}G||(m=null)}}else y=="mouseover"?m=d.fromElement:y=="mouseout"&&(m=d.toElement);this.relatedTarget=m,x?(this.clientX=x.clientX!==void 0?x.clientX:x.pageX,this.clientY=x.clientY!==void 0?x.clientY:x.pageY,this.screenX=x.screenX||0,this.screenY=x.screenY||0):(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0),this.button=d.button,this.key=d.key||"",this.ctrlKey=d.ctrlKey,this.altKey=d.altKey,this.shiftKey=d.shiftKey,this.metaKey=d.metaKey,this.pointerId=d.pointerId||0,this.pointerType=typeof d.pointerType=="string"?d.pointerType:B[d.pointerType]||"",this.state=d.state,this.i=d,d.defaultPrevented&&te.aa.h.call(this)}}g(te,ce);var B={2:"touch",3:"pen",4:"mouse"};te.prototype.h=function(){te.aa.h.call(this);var d=this.i;d.preventDefault?d.preventDefault():d.returnValue=!1};var K="closure_listenable_"+(1e6*Math.random()|0),re=0;function Y(d,m,y,x,G){this.listener=d,this.proxy=null,this.src=m,this.type=y,this.capture=!!x,this.ha=G,this.key=++re,this.da=this.fa=!1}function le(d){d.da=!0,d.listener=null,d.proxy=null,d.src=null,d.ha=null}function ye(d){this.src=d,this.g={},this.h=0}ye.prototype.add=function(d,m,y,x,G){var ne=d.toString();d=this.g[ne],d||(d=this.g[ne]=[],this.h++);var Ae=k(d,m,x,G);return-1<Ae?(m=d[Ae],y||(m.fa=!1)):(m=new Y(m,this.src,ne,!!x,G),m.fa=y,d.push(m)),m};function ee(d,m){var y=m.type;if(y in d.g){var x=d.g[y],G=Array.prototype.indexOf.call(x,m,void 0),ne;(ne=0<=G)&&Array.prototype.splice.call(x,G,1),ne&&(le(m),d.g[y].length==0&&(delete d.g[y],d.h--))}}function k(d,m,y,x){for(var G=0;G<d.length;++G){var ne=d[G];if(!ne.da&&ne.listener==m&&ne.capture==!!y&&ne.ha==x)return G}return-1}var L="closure_lm_"+(1e6*Math.random()|0),$={};function se(d,m,y,x,G){if(x&&x.once)return Se(d,m,y,x,G);if(Array.isArray(m)){for(var ne=0;ne<m.length;ne++)se(d,m[ne],y,x,G);return null}return y=Ge(y),d&&d[K]?d.K(m,y,u(x)?!!x.capture:!!x,G):ie(d,m,y,!1,x,G)}function ie(d,m,y,x,G,ne){if(!m)throw Error("Invalid event type");var Ae=u(G)?!!G.capture:!!G,qt=Ie(d);if(qt||(d[L]=qt=new ye(d)),y=qt.add(m,y,x,Ae,ne),y.proxy)return y;if(x=fe(),y.proxy=x,x.src=d,x.listener=y,d.addEventListener)be||(G=Ae),G===void 0&&(G=!1),d.addEventListener(m.toString(),x,G);else if(d.attachEvent)d.attachEvent(pe(m.toString()),x);else if(d.addListener&&d.removeListener)d.addListener(x);else throw Error("addEventListener and attachEvent are unavailable.");return y}function fe(){function d(y){return m.call(d.src,d.listener,y)}const m=He;return d}function Se(d,m,y,x,G){if(Array.isArray(m)){for(var ne=0;ne<m.length;ne++)Se(d,m[ne],y,x,G);return null}return y=Ge(y),d&&d[K]?d.L(m,y,u(x)?!!x.capture:!!x,G):ie(d,m,y,!0,x,G)}function Ee(d,m,y,x,G){if(Array.isArray(m))for(var ne=0;ne<m.length;ne++)Ee(d,m[ne],y,x,G);else x=u(x)?!!x.capture:!!x,y=Ge(y),d&&d[K]?(d=d.i,m=String(m).toString(),m in d.g&&(ne=d.g[m],y=k(ne,y,x,G),-1<y&&(le(ne[y]),Array.prototype.splice.call(ne,y,1),ne.length==0&&(delete d.g[m],d.h--)))):d&&(d=Ie(d))&&(m=d.g[m.toString()],d=-1,m&&(d=k(m,y,x,G)),(y=-1<d?m[d]:null)&&we(y))}function we(d){if(typeof d!="number"&&d&&!d.da){var m=d.src;if(m&&m[K])ee(m.i,d);else{var y=d.type,x=d.proxy;m.removeEventListener?m.removeEventListener(y,x,d.capture):m.detachEvent?m.detachEvent(pe(y),x):m.addListener&&m.removeListener&&m.removeListener(x),(y=Ie(m))?(ee(y,d),y.h==0&&(y.src=null,m[L]=null)):le(d)}}}function pe(d){return d in $?$[d]:$[d]="on"+d}function He(d,m){if(d.da)d=!0;else{m=new te(m,this);var y=d.listener,x=d.ha||d.src;d.fa&&we(d),d=y.call(x,m)}return d}function Ie(d){return d=d[L],d instanceof ye?d:null}var Ve="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ge(d){return typeof d=="function"?d:(d[Ve]||(d[Ve]=function(m){return d.handleEvent(m)}),d[Ve])}function Ke(){X.call(this),this.i=new ye(this),this.M=this,this.F=null}g(Ke,X),Ke.prototype[K]=!0,Ke.prototype.removeEventListener=function(d,m,y,x){Ee(this,d,m,y,x)};function W(d,m){var y,x=d.F;if(x)for(y=[];x;x=x.F)y.push(x);if(d=d.M,x=m.type||m,typeof m=="string")m=new ce(m,d);else if(m instanceof ce)m.target=m.target||d;else{var G=m;m=new ce(x,d),v(m,G)}if(G=!0,y)for(var ne=y.length-1;0<=ne;ne--){var Ae=m.g=y[ne];G=oe(Ae,x,!0,m)&&G}if(Ae=m.g=d,G=oe(Ae,x,!0,m)&&G,G=oe(Ae,x,!1,m)&&G,y)for(ne=0;ne<y.length;ne++)Ae=m.g=y[ne],G=oe(Ae,x,!1,m)&&G}Ke.prototype.N=function(){if(Ke.aa.N.call(this),this.i){var d=this.i,m;for(m in d.g){for(var y=d.g[m],x=0;x<y.length;x++)le(y[x]);delete d.g[m],d.h--}}this.F=null},Ke.prototype.K=function(d,m,y,x){return this.i.add(String(d),m,!1,y,x)},Ke.prototype.L=function(d,m,y,x){return this.i.add(String(d),m,!0,y,x)};function oe(d,m,y,x){if(m=d.i.g[String(m)],!m)return!0;m=m.concat();for(var G=!0,ne=0;ne<m.length;++ne){var Ae=m[ne];if(Ae&&!Ae.da&&Ae.capture==y){var qt=Ae.listener,qn=Ae.ha||Ae.src;Ae.fa&&ee(d.i,Ae),G=qt.call(qn,x)!==!1&&G}}return G&&!x.defaultPrevented}function xe(d,m,y){if(typeof d=="function")y&&(d=f(d,y));else if(d&&typeof d.handleEvent=="function")d=f(d.handleEvent,d);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:a.setTimeout(d,m||0)}function We(d){d.g=xe(()=>{d.g=null,d.i&&(d.i=!1,We(d))},d.l);const m=d.h;d.h=null,d.m.apply(null,m)}class ct extends X{constructor(m,y){super(),this.m=m,this.l=y,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:We(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Mt(d){X.call(this),this.h=d,this.g={}}g(Mt,X);var Hn=[];function Oe(d){M(d.g,function(m,y){this.g.hasOwnProperty(y)&&we(m)},d),d.g={}}Mt.prototype.N=function(){Mt.aa.N.call(this),Oe(this)},Mt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Be=a.JSON.stringify,je=a.JSON.parse,Wn=class{stringify(d){return a.JSON.stringify(d,void 0)}parse(d){return a.JSON.parse(d,void 0)}};function Br(){}Br.prototype.h=null;function La(d){return d.h||(d.h=d.i())}function O0(){}var vu={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Cm(){ce.call(this,"d")}g(Cm,ce);function Am(){ce.call(this,"c")}g(Am,ce);var Do={},P0=null;function Yd(){return P0=P0||new Ke}Do.La="serverreachability";function k0(d){ce.call(this,Do.La,d)}g(k0,ce);function yu(d){const m=Yd();W(m,new k0(m))}Do.STAT_EVENT="statevent";function R0(d,m){ce.call(this,Do.STAT_EVENT,d),this.stat=m}g(R0,ce);function br(d){const m=Yd();W(m,new R0(m,d))}Do.Ma="timingevent";function D0(d,m){ce.call(this,Do.Ma,d),this.size=m}g(D0,ce);function _u(d,m){if(typeof d!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){d()},m)}function bu(){this.g=!0}bu.prototype.xa=function(){this.g=!1};function fN(d,m,y,x,G,ne){d.info(function(){if(d.g)if(ne)for(var Ae="",qt=ne.split("&"),qn=0;qn<qt.length;qn++){var St=qt[qn].split("=");if(1<St.length){var rr=St[0];St=St[1];var ir=rr.split("_");Ae=2<=ir.length&&ir[1]=="type"?Ae+(rr+"="+St+"&"):Ae+(rr+"=redacted&")}}else Ae=null;else Ae=ne;return"XMLHTTP REQ ("+x+") [attempt "+G+"]: "+m+`
`+y+`
`+Ae})}function pN(d,m,y,x,G,ne,Ae){d.info(function(){return"XMLHTTP RESP ("+x+") [ attempt "+G+"]: "+m+`
`+y+`
`+ne+" "+Ae})}function Va(d,m,y,x){d.info(function(){return"XMLHTTP TEXT ("+m+"): "+gN(d,y)+(x?" "+x:"")})}function mN(d,m){d.info(function(){return"TIMEOUT: "+m})}bu.prototype.info=function(){};function gN(d,m){if(!d.g)return m;if(!m)return null;try{var y=JSON.parse(m);if(y){for(d=0;d<y.length;d++)if(Array.isArray(y[d])){var x=y[d];if(!(2>x.length)){var G=x[1];if(Array.isArray(G)&&!(1>G.length)){var ne=G[0];if(ne!="noop"&&ne!="stop"&&ne!="close")for(var Ae=1;Ae<G.length;Ae++)G[Ae]=""}}}}return Be(y)}catch{return m}}var Gd={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},x0={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Om;function Qd(){}g(Qd,Br),Qd.prototype.g=function(){return new XMLHttpRequest},Qd.prototype.i=function(){return{}},Om=new Qd;function Ms(d,m,y,x){this.j=d,this.i=m,this.l=y,this.R=x||1,this.U=new Mt(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new N0}function N0(){this.i=null,this.g="",this.h=!1}var M0={},Pm={};function km(d,m,y){d.L=1,d.v=eh(is(m)),d.m=y,d.P=!0,L0(d,null)}function L0(d,m){d.F=Date.now(),Xd(d),d.A=is(d.v);var y=d.A,x=d.R;Array.isArray(x)||(x=[String(x)]),Q0(y.i,"t",x),d.C=0,y=d.j.J,d.h=new N0,d.g=pw(d.j,y?m:null,!d.m),0<d.O&&(d.M=new ct(f(d.Y,d,d.g),d.O)),m=d.U,y=d.g,x=d.ca;var G="readystatechange";Array.isArray(G)||(G&&(Hn[0]=G.toString()),G=Hn);for(var ne=0;ne<G.length;ne++){var Ae=se(y,G[ne],x||m.handleEvent,!1,m.h||m);if(!Ae)break;m.g[Ae.key]=Ae}m=d.H?T(d.H):{},d.m?(d.u||(d.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",d.g.ea(d.A,d.u,d.m,m)):(d.u="GET",d.g.ea(d.A,d.u,null,m)),yu(),fN(d.i,d.u,d.A,d.l,d.R,d.m)}Ms.prototype.ca=function(d){d=d.target;const m=this.M;m&&ss(d)==3?m.j():this.Y(d)},Ms.prototype.Y=function(d){try{if(d==this.g)e:{const ir=ss(this.g);var m=this.g.Ba();const Ua=this.g.Z();if(!(3>ir)&&(ir!=3||this.g&&(this.h.h||this.g.oa()||rw(this.g)))){this.J||ir!=4||m==7||(m==8||0>=Ua?yu(3):yu(2)),Rm(this);var y=this.g.Z();this.X=y;t:if(V0(this)){var x=rw(this.g);d="";var G=x.length,ne=ss(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){xo(this),wu(this);var Ae="";break t}this.h.i=new a.TextDecoder}for(m=0;m<G;m++)this.h.h=!0,d+=this.h.i.decode(x[m],{stream:!(ne&&m==G-1)});x.length=0,this.h.g+=d,this.C=0,Ae=this.h.g}else Ae=this.g.oa();if(this.o=y==200,pN(this.i,this.u,this.A,this.l,this.R,ir,y),this.o){if(this.T&&!this.K){t:{if(this.g){var qt,qn=this.g;if((qt=qn.g?qn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!P(qt)){var St=qt;break t}}St=null}if(y=St)Va(this.i,this.l,y,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Dm(this,y);else{this.o=!1,this.s=3,br(12),xo(this),wu(this);break e}}if(this.P){y=!0;let fi;for(;!this.J&&this.C<Ae.length;)if(fi=vN(this,Ae),fi==Pm){ir==4&&(this.s=4,br(14),y=!1),Va(this.i,this.l,null,"[Incomplete Response]");break}else if(fi==M0){this.s=4,br(15),Va(this.i,this.l,Ae,"[Invalid Chunk]"),y=!1;break}else Va(this.i,this.l,fi,null),Dm(this,fi);if(V0(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ir!=4||Ae.length!=0||this.h.h||(this.s=1,br(16),y=!1),this.o=this.o&&y,!y)Va(this.i,this.l,Ae,"[Invalid Chunked Response]"),xo(this),wu(this);else if(0<Ae.length&&!this.W){this.W=!0;var rr=this.j;rr.g==this&&rr.ba&&!rr.M&&(rr.j.info("Great, no buffering proxy detected. Bytes received: "+Ae.length),Fm(rr),rr.M=!0,br(11))}}else Va(this.i,this.l,Ae,null),Dm(this,Ae);ir==4&&xo(this),this.o&&!this.J&&(ir==4?cw(this.j,this):(this.o=!1,Xd(this)))}else NN(this.g),y==400&&0<Ae.indexOf("Unknown SID")?(this.s=3,br(12)):(this.s=0,br(13)),xo(this),wu(this)}}}catch{}finally{}};function V0(d){return d.g?d.u=="GET"&&d.L!=2&&d.j.Ca:!1}function vN(d,m){var y=d.C,x=m.indexOf(`
`,y);return x==-1?Pm:(y=Number(m.substring(y,x)),isNaN(y)?M0:(x+=1,x+y>m.length?Pm:(m=m.slice(x,x+y),d.C=x+y,m)))}Ms.prototype.cancel=function(){this.J=!0,xo(this)};function Xd(d){d.S=Date.now()+d.I,F0(d,d.I)}function F0(d,m){if(d.B!=null)throw Error("WatchDog timer not null");d.B=_u(f(d.ba,d),m)}function Rm(d){d.B&&(a.clearTimeout(d.B),d.B=null)}Ms.prototype.ba=function(){this.B=null;const d=Date.now();0<=d-this.S?(mN(this.i,this.A),this.L!=2&&(yu(),br(17)),xo(this),this.s=2,wu(this)):F0(this,this.S-d)};function wu(d){d.j.G==0||d.J||cw(d.j,d)}function xo(d){Rm(d);var m=d.M;m&&typeof m.ma=="function"&&m.ma(),d.M=null,Oe(d.U),d.g&&(m=d.g,d.g=null,m.abort(),m.ma())}function Dm(d,m){try{var y=d.j;if(y.G!=0&&(y.g==d||xm(y.h,d))){if(!d.K&&xm(y.h,d)&&y.G==3){try{var x=y.Da.g.parse(m)}catch{x=null}if(Array.isArray(x)&&x.length==3){var G=x;if(G[0]==0){e:if(!y.u){if(y.g)if(y.g.F+3e3<d.F)oh(y),ih(y);else break e;Vm(y),br(18)}}else y.za=G[1],0<y.za-y.T&&37500>G[2]&&y.F&&y.v==0&&!y.C&&(y.C=_u(f(y.Za,y),6e3));if(1>=B0(y.h)&&y.ca){try{y.ca()}catch{}y.ca=void 0}}else Mo(y,11)}else if((d.K||y.g==d)&&oh(y),!P(m))for(G=y.Da.g.parse(m),m=0;m<G.length;m++){let St=G[m];if(y.T=St[0],St=St[1],y.G==2)if(St[0]=="c"){y.K=St[1],y.ia=St[2];const rr=St[3];rr!=null&&(y.la=rr,y.j.info("VER="+y.la));const ir=St[4];ir!=null&&(y.Aa=ir,y.j.info("SVER="+y.Aa));const Ua=St[5];Ua!=null&&typeof Ua=="number"&&0<Ua&&(x=1.5*Ua,y.L=x,y.j.info("backChannelRequestTimeoutMs_="+x)),x=y;const fi=d.g;if(fi){const lh=fi.g?fi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(lh){var ne=x.h;ne.g||lh.indexOf("spdy")==-1&&lh.indexOf("quic")==-1&&lh.indexOf("h2")==-1||(ne.j=ne.l,ne.g=new Set,ne.h&&(Nm(ne,ne.h),ne.h=null))}if(x.D){const $m=fi.g?fi.g.getResponseHeader("X-HTTP-Session-Id"):null;$m&&(x.ya=$m,en(x.I,x.D,$m))}}y.G=3,y.l&&y.l.ua(),y.ba&&(y.R=Date.now()-d.F,y.j.info("Handshake RTT: "+y.R+"ms")),x=y;var Ae=d;if(x.qa=fw(x,x.J?x.ia:null,x.W),Ae.K){j0(x.h,Ae);var qt=Ae,qn=x.L;qn&&(qt.I=qn),qt.B&&(Rm(qt),Xd(qt)),x.g=Ae}else lw(x);0<y.i.length&&sh(y)}else St[0]!="stop"&&St[0]!="close"||Mo(y,7);else y.G==3&&(St[0]=="stop"||St[0]=="close"?St[0]=="stop"?Mo(y,7):Lm(y):St[0]!="noop"&&y.l&&y.l.ta(St),y.v=0)}}yu(4)}catch{}}var yN=class{constructor(d,m){this.g=d,this.map=m}};function $0(d){this.l=d||10,a.PerformanceNavigationTiming?(d=a.performance.getEntriesByType("navigation"),d=0<d.length&&(d[0].nextHopProtocol=="hq"||d[0].nextHopProtocol=="h2")):d=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=d?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function U0(d){return d.h?!0:d.g?d.g.size>=d.j:!1}function B0(d){return d.h?1:d.g?d.g.size:0}function xm(d,m){return d.h?d.h==m:d.g?d.g.has(m):!1}function Nm(d,m){d.g?d.g.add(m):d.h=m}function j0(d,m){d.h&&d.h==m?d.h=null:d.g&&d.g.has(m)&&d.g.delete(m)}$0.prototype.cancel=function(){if(this.i=H0(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const d of this.g.values())d.cancel();this.g.clear()}};function H0(d){if(d.h!=null)return d.i.concat(d.h.D);if(d.g!=null&&d.g.size!==0){let m=d.i;for(const y of d.g.values())m=m.concat(y.D);return m}return b(d.i)}function _N(d){if(d.V&&typeof d.V=="function")return d.V();if(typeof Map<"u"&&d instanceof Map||typeof Set<"u"&&d instanceof Set)return Array.from(d.values());if(typeof d=="string")return d.split("");if(l(d)){for(var m=[],y=d.length,x=0;x<y;x++)m.push(d[x]);return m}m=[],y=0;for(x in d)m[y++]=d[x];return m}function bN(d){if(d.na&&typeof d.na=="function")return d.na();if(!d.V||typeof d.V!="function"){if(typeof Map<"u"&&d instanceof Map)return Array.from(d.keys());if(!(typeof Set<"u"&&d instanceof Set)){if(l(d)||typeof d=="string"){var m=[];d=d.length;for(var y=0;y<d;y++)m.push(y);return m}m=[],y=0;for(const x in d)m[y++]=x;return m}}}function W0(d,m){if(d.forEach&&typeof d.forEach=="function")d.forEach(m,void 0);else if(l(d)||typeof d=="string")Array.prototype.forEach.call(d,m,void 0);else for(var y=bN(d),x=_N(d),G=x.length,ne=0;ne<G;ne++)m.call(void 0,x[ne],y&&y[ne],d)}var q0=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function wN(d,m){if(d){d=d.split("&");for(var y=0;y<d.length;y++){var x=d[y].indexOf("="),G=null;if(0<=x){var ne=d[y].substring(0,x);G=d[y].substring(x+1)}else ne=d[y];m(ne,G?decodeURIComponent(G.replace(/\+/g," ")):"")}}}function No(d){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,d instanceof No){this.h=d.h,Jd(this,d.j),this.o=d.o,this.g=d.g,Zd(this,d.s),this.l=d.l;var m=d.i,y=new Iu;y.i=m.i,m.g&&(y.g=new Map(m.g),y.h=m.h),z0(this,y),this.m=d.m}else d&&(m=String(d).match(q0))?(this.h=!1,Jd(this,m[1]||"",!0),this.o=Tu(m[2]||""),this.g=Tu(m[3]||"",!0),Zd(this,m[4]),this.l=Tu(m[5]||"",!0),z0(this,m[6]||"",!0),this.m=Tu(m[7]||"")):(this.h=!1,this.i=new Iu(null,this.h))}No.prototype.toString=function(){var d=[],m=this.j;m&&d.push(Eu(m,K0,!0),":");var y=this.g;return(y||m=="file")&&(d.push("//"),(m=this.o)&&d.push(Eu(m,K0,!0),"@"),d.push(encodeURIComponent(String(y)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),y=this.s,y!=null&&d.push(":",String(y))),(y=this.l)&&(this.g&&y.charAt(0)!="/"&&d.push("/"),d.push(Eu(y,y.charAt(0)=="/"?IN:EN,!0))),(y=this.i.toString())&&d.push("?",y),(y=this.m)&&d.push("#",Eu(y,CN)),d.join("")};function is(d){return new No(d)}function Jd(d,m,y){d.j=y?Tu(m,!0):m,d.j&&(d.j=d.j.replace(/:$/,""))}function Zd(d,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);d.s=m}else d.s=null}function z0(d,m,y){m instanceof Iu?(d.i=m,AN(d.i,d.h)):(y||(m=Eu(m,SN)),d.i=new Iu(m,d.h))}function en(d,m,y){d.i.set(m,y)}function eh(d){return en(d,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),d}function Tu(d,m){return d?m?decodeURI(d.replace(/%25/g,"%2525")):decodeURIComponent(d):""}function Eu(d,m,y){return typeof d=="string"?(d=encodeURI(d).replace(m,TN),y&&(d=d.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d):null}function TN(d){return d=d.charCodeAt(0),"%"+(d>>4&15).toString(16)+(d&15).toString(16)}var K0=/[#\/\?@]/g,EN=/[#\?:]/g,IN=/[#\?]/g,SN=/[#\?@]/g,CN=/#/g;function Iu(d,m){this.h=this.g=null,this.i=d||null,this.j=!!m}function Ls(d){d.g||(d.g=new Map,d.h=0,d.i&&wN(d.i,function(m,y){d.add(decodeURIComponent(m.replace(/\+/g," ")),y)}))}t=Iu.prototype,t.add=function(d,m){Ls(this),this.i=null,d=Fa(this,d);var y=this.g.get(d);return y||this.g.set(d,y=[]),y.push(m),this.h+=1,this};function Y0(d,m){Ls(d),m=Fa(d,m),d.g.has(m)&&(d.i=null,d.h-=d.g.get(m).length,d.g.delete(m))}function G0(d,m){return Ls(d),m=Fa(d,m),d.g.has(m)}t.forEach=function(d,m){Ls(this),this.g.forEach(function(y,x){y.forEach(function(G){d.call(m,G,x,this)},this)},this)},t.na=function(){Ls(this);const d=Array.from(this.g.values()),m=Array.from(this.g.keys()),y=[];for(let x=0;x<m.length;x++){const G=d[x];for(let ne=0;ne<G.length;ne++)y.push(m[x])}return y},t.V=function(d){Ls(this);let m=[];if(typeof d=="string")G0(this,d)&&(m=m.concat(this.g.get(Fa(this,d))));else{d=Array.from(this.g.values());for(let y=0;y<d.length;y++)m=m.concat(d[y])}return m},t.set=function(d,m){return Ls(this),this.i=null,d=Fa(this,d),G0(this,d)&&(this.h-=this.g.get(d).length),this.g.set(d,[m]),this.h+=1,this},t.get=function(d,m){return d?(d=this.V(d),0<d.length?String(d[0]):m):m};function Q0(d,m,y){Y0(d,m),0<y.length&&(d.i=null,d.g.set(Fa(d,m),b(y)),d.h+=y.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const d=[],m=Array.from(this.g.keys());for(var y=0;y<m.length;y++){var x=m[y];const ne=encodeURIComponent(String(x)),Ae=this.V(x);for(x=0;x<Ae.length;x++){var G=ne;Ae[x]!==""&&(G+="="+encodeURIComponent(String(Ae[x]))),d.push(G)}}return this.i=d.join("&")};function Fa(d,m){return m=String(m),d.j&&(m=m.toLowerCase()),m}function AN(d,m){m&&!d.j&&(Ls(d),d.i=null,d.g.forEach(function(y,x){var G=x.toLowerCase();x!=G&&(Y0(this,x),Q0(this,G,y))},d)),d.j=m}function ON(d,m){const y=new bu;if(a.Image){const x=new Image;x.onload=p(Vs,y,"TestLoadImage: loaded",!0,m,x),x.onerror=p(Vs,y,"TestLoadImage: error",!1,m,x),x.onabort=p(Vs,y,"TestLoadImage: abort",!1,m,x),x.ontimeout=p(Vs,y,"TestLoadImage: timeout",!1,m,x),a.setTimeout(function(){x.ontimeout&&x.ontimeout()},1e4),x.src=d}else m(!1)}function PN(d,m){const y=new bu,x=new AbortController,G=setTimeout(()=>{x.abort(),Vs(y,"TestPingServer: timeout",!1,m)},1e4);fetch(d,{signal:x.signal}).then(ne=>{clearTimeout(G),ne.ok?Vs(y,"TestPingServer: ok",!0,m):Vs(y,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(G),Vs(y,"TestPingServer: error",!1,m)})}function Vs(d,m,y,x,G){try{G&&(G.onload=null,G.onerror=null,G.onabort=null,G.ontimeout=null),x(y)}catch{}}function kN(){this.g=new Wn}function RN(d,m,y){const x=y||"";try{W0(d,function(G,ne){let Ae=G;u(G)&&(Ae=Be(G)),m.push(x+ne+"="+encodeURIComponent(Ae))})}catch(G){throw m.push(x+"type="+encodeURIComponent("_badmap")),G}}function th(d){this.l=d.Ub||null,this.j=d.eb||!1}g(th,Br),th.prototype.g=function(){return new nh(this.l,this.j)},th.prototype.i=function(d){return function(){return d}}({});function nh(d,m){Ke.call(this),this.D=d,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}g(nh,Ke),t=nh.prototype,t.open=function(d,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=d,this.A=m,this.readyState=1,Cu(this)},t.send=function(d){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};d&&(m.body=d),(this.D||a).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Su(this)),this.readyState=0},t.Sa=function(d){if(this.g&&(this.l=d,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=d.headers,this.readyState=2,Cu(this)),this.g&&(this.readyState=3,Cu(this),this.g)))if(this.responseType==="arraybuffer")d.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in d){if(this.j=d.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;X0(this)}else d.text().then(this.Ra.bind(this),this.ga.bind(this))};function X0(d){d.j.read().then(d.Pa.bind(d)).catch(d.ga.bind(d))}t.Pa=function(d){if(this.g){if(this.o&&d.value)this.response.push(d.value);else if(!this.o){var m=d.value?d.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!d.done}))&&(this.response=this.responseText+=m)}d.done?Su(this):Cu(this),this.readyState==3&&X0(this)}},t.Ra=function(d){this.g&&(this.response=this.responseText=d,Su(this))},t.Qa=function(d){this.g&&(this.response=d,Su(this))},t.ga=function(){this.g&&Su(this)};function Su(d){d.readyState=4,d.l=null,d.j=null,d.v=null,Cu(d)}t.setRequestHeader=function(d,m){this.u.append(d,m)},t.getResponseHeader=function(d){return this.h&&this.h.get(d.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const d=[],m=this.h.entries();for(var y=m.next();!y.done;)y=y.value,d.push(y[0]+": "+y[1]),y=m.next();return d.join(`\r
`)};function Cu(d){d.onreadystatechange&&d.onreadystatechange.call(d)}Object.defineProperty(nh.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(d){this.m=d?"include":"same-origin"}});function J0(d){let m="";return M(d,function(y,x){m+=x,m+=":",m+=y,m+=`\r
`}),m}function Mm(d,m,y){e:{for(x in y){var x=!1;break e}x=!0}x||(y=J0(y),typeof d=="string"?y!=null&&encodeURIComponent(String(y)):en(d,m,y))}function gn(d){Ke.call(this),this.headers=new Map,this.o=d||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}g(gn,Ke);var DN=/^https?$/i,xN=["POST","PUT"];t=gn.prototype,t.Ha=function(d){this.J=d},t.ea=function(d,m,y,x){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+d);m=m?m.toUpperCase():"GET",this.D=d,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Om.g(),this.v=this.o?La(this.o):La(Om),this.g.onreadystatechange=f(this.Ea,this);try{this.B=!0,this.g.open(m,String(d),!0),this.B=!1}catch(ne){Z0(this,ne);return}if(d=y||"",y=new Map(this.headers),x)if(Object.getPrototypeOf(x)===Object.prototype)for(var G in x)y.set(G,x[G]);else if(typeof x.keys=="function"&&typeof x.get=="function")for(const ne of x.keys())y.set(ne,x.get(ne));else throw Error("Unknown input type for opt_headers: "+String(x));x=Array.from(y.keys()).find(ne=>ne.toLowerCase()=="content-type"),G=a.FormData&&d instanceof a.FormData,!(0<=Array.prototype.indexOf.call(xN,m,void 0))||x||G||y.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ne,Ae]of y)this.g.setRequestHeader(ne,Ae);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{nw(this),this.u=!0,this.g.send(d),this.u=!1}catch(ne){Z0(this,ne)}};function Z0(d,m){d.h=!1,d.g&&(d.j=!0,d.g.abort(),d.j=!1),d.l=m,d.m=5,ew(d),rh(d)}function ew(d){d.A||(d.A=!0,W(d,"complete"),W(d,"error"))}t.abort=function(d){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=d||7,W(this,"complete"),W(this,"abort"),rh(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),rh(this,!0)),gn.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?tw(this):this.bb())},t.bb=function(){tw(this)};function tw(d){if(d.h&&typeof o<"u"&&(!d.v[1]||ss(d)!=4||d.Z()!=2)){if(d.u&&ss(d)==4)xe(d.Ea,0,d);else if(W(d,"readystatechange"),ss(d)==4){d.h=!1;try{const Ae=d.Z();e:switch(Ae){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var y;if(!(y=m)){var x;if(x=Ae===0){var G=String(d.D).match(q0)[1]||null;!G&&a.self&&a.self.location&&(G=a.self.location.protocol.slice(0,-1)),x=!DN.test(G?G.toLowerCase():"")}y=x}if(y)W(d,"complete"),W(d,"success");else{d.m=6;try{var ne=2<ss(d)?d.g.statusText:""}catch{ne=""}d.l=ne+" ["+d.Z()+"]",ew(d)}}finally{rh(d)}}}}function rh(d,m){if(d.g){nw(d);const y=d.g,x=d.v[0]?()=>{}:null;d.g=null,d.v=null,m||W(d,"ready");try{y.onreadystatechange=x}catch{}}}function nw(d){d.I&&(a.clearTimeout(d.I),d.I=null)}t.isActive=function(){return!!this.g};function ss(d){return d.g?d.g.readyState:0}t.Z=function(){try{return 2<ss(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(d){if(this.g){var m=this.g.responseText;return d&&m.indexOf(d)==0&&(m=m.substring(d.length)),je(m)}};function rw(d){try{if(!d.g)return null;if("response"in d.g)return d.g.response;switch(d.H){case"":case"text":return d.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in d.g)return d.g.mozResponseArrayBuffer}return null}catch{return null}}function NN(d){const m={};d=(d.g&&2<=ss(d)&&d.g.getAllResponseHeaders()||"").split(`\r
`);for(let x=0;x<d.length;x++){if(P(d[x]))continue;var y=C(d[x]);const G=y[0];if(y=y[1],typeof y!="string")continue;y=y.trim();const ne=m[G]||[];m[G]=ne,ne.push(y)}I(m,function(x){return x.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Au(d,m,y){return y&&y.internalChannelParams&&y.internalChannelParams[d]||m}function iw(d){this.Aa=0,this.i=[],this.j=new bu,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Au("failFast",!1,d),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Au("baseRetryDelayMs",5e3,d),this.cb=Au("retryDelaySeedMs",1e4,d),this.Wa=Au("forwardChannelMaxRetries",2,d),this.wa=Au("forwardChannelRequestTimeoutMs",2e4,d),this.pa=d&&d.xmlHttpFactory||void 0,this.Xa=d&&d.Tb||void 0,this.Ca=d&&d.useFetchStreams||!1,this.L=void 0,this.J=d&&d.supportsCrossDomainXhr||!1,this.K="",this.h=new $0(d&&d.concurrentRequestLimit),this.Da=new kN,this.P=d&&d.fastHandshake||!1,this.O=d&&d.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=d&&d.Rb||!1,d&&d.xa&&this.j.xa(),d&&d.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&d&&d.detectBufferingProxy||!1,this.ja=void 0,d&&d.longPollingTimeout&&0<d.longPollingTimeout&&(this.ja=d.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=iw.prototype,t.la=8,t.G=1,t.connect=function(d,m,y,x){br(0),this.W=d,this.H=m||{},y&&x!==void 0&&(this.H.OSID=y,this.H.OAID=x),this.F=this.X,this.I=fw(this,null,this.W),sh(this)};function Lm(d){if(sw(d),d.G==3){var m=d.U++,y=is(d.I);if(en(y,"SID",d.K),en(y,"RID",m),en(y,"TYPE","terminate"),Ou(d,y),m=new Ms(d,d.j,m),m.L=2,m.v=eh(is(y)),y=!1,a.navigator&&a.navigator.sendBeacon)try{y=a.navigator.sendBeacon(m.v.toString(),"")}catch{}!y&&a.Image&&(new Image().src=m.v,y=!0),y||(m.g=pw(m.j,null),m.g.ea(m.v)),m.F=Date.now(),Xd(m)}hw(d)}function ih(d){d.g&&(Fm(d),d.g.cancel(),d.g=null)}function sw(d){ih(d),d.u&&(a.clearTimeout(d.u),d.u=null),oh(d),d.h.cancel(),d.s&&(typeof d.s=="number"&&a.clearTimeout(d.s),d.s=null)}function sh(d){if(!U0(d.h)&&!d.s){d.s=!0;var m=d.Ga;H||D(),Q||(H(),Q=!0),V.add(m,d),d.B=0}}function MN(d,m){return B0(d.h)>=d.h.j-(d.s?1:0)?!1:d.s?(d.i=m.D.concat(d.i),!0):d.G==1||d.G==2||d.B>=(d.Va?0:d.Wa)?!1:(d.s=_u(f(d.Ga,d,m),dw(d,d.B)),d.B++,!0)}t.Ga=function(d){if(this.s)if(this.s=null,this.G==1){if(!d){this.U=Math.floor(1e5*Math.random()),d=this.U++;const G=new Ms(this,this.j,d);let ne=this.o;if(this.S&&(ne?(ne=T(ne),v(ne,this.S)):ne=this.S),this.m!==null||this.O||(G.H=ne,ne=null),this.P)e:{for(var m=0,y=0;y<this.i.length;y++){t:{var x=this.i[y];if("__data__"in x.map&&(x=x.map.__data__,typeof x=="string")){x=x.length;break t}x=void 0}if(x===void 0)break;if(m+=x,4096<m){m=y;break e}if(m===4096||y===this.i.length-1){m=y+1;break e}}m=1e3}else m=1e3;m=aw(this,G,m),y=is(this.I),en(y,"RID",d),en(y,"CVER",22),this.D&&en(y,"X-HTTP-Session-Id",this.D),Ou(this,y),ne&&(this.O?m="headers="+encodeURIComponent(String(J0(ne)))+"&"+m:this.m&&Mm(y,this.m,ne)),Nm(this.h,G),this.Ua&&en(y,"TYPE","init"),this.P?(en(y,"$req",m),en(y,"SID","null"),G.T=!0,km(G,y,null)):km(G,y,m),this.G=2}}else this.G==3&&(d?ow(this,d):this.i.length==0||U0(this.h)||ow(this))};function ow(d,m){var y;m?y=m.l:y=d.U++;const x=is(d.I);en(x,"SID",d.K),en(x,"RID",y),en(x,"AID",d.T),Ou(d,x),d.m&&d.o&&Mm(x,d.m,d.o),y=new Ms(d,d.j,y,d.B+1),d.m===null&&(y.H=d.o),m&&(d.i=m.D.concat(d.i)),m=aw(d,y,1e3),y.I=Math.round(.5*d.wa)+Math.round(.5*d.wa*Math.random()),Nm(d.h,y),km(y,x,m)}function Ou(d,m){d.H&&M(d.H,function(y,x){en(m,x,y)}),d.l&&W0({},function(y,x){en(m,x,y)})}function aw(d,m,y){y=Math.min(d.i.length,y);var x=d.l?f(d.l.Na,d.l,d):null;e:{var G=d.i;let ne=-1;for(;;){const Ae=["count="+y];ne==-1?0<y?(ne=G[0].g,Ae.push("ofs="+ne)):ne=0:Ae.push("ofs="+ne);let qt=!0;for(let qn=0;qn<y;qn++){let St=G[qn].g;const rr=G[qn].map;if(St-=ne,0>St)ne=Math.max(0,G[qn].g-100),qt=!1;else try{RN(rr,Ae,"req"+St+"_")}catch{x&&x(rr)}}if(qt){x=Ae.join("&");break e}}}return d=d.i.splice(0,y),m.D=d,x}function lw(d){if(!d.g&&!d.u){d.Y=1;var m=d.Fa;H||D(),Q||(H(),Q=!0),V.add(m,d),d.v=0}}function Vm(d){return d.g||d.u||3<=d.v?!1:(d.Y++,d.u=_u(f(d.Fa,d),dw(d,d.v)),d.v++,!0)}t.Fa=function(){if(this.u=null,uw(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var d=2*this.R;this.j.info("BP detection timer enabled: "+d),this.A=_u(f(this.ab,this),d)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,br(10),ih(this),uw(this))};function Fm(d){d.A!=null&&(a.clearTimeout(d.A),d.A=null)}function uw(d){d.g=new Ms(d,d.j,"rpc",d.Y),d.m===null&&(d.g.H=d.o),d.g.O=0;var m=is(d.qa);en(m,"RID","rpc"),en(m,"SID",d.K),en(m,"AID",d.T),en(m,"CI",d.F?"0":"1"),!d.F&&d.ja&&en(m,"TO",d.ja),en(m,"TYPE","xmlhttp"),Ou(d,m),d.m&&d.o&&Mm(m,d.m,d.o),d.L&&(d.g.I=d.L);var y=d.g;d=d.ia,y.L=1,y.v=eh(is(m)),y.m=null,y.P=!0,L0(y,d)}t.Za=function(){this.C!=null&&(this.C=null,ih(this),Vm(this),br(19))};function oh(d){d.C!=null&&(a.clearTimeout(d.C),d.C=null)}function cw(d,m){var y=null;if(d.g==m){oh(d),Fm(d),d.g=null;var x=2}else if(xm(d.h,m))y=m.D,j0(d.h,m),x=1;else return;if(d.G!=0){if(m.o)if(x==1){y=m.m?m.m.length:0,m=Date.now()-m.F;var G=d.B;x=Yd(),W(x,new D0(x,y)),sh(d)}else lw(d);else if(G=m.s,G==3||G==0&&0<m.X||!(x==1&&MN(d,m)||x==2&&Vm(d)))switch(y&&0<y.length&&(m=d.h,m.i=m.i.concat(y)),G){case 1:Mo(d,5);break;case 4:Mo(d,10);break;case 3:Mo(d,6);break;default:Mo(d,2)}}}function dw(d,m){let y=d.Ta+Math.floor(Math.random()*d.cb);return d.isActive()||(y*=2),y*m}function Mo(d,m){if(d.j.info("Error code "+m),m==2){var y=f(d.fb,d),x=d.Xa;const G=!x;x=new No(x||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Jd(x,"https"),eh(x),G?ON(x.toString(),y):PN(x.toString(),y)}else br(2);d.G=0,d.l&&d.l.sa(m),hw(d),sw(d)}t.fb=function(d){d?(this.j.info("Successfully pinged google.com"),br(2)):(this.j.info("Failed to ping google.com"),br(1))};function hw(d){if(d.G=0,d.ka=[],d.l){const m=H0(d.h);(m.length!=0||d.i.length!=0)&&(S(d.ka,m),S(d.ka,d.i),d.h.i.length=0,b(d.i),d.i.length=0),d.l.ra()}}function fw(d,m,y){var x=y instanceof No?is(y):new No(y);if(x.g!="")m&&(x.g=m+"."+x.g),Zd(x,x.s);else{var G=a.location;x=G.protocol,m=m?m+"."+G.hostname:G.hostname,G=+G.port;var ne=new No(null);x&&Jd(ne,x),m&&(ne.g=m),G&&Zd(ne,G),y&&(ne.l=y),x=ne}return y=d.D,m=d.ya,y&&m&&en(x,y,m),en(x,"VER",d.la),Ou(d,x),x}function pw(d,m,y){if(m&&!d.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=d.Ca&&!d.pa?new gn(new th({eb:y})):new gn(d.pa),m.Ha(d.J),m}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function mw(){}t=mw.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function ah(){}ah.prototype.g=function(d,m){return new jr(d,m)};function jr(d,m){Ke.call(this),this.g=new iw(m),this.l=d,this.h=m&&m.messageUrlParams||null,d=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(d?d["X-Client-Protocol"]="webchannel":d={"X-Client-Protocol":"webchannel"}),this.g.o=d,d=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(d?d["X-WebChannel-Content-Type"]=m.messageContentType:d={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(d?d["X-WebChannel-Client-Profile"]=m.va:d={"X-WebChannel-Client-Profile":m.va}),this.g.S=d,(d=m&&m.Sb)&&!P(d)&&(this.g.m=d),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!P(m)&&(this.g.D=m,d=this.h,d!==null&&m in d&&(d=this.h,m in d&&delete d[m])),this.j=new $a(this)}g(jr,Ke),jr.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},jr.prototype.close=function(){Lm(this.g)},jr.prototype.o=function(d){var m=this.g;if(typeof d=="string"){var y={};y.__data__=d,d=y}else this.u&&(y={},y.__data__=Be(d),d=y);m.i.push(new yN(m.Ya++,d)),m.G==3&&sh(m)},jr.prototype.N=function(){this.g.l=null,delete this.j,Lm(this.g),delete this.g,jr.aa.N.call(this)};function gw(d){Cm.call(this),d.__headers__&&(this.headers=d.__headers__,this.statusCode=d.__status__,delete d.__headers__,delete d.__status__);var m=d.__sm__;if(m){e:{for(const y in m){d=y;break e}d=void 0}(this.i=d)&&(d=this.i,m=m!==null&&d in m?m[d]:void 0),this.data=m}else this.data=d}g(gw,Cm);function vw(){Am.call(this),this.status=1}g(vw,Am);function $a(d){this.g=d}g($a,mw),$a.prototype.ua=function(){W(this.g,"a")},$a.prototype.ta=function(d){W(this.g,new gw(d))},$a.prototype.sa=function(d){W(this.g,new vw)},$a.prototype.ra=function(){W(this.g,"b")},ah.prototype.createWebChannel=ah.prototype.g,jr.prototype.send=jr.prototype.o,jr.prototype.open=jr.prototype.m,jr.prototype.close=jr.prototype.close,iP=function(){return new ah},rP=function(){return Yd()},nP=Do,Lv={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Gd.NO_ERROR=0,Gd.TIMEOUT=8,Gd.HTTP_ERROR=6,Kh=Gd,x0.COMPLETE="complete",tP=x0,O0.EventType=vu,vu.OPEN="a",vu.CLOSE="b",vu.ERROR="c",vu.MESSAGE="d",Ke.prototype.listen=Ke.prototype.K,Gu=O0,gn.prototype.listenOnce=gn.prototype.L,gn.prototype.getLastError=gn.prototype.Ka,gn.prototype.getLastErrorCode=gn.prototype.Ba,gn.prototype.getStatus=gn.prototype.Z,gn.prototype.getResponseJson=gn.prototype.Oa,gn.prototype.getResponseText=gn.prototype.oa,gn.prototype.send=gn.prototype.ea,gn.prototype.setWithCredentials=gn.prototype.Ha,eP=gn}).apply(typeof Th<"u"?Th:typeof self<"u"?self:typeof window<"u"?window:{});const Z1="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ar{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}ar.UNAUTHENTICATED=new ar(null),ar.GOOGLE_CREDENTIALS=new ar("google-credentials-uid"),ar.FIRST_PARTY=new ar("first-party-uid"),ar.MOCK_USER=new ar("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let uu="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const da=new au("@firebase/firestore");function xu(){return da.logLevel}function Ue(t,...e){if(da.logLevel<=ht.DEBUG){const n=e.map(S_);da.debug(`Firestore (${uu}): ${t}`,...n)}}function As(t,...e){if(da.logLevel<=ht.ERROR){const n=e.map(S_);da.error(`Firestore (${uu}): ${t}`,...n)}}function Fl(t,...e){if(da.logLevel<=ht.WARN){const n=e.map(S_);da.warn(`Firestore (${uu}): ${t}`,...n)}}function S_(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rt(t="Unexpected state"){const e=`FIRESTORE (${uu}) INTERNAL ASSERTION FAILED: `+t;throw As(e),new Error(e)}function jt(t,e){t||rt()}function ot(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ae={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Pe extends Jr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ts{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sP{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class BU{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(ar.UNAUTHENTICATED))}shutdown(){}}class jU{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class HU{constructor(e){this.t=e,this.currentUser=ar.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){jt(this.o===void 0);let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let s=new Ts;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Ts,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{Ue("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(Ue("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Ts)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(Ue("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(jt(typeof r.accessToken=="string"),new sP(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return jt(e===null||typeof e=="string"),new ar(e)}}class WU{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=ar.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class qU{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new WU(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(ar.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class zU{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class KU{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){jt(this.o===void 0);const r=s=>{s.error!=null&&Ue("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,Ue("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{Ue("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):Ue("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(jt(typeof n.token=="string"),this.R=n.token,new zU(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YU(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oP{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=YU(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function Ot(t,e){return t<e?-1:t>e?1:0}function $l(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dn{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Pe(ae.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Pe(ae.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new Pe(ae.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Pe(ae.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return dn.fromMillis(Date.now())}static fromDate(e){return dn.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new dn(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Ot(this.nanoseconds,e.nanoseconds):Ot(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class st{constructor(e){this.timestamp=e}static fromTimestamp(e){return new st(e)}static min(){return new st(new dn(0,0))}static max(){return new st(new dn(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wc{constructor(e,n,r){n===void 0?n=0:n>e.length&&rt(),r===void 0?r=e.length-n:r>e.length-n&&rt(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Wc.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Wc?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Xt extends Wc{construct(e,n,r){return new Xt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Pe(ae.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Xt(n)}static emptyPath(){return new Xt([])}}const GU=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Qn extends Wc{construct(e,n,r){return new Qn(e,n,r)}static isValidIdentifier(e){return GU.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Qn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Qn(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new Pe(ae.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new Pe(ae.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new Pe(ae.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new Pe(ae.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Qn(n)}static emptyPath(){return new Qn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ye{constructor(e){this.path=e}static fromPath(e){return new Ye(Xt.fromString(e))}static fromName(e){return new Ye(Xt.fromString(e).popFirst(5))}static empty(){return new Ye(Xt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Xt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Xt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ye(new Xt(e.slice()))}}function QU(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=st.fromTimestamp(r===1e9?new dn(n+1,0):new dn(n,r));return new _o(i,Ye.empty(),e)}function XU(t){return new _o(t.readTime,t.key,-1)}class _o{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new _o(st.min(),Ye.empty(),-1)}static max(){return new _o(st.max(),Ye.empty(),-1)}}function JU(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Ye.comparator(t.documentKey,e.documentKey),n!==0?n:Ot(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZU="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class e4{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ad(t){if(t.code!==ae.FAILED_PRECONDITION||t.message!==ZU)throw t;Ue("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class me{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&rt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new me((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof me?n:me.resolve(n)}catch(n){return me.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):me.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):me.reject(n)}static resolve(e){return new me((n,r)=>{n(e)})}static reject(e){return new me((n,r)=>{r(e)})}static waitFor(e){return new me((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},l=>r(l))}),o=!0,s===i&&n()})}static or(e){let n=me.resolve(!1);for(const r of e)n=n.next(i=>i?me.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new me((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const u=l;n(e[u]).next(c=>{o[u]=c,++a,a===s&&r(o)},c=>i(c))}})}static doWhile(e,n){return new me((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function t4(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Od(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C_{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}C_.oe=-1;function Fp(t){return t==null}function Rf(t){return t===0&&1/t==-1/0}function n4(t){return typeof t=="number"&&Number.isInteger(t)&&!Rf(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eT(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Aa(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function aP(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let On=class Vv{constructor(e,n){this.comparator=e,this.root=n||lo.EMPTY}insert(e,n){return new Vv(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,lo.BLACK,null,null))}remove(e){return new Vv(this.comparator,this.root.remove(e,this.comparator).copy(null,null,lo.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Eh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Eh(this.root,e,this.comparator,!1)}getReverseIterator(){return new Eh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Eh(this.root,e,this.comparator,!0)}},Eh=class{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},lo=class cs{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??cs.RED,this.left=i??cs.EMPTY,this.right=s??cs.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new cs(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return cs.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return cs.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,cs.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,cs.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw rt();const e=this.left.check();if(e!==this.right.check())throw rt();return e+(this.isRed()?0:1)}};lo.EMPTY=null,lo.RED=!0,lo.BLACK=!1;lo.EMPTY=new class{constructor(){this.size=0}get key(){throw rt()}get value(){throw rt()}get color(){throw rt()}get left(){throw rt()}get right(){throw rt()}copy(e,n,r,i,s){return this}insert(e,n,r){return new lo(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tr{constructor(e){this.comparator=e,this.data=new On(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new tT(this.data.getIterator())}getIteratorFrom(e){return new tT(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof tr)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new tr(this.comparator);return n.data=e,n}}class tT{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qr{constructor(e){this.fields=e,e.sort(Qn.comparator)}static empty(){return new qr([])}unionWith(e){let n=new tr(Qn.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new qr(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return $l(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lP extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nr{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new lP("Invalid base64 string: "+s):s}}(e);return new nr(n)}static fromUint8Array(e){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new nr(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ot(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}nr.EMPTY_BYTE_STRING=new nr("");const r4=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function bo(t){if(jt(!!t),typeof t=="string"){let e=0;const n=r4.exec(t);if(jt(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:wn(t.seconds),nanos:wn(t.nanos)}}function wn(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function ha(t){return typeof t=="string"?nr.fromBase64String(t):nr.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $p(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function A_(t){const e=t.mapValue.fields.__previous_value__;return $p(e)?A_(e):e}function qc(t){const e=bo(t.mapValue.fields.__local_write_time__.timestampValue);return new dn(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i4{constructor(e,n,r,i,s,o,a,l,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=u}}class zc{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new zc("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof zc&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ih={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function fa(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?$p(t)?4:o4(t)?9007199254740991:s4(t)?10:11:rt()}function Zi(t,e){if(t===e)return!0;const n=fa(t);if(n!==fa(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return qc(t).isEqual(qc(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=bo(i.timestampValue),a=bo(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return ha(i.bytesValue).isEqual(ha(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return wn(i.geoPointValue.latitude)===wn(s.geoPointValue.latitude)&&wn(i.geoPointValue.longitude)===wn(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return wn(i.integerValue)===wn(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=wn(i.doubleValue),a=wn(s.doubleValue);return o===a?Rf(o)===Rf(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return $l(t.arrayValue.values||[],e.arrayValue.values||[],Zi);case 10:case 11:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(eT(o)!==eT(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!Zi(o[l],a[l])))return!1;return!0}(t,e);default:return rt()}}function Kc(t,e){return(t.values||[]).find(n=>Zi(n,e))!==void 0}function Ul(t,e){if(t===e)return 0;const n=fa(t),r=fa(e);if(n!==r)return Ot(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ot(t.booleanValue,e.booleanValue);case 2:return function(s,o){const a=wn(s.integerValue||s.doubleValue),l=wn(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return nT(t.timestampValue,e.timestampValue);case 4:return nT(qc(t),qc(e));case 5:return Ot(t.stringValue,e.stringValue);case 6:return function(s,o){const a=ha(s),l=ha(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const a=s.split("/"),l=o.split("/");for(let u=0;u<a.length&&u<l.length;u++){const c=Ot(a[u],l[u]);if(c!==0)return c}return Ot(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const a=Ot(wn(s.latitude),wn(o.latitude));return a!==0?a:Ot(wn(s.longitude),wn(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return rT(t.arrayValue,e.arrayValue);case 10:return function(s,o){var a,l,u,c;const h=s.fields||{},f=o.fields||{},p=(a=h.value)===null||a===void 0?void 0:a.arrayValue,g=(l=f.value)===null||l===void 0?void 0:l.arrayValue,b=Ot(((u=p==null?void 0:p.values)===null||u===void 0?void 0:u.length)||0,((c=g==null?void 0:g.values)===null||c===void 0?void 0:c.length)||0);return b!==0?b:rT(p,g)}(t.mapValue,e.mapValue);case 11:return function(s,o){if(s===Ih.mapValue&&o===Ih.mapValue)return 0;if(s===Ih.mapValue)return 1;if(o===Ih.mapValue)return-1;const a=s.fields||{},l=Object.keys(a),u=o.fields||{},c=Object.keys(u);l.sort(),c.sort();for(let h=0;h<l.length&&h<c.length;++h){const f=Ot(l[h],c[h]);if(f!==0)return f;const p=Ul(a[l[h]],u[c[h]]);if(p!==0)return p}return Ot(l.length,c.length)}(t.mapValue,e.mapValue);default:throw rt()}}function nT(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Ot(t,e);const n=bo(t),r=bo(e),i=Ot(n.seconds,r.seconds);return i!==0?i:Ot(n.nanos,r.nanos)}function rT(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const s=Ul(n[i],r[i]);if(s)return s}return Ot(n.length,r.length)}function Bl(t){return Fv(t)}function Fv(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=bo(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return ha(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return Ye.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=Fv(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${Fv(n.fields[o])}`;return i+"}"}(t.mapValue):rt()}function Df(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function $v(t){return!!t&&"integerValue"in t}function O_(t){return!!t&&"arrayValue"in t}function iT(t){return!!t&&"nullValue"in t}function sT(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Yh(t){return!!t&&"mapValue"in t}function s4(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function fc(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Aa(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=fc(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=fc(t.arrayValue.values[n]);return e}return Object.assign({},t)}function o4(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nr{constructor(e){this.value=e}static empty(){return new Nr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Yh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=fc(n)}setAll(e){let n=Qn.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=fc(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());Yh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Zi(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Yh(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Aa(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new Nr(fc(this.value))}}function uP(t){const e=[];return Aa(t.fields,(n,r)=>{const i=new Qn([n]);if(Yh(r)){const s=uP(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new qr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cr{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new cr(e,0,st.min(),st.min(),st.min(),Nr.empty(),0)}static newFoundDocument(e,n,r,i){return new cr(e,1,n,st.min(),r,i,0)}static newNoDocument(e,n){return new cr(e,2,n,st.min(),st.min(),Nr.empty(),0)}static newUnknownDocument(e,n){return new cr(e,3,n,st.min(),st.min(),Nr.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(st.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Nr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Nr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=st.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof cr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new cr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jl{constructor(e,n){this.position=e,this.inclusive=n}}function oT(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=Ye.comparator(Ye.fromName(o.referenceValue),n.key):r=Ul(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function aT(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Zi(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yc{constructor(e,n="asc"){this.field=e,this.dir=n}}function a4(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cP{}class An extends cP{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new u4(e,n,r):n==="array-contains"?new h4(e,r):n==="in"?new f4(e,r):n==="not-in"?new p4(e,r):n==="array-contains-any"?new m4(e,r):new An(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new c4(e,r):new d4(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Ul(n,this.value)):n!==null&&fa(this.value)===fa(n)&&this.matchesComparison(Ul(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return rt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ri extends cP{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new Ri(e,n)}matches(e){return dP(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function dP(t){return t.op==="and"}function hP(t){return l4(t)&&dP(t)}function l4(t){for(const e of t.filters)if(e instanceof Ri)return!1;return!0}function Uv(t){if(t instanceof An)return t.field.canonicalString()+t.op.toString()+Bl(t.value);if(hP(t))return t.filters.map(e=>Uv(e)).join(",");{const e=t.filters.map(n=>Uv(n)).join(",");return`${t.op}(${e})`}}function fP(t,e){return t instanceof An?function(r,i){return i instanceof An&&r.op===i.op&&r.field.isEqual(i.field)&&Zi(r.value,i.value)}(t,e):t instanceof Ri?function(r,i){return i instanceof Ri&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&fP(o,i.filters[a]),!0):!1}(t,e):void rt()}function pP(t){return t instanceof An?function(n){return`${n.field.canonicalString()} ${n.op} ${Bl(n.value)}`}(t):t instanceof Ri?function(n){return n.op.toString()+" {"+n.getFilters().map(pP).join(" ,")+"}"}(t):"Filter"}class u4 extends An{constructor(e,n,r){super(e,n,r),this.key=Ye.fromName(r.referenceValue)}matches(e){const n=Ye.comparator(e.key,this.key);return this.matchesComparison(n)}}class c4 extends An{constructor(e,n){super(e,"in",n),this.keys=mP("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class d4 extends An{constructor(e,n){super(e,"not-in",n),this.keys=mP("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function mP(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>Ye.fromName(r.referenceValue))}class h4 extends An{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return O_(n)&&Kc(n.arrayValue,this.value)}}class f4 extends An{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Kc(this.value.arrayValue,n)}}class p4 extends An{constructor(e,n){super(e,"not-in",n)}matches(e){if(Kc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Kc(this.value.arrayValue,n)}}class m4 extends An{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!O_(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Kc(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g4{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ue=null}}function lT(t,e=null,n=[],r=[],i=null,s=null,o=null){return new g4(t,e,n,r,i,s,o)}function P_(t){const e=ot(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Uv(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),Fp(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Bl(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Bl(r)).join(",")),e.ue=n}return e.ue}function k_(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!a4(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!fP(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!aT(t.startAt,e.startAt)&&aT(t.endAt,e.endAt)}function Bv(t){return Ye.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oa{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function v4(t,e,n,r,i,s,o,a){return new Oa(t,e,n,r,i,s,o,a)}function Up(t){return new Oa(t)}function uT(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function R_(t){return t.collectionGroup!==null}function wl(t){const e=ot(t);if(e.ce===null){e.ce=[];const n=new Set;for(const s of e.explicitOrderBy)e.ce.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new tr(Qn.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.ce.push(new Yc(s,r))}),n.has(Qn.keyField().canonicalString())||e.ce.push(new Yc(Qn.keyField(),r))}return e.ce}function Ki(t){const e=ot(t);return e.le||(e.le=y4(e,wl(t))),e.le}function y4(t,e){if(t.limitType==="F")return lT(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new Yc(i.field,s)});const n=t.endAt?new jl(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new jl(t.startAt.position,t.startAt.inclusive):null;return lT(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function jv(t,e){const n=t.filters.concat([e]);return new Oa(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function xf(t,e,n){return new Oa(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Bp(t,e){return k_(Ki(t),Ki(e))&&t.limitType===e.limitType}function gP(t){return`${P_(Ki(t))}|lt:${t.limitType}`}function Ja(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>pP(i)).join(", ")}]`),Fp(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Bl(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Bl(i)).join(",")),`Target(${r})`}(Ki(t))}; limitType=${t.limitType})`}function jp(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):Ye.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of wl(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,a,l){const u=oT(o,a,l);return o.inclusive?u<=0:u<0}(r.startAt,wl(r),i)||r.endAt&&!function(o,a,l){const u=oT(o,a,l);return o.inclusive?u>=0:u>0}(r.endAt,wl(r),i))}(t,e)}function _4(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function vP(t){return(e,n)=>{let r=!1;for(const i of wl(t)){const s=b4(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function b4(t,e,n){const r=t.field.isKeyField()?Ye.comparator(e.key,n.key):function(s,o,a){const l=o.data.field(s),u=a.data.field(s);return l!==null&&u!==null?Ul(l,u):rt()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return rt()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cu{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Aa(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return aP(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w4=new On(Ye.comparator);function Os(){return w4}const yP=new On(Ye.comparator);function Qu(...t){let e=yP;for(const n of t)e=e.insert(n.key,n);return e}function _P(t){let e=yP;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Ko(){return pc()}function bP(){return pc()}function pc(){return new cu(t=>t.toString(),(t,e)=>t.isEqual(e))}const T4=new On(Ye.comparator),E4=new tr(Ye.comparator);function ft(...t){let e=E4;for(const n of t)e=e.add(n);return e}const I4=new tr(Ot);function S4(){return I4}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D_(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Rf(e)?"-0":e}}function wP(t){return{integerValue:""+t}}function C4(t,e){return n4(e)?wP(e):D_(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hp{constructor(){this._=void 0}}function A4(t,e,n){return t instanceof Nf?function(i,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&$p(s)&&(s=A_(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof Gc?EP(t,e):t instanceof Qc?IP(t,e):function(i,s){const o=TP(i,s),a=cT(o)+cT(i.Pe);return $v(o)&&$v(i.Pe)?wP(a):D_(i.serializer,a)}(t,e)}function O4(t,e,n){return t instanceof Gc?EP(t,e):t instanceof Qc?IP(t,e):n}function TP(t,e){return t instanceof Mf?function(r){return $v(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class Nf extends Hp{}class Gc extends Hp{constructor(e){super(),this.elements=e}}function EP(t,e){const n=SP(e);for(const r of t.elements)n.some(i=>Zi(i,r))||n.push(r);return{arrayValue:{values:n}}}class Qc extends Hp{constructor(e){super(),this.elements=e}}function IP(t,e){let n=SP(e);for(const r of t.elements)n=n.filter(i=>!Zi(i,r));return{arrayValue:{values:n}}}class Mf extends Hp{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function cT(t){return wn(t.integerValue||t.doubleValue)}function SP(t){return O_(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function P4(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Gc&&i instanceof Gc||r instanceof Qc&&i instanceof Qc?$l(r.elements,i.elements,Zi):r instanceof Mf&&i instanceof Mf?Zi(r.Pe,i.Pe):r instanceof Nf&&i instanceof Nf}(t.transform,e.transform)}class k4{constructor(e,n){this.version=e,this.transformResults=n}}class ai{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new ai}static exists(e){return new ai(void 0,e)}static updateTime(e){return new ai(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Gh(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Wp{}function CP(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new x_(t.key,ai.none()):new Pd(t.key,t.data,ai.none());{const n=t.data,r=Nr.empty();let i=new tr(Qn.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new Po(t.key,r,new qr(i.toArray()),ai.none())}}function R4(t,e,n){t instanceof Pd?function(i,s,o){const a=i.value.clone(),l=hT(i.fieldTransforms,s,o.transformResults);a.setAll(l),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Po?function(i,s,o){if(!Gh(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=hT(i.fieldTransforms,s,o.transformResults),l=s.data;l.setAll(AP(i)),l.setAll(a),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function mc(t,e,n,r){return t instanceof Pd?function(s,o,a,l){if(!Gh(s.precondition,o))return a;const u=s.value.clone(),c=fT(s.fieldTransforms,l,o);return u.setAll(c),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof Po?function(s,o,a,l){if(!Gh(s.precondition,o))return a;const u=fT(s.fieldTransforms,l,o),c=o.data;return c.setAll(AP(s)),c.setAll(u),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(h=>h.field))}(t,e,n,r):function(s,o,a){return Gh(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function D4(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=TP(r.transform,i||null);s!=null&&(n===null&&(n=Nr.empty()),n.set(r.field,s))}return n||null}function dT(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&$l(r,i,(s,o)=>P4(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Pd extends Wp{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Po extends Wp{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function AP(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function hT(t,e,n){const r=new Map;jt(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,O4(o,a,n[i]))}return r}function fT(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,A4(s,o,e))}return r}class x_ extends Wp{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class x4 extends Wp{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N4{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&R4(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=mc(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=mc(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=bP();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const l=CP(o,a);l!==null&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(st.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ft())}isEqual(e){return this.batchId===e.batchId&&$l(this.mutations,e.mutations,(n,r)=>dT(n,r))&&$l(this.baseMutations,e.baseMutations,(n,r)=>dT(n,r))}}class N_{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){jt(e.mutations.length===r.length);let i=function(){return T4}();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new N_(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M4{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L4{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Cn,_t;function V4(t){switch(t){default:return rt();case ae.CANCELLED:case ae.UNKNOWN:case ae.DEADLINE_EXCEEDED:case ae.RESOURCE_EXHAUSTED:case ae.INTERNAL:case ae.UNAVAILABLE:case ae.UNAUTHENTICATED:return!1;case ae.INVALID_ARGUMENT:case ae.NOT_FOUND:case ae.ALREADY_EXISTS:case ae.PERMISSION_DENIED:case ae.FAILED_PRECONDITION:case ae.ABORTED:case ae.OUT_OF_RANGE:case ae.UNIMPLEMENTED:case ae.DATA_LOSS:return!0}}function OP(t){if(t===void 0)return As("GRPC error has no .code"),ae.UNKNOWN;switch(t){case Cn.OK:return ae.OK;case Cn.CANCELLED:return ae.CANCELLED;case Cn.UNKNOWN:return ae.UNKNOWN;case Cn.DEADLINE_EXCEEDED:return ae.DEADLINE_EXCEEDED;case Cn.RESOURCE_EXHAUSTED:return ae.RESOURCE_EXHAUSTED;case Cn.INTERNAL:return ae.INTERNAL;case Cn.UNAVAILABLE:return ae.UNAVAILABLE;case Cn.UNAUTHENTICATED:return ae.UNAUTHENTICATED;case Cn.INVALID_ARGUMENT:return ae.INVALID_ARGUMENT;case Cn.NOT_FOUND:return ae.NOT_FOUND;case Cn.ALREADY_EXISTS:return ae.ALREADY_EXISTS;case Cn.PERMISSION_DENIED:return ae.PERMISSION_DENIED;case Cn.FAILED_PRECONDITION:return ae.FAILED_PRECONDITION;case Cn.ABORTED:return ae.ABORTED;case Cn.OUT_OF_RANGE:return ae.OUT_OF_RANGE;case Cn.UNIMPLEMENTED:return ae.UNIMPLEMENTED;case Cn.DATA_LOSS:return ae.DATA_LOSS;default:return rt()}}(_t=Cn||(Cn={}))[_t.OK=0]="OK",_t[_t.CANCELLED=1]="CANCELLED",_t[_t.UNKNOWN=2]="UNKNOWN",_t[_t.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",_t[_t.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",_t[_t.NOT_FOUND=5]="NOT_FOUND",_t[_t.ALREADY_EXISTS=6]="ALREADY_EXISTS",_t[_t.PERMISSION_DENIED=7]="PERMISSION_DENIED",_t[_t.UNAUTHENTICATED=16]="UNAUTHENTICATED",_t[_t.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",_t[_t.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",_t[_t.ABORTED=10]="ABORTED",_t[_t.OUT_OF_RANGE=11]="OUT_OF_RANGE",_t[_t.UNIMPLEMENTED=12]="UNIMPLEMENTED",_t[_t.INTERNAL=13]="INTERNAL",_t[_t.UNAVAILABLE=14]="UNAVAILABLE",_t[_t.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F4(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $4=new Zo([4294967295,4294967295],0);function pT(t){const e=F4().encode(t),n=new ZO;return n.update(e),new Uint8Array(n.digest())}function mT(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Zo([n,r],0),new Zo([i,s],0)]}class M_{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Xu(`Invalid padding: ${n}`);if(r<0)throw new Xu(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Xu(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Xu(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=Zo.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(Zo.fromNumber(r)));return i.compare($4)===1&&(i=new Zo([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=pT(e),[r,i]=mT(n);for(let s=0;s<this.hashCount;s++){const o=this.Ee(r,i,s);if(!this.de(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new M_(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Ie===0)return;const n=pT(e),[r,i]=mT(n);for(let s=0;s<this.hashCount;s++){const o=this.Ee(r,i,s);this.Ae(o)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Xu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qp{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,kd.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new qp(st.min(),i,new On(Ot),Os(),ft())}}class kd{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new kd(r,n,ft(),ft(),ft())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qh{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}}class PP{constructor(e,n){this.targetId=e,this.me=n}}class kP{constructor(e,n,r=nr.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class gT{constructor(){this.fe=0,this.ge=yT(),this.pe=nr.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=ft(),n=ft(),r=ft();return this.ge.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:rt()}}),new kd(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=yT()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,jt(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class U4{constructor(e){this.Le=e,this.Be=new Map,this.ke=Os(),this.qe=vT(),this.Qe=new On(Ot)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:rt()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){const n=e.targetId,r=e.me.count,i=this.Je(n);if(i){const s=i.target;if(Bv(s))if(r===0){const o=new Ye(s.path);this.Ue(n,o,cr.newNoDocument(o,st.min()))}else jt(r===1);else{const o=this.Ye(n);if(o!==r){const a=this.Ze(e),l=a?this.Xe(a,e,o):1;if(l!==0){this.je(n);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,u)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,a;try{o=ha(r).toUint8Array()}catch(l){if(l instanceof lP)return Fl("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new M_(o,i,s)}catch(l){return Fl(l instanceof Xu?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Ie===0?null:a}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.Le.tt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.Ue(n,s,null),i++)}),i}rt(e){const n=new Map;this.Be.forEach((s,o)=>{const a=this.Je(o);if(a){if(s.current&&Bv(a.target)){const l=new Ye(a.target.path);this.ke.get(l)!==null||this.it(o,l)||this.Ue(o,l,cr.newNoDocument(l,e))}s.be&&(n.set(o,s.ve()),s.Ce())}});let r=ft();this.qe.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const u=this.Je(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.ke.forEach((s,o)=>o.setReadTime(e));const i=new qp(e,n,this.Qe,this.ke,r);return this.ke=Os(),this.qe=vT(),this.Qe=new On(Ot),i}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new gT,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new tr(Ot),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||Ue("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new gT),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function vT(){return new On(Ye.comparator)}function yT(){return new On(Ye.comparator)}const B4={asc:"ASCENDING",desc:"DESCENDING"},j4={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},H4={and:"AND",or:"OR"};class W4{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Hv(t,e){return t.useProto3Json||Fp(e)?e:{value:e}}function Lf(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function RP(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function q4(t,e){return Lf(t,e.toTimestamp())}function Yi(t){return jt(!!t),st.fromTimestamp(function(n){const r=bo(n);return new dn(r.seconds,r.nanos)}(t))}function L_(t,e){return Wv(t,e).canonicalString()}function Wv(t,e){const n=function(i){return new Xt(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function DP(t){const e=Xt.fromString(t);return jt(VP(e)),e}function qv(t,e){return L_(t.databaseId,e.path)}function hg(t,e){const n=DP(e);if(n.get(1)!==t.databaseId.projectId)throw new Pe(ae.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Pe(ae.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Ye(NP(n))}function xP(t,e){return L_(t.databaseId,e)}function z4(t){const e=DP(t);return e.length===4?Xt.emptyPath():NP(e)}function zv(t){return new Xt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function NP(t){return jt(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function _T(t,e,n){return{name:qv(t,e),fields:n.value.mapValue.fields}}function K4(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:rt()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(u,c){return u.useProto3Json?(jt(c===void 0||typeof c=="string"),nr.fromBase64String(c||"")):(jt(c===void 0||c instanceof Buffer||c instanceof Uint8Array),nr.fromUint8Array(c||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(u){const c=u.code===void 0?ae.UNKNOWN:OP(u.code);return new Pe(c,u.message||"")}(o);n=new kP(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=hg(t,r.document.name),s=Yi(r.document.updateTime),o=r.document.createTime?Yi(r.document.createTime):st.min(),a=new Nr({mapValue:{fields:r.document.fields}}),l=cr.newFoundDocument(i,s,o,a),u=r.targetIds||[],c=r.removedTargetIds||[];n=new Qh(u,c,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=hg(t,r.document),s=r.readTime?Yi(r.readTime):st.min(),o=cr.newNoDocument(i,s),a=r.removedTargetIds||[];n=new Qh([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=hg(t,r.document),s=r.removedTargetIds||[];n=new Qh([],s,i,null)}else{if(!("filter"in e))return rt();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new L4(i,s),a=r.targetId;n=new PP(a,o)}}return n}function Y4(t,e){let n;if(e instanceof Pd)n={update:_T(t,e.key,e.value)};else if(e instanceof x_)n={delete:qv(t,e.key)};else if(e instanceof Po)n={update:_T(t,e.key,e.data),updateMask:r6(e.fieldMask)};else{if(!(e instanceof x4))return rt();n={verify:qv(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const a=o.transform;if(a instanceof Nf)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Gc)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Qc)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Mf)return{fieldPath:o.field.canonicalString(),increment:a.Pe};throw rt()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:q4(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:rt()}(t,e.precondition)),n}function G4(t,e){return t&&t.length>0?(jt(e!==void 0),t.map(n=>function(i,s){let o=i.updateTime?Yi(i.updateTime):Yi(s);return o.isEqual(st.min())&&(o=Yi(s)),new k4(o,i.transformResults||[])}(n,e))):[]}function Q4(t,e){return{documents:[xP(t,e.path)]}}function X4(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=xP(t,i);const s=function(u){if(u.length!==0)return LP(Ri.create(u,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const o=function(u){if(u.length!==0)return u.map(c=>function(f){return{field:Za(f.field),direction:e6(f.dir)}}(c))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=Hv(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{_t:n,parent:i}}function J4(t){let e=z4(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){jt(r===1);const c=n.from[0];c.allDescendants?i=c.collectionId:e=e.child(c.collectionId)}let s=[];n.where&&(s=function(h){const f=MP(h);return f instanceof Ri&&hP(f)?f.getFilters():[f]}(n.where));let o=[];n.orderBy&&(o=function(h){return h.map(f=>function(g){return new Yc(el(g.field),function(S){switch(S){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(g.direction))}(f))}(n.orderBy));let a=null;n.limit&&(a=function(h){let f;return f=typeof h=="object"?h.value:h,Fp(f)?null:f}(n.limit));let l=null;n.startAt&&(l=function(h){const f=!!h.before,p=h.values||[];return new jl(p,f)}(n.startAt));let u=null;return n.endAt&&(u=function(h){const f=!h.before,p=h.values||[];return new jl(p,f)}(n.endAt)),v4(e,i,o,s,a,"F",l,u)}function Z4(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return rt()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function MP(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=el(n.unaryFilter.field);return An.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=el(n.unaryFilter.field);return An.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=el(n.unaryFilter.field);return An.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=el(n.unaryFilter.field);return An.create(o,"!=",{nullValue:"NULL_VALUE"});default:return rt()}}(t):t.fieldFilter!==void 0?function(n){return An.create(el(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return rt()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Ri.create(n.compositeFilter.filters.map(r=>MP(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return rt()}}(n.compositeFilter.op))}(t):rt()}function e6(t){return B4[t]}function t6(t){return j4[t]}function n6(t){return H4[t]}function Za(t){return{fieldPath:t.canonicalString()}}function el(t){return Qn.fromServerFormat(t.fieldPath)}function LP(t){return t instanceof An?function(n){if(n.op==="=="){if(sT(n.value))return{unaryFilter:{field:Za(n.field),op:"IS_NAN"}};if(iT(n.value))return{unaryFilter:{field:Za(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(sT(n.value))return{unaryFilter:{field:Za(n.field),op:"IS_NOT_NAN"}};if(iT(n.value))return{unaryFilter:{field:Za(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Za(n.field),op:t6(n.op),value:n.value}}}(t):t instanceof Ri?function(n){const r=n.getFilters().map(i=>LP(i));return r.length===1?r[0]:{compositeFilter:{op:n6(n.op),filters:r}}}(t):rt()}function r6(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function VP(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ro{constructor(e,n,r,i,s=st.min(),o=st.min(),a=nr.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new ro(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new ro(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ro(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ro(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i6{constructor(e){this.ct=e}}function s6(t){const e=J4({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?xf(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o6{constructor(){this.un=new a6}addToCollectionParentIndex(e,n){return this.un.add(n),me.resolve()}getCollectionParents(e,n){return me.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return me.resolve()}deleteFieldIndex(e,n){return me.resolve()}deleteAllFieldIndexes(e){return me.resolve()}createTargetIndexes(e,n){return me.resolve()}getDocumentsMatchingTarget(e,n){return me.resolve(null)}getIndexType(e,n){return me.resolve(0)}getFieldIndexes(e,n){return me.resolve([])}getNextCollectionGroupToUpdate(e){return me.resolve(null)}getMinOffset(e,n){return me.resolve(_o.min())}getMinOffsetFromCollectionGroup(e,n){return me.resolve(_o.min())}updateCollectionGroup(e,n,r){return me.resolve()}updateIndexEntries(e,n){return me.resolve()}}class a6{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new tr(Xt.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new tr(Xt.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hl{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new Hl(0)}static kn(){return new Hl(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l6{constructor(){this.changes=new cu(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,cr.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?me.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u6{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c6{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&mc(r.mutation,i,qr.empty(),dn.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,ft()).next(()=>r))}getLocalViewOfDocuments(e,n,r=ft()){const i=Ko();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=Qu();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Ko();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,ft()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=Os();const o=pc(),a=function(){return pc()}();return n.forEach((l,u)=>{const c=r.get(u.key);i.has(u.key)&&(c===void 0||c.mutation instanceof Po)?s=s.insert(u.key,u):c!==void 0?(o.set(u.key,c.mutation.getFieldMask()),mc(c.mutation,u,c.mutation.getFieldMask(),dn.now())):o.set(u.key,qr.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((u,c)=>o.set(u,c)),n.forEach((u,c)=>{var h;return a.set(u,new u6(c,(h=o.get(u))!==null&&h!==void 0?h:null))}),a))}recalculateAndSaveOverlays(e,n){const r=pc();let i=new On((o,a)=>o-a),s=ft();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let c=r.get(l)||qr.empty();c=a.applyToLocalView(u,c),r.set(l,c);const h=(i.get(a.batchId)||ft()).add(l);i=i.insert(a.batchId,h)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,c=l.value,h=bP();c.forEach(f=>{if(!s.has(f)){const p=CP(n.get(f),r.get(f));p!==null&&h.set(f,p),s=s.add(f)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,h))}return me.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return Ye.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):R_(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):me.resolve(Ko());let a=-1,l=s;return o.next(u=>me.forEach(u,(c,h)=>(a<h.largestBatchId&&(a=h.largestBatchId),s.get(c)?me.resolve():this.remoteDocumentCache.getEntry(e,c).next(f=>{l=l.insert(c,f)}))).next(()=>this.populateOverlays(e,u,s)).next(()=>this.computeViews(e,l,u,ft())).next(c=>({batchId:a,changes:_P(c)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Ye(n)).next(r=>{let i=Qu();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let o=Qu();return this.indexManager.getCollectionParents(e,s).next(a=>me.forEach(a,l=>{const u=function(h,f){return new Oa(f,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)}(n,l.child(s));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(c=>{c.forEach((h,f)=>{o=o.insert(h,f)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((l,u)=>{const c=u.getKey();o.get(c)===null&&(o=o.insert(c,cr.newInvalidDocument(c)))});let a=Qu();return o.forEach((l,u)=>{const c=s.get(l);c!==void 0&&mc(c.mutation,u,qr.empty(),dn.now()),jp(n,u)&&(a=a.insert(l,u))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d6{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return me.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Yi(i.createTime)}}(n)),me.resolve()}getNamedQuery(e,n){return me.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(i){return{name:i.name,query:s6(i.bundledQuery),readTime:Yi(i.readTime)}}(n)),me.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h6{constructor(){this.overlays=new On(Ye.comparator),this.Ir=new Map}getOverlay(e,n){return me.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Ko();return me.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.ht(e,n,s)}),me.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Ir.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Ir.delete(r)),me.resolve()}getOverlaysForCollection(e,n,r){const i=Ko(),s=n.length+1,o=new Ye(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return me.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new On((u,c)=>u-c);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let c=s.get(u.largestBatchId);c===null&&(c=Ko(),s=s.insert(u.largestBatchId,c)),c.set(u.getKey(),u)}}const a=Ko(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,c)=>a.set(u,c)),!(a.size()>=i)););return me.resolve(a)}ht(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new M4(n,r));let s=this.Ir.get(n);s===void 0&&(s=ft(),this.Ir.set(n,s)),this.Ir.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f6{constructor(){this.sessionToken=nr.EMPTY_BYTE_STRING}getSessionToken(e){return me.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,me.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V_{constructor(){this.Tr=new tr($n.Er),this.dr=new tr($n.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){const r=new $n(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new $n(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){const n=new Ye(new Xt([])),r=new $n(n,e),i=new $n(n,e+1),s=[];return this.dr.forEachInRange([r,i],o=>{this.Vr(o),s.push(o.key)}),s}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const n=new Ye(new Xt([])),r=new $n(n,e),i=new $n(n,e+1);let s=ft();return this.dr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new $n(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class $n{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return Ye.comparator(e.key,n.key)||Ot(e.wr,n.wr)}static Ar(e,n){return Ot(e.wr,n.wr)||Ye.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p6{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new tr($n.Er)}checkEmpty(e){return me.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new N4(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.br=this.br.add(new $n(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return me.resolve(o)}lookupMutationBatch(e,n){return me.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.vr(r),s=i<0?0:i;return me.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return me.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return me.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new $n(n,0),i=new $n(n,Number.POSITIVE_INFINITY),s=[];return this.br.forEachInRange([r,i],o=>{const a=this.Dr(o.wr);s.push(a)}),me.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new tr(Ot);return n.forEach(i=>{const s=new $n(i,0),o=new $n(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([s,o],a=>{r=r.add(a.wr)})}),me.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;Ye.isDocumentKey(s)||(s=s.child(""));const o=new $n(new Ye(s),0);let a=new tr(Ot);return this.br.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(l.wr)),!0)},o),me.resolve(this.Cr(a))}Cr(e){const n=[];return e.forEach(r=>{const i=this.Dr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){jt(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return me.forEach(n.mutations,i=>{const s=new $n(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){const r=new $n(n,0),i=this.br.firstAfterOrEqual(r);return me.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,me.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m6{constructor(e){this.Mr=e,this.docs=function(){return new On(Ye.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return me.resolve(r?r.document.mutableCopy():cr.newInvalidDocument(n))}getEntries(e,n){let r=Os();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():cr.newInvalidDocument(i))}),me.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=Os();const o=n.path,a=new Ye(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:u,value:{document:c}}=l.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||JU(XU(c),r)<=0||(i.has(c.key)||jp(n,c))&&(s=s.insert(c.key,c.mutableCopy()))}return me.resolve(s)}getAllFromCollectionGroup(e,n,r,i){rt()}Or(e,n){return me.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new g6(this)}getSize(e){return me.resolve(this.size)}}class g6 extends l6{constructor(e){super(),this.cr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),me.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v6{constructor(e){this.persistence=e,this.Nr=new cu(n=>P_(n),k_),this.lastRemoteSnapshotVersion=st.min(),this.highestTargetId=0,this.Lr=0,this.Br=new V_,this.targetCount=0,this.kr=Hl.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,i)=>n(i)),me.resolve()}getLastRemoteSnapshotVersion(e){return me.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return me.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),me.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),me.resolve()}Kn(e){this.Nr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.kr=new Hl(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,me.resolve()}updateTargetData(e,n){return this.Kn(n),me.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,me.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Nr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Nr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),me.waitFor(s).next(()=>i)}getTargetCount(e){return me.resolve(this.targetCount)}getTargetData(e,n){const r=this.Nr.get(n)||null;return me.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),me.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),me.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),me.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Br.yr(n);return me.resolve(r)}containsKey(e,n){return me.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y6{constructor(e,n){this.qr={},this.overlays={},this.Qr=new C_(0),this.Kr=!1,this.Kr=!0,this.$r=new f6,this.referenceDelegate=e(this),this.Ur=new v6(this),this.indexManager=new o6,this.remoteDocumentCache=function(i){return new m6(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new i6(n),this.Gr=new d6(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new h6,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new p6(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){Ue("MemoryPersistence","Starting transaction:",e);const i=new _6(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(s=>this.referenceDelegate.jr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Hr(e,n){return me.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}}class _6 extends e4{constructor(e){super(),this.currentSequenceNumber=e}}class F_{constructor(e){this.persistence=e,this.Jr=new V_,this.Yr=null}static Zr(e){return new F_(e)}get Xr(){if(this.Yr)return this.Yr;throw rt()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),me.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),me.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),me.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(i=>this.Xr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Xr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return me.forEach(this.Xr,r=>{const i=Ye.fromPath(r);return this.ei(e,i).next(s=>{s||n.removeEntry(i,st.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return me.or([()=>me.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $_{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=i}static Wi(e,n){let r=ft(),i=ft();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new $_(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b6{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w6{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return eF()?8:t4(_r())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.Yi(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Zi(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new b6;return this.Xi(e,n,o).next(a=>{if(s.result=a,this.zi)return this.es(e,n,o,a.size)})}).next(()=>s.result)}es(e,n,r,i){return r.documentReadCount<this.ji?(xu()<=ht.DEBUG&&Ue("QueryEngine","SDK will not create cache indexes for query:",Ja(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),me.resolve()):(xu()<=ht.DEBUG&&Ue("QueryEngine","Query:",Ja(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(xu()<=ht.DEBUG&&Ue("QueryEngine","The SDK decides to create cache indexes for query:",Ja(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ki(n))):me.resolve())}Yi(e,n){if(uT(n))return me.resolve(null);let r=Ki(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=xf(n,null,"F"),r=Ki(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=ft(...s);return this.Ji.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const u=this.ts(n,a);return this.ns(n,u,o,l.readTime)?this.Yi(e,xf(n,null,"F")):this.rs(e,u,n,l)}))})))}Zi(e,n,r,i){return uT(n)||i.isEqual(st.min())?me.resolve(null):this.Ji.getDocuments(e,r).next(s=>{const o=this.ts(n,s);return this.ns(n,o,r,i)?me.resolve(null):(xu()<=ht.DEBUG&&Ue("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Ja(n)),this.rs(e,o,n,QU(i,-1)).next(a=>a))})}ts(e,n){let r=new tr(vP(e));return n.forEach((i,s)=>{jp(e,s)&&(r=r.add(s))}),r}ns(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Xi(e,n,r){return xu()<=ht.DEBUG&&Ue("QueryEngine","Using full collection scan to execute query:",Ja(n)),this.Ji.getDocumentsMatchingQuery(e,n,_o.min(),r)}rs(e,n,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T6{constructor(e,n,r,i){this.persistence=e,this.ss=n,this.serializer=i,this.os=new On(Ot),this._s=new cu(s=>P_(s),k_),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new c6(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}}function E6(t,e,n,r){return new T6(t,e,n,r)}async function FP(t,e){const n=ot(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let l=ft();for(const u of i){o.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}for(const u of s){a.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}return n.localDocuments.getDocuments(r,l).next(u=>({hs:u,removedBatchIds:o,addedBatchIds:a}))})})}function I6(t,e){const n=ot(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.cs.newChangeBuffer({trackRemovals:!0});return function(a,l,u,c){const h=u.batch,f=h.keys();let p=me.resolve();return f.forEach(g=>{p=p.next(()=>c.getEntry(l,g)).next(b=>{const S=u.docVersions.get(g);jt(S!==null),b.version.compareTo(S)<0&&(h.applyToRemoteDocument(b,u),b.isValidDocument()&&(b.setReadTime(u.commitVersion),c.addEntry(b)))})}),p.next(()=>a.mutationQueue.removeMutationBatch(l,h))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=ft();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(l=l.add(a.batch.mutations[u].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function $P(t){const e=ot(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function S6(t,e){const n=ot(t),r=e.snapshotVersion;let i=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.cs.newChangeBuffer({trackRemovals:!0});i=n.os;const a=[];e.targetChanges.forEach((c,h)=>{const f=i.get(h);if(!f)return;a.push(n.Ur.removeMatchingKeys(s,c.removedDocuments,h).next(()=>n.Ur.addMatchingKeys(s,c.addedDocuments,h)));let p=f.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(h)!==null?p=p.withResumeToken(nr.EMPTY_BYTE_STRING,st.min()).withLastLimboFreeSnapshotVersion(st.min()):c.resumeToken.approximateByteSize()>0&&(p=p.withResumeToken(c.resumeToken,r)),i=i.insert(h,p),function(b,S,R){return b.resumeToken.approximateByteSize()===0||S.snapshotVersion.toMicroseconds()-b.snapshotVersion.toMicroseconds()>=3e8?!0:R.addedDocuments.size+R.modifiedDocuments.size+R.removedDocuments.size>0}(f,p,c)&&a.push(n.Ur.updateTargetData(s,p))});let l=Os(),u=ft();if(e.documentUpdates.forEach(c=>{e.resolvedLimboDocuments.has(c)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,c))}),a.push(C6(s,o,e.documentUpdates).next(c=>{l=c.Ps,u=c.Is})),!r.isEqual(st.min())){const c=n.Ur.getLastRemoteSnapshotVersion(s).next(h=>n.Ur.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(c)}return me.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,u)).next(()=>l)}).then(s=>(n.os=i,s))}function C6(t,e,n){let r=ft(),i=ft();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=Os();return n.forEach((a,l)=>{const u=s.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(st.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):Ue("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{Ps:o,Is:i}})}function A6(t,e){const n=ot(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function O6(t,e){const n=ot(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ur.getTargetData(r,e).next(s=>s?(i=s,me.resolve(i)):n.Ur.allocateTargetId(r).next(o=>(i=new ro(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}async function Kv(t,e,n){const r=ot(t),i=r.os.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!Od(o))throw o;Ue("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.os=r.os.remove(e),r._s.delete(i.target)}function bT(t,e,n){const r=ot(t);let i=st.min(),s=ft();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,u,c){const h=ot(l),f=h._s.get(c);return f!==void 0?me.resolve(h.os.get(f)):h.Ur.getTargetData(u,c)}(r,o,Ki(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>r.ss.getDocumentsMatchingQuery(o,e,n?i:st.min(),n?s:ft())).next(a=>(P6(r,_4(e),a),{documents:a,Ts:s})))}function P6(t,e,n){let r=t.us.get(e)||st.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.us.set(e,r)}class wT{constructor(){this.activeTargetIds=S4()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class k6{constructor(){this.so=new wT,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new wT,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R6{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TT{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){Ue("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){Ue("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Sh=null;function fg(){return Sh===null?Sh=function(){return 268435456+Math.round(2147483648*Math.random())}():Sh++,"0x"+Sh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D6={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x6{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sr="WebChannelConnection";class N6 extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${i}/databases/${s}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get Fo(){return!1}Mo(n,r,i,s,o){const a=fg(),l=this.xo(n,r.toUriEncodedString());Ue("RestConnection",`Sending RPC '${n}' ${a}:`,l,i);const u={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(u,s,o),this.No(n,l,u,i).then(c=>(Ue("RestConnection",`Received RPC '${n}' ${a}: `,c),c),c=>{throw Fl("RestConnection",`RPC '${n}' ${a} failed with error: `,c,"url: ",l,"request:",i),c})}Lo(n,r,i,s,o,a){return this.Mo(n,r,i,s,o)}Oo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+uu}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}xo(n,r){const i=D6[n];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,i){const s=fg();return new Promise((o,a)=>{const l=new eP;l.setWithCredentials(!0),l.listenOnce(tP.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case Kh.NO_ERROR:const c=l.getResponseJson();Ue(sr,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(c)),o(c);break;case Kh.TIMEOUT:Ue(sr,`RPC '${e}' ${s} timed out`),a(new Pe(ae.DEADLINE_EXCEEDED,"Request time out"));break;case Kh.HTTP_ERROR:const h=l.getStatus();if(Ue(sr,`RPC '${e}' ${s} failed with status:`,h,"response text:",l.getResponseText()),h>0){let f=l.getResponseJson();Array.isArray(f)&&(f=f[0]);const p=f==null?void 0:f.error;if(p&&p.status&&p.message){const g=function(S){const R=S.toLowerCase().replace(/_/g,"-");return Object.values(ae).indexOf(R)>=0?R:ae.UNKNOWN}(p.status);a(new Pe(g,p.message))}else a(new Pe(ae.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new Pe(ae.UNAVAILABLE,"Connection failed."));break;default:rt()}}finally{Ue(sr,`RPC '${e}' ${s} completed.`)}});const u=JSON.stringify(i);Ue(sr,`RPC '${e}' ${s} sending request:`,i),l.send(n,"POST",u,r,15)})}Bo(e,n,r){const i=fg(),s=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=iP(),a=rP(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Oo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const c=s.join("");Ue(sr,`Creating RPC '${e}' stream ${i}: ${c}`,l);const h=o.createWebChannel(c,l);let f=!1,p=!1;const g=new x6({Io:S=>{p?Ue(sr,`Not sending because RPC '${e}' stream ${i} is closed:`,S):(f||(Ue(sr,`Opening RPC '${e}' stream ${i} transport.`),h.open(),f=!0),Ue(sr,`RPC '${e}' stream ${i} sending:`,S),h.send(S))},To:()=>h.close()}),b=(S,R,P)=>{S.listen(R,w=>{try{P(w)}catch(E){setTimeout(()=>{throw E},0)}})};return b(h,Gu.EventType.OPEN,()=>{p||(Ue(sr,`RPC '${e}' stream ${i} transport opened.`),g.yo())}),b(h,Gu.EventType.CLOSE,()=>{p||(p=!0,Ue(sr,`RPC '${e}' stream ${i} transport closed`),g.So())}),b(h,Gu.EventType.ERROR,S=>{p||(p=!0,Fl(sr,`RPC '${e}' stream ${i} transport errored:`,S),g.So(new Pe(ae.UNAVAILABLE,"The operation could not be completed")))}),b(h,Gu.EventType.MESSAGE,S=>{var R;if(!p){const P=S.data[0];jt(!!P);const w=P,E=w.error||((R=w[0])===null||R===void 0?void 0:R.error);if(E){Ue(sr,`RPC '${e}' stream ${i} received error:`,E);const N=E.status;let M=function(_){const v=Cn[_];if(v!==void 0)return OP(v)}(N),I=E.message;M===void 0&&(M=ae.INTERNAL,I="Unknown error status: "+N+" with message "+E.message),p=!0,g.So(new Pe(M,I)),h.close()}else Ue(sr,`RPC '${e}' stream ${i} received:`,P),g.bo(P)}}),b(a,nP.STAT_EVENT,S=>{S.stat===Lv.PROXY?Ue(sr,`RPC '${e}' stream ${i} detected buffering proxy`):S.stat===Lv.NOPROXY&&Ue(sr,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{g.wo()},0),g}}function pg(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zp(t){return new W4(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UP{constructor(e,n,r=1e3,i=1.5,s=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=i,this.Qo=s,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,n-r);i>0&&Ue("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BP{constructor(e,n,r,i,s,o,a,l){this.ui=e,this.Ho=r,this.Jo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new UP(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===ae.RESOURCE_EXHAUSTED?(As(n.toString()),As("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===ae.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(n)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===n&&this.P_(r,i)},r=>{e(()=>{const i=new Pe(ae.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,n){const r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return Ue("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(Ue("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class M6 extends BP{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const n=K4(this.serializer,e),r=function(s){if(!("targetChange"in s))return st.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?st.min():o.readTime?Yi(o.readTime):st.min()}(e);return this.listener.d_(n,r)}A_(e){const n={};n.database=zv(this.serializer),n.addTarget=function(s,o){let a;const l=o.target;if(a=Bv(l)?{documents:Q4(s,l)}:{query:X4(s,l)._t},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=RP(s,o.resumeToken);const u=Hv(s,o.expectedCount);u!==null&&(a.expectedCount=u)}else if(o.snapshotVersion.compareTo(st.min())>0){a.readTime=Lf(s,o.snapshotVersion.toTimestamp());const u=Hv(s,o.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);const r=Z4(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){const n={};n.database=zv(this.serializer),n.removeTarget=e,this.a_(n)}}class L6 extends BP{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return jt(!!e.streamToken),this.lastStreamToken=e.streamToken,jt(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){jt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const n=G4(e.writeResults,e.commitTime),r=Yi(e.commitTime);return this.listener.g_(r,n)}p_(){const e={};e.database=zv(this.serializer),this.a_(e)}m_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>Y4(this.serializer,r))};this.a_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V6 extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new Pe(ae.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Mo(e,Wv(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===ae.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Pe(ae.UNKNOWN,s.toString())})}Lo(e,n,r,i,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Lo(e,Wv(n,r),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===ae.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Pe(ae.UNKNOWN,o.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class F6{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(As(n),this.D_=!1):Ue("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $6{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=s,this.k_._o(o=>{r.enqueueAndForget(async()=>{Pa(this)&&(Ue("RemoteStore","Restarting streams for network reachability change."),await async function(l){const u=ot(l);u.L_.add(4),await Rd(u),u.q_.set("Unknown"),u.L_.delete(4),await Kp(u)}(this))})}),this.q_=new F6(r,i)}}async function Kp(t){if(Pa(t))for(const e of t.B_)await e(!0)}async function Rd(t){for(const e of t.B_)await e(!1)}function jP(t,e){const n=ot(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),H_(n)?j_(n):du(n).r_()&&B_(n,e))}function U_(t,e){const n=ot(t),r=du(n);n.N_.delete(e),r.r_()&&HP(n,e),n.N_.size===0&&(r.r_()?r.o_():Pa(n)&&n.q_.set("Unknown"))}function B_(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(st.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}du(t).A_(e)}function HP(t,e){t.Q_.xe(e),du(t).R_(e)}function j_(t){t.Q_=new U4({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),du(t).start(),t.q_.v_()}function H_(t){return Pa(t)&&!du(t).n_()&&t.N_.size>0}function Pa(t){return ot(t).L_.size===0}function WP(t){t.Q_=void 0}async function U6(t){t.q_.set("Online")}async function B6(t){t.N_.forEach((e,n)=>{B_(t,e)})}async function j6(t,e){WP(t),H_(t)?(t.q_.M_(e),j_(t)):t.q_.set("Unknown")}async function H6(t,e,n){if(t.q_.set("Online"),e instanceof kP&&e.state===2&&e.cause)try{await async function(i,s){const o=s.cause;for(const a of s.targetIds)i.N_.has(a)&&(await i.remoteSyncer.rejectListen(a,o),i.N_.delete(a),i.Q_.removeTarget(a))}(t,e)}catch(r){Ue("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Vf(t,r)}else if(e instanceof Qh?t.Q_.Ke(e):e instanceof PP?t.Q_.He(e):t.Q_.We(e),!n.isEqual(st.min()))try{const r=await $P(t.localStore);n.compareTo(r)>=0&&await function(s,o){const a=s.Q_.rt(o);return a.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const c=s.N_.get(u);c&&s.N_.set(u,c.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,u)=>{const c=s.N_.get(l);if(!c)return;s.N_.set(l,c.withResumeToken(nr.EMPTY_BYTE_STRING,c.snapshotVersion)),HP(s,l);const h=new ro(c.target,l,u,c.sequenceNumber);B_(s,h)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){Ue("RemoteStore","Failed to raise snapshot:",r),await Vf(t,r)}}async function Vf(t,e,n){if(!Od(e))throw e;t.L_.add(1),await Rd(t),t.q_.set("Offline"),n||(n=()=>$P(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{Ue("RemoteStore","Retrying IndexedDB access"),await n(),t.L_.delete(1),await Kp(t)})}function qP(t,e){return e().catch(n=>Vf(t,n,e))}async function Yp(t){const e=ot(t),n=wo(e);let r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;W6(e);)try{const i=await A6(e.localStore,r);if(i===null){e.O_.length===0&&n.o_();break}r=i.batchId,q6(e,i)}catch(i){await Vf(e,i)}zP(e)&&KP(e)}function W6(t){return Pa(t)&&t.O_.length<10}function q6(t,e){t.O_.push(e);const n=wo(t);n.r_()&&n.V_&&n.m_(e.mutations)}function zP(t){return Pa(t)&&!wo(t).n_()&&t.O_.length>0}function KP(t){wo(t).start()}async function z6(t){wo(t).p_()}async function K6(t){const e=wo(t);for(const n of t.O_)e.m_(n.mutations)}async function Y6(t,e,n){const r=t.O_.shift(),i=N_.from(r,e,n);await qP(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Yp(t)}async function G6(t,e){e&&wo(t).V_&&await async function(r,i){if(function(o){return V4(o)&&o!==ae.ABORTED}(i.code)){const s=r.O_.shift();wo(r).s_(),await qP(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await Yp(r)}}(t,e),zP(t)&&KP(t)}async function ET(t,e){const n=ot(t);n.asyncQueue.verifyOperationInProgress(),Ue("RemoteStore","RemoteStore received new credentials");const r=Pa(n);n.L_.add(3),await Rd(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),await Kp(n)}async function Q6(t,e){const n=ot(t);e?(n.L_.delete(2),await Kp(n)):e||(n.L_.add(2),await Rd(n),n.q_.set("Unknown"))}function du(t){return t.K_||(t.K_=function(n,r,i){const s=ot(n);return s.w_(),new M6(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:U6.bind(null,t),Ro:B6.bind(null,t),mo:j6.bind(null,t),d_:H6.bind(null,t)}),t.B_.push(async e=>{e?(t.K_.s_(),H_(t)?j_(t):t.q_.set("Unknown")):(await t.K_.stop(),WP(t))})),t.K_}function wo(t){return t.U_||(t.U_=function(n,r,i){const s=ot(n);return s.w_(),new L6(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:z6.bind(null,t),mo:G6.bind(null,t),f_:K6.bind(null,t),g_:Y6.bind(null,t)}),t.B_.push(async e=>{e?(t.U_.s_(),await Yp(t)):(await t.U_.stop(),t.O_.length>0&&(Ue("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))})),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W_{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Ts,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new W_(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Pe(ae.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function q_(t,e){if(As("AsyncQueue",`${e}: ${t}`),Od(t))return new Pe(ae.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tl{constructor(e){this.comparator=e?(n,r)=>e(n,r)||Ye.comparator(n.key,r.key):(n,r)=>Ye.comparator(n.key,r.key),this.keyedMap=Qu(),this.sortedSet=new On(this.comparator)}static emptySet(e){return new Tl(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Tl)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Tl;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IT{constructor(){this.W_=new On(Ye.comparator)}track(e){const n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):rt():this.W_=this.W_.insert(n,e)}G_(){const e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}}class Wl{constructor(e,n,r,i,s,o,a,l,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new Wl(e,n,Tl.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Bp(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X6{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class J6{constructor(){this.queries=ST(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){const i=ot(n),s=i.queries;i.queries=ST(),s.forEach((o,a)=>{for(const l of a.j_)l.onError(r)})})(this,new Pe(ae.ABORTED,"Firestore shutting down"))}}function ST(){return new cu(t=>gP(t),Bp)}async function z_(t,e){const n=ot(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.H_()&&e.J_()&&(r=2):(s=new X6,r=e.J_()?0:1);try{switch(r){case 0:s.z_=await n.onListen(i,!0);break;case 1:s.z_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(o){const a=q_(o,`Initialization of query '${Ja(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,s),s.j_.push(e),e.Z_(n.onlineState),s.z_&&e.X_(s.z_)&&Y_(n)}async function K_(t,e){const n=ot(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const o=s.j_.indexOf(e);o>=0&&(s.j_.splice(o,1),s.j_.length===0?i=e.J_()?0:1:!s.H_()&&e.J_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function Z6(t,e){const n=ot(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.j_)a.X_(i)&&(r=!0);o.z_=i}}r&&Y_(n)}function e9(t,e,n){const r=ot(t),i=r.queries.get(e);if(i)for(const s of i.j_)s.onError(n);r.queries.delete(e)}function Y_(t){t.Y_.forEach(e=>{e.next()})}var Yv,CT;(CT=Yv||(Yv={})).ea="default",CT.Cache="cache";class G_{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Wl(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;const r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=Wl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==Yv.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YP{constructor(e){this.key=e}}class GP{constructor(e){this.key=e}}class t9{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=ft(),this.mutatedKeys=ft(),this.Aa=vP(e),this.Ra=new Tl(this.Aa)}get Va(){return this.Ta}ma(e,n){const r=n?n.fa:new IT,i=n?n.Ra:this.Ra;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((c,h)=>{const f=i.get(c),p=jp(this.query,h)?h:null,g=!!f&&this.mutatedKeys.has(f.key),b=!!p&&(p.hasLocalMutations||this.mutatedKeys.has(p.key)&&p.hasCommittedMutations);let S=!1;f&&p?f.data.isEqual(p.data)?g!==b&&(r.track({type:3,doc:p}),S=!0):this.ga(f,p)||(r.track({type:2,doc:p}),S=!0,(l&&this.Aa(p,l)>0||u&&this.Aa(p,u)<0)&&(a=!0)):!f&&p?(r.track({type:0,doc:p}),S=!0):f&&!p&&(r.track({type:1,doc:f}),S=!0,(l||u)&&(a=!0)),S&&(p?(o=o.add(p),s=b?s.add(c):s.delete(c)):(o=o.delete(c),s=s.delete(c)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const c=this.query.limitType==="F"?o.last():o.first();o=o.delete(c.key),s=s.delete(c.key),r.track({type:1,doc:c})}return{Ra:o,fa:r,ns:a,mutatedKeys:s}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const o=e.fa.G_();o.sort((c,h)=>function(p,g){const b=S=>{switch(S){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return rt()}};return b(p)-b(g)}(c.type,h.type)||this.Aa(c.doc,h.doc)),this.pa(r),i=i!=null&&i;const a=n&&!i?this.ya():[],l=this.da.size===0&&this.current&&!i?1:0,u=l!==this.Ea;return this.Ea=l,o.length!==0||u?{snapshot:new Wl(this.query,e.Ra,s,o,e.mutatedKeys,l===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new IT,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=ft(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});const n=[];return e.forEach(r=>{this.da.has(r)||n.push(new GP(r))}),this.da.forEach(r=>{e.has(r)||n.push(new YP(r))}),n}ba(e){this.Ta=e.Ts,this.da=ft();const n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return Wl.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class n9{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class r9{constructor(e){this.key=e,this.va=!1}}class i9{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Ca={},this.Fa=new cu(a=>gP(a),Bp),this.Ma=new Map,this.xa=new Set,this.Oa=new On(Ye.comparator),this.Na=new Map,this.La=new V_,this.Ba={},this.ka=new Map,this.qa=Hl.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function s9(t,e,n=!0){const r=tk(t);let i;const s=r.Fa.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.Da()):i=await QP(r,e,n,!0),i}async function o9(t,e){const n=tk(t);await QP(n,e,!0,!1)}async function QP(t,e,n,r){const i=await O6(t.localStore,Ki(e)),s=i.targetId,o=t.sharedClientState.addLocalQueryTarget(s,n);let a;return r&&(a=await a9(t,e,s,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&jP(t.remoteStore,i),a}async function a9(t,e,n,r,i){t.Ka=(h,f,p)=>async function(b,S,R,P){let w=S.view.ma(R);w.ns&&(w=await bT(b.localStore,S.query,!1).then(({documents:I})=>S.view.ma(I,w)));const E=P&&P.targetChanges.get(S.targetId),N=P&&P.targetMismatches.get(S.targetId)!=null,M=S.view.applyChanges(w,b.isPrimaryClient,E,N);return OT(b,S.targetId,M.wa),M.snapshot}(t,h,f,p);const s=await bT(t.localStore,e,!0),o=new t9(e,s.Ts),a=o.ma(s.documents),l=kd.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=o.applyChanges(a,t.isPrimaryClient,l);OT(t,n,u.wa);const c=new n9(e,n,o);return t.Fa.set(e,c),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),u.snapshot}async function l9(t,e,n){const r=ot(t),i=r.Fa.get(e),s=r.Ma.get(i.targetId);if(s.length>1)return r.Ma.set(i.targetId,s.filter(o=>!Bp(o,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await Kv(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&U_(r.remoteStore,i.targetId),Gv(r,i.targetId)}).catch(Ad)):(Gv(r,i.targetId),await Kv(r.localStore,i.targetId,!0))}async function u9(t,e){const n=ot(t),r=n.Fa.get(e),i=n.Ma.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),U_(n.remoteStore,r.targetId))}async function c9(t,e,n){const r=v9(t);try{const i=await function(o,a){const l=ot(o),u=dn.now(),c=a.reduce((p,g)=>p.add(g.key),ft());let h,f;return l.persistence.runTransaction("Locally write mutations","readwrite",p=>{let g=Os(),b=ft();return l.cs.getEntries(p,c).next(S=>{g=S,g.forEach((R,P)=>{P.isValidDocument()||(b=b.add(R))})}).next(()=>l.localDocuments.getOverlayedDocuments(p,g)).next(S=>{h=S;const R=[];for(const P of a){const w=D4(P,h.get(P.key).overlayedDocument);w!=null&&R.push(new Po(P.key,w,uP(w.value.mapValue),ai.exists(!0)))}return l.mutationQueue.addMutationBatch(p,u,R,a)}).next(S=>{f=S;const R=S.applyToLocalDocumentSet(h,b);return l.documentOverlayCache.saveOverlays(p,S.batchId,R)})}).then(()=>({batchId:f.batchId,changes:_P(h)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,l){let u=o.Ba[o.currentUser.toKey()];u||(u=new On(Ot)),u=u.insert(a,l),o.Ba[o.currentUser.toKey()]=u}(r,i.batchId,n),await Dd(r,i.changes),await Yp(r.remoteStore)}catch(i){const s=q_(i,"Failed to persist write");n.reject(s)}}async function XP(t,e){const n=ot(t);try{const r=await S6(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.Na.get(s);o&&(jt(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.va=!0:i.modifiedDocuments.size>0?jt(o.va):i.removedDocuments.size>0&&(jt(o.va),o.va=!1))}),await Dd(n,r,e)}catch(r){await Ad(r)}}function AT(t,e,n){const r=ot(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Fa.forEach((s,o)=>{const a=o.view.Z_(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){const l=ot(o);l.onlineState=a;let u=!1;l.queries.forEach((c,h)=>{for(const f of h.j_)f.Z_(a)&&(u=!0)}),u&&Y_(l)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function d9(t,e,n){const r=ot(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Na.get(e),s=i&&i.key;if(s){let o=new On(Ye.comparator);o=o.insert(s,cr.newNoDocument(s,st.min()));const a=ft().add(s),l=new qp(st.min(),new Map,new On(Ot),o,a);await XP(r,l),r.Oa=r.Oa.remove(s),r.Na.delete(e),Q_(r)}else await Kv(r.localStore,e,!1).then(()=>Gv(r,e,n)).catch(Ad)}async function h9(t,e){const n=ot(t),r=e.batch.batchId;try{const i=await I6(n.localStore,e);ZP(n,r,null),JP(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Dd(n,i)}catch(i){await Ad(i)}}async function f9(t,e,n){const r=ot(t);try{const i=await function(o,a){const l=ot(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let c;return l.mutationQueue.lookupMutationBatch(u,a).next(h=>(jt(h!==null),c=h.keys(),l.mutationQueue.removeMutationBatch(u,h))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,c,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,c)).next(()=>l.localDocuments.getDocuments(u,c))})}(r.localStore,e);ZP(r,e,n),JP(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Dd(r,i)}catch(i){await Ad(i)}}function JP(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function ZP(t,e,n){const r=ot(t);let i=r.Ba[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function Gv(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||ek(t,r)})}function ek(t,e){t.xa.delete(e.path.canonicalString());const n=t.Oa.get(e);n!==null&&(U_(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),Q_(t))}function OT(t,e,n){for(const r of n)r instanceof YP?(t.La.addReference(r.key,e),p9(t,r)):r instanceof GP?(Ue("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||ek(t,r.key)):rt()}function p9(t,e){const n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(Ue("SyncEngine","New document in limbo: "+n),t.xa.add(r),Q_(t))}function Q_(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const n=new Ye(Xt.fromString(e)),r=t.qa.next();t.Na.set(r,new r9(n)),t.Oa=t.Oa.insert(n,r),jP(t.remoteStore,new ro(Ki(Up(n.path)),r,"TargetPurposeLimboResolution",C_.oe))}}async function Dd(t,e,n){const r=ot(t),i=[],s=[],o=[];r.Fa.isEmpty()||(r.Fa.forEach((a,l)=>{o.push(r.Ka(l,e,n).then(u=>{var c;if((u||n)&&r.isPrimaryClient){const h=u?!u.fromCache:(c=n==null?void 0:n.targetChanges.get(l.targetId))===null||c===void 0?void 0:c.current;r.sharedClientState.updateQueryState(l.targetId,h?"current":"not-current")}if(u){i.push(u);const h=$_.Wi(l.targetId,u);s.push(h)}}))}),await Promise.all(o),r.Ca.d_(i),await async function(l,u){const c=ot(l);try{await c.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>me.forEach(u,f=>me.forEach(f.$i,p=>c.persistence.referenceDelegate.addReference(h,f.targetId,p)).next(()=>me.forEach(f.Ui,p=>c.persistence.referenceDelegate.removeReference(h,f.targetId,p)))))}catch(h){if(!Od(h))throw h;Ue("LocalStore","Failed to update sequence numbers: "+h)}for(const h of u){const f=h.targetId;if(!h.fromCache){const p=c.os.get(f),g=p.snapshotVersion,b=p.withLastLimboFreeSnapshotVersion(g);c.os=c.os.insert(f,b)}}}(r.localStore,s))}async function m9(t,e){const n=ot(t);if(!n.currentUser.isEqual(e)){Ue("SyncEngine","User change. New user:",e.toKey());const r=await FP(n.localStore,e);n.currentUser=e,function(s,o){s.ka.forEach(a=>{a.forEach(l=>{l.reject(new Pe(ae.CANCELLED,o))})}),s.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Dd(n,r.hs)}}function g9(t,e){const n=ot(t),r=n.Na.get(e);if(r&&r.va)return ft().add(r.key);{let i=ft();const s=n.Ma.get(e);if(!s)return i;for(const o of s){const a=n.Fa.get(o);i=i.unionWith(a.view.Va)}return i}}function tk(t){const e=ot(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=XP.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=g9.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=d9.bind(null,e),e.Ca.d_=Z6.bind(null,e.eventManager),e.Ca.$a=e9.bind(null,e.eventManager),e}function v9(t){const e=ot(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=h9.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=f9.bind(null,e),e}class Ff{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=zp(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,n){return null}Ha(e,n){return null}za(e){return E6(this.persistence,new w6,e.initialUser,this.serializer)}Ga(e){return new y6(F_.Zr,this.serializer)}Wa(e){return new k6}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Ff.provider={build:()=>new Ff};class Qv{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>AT(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=m9.bind(null,this.syncEngine),await Q6(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new J6}()}createDatastore(e){const n=zp(e.databaseInfo.databaseId),r=function(s){return new N6(s)}(e.databaseInfo);return function(s,o,a,l){return new V6(s,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,a){return new $6(r,i,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>AT(this.syncEngine,n,0),function(){return TT.D()?new TT:new R6}())}createSyncEngine(e,n){return function(i,s,o,a,l,u,c){const h=new i9(i,s,o,a,l,u);return c&&(h.Qa=!0),h}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const s=ot(i);Ue("RemoteStore","RemoteStore shutting down."),s.L_.add(5),await Rd(s),s.k_.shutdown(),s.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Qv.provider={build:()=>new Qv};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X_{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):As("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y9{constructor(e,n,r,i,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=ar.UNAUTHENTICATED,this.clientId=oP.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,async o=>{Ue("FirestoreClient","Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(Ue("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ts;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=q_(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function mg(t,e){t.asyncQueue.verifyOperationInProgress(),Ue("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await FP(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function PT(t,e){t.asyncQueue.verifyOperationInProgress();const n=await _9(t);Ue("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>ET(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>ET(e.remoteStore,i)),t._onlineComponents=e}async function _9(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Ue("FirestoreClient","Using user provided OfflineComponentProvider");try{await mg(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===ae.FAILED_PRECONDITION||i.code===ae.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;Fl("Error using user provided cache. Falling back to memory cache: "+n),await mg(t,new Ff)}}else Ue("FirestoreClient","Using default OfflineComponentProvider"),await mg(t,new Ff);return t._offlineComponents}async function nk(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Ue("FirestoreClient","Using user provided OnlineComponentProvider"),await PT(t,t._uninitializedComponentsProvider._online)):(Ue("FirestoreClient","Using default OnlineComponentProvider"),await PT(t,new Qv))),t._onlineComponents}function b9(t){return nk(t).then(e=>e.syncEngine)}async function $f(t){const e=await nk(t),n=e.eventManager;return n.onListen=s9.bind(null,e.syncEngine),n.onUnlisten=l9.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=o9.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=u9.bind(null,e.syncEngine),n}function w9(t,e,n={}){const r=new Ts;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,u){const c=new X_({next:f=>{c.Za(),o.enqueueAndForget(()=>K_(s,h));const p=f.docs.has(a);!p&&f.fromCache?u.reject(new Pe(ae.UNAVAILABLE,"Failed to get document because the client is offline.")):p&&f.fromCache&&l&&l.source==="server"?u.reject(new Pe(ae.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(f)},error:f=>u.reject(f)}),h=new G_(Up(a.path),c,{includeMetadataChanges:!0,_a:!0});return z_(s,h)}(await $f(t),t.asyncQueue,e,n,r)),r.promise}function T9(t,e,n={}){const r=new Ts;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,u){const c=new X_({next:f=>{c.Za(),o.enqueueAndForget(()=>K_(s,h)),f.fromCache&&l.source==="server"?u.reject(new Pe(ae.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(f)},error:f=>u.reject(f)}),h=new G_(a,c,{includeMetadataChanges:!0,_a:!0});return z_(s,h)}(await $f(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rk(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kT=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ik(t,e,n){if(!n)throw new Pe(ae.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function E9(t,e,n,r){if(e===!0&&r===!0)throw new Pe(ae.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function RT(t){if(!Ye.isDocumentKey(t))throw new Pe(ae.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function DT(t){if(Ye.isDocumentKey(t))throw new Pe(ae.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Gp(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":rt()}function $r(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Pe(ae.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Gp(t);throw new Pe(ae.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function I9(t,e){if(e<=0)throw new Pe(ae.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xT{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new Pe(ae.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new Pe(ae.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}E9("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=rk((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new Pe(ae.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new Pe(ae.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new Pe(ae.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Qp{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new xT({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Pe(ae.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Pe(ae.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new xT(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new BU;switch(r.type){case"firstParty":return new qU(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Pe(ae.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=kT.get(n);r&&(Ue("ComponentProvider","Removing Datastore"),kT.delete(n),r.terminate())}(this),Promise.resolve()}}function S9(t,e,n,r={}){var i;const s=(t=$r(t,Qp))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&Fl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,l;if(typeof r.mockUserToken=="string")a=r.mockUserToken,l=ar.MOCK_USER;else{a=QA(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new Pe(ae.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new ar(u)}t._authCredentials=new jU(new sP(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ts{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new ts(this.firestore,e,this._query)}}class vr{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new uo(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new vr(this.firestore,e,this._key)}}class uo extends ts{constructor(e,n,r){super(e,n,Up(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new vr(this.firestore,null,new Ye(e))}withConverter(e){return new uo(this.firestore,e,this._path)}}function ti(t,e,...n){if(t=Pt(t),ik("collection","path",e),t instanceof Qp){const r=Xt.fromString(e,...n);return DT(r),new uo(t,null,r)}{if(!(t instanceof vr||t instanceof uo))throw new Pe(ae.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Xt.fromString(e,...n));return DT(r),new uo(t.firestore,null,r)}}function At(t,e,...n){if(t=Pt(t),arguments.length===1&&(e=oP.newId()),ik("doc","path",e),t instanceof Qp){const r=Xt.fromString(e,...n);return RT(r),new vr(t,null,new Ye(r))}{if(!(t instanceof vr||t instanceof uo))throw new Pe(ae.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Xt.fromString(e,...n));return RT(r),new vr(t.firestore,t instanceof uo?t.converter:null,new Ye(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NT{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new UP(this,"async_queue_retry"),this.Vu=()=>{const r=pg();r&&Ue("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;const n=pg();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const n=pg();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const n=new Ts;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!Od(e))throw e;Ue("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const n=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;const i=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw As("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.du=!1,r))));return this.mu=n,n}enqueueAfterDelay(e,n,r){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);const i=W_.createAndSchedule(this,e,n,r,s=>this.yu(s));return this.Tu.push(i),i}fu(){this.Eu&&rt()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const n=this.Tu.indexOf(e);this.Tu.splice(n,1)}}function MT(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const s of r)if(s in i&&typeof i[s]=="function")return!0;return!1}(t,["next","error","complete"])}class Ps extends Qp{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new NT,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new NT(e),this._firestoreClient=void 0,await e}}}function C9(t,e){const n=typeof t=="object"?t:lu(),r=typeof t=="string"?t:e||"(default)",i=es(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=KA("firestore");s&&S9(i,...s)}return i}function Xp(t){if(t._terminated)throw new Pe(ae.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||A9(t),t._firestoreClient}function A9(t){var e,n,r;const i=t._freezeSettings(),s=function(a,l,u,c){return new i4(a,l,u,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,rk(c.experimentalLongPollingOptions),c.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new y9(t._authCredentials,t._appCheckCredentials,t._queue,s,t._componentsProvider&&function(a){const l=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ql{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ql(nr.fromBase64String(e))}catch(n){throw new Pe(ae.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new ql(nr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jp{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Pe(ae.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Qn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J_{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z_{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Pe(ae.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Pe(ae.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ot(this._lat,e._lat)||Ot(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eb{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O9=/^__.*__$/;class P9{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Po(e,this.data,this.fieldMask,n,this.fieldTransforms):new Pd(e,this.data,n,this.fieldTransforms)}}class sk{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Po(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function ok(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw rt()}}class tb{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.vu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new tb(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.Ou(e),i}Nu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.vu(),i}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return Uf(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(ok(this.Cu)&&O9.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class k9{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||zp(e)}Qu(e,n,r,i=!1){return new tb({Cu:e,methodName:n,qu:r,path:Qn.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function xd(t){const e=t._freezeSettings(),n=zp(t._databaseId);return new k9(t._databaseId,!!e.ignoreUndefinedProperties,n)}function ak(t,e,n,r,i,s={}){const o=t.Qu(s.merge||s.mergeFields?2:0,e,n,i);nb("Data must be an object, but it was:",o,r);const a=uk(r,o);let l,u;if(s.merge)l=new qr(o.fieldMask),u=o.fieldTransforms;else if(s.mergeFields){const c=[];for(const h of s.mergeFields){const f=Xv(e,h,n);if(!o.contains(f))throw new Pe(ae.INVALID_ARGUMENT,`Field '${f}' is specified in your field mask but missing from your input data.`);dk(c,f)||c.push(f)}l=new qr(c),u=o.fieldTransforms.filter(h=>l.covers(h.field))}else l=null,u=o.fieldTransforms;return new P9(new Nr(a),l,u)}class Zp extends J_{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Zp}}function R9(t,e,n,r){const i=t.Qu(1,e,n);nb("Data must be an object, but it was:",i,r);const s=[],o=Nr.empty();Aa(r,(l,u)=>{const c=rb(e,l,n);u=Pt(u);const h=i.Nu(c);if(u instanceof Zp)s.push(c);else{const f=Nd(u,h);f!=null&&(s.push(c),o.set(c,f))}});const a=new qr(s);return new sk(o,a,i.fieldTransforms)}function D9(t,e,n,r,i,s){const o=t.Qu(1,e,n),a=[Xv(e,r,n)],l=[i];if(s.length%2!=0)throw new Pe(ae.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let f=0;f<s.length;f+=2)a.push(Xv(e,s[f])),l.push(s[f+1]);const u=[],c=Nr.empty();for(let f=a.length-1;f>=0;--f)if(!dk(u,a[f])){const p=a[f];let g=l[f];g=Pt(g);const b=o.Nu(p);if(g instanceof Zp)u.push(p);else{const S=Nd(g,b);S!=null&&(u.push(p),c.set(p,S))}}const h=new qr(u);return new sk(c,h,o.fieldTransforms)}function lk(t,e,n,r=!1){return Nd(n,t.Qu(r?4:3,e))}function Nd(t,e){if(ck(t=Pt(t)))return nb("Unsupported field value:",e,t),uk(t,e);if(t instanceof J_)return function(r,i){if(!ok(i.Cu))throw i.Bu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const a of r){let l=Nd(a,i.Lu(o));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=Pt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return C4(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=dn.fromDate(r);return{timestampValue:Lf(i.serializer,s)}}if(r instanceof dn){const s=new dn(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Lf(i.serializer,s)}}if(r instanceof Z_)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof ql)return{bytesValue:RP(i.serializer,r._byteString)};if(r instanceof vr){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Bu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:L_(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof eb)return function(o,a){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:o.toArray().map(l=>{if(typeof l!="number")throw a.Bu("VectorValues must only contain numeric values.");return D_(a.serializer,l)})}}}}}}(r,i);throw i.Bu(`Unsupported field value: ${Gp(r)}`)}(t,e)}function uk(t,e){const n={};return aP(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Aa(t,(r,i)=>{const s=Nd(i,e.Mu(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function ck(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof dn||t instanceof Z_||t instanceof ql||t instanceof vr||t instanceof J_||t instanceof eb)}function nb(t,e,n){if(!ck(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=Gp(n);throw r==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+r)}}function Xv(t,e,n){if((e=Pt(e))instanceof Jp)return e._internalPath;if(typeof e=="string")return rb(t,e);throw Uf("Field path arguments must be of type string or ",t,!1,void 0,n)}const x9=new RegExp("[~\\*/\\[\\]]");function rb(t,e,n){if(e.search(x9)>=0)throw Uf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Jp(...e.split("."))._internalPath}catch{throw Uf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Uf(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new Pe(ae.INVALID_ARGUMENT,a+t+l)}function dk(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ib{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new vr(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new N9(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(em("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class N9 extends ib{data(){return super.data()}}function em(t,e){return typeof e=="string"?rb(t,e):e instanceof Jp?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hk(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Pe(ae.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class sb{}class tm extends sb{}function M9(t,e,...n){let r=[];e instanceof sb&&r.push(e),r=r.concat(n),function(s){const o=s.filter(l=>l instanceof ob).length,a=s.filter(l=>l instanceof nm).length;if(o>1||o>0&&a>0)throw new Pe(ae.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class nm extends tm{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new nm(e,n,r)}_apply(e){const n=this._parse(e);return fk(e._query,n),new ts(e.firestore,e.converter,jv(e._query,n))}_parse(e){const n=xd(e.firestore);return function(s,o,a,l,u,c,h){let f;if(u.isKeyField()){if(c==="array-contains"||c==="array-contains-any")throw new Pe(ae.INVALID_ARGUMENT,`Invalid Query. You can't perform '${c}' queries on documentId().`);if(c==="in"||c==="not-in"){$T(h,c);const p=[];for(const g of h)p.push(FT(l,s,g));f={arrayValue:{values:p}}}else f=FT(l,s,h)}else c!=="in"&&c!=="not-in"&&c!=="array-contains-any"||$T(h,c),f=lk(a,o,h,c==="in"||c==="not-in");return An.create(u,c,f)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function LT(t,e,n){const r=e,i=em("where",t);return nm._create(i,r,n)}class ob extends sb{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new ob(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Ri.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,s){let o=i;const a=s.getFlattenedFilters();for(const l of a)fk(o,l),o=jv(o,l)}(e._query,n),new ts(e.firestore,e.converter,jv(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class ab extends tm{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new ab(e,n)}_apply(e){const n=function(i,s,o){if(i.startAt!==null)throw new Pe(ae.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new Pe(ae.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Yc(s,o)}(e._query,this._field,this._direction);return new ts(e.firestore,e.converter,function(i,s){const o=i.explicitOrderBy.concat([s]);return new Oa(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}}function VT(t,e="asc"){const n=e,r=em("orderBy",t);return ab._create(r,n)}class lb extends tm{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new lb(e,n,r)}_apply(e){return new ts(e.firestore,e.converter,xf(e._query,this._limit,this._limitType))}}function L9(t){return I9("limit",t),lb._create("limit",t,"F")}class ub extends tm{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new ub(e,n,r)}_apply(e){const n=F9(e,this.type,this._docOrFields,this._inclusive);return new ts(e.firestore,e.converter,function(i,s){return new Oa(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,s,i.endAt)}(e._query,n))}}function V9(...t){return ub._create("startAfter",t,!1)}function F9(t,e,n,r){if(n[0]=Pt(n[0]),n[0]instanceof ib)return function(s,o,a,l,u){if(!l)throw new Pe(ae.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${a}().`);const c=[];for(const h of wl(s))if(h.field.isKeyField())c.push(Df(o,l.key));else{const f=l.data.field(h.field);if($p(f))throw new Pe(ae.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+h.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(f===null){const p=h.field.canonicalString();throw new Pe(ae.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${p}' (used as the orderBy) does not exist.`)}c.push(f)}return new jl(c,u)}(t._query,t.firestore._databaseId,e,n[0]._document,r);{const i=xd(t.firestore);return function(o,a,l,u,c,h){const f=o.explicitOrderBy;if(c.length>f.length)throw new Pe(ae.INVALID_ARGUMENT,`Too many arguments provided to ${u}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const p=[];for(let g=0;g<c.length;g++){const b=c[g];if(f[g].field.isKeyField()){if(typeof b!="string")throw new Pe(ae.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${u}(), but got a ${typeof b}`);if(!R_(o)&&b.indexOf("/")!==-1)throw new Pe(ae.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${u}() must be a plain document ID, but '${b}' contains a slash.`);const S=o.path.child(Xt.fromString(b));if(!Ye.isDocumentKey(S))throw new Pe(ae.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${u}() must result in a valid document path, but '${S}' is not because it contains an odd number of segments.`);const R=new Ye(S);p.push(Df(a,R))}else{const S=lk(l,u,b);p.push(S)}}return new jl(p,h)}(t._query,t.firestore._databaseId,i,e,n,r)}}function FT(t,e,n){if(typeof(n=Pt(n))=="string"){if(n==="")throw new Pe(ae.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!R_(e)&&n.indexOf("/")!==-1)throw new Pe(ae.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Xt.fromString(n));if(!Ye.isDocumentKey(r))throw new Pe(ae.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Df(t,new Ye(r))}if(n instanceof vr)return Df(t,n._key);throw new Pe(ae.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Gp(n)}.`)}function $T(t,e){if(!Array.isArray(t)||t.length===0)throw new Pe(ae.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function fk(t,e){const n=function(i,s){for(const o of i)for(const a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new Pe(ae.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Pe(ae.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class $9{convertValue(e,n="none"){switch(fa(e)){case 0:return null;case 1:return e.booleanValue;case 2:return wn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ha(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw rt()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Aa(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertVectorValue(e){var n,r,i;const s=(i=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(o=>wn(o.doubleValue));return new eb(s)}convertGeoPoint(e){return new Z_(wn(e.latitude),wn(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=A_(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(qc(e));default:return null}}convertTimestamp(e){const n=bo(e);return new dn(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Xt.fromString(e);jt(VP(r));const i=new zc(r.get(1),r.get(3)),s=new Ye(r.popFirst(5));return i.isEqual(n)||As(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pk(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ju{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class mk extends ib{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Xh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(em("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Xh extends mk{data(e={}){return super.data(e)}}class gk{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Ju(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Xh(this._firestore,this._userDataWriter,r.key,r,new Ju(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Pe(ae.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{const l=new Xh(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Ju(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{const l=new Xh(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Ju(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,c=-1;return a.type!==0&&(u=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),c=o.indexOf(a.doc.key)),{type:U9(a.type),doc:l,oldIndex:u,newIndex:c}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function U9(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return rt()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B9(t){t=$r(t,vr);const e=$r(t.firestore,Ps);return w9(Xp(e),t._key).then(n=>vk(e,t,n))}class cb extends $9{constructor(e){super(),this.firestore=e}convertBytes(e){return new ql(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new vr(this.firestore,null,n)}}function j9(t){t=$r(t,ts);const e=$r(t.firestore,Ps),n=Xp(e),r=new cb(e);return hk(t._query),T9(n,t._query).then(i=>new gk(e,r,t,i))}function H9(t,e,n){t=$r(t,vr);const r=$r(t.firestore,Ps),i=pk(t.converter,e,n);return rm(r,[ak(xd(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,ai.none())])}function W9(t,e,n,...r){t=$r(t,vr);const i=$r(t.firestore,Ps),s=xd(i);let o;return o=typeof(e=Pt(e))=="string"||e instanceof Jp?D9(s,"updateDoc",t._key,e,n,r):R9(s,"updateDoc",t._key,e),rm(i,[o.toMutation(t._key,ai.exists(!0))])}function q9(t){return rm($r(t.firestore,Ps),[new x_(t._key,ai.none())])}function z9(t,e){const n=$r(t.firestore,Ps),r=At(t),i=pk(t.converter,e);return rm(n,[ak(xd(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,ai.exists(!1))]).then(()=>r)}function cre(t,...e){var n,r,i;t=Pt(t);let s={includeMetadataChanges:!1,source:"default"},o=0;typeof e[o]!="object"||MT(e[o])||(s=e[o],o++);const a={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if(MT(e[o])){const h=e[o];e[o]=(n=h.next)===null||n===void 0?void 0:n.bind(h),e[o+1]=(r=h.error)===null||r===void 0?void 0:r.bind(h),e[o+2]=(i=h.complete)===null||i===void 0?void 0:i.bind(h)}let l,u,c;if(t instanceof vr)u=$r(t.firestore,Ps),c=Up(t._key.path),l={next:h=>{e[o]&&e[o](vk(u,t,h))},error:e[o+1],complete:e[o+2]};else{const h=$r(t,ts);u=$r(h.firestore,Ps),c=h._query;const f=new cb(u);l={next:p=>{e[o]&&e[o](new gk(u,f,h,p))},error:e[o+1],complete:e[o+2]},hk(t._query)}return function(f,p,g,b){const S=new X_(b),R=new G_(p,S,g);return f.asyncQueue.enqueueAndForget(async()=>z_(await $f(f),R)),()=>{S.Za(),f.asyncQueue.enqueueAndForget(async()=>K_(await $f(f),R))}}(Xp(u),c,a,l)}function rm(t,e){return function(r,i){const s=new Ts;return r.asyncQueue.enqueueAndForget(async()=>c9(await b9(r),i,s)),s.promise}(Xp(t),e)}function vk(t,e,n){const r=n.docs.get(e._key),i=new cb(t);return new mk(t,i,e._key,r,new Ju(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){uu=i})(Oo),Ur(new Pr("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new Ps(new HU(r.getProvider("auth-internal")),new KU(r.getProvider("app-check-internal")),function(u,c){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new Pe(ae.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new zc(u.options.projectId,c)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),er(Z1,"4.7.3",e),er(Z1,"4.7.3","esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yk="firebasestorage.googleapis.com",_k="storageBucket",K9=2*60*1e3,Y9=10*60*1e3,G9=1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mn extends Jr{constructor(e,n,r=0){super(gg(e),`Firebase Storage: ${n} (${gg(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,mn.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return gg(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var un;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(un||(un={}));function gg(t){return"storage/"+t}function db(){const t="An unknown error occurred, please check the error payload for server response.";return new mn(un.UNKNOWN,t)}function Q9(t){return new mn(un.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function X9(t){return new mn(un.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function J9(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new mn(un.UNAUTHENTICATED,t)}function Z9(){return new mn(un.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function eB(t){return new mn(un.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function bk(){return new mn(un.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function wk(){return new mn(un.CANCELED,"User canceled the upload/download.")}function tB(t){return new mn(un.INVALID_URL,"Invalid URL '"+t+"'.")}function nB(t){return new mn(un.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function rB(){return new mn(un.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+_k+"' property when initializing the app?")}function Tk(){return new mn(un.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function iB(){return new mn(un.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}function sB(){return new mn(un.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function oB(t){return new mn(un.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Jv(t){return new mn(un.INVALID_ARGUMENT,t)}function Ek(){return new mn(un.APP_DELETED,"The Firebase app was deleted.")}function aB(t){return new mn(un.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function gc(t,e){return new mn(un.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function Nu(t){throw new mn(un.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zr{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=zr.makeFromUrl(e,n)}catch{return new zr(e,"")}if(r.path==="")return r;throw nB(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function s(E){E.path.charAt(E.path.length-1)==="/"&&(E.path_=E.path_.slice(0,-1))}const o="(/(.*))?$",a=new RegExp("^gs://"+i+o,"i"),l={bucket:1,path:3};function u(E){E.path_=decodeURIComponent(E.path)}const c="v[A-Za-z0-9_]+",h=n.replace(/[.]/g,"\\."),f="(/([^?#]*).*)?$",p=new RegExp(`^https?://${h}/${c}/b/${i}/o${f}`,"i"),g={bucket:1,path:3},b=n===yk?"(?:storage.googleapis.com|storage.cloud.google.com)":n,S="([^?#]*)",R=new RegExp(`^https?://${b}/${i}/${S}`,"i"),w=[{regex:a,indices:l,postModify:s},{regex:p,indices:g,postModify:u},{regex:R,indices:{bucket:1,path:2},postModify:u}];for(let E=0;E<w.length;E++){const N=w[E],M=N.regex.exec(e);if(M){const I=M[N.indices.bucket];let T=M[N.indices.path];T||(T=""),r=new zr(I,T),N.postModify(r);break}}if(r==null)throw tB(e);return r}}class lB{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uB(t,e,n){let r=1,i=null,s=null,o=!1,a=0;function l(){return a===2}let u=!1;function c(...S){u||(u=!0,e.apply(null,S))}function h(S){i=setTimeout(()=>{i=null,t(p,l())},S)}function f(){s&&clearTimeout(s)}function p(S,...R){if(u){f();return}if(S){f(),c.call(null,S,...R);return}if(l()||o){f(),c.call(null,S,...R);return}r<64&&(r*=2);let w;a===1?(a=2,w=0):w=(r+Math.random())*1e3,h(w)}let g=!1;function b(S){g||(g=!0,f(),!u&&(i!==null?(S||(a=2),clearTimeout(i),h(0)):S||(a=1)))}return h(0),s=setTimeout(()=>{o=!0,b(!0)},n),b}function cB(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dB(t){return t!==void 0}function hB(t){return typeof t=="function"}function fB(t){return typeof t=="object"&&!Array.isArray(t)}function im(t){return typeof t=="string"||t instanceof String}function UT(t){return hb()&&t instanceof Blob}function hb(){return typeof Blob<"u"}function BT(t,e,n,r){if(r<e)throw Jv(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw Jv(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hu(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function Ik(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}var ea;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(ea||(ea={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sk(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,s=e.indexOf(t)!==-1;return n||i||s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pB{constructor(e,n,r,i,s,o,a,l,u,c,h,f=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=l,this.timeout_=u,this.progressCallback_=c,this.connectionFactory_=h,this.retry=f,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((p,g)=>{this.resolve_=p,this.reject_=g,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new Ch(!1,null,!0));return}const s=this.connectionFactory_();this.pendingConnection_=s;const o=a=>{const l=a.loaded,u=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,u)};this.progressCallback_!==null&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(o),this.pendingConnection_=null;const a=s.getErrorCode()===ea.NO_ERROR,l=s.getStatus();if(!a||Sk(l,this.additionalRetryCodes_)&&this.retry){const c=s.getErrorCode()===ea.ABORT;r(!1,new Ch(!1,null,c));return}const u=this.successCodes_.indexOf(l)!==-1;r(!0,new Ch(u,s))})},n=(r,i)=>{const s=this.resolve_,o=this.reject_,a=i.connection;if(i.wasSuccessCode)try{const l=this.callback_(a,a.getResponse());dB(l)?s(l):s()}catch(l){o(l)}else if(a!==null){const l=db();l.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,l)):o(l)}else if(i.canceled){const l=this.appDelete_?Ek():wk();o(l)}else{const l=bk();o(l)}};this.canceled_?n(!1,new Ch(!1,null,!0)):this.backoffId_=uB(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&cB(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Ch{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function mB(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function gB(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function vB(t,e){e&&(t["X-Firebase-GMPID"]=e)}function yB(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function _B(t,e,n,r,i,s,o=!0){const a=Ik(t.urlParams),l=t.url+a,u=Object.assign({},t.headers);return vB(u,e),mB(u,n),gB(u,s),yB(u,r),new pB(l,t.method,u,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bB(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function wB(...t){const e=bB();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(hb())return new Blob(t);throw new mn(un.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function TB(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EB(t){if(typeof atob>"u")throw oB("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hi={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class vg{constructor(e,n){this.data=e,this.contentType=n||null}}function IB(t,e){switch(t){case Hi.RAW:return new vg(Ck(e));case Hi.BASE64:case Hi.BASE64URL:return new vg(Ak(t,e));case Hi.DATA_URL:return new vg(CB(e),AB(e))}throw db()}function Ck(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const s=r,o=t.charCodeAt(++n);r=65536|(s&1023)<<10|o&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function SB(t){let e;try{e=decodeURIComponent(t)}catch{throw gc(Hi.DATA_URL,"Malformed data URL.")}return Ck(e)}function Ak(t,e){switch(t){case Hi.BASE64:{const i=e.indexOf("-")!==-1,s=e.indexOf("_")!==-1;if(i||s)throw gc(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case Hi.BASE64URL:{const i=e.indexOf("+")!==-1,s=e.indexOf("/")!==-1;if(i||s)throw gc(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=EB(e)}catch(i){throw i.message.includes("polyfill")?i:gc(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class Ok{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw gc(Hi.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=OB(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function CB(t){const e=new Ok(t);return e.base64?Ak(Hi.BASE64,e.rest):SB(e.rest)}function AB(t){return new Ok(t).contentType}function OB(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Js{constructor(e,n){let r=0,i="";UT(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,n){if(UT(this.data_)){const r=this.data_,i=TB(r,e,n);return i===null?null:new Js(i)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new Js(r,!0)}}static getBlob(...e){if(hb()){const n=e.map(r=>r instanceof Js?r.data_:r);return new Js(wB.apply(null,n))}else{const n=e.map(o=>im(o)?IB(Hi.RAW,o).data:o.data_);let r=0;n.forEach(o=>{r+=o.byteLength});const i=new Uint8Array(r);let s=0;return n.forEach(o=>{for(let a=0;a<o.length;a++)i[s++]=o[a]}),new Js(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pk(t){let e;try{e=JSON.parse(t)}catch{return null}return fB(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PB(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function kB(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function kk(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RB(t,e){return e}class wr{constructor(e,n,r,i){this.server=e,this.local=n||e,this.writable=!!r,this.xform=i||RB}}let Ah=null;function DB(t){return!im(t)||t.length<2?t:kk(t)}function Rk(){if(Ah)return Ah;const t=[];t.push(new wr("bucket")),t.push(new wr("generation")),t.push(new wr("metageneration")),t.push(new wr("name","fullPath",!0));function e(s,o){return DB(o)}const n=new wr("name");n.xform=e,t.push(n);function r(s,o){return o!==void 0?Number(o):o}const i=new wr("size");return i.xform=r,t.push(i),t.push(new wr("timeCreated")),t.push(new wr("updated")),t.push(new wr("md5Hash",null,!0)),t.push(new wr("cacheControl",null,!0)),t.push(new wr("contentDisposition",null,!0)),t.push(new wr("contentEncoding",null,!0)),t.push(new wr("contentLanguage",null,!0)),t.push(new wr("contentType",null,!0)),t.push(new wr("metadata","customMetadata",!0)),Ah=t,Ah}function xB(t,e){function n(){const r=t.bucket,i=t.fullPath,s=new zr(r,i);return e._makeStorageReference(s)}Object.defineProperty(t,"ref",{get:n})}function NB(t,e,n){const r={};r.type="file";const i=n.length;for(let s=0;s<i;s++){const o=n[s];r[o.local]=o.xform(r,e[o.server])}return xB(r,t),r}function Dk(t,e,n){const r=Pk(e);return r===null?null:NB(t,r,n)}function MB(t,e,n,r){const i=Pk(e);if(i===null||!im(i.downloadTokens))return null;const s=i.downloadTokens;if(s.length===0)return null;const o=encodeURIComponent;return s.split(",").map(u=>{const c=t.bucket,h=t.fullPath,f="/b/"+o(c)+"/o/"+o(h),p=hu(f,n,r),g=Ik({alt:"media",token:u});return p+g})[0]}function xk(t,e){const n={},r=e.length;for(let i=0;i<r;i++){const s=e[i];s.writable&&(n[s.server]=t[s.local])}return JSON.stringify(n)}class ka{constructor(e,n,r,i){this.url=e,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Es(t){if(!t)throw db()}function fb(t,e){function n(r,i){const s=Dk(t,i,e);return Es(s!==null),s}return n}function LB(t,e){function n(r,i){const s=Dk(t,i,e);return Es(s!==null),MB(s,i,t.host,t._protocol)}return n}function Md(t){function e(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=Z9():i=J9():n.getStatus()===402?i=X9(t.bucket):n.getStatus()===403?i=eB(t.path):i=r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}return e}function pb(t){const e=Md(t);function n(r,i){let s=e(r,i);return r.getStatus()===404&&(s=Q9(t.path)),s.serverResponse=i.serverResponse,s}return n}function VB(t,e,n){const r=e.fullServerUrl(),i=hu(r,t.host,t._protocol),s="GET",o=t.maxOperationRetryTime,a=new ka(i,s,fb(t,n),o);return a.errorHandler=pb(e),a}function FB(t,e,n){const r=e.fullServerUrl(),i=hu(r,t.host,t._protocol),s="GET",o=t.maxOperationRetryTime,a=new ka(i,s,LB(t,n),o);return a.errorHandler=pb(e),a}function $B(t,e){const n=e.fullServerUrl(),r=hu(n,t.host,t._protocol),i="DELETE",s=t.maxOperationRetryTime;function o(l,u){}const a=new ka(r,i,o,s);return a.successCodes=[200,204],a.errorHandler=pb(e),a}function UB(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function Nk(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=UB(null,e)),r}function BB(t,e,n,r,i){const s=e.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};function a(){let w="";for(let E=0;E<2;E++)w=w+Math.random().toString().slice(2);return w}const l=a();o["Content-Type"]="multipart/related; boundary="+l;const u=Nk(e,r,i),c=xk(u,n),h="--"+l+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+c+`\r
--`+l+`\r
Content-Type: `+u.contentType+`\r
\r
`,f=`\r
--`+l+"--",p=Js.getBlob(h,r,f);if(p===null)throw Tk();const g={name:u.fullPath},b=hu(s,t.host,t._protocol),S="POST",R=t.maxUploadRetryTime,P=new ka(b,S,fb(t,n),R);return P.urlParams=g,P.headers=o,P.body=p.uploadData(),P.errorHandler=Md(e),P}class Bf{constructor(e,n,r,i){this.current=e,this.total=n,this.finalized=!!r,this.metadata=i||null}}function mb(t,e){let n=null;try{n=t.getResponseHeader("X-Goog-Upload-Status")}catch{Es(!1)}return Es(!!n&&(e||["active"]).indexOf(n)!==-1),n}function jB(t,e,n,r,i){const s=e.bucketOnlyServerUrl(),o=Nk(e,r,i),a={name:o.fullPath},l=hu(s,t.host,t._protocol),u="POST",c={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${r.size()}`,"X-Goog-Upload-Header-Content-Type":o.contentType,"Content-Type":"application/json; charset=utf-8"},h=xk(o,n),f=t.maxUploadRetryTime;function p(b){mb(b);let S;try{S=b.getResponseHeader("X-Goog-Upload-URL")}catch{Es(!1)}return Es(im(S)),S}const g=new ka(l,u,p,f);return g.urlParams=a,g.headers=c,g.body=h,g.errorHandler=Md(e),g}function HB(t,e,n,r){const i={"X-Goog-Upload-Command":"query"};function s(u){const c=mb(u,["active","final"]);let h=null;try{h=u.getResponseHeader("X-Goog-Upload-Size-Received")}catch{Es(!1)}h||Es(!1);const f=Number(h);return Es(!isNaN(f)),new Bf(f,r.size(),c==="final")}const o="POST",a=t.maxUploadRetryTime,l=new ka(n,o,s,a);return l.headers=i,l.errorHandler=Md(e),l}const jT=256*1024;function WB(t,e,n,r,i,s,o,a){const l=new Bf(0,0);if(o?(l.current=o.current,l.total=o.total):(l.current=0,l.total=r.size()),r.size()!==l.total)throw iB();const u=l.total-l.current;let c=u;i>0&&(c=Math.min(c,i));const h=l.current,f=h+c;let p="";c===0?p="finalize":u===c?p="upload, finalize":p="upload";const g={"X-Goog-Upload-Command":p,"X-Goog-Upload-Offset":`${l.current}`},b=r.slice(h,f);if(b===null)throw Tk();function S(E,N){const M=mb(E,["active","final"]),I=l.current+c,T=r.size();let _;return M==="final"?_=fb(e,s)(E,N):_=null,new Bf(I,T,M==="final",_)}const R="POST",P=e.maxUploadRetryTime,w=new ka(n,R,S,P);return w.headers=g,w.body=b.uploadData(),w.progressCallback=a||null,w.errorHandler=Md(t),w}const Rr={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function yg(t){switch(t){case"running":case"pausing":case"canceling":return Rr.RUNNING;case"paused":return Rr.PAUSED;case"success":return Rr.SUCCESS;case"canceled":return Rr.CANCELED;case"error":return Rr.ERROR;default:return Rr.ERROR}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qB{constructor(e,n,r){if(hB(e)||n!=null||r!=null)this.next=e,this.error=n??void 0,this.complete=r??void 0;else{const s=e;this.next=s.next,this.error=s.error,this.complete=s.complete}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wa(t){return(...e)=>{Promise.resolve().then(()=>t(...e))}}class zB{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=ea.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=ea.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=ea.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,i){if(this.sent_)throw Nu("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),i!==void 0)for(const s in i)i.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,i[s].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Nu("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Nu("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Nu("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Nu("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class KB extends zB{initXhr(){this.xhr_.responseType="text"}}function Wo(){return new KB}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YB{constructor(e,n,r=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=n,this._metadata=r,this._mappings=Rk(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=i=>{if(this._request=void 0,this._chunkMultiplier=1,i._codeEquals(un.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const s=this.isExponentialBackoffExpired();if(Sk(i.status,[]))if(s)i=bk();else{this.sleepTime=Math.max(this.sleepTime*2,G9),this._needToFetchStatus=!0,this.completeTransitions_();return}this._error=i,this._transition("error")}},this._metadataErrorHandler=i=>{this._request=void 0,i._codeEquals(un.CANCELED)?this.completeTransitions_():(this._error=i,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((i,s)=>{this._resolve=i,this._reject=s,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const e=this._transferred;return n=>this._updateProgress(e+n)}_shouldDoResumable(e){return e.size()>256*1024}_start(){this._state==="running"&&this._request===void 0&&(this._resumable?this._uploadUrl===void 0?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([n,r])=>{switch(this._state){case"running":e(n,r);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused");break}})}_createResumable(){this._resolveToken((e,n)=>{const r=jB(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(r,Wo,e,n);this._request=i,i.getPromise().then(s=>{this._request=void 0,this._uploadUrl=s,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const e=this._uploadUrl;this._resolveToken((n,r)=>{const i=HB(this._ref.storage,this._ref._location,e,this._blob),s=this._ref.storage._makeRequest(i,Wo,n,r);this._request=s,s.getPromise().then(o=>{o=o,this._request=void 0,this._updateProgress(o.current),this._needToFetchStatus=!1,o.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const e=jT*this._chunkMultiplier,n=new Bf(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((i,s)=>{let o;try{o=WB(this._ref._location,this._ref.storage,r,this._blob,e,this._mappings,n,this._makeProgressCallback())}catch(l){this._error=l,this._transition("error");return}const a=this._ref.storage._makeRequest(o,Wo,i,s,!1);this._request=a,a.getPromise().then(l=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(l.current),l.finalized?(this._metadata=l.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){jT*this._chunkMultiplier*2<32*1024*1024&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,n)=>{const r=VB(this._ref.storage,this._ref._location,this._mappings),i=this._ref.storage._makeRequest(r,Wo,e,n);this._request=i,i.getPromise().then(s=>{this._request=void 0,this._metadata=s,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,n)=>{const r=BB(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(r,Wo,e,n);this._request=i,i.getPromise().then(s=>{this._request=void 0,this._metadata=s,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){const n=this._transferred;this._transferred=e,this._transferred!==n&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,this._request!==void 0?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const n=this._state==="paused";this._state=e,n&&(this._notifyObservers(),this._start());break;case"paused":this._state=e,this._notifyObservers();break;case"canceled":this._error=wk(),this._state=e,this._notifyObservers();break;case"error":this._state=e,this._notifyObservers();break;case"success":this._state=e,this._notifyObservers();break}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start();break}}get snapshot(){const e=yg(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,n,r,i){const s=new qB(n||void 0,r||void 0,i||void 0);return this._addObserver(s),()=>{this._removeObserver(s)}}then(e,n){return this._promise.then(e,n)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const n=this._observers.indexOf(e);n!==-1&&this._observers.splice(n,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(n=>{this._notifyObserver(n)})}_finishPromise(){if(this._resolve!==void 0){let e=!0;switch(yg(this._state)){case Rr.SUCCESS:Wa(this._resolve.bind(null,this.snapshot))();break;case Rr.CANCELED:case Rr.ERROR:const n=this._reject;Wa(n.bind(null,this._error))();break;default:e=!1;break}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(yg(this._state)){case Rr.RUNNING:case Rr.PAUSED:e.next&&Wa(e.next.bind(e,this.snapshot))();break;case Rr.SUCCESS:e.complete&&Wa(e.complete.bind(e))();break;case Rr.CANCELED:case Rr.ERROR:e.error&&Wa(e.error.bind(e,this._error))();break;default:e.error&&Wa(e.error.bind(e,this._error))()}}resume(){const e=this._state==="paused"||this._state==="pausing";return e&&this._transition("running"),e}pause(){const e=this._state==="running";return e&&this._transition("pausing"),e}cancel(){const e=this._state==="running"||this._state==="pausing";return e&&this._transition("canceling"),e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pa{constructor(e,n){this._service=e,n instanceof zr?this._location=n:this._location=zr.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new pa(e,n)}get root(){const e=new zr(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return kk(this._location.path)}get storage(){return this._service}get parent(){const e=PB(this._location.path);if(e===null)return null;const n=new zr(this._location.bucket,e);return new pa(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw aB(e)}}function GB(t,e,n){return t._throwIfRoot("uploadBytesResumable"),new YB(t,new Js(e),n)}function QB(t){t._throwIfRoot("getDownloadURL");const e=FB(t.storage,t._location,Rk());return t.storage.makeRequestWithTokens(e,Wo).then(n=>{if(n===null)throw sB();return n})}function XB(t){t._throwIfRoot("deleteObject");const e=$B(t.storage,t._location);return t.storage.makeRequestWithTokens(e,Wo)}function JB(t,e){const n=kB(t._location.path,e),r=new zr(t._location.bucket,n);return new pa(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZB(t){return/^[A-Za-z]+:\/\//.test(t)}function e5(t,e){return new pa(t,e)}function Mk(t,e){if(t instanceof gb){const n=t;if(n._bucket==null)throw rB();const r=new pa(n,n._bucket);return e!=null?Mk(r,e):r}else return e!==void 0?JB(t,e):t}function t5(t,e){if(e&&ZB(e)){if(t instanceof gb)return e5(t,e);throw Jv("To use ref(service, url), the first argument must be a Storage instance.")}else return Mk(t,e)}function HT(t,e){const n=e==null?void 0:e[_k];return n==null?null:zr.makeFromBucketSpec(n,t)}function n5(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:i}=r;i&&(t._overrideAuthToken=typeof i=="string"?i:QA(i,t.app.options.projectId))}class gb{constructor(e,n,r,i,s){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._bucket=null,this._host=yk,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=K9,this._maxUploadRetryTime=Y9,this._requests=new Set,i!=null?this._bucket=zr.makeFromBucketSpec(i,this._host):this._bucket=HT(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=zr.makeFromBucketSpec(this._url,e):this._bucket=HT(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){BT("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){BT("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new pa(this,e)}_makeRequest(e,n,r,i,s=!0){if(this._deleted)return new lB(Ek());{const o=_B(e,this._appId,r,i,n,this._firebaseVersion,s);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const WT="@firebase/storage",qT="0.13.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lk="storage";function r5(t,e,n){return t=Pt(t),GB(t,e,n)}function dre(t){return t=Pt(t),QB(t)}function i5(t){return t=Pt(t),XB(t)}function s5(t,e){return t=Pt(t),t5(t,e)}function o5(t=lu(),e){t=Pt(t);const r=es(t,Lk).getImmediate({identifier:e}),i=KA("storage");return i&&a5(r,...i),r}function a5(t,e,n,r={}){n5(t,e,n,r)}function l5(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new gb(n,r,i,e,Oo)}function u5(){Ur(new Pr(Lk,l5,"PUBLIC").setMultipleInstances(!0)),er(WT,qT,""),er(WT,qT,"esm2017")}u5();let Oh;const c5=new Uint8Array(16);function d5(){if(!Oh&&(Oh=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!Oh))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Oh(c5)}const Kn=[];for(let t=0;t<256;++t)Kn.push((t+256).toString(16).slice(1));function h5(t,e=0){return Kn[t[e+0]]+Kn[t[e+1]]+Kn[t[e+2]]+Kn[t[e+3]]+"-"+Kn[t[e+4]]+Kn[t[e+5]]+"-"+Kn[t[e+6]]+Kn[t[e+7]]+"-"+Kn[t[e+8]]+Kn[t[e+9]]+"-"+Kn[t[e+10]]+Kn[t[e+11]]+Kn[t[e+12]]+Kn[t[e+13]]+Kn[t[e+14]]+Kn[t[e+15]]}const f5=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),zT={randomUUID:f5};function p5(t,e,n){if(zT.randomUUID&&!e&&!t)return zT.randomUUID();t=t||{};const r=t.random||(t.rng||d5)();if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,e){n=n||0;for(let i=0;i<16;++i)e[n+i]=r[i];return e}return h5(r)}const m5=1e3,g5=m5*60,v5=g5*60,Vk=v5*24,KT=Vk*365,Fk=async t=>{const e=await B9(t),n=e.data();return n?{id:e.id,...n}:null},Fo=async(t,e)=>{const n=await j9(e?M9(t,...e):t);return Promise.all(n.docs.map(r=>Fk(r.ref)))},ni=Fk,y5=z9,jf=H9,hs=W9,Zu=q9,YT=t=>s5(o5(),t),GT=t=>t.sort((e,n)=>{const r=(n.order||0)-(e.order||0);return r!==0?r:e.date&&n.date?n.date.getTime()-e.date.getTime():0}),hre=(t,e,n,r)=>{setTimeout(()=>{t.forEach((i,s)=>{setTimeout(()=>{r(i)},s*n)})},e)},vc=(t,e)=>{if(!t||!e)return!1;for(const n in t){const r=t[n],i=e[n];if(r===void 0||i===void 0)return!1;if(r===null&&i===null)continue;if(Array.isArray(r)&&Array.isArray(i)){if(r.length!==i.length)return!1;const s=r.slice(),o=i.slice();if(s.some((a,l)=>!vc(a,o[l])||o.some((u,c)=>!vc(u,s[c]))))return!1}else if(r instanceof Date&&i instanceof Date){if(r.getTime()!==i.getTime())return!1}else if(typeof r=="object"){if(!vc(r,i))return!1}else if(r!==i)return!1}return!0},fre=t=>{try{const e=Math.round((Date.now()-t.getTime())/1e3);if(e<30)return"Just now";if(e<60)return`${e} second${e!==1?"s":""} ago`;if(e<60*60){const n=Math.floor(e/60);return`${n} minute${n!==1?"s":""} ago`}else if(e<60*60*24){const n=Math.floor(e/3600);return`${n} hour${n!==1?"s":""} ago`}else{if(e<60*60*24*2)return"Yesterday";{const r=new Date().getTime()-t.getTime(),i=r/KT,o=r%KT/Vk,a=i<=1?{month:"long",day:"numeric"}:{year:"numeric",month:"long",day:"numeric"},l=t.toLocaleDateString(void 0,a);if(o<=7){const u={weekday:"long"};return t.toLocaleDateString(void 0,u)}else return l}}}catch{return"Unknown"}},pre=(t,e)=>{if(t){var n=t.getBoundingClientRect().top,r=n+window.scrollY-15;setTimeout(()=>{window.scrollTo({top:r,behavior:"smooth"})},e??1e3)}},mre=t=>{var n;const e=(n=t.originalEvent.currentTarget)==null?void 0:n.closest(".p-accordion");if(e){const r=e.children[t.index];r&&setTimeout(()=>{r.scrollIntoView({behavior:"smooth",block:"start"})},250)}},gre=()=>{var r;const t=document.createElement("div");t.style.visibility="hidden",t.style.overflow="scroll",document.body.appendChild(t);const e=document.createElement("div");t.appendChild(e);const n=t.offsetWidth-e.offsetWidth;return(r=t.parentNode)==null||r.removeChild(t),n},$o=t=>{var n;const e=!!((n=t==null?void 0:t.allowedUserIds)!=null&&n.length);return{isPrivate:e,visibility:e?"private":"public"}},vre=t=>Array.isArray(t)?t:[t],yre=()=>{const t=document.activeElement;t instanceof HTMLElement&&t.blur()},_re=t=>t.join(", ").replace(/,([^,]*)$/," and$1"),bre=t=>{const e="&row&",n=";col;";return t.split(e).map(s=>s.split(n))},wre=t=>{const e="&row&",n=";col;";return t.map(s=>s.join(n)).join(e)},_5=()=>p5(),Tre=t=>Math.floor(Math.random()*t)+1;function vb(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function $k(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const b5=$k,Uk=new Ao("auth","Firebase",$k());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hf=new au("@firebase/auth");function w5(t,...e){Hf.logLevel<=ht.WARN&&Hf.warn(`Auth (${Oo}): ${t}`,...e)}function Jh(t,...e){Hf.logLevel<=ht.ERROR&&Hf.error(`Auth (${Oo}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Di(t,...e){throw yb(t,...e)}function Gi(t,...e){return yb(t,...e)}function Bk(t,e,n){const r=Object.assign(Object.assign({},b5()),{[e]:n});return new Ao("auth","Firebase",r).create(e,{appName:t.name})}function Qi(t){return Bk(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function yb(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return Uk.create(t,...e)}function Xe(t,e,...n){if(!t)throw yb(e,...n)}function vs(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Jh(e),new Error(e)}function ks(t,e){t||vs(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zv(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function T5(){return QT()==="http:"||QT()==="https:"}function QT(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E5(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(T5()||XA()||"connection"in navigator)?navigator.onLine:!0}function I5(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ld{constructor(e,n){this.shortDelay=e,this.longDelay=n,ks(n>e,"Short delay should be less than long delay!"),this.isMobile=f_()||JA()}get(){return E5()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _b(t,e){ks(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jk{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;vs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;vs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;vs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S5={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C5=new Ld(3e4,6e4);function Ns(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function ns(t,e,n,r,i={}){return Hk(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const a=ou(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const u=Object.assign({method:e,headers:l},s);return JV()||(u.referrerPolicy="no-referrer"),jk.fetch()(Wk(t,t.config.apiHost,n,a),u)})}async function Hk(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},S5),e);try{const i=new O5(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw Ph(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,u]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Ph(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw Ph(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw Ph(t,"user-disabled",o);const c=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw Bk(t,c,u);Di(t,c)}}catch(i){if(i instanceof Jr)throw i;Di(t,"network-request-failed",{message:String(i)})}}async function Vd(t,e,n,r,i={}){const s=await ns(t,e,n,r,i);return"mfaPendingCredential"in s&&Di(t,"multi-factor-auth-required",{_serverResponse:s}),s}function Wk(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?_b(t.config,i):`${t.config.apiScheme}://${i}`}function A5(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class O5{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Gi(this.auth,"network-request-failed")),C5.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Ph(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Gi(t,e,r);return i.customData._tokenResponse=n,i}function XT(t){return t!==void 0&&t.enterprise!==void 0}class P5{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return A5(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function k5(t,e){return ns(t,"GET","/v2/recaptchaConfig",Ns(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function R5(t,e){return ns(t,"POST","/v1/accounts:delete",e)}async function qk(t,e){return ns(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yc(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function D5(t,e=!1){const n=Pt(t),r=await n.getIdToken(e),i=bb(r);Xe(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:yc(_g(i.auth_time)),issuedAtTime:yc(_g(i.iat)),expirationTime:yc(_g(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function _g(t){return Number(t)*1e3}function bb(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Jh("JWT malformed, contained fewer than 3 sections"),null;try{const i=Cf(n);return i?JSON.parse(i):(Jh("Failed to decode base64 JWT payload"),null)}catch(i){return Jh("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function JT(t){const e=bb(t);return Xe(e,"internal-error"),Xe(typeof e.exp<"u","internal-error"),Xe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zl(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Jr&&x5(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function x5({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N5{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ey{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=yc(this.lastLoginAt),this.creationTime=yc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wf(t){var e;const n=t.auth,r=await t.getIdToken(),i=await zl(t,qk(n,{idToken:r}));Xe(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?zk(s.providerUserInfo):[],a=L5(t.providerData,o),l=t.isAnonymous,u=!(t.email&&s.passwordHash)&&!(a!=null&&a.length),c=l?u:!1,h={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new ey(s.createdAt,s.lastLoginAt),isAnonymous:c};Object.assign(t,h)}async function M5(t){const e=Pt(t);await Wf(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function L5(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function zk(t){return t.map(e=>{var{providerId:n}=e,r=vb(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function V5(t,e){const n=await Hk(t,{},async()=>{const r=ou({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=Wk(t,i,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",jk.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function F5(t,e){return ns(t,"POST","/v2/accounts:revokeToken",Ns(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class El{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Xe(e.idToken,"internal-error"),Xe(typeof e.idToken<"u","internal-error"),Xe(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):JT(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Xe(e.length!==0,"internal-error");const n=JT(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Xe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await V5(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new El;return r&&(Xe(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(Xe(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(Xe(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new El,this.toJSON())}_performRefresh(){return vs("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Us(t,e){Xe(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class ys{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=vb(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new N5(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new ey(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await zl(this,this.stsTokenManager.getToken(this.auth,e));return Xe(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return D5(this,e)}reload(){return M5(this)}_assign(e){this!==e&&(Xe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new ys(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Xe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Wf(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(_i(this.auth.app))return Promise.reject(Qi(this.auth));const e=await this.getIdToken();return await zl(this,R5(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,l,u,c;const h=(r=n.displayName)!==null&&r!==void 0?r:void 0,f=(i=n.email)!==null&&i!==void 0?i:void 0,p=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,g=(o=n.photoURL)!==null&&o!==void 0?o:void 0,b=(a=n.tenantId)!==null&&a!==void 0?a:void 0,S=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,R=(u=n.createdAt)!==null&&u!==void 0?u:void 0,P=(c=n.lastLoginAt)!==null&&c!==void 0?c:void 0,{uid:w,emailVerified:E,isAnonymous:N,providerData:M,stsTokenManager:I}=n;Xe(w&&I,e,"internal-error");const T=El.fromJSON(this.name,I);Xe(typeof w=="string",e,"internal-error"),Us(h,e.name),Us(f,e.name),Xe(typeof E=="boolean",e,"internal-error"),Xe(typeof N=="boolean",e,"internal-error"),Us(p,e.name),Us(g,e.name),Us(b,e.name),Us(S,e.name),Us(R,e.name),Us(P,e.name);const _=new ys({uid:w,auth:e,email:f,emailVerified:E,displayName:h,isAnonymous:N,photoURL:g,phoneNumber:p,tenantId:b,stsTokenManager:T,createdAt:R,lastLoginAt:P});return M&&Array.isArray(M)&&(_.providerData=M.map(v=>Object.assign({},v))),S&&(_._redirectEventId=S),_}static async _fromIdTokenResponse(e,n,r=!1){const i=new El;i.updateFromServerResponse(n);const s=new ys({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Wf(s),s}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];Xe(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?zk(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),a=new El;a.updateFromIdToken(r);const l=new ys({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:o}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new ey(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(l,u),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZT=new Map;function _s(t){ks(t instanceof Function,"Expected a class definition");let e=ZT.get(t);return e?(ks(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,ZT.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kk{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}Kk.type="NONE";const eE=Kk;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zh(t,e,n){return`firebase:${t}:${e}:${n}`}class Il{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Zh(this.userKey,i.apiKey,s),this.fullPersistenceKey=Zh("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?ys._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Il(_s(eE),e,r);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let s=i[0]||_s(eE);const o=Zh(r,e.config.apiKey,e.name);let a=null;for(const u of n)try{const c=await u._get(o);if(c){const h=ys._fromJSON(e,c);u!==s&&(a=h),s=u;break}}catch{}const l=i.filter(u=>u._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new Il(s,e,r):(s=l[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async u=>{if(u!==s)try{await u._remove(o)}catch{}})),new Il(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tE(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Xk(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Yk(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Zk(e))return"Blackberry";if(eR(e))return"Webos";if(Gk(e))return"Safari";if((e.includes("chrome/")||Qk(e))&&!e.includes("edge/"))return"Chrome";if(Jk(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function Yk(t=_r()){return/firefox\//i.test(t)}function Gk(t=_r()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Qk(t=_r()){return/crios\//i.test(t)}function Xk(t=_r()){return/iemobile/i.test(t)}function Jk(t=_r()){return/android/i.test(t)}function Zk(t=_r()){return/blackberry/i.test(t)}function eR(t=_r()){return/webos/i.test(t)}function wb(t=_r()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function $5(t=_r()){var e;return wb(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function U5(){return ZV()&&document.documentMode===10}function tR(t=_r()){return wb(t)||Jk(t)||eR(t)||Zk(t)||/windows phone/i.test(t)||Xk(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nR(t,e=[]){let n;switch(t){case"Browser":n=tE(_r());break;case"Worker":n=`${tE(_r())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Oo}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B5{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{const l=e(s);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function j5(t,e={}){return ns(t,"GET","/v2/passwordPolicy",Ns(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H5=6;class W5{constructor(e){var n,r,i,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:H5,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(s=l.containsUppercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q5{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new nE(this),this.idTokenSubscription=new nE(this),this.beforeStateQueue=new B5(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Uk,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=_s(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await Il.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await qk(this,{idToken:e}),r=await ys._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(_i(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(i=l.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Xe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Wf(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=I5()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(_i(this.app))return Promise.reject(Qi(this));const n=e?Pt(e):null;return n&&Xe(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Xe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return _i(this.app)?Promise.reject(Qi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return _i(this.app)?Promise.reject(Qi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(_s(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await j5(this),n=new W5(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Ao("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await F5(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&_s(e)||this._popupRedirectResolver;Xe(n,this,"argument-error"),this.redirectPersistenceManager=await Il.create(this,[_s(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(Xe(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Xe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=nR(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&w5(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function ko(t){return Pt(t)}class nE{constructor(e){this.auth=e,this.observer=null,this.addObserver=lF(n=>this.observer=n)}get next(){return Xe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let sm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function z5(t){sm=t}function rR(t){return sm.loadJS(t)}function K5(){return sm.recaptchaEnterpriseScript}function Y5(){return sm.gapiScript}function G5(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const Q5="recaptcha-enterprise",X5="NO_RECAPTCHA";class J5{constructor(e){this.type=Q5,this.auth=ko(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,a)=>{k5(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const u=new P5(l);return s.tenantId==null?s._agentRecaptchaConfig=u:s._tenantRecaptchaConfigs[s.tenantId]=u,o(u.siteKey)}}).catch(l=>{a(l)})})}function i(s,o,a){const l=window.grecaptcha;XT(l)?l.enterprise.ready(()=>{l.enterprise.execute(s,{action:e}).then(u=>{o(u)}).catch(()=>{o(X5)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,o)=>{r(this.auth).then(a=>{if(!n&&XT(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let l=K5();l.length!==0&&(l+=a),rR(l).then(()=>{i(a,s,o)}).catch(u=>{o(u)})}}).catch(a=>{o(a)})})}}async function rE(t,e,n,r=!1){const i=new J5(t);let s;try{s=await i.verify(n)}catch{s=await i.verify(n,!0)}const o=Object.assign({},e);return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function qf(t,e,n,r){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=await rE(t,e,n,n==="getOobCode");return r(t,s)}else return r(t,e).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await rE(t,e,n,n==="getOobCode");return r(t,o)}else return Promise.reject(s)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iR(t,e){const n=es(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(Uc(s,e??{}))return i;Di(i,"already-initialized")}return n.initialize({options:e})}function Z5(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(_s);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function ej(t,e,n){const r=ko(t);Xe(r._canInitEmulator,r,"emulator-config-failed"),Xe(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!(n!=null&&n.disableWarnings),s=sR(e),{host:o,port:a}=tj(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||nj()}function sR(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function tj(t){const e=sR(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:iE(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:iE(o)}}}function iE(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function nj(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tb{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return vs("not implemented")}_getIdTokenResponse(e){return vs("not implemented")}_linkToIdToken(e,n){return vs("not implemented")}_getReauthenticationResolver(e){return vs("not implemented")}}async function rj(t,e){return ns(t,"POST","/v1/accounts:update",e)}async function ij(t,e){return ns(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sj(t,e){return Vd(t,"POST","/v1/accounts:signInWithPassword",Ns(t,e))}async function oj(t,e){return ns(t,"POST","/v1/accounts:sendOobCode",Ns(t,e))}async function aj(t,e){return oj(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lj(t,e){return Vd(t,"POST","/v1/accounts:signInWithEmailLink",Ns(t,e))}async function uj(t,e){return Vd(t,"POST","/v1/accounts:signInWithEmailLink",Ns(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xc extends Tb{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new Xc(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Xc(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return qf(e,n,"signInWithPassword",sj);case"emailLink":return lj(e,{email:this._email,oobCode:this._password});default:Di(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return qf(e,r,"signUpPassword",ij);case"emailLink":return uj(e,{idToken:n,email:this._email,oobCode:this._password});default:Di(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Sl(t,e){return Vd(t,"POST","/v1/accounts:signInWithIdp",Ns(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cj="http://localhost";class ma extends Tb{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new ma(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Di("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=vb(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new ma(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return Sl(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Sl(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Sl(e,n)}buildRequest(){const e={requestUri:cj,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=ou(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dj(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function hj(t){const e=Ku(Yu(t)).link,n=e?Ku(Yu(e)).deep_link_id:null,r=Ku(Yu(t)).deep_link_id;return(r?Ku(Yu(r)).link:null)||r||n||e||t}class Eb{constructor(e){var n,r,i,s,o,a;const l=Ku(Yu(e)),u=(n=l.apiKey)!==null&&n!==void 0?n:null,c=(r=l.oobCode)!==null&&r!==void 0?r:null,h=dj((i=l.mode)!==null&&i!==void 0?i:null);Xe(u&&c&&h,"argument-error"),this.apiKey=u,this.operation=h,this.code=c,this.continueUrl=(s=l.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=l.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=hj(e);try{return new Eb(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class To{constructor(){this.providerId=To.PROVIDER_ID}static credential(e,n){return Xc._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=Eb.parseLink(n);return Xe(r,"argument-error"),Xc._fromEmailAndCode(e,r.code,r.tenantId)}}To.PROVIDER_ID="password";To.EMAIL_PASSWORD_SIGN_IN_METHOD="password";To.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oR{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fd extends oR{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zs extends Fd{constructor(){super("facebook.com")}static credential(e){return ma._fromParams({providerId:Zs.PROVIDER_ID,signInMethod:Zs.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Zs.credentialFromTaggedObject(e)}static credentialFromError(e){return Zs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Zs.credential(e.oauthAccessToken)}catch{return null}}}Zs.FACEBOOK_SIGN_IN_METHOD="facebook.com";Zs.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eo extends Fd{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return ma._fromParams({providerId:eo.PROVIDER_ID,signInMethod:eo.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return eo.credentialFromTaggedObject(e)}static credentialFromError(e){return eo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return eo.credential(n,r)}catch{return null}}}eo.GOOGLE_SIGN_IN_METHOD="google.com";eo.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class to extends Fd{constructor(){super("github.com")}static credential(e){return ma._fromParams({providerId:to.PROVIDER_ID,signInMethod:to.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return to.credentialFromTaggedObject(e)}static credentialFromError(e){return to.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return to.credential(e.oauthAccessToken)}catch{return null}}}to.GITHUB_SIGN_IN_METHOD="github.com";to.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class no extends Fd{constructor(){super("twitter.com")}static credential(e,n){return ma._fromParams({providerId:no.PROVIDER_ID,signInMethod:no.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return no.credentialFromTaggedObject(e)}static credentialFromError(e){return no.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return no.credential(n,r)}catch{return null}}}no.TWITTER_SIGN_IN_METHOD="twitter.com";no.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fj(t,e){return Vd(t,"POST","/v1/accounts:signUp",Ns(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ga{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await ys._fromIdTokenResponse(e,r,i),o=sE(r);return new ga({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=sE(r);return new ga({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function sE(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zf extends Jr{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,zf.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new zf(e,n,r,i)}}function aR(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?zf._fromErrorAndOperation(t,s,e,r):s})}async function pj(t,e,n=!1){const r=await zl(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return ga._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lR(t,e,n=!1){const{auth:r}=t;if(_i(r.app))return Promise.reject(Qi(r));const i="reauthenticate";try{const s=await zl(t,aR(r,i,e,t),n);Xe(s.idToken,r,"internal-error");const o=bb(s.idToken);Xe(o,r,"internal-error");const{sub:a}=o;return Xe(t.uid===a,r,"user-mismatch"),ga._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&Di(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uR(t,e,n=!1){if(_i(t.app))return Promise.reject(Qi(t));const r="signIn",i=await aR(t,r,e),s=await ga._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function mj(t,e){return uR(ko(t),e)}async function oE(t,e){return lR(Pt(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gj(t,e,n){var r;Xe(((r=n.url)===null||r===void 0?void 0:r.length)>0,t,"invalid-continue-uri"),Xe(typeof n.dynamicLinkDomain>"u"||n.dynamicLinkDomain.length>0,t,"invalid-dynamic-link-domain"),e.continueUrl=n.url,e.dynamicLinkDomain=n.dynamicLinkDomain,e.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(Xe(n.iOS.bundleId.length>0,t,"missing-ios-bundle-id"),e.iOSBundleId=n.iOS.bundleId),n.android&&(Xe(n.android.packageName.length>0,t,"missing-android-pkg-name"),e.androidInstallApp=n.android.installApp,e.androidMinimumVersionCode=n.android.minimumVersion,e.androidPackageName=n.android.packageName)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cR(t){const e=ko(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function vj(t,e,n){const r=ko(t),i={requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"};n&&gj(r,i,n),await qf(r,i,"getOobCode",aj)}async function yj(t,e,n){if(_i(t.app))return Promise.reject(Qi(t));const r=ko(t),o=await qf(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",fj).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&cR(t),l}),a=await ga._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(a.user),a}function _j(t,e,n){return _i(t.app)?Promise.reject(Qi(t)):mj(Pt(t),To.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&cR(t),r})}function bj(t,e){const n=Pt(t);return _i(n.auth.app)?Promise.reject(Qi(n.auth)):dR(n,e,null)}function wj(t,e){return dR(Pt(t),null,e)}async function dR(t,e,n){const{auth:r}=t,s={idToken:await t.getIdToken(),returnSecureToken:!0};e&&(s.email=e),n&&(s.password=n);const o=await zl(t,rj(r,s));await t._updateTokensIfNecessary(o,!0)}function hR(t,e,n,r){return Pt(t).onIdTokenChanged(e,n,r)}function Tj(t,e,n){return Pt(t).beforeAuthStateChanged(e,n)}function Ej(t){return Pt(t).signOut()}async function Ij(t){return Pt(t).delete()}const Kf="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fR{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Kf,"1"),this.storage.removeItem(Kf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sj=1e3,Cj=10;class pR extends fR{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=tR(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);U5()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,Cj):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},Sj)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}pR.type="LOCAL";const mR=pR;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gR extends fR{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}gR.type="SESSION";const Ib=gR;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Aj(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class om{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new om(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async u=>u(n.origin,s)),l=await Aj(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}om.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sb(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oj{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{const u=Sb("",20);i.port1.start();const c=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(h){const f=h;if(f.data.eventId===u)switch(f.data.status){case"ack":clearTimeout(c),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(f.data.response);break;default:clearTimeout(c),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xi(){return window}function Pj(t){Xi().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vR(){return typeof Xi().WorkerGlobalScope<"u"&&typeof Xi().importScripts=="function"}async function kj(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Rj(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function Dj(){return vR()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yR="firebaseLocalStorageDb",xj=1,Yf="firebaseLocalStorage",_R="fbase_key";class $d{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function am(t,e){return t.transaction([Yf],e?"readwrite":"readonly").objectStore(Yf)}function Nj(){const t=indexedDB.deleteDatabase(yR);return new $d(t).toPromise()}function ty(){const t=indexedDB.open(yR,xj);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Yf,{keyPath:_R})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Yf)?e(r):(r.close(),await Nj(),e(await ty()))})})}async function aE(t,e,n){const r=am(t,!0).put({[_R]:e,value:n});return new $d(r).toPromise()}async function Mj(t,e){const n=am(t,!1).get(e),r=await new $d(n).toPromise();return r===void 0?null:r.value}function lE(t,e){const n=am(t,!0).delete(e);return new $d(n).toPromise()}const Lj=800,Vj=3;class bR{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await ty(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>Vj)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return vR()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=om._getInstance(Dj()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await kj(),!this.activeServiceWorker)return;this.sender=new Oj(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||Rj()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await ty();return await aE(e,Kf,"1"),await lE(e,Kf),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>aE(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>Mj(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>lE(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=am(i,!1).getAll();return new $d(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Lj)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}bR.type="LOCAL";const wR=bR;new Ld(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fj(t,e){return e?_s(e):(Xe(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cb extends Tb{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Sl(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Sl(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Sl(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function $j(t){return uR(t.auth,new Cb(t),t.bypassAuthState)}function Uj(t){const{auth:e,user:n}=t;return Xe(n,e,"internal-error"),lR(n,new Cb(t),t.bypassAuthState)}async function Bj(t){const{auth:e,user:n}=t;return Xe(n,e,"internal-error"),pj(n,new Cb(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TR{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return $j;case"linkViaPopup":case"linkViaRedirect":return Bj;case"reauthViaPopup":case"reauthViaRedirect":return Uj;default:Di(this.auth,"internal-error")}}resolve(e){ks(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ks(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jj=new Ld(2e3,1e4);class ol extends TR{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,ol.currentPopupAction&&ol.currentPopupAction.cancel(),ol.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Xe(e,this.auth,"internal-error"),e}async onExecution(){ks(this.filter.length===1,"Popup operations only handle one event");const e=Sb();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Gi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Gi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ol.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Gi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,jj.get())};e()}}ol.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hj="pendingRedirect",ef=new Map;class Wj extends TR{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=ef.get(this.auth._key());if(!e){try{const r=await qj(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}ef.set(this.auth._key(),e)}return this.bypassAuthState||ef.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function qj(t,e){const n=Yj(e),r=Kj(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function zj(t,e){ef.set(t._key(),e)}function Kj(t){return _s(t._redirectPersistence)}function Yj(t){return Zh(Hj,t.config.apiKey,t.name)}async function Gj(t,e,n=!1){if(_i(t.app))return Promise.reject(Qi(t));const r=ko(t),i=Fj(r,e),o=await new Wj(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qj=10*60*1e3;class Xj{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Jj(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!ER(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Gi(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Qj&&this.cachedEventUids.clear(),this.cachedEventUids.has(uE(e))}saveEventToCache(e){this.cachedEventUids.add(uE(e)),this.lastProcessedEventTime=Date.now()}}function uE(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function ER({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function Jj(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ER(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zj(t,e={}){return ns(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eH=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,tH=/^https?/;async function nH(t){if(t.config.emulator)return;const{authorizedDomains:e}=await Zj(t);for(const n of e)try{if(rH(n))return}catch{}Di(t,"unauthorized-domain")}function rH(t){const e=Zv(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!tH.test(n))return!1;if(eH.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iH=new Ld(3e4,6e4);function cE(){const t=Xi().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function sH(t){return new Promise((e,n)=>{var r,i,s;function o(){cE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{cE(),n(Gi(t,"network-request-failed"))},timeout:iH.get()})}if(!((i=(r=Xi().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=Xi().gapi)===null||s===void 0)&&s.load)o();else{const a=G5("iframefcb");return Xi()[a]=()=>{gapi.load?o():n(Gi(t,"network-request-failed"))},rR(`${Y5()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw tf=null,e})}let tf=null;function oH(t){return tf=tf||sH(t),tf}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aH=new Ld(5e3,15e3),lH="__/auth/iframe",uH="emulator/auth/iframe",cH={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},dH=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function hH(t){const e=t.config;Xe(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?_b(e,uH):`https://${t.config.authDomain}/${lH}`,r={apiKey:e.apiKey,appName:t.name,v:Oo},i=dH.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${ou(r).slice(1)}`}async function fH(t){const e=await oH(t),n=Xi().gapi;return Xe(n,t,"internal-error"),e.open({where:document.body,url:hH(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:cH,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=Gi(t,"network-request-failed"),a=Xi().setTimeout(()=>{s(o)},aH.get());function l(){Xi().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pH={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},mH=500,gH=600,vH="_blank",yH="http://localhost";class dE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function _H(t,e,n,r=mH,i=gH){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},pH),{width:r.toString(),height:i.toString(),top:s,left:o}),u=_r().toLowerCase();n&&(a=Qk(u)?vH:n),Yk(u)&&(e=e||yH,l.scrollbars="yes");const c=Object.entries(l).reduce((f,[p,g])=>`${f}${p}=${g},`,"");if($5(u)&&a!=="_self")return bH(e||"",a),new dE(null);const h=window.open(e||"",a,c);Xe(h,t,"popup-blocked");try{h.focus()}catch{}return new dE(h)}function bH(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wH="__/auth/handler",TH="emulator/auth/handler",EH=encodeURIComponent("fac");async function hE(t,e,n,r,i,s){Xe(t.config.authDomain,t,"auth-domain-config-required"),Xe(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Oo,eventId:i};if(e instanceof oR){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",Iv(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[c,h]of Object.entries(s||{}))o[c]=h}if(e instanceof Fd){const c=e.getScopes().filter(h=>h!=="");c.length>0&&(o.scopes=c.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const c of Object.keys(a))a[c]===void 0&&delete a[c];const l=await t._getAppCheckToken(),u=l?`#${EH}=${encodeURIComponent(l)}`:"";return`${IH(t)}?${ou(a).slice(1)}${u}`}function IH({config:t}){return t.emulator?_b(t,TH):`https://${t.authDomain}/${wH}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bg="webStorageSupport";class SH{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Ib,this._completeRedirectFn=Gj,this._overrideRedirectResult=zj}async _openPopup(e,n,r,i){var s;ks((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await hE(e,n,r,Zv(),i);return _H(e,o,Sb())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await hE(e,n,r,Zv(),i);return Pj(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(ks(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await fH(e),r=new Xj(e);return n.register("authEvent",i=>(Xe(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(bg,{type:bg},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[bg];o!==void 0&&n(!!o),Di(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=nH(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return tR()||Gk()||wb()}}const IR=SH;var fE="@firebase/auth",pE="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CH{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Xe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AH(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function OH(t){Ur(new Pr("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;Xe(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:nR(t)},u=new q5(r,i,s,l);return Z5(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Ur(new Pr("auth-internal",e=>{const n=ko(e.getProvider("auth").getImmediate());return(r=>new CH(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),er(fE,pE,AH(t)),er(fE,pE,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PH=5*60,kH=GA("authIdTokenMaxAge")||PH;let mE=null;const RH=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>kH)return;const i=n==null?void 0:n.token;mE!==i&&(mE=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function DH(t=lu()){const e=es(t,"auth");if(e.isInitialized())return e.getImmediate();const n=iR(t,{popupRedirectResolver:IR,persistence:[wR,mR,Ib]}),r=GA("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const o=RH(s.toString());Tj(n,o,()=>o(n.currentUser)),hR(n,a=>o(a))}}const i=zA("auth");return i&&ej(n,`http://${i}`),n}function xH(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}z5({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=Gi("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",xH().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});OH("Browser");const SR=Symbol("firebaseApp");function CR(t){return Xr()&&Vr(SR,null)||lu(t)}const kh=new WeakMap;function NH(t,e){if(!kh.has(t)){const n=Hy(!0);kh.set(t,n);const{unmount:r}=e;e.unmount=()=>{r.call(e),n.stop(),kh.delete(t)}}return kh.get(t)}const MH=new WeakMap,Rh=new WeakMap;function LH(t){const e=CR(t);if(!Rh.has(e)){let n;const i=[new Promise(s=>{n=s}),s=>{Rh.set(e,s),n(s.value)}];Rh.set(e,i)}return Rh.get(e)}function VH(t,e){hR(e,n=>{const r=LH();t.value=n,Array.isArray(r)&&r[1](t)})}var gE={};const vE="@firebase/database",yE="1.0.8";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let AR="";function FH(t){AR=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $H{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Gn(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:$c(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UH{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return xs(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OR=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new $H(e)}}catch{}return new UH},Yo=OR("localStorage"),ny=OR("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cl=new au("@firebase/database"),BH=function(){let t=1;return function(){return t++}}(),PR=function(t){const e=hF(t),n=new aF;n.update(e);const r=n.digest();return kp.encodeByteArray(r)},Ud=function(...t){let e="";for(let n=0;n<t.length;n++){const r=t[n];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?e+=Ud.apply(null,r):typeof r=="object"?e+=Gn(r):e+=r,e+=" "}return e};let ta=null,_E=!0;const jH=function(t,e){ke(!e||t===!0||t===!1,"Can't turn on custom loggers persistently."),t===!0?(Cl.logLevel=ht.VERBOSE,ta=Cl.log.bind(Cl),e&&ny.set("logging_enabled",!0)):typeof t=="function"?ta=t:(ta=null,ny.remove("logging_enabled"))},dr=function(...t){if(_E===!0&&(_E=!1,ta===null&&ny.get("logging_enabled")===!0&&jH(!0)),ta){const e=Ud.apply(null,t);ta(e)}},Bd=function(t){return function(...e){dr(t,...e)}},ry=function(...t){const e="FIREBASE INTERNAL ERROR: "+Ud(...t);Cl.error(e)},va=function(...t){const e=`FIREBASE FATAL ERROR: ${Ud(...t)}`;throw Cl.error(e),new Error(e)},Qr=function(...t){const e="FIREBASE WARNING: "+Ud(...t);Cl.warn(e)},HH=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&Qr("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},kR=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},WH=function(t){if(document.readyState==="complete")t();else{let e=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},Kl="[MIN_NAME]",ya="[MAX_NAME]",fu=function(t,e){if(t===e)return 0;if(t===Kl||e===ya)return-1;if(e===Kl||t===ya)return 1;{const n=bE(t),r=bE(e);return n!==null?r!==null?n-r===0?t.length-e.length:n-r:-1:r!==null?1:t<e?-1:1}},qH=function(t,e){return t===e?0:t<e?-1:1},Mu=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+Gn(e))},Ab=function(t){if(typeof t!="object"||t===null)return Gn(t);const e=[];for(const r in t)e.push(r);e.sort();let n="{";for(let r=0;r<e.length;r++)r!==0&&(n+=","),n+=Gn(e[r]),n+=":",n+=Ab(t[e[r]]);return n+="}",n},RR=function(t,e){const n=t.length;if(n<=e)return[t];const r=[];for(let i=0;i<n;i+=e)i+e>n?r.push(t.substring(i,n)):r.push(t.substring(i,i+e));return r};function li(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const DR=function(t){ke(!kR(t),"Invalid JSON number");const e=11,n=52,r=(1<<e-1)-1;let i,s,o,a,l;t===0?(s=0,o=0,i=1/t===-1/0?1:0):(i=t<0,t=Math.abs(t),t>=Math.pow(2,1-r)?(a=Math.min(Math.floor(Math.log(t)/Math.LN2),r),s=a+r,o=Math.round(t*Math.pow(2,n-a)-Math.pow(2,n))):(s=0,o=Math.round(t/Math.pow(2,1-r-n))));const u=[];for(l=n;l;l-=1)u.push(o%2?1:0),o=Math.floor(o/2);for(l=e;l;l-=1)u.push(s%2?1:0),s=Math.floor(s/2);u.push(i?1:0),u.reverse();const c=u.join("");let h="";for(l=0;l<64;l+=8){let f=parseInt(c.substr(l,8),2).toString(16);f.length===1&&(f="0"+f),h=h+f}return h.toLowerCase()},zH=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},KH=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"},YH=new RegExp("^-?(0*)\\d{1,10}$"),GH=-2147483648,QH=2147483647,bE=function(t){if(YH.test(t)){const e=Number(t);if(e>=GH&&e<=QH)return e}return null},jd=function(t){try{t()}catch(e){setTimeout(()=>{const n=e.stack||"";throw Qr("Exception was thrown by user callback.",n),e},Math.floor(0))}},XH=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},_c=function(t,e){const n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JH{constructor(e,n){this.appName_=e,this.appCheckProvider=n,this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(r=>this.appCheck=r)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){Qr(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZH{constructor(e,n,r){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(dr("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Qr(e)}}class iy{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}iy.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ob="5",xR="v",NR="s",MR="r",LR="f",VR=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,FR="ls",$R="p",sy="ac",UR="websocket",BR="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e7{constructor(e,n,r,i,s=!1,o="",a=!1,l=!1){this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=s,this.persistenceKey=o,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=l,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Yo.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&Yo.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}}function t7(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function jR(t,e,n){ke(typeof e=="string","typeof type must == string"),ke(typeof n=="object","typeof params must == object");let r;if(e===UR)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===BR)r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);t7(t)&&(n.ns=t.namespace);const i=[];return li(n,(s,o)=>{i.push(s+"="+o)}),r+i.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n7{constructor(){this.counters_={}}incrementCounter(e,n=1){xs(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return zV(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wg={},Tg={};function Pb(t){const e=t.toString();return wg[e]||(wg[e]=new n7),wg[e]}function r7(t,e){const n=t.toString();return Tg[n]||(Tg[n]=e()),Tg[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i7{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&jd(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wE="start",s7="close",o7="pLPCommand",a7="pRTLPCB",HR="id",WR="pw",qR="ser",l7="cb",u7="seg",c7="ts",d7="d",h7="dframe",zR=1870,KR=30,f7=zR-KR,p7=25e3,m7=3e4;class al{constructor(e,n,r,i,s,o,a){this.connId=e,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.transportSessionId=o,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Bd(e),this.stats_=Pb(n),this.urlFn=l=>(this.appCheckToken&&(l[sy]=this.appCheckToken),jR(n,BR,l))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new i7(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(m7)),WH(()=>{if(this.isClosed_)return;this.scriptTagHolder=new kb((...s)=>{const[o,a,l,u,c]=s;if(this.incrementIncomingBytes_(s),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,o===wE)this.id=a,this.password=l;else if(o===s7)a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+o)},(...s)=>{const[o,a]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(o,a)},()=>{this.onClosed_()},this.urlFn);const r={};r[wE]="t",r[qR]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[l7]=this.scriptTagHolder.uniqueCallbackIdentifier),r[xR]=Ob,this.transportSessionId&&(r[NR]=this.transportSessionId),this.lastSessionId&&(r[FR]=this.lastSessionId),this.applicationId&&(r[$R]=this.applicationId),this.appCheckToken&&(r[sy]=this.appCheckToken),typeof location<"u"&&location.hostname&&VR.test(location.hostname)&&(r[MR]=LR);const i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){al.forceAllow_=!0}static forceDisallow(){al.forceDisallow_=!0}static isAvailable(){return al.forceAllow_?!0:!al.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!zH()&&!KH()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=Gn(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=HA(n),i=RR(r,f7);for(let s=0;s<i.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[s]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const r={};r[h7]="t",r[HR]=e,r[WR]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=Gn(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class kb{constructor(e,n,r,i){this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=BH(),window[o7+this.uniqueCallbackIdentifier]=e,window[a7+this.uniqueCallbackIdentifier]=n,this.myIFrame=kb.createIFrame_();let s="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(s='<script>document.domain="'+document.domain+'";<\/script>');const o="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(a){dr("frame writing exception"),a.stack&&dr(a.stack),dr(a)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||dr("No IE domain setting required")}catch{const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[HR]=this.myID,e[WR]=this.myPW,e[qR]=this.currentSerial;let n=this.urlFn(e),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+KR+r.length<=zR;){const o=this.pendingSegs.shift();r=r+"&"+u7+i+"="+o.seg+"&"+c7+i+"="+o.ts+"&"+d7+i+"="+o.d,i++}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,r){this.pendingSegs.push({seg:e,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},i=setTimeout(r,Math.floor(p7)),s=()=>{clearTimeout(i),r()};this.addTag(e,s)}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const i=r.readyState;(!i||i==="loaded"||i==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{dr("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g7=16384,v7=45e3;let Gf=null;typeof MozWebSocket<"u"?Gf=MozWebSocket:typeof WebSocket<"u"&&(Gf=WebSocket);class vi{constructor(e,n,r,i,s,o,a){this.connId=e,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Bd(this.connId),this.stats_=Pb(n),this.connURL=vi.connectionURL_(n,o,a,i,r),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,r,i,s){const o={};return o[xR]=Ob,typeof location<"u"&&location.hostname&&VR.test(location.hostname)&&(o[MR]=LR),n&&(o[NR]=n),r&&(o[FR]=r),i&&(o[sy]=i),s&&(o[$R]=s),jR(e,UR,o)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Yo.set("previous_websocket_failure",!0);try{let r;ZA(),this.mySock=new Gf(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_()}}start(){}static forceDisallow(){vi.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(n);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&Gf!==null&&!vi.forceDisallow_}static previouslyFailed(){return Yo.isInMemoryStorage||Yo.get("previous_websocket_failure")===!0}markConnectionHealthy(){Yo.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const r=$c(n);this.onMessage(r)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(ke(this.frames===null,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const r=this.extractFrameCount_(n);r!==null&&this.appendFrame_(r)}}send(e){this.resetKeepAlive();const n=Gn(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=RR(n,g7);r.length>1&&this.sendString_(String(r.length));for(let i=0;i<r.length;i++)this.sendString_(r[i])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(v7))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}vi.responsesRequiredToBeHealthy=2;vi.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jc{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[al,vi]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const n=vi&&vi.isAvailable();let r=n&&!vi.previouslyFailed();if(e.webSocketOnly&&(n||Qr("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[vi];else{const i=this.transports_=[];for(const s of Jc.ALL_TRANSPORTS)s&&s.isAvailable()&&i.push(s);Jc.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}Jc.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y7=6e4,_7=5e3,b7=10*1024,w7=100*1024,Eg="t",TE="d",T7="s",EE="r",E7="e",IE="o",SE="a",CE="n",AE="p",I7="h";class S7{constructor(e,n,r,i,s,o,a,l,u,c){this.id=e,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=s,this.onMessage_=o,this.onReady_=a,this.onDisconnect_=l,this.onKill_=u,this.lastSessionId=c,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Bd("c:"+this.id+":"),this.transportManager_=new Jc(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));const i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=_c(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>w7?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>b7?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){const n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(Eg in e){const n=e[Eg];n===SE?this.upgradeIfSecondaryHealthy_():n===EE?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===IE&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=Mu("t",e),r=Mu("d",e);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:AE,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:SE,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:CE,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=Mu("t",e),r=Mu("d",e);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=Mu(Eg,e);if(TE in e){const r=e[TE];if(n===I7){const i=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if(n===CE){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===T7?this.onConnectionShutdown_(r):n===EE?this.onReset_(r):n===E7?ry("Server Error: "+r):n===IE?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):ry("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,r=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),Ob!==r&&Qr("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),_c(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(y7))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):_c(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(_7))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:AE,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Yo.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YR{put(e,n,r,i){}merge(e,n,r,i){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,r){}onDisconnectMerge(e,n,r){}onDisconnectCancel(e,n){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GR{constructor(e){this.allowedEvents_=e,this.listeners_={},ke(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,n)}}on(e,n,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:r});const i=this.getInitialEvent(e);i&&n.apply(r,i)}off(e,n,r){this.validateEventType_(e);const i=this.listeners_[e]||[];for(let s=0;s<i.length;s++)if(i[s].callback===n&&(!r||r===i[s].context)){i.splice(s,1);return}}validateEventType_(e){ke(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qf extends GR{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!f_()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new Qf}getInitialEvent(e){return ke(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OE=32,PE=768;class cn{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}}function Ht(){return new cn("")}function bt(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function Eo(t){return t.pieces_.length-t.pieceNum_}function on(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new cn(t.pieces_,e)}function QR(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function C7(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function XR(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function JR(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new cn(e,0)}function Bn(t,e){const n=[];for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof cn)for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{const r=e.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&n.push(r[i])}return new cn(n,0)}function gt(t){return t.pieceNum_>=t.pieces_.length}function ii(t,e){const n=bt(t),r=bt(e);if(n===null)return e;if(n===r)return ii(on(t),on(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function ZR(t,e){if(Eo(t)!==Eo(e))return!1;for(let n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function bi(t,e){let n=t.pieceNum_,r=e.pieceNum_;if(Eo(t)>Eo(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}class A7{constructor(e,n){this.errorPrefix_=n,this.parts_=XR(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=xp(this.parts_[r]);eD(this)}}function O7(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=xp(e),eD(t)}function P7(t){const e=t.parts_.pop();t.byteLength_-=xp(e),t.parts_.length>0&&(t.byteLength_-=1)}function eD(t){if(t.byteLength_>PE)throw new Error(t.errorPrefix_+"has a key path longer than "+PE+" bytes ("+t.byteLength_+").");if(t.parts_.length>OE)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+OE+") or object contains a cycle "+Bo(t))}function Bo(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rb extends GR{constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new Rb}getInitialEvent(e){return ke(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lu=1e3,k7=60*5*1e3,kE=30*1e3,R7=1.3,D7=3e4,x7="server_kill",RE=3;class Is extends YR{constructor(e,n,r,i,s,o,a,l){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=r,this.onConnectStatus_=i,this.onServerInfoUpdate_=s,this.authTokenProvider_=o,this.appCheckTokenProvider_=a,this.authOverride_=l,this.id=Is.nextPersistentConnectionId_++,this.log_=Bd("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Lu,this.maxReconnectDelay_=k7,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,l&&!ZA())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Rb.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&Qf.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,r){const i=++this.requestNumber_,s={r:i,a:e,b:n};this.log_(Gn(s)),ke(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(s),r&&(this.requestCBHash_[i]=r)}get(e){this.initConnection_();const n=new la,i={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:o=>{const a=o.d;o.s==="ok"?n.resolve(a):n.reject(a)}};this.outstandingGets_.push(i),this.outstandingGetCount_++;const s=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(s),n.promise}listen(e,n,r,i){this.initConnection_();const s=e._queryIdentifier,o=e._path.toString();this.log_("Listen called for "+o+" "+s),this.listens.has(o)||this.listens.set(o,new Map),ke(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),ke(!this.listens.get(o).has(s),"listen() called twice for same path/queryId.");const a={onComplete:i,hashFn:n,query:e,tag:r};this.listens.get(o).set(s,a),this.connected_&&this.sendListen_(a)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,r=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(r)})}sendListen_(e){const n=e.query,r=n._path.toString(),i=n._queryIdentifier;this.log_("Listen on "+r+" for "+i);const s={p:r},o="q";e.tag&&(s.q=n._queryObject,s.t=e.tag),s.h=e.hashFn(),this.sendRequest(o,s,a=>{const l=a.d,u=a.s;Is.warnOnListenWarnings_(l,n),(this.listens.get(r)&&this.listens.get(r).get(i))===e&&(this.log_("listen response",a),u!=="ok"&&this.removeListen_(r,i),e.onComplete&&e.onComplete(u,l))})}static warnOnListenWarnings_(e,n){if(e&&typeof e=="object"&&xs(e,"w")){const r=Vl(e,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const i='".indexOn": "'+n._queryParams.getIndex().toString()+'"',s=n._path.toString();Qr(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${i} at ${s} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||oF(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=kE)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=sF(e)?"auth":"gauth",r={cred:e};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(n,r,i=>{const s=i.s,o=i.d||"error";this.authToken_===e&&(s==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(s,o))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,r=e.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,r)})}unlisten(e,n){const r=e._path.toString(),i=e._queryIdentifier;this.log_("Unlisten called for "+r+" "+i),ke(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,i)&&this.connected_&&this.sendUnlisten_(r,i,e._queryObject,n)}sendUnlisten_(e,n,r,i){this.log_("Unlisten on "+e+" for "+n);const s={p:e},o="n";i&&(s.q=r,s.t=i),this.sendRequest(o,s)}onDisconnectPut(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:r})}onDisconnectMerge(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:r})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,r,i){const s={p:n,d:r};this.log_("onDisconnect "+e,s),this.sendRequest(e,s,o=>{i&&setTimeout(()=>{i(o.s,o.d)},Math.floor(0))})}put(e,n,r,i){this.putInternal("p",e,n,r,i)}merge(e,n,r,i){this.putInternal("m",e,n,r,i)}putInternal(e,n,r,i,s){this.initConnection_();const o={p:n,d:r};s!==void 0&&(o.h=s),this.outstandingPuts_.push({action:e,request:o,onComplete:i}),this.outstandingPutCount_++;const a=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(a):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,i=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,s=>{this.log_(n+" response",s),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),i&&i(s.s,s.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,r=>{if(r.s!=="ok"){const s=r.d;this.log_("reportStats","Error sending stats: "+s)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+Gn(e));const n=e.r,r=this.requestCBHash_[n];r&&(delete this.requestCBHash_[n],r(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),e==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):e==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):e==="c"?this.onListenRevoked_(n.p,n.q):e==="ac"?this.onAuthRevoked_(n.s,n.d):e==="apc"?this.onAppCheckRevoked_(n.s,n.d):e==="sd"?this.onSecurityDebugPacket_(n):ry("Unrecognized action received from server: "+Gn(e)+`
Are you using the latest client?`)}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){ke(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Lu,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Lu,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>D7&&(this.reconnectDelay_=Lu),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=new Date().getTime()-this.lastConnectionAttemptTime_;let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*R7)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),i=this.id+":"+Is.nextConnectionId_++,s=this.lastSessionId;let o=!1,a=null;const l=function(){a?a.close():(o=!0,r())},u=function(h){ke(a,"sendRequest call when we're not connected not allowed."),a.sendRequest(h)};this.realtime_={close:l,sendRequest:u};const c=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[h,f]=await Promise.all([this.authTokenProvider_.getToken(c),this.appCheckTokenProvider_.getToken(c)]);o?dr("getToken() completed but was canceled"):(dr("getToken() completed. Creating connection."),this.authToken_=h&&h.accessToken,this.appCheckToken_=f&&f.token,a=new S7(i,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,r,p=>{Qr(p+" ("+this.repoInfo_.toString()+")"),this.interrupt(x7)},s))}catch(h){this.log_("Failed to get token: "+h),o||(this.repoInfo_.nodeAdmin&&Qr(h),l())}}}interrupt(e){dr("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){dr("Resuming connection for reason: "+e),delete this.interruptReasons_[e],Iv(this.interruptReasons_)&&(this.reconnectDelay_=Lu,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let r;n?r=n.map(s=>Ab(s)).join("$"):r="default";const i=this.removeListen_(e,r);i&&i.onComplete&&i.onComplete("permission_denied")}removeListen_(e,n){const r=new cn(e).toString();let i;if(this.listens.has(r)){const s=this.listens.get(r);i=s.get(n),s.delete(n),s.size===0&&this.listens.delete(r)}else i=void 0;return i}onAuthRevoked_(e,n){dr("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=RE&&(this.reconnectDelay_=kE,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){dr("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=RE&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";e["sdk."+n+"."+AR.replace(/\./g,"-")]=1,f_()?e["framework.cordova"]=1:JA()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=Qf.getInstance().currentlyOnline();return Iv(this.interruptReasons_)&&e}}Is.nextPersistentConnectionId_=0;Is.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wt{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new wt(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lm{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const r=new wt(Kl,e),i=new wt(Kl,n);return this.compare(r,i)!==0}minPost(){return wt.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Dh;class tD extends lm{static get __EMPTY_NODE(){return Dh}static set __EMPTY_NODE(e){Dh=e}compare(e,n){return fu(e.name,n.name)}isDefinedOn(e){throw su("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return wt.MIN}maxPost(){return new wt(ya,Dh)}makePost(e,n){return ke(typeof e=="string","KeyIndex indexValue must always be a string."),new wt(e,Dh)}toString(){return".key"}}const Al=new tD;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xh{constructor(e,n,r,i,s=null){this.isReverse_=i,this.resultGenerator_=s,this.nodeStack_=[];let o=1;for(;!e.isEmpty();)if(e=e,o=n?r(e.key,n):1,i&&(o*=-1),o<0)this.isReverse_?e=e.left:e=e.right;else if(o===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class Un{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??Un.RED,this.left=i??Lr.EMPTY_NODE,this.right=s??Lr.EMPTY_NODE}copy(e,n,r,i,s){return new Un(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return s<0?i=i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i=i.copy(null,n,null,null,null):i=i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp_()}removeMin_(){if(this.left.isEmpty())return Lr.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let r,i;if(r=this,n(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),n(e,r.key)===0){if(r.right.isEmpty())return Lr.EMPTY_NODE;i=r.right.min_(),r=r.copy(i.key,i.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,Un.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,Un.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}Un.RED=!0;Un.BLACK=!1;class N7{copy(e,n,r,i,s){return this}insert(e,n,r){return new Un(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class Lr{constructor(e,n=Lr.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new Lr(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,Un.BLACK,null,null))}remove(e){return new Lr(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Un.BLACK,null,null))}get(e){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(e){let n,r=this.root_,i=null;for(;!r.isEmpty();)if(n=this.comparator_(e,r.key),n===0){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(i=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new xh(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new xh(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new xh(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new xh(this.root_,null,this.comparator_,!0,e)}}Lr.EMPTY_NODE=new N7;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M7(t,e){return fu(t.name,e.name)}function Db(t,e){return fu(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let oy;function L7(t){oy=t}const nD=function(t){return typeof t=="number"?"number:"+DR(t):"string:"+t},rD=function(t){if(t.isLeafNode()){const e=t.val();ke(typeof e=="string"||typeof e=="number"||typeof e=="object"&&xs(e,".sv"),"Priority must be a string or number.")}else ke(t===oy||t.isEmpty(),"priority of unexpected type.");ke(t===oy||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let DE;class Fn{constructor(e,n=Fn.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,ke(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),rD(this.priorityNode_)}static set __childrenNodeConstructor(e){DE=e}static get __childrenNodeConstructor(){return DE}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new Fn(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:Fn.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return gt(e)?this:bt(e)===".priority"?this.priorityNode_:Fn.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:Fn.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const r=bt(e);return r===null?n:n.isEmpty()&&r!==".priority"?this:(ke(r!==".priority"||Eo(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,Fn.__childrenNodeConstructor.EMPTY_NODE.updateChild(on(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+nD(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",n==="number"?e+=DR(this.value_):e+=this.value_,this.lazyHash_=PR(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===Fn.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof Fn.__childrenNodeConstructor?-1:(ke(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,r=typeof this.value_,i=Fn.VALUE_TYPE_ORDER.indexOf(n),s=Fn.VALUE_TYPE_ORDER.indexOf(r);return ke(i>=0,"Unknown leaf type: "+n),ke(s>=0,"Unknown leaf type: "+r),i===s?r==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:s-i}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}Fn.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let iD,sD;function V7(t){iD=t}function F7(t){sD=t}class $7 extends lm{compare(e,n){const r=e.node.getPriority(),i=n.node.getPriority(),s=r.compareTo(i);return s===0?fu(e.name,n.name):s}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return wt.MIN}maxPost(){return new wt(ya,new Fn("[PRIORITY-POST]",sD))}makePost(e,n){const r=iD(e);return new wt(n,new Fn("[PRIORITY-POST]",r))}toString(){return".priority"}}const pr=new $7;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U7=Math.log(2);class B7{constructor(e){const n=s=>parseInt(Math.log(s)/U7,10),r=s=>parseInt(Array(s+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;const i=r(this.count);this.bits_=e+1&i}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const Xf=function(t,e,n,r){t.sort(e);const i=function(l,u){const c=u-l;let h,f;if(c===0)return null;if(c===1)return h=t[l],f=n?n(h):h,new Un(f,h.node,Un.BLACK,null,null);{const p=parseInt(c/2,10)+l,g=i(l,p),b=i(p+1,u);return h=t[p],f=n?n(h):h,new Un(f,h.node,Un.BLACK,g,b)}},s=function(l){let u=null,c=null,h=t.length;const f=function(g,b){const S=h-g,R=h;h-=g;const P=i(S+1,R),w=t[S],E=n?n(w):w;p(new Un(E,w.node,b,null,P))},p=function(g){u?(u.left=g,u=g):(c=g,u=g)};for(let g=0;g<l.count;++g){const b=l.nextBitIsOne(),S=Math.pow(2,l.count-(g+1));b?f(S,Un.BLACK):(f(S,Un.BLACK),f(S,Un.RED))}return c},o=new B7(t.length),a=s(o);return new Lr(r||e,a)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ig;const qa={};class bs{constructor(e,n){this.indexes_=e,this.indexSet_=n}static get Default(){return ke(qa&&pr,"ChildrenNode.ts has not been loaded"),Ig=Ig||new bs({".priority":qa},{".priority":pr}),Ig}get(e){const n=Vl(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof Lr?n:null}hasIndex(e){return xs(this.indexSet_,e.toString())}addIndex(e,n){ke(e!==Al,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let i=!1;const s=n.getIterator(wt.Wrap);let o=s.getNext();for(;o;)i=i||e.isDefinedOn(o.node),r.push(o),o=s.getNext();let a;i?a=Xf(r,e.getCompare()):a=qa;const l=e.toString(),u=Object.assign({},this.indexSet_);u[l]=e;const c=Object.assign({},this.indexes_);return c[l]=a,new bs(c,u)}addToIndexes(e,n){const r=Af(this.indexes_,(i,s)=>{const o=Vl(this.indexSet_,s);if(ke(o,"Missing index implementation for "+s),i===qa)if(o.isDefinedOn(e.node)){const a=[],l=n.getIterator(wt.Wrap);let u=l.getNext();for(;u;)u.name!==e.name&&a.push(u),u=l.getNext();return a.push(e),Xf(a,o.getCompare())}else return qa;else{const a=n.get(e.name);let l=i;return a&&(l=l.remove(new wt(e.name,a))),l.insert(e,e.node)}});return new bs(r,this.indexSet_)}removeFromIndexes(e,n){const r=Af(this.indexes_,i=>{if(i===qa)return i;{const s=n.get(e.name);return s?i.remove(new wt(e.name,s)):i}});return new bs(r,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Vu;class Vt{constructor(e,n,r){this.children_=e,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&rD(this.priorityNode_),this.children_.isEmpty()&&ke(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return Vu||(Vu=new Vt(new Lr(Db),null,bs.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Vu}updatePriority(e){return this.children_.isEmpty()?this:new Vt(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const n=this.children_.get(e);return n===null?Vu:n}}getChild(e){const n=bt(e);return n===null?this:this.getImmediateChild(n).getChild(on(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,n){if(ke(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);{const r=new wt(e,n);let i,s;n.isEmpty()?(i=this.children_.remove(e),s=this.indexMap_.removeFromIndexes(r,this.children_)):(i=this.children_.insert(e,n),s=this.indexMap_.addToIndexes(r,this.children_));const o=i.isEmpty()?Vu:this.priorityNode_;return new Vt(i,o,s)}}updateChild(e,n){const r=bt(e);if(r===null)return n;{ke(bt(e)!==".priority"||Eo(e)===1,".priority must be the last token in a path");const i=this.getImmediateChild(r).updateChild(on(e),n);return this.updateImmediateChild(r,i)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let r=0,i=0,s=!0;if(this.forEachChild(pr,(o,a)=>{n[o]=a.val(e),r++,s&&Vt.INTEGER_REGEXP_.test(o)?i=Math.max(i,Number(o)):s=!1}),!e&&s&&i<2*r){const o=[];for(const a in n)o[a]=n[a];return o}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+nD(this.getPriority().val())+":"),this.forEachChild(pr,(n,r)=>{const i=r.hash();i!==""&&(e+=":"+n+":"+i)}),this.lazyHash_=e===""?"":PR(e)}return this.lazyHash_}getPredecessorChildName(e,n,r){const i=this.resolveIndex_(r);if(i){const s=i.getPredecessorKey(new wt(e,n));return s?s.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new wt(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new wt(n,this.children_.get(n)):null}forEachChild(e,n){const r=this.resolveIndex_(e);return r?r.inorderTraversal(i=>n(i.name,i.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getIteratorFrom(e,i=>i);{const i=this.children_.getIteratorFrom(e.name,wt.Wrap);let s=i.peek();for(;s!=null&&n.compare(s,e)<0;)i.getNext(),s=i.peek();return i}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getReverseIteratorFrom(e,i=>i);{const i=this.children_.getReverseIteratorFrom(e.name,wt.Wrap);let s=i.peek();for(;s!=null&&n.compare(s,e)>0;)i.getNext(),s=i.peek();return i}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===Hd?-1:0}withIndex(e){if(e===Al||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new Vt(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===Al||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const r=this.getIterator(pr),i=n.getIterator(pr);let s=r.getNext(),o=i.getNext();for(;s&&o;){if(s.name!==o.name||!s.node.equals(o.node))return!1;s=r.getNext(),o=i.getNext()}return s===null&&o===null}else return!1;else return!1}}resolveIndex_(e){return e===Al?null:this.indexMap_.get(e.toString())}}Vt.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class j7 extends Vt{constructor(){super(new Lr(Db),Vt.EMPTY_NODE,bs.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return Vt.EMPTY_NODE}isEmpty(){return!1}}const Hd=new j7;Object.defineProperties(wt,{MIN:{value:new wt(Kl,Vt.EMPTY_NODE)},MAX:{value:new wt(ya,Hd)}});tD.__EMPTY_NODE=Vt.EMPTY_NODE;Fn.__childrenNodeConstructor=Vt;L7(Hd);F7(Hd);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H7=!0;function hr(t,e=null){if(t===null)return Vt.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),ke(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const n=t;return new Fn(n,hr(e))}if(!(t instanceof Array)&&H7){const n=[];let r=!1;if(li(t,(o,a)=>{if(o.substring(0,1)!=="."){const l=hr(a);l.isEmpty()||(r=r||!l.getPriority().isEmpty(),n.push(new wt(o,l)))}}),n.length===0)return Vt.EMPTY_NODE;const s=Xf(n,M7,o=>o.name,Db);if(r){const o=Xf(n,pr.getCompare());return new Vt(s,hr(e),new bs({".priority":o},{".priority":pr}))}else return new Vt(s,hr(e),bs.Default)}else{let n=Vt.EMPTY_NODE;return li(t,(r,i)=>{if(xs(t,r)&&r.substring(0,1)!=="."){const s=hr(i);(s.isLeafNode()||!s.isEmpty())&&(n=n.updateImmediateChild(r,s))}}),n.updatePriority(hr(e))}}V7(hr);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W7 extends lm{constructor(e){super(),this.indexPath_=e,ke(!gt(e)&&bt(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const r=this.extractChild(e.node),i=this.extractChild(n.node),s=r.compareTo(i);return s===0?fu(e.name,n.name):s}makePost(e,n){const r=hr(e),i=Vt.EMPTY_NODE.updateChild(this.indexPath_,r);return new wt(n,i)}maxPost(){const e=Vt.EMPTY_NODE.updateChild(this.indexPath_,Hd);return new wt(ya,e)}toString(){return XR(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q7 extends lm{compare(e,n){const r=e.node.compareTo(n.node);return r===0?fu(e.name,n.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return wt.MIN}maxPost(){return wt.MAX}makePost(e,n){const r=hr(e);return new wt(n,r)}toString(){return".value"}}const z7=new q7;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K7(t){return{type:"value",snapshotNode:t}}function Y7(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function G7(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function xE(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function Q7(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xb{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=pr}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return ke(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return ke(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Kl}hasEnd(){return this.endSet_}getIndexEndValue(){return ke(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return ke(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:ya}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return ke(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===pr}copy(){const e=new xb;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function NE(t){const e={};if(t.isDefault())return e;let n;if(t.index_===pr?n="$priority":t.index_===z7?n="$value":t.index_===Al?n="$key":(ke(t.index_ instanceof W7,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=Gn(n),t.startSet_){const r=t.startAfterSet_?"startAfter":"startAt";e[r]=Gn(t.indexStartValue_),t.startNameSet_&&(e[r]+=","+Gn(t.indexStartName_))}if(t.endSet_){const r=t.endBeforeSet_?"endBefore":"endAt";e[r]=Gn(t.indexEndValue_),t.endNameSet_&&(e[r]+=","+Gn(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function ME(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==pr&&(e.i=t.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jf extends YR{constructor(e,n,r,i){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=Bd("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(ke(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,n,r,i){const s=e._path.toString();this.log_("Listen called for "+s+" "+e._queryIdentifier);const o=Jf.getListenId_(e,r),a={};this.listens_[o]=a;const l=NE(e._queryParams);this.restRequest_(s+".json",l,(u,c)=>{let h=c;if(u===404&&(h=null,u=null),u===null&&this.onDataUpdate_(s,h,!1,r),Vl(this.listens_,o)===a){let f;u?u===401?f="permission_denied":f="rest_error:"+u:f="ok",i(f,null)}})}unlisten(e,n){const r=Jf.getListenId_(e,n);delete this.listens_[r]}get(e){const n=NE(e._queryParams),r=e._path.toString(),i=new la;return this.restRequest_(r+".json",n,(s,o)=>{let a=o;s===404&&(a=null,s=null),s===null?(this.onDataUpdate_(r,a,!1,null),i.resolve(a)):i.reject(new Error(a))}),i.promise}refreshAuthToken(e){}restRequest_(e,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,s])=>{i&&i.accessToken&&(n.auth=i.accessToken),s&&s.token&&(n.ac=s.token);const o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+ou(n);this.log_("Sending REST request for "+o);const a=new XMLHttpRequest;a.onreadystatechange=()=>{if(r&&a.readyState===4){this.log_("REST Response for "+o+" received. status:",a.status,"response:",a.responseText);let l=null;if(a.status>=200&&a.status<300){try{l=$c(a.responseText)}catch{Qr("Failed to parse JSON response for "+o+": "+a.responseText)}r(null,l)}else a.status!==401&&a.status!==404&&Qr("Got unsuccessful REST response for "+o+" Status: "+a.status),r(a.status);r=null}},a.open("GET",o,!0),a.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X7{constructor(){this.rootNode_=Vt.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zf(){return{value:null,children:new Map}}function oD(t,e,n){if(gt(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{const r=bt(e);t.children.has(r)||t.children.set(r,Zf());const i=t.children.get(r);e=on(e),oD(i,e,n)}}function ay(t,e,n){t.value!==null?n(e,t.value):J7(t,(r,i)=>{const s=new cn(e.toString()+"/"+r);ay(i,s,n)})}function J7(t,e){t.children.forEach((n,r)=>{e(r,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z7{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n=Object.assign({},e);return this.last_&&li(this.last_,(r,i)=>{n[r]=n[r]-i}),this.last_=e,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LE=10*1e3,e8=30*1e3,t8=5*60*1e3;class n8{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new Z7(e);const r=LE+(e8-LE)*Math.random();_c(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const e=this.statsListener_.get(),n={};let r=!1;li(e,(i,s)=>{s>0&&xs(this.statsToReport_,i)&&(n[i]=s,r=!0)}),r&&this.server_.reportStats(n),_c(this.reportStats_.bind(this),Math.floor(Math.random()*2*t8))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Wi;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(Wi||(Wi={}));function aD(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function lD(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function uD(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ep{constructor(e,n,r){this.path=e,this.affectedTree=n,this.revert=r,this.type=Wi.ACK_USER_WRITE,this.source=aD()}operationForChild(e){if(gt(this.path)){if(this.affectedTree.value!=null)return ke(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new cn(e));return new ep(Ht(),n,this.revert)}}else return ke(bt(this.path)===e,"operationForChild called for unrelated child."),new ep(on(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _a{constructor(e,n,r){this.source=e,this.path=n,this.snap=r,this.type=Wi.OVERWRITE}operationForChild(e){return gt(this.path)?new _a(this.source,Ht(),this.snap.getImmediateChild(e)):new _a(this.source,on(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zc{constructor(e,n,r){this.source=e,this.path=n,this.children=r,this.type=Wi.MERGE}operationForChild(e){if(gt(this.path)){const n=this.children.subtree(new cn(e));return n.isEmpty()?null:n.value?new _a(this.source,Ht(),n.value):new Zc(this.source,Ht(),n)}else return ke(bt(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new Zc(this.source,on(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nb{constructor(e,n,r){this.node_=e,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(gt(e))return this.isFullyInitialized()&&!this.filtered_;const n=bt(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}function r8(t,e,n,r){const i=[],s=[];return e.forEach(o=>{o.type==="child_changed"&&t.index_.indexedValueChanged(o.oldSnap,o.snapshotNode)&&s.push(Q7(o.childName,o.snapshotNode))}),Fu(t,i,"child_removed",e,r,n),Fu(t,i,"child_added",e,r,n),Fu(t,i,"child_moved",s,r,n),Fu(t,i,"child_changed",e,r,n),Fu(t,i,"value",e,r,n),i}function Fu(t,e,n,r,i,s){const o=r.filter(a=>a.type===n);o.sort((a,l)=>s8(t,a,l)),o.forEach(a=>{const l=i8(t,a,s);i.forEach(u=>{u.respondsTo(a.type)&&e.push(u.createEvent(l,t.query_))})})}function i8(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function s8(t,e,n){if(e.childName==null||n.childName==null)throw su("Should only compare child_ events.");const r=new wt(e.childName,e.snapshotNode),i=new wt(n.childName,n.snapshotNode);return t.index_.compare(r,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cD(t,e){return{eventCache:t,serverCache:e}}function bc(t,e,n,r){return cD(new Nb(e,n,r),t.serverCache)}function dD(t,e,n,r){return cD(t.eventCache,new Nb(e,n,r))}function ly(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function ba(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Sg;const o8=()=>(Sg||(Sg=new Lr(qH)),Sg);class sn{constructor(e,n=o8()){this.value=e,this.children=n}static fromObject(e){let n=new sn(null);return li(e,(r,i)=>{n=n.set(new cn(r),i)}),n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:Ht(),value:this.value};if(gt(e))return null;{const r=bt(e),i=this.children.get(r);if(i!==null){const s=i.findRootMostMatchingPathAndValue(on(e),n);return s!=null?{path:Bn(new cn(r),s.path),value:s.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(gt(e))return this;{const n=bt(e),r=this.children.get(n);return r!==null?r.subtree(on(e)):new sn(null)}}set(e,n){if(gt(e))return new sn(n,this.children);{const r=bt(e),s=(this.children.get(r)||new sn(null)).set(on(e),n),o=this.children.insert(r,s);return new sn(this.value,o)}}remove(e){if(gt(e))return this.children.isEmpty()?new sn(null):new sn(null,this.children);{const n=bt(e),r=this.children.get(n);if(r){const i=r.remove(on(e));let s;return i.isEmpty()?s=this.children.remove(n):s=this.children.insert(n,i),this.value===null&&s.isEmpty()?new sn(null):new sn(this.value,s)}else return this}}get(e){if(gt(e))return this.value;{const n=bt(e),r=this.children.get(n);return r?r.get(on(e)):null}}setTree(e,n){if(gt(e))return n;{const r=bt(e),s=(this.children.get(r)||new sn(null)).setTree(on(e),n);let o;return s.isEmpty()?o=this.children.remove(r):o=this.children.insert(r,s),new sn(this.value,o)}}fold(e){return this.fold_(Ht(),e)}fold_(e,n){const r={};return this.children.inorderTraversal((i,s)=>{r[i]=s.fold_(Bn(e,i),n)}),n(e,this.value,r)}findOnPath(e,n){return this.findOnPath_(e,Ht(),n)}findOnPath_(e,n,r){const i=this.value?r(n,this.value):!1;if(i)return i;if(gt(e))return null;{const s=bt(e),o=this.children.get(s);return o?o.findOnPath_(on(e),Bn(n,s),r):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,Ht(),n)}foreachOnPath_(e,n,r){if(gt(e))return this;{this.value&&r(n,this.value);const i=bt(e),s=this.children.get(i);return s?s.foreachOnPath_(on(e),Bn(n,i),r):new sn(null)}}foreach(e){this.foreach_(Ht(),e)}foreach_(e,n){this.children.inorderTraversal((r,i)=>{i.foreach_(Bn(e,r),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,r)=>{r.value&&e(n,r.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ii{constructor(e){this.writeTree_=e}static empty(){return new Ii(new sn(null))}}function wc(t,e,n){if(gt(e))return new Ii(new sn(n));{const r=t.writeTree_.findRootMostValueAndPath(e);if(r!=null){const i=r.path;let s=r.value;const o=ii(i,e);return s=s.updateChild(o,n),new Ii(t.writeTree_.set(i,s))}else{const i=new sn(n),s=t.writeTree_.setTree(e,i);return new Ii(s)}}}function VE(t,e,n){let r=t;return li(n,(i,s)=>{r=wc(r,Bn(e,i),s)}),r}function FE(t,e){if(gt(e))return Ii.empty();{const n=t.writeTree_.setTree(e,new sn(null));return new Ii(n)}}function uy(t,e){return Ra(t,e)!=null}function Ra(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(ii(n.path,e)):null}function $E(t){const e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(pr,(r,i)=>{e.push(new wt(r,i))}):t.writeTree_.children.inorderTraversal((r,i)=>{i.value!=null&&e.push(new wt(r,i.value))}),e}function co(t,e){if(gt(e))return t;{const n=Ra(t,e);return n!=null?new Ii(new sn(n)):new Ii(t.writeTree_.subtree(e))}}function cy(t){return t.writeTree_.isEmpty()}function Yl(t,e){return hD(Ht(),t.writeTree_,e)}function hD(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let r=null;return e.children.inorderTraversal((i,s)=>{i===".priority"?(ke(s.value!==null,"Priority writes must always be leaf nodes"),r=s.value):n=hD(Bn(t,i),s,n)}),!n.getChild(t).isEmpty()&&r!==null&&(n=n.updateChild(Bn(t,".priority"),r)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fD(t,e){return yD(e,t)}function a8(t,e,n,r,i){ke(r>t.lastWriteId,"Stacking an older write on top of newer ones"),i===void 0&&(i=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:i}),i&&(t.visibleWrites=wc(t.visibleWrites,e,n)),t.lastWriteId=r}function l8(t,e){for(let n=0;n<t.allWrites.length;n++){const r=t.allWrites[n];if(r.writeId===e)return r}return null}function u8(t,e){const n=t.allWrites.findIndex(a=>a.writeId===e);ke(n>=0,"removeWrite called with nonexistent writeId.");const r=t.allWrites[n];t.allWrites.splice(n,1);let i=r.visible,s=!1,o=t.allWrites.length-1;for(;i&&o>=0;){const a=t.allWrites[o];a.visible&&(o>=n&&c8(a,r.path)?i=!1:bi(r.path,a.path)&&(s=!0)),o--}if(i){if(s)return d8(t),!0;if(r.snap)t.visibleWrites=FE(t.visibleWrites,r.path);else{const a=r.children;li(a,l=>{t.visibleWrites=FE(t.visibleWrites,Bn(r.path,l))})}return!0}else return!1}function c8(t,e){if(t.snap)return bi(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&bi(Bn(t.path,n),e))return!0;return!1}function d8(t){t.visibleWrites=pD(t.allWrites,h8,Ht()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function h8(t){return t.visible}function pD(t,e,n){let r=Ii.empty();for(let i=0;i<t.length;++i){const s=t[i];if(e(s)){const o=s.path;let a;if(s.snap)bi(n,o)?(a=ii(n,o),r=wc(r,a,s.snap)):bi(o,n)&&(a=ii(o,n),r=wc(r,Ht(),s.snap.getChild(a)));else if(s.children){if(bi(n,o))a=ii(n,o),r=VE(r,a,s.children);else if(bi(o,n))if(a=ii(o,n),gt(a))r=VE(r,Ht(),s.children);else{const l=Vl(s.children,bt(a));if(l){const u=l.getChild(on(a));r=wc(r,Ht(),u)}}}else throw su("WriteRecord should have .snap or .children")}}return r}function mD(t,e,n,r,i){if(!r&&!i){const s=Ra(t.visibleWrites,e);if(s!=null)return s;{const o=co(t.visibleWrites,e);if(cy(o))return n;if(n==null&&!uy(o,Ht()))return null;{const a=n||Vt.EMPTY_NODE;return Yl(o,a)}}}else{const s=co(t.visibleWrites,e);if(!i&&cy(s))return n;if(!i&&n==null&&!uy(s,Ht()))return null;{const o=function(u){return(u.visible||i)&&(!r||!~r.indexOf(u.writeId))&&(bi(u.path,e)||bi(e,u.path))},a=pD(t.allWrites,o,e),l=n||Vt.EMPTY_NODE;return Yl(a,l)}}}function f8(t,e,n){let r=Vt.EMPTY_NODE;const i=Ra(t.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(pr,(s,o)=>{r=r.updateImmediateChild(s,o)}),r;if(n){const s=co(t.visibleWrites,e);return n.forEachChild(pr,(o,a)=>{const l=Yl(co(s,new cn(o)),a);r=r.updateImmediateChild(o,l)}),$E(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}else{const s=co(t.visibleWrites,e);return $E(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}}function p8(t,e,n,r,i){ke(r||i,"Either existingEventSnap or existingServerSnap must exist");const s=Bn(e,n);if(uy(t.visibleWrites,s))return null;{const o=co(t.visibleWrites,s);return cy(o)?i.getChild(n):Yl(o,i.getChild(n))}}function m8(t,e,n,r){const i=Bn(e,n),s=Ra(t.visibleWrites,i);if(s!=null)return s;if(r.isCompleteForChild(n)){const o=co(t.visibleWrites,i);return Yl(o,r.getNode().getImmediateChild(n))}else return null}function g8(t,e){return Ra(t.visibleWrites,e)}function v8(t,e,n,r,i,s,o){let a;const l=co(t.visibleWrites,e),u=Ra(l,Ht());if(u!=null)a=u;else if(n!=null)a=Yl(l,n);else return[];if(a=a.withIndex(o),!a.isEmpty()&&!a.isLeafNode()){const c=[],h=o.getCompare(),f=s?a.getReverseIteratorFrom(r,o):a.getIteratorFrom(r,o);let p=f.getNext();for(;p&&c.length<i;)h(p,r)!==0&&c.push(p),p=f.getNext();return c}else return[]}function y8(){return{visibleWrites:Ii.empty(),allWrites:[],lastWriteId:-1}}function dy(t,e,n,r){return mD(t.writeTree,t.treePath,e,n,r)}function gD(t,e){return f8(t.writeTree,t.treePath,e)}function UE(t,e,n,r){return p8(t.writeTree,t.treePath,e,n,r)}function tp(t,e){return g8(t.writeTree,Bn(t.treePath,e))}function _8(t,e,n,r,i,s){return v8(t.writeTree,t.treePath,e,n,r,i,s)}function Mb(t,e,n){return m8(t.writeTree,t.treePath,e,n)}function vD(t,e){return yD(Bn(t.treePath,e),t.writeTree)}function yD(t,e){return{treePath:t,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b8{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,r=e.childName;ke(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),ke(r!==".priority","Only non-priority child changes can be tracked.");const i=this.changeMap.get(r);if(i){const s=i.type;if(n==="child_added"&&s==="child_removed")this.changeMap.set(r,xE(r,e.snapshotNode,i.snapshotNode));else if(n==="child_removed"&&s==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&s==="child_changed")this.changeMap.set(r,G7(r,i.oldSnap));else if(n==="child_changed"&&s==="child_added")this.changeMap.set(r,Y7(r,e.snapshotNode));else if(n==="child_changed"&&s==="child_changed")this.changeMap.set(r,xE(r,e.snapshotNode,i.oldSnap));else throw su("Illegal combination of changes: "+e+" occurred after "+i)}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w8{getCompleteChild(e){return null}getChildAfterChild(e,n,r){return null}}const _D=new w8;class Lb{constructor(e,n,r=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const r=this.optCompleteServerCache_!=null?new Nb(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Mb(this.writes_,e,r)}}getChildAfterChild(e,n,r){const i=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:ba(this.viewCache_),s=_8(this.writes_,i,n,1,r,e);return s.length===0?null:s[0]}}function T8(t,e){ke(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),ke(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function E8(t,e,n,r,i){const s=new b8;let o,a;if(n.type===Wi.OVERWRITE){const u=n;u.source.fromUser?o=hy(t,e,u.path,u.snap,r,i,s):(ke(u.source.fromServer,"Unknown source."),a=u.source.tagged||e.serverCache.isFiltered()&&!gt(u.path),o=np(t,e,u.path,u.snap,r,i,a,s))}else if(n.type===Wi.MERGE){const u=n;u.source.fromUser?o=S8(t,e,u.path,u.children,r,i,s):(ke(u.source.fromServer,"Unknown source."),a=u.source.tagged||e.serverCache.isFiltered(),o=fy(t,e,u.path,u.children,r,i,a,s))}else if(n.type===Wi.ACK_USER_WRITE){const u=n;u.revert?o=O8(t,e,u.path,r,i,s):o=C8(t,e,u.path,u.affectedTree,r,i,s)}else if(n.type===Wi.LISTEN_COMPLETE)o=A8(t,e,n.path,r,s);else throw su("Unknown operation type: "+n.type);const l=s.getChanges();return I8(e,o,l),{viewCache:o,changes:l}}function I8(t,e,n){const r=e.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),s=ly(t);(n.length>0||!t.eventCache.isFullyInitialized()||i&&!r.getNode().equals(s)||!r.getNode().getPriority().equals(s.getPriority()))&&n.push(K7(ly(e)))}}function bD(t,e,n,r,i,s){const o=e.eventCache;if(tp(r,n)!=null)return e;{let a,l;if(gt(n))if(ke(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const u=ba(e),c=u instanceof Vt?u:Vt.EMPTY_NODE,h=gD(r,c);a=t.filter.updateFullNode(e.eventCache.getNode(),h,s)}else{const u=dy(r,ba(e));a=t.filter.updateFullNode(e.eventCache.getNode(),u,s)}else{const u=bt(n);if(u===".priority"){ke(Eo(n)===1,"Can't have a priority with additional path components");const c=o.getNode();l=e.serverCache.getNode();const h=UE(r,n,c,l);h!=null?a=t.filter.updatePriority(c,h):a=o.getNode()}else{const c=on(n);let h;if(o.isCompleteForChild(u)){l=e.serverCache.getNode();const f=UE(r,n,o.getNode(),l);f!=null?h=o.getNode().getImmediateChild(u).updateChild(c,f):h=o.getNode().getImmediateChild(u)}else h=Mb(r,u,e.serverCache);h!=null?a=t.filter.updateChild(o.getNode(),u,h,c,i,s):a=o.getNode()}}return bc(e,a,o.isFullyInitialized()||gt(n),t.filter.filtersNodes())}}function np(t,e,n,r,i,s,o,a){const l=e.serverCache;let u;const c=o?t.filter:t.filter.getIndexedFilter();if(gt(n))u=c.updateFullNode(l.getNode(),r,null);else if(c.filtersNodes()&&!l.isFiltered()){const p=l.getNode().updateChild(n,r);u=c.updateFullNode(l.getNode(),p,null)}else{const p=bt(n);if(!l.isCompleteForPath(n)&&Eo(n)>1)return e;const g=on(n),S=l.getNode().getImmediateChild(p).updateChild(g,r);p===".priority"?u=c.updatePriority(l.getNode(),S):u=c.updateChild(l.getNode(),p,S,g,_D,null)}const h=dD(e,u,l.isFullyInitialized()||gt(n),c.filtersNodes()),f=new Lb(i,h,s);return bD(t,h,n,i,f,a)}function hy(t,e,n,r,i,s,o){const a=e.eventCache;let l,u;const c=new Lb(i,e,s);if(gt(n))u=t.filter.updateFullNode(e.eventCache.getNode(),r,o),l=bc(e,u,!0,t.filter.filtersNodes());else{const h=bt(n);if(h===".priority")u=t.filter.updatePriority(e.eventCache.getNode(),r),l=bc(e,u,a.isFullyInitialized(),a.isFiltered());else{const f=on(n),p=a.getNode().getImmediateChild(h);let g;if(gt(f))g=r;else{const b=c.getCompleteChild(h);b!=null?QR(f)===".priority"&&b.getChild(JR(f)).isEmpty()?g=b:g=b.updateChild(f,r):g=Vt.EMPTY_NODE}if(p.equals(g))l=e;else{const b=t.filter.updateChild(a.getNode(),h,g,f,c,o);l=bc(e,b,a.isFullyInitialized(),t.filter.filtersNodes())}}}return l}function BE(t,e){return t.eventCache.isCompleteForChild(e)}function S8(t,e,n,r,i,s,o){let a=e;return r.foreach((l,u)=>{const c=Bn(n,l);BE(e,bt(c))&&(a=hy(t,a,c,u,i,s,o))}),r.foreach((l,u)=>{const c=Bn(n,l);BE(e,bt(c))||(a=hy(t,a,c,u,i,s,o))}),a}function jE(t,e,n){return n.foreach((r,i)=>{e=e.updateChild(r,i)}),e}function fy(t,e,n,r,i,s,o,a){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let l=e,u;gt(n)?u=r:u=new sn(null).setTree(n,r);const c=e.serverCache.getNode();return u.children.inorderTraversal((h,f)=>{if(c.hasChild(h)){const p=e.serverCache.getNode().getImmediateChild(h),g=jE(t,p,f);l=np(t,l,new cn(h),g,i,s,o,a)}}),u.children.inorderTraversal((h,f)=>{const p=!e.serverCache.isCompleteForChild(h)&&f.value===null;if(!c.hasChild(h)&&!p){const g=e.serverCache.getNode().getImmediateChild(h),b=jE(t,g,f);l=np(t,l,new cn(h),b,i,s,o,a)}}),l}function C8(t,e,n,r,i,s,o){if(tp(i,n)!=null)return e;const a=e.serverCache.isFiltered(),l=e.serverCache;if(r.value!=null){if(gt(n)&&l.isFullyInitialized()||l.isCompleteForPath(n))return np(t,e,n,l.getNode().getChild(n),i,s,a,o);if(gt(n)){let u=new sn(null);return l.getNode().forEachChild(Al,(c,h)=>{u=u.set(new cn(c),h)}),fy(t,e,n,u,i,s,a,o)}else return e}else{let u=new sn(null);return r.foreach((c,h)=>{const f=Bn(n,c);l.isCompleteForPath(f)&&(u=u.set(c,l.getNode().getChild(f)))}),fy(t,e,n,u,i,s,a,o)}}function A8(t,e,n,r,i){const s=e.serverCache,o=dD(e,s.getNode(),s.isFullyInitialized()||gt(n),s.isFiltered());return bD(t,o,n,r,_D,i)}function O8(t,e,n,r,i,s){let o;if(tp(r,n)!=null)return e;{const a=new Lb(r,e,i),l=e.eventCache.getNode();let u;if(gt(n)||bt(n)===".priority"){let c;if(e.serverCache.isFullyInitialized())c=dy(r,ba(e));else{const h=e.serverCache.getNode();ke(h instanceof Vt,"serverChildren would be complete if leaf node"),c=gD(r,h)}c=c,u=t.filter.updateFullNode(l,c,s)}else{const c=bt(n);let h=Mb(r,c,e.serverCache);h==null&&e.serverCache.isCompleteForChild(c)&&(h=l.getImmediateChild(c)),h!=null?u=t.filter.updateChild(l,c,h,on(n),a,s):e.eventCache.getNode().hasChild(c)?u=t.filter.updateChild(l,c,Vt.EMPTY_NODE,on(n),a,s):u=l,u.isEmpty()&&e.serverCache.isFullyInitialized()&&(o=dy(r,ba(e)),o.isLeafNode()&&(u=t.filter.updateFullNode(u,o,s)))}return o=e.serverCache.isFullyInitialized()||tp(r,Ht())!=null,bc(e,u,o,t.filter.filtersNodes())}}function P8(t,e){const n=ba(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!gt(e)&&!n.getImmediateChild(bt(e)).isEmpty())?n.getChild(e):null}function HE(t,e,n,r){e.type===Wi.MERGE&&e.source.queryId!==null&&(ke(ba(t.viewCache_),"We should always have a full cache before handling merges"),ke(ly(t.viewCache_),"Missing event cache, even though we have a server cache"));const i=t.viewCache_,s=E8(t.processor_,i,e,n,r);return T8(t.processor_,s.viewCache),ke(s.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=s.viewCache,k8(t,s.changes,s.viewCache.eventCache.getNode(),null)}function k8(t,e,n,r){const i=r?[r]:t.eventRegistrations_;return r8(t.eventGenerator_,e,n,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let WE;function R8(t){ke(!WE,"__referenceConstructor has already been defined"),WE=t}function Vb(t,e,n,r){const i=e.source.queryId;if(i!==null){const s=t.views.get(i);return ke(s!=null,"SyncTree gave us an op for an invalid query."),HE(s,e,n,r)}else{let s=[];for(const o of t.views.values())s=s.concat(HE(o,e,n,r));return s}}function Fb(t,e){let n=null;for(const r of t.views.values())n=n||P8(r,e);return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let qE;function D8(t){ke(!qE,"__referenceConstructor has already been defined"),qE=t}class zE{constructor(e){this.listenProvider_=e,this.syncPointTree_=new sn(null),this.pendingWriteTree_=y8(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function x8(t,e,n,r,i){return a8(t.pendingWriteTree_,e,n,r,i),i?cm(t,new _a(aD(),e,n)):[]}function ll(t,e,n=!1){const r=l8(t.pendingWriteTree_,e);if(u8(t.pendingWriteTree_,e)){let s=new sn(null);return r.snap!=null?s=s.set(Ht(),!0):li(r.children,o=>{s=s.set(new cn(o),!0)}),cm(t,new ep(r.path,s,n))}else return[]}function um(t,e,n){return cm(t,new _a(lD(),e,n))}function N8(t,e,n){const r=sn.fromObject(n);return cm(t,new Zc(lD(),e,r))}function M8(t,e,n,r){const i=ID(t,r);if(i!=null){const s=SD(i),o=s.path,a=s.queryId,l=ii(o,e),u=new _a(uD(a),l,n);return CD(t,o,u)}else return[]}function L8(t,e,n,r){const i=ID(t,r);if(i){const s=SD(i),o=s.path,a=s.queryId,l=ii(o,e),u=sn.fromObject(n),c=new Zc(uD(a),l,u);return CD(t,o,c)}else return[]}function wD(t,e,n){const i=t.pendingWriteTree_,s=t.syncPointTree_.findOnPath(e,(o,a)=>{const l=ii(o,e),u=Fb(a,l);if(u)return u});return mD(i,e,s,n,!0)}function cm(t,e){return TD(e,t.syncPointTree_,null,fD(t.pendingWriteTree_,Ht()))}function TD(t,e,n,r){if(gt(t.path))return ED(t,e,n,r);{const i=e.get(Ht());n==null&&i!=null&&(n=Fb(i,Ht()));let s=[];const o=bt(t.path),a=t.operationForChild(o),l=e.children.get(o);if(l&&a){const u=n?n.getImmediateChild(o):null,c=vD(r,o);s=s.concat(TD(a,l,u,c))}return i&&(s=s.concat(Vb(i,t,r,n))),s}}function ED(t,e,n,r){const i=e.get(Ht());n==null&&i!=null&&(n=Fb(i,Ht()));let s=[];return e.children.inorderTraversal((o,a)=>{const l=n?n.getImmediateChild(o):null,u=vD(r,o),c=t.operationForChild(o);c&&(s=s.concat(ED(c,a,l,u)))}),i&&(s=s.concat(Vb(i,t,r,n))),s}function ID(t,e){return t.tagToQueryMap.get(e)}function SD(t){const e=t.indexOf("$");return ke(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new cn(t.substr(0,e))}}function CD(t,e,n){const r=t.syncPointTree_.get(e);ke(r,"Missing sync point for query tag that we're tracking");const i=fD(t.pendingWriteTree_,e);return Vb(r,n,i,null)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $b{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new $b(n)}node(){return this.node_}}class Ub{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=Bn(this.path_,e);return new Ub(this.syncTree_,n)}node(){return wD(this.syncTree_,this.path_)}}const V8=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},KE=function(t,e,n){if(!t||typeof t!="object")return t;if(ke(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return F8(t[".sv"],e,n);if(typeof t[".sv"]=="object")return $8(t[".sv"],e);ke(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},F8=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:ke(!1,"Unexpected server value: "+t)}},$8=function(t,e,n){t.hasOwnProperty("increment")||ke(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const r=t.increment;typeof r!="number"&&ke(!1,"Unexpected increment value: "+r);const i=e.node();if(ke(i!==null&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const o=i.getValue();return typeof o!="number"?r:o+r},U8=function(t,e,n,r){return Bb(e,new Ub(n,t),r)},B8=function(t,e,n){return Bb(t,new $b(e),n)};function Bb(t,e,n){const r=t.getPriority().val(),i=KE(r,e.getImmediateChild(".priority"),n);let s;if(t.isLeafNode()){const o=t,a=KE(o.getValue(),e,n);return a!==o.getValue()||i!==o.getPriority().val()?new Fn(a,hr(i)):t}else{const o=t;return s=o,i!==o.getPriority().val()&&(s=s.updatePriority(new Fn(i))),o.forEachChild(pr,(a,l)=>{const u=Bb(l,e.getImmediateChild(a),n);u!==l&&(s=s.updateImmediateChild(a,u))}),s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jb{constructor(e="",n=null,r={children:{},childCount:0}){this.name=e,this.parent=n,this.node=r}}function Hb(t,e){let n=e instanceof cn?e:new cn(e),r=t,i=bt(n);for(;i!==null;){const s=Vl(r.node.children,i)||{children:{},childCount:0};r=new jb(i,r,s),n=on(n),i=bt(n)}return r}function pu(t){return t.node.value}function AD(t,e){t.node.value=e,py(t)}function OD(t){return t.node.childCount>0}function j8(t){return pu(t)===void 0&&!OD(t)}function dm(t,e){li(t.node.children,(n,r)=>{e(new jb(n,t,r))})}function PD(t,e,n,r){n&&!r&&e(t),dm(t,i=>{PD(i,e,!0,r)}),n&&r&&e(t)}function H8(t,e,n){let r=n?t:t.parent;for(;r!==null;){if(e(r))return!0;r=r.parent}return!1}function Wd(t){return new cn(t.parent===null?t.name:Wd(t.parent)+"/"+t.name)}function py(t){t.parent!==null&&W8(t.parent,t.name,t)}function W8(t,e,n){const r=j8(n),i=xs(t.node.children,e);r&&i?(delete t.node.children[e],t.node.childCount--,py(t)):!r&&!i&&(t.node.children[e]=n.node,t.node.childCount++,py(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q8=/[\[\].#$\/\u0000-\u001F\u007F]/,z8=/[\[\].#$\u0000-\u001F\u007F]/,Cg=10*1024*1024,kD=function(t){return typeof t=="string"&&t.length!==0&&!q8.test(t)},K8=function(t){return typeof t=="string"&&t.length!==0&&!z8.test(t)},Y8=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),K8(t)},RD=function(t,e,n){const r=n instanceof cn?new A7(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+Bo(r));if(typeof e=="function")throw new Error(t+"contains a function "+Bo(r)+" with contents = "+e.toString());if(kR(e))throw new Error(t+"contains "+e.toString()+" "+Bo(r));if(typeof e=="string"&&e.length>Cg/3&&xp(e)>Cg)throw new Error(t+"contains a string greater than "+Cg+" utf8 bytes "+Bo(r)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let i=!1,s=!1;if(li(e,(o,a)=>{if(o===".value")i=!0;else if(o!==".priority"&&o!==".sv"&&(s=!0,!kD(o)))throw new Error(t+" contains an invalid key ("+o+") "+Bo(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);O7(r,o),RD(t,a,r),P7(r)}),i&&s)throw new Error(t+' contains ".value" child '+Bo(r)+" in addition to actual children.")}},G8=function(t,e){const n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!kD(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!Y8(n))throw new Error(dF(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q8{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function X8(t,e){let n=null;for(let r=0;r<e.length;r++){const i=e[r],s=i.getPath();n!==null&&!ZR(s,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:s}),n.events.push(i)}n&&t.eventLists_.push(n)}function Da(t,e,n){X8(t,n),J8(t,r=>bi(r,e)||bi(e,r))}function J8(t,e){t.recursionDepth_++;let n=!0;for(let r=0;r<t.eventLists_.length;r++){const i=t.eventLists_[r];if(i){const s=i.path;e(s)?(Z8(t.eventLists_[r]),t.eventLists_[r]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function Z8(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(n!==null){t.events[e]=null;const r=n.getEventRunner();ta&&dr("event: "+n.toString()),jd(r)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eW="repo_interrupt",tW=25;class nW{constructor(e,n,r,i){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Q8,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Zf(),this.transactionQueueTree_=new jb,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function rW(t,e,n){if(t.stats_=Pb(t.repoInfo_),t.forceRestClient_||XH())t.server_=new Jf(t.repoInfo_,(r,i,s,o)=>{YE(t,r,i,s,o)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>GE(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Gn(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}t.persistentConnection_=new Is(t.repoInfo_,e,(r,i,s,o)=>{YE(t,r,i,s,o)},r=>{GE(t,r)},r=>{sW(t,r)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(r=>{t.server_.refreshAuthToken(r)}),t.appCheckProvider_.addTokenChangeListener(r=>{t.server_.refreshAppCheckToken(r.token)}),t.statsReporter_=r7(t.repoInfo_,()=>new n8(t.stats_,t.server_)),t.infoData_=new X7,t.infoSyncTree_=new zE({startListening:(r,i,s,o)=>{let a=[];const l=t.infoData_.getNode(r._path);return l.isEmpty()||(a=um(t.infoSyncTree_,r._path,l),setTimeout(()=>{o("ok")},0)),a},stopListening:()=>{}}),Wb(t,"connected",!1),t.serverSyncTree_=new zE({startListening:(r,i,s,o)=>(t.server_.listen(r,s,i,(a,l)=>{const u=o(a,l);Da(t.eventQueue_,r._path,u)}),[]),stopListening:(r,i)=>{t.server_.unlisten(r,i)}})}function iW(t){const n=t.infoData_.getNode(new cn(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function DD(t){return V8({timestamp:iW(t)})}function YE(t,e,n,r,i){t.dataUpdateCount++;const s=new cn(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let o=[];if(i)if(r){const l=Af(n,u=>hr(u));o=L8(t.serverSyncTree_,s,l,i)}else{const l=hr(n);o=M8(t.serverSyncTree_,s,l,i)}else if(r){const l=Af(n,u=>hr(u));o=N8(t.serverSyncTree_,s,l)}else{const l=hr(n);o=um(t.serverSyncTree_,s,l)}let a=s;o.length>0&&(a=zb(t,s)),Da(t.eventQueue_,a,o)}function GE(t,e){Wb(t,"connected",e),e===!1&&aW(t)}function sW(t,e){li(e,(n,r)=>{Wb(t,n,r)})}function Wb(t,e,n){const r=new cn("/.info/"+e),i=hr(n);t.infoData_.updateSnapshot(r,i);const s=um(t.infoSyncTree_,r,i);Da(t.eventQueue_,r,s)}function oW(t){return t.nextWriteId_++}function aW(t){xD(t,"onDisconnectEvents");const e=DD(t),n=Zf();ay(t.onDisconnect_,Ht(),(i,s)=>{const o=U8(i,s,t.serverSyncTree_,e);oD(n,i,o)});let r=[];ay(n,Ht(),(i,s)=>{r=r.concat(um(t.serverSyncTree_,i,s));const o=dW(t,i);zb(t,o)}),t.onDisconnect_=Zf(),Da(t.eventQueue_,Ht(),r)}function lW(t){t.persistentConnection_&&t.persistentConnection_.interrupt(eW)}function xD(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),dr(n,...e)}function ND(t,e,n){return wD(t.serverSyncTree_,e,n)||Vt.EMPTY_NODE}function qb(t,e=t.transactionQueueTree_){if(e||hm(t,e),pu(e)){const n=LD(t,e);ke(n.length>0,"Sending zero length transaction queue"),n.every(i=>i.status===0)&&uW(t,Wd(e),n)}else OD(e)&&dm(e,n=>{qb(t,n)})}function uW(t,e,n){const r=n.map(u=>u.currentWriteId),i=ND(t,e,r);let s=i;const o=i.hash();for(let u=0;u<n.length;u++){const c=n[u];ke(c.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),c.status=1,c.retryCount++;const h=ii(e,c.path);s=s.updateChild(h,c.currentOutputSnapshotRaw)}const a=s.val(!0),l=e;t.server_.put(l.toString(),a,u=>{xD(t,"transaction put response",{path:l.toString(),status:u});let c=[];if(u==="ok"){const h=[];for(let f=0;f<n.length;f++)n[f].status=2,c=c.concat(ll(t.serverSyncTree_,n[f].currentWriteId)),n[f].onComplete&&h.push(()=>n[f].onComplete(null,!0,n[f].currentOutputSnapshotResolved)),n[f].unwatcher();hm(t,Hb(t.transactionQueueTree_,e)),qb(t,t.transactionQueueTree_),Da(t.eventQueue_,e,c);for(let f=0;f<h.length;f++)jd(h[f])}else{if(u==="datastale")for(let h=0;h<n.length;h++)n[h].status===3?n[h].status=4:n[h].status=0;else{Qr("transaction at "+l.toString()+" failed: "+u);for(let h=0;h<n.length;h++)n[h].status=4,n[h].abortReason=u}zb(t,e)}},o)}function zb(t,e){const n=MD(t,e),r=Wd(n),i=LD(t,n);return cW(t,i,r),r}function cW(t,e,n){if(e.length===0)return;const r=[];let i=[];const o=e.filter(a=>a.status===0).map(a=>a.currentWriteId);for(let a=0;a<e.length;a++){const l=e[a],u=ii(n,l.path);let c=!1,h;if(ke(u!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),l.status===4)c=!0,h=l.abortReason,i=i.concat(ll(t.serverSyncTree_,l.currentWriteId,!0));else if(l.status===0)if(l.retryCount>=tW)c=!0,h="maxretry",i=i.concat(ll(t.serverSyncTree_,l.currentWriteId,!0));else{const f=ND(t,l.path,o);l.currentInputSnapshot=f;const p=e[a].update(f.val());if(p!==void 0){RD("transaction failed: Data returned ",p,l.path);let g=hr(p);typeof p=="object"&&p!=null&&xs(p,".priority")||(g=g.updatePriority(f.getPriority()));const S=l.currentWriteId,R=DD(t),P=B8(g,f,R);l.currentOutputSnapshotRaw=g,l.currentOutputSnapshotResolved=P,l.currentWriteId=oW(t),o.splice(o.indexOf(S),1),i=i.concat(x8(t.serverSyncTree_,l.path,P,l.currentWriteId,l.applyLocally)),i=i.concat(ll(t.serverSyncTree_,S,!0))}else c=!0,h="nodata",i=i.concat(ll(t.serverSyncTree_,l.currentWriteId,!0))}Da(t.eventQueue_,n,i),i=[],c&&(e[a].status=2,function(f){setTimeout(f,Math.floor(0))}(e[a].unwatcher),e[a].onComplete&&(h==="nodata"?r.push(()=>e[a].onComplete(null,!1,e[a].currentInputSnapshot)):r.push(()=>e[a].onComplete(new Error(h),!1,null))))}hm(t,t.transactionQueueTree_);for(let a=0;a<r.length;a++)jd(r[a]);qb(t,t.transactionQueueTree_)}function MD(t,e){let n,r=t.transactionQueueTree_;for(n=bt(e);n!==null&&pu(r)===void 0;)r=Hb(r,n),e=on(e),n=bt(e);return r}function LD(t,e){const n=[];return VD(t,e,n),n.sort((r,i)=>r.order-i.order),n}function VD(t,e,n){const r=pu(e);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);dm(e,i=>{VD(t,i,n)})}function hm(t,e){const n=pu(e);if(n){let r=0;for(let i=0;i<n.length;i++)n[i].status!==2&&(n[r]=n[i],r++);n.length=r,AD(e,n.length>0?n:void 0)}dm(e,r=>{hm(t,r)})}function dW(t,e){const n=Wd(MD(t,e)),r=Hb(t.transactionQueueTree_,e);return H8(r,i=>{Ag(t,i)}),Ag(t,r),PD(r,i=>{Ag(t,i)}),n}function Ag(t,e){const n=pu(e);if(n){const r=[];let i=[],s=-1;for(let o=0;o<n.length;o++)n[o].status===3||(n[o].status===1?(ke(s===o-1,"All SENT items should be at beginning of queue."),s=o,n[o].status=3,n[o].abortReason="set"):(ke(n[o].status===0,"Unexpected transaction status in abort"),n[o].unwatcher(),i=i.concat(ll(t.serverSyncTree_,n[o].currentWriteId,!0)),n[o].onComplete&&r.push(n[o].onComplete.bind(null,new Error("set"),!1,null))));s===-1?AD(e,void 0):n.length=s+1,Da(t.eventQueue_,Wd(e),i);for(let o=0;o<r.length;o++)jd(r[o])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hW(t){let e="";const n=t.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}e+="/"+i}return e}function fW(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const n of t.split("&")){if(n.length===0)continue;const r=n.split("=");r.length===2?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):Qr(`Invalid query segment '${n}' in query '${t}'`)}return e}const QE=function(t,e){const n=pW(t),r=n.namespace;n.domain==="firebase.com"&&va(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&va("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||HH();const i=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new e7(n.host,n.secure,r,i,e,"",r!==n.subdomain),path:new cn(n.pathString)}},pW=function(t){let e="",n="",r="",i="",s="",o=!0,a="https",l=443;if(typeof t=="string"){let u=t.indexOf("//");u>=0&&(a=t.substring(0,u-1),t=t.substring(u+2));let c=t.indexOf("/");c===-1&&(c=t.length);let h=t.indexOf("?");h===-1&&(h=t.length),e=t.substring(0,Math.min(c,h)),c<h&&(i=hW(t.substring(c,h)));const f=fW(t.substring(Math.min(t.length,h)));u=e.indexOf(":"),u>=0?(o=a==="https"||a==="wss",l=parseInt(e.substring(u+1),10)):u=e.length;const p=e.slice(0,u);if(p.toLowerCase()==="localhost")n="localhost";else if(p.split(".").length<=2)n=p;else{const g=e.indexOf(".");r=e.substring(0,g).toLowerCase(),n=e.substring(g+1),s=r}"ns"in f&&(s=f.ns)}return{host:e,port:l,domain:n,subdomain:r,secure:o,scheme:a,pathString:i,namespace:s}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kb{constructor(e,n,r,i){this._repo=e,this._path=n,this._queryParams=r,this._orderByCalled=i}get key(){return gt(this._path)?null:QR(this._path)}get ref(){return new mu(this._repo,this._path)}get _queryIdentifier(){const e=ME(this._queryParams),n=Ab(e);return n==="{}"?"default":n}get _queryObject(){return ME(this._queryParams)}isEqual(e){if(e=Pt(e),!(e instanceof Kb))return!1;const n=this._repo===e._repo,r=ZR(this._path,e._path),i=this._queryIdentifier===e._queryIdentifier;return n&&r&&i}toJSON(){return this.toString()}toString(){return this._repo.toString()+C7(this._path)}}class mu extends Kb{constructor(e,n){super(e,n,new xb,!1)}get parent(){const e=JR(this._path);return e===null?null:new mu(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}R8(mu);D8(mu);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mW="FIREBASE_DATABASE_EMULATOR_HOST",my={};let gW=!1;function vW(t,e,n,r,i){let s=r||t.options.databaseURL;s===void 0&&(t.options.projectId||va("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),dr("Using default host for project ",t.options.projectId),s=`${t.options.projectId}-default-rtdb.firebaseio.com`);let o=QE(s,i),a=o.repoInfo,l,u;typeof process<"u"&&gE&&(u=gE[mW]),u?(l=!0,s=`http://${u}?ns=${a.namespace}`,o=QE(s,i),a=o.repoInfo):l=!o.repoInfo.secure;const c=i&&l?new iy(iy.OWNER):new ZH(t.name,t.options,e);G8("Invalid Firebase Database URL",o),gt(o.path)||va("Database URL must point to the root of a Firebase Database (not including a child path).");const h=_W(a,t,c,new JH(t.name,n));return new bW(h,t)}function yW(t,e){const n=my[e];(!n||n[t.key]!==t)&&va(`Database ${e}(${t.repoInfo_}) has already been deleted.`),lW(t),delete n[t.key]}function _W(t,e,n,r){let i=my[e.name];i||(i={},my[e.name]=i);let s=i[t.toURLString()];return s&&va("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new nW(t,gW,n,r),i[t.toURLString()]=s,s}class bW{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(rW(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new mu(this._repo,Ht())),this._rootInternal}_delete(){return this._rootInternal!==null&&(yW(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&va("Cannot call "+e+" on a deleted database.")}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wW(t){FH(Oo),Ur(new Pr("database",(e,{instanceIdentifier:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),s=e.getProvider("app-check-internal");return vW(r,i,s,n)},"PUBLIC").setMultipleInstances(!0)),er(vE,yE,t),er(vE,yE,"esm2017")}Is.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};Is.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};wW();function FD(t){return C9(CR(t))}function TW(t){return IW({initialUser:t,dependencies:{popupRedirectResolver:IR,persistence:[wR,mR,Ib]}})}const EW=Symbol("VueFireAuth");function IW({dependencies:t,initialUser:e}){return(n,r)=>{const[i,s]=SW(n,r,e,t);VH(i,s)}}function SW(t,e,n,r,i=iR(t,r)){const s=NH(t,e).run(()=>Te(n));return MH.set(t,s),e.provide(EW,i),[s,i]}function CW(t,{firebaseApp:e,modules:n=[]}){t.provide(SR,e);for(const r of n)r(e,t)}const $D={name:"Sander Derks",role:"Full-Stack Developer",service:"Software Development",location:{country:"The Netherlands",city:"Nijmegen"}},AW={avatarUrl:"/images/avatar-small.jpg",headerDescriptionGuest:["Loading"],headerDescriptionUser:["Loading"],blogDescriptionGuest:["Loading"],blogDescriptionUser:["Loading"],blogLoginGuest:"",dashboardDescription:["Loading"],privacyStatement:["Loading"],footerCopyright:"Sander Derks. All rights reserved."},OW=[{name:"",description:"Loading...",technologies:[],loading:!0},{name:"",description:"Loading...",technologies:[],loading:!0},{name:"",description:"Loading...",technologies:[],loading:!0},{name:"",description:"Loading...",technologies:[],loading:!0}],PW=[{id:"1",name:"Loading...",url:"#",loading:!0},{id:"2",name:"Loading...",url:"#",loading:!0},{id:"3",name:"Loading...",url:"#",loading:!0}],Ere=[{value:"left",label:"Left"},{value:"center",label:"Center"},{value:"right",label:"Right"}];var Vi;(t=>{t.mapIncoming=async e=>{var n,r,i,s,o,a;return{...e,alignment:e.alignment??"center",date:e.date.toDate(),dateUpdated:((n=e.dateUpdated)==null?void 0:n.toDate())??null,datePinned:((r=e.datePinned)==null?void 0:r.toDate())??null,reactions:await Promise.all((await Promise.all(((i=e.reactions)==null?void 0:i.map(async l=>await ni(l)))??[])).map(async l=>rp.mapIncoming(l,e.id)).filter(l=>!!l)),sections:((s=e.sections)==null?void 0:s.map(l=>{var u,c;return{...l,id:l.id??_5(),subTitle:l.subTitle??"",alignment:l.alignment??"center",countdown:((u=l.countdown)==null?void 0:u.toDate())??null,timer:((c=l.timer)==null?void 0:c.toDate())??null,coverImageUrl:l.coverImageUrl??"",bullets:l.bullets??[],table:l.table??""}}))??[],countdown:((o=e.countdown)==null?void 0:o.toDate())??null,timer:((a=e.timer)==null?void 0:a.toDate())??null,archived:e.archived??!1,table:e.table??""}},t.convert=e=>({title:e.title,description:e.description,descriptionFooter:e.descriptionFooter??"",alignment:e.alignment??"left",sections:e.sections??[],date:e.date,dateUpdated:e.dateUpdated,datePinned:e.datePinned,locked:e.locked??!1,colorPrimary:e.colorPrimary??"",colorSecondary:e.colorSecondary??"",colorTertiary:e.colorTertiary??"",opacityPrimary:e.opacityPrimary??"",opacitySecondary:e.opacitySecondary??"",opacityTertiary:e.opacityTertiary??"",coverImageUrl:e.coverImageUrl??"",allowedUserIds:e.allowedUserIds??[],countdown:e.countdown,timer:e.timer,archived:e.archived,table:e.table}),(e=>{e.convert=n=>({title:n.title,description:n.description,descriptionFooter:n.descriptionFooter,sections:n.sections,coverImageUrl:n.coverImageUrl,countdown:n.countdown,timer:n.timer,table:n.table}),e.instanceOf=n=>["title","description","descriptionFooter","sections","coverImageUrl","countdown","timer","table"].every(r=>r in n)})(t.Content||(t.Content={})),(e=>{e.convert=n=>({alignment:n.alignment,colorPrimary:n.colorPrimary,colorSecondary:n.colorSecondary,colorTertiary:n.colorTertiary,opacityPrimary:n.opacityPrimary,opacitySecondary:n.opacitySecondary,opacityTertiary:n.opacityTertiary}),e.instanceOf=n=>["alignment","colorPrimary","colorSecondary","colorTertiary","opacityPrimary","opacitySecondary","opacityTertiary"].every(r=>r in n)})(t.Styling||(t.Styling={})),(e=>{e.convert=n=>({locked:n.locked,allowedUserIds:n.allowedUserIds,archived:n.archived,datePinned:n.datePinned}),e.instanceOf=n=>["locked","archived","datePinned"].every(r=>r in n)})(t.Settings||(t.Settings={}))})(Vi||(Vi={}));var rp;(t=>{t.mapIncoming=async(e,n)=>{if(!e)return null;const r=await ni(e.user);return r?{...e,user:r,postId:n,date:e.date.toDate()}:null},t.convert=e=>({userId:e.user.id,postId:e.postId,message:e.message,date:e.date})})(rp||(rp={}));var ed;(t=>{t.mapIncoming=async e=>{var n,r;return{...e,firstName:e.firstName??"",lastName:e.lastName??"",createdAt:(n=e.createdAt)==null?void 0:n.toDate(),lastLogin:(r=e.lastLogin)==null?void 0:r.toDate()}},t.convert=e=>({firstName:e.firstName,lastName:e.lastName})})(ed||(ed={}));var XE;(t=>{t.convert=e=>({displayName:e.displayName,avatar:e.avatar??""})})(XE||(XE={}));const UD=[{value:"bg-primary-900",label:"Default",background:"bg-primary-900",text:"text-white"},{value:"bg-red-700",label:"Important",background:"bg-red-700",text:"text-white"},{value:"bg-orange-500",label:"Orange",background:"bg-orange-500",text:"text-orange-900"},{value:"bg-yellow-900",label:"Amber",background:"bg-yellow-900",text:"text-yellow-500"},{value:"bg-yellow-500",label:"Yellow",background:"bg-yellow-500",text:"text-yellow-900"},{value:"bg-green-500",label:"Green",background:"bg-green-500",text:"text-green-900"},{value:"bg-cyan-500",label:"Aqua",background:"bg-cyan-500",text:"text-cyan-900"},{value:"bg-blue-600",label:"Blue",background:"bg-blue-600",text:"text-blue-900"},{value:"bg-purple-600",label:"Purple",background:"bg-purple-600",text:"text-purple-900"},{value:"bg-pink-600",label:"Pink",background:"bg-pink-600",text:"text-pink-900"},{value:"bg-gray-900",label:"Gray",background:"bg-gray-900",text:"text-white"}],Ire=t=>UD.map((e,n)=>n===0?{value:"",label:"Match Primary",background:(t==null?void 0:t.background)||"bg-primary-900",text:(t==null?void 0:t.text)||"text-white"}:e),Sre=UD.map((t,e)=>e===0?{value:"",label:"Default",background:"bg-primary-700",text:"text-white"}:t),Cre=[{value:"",label:"Default"},{value:"bg-opacity-10",label:"10"},{value:"bg-opacity-20",label:"20"},{value:"bg-opacity-30",label:"30"},{value:"bg-opacity-40",label:"40"},{value:"bg-opacity-50",label:"50"},{value:"bg-opacity-60",label:"60"},{value:"bg-opacity-70",label:"70"},{value:"bg-opacity-80",label:"80"},{value:"bg-opacity-90",label:"90"},{value:"bg-opacity-100",label:"100"}],Rt=FD(),$t={content:ti(Rt,"content"),projects:ti(Rt,"projects"),menuItems:t=>ti(Rt,t?"menuItemsPrivate":"menuItems"),menuItemsPrivate:ti(Rt,"menuItemsPrivate"),blogPosts:t=>ti(Rt,t?"blogPostsPrivate":"blogPosts"),blogPostsPrivate:ti(Rt,"blogPostsPrivate"),blogReactions:t=>ti(Rt,t?"blogReactionsPrivate":"blogReactions"),users:ti(Rt,"users"),usersPublic:ti(Rt,"usersPublic"),files:ti(Rt,"files")},ip=GO("main",{state:()=>({profile:$D,content:AW,menuItems:PW,projects:OW,blogPosts:{visibility:"public",data:{public:[],private:[],single:null},previousData:{public:[],private:[],single:null},isLastPage:!1,isLoading:{public:{fetch:!1,mutation:!1},private:{fetch:!1,mutation:!1}},isDatabaseCreationActive:!1,isDatabaseMutationActive:!1,isDatabaseDeletionActive:!1,loadedOnce:!1},blogReactions:{isDatabaseCreationActive:!1,isDatabaseDeletionActive:!1,unread:[]},users:[],publicUsers:[],isOnline:!0,debug:!1,isFetchAllLoading:!1}),getters:{filteredProjects:t=>t.projects.filter(e=>!e.loading),filteredMenuItems:t=>t.menuItems.filter(e=>!e.loading),visibleMenuItems:t=>t.menuItems.filter(e=>!e.invisible),allBlogPosts:t=>[...t.blogPosts.data.public,...t.blogPosts.data.private],visibleBlogPosts:t=>t.blogPosts.data[t.blogPosts.visibility],previousVisibleBlogPosts:t=>t.blogPosts.previousData[t.blogPosts.visibility],isBlogPostsFetchLoading:t=>t.blogPosts.isLoading.public.fetch||t.blogPosts.isLoading.private.fetch,isBlogPostsMutationLoading:t=>t.blogPosts.isLoading.public.mutation||t.blogPosts.isLoading.private.mutation,isBlogPostDatabaseActionActive:t=>t.blogPosts.isDatabaseCreationActive||t.blogPosts.isDatabaseMutationActive||t.blogPosts.isDatabaseDeletionActive||t.blogReactions.isDatabaseCreationActive||t.blogReactions.isDatabaseDeletionActive},actions:{async fetchAll(t,e){try{this.isFetchAllLoading||(this.isFetchAllLoading=!0,console.log("attempt to fetch all"),(this.debug||this.isOnline&&(!this.filteredMenuItems.length||e))&&(console.log("fetch all"),this.blogPosts.data={public:[],private:[],single:null},this.blogPosts.visibility=t?"private":"public",await Promise.all([this.fetchProjects(),this.fetchMenuItems(t),this.fetchBlogPosts(t),this.fetchContent(),this.fetchPublicUsers()]),td().isOwner&&await this.fetchUsers()))}catch(n){$e.firebaseError(this.debug,n)}finally{this.isFetchAllLoading=!1}},async fetchContent(){try{const t=await ni(At(Rt,$t.content.id,"production"));this.content={...this.content,...t||{}}}catch(t){$e.firebaseError(this.debug,t)}},async fetchProjects(){try{const t=await Promise.all((await Fo($t.projects)).map(async e=>({...e,technologies:await Promise.all(e.technologies.map(async n=>await ni(n)))})));this.projects=t.length?GT(t):this.projects}catch(t){$e.firebaseError(this.debug,t)}},moveProject(t,e){const n=this.projects.splice(t,1)[0];this.projects.splice(e,0,n)},async fetchMenuItems(t){try{let e=await Fo($t.menuItems());if(t)try{e=e.concat(await Fo($t.menuItemsPrivate,[LT("allowedUserIds","array-contains",At(Rt,$t.usersPublic.id,t).id)]))}catch{}return this.menuItems=e.length?GT(e):this.menuItems,this.menuItems}catch(e){$e.firebaseError(this.debug,e)}},async fetchBlogPosts(t,e={}){const n=e.visibility??this.blogPosts.visibility;e.loadingIndicator!==!1&&(this.blogPosts.isLoading[n].fetch=!0);try{const i=this.blogPosts.data[n][this.blogPosts.data[n].length-1],s=[VT("datePinned","desc"),VT("date","desc"),L9(e.amount||3)];this.visibleBlogPosts.length||(this.blogPosts.isLastPage=!1),e.amount&&e.loadingIndicator!==!1&&(this.blogPosts.data[n]=[]),!e.amount&&i&&s.push(V9(i.datePinned,i.date));var r=[];n==="private"&&t?r=await Fo($t.blogPostsPrivate,[LT("allowedUserIds","array-contains",At(Rt,$t.usersPublic.id,t).id),...s]):n==="public"&&(r=await Fo($t.blogPosts(!1),s));const o=await Promise.all(r.map(async a=>await Vi.mapIncoming(a)));if(e.amount)this.blogPosts.data[n]=o;else for(const a of o)this.blogPosts.data[n].push(a);o.length<3&&(this.blogPosts.isLastPage=!0)}catch(i){$e.firebaseError(this.debug,i)}finally{this.blogPosts.isLoading[n].fetch=!1}},async fetchBlogPost(t,e,n={}){console.log("attempt to fetch single");const r=(e==null?void 0:e.visibility)??"public";n.loadingIndicator!==!1&&(this.blogPosts.isLoading[r].fetch=!0);try{var i=await ni(At($t.blogPosts(!!(e!=null&&e.isPrivate)),t));return i||(i=await ni(At($t.blogPostsPrivate,t))),i?(this.blogPosts.data.single=await Vi.mapIncoming(i),this.blogPosts.data.single):null}catch(s){return $e.firebaseError(this.debug,s).errorCode??null}finally{this.blogPosts.isLoading[r].fetch=!1}},async fetchUsers(){try{const t=await Fo($t.users);this.users=await Promise.all(t.map(async e=>await ed.mapIncoming(e)))}catch(t){return $e.firebaseError(this.debug,t),null}},async fetchPublicUsers(){try{this.publicUsers=await Fo($t.usersPublic)}catch(t){return $e.firebaseError(this.debug,t),null}},async fetchPublicUser(t){try{return await ni(At(Rt,$t.usersPublic.id,t))}catch(e){return $e.firebaseError(this.debug,e),null}},async allowedPublicUsers(t){try{return(await Promise.all(t.map(async n=>{const r=await this.fetchPublicUser(n);return r?{...r,displayName:r.displayName||"Anonymous"}:null}))).filter(Boolean)}catch{return[]}},setPreviousBlogPosts(){this.blogPosts.previousData.single=this.blogPosts.data.single,this.blogPosts.previousData[this.blogPosts.visibility]=this.visibleBlogPosts},checkBlogPostForUnreadReactions(t,e){const n=this.blogReactions.unread.length;if(t){let r;if(e?r=this.blogPosts.data.single:r=this.visibleBlogPosts.find(i=>i.id===t.id),r&&r.reactions.length!==t.reactions.length){const i=r.reactions.filter(s=>!t.reactions.some(o=>o.id===s.id));for(const s of i)this.blogReactions.unread.every(o=>o.id!==s.id)&&this.blogReactions.unread.push(s)}}e&&(n!==this.blogReactions.unread.length&&$e.update("There are unread comments on this page"),this.setPreviousBlogPosts())},checkBlogPostsForUnreadReactions(){const t=this.blogReactions.unread.length;if(this.previousVisibleBlogPosts.length)for(const e of this.previousVisibleBlogPosts)this.checkBlogPostForUnreadReactions(e);t!==this.blogReactions.unread.length&&$e.update("There are unread comments on this page"),this.setPreviousBlogPosts()},async createBlogPost(t,e,n,r={includeTime:!1,fetch:!0}){const i=$o(e);this.blogPosts.isLoading[i.visibility].mutation=!0,this.blogPosts.isDatabaseCreationActive=!0;try{return await jf(At(Rt,$t.blogPosts(i.isPrivate).id,t),{...e,date:r!=null&&r.includeTime?e.date:dn.now(),dateUpdated:r!=null&&r.includeTime?e.dateUpdated:null,countdown:e.countdown?dn.fromDate(e.countdown):null,timer:e.timer?dn.fromDate(e.timer):null}),this.blogPosts.visibility=i.visibility,r!=null&&r.fetch&&this.fetchBlogPosts(n,{amount:this.visibleBlogPosts.length+1}),$e.success("Successfully created Post"),!0}catch(s){return $e.firebaseError(this.debug,s),!1}finally{this.setPreviousBlogPosts(),this.blogPosts.isLoading[i.visibility].mutation=!1,this.blogPosts.isDatabaseCreationActive=!1}},async updateBlogPost(t,e,n,r){try{this.blogPosts.isDatabaseMutationActive=!0,this.blogPosts.isLoading[n.visibility].mutation=!0;const i=$t.blogPosts(n.isPrivate).id;let s="";if(Vi.Content.instanceOf(e)&&(await hs(At(Rt,i,t),{...Vi.Content.convert(e),dateUpdated:dn.now()}),s="content"),Vi.Styling.instanceOf(e)&&(await hs(At(Rt,i,t),{...Vi.Styling.convert(e)}),s="styling"),Vi.Settings.instanceOf(e)&&(await hs(At(Rt,i,t),{...Vi.Settings.convert(e)}),s="settings"),s==="content"||s==="styling"){let o=await this.fetchBlogPost(t,n);X1(o)&&(o=null),this.blogPosts.data[n.visibility]=this.blogPosts.data[n.visibility].map(a=>a.id===(o==null?void 0:o.id)?o:a)}else this.fetchBlogPosts(r,{amount:this.blogPosts.data[n.visibility].length});return s}catch(i){$e.firebaseError(this.debug,i)}finally{this.setPreviousBlogPosts(),this.blogPosts.isLoading[n.visibility].mutation=!1,this.blogPosts.isDatabaseMutationActive=!1}},async toggleBlogPostVisibility(t,e,n,r,i){try{this.blogPosts.isDatabaseMutationActive=!0,this.blogPosts.isLoading[r].mutation=!0;const s=this.allBlogPosts.find(o=>o.id===t);if(await this.deleteBlogPost(t,{includeFiles:!1,includeReactions:!1}),s&&await this.createBlogPost(t,e,i,{includeTime:!0,fetch:!1})){let o;do this.blogPosts.data[r]=[],await this.fetchBlogPosts(i,{visibility:r}),o=this.allBlogPosts.find(a=>a.id===t);while(!o);if(this.blogPosts.visibility=r,o){for(const a of n)await this.deleteBlogReaction(a.id,s,{mutatePost:!1,fetch:!1})||$e.error("Failed to delete old Reaction",{debug:this.debug}),await this.createBlogReaction(o,rp.convert(a),{includeTime:!0,fetch:!1})||$e.error("Failed to re-create Reaction",{debug:this.debug});for(const a of this.getFilesOfPost(s)){const l=YT(a);await this.updateFileInfo(l.name,o)||$e.error("Failed to move Image",{debug:this.debug})}return this.fetchBlogPosts(i,{amount:this.visibleBlogPosts.length}),!0}else return $e.error("Failed to re-create Post",{debug:this.debug}),!1}else return $e.error("Failed to re-create Post",{debug:this.debug}),!1}catch(s){return $e.firebaseError(this.debug,s),!1}finally{this.setPreviousBlogPosts(),this.blogPosts.isLoading[r].mutation=!1,this.blogPosts.isDatabaseMutationActive=!1}},async deleteBlogPost(t,e={includeFiles:!0,includeReactions:!0}){try{this.blogPosts.isDatabaseDeletionActive=!0;const n=this.allBlogPosts.find(r=>r.id===t);if(n){e.includeReactions&&await this.deleteBlogReactionsOfBlogPost(n),e.includeFiles&&await this.deleteFilesOfBlogPost(n);const r=$o(n);return await Zu(At(Rt,$t.blogPosts(r.isPrivate).id,t)),this.blogPosts.data[r.visibility]=this.blogPosts.data[r.visibility].filter(i=>i.id!==t),$e.success("Successfully deleted Post"),!0}return!1}catch(n){return $e.firebaseError(this.debug,n),!1}finally{this.setPreviousBlogPosts(),this.blogPosts.isDatabaseDeletionActive=!1}},async createBlogReaction(t,e,n={includeTime:!1,fetch:!0}){try{this.blogReactions.isDatabaseCreationActive=!0;const r=$o(t),i=At(Rt,$t.blogPosts(r.isPrivate).id,t.id),s=await ni(i);if(s){const o=await y5($t.blogReactions(r.isPrivate),{user:At(Rt,$t.usersPublic.id,e.userId),message:e.message,date:n!=null&&n.includeTime?e.date:dn.now(),post:i});if(await hs(At(Rt,$t.blogPosts(r.isPrivate).id,s.id),{reactions:[...s.reactions??[],o]}),n!=null&&n.fetch){let a=await this.fetchBlogPost(s.id,r,{loadingIndicator:!1});X1(a)&&(a=null),this.blogPosts.data[r.visibility]=this.blogPosts.data[r.visibility].map(l=>l.id===s.id?a??l:l)}return $e.success("Successfully created Reaction"),!0}return!1}catch(r){return $e.firebaseError(this.debug,r),!1}finally{this.setPreviousBlogPosts(),this.blogReactions.isDatabaseCreationActive=!1}},async deleteBlogReaction(t,e,n={mutatePost:!0,fetch:!0}){var r;try{this.blogReactions.isDatabaseDeletionActive=!0;const i=$o(e);if(n.mutatePost){const s=At(Rt,$t.blogPosts(i.isPrivate).id,e.id),o=await ni(s);o&&await hs(s,{reactions:((r=o.reactions)==null?void 0:r.filter(a=>a.id!==t))??[]})}return await Zu(At(Rt,$t.blogReactions(i.isPrivate).id,t)),n!=null&&n.fetch&&(e.reactions=e.reactions.filter(s=>s.id!==t),this.blogPosts.data[i.visibility]=this.blogPosts.data[i.visibility].map(s=>s.id===e.id?e:s)),$e.success("Successfully deleted Reaction"),!0}catch(i){return $e.firebaseError(this.debug,i),!1}finally{this.setPreviousBlogPosts(),this.blogReactions.isDatabaseDeletionActive=!1}},async deleteBlogReactionsOfBlogPost(t){try{this.blogReactions.isDatabaseDeletionActive=!0;const e=$o(t),n=(t==null?void 0:t.reactions)??[];for(const r of n)await Zu(At(Rt,$t.blogReactions(e.isPrivate).id,r.id));return n.length&&$e.success(`Successfully deleted ${n.length} Reaction${n.length!==1?"s":""}`),!0}catch(e){return $e.firebaseError(this.debug,e),!1}finally{this.setPreviousBlogPosts(),this.blogReactions.isDatabaseDeletionActive=!1}},getFilesOfPost(t,e){var r,i;const n=[];if(t.coverImageUrl&&(!e||!e.coverImageUrl)&&n.push(t.coverImageUrl),t.sections.length)for(const[s,o]of t.sections.entries()){const a=(i=(r=e==null?void 0:e.sections)==null?void 0:r[s])==null?void 0:i.coverImageUrl,l=o.coverImageUrl;l&&(!e||!a)&&n.push(l)}return n},async fetchFileInfo(t){try{return await ni(At(Rt,$t.files.path,t))}catch(e){return $e.firebaseError(this.debug,e),null}},async uploadFile(t,e,n,r,i,s,o){return await this.createFileInfo(t.name,r,i,s,o)&&await this.createFile(t,e,n)},async createFile(t,e,n){try{const r=r5(t,e);return r.on("state_changed",i=>{const s=i.bytesTransferred/i.totalBytes*100;n(s)}),await r,$e.success("Successfully uploaded File"),!0}catch(r){return $e.firebaseError(this.debug,r),!1}},async createFileInfo(t,e,n,r,i){try{let s;if(i){const o=$o(i);s=At(Rt,$t.blogPosts(o.isPrivate).id,i.id)}return await jf(At(Rt,$t.files.path,t),{name:e,owner:n,post:s??null,public:r??!1}),!0}catch(s){return $e.firebaseError(this.debug,s),!1}},async updateFileInfo(t,e){try{let n;if(e){const r=$o(e);n=At(Rt,$t.blogPosts(r.isPrivate).id,e.id)}return await hs(At(Rt,$t.files.path,t),{post:n??null}),!0}catch(n){return $e.firebaseError(this.debug,n),!1}},async deleteFile(t,e=!1){try{return await Zu(At(Rt,$t.files.path,t.name)),await i5(t),e||$e.success("Successfully deleted File"),!0}catch(n){return $e.firebaseError(this.debug,n),!1}},async deleteFilesOfBlogPost(t,e){try{const n=this.getFilesOfPost(t,e);for(const r of n)await this.deleteFile(YT(r),!0);return n.length&&$e.success(`Successfully deleted ${n.length} File${n.length!==1?"s":""}`),!0}catch(n){return $e.firebaseError(this.debug,n),!1}},toggleOnline(){this.isOnline=!this.isOnline},toggleDebug(){this.debug=!this.debug}},persist:{enabled:!0}}),tl=DH(WO);tl.onAuthStateChanged(t=>{td().fetchUser(t);const e=ip();e.filteredMenuItems.length,e.$patch({blogPosts:{...e.blogPosts,data:{...e.blogPosts.data,private:[]}}}),e.fetchAll(t==null?void 0:t.uid,!0)});const Fi=FD(),Bs={users:ti(Fi,"users"),usersPublic:ti(Fi,"usersPublic")},td=GO("auth",{state:()=>({currentUser:null,publicUser:null,firebaseUser:tl.currentUser,isLoginLoading:!1,isMutationLoading:!1,isLogoutLoading:!1}),getters:{isOwner:t=>{var e;return((e=t.firebaseUser)==null?void 0:e.uid)==="wEaq28Vfx8aygJ6TUi0hDrNut1F2"}},actions:{async fetchUser(t){if(this.firebaseUser=t,t){this.publicUser=await ni(At(Fi,Bs.usersPublic.id,t.uid));const e=await ni(At(Fi,Bs.users.id,t.uid));e!=null&&(this.currentUser=await ed.mapIncoming(e))}},async login(t,e){try{this.isLoginLoading=!0;const{user:n}=await _j(tl,t,e);await this.updateUserLastLogin(n.uid),await this.fetchUser(n),ip().fetchAll(n.uid,!0),$e.success("Successfully logged in",{route:ul.DASHBOARD})}catch(n){$e.firebaseError(!1,n)}finally{this.isLoginLoading=!1}},async register(t,e,n){try{this.isLoginLoading=!0;const{user:r}=await yj(tl,t,e);await jf(At(Fi,Bs.users.id,r.uid),{firstName:n,createdAt:new Date}),await this.updatePublicUser({displayName:"Anonymous",avatar:""}),await this.fetchUser(r),$e.success("Successfully created your account",{route:ul.DASHBOARD})}catch(r){$e.firebaseError(!1,r)}finally{this.isLoginLoading=!1}},async updateMail(t,e){try{if(this.isLoginLoading=!0,this.firebaseUser&&this.firebaseUser.email){const n=To.credential(this.firebaseUser.email,e);await oE(this.firebaseUser,n),await bj(this.firebaseUser,t),$e.success("Successfully changed your e-mail")}}catch(n){$e.firebaseError(!1,n)}finally{this.isLoginLoading=!1}},async updatePassword(t,e){try{if(this.isLoginLoading=!0,this.firebaseUser&&this.firebaseUser.email){const n=To.credential(this.firebaseUser.email,e);await oE(this.firebaseUser,n),await wj(this.firebaseUser,t),$e.success("Successfully changed your password")}}catch(n){$e.firebaseError(!1,n)}finally{this.isLoginLoading=!1}},async resetPassword(t){try{await vj(tl,t),$e.success("Successfully requested password reset")}catch(e){$e.firebaseError(!1,e)}},async updateUser(t){try{this.isMutationLoading=!0,this.currentUser&&this.firebaseUser&&(vc(ed.convert(this.currentUser),t)?$e.warning("Nothing changed in your details"):(await hs(At(Fi,Bs.users.id,this.firebaseUser.uid),{firstName:t.firstName,lastName:t.lastName}),await this.fetchUser(this.firebaseUser),$e.success("Successfully updated your profile")))}catch(e){$e.firebaseError(!1,e)}finally{this.isMutationLoading=!1}},async updateUserLastLogin(t){try{await hs(At(Fi,Bs.users.id,t),{lastLogin:new Date})}catch(e){$e.firebaseError(!1,e)}},async updatePublicUser(t){try{this.isMutationLoading=!0,this.publicUser?vc(this.publicUser,t)?$e.warning("Nothing changed in your public profile"):(await hs(At(Fi,Bs.usersPublic.id,this.publicUser.id),{displayName:t.displayName,avatar:t.avatar}),await this.fetchUser(this.firebaseUser),$e.success("Successfully updated your public profile")):this.firebaseUser?(await jf(At(Fi,Bs.usersPublic.id,this.firebaseUser.uid),{displayName:t.displayName,avatar:t.avatar}),await this.fetchUser(this.firebaseUser),$e.success("Successfully updated your public profile")):$e.firebaseError(!1)}catch(e){$e.firebaseError(!1,e)}finally{this.isMutationLoading=!1}},async logout(){try{this.isLogoutLoading=!0,await Ej(tl),this.currentUser=null,this.publicUser=null,ip().fetchAll(void 0,!0),$e.success("Successfully logged out",{route:ul.HOME})}catch(t){$e.firebaseError(!1,t)}finally{this.isLogoutLoading=!1}},async deleteAccount(){try{this.isLogoutLoading=!0,this.currentUser&&this.firebaseUser&&(await Zu(At(Fi,Bs.users.id,this.firebaseUser.uid)),await Ij(this.firebaseUser),this.currentUser=null,this.publicUser=null,$e.success("Successfully deleted your account",{route:ul.HOME}))}catch(t){$e.firebaseError(!1,t)}finally{this.isLogoutLoading=!1}}},persist:{enabled:!0}}),JE=()=>xi(()=>import("./assets/Blog-DplHBxWj.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8]),import.meta.url),kW=()=>xi(()=>import("./assets/CatCalc-IyYtYuHg.js"),__vite__mapDeps([9,1,6,2]),import.meta.url),RW=()=>xi(()=>import("./assets/CustomVoting-D_iEDxHP.js"),__vite__mapDeps([10,1,3,4,11,12]),import.meta.url),DW=()=>xi(()=>import("./assets/Dashboard-I2bUifYv.js"),__vite__mapDeps([13,1,5,2,14]),import.meta.url),xW=()=>xi(()=>import("./assets/Games-P0Y6FEbw.js"),__vite__mapDeps([15,1,11,16]),import.meta.url),NW=()=>xi(()=>import("./assets/Home-Ba-8LmlR.js"),__vite__mapDeps([17,1,7,11,18]),import.meta.url),MW=()=>xi(()=>import("./assets/Login-UtOJH2vT.js"),__vite__mapDeps([19,1,14,2]),import.meta.url),LW=()=>xi(()=>import("./assets/NotFound-Dw4Mk8ZP.js"),__vite__mapDeps([20,1]),import.meta.url),VW=()=>xi(()=>import("./assets/Profile-D7rxz6Oj.js"),__vite__mapDeps([21,1]),import.meta.url),FW=()=>xi(()=>import("./assets/Profiles-Dz01ea3r.js"),__vite__mapDeps([22,1]),import.meta.url),$W=()=>xi(()=>import("./assets/Register-B3gMyzGk.js"),__vite__mapDeps([23,1,14,2]),import.meta.url);var ul=(t=>(t.HOME="home",t.LOGIN="login",t.REGISTER="register",t.DASHBOARD="dashboard",t.USER_OVERVIEW="users",t.USER_DETAILS="user-details",t.BLOG="blog",t.BLOG_DETAILS="blog-details",t.CUSTOM_VOTING="customvoting",t.CAT_CALC="cat-calc",t.GAMES="games",t.NOT_FOUND="notfound",t))(ul||{});const UW={HOME:{path:"/",meta:{title:"Home"},component:NW,beforeEnter:(t,e,n)=>{var i;const r=decodeURIComponent(((i=t.query.path)==null?void 0:i.toString())||"");if(r){const s=r.split("/")[0];fm.getRoutes().find(o=>o.path.startsWith(`/${s}`))?n({path:r}):n({name:"notfound"})}else n()}},LOGIN:{path:"/login/:redirect?",meta:{title:"Login"},component:MW,beforeEnter:(t,e,n)=>{td().currentUser?n({name:"dashboard"}):n()}},REGISTER:{path:"/register",meta:{title:"Register"},component:$W,beforeEnter:(t,e,n)=>{td().currentUser?n({name:"dashboard"}):n()}},DASHBOARD:{path:"/dashboard",meta:{title:"Dashboard"},component:DW},USER_OVERVIEW:{path:"/profiles",meta:{title:"Profiles"},component:FW},USER_DETAILS:{path:"/profiles/:userId",meta:{title:"Profile"},component:VW},BLOG:{path:"/blog",meta:{title:"Blog"},component:JE},BLOG_DETAILS:{path:"/blog/:postId",meta:{title:"Blog"},component:JE},CUSTOM_VOTING:{path:"/customvoting",meta:{title:"CustomVoting"},component:RW},CAT_CALC:{path:"/cat-calc",meta:{title:"CatCalc"},component:kW},GAMES:{path:"/games",meta:{title:"Games"},component:xW},NOT_FOUND:{path:"/:pathMatch(.*)*",meta:{title:"404"},component:LW}},BW=Object.entries(UW).map(([t,e])=>({...e,name:ul[t]})),fm=BV({history:yV(),routes:BW,scrollBehavior(t,e,n){return n||((t.name==="login"||t.name==="register")&&(e.name==="login"||e.name==="register")?!1:{top:0})}}),ZE=$D.name;fm.beforeEach(async(t,e,n)=>{var r;if(t===e)n();else if(!t.name)n({name:"notfound"});else{const i=t.name;if(["home","login","register","dashboard","notfound"].includes(i))n();else{const o=await ip().fetchMenuItems((r=td().firebaseUser)==null?void 0:r.uid);(o==null?void 0:o.some(l=>l.route?i===l.route:l.url?t.path.startsWith(l.url):!1))?n():n({name:"notfound"})}}});fm.beforeResolve(t=>{document.title=ZE+" | "+t.meta.title||ZE;const e=kO();RO(e,"screen_view",{screen_name:t.path})});const BD=fm;function ui(t){"@babel/helpers - typeof";return ui=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ui(t)}function Je(t){if(t===null||t===!0||t===!1)return NaN;var e=Number(t);return isNaN(e)?e:e<0?Math.ceil(e):Math.floor(e)}function Le(t,e){if(e.length<t)throw new TypeError(t+" argument"+(t>1?"s":"")+" required, but only "+e.length+" present")}function ze(t){Le(1,arguments);var e=Object.prototype.toString.call(t);return t instanceof Date||ui(t)==="object"&&e==="[object Date]"?new Date(t.getTime()):typeof t=="number"||e==="[object Number]"?new Date(t):((typeof t=="string"||e==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}function gs(t,e){Le(2,arguments);var n=ze(t),r=Je(e);return isNaN(r)?new Date(NaN):(r&&n.setDate(n.getDate()+r),n)}function Si(t,e){Le(2,arguments);var n=ze(t),r=Je(e);if(isNaN(r))return new Date(NaN);if(!r)return n;var i=n.getDate(),s=new Date(n.getTime());s.setMonth(n.getMonth()+r+1,0);var o=s.getDate();return i>=o?s:(n.setFullYear(s.getFullYear(),s.getMonth(),i),n)}function jD(t,e){if(Le(2,arguments),!e||ui(e)!=="object")return new Date(NaN);var n=e.years?Je(e.years):0,r=e.months?Je(e.months):0,i=e.weeks?Je(e.weeks):0,s=e.days?Je(e.days):0,o=e.hours?Je(e.hours):0,a=e.minutes?Je(e.minutes):0,l=e.seconds?Je(e.seconds):0,u=ze(t),c=r||n?Si(u,r+n*12):u,h=s||i?gs(c,s+i*7):c,f=a+o*60,p=l+f*60,g=p*1e3,b=new Date(h.getTime()+g);return b}function jW(t,e){Le(2,arguments);var n=ze(t).getTime(),r=Je(e);return new Date(n+r)}var HW={};function rs(){return HW}function wa(t,e){var n,r,i,s,o,a,l,u;Le(1,arguments);var c=rs(),h=Je((n=(r=(i=(s=e==null?void 0:e.weekStartsOn)!==null&&s!==void 0?s:e==null||(o=e.locale)===null||o===void 0||(a=o.options)===null||a===void 0?void 0:a.weekStartsOn)!==null&&i!==void 0?i:c.weekStartsOn)!==null&&r!==void 0?r:(l=c.locale)===null||l===void 0||(u=l.options)===null||u===void 0?void 0:u.weekStartsOn)!==null&&n!==void 0?n:0);if(!(h>=0&&h<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var f=ze(t),p=f.getDay(),g=(p<h?7:0)+p-h;return f.setDate(f.getDate()-g),f.setHours(0,0,0,0),f}function sp(t){return Le(1,arguments),wa(t,{weekStartsOn:1})}function WW(t){Le(1,arguments);var e=ze(t),n=e.getFullYear(),r=new Date(0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);var i=sp(r),s=new Date(0);s.setFullYear(n,0,4),s.setHours(0,0,0,0);var o=sp(s);return e.getTime()>=i.getTime()?n+1:e.getTime()>=o.getTime()?n:n-1}function qW(t){Le(1,arguments);var e=WW(t),n=new Date(0);n.setFullYear(e,0,4),n.setHours(0,0,0,0);var r=sp(n);return r}function op(t){var e=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return e.setUTCFullYear(t.getFullYear()),t.getTime()-e.getTime()}function eI(t){Le(1,arguments);var e=ze(t);return e.setHours(0,0,0,0),e}var zW=864e5;function KW(t,e){Le(2,arguments);var n=eI(t),r=eI(e),i=n.getTime()-op(n),s=r.getTime()-op(r);return Math.round((i-s)/zW)}function YW(t,e){Le(2,arguments);var n=Je(e),r=n*3;return Si(t,r)}function Yb(t,e){Le(2,arguments);var n=Je(e);return Si(t,n*12)}var Gb=6e4,Qb=36e5,GW=1e3;function HD(t){return Le(1,arguments),t instanceof Date||ui(t)==="object"&&Object.prototype.toString.call(t)==="[object Date]"}function Tc(t){if(Le(1,arguments),!HD(t)&&typeof t!="number")return!1;var e=ze(t);return!isNaN(Number(e))}function tI(t){Le(1,arguments);var e=ze(t),n=Math.floor(e.getMonth()/3)+1;return n}function WD(t,e){var n;Le(1,arguments);var r=t||{},i=ze(r.start),s=ze(r.end),o=s.getTime();if(!(i.getTime()<=o))throw new RangeError("Invalid interval");var a=[],l=i;l.setHours(0,0,0,0);var u=Number((n=e==null?void 0:e.step)!==null&&n!==void 0?n:1);if(u<1||isNaN(u))throw new RangeError("`options.step` must be a number greater than 1");for(;l.getTime()<=o;)a.push(ze(l)),l.setDate(l.getDate()+u),l.setHours(0,0,0,0);return a}function nd(t){Le(1,arguments);var e=ze(t),n=e.getMonth(),r=n-n%3;return e.setMonth(r,1),e.setHours(0,0,0,0),e}function QW(t){Le(1,arguments);var e=t||{},n=ze(e.start),r=ze(e.end),i=r.getTime();if(!(n.getTime()<=i))throw new RangeError("Invalid interval");var s=nd(n),o=nd(r);i=o.getTime();for(var a=[],l=s;l.getTime()<=i;)a.push(ze(l)),l=YW(l,1);return a}function XW(t){Le(1,arguments);var e=ze(t),n=e.getFullYear();return e.setFullYear(n+1,0,0),e.setHours(23,59,59,999),e}function JW(t){Le(1,arguments);var e=ze(t),n=new Date(0);return n.setFullYear(e.getFullYear(),0,1),n.setHours(0,0,0,0),n}function ZW(t,e){var n,r,i,s,o,a,l,u;Le(1,arguments);var c=rs(),h=Je((n=(r=(i=(s=e==null?void 0:e.weekStartsOn)!==null&&s!==void 0?s:e==null||(o=e.locale)===null||o===void 0||(a=o.options)===null||a===void 0?void 0:a.weekStartsOn)!==null&&i!==void 0?i:c.weekStartsOn)!==null&&r!==void 0?r:(l=c.locale)===null||l===void 0||(u=l.options)===null||u===void 0?void 0:u.weekStartsOn)!==null&&n!==void 0?n:0);if(!(h>=0&&h<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var f=ze(t),p=f.getDay(),g=(p<h?-7:0)+6-(p-h);return f.setDate(f.getDate()+g),f.setHours(23,59,59,999),f}function nI(t){Le(1,arguments);var e=ze(t),n=e.getMonth(),r=n-n%3+3;return e.setMonth(r,0),e.setHours(23,59,59,999),e}function qD(t,e){Le(2,arguments);var n=Je(e);return jW(t,-n)}var eq=864e5;function tq(t){Le(1,arguments);var e=ze(t),n=e.getTime();e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0);var r=e.getTime(),i=n-r;return Math.floor(i/eq)+1}function Gl(t){Le(1,arguments);var e=1,n=ze(t),r=n.getUTCDay(),i=(r<e?7:0)+r-e;return n.setUTCDate(n.getUTCDate()-i),n.setUTCHours(0,0,0,0),n}function zD(t){Le(1,arguments);var e=ze(t),n=e.getUTCFullYear(),r=new Date(0);r.setUTCFullYear(n+1,0,4),r.setUTCHours(0,0,0,0);var i=Gl(r),s=new Date(0);s.setUTCFullYear(n,0,4),s.setUTCHours(0,0,0,0);var o=Gl(s);return e.getTime()>=i.getTime()?n+1:e.getTime()>=o.getTime()?n:n-1}function nq(t){Le(1,arguments);var e=zD(t),n=new Date(0);n.setUTCFullYear(e,0,4),n.setUTCHours(0,0,0,0);var r=Gl(n);return r}var rq=6048e5;function KD(t){Le(1,arguments);var e=ze(t),n=Gl(e).getTime()-nq(e).getTime();return Math.round(n/rq)+1}function Ta(t,e){var n,r,i,s,o,a,l,u;Le(1,arguments);var c=rs(),h=Je((n=(r=(i=(s=e==null?void 0:e.weekStartsOn)!==null&&s!==void 0?s:e==null||(o=e.locale)===null||o===void 0||(a=o.options)===null||a===void 0?void 0:a.weekStartsOn)!==null&&i!==void 0?i:c.weekStartsOn)!==null&&r!==void 0?r:(l=c.locale)===null||l===void 0||(u=l.options)===null||u===void 0?void 0:u.weekStartsOn)!==null&&n!==void 0?n:0);if(!(h>=0&&h<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var f=ze(t),p=f.getUTCDay(),g=(p<h?7:0)+p-h;return f.setUTCDate(f.getUTCDate()-g),f.setUTCHours(0,0,0,0),f}function Xb(t,e){var n,r,i,s,o,a,l,u;Le(1,arguments);var c=ze(t),h=c.getUTCFullYear(),f=rs(),p=Je((n=(r=(i=(s=e==null?void 0:e.firstWeekContainsDate)!==null&&s!==void 0?s:e==null||(o=e.locale)===null||o===void 0||(a=o.options)===null||a===void 0?void 0:a.firstWeekContainsDate)!==null&&i!==void 0?i:f.firstWeekContainsDate)!==null&&r!==void 0?r:(l=f.locale)===null||l===void 0||(u=l.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&n!==void 0?n:1);if(!(p>=1&&p<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var g=new Date(0);g.setUTCFullYear(h+1,0,p),g.setUTCHours(0,0,0,0);var b=Ta(g,e),S=new Date(0);S.setUTCFullYear(h,0,p),S.setUTCHours(0,0,0,0);var R=Ta(S,e);return c.getTime()>=b.getTime()?h+1:c.getTime()>=R.getTime()?h:h-1}function iq(t,e){var n,r,i,s,o,a,l,u;Le(1,arguments);var c=rs(),h=Je((n=(r=(i=(s=e==null?void 0:e.firstWeekContainsDate)!==null&&s!==void 0?s:e==null||(o=e.locale)===null||o===void 0||(a=o.options)===null||a===void 0?void 0:a.firstWeekContainsDate)!==null&&i!==void 0?i:c.firstWeekContainsDate)!==null&&r!==void 0?r:(l=c.locale)===null||l===void 0||(u=l.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&n!==void 0?n:1),f=Xb(t,e),p=new Date(0);p.setUTCFullYear(f,0,h),p.setUTCHours(0,0,0,0);var g=Ta(p,e);return g}var sq=6048e5;function YD(t,e){Le(1,arguments);var n=ze(t),r=Ta(n,e).getTime()-iq(n,e).getTime();return Math.round(r/sq)+1}function Ut(t,e){for(var n=t<0?"-":"",r=Math.abs(t).toString();r.length<e;)r="0"+r;return n+r}var oq={y:function(e,n){var r=e.getUTCFullYear(),i=r>0?r:1-r;return Ut(n==="yy"?i%100:i,n.length)},M:function(e,n){var r=e.getUTCMonth();return n==="M"?String(r+1):Ut(r+1,2)},d:function(e,n){return Ut(e.getUTCDate(),n.length)},a:function(e,n){var r=e.getUTCHours()/12>=1?"pm":"am";switch(n){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h:function(e,n){return Ut(e.getUTCHours()%12||12,n.length)},H:function(e,n){return Ut(e.getUTCHours(),n.length)},m:function(e,n){return Ut(e.getUTCMinutes(),n.length)},s:function(e,n){return Ut(e.getUTCSeconds(),n.length)},S:function(e,n){var r=n.length,i=e.getUTCMilliseconds(),s=Math.floor(i*Math.pow(10,r-3));return Ut(s,n.length)}};const js=oq;var za={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},aq={G:function(e,n,r){var i=e.getUTCFullYear()>0?1:0;switch(n){case"G":case"GG":case"GGG":return r.era(i,{width:"abbreviated"});case"GGGGG":return r.era(i,{width:"narrow"});case"GGGG":default:return r.era(i,{width:"wide"})}},y:function(e,n,r){if(n==="yo"){var i=e.getUTCFullYear(),s=i>0?i:1-i;return r.ordinalNumber(s,{unit:"year"})}return js.y(e,n)},Y:function(e,n,r,i){var s=Xb(e,i),o=s>0?s:1-s;if(n==="YY"){var a=o%100;return Ut(a,2)}return n==="Yo"?r.ordinalNumber(o,{unit:"year"}):Ut(o,n.length)},R:function(e,n){var r=zD(e);return Ut(r,n.length)},u:function(e,n){var r=e.getUTCFullYear();return Ut(r,n.length)},Q:function(e,n,r){var i=Math.ceil((e.getUTCMonth()+1)/3);switch(n){case"Q":return String(i);case"QQ":return Ut(i,2);case"Qo":return r.ordinalNumber(i,{unit:"quarter"});case"QQQ":return r.quarter(i,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(i,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(i,{width:"wide",context:"formatting"})}},q:function(e,n,r){var i=Math.ceil((e.getUTCMonth()+1)/3);switch(n){case"q":return String(i);case"qq":return Ut(i,2);case"qo":return r.ordinalNumber(i,{unit:"quarter"});case"qqq":return r.quarter(i,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(i,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(i,{width:"wide",context:"standalone"})}},M:function(e,n,r){var i=e.getUTCMonth();switch(n){case"M":case"MM":return js.M(e,n);case"Mo":return r.ordinalNumber(i+1,{unit:"month"});case"MMM":return r.month(i,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(i,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(i,{width:"wide",context:"formatting"})}},L:function(e,n,r){var i=e.getUTCMonth();switch(n){case"L":return String(i+1);case"LL":return Ut(i+1,2);case"Lo":return r.ordinalNumber(i+1,{unit:"month"});case"LLL":return r.month(i,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(i,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(i,{width:"wide",context:"standalone"})}},w:function(e,n,r,i){var s=YD(e,i);return n==="wo"?r.ordinalNumber(s,{unit:"week"}):Ut(s,n.length)},I:function(e,n,r){var i=KD(e);return n==="Io"?r.ordinalNumber(i,{unit:"week"}):Ut(i,n.length)},d:function(e,n,r){return n==="do"?r.ordinalNumber(e.getUTCDate(),{unit:"date"}):js.d(e,n)},D:function(e,n,r){var i=tq(e);return n==="Do"?r.ordinalNumber(i,{unit:"dayOfYear"}):Ut(i,n.length)},E:function(e,n,r){var i=e.getUTCDay();switch(n){case"E":case"EE":case"EEE":return r.day(i,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(i,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(i,{width:"short",context:"formatting"});case"EEEE":default:return r.day(i,{width:"wide",context:"formatting"})}},e:function(e,n,r,i){var s=e.getUTCDay(),o=(s-i.weekStartsOn+8)%7||7;switch(n){case"e":return String(o);case"ee":return Ut(o,2);case"eo":return r.ordinalNumber(o,{unit:"day"});case"eee":return r.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(s,{width:"short",context:"formatting"});case"eeee":default:return r.day(s,{width:"wide",context:"formatting"})}},c:function(e,n,r,i){var s=e.getUTCDay(),o=(s-i.weekStartsOn+8)%7||7;switch(n){case"c":return String(o);case"cc":return Ut(o,n.length);case"co":return r.ordinalNumber(o,{unit:"day"});case"ccc":return r.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(s,{width:"narrow",context:"standalone"});case"cccccc":return r.day(s,{width:"short",context:"standalone"});case"cccc":default:return r.day(s,{width:"wide",context:"standalone"})}},i:function(e,n,r){var i=e.getUTCDay(),s=i===0?7:i;switch(n){case"i":return String(s);case"ii":return Ut(s,n.length);case"io":return r.ordinalNumber(s,{unit:"day"});case"iii":return r.day(i,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(i,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(i,{width:"short",context:"formatting"});case"iiii":default:return r.day(i,{width:"wide",context:"formatting"})}},a:function(e,n,r){var i=e.getUTCHours(),s=i/12>=1?"pm":"am";switch(n){case"a":case"aa":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(e,n,r){var i=e.getUTCHours(),s;switch(i===12?s=za.noon:i===0?s=za.midnight:s=i/12>=1?"pm":"am",n){case"b":case"bb":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(e,n,r){var i=e.getUTCHours(),s;switch(i>=17?s=za.evening:i>=12?s=za.afternoon:i>=4?s=za.morning:s=za.night,n){case"B":case"BB":case"BBB":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(e,n,r){if(n==="ho"){var i=e.getUTCHours()%12;return i===0&&(i=12),r.ordinalNumber(i,{unit:"hour"})}return js.h(e,n)},H:function(e,n,r){return n==="Ho"?r.ordinalNumber(e.getUTCHours(),{unit:"hour"}):js.H(e,n)},K:function(e,n,r){var i=e.getUTCHours()%12;return n==="Ko"?r.ordinalNumber(i,{unit:"hour"}):Ut(i,n.length)},k:function(e,n,r){var i=e.getUTCHours();return i===0&&(i=24),n==="ko"?r.ordinalNumber(i,{unit:"hour"}):Ut(i,n.length)},m:function(e,n,r){return n==="mo"?r.ordinalNumber(e.getUTCMinutes(),{unit:"minute"}):js.m(e,n)},s:function(e,n,r){return n==="so"?r.ordinalNumber(e.getUTCSeconds(),{unit:"second"}):js.s(e,n)},S:function(e,n){return js.S(e,n)},X:function(e,n,r,i){var s=i._originalDate||e,o=s.getTimezoneOffset();if(o===0)return"Z";switch(n){case"X":return iI(o);case"XXXX":case"XX":return jo(o);case"XXXXX":case"XXX":default:return jo(o,":")}},x:function(e,n,r,i){var s=i._originalDate||e,o=s.getTimezoneOffset();switch(n){case"x":return iI(o);case"xxxx":case"xx":return jo(o);case"xxxxx":case"xxx":default:return jo(o,":")}},O:function(e,n,r,i){var s=i._originalDate||e,o=s.getTimezoneOffset();switch(n){case"O":case"OO":case"OOO":return"GMT"+rI(o,":");case"OOOO":default:return"GMT"+jo(o,":")}},z:function(e,n,r,i){var s=i._originalDate||e,o=s.getTimezoneOffset();switch(n){case"z":case"zz":case"zzz":return"GMT"+rI(o,":");case"zzzz":default:return"GMT"+jo(o,":")}},t:function(e,n,r,i){var s=i._originalDate||e,o=Math.floor(s.getTime()/1e3);return Ut(o,n.length)},T:function(e,n,r,i){var s=i._originalDate||e,o=s.getTime();return Ut(o,n.length)}};function rI(t,e){var n=t>0?"-":"+",r=Math.abs(t),i=Math.floor(r/60),s=r%60;if(s===0)return n+String(i);var o=e||"";return n+String(i)+o+Ut(s,2)}function iI(t,e){if(t%60===0){var n=t>0?"-":"+";return n+Ut(Math.abs(t)/60,2)}return jo(t,e)}function jo(t,e){var n=e||"",r=t>0?"-":"+",i=Math.abs(t),s=Ut(Math.floor(i/60),2),o=Ut(i%60,2);return r+s+n+o}var sI=function(e,n){switch(e){case"P":return n.date({width:"short"});case"PP":return n.date({width:"medium"});case"PPP":return n.date({width:"long"});case"PPPP":default:return n.date({width:"full"})}},GD=function(e,n){switch(e){case"p":return n.time({width:"short"});case"pp":return n.time({width:"medium"});case"ppp":return n.time({width:"long"});case"pppp":default:return n.time({width:"full"})}},lq=function(e,n){var r=e.match(/(P+)(p+)?/)||[],i=r[1],s=r[2];if(!s)return sI(e,n);var o;switch(i){case"P":o=n.dateTime({width:"short"});break;case"PP":o=n.dateTime({width:"medium"});break;case"PPP":o=n.dateTime({width:"long"});break;case"PPPP":default:o=n.dateTime({width:"full"});break}return o.replace("{{date}}",sI(i,n)).replace("{{time}}",GD(s,n))},gy={p:GD,P:lq},uq=["D","DD"],cq=["YY","YYYY"];function QD(t){return uq.indexOf(t)!==-1}function XD(t){return cq.indexOf(t)!==-1}function ap(t,e,n){if(t==="YYYY")throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(e,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(t==="YY")throw new RangeError("Use `yy` instead of `YY` (in `".concat(e,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(t==="D")throw new RangeError("Use `d` instead of `D` (in `".concat(e,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(t==="DD")throw new RangeError("Use `dd` instead of `DD` (in `".concat(e,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var dq={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},hq=function(e,n,r){var i,s=dq[e];return typeof s=="string"?i=s:n===1?i=s.one:i=s.other.replace("{{count}}",n.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+i:i+" ago":i};const fq=hq;function Og(t){return function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.width?String(e.width):t.defaultWidth,r=t.formats[n]||t.formats[t.defaultWidth];return r}}var pq={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},mq={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},gq={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},vq={date:Og({formats:pq,defaultWidth:"full"}),time:Og({formats:mq,defaultWidth:"full"}),dateTime:Og({formats:gq,defaultWidth:"full"})};const yq=vq;var _q={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},bq=function(e,n,r,i){return _q[e]};const wq=bq;function $u(t){return function(e,n){var r=n!=null&&n.context?String(n.context):"standalone",i;if(r==="formatting"&&t.formattingValues){var s=t.defaultFormattingWidth||t.defaultWidth,o=n!=null&&n.width?String(n.width):s;i=t.formattingValues[o]||t.formattingValues[s]}else{var a=t.defaultWidth,l=n!=null&&n.width?String(n.width):t.defaultWidth;i=t.values[l]||t.values[a]}var u=t.argumentCallback?t.argumentCallback(e):e;return i[u]}}var Tq={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Eq={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Iq={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Sq={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Cq={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Aq={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Oq=function(e,n){var r=Number(e),i=r%100;if(i>20||i<10)switch(i%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},Pq={ordinalNumber:Oq,era:$u({values:Tq,defaultWidth:"wide"}),quarter:$u({values:Eq,defaultWidth:"wide",argumentCallback:function(e){return e-1}}),month:$u({values:Iq,defaultWidth:"wide"}),day:$u({values:Sq,defaultWidth:"wide"}),dayPeriod:$u({values:Cq,defaultWidth:"wide",formattingValues:Aq,defaultFormattingWidth:"wide"})};const kq=Pq;function Uu(t){return function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=n.width,i=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],s=e.match(i);if(!s)return null;var o=s[0],a=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],l=Array.isArray(a)?Dq(a,function(h){return h.test(o)}):Rq(a,function(h){return h.test(o)}),u;u=t.valueCallback?t.valueCallback(l):l,u=n.valueCallback?n.valueCallback(u):u;var c=e.slice(o.length);return{value:u,rest:c}}}function Rq(t,e){for(var n in t)if(t.hasOwnProperty(n)&&e(t[n]))return n}function Dq(t,e){for(var n=0;n<t.length;n++)if(e(t[n]))return n}function xq(t){return function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=e.match(t.matchPattern);if(!r)return null;var i=r[0],s=e.match(t.parsePattern);if(!s)return null;var o=t.valueCallback?t.valueCallback(s[0]):s[0];o=n.valueCallback?n.valueCallback(o):o;var a=e.slice(i.length);return{value:o,rest:a}}}var Nq=/^(\d+)(th|st|nd|rd)?/i,Mq=/\d+/i,Lq={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Vq={any:[/^b/i,/^(a|c)/i]},Fq={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},$q={any:[/1/i,/2/i,/3/i,/4/i]},Uq={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Bq={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},jq={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Hq={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Wq={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},qq={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},zq={ordinalNumber:xq({matchPattern:Nq,parsePattern:Mq,valueCallback:function(e){return parseInt(e,10)}}),era:Uu({matchPatterns:Lq,defaultMatchWidth:"wide",parsePatterns:Vq,defaultParseWidth:"any"}),quarter:Uu({matchPatterns:Fq,defaultMatchWidth:"wide",parsePatterns:$q,defaultParseWidth:"any",valueCallback:function(e){return e+1}}),month:Uu({matchPatterns:Uq,defaultMatchWidth:"wide",parsePatterns:Bq,defaultParseWidth:"any"}),day:Uu({matchPatterns:jq,defaultMatchWidth:"wide",parsePatterns:Hq,defaultParseWidth:"any"}),dayPeriod:Uu({matchPatterns:Wq,defaultMatchWidth:"any",parsePatterns:qq,defaultParseWidth:"any"})};const Kq=zq;var Yq={code:"en-US",formatDistance:fq,formatLong:yq,formatRelative:wq,localize:kq,match:Kq,options:{weekStartsOn:0,firstWeekContainsDate:1}};const JD=Yq;var Gq=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Qq=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Xq=/^'([^]*?)'?$/,Jq=/''/g,Zq=/[a-zA-Z]/;function ho(t,e,n){var r,i,s,o,a,l,u,c,h,f,p,g,b,S,R,P,w,E;Le(2,arguments);var N=String(e),M=rs(),I=(r=(i=n==null?void 0:n.locale)!==null&&i!==void 0?i:M.locale)!==null&&r!==void 0?r:JD,T=Je((s=(o=(a=(l=n==null?void 0:n.firstWeekContainsDate)!==null&&l!==void 0?l:n==null||(u=n.locale)===null||u===void 0||(c=u.options)===null||c===void 0?void 0:c.firstWeekContainsDate)!==null&&a!==void 0?a:M.firstWeekContainsDate)!==null&&o!==void 0?o:(h=M.locale)===null||h===void 0||(f=h.options)===null||f===void 0?void 0:f.firstWeekContainsDate)!==null&&s!==void 0?s:1);if(!(T>=1&&T<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var _=Je((p=(g=(b=(S=n==null?void 0:n.weekStartsOn)!==null&&S!==void 0?S:n==null||(R=n.locale)===null||R===void 0||(P=R.options)===null||P===void 0?void 0:P.weekStartsOn)!==null&&b!==void 0?b:M.weekStartsOn)!==null&&g!==void 0?g:(w=M.locale)===null||w===void 0||(E=w.options)===null||E===void 0?void 0:E.weekStartsOn)!==null&&p!==void 0?p:0);if(!(_>=0&&_<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!I.localize)throw new RangeError("locale must contain localize property");if(!I.formatLong)throw new RangeError("locale must contain formatLong property");var v=ze(t);if(!Tc(v))throw new RangeError("Invalid time value");var C=op(v),A=qD(v,C),O={firstWeekContainsDate:T,weekStartsOn:_,locale:I,_originalDate:v},z=N.match(Qq).map(function(F){var U=F[0];if(U==="p"||U==="P"){var H=gy[U];return H(F,I.formatLong)}return F}).join("").match(Gq).map(function(F){if(F==="''")return"'";var U=F[0];if(U==="'")return ez(F);var H=aq[U];if(H)return!(n!=null&&n.useAdditionalWeekYearTokens)&&XD(F)&&ap(F,e,String(t)),!(n!=null&&n.useAdditionalDayOfYearTokens)&&QD(F)&&ap(F,e,String(t)),H(A,F,I.localize,O);if(U.match(Zq))throw new RangeError("Format string contains an unescaped latin alphabet character `"+U+"`");return F}).join("");return z}function ez(t){var e=t.match(Xq);return e?e[1].replace(Jq,"'"):t}function tz(t,e){if(t==null)throw new TypeError("assign requires that input parameter not be null or undefined");for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}function nz(t){Le(1,arguments);var e=ze(t),n=e.getDay();return n}function rz(t){Le(1,arguments);var e=ze(t),n=e.getFullYear(),r=e.getMonth(),i=new Date(0);return i.setFullYear(n,r+1,0),i.setHours(0,0,0,0),i.getDate()}function Ci(t){Le(1,arguments);var e=ze(t),n=e.getHours();return n}var iz=6048e5;function sz(t){Le(1,arguments);var e=ze(t),n=sp(e).getTime()-qW(e).getTime();return Math.round(n/iz)+1}function Ji(t){Le(1,arguments);var e=ze(t),n=e.getMinutes();return n}function Tt(t){Le(1,arguments);var e=ze(t),n=e.getMonth();return n}function Ql(t){Le(1,arguments);var e=ze(t),n=e.getSeconds();return n}function oz(t,e){var n,r,i,s,o,a,l,u;Le(1,arguments);var c=ze(t),h=c.getFullYear(),f=rs(),p=Je((n=(r=(i=(s=e==null?void 0:e.firstWeekContainsDate)!==null&&s!==void 0?s:e==null||(o=e.locale)===null||o===void 0||(a=o.options)===null||a===void 0?void 0:a.firstWeekContainsDate)!==null&&i!==void 0?i:f.firstWeekContainsDate)!==null&&r!==void 0?r:(l=f.locale)===null||l===void 0||(u=l.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&n!==void 0?n:1);if(!(p>=1&&p<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var g=new Date(0);g.setFullYear(h+1,0,p),g.setHours(0,0,0,0);var b=wa(g,e),S=new Date(0);S.setFullYear(h,0,p),S.setHours(0,0,0,0);var R=wa(S,e);return c.getTime()>=b.getTime()?h+1:c.getTime()>=R.getTime()?h:h-1}function az(t,e){var n,r,i,s,o,a,l,u;Le(1,arguments);var c=rs(),h=Je((n=(r=(i=(s=e==null?void 0:e.firstWeekContainsDate)!==null&&s!==void 0?s:e==null||(o=e.locale)===null||o===void 0||(a=o.options)===null||a===void 0?void 0:a.firstWeekContainsDate)!==null&&i!==void 0?i:c.firstWeekContainsDate)!==null&&r!==void 0?r:(l=c.locale)===null||l===void 0||(u=l.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&n!==void 0?n:1),f=oz(t,e),p=new Date(0);p.setFullYear(f,0,h),p.setHours(0,0,0,0);var g=wa(p,e);return g}var lz=6048e5;function uz(t,e){Le(1,arguments);var n=ze(t),r=wa(n,e).getTime()-az(n,e).getTime();return Math.round(r/lz)+1}function ut(t){return Le(1,arguments),ze(t).getFullYear()}function rd(t,e){Le(2,arguments);var n=ze(t),r=ze(e);return n.getTime()>r.getTime()}function id(t,e){Le(2,arguments);var n=ze(t),r=ze(e);return n.getTime()<r.getTime()}function cl(t,e){Le(2,arguments);var n=ze(t),r=ze(e);return n.getTime()===r.getTime()}function oI(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function cz(t,e){if(t){if(typeof t=="string")return oI(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?oI(t,e):void 0}}function aI(t,e){var n=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=cz(t))||e&&t&&typeof t.length=="number"){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(u){throw u},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var s,o=!0,a=!1;return{s:function(){n=n.call(t)},n:function(){var u=n.next();return o=u.done,u},e:function(u){a=!0,s=u},f:function(){try{o||n.return==null||n.return()}finally{if(a)throw s}}}}function Me(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function vy(t,e){return vy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},vy(t,e)}function Et(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&vy(t,e)}function lp(t){return lp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},lp(t)}function ZD(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ZD=function(){return!!t})()}function dz(t,e){if(e&&(ui(e)=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Me(t)}function It(t){var e=ZD();return function(){var n,r=lp(t);if(e){var i=lp(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return dz(this,n)}}function vt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function hz(t,e){if(ui(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(ui(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ex(t){var e=hz(t,"string");return ui(e)=="symbol"?e:e+""}function lI(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,ex(r.key),r)}}function yt(t,e,n){return e&&lI(t.prototype,e),n&&lI(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Re(t,e,n){return(e=ex(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var fz=10,tx=function(){function t(){vt(this,t),Re(this,"priority",void 0),Re(this,"subPriority",0)}return yt(t,[{key:"validate",value:function(n,r){return!0}}]),t}(),pz=function(t){Et(n,t);var e=It(n);function n(r,i,s,o,a){var l;return vt(this,n),l=e.call(this),l.value=r,l.validateValue=i,l.setValue=s,l.priority=o,a&&(l.subPriority=a),l}return yt(n,[{key:"validate",value:function(i,s){return this.validateValue(i,this.value,s)}},{key:"set",value:function(i,s,o){return this.setValue(i,s,this.value,o)}}]),n}(tx),mz=function(t){Et(n,t);var e=It(n);function n(){var r;vt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Re(Me(r),"priority",fz),Re(Me(r),"subPriority",-1),r}return yt(n,[{key:"set",value:function(i,s){if(s.timestampIsSet)return i;var o=new Date(0);return o.setFullYear(i.getUTCFullYear(),i.getUTCMonth(),i.getUTCDate()),o.setHours(i.getUTCHours(),i.getUTCMinutes(),i.getUTCSeconds(),i.getUTCMilliseconds()),o}}]),n}(tx),Nt=function(){function t(){vt(this,t),Re(this,"incompatibleTokens",void 0),Re(this,"priority",void 0),Re(this,"subPriority",void 0)}return yt(t,[{key:"run",value:function(n,r,i,s){var o=this.parse(n,r,i,s);return o?{setter:new pz(o.value,this.validate,this.set,this.priority,this.subPriority),rest:o.rest}:null}},{key:"validate",value:function(n,r,i){return!0}}]),t}(),gz=function(t){Et(n,t);var e=It(n);function n(){var r;vt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Re(Me(r),"priority",140),Re(Me(r),"incompatibleTokens",["R","u","t","T"]),r}return yt(n,[{key:"parse",value:function(i,s,o){switch(s){case"G":case"GG":case"GGG":return o.era(i,{width:"abbreviated"})||o.era(i,{width:"narrow"});case"GGGGG":return o.era(i,{width:"narrow"});case"GGGG":default:return o.era(i,{width:"wide"})||o.era(i,{width:"abbreviated"})||o.era(i,{width:"narrow"})}}},{key:"set",value:function(i,s,o){return s.era=o,i.setUTCFullYear(o,0,1),i.setUTCHours(0,0,0,0),i}}]),n}(Nt),En={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},Bi={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function In(t,e){return t&&{value:e(t.value),rest:t.rest}}function pn(t,e){var n=e.match(t);return n?{value:parseInt(n[0],10),rest:e.slice(n[0].length)}:null}function ji(t,e){var n=e.match(t);if(!n)return null;if(n[0]==="Z")return{value:0,rest:e.slice(1)};var r=n[1]==="+"?1:-1,i=n[2]?parseInt(n[2],10):0,s=n[3]?parseInt(n[3],10):0,o=n[5]?parseInt(n[5],10):0;return{value:r*(i*Qb+s*Gb+o*GW),rest:e.slice(n[0].length)}}function nx(t){return pn(En.anyDigitsSigned,t)}function yn(t,e){switch(t){case 1:return pn(En.singleDigit,e);case 2:return pn(En.twoDigits,e);case 3:return pn(En.threeDigits,e);case 4:return pn(En.fourDigits,e);default:return pn(new RegExp("^\\d{1,"+t+"}"),e)}}function up(t,e){switch(t){case 1:return pn(En.singleDigitSigned,e);case 2:return pn(En.twoDigitsSigned,e);case 3:return pn(En.threeDigitsSigned,e);case 4:return pn(En.fourDigitsSigned,e);default:return pn(new RegExp("^-?\\d{1,"+t+"}"),e)}}function Jb(t){switch(t){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function rx(t,e){var n=e>0,r=n?e:1-e,i;if(r<=50)i=t||100;else{var s=r+50,o=Math.floor(s/100)*100,a=t>=s%100;i=t+o-(a?100:0)}return n?i:1-i}function ix(t){return t%400===0||t%4===0&&t%100!==0}var vz=function(t){Et(n,t);var e=It(n);function n(){var r;vt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Re(Me(r),"priority",130),Re(Me(r),"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"]),r}return yt(n,[{key:"parse",value:function(i,s,o){var a=function(u){return{year:u,isTwoDigitYear:s==="yy"}};switch(s){case"y":return In(yn(4,i),a);case"yo":return In(o.ordinalNumber(i,{unit:"year"}),a);default:return In(yn(s.length,i),a)}}},{key:"validate",value:function(i,s){return s.isTwoDigitYear||s.year>0}},{key:"set",value:function(i,s,o){var a=i.getUTCFullYear();if(o.isTwoDigitYear){var l=rx(o.year,a);return i.setUTCFullYear(l,0,1),i.setUTCHours(0,0,0,0),i}var u=!("era"in s)||s.era===1?o.year:1-o.year;return i.setUTCFullYear(u,0,1),i.setUTCHours(0,0,0,0),i}}]),n}(Nt),yz=function(t){Et(n,t);var e=It(n);function n(){var r;vt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Re(Me(r),"priority",130),Re(Me(r),"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"]),r}return yt(n,[{key:"parse",value:function(i,s,o){var a=function(u){return{year:u,isTwoDigitYear:s==="YY"}};switch(s){case"Y":return In(yn(4,i),a);case"Yo":return In(o.ordinalNumber(i,{unit:"year"}),a);default:return In(yn(s.length,i),a)}}},{key:"validate",value:function(i,s){return s.isTwoDigitYear||s.year>0}},{key:"set",value:function(i,s,o,a){var l=Xb(i,a);if(o.isTwoDigitYear){var u=rx(o.year,l);return i.setUTCFullYear(u,0,a.firstWeekContainsDate),i.setUTCHours(0,0,0,0),Ta(i,a)}var c=!("era"in s)||s.era===1?o.year:1-o.year;return i.setUTCFullYear(c,0,a.firstWeekContainsDate),i.setUTCHours(0,0,0,0),Ta(i,a)}}]),n}(Nt),_z=function(t){Et(n,t);var e=It(n);function n(){var r;vt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Re(Me(r),"priority",130),Re(Me(r),"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"]),r}return yt(n,[{key:"parse",value:function(i,s){return up(s==="R"?4:s.length,i)}},{key:"set",value:function(i,s,o){var a=new Date(0);return a.setUTCFullYear(o,0,4),a.setUTCHours(0,0,0,0),Gl(a)}}]),n}(Nt),bz=function(t){Et(n,t);var e=It(n);function n(){var r;vt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Re(Me(r),"priority",130),Re(Me(r),"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"]),r}return yt(n,[{key:"parse",value:function(i,s){return up(s==="u"?4:s.length,i)}},{key:"set",value:function(i,s,o){return i.setUTCFullYear(o,0,1),i.setUTCHours(0,0,0,0),i}}]),n}(Nt),wz=function(t){Et(n,t);var e=It(n);function n(){var r;vt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Re(Me(r),"priority",120),Re(Me(r),"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"]),r}return yt(n,[{key:"parse",value:function(i,s,o){switch(s){case"Q":case"QQ":return yn(s.length,i);case"Qo":return o.ordinalNumber(i,{unit:"quarter"});case"QQQ":return o.quarter(i,{width:"abbreviated",context:"formatting"})||o.quarter(i,{width:"narrow",context:"formatting"});case"QQQQQ":return o.quarter(i,{width:"narrow",context:"formatting"});case"QQQQ":default:return o.quarter(i,{width:"wide",context:"formatting"})||o.quarter(i,{width:"abbreviated",context:"formatting"})||o.quarter(i,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(i,s){return s>=1&&s<=4}},{key:"set",value:function(i,s,o){return i.setUTCMonth((o-1)*3,1),i.setUTCHours(0,0,0,0),i}}]),n}(Nt),Tz=function(t){Et(n,t);var e=It(n);function n(){var r;vt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Re(Me(r),"priority",120),Re(Me(r),"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"]),r}return yt(n,[{key:"parse",value:function(i,s,o){switch(s){case"q":case"qq":return yn(s.length,i);case"qo":return o.ordinalNumber(i,{unit:"quarter"});case"qqq":return o.quarter(i,{width:"abbreviated",context:"standalone"})||o.quarter(i,{width:"narrow",context:"standalone"});case"qqqqq":return o.quarter(i,{width:"narrow",context:"standalone"});case"qqqq":default:return o.quarter(i,{width:"wide",context:"standalone"})||o.quarter(i,{width:"abbreviated",context:"standalone"})||o.quarter(i,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(i,s){return s>=1&&s<=4}},{key:"set",value:function(i,s,o){return i.setUTCMonth((o-1)*3,1),i.setUTCHours(0,0,0,0),i}}]),n}(Nt),Ez=function(t){Et(n,t);var e=It(n);function n(){var r;vt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Re(Me(r),"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]),Re(Me(r),"priority",110),r}return yt(n,[{key:"parse",value:function(i,s,o){var a=function(u){return u-1};switch(s){case"M":return In(pn(En.month,i),a);case"MM":return In(yn(2,i),a);case"Mo":return In(o.ordinalNumber(i,{unit:"month"}),a);case"MMM":return o.month(i,{width:"abbreviated",context:"formatting"})||o.month(i,{width:"narrow",context:"formatting"});case"MMMMM":return o.month(i,{width:"narrow",context:"formatting"});case"MMMM":default:return o.month(i,{width:"wide",context:"formatting"})||o.month(i,{width:"abbreviated",context:"formatting"})||o.month(i,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(i,s){return s>=0&&s<=11}},{key:"set",value:function(i,s,o){return i.setUTCMonth(o,1),i.setUTCHours(0,0,0,0),i}}]),n}(Nt),Iz=function(t){Et(n,t);var e=It(n);function n(){var r;vt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Re(Me(r),"priority",110),Re(Me(r),"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"]),r}return yt(n,[{key:"parse",value:function(i,s,o){var a=function(u){return u-1};switch(s){case"L":return In(pn(En.month,i),a);case"LL":return In(yn(2,i),a);case"Lo":return In(o.ordinalNumber(i,{unit:"month"}),a);case"LLL":return o.month(i,{width:"abbreviated",context:"standalone"})||o.month(i,{width:"narrow",context:"standalone"});case"LLLLL":return o.month(i,{width:"narrow",context:"standalone"});case"LLLL":default:return o.month(i,{width:"wide",context:"standalone"})||o.month(i,{width:"abbreviated",context:"standalone"})||o.month(i,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(i,s){return s>=0&&s<=11}},{key:"set",value:function(i,s,o){return i.setUTCMonth(o,1),i.setUTCHours(0,0,0,0),i}}]),n}(Nt);function Sz(t,e,n){Le(2,arguments);var r=ze(t),i=Je(e),s=YD(r,n)-i;return r.setUTCDate(r.getUTCDate()-s*7),r}var Cz=function(t){Et(n,t);var e=It(n);function n(){var r;vt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Re(Me(r),"priority",100),Re(Me(r),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"]),r}return yt(n,[{key:"parse",value:function(i,s,o){switch(s){case"w":return pn(En.week,i);case"wo":return o.ordinalNumber(i,{unit:"week"});default:return yn(s.length,i)}}},{key:"validate",value:function(i,s){return s>=1&&s<=53}},{key:"set",value:function(i,s,o,a){return Ta(Sz(i,o,a),a)}}]),n}(Nt);function Az(t,e){Le(2,arguments);var n=ze(t),r=Je(e),i=KD(n)-r;return n.setUTCDate(n.getUTCDate()-i*7),n}var Oz=function(t){Et(n,t);var e=It(n);function n(){var r;vt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Re(Me(r),"priority",100),Re(Me(r),"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"]),r}return yt(n,[{key:"parse",value:function(i,s,o){switch(s){case"I":return pn(En.week,i);case"Io":return o.ordinalNumber(i,{unit:"week"});default:return yn(s.length,i)}}},{key:"validate",value:function(i,s){return s>=1&&s<=53}},{key:"set",value:function(i,s,o){return Gl(Az(i,o))}}]),n}(Nt),Pz=[31,28,31,30,31,30,31,31,30,31,30,31],kz=[31,29,31,30,31,30,31,31,30,31,30,31],Rz=function(t){Et(n,t);var e=It(n);function n(){var r;vt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Re(Me(r),"priority",90),Re(Me(r),"subPriority",1),Re(Me(r),"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"]),r}return yt(n,[{key:"parse",value:function(i,s,o){switch(s){case"d":return pn(En.date,i);case"do":return o.ordinalNumber(i,{unit:"date"});default:return yn(s.length,i)}}},{key:"validate",value:function(i,s){var o=i.getUTCFullYear(),a=ix(o),l=i.getUTCMonth();return a?s>=1&&s<=kz[l]:s>=1&&s<=Pz[l]}},{key:"set",value:function(i,s,o){return i.setUTCDate(o),i.setUTCHours(0,0,0,0),i}}]),n}(Nt),Dz=function(t){Et(n,t);var e=It(n);function n(){var r;vt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Re(Me(r),"priority",90),Re(Me(r),"subpriority",1),Re(Me(r),"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"]),r}return yt(n,[{key:"parse",value:function(i,s,o){switch(s){case"D":case"DD":return pn(En.dayOfYear,i);case"Do":return o.ordinalNumber(i,{unit:"date"});default:return yn(s.length,i)}}},{key:"validate",value:function(i,s){var o=i.getUTCFullYear(),a=ix(o);return a?s>=1&&s<=366:s>=1&&s<=365}},{key:"set",value:function(i,s,o){return i.setUTCMonth(0,o),i.setUTCHours(0,0,0,0),i}}]),n}(Nt);function Zb(t,e,n){var r,i,s,o,a,l,u,c;Le(2,arguments);var h=rs(),f=Je((r=(i=(s=(o=n==null?void 0:n.weekStartsOn)!==null&&o!==void 0?o:n==null||(a=n.locale)===null||a===void 0||(l=a.options)===null||l===void 0?void 0:l.weekStartsOn)!==null&&s!==void 0?s:h.weekStartsOn)!==null&&i!==void 0?i:(u=h.locale)===null||u===void 0||(c=u.options)===null||c===void 0?void 0:c.weekStartsOn)!==null&&r!==void 0?r:0);if(!(f>=0&&f<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var p=ze(t),g=Je(e),b=p.getUTCDay(),S=g%7,R=(S+7)%7,P=(R<f?7:0)+g-b;return p.setUTCDate(p.getUTCDate()+P),p}var xz=function(t){Et(n,t);var e=It(n);function n(){var r;vt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Re(Me(r),"priority",90),Re(Me(r),"incompatibleTokens",["D","i","e","c","t","T"]),r}return yt(n,[{key:"parse",value:function(i,s,o){switch(s){case"E":case"EE":case"EEE":return o.day(i,{width:"abbreviated",context:"formatting"})||o.day(i,{width:"short",context:"formatting"})||o.day(i,{width:"narrow",context:"formatting"});case"EEEEE":return o.day(i,{width:"narrow",context:"formatting"});case"EEEEEE":return o.day(i,{width:"short",context:"formatting"})||o.day(i,{width:"narrow",context:"formatting"});case"EEEE":default:return o.day(i,{width:"wide",context:"formatting"})||o.day(i,{width:"abbreviated",context:"formatting"})||o.day(i,{width:"short",context:"formatting"})||o.day(i,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(i,s){return s>=0&&s<=6}},{key:"set",value:function(i,s,o,a){return i=Zb(i,o,a),i.setUTCHours(0,0,0,0),i}}]),n}(Nt),Nz=function(t){Et(n,t);var e=It(n);function n(){var r;vt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Re(Me(r),"priority",90),Re(Me(r),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"]),r}return yt(n,[{key:"parse",value:function(i,s,o,a){var l=function(c){var h=Math.floor((c-1)/7)*7;return(c+a.weekStartsOn+6)%7+h};switch(s){case"e":case"ee":return In(yn(s.length,i),l);case"eo":return In(o.ordinalNumber(i,{unit:"day"}),l);case"eee":return o.day(i,{width:"abbreviated",context:"formatting"})||o.day(i,{width:"short",context:"formatting"})||o.day(i,{width:"narrow",context:"formatting"});case"eeeee":return o.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return o.day(i,{width:"short",context:"formatting"})||o.day(i,{width:"narrow",context:"formatting"});case"eeee":default:return o.day(i,{width:"wide",context:"formatting"})||o.day(i,{width:"abbreviated",context:"formatting"})||o.day(i,{width:"short",context:"formatting"})||o.day(i,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(i,s){return s>=0&&s<=6}},{key:"set",value:function(i,s,o,a){return i=Zb(i,o,a),i.setUTCHours(0,0,0,0),i}}]),n}(Nt),Mz=function(t){Et(n,t);var e=It(n);function n(){var r;vt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Re(Me(r),"priority",90),Re(Me(r),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"]),r}return yt(n,[{key:"parse",value:function(i,s,o,a){var l=function(c){var h=Math.floor((c-1)/7)*7;return(c+a.weekStartsOn+6)%7+h};switch(s){case"c":case"cc":return In(yn(s.length,i),l);case"co":return In(o.ordinalNumber(i,{unit:"day"}),l);case"ccc":return o.day(i,{width:"abbreviated",context:"standalone"})||o.day(i,{width:"short",context:"standalone"})||o.day(i,{width:"narrow",context:"standalone"});case"ccccc":return o.day(i,{width:"narrow",context:"standalone"});case"cccccc":return o.day(i,{width:"short",context:"standalone"})||o.day(i,{width:"narrow",context:"standalone"});case"cccc":default:return o.day(i,{width:"wide",context:"standalone"})||o.day(i,{width:"abbreviated",context:"standalone"})||o.day(i,{width:"short",context:"standalone"})||o.day(i,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(i,s){return s>=0&&s<=6}},{key:"set",value:function(i,s,o,a){return i=Zb(i,o,a),i.setUTCHours(0,0,0,0),i}}]),n}(Nt);function Lz(t,e){Le(2,arguments);var n=Je(e);n%7===0&&(n=n-7);var r=1,i=ze(t),s=i.getUTCDay(),o=n%7,a=(o+7)%7,l=(a<r?7:0)+n-s;return i.setUTCDate(i.getUTCDate()+l),i}var Vz=function(t){Et(n,t);var e=It(n);function n(){var r;vt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Re(Me(r),"priority",90),Re(Me(r),"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"]),r}return yt(n,[{key:"parse",value:function(i,s,o){var a=function(u){return u===0?7:u};switch(s){case"i":case"ii":return yn(s.length,i);case"io":return o.ordinalNumber(i,{unit:"day"});case"iii":return In(o.day(i,{width:"abbreviated",context:"formatting"})||o.day(i,{width:"short",context:"formatting"})||o.day(i,{width:"narrow",context:"formatting"}),a);case"iiiii":return In(o.day(i,{width:"narrow",context:"formatting"}),a);case"iiiiii":return In(o.day(i,{width:"short",context:"formatting"})||o.day(i,{width:"narrow",context:"formatting"}),a);case"iiii":default:return In(o.day(i,{width:"wide",context:"formatting"})||o.day(i,{width:"abbreviated",context:"formatting"})||o.day(i,{width:"short",context:"formatting"})||o.day(i,{width:"narrow",context:"formatting"}),a)}}},{key:"validate",value:function(i,s){return s>=1&&s<=7}},{key:"set",value:function(i,s,o){return i=Lz(i,o),i.setUTCHours(0,0,0,0),i}}]),n}(Nt),Fz=function(t){Et(n,t);var e=It(n);function n(){var r;vt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Re(Me(r),"priority",80),Re(Me(r),"incompatibleTokens",["b","B","H","k","t","T"]),r}return yt(n,[{key:"parse",value:function(i,s,o){switch(s){case"a":case"aa":case"aaa":return o.dayPeriod(i,{width:"abbreviated",context:"formatting"})||o.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaaa":return o.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return o.dayPeriod(i,{width:"wide",context:"formatting"})||o.dayPeriod(i,{width:"abbreviated",context:"formatting"})||o.dayPeriod(i,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(i,s,o){return i.setUTCHours(Jb(o),0,0,0),i}}]),n}(Nt),$z=function(t){Et(n,t);var e=It(n);function n(){var r;vt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Re(Me(r),"priority",80),Re(Me(r),"incompatibleTokens",["a","B","H","k","t","T"]),r}return yt(n,[{key:"parse",value:function(i,s,o){switch(s){case"b":case"bb":case"bbb":return o.dayPeriod(i,{width:"abbreviated",context:"formatting"})||o.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbbb":return o.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return o.dayPeriod(i,{width:"wide",context:"formatting"})||o.dayPeriod(i,{width:"abbreviated",context:"formatting"})||o.dayPeriod(i,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(i,s,o){return i.setUTCHours(Jb(o),0,0,0),i}}]),n}(Nt),Uz=function(t){Et(n,t);var e=It(n);function n(){var r;vt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Re(Me(r),"priority",80),Re(Me(r),"incompatibleTokens",["a","b","t","T"]),r}return yt(n,[{key:"parse",value:function(i,s,o){switch(s){case"B":case"BB":case"BBB":return o.dayPeriod(i,{width:"abbreviated",context:"formatting"})||o.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBBB":return o.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return o.dayPeriod(i,{width:"wide",context:"formatting"})||o.dayPeriod(i,{width:"abbreviated",context:"formatting"})||o.dayPeriod(i,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(i,s,o){return i.setUTCHours(Jb(o),0,0,0),i}}]),n}(Nt),Bz=function(t){Et(n,t);var e=It(n);function n(){var r;vt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Re(Me(r),"priority",70),Re(Me(r),"incompatibleTokens",["H","K","k","t","T"]),r}return yt(n,[{key:"parse",value:function(i,s,o){switch(s){case"h":return pn(En.hour12h,i);case"ho":return o.ordinalNumber(i,{unit:"hour"});default:return yn(s.length,i)}}},{key:"validate",value:function(i,s){return s>=1&&s<=12}},{key:"set",value:function(i,s,o){var a=i.getUTCHours()>=12;return a&&o<12?i.setUTCHours(o+12,0,0,0):!a&&o===12?i.setUTCHours(0,0,0,0):i.setUTCHours(o,0,0,0),i}}]),n}(Nt),jz=function(t){Et(n,t);var e=It(n);function n(){var r;vt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Re(Me(r),"priority",70),Re(Me(r),"incompatibleTokens",["a","b","h","K","k","t","T"]),r}return yt(n,[{key:"parse",value:function(i,s,o){switch(s){case"H":return pn(En.hour23h,i);case"Ho":return o.ordinalNumber(i,{unit:"hour"});default:return yn(s.length,i)}}},{key:"validate",value:function(i,s){return s>=0&&s<=23}},{key:"set",value:function(i,s,o){return i.setUTCHours(o,0,0,0),i}}]),n}(Nt),Hz=function(t){Et(n,t);var e=It(n);function n(){var r;vt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Re(Me(r),"priority",70),Re(Me(r),"incompatibleTokens",["h","H","k","t","T"]),r}return yt(n,[{key:"parse",value:function(i,s,o){switch(s){case"K":return pn(En.hour11h,i);case"Ko":return o.ordinalNumber(i,{unit:"hour"});default:return yn(s.length,i)}}},{key:"validate",value:function(i,s){return s>=0&&s<=11}},{key:"set",value:function(i,s,o){var a=i.getUTCHours()>=12;return a&&o<12?i.setUTCHours(o+12,0,0,0):i.setUTCHours(o,0,0,0),i}}]),n}(Nt),Wz=function(t){Et(n,t);var e=It(n);function n(){var r;vt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Re(Me(r),"priority",70),Re(Me(r),"incompatibleTokens",["a","b","h","H","K","t","T"]),r}return yt(n,[{key:"parse",value:function(i,s,o){switch(s){case"k":return pn(En.hour24h,i);case"ko":return o.ordinalNumber(i,{unit:"hour"});default:return yn(s.length,i)}}},{key:"validate",value:function(i,s){return s>=1&&s<=24}},{key:"set",value:function(i,s,o){var a=o<=24?o%24:o;return i.setUTCHours(a,0,0,0),i}}]),n}(Nt),qz=function(t){Et(n,t);var e=It(n);function n(){var r;vt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Re(Me(r),"priority",60),Re(Me(r),"incompatibleTokens",["t","T"]),r}return yt(n,[{key:"parse",value:function(i,s,o){switch(s){case"m":return pn(En.minute,i);case"mo":return o.ordinalNumber(i,{unit:"minute"});default:return yn(s.length,i)}}},{key:"validate",value:function(i,s){return s>=0&&s<=59}},{key:"set",value:function(i,s,o){return i.setUTCMinutes(o,0,0),i}}]),n}(Nt),zz=function(t){Et(n,t);var e=It(n);function n(){var r;vt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Re(Me(r),"priority",50),Re(Me(r),"incompatibleTokens",["t","T"]),r}return yt(n,[{key:"parse",value:function(i,s,o){switch(s){case"s":return pn(En.second,i);case"so":return o.ordinalNumber(i,{unit:"second"});default:return yn(s.length,i)}}},{key:"validate",value:function(i,s){return s>=0&&s<=59}},{key:"set",value:function(i,s,o){return i.setUTCSeconds(o,0),i}}]),n}(Nt),Kz=function(t){Et(n,t);var e=It(n);function n(){var r;vt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Re(Me(r),"priority",30),Re(Me(r),"incompatibleTokens",["t","T"]),r}return yt(n,[{key:"parse",value:function(i,s){var o=function(l){return Math.floor(l*Math.pow(10,-s.length+3))};return In(yn(s.length,i),o)}},{key:"set",value:function(i,s,o){return i.setUTCMilliseconds(o),i}}]),n}(Nt),Yz=function(t){Et(n,t);var e=It(n);function n(){var r;vt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Re(Me(r),"priority",10),Re(Me(r),"incompatibleTokens",["t","T","x"]),r}return yt(n,[{key:"parse",value:function(i,s){switch(s){case"X":return ji(Bi.basicOptionalMinutes,i);case"XX":return ji(Bi.basic,i);case"XXXX":return ji(Bi.basicOptionalSeconds,i);case"XXXXX":return ji(Bi.extendedOptionalSeconds,i);case"XXX":default:return ji(Bi.extended,i)}}},{key:"set",value:function(i,s,o){return s.timestampIsSet?i:new Date(i.getTime()-o)}}]),n}(Nt),Gz=function(t){Et(n,t);var e=It(n);function n(){var r;vt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Re(Me(r),"priority",10),Re(Me(r),"incompatibleTokens",["t","T","X"]),r}return yt(n,[{key:"parse",value:function(i,s){switch(s){case"x":return ji(Bi.basicOptionalMinutes,i);case"xx":return ji(Bi.basic,i);case"xxxx":return ji(Bi.basicOptionalSeconds,i);case"xxxxx":return ji(Bi.extendedOptionalSeconds,i);case"xxx":default:return ji(Bi.extended,i)}}},{key:"set",value:function(i,s,o){return s.timestampIsSet?i:new Date(i.getTime()-o)}}]),n}(Nt),Qz=function(t){Et(n,t);var e=It(n);function n(){var r;vt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Re(Me(r),"priority",40),Re(Me(r),"incompatibleTokens","*"),r}return yt(n,[{key:"parse",value:function(i){return nx(i)}},{key:"set",value:function(i,s,o){return[new Date(o*1e3),{timestampIsSet:!0}]}}]),n}(Nt),Xz=function(t){Et(n,t);var e=It(n);function n(){var r;vt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Re(Me(r),"priority",20),Re(Me(r),"incompatibleTokens","*"),r}return yt(n,[{key:"parse",value:function(i){return nx(i)}},{key:"set",value:function(i,s,o){return[new Date(o),{timestampIsSet:!0}]}}]),n}(Nt),Jz={G:new gz,y:new vz,Y:new yz,R:new _z,u:new bz,Q:new wz,q:new Tz,M:new Ez,L:new Iz,w:new Cz,I:new Oz,d:new Rz,D:new Dz,E:new xz,e:new Nz,c:new Mz,i:new Vz,a:new Fz,b:new $z,B:new Uz,h:new Bz,H:new jz,K:new Hz,k:new Wz,m:new qz,s:new zz,S:new Kz,X:new Yz,x:new Gz,t:new Qz,T:new Xz},Zz=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,eK=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,tK=/^'([^]*?)'?$/,nK=/''/g,rK=/\S/,iK=/[a-zA-Z]/;function yy(t,e,n,r){var i,s,o,a,l,u,c,h,f,p,g,b,S,R,P,w,E,N;Le(3,arguments);var M=String(t),I=String(e),T=rs(),_=(i=(s=r==null?void 0:r.locale)!==null&&s!==void 0?s:T.locale)!==null&&i!==void 0?i:JD;if(!_.match)throw new RangeError("locale must contain match property");var v=Je((o=(a=(l=(u=r==null?void 0:r.firstWeekContainsDate)!==null&&u!==void 0?u:r==null||(c=r.locale)===null||c===void 0||(h=c.options)===null||h===void 0?void 0:h.firstWeekContainsDate)!==null&&l!==void 0?l:T.firstWeekContainsDate)!==null&&a!==void 0?a:(f=T.locale)===null||f===void 0||(p=f.options)===null||p===void 0?void 0:p.firstWeekContainsDate)!==null&&o!==void 0?o:1);if(!(v>=1&&v<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var C=Je((g=(b=(S=(R=r==null?void 0:r.weekStartsOn)!==null&&R!==void 0?R:r==null||(P=r.locale)===null||P===void 0||(w=P.options)===null||w===void 0?void 0:w.weekStartsOn)!==null&&S!==void 0?S:T.weekStartsOn)!==null&&b!==void 0?b:(E=T.locale)===null||E===void 0||(N=E.options)===null||N===void 0?void 0:N.weekStartsOn)!==null&&g!==void 0?g:0);if(!(C>=0&&C<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(I==="")return M===""?ze(n):new Date(NaN);var A={firstWeekContainsDate:v,weekStartsOn:C,locale:_},O=[new mz],z=I.match(eK).map(function(re){var Y=re[0];if(Y in gy){var le=gy[Y];return le(re,_.formatLong)}return re}).join("").match(Zz),F=[],U=aI(z),H;try{var Q=function(){var Y=H.value;!(r!=null&&r.useAdditionalWeekYearTokens)&&XD(Y)&&ap(Y,I,t),!(r!=null&&r.useAdditionalDayOfYearTokens)&&QD(Y)&&ap(Y,I,t);var le=Y[0],ye=Jz[le];if(ye){var ee=ye.incompatibleTokens;if(Array.isArray(ee)){var k=F.find(function($){return ee.includes($.token)||$.token===le});if(k)throw new RangeError("The format string mustn't contain `".concat(k.fullToken,"` and `").concat(Y,"` at the same time"))}else if(ye.incompatibleTokens==="*"&&F.length>0)throw new RangeError("The format string mustn't contain `".concat(Y,"` and any other token at the same time"));F.push({token:le,fullToken:Y});var L=ye.run(M,Y,_.match,A);if(!L)return{v:new Date(NaN)};O.push(L.setter),M=L.rest}else{if(le.match(iK))throw new RangeError("Format string contains an unescaped latin alphabet character `"+le+"`");if(Y==="''"?Y="'":le==="'"&&(Y=sK(Y)),M.indexOf(Y)===0)M=M.slice(Y.length);else return{v:new Date(NaN)}}};for(U.s();!(H=U.n()).done;){var V=Q();if(ui(V)==="object")return V.v}}catch(re){U.e(re)}finally{U.f()}if(M.length>0&&rK.test(M))return new Date(NaN);var D=O.map(function(re){return re.priority}).sort(function(re,Y){return Y-re}).filter(function(re,Y,le){return le.indexOf(re)===Y}).map(function(re){return O.filter(function(Y){return Y.priority===re}).sort(function(Y,le){return le.subPriority-Y.subPriority})}).map(function(re){return re[0]}),Z=ze(n);if(isNaN(Z.getTime()))return new Date(NaN);var X=qD(Z,op(Z)),ce={},be=aI(D),te;try{for(be.s();!(te=be.n()).done;){var B=te.value;if(!B.validate(X,A))return new Date(NaN);var K=B.set(X,ce,A);Array.isArray(K)?(X=K[0],tz(ce,K[1])):X=K}}catch(re){be.e(re)}finally{be.f()}return X}function sK(t){return t.match(tK)[1].replace(nK,"'")}function uI(t,e){Le(2,arguments);var n=nd(t),r=nd(e);return n.getTime()===r.getTime()}function oK(t,e){Le(2,arguments);var n=Je(e);return gs(t,-n)}function aK(t,e){var n;Le(1,arguments);var r=Je((n=e==null?void 0:e.additionalDigits)!==null&&n!==void 0?n:2);if(r!==2&&r!==1&&r!==0)throw new RangeError("additionalDigits must be 0, 1 or 2");if(!(typeof t=="string"||Object.prototype.toString.call(t)==="[object String]"))return new Date(NaN);var i=dK(t),s;if(i.date){var o=hK(i.date,r);s=fK(o.restDateString,o.year)}if(!s||isNaN(s.getTime()))return new Date(NaN);var a=s.getTime(),l=0,u;if(i.time&&(l=pK(i.time),isNaN(l)))return new Date(NaN);if(i.timezone){if(u=mK(i.timezone),isNaN(u))return new Date(NaN)}else{var c=new Date(a+l),h=new Date(0);return h.setFullYear(c.getUTCFullYear(),c.getUTCMonth(),c.getUTCDate()),h.setHours(c.getUTCHours(),c.getUTCMinutes(),c.getUTCSeconds(),c.getUTCMilliseconds()),h}return new Date(a+l+u)}var Nh={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},lK=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,uK=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,cK=/^([+-])(\d{2})(?::?(\d{2}))?$/;function dK(t){var e={},n=t.split(Nh.dateTimeDelimiter),r;if(n.length>2)return e;if(/:/.test(n[0])?r=n[0]:(e.date=n[0],r=n[1],Nh.timeZoneDelimiter.test(e.date)&&(e.date=t.split(Nh.timeZoneDelimiter)[0],r=t.substr(e.date.length,t.length))),r){var i=Nh.timezone.exec(r);i?(e.time=r.replace(i[1],""),e.timezone=i[1]):e.time=r}return e}function hK(t,e){var n=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+e)+"})|(\\d{2}|[+-]\\d{"+(2+e)+"})$)"),r=t.match(n);if(!r)return{year:NaN,restDateString:""};var i=r[1]?parseInt(r[1]):null,s=r[2]?parseInt(r[2]):null;return{year:s===null?i:s*100,restDateString:t.slice((r[1]||r[2]).length)}}function fK(t,e){if(e===null)return new Date(NaN);var n=t.match(lK);if(!n)return new Date(NaN);var r=!!n[4],i=Bu(n[1]),s=Bu(n[2])-1,o=Bu(n[3]),a=Bu(n[4]),l=Bu(n[5])-1;if(r)return bK(e,a,l)?gK(e,a,l):new Date(NaN);var u=new Date(0);return!yK(e,s,o)||!_K(e,i)?new Date(NaN):(u.setUTCFullYear(e,s,Math.max(i,o)),u)}function Bu(t){return t?parseInt(t):1}function pK(t){var e=t.match(uK);if(!e)return NaN;var n=Pg(e[1]),r=Pg(e[2]),i=Pg(e[3]);return wK(n,r,i)?n*Qb+r*Gb+i*1e3:NaN}function Pg(t){return t&&parseFloat(t.replace(",","."))||0}function mK(t){if(t==="Z")return 0;var e=t.match(cK);if(!e)return 0;var n=e[1]==="+"?-1:1,r=parseInt(e[2]),i=e[3]&&parseInt(e[3])||0;return TK(r,i)?n*(r*Qb+i*Gb):NaN}function gK(t,e,n){var r=new Date(0);r.setUTCFullYear(t,0,4);var i=r.getUTCDay()||7,s=(e-1)*7+n+1-i;return r.setUTCDate(r.getUTCDate()+s),r}var vK=[31,null,31,30,31,30,31,31,30,31,30,31];function sx(t){return t%400===0||t%4===0&&t%100!==0}function yK(t,e,n){return e>=0&&e<=11&&n>=1&&n<=(vK[e]||(sx(t)?29:28))}function _K(t,e){return e>=1&&e<=(sx(t)?366:365)}function bK(t,e,n){return e>=1&&e<=53&&n>=0&&n<=6}function wK(t,e,n){return t===24?e===0&&n===0:n>=0&&n<60&&e>=0&&e<60&&t>=0&&t<25}function TK(t,e){return e>=0&&e<=59}function ox(t,e){Le(2,arguments);var n=ze(t),r=Je(e),i=n.getFullYear(),s=n.getDate(),o=new Date(0);o.setFullYear(i,r,15),o.setHours(0,0,0,0);var a=rz(o);return n.setMonth(r,Math.min(s,a)),n}function an(t,e){if(Le(2,arguments),ui(e)!=="object"||e===null)throw new RangeError("values parameter must be an object");var n=ze(t);return isNaN(n.getTime())?new Date(NaN):(e.year!=null&&n.setFullYear(e.year),e.month!=null&&(n=ox(n,e.month)),e.date!=null&&n.setDate(Je(e.date)),e.hours!=null&&n.setHours(Je(e.hours)),e.minutes!=null&&n.setMinutes(Je(e.minutes)),e.seconds!=null&&n.setSeconds(Je(e.seconds)),e.milliseconds!=null&&n.setMilliseconds(Je(e.milliseconds)),n)}function ax(t,e){Le(2,arguments);var n=ze(t),r=Je(e);return n.setHours(r),n}function e0(t,e){Le(2,arguments);var n=ze(t),r=Je(e);return n.setMilliseconds(r),n}function lx(t,e){Le(2,arguments);var n=ze(t),r=Je(e);return n.setMinutes(r),n}function t0(t,e){Le(2,arguments);var n=ze(t),r=Je(e);return n.setSeconds(r),n}function qi(t,e){Le(2,arguments);var n=ze(t),r=Je(e);return isNaN(n.getTime())?new Date(NaN):(n.setFullYear(r),n)}function Xl(t,e){Le(2,arguments);var n=Je(e);return Si(t,-n)}function EK(t,e){if(Le(2,arguments),!e||ui(e)!=="object")return new Date(NaN);var n=e.years?Je(e.years):0,r=e.months?Je(e.months):0,i=e.weeks?Je(e.weeks):0,s=e.days?Je(e.days):0,o=e.hours?Je(e.hours):0,a=e.minutes?Je(e.minutes):0,l=e.seconds?Je(e.seconds):0,u=Xl(t,r+n*12),c=oK(u,s+i*7),h=a+o*60,f=l+h*60,p=f*1e3,g=new Date(c.getTime()-p);return g}function ux(t,e){Le(2,arguments);var n=Je(e);return Yb(t,-n)}function gu(){return j(),J("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[Ce("path",{d:"M29.333 8c0-2.208-1.792-4-4-4h-18.667c-2.208 0-4 1.792-4 4v18.667c0 2.208 1.792 4 4 4h18.667c2.208 0 4-1.792 4-4v-18.667zM26.667 8v18.667c0 0.736-0.597 1.333-1.333 1.333 0 0-18.667 0-18.667 0-0.736 0-1.333-0.597-1.333-1.333 0 0 0-18.667 0-18.667 0-0.736 0.597-1.333 1.333-1.333 0 0 18.667 0 18.667 0 0.736 0 1.333 0.597 1.333 1.333z"}),Ce("path",{d:"M20 2.667v5.333c0 0.736 0.597 1.333 1.333 1.333s1.333-0.597 1.333-1.333v-5.333c0-0.736-0.597-1.333-1.333-1.333s-1.333 0.597-1.333 1.333z"}),Ce("path",{d:"M9.333 2.667v5.333c0 0.736 0.597 1.333 1.333 1.333s1.333-0.597 1.333-1.333v-5.333c0-0.736-0.597-1.333-1.333-1.333s-1.333 0.597-1.333 1.333z"}),Ce("path",{d:"M4 14.667h24c0.736 0 1.333-0.597 1.333-1.333s-0.597-1.333-1.333-1.333h-24c-0.736 0-1.333 0.597-1.333 1.333s0.597 1.333 1.333 1.333z"})])}gu.compatConfig={MODE:3};function cx(){return j(),J("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[Ce("path",{d:"M23.057 7.057l-16 16c-0.52 0.52-0.52 1.365 0 1.885s1.365 0.52 1.885 0l16-16c0.52-0.52 0.52-1.365 0-1.885s-1.365-0.52-1.885 0z"}),Ce("path",{d:"M7.057 8.943l16 16c0.52 0.52 1.365 0.52 1.885 0s0.52-1.365 0-1.885l-16-16c-0.52-0.52-1.365-0.52-1.885 0s-0.52 1.365 0 1.885z"})])}cx.compatConfig={MODE:3};function n0(){return j(),J("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[Ce("path",{d:"M20.943 23.057l-7.057-7.057c0 0 7.057-7.057 7.057-7.057 0.52-0.52 0.52-1.365 0-1.885s-1.365-0.52-1.885 0l-8 8c-0.521 0.521-0.521 1.365 0 1.885l8 8c0.52 0.52 1.365 0.52 1.885 0s0.52-1.365 0-1.885z"})])}n0.compatConfig={MODE:3};function r0(){return j(),J("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[Ce("path",{d:"M12.943 24.943l8-8c0.521-0.521 0.521-1.365 0-1.885l-8-8c-0.52-0.52-1.365-0.52-1.885 0s-0.52 1.365 0 1.885l7.057 7.057c0 0-7.057 7.057-7.057 7.057-0.52 0.52-0.52 1.365 0 1.885s1.365 0.52 1.885 0z"})])}r0.compatConfig={MODE:3};function i0(){return j(),J("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[Ce("path",{d:"M16 1.333c-8.095 0-14.667 6.572-14.667 14.667s6.572 14.667 14.667 14.667c8.095 0 14.667-6.572 14.667-14.667s-6.572-14.667-14.667-14.667zM16 4c6.623 0 12 5.377 12 12s-5.377 12-12 12c-6.623 0-12-5.377-12-12s5.377-12 12-12z"}),Ce("path",{d:"M14.667 8v8c0 0.505 0.285 0.967 0.737 1.193l5.333 2.667c0.658 0.329 1.46 0.062 1.789-0.596s0.062-1.46-0.596-1.789l-4.596-2.298c0 0 0-7.176 0-7.176 0-0.736-0.597-1.333-1.333-1.333s-1.333 0.597-1.333 1.333z"})])}i0.compatConfig={MODE:3};function s0(){return j(),J("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[Ce("path",{d:"M24.943 19.057l-8-8c-0.521-0.521-1.365-0.521-1.885 0l-8 8c-0.52 0.52-0.52 1.365 0 1.885s1.365 0.52 1.885 0l7.057-7.057c0 0 7.057 7.057 7.057 7.057 0.52 0.52 1.365 0.52 1.885 0s0.52-1.365 0-1.885z"})])}s0.compatConfig={MODE:3};function o0(){return j(),J("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[Ce("path",{d:"M7.057 12.943l8 8c0.521 0.521 1.365 0.521 1.885 0l8-8c0.52-0.52 0.52-1.365 0-1.885s-1.365-0.52-1.885 0l-7.057 7.057c0 0-7.057-7.057-7.057-7.057-0.52-0.52-1.365-0.52-1.885 0s-0.52 1.365 0 1.885z"})])}o0.compatConfig={MODE:3};function a0(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var dx={exports:{}};(function(t){function e(n){return n&&n.__esModule?n:{default:n}}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports})(dx);var IK=dx.exports,_y={exports:{}};(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=n;function n(r){if(r===null||r===!0||r===!1)return NaN;var i=Number(r);return isNaN(i)?i:i<0?Math.ceil(i):Math.floor(i)}t.exports=e.default})(_y,_y.exports);var SK=_y.exports;const CK=a0(SK);var by={exports:{}};(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=n;function n(r){var i=new Date(Date.UTC(r.getFullYear(),r.getMonth(),r.getDate(),r.getHours(),r.getMinutes(),r.getSeconds(),r.getMilliseconds()));return i.setUTCFullYear(r.getFullYear()),r.getTime()-i.getTime()}t.exports=e.default})(by,by.exports);var AK=by.exports;const cI=a0(AK);function OK(t,e){var n=DK(e);return n.formatToParts?kK(n,t):RK(n,t)}var PK={year:0,month:1,day:2,hour:3,minute:4,second:5};function kK(t,e){try{for(var n=t.formatToParts(e),r=[],i=0;i<n.length;i++){var s=PK[n[i].type];s>=0&&(r[s]=parseInt(n[i].value,10))}return r}catch(o){if(o instanceof RangeError)return[NaN];throw o}}function RK(t,e){var n=t.format(e).replace(/\u200E/g,""),r=/(\d+)\/(\d+)\/(\d+),? (\d+):(\d+):(\d+)/.exec(n);return[r[3],r[1],r[2],r[4],r[5],r[6]]}var kg={};function DK(t){if(!kg[t]){var e=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:"America/New_York",year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}).format(new Date("2014-06-25T04:00:00.123Z")),n=e==="06/25/2014, 00:00:00"||e==="06/25/2014 00:00:00";kg[t]=n?new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:t,year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}):new Intl.DateTimeFormat("en-US",{hourCycle:"h23",timeZone:t,year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"})}return kg[t]}function l0(t,e,n,r,i,s,o){var a=new Date(0);return a.setUTCFullYear(t,e,n),a.setUTCHours(r,i,s,o),a}var dI=36e5,xK=6e4,Rg={timezone:/([Z+-].*)$/,timezoneZ:/^(Z)$/,timezoneHH:/^([+-]\d{2})$/,timezoneHHMM:/^([+-]\d{2}):?(\d{2})$/};function u0(t,e,n){var r,i;if(t===""||(r=Rg.timezoneZ.exec(t),r))return 0;var s;if(r=Rg.timezoneHH.exec(t),r)return s=parseInt(r[1],10),hI(s)?-(s*dI):NaN;if(r=Rg.timezoneHHMM.exec(t),r){s=parseInt(r[1],10);var o=parseInt(r[2],10);return hI(s,o)?(i=Math.abs(s)*dI+o*xK,s>0?-i:i):NaN}if(LK(t)){e=new Date(e||Date.now());var a=n?e:NK(e),l=wy(a,t),u=n?l:MK(e,l,t);return-u}return NaN}function NK(t){return l0(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds())}function wy(t,e){var n=OK(t,e),r=l0(n[0],n[1]-1,n[2],n[3]%24,n[4],n[5],0).getTime(),i=t.getTime(),s=i%1e3;return i-=s>=0?s:1e3+s,r-i}function MK(t,e,n){var r=t.getTime(),i=r-e,s=wy(new Date(i),n);if(e===s)return e;i-=s-e;var o=wy(new Date(i),n);return s===o?s:Math.max(s,o)}function hI(t,e){return-23<=t&&t<=23&&(e==null||0<=e&&e<=59)}var fI={};function LK(t){if(fI[t])return!0;try{return new Intl.DateTimeFormat(void 0,{timeZone:t}),fI[t]=!0,!0}catch{return!1}}var hx=/(Z|[+-]\d{2}(?::?\d{2})?| UTC| [a-zA-Z]+\/[a-zA-Z_]+(?:\/[a-zA-Z_]+)?)$/,Dg=36e5,pI=6e4,VK=2,Ar={dateTimePattern:/^([0-9W+-]+)(T| )(.*)/,datePattern:/^([0-9W+-]+)(.*)/,plainTime:/:/,YY:/^(\d{2})$/,YYY:[/^([+-]\d{2})$/,/^([+-]\d{3})$/,/^([+-]\d{4})$/],YYYY:/^(\d{4})/,YYYYY:[/^([+-]\d{4})/,/^([+-]\d{5})/,/^([+-]\d{6})/],MM:/^-(\d{2})$/,DDD:/^-?(\d{3})$/,MMDD:/^-?(\d{2})-?(\d{2})$/,Www:/^-?W(\d{2})$/,WwwD:/^-?W(\d{2})-?(\d{1})$/,HH:/^(\d{2}([.,]\d*)?)$/,HHMM:/^(\d{2}):?(\d{2}([.,]\d*)?)$/,HHMMSS:/^(\d{2}):?(\d{2}):?(\d{2}([.,]\d*)?)$/,timeZone:hx};function Ty(t,e){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");if(t===null)return new Date(NaN);var n=e||{},r=n.additionalDigits==null?VK:CK(n.additionalDigits);if(r!==2&&r!==1&&r!==0)throw new RangeError("additionalDigits must be 0, 1 or 2");if(t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]")return new Date(t.getTime());if(typeof t=="number"||Object.prototype.toString.call(t)==="[object Number]")return new Date(t);if(!(typeof t=="string"||Object.prototype.toString.call(t)==="[object String]"))return new Date(NaN);var i=FK(t),s=$K(i.date,r),o=s.year,a=s.restDateString,l=UK(a,o);if(isNaN(l))return new Date(NaN);if(l){var u=l.getTime(),c=0,h;if(i.time&&(c=BK(i.time),isNaN(c)))return new Date(NaN);if(i.timeZone||n.timeZone){if(h=u0(i.timeZone||n.timeZone,new Date(u+c)),isNaN(h))return new Date(NaN)}else h=cI(new Date(u+c)),h=cI(new Date(u+c+h));return new Date(u+c+h)}else return new Date(NaN)}function FK(t){var e={},n=Ar.dateTimePattern.exec(t),r;if(n?(e.date=n[1],r=n[3]):(n=Ar.datePattern.exec(t),n?(e.date=n[1],r=n[2]):(e.date=null,r=t)),r){var i=Ar.timeZone.exec(r);i?(e.time=r.replace(i[1],""),e.timeZone=i[1].trim()):e.time=r}return e}function $K(t,e){var n=Ar.YYY[e],r=Ar.YYYYY[e],i;if(i=Ar.YYYY.exec(t)||r.exec(t),i){var s=i[1];return{year:parseInt(s,10),restDateString:t.slice(s.length)}}if(i=Ar.YY.exec(t)||n.exec(t),i){var o=i[1];return{year:parseInt(o,10)*100,restDateString:t.slice(o.length)}}return{year:null}}function UK(t,e){if(e===null)return null;var n,r,i,s;if(t.length===0)return r=new Date(0),r.setUTCFullYear(e),r;if(n=Ar.MM.exec(t),n)return r=new Date(0),i=parseInt(n[1],10)-1,gI(e,i)?(r.setUTCFullYear(e,i),r):new Date(NaN);if(n=Ar.DDD.exec(t),n){r=new Date(0);var o=parseInt(n[1],10);return WK(e,o)?(r.setUTCFullYear(e,0,o),r):new Date(NaN)}if(n=Ar.MMDD.exec(t),n){r=new Date(0),i=parseInt(n[1],10)-1;var a=parseInt(n[2],10);return gI(e,i,a)?(r.setUTCFullYear(e,i,a),r):new Date(NaN)}if(n=Ar.Www.exec(t),n)return s=parseInt(n[1],10)-1,vI(e,s)?mI(e,s):new Date(NaN);if(n=Ar.WwwD.exec(t),n){s=parseInt(n[1],10)-1;var l=parseInt(n[2],10)-1;return vI(e,s,l)?mI(e,s,l):new Date(NaN)}return null}function BK(t){var e,n,r;if(e=Ar.HH.exec(t),e)return n=parseFloat(e[1].replace(",",".")),xg(n)?n%24*Dg:NaN;if(e=Ar.HHMM.exec(t),e)return n=parseInt(e[1],10),r=parseFloat(e[2].replace(",",".")),xg(n,r)?n%24*Dg+r*pI:NaN;if(e=Ar.HHMMSS.exec(t),e){n=parseInt(e[1],10),r=parseInt(e[2],10);var i=parseFloat(e[3].replace(",","."));return xg(n,r,i)?n%24*Dg+r*pI+i*1e3:NaN}return null}function mI(t,e,n){e=e||0,n=n||0;var r=new Date(0);r.setUTCFullYear(t,0,4);var i=r.getUTCDay()||7,s=e*7+n+1-i;return r.setUTCDate(r.getUTCDate()+s),r}var jK=[31,28,31,30,31,30,31,31,30,31,30,31],HK=[31,29,31,30,31,30,31,31,30,31,30,31];function fx(t){return t%400===0||t%4===0&&t%100!==0}function gI(t,e,n){if(e<0||e>11)return!1;if(n!=null){if(n<1)return!1;var r=fx(t);if(r&&n>HK[e]||!r&&n>jK[e])return!1}return!0}function WK(t,e){if(e<1)return!1;var n=fx(t);return!(n&&e>366||!n&&e>365)}function vI(t,e,n){return!(e<0||e>52||n!=null&&(n<0||n>6))}function xg(t,e,n){return!(t!=null&&(t<0||t>=25)||e!=null&&(e<0||e>=60)||n!=null&&(n<0||n>=60))}var Ey={exports:{}},Iy={exports:{}};(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=n;function n(r,i){if(r==null)throw new TypeError("assign requires that input parameter not be null or undefined");for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(r[s]=i[s]);return r}t.exports=e.default})(Iy,Iy.exports);var qK=Iy.exports;(function(t,e){var n=IK.default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=i;var r=n(qK);function i(s){return(0,r.default)({},s)}t.exports=e.default})(Ey,Ey.exports);var zK=Ey.exports;const KK=a0(zK);function YK(t,e,n){var r=Ty(t,n),i=u0(e,r,!0),s=new Date(r.getTime()-i),o=new Date(0);return o.setFullYear(s.getUTCFullYear(),s.getUTCMonth(),s.getUTCDate()),o.setHours(s.getUTCHours(),s.getUTCMinutes(),s.getUTCSeconds(),s.getUTCMilliseconds()),o}function GK(t,e,n){if(typeof t=="string"&&!t.match(hx)){var r=KK(n);return r.timeZone=e,Ty(t,r)}var i=Ty(t,n),s=l0(i.getFullYear(),i.getMonth(),i.getDate(),i.getHours(),i.getMinutes(),i.getSeconds(),i.getMilliseconds()).getTime(),o=u0(e,new Date(s));return new Date(s+o)}function yI(t){return e=>new Intl.DateTimeFormat(t,{weekday:"short",timeZone:"UTC"}).format(new Date(`2017-01-0${e}T00:00:00+00:00`)).slice(0,2)}function QK(t){return e=>ho(new Date(`2017-01-0${e}T00:00:00+00:00`),"EEEEEE",{locale:t})}const XK=(t,e,n)=>{const r=[1,2,3,4,5,6,7];let i;if(t!==null)try{i=r.map(QK(t))}catch{i=r.map(yI(e))}else i=r.map(yI(e));const s=i.slice(0,n),o=i.slice(n+1,i.length);return[i[n]].concat(...o).concat(...s)},c0=(t,e)=>{const n=[];for(let r=+t[0];r<=+t[1];r++)n.push({value:+r,text:`${r}`});return e?n.reverse():n},px=(t,e,n)=>{const r=[1,2,3,4,5,6,7,8,9,10,11,12].map(s=>{const o=s<10?`0${s}`:s;return new Date(`2017-${o}-01T00:00:00+00:00`)});if(t!==null)try{const s=n==="long"?"MMMM":"MMM";return r.map((o,a)=>{const l=ho(o,s,{locale:t});return{text:l.charAt(0).toUpperCase()+l.substring(1),value:a}})}catch{}const i=new Intl.DateTimeFormat(e,{month:n,timeZone:"UTC"});return r.map((s,o)=>{const a=i.format(s);return{text:a.charAt(0).toUpperCase()+a.substring(1),value:o}})},JK=t=>[12,1,2,3,4,5,6,7,8,9,10,11,12,1,2,3,4,5,6,7,8,9,10,11][t],Dn=t=>{const e=q(t);return e!=null&&e.$el?e==null?void 0:e.$el:e},ZK=t=>Object.assign({type:"dot"},t),mx=t=>Array.isArray(t)?!!t[0]&&!!t[1]:!1,cp={prop:t=>`"${t}" prop must be enabled!`,dateArr:t=>`You need to use array as "model-value" binding in order to support "${t}"`},Ln=t=>t,_I=t=>t===0?t:!t||isNaN(+t)?null:+t,bI=t=>t===null,eY=t=>{if(t)return[...t.querySelectorAll("input, button, select, textarea, a[href]")][0]},tY=t=>{const e=[],n=r=>r.filter(i=>i);for(let r=0;r<t.length;r+=3){const i=[t[r],t[r+1],t[r+2]];e.push(n(i))}return e},sd=(t,e,n)=>{const r=n!=null,i=e!=null;if(!r&&!i)return!1;const s=+n,o=+e;return r&&i?+t>s||+t<o:r?+t>s:i?+t<o:!1},Jl=(t,e)=>tY(t).map(n=>n.map(r=>{const{active:i,disabled:s,isBetween:o,highlighted:a}=e(r);return{...r,active:i,disabled:s,className:{dp__overlay_cell_active:i,dp__overlay_cell:!i,dp__overlay_cell_disabled:s,dp__overlay_cell_pad:!0,dp__overlay_cell_active_disabled:s&&i,dp__cell_in_between:o,"dp--highlighted":a}}})),fo=(t,e,n=!1)=>{t&&e.allowStopPropagation&&(n&&t.stopImmediatePropagation(),t.stopPropagation())},nY=()=>["a[href]","area[href]","input:not([disabled]):not([type='hidden'])","select:not([disabled])","textarea:not([disabled])","button:not([disabled])","[tabindex]:not([tabindex='-1'])","[data-datepicker-instance]"].join(", ");function rY(t,e){let n=[...document.querySelectorAll(nY())];n=n.filter(i=>!t.contains(i)||i.hasAttribute("data-datepicker-instance"));const r=n.indexOf(t);if(r>=0&&(e?r-1>=0:r+1<=n.length))return n[r+(e?-1:1)]}const iY=(t,e)=>{let n;return function(...r){clearTimeout(n),n=setTimeout(()=>{t(...r)},e)}},wI=(t,e,n,r,i)=>{const s=yy(t,e.slice(0,t.length),new Date);return Tc(s)&&HD(s)?r||i?s:an(s,{hours:+n.hours,minutes:+(n==null?void 0:n.minutes),seconds:+(n==null?void 0:n.seconds),milliseconds:0}):null},sY=(t,e,n,r,i)=>{const s=Array.isArray(n)?n[0]:n;if(typeof e=="string")return wI(t,e,s,r,i);if(Array.isArray(e)){let o=null;for(const a of e)if(o=wI(t,a,s,r,i),o)break;return o}return typeof e=="function"?e(t):null},ge=t=>t?new Date(t):new Date,oY=(t,e,n)=>{if(e){const i=(t.getMonth()+1).toString().padStart(2,"0"),s=t.getDate().toString().padStart(2,"0"),o=t.getHours().toString().padStart(2,"0"),a=t.getMinutes().toString().padStart(2,"0"),l=n?t.getSeconds().toString().padStart(2,"0"):"00";return`${t.getFullYear()}-${i}-${s}T${o}:${a}:${l}.000Z`}const r=Date.UTC(t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate(),t.getUTCHours(),t.getUTCMinutes(),t.getUTCSeconds());return new Date(r).toISOString()},yr=t=>{let e=ge(JSON.parse(JSON.stringify(t)));return e=ax(e,0),e=lx(e,0),e=t0(e,0),e=e0(e,0),e},po=(t,e,n,r)=>{let i=t?ge(t):ge();return(e||e===0)&&(i=ax(i,+e)),(n||n===0)&&(i=lx(i,+n)),(r||r===0)&&(i=t0(i,+r)),e0(i,0)},Xn=(t,e)=>!t||!e?!1:id(yr(t),yr(e)),xt=(t,e)=>!t||!e?!1:cl(yr(t),yr(e)),mr=(t,e)=>!t||!e?!1:rd(yr(t),yr(e)),pm=(t,e,n)=>t!=null&&t[0]&&t!=null&&t[1]?mr(n,t[0])&&Xn(n,t[1]):t!=null&&t[0]&&e?mr(n,t[0])&&Xn(n,e)||Xn(n,t[0])&&mr(n,e):!1,yi=t=>{const e=an(new Date(t),{date:1});return yr(e)},Ng=(t,e,n)=>e&&(n||n===0)?Object.fromEntries(["hours","minutes","seconds"].map(r=>r===e?[r,n]:[r,isNaN(+t[r])?void 0:+t[r]])):{hours:isNaN(+t.hours)?void 0:+t.hours,minutes:isNaN(+t.minutes)?void 0:+t.minutes,seconds:isNaN(+t.seconds)?void 0:+t.seconds},na=t=>({hours:Ci(t),minutes:Ji(t),seconds:Ql(t)}),gx=(t,e)=>{if(e){const n=ut(ge(e));if(n>t)return 12;if(n===t)return Tt(ge(e))}},vx=(t,e)=>{if(e){const n=ut(ge(e));return n<t?-1:n===t?Tt(ge(e)):void 0}},Zl=t=>{if(t)return ut(ge(t))},Ai=(t,e)=>e?YK(t,e):t,yx=(t,e)=>e?GK(t,e):t,aY=t=>t instanceof Date?t:aK(t),_x=(t,e)=>{const n=mr(t,e)?e:t,r=mr(e,t)?e:t;return WD({start:n,end:r})},lY=t=>{const e=Si(t,1);return{month:Tt(e),year:ut(e)}},nf=(t,e,n)=>{const r=wa(Ai(t,e),{weekStartsOn:+n}),i=ZW(Ai(t,e),{weekStartsOn:+n});return[r,i]},bx=(t,e)=>{const n={hours:Ci(ge()),minutes:Ji(ge()),seconds:e?Ql(ge()):0};return Object.assign(n,t)},io=(t,e,n)=>[an(ge(t),{date:1}),an(ge(),{month:e,year:n,date:1})],ws=(t,e,n)=>{let r=t?ge(t):ge();return(e||e===0)&&(r=ox(r,e)),n&&(r=qi(r,n)),r},wx=(t,e,n,r,i)=>{if(!r||i&&!e||!i&&!n)return!1;const s=i?Si(t,1):Xl(t,1),o=[Tt(s),ut(s)];return i?!cY(...o,e):!uY(...o,n)},uY=(t,e,n)=>Xn(...io(n,t,e))||xt(...io(n,t,e)),cY=(t,e,n)=>mr(...io(n,t,e))||xt(...io(n,t,e)),Tx=(t,e,n,r,i,s,o)=>{if(typeof e=="function"&&!o)return e(t);const a=n?{locale:n}:void 0;return Array.isArray(t)?`${ho(t[0],s,a)}${i&&!t[1]?"":r}${t[1]?ho(t[1],s,a):""}`:ho(t,s,a)},Ka=t=>{if(t)return null;throw new Error(cp.prop("partial-range"))},Mh=(t,e)=>{if(e)return t();throw new Error(cp.prop("range"))},Sy=t=>Array.isArray(t)?Tc(t[0])&&(t[1]?Tc(t[1]):!0):t?Tc(t):!1,dY=(t,e)=>an(e??ge(),{hours:+t.hours||0,minutes:+t.minutes||0,seconds:+t.seconds||0}),Mg=(t,e,n,r)=>{if(!t)return!0;if(r){const i=n==="max"?id(t,e):rd(t,e),s={seconds:0,milliseconds:0};return i||cl(an(t,s),an(e,s))}return n==="max"?t.getTime()<=e.getTime():t.getTime()>=e.getTime()},Lg=(t,e,n)=>t?dY(t,e):ge(n??e),TI=(t,e,n,r,i)=>{if(Array.isArray(r)){const o=Lg(t,r[0],e),a=Lg(t,r[1],e);return Mg(r[0],o,n,!!e)&&Mg(r[1],a,n,!!e)&&i}const s=Lg(t,r,e);return Mg(r,s,n,!!e)&&i},Vg=t=>an(ge(),na(t)),hY=(t,e)=>Array.isArray(t)?t.map(n=>ge(n)).filter(n=>ut(ge(n))===e).map(n=>Tt(n)):[],Ex=(t,e,n)=>typeof t=="function"?t({month:e,year:n}):!!t.months.find(r=>r.month===e&&r.year===n),d0=(t,e)=>typeof t=="function"?t(e):t.years.includes(e),ju=di({menuFocused:!1,shiftKeyInMenu:!1}),Ix=()=>{const t=n=>{ju.menuFocused=n},e=n=>{ju.shiftKeyInMenu!==n&&(ju.shiftKeyInMenu=n)};return{control:he(()=>({shiftKeyInMenu:ju.shiftKeyInMenu,menuFocused:ju.menuFocused})),setMenuFocused:t,setShiftKey:e}},tn=di({monthYear:[],calendar:[],time:[],actionRow:[],selectionGrid:[],timePicker:{0:[],1:[]},monthPicker:[]}),Fg=Te(null),Lh=Te(!1),$g=Te(!1),Ug=Te(!1),Bg=Te(!1),Tr=Te(0),zn=Te(0),Ro=()=>{const t=he(()=>Lh.value?[...tn.selectionGrid,tn.actionRow].filter(h=>h.length):$g.value?[...tn.timePicker[0],...tn.timePicker[1],Bg.value?[]:[Fg.value],tn.actionRow].filter(h=>h.length):Ug.value?[...tn.monthPicker,tn.actionRow]:[tn.monthYear,...tn.calendar,tn.time,tn.actionRow].filter(h=>h.length)),e=h=>{Tr.value=h?Tr.value+1:Tr.value-1;let f=null;t.value[zn.value]&&(f=t.value[zn.value][Tr.value]),f||(Tr.value=h?Tr.value-1:Tr.value+1)},n=h=>{zn.value===0&&!h||zn.value===t.value.length&&h||(zn.value=h?zn.value+1:zn.value-1,t.value[zn.value]?t.value[zn.value]&&!t.value[zn.value][Tr.value]&&Tr.value!==0&&(Tr.value=t.value[zn.value].length-1):zn.value=h?zn.value-1:zn.value+1)},r=h=>{let f=null;t.value[zn.value]&&(f=t.value[zn.value][Tr.value]),f?f.focus({preventScroll:!Lh.value}):Tr.value=h?Tr.value-1:Tr.value+1},i=()=>{e(!0),r(!0)},s=()=>{e(!1),r(!1)},o=()=>{n(!1),r(!0)},a=()=>{n(!0),r(!0)},l=(h,f)=>{tn[f]=h},u=(h,f)=>{tn[f]=h},c=()=>{Tr.value=0,zn.value=0};return{buildMatrix:l,buildMultiLevelMatrix:u,setTimePickerBackRef:h=>{Fg.value=h},setSelectionGrid:h=>{Lh.value=h,c(),h||(tn.selectionGrid=[])},setTimePicker:(h,f=!1)=>{$g.value=h,Bg.value=f,c(),h||(tn.timePicker[0]=[],tn.timePicker[1]=[])},setTimePickerElements:(h,f=0)=>{tn.timePicker[f]=h},arrowRight:i,arrowLeft:s,arrowUp:o,arrowDown:a,clearArrowNav:()=>{tn.monthYear=[],tn.calendar=[],tn.time=[],tn.actionRow=[],tn.selectionGrid=[],tn.timePicker[0]=[],tn.timePicker[1]=[],Lh.value=!1,$g.value=!1,Bg.value=!1,Ug.value=!1,c(),Fg.value=null},setMonthPicker:h=>{Ug.value=h,c()},refSets:tn}},EI=t=>({menuAppearTop:"dp-menu-appear-top",menuAppearBottom:"dp-menu-appear-bottom",open:"dp-slide-down",close:"dp-slide-up",next:"calendar-next",previous:"calendar-prev",vNext:"dp-slide-up",vPrevious:"dp-slide-down",...t??{}}),fY=t=>({toggleOverlay:"Toggle overlay",menu:"Datepicker menu",input:"Datepicker input",calendarWrap:"Calendar wrapper",calendarDays:"Calendar days",openTimePicker:"Open time picker",closeTimePicker:"Close time Picker",incrementValue:e=>`Increment ${e}`,decrementValue:e=>`Decrement ${e}`,openTpOverlay:e=>`Open ${e} overlay`,amPmButton:"Switch AM/PM mode",openYearsOverlay:"Open years overlay",openMonthsOverlay:"Open months overlay",nextMonth:"Next month",prevMonth:"Previous month",nextYear:"Next year",prevYear:"Previous year",day:()=>"",...t??{}}),II=t=>t?typeof t=="boolean"?t?2:0:+t>=2?+t:2:0,pY=t=>{const e=typeof t=="object"&&t,n={static:!0,solo:!1};if(!t)return{...n,count:II(!1)};const r=e?t:{},i=e?r.count??!0:t,s=II(i);return Object.assign(n,r,{count:s})},mY=(t,e,n)=>t||(typeof n=="string"?n:e),gY=t=>typeof t=="boolean"?t?EI({}):!1:EI(t),vY=t=>{const e={enterSubmit:!0,tabSubmit:!0,openMenu:!0,selectOnFocus:!1,rangeSeparator:" - "};return typeof t=="object"?{...e,...t??{},enabled:!0}:{...e,enabled:t}},yY=t=>({months:[],years:[],times:{hours:[],minutes:[],seconds:[]},...t??{}}),_Y=t=>({showSelect:!0,showCancel:!0,showNow:!1,showPreview:!0,...t??{}}),bY=t=>{const e={input:!1};return typeof t=="object"?{...e,...t??{},enabled:!0}:{enabled:t,...e}},wY=t=>({allowStopPropagation:!0,closeOnScroll:!1,modeHeight:255,allowPreventDefault:!1,closeOnClearValue:!0,closeOnAutoApply:!0,noSwipe:!1,keepActionRow:!1,onClickOutside:void 0,tabOutClosesMenu:!0,...t??{}}),TY=(t,e,n)=>{const r={dates:Array.isArray(t)?t.map(i=>ge(i)):[],years:[],months:[],quarters:[],weeks:[],weekdays:e,options:{highlightDisabled:n}};return typeof t=="function"?t:{...r,...t??{}}},EY=t=>typeof t=="object"?{type:t.type,hideOnOffsetDates:t.hideOnOffsetDates??!1}:{type:t,hideOnOffsetDates:!1},Sn=t=>{const e=()=>{const R=t.enableSeconds?":ss":"";return t.is24?`HH:mm${R}`:`hh:mm${R} aa`},n=()=>t.format?t.format:t.monthPicker?"MM/yyyy":t.timePicker?e():t.weekPicker?"MM/dd/yyyy":t.yearPicker?"yyyy":t.quarterPicker?"QQQ/yyyy":t.enableTimePicker?`MM/dd/yyyy, ${e()}`:"MM/dd/yyyy",r=R=>bx(R,t.enableSeconds),i=()=>t.range?t.startTime&&Array.isArray(t.startTime)?[r(t.startTime[0]),r(t.startTime[1])]:null:t.startTime&&!Array.isArray(t.startTime)?r(t.startTime):null,s=he(()=>pY(t.multiCalendars)),o=he(()=>i()),a=he(()=>fY(t.ariaLabels)),l=he(()=>yY(t.filters)),u=he(()=>gY(t.transitions)),c=he(()=>_Y(t.actionRow)),h=he(()=>mY(t.previewFormat,t.format,n())),f=he(()=>vY(t.textInput)),p=he(()=>bY(t.inline)),g=he(()=>wY(t.config)),b=he(()=>TY(t.highlight,t.highlightWeekDays,t.highlightDisabledDays)),S=he(()=>EY(t.weekNumbers));return{defaultedTransitions:u,defaultedMultiCalendars:s,defaultedStartTime:o,defaultedAriaLabels:a,defaultedFilters:l,defaultedActionRow:c,defaultedPreviewFormat:h,defaultedTextInput:f,defaultedInline:p,defaultedConfig:g,defaultedHighlight:b,defaultedWeekNumbers:S,getDefaultPattern:n,getDefaultStartTime:i}},IY=(t,e,n)=>{const r=Te(),{defaultedTextInput:i,getDefaultPattern:s}=Sn(e),o=Te(""),a=kc(e,"format");Nn(r,()=>{t("internal-model-change",r.value)}),Nn(a,()=>{z()});const l=D=>yx(D,e.timezone),u=D=>Ai(D,e.timezone),c=(D,Z,X=!1)=>Tx(D,e.format,e.formatLocale,i.value.rangeSeparator,e.modelAuto,Z??s(),X),h=D=>D?e.modelType?U(D):{hours:Ci(D),minutes:Ji(D),seconds:e.enableSeconds?Ql(D):0}:null,f=D=>e.modelType?U(D):{month:Tt(D),year:ut(D)},p=D=>Array.isArray(D)?e.multiDates?D.map(Z=>g(Z,qi(ge(),Z))):Mh(()=>[qi(ge(),D[0]),D[1]?qi(ge(),D[1]):Ka(e.partialRange)],e.range):qi(ge(),+D),g=(D,Z)=>(typeof D=="string"||typeof D=="number")&&e.modelType?F(D):Z,b=D=>Array.isArray(D)?[g(D[0],po(null,+D[0].hours,+D[0].minutes,D[0].seconds)),g(D[1],po(null,+D[1].hours,+D[1].minutes,D[1].seconds))]:g(D,po(null,D.hours,D.minutes,D.seconds)),S=D=>Array.isArray(D)?e.multiDates?D.map(Z=>g(Z,ws(null,+Z.month,+Z.year))):Mh(()=>[g(D[0],ws(null,+D[0].month,+D[0].year)),g(D[1],D[1]?ws(null,+D[1].month,+D[1].year):Ka(e.partialRange))],e.range):g(D,ws(null,+D.month,+D.year)),R=D=>{if(Array.isArray(D))return D.map(Z=>F(Z));throw new Error(cp.dateArr("multi-dates"))},P=D=>{if(Array.isArray(D))return[ge(D[0]),ge(D[1])];throw new Error(cp.dateArr("week-picker"))},w=D=>e.modelAuto?Array.isArray(D)?[F(D[0]),F(D[1])]:e.autoApply?[F(D)]:[F(D),null]:Array.isArray(D)?Mh(()=>[F(D[0]),D[1]?F(D[1]):Ka(e.partialRange)],e.range):F(D),E=()=>{Array.isArray(r.value)&&e.range&&r.value.length===1&&r.value.push(Ka(e.partialRange))},N=()=>{const D=r.value;return[U(D[0]),D[1]?U(D[1]):Ka(e.partialRange)]},M=()=>r.value[1]?N():U(Ln(r.value[0])),I=()=>(r.value||[]).map(D=>U(D)),T=()=>(E(),e.modelAuto?M():e.multiDates?I():Array.isArray(r.value)?Mh(()=>N(),e.range):U(Ln(r.value))),_=D=>!D||Array.isArray(D)&&!D.length?null:e.timePicker?b(Ln(D)):e.monthPicker?S(Ln(D)):e.yearPicker?p(Ln(D)):e.multiDates?R(Ln(D)):e.weekPicker?P(Ln(D)):w(Ln(D)),v=D=>{const Z=_(D);Sy(Ln(Z))?(r.value=Ln(Z),z()):(r.value=null,o.value="")},C=()=>{const D=Z=>ho(Z,i.value.format);return`${D(r.value[0])} ${i.value.rangeSeparator} ${r.value[1]?D(r.value[1]):""}`},A=()=>n.value&&r.value?Array.isArray(r.value)?C():ho(r.value,i.value.format):c(r.value),O=()=>r.value?e.multiDates?r.value.map(D=>c(D)).join("; "):i.value.enabled&&typeof i.value.format=="string"?A():c(r.value):"",z=()=>{!e.format||typeof e.format=="string"||i.value.enabled&&typeof i.value.format=="string"?o.value=O():o.value=e.format(r.value)},F=D=>{if(e.utc){const Z=new Date(D);return e.utc==="preserve"?new Date(Z.getTime()+Z.getTimezoneOffset()*6e4):Z}return e.modelType?e.modelType==="date"||e.modelType==="timestamp"?u(new Date(D)):e.modelType==="format"&&(typeof e.format=="string"||!e.format)?yy(D,s(),new Date):u(yy(D,e.modelType,new Date)):u(new Date(D))},U=D=>D?e.utc?oY(D,e.utc==="preserve",e.enableSeconds):e.modelType?e.modelType==="timestamp"?+l(D):e.modelType==="format"&&(typeof e.format=="string"||!e.format)?c(l(D)):c(l(D),e.modelType,!0):l(D):"",H=(D,Z=!1)=>{if(t("update:model-value",D),e.emitTimezone&&Z){const X=Array.isArray(D)?D.map(ce=>Ai(Ln(ce)),e.emitTimezone):Ai(Ln(D),e.emitTimezone);t("update:model-timezone-value",X)}},Q=D=>Array.isArray(r.value)?e.multiDates?r.value.map(Z=>D(Z)):[D(r.value[0]),r.value[1]?D(r.value[1]):Ka(e.partialRange)]:D(Ln(r.value)),V=D=>H(Ln(Q(D)));return{inputValue:o,internalModelValue:r,checkBeforeEmit:()=>r.value?e.range?e.partialRange?r.value.length>=1:r.value.length===2:!!r.value:!1,parseExternalModelValue:v,formatInputValue:z,emitModelValue:()=>(z(),e.monthPicker?V(f):e.timePicker?V(h):e.yearPicker?V(ut):e.weekPicker?H(r.value.map(D=>U(D)),!0):H(T(),!0))}},SY=(t,e)=>{const{defaultedFilters:n}=Sn(t),{validateMonthYearInRange:r}=xa(t),i=(u,c)=>{let h=u;return n.value.months.includes(Tt(h))?(h=c?Si(u,1):Xl(u,1),i(h,c)):h},s=(u,c)=>{let h=u;return n.value.years.includes(ut(h))?(h=c?Yb(u,1):ux(u,1),s(h,c)):h},o=(u,c=!1)=>{const h=an(new Date,{month:t.month,year:t.year});let f=u?Si(h,1):Xl(h,1);t.disableYearSelect&&(f=qi(f,t.year));let p=Tt(f),g=ut(f);n.value.months.includes(p)&&(f=i(f,u),p=Tt(f),g=ut(f)),n.value.years.includes(g)&&(f=s(f,u),g=ut(f)),r(p,g,u,t.preventMinMaxNavigation)&&a(p,g,c)},a=(u,c,h)=>{e("update-month-year",{month:u,year:c,fromNav:h})},l=he(()=>u=>wx(an(new Date,{month:t.month,year:t.year}),t.maxDate,t.minDate,t.preventMinMaxNavigation,u));return{handleMonthYearChange:o,isDisabled:l,updateMonthYear:a}};var nl=(t=>(t.center="center",t.left="left",t.right="right",t))(nl||{}),pi=(t=>(t.month="month",t.year="year",t))(pi||{}),Ho=(t=>(t.top="top",t.bottom="bottom",t))(Ho||{}),ra=(t=>(t.header="header",t.calendar="calendar",t.timePicker="timePicker",t))(ra||{}),Ui=(t=>(t.month="month",t.year="year",t.calendar="calendar",t.time="time",t.minutes="minutes",t.hours="hours",t.seconds="seconds",t))(Ui||{});const CY=({menuRef:t,menuRefInner:e,inputRef:n,pickerWrapperRef:r,inline:i,emit:s,props:o,slots:a})=>{const l=Te({}),u=Te(!1),c=Te({top:"0",left:"0"}),h=Te(!1),f=kc(o,"teleportCenter");Nn(f,()=>{c.value=JSON.parse(JSON.stringify({})),E()});const p=F=>{if(o.teleport){const U=F.getBoundingClientRect();return{left:U.left+window.scrollX,top:U.top+window.scrollY}}return{top:0,left:0}},g=(F,U)=>{c.value.left=`${F+U-l.value.width}px`},b=F=>{c.value.left=`${F}px`},S=(F,U)=>{o.position===nl.left&&b(F),o.position===nl.right&&g(F,U),o.position===nl.center&&(c.value.left=`${F+U/2-l.value.width/2}px`)},R=F=>{const{width:U,height:H}=F.getBoundingClientRect(),{top:Q,left:V}=o.altPosition?o.altPosition(F):p(F);return{top:+Q,left:+V,width:U,height:H}},P=()=>{c.value.left="50%",c.value.top="50%",c.value.transform="translate(-50%, -50%)",c.value.position="fixed",delete c.value.opacity},w=()=>{const F=Dn(n),{top:U,left:H,transform:Q}=o.altPosition(F);c.value={top:`${U}px`,left:`${H}px`,transform:Q??""}},E=(F=!0)=>{var U;if(!i.value.enabled){if(f.value)return P();if(o.altPosition!==null)return w();if(F){const H=o.teleport?(U=e.value)==null?void 0:U.$el:t.value;H&&(l.value=H.getBoundingClientRect()),s("recalculate-position")}return C()}},N=({inputEl:F,left:U,width:H})=>{window.screen.width>768&&!u.value&&S(U,H),T(F)},M=F=>{const{top:U,left:H,height:Q,width:V}=R(F);c.value.top=`${Q+U+ +o.offset}px`,h.value=!1,u.value||(c.value.left=`${H+V/2-l.value.width/2}px`),N({inputEl:F,left:H,width:V})},I=F=>{const{top:U,left:H,width:Q}=R(F);c.value.top=`${U-+o.offset-l.value.height}px`,h.value=!0,N({inputEl:F,left:H,width:Q})},T=F=>{if(o.autoPosition){const{left:U,width:H}=R(F),{left:Q,right:V}=l.value;if(!u.value){if(Math.abs(Q)!==Math.abs(V)){if(Q<=0)return u.value=!0,b(U);if(V>=document.documentElement.clientWidth)return u.value=!0,g(U,H)}return S(U,H)}}},_=()=>{const F=Dn(n);if(F){const{height:U}=l.value,{top:H,height:Q}=F.getBoundingClientRect(),V=window.innerHeight-H-Q,D=H;return U<=V?Ho.bottom:U>V&&U<=D?Ho.top:V>=D?Ho.bottom:Ho.top}return Ho.bottom},v=F=>_()===Ho.bottom?M(F):I(F),C=()=>{const F=Dn(n);if(F)return o.autoPosition?v(F):M(F)},A=function(F){if(F){const U=F.scrollHeight>F.clientHeight,H=window.getComputedStyle(F).overflowY.indexOf("hidden")!==-1;return U&&!H}return!0},O=function(F){return!F||F===document.body||F.nodeType===Node.DOCUMENT_FRAGMENT_NODE?window:A(F)?F:O(F.parentNode)},z=F=>{if(F)switch(o.position){case nl.left:return{left:0,transform:"translateX(0)"};case nl.right:return{left:`${F.width}px`,transform:"translateX(-100%)"};default:return{left:`${F.width/2}px`,transform:"translateX(-50%)"}}return{}};return{openOnTop:h,menuStyle:c,xCorrect:u,setMenuPosition:E,getScrollableParent:O,shadowRender:(F,U)=>{var H,Q,V;const D=document.createElement("div"),Z=(H=Dn(n))==null?void 0:H.getBoundingClientRect();D.setAttribute("id","dp--temp-container");const X=(Q=r.value)!=null&&Q.clientWidth?r.value:document.body;X.append(D);const ce=z(Z),be=Dl(F,{...U,shadow:!0,style:{opacity:0,position:"absolute",...ce}},Object.fromEntries(Object.keys(a).filter(te=>["right-sidebar","left-sidebar"].includes(te)).map(te=>[te,a[te]])));Lc(be,D),l.value=(V=be.el)==null?void 0:V.getBoundingClientRect(),Lc(null,D),X.removeChild(D)}}},Hs=[{name:"clock-icon",use:["time","calendar","shared"]},{name:"arrow-left",use:["month-year","calendar","shared","year-mode"]},{name:"arrow-right",use:["month-year","calendar","shared","year-mode"]},{name:"arrow-up",use:["time","calendar","month-year","shared"]},{name:"arrow-down",use:["time","calendar","month-year","shared"]},{name:"calendar-icon",use:["month-year","time","calendar","shared","year-mode"]},{name:"day",use:["calendar","shared"]},{name:"month-overlay-value",use:["calendar","month-year","shared"]},{name:"year-overlay-value",use:["calendar","month-year","shared","year-mode"]},{name:"year-overlay",use:["month-year","shared"]},{name:"month-overlay",use:["month-year","shared"]},{name:"month-overlay-header",use:["month-year","shared"]},{name:"year-overlay-header",use:["month-year","shared"]},{name:"hours-overlay-value",use:["calendar","time","shared"]},{name:"minutes-overlay-value",use:["calendar","time","shared"]},{name:"seconds-overlay-value",use:["calendar","time","shared"]},{name:"hours",use:["calendar","time","shared"]},{name:"minutes",use:["calendar","time","shared"]},{name:"month",use:["calendar","month-year","shared"]},{name:"year",use:["calendar","month-year","shared","year-mode"]},{name:"action-buttons",use:["action"]},{name:"action-preview",use:["action"]},{name:"calendar-header",use:["calendar","shared"]},{name:"marker-tooltip",use:["calendar","shared"]},{name:"action-extra",use:["menu"]},{name:"time-picker-overlay",use:["calendar","time","shared"]},{name:"am-pm-button",use:["calendar","time","shared"]},{name:"left-sidebar",use:["menu"]},{name:"right-sidebar",use:["menu"]},{name:"month-year",use:["month-year","shared"]},{name:"time-picker",use:["menu","shared"]},{name:"action-row",use:["action"]},{name:"marker",use:["calendar","shared"]},{name:"quarter",use:["shared"]}],AY=[{name:"trigger"},{name:"input-icon"},{name:"clear-icon"},{name:"dp-input"}],OY={all:()=>Hs,monthYear:()=>Hs.filter(t=>t.use.includes("month-year")),input:()=>AY,timePicker:()=>Hs.filter(t=>t.use.includes("time")),action:()=>Hs.filter(t=>t.use.includes("action")),calendar:()=>Hs.filter(t=>t.use.includes("calendar")),menu:()=>Hs.filter(t=>t.use.includes("menu")),shared:()=>Hs.filter(t=>t.use.includes("shared")),yearMode:()=>Hs.filter(t=>t.use.includes("year-mode"))},Kr=(t,e,n)=>{const r=[];return OY[e]().forEach(i=>{t[i.name]&&r.push(i.name)}),n!=null&&n.length&&n.forEach(i=>{i.slot&&r.push(i.slot)}),r},qd=t=>{const e=he(()=>r=>t.value?r?t.value.open:t.value.close:""),n=he(()=>r=>t.value?r?t.value.menuAppearTop:t.value.menuAppearBottom:"");return{transitionName:e,showTransition:!!t.value,menuTransition:n}},zd=(t,e)=>{const n=ge(Ai(new Date,t.timezone)),r=Te([{month:Tt(n),year:ut(n)}]),i=di({hours:t.range?[Ci(n),Ci(n)]:Ci(n),minutes:t.range?[Ji(n),Ji(n)]:Ji(n),seconds:t.range?[0,0]:0}),s=he({get:()=>t.internalModelValue,set:l=>{!t.readonly&&!t.disabled&&e("update:internal-model-value",l)}}),o=he(()=>l=>r.value[l]?r.value[l].month:0),a=he(()=>l=>r.value[l]?r.value[l].year:0);return{calendars:r,time:i,modelValue:s,month:o,year:a}},PY=(t,e)=>{const{defaultedMultiCalendars:n,defaultedHighlight:r}=Sn(e),{isDisabled:i,matchDate:s}=xa(e),o=Te(null),a=Te(ge(Ai(new Date,e.timezone))),l=V=>{!V.current&&e.hideOffsetDates||(o.value=V.value)},u=()=>{o.value=null},c=V=>Array.isArray(t.value)&&e.range&&t.value[0]&&o.value?V?mr(o.value,t.value[0]):Xn(o.value,t.value[0]):!0,h=(V,D)=>{const Z=()=>t.value?D?t.value[0]||null:t.value[1]:null,X=t.value&&Array.isArray(t.value)?Z():null;return xt(ge(V.value),X)},f=V=>{const D=Array.isArray(t.value)?t.value[0]:null;return V?!Xn(o.value??null,D):!0},p=(V,D=!0)=>(e.range||e.weekPicker)&&Array.isArray(t.value)&&t.value.length===2?e.hideOffsetDates&&!V.current?!1:xt(ge(V.value),t.value[D?0:1]):e.range?h(V,D)&&f(D)||xt(V.value,Array.isArray(t.value)?t.value[0]:null)&&c(D):!1,g=(V,D,Z)=>Array.isArray(t.value)&&t.value[0]&&t.value.length===1?V?!1:Z?mr(t.value[0],D.value):Xn(t.value[0],D.value):!1,b=V=>!t.value||e.hideOffsetDates&&!V.current?!1:e.range?e.modelAuto&&Array.isArray(t.value)?xt(V.value,t.value[0]?t.value[0]:a.value):!1:e.multiDates&&Array.isArray(t.value)?t.value.some(D=>xt(D,V.value)):xt(V.value,t.value?t.value:a.value),S=V=>{if(e.autoRange||e.weekPicker){if(o.value){if(e.hideOffsetDates&&!V.current)return!1;const D=gs(o.value,+e.autoRange),Z=nf(ge(o.value),e.timezone,e.weekStart);return e.weekPicker?xt(Z[1],ge(V.value)):xt(D,ge(V.value))}return!1}return!1},R=V=>{if(e.autoRange||e.weekPicker){if(o.value){const D=gs(o.value,+e.autoRange);if(e.hideOffsetDates&&!V.current)return!1;const Z=nf(ge(o.value),e.timezone,e.weekStart);return e.weekPicker?mr(V.value,Z[0])&&Xn(V.value,Z[1]):mr(V.value,o.value)&&Xn(V.value,D)}return!1}return!1},P=V=>{if(e.autoRange||e.weekPicker){if(o.value){if(e.hideOffsetDates&&!V.current)return!1;const D=nf(ge(o.value),e.timezone,e.weekStart);return e.weekPicker?xt(D[0],V.value):xt(o.value,V.value)}return!1}return!1},w=V=>pm(t.value,o.value,V.value),E=()=>e.modelAuto&&Array.isArray(e.internalModelValue)?!!e.internalModelValue[0]:!1,N=()=>e.modelAuto?mx(e.internalModelValue):!0,M=V=>{if(Array.isArray(t.value)&&t.value.length||e.weekPicker)return!1;const D=e.range?!p(V)&&!p(V,!1):!0;return!i(V.value)&&!b(V)&&!(!V.current&&e.hideOffsetDates)&&D},I=V=>e.range?e.modelAuto?E()&&b(V):!1:b(V),T=V=>{var D;return r.value?typeof r.value=="function"?r.value(V.value):s(V.value,(D=e.arrMapValues)!=null&&D.highlightedDates?e.arrMapValues.highlightedDates:r.value.dates):!1},_=V=>{const D=i(V.value);return D&&(typeof r.value=="function"?!r.value(V.value,D):!r.value.options.highlightDisabled)},v=V=>{var D;return typeof r.value=="function"?r.value(V.value):(D=r.value.weekdays)==null?void 0:D.includes(V.value.getDay())},C=V=>(e.range||e.weekPicker)&&(!(n.value.count>0)||V.current)&&N()&&!(!V.current&&e.hideOffsetDates)&&!b(V)?w(V):!1,A=V=>{const{isRangeStart:D,isRangeEnd:Z}=F(V),X=e.range?D||Z:!1;return{dp__cell_offset:!V.current,dp__pointer:!e.disabled&&!(!V.current&&e.hideOffsetDates)&&!i(V.value),dp__cell_disabled:i(V.value),dp__cell_highlight:!_(V)&&(T(V)||v(V))&&!I(V)&&!X&&!P(V)&&!(C(V)&&e.weekPicker)&&!Z,dp__cell_highlight_active:!_(V)&&(T(V)||v(V))&&I(V),dp__today:!e.noToday&&xt(V.value,a.value)&&V.current}},O=V=>({dp__active_date:I(V),dp__date_hover:M(V)}),z=V=>({...U(V),...H(V),dp__range_between_week:C(V)&&e.weekPicker}),F=V=>{const D=n.value.count>0?V.current&&p(V)&&N():p(V)&&N(),Z=n.value.count>0?V.current&&p(V,!1)&&N():p(V,!1)&&N();return{isRangeStart:D,isRangeEnd:Z}},U=V=>{const{isRangeStart:D,isRangeEnd:Z}=F(V);return{dp__range_start:D,dp__range_end:Z,dp__range_between:C(V)&&!e.weekPicker,dp__date_hover_start:g(M(V),V,!0),dp__date_hover_end:g(M(V),V,!1)}},H=V=>({...U(V),dp__cell_auto_range:R(V),dp__cell_auto_range_start:P(V),dp__cell_auto_range_end:S(V)}),Q=V=>e.range?e.autoRange?H(V):e.modelAuto?{...O(V),...U(V)}:U(V):e.weekPicker?z(V):O(V);return{setHoverDate:l,clearHoverDate:u,getDayClassData:V=>e.hideOffsetDates&&!V.current?{}:{...A(V),...Q(V),[e.dayClass?e.dayClass(V.value):""]:!0,[e.calendarCellClassName]:!!e.calendarCellClassName}}},xa=t=>{const{defaultedFilters:e,defaultedHighlight:n}=Sn(t),r=()=>{if(t.timezone)return t.timezone;if(t.utc)return"UTC"},i=v=>{const C=yr(s(ge(v))).toISOString(),[A]=C.split("T");return A},s=v=>t.utc==="preserve"?yx(v,r()):Ai(v,r()),o=v=>{var C;const A=t.maxDate?mr(v,s(ge(t.maxDate))):!1,O=t.minDate?Xn(v,s(ge(t.minDate))):!1,z=c(s(v),(C=t.arrMapValues)!=null&&C.disabledDates?t.arrMapValues.disabledDates:t.disabledDates),F=e.value.months.map(D=>+D).includes(Tt(v)),U=t.disabledWeekDays.length?t.disabledWeekDays.some(D=>+D===nz(v)):!1,H=f(v),Q=ut(v),V=Q<+t.yearRange[0]||Q>+t.yearRange[1];return!(A||O||z||F||V||U||H)},a=(v,C)=>Xn(...io(t.minDate,v,C))||xt(...io(t.minDate,v,C)),l=(v,C)=>mr(...io(t.maxDate,v,C))||xt(...io(t.maxDate,v,C)),u=(v,C,A)=>{let O=!1;return t.maxDate&&A&&l(v,C)&&(O=!0),t.minDate&&!A&&a(v,C)&&(O=!0),O},c=(v,C)=>v?C instanceof Map?!!C.get(i(v)):Array.isArray(C)?C.some(A=>xt(s(ge(A)),v)):C?C(ge(JSON.parse(JSON.stringify(v)))):!1:!0,h=(v,C,A,O)=>{let z=!1;return O?t.minDate&&t.maxDate?z=u(v,C,A):(t.minDate&&a(v,C)||t.maxDate&&l(v,C))&&(z=!0):z=!0,z},f=v=>{var C,A,O,z,F;return Array.isArray(t.allowedDates)&&!((C=t.allowedDates)!=null&&C.length)?!0:(A=t.arrMapValues)!=null&&A.allowedDates?!c(v,(O=t.arrMapValues)==null?void 0:O.allowedDates):(z=t.allowedDates)!=null&&z.length?!((F=t.allowedDates)!=null&&F.some(U=>xt(yr(U),s(yr(v))))):!1},p=v=>!o(v),g=v=>t.noDisabledRange?!WD({start:v[0],end:v[1]}).some(C=>p(C)):!0,b=(v,C,A=0)=>{if(Array.isArray(C)&&C[A]){const O=KW(v,C[A]),z=_x(C[A],v),F=z.length===1?0:z.filter(H=>p(H)).length,U=Math.abs(O)-F;if(t.minRange&&t.maxRange)return U>=+t.minRange&&U<=+t.maxRange;if(t.minRange)return U>=+t.minRange;if(t.maxRange)return U<=+t.maxRange}return!0},S=v=>new Map(v.map(C=>[i(C),!0])),R=v=>Array.isArray(v)&&v.length>0,P=()=>{const v={disabledDates:null,allowedDates:null,highlightedDates:null};return R(t.allowedDates)&&(v.allowedDates=S(t.allowedDates)),typeof n.value!="function"&&R(n.value.dates)&&(v.highlightedDates=S(n.value.dates)),R(t.disabledDates)&&(v.disabledDates=S(t.disabledDates)),v},w=()=>!t.enableTimePicker||t.monthPicker||t.yearPicker||t.ignoreTimeValidation,E=v=>Array.isArray(v)?[v[0]?Vg(v[0]):null,v[1]?Vg(v[1]):null]:Vg(v),N=(v,C,A)=>v.find(O=>+O.hours===Ci(C)&&O.minutes==="*"?!0:+O.minutes===Ji(C)&&+O.hours===Ci(C))&&A,M=(v,C,A)=>{const[O,z]=v,[F,U]=C;return!N(O,F,A)&&!N(z,U,A)&&A},I=(v,C)=>{const A=Array.isArray(C)?C:[C];return Array.isArray(t.disabledTimes)?Array.isArray(t.disabledTimes[0])?M(t.disabledTimes,A,v):!A.some(O=>N(t.disabledTimes,O,v)):v},T=(v,C)=>{const A=Array.isArray(C)?[na(C[0]),C[1]?na(C[1]):void 0]:na(C),O=!t.disabledTimes(A);return v&&O},_=(v,C)=>t.disabledTimes?Array.isArray(t.disabledTimes)?I(C,v):T(C,v):C;return{isDisabled:p,validateDate:o,validateMonthYearInRange:h,isDateRangeAllowed:g,checkMinMaxRange:b,matchDate:c,mapDatesArrToMap:P,isValidTime:v=>{let C=!0;if(!v||w())return!0;const A=!t.minDate&&!t.maxDate?E(v):v;return(t.maxTime||t.maxDate)&&(C=TI(t.maxTime,t.maxDate,"max",Ln(A),C)),(t.minTime||t.minDate)&&(C=TI(t.minTime,t.minDate,"min",Ln(A),C)),_(v,C)}}},mm=()=>{const t=he(()=>(r,i)=>r==null?void 0:r.includes(i)),e=he(()=>(r,i)=>r.count?r.solo?!0:i===0:!0),n=he(()=>(r,i)=>r.count?r.solo?!0:i===r.count-1:!0);return{hideNavigationButtons:t,showLeftIcon:e,showRightIcon:n}},kY=(t,e,n)=>{const r=Te(0),i=di({[ra.timePicker]:!t.enableTimePicker||t.timePicker||t.monthPicker,[ra.calendar]:!1,[ra.header]:!1}),s=he(()=>t.monthPicker),o=h=>{var f;if((f=t.flow)!=null&&f.length){if(!h&&s.value)return c();i[h]=!0,Object.keys(i).filter(p=>!i[p]).length||c()}},a=()=>{var h;(h=t.flow)!=null&&h.length&&r.value!==-1&&(r.value+=1,e("flow-step",r.value),c())},l=()=>{r.value=-1},u=(h,f,...p)=>{t.flow[r.value]===h&&n.value&&n.value[f](...p)},c=()=>{u(Ui.month,"toggleMonthPicker",!0),u(Ui.year,"toggleYearPicker",!0),u(Ui.calendar,"toggleTimePicker",!1,!0),u(Ui.time,"toggleTimePicker",!0,!0);const h=t.flow[r.value];(h===Ui.hours||h===Ui.minutes||h===Ui.seconds)&&u(h,"toggleTimePicker",!0,!0,h)};return{childMount:o,updateFlowStep:a,resetFlow:l,flowStep:r}},gm={multiCalendars:{type:[Boolean,Number,String,Object],default:void 0},modelValue:{type:[String,Date,Array,Object,Number],default:null},modelType:{type:String,default:null},position:{type:String,default:"center"},dark:{type:Boolean,default:!1},format:{type:[String,Function],default:()=>null},autoPosition:{type:Boolean,default:!0},altPosition:{type:Function,default:null},transitions:{type:[Boolean,Object],default:!0},formatLocale:{type:Object,default:null},utc:{type:[Boolean,String],default:!1},ariaLabels:{type:Object,default:()=>({})},offset:{type:[Number,String],default:10},hideNavigation:{type:Array,default:()=>[]},timezone:{type:String,default:null},emitTimezone:{type:String,default:null},vertical:{type:Boolean,default:!1},disableMonthYearSelect:{type:Boolean,default:!1},disableYearSelect:{type:Boolean,default:!1},menuClassName:{type:String,default:null},dayClass:{type:Function,default:null},yearRange:{type:Array,default:()=>[1900,2100]},calendarCellClassName:{type:String,default:null},enableTimePicker:{type:Boolean,default:!0},autoApply:{type:Boolean,default:!1},disabledDates:{type:[Array,Function],default:()=>[]},monthNameFormat:{type:String,default:"short"},startDate:{type:[Date,String],default:null},startTime:{type:[Object,Array],default:null},hideOffsetDates:{type:Boolean,default:!1},autoRange:{type:[Number,String],default:null},noToday:{type:Boolean,default:!1},disabledWeekDays:{type:Array,default:()=>[]},allowedDates:{type:Array,default:null},nowButtonLabel:{type:String,default:"Now"},markers:{type:Array,default:()=>[]},escClose:{type:Boolean,default:!0},spaceConfirm:{type:Boolean,default:!0},monthChangeOnArrows:{type:Boolean,default:!0},presetDates:{type:Array,default:()=>[]},flow:{type:Array,default:()=>[]},partialFlow:{type:Boolean,default:!1},preventMinMaxNavigation:{type:Boolean,default:!1},minRange:{type:[Number,String],default:null},maxRange:{type:[Number,String],default:null},multiDatesLimit:{type:[Number,String],default:null},reverseYears:{type:Boolean,default:!1},weekPicker:{type:Boolean,default:!1},filters:{type:Object,default:()=>({})},arrowNavigation:{type:Boolean,default:!1},disableTimeRangeValidation:{type:Boolean,default:!1},highlight:{type:[Array,Function,Object],default:null},highlightWeekDays:{type:Array,default:null},highlightDisabledDays:{type:Boolean,default:!1},teleport:{type:[String,Boolean,Object],default:null},teleportCenter:{type:Boolean,default:!1},locale:{type:String,default:"en-Us"},weekNumName:{type:String,default:"W"},weekStart:{type:[Number,String],default:1},weekNumbers:{type:[String,Function,Object],default:null},calendarClassName:{type:String,default:null},monthChangeOnScroll:{type:[Boolean,String],default:!0},dayNames:{type:[Function,Array],default:null},monthPicker:{type:Boolean,default:!1},customProps:{type:Object,default:null},yearPicker:{type:Boolean,default:!1},modelAuto:{type:Boolean,default:!1},selectText:{type:String,default:"Select"},cancelText:{type:String,default:"Cancel"},previewFormat:{type:[String,Function],default:()=>""},multiDates:{type:Boolean,default:!1},partialRange:{type:Boolean,default:!0},ignoreTimeValidation:{type:Boolean,default:!1},minDate:{type:[Date,String],default:null},maxDate:{type:[Date,String],default:null},minTime:{type:Object,default:null},maxTime:{type:Object,default:null},name:{type:String,default:null},placeholder:{type:String,default:""},hideInputIcon:{type:Boolean,default:!1},clearable:{type:Boolean,default:!0},state:{type:Boolean,default:null},required:{type:Boolean,default:!1},autocomplete:{type:String,default:"off"},inputClassName:{type:String,default:null},fixedStart:{type:Boolean,default:!1},fixedEnd:{type:Boolean,default:!1},timePicker:{type:Boolean,default:!1},enableSeconds:{type:Boolean,default:!1},is24:{type:Boolean,default:!0},noHoursOverlay:{type:Boolean,default:!1},noMinutesOverlay:{type:Boolean,default:!1},noSecondsOverlay:{type:Boolean,default:!1},hoursGridIncrement:{type:[String,Number],default:1},minutesGridIncrement:{type:[String,Number],default:5},secondsGridIncrement:{type:[String,Number],default:5},hoursIncrement:{type:[Number,String],default:1},minutesIncrement:{type:[Number,String],default:1},secondsIncrement:{type:[Number,String],default:1},range:{type:Boolean,default:!1},uid:{type:String,default:null},disabled:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},inline:{type:[Boolean,Object],default:!1},textInput:{type:[Boolean,Object],default:!1},noDisabledRange:{type:Boolean,default:!1},sixWeeks:{type:[Boolean,String],default:!1},actionRow:{type:Object,default:()=>({})},focusStartDate:{type:Boolean,default:!1},disabledTimes:{type:[Function,Array],default:void 0},showLastInRange:{type:Boolean,default:!0},timePickerInline:{type:Boolean,default:!1},calendar:{type:Function,default:null},config:{type:Object,default:void 0},quarterPicker:{type:Boolean,default:!1},yearFirst:{type:Boolean,default:!1}},Ni={...gm,shadow:{type:Boolean,default:!1},flowStep:{type:Number,default:0},internalModelValue:{type:[Date,Array],default:null},arrMapValues:{type:Object,default:()=>({})},noOverlayFocus:{type:Boolean,default:!1}},RY={key:1,class:"dp__input_wrap"},DY=["id","name","inputmode","placeholder","disabled","readonly","required","value","autocomplete","aria-label","aria-disabled","aria-invalid"],xY={key:2,class:"dp__clear_icon"},NY=Gt({compatConfig:{MODE:3},__name:"DatepickerInput",props:{isMenuOpen:{type:Boolean,default:!1},inputValue:{type:String,default:""},...gm},emits:["clear","open","update:input-value","set-input-date","close","select-date","set-empty-date","toggle","focus-prev","focus","blur","real-blur"],setup(t,{expose:e,emit:n}){const r=n,i=t,{defaultedTextInput:s,defaultedAriaLabels:o,defaultedInline:a,defaultedConfig:l,getDefaultPattern:u,getDefaultStartTime:c}=Sn(i),{checkMinMaxRange:h}=xa(i),f=Te(),p=Te(null),g=Te(!1),b=Te(!1),S=he(()=>({dp__pointer:!i.disabled&&!i.readonly&&!s.value.enabled,dp__disabled:i.disabled,dp__input_readonly:!s.value.enabled,dp__input:!0,dp__input_icon_pad:!i.hideInputIcon,dp__input_valid:!!i.state,dp__input_invalid:i.state===!1,dp__input_focus:g.value||i.isMenuOpen,dp__input_reg:!s.value.enabled,[i.inputClassName]:!!i.inputClassName})),R=()=>{r("set-input-date",null),i.autoApply&&(r("set-empty-date"),f.value=null)},P=z=>{const F=c();return sY(z,s.value.format??u(),F??bx({},i.enableSeconds),i.inputValue,b.value)},w=z=>{const{rangeSeparator:F}=s.value,[U,H]=z.split(`${F}`);if(U){const Q=P(U.trim()),V=H?P(H.trim()):null,D=Q&&V?[Q,V]:[Q];h(V,D,0)&&(f.value=Q?D:null)}},E=()=>{b.value=!0},N=z=>{if(i.range)w(z);else if(i.multiDates){const F=z.split(";");f.value=F.map(U=>P(U.trim())).filter(U=>U)}else f.value=P(z)},M=z=>{var F;const U=typeof z=="string"?z:(F=z.target)==null?void 0:F.value;U!==""?(s.value.openMenu&&!i.isMenuOpen&&r("open"),N(U),r("set-input-date",f.value)):R(),b.value=!1,r("update:input-value",U)},I=z=>{s.value.enabled?(N(z.target.value),s.value.enterSubmit&&Sy(f.value)&&i.inputValue!==""?(r("set-input-date",f.value,!0),f.value=null):s.value.enterSubmit&&i.inputValue===""&&(f.value=null,r("clear"))):v(z)},T=z=>{s.value.enabled&&s.value.tabSubmit&&N(z.target.value),s.value.tabSubmit&&Sy(f.value)&&i.inputValue!==""?(r("set-input-date",f.value,!0,!0),f.value=null):s.value.tabSubmit&&i.inputValue===""&&(f.value=null,r("clear",!0))},_=()=>{var z;g.value=!0,r("focus"),s.value.enabled&&s.value.selectOnFocus&&((z=p.value)==null||z.select())},v=z=>{z.preventDefault(),fo(z,l.value,!0),s.value.enabled&&s.value.openMenu&&!a.value.input&&!i.isMenuOpen?r("open"):s.value.enabled||r("toggle")},C=()=>{r("real-blur"),g.value=!1,(!i.isMenuOpen||a.value.enabled&&a.value.input)&&r("blur"),i.autoApply&&s.value.enabled&&f.value&&!i.isMenuOpen&&(r("set-input-date",f.value),r("select-date"),f.value=null)},A=z=>{fo(z,l.value,!0),r("clear")},O=z=>{if(!s.value.enabled){if(z.code==="Tab")return;z.preventDefault()}};return e({focusInput:()=>{var z;(z=p.value)==null||z.focus({preventScroll:!0})},setParsedDate:z=>{f.value=z}}),(z,F)=>{var U;return j(),J("div",{onClick:v},[z.$slots.trigger&&!z.$slots["dp-input"]&&!q(a).enabled?ve(z.$slots,"trigger",{key:0}):ue("",!0),!z.$slots.trigger&&(!q(a).enabled||q(a).input)?(j(),J("div",RY,[z.$slots["dp-input"]&&!z.$slots.trigger&&!q(a).enabled?ve(z.$slots,"dp-input",{key:0,value:t.inputValue,isMenuOpen:t.isMenuOpen,onInput:M,onEnter:I,onTab:T,onClear:A,onBlur:C,onKeypress:O,onPaste:E,openMenu:()=>z.$emit("open"),closeMenu:()=>z.$emit("close"),toggleMenu:()=>z.$emit("toggle")}):ue("",!0),z.$slots["dp-input"]?ue("",!0):(j(),J("input",{key:1,id:z.uid?`dp-input-${z.uid}`:void 0,ref_key:"inputRef",ref:p,name:z.name,class:tt(S.value),inputmode:q(s).enabled?"text":"none",placeholder:z.placeholder,disabled:z.disabled,readonly:z.readonly,required:z.required,value:t.inputValue,autocomplete:z.autocomplete,"aria-label":(U=q(o))==null?void 0:U.input,"aria-disabled":z.disabled||void 0,"aria-invalid":z.state===!1?!0:void 0,onInput:M,onKeydown:[at(I,["enter"]),at(T,["tab"]),O],onBlur:C,onFocus:_,onKeypress:O,onPaste:E},null,42,DY)),Ce("div",{onClick:F[2]||(F[2]=H=>r("toggle"))},[z.$slots["input-icon"]&&!z.hideInputIcon?(j(),J("span",{key:0,class:"dp__input_icon",onClick:F[0]||(F[0]=H=>r("toggle"))},[ve(z.$slots,"input-icon")])):ue("",!0),!z.$slots["input-icon"]&&!z.hideInputIcon&&!z.$slots["dp-input"]?(j(),qe(q(gu),{key:1,class:"dp__input_icon dp__input_icons",onClick:F[1]||(F[1]=H=>r("toggle"))})):ue("",!0)]),z.$slots["clear-icon"]&&t.inputValue&&z.clearable&&!z.disabled&&!z.readonly?(j(),J("span",xY,[ve(z.$slots,"clear-icon",{clear:A})])):ue("",!0),z.clearable&&!z.$slots["clear-icon"]&&t.inputValue&&!z.disabled&&!z.readonly?(j(),qe(q(cx),{key:3,class:"dp__clear_icon dp__input_icons",onClick:F[3]||(F[3]=Lt(H=>A(H),["prevent"]))})):ue("",!0)])):ue("",!0)])}}}),MY=["title"],LY={class:"dp__action_buttons"},VY=["disabled"],FY=Gt({compatConfig:{MODE:3},__name:"ActionRow",props:{menuMount:{type:Boolean,default:!1},calendarWidth:{type:Number,default:0},...Ni},emits:["close-picker","select-date","select-now","invalid-select"],setup(t,{emit:e}){const n=e,r=t,{defaultedActionRow:i,defaultedPreviewFormat:s,defaultedMultiCalendars:o,defaultedTextInput:a,defaultedInline:l,getDefaultPattern:u}=Sn(r),{isValidTime:c}=xa(r),{buildMatrix:h}=Ro(),f=Te(null),p=Te(null);_n(()=>{r.arrowNavigation&&h([Dn(f),Dn(p)],"actionRow")});const g=he(()=>r.range&&!r.partialRange&&r.internalModelValue?r.internalModelValue.length===2:!0),b=he(()=>!S.value||!R.value||!g.value),S=he(()=>!r.enableTimePicker||r.ignoreTimeValidation?!0:c(r.internalModelValue)),R=he(()=>r.monthPicker?r.range&&Array.isArray(r.internalModelValue)?!r.internalModelValue.filter(v=>!T(v)).length:T(r.internalModelValue):!0),P=()=>{const v=s.value;return r.timePicker||r.monthPicker,v(Ln(r.internalModelValue))},w=()=>{const v=r.internalModelValue;return o.value.count>0?`${E(v[0])} - ${E(v[1])}`:[E(v[0]),E(v[1])]},E=v=>Tx(v,s.value,r.formatLocale,a.value.rangeSeparator,r.modelAuto,u()),N=he(()=>!r.internalModelValue||!r.menuMount?"":typeof s.value=="string"?Array.isArray(r.internalModelValue)?r.internalModelValue.length===2&&r.internalModelValue[1]?w():r.multiDates?r.internalModelValue.map(v=>`${E(v)}`):r.modelAuto?`${E(r.internalModelValue[0])}`:`${E(r.internalModelValue[0])} -`:E(r.internalModelValue):P()),M=()=>r.multiDates?"; ":" - ",I=he(()=>Array.isArray(N.value)?N.value.join(M()):N.value),T=v=>{if(!r.monthPicker)return!0;let C=!0;const A=ge(yi(v));if(r.minDate&&r.maxDate){const O=ge(yi(r.minDate)),z=ge(yi(r.maxDate));return mr(A,O)&&Xn(A,z)||xt(A,O)||xt(A,z)}if(r.minDate){const O=ge(yi(r.minDate));C=mr(A,O)||xt(A,O)}if(r.maxDate){const O=ge(yi(r.maxDate));C=Xn(A,O)||xt(A,O)}return C},_=()=>{S.value&&R.value&&g.value?n("select-date"):n("invalid-select")};return(v,C)=>(j(),J("div",{class:"dp__action_row",style:Or(t.calendarWidth?{width:`${t.calendarWidth}px`}:{})},[v.$slots["action-row"]?ve(v.$slots,"action-row",Tn(de({key:0},{internalModelValue:v.internalModelValue,disabled:b.value,selectDate:()=>v.$emit("select-date"),closePicker:()=>v.$emit("close-picker")}))):(j(),J(Ne,{key:1},[q(i).showPreview?(j(),J("div",{key:0,class:"dp__selection_preview",title:I.value},[v.$slots["action-preview"]?ve(v.$slots,"action-preview",{key:0,value:v.internalModelValue}):ue("",!0),v.$slots["action-preview"]?ue("",!0):(j(),J(Ne,{key:1},[kn(dt(I.value),1)],64))],8,MY)):ue("",!0),Ce("div",LY,[v.$slots["action-buttons"]?ve(v.$slots,"action-buttons",{key:0,value:v.internalModelValue}):ue("",!0),v.$slots["action-buttons"]?ue("",!0):(j(),J(Ne,{key:1},[!q(l).enabled&&q(i).showCancel?(j(),J("button",{key:0,ref_key:"cancelButtonRef",ref:f,type:"button",class:"dp__action_button dp__action_cancel",onClick:C[0]||(C[0]=A=>v.$emit("close-picker")),onKeydown:[C[1]||(C[1]=at(A=>v.$emit("close-picker"),["enter"])),C[2]||(C[2]=at(A=>v.$emit("close-picker"),["space"]))]},dt(v.cancelText),545)):ue("",!0),q(i).showNow?(j(),J("button",{key:1,ref_key:"cancelButtonRef",ref:f,type:"button",class:"dp__action_button dp__action_cancel",onClick:C[3]||(C[3]=A=>v.$emit("select-now")),onKeydown:[C[4]||(C[4]=at(A=>v.$emit("select-now"),["enter"])),C[5]||(C[5]=at(A=>v.$emit("select-now"),["space"]))]},dt(v.nowButtonLabel),545)):ue("",!0),q(i).showSelect?(j(),J("button",{key:2,ref_key:"selectButtonRef",ref:p,type:"button",class:"dp__action_button dp__action_select",disabled:b.value,onKeydown:[at(_,["enter"]),at(_,["space"])],onClick:_},dt(v.selectText),41,VY)):ue("",!0)],64))])],64))],4))}}),$Y=["onKeydown"],UY={class:"dp__selection_grid_header"},BY=["aria-selected","aria-disabled","onClick","onKeydown","onMouseover"],jY=["aria-label"],Kd=Gt({__name:"SelectionOverlay",props:{items:{},type:{},isLast:{type:Boolean},arrowNavigation:{type:Boolean},skipButtonRef:{type:Boolean},headerRefs:{},hideNavigation:{},escClose:{type:Boolean},useRelative:{type:Boolean},height:{},textInput:{type:[Boolean,Object]},config:{},noOverlayFocus:{type:Boolean},focusValue:{}},emits:["selected","toggle","reset-flow","hover-value"],setup(t,{expose:e,emit:n}){const{setSelectionGrid:r,buildMultiLevelMatrix:i,setMonthPicker:s}=Ro(),o=n,a=t,{defaultedAriaLabels:l,defaultedTextInput:u,defaultedConfig:c}=Sn(a),{hideNavigationButtons:h}=mm(),f=Te(!1),p=Te(null),g=Te(null),b=Te([]),S=Te(),R=Te(null),P=Te(0),w=Te(null);kC(()=>{p.value=null}),_n(()=>{jn().then(()=>C()),a.noOverlayFocus||N(),E(!0)}),Sa(()=>E(!1));const E=V=>{var D;a.arrowNavigation&&((D=a.headerRefs)!=null&&D.length?s(V):r(V))},N=()=>{var V;const D=Dn(g);D&&(u.value.enabled||(p.value?(V=p.value)==null||V.focus({preventScroll:!0}):D.focus({preventScroll:!0})),f.value=D.clientHeight<D.scrollHeight)},M=he(()=>({dp__overlay:!0,"dp--overlay-absolute":!a.useRelative,"dp--overlay-relative":a.useRelative})),I=he(()=>a.useRelative?{height:`${a.height}px`,width:"260px"}:void 0),T=he(()=>({dp__overlay_col:!0})),_=he(()=>({dp__btn:!0,dp__button:!0,dp__overlay_action:!0,dp__over_action_scroll:f.value,dp__button_bottom:a.isLast})),v=he(()=>{var V,D;return{dp__overlay_container:!0,dp__container_flex:((V=a.items)==null?void 0:V.length)<=6,dp__container_block:((D=a.items)==null?void 0:D.length)>6}});Nn(()=>a.items,()=>C(),{deep:!0});const C=()=>{jn().then(()=>{const V=Dn(p),D=Dn(g),Z=Dn(R),X=Dn(w),ce=Z?Z.getBoundingClientRect().height:0;D&&(D.getBoundingClientRect().height?P.value=D.getBoundingClientRect().height-ce:P.value=c.value.modeHeight-ce),V&&X&&(X.scrollTop=V.offsetTop-X.offsetTop-(P.value/2-V.getBoundingClientRect().height)-ce)})},A=V=>{V.disabled||o("selected",V.value)},O=()=>{o("toggle"),o("reset-flow")},z=()=>{a.escClose&&O()},F=(V,D,Z,X)=>{V&&((D.active||D.value===a.focusValue)&&(p.value=V),a.arrowNavigation&&(Array.isArray(b.value[Z])?b.value[Z][X]=V:b.value[Z]=[V],U()))},U=()=>{var V,D;const Z=(V=a.headerRefs)!=null&&V.length?[a.headerRefs].concat(b.value):b.value.concat([a.skipButtonRef?[]:[R.value]]);i(Ln(Z),(D=a.headerRefs)!=null&&D.length?"monthPicker":"selectionGrid")},H=V=>{a.arrowNavigation||fo(V,c.value,!0)},Q=V=>{S.value=V,o("hover-value",V)};return e({focusGrid:N}),(V,D)=>{var Z;return j(),J("div",{ref_key:"gridWrapRef",ref:g,class:tt(M.value),style:Or(I.value),role:"dialog",tabindex:"0",onKeydown:[at(Lt(z,["prevent"]),["esc"]),D[0]||(D[0]=at(Lt(X=>H(X),["prevent"]),["left"])),D[1]||(D[1]=at(Lt(X=>H(X),["prevent"]),["up"])),D[2]||(D[2]=at(Lt(X=>H(X),["prevent"]),["down"])),D[3]||(D[3]=at(Lt(X=>H(X),["prevent"]),["right"]))]},[Ce("div",{ref_key:"containerRef",ref:w,class:tt(v.value),role:"grid",style:Or({height:`${P.value}px`})},[Ce("div",UY,[ve(V.$slots,"header")]),V.$slots.overlay?ve(V.$slots,"overlay",{key:0}):(j(!0),J(Ne,{key:1},Ft(V.items,(X,ce)=>(j(),J("div",{key:ce,class:tt(["dp__overlay_row",{dp__flex_row:V.items.length>=3}]),role:"row"},[(j(!0),J(Ne,null,Ft(X,(be,te)=>(j(),J("div",{key:be.value,ref_for:!0,ref:B=>F(B,be,ce,te),role:"gridcell",class:tt(T.value),"aria-selected":be.active,"aria-disabled":be.disabled||void 0,tabindex:"0",onClick:B=>A(be),onKeydown:[at(Lt(B=>A(be),["prevent"]),["enter"]),at(Lt(B=>A(be),["prevent"]),["space"])],onMouseover:B=>Q(be.value)},[Ce("div",{class:tt(be.className)},[V.$slots.item?ve(V.$slots,"item",{key:0,item:be}):ue("",!0),V.$slots.item?ue("",!0):(j(),J(Ne,{key:1},[kn(dt(be.text),1)],64))],2)],42,BY))),128))],2))),128))],6),V.$slots["button-icon"]?Qo((j(),J("button",{key:0,ref_key:"toggleButton",ref:R,type:"button","aria-label":(Z=q(l))==null?void 0:Z.toggleOverlay,class:tt(_.value),tabindex:"0",onClick:O,onKeydown:[at(O,["enter"]),at(O,["tab"])]},[ve(V.$slots,"button-icon")],42,jY)),[[ac,!q(h)(V.hideNavigation,V.type)]]):ue("",!0)],46,$Y)}}}),vm=Gt({__name:"InstanceWrap",props:{multiCalendars:{},stretch:{type:Boolean}},setup(t){const e=t,n=he(()=>e.multiCalendars>0?[...Array(e.multiCalendars).keys()]:[0]),r=he(()=>({dp__instance_calendar:e.multiCalendars>0}));return(i,s)=>(j(),J("div",{class:tt({dp__menu_inner:!i.stretch,"dp--menu--inner-stretched":i.stretch,dp__flex_display:i.multiCalendars>0})},[(j(!0),J(Ne,null,Ft(n.value,(o,a)=>(j(),J("div",{key:o,class:tt(r.value)},[ve(i.$slots,"default",{instance:o,index:a})],2))),128))],2))}}),HY=["aria-label","aria-disabled"],Ec=Gt({compatConfig:{MODE:3},__name:"ArrowBtn",props:{ariaLabel:{},disabled:{type:Boolean}},emits:["activate","set-ref"],setup(t,{emit:e}){const n=e,r=Te(null);return _n(()=>n("set-ref",r)),(i,s)=>(j(),J("button",{ref_key:"elRef",ref:r,type:"button",class:"dp__btn dp--arrow-btn-nav",tabindex:"0","aria-label":i.ariaLabel,"aria-disabled":i.disabled||void 0,onClick:s[0]||(s[0]=o=>i.$emit("activate")),onKeydown:[s[1]||(s[1]=at(Lt(o=>i.$emit("activate"),["prevent"]),["enter"])),s[2]||(s[2]=at(Lt(o=>i.$emit("activate"),["prevent"]),["space"]))]},[Ce("span",{class:tt(["dp__inner_nav",{dp__inner_nav_disabled:i.disabled}])},[ve(i.$slots,"default")],2)],40,HY))}}),WY={class:"dp--year-mode-picker"},qY=["aria-label"],Sx=Gt({__name:"YearModePicker",props:{...Ni,showYearPicker:{type:Boolean,default:!1},items:{type:Array,default:()=>[]},instance:{type:Number,default:0},year:{type:Number,default:0},isDisabled:{type:Function,default:()=>!1}},emits:["toggle-year-picker","year-select","handle-year"],setup(t,{emit:e}){const n=e,r=t,{showRightIcon:i,showLeftIcon:s}=mm(),{defaultedConfig:o,defaultedMultiCalendars:a,defaultedAriaLabels:l,defaultedTransitions:u}=Sn(r),{showTransition:c,transitionName:h}=qd(u),f=(b=!1,S)=>{n("toggle-year-picker",{flow:b,show:S})},p=b=>{n("year-select",b)},g=(b=!1)=>{n("handle-year",b)};return(b,S)=>{var R,P,w;return j(),J("div",WY,[q(s)(q(a),t.instance)?(j(),qe(Ec,{key:0,ref:"mpPrevIconRef","aria-label":(R=q(l))==null?void 0:R.prevYear,disabled:t.isDisabled(!1),onActivate:S[0]||(S[0]=E=>g(!1))},{default:Qe(()=>[b.$slots["arrow-left"]?ve(b.$slots,"arrow-left",{key:0}):ue("",!0),b.$slots["arrow-left"]?ue("",!0):(j(),qe(q(n0),{key:1}))]),_:3},8,["aria-label","disabled"])):ue("",!0),Ce("button",{ref:"mpYearButtonRef",class:"dp__btn dp--year-select",type:"button","aria-label":(P=q(l))==null?void 0:P.openYearsOverlay,onClick:S[1]||(S[1]=()=>f(!1)),onKeydown:S[2]||(S[2]=at(()=>f(!1),["enter"]))},[b.$slots.year?ve(b.$slots,"year",{key:0,year:t.year}):ue("",!0),b.$slots.year?ue("",!0):(j(),J(Ne,{key:1},[kn(dt(t.year),1)],64))],40,qY),q(i)(q(a),t.instance)?(j(),qe(Ec,{key:1,ref:"mpNextIconRef","aria-label":(w=q(l))==null?void 0:w.nextYear,disabled:t.isDisabled(!0),onActivate:S[3]||(S[3]=E=>g(!0))},{default:Qe(()=>[b.$slots["arrow-right"]?ve(b.$slots,"arrow-right",{key:0}):ue("",!0),b.$slots["arrow-right"]?ue("",!0):(j(),qe(q(r0),{key:1}))]),_:3},8,["aria-label","disabled"])):ue("",!0),et(Co,{name:q(h)(t.showYearPicker),css:q(c)},{default:Qe(()=>[t.showYearPicker?(j(),qe(Kd,{key:0,items:t.items,"text-input":b.textInput,"esc-close":b.escClose,config:b.config,"is-last":b.autoApply&&!q(o).keepActionRow,"hide-navigation":b.hideNavigation,type:"year",onToggle:f,onSelected:S[4]||(S[4]=E=>p(E))},Zn({"button-icon":Qe(()=>[b.$slots["calendar-icon"]?ve(b.$slots,"calendar-icon",{key:0}):ue("",!0),b.$slots["calendar-icon"]?ue("",!0):(j(),qe(q(gu),{key:1}))]),_:2},[b.$slots["year-overlay-value"]?{name:"item",fn:Qe(({item:E})=>[ve(b.$slots,"year-overlay-value",{text:E.text,value:E.value})]),key:"0"}:void 0]),1032,["items","text-input","esc-close","config","is-last","hide-navigation"])):ue("",!0)]),_:3},8,["name","css"])])}}}),h0=(t,e,n)=>{if(e.value&&Array.isArray(e.value))if(e.value.some(r=>xt(t,r))){const r=e.value.filter(i=>!xt(i,t));e.value=r.length?r:null}else(n&&+n>e.value.length||!n)&&e.value.push(t);else e.value=[t]},f0=(t,e,n)=>{let r=t.value?t.value.slice():[];return r.length===2&&r[1]!==null&&(r=[]),r.length?Xn(e,r[0])?(r.unshift(e),n("range-start",r[0]),n("range-start",r[1])):(r[1]=e,n("range-end",e)):(r=[e],n("range-start",e)),t.value=r,r},ym=(t,e,n,r)=>{t[0]&&t[1]&&n&&e("auto-apply"),t[0]&&!t[1]&&r&&n&&e("auto-apply")},Cx=t=>{Array.isArray(t.value)&&t.value.length<=2&&t.range?t.modelValue.value=t.value.map(e=>Ai(ge(e),t.timezone)):Array.isArray(t.value)||(t.modelValue.value=Ai(ge(t.value),t.timezone))},Ax=({multiCalendars:t,highlight:e,calendars:n,modelValue:r,props:i,year:s,month:o,emit:a})=>{const l=he(()=>c0(i.yearRange,i.reverseYears)),u=Te([!1]),c=he(()=>(E,N)=>{const M=an(yi(new Date),{month:o.value(E),year:s.value(E)});return wx(M,i.maxDate,i.minDate,i.preventMinMaxNavigation,N)}),h=()=>{for(let E=0;E<t.value.count;E++)if(E===0)n.value[E]=n.value[0];else{const N=an(ge(),n.value[E-1]);n.value[E]={month:Tt(N),year:ut(Yb(N,1))}}},f=E=>{if(!E)return h();const N=an(ge(),n.value[E]);return n.value[0].year=ut(ux(N,t.value.count-1)),h()},p=E=>i.focusStartDate?E[0]:E[1]?E[1]:E[0],g=()=>{if(r.value){const E=Array.isArray(r.value)?p(r.value):r.value;n.value[0]={month:Tt(E),year:ut(E)}}};_n(()=>{g(),t.value.count&&h()});const b=(E,N)=>{n.value[N].year=E,t.value.count&&!t.value.solo&&f(N)},S=he(()=>E=>Jl(l.value,N=>{const M=s.value(E)===N.value,I=sd(N.value,Zl(i.minDate),Zl(i.maxDate)),T=d0(e.value,N.value);return{active:M,disabled:I,highlighted:T}})),R=(E,N)=>{b(E,N),w(N)},P=(E,N=!1)=>{if(!c.value(E,N)){const M=N?s.value(E)+1:s.value(E)-1;b(M,E)}},w=(E,N=!1,M)=>{N||a("reset-flow"),M!==void 0?u.value[E]=M:u.value[E]=!u.value[E],u.value||a("overlay-closed")};return{isDisabled:c,groupedYears:S,showYearPicker:u,selectYear:b,toggleYearPicker:w,handleYearSelect:R,handleYear:P}},zY=(t,e)=>{const{defaultedMultiCalendars:n,defaultedAriaLabels:r,defaultedTransitions:i,defaultedConfig:s,defaultedHighlight:o}=Sn(t),{modelValue:a,year:l,month:u,calendars:c}=zd(t,e),h=he(()=>px(t.formatLocale,t.locale,t.monthNameFormat)),f=Te(null),{selectYear:p,groupedYears:g,showYearPicker:b,toggleYearPicker:S,handleYearSelect:R,handleYear:P,isDisabled:w}=Ax({modelValue:a,multiCalendars:n,highlight:o,calendars:c,year:l,month:u,props:t,emit:e});_n(()=>{t.startDate&&(a.value&&t.focusStartDate||!a.value)&&p(ut(ge(t.startDate)),0)});const E=H=>H?{month:Tt(H),year:ut(H)}:{month:null,year:null},N=()=>a.value?Array.isArray(a.value)?a.value.map(H=>E(H)):E(a.value):E(),M=(H,Q)=>{const V=c.value[H],D=N();return Array.isArray(D)?D.some(Z=>Z.year===(V==null?void 0:V.year)&&Z.month===Q):(V==null?void 0:V.year)===D.year&&Q===D.month},I=(H,Q,V)=>{var D,Z;const X=N();return Array.isArray(X)?l.value(Q)===((D=X[V])==null?void 0:D.year)&&H===((Z=X[V])==null?void 0:Z.month):!1},T=(H,Q)=>{if(t.range){const V=N();if(Array.isArray(a.value)&&Array.isArray(V)){const D=I(H,Q,0)||I(H,Q,1),Z=ws(yi(ge()),H,l.value(Q));return pm(a.value,f.value,Z)&&!D}return!1}return!1},_=he(()=>H=>Jl(h.value,Q=>{const V=M(H,Q.value),D=sd(Q.value,gx(l.value(H),t.minDate),vx(l.value(H),t.maxDate))||hY(t.disabledDates,l.value(H)).includes(Q.value),Z=T(Q.value,H),X=Ex(o.value,Q.value,l.value(H));return{active:V,disabled:D,isBetween:Z,highlighted:X}})),v=(H,Q)=>ws(yi(ge()),H,l.value(Q)),C=(H,Q)=>{const V=a.value?a.value:yi(new Date);a.value=ws(V,H,l.value(Q)),e("auto-apply")},A=(H,Q)=>{const V=f0(a,v(H,Q),e);ym(V,e,t.autoApply,t.modelAuto)},O=(H,Q)=>{h0(v(H,Q),a,t.multiDatesLimit),e("auto-apply",!0)},z=(H,Q)=>(c.value[Q].month=H,U(Q,c.value[Q].year,H),t.multiDates?O(H,Q):t.range?A(H,Q):C(H,Q)),F=(H,Q)=>{p(H,Q),U(Q,H,null)},U=(H,Q,V)=>{let D=V;if(!D&&D!==0){const Z=N();D=Array.isArray(Z)?Z[H].month:Z.month}e("update-month-year",{instance:H,year:Q,month:D})};return{groupedMonths:_,groupedYears:g,year:l,isDisabled:w,defaultedMultiCalendars:n,defaultedAriaLabels:r,defaultedTransitions:i,defaultedConfig:s,showYearPicker:b,modelValue:a,presetDate:(H,Q)=>{Cx({value:H,modelValue:a,range:t.range,timezone:Q?void 0:t.timezone}),e("auto-apply")},setHoverDate:(H,Q)=>{f.value=v(H,Q)},selectMonth:z,selectYear:F,toggleYearPicker:S,handleYearSelect:R,handleYear:P,getModelMonthYear:N}},KY=Gt({compatConfig:{MODE:3},__name:"MonthPicker",props:{...Ni},emits:["update:internal-model-value","overlay-closed","reset-flow","range-start","range-end","auto-apply","update-month-year","mount"],setup(t,{expose:e,emit:n}){const r=n,i=Ca(),s=Kr(i,"yearMode"),o=t;_n(()=>{o.shadow||r("mount",null)});const{groupedMonths:a,groupedYears:l,year:u,isDisabled:c,defaultedMultiCalendars:h,defaultedConfig:f,showYearPicker:p,modelValue:g,presetDate:b,setHoverDate:S,selectMonth:R,selectYear:P,toggleYearPicker:w,handleYearSelect:E,handleYear:N,getModelMonthYear:M}=zY(o,r);return e({getSidebarProps:()=>({modelValue:g,year:u,getModelMonthYear:M,selectMonth:R,selectYear:P,handleYear:N}),presetDate:b,toggleYearPicker:I=>w(0,I)}),(I,T)=>(j(),qe(vm,{"multi-calendars":q(h).count,stretch:""},{default:Qe(({instance:_})=>[I.$slots["month-year"]?ve(I.$slots,"month-year",Tn(de({key:0},{year:q(u),months:q(a)(_),years:q(l)(_),selectMonth:q(R),selectYear:q(P),instance:_}))):(j(),qe(Kd,{key:1,items:q(a)(_),"arrow-navigation":I.arrowNavigation,"is-last":I.autoApply&&!q(f).keepActionRow,"esc-close":I.escClose,height:q(f).modeHeight,config:I.config,"no-overlay-focus":!!(I.noOverlayFocus||I.textInput),"use-relative":"",type:"month",onSelected:v=>q(R)(v,_),onHoverValue:v=>q(S)(v,_)},{header:Qe(()=>[et(Sx,de(I.$props,{items:q(l)(_),instance:_,"show-year-picker":q(p)[_],year:q(u)(_),"is-disabled":v=>q(c)(_,v),onHandleYear:v=>q(N)(_,v),onYearSelect:v=>q(E)(v,_),onToggleYearPicker:v=>q(w)(_,v==null?void 0:v.flow,v==null?void 0:v.show)}),Zn({_:2},[Ft(q(s),(v,C)=>({name:v,fn:Qe(A=>[ve(I.$slots,v,Tn(Jn(A)))])}))]),1040,["items","instance","show-year-picker","year","is-disabled","onHandleYear","onYearSelect","onToggleYearPicker"])]),_:2},1032,["items","arrow-navigation","is-last","esc-close","height","config","no-overlay-focus","onSelected","onHoverValue"]))]),_:3},8,["multi-calendars"]))}}),YY=(t,e)=>{const{modelValue:n}=zd(t,e),r=Te(null),{defaultedHighlight:i,defaultedFilters:s}=Sn(t),o=Te();_n(()=>{t.startDate&&(n.value&&t.focusStartDate||!n.value)&&(o.value=ut(ge(t.startDate)))});const a=h=>Array.isArray(n.value)?n.value.some(f=>ut(f)===h):n.value?ut(n.value)===h:!1,l=h=>t.range&&Array.isArray(n.value)?pm(n.value,r.value,c(h)):!1,u=he(()=>Jl(c0(t.yearRange,t.reverseYears),h=>{const f=a(h.value),p=sd(h.value,Zl(t.minDate),Zl(t.maxDate))||s.value.years.includes(h.value),g=l(h.value)&&!f,b=d0(i.value,h.value);return{active:f,disabled:p,isBetween:g,highlighted:b}})),c=h=>qi(yi(new Date),h);return{groupedYears:u,modelValue:n,focusYear:o,setHoverValue:h=>{r.value=qi(yi(new Date),h)},selectYear:h=>{var f;if(t.multiDates)return n.value?Array.isArray(n.value)&&(((f=n.value)==null?void 0:f.map(p=>ut(p))).includes(h)?n.value=n.value.filter(p=>ut(p)!==h):n.value.push(qi(yr(ge()),h))):n.value=[qi(yr(ge()),h)],e("auto-apply",!0);if(t.range){const p=f0(n,c(h),e);return ym(p,e,t.autoApply,t.modelAuto)}n.value=c(h),e("auto-apply")}}},GY=Gt({compatConfig:{MODE:3},__name:"YearPicker",props:{...Ni},emits:["update:internal-model-value","reset-flow","range-start","range-end","auto-apply"],setup(t,{expose:e,emit:n}){const r=n,i=t,{groupedYears:s,modelValue:o,focusYear:a,selectYear:l,setHoverValue:u}=YY(i,r),{defaultedConfig:c}=Sn(i);return e({getSidebarProps:()=>({modelValue:o,selectYear:l})}),(h,f)=>(j(),J("div",null,[h.$slots["month-year"]?ve(h.$slots,"month-year",Tn(de({key:0},{years:q(s),selectYear:q(l)}))):(j(),qe(Kd,{key:1,items:q(s),"is-last":h.autoApply&&!q(c).keepActionRow,height:q(c).modeHeight,config:h.config,"no-overlay-focus":!!(h.noOverlayFocus||h.textInput),"focus-value":q(a),type:"year","use-relative":"",onSelected:q(l),onHoverValue:q(u)},Zn({_:2},[h.$slots["year-overlay-value"]?{name:"item",fn:Qe(({item:p})=>[ve(h.$slots,"year-overlay-value",{text:p.text,value:p.value})]),key:"0"}:void 0]),1032,["items","is-last","height","config","no-overlay-focus","focus-value","onSelected","onHoverValue"]))]))}}),QY={key:0,class:"dp__time_input"},XY=["aria-label","onKeydown","onClick"],JY=Ce("span",{class:"dp__tp_inline_btn_bar dp__tp_btn_in_l"},null,-1),ZY=Ce("span",{class:"dp__tp_inline_btn_bar dp__tp_btn_in_r"},null,-1),eG=["aria-label","disabled","onKeydown","onClick"],tG=["aria-label","onKeydown","onClick"],nG=Ce("span",{class:"dp__tp_inline_btn_bar dp__tp_btn_in_l"},null,-1),rG=Ce("span",{class:"dp__tp_inline_btn_bar dp__tp_btn_in_r"},null,-1),iG={key:0},sG=["aria-label","onKeydown"],oG=Gt({compatConfig:{MODE:3},__name:"TimeInput",props:{hours:{type:Number,default:0},minutes:{type:Number,default:0},seconds:{type:Number,default:0},closeTimePickerBtn:{type:Object,default:null},order:{type:Number,default:0},disabledTimesConfig:{type:Function,default:null},validateTime:{type:Function,default:()=>!1},...Ni},emits:["set-hours","set-minutes","update:hours","update:minutes","update:seconds","reset-flow","mounted","overlay-closed","am-pm-change"],setup(t,{expose:e,emit:n}){const r=n,i=t,{setTimePickerElements:s,setTimePickerBackRef:o}=Ro(),{defaultedAriaLabels:a,defaultedTransitions:l,defaultedFilters:u,defaultedConfig:c}=Sn(i),{transitionName:h,showTransition:f}=qd(l),p=di({hours:!1,minutes:!1,seconds:!1}),g=Te("AM"),b=Te(null),S=Te([]);_n(()=>{r("mounted")});const R=B=>an(new Date,{hours:B.hours,minutes:B.minutes,seconds:i.enableSeconds?B.seconds:0,milliseconds:0}),P=he(()=>B=>z(B,i[B])||E(B,i[B])),w=he(()=>({hours:i.hours,minutes:i.minutes,seconds:i.seconds})),E=(B,K)=>i.range&&!i.disableTimeRangeValidation?!i.validateTime(B,K):!1,N=(B,K)=>{if(i.range&&!i.disableTimeRangeValidation){const re=K?+i[`${B}Increment`]:-+i[`${B}Increment`],Y=i[B]+re;return!i.validateTime(B,Y)}return!1},M=he(()=>B=>!U(+i[B]+ +i[`${B}Increment`],B)||N(B,!0)),I=he(()=>B=>!U(+i[B]-+i[`${B}Increment`],B)||N(B,!1)),T=(B,K)=>jD(an(ge(),B),K),_=(B,K)=>EK(an(ge(),B),K),v=he(()=>({dp__time_col:!0,dp__time_col_block:!i.timePickerInline,dp__time_col_reg_block:!i.enableSeconds&&i.is24&&!i.timePickerInline,dp__time_col_reg_inline:!i.enableSeconds&&i.is24&&i.timePickerInline,dp__time_col_reg_with_button:!i.enableSeconds&&!i.is24,dp__time_col_sec:i.enableSeconds&&i.is24,dp__time_col_sec_with_button:i.enableSeconds&&!i.is24})),C=he(()=>{const B=[{type:"hours"},{type:"",separator:!0},{type:"minutes"}];return i.enableSeconds?B.concat([{type:"",separator:!0},{type:"seconds"}]):B}),A=he(()=>C.value.filter(B=>!B.separator)),O=he(()=>B=>{if(B==="hours"){const K=Z(+i.hours);return{text:K<10?`0${K}`:`${K}`,value:K}}return{text:i[B]<10?`0${i[B]}`:`${i[B]}`,value:i[B]}}),z=(B,K)=>{var re;if(!i.disabledTimesConfig)return!1;const Y=i.disabledTimesConfig(i.order,B==="hours"?K:void 0);return Y[B]?!!((re=Y[B])!=null&&re.includes(K)):!0},F=B=>{const K=i.is24?24:12,re=B==="hours"?K:60,Y=+i[`${B}GridIncrement`],le=B==="hours"&&!i.is24?Y:0,ye=[];for(let ee=le;ee<re;ee+=Y)ye.push({value:ee,text:ee<10?`0${ee}`:`${ee}`});return B==="hours"&&!i.is24&&ye.push({value:0,text:"12"}),Jl(ye,ee=>({active:!1,disabled:u.value.times[B].includes(ee.value)||!U(ee.value,B)||z(B,ee.value)||E(B,ee.value)}))},U=(B,K)=>{const re=i.minTime?R(Ng(i.minTime)):null,Y=i.maxTime?R(Ng(i.maxTime)):null,le=R(Ng(w.value,K,B));return re&&Y?(id(le,Y)||cl(le,Y))&&(rd(le,re)||cl(le,re)):re?rd(le,re)||cl(le,re):Y?id(le,Y)||cl(le,Y):!0},H=B=>i[`no${B[0].toUpperCase()+B.slice(1)}Overlay`],Q=B=>{H(B)||(p[B]=!p[B],p[B]||r("overlay-closed"))},V=B=>B==="hours"?Ci:B==="minutes"?Ji:Ql,D=(B,K=!0)=>{const re=K?T:_,Y=K?+i[`${B}Increment`]:-+i[`${B}Increment`];U(+i[B]+Y,B)&&r(`update:${B}`,V(B)(re({[B]:+i[B]},{[B]:+i[`${B}Increment`]})))},Z=B=>i.is24?B:(B>=12?g.value="PM":g.value="AM",JK(B)),X=()=>{g.value==="PM"?(g.value="AM",r("update:hours",i.hours-12)):(g.value="PM",r("update:hours",i.hours+12)),r("am-pm-change",g.value)},ce=B=>{p[B]=!0},be=(B,K,re)=>{if(B&&i.arrowNavigation){Array.isArray(S.value[K])?S.value[K][re]=B:S.value[K]=[B];const Y=S.value.reduce((le,ye)=>ye.map((ee,k)=>[...le[k]||[],ye[k]]),[]);o(i.closeTimePickerBtn),b.value&&(Y[1]=Y[1].concat(b.value)),s(Y,i.order)}},te=(B,K)=>(Q(B),B==="hours"&&!i.is24?r(`update:${B}`,g.value==="PM"?K+12:K):r(`update:${B}`,K));return e({openChildCmp:ce}),(B,K)=>{var re;return B.disabled?ue("",!0):(j(),J("div",QY,[(j(!0),J(Ne,null,Ft(C.value,(Y,le)=>{var ye,ee,k;return j(),J("div",{key:le,class:tt(v.value)},[Y.separator?(j(),J(Ne,{key:0},[kn(" : ")],64)):(j(),J(Ne,{key:1},[Ce("button",{ref_for:!0,ref:L=>be(L,le,0),type:"button",class:tt({dp__btn:!0,dp__inc_dec_button:!B.timePickerInline,dp__inc_dec_button_inline:B.timePickerInline,dp__tp_inline_btn_top:B.timePickerInline,dp__inc_dec_button_disabled:M.value(Y.type)}),"aria-label":(ye=q(a))==null?void 0:ye.incrementValue(Y.type),tabindex:"0",onKeydown:[at(Lt(L=>D(Y.type),["prevent"]),["enter"]),at(Lt(L=>D(Y.type),["prevent"]),["space"])],onClick:L=>D(Y.type)},[i.timePickerInline?(j(),J(Ne,{key:1},[JY,ZY],64)):(j(),J(Ne,{key:0},[B.$slots["arrow-up"]?ve(B.$slots,"arrow-up",{key:0}):ue("",!0),B.$slots["arrow-up"]?ue("",!0):(j(),qe(q(s0),{key:1}))],64))],42,XY),Ce("button",{ref_for:!0,ref:L=>be(L,le,1),type:"button","aria-label":(ee=q(a))==null?void 0:ee.openTpOverlay(Y.type),class:tt({dp__time_display:!0,dp__time_display_block:!B.timePickerInline,dp__time_display_inline:B.timePickerInline,"dp--time-invalid":P.value(Y.type),"dp--time-overlay-btn":!P.value(Y.type)}),disabled:H(Y.type),tabindex:"0",onKeydown:[at(Lt(L=>Q(Y.type),["prevent"]),["enter"]),at(Lt(L=>Q(Y.type),["prevent"]),["space"])],onClick:L=>Q(Y.type)},[B.$slots[Y.type]?ve(B.$slots,Y.type,{key:0,text:O.value(Y.type).text,value:O.value(Y.type).value}):ue("",!0),B.$slots[Y.type]?ue("",!0):(j(),J(Ne,{key:1},[kn(dt(O.value(Y.type).text),1)],64))],42,eG),Ce("button",{ref_for:!0,ref:L=>be(L,le,2),type:"button",class:tt({dp__btn:!0,dp__inc_dec_button:!B.timePickerInline,dp__inc_dec_button_inline:B.timePickerInline,dp__tp_inline_btn_bottom:B.timePickerInline,dp__inc_dec_button_disabled:I.value(Y.type)}),"aria-label":(k=q(a))==null?void 0:k.decrementValue(Y.type),tabindex:"0",onKeydown:[at(Lt(L=>D(Y.type,!1),["prevent"]),["enter"]),at(Lt(L=>D(Y.type,!1),["prevent"]),["space"])],onClick:L=>D(Y.type,!1)},[i.timePickerInline?(j(),J(Ne,{key:1},[nG,rG],64)):(j(),J(Ne,{key:0},[B.$slots["arrow-down"]?ve(B.$slots,"arrow-down",{key:0}):ue("",!0),B.$slots["arrow-down"]?ue("",!0):(j(),qe(q(o0),{key:1}))],64))],42,tG)],64))],2)}),128)),B.is24?ue("",!0):(j(),J("div",iG,[B.$slots["am-pm-button"]?ve(B.$slots,"am-pm-button",{key:0,toggle:X,value:g.value}):ue("",!0),B.$slots["am-pm-button"]?ue("",!0):(j(),J("button",{key:1,ref_key:"amPmButton",ref:b,type:"button",class:"dp__pm_am_button",role:"button","aria-label":(re=q(a))==null?void 0:re.amPmButton,tabindex:"0",onClick:X,onKeydown:[at(Lt(X,["prevent"]),["enter"]),at(Lt(X,["prevent"]),["space"])]},dt(g.value),41,sG))])),(j(!0),J(Ne,null,Ft(A.value,(Y,le)=>(j(),qe(Co,{key:le,name:q(h)(p[Y.type]),css:q(f)},{default:Qe(()=>[p[Y.type]?(j(),qe(Kd,{key:0,items:F(Y.type),"is-last":B.autoApply&&!q(c).keepActionRow,"esc-close":B.escClose,type:Y.type,"text-input":B.textInput,config:B.config,"arrow-navigation":B.arrowNavigation,onSelected:ye=>te(Y.type,ye),onToggle:ye=>Q(Y.type),onResetFlow:K[0]||(K[0]=ye=>B.$emit("reset-flow"))},Zn({"button-icon":Qe(()=>[B.$slots["clock-icon"]?ve(B.$slots,"clock-icon",{key:0}):ue("",!0),B.$slots["clock-icon"]?ue("",!0):(j(),qe(Hr(B.timePickerInline?q(gu):q(i0)),{key:1}))]),_:2},[B.$slots[`${Y.type}-overlay-value`]?{name:"item",fn:Qe(({item:ye})=>[ve(B.$slots,`${Y.type}-overlay-value`,{text:ye.text,value:ye.value})]),key:"0"}:void 0]),1032,["items","is-last","esc-close","type","text-input","config","arrow-navigation","onSelected","onToggle"])):ue("",!0)]),_:2},1032,["name","css"]))),128))]))}}}),aG={class:"dp--tp-wrap"},lG=["aria-label","tabindex"],uG=["tabindex"],cG=["aria-label"],Ox=Gt({compatConfig:{MODE:3},__name:"TimePicker",props:{hours:{type:[Number,Array],default:0},minutes:{type:[Number,Array],default:0},seconds:{type:[Number,Array],default:0},disabledTimesConfig:{type:Function,default:null},validateTime:{type:Function,default:()=>!1},...Ni},emits:["update:hours","update:minutes","update:seconds","mount","reset-flow","overlay-opened","overlay-closed","am-pm-change"],setup(t,{expose:e,emit:n}){const r=n,i=t,{buildMatrix:s,setTimePicker:o}=Ro(),a=Ca(),{defaultedTransitions:l,defaultedAriaLabels:u,defaultedTextInput:c,defaultedConfig:h}=Sn(i),{transitionName:f,showTransition:p}=qd(l),{hideNavigationButtons:g}=mm(),b=Te(null),S=Te(null),R=Te([]),P=Te(null);_n(()=>{r("mount"),!i.timePicker&&i.arrowNavigation?s([Dn(b.value)],"time"):o(!0,i.timePicker)});const w=he(()=>i.range&&i.modelAuto?mx(i.internalModelValue):!0),E=Te(!1),N=F=>({hours:Array.isArray(i.hours)?i.hours[F]:i.hours,minutes:Array.isArray(i.minutes)?i.minutes[F]:i.minutes,seconds:Array.isArray(i.seconds)?i.seconds[F]:i.seconds}),M=he(()=>{const F=[];if(i.range)for(let U=0;U<2;U++)F.push(N(U));else F.push(N(0));return F}),I=(F,U=!1,H="")=>{U||r("reset-flow"),E.value=F,r(F?"overlay-opened":"overlay-closed"),i.arrowNavigation&&o(F),jn(()=>{H!==""&&R.value[0]&&R.value[0].openChildCmp(H)})},T=he(()=>({dp__btn:!0,dp__button:!0,dp__button_bottom:i.autoApply&&!h.value.keepActionRow})),_=Kr(a,"timePicker"),v=(F,U,H)=>i.range?U===0?[F,M.value[1][H]]:[M.value[0][H],F]:F,C=F=>{r("update:hours",F)},A=F=>{r("update:minutes",F)},O=F=>{r("update:seconds",F)},z=()=>{if(P.value&&!c.value.enabled&&!i.noOverlayFocus){const F=eY(P.value);F&&F.focus({preventScroll:!0})}};return e({toggleTimePicker:I}),(F,U)=>{var H;return j(),J("div",aG,[!F.timePicker&&!F.timePickerInline?Qo((j(),J("button",{key:0,ref_key:"openTimePickerBtn",ref:b,type:"button",class:tt(T.value),"aria-label":(H=q(u))==null?void 0:H.openTimePicker,tabindex:F.noOverlayFocus?void 0:0,onKeydown:[U[0]||(U[0]=at(Q=>I(!0),["enter"])),U[1]||(U[1]=at(Q=>I(!0),["space"]))],onClick:U[2]||(U[2]=Q=>I(!0))},[F.$slots["clock-icon"]?ve(F.$slots,"clock-icon",{key:0}):ue("",!0),F.$slots["clock-icon"]?ue("",!0):(j(),qe(q(i0),{key:1}))],42,lG)),[[ac,!q(g)(F.hideNavigation,"time")]]):ue("",!0),et(Co,{name:q(f)(E.value),css:q(p)&&!F.timePickerInline},{default:Qe(()=>{var Q;return[E.value||F.timePicker||F.timePickerInline?(j(),J("div",{key:0,ref_key:"overlayRef",ref:P,class:tt({dp__overlay:!F.timePickerInline,"dp--overlay-absolute":!i.timePicker&&!F.timePickerInline,"dp--overlay-relative":i.timePicker}),style:Or(F.timePicker?{height:`${q(h).modeHeight}px`}:void 0),tabindex:F.timePickerInline?void 0:0},[Ce("div",{class:tt(F.timePickerInline?"dp__time_picker_inline_container":"dp__overlay_container dp__container_flex dp__time_picker_overlay_container"),style:{display:"flex"}},[F.$slots["time-picker-overlay"]?ve(F.$slots,"time-picker-overlay",{key:0,hours:t.hours,minutes:t.minutes,seconds:t.seconds,setHours:C,setMinutes:A,setSeconds:O}):ue("",!0),F.$slots["time-picker-overlay"]?ue("",!0):(j(),J("div",{key:1,class:tt(F.timePickerInline?"dp__flex":"dp__overlay_row dp__flex_row")},[(j(!0),J(Ne,null,Ft(M.value,(V,D)=>Qo((j(),qe(oG,de({key:D},{...F.$props,order:D,hours:V.hours,minutes:V.minutes,seconds:V.seconds,closeTimePickerBtn:S.value,disabledTimesConfig:t.disabledTimesConfig,disabled:D===0?F.fixedStart:F.fixedEnd},{ref_for:!0,ref_key:"timeInputRefs",ref:R,"validate-time":(Z,X)=>t.validateTime(Z,v(X,D,Z)),"onUpdate:hours":Z=>C(v(Z,D,"hours")),"onUpdate:minutes":Z=>A(v(Z,D,"minutes")),"onUpdate:seconds":Z=>O(v(Z,D,"seconds")),onMounted:z,onOverlayClosed:z,onAmPmChange:U[3]||(U[3]=Z=>F.$emit("am-pm-change",Z))}),Zn({_:2},[Ft(q(_),(Z,X)=>({name:Z,fn:Qe(ce=>[ve(F.$slots,Z,Tn(Jn(ce)))])}))]),1040,["validate-time","onUpdate:hours","onUpdate:minutes","onUpdate:seconds"])),[[ac,D===0?!0:w.value]])),128))],2)),!F.timePicker&&!F.timePickerInline?Qo((j(),J("button",{key:2,ref_key:"closeTimePickerBtn",ref:S,type:"button",class:tt(T.value),"aria-label":(Q=q(u))==null?void 0:Q.closeTimePicker,tabindex:"0",onKeydown:[U[4]||(U[4]=at(V=>I(!1),["enter"])),U[5]||(U[5]=at(V=>I(!1),["space"]))],onClick:U[6]||(U[6]=V=>I(!1))},[F.$slots["calendar-icon"]?ve(F.$slots,"calendar-icon",{key:0}):ue("",!0),F.$slots["calendar-icon"]?ue("",!0):(j(),qe(q(gu),{key:1}))],42,cG)),[[ac,!q(g)(F.hideNavigation,"time")]]):ue("",!0)],2)],14,uG)):ue("",!0)]}),_:3},8,["name","css"])])}}}),Px=(t,e,n,r)=>{const i=(R,P)=>Array.isArray(e[R])?e[R][P]:e[R],s=R=>t.enableSeconds?Array.isArray(e.seconds)?e.seconds[R]:e.seconds:0,o=(R,P)=>R?P!==void 0?po(R,i("hours",P),i("minutes",P),s(P)):po(R,e.hours,e.minutes,s()):t0(ge(),s(P)),a=(R,P)=>{e[R]=P},l=(R,P)=>{const w=Object.fromEntries(Object.keys(e).map(E=>E===R?[E,P]:[E,e[E]].slice()));if(t.range&&!t.disableTimeRangeValidation){const E=M=>n.value?po(n.value[M],w.hours[M],w.minutes[M],w.seconds[M]):null,N=M=>e0(n.value[M],0);return!(xt(E(0),E(1))&&(rd(E(0),N(1))||id(E(1),N(0))))}return!0},u=(R,P)=>{l(R,P)&&(a(R,P),r&&r())},c=R=>{u("hours",R)},h=R=>{u("minutes",R)},f=R=>{u("seconds",R)},p=(R,P,w,E)=>{P&&c(R),!P&&!w&&h(R),w&&f(R),n.value&&E(n.value)},g=R=>{if(R){const P=Array.isArray(R),w=P?[+R[0].hours,+R[1].hours]:+R.hours,E=P?[+R[0].minutes,+R[1].minutes]:+R.minutes,N=P?[+R[0].seconds,+R[1].seconds]:+R.seconds;a("hours",w),a("minutes",E),t.enableSeconds&&a("seconds",N)}},b=(R,P)=>{const w={hours:Array.isArray(e.hours)?e.hours[R]:e.hours,disabledArr:[]};return(P||P===0)&&(w.hours=P),Array.isArray(t.disabledTimes)&&(w.disabledArr=t.range&&Array.isArray(t.disabledTimes[R])?t.disabledTimes[R]:t.disabledTimes),w},S=he(()=>(R,P)=>{var w;if(Array.isArray(t.disabledTimes)){const{disabledArr:E,hours:N}=b(R,P),M=E.filter(I=>+I.hours===N);return((w=M[0])==null?void 0:w.minutes)==="*"?{hours:[N],minutes:void 0,seconds:void 0}:{hours:[],minutes:(M==null?void 0:M.map(I=>+I.minutes))??[],seconds:(M==null?void 0:M.map(I=>I.seconds?+I.seconds:void 0))??[]}}return{hours:[],minutes:[],seconds:[]}});return{setTime:a,updateHours:c,updateMinutes:h,updateSeconds:f,getSetDateTime:o,updateTimeValues:p,getSecondsValue:s,assignStartTime:g,validateTime:l,disabledTimesConfig:S}},dG=(t,e)=>{const{modelValue:n,time:r}=zd(t,e),{defaultedStartTime:i}=Sn(t),{updateTimeValues:s,getSetDateTime:o,setTime:a,assignStartTime:l,disabledTimesConfig:u,validateTime:c}=Px(t,r,n),h=P=>{const{hours:w,minutes:E,seconds:N}=P;return{hours:+w,minutes:+E,seconds:N?+N:0}},f=()=>{if(t.startTime){if(Array.isArray(t.startTime)){const w=h(t.startTime[0]),E=h(t.startTime[1]);return[an(ge(),w),an(ge(),E)]}const P=h(t.startTime);return an(ge(),P)}return t.range?[null,null]:null},p=()=>{if(t.range){const[P,w]=f();n.value=[o(P,0),o(w,1)]}else n.value=o(f())},g=P=>Array.isArray(P)?[na(ge(P[0])),na(ge(P[1]))]:[na(P??ge())],b=(P,w,E)=>{a("hours",P),a("minutes",w),a("seconds",t.enableSeconds?E:0)},S=()=>{const[P,w]=g(n.value);return t.range?b([P.hours,w.hours],[P.minutes,w.minutes],[P.seconds,w.minutes]):b(P.hours,P.minutes,P.seconds)};_n(()=>{if(!t.shadow)return l(i.value),n.value?S():p()});const R=()=>{Array.isArray(n.value)?n.value=n.value.map((P,w)=>P&&o(P,w)):n.value=o(n.value),e("time-update")};return{modelValue:n,time:r,disabledTimesConfig:u,updateTime:(P,w=!0,E=!1)=>{s(P,w,E,R)},validateTime:c}},hG=Gt({compatConfig:{MODE:3},__name:"TimePickerSolo",props:{...Ni},emits:["update:internal-model-value","time-update","am-pm-change"],setup(t,{expose:e,emit:n}){const r=n,i=t,s=Ca(),o=Kr(s,"timePicker"),{time:a,modelValue:l,disabledTimesConfig:u,updateTime:c,validateTime:h}=dG(i,r);return e({getSidebarProps:()=>({modelValue:l,time:a,updateTime:c})}),(f,p)=>(j(),qe(vm,{"multi-calendars":0,stretch:""},{default:Qe(()=>[et(Ox,de(f.$props,{hours:q(a).hours,minutes:q(a).minutes,seconds:q(a).seconds,"internal-model-value":f.internalModelValue,"disabled-times-config":q(u),"validate-time":q(h),"onUpdate:hours":p[0]||(p[0]=g=>q(c)(g)),"onUpdate:minutes":p[1]||(p[1]=g=>q(c)(g,!1)),"onUpdate:seconds":p[2]||(p[2]=g=>q(c)(g,!1,!0)),onAmPmChange:p[3]||(p[3]=g=>f.$emit("am-pm-change",g))}),Zn({_:2},[Ft(q(o),(g,b)=>({name:g,fn:Qe(S=>[ve(f.$slots,g,Tn(Jn(S)))])}))]),1040,["hours","minutes","seconds","internal-model-value","disabled-times-config","validate-time"])]),_:3}))}}),fG={class:"dp__month_year_row"},pG=["aria-label","onClick","onKeydown"],mG=Gt({compatConfig:{MODE:3},__name:"DpHeader",props:{month:{type:Number,default:0},year:{type:Number,default:0},instance:{type:Number,default:0},years:{type:Array,default:()=>[]},months:{type:Array,default:()=>[]},...Ni},emits:["update-month-year","mount","reset-flow","overlay-closed"],setup(t,{expose:e,emit:n}){const r=n,i=t,{defaultedTransitions:s,defaultedAriaLabels:o,defaultedMultiCalendars:a,defaultedFilters:l,defaultedConfig:u,defaultedHighlight:c}=Sn(i),{transitionName:h,showTransition:f}=qd(s),{buildMatrix:p}=Ro(),{handleMonthYearChange:g,isDisabled:b,updateMonthYear:S}=SY(i,r),{showLeftIcon:R,showRightIcon:P}=mm(),w=Te(!1),E=Te(!1),N=Te([null,null,null,null]);_n(()=>{r("mount")});const M=D=>({get:()=>i[D],set:Z=>{const X=D===pi.month?pi.year:pi.month;r("update-month-year",{[D]:Z,[X]:i[X]}),D===pi.month?z(!0):F(!0)}}),I=he(M(pi.month)),T=he(M(pi.year)),_=he(()=>D=>({month:i.month,year:i.year,items:D===pi.month?i.months:i.years,instance:i.instance,updateMonthYear:S,toggle:D===pi.month?z:F})),v=he(()=>i.months.find(Z=>Z.value===i.month)||{text:"",value:0}),C=he(()=>Jl(i.months,D=>{const Z=i.month===D.value,X=sd(D.value,gx(i.year,i.minDate),vx(i.year,i.maxDate))||l.value.months.includes(D.value),ce=Ex(c.value,D.value,i.year);return{active:Z,disabled:X,highlighted:ce}})),A=he(()=>Jl(i.years,D=>{const Z=i.year===D.value,X=sd(D.value,Zl(i.minDate),Zl(i.maxDate))||l.value.years.includes(D.value),ce=d0(c.value,D.value);return{active:Z,disabled:X,highlighted:ce}})),O=(D,Z)=>{Z!==void 0?D.value=Z:D.value=!D.value,D.value||r("overlay-closed")},z=(D=!1,Z)=>{U(D),O(w,Z)},F=(D=!1,Z)=>{U(D),O(E,Z)},U=D=>{D||r("reset-flow")},H=(D,Z)=>{i.arrowNavigation&&(N.value[Z]=Dn(D),p(N.value,"monthYear"))},Q=he(()=>{var D,Z;return[{type:pi.month,index:1,toggle:z,modelValue:I.value,updateModelValue:X=>I.value=X,text:v.value.text,showSelectionGrid:w.value,items:C.value,ariaLabel:(D=o.value)==null?void 0:D.openMonthsOverlay},{type:pi.year,index:2,toggle:F,modelValue:T.value,updateModelValue:X=>T.value=X,text:i.year,showSelectionGrid:E.value,items:A.value,ariaLabel:(Z=o.value)==null?void 0:Z.openYearsOverlay}]}),V=he(()=>i.disableYearSelect?[Q.value[0]]:i.yearFirst?[...Q.value].reverse():Q.value);return e({toggleMonthPicker:z,toggleYearPicker:F,handleMonthYearChange:g}),(D,Z)=>{var X,ce,be;return j(),J("div",fG,[D.$slots["month-year"]?ve(D.$slots,"month-year",Tn(de({key:0},{month:t.month,year:t.year,months:t.months,years:t.years,updateMonthYear:q(S),handleMonthYearChange:q(g),instance:t.instance}))):(j(),J(Ne,{key:1},[q(R)(q(a),t.instance)&&!D.vertical?(j(),qe(Ec,{key:0,"aria-label":(X=q(o))==null?void 0:X.prevMonth,disabled:q(b)(!1),onActivate:Z[0]||(Z[0]=te=>q(g)(!1,!0)),onSetRef:Z[1]||(Z[1]=te=>H(te,0))},{default:Qe(()=>[D.$slots["arrow-left"]?ve(D.$slots,"arrow-left",{key:0}):ue("",!0),D.$slots["arrow-left"]?ue("",!0):(j(),qe(q(n0),{key:1}))]),_:3},8,["aria-label","disabled"])):ue("",!0),Ce("div",{class:tt(["dp__month_year_wrap",{dp__year_disable_select:D.disableYearSelect}])},[(j(!0),J(Ne,null,Ft(V.value,(te,B)=>(j(),J(Ne,{key:te.type},[Ce("button",{ref_for:!0,ref:K=>H(K,B+1),type:"button",class:"dp__btn dp__month_year_select",tabindex:"0","aria-label":te.ariaLabel,onClick:te.toggle,onKeydown:[at(Lt(te.toggle,["prevent"]),["enter"]),at(Lt(te.toggle,["prevent"]),["space"])]},[D.$slots[te.type]?ve(D.$slots,te.type,{key:0,text:te.text,value:i[te.type]}):ue("",!0),D.$slots[te.type]?ue("",!0):(j(),J(Ne,{key:1},[kn(dt(te.text),1)],64))],40,pG),et(Co,{name:q(h)(te.showSelectionGrid),css:q(f)},{default:Qe(()=>[te.showSelectionGrid?(j(),qe(Kd,{key:0,items:te.items,"arrow-navigation":D.arrowNavigation,"hide-navigation":D.hideNavigation,"is-last":D.autoApply&&!q(u).keepActionRow,"skip-button-ref":!1,config:D.config,type:te.type,"header-refs":[],"esc-close":D.escClose,"text-input":D.textInput,onSelected:te.updateModelValue,onToggle:te.toggle},Zn({"button-icon":Qe(()=>[D.$slots["calendar-icon"]?ve(D.$slots,"calendar-icon",{key:0}):ue("",!0),D.$slots["calendar-icon"]?ue("",!0):(j(),qe(q(gu),{key:1}))]),_:2},[D.$slots[`${te.type}-overlay-value`]?{name:"item",fn:Qe(({item:K})=>[ve(D.$slots,`${te.type}-overlay-value`,{text:K.text,value:K.value})]),key:"0"}:void 0,D.$slots[`${te.type}-overlay`]?{name:"overlay",fn:Qe(()=>[ve(D.$slots,`${te.type}-overlay`,Tn(Jn(_.value(te.type))))]),key:"1"}:void 0,D.$slots[`${te.type}-overlay-header`]?{name:"header",fn:Qe(()=>[ve(D.$slots,`${te.type}-overlay-header`,{toggle:te.toggle})]),key:"2"}:void 0]),1032,["items","arrow-navigation","hide-navigation","is-last","config","type","esc-close","text-input","onSelected","onToggle"])):ue("",!0)]),_:2},1032,["name","css"])],64))),128))],2),q(R)(q(a),t.instance)&&D.vertical?(j(),qe(Ec,{key:1,"aria-label":(ce=q(o))==null?void 0:ce.prevMonth,disabled:q(b)(!1),onActivate:Z[2]||(Z[2]=te=>q(g)(!1,!0))},{default:Qe(()=>[D.$slots["arrow-up"]?ve(D.$slots,"arrow-up",{key:0}):ue("",!0),D.$slots["arrow-up"]?ue("",!0):(j(),qe(q(s0),{key:1}))]),_:3},8,["aria-label","disabled"])):ue("",!0),q(P)(q(a),t.instance)?(j(),qe(Ec,{key:2,ref:"rightIcon",disabled:q(b)(!0),"aria-label":(be=q(o))==null?void 0:be.nextMonth,onActivate:Z[3]||(Z[3]=te=>q(g)(!0,!0)),onSetRef:Z[4]||(Z[4]=te=>H(te,D.disableYearSelect?2:3))},{default:Qe(()=>[D.$slots[D.vertical?"arrow-down":"arrow-right"]?ve(D.$slots,D.vertical?"arrow-down":"arrow-right",{key:0}):ue("",!0),D.$slots[D.vertical?"arrow-down":"arrow-right"]?ue("",!0):(j(),qe(Hr(D.vertical?q(o0):q(r0)),{key:1}))]),_:3},8,["disabled","aria-label"])):ue("",!0)],64))])}}}),gG=["aria-label"],vG={class:"dp__calendar_header",role:"row"},yG={key:0,class:"dp__calendar_header_item",role:"gridcell"},_G=Ce("div",{class:"dp__calendar_header_separator"},null,-1),bG=["aria-label"],wG={key:0,role:"gridcell",class:"dp__calendar_item dp__week_num"},TG={class:"dp__cell_inner"},EG=["id","aria-selected","aria-disabled","aria-label","onClick","onKeydown","onMouseenter","onMouseleave"],IG=Gt({compatConfig:{MODE:3},__name:"DpCalendar",props:{mappedDates:{type:Array,default:()=>[]},instance:{type:Number,default:0},month:{type:Number,default:0},year:{type:Number,default:0},...Ni},emits:["select-date","set-hover-date","handle-scroll","mount","handle-swipe","handle-space","tooltip-open","tooltip-close"],setup(t,{expose:e,emit:n}){const r=n,i=t,{buildMultiLevelMatrix:s}=Ro(),{defaultedTransitions:o,defaultedConfig:a,defaultedAriaLabels:l,defaultedMultiCalendars:u,defaultedWeekNumbers:c}=Sn(i),h=Te(null),f=Te({bottom:"",left:"",transform:""}),p=Te([]),g=Te(null),b=Te(!0),S=Te(""),R=Te({startX:0,endX:0,startY:0,endY:0}),P=Te([]),w=Te({left:"50%"}),E=he(()=>i.calendar?i.calendar(i.mappedDates):i.mappedDates),N=he(()=>i.dayNames?Array.isArray(i.dayNames)?i.dayNames:i.dayNames(i.locale,+i.weekStart):XK(i.formatLocale,i.locale,+i.weekStart));_n(()=>{r("mount",{cmp:"calendar",refs:p}),a.value.noSwipe||g.value&&(g.value.addEventListener("touchstart",F,{passive:!1}),g.value.addEventListener("touchend",U,{passive:!1}),g.value.addEventListener("touchmove",H,{passive:!1})),i.monthChangeOnScroll&&g.value&&g.value.addEventListener("wheel",D,{passive:!1})});const M=te=>te?i.vertical?"vNext":"next":i.vertical?"vPrevious":"previous",I=(te,B)=>{if(i.transitions){const K=yr(ws(ge(),i.month,i.year));S.value=mr(yr(ws(ge(),te,B)),K)?o.value[M(!0)]:o.value[M(!1)],b.value=!1,jn(()=>{b.value=!0})}},T=he(()=>({[i.calendarClassName]:!!i.calendarClassName})),_=he(()=>te=>{const B=ZK(te);return{dp__marker_dot:B.type==="dot",dp__marker_line:B.type==="line"}}),v=he(()=>te=>xt(te,h.value)),C=he(()=>({dp__calendar:!0,dp__calendar_next:u.value.count>0&&i.instance!==0})),A=he(()=>te=>i.hideOffsetDates?te.current:!0),O=async(te,B,K)=>{var re,Y;if(r("set-hover-date",te),(Y=(re=te.marker)==null?void 0:re.tooltip)!=null&&Y.length){const le=Dn(p.value[B][K]);if(le){const{width:ye,height:ee}=le.getBoundingClientRect();h.value=te.value;let k={left:`${ye/2}px`},L=-50;if(await jn(),P.value[0]){const{left:$,width:se}=P.value[0].getBoundingClientRect();$<0&&(k={left:"0"},L=0,w.value.left=`${ye/2}px`),window.innerWidth<$+se&&(k={right:"0"},L=0,w.value.left=`${se-ye/2}px`)}f.value={bottom:`${ee}px`,...k,transform:`translateX(${L}%)`},r("tooltip-open",te.marker)}}},z=te=>{h.value&&(h.value=null,f.value=JSON.parse(JSON.stringify({bottom:"",left:"",transform:""})),r("tooltip-close",te.marker))},F=te=>{R.value.startX=te.changedTouches[0].screenX,R.value.startY=te.changedTouches[0].screenY},U=te=>{R.value.endX=te.changedTouches[0].screenX,R.value.endY=te.changedTouches[0].screenY,Q()},H=te=>{i.vertical&&!i.inline&&te.preventDefault()},Q=()=>{const te=i.vertical?"Y":"X";Math.abs(R.value[`start${te}`]-R.value[`end${te}`])>10&&r("handle-swipe",R.value[`start${te}`]>R.value[`end${te}`]?"right":"left")},V=(te,B,K)=>{te&&(Array.isArray(p.value[B])?p.value[B][K]=te:p.value[B]=[te]),i.arrowNavigation&&s(p.value,"calendar")},D=te=>{i.monthChangeOnScroll&&(te.preventDefault(),r("handle-scroll",te))},Z=te=>c.value.type==="local"?uz(te.value,{weekStartsOn:+i.weekStart}):c.value.type==="iso"?sz(te.value):typeof c.value.type=="function"?c.value.type(te.value):"",X=te=>{const B=te[0];return c.value.hideOnOffsetDates?te.some(K=>K.current)?Z(B):"":Z(B)},ce=(te,B)=>{fo(te,a.value),r("select-date",B)},be=te=>{fo(te,a.value)};return e({triggerTransition:I}),(te,B)=>{var K;return j(),J("div",{class:tt(C.value)},[Ce("div",{ref_key:"calendarWrapRef",ref:g,role:"grid",class:tt(T.value),"aria-label":(K=q(l))==null?void 0:K.calendarWrap},[(j(),J(Ne,{key:0},[Ce("div",vG,[te.weekNumbers?(j(),J("div",yG,dt(te.weekNumName),1)):ue("",!0),(j(!0),J(Ne,null,Ft(N.value,(re,Y)=>(j(),J("div",{key:Y,class:"dp__calendar_header_item",role:"gridcell"},[te.$slots["calendar-header"]?ve(te.$slots,"calendar-header",{key:0,day:re,index:Y}):ue("",!0),te.$slots["calendar-header"]?ue("",!0):(j(),J(Ne,{key:1},[kn(dt(re),1)],64))]))),128))]),_G,et(Co,{name:S.value,css:!!te.transitions},{default:Qe(()=>{var re;return[b.value?(j(),J("div",{key:0,class:"dp__calendar",role:"rowgroup","aria-label":((re=q(l))==null?void 0:re.calendarDays)||void 0},[(j(!0),J(Ne,null,Ft(E.value,(Y,le)=>(j(),J("div",{key:le,class:"dp__calendar_row",role:"row"},[te.weekNumbers?(j(),J("div",wG,[Ce("div",TG,dt(X(Y.days)),1)])):ue("",!0),(j(!0),J(Ne,null,Ft(Y.days,(ye,ee)=>{var k,L,$;return j(),J("div",{id:ye.value.toISOString().split("T")[0],ref_for:!0,ref:se=>V(se,le,ee),key:ee+le,role:"gridcell",class:"dp__calendar_item","aria-selected":ye.classData.dp__active_date||ye.classData.dp__range_start||ye.classData.dp__range_start,"aria-disabled":ye.classData.dp__cell_disabled||void 0,"aria-label":(L=(k=q(l))==null?void 0:k.day)==null?void 0:L.call(k,ye),tabindex:"0",onClick:Lt(se=>ce(se,ye),["prevent"]),onKeydown:[at(se=>te.$emit("select-date",ye),["enter"]),at(se=>te.$emit("handle-space",ye),["space"])],onMouseenter:se=>O(ye,le,ee),onMouseleave:se=>z(ye)},[Ce("div",{class:tt(["dp__cell_inner",ye.classData])},[te.$slots.day&&A.value(ye)?ve(te.$slots,"day",{key:0,day:+ye.text,date:ye.value}):ue("",!0),te.$slots.day?ue("",!0):(j(),J(Ne,{key:1},[kn(dt(ye.text),1)],64)),ye.marker&&A.value(ye)?(j(),J(Ne,{key:2},[te.$slots.marker?ve(te.$slots,"marker",{key:0,marker:ye.marker,day:+ye.text,date:ye.value}):(j(),J("div",{key:1,class:tt(_.value(ye.marker)),style:Or(ye.marker.color?{backgroundColor:ye.marker.color}:{})},null,6))],64)):ue("",!0),v.value(ye.value)?(j(),J("div",{key:3,ref_for:!0,ref_key:"activeTooltip",ref:P,class:"dp__marker_tooltip",style:Or(f.value)},[($=ye.marker)!=null&&$.tooltip?(j(),J("div",{key:0,class:"dp__tooltip_content",onClick:be},[(j(!0),J(Ne,null,Ft(ye.marker.tooltip,(se,ie)=>(j(),J("div",{key:ie,class:"dp__tooltip_text"},[te.$slots["marker-tooltip"]?ve(te.$slots,"marker-tooltip",{key:0,tooltip:se,day:ye.value}):ue("",!0),te.$slots["marker-tooltip"]?ue("",!0):(j(),J(Ne,{key:1},[Ce("div",{class:"dp__tooltip_mark",style:Or(se.color?{backgroundColor:se.color}:{})},null,4),Ce("div",null,dt(se.text),1)],64))]))),128)),Ce("div",{class:"dp__arrow_bottom_tp",style:Or(w.value)},null,4)])):ue("",!0)],4)):ue("",!0)],2)],40,EG)}),128))]))),128))],8,bG)):ue("",!0)]}),_:3},8,["name","css"])],64))],10,gG)],2)}}}),SI=t=>Array.isArray(t),SG=(t,e,n,r)=>{const i=Te([]),{modelValue:s,calendars:o,time:a}=zd(t,e),{defaultedMultiCalendars:l,defaultedStartTime:u}=Sn(t),{validateMonthYearInRange:c,isDisabled:h,isDateRangeAllowed:f,checkMinMaxRange:p}=xa(t),{updateTimeValues:g,getSetDateTime:b,setTime:S,assignStartTime:R,validateTime:P,disabledTimesConfig:w}=Px(t,a,s,r),E=he(()=>W=>o.value[W]?o.value[W].month:0),N=he(()=>W=>o.value[W]?o.value[W].year:0),M=(W,oe,xe)=>{var We,ct;o.value[W]||(o.value[W]={month:0,year:0}),o.value[W].month=bI(oe)?(We=o.value[W])==null?void 0:We.month:oe,o.value[W].year=bI(xe)?(ct=o.value[W])==null?void 0:ct.year:xe},I=()=>{t.autoApply&&e("select-date")};Nn(s,(W,oe)=>{JSON.stringify(W)!==JSON.stringify(oe)&&v()}),_n(()=>{t.shadow||(s.value||(D(),u.value&&R(u.value)),v(!0),t.focusStartDate&&t.startDate&&D())});const T=he(()=>{var W;return(W=t.flow)!=null&&W.length&&!t.partialFlow?t.flowStep===t.flow.length:!0}),_=()=>{t.autoApply&&T.value&&e("auto-apply",t.partialFlow)},v=(W=!1)=>{if(s.value)return Array.isArray(s.value)?(i.value=s.value,U(W)):A(s.value,W);if(l.value.count&&W&&!t.startDate)return C(ge(),W)},C=(W,oe=!1)=>{if((!l.value.count||!l.value.static||oe)&&M(0,Tt(W),ut(W)),l.value.count&&(!l.value.solo||!s.value))for(let xe=1;xe<l.value.count;xe++){const We=an(ge(),{month:E.value(xe-1),year:N.value(xe-1)}),ct=jD(We,{months:1});o.value[xe]={month:Tt(ct),year:ut(ct)}}},A=(W,oe)=>{C(W),S("hours",Ci(W)),S("minutes",Ji(W)),S("seconds",Ql(W)),l.value.count&&oe&&V()},O=W=>{if(l.value.count){if(l.value.solo)return 0;const oe=Tt(W[0]),xe=Tt(W[1]);return Math.abs(xe-oe)<l.value.count?0:1}return 1},z=(W,oe)=>{W[1]&&t.showLastInRange?C(W[O(W)],oe):C(W[0],oe);const xe=(We,ct)=>[We(W[0]),W[1]?We(W[1]):a[ct][1]];S("hours",xe(Ci,"hours")),S("minutes",xe(Ji,"minutes")),S("seconds",xe(Ql,"seconds"))},F=(W,oe)=>{if((t.range||t.weekPicker)&&!t.multiDates)return z(W,oe);if(t.multiDates&&oe){const xe=W[W.length-1];return A(xe,oe)}},U=W=>{const oe=s.value;F(oe,W),l.value.count&&l.value.solo&&V()},H=(W,oe)=>{const xe=an(ge(),{month:E.value(oe),year:N.value(oe)}),We=W<0?Si(xe,1):Xl(xe,1);c(Tt(We),ut(We),W<0,t.preventMinMaxNavigation)&&(M(oe,Tt(We),ut(We)),e("update-month-year",{instance:oe,month:Tt(We),year:ut(We)}),l.value.count&&!l.value.solo&&Q(oe),n())},Q=W=>{for(let oe=W-1;oe>=0;oe--){const xe=Xl(an(ge(),{month:E.value(oe+1),year:N.value(oe+1)}),1);M(oe,Tt(xe),ut(xe))}for(let oe=W+1;oe<=l.value.count-1;oe++){const xe=Si(an(ge(),{month:E.value(oe-1),year:N.value(oe-1)}),1);M(oe,Tt(xe),ut(xe))}},V=()=>{if(Array.isArray(s.value)&&s.value.length===2){const W=ge(ge(s.value[1]?s.value[1]:Si(s.value[0],1))),[oe,xe]=[Tt(s.value[0]),ut(s.value[0])],[We,ct]=[Tt(s.value[1]),ut(s.value[1])];(oe!==We||oe===We&&xe!==ct)&&l.value.solo&&M(1,Tt(W),ut(W))}else s.value&&!Array.isArray(s.value)&&(M(0,Tt(s.value),ut(s.value)),C(ge()))},D=()=>{t.startDate&&(M(0,Tt(ge(t.startDate)),ut(ge(t.startDate))),l.value.count&&Q(0))},Z=iY((W,oe)=>{t.monthChangeOnScroll&&H(t.monthChangeOnScroll!=="inverse"?-W.deltaY:W.deltaY,oe)},50),X=(W,oe,xe=!1)=>{t.monthChangeOnArrows&&t.vertical===xe&&ce(W,oe)},ce=(W,oe)=>{H(W==="right"?-1:1,oe)},be=W=>t.markers.find(oe=>xt(aY(W.value),Ai(ge(oe.date),t.timezone))),te=(W,oe)=>{switch(t.sixWeeks===!0?"append":t.sixWeeks){case"prepend":return[!0,!1];case"center":return[W==0,!0];case"fair":return[W==0||oe>W,!0];case"append":return[!1,!1];default:return[!1,!1]}},B=(W,oe,xe,We)=>{if(t.sixWeeks&&W.length<6){const ct=6-W.length,Mt=(oe.getDay()+7-We)%7,Hn=6-(xe.getDay()+7-We)%7,[Oe,Be]=te(Mt,Hn);for(let je=1;je<=ct;je++)if(Be?!!(je%2)==Oe:Oe){const Wn=W[0].days[0],Br=K(gs(Wn.value,-7),Tt(oe));W.unshift({days:Br})}else{const Wn=W[W.length-1],Br=Wn.days[Wn.days.length-1],La=K(gs(Br.value,1),Tt(oe));W.push({days:La})}}return W},K=(W,oe)=>{const xe=ge(W),We=[];for(let ct=0;ct<7;ct++){const Mt=gs(xe,ct),Hn=Tt(Mt)!==oe;We.push({text:t.hideOffsetDates&&Hn?"":Mt.getDate(),value:Mt,current:!Hn,classData:{}})}return We},re=(W,oe)=>{const xe=[],We=new Date(oe,W),ct=new Date(oe,W+1,0),Mt=t.weekStart,Hn=wa(We,{weekStartsOn:Mt}),Oe=Be=>{const je=K(Be,W);if(xe.push({days:je}),!xe[xe.length-1].days.some(Wn=>xt(yr(Wn.value),yr(ct)))){const Wn=gs(Be,7);Oe(Wn)}};return Oe(Hn),B(xe,We,ct,Mt)},Y=W=>(s.value=nf(ge(W.value),t.timezone,t.weekStart),e("date-update",W.value),_()),le=W=>{const oe=po(ge(W.value),a.hours,a.minutes,fe());e("date-update",oe),t.multiDates?h0(oe,s,t.multiDatesLimit):s.value=oe,r(),jn().then(()=>{_()})},ye=W=>t.noDisabledRange?_x(i.value[0],W).some(oe=>h(oe)):!1,ee=()=>{i.value=s.value?s.value.slice():[],i.value.length===2&&!(t.fixedStart||t.fixedEnd)&&(i.value=[])},k=(W,oe)=>{const xe=[ge(W.value),gs(ge(W.value),+t.autoRange)];f(xe)?(oe&&L(W.value),i.value=xe):e("invalid-date",W.value)},L=W=>{const oe=Tt(ge(W)),xe=ut(ge(W));if(M(0,oe,xe),l.value.count>0)for(let We=1;We<l.value.count;We++){const ct=lY(an(ge(W),{year:E.value(We-1),month:N.value(We-1)}));M(We,ct.month,ct.year)}},$=W=>Array.isArray(s.value)&&s.value.length===2?t.fixedStart&&(mr(W,s.value[0])||xt(W,s.value[0]))?[s.value[0],W]:t.fixedEnd&&(Xn(W,s.value[1])||xt(W,s.value[1]))?[W,s.value[1]]:(e("invalid-fixed-range",W),s.value):[],se=W=>{if(ye(W.value)||!p(W.value,s.value,t.fixedStart?0:1))return e("invalid-date",W.value);i.value=$(ge(W.value))},ie=(W,oe)=>{if(ee(),t.autoRange)return k(W,oe);if(t.fixedStart||t.fixedEnd)return se(W);i.value[0]?p(ge(W.value),s.value)&&!ye(W.value)?Xn(ge(W.value),ge(i.value[0]))?(i.value.unshift(ge(W.value)),e("range-end",i.value[0])):(i.value[1]=ge(W.value),e("range-end",i.value[1])):(t.autoApply&&e("auto-apply-invalid",W.value),e("invalid-date",W.value)):(i.value[0]=ge(W.value),e("range-start",i.value[0]))},fe=(W=!0)=>t.enableSeconds?Array.isArray(a.seconds)?W?a.seconds[0]:a.seconds[1]:a.seconds:0,Se=W=>{i.value[W]=po(i.value[W],a.hours[W],a.minutes[W],fe(W!==1))},Ee=()=>{var W,oe;i.value[0]&&i.value[1]&&+((W=i.value)==null?void 0:W[0])>+((oe=i.value)==null?void 0:oe[1])&&(i.value.reverse(),e("range-start",i.value[0]),e("range-end",i.value[1]))},we=()=>{i.value.length&&(i.value[0]&&!i.value[1]?Se(0):(Se(0),Se(1),r()),Ee(),s.value=i.value.slice(),ym(i.value,e,t.autoApply,t.modelAuto))},pe=(W,oe=!1)=>{if(h(W.value)||!W.current&&t.hideOffsetDates)return e("invalid-date",W.value);if(t.weekPicker)return Y(W);if(!t.range)return le(W);SI(a.hours)&&SI(a.minutes)&&!t.multiDates&&(ie(W,oe),we())},He=(W,oe)=>{var xe;M(W,oe.month,oe.year),l.value.count&&!l.value.solo&&Q(W),e("update-month-year",{instance:W,month:oe.month,year:oe.year}),n(l.value.solo?W:void 0);const We=(xe=t.flow)!=null&&xe.length?t.flow[t.flowStep]:void 0;!oe.fromNav&&(We===Ui.month||We===Ui.year)&&r()},Ie=(W,oe)=>{Cx({value:W,modelValue:s,range:t.range,timezone:oe?void 0:t.timezone}),I(),t.multiCalendars&&jn().then(()=>v(!0))},Ve=()=>{t.range?s.value&&Array.isArray(s.value)&&s.value[0]?s.value=Xn(ge(),s.value[0])?[ge(),s.value[0]]:[s.value[0],ge()]:s.value=[ge()]:s.value=ge(),I()},Ge=()=>{if(Array.isArray(s.value))if(t.multiDates){const W=Ke();s.value[s.value.length-1]=b(W)}else s.value=s.value.map((W,oe)=>W&&b(W,oe));else s.value=b(s.value);e("time-update")},Ke=()=>Array.isArray(s.value)&&s.value.length?s.value[s.value.length-1]:null;return{calendars:o,modelValue:s,month:E,year:N,time:a,disabledTimesConfig:w,validateTime:P,getCalendarDays:re,getMarker:be,handleScroll:Z,handleSwipe:ce,handleArrow:X,selectDate:pe,updateMonthYear:He,presetDate:Ie,selectCurrentDate:Ve,updateTime:(W,oe=!0,xe=!1)=>{g(W,oe,xe,Ge)}}},CG={key:0},AG=Gt({__name:"DatePicker",props:{...Ni},emits:["tooltip-open","tooltip-close","mount","update:internal-model-value","update-flow-step","reset-flow","auto-apply","focus-menu","select-date","range-start","range-end","invalid-fixed-range","time-update","am-pm-change","time-picker-open","time-picker-close","recalculate-position","update-month-year","auto-apply-invalid","date-update","invalid-date"],setup(t,{expose:e,emit:n}){const r=n,i=t,{calendars:s,month:o,year:a,modelValue:l,time:u,disabledTimesConfig:c,validateTime:h,getCalendarDays:f,getMarker:p,handleArrow:g,handleScroll:b,handleSwipe:S,selectDate:R,updateMonthYear:P,presetDate:w,selectCurrentDate:E,updateTime:N}=SG(i,r,V,D),M=Ca(),{setHoverDate:I,getDayClassData:T,clearHoverDate:_}=PY(l,i),{defaultedMultiCalendars:v}=Sn(i),C=Te([]),A=Te([]),O=Te(null),z=Kr(M,"calendar"),F=Kr(M,"monthYear"),U=Kr(M,"timePicker"),H=X=>{i.shadow||r("mount",X)};Nn(s,()=>{i.shadow||setTimeout(()=>{r("recalculate-position")},0)},{deep:!0});const Q=he(()=>X=>f(o.value(X),a.value(X)).map(ce=>({...ce,days:ce.days.map(be=>(be.marker=p(be),be.classData=T(be),be))})));function V(X){var ce;X||X===0?(ce=A.value[X])==null||ce.triggerTransition(o.value(X),a.value(X)):A.value.forEach((be,te)=>be.triggerTransition(o.value(te),a.value(te)))}function D(){r("update-flow-step")}const Z=(X,ce=!1)=>{R(X,ce),i.spaceConfirm&&r("select-date")};return e({clearHoverDate:_,presetDate:w,selectCurrentDate:E,toggleMonthPicker:(X,ce,be=0)=>{var te;(te=C.value[be])==null||te.toggleMonthPicker(X,ce)},toggleYearPicker:(X,ce,be=0)=>{var te;(te=C.value[be])==null||te.toggleYearPicker(X,ce)},toggleTimePicker:(X,ce,be)=>{var te;(te=O.value)==null||te.toggleTimePicker(X,ce,be)},handleArrow:g,updateMonthYear:P,getSidebarProps:()=>({modelValue:l,month:o,year:a,time:u,updateTime:N,updateMonthYear:P,selectDate:R,presetDate:w})}),(X,ce)=>(j(),J(Ne,null,[et(vm,{"multi-calendars":q(v).count},{default:Qe(({instance:be,index:te})=>[X.disableMonthYearSelect?ue("",!0):(j(),qe(mG,de({key:0,ref:B=>{B&&(C.value[te]=B)},months:q(px)(X.formatLocale,X.locale,X.monthNameFormat),years:q(c0)(X.yearRange,X.reverseYears),month:q(o)(be),year:q(a)(be),instance:be},X.$props,{onMount:ce[0]||(ce[0]=B=>H(q(ra).header)),onResetFlow:ce[1]||(ce[1]=B=>X.$emit("reset-flow")),onUpdateMonthYear:B=>q(P)(be,B),onOverlayClosed:ce[2]||(ce[2]=B=>X.$emit("focus-menu"))}),Zn({_:2},[Ft(q(F),(B,K)=>({name:B,fn:Qe(re=>[ve(X.$slots,B,Tn(Jn(re)))])}))]),1040,["months","years","month","year","instance","onUpdateMonthYear"])),et(IG,de({ref:B=>{B&&(A.value[te]=B)},"mapped-dates":Q.value(be),month:q(o)(be),year:q(a)(be),instance:be},X.$props,{onSelectDate:B=>q(R)(B,be!==1),onHandleSpace:B=>Z(B,be!==1),onSetHoverDate:ce[3]||(ce[3]=B=>q(I)(B)),onHandleScroll:B=>q(b)(B,be),onHandleSwipe:B=>q(S)(B,be),onMount:ce[4]||(ce[4]=B=>H(q(ra).calendar)),onResetFlow:ce[5]||(ce[5]=B=>X.$emit("reset-flow")),onTooltipOpen:ce[6]||(ce[6]=B=>X.$emit("tooltip-open",B)),onTooltipClose:ce[7]||(ce[7]=B=>X.$emit("tooltip-close",B))}),Zn({_:2},[Ft(q(z),(B,K)=>({name:B,fn:Qe(re=>[ve(X.$slots,B,Tn(Jn({...re})))])}))]),1040,["mapped-dates","month","year","instance","onSelectDate","onHandleSpace","onHandleScroll","onHandleSwipe"])]),_:3},8,["multi-calendars"]),X.enableTimePicker?(j(),J("div",CG,[X.$slots["time-picker"]?ve(X.$slots,"time-picker",Tn(de({key:0},{time:q(u),updateTime:q(N)}))):(j(),qe(Ox,de({key:1,ref_key:"timePickerRef",ref:O},X.$props,{hours:q(u).hours,minutes:q(u).minutes,seconds:q(u).seconds,"internal-model-value":X.internalModelValue,"disabled-times-config":q(c),"validate-time":q(h),onMount:ce[8]||(ce[8]=be=>H(q(ra).timePicker)),"onUpdate:hours":ce[9]||(ce[9]=be=>q(N)(be)),"onUpdate:minutes":ce[10]||(ce[10]=be=>q(N)(be,!1)),"onUpdate:seconds":ce[11]||(ce[11]=be=>q(N)(be,!1,!0)),onResetFlow:ce[12]||(ce[12]=be=>X.$emit("reset-flow")),onOverlayClosed:ce[13]||(ce[13]=be=>X.$emit("time-picker-close")),onOverlayOpened:ce[14]||(ce[14]=be=>X.$emit("time-picker-open",be)),onAmPmChange:ce[15]||(ce[15]=be=>X.$emit("am-pm-change",be))}),Zn({_:2},[Ft(q(U),(be,te)=>({name:be,fn:Qe(B=>[ve(X.$slots,be,Tn(Jn(B)))])}))]),1040,["hours","minutes","seconds","internal-model-value","disabled-times-config","validate-time"]))])):ue("",!0)],64))}}),OG=(t,e)=>{const n=Te(),{defaultedMultiCalendars:r,defaultedConfig:i,defaultedHighlight:s}=Sn(t),{modelValue:o,year:a,month:l,calendars:u}=zd(t,e),{isDisabled:c}=xa(t),{selectYear:h,groupedYears:f,showYearPicker:p,isDisabled:g,toggleYearPicker:b,handleYearSelect:S,handleYear:R}=Ax({modelValue:o,multiCalendars:r,highlight:s,calendars:u,month:l,year:a,props:t,emit:e}),P=(_,v)=>[_,v].map(C=>ho(C,"MMMM",{locale:t.formatLocale})).join("-"),w=he(()=>_=>o.value?Array.isArray(o.value)?o.value.some(v=>uI(_,v)):uI(o.value,_):!1),E=_=>{if(t.range){if(Array.isArray(o.value)){const v=xt(_,o.value[0])||xt(_,o.value[1]);return pm(o.value,n.value,_)&&!v}return!1}return!1},N=he(()=>_=>{const v=an(new Date,{year:a.value(_)});return QW({start:JW(v),end:XW(v)}).map(C=>{const A=nd(C),O=nI(C),z=c(C),F=E(A),U=typeof s.value=="function"?s.value({quarter:tI(A),year:ut(A)}):!!s.value.quarters.find(H=>H.quarter===tI(A)&&H.year===ut(A));return{text:P(A,O),value:A,active:w.value(A),highlighted:U,disabled:z,isBetween:F}})}),M=_=>{h0(_,o,t.multiDatesLimit),e("auto-apply",!0)},I=_=>{const v=f0(o,_,e);ym(v,e,t.autoApply,t.modelAuto)},T=_=>{o.value=_,e("auto-apply")};return{defaultedConfig:i,defaultedMultiCalendars:r,groupedYears:f,year:a,isDisabled:g,quarters:N,showYearPicker:p,modelValue:o,setHoverDate:_=>{n.value=_},selectYear:h,selectQuarter:(_,v,C)=>{if(!C)return u.value[v].month=Tt(nI(_)),t.multiDates?M(_):t.range?I(_):T(_)},toggleYearPicker:b,handleYearSelect:S,handleYear:R}},PG={class:"dp--quarter-items"},kG=["disabled","onClick","onMouseover"],RG=Gt({compatConfig:{MODE:3},__name:"QuarterPicker",props:{...Ni},emits:["update:internal-model-value","reset-flow","overlay-closed","auto-apply","range-start","range-end"],setup(t,{expose:e,emit:n}){const r=n,i=t,s=Ca(),o=Kr(s,"yearMode"),{defaultedMultiCalendars:a,defaultedConfig:l,groupedYears:u,year:c,isDisabled:h,quarters:f,modelValue:p,showYearPicker:g,setHoverDate:b,selectQuarter:S,toggleYearPicker:R,handleYearSelect:P,handleYear:w}=OG(i,r);return e({getSidebarProps:()=>({modelValue:p,year:c,selectQuarter:S,handleYearSelect:P,handleYear:w})}),(E,N)=>(j(),qe(vm,{"multi-calendars":q(a).count,stretch:""},{default:Qe(({instance:M})=>[Ce("div",{class:"dp-quarter-picker-wrap",style:Or({minHeight:`${q(l).modeHeight}px`})},[Ce("div",null,[et(Sx,de(E.$props,{items:q(u)(M),instance:M,"show-year-picker":q(g)[M],year:q(c)(M),"is-disabled":I=>q(h)(M,I),onHandleYear:I=>q(w)(M,I),onYearSelect:I=>q(P)(I,M),onToggleYearPicker:I=>q(R)(M,I==null?void 0:I.flow,I==null?void 0:I.show)}),Zn({_:2},[Ft(q(o),(I,T)=>({name:I,fn:Qe(_=>[ve(E.$slots,I,Tn(Jn(_)))])}))]),1040,["items","instance","show-year-picker","year","is-disabled","onHandleYear","onYearSelect","onToggleYearPicker"])]),Ce("div",PG,[(j(!0),J(Ne,null,Ft(q(f)(M),(I,T)=>(j(),J("div",{key:T},[Ce("button",{type:"button",class:tt(["dp--qr-btn",{"dp--qr-btn-active":I.active,"dp--qr-btn-between":I.isBetween,"dp--qr-btn-disabled":I.disabled,"dp--highlighted":I.highlighted}]),disabled:I.disabled,onClick:_=>q(S)(I.value,M,I.disabled),onMouseover:_=>q(b)(I.value)},[E.$slots.quarter?ve(E.$slots,"quarter",{key:0,value:I.value,text:I.text}):(j(),J(Ne,{key:1},[kn(dt(I.text),1)],64))],42,kG)]))),128))])],4)]),_:3},8,["multi-calendars"]))}}),DG=["id"],xG={key:0,class:"dp__sidebar_left"},NG={key:1,class:"dp--preset-dates"},MG=["onClick","onKeydown"],LG={key:2,class:"dp__sidebar_right"},VG={key:3,class:"dp__action_extra"},CI=Gt({compatConfig:{MODE:3},__name:"DatepickerMenu",props:{...gm,shadow:{type:Boolean,default:!1},openOnTop:{type:Boolean,default:!1},internalModelValue:{type:[Date,Array],default:null},arrMapValues:{type:Object,default:()=>({})},noOverlayFocus:{type:Boolean,default:!1}},emits:["close-picker","select-date","auto-apply","time-update","flow-step","update-month-year","invalid-select","update:internal-model-value","recalculate-position","invalid-fixed-range","tooltip-open","tooltip-close","time-picker-open","time-picker-close","am-pm-change","range-start","range-end","auto-apply-invalid","date-update","invalid-date"],setup(t,{expose:e,emit:n}){const r=n,i=t,s=he(()=>{const{openOnTop:ee,...k}=i;return{...k,flowStep:T.value,noOverlayFocus:i.noOverlayFocus}}),{setMenuFocused:o,setShiftKey:a,control:l}=Ix(),u=Ca(),{defaultedTextInput:c,defaultedInline:h,defaultedConfig:f}=Sn(i),p=Te(null),g=Te(0),b=Te(null),S=Te(null),R=Te(!1),P=Te(null);_n(()=>{if(!i.shadow){R.value=!0,w(),window.addEventListener("resize",w);const ee=Dn(b);if(ee&&!c.value.enabled&&!h.value.enabled&&(o(!0),O()),ee){const k=L=>{f.value.allowPreventDefault&&L.preventDefault(),fo(L,f.value,!0)};ee.addEventListener("pointerdown",k),ee.addEventListener("mousedown",k)}}}),Sa(()=>{window.removeEventListener("resize",w)});const w=()=>{const ee=Dn(S);ee&&(g.value=ee.getBoundingClientRect().width)},{arrowRight:E,arrowLeft:N,arrowDown:M,arrowUp:I}=Ro(),{flowStep:T,updateFlowStep:_,childMount:v,resetFlow:C}=kY(i,r,P),A=he(()=>i.monthPicker?KY:i.yearPicker?GY:i.timePicker?hG:i.quarterPicker?RG:AG),O=()=>{const ee=Dn(b);ee&&ee.focus({preventScroll:!0})},z=he(()=>{var ee;return((ee=P.value)==null?void 0:ee.getSidebarProps())||{}}),F=()=>{i.openOnTop&&r("recalculate-position")},U=Kr(u,"action"),H=he(()=>i.monthPicker||i.yearPicker?Kr(u,"monthYear"):i.timePicker?Kr(u,"timePicker"):Kr(u,"shared")),Q=he(()=>i.openOnTop?"dp__arrow_bottom":"dp__arrow_top"),V=he(()=>({dp__menu_disabled:i.disabled,dp__menu_readonly:i.readonly})),D=he(()=>({dp__menu:!0,dp__menu_index:!h.value.enabled,dp__relative:h.value.enabled,[i.menuClassName]:!!i.menuClassName})),Z=ee=>{fo(ee,f.value,!0)},X=()=>{i.escClose&&r("close-picker")},ce=ee=>{if(i.arrowNavigation){if(ee==="up")return I();if(ee==="down")return M();if(ee==="left")return N();if(ee==="right")return E()}else ee==="left"||ee==="up"?re("handleArrow","left",0,ee==="up"):re("handleArrow","right",0,ee==="down")},be=ee=>{a(ee.shiftKey),!i.disableMonthYearSelect&&ee.code==="Tab"&&ee.target.classList.contains("dp__menu")&&l.value.shiftKeyInMenu&&(ee.preventDefault(),fo(ee,f.value,!0),r("close-picker"))},te=()=>{O(),r("time-picker-close")},B=ee=>{var k,L,$;(k=P.value)==null||k.toggleTimePicker(!1,!1),(L=P.value)==null||L.toggleMonthPicker(!1,!1,ee),($=P.value)==null||$.toggleYearPicker(!1,!1,ee)},K=(ee,k=0)=>{var L,$,se;return ee==="month"?(L=P.value)==null?void 0:L.toggleMonthPicker(!1,!0,k):ee==="year"?($=P.value)==null?void 0:$.toggleYearPicker(!1,!0,k):ee==="time"?(se=P.value)==null?void 0:se.toggleTimePicker(!0,!1):B(k)},re=(ee,...k)=>{var L,$;(L=P.value)!=null&&L[ee]&&(($=P.value)==null||$[ee](...k))},Y=()=>{re("selectCurrentDate")},le=(ee,k)=>{re("presetDate",ee,k)},ye=()=>{re("clearHoverDate")};return e({updateMonthYear:(ee,k)=>{re("updateMonthYear",ee,k)},switchView:K}),(ee,k)=>{var L;return j(),J("div",{id:ee.uid?`dp-menu-${ee.uid}`:void 0,ref_key:"dpMenuRef",ref:b,tabindex:"0",role:"dialog",class:tt(D.value),onMouseleave:ye,onClick:Z,onKeydown:[at(X,["esc"]),k[18]||(k[18]=at(Lt($=>ce("left"),["prevent"]),["left"])),k[19]||(k[19]=at(Lt($=>ce("up"),["prevent"]),["up"])),k[20]||(k[20]=at(Lt($=>ce("down"),["prevent"]),["down"])),k[21]||(k[21]=at(Lt($=>ce("right"),["prevent"]),["right"])),be]},[(ee.disabled||ee.readonly)&&q(h).enabled?(j(),J("div",{key:0,class:tt(V.value)},null,2)):ue("",!0),!q(h).enabled&&!ee.teleportCenter?(j(),J("div",{key:1,class:tt(Q.value)},null,2)):ue("",!0),Ce("div",{ref_key:"innerMenuRef",ref:S,class:tt({dp__menu_content_wrapper:((L=ee.presetDates)==null?void 0:L.length)||!!ee.$slots["left-sidebar"]||!!ee.$slots["right-sidebar"]}),style:Or({"--dp-menu-width":`${g.value}px`})},[ee.$slots["left-sidebar"]?(j(),J("div",xG,[ve(ee.$slots,"left-sidebar",Tn(Jn(z.value)))])):ue("",!0),ee.presetDates.length?(j(),J("div",NG,[(j(!0),J(Ne,null,Ft(ee.presetDates,($,se)=>(j(),J(Ne,{key:se},[$.slot?ve(ee.$slots,$.slot,{key:0,presetDate:le,label:$.label,value:$.value}):(j(),J("button",{key:1,type:"button",style:Or($.style||{}),class:"dp__btn dp--preset-range",onClick:Lt(ie=>le($.value,$.noTz),["prevent"]),onKeydown:[at(Lt(ie=>le($.value,$.noTz),["prevent"]),["enter"]),at(Lt(ie=>le($.value,$.noTz),["prevent"]),["space"])]},dt($.label),45,MG))],64))),128))])):ue("",!0),Ce("div",{ref_key:"calendarWrapperRef",ref:p,class:"dp__instance_calendar",role:"document"},[(j(),qe(Hr(A.value),de({ref_key:"dynCmpRef",ref:P},s.value,{"flow-step":q(T),onMount:q(v),onUpdateFlowStep:q(_),onResetFlow:q(C),onFocusMenu:O,onSelectDate:k[0]||(k[0]=$=>ee.$emit("select-date")),onDateUpdate:k[1]||(k[1]=$=>ee.$emit("date-update",$)),onTooltipOpen:k[2]||(k[2]=$=>ee.$emit("tooltip-open",$)),onTooltipClose:k[3]||(k[3]=$=>ee.$emit("tooltip-close",$)),onAutoApply:k[4]||(k[4]=$=>ee.$emit("auto-apply",$)),onRangeStart:k[5]||(k[5]=$=>ee.$emit("range-start",$)),onRangeEnd:k[6]||(k[6]=$=>ee.$emit("range-end",$)),onInvalidFixedRange:k[7]||(k[7]=$=>ee.$emit("invalid-fixed-range",$)),onTimeUpdate:k[8]||(k[8]=$=>ee.$emit("time-update")),onAmPmChange:k[9]||(k[9]=$=>ee.$emit("am-pm-change",$)),onTimePickerOpen:k[10]||(k[10]=$=>ee.$emit("time-picker-open",$)),onTimePickerClose:te,onRecalculatePosition:F,onUpdateMonthYear:k[11]||(k[11]=$=>ee.$emit("update-month-year",$)),onAutoApplyInvalid:k[12]||(k[12]=$=>ee.$emit("auto-apply-invalid",$)),onInvalidDate:k[13]||(k[13]=$=>ee.$emit("invalid-date",$)),"onUpdate:internalModelValue":k[14]||(k[14]=$=>ee.$emit("update:internal-model-value",$))}),Zn({_:2},[Ft(H.value,($,se)=>({name:$,fn:Qe(ie=>[ve(ee.$slots,$,Tn(Jn({...ie})))])}))]),1040,["flow-step","onMount","onUpdateFlowStep","onResetFlow"]))],512),ee.$slots["right-sidebar"]?(j(),J("div",LG,[ve(ee.$slots,"right-sidebar",Tn(Jn(z.value)))])):ue("",!0),ee.$slots["action-extra"]?(j(),J("div",VG,[ee.$slots["action-extra"]?ve(ee.$slots,"action-extra",{key:0,selectCurrentDate:Y}):ue("",!0)])):ue("",!0)],6),!ee.autoApply||q(f).keepActionRow?(j(),qe(FY,de({key:2,"menu-mount":R.value},s.value,{"calendar-width":g.value,onClosePicker:k[15]||(k[15]=$=>ee.$emit("close-picker")),onSelectDate:k[16]||(k[16]=$=>ee.$emit("select-date")),onInvalidSelect:k[17]||(k[17]=$=>ee.$emit("invalid-select")),onSelectNow:Y}),Zn({_:2},[Ft(q(U),($,se)=>({name:$,fn:Qe(ie=>[ve(ee.$slots,$,Tn(Jn({...ie})))])}))]),1040,["menu-mount","calendar-width"])):ue("",!0)],42,DG)}}}),FG=typeof window<"u"?window:void 0,jg=()=>{},$G=t=>Wy()?(KS(t),!0):!1,UG=(t,e,n,r)=>{if(!t)return jg;let i=jg;const s=Nn(()=>q(t),a=>{i(),a&&(a.addEventListener(e,n,r),i=()=>{a.removeEventListener(e,n,r),i=jg})},{immediate:!0,flush:"post"}),o=()=>{s(),i()};return $G(o),o},BG=(t,e,n,r={})=>{const{window:i=FG,event:s="pointerdown"}=r;return i?UG(i,s,o=>{const a=Dn(t),l=Dn(e);!a||!l||a===o.target||o.composedPath().includes(a)||o.composedPath().includes(l)||n(o)},{passive:!0}):void 0},jG=Gt({compatConfig:{MODE:3},__name:"VueDatePicker",props:{...gm},emits:["update:model-value","update:model-timezone-value","text-submit","closed","cleared","open","focus","blur","internal-model-change","recalculate-position","flow-step","update-month-year","invalid-select","invalid-fixed-range","tooltip-open","tooltip-close","time-picker-open","time-picker-close","am-pm-change","range-start","range-end","date-update","invalid-date"],setup(t,{expose:e,emit:n}){const r=n,i=t,s=Ca(),o=Te(!1),a=kc(i,"modelValue"),l=kc(i,"timezone"),u=Te(null),c=Te(null),h=Te(null),f=Te(!1),p=Te(null),g=Te(!1),b=Te(!1),{setMenuFocused:S,setShiftKey:R}=Ix(),{clearArrowNav:P}=Ro(),{mapDatesArrToMap:w,validateDate:E,isValidTime:N}=xa(i),{defaultedTransitions:M,defaultedTextInput:I,defaultedInline:T,defaultedConfig:_}=Sn(i),{menuTransition:v,showTransition:C}=qd(M);_n(()=>{ce(i.modelValue),jn().then(()=>{if(!T.value.enabled){const Oe=V(p.value);Oe==null||Oe.addEventListener("scroll",ee),window==null||window.addEventListener("resize",k)}}),T.value.enabled&&(o.value=!0),window==null||window.addEventListener("keyup",L),window==null||window.addEventListener("keydown",$)});const A=he(()=>w());Sa(()=>{if(!T.value.enabled){const Oe=V(p.value);Oe==null||Oe.removeEventListener("scroll",ee),window==null||window.removeEventListener("resize",k)}window==null||window.removeEventListener("keyup",L),window==null||window.removeEventListener("keydown",$)});const O=Kr(s,"all",i.presetDates),z=Kr(s,"input");Nn([a,l],()=>{ce(a.value)},{deep:!0});const{openOnTop:F,menuStyle:U,xCorrect:H,setMenuPosition:Q,getScrollableParent:V,shadowRender:D}=CY({menuRef:u,menuRefInner:c,inputRef:h,pickerWrapperRef:p,inline:T,emit:r,props:i,slots:s}),{inputValue:Z,internalModelValue:X,parseExternalModelValue:ce,emitModelValue:be,formatInputValue:te,checkBeforeEmit:B}=IY(r,i,f),K=he(()=>({dp__main:!0,dp__theme_dark:i.dark,dp__theme_light:!i.dark,dp__flex_display:T.value.enabled,dp__flex_display_with_input:T.value.input})),re=he(()=>i.dark?"dp__theme_dark":"dp__theme_light"),Y=he(()=>({to:typeof i.teleport=="boolean"?"body":i.teleport,disabled:!i.teleport||T.value.enabled})),le=he(()=>({class:"dp__outer_menu_wrap"})),ye=he(()=>T.value.enabled&&(i.timePicker||i.monthPicker||i.yearPicker||i.quarterPicker)),ee=()=>{o.value&&(_.value.closeOnScroll?Ie():Q())},k=()=>{o.value&&Q()},L=Oe=>{Oe.key==="Tab"&&!T.value.enabled&&!i.teleport&&_.value.tabOutClosesMenu&&(p.value.contains(document.activeElement)||Ie()),b.value=Oe.shiftKey},$=Oe=>{b.value=Oe.shiftKey},se=()=>{!i.disabled&&!i.readonly&&(D(CI,i),Q(!1),o.value=!0,o.value&&r("open"),o.value||He(),ce(i.modelValue))},ie=()=>{var Oe;Z.value="",He(),(Oe=h.value)==null||Oe.setParsedDate(null),r("update:model-value",null),r("update:model-timezone-value",null),r("cleared"),_.value.closeOnClearValue&&Ie()},fe=()=>{const Oe=X.value;return!Oe||!Array.isArray(Oe)&&E(Oe)?!0:Array.isArray(Oe)?i.multiDates||Oe.length===2&&E(Oe[0])&&E(Oe[1])?!0:i.partialRange&&!i.timePicker?E(Oe[0]):!1:!1},Se=()=>{B()&&fe()?(be(),Ie()):r("invalid-select",X.value)},Ee=Oe=>{we(),be(),_.value.closeOnAutoApply&&!Oe&&Ie()},we=()=>{h.value&&I.value.enabled&&h.value.setParsedDate(X.value)},pe=(Oe=!1)=>{i.autoApply&&N(X.value)&&fe()&&(i.range&&Array.isArray(X.value)?(i.partialRange||X.value.length===2)&&Ee(Oe):Ee(Oe))},He=()=>{I.value.enabled||(X.value=null)},Ie=()=>{T.value.enabled||(o.value&&(o.value=!1,H.value=!1,S(!1),R(!1),P(),r("closed"),Z.value&&ce(a.value)),He(),r("blur"))},Ve=(Oe,Be,je=!1)=>{if(!Oe){X.value=null;return}const Wn=Array.isArray(Oe)?!Oe.some(La=>!E(La)):E(Oe),Br=N(Oe);Wn&&Br&&(X.value=Oe,Be&&(g.value=je,Se(),r("text-submit")))},Ge=()=>{i.autoApply&&N(X.value)&&be(),we()},Ke=()=>o.value?Ie():se(),W=Oe=>{X.value=Oe},oe=()=>{I.value.enabled&&(f.value=!0,te()),r("focus")},xe=()=>{if(I.value.enabled&&(f.value=!1,ce(i.modelValue),g.value)){const Oe=rY(p.value,b.value);Oe==null||Oe.focus()}r("blur")},We=Oe=>{c.value&&c.value.updateMonthYear(0,{month:_I(Oe.month),year:_I(Oe.year)})},ct=Oe=>{ce(Oe??i.modelValue)},Mt=(Oe,Be)=>{var je;(je=c.value)==null||je.switchView(Oe,Be)},Hn=Oe=>_.value.onClickOutside?_.value.onClickOutside(Oe):Ie();return BG(u,h,()=>Hn(fe)),e({closeMenu:Ie,selectDate:Se,clearValue:ie,openMenu:se,onScroll:ee,formatInputValue:te,updateInternalModelValue:W,setMonthYear:We,parseModel:ct,switchView:Mt,toggleMenu:Ke}),(Oe,Be)=>(j(),J("div",{ref_key:"pickerWrapperRef",ref:p,class:tt(K.value),"data-datepicker-instance":""},[et(NY,de({ref_key:"inputRef",ref:h,"input-value":q(Z),"onUpdate:inputValue":Be[0]||(Be[0]=je=>ln(Z)?Z.value=je:null),"is-menu-open":o.value},Oe.$props,{onClear:ie,onOpen:se,onSetInputDate:Ve,onSetEmptyDate:q(be),onSelectDate:Se,onToggle:Ke,onClose:Ie,onFocus:oe,onBlur:xe,onRealBlur:Be[1]||(Be[1]=je=>f.value=!1)}),Zn({_:2},[Ft(q(z),(je,Wn)=>({name:je,fn:Qe(Br=>[ve(Oe.$slots,je,Tn(Jn(Br)))])}))]),1040,["input-value","is-menu-open","onSetEmptyDate"]),et(wC,Tn(Jn(Y.value)),{default:Qe(()=>[et(Co,{name:q(v)(q(F)),css:q(C)&&!q(T).enabled},{default:Qe(()=>[o.value?(j(),J("div",de({key:0,ref_key:"dpWrapMenuRef",ref:u},le.value,{class:{"dp--menu-wrapper":!q(T).enabled},style:q(T).enabled?void 0:q(U)}),[et(CI,de({ref_key:"dpMenuRef",ref:c},Oe.$props,{"internal-model-value":q(X),"onUpdate:internalModelValue":Be[2]||(Be[2]=je=>ln(X)?X.value=je:null),class:{[re.value]:!0,"dp--menu-wrapper":Oe.teleport},"open-on-top":q(F),"arr-map-values":A.value,"no-overlay-focus":ye.value,onClosePicker:Ie,onSelectDate:Se,onAutoApply:pe,onTimeUpdate:Ge,onFlowStep:Be[3]||(Be[3]=je=>Oe.$emit("flow-step",je)),onUpdateMonthYear:Be[4]||(Be[4]=je=>Oe.$emit("update-month-year",je)),onInvalidSelect:Be[5]||(Be[5]=je=>Oe.$emit("invalid-select",q(X))),onAutoApplyInvalid:Be[6]||(Be[6]=je=>Oe.$emit("invalid-select",je)),onInvalidFixedRange:Be[7]||(Be[7]=je=>Oe.$emit("invalid-fixed-range",je)),onRecalculatePosition:q(Q),onTooltipOpen:Be[8]||(Be[8]=je=>Oe.$emit("tooltip-open",je)),onTooltipClose:Be[9]||(Be[9]=je=>Oe.$emit("tooltip-close",je)),onTimePickerOpen:Be[10]||(Be[10]=je=>Oe.$emit("time-picker-open",je)),onTimePickerClose:Be[11]||(Be[11]=je=>Oe.$emit("time-picker-close",je)),onAmPmChange:Be[12]||(Be[12]=je=>Oe.$emit("am-pm-change",je)),onRangeStart:Be[13]||(Be[13]=je=>Oe.$emit("range-start",je)),onRangeEnd:Be[14]||(Be[14]=je=>Oe.$emit("range-end",je)),onDateUpdate:Be[15]||(Be[15]=je=>Oe.$emit("date-update",je)),onInvalidDate:Be[16]||(Be[16]=je=>Oe.$emit("invalid-date",je))}),Zn({_:2},[Ft(q(O),(je,Wn)=>({name:je,fn:Qe(Br=>[ve(Oe.$slots,je,Tn(Jn({...Br})))])}))]),1040,["internal-model-value","class","open-on-top","arr-map-values","no-overlay-focus","onRecalculatePosition"])],16)):ue("",!0)]),_:3},8,["name","css"])]),_:3},16)],2))}}),p0=(()=>{const t=jG;return t.install=e=>{e.component("Vue3DatePicker",t)},t})(),HG=Object.freeze(Object.defineProperty({__proto__:null,default:p0},Symbol.toStringTag,{value:"Module"}));Object.entries(HG).forEach(([t,e])=>{t!=="default"&&(p0[t]=e)});function Hg(t,e){var n=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=m0(t))||e&&t&&typeof t.length=="number"){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(u){throw u},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var s=!0,o=!1,a;return{s:function(){n=n.call(t)},n:function(){var u=n.next();return s=u.done,u},e:function(u){o=!0,a=u},f:function(){try{!s&&n.return!=null&&n.return()}finally{if(o)throw a}}}}function WG(t){return KG(t)||zG(t)||m0(t)||qG()}function qG(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zG(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function KG(t){if(Array.isArray(t))return Cy(t)}function Ic(t){"@babel/helpers - typeof";return Ic=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ic(t)}function Wg(t,e){return QG(t)||GG(t,e)||m0(t,e)||YG()}function YG(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function m0(t,e){if(t){if(typeof t=="string")return Cy(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Cy(t,e)}}function Cy(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function GG(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,a=[],l=!0,u=!1;try{if(s=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=s.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return a}}function QG(t){if(Array.isArray(t))return t}var De={innerWidth:function(e){if(e){var n=e.offsetWidth,r=getComputedStyle(e);return n+=parseFloat(r.paddingLeft)+parseFloat(r.paddingRight),n}return 0},width:function(e){if(e){var n=e.offsetWidth,r=getComputedStyle(e);return n-=parseFloat(r.paddingLeft)+parseFloat(r.paddingRight),n}return 0},getWindowScrollTop:function(){var e=document.documentElement;return(window.pageYOffset||e.scrollTop)-(e.clientTop||0)},getWindowScrollLeft:function(){var e=document.documentElement;return(window.pageXOffset||e.scrollLeft)-(e.clientLeft||0)},getOuterWidth:function(e,n){if(e){var r=e.offsetWidth;if(n){var i=getComputedStyle(e);r+=parseFloat(i.marginLeft)+parseFloat(i.marginRight)}return r}return 0},getOuterHeight:function(e,n){if(e){var r=e.offsetHeight;if(n){var i=getComputedStyle(e);r+=parseFloat(i.marginTop)+parseFloat(i.marginBottom)}return r}return 0},getClientHeight:function(e,n){if(e){var r=e.clientHeight;if(n){var i=getComputedStyle(e);r+=parseFloat(i.marginTop)+parseFloat(i.marginBottom)}return r}return 0},getViewport:function(){var e=window,n=document,r=n.documentElement,i=n.getElementsByTagName("body")[0],s=e.innerWidth||r.clientWidth||i.clientWidth,o=e.innerHeight||r.clientHeight||i.clientHeight;return{width:s,height:o}},getOffset:function(e){if(e){var n=e.getBoundingClientRect();return{top:n.top+(window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0),left:n.left+(window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0)}}return{top:"auto",left:"auto"}},index:function(e){if(e)for(var n,r=(n=this.getParentNode(e))===null||n===void 0?void 0:n.childNodes,i=0,s=0;s<r.length;s++){if(r[s]===e)return i;r[s].nodeType===1&&i++}return-1},addMultipleClasses:function(e,n){var r=this;e&&n&&[n].flat().filter(Boolean).forEach(function(i){return i.split(" ").forEach(function(s){return r.addClass(e,s)})})},removeMultipleClasses:function(e,n){var r=this;e&&n&&[n].flat().filter(Boolean).forEach(function(i){return i.split(" ").forEach(function(s){return r.removeClass(e,s)})})},addClass:function(e,n){e&&n&&!this.hasClass(e,n)&&(e.classList?e.classList.add(n):e.className+=" "+n)},removeClass:function(e,n){e&&n&&(e.classList?e.classList.remove(n):e.className=e.className.replace(new RegExp("(^|\\b)"+n.split(" ").join("|")+"(\\b|$)","gi")," "))},hasClass:function(e,n){return e?e.classList?e.classList.contains(n):new RegExp("(^| )"+n+"( |$)","gi").test(e.className):!1},addStyles:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};e&&Object.entries(n).forEach(function(r){var i=Wg(r,2),s=i[0],o=i[1];return e.style[s]=o})},find:function(e,n){return this.isElement(e)?e.querySelectorAll(n):[]},findSingle:function(e,n){return this.isElement(e)?e.querySelector(n):null},createElement:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e){var r=document.createElement(e);this.setAttributes(r,n);for(var i=arguments.length,s=new Array(i>2?i-2:0),o=2;o<i;o++)s[o-2]=arguments[o];return r.append.apply(r,s),r}},setAttribute:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",r=arguments.length>2?arguments[2]:void 0;this.isElement(e)&&r!==null&&r!==void 0&&e.setAttribute(n,r)},setAttributes:function(e){var n=this,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.isElement(e)){var i=function s(o,a){var l,u,c=e!=null&&(l=e.$attrs)!==null&&l!==void 0&&l[o]?[e==null||(u=e.$attrs)===null||u===void 0?void 0:u[o]]:[];return[a].flat().reduce(function(h,f){if(f!=null){var p=Ic(f);if(p==="string"||p==="number")h.push(f);else if(p==="object"){var g=Array.isArray(f)?s(o,f):Object.entries(f).map(function(b){var S=Wg(b,2),R=S[0],P=S[1];return o==="style"&&(P||P===0)?"".concat(R.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),":").concat(P):P?R:void 0});h=g.length?h.concat(g.filter(function(b){return!!b})):h}}return h},c)};Object.entries(r).forEach(function(s){var o=Wg(s,2),a=o[0],l=o[1];if(l!=null){var u=a.match(/^on(.+)/);u?e.addEventListener(u[1].toLowerCase(),l):a==="p-bind"?n.setAttributes(e,l):(l=a==="class"?WG(new Set(i("class",l))).join(" ").trim():a==="style"?i("style",l).join(";").trim():l,(e.$attrs=e.$attrs||{})&&(e.$attrs[a]=l),e.setAttribute(a,l))}})}},getAttribute:function(e,n){if(this.isElement(e)){var r=e.getAttribute(n);return isNaN(r)?r==="true"||r==="false"?r==="true":r:+r}},isAttributeEquals:function(e,n,r){return this.isElement(e)?this.getAttribute(e,n)===r:!1},isAttributeNotEquals:function(e,n,r){return!this.isAttributeEquals(e,n,r)},getHeight:function(e){if(e){var n=e.offsetHeight,r=getComputedStyle(e);return n-=parseFloat(r.paddingTop)+parseFloat(r.paddingBottom)+parseFloat(r.borderTopWidth)+parseFloat(r.borderBottomWidth),n}return 0},getWidth:function(e){if(e){var n=e.offsetWidth,r=getComputedStyle(e);return n-=parseFloat(r.paddingLeft)+parseFloat(r.paddingRight)+parseFloat(r.borderLeftWidth)+parseFloat(r.borderRightWidth),n}return 0},absolutePosition:function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(e){var i=e.offsetParent?{width:e.offsetWidth,height:e.offsetHeight}:this.getHiddenElementDimensions(e),s=i.height,o=i.width,a=n.offsetHeight,l=n.offsetWidth,u=n.getBoundingClientRect(),c=this.getWindowScrollTop(),h=this.getWindowScrollLeft(),f=this.getViewport(),p,g,b="top";u.top+a+s>f.height?(p=u.top+c-s,b="bottom",p<0&&(p=c)):p=a+u.top+c,u.left+o>f.width?g=Math.max(0,u.left+h+l-o):g=u.left+h,e.style.top=p+"px",e.style.left=g+"px",e.style.transformOrigin=b,r&&(e.style.marginTop=b==="bottom"?"calc(var(--p-anchor-gutter) * -1)":"calc(var(--p-anchor-gutter))")}},relativePosition:function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(e){var i=e.offsetParent?{width:e.offsetWidth,height:e.offsetHeight}:this.getHiddenElementDimensions(e),s=n.offsetHeight,o=n.getBoundingClientRect(),a=this.getViewport(),l,u,c="top";o.top+s+i.height>a.height?(l=-1*i.height,c="bottom",o.top+l<0&&(l=-1*o.top)):l=s,i.width>a.width?u=o.left*-1:o.left+i.width>a.width?u=(o.left+i.width-a.width)*-1:u=0,e.style.top=l+"px",e.style.left=u+"px",e.style.transformOrigin=c,r&&(e.style.marginTop=c==="bottom"?"calc(var(--p-anchor-gutter) * -1)":"calc(var(--p-anchor-gutter))")}},nestedPosition:function(e,n){if(e){var r=e.parentElement,i=this.getOffset(r),s=this.getViewport(),o=e.offsetParent?e.offsetWidth:this.getHiddenElementOuterWidth(e),a=this.getOuterWidth(r.children[0]),l;parseInt(i.left,10)+a+o>s.width-this.calculateScrollbarWidth()?parseInt(i.left,10)<o?n%2===1?l=parseInt(i.left,10)?"-"+parseInt(i.left,10)+"px":"100%":n%2===0&&(l=s.width-o-this.calculateScrollbarWidth()+"px"):l="-100%":l="100%",e.style.top="0px",e.style.left=l}},getParentNode:function(e){var n=e==null?void 0:e.parentNode;return n&&n instanceof ShadowRoot&&n.host&&(n=n.host),n},getParents:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],r=this.getParentNode(e);return r===null?n:this.getParents(r,n.concat([r]))},getScrollableParents:function(e){var n=[];if(e){var r=this.getParents(e),i=/(auto|scroll)/,s=function(S){try{var R=window.getComputedStyle(S,null);return i.test(R.getPropertyValue("overflow"))||i.test(R.getPropertyValue("overflowX"))||i.test(R.getPropertyValue("overflowY"))}catch{return!1}},o=Hg(r),a;try{for(o.s();!(a=o.n()).done;){var l=a.value,u=l.nodeType===1&&l.dataset.scrollselectors;if(u){var c=u.split(","),h=Hg(c),f;try{for(h.s();!(f=h.n()).done;){var p=f.value,g=this.findSingle(l,p);g&&s(g)&&n.push(g)}}catch(b){h.e(b)}finally{h.f()}}l.nodeType!==9&&s(l)&&n.push(l)}}catch(b){o.e(b)}finally{o.f()}}return n},getHiddenElementOuterHeight:function(e){if(e){e.style.visibility="hidden",e.style.display="block";var n=e.offsetHeight;return e.style.display="none",e.style.visibility="visible",n}return 0},getHiddenElementOuterWidth:function(e){if(e){e.style.visibility="hidden",e.style.display="block";var n=e.offsetWidth;return e.style.display="none",e.style.visibility="visible",n}return 0},getHiddenElementDimensions:function(e){if(e){var n={};return e.style.visibility="hidden",e.style.display="block",n.width=e.offsetWidth,n.height=e.offsetHeight,e.style.display="none",e.style.visibility="visible",n}return 0},fadeIn:function(e,n){if(e){e.style.opacity=0;var r=+new Date,i=0,s=function o(){i=+e.style.opacity+(new Date().getTime()-r)/n,e.style.opacity=i,r=+new Date,+i<1&&(window.requestAnimationFrame&&requestAnimationFrame(o)||setTimeout(o,16))};s()}},fadeOut:function(e,n){if(e)var r=1,i=50,s=n,o=i/s,a=setInterval(function(){r-=o,r<=0&&(r=0,clearInterval(a)),e.style.opacity=r},i)},getUserAgent:function(){return navigator.userAgent},appendChild:function(e,n){if(this.isElement(n))n.appendChild(e);else if(n.el&&n.elElement)n.elElement.appendChild(e);else throw new Error("Cannot append "+n+" to "+e)},isElement:function(e){return(typeof HTMLElement>"u"?"undefined":Ic(HTMLElement))==="object"?e instanceof HTMLElement:e&&Ic(e)==="object"&&e!==null&&e.nodeType===1&&typeof e.nodeName=="string"},scrollInView:function(e,n){var r=getComputedStyle(e).getPropertyValue("borderTopWidth"),i=r?parseFloat(r):0,s=getComputedStyle(e).getPropertyValue("paddingTop"),o=s?parseFloat(s):0,a=e.getBoundingClientRect(),l=n.getBoundingClientRect(),u=l.top+document.body.scrollTop-(a.top+document.body.scrollTop)-i-o,c=e.scrollTop,h=e.clientHeight,f=this.getOuterHeight(n);u<0?e.scrollTop=c+u:u+f>h&&(e.scrollTop=c+u-h+f)},clearSelection:function(){if(window.getSelection)window.getSelection().empty?window.getSelection().empty():window.getSelection().removeAllRanges&&window.getSelection().rangeCount>0&&window.getSelection().getRangeAt(0).getClientRects().length>0&&window.getSelection().removeAllRanges();else if(document.selection&&document.selection.empty)try{document.selection.empty()}catch{}},getSelection:function(){return window.getSelection?window.getSelection().toString():document.getSelection?document.getSelection().toString():document.selection?document.selection.createRange().text:null},calculateScrollbarWidth:function(){if(this.calculatedScrollbarWidth!=null)return this.calculatedScrollbarWidth;var e=document.createElement("div");this.addStyles(e,{width:"100px",height:"100px",overflow:"scroll",position:"absolute",top:"-9999px"}),document.body.appendChild(e);var n=e.offsetWidth-e.clientWidth;return document.body.removeChild(e),this.calculatedScrollbarWidth=n,n},calculateBodyScrollbarWidth:function(){return window.innerWidth-document.documentElement.offsetWidth},getBrowser:function(){if(!this.browser){var e=this.resolveUserAgent();this.browser={},e.browser&&(this.browser[e.browser]=!0,this.browser.version=e.version),this.browser.chrome?this.browser.webkit=!0:this.browser.webkit&&(this.browser.safari=!0)}return this.browser},resolveUserAgent:function(){var e=navigator.userAgent.toLowerCase(),n=/(chrome)[ ]([\w.]+)/.exec(e)||/(webkit)[ ]([\w.]+)/.exec(e)||/(opera)(?:.*version|)[ ]([\w.]+)/.exec(e)||/(msie) ([\w.]+)/.exec(e)||e.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(e)||[];return{browser:n[1]||"",version:n[2]||"0"}},isVisible:function(e){return e&&e.offsetParent!=null},invokeElementMethod:function(e,n,r){e[n].apply(e,r)},isExist:function(e){return!!(e!==null&&typeof e<"u"&&e.nodeName&&this.getParentNode(e))},isClient:function(){return!!(typeof window<"u"&&window.document&&window.document.createElement)},focus:function(e,n){e&&document.activeElement!==e&&e.focus(n)},isFocusableElement:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";return this.isElement(e)?e.matches('button:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])'.concat(n,`,
                [href][clientHeight][clientWidth]:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])`).concat(n,`,
                input:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])`).concat(n,`,
                select:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])`).concat(n,`,
                textarea:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])`).concat(n,`,
                [tabIndex]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])`).concat(n,`,
                [contenteditable]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])`).concat(n)):!1},getFocusableElements:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",r=this.find(e,'button:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])'.concat(n,`,
                [href][clientHeight][clientWidth]:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])`).concat(n,`,
                input:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])`).concat(n,`,
                select:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])`).concat(n,`,
                textarea:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])`).concat(n,`,
                [tabIndex]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])`).concat(n,`,
                [contenteditable]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])`).concat(n)),i=[],s=Hg(r),o;try{for(s.s();!(o=s.n()).done;){var a=o.value;getComputedStyle(a).display!="none"&&getComputedStyle(a).visibility!="hidden"&&i.push(a)}}catch(l){s.e(l)}finally{s.f()}return i},getFirstFocusableElement:function(e,n){var r=this.getFocusableElements(e,n);return r.length>0?r[0]:null},getLastFocusableElement:function(e,n){var r=this.getFocusableElements(e,n);return r.length>0?r[r.length-1]:null},getNextFocusableElement:function(e,n,r){var i=this.getFocusableElements(e,r),s=i.length>0?i.findIndex(function(a){return a===n}):-1,o=s>-1&&i.length>=s+1?s+1:-1;return o>-1?i[o]:null},getPreviousElementSibling:function(e,n){for(var r=e.previousElementSibling;r;){if(r.matches(n))return r;r=r.previousElementSibling}return null},getNextElementSibling:function(e,n){for(var r=e.nextElementSibling;r;){if(r.matches(n))return r;r=r.nextElementSibling}return null},isClickable:function(e){if(e){var n=e.nodeName,r=e.parentElement&&e.parentElement.nodeName;return n==="INPUT"||n==="TEXTAREA"||n==="BUTTON"||n==="A"||r==="INPUT"||r==="TEXTAREA"||r==="BUTTON"||r==="A"||!!e.closest(".p-button, .p-checkbox, .p-radiobutton")}return!1},applyStyle:function(e,n){if(typeof n=="string")e.style.cssText=n;else for(var r in n)e.style[r]=n[r]},isIOS:function(){return/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream},isAndroid:function(){return/(android)/i.test(navigator.userAgent)},isTouchDevice:function(){return"ontouchstart"in window||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0},hasCSSAnimation:function(e){if(e){var n=getComputedStyle(e),r=parseFloat(n.getPropertyValue("animation-duration")||"0");return r>0}return!1},hasCSSTransition:function(e){if(e){var n=getComputedStyle(e),r=parseFloat(n.getPropertyValue("transition-duration")||"0");return r>0}return!1},exportCSV:function(e,n){var r=new Blob([e],{type:"application/csv;charset=utf-8;"});if(window.navigator.msSaveOrOpenBlob)navigator.msSaveOrOpenBlob(r,n+".csv");else{var i=document.createElement("a");i.download!==void 0?(i.setAttribute("href",URL.createObjectURL(r)),i.setAttribute("download",n+".csv"),i.style.display="none",document.body.appendChild(i),i.click(),document.body.removeChild(i)):(e="data:text/csv;charset=utf-8,"+e,window.open(encodeURI(e)))}},blockBodyScroll:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"p-overflow-hidden";document.body.style.setProperty("--scrollbar-width",this.calculateBodyScrollbarWidth()+"px"),this.addClass(document.body,e)},unblockBodyScroll:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"p-overflow-hidden";document.body.style.removeProperty("--scrollbar-width"),this.removeClass(document.body,e)}};function od(t){"@babel/helpers - typeof";return od=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},od(t)}function XG(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function AI(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,ZG(r.key),r)}}function JG(t,e,n){return e&&AI(t.prototype,e),n&&AI(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function ZG(t){var e=eQ(t,"string");return od(e)=="symbol"?e:String(e)}function eQ(t,e){if(od(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(od(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var kx=function(){function t(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:function(){};XG(this,t),this.element=e,this.listener=n}return JG(t,[{key:"bindScrollListener",value:function(){this.scrollableParents=De.getScrollableParents(this.element);for(var n=0;n<this.scrollableParents.length;n++)this.scrollableParents[n].addEventListener("scroll",this.listener)}},{key:"unbindScrollListener",value:function(){if(this.scrollableParents)for(var n=0;n<this.scrollableParents.length;n++)this.scrollableParents[n].removeEventListener("scroll",this.listener)}},{key:"destroy",value:function(){this.unbindScrollListener(),this.element=null,this.listener=null,this.scrollableParents=null}}]),t}();function tQ(){var t=new Map;return{on:function(n,r){var i=t.get(n);i?i.push(r):i=[r],t.set(n,i)},off:function(n,r){var i=t.get(n);i&&i.splice(i.indexOf(r)>>>0,1)},emit:function(n,r){var i=t.get(n);i&&i.slice().map(function(s){s(r)})}}}function OI(t,e){return iQ(t)||rQ(t,e)||g0(t,e)||nQ()}function nQ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rQ(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,a=[],l=!0,u=!1;try{if(s=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=s.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return a}}function iQ(t){if(Array.isArray(t))return t}function PI(t){return aQ(t)||oQ(t)||g0(t)||sQ()}function sQ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function oQ(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function aQ(t){if(Array.isArray(t))return Ay(t)}function qg(t,e){var n=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=g0(t))||e&&t&&typeof t.length=="number"){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(u){throw u},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var s=!0,o=!1,a;return{s:function(){n=n.call(t)},n:function(){var u=n.next();return s=u.done,u},e:function(u){o=!0,a=u},f:function(){try{!s&&n.return!=null&&n.return()}finally{if(o)throw a}}}}function g0(t,e){if(t){if(typeof t=="string")return Ay(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ay(t,e)}}function Ay(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Sc(t){"@babel/helpers - typeof";return Sc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sc(t)}var _e={equals:function(e,n,r){return r?this.resolveFieldData(e,r)===this.resolveFieldData(n,r):this.deepEquals(e,n)},deepEquals:function(e,n){if(e===n)return!0;if(e&&n&&Sc(e)=="object"&&Sc(n)=="object"){var r=Array.isArray(e),i=Array.isArray(n),s,o,a;if(r&&i){if(o=e.length,o!=n.length)return!1;for(s=o;s--!==0;)if(!this.deepEquals(e[s],n[s]))return!1;return!0}if(r!=i)return!1;var l=e instanceof Date,u=n instanceof Date;if(l!=u)return!1;if(l&&u)return e.getTime()==n.getTime();var c=e instanceof RegExp,h=n instanceof RegExp;if(c!=h)return!1;if(c&&h)return e.toString()==n.toString();var f=Object.keys(e);if(o=f.length,o!==Object.keys(n).length)return!1;for(s=o;s--!==0;)if(!Object.prototype.hasOwnProperty.call(n,f[s]))return!1;for(s=o;s--!==0;)if(a=f[s],!this.deepEquals(e[a],n[a]))return!1;return!0}return e!==e&&n!==n},resolveFieldData:function(e,n){if(!e||!n)return null;try{var r=e[n];if(this.isNotEmpty(r))return r}catch{}if(Object.keys(e).length){if(this.isFunction(n))return n(e);if(n.indexOf(".")===-1)return e[n];for(var i=n.split("."),s=e,o=0,a=i.length;o<a;++o){if(s==null)return null;s=s[i[o]]}return s}return null},getItemValue:function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return this.isFunction(e)?e.apply(void 0,r):e},filter:function(e,n,r){var i=[];if(e){var s=qg(e),o;try{for(s.s();!(o=s.n()).done;){var a=o.value,l=qg(n),u;try{for(l.s();!(u=l.n()).done;){var c=u.value;if(String(this.resolveFieldData(a,c)).toLowerCase().indexOf(r.toLowerCase())>-1){i.push(a);break}}}catch(h){l.e(h)}finally{l.f()}}}catch(h){s.e(h)}finally{s.f()}}return i},reorderArray:function(e,n,r){e&&n!==r&&(r>=e.length&&(r%=e.length,n%=e.length),e.splice(r,0,e.splice(n,1)[0]))},findIndexInList:function(e,n){var r=-1;if(n){for(var i=0;i<n.length;i++)if(n[i]===e){r=i;break}}return r},contains:function(e,n){if(e!=null&&n&&n.length){var r=qg(n),i;try{for(r.s();!(i=r.n()).done;){var s=i.value;if(this.equals(e,s))return!0}}catch(o){r.e(o)}finally{r.f()}}return!1},insertIntoOrderedArray:function(e,n,r,i){if(r.length>0){for(var s=!1,o=0;o<r.length;o++){var a=this.findIndexInList(r[o],i);if(a>n){r.splice(o,0,e),s=!0;break}}s||r.push(e)}else r.push(e)},removeAccents:function(e){return e&&e.search(/[\xC0-\xFF]/g)>-1&&(e=e.replace(/[\xC0-\xC5]/g,"A").replace(/[\xC6]/g,"AE").replace(/[\xC7]/g,"C").replace(/[\xC8-\xCB]/g,"E").replace(/[\xCC-\xCF]/g,"I").replace(/[\xD0]/g,"D").replace(/[\xD1]/g,"N").replace(/[\xD2-\xD6\xD8]/g,"O").replace(/[\xD9-\xDC]/g,"U").replace(/[\xDD]/g,"Y").replace(/[\xDE]/g,"P").replace(/[\xE0-\xE5]/g,"a").replace(/[\xE6]/g,"ae").replace(/[\xE7]/g,"c").replace(/[\xE8-\xEB]/g,"e").replace(/[\xEC-\xEF]/g,"i").replace(/[\xF1]/g,"n").replace(/[\xF2-\xF6\xF8]/g,"o").replace(/[\xF9-\xFC]/g,"u").replace(/[\xFE]/g,"p").replace(/[\xFD\xFF]/g,"y")),e},getVNodeProp:function(e,n){if(e){var r=e.props;if(r){var i=n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),s=Object.prototype.hasOwnProperty.call(r,i)?i:n;return e.type.extends.props[n].type===Boolean&&r[s]===""?!0:r[s]}}return null},toFlatCase:function(e){return this.isString(e)?e.replace(/(-|_)/g,"").toLowerCase():e},toKebabCase:function(e){return this.isString(e)?e.replace(/(_)/g,"-").replace(/[A-Z]/g,function(n,r){return r===0?n:"-"+n.toLowerCase()}).toLowerCase():e},toCapitalCase:function(e){return this.isString(e,{empty:!1})?e[0].toUpperCase()+e.slice(1):e},isEmpty:function(e){return e==null||e===""||Array.isArray(e)&&e.length===0||!(e instanceof Date)&&Sc(e)==="object"&&Object.keys(e).length===0},isNotEmpty:function(e){return!this.isEmpty(e)},isFunction:function(e){return!!(e&&e.constructor&&e.call&&e.apply)},isObject:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return e instanceof Object&&e.constructor===Object&&(n||Object.keys(e).length!==0)},isDate:function(e){return e instanceof Date&&e.constructor===Date},isArray:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return Array.isArray(e)&&(n||e.length!==0)},isString:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return typeof e=="string"&&(n||e!=="")},isPrintableCharacter:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return this.isNotEmpty(e)&&e.length===1&&e.match(/\S| /)},findLast:function(e,n){var r;if(this.isNotEmpty(e))try{r=e.findLast(n)}catch{r=PI(e).reverse().find(n)}return r},findLastIndex:function(e,n){var r=-1;if(this.isNotEmpty(e))try{r=e.findLastIndex(n)}catch{r=e.lastIndexOf(PI(e).reverse().find(n))}return r},sort:function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,i=arguments.length>3?arguments[3]:void 0,s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:1,o=this.compare(e,n,i,r),a=r;return(this.isEmpty(e)||this.isEmpty(n))&&(a=s===1?r:s),a*o},compare:function(e,n,r){var i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:1,s=-1,o=this.isEmpty(e),a=this.isEmpty(n);return o&&a?s=0:o?s=i:a?s=-i:typeof e=="string"&&typeof n=="string"?s=r(e,n):s=e<n?-1:e>n?1:0,s},localeComparator:function(){return new Intl.Collator(void 0,{numeric:!0}).compare},nestedKeys:function(){var e=this,n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";return Object.entries(n).reduce(function(i,s){var o=OI(s,2),a=o[0],l=o[1],u=r?"".concat(r,".").concat(a):a;return e.isObject(l)?i=i.concat(e.nestedKeys(l,u)):i.push(u),i},[])},stringify:function(e){var n=this,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:2,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,s=" ".repeat(i),o=" ".repeat(i+r);return this.isArray(e)?"["+e.map(function(a){return n.stringify(a,r,i+r)}).join(", ")+"]":this.isDate(e)?e.toISOString():this.isFunction(e)?e.toString():this.isObject(e)?`{
`+Object.entries(e).map(function(a){var l=OI(a,2),u=l[0],c=l[1];return"".concat(o).concat(u,": ").concat(n.stringify(c,r,i+r))}).join(`,
`)+`
`.concat(s)+"}":JSON.stringify(e)}},kI=0;function dp(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"pv_id_";return kI++,"".concat(t).concat(kI)}function lQ(t){return hQ(t)||dQ(t)||cQ(t)||uQ()}function uQ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function cQ(t,e){if(t){if(typeof t=="string")return Oy(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Oy(t,e)}}function dQ(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function hQ(t){if(Array.isArray(t))return Oy(t)}function Oy(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function fQ(){var t=[],e=function(a,l){var u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:999,c=i(a,l,u),h=c.value+(c.key===a?0:u)+1;return t.push({key:a,value:h}),h},n=function(a){t=t.filter(function(l){return l.value!==a})},r=function(a,l){return i(a,l).value},i=function(a,l){var u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;return lQ(t).reverse().find(function(c){return l?!0:c.key===a})||{key:a,value:u}},s=function(a){return a&&parseInt(a.style.zIndex,10)||0};return{get:s,set:function(a,l,u){l&&(l.style.zIndex=String(e(a,!0,u)))},clear:function(a){a&&(n(s(a)),a.style.zIndex="")},getCurrent:function(a){return r(a,!0)}}}var Ol=fQ(),or={STARTS_WITH:"startsWith",CONTAINS:"contains",NOT_CONTAINS:"notContains",ENDS_WITH:"endsWith",EQUALS:"equals",NOT_EQUALS:"notEquals",IN:"in",LESS_THAN:"lt",LESS_THAN_OR_EQUAL_TO:"lte",GREATER_THAN:"gt",GREATER_THAN_OR_EQUAL_TO:"gte",BETWEEN:"between",DATE_IS:"dateIs",DATE_IS_NOT:"dateIsNot",DATE_BEFORE:"dateBefore",DATE_AFTER:"dateAfter"};function RI(t,e){var n=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=pQ(t))||e&&t&&typeof t.length=="number"){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(u){throw u},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var s=!0,o=!1,a;return{s:function(){n=n.call(t)},n:function(){var u=n.next();return s=u.done,u},e:function(u){o=!0,a=u},f:function(){try{!s&&n.return!=null&&n.return()}finally{if(o)throw a}}}}function pQ(t,e){if(t){if(typeof t=="string")return DI(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return DI(t,e)}}function DI(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Rx={filter:function(e,n,r,i,s){var o=[];if(!e)return o;var a=RI(e),l;try{for(a.s();!(l=a.n()).done;){var u=l.value;if(typeof u=="string"){if(this.filters[i](u,r,s)){o.push(u);continue}}else{var c=RI(n),h;try{for(c.s();!(h=c.n()).done;){var f=h.value,p=_e.resolveFieldData(u,f);if(this.filters[i](p,r,s)){o.push(u);break}}}catch(g){c.e(g)}finally{c.f()}}}}catch(g){a.e(g)}finally{a.f()}return o},filters:{startsWith:function(e,n,r){if(n==null||n==="")return!0;if(e==null)return!1;var i=_e.removeAccents(n.toString()).toLocaleLowerCase(r),s=_e.removeAccents(e.toString()).toLocaleLowerCase(r);return s.slice(0,i.length)===i},contains:function(e,n,r){if(n==null||n==="")return!0;if(e==null)return!1;var i=_e.removeAccents(n.toString()).toLocaleLowerCase(r),s=_e.removeAccents(e.toString()).toLocaleLowerCase(r);return s.indexOf(i)!==-1},notContains:function(e,n,r){if(n==null||n==="")return!0;if(e==null)return!1;var i=_e.removeAccents(n.toString()).toLocaleLowerCase(r),s=_e.removeAccents(e.toString()).toLocaleLowerCase(r);return s.indexOf(i)===-1},endsWith:function(e,n,r){if(n==null||n==="")return!0;if(e==null)return!1;var i=_e.removeAccents(n.toString()).toLocaleLowerCase(r),s=_e.removeAccents(e.toString()).toLocaleLowerCase(r);return s.indexOf(i,s.length-i.length)!==-1},equals:function(e,n,r){return n==null||n===""?!0:e==null?!1:e.getTime&&n.getTime?e.getTime()===n.getTime():_e.removeAccents(e.toString()).toLocaleLowerCase(r)==_e.removeAccents(n.toString()).toLocaleLowerCase(r)},notEquals:function(e,n,r){return n==null||n===""?!1:e==null?!0:e.getTime&&n.getTime?e.getTime()!==n.getTime():_e.removeAccents(e.toString()).toLocaleLowerCase(r)!=_e.removeAccents(n.toString()).toLocaleLowerCase(r)},in:function(e,n){if(n==null||n.length===0)return!0;for(var r=0;r<n.length;r++)if(_e.equals(e,n[r]))return!0;return!1},between:function(e,n){return n==null||n[0]==null||n[1]==null?!0:e==null?!1:e.getTime?n[0].getTime()<=e.getTime()&&e.getTime()<=n[1].getTime():n[0]<=e&&e<=n[1]},lt:function(e,n){return n==null?!0:e==null?!1:e.getTime&&n.getTime?e.getTime()<n.getTime():e<n},lte:function(e,n){return n==null?!0:e==null?!1:e.getTime&&n.getTime?e.getTime()<=n.getTime():e<=n},gt:function(e,n){return n==null?!0:e==null?!1:e.getTime&&n.getTime?e.getTime()>n.getTime():e>n},gte:function(e,n){return n==null?!0:e==null?!1:e.getTime&&n.getTime?e.getTime()>=n.getTime():e>=n},dateIs:function(e,n){return n==null?!0:e==null?!1:e.toDateString()===n.toDateString()},dateIsNot:function(e,n){return n==null?!0:e==null?!1:e.toDateString()!==n.toDateString()},dateBefore:function(e,n){return n==null?!0:e==null?!1:e.getTime()<n.getTime()},dateAfter:function(e,n){return n==null?!0:e==null?!1:e.getTime()>n.getTime()}},register:function(e,n){this.filters[e]=n}};function ad(t){"@babel/helpers - typeof";return ad=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ad(t)}function xI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function zg(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?xI(Object(n),!0).forEach(function(r){mQ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):xI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function mQ(t,e,n){return e=gQ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function gQ(t){var e=vQ(t,"string");return ad(e)=="symbol"?e:String(e)}function vQ(t,e){if(ad(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(ad(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var NI={ripple:!1,inputStyle:null,locale:{startsWith:"Starts with",contains:"Contains",notContains:"Not contains",endsWith:"Ends with",equals:"Equals",notEquals:"Not equals",noFilter:"No Filter",lt:"Less than",lte:"Less than or equal to",gt:"Greater than",gte:"Greater than or equal to",dateIs:"Date is",dateIsNot:"Date is not",dateBefore:"Date is before",dateAfter:"Date is after",clear:"Clear",apply:"Apply",matchAll:"Match All",matchAny:"Match Any",addRule:"Add Rule",removeRule:"Remove Rule",accept:"Yes",reject:"No",choose:"Choose",upload:"Upload",cancel:"Cancel",completed:"Completed",pending:"Pending",fileSizeTypes:["B","KB","MB","GB","TB","PB","EB","ZB","YB"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],chooseYear:"Choose Year",chooseMonth:"Choose Month",chooseDate:"Choose Date",prevDecade:"Previous Decade",nextDecade:"Next Decade",prevYear:"Previous Year",nextYear:"Next Year",prevMonth:"Previous Month",nextMonth:"Next Month",prevHour:"Previous Hour",nextHour:"Next Hour",prevMinute:"Previous Minute",nextMinute:"Next Minute",prevSecond:"Previous Second",nextSecond:"Next Second",am:"am",pm:"pm",today:"Today",weekHeader:"Wk",firstDayOfWeek:0,showMonthAfterYear:!1,dateFormat:"mm/dd/yy",weak:"Weak",medium:"Medium",strong:"Strong",passwordPrompt:"Enter a password",emptyFilterMessage:"No results found",searchMessage:"{0} results are available",selectionMessage:"{0} items selected",emptySelectionMessage:"No selected item",emptySearchMessage:"No results found",emptyMessage:"No available options",aria:{trueLabel:"True",falseLabel:"False",nullLabel:"Not Selected",star:"1 star",stars:"{star} stars",selectAll:"All items selected",unselectAll:"All items unselected",close:"Close",previous:"Previous",next:"Next",navigation:"Navigation",scrollTop:"Scroll Top",moveTop:"Move Top",moveUp:"Move Up",moveDown:"Move Down",moveBottom:"Move Bottom",moveToTarget:"Move to Target",moveToSource:"Move to Source",moveAllToTarget:"Move All to Target",moveAllToSource:"Move All to Source",pageLabel:"Page {page}",firstPageLabel:"First Page",lastPageLabel:"Last Page",nextPageLabel:"Next Page",prevPageLabel:"Previous Page",rowsPerPageLabel:"Rows per page",jumpToPageDropdownLabel:"Jump to Page Dropdown",jumpToPageInputLabel:"Jump to Page Input",selectRow:"Row Selected",unselectRow:"Row Unselected",expandRow:"Row Expanded",collapseRow:"Row Collapsed",showFilterMenu:"Show Filter Menu",hideFilterMenu:"Hide Filter Menu",filterOperator:"Filter Operator",filterConstraint:"Filter Constraint",editRow:"Row Edit",saveEdit:"Save Edit",cancelEdit:"Cancel Edit",listView:"List View",gridView:"Grid View",slide:"Slide",slideNumber:"{slideNumber}",zoomImage:"Zoom Image",zoomIn:"Zoom In",zoomOut:"Zoom Out",rotateRight:"Rotate Right",rotateLeft:"Rotate Left",listLabel:"Option List"}},filterMatchModeOptions:{text:[or.STARTS_WITH,or.CONTAINS,or.NOT_CONTAINS,or.ENDS_WITH,or.EQUALS,or.NOT_EQUALS],numeric:[or.EQUALS,or.NOT_EQUALS,or.LESS_THAN,or.LESS_THAN_OR_EQUAL_TO,or.GREATER_THAN,or.GREATER_THAN_OR_EQUAL_TO],date:[or.DATE_IS,or.DATE_IS_NOT,or.DATE_BEFORE,or.DATE_AFTER]},zIndex:{modal:1100,overlay:1e3,menu:1e3,tooltip:1100},pt:void 0,ptOptions:{mergeSections:!0,mergeProps:!1},unstyled:!1,csp:{nonce:void 0}},yQ=Symbol();function _Q(t,e,n,r){if(t!==e){var i=document.getElementById(n),s=i.cloneNode(!0),o=i.getAttribute("href").replace(t,e);s.setAttribute("id",n+"-clone"),s.setAttribute("href",o),s.addEventListener("load",function(){i.remove(),s.setAttribute("id",n),r&&r()}),i.parentNode&&i.parentNode.insertBefore(s,i.nextSibling)}}var bQ={install:function(e,n){var r=n?zg(zg({},NI),n):zg({},NI),i={config:di(r),changeTheme:_Q};e.config.globalProperties.$primevue=i,e.provide(yQ,i)}};function ld(t){"@babel/helpers - typeof";return ld=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ld(t)}function MI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function LI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?MI(Object(n),!0).forEach(function(r){wQ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):MI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function wQ(t,e,n){return e=TQ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function TQ(t){var e=EQ(t,"string");return ld(e)=="symbol"?e:String(e)}function EQ(t,e){if(ld(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(ld(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function IQ(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;Xr()?_n(t):e?t():jn(t)}var SQ=0;function Dx(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=Te(!1),r=Te(t),i=Te(null),s=De.isClient()?window.document:void 0,o=e.document,a=o===void 0?s:o,l=e.immediate,u=l===void 0?!0:l,c=e.manual,h=c===void 0?!1:c,f=e.name,p=f===void 0?"style_".concat(++SQ):f,g=e.id,b=g===void 0?void 0:g,S=e.media,R=S===void 0?void 0:S,P=e.nonce,w=P===void 0?void 0:P,E=e.props,N=E===void 0?{}:E,M=function(){},I=function(v){var C=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(a){var A=LI(LI({},N),C),O=A.name||p,z=A.id||b,F=A.nonce||w;i.value=a.querySelector('style[data-primevue-style-id="'.concat(O,'"]'))||a.getElementById(z)||a.createElement("style"),i.value.isConnected||(r.value=v||t,De.setAttributes(i.value,{type:"text/css",id:z,media:R,nonce:F}),a.head.appendChild(i.value),De.setAttribute(i.value,"data-primevue-style-id",p),De.setAttributes(i.value,A)),!n.value&&(M=Nn(r,function(U){i.value.textContent=U},{immediate:!0}),n.value=!0)}},T=function(){!a||!n.value||(M(),De.isExist(i.value)&&a.head.removeChild(i.value),n.value=!1)};return u&&!h&&IQ(I),{id:b,name:p,css:r,unload:T,load:I,isLoaded:Yy(n)}}function ud(t){"@babel/helpers - typeof";return ud=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ud(t)}function CQ(t,e){return kQ(t)||PQ(t,e)||OQ(t,e)||AQ()}function AQ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function OQ(t,e){if(t){if(typeof t=="string")return VI(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return VI(t,e)}}function VI(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function PQ(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,a=[],l=!0,u=!1;try{if(s=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=s.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return a}}function kQ(t){if(Array.isArray(t))return t}function FI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Kg(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?FI(Object(n),!0).forEach(function(r){RQ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):FI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function RQ(t,e,n){return e=DQ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function DQ(t){var e=xQ(t,"string");return ud(e)=="symbol"?e:String(e)}function xQ(t,e){if(ud(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(ud(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var NQ=`
.p-hidden-accessible {
    border: 0;
    clip: rect(0 0 0 0);
    height: 1px;
    margin: -1px;
    overflow: hidden;
    padding: 0;
    position: absolute;
    width: 1px;
}

.p-hidden-accessible input,
.p-hidden-accessible select {
    transform: scale(0);
}

.p-overflow-hidden {
    overflow: hidden;
    padding-right: var(--scrollbar-width);
}
`,MQ={},LQ={},ci={name:"base",css:NQ,classes:MQ,inlineStyles:LQ,loadStyle:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return this.css?Dx(this.css,Kg({name:this.name},e)):{}},getStyleSheet:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.css){var r=Object.entries(n).reduce(function(i,s){var o=CQ(s,2),a=o[0],l=o[1];return i.push("".concat(a,'="').concat(l,'"'))&&i},[]).join(" ");return'<style type="text/css" data-primevue-style-id="'.concat(this.name,'" ').concat(r,">").concat(this.css).concat(e,"</style>")}return""},extend:function(e){return Kg(Kg({},this),{},{css:void 0},e)}};function cd(t){"@babel/helpers - typeof";return cd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cd(t)}function $I(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function VQ(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$I(Object(n),!0).forEach(function(r){FQ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$I(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function FQ(t,e,n){return e=$Q(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $Q(t){var e=UQ(t,"string");return cd(e)=="symbol"?e:String(e)}function UQ(t,e){if(cd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(cd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Yg=ci.extend({name:"common",loadGlobalStyle:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Dx(e,VQ({name:"global"},n))}});function dd(t){"@babel/helpers - typeof";return dd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dd(t)}function BQ(t){return Mx(t)||jQ(t)||Nx(t)||xx()}function jQ(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Vh(t,e){return Mx(t)||HQ(t,e)||Nx(t,e)||xx()}function xx(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Nx(t,e){if(t){if(typeof t=="string")return UI(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return UI(t,e)}}function UI(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function HQ(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,a=[],l=!0,u=!1;try{if(s=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=s.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return a}}function Mx(t){if(Array.isArray(t))return t}function BI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function nn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?BI(Object(n),!0).forEach(function(r){rf(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):BI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function rf(t,e,n){return e=WQ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function WQ(t){var e=qQ(t,"string");return dd(e)=="symbol"?e:String(e)}function qQ(t,e){if(dd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(dd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Na={name:"BaseComponent",props:{pt:{type:Object,default:void 0},ptOptions:{type:Object,default:void 0},unstyled:{type:Boolean,default:void 0}},inject:{$parentInstance:{default:void 0}},watch:{isUnstyled:{immediate:!0,handler:function(e){if(!e){var n,r;Yg.loadStyle({nonce:(n=this.$primevueConfig)===null||n===void 0||(n=n.csp)===null||n===void 0?void 0:n.nonce}),this.$options.style&&this.$style.loadStyle({nonce:(r=this.$primevueConfig)===null||r===void 0||(r=r.csp)===null||r===void 0?void 0:r.nonce})}}}},beforeCreate:function(){var e,n,r,i,s,o,a,l,u,c,h,f=(e=this.pt)===null||e===void 0?void 0:e._usept,p=f?(n=this.pt)===null||n===void 0||(n=n.originalValue)===null||n===void 0?void 0:n[this.$.type.name]:void 0,g=f?(r=this.pt)===null||r===void 0||(r=r.value)===null||r===void 0?void 0:r[this.$.type.name]:this.pt;(i=g||p)===null||i===void 0||(i=i.hooks)===null||i===void 0||(s=i.onBeforeCreate)===null||s===void 0||s.call(i);var b=(o=this.$primevueConfig)===null||o===void 0||(o=o.pt)===null||o===void 0?void 0:o._usept,S=b?(a=this.$primevue)===null||a===void 0||(a=a.config)===null||a===void 0||(a=a.pt)===null||a===void 0?void 0:a.originalValue:void 0,R=b?(l=this.$primevue)===null||l===void 0||(l=l.config)===null||l===void 0||(l=l.pt)===null||l===void 0?void 0:l.value:(u=this.$primevue)===null||u===void 0||(u=u.config)===null||u===void 0?void 0:u.pt;(c=R||S)===null||c===void 0||(c=c[this.$.type.name])===null||c===void 0||(c=c.hooks)===null||c===void 0||(h=c.onBeforeCreate)===null||h===void 0||h.call(c)},created:function(){this._hook("onCreated")},beforeMount:function(){var e;ci.loadStyle({nonce:(e=this.$primevueConfig)===null||e===void 0||(e=e.csp)===null||e===void 0?void 0:e.nonce}),this._loadGlobalStyles(),this._hook("onBeforeMount")},mounted:function(){this._hook("onMounted")},beforeUpdate:function(){this._hook("onBeforeUpdate")},updated:function(){this._hook("onUpdated")},beforeUnmount:function(){this._hook("onBeforeUnmount")},unmounted:function(){this._hook("onUnmounted")},methods:{_hook:function(e){if(!this.$options.hostName){var n=this._usePT(this._getPT(this.pt,this.$.type.name),this._getOptionValue,"hooks.".concat(e)),r=this._useDefaultPT(this._getOptionValue,"hooks.".concat(e));n==null||n(),r==null||r()}},_mergeProps:function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return _e.isFunction(e)?e.apply(void 0,r):de.apply(void 0,r)},_loadGlobalStyles:function(){var e,n=this._useGlobalPT(this._getOptionValue,"global.css",this.$params);_e.isNotEmpty(n)&&Yg.loadGlobalStyle(n,{nonce:(e=this.$primevueConfig)===null||e===void 0||(e=e.csp)===null||e===void 0?void 0:e.nonce})},_getHostInstance:function(e){return e?this.$options.hostName?e.$.type.name===this.$options.hostName?e:this._getHostInstance(e.$parentInstance):e.$parentInstance:void 0},_getPropValue:function(e){var n;return this[e]||((n=this._getHostInstance(this))===null||n===void 0?void 0:n[e])},_getOptionValue:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=_e.toFlatCase(n).split("."),s=i.shift();return s?_e.isObject(e)?this._getOptionValue(_e.getItemValue(e[Object.keys(e).find(function(o){return _e.toFlatCase(o)===s})||""],r),i.join("."),r):void 0:_e.getItemValue(e,r)},_getPTValue:function(){var e,n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,o=/./g.test(r)&&!!i[r.split(".")[0]],a=this._getPropValue("ptOptions")||((e=this.$primevueConfig)===null||e===void 0?void 0:e.ptOptions)||{},l=a.mergeSections,u=l===void 0?!0:l,c=a.mergeProps,h=c===void 0?!1:c,f=s?o?this._useGlobalPT(this._getPTClassValue,r,i):this._useDefaultPT(this._getPTClassValue,r,i):void 0,p=o?void 0:this._getPTSelf(n,this._getPTClassValue,r,nn(nn({},i),{},{global:f||{}})),g=this._getPTDatasets(r);return u||!u&&p?h?this._mergeProps(h,f,p,g):nn(nn(nn({},f),p),g):nn(nn({},p),g)},_getPTSelf:function(){for(var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return de(this._usePT.apply(this,[this._getPT(e,this.$name)].concat(r)),this._usePT.apply(this,[this.$_attrsPT].concat(r)))},_getPTDatasets:function(){var e,n,r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",i="data-pc-",s=r==="root"&&_e.isNotEmpty((e=this.pt)===null||e===void 0?void 0:e["data-pc-section"]);return r!=="transition"&&nn(nn({},r==="root"&&nn(rf({},"".concat(i,"name"),_e.toFlatCase(s?(n=this.pt)===null||n===void 0?void 0:n["data-pc-section"]:this.$.type.name)),s&&rf({},"".concat(i,"extend"),_e.toFlatCase(this.$.type.name)))),{},rf({},"".concat(i,"section"),_e.toFlatCase(r)))},_getPTClassValue:function(){var e=this._getOptionValue.apply(this,arguments);return _e.isString(e)||_e.isArray(e)?{class:e}:e},_getPT:function(e){var n=this,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",i=arguments.length>2?arguments[2]:void 0,s=function(a){var l,u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,c=i?i(a):a,h=_e.toFlatCase(r),f=_e.toFlatCase(n.$name);return(l=u?h!==f?c==null?void 0:c[h]:void 0:c==null?void 0:c[h])!==null&&l!==void 0?l:c};return e!=null&&e.hasOwnProperty("_usept")?{_usept:e._usept,originalValue:s(e.originalValue),value:s(e.value)}:s(e,!0)},_usePT:function(e,n,r,i){var s=function(b){return n(b,r,i)};if(e!=null&&e.hasOwnProperty("_usept")){var o,a=e._usept||((o=this.$primevueConfig)===null||o===void 0?void 0:o.ptOptions)||{},l=a.mergeSections,u=l===void 0?!0:l,c=a.mergeProps,h=c===void 0?!1:c,f=s(e.originalValue),p=s(e.value);return f===void 0&&p===void 0?void 0:_e.isString(p)?p:_e.isString(f)?f:u||!u&&p?h?this._mergeProps(h,f,p):nn(nn({},f),p):p}return s(e)},_useGlobalPT:function(e,n,r){return this._usePT(this.globalPT,e,n,r)},_useDefaultPT:function(e,n,r){return this._usePT(this.defaultPT,e,n,r)},ptm:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return this._getPTValue(this.pt,e,nn(nn({},this.$params),n))},ptmi:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return de(this.$_attrsNoPT,this.ptm(e,n))},ptmo:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this._getPTValue(e,n,nn({instance:this},r),!1)},cx:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return this.isUnstyled?void 0:this._getOptionValue(this.$style.classes,e,nn(nn({},this.$params),n))},sx:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(n){var i=this._getOptionValue(this.$style.inlineStyles,e,nn(nn({},this.$params),r)),s=this._getOptionValue(Yg.inlineStyles,e,nn(nn({},this.$params),r));return[s,i]}}},computed:{globalPT:function(){var e,n=this;return this._getPT((e=this.$primevueConfig)===null||e===void 0?void 0:e.pt,void 0,function(r){return _e.getItemValue(r,{instance:n})})},defaultPT:function(){var e,n=this;return this._getPT((e=this.$primevueConfig)===null||e===void 0?void 0:e.pt,void 0,function(r){return n._getOptionValue(r,n.$name,nn({},n.$params))||_e.getItemValue(r,nn({},n.$params))})},isUnstyled:function(){var e;return this.unstyled!==void 0?this.unstyled:(e=this.$primevueConfig)===null||e===void 0?void 0:e.unstyled},$params:function(){var e=this._getHostInstance(this)||this.$parent;return{instance:this,props:this.$props,state:this.$data,attrs:this.$attrs,parent:{instance:e,props:e==null?void 0:e.$props,state:e==null?void 0:e.$data,attrs:e==null?void 0:e.$attrs},parentInstance:e}},$style:function(){return nn(nn({classes:void 0,inlineStyles:void 0,loadStyle:function(){},loadCustomStyle:function(){}},(this._getHostInstance(this)||{}).$style),this.$options.style)},$primevueConfig:function(){var e;return(e=this.$primevue)===null||e===void 0?void 0:e.config},$name:function(){return this.$options.hostName||this.$.type.name},$_attrsPT:function(){return Object.entries(this.$attrs||{}).filter(function(e){var n=Vh(e,1),r=n[0];return r==null?void 0:r.startsWith("pt:")}).reduce(function(e,n){var r=Vh(n,2),i=r[0],s=r[1],o=i.split(":"),a=BQ(o),l=a.slice(1);return l==null||l.reduce(function(u,c,h,f){return!u[c]&&(u[c]=h===f.length-1?s:{}),u[c]},e),e},{})},$_attrsNoPT:function(){return Object.entries(this.$attrs||{}).filter(function(e){var n=Vh(e,1),r=n[0];return!(r!=null&&r.startsWith("pt:"))}).reduce(function(e,n){var r=Vh(n,2),i=r[0],s=r[1];return e[i]=s,e},{})}}},zQ=`
.p-icon {
    display: inline-block;
}

.p-icon-spin {
    -webkit-animation: p-icon-spin 2s infinite linear;
    animation: p-icon-spin 2s infinite linear;
}

@-webkit-keyframes p-icon-spin {
    0% {
        -webkit-transform: rotate(0deg);
        transform: rotate(0deg);
    }
    100% {
        -webkit-transform: rotate(359deg);
        transform: rotate(359deg);
    }
}

@keyframes p-icon-spin {
    0% {
        -webkit-transform: rotate(0deg);
        transform: rotate(0deg);
    }
    100% {
        -webkit-transform: rotate(359deg);
        transform: rotate(359deg);
    }
}
`,KQ=ci.extend({name:"baseicon",css:zQ});function hd(t){"@babel/helpers - typeof";return hd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hd(t)}function jI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function HI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?jI(Object(n),!0).forEach(function(r){YQ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):jI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function YQ(t,e,n){return e=GQ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function GQ(t){var e=QQ(t,"string");return hd(e)=="symbol"?e:String(e)}function QQ(t,e){if(hd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(hd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ma={name:"BaseIcon",extends:Na,props:{label:{type:String,default:void 0},spin:{type:Boolean,default:!1}},style:KQ,methods:{pti:function(){var e=_e.isEmpty(this.label);return HI(HI({},!this.isUnstyled&&{class:["p-icon",{"p-icon-spin":this.spin}]}),{},{role:e?void 0:"img","aria-label":e?void 0:this.label,"aria-hidden":e})}}},Lx={name:"BlankIcon",extends:Ma},XQ=Ce("rect",{width:"1",height:"1",fill:"currentColor","fill-opacity":"0"},null,-1),JQ=[XQ];function ZQ(t,e,n,r,i,s){return j(),J("svg",de({width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t.pti()),JQ,16)}Lx.render=ZQ;var _m={name:"CheckIcon",extends:Ma},eX=Ce("path",{d:"M4.86199 11.5948C4.78717 11.5923 4.71366 11.5745 4.64596 11.5426C4.57826 11.5107 4.51779 11.4652 4.46827 11.4091L0.753985 7.69483C0.683167 7.64891 0.623706 7.58751 0.580092 7.51525C0.536478 7.44299 0.509851 7.36177 0.502221 7.27771C0.49459 7.19366 0.506156 7.10897 0.536046 7.03004C0.565935 6.95111 0.613367 6.88 0.674759 6.82208C0.736151 6.76416 0.8099 6.72095 0.890436 6.69571C0.970973 6.67046 1.05619 6.66385 1.13966 6.67635C1.22313 6.68886 1.30266 6.72017 1.37226 6.76792C1.44186 6.81567 1.4997 6.8786 1.54141 6.95197L4.86199 10.2503L12.6397 2.49483C12.7444 2.42694 12.8689 2.39617 12.9932 2.40745C13.1174 2.41873 13.2343 2.47141 13.3251 2.55705C13.4159 2.64268 13.4753 2.75632 13.4938 2.87973C13.5123 3.00315 13.4888 3.1292 13.4271 3.23768L5.2557 11.4091C5.20618 11.4652 5.14571 11.5107 5.07801 11.5426C5.01031 11.5745 4.9368 11.5923 4.86199 11.5948Z",fill:"currentColor"},null,-1),tX=[eX];function nX(t,e,n,r,i,s){return j(),J("svg",de({width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t.pti()),tX,16)}_m.render=nX;var v0={name:"ChevronDownIcon",extends:Ma},rX=Ce("path",{d:"M7.01744 10.398C6.91269 10.3985 6.8089 10.378 6.71215 10.3379C6.61541 10.2977 6.52766 10.2386 6.45405 10.1641L1.13907 4.84913C1.03306 4.69404 0.985221 4.5065 1.00399 4.31958C1.02276 4.13266 1.10693 3.95838 1.24166 3.82747C1.37639 3.69655 1.55301 3.61742 1.74039 3.60402C1.92777 3.59062 2.11386 3.64382 2.26584 3.75424L7.01744 8.47394L11.769 3.75424C11.9189 3.65709 12.097 3.61306 12.2748 3.62921C12.4527 3.64535 12.6199 3.72073 12.7498 3.84328C12.8797 3.96582 12.9647 4.12842 12.9912 4.30502C13.0177 4.48162 12.9841 4.662 12.8958 4.81724L7.58083 10.1322C7.50996 10.2125 7.42344 10.2775 7.32656 10.3232C7.22968 10.3689 7.12449 10.3944 7.01744 10.398Z",fill:"currentColor"},null,-1),iX=[rX];function sX(t,e,n,r,i,s){return j(),J("svg",de({width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t.pti()),iX,16)}v0.render=sX;var y0={name:"SearchIcon",extends:Ma},oX=Ce("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M2.67602 11.0265C3.6661 11.688 4.83011 12.0411 6.02086 12.0411C6.81149 12.0411 7.59438 11.8854 8.32483 11.5828C8.87005 11.357 9.37808 11.0526 9.83317 10.6803L12.9769 13.8241C13.0323 13.8801 13.0983 13.9245 13.171 13.9548C13.2438 13.985 13.3219 14.0003 13.4007 14C13.4795 14.0003 13.5575 13.985 13.6303 13.9548C13.7031 13.9245 13.7691 13.8801 13.8244 13.8241C13.9367 13.7116 13.9998 13.5592 13.9998 13.4003C13.9998 13.2414 13.9367 13.089 13.8244 12.9765L10.6807 9.8328C11.053 9.37773 11.3573 8.86972 11.5831 8.32452C11.8857 7.59408 12.0414 6.81119 12.0414 6.02056C12.0414 4.8298 11.6883 3.66579 11.0268 2.67572C10.3652 1.68564 9.42494 0.913972 8.32483 0.45829C7.22472 0.00260857 6.01418 -0.116618 4.84631 0.115686C3.67844 0.34799 2.60568 0.921393 1.76369 1.76338C0.921698 2.60537 0.348296 3.67813 0.115991 4.84601C-0.116313 6.01388 0.00291375 7.22441 0.458595 8.32452C0.914277 9.42464 1.68595 10.3649 2.67602 11.0265ZM3.35565 2.0158C4.14456 1.48867 5.07206 1.20731 6.02086 1.20731C7.29317 1.20731 8.51338 1.71274 9.41304 2.6124C10.3127 3.51206 10.8181 4.73226 10.8181 6.00457C10.8181 6.95337 10.5368 7.88088 10.0096 8.66978C9.48251 9.45868 8.73328 10.0736 7.85669 10.4367C6.98011 10.7997 6.01554 10.8947 5.08496 10.7096C4.15439 10.5245 3.2996 10.0676 2.62869 9.39674C1.95778 8.72583 1.50089 7.87104 1.31579 6.94046C1.13068 6.00989 1.22568 5.04532 1.58878 4.16874C1.95187 3.29215 2.56675 2.54292 3.35565 2.0158Z",fill:"currentColor"},null,-1),aX=[oX];function lX(t,e,n,r,i,s){return j(),J("svg",de({width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t.pti()),aX,16)}y0.render=lX;var bm={name:"SpinnerIcon",extends:Ma},uX=Ce("path",{d:"M6.99701 14C5.85441 13.999 4.72939 13.7186 3.72012 13.1832C2.71084 12.6478 1.84795 11.8737 1.20673 10.9284C0.565504 9.98305 0.165424 8.89526 0.041387 7.75989C-0.0826496 6.62453 0.073125 5.47607 0.495122 4.4147C0.917119 3.35333 1.59252 2.4113 2.46241 1.67077C3.33229 0.930247 4.37024 0.413729 5.4857 0.166275C6.60117 -0.0811796 7.76026 -0.0520535 8.86188 0.251112C9.9635 0.554278 10.9742 1.12227 11.8057 1.90555C11.915 2.01493 11.9764 2.16319 11.9764 2.31778C11.9764 2.47236 11.915 2.62062 11.8057 2.73C11.7521 2.78503 11.688 2.82877 11.6171 2.85864C11.5463 2.8885 11.4702 2.90389 11.3933 2.90389C11.3165 2.90389 11.2404 2.8885 11.1695 2.85864C11.0987 2.82877 11.0346 2.78503 10.9809 2.73C9.9998 1.81273 8.73246 1.26138 7.39226 1.16876C6.05206 1.07615 4.72086 1.44794 3.62279 2.22152C2.52471 2.99511 1.72683 4.12325 1.36345 5.41602C1.00008 6.70879 1.09342 8.08723 1.62775 9.31926C2.16209 10.5513 3.10478 11.5617 4.29713 12.1803C5.48947 12.7989 6.85865 12.988 8.17414 12.7157C9.48963 12.4435 10.6711 11.7264 11.5196 10.6854C12.3681 9.64432 12.8319 8.34282 12.8328 7C12.8328 6.84529 12.8943 6.69692 13.0038 6.58752C13.1132 6.47812 13.2616 6.41667 13.4164 6.41667C13.5712 6.41667 13.7196 6.47812 13.8291 6.58752C13.9385 6.69692 14 6.84529 14 7C14 8.85651 13.2622 10.637 11.9489 11.9497C10.6356 13.2625 8.85432 14 6.99701 14Z",fill:"currentColor"},null,-1),cX=[uX];function dX(t,e,n,r,i,s){return j(),J("svg",de({width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t.pti()),cX,16)}bm.render=dX;var _0={name:"TimesIcon",extends:Ma},hX=Ce("path",{d:"M8.01186 7.00933L12.27 2.75116C12.341 2.68501 12.398 2.60524 12.4375 2.51661C12.4769 2.42798 12.4982 2.3323 12.4999 2.23529C12.5016 2.13827 12.4838 2.0419 12.4474 1.95194C12.4111 1.86197 12.357 1.78024 12.2884 1.71163C12.2198 1.64302 12.138 1.58893 12.0481 1.55259C11.9581 1.51625 11.8617 1.4984 11.7647 1.50011C11.6677 1.50182 11.572 1.52306 11.4834 1.56255C11.3948 1.60204 11.315 1.65898 11.2488 1.72997L6.99067 5.98814L2.7325 1.72997C2.59553 1.60234 2.41437 1.53286 2.22718 1.53616C2.03999 1.53946 1.8614 1.61529 1.72901 1.74767C1.59663 1.88006 1.5208 2.05865 1.5175 2.24584C1.5142 2.43303 1.58368 2.61419 1.71131 2.75116L5.96948 7.00933L1.71131 11.2675C1.576 11.403 1.5 11.5866 1.5 11.7781C1.5 11.9696 1.576 12.1532 1.71131 12.2887C1.84679 12.424 2.03043 12.5 2.2219 12.5C2.41338 12.5 2.59702 12.424 2.7325 12.2887L6.99067 8.03052L11.2488 12.2887C11.3843 12.424 11.568 12.5 11.7594 12.5C11.9509 12.5 12.1346 12.424 12.27 12.2887C12.4053 12.1532 12.4813 11.9696 12.4813 11.7781C12.4813 11.5866 12.4053 11.403 12.27 11.2675L8.01186 7.00933Z",fill:"currentColor"},null,-1),fX=[hX];function pX(t,e,n,r,i,s){return j(),J("svg",de({width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t.pti()),fX,16)}_0.render=pX;var Vx=tQ(),b0={name:"Portal",props:{appendTo:{type:[String,Object],default:"body"},disabled:{type:Boolean,default:!1}},data:function(){return{mounted:!1}},mounted:function(){this.mounted=De.isClient()},computed:{inline:function(){return this.disabled||this.appendTo==="self"}}};function mX(t,e,n,r,i,s){return s.inline?ve(t.$slots,"default",{key:0}):i.mounted?(j(),qe(wC,{key:1,to:n.appendTo},[ve(t.$slots,"default")],8,["to"])):ue("",!0)}b0.render=mX;function fd(t){"@babel/helpers - typeof";return fd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fd(t)}function WI(t,e){return _X(t)||yX(t,e)||vX(t,e)||gX()}function gX(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vX(t,e){if(t){if(typeof t=="string")return qI(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return qI(t,e)}}function qI(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function yX(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,a=[],l=!0,u=!1;try{if(s=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=s.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return a}}function _X(t){if(Array.isArray(t))return t}function zI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function hn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?zI(Object(n),!0).forEach(function(r){Py(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):zI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Py(t,e,n){return e=bX(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function bX(t){var e=wX(t,"string");return fd(e)=="symbol"?e:String(e)}function wX(t,e){if(fd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(fd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ct={_getMeta:function(){return[_e.isObject(arguments.length<=0?void 0:arguments[0])||arguments.length<=0?void 0:arguments[0],_e.getItemValue(_e.isObject(arguments.length<=0?void 0:arguments[0])?arguments.length<=0?void 0:arguments[0]:arguments.length<=1?void 0:arguments[1])]},_getConfig:function(e,n){var r,i,s;return(r=(e==null||(i=e.instance)===null||i===void 0?void 0:i.$primevue)||(n==null||(s=n.ctx)===null||s===void 0||(s=s.appContext)===null||s===void 0||(s=s.config)===null||s===void 0||(s=s.globalProperties)===null||s===void 0?void 0:s.$primevue))===null||r===void 0?void 0:r.config},_getOptionValue:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=_e.toFlatCase(n).split("."),s=i.shift();return s?_e.isObject(e)?Ct._getOptionValue(_e.getItemValue(e[Object.keys(e).find(function(o){return _e.toFlatCase(o)===s})||""],r),i.join("."),r):void 0:_e.getItemValue(e,r)},_getPTValue:function(){var e,n,r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"",o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,l=function(){var P=Ct._getOptionValue.apply(Ct,arguments);return _e.isString(P)||_e.isArray(P)?{class:P}:P},u=((e=r.binding)===null||e===void 0||(e=e.value)===null||e===void 0?void 0:e.ptOptions)||((n=r.$primevueConfig)===null||n===void 0?void 0:n.ptOptions)||{},c=u.mergeSections,h=c===void 0?!0:c,f=u.mergeProps,p=f===void 0?!1:f,g=a?Ct._useDefaultPT(r,r.defaultPT(),l,s,o):void 0,b=Ct._usePT(r,Ct._getPT(i,r.$name),l,s,hn(hn({},o),{},{global:g||{}})),S=Ct._getPTDatasets(r,s);return h||!h&&b?p?Ct._mergeProps(r,p,g,b,S):hn(hn(hn({},g),b),S):hn(hn({},b),S)},_getPTDatasets:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",r="data-pc-";return hn(hn({},n==="root"&&Py({},"".concat(r,"name"),_e.toFlatCase(e.$name))),{},Py({},"".concat(r,"section"),_e.toFlatCase(n)))},_getPT:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",r=arguments.length>2?arguments[2]:void 0,i=function(o){var a,l=r?r(o):o,u=_e.toFlatCase(n);return(a=l==null?void 0:l[u])!==null&&a!==void 0?a:l};return e!=null&&e.hasOwnProperty("_usept")?{_usept:e._usept,originalValue:i(e.originalValue),value:i(e.value)}:i(e)},_usePT:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0,r=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,s=arguments.length>4?arguments[4]:void 0,o=function(S){return r(S,i,s)};if(n!=null&&n.hasOwnProperty("_usept")){var a,l=n._usept||((a=e.$primevueConfig)===null||a===void 0?void 0:a.ptOptions)||{},u=l.mergeSections,c=u===void 0?!0:u,h=l.mergeProps,f=h===void 0?!1:h,p=o(n.originalValue),g=o(n.value);return p===void 0&&g===void 0?void 0:_e.isString(g)?g:_e.isString(p)?p:c||!c&&g?f?Ct._mergeProps(e,f,p,g):hn(hn({},p),g):g}return o(n)},_useDefaultPT:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,s=arguments.length>4?arguments[4]:void 0;return Ct._usePT(e,n,r,i,s)},_hook:function(e,n,r,i,s,o){var a,l,u="on".concat(_e.toCapitalCase(n)),c=Ct._getConfig(i,s),h=r==null?void 0:r.$instance,f=Ct._usePT(h,Ct._getPT(i==null||(a=i.value)===null||a===void 0?void 0:a.pt,e),Ct._getOptionValue,"hooks.".concat(u)),p=Ct._useDefaultPT(h,c==null||(l=c.pt)===null||l===void 0||(l=l.directives)===null||l===void 0?void 0:l[e],Ct._getOptionValue,"hooks.".concat(u)),g={el:r,binding:i,vnode:s,prevVnode:o};f==null||f(h,g),p==null||p(h,g)},_mergeProps:function(){for(var e=arguments.length>1?arguments[1]:void 0,n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];return _e.isFunction(e)?e.apply(void 0,r):de.apply(void 0,r)},_extend:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=function(s,o,a,l,u){var c,h;o._$instances=o._$instances||{};var f=Ct._getConfig(a,l),p=o._$instances[e]||{},g=_e.isEmpty(p)?hn(hn({},n),n==null?void 0:n.methods):{};o._$instances[e]=hn(hn({},p),{},{$name:e,$host:o,$binding:a,$modifiers:a==null?void 0:a.modifiers,$value:a==null?void 0:a.value,$el:p.$el||o||void 0,$style:hn({classes:void 0,inlineStyles:void 0,loadStyle:function(){}},n==null?void 0:n.style),$primevueConfig:f,defaultPT:function(){return Ct._getPT(f==null?void 0:f.pt,void 0,function(S){var R;return S==null||(R=S.directives)===null||R===void 0?void 0:R[e]})},isUnstyled:function(){var S,R;return((S=o.$instance)===null||S===void 0||(S=S.$binding)===null||S===void 0||(S=S.value)===null||S===void 0?void 0:S.unstyled)!==void 0?(R=o.$instance)===null||R===void 0||(R=R.$binding)===null||R===void 0||(R=R.value)===null||R===void 0?void 0:R.unstyled:f==null?void 0:f.unstyled},ptm:function(){var S,R=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",P=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Ct._getPTValue(o.$instance,(S=o.$instance)===null||S===void 0||(S=S.$binding)===null||S===void 0||(S=S.value)===null||S===void 0?void 0:S.pt,R,hn({},P))},ptmo:function(){var S=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",P=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return Ct._getPTValue(o.$instance,S,R,P,!1)},cx:function(){var S,R,P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return(S=o.$instance)!==null&&S!==void 0&&S.isUnstyled()?void 0:Ct._getOptionValue((R=o.$instance)===null||R===void 0||(R=R.$style)===null||R===void 0?void 0:R.classes,P,hn({},w))},sx:function(){var S,R=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",P=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,w=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return P?Ct._getOptionValue((S=o.$instance)===null||S===void 0||(S=S.$style)===null||S===void 0?void 0:S.inlineStyles,R,hn({},w)):void 0}},g),o.$instance=o._$instances[e],(c=(h=o.$instance)[s])===null||c===void 0||c.call(h,o,a,l,u),o["$".concat(e)]=o.$instance,Ct._hook(e,s,o,a,l,u)};return{created:function(s,o,a,l){r("created",s,o,a,l)},beforeMount:function(s,o,a,l){var u,c,h,f,p=Ct._getConfig(o,a);ci.loadStyle({nonce:p==null||(u=p.csp)===null||u===void 0?void 0:u.nonce}),!((c=s.$instance)!==null&&c!==void 0&&c.isUnstyled())&&((h=s.$instance)===null||h===void 0||(h=h.$style)===null||h===void 0||h.loadStyle({nonce:p==null||(f=p.csp)===null||f===void 0?void 0:f.nonce})),r("beforeMount",s,o,a,l)},mounted:function(s,o,a,l){var u,c,h,f,p=Ct._getConfig(o,a);ci.loadStyle({nonce:p==null||(u=p.csp)===null||u===void 0?void 0:u.nonce}),!((c=s.$instance)!==null&&c!==void 0&&c.isUnstyled())&&((h=s.$instance)===null||h===void 0||(h=h.$style)===null||h===void 0||h.loadStyle({nonce:p==null||(f=p.csp)===null||f===void 0?void 0:f.nonce})),r("mounted",s,o,a,l)},beforeUpdate:function(s,o,a,l){r("beforeUpdate",s,o,a,l)},updated:function(s,o,a,l){r("updated",s,o,a,l)},beforeUnmount:function(s,o,a,l){r("beforeUnmount",s,o,a,l)},unmounted:function(s,o,a,l){r("unmounted",s,o,a,l)}}},extend:function(){var e=Ct._getMeta.apply(Ct,arguments),n=WI(e,2),r=n[0],i=n[1];return hn({extend:function(){var o=Ct._getMeta.apply(Ct,arguments),a=WI(o,2),l=a[0],u=a[1];return Ct.extend(l,hn(hn(hn({},i),i==null?void 0:i.methods),u))}},Ct._extend(r,i))}},TX={root:"p-ink"},EX=ci.extend({name:"ripple",classes:TX}),IX=Ct.extend({style:EX});function SX(t){return PX(t)||OX(t)||AX(t)||CX()}function CX(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function AX(t,e){if(t){if(typeof t=="string")return ky(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ky(t,e)}}function OX(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function PX(t){if(Array.isArray(t))return ky(t)}function ky(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Fx=IX.extend("ripple",{mounted:function(e){var n,r=e==null||(n=e.$instance)===null||n===void 0?void 0:n.$primevueConfig;r&&r.ripple&&(this.create(e),this.bindEvents(e),e.setAttribute("data-pd-ripple",!0))},unmounted:function(e){this.remove(e)},timeout:void 0,methods:{bindEvents:function(e){e.addEventListener("mousedown",this.onMouseDown.bind(this))},unbindEvents:function(e){e.removeEventListener("mousedown",this.onMouseDown.bind(this))},create:function(e){var n=De.createElement("span",{role:"presentation","aria-hidden":!0,"data-p-ink":!0,"data-p-ink-active":!1,class:!this.isUnstyled()&&this.cx("root"),onAnimationEnd:this.onAnimationEnd.bind(this),"p-bind":this.ptm("root")});e.appendChild(n),this.$el=n},remove:function(e){var n=this.getInk(e);n&&(this.unbindEvents(e),n.removeEventListener("animationend",this.onAnimationEnd),n.remove())},onMouseDown:function(e){var n=this,r=e.currentTarget,i=this.getInk(r);if(!(!i||getComputedStyle(i,null).display==="none")){if(!this.isUnstyled()&&De.removeClass(i,"p-ink-active"),i.setAttribute("data-p-ink-active","false"),!De.getHeight(i)&&!De.getWidth(i)){var s=Math.max(De.getOuterWidth(r),De.getOuterHeight(r));i.style.height=s+"px",i.style.width=s+"px"}var o=De.getOffset(r),a=e.pageX-o.left+document.body.scrollTop-De.getWidth(i)/2,l=e.pageY-o.top+document.body.scrollLeft-De.getHeight(i)/2;i.style.top=l+"px",i.style.left=a+"px",!this.isUnstyled()&&De.addClass(i,"p-ink-active"),i.setAttribute("data-p-ink-active","true"),this.timeout=setTimeout(function(){i&&(!n.isUnstyled()&&De.removeClass(i,"p-ink-active"),i.setAttribute("data-p-ink-active","false"))},401)}},onAnimationEnd:function(e){this.timeout&&clearTimeout(this.timeout),!this.isUnstyled()&&De.removeClass(e.currentTarget,"p-ink-active"),e.currentTarget.setAttribute("data-p-ink-active","false")},getInk:function(e){return e&&e.children?SX(e.children).find(function(n){return De.getAttribute(n,"data-pc-name")==="ripple"}):void 0}}}),kX=`
@layer primevue {
    .p-virtualscroller {
        position: relative;
        overflow: auto;
        contain: strict;
        transform: translateZ(0);
        will-change: scroll-position;
        outline: 0 none;
    }

    .p-virtualscroller-content {
        position: absolute;
        top: 0;
        left: 0;
        /* contain: content; */
        min-height: 100%;
        min-width: 100%;
        will-change: transform;
    }

    .p-virtualscroller-spacer {
        position: absolute;
        top: 0;
        left: 0;
        height: 1px;
        width: 1px;
        transform-origin: 0 0;
        pointer-events: none;
    }

    .p-virtualscroller .p-virtualscroller-loader {
        position: sticky;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
    }

    .p-virtualscroller-loader.p-component-overlay {
        display: flex;
        align-items: center;
        justify-content: center;
    }

    .p-virtualscroller-loading-icon {
        font-size: 2rem;
    }

    .p-virtualscroller-loading-icon.p-icon {
        width: 2rem;
        height: 2rem;
    }

    .p-virtualscroller-horizontal > .p-virtualscroller-content {
        display: flex;
    }

    /* Inline */
    .p-virtualscroller-inline .p-virtualscroller-content {
        position: static;
    }
}
`,KI=ci.extend({name:"virtualscroller",css:kX}),RX={name:"BaseVirtualScroller",extends:Na,props:{id:{type:String,default:null},style:null,class:null,items:{type:Array,default:null},itemSize:{type:[Number,Array],default:0},scrollHeight:null,scrollWidth:null,orientation:{type:String,default:"vertical"},numToleratedItems:{type:Number,default:null},delay:{type:Number,default:0},resizeDelay:{type:Number,default:10},lazy:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},loaderDisabled:{type:Boolean,default:!1},columns:{type:Array,default:null},loading:{type:Boolean,default:!1},showSpacer:{type:Boolean,default:!0},showLoader:{type:Boolean,default:!1},tabindex:{type:Number,default:0},inline:{type:Boolean,default:!1},step:{type:Number,default:0},appendOnly:{type:Boolean,default:!1},autoSize:{type:Boolean,default:!1}},style:KI,provide:function(){return{$parentInstance:this}},beforeMount:function(){var e;KI.loadStyle({nonce:(e=this.$primevueConfig)===null||e===void 0||(e=e.csp)===null||e===void 0?void 0:e.nonce})}};function pd(t){"@babel/helpers - typeof";return pd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pd(t)}function YI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Hu(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?YI(Object(n),!0).forEach(function(r){$x(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):YI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function $x(t,e,n){return e=DX(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function DX(t){var e=xX(t,"string");return pd(e)=="symbol"?e:String(e)}function xX(t,e){if(pd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(pd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var w0={name:"VirtualScroller",extends:RX,inheritAttrs:!1,emits:["update:numToleratedItems","scroll","scroll-index-change","lazy-load"],data:function(){var e=this.isBoth();return{first:e?{rows:0,cols:0}:0,last:e?{rows:0,cols:0}:0,page:e?{rows:0,cols:0}:0,numItemsInViewport:e?{rows:0,cols:0}:0,lastScrollPos:e?{top:0,left:0}:0,d_numToleratedItems:this.numToleratedItems,d_loading:this.loading,loaderArr:[],spacerStyle:{},contentStyle:{}}},element:null,content:null,lastScrollPos:null,scrollTimeout:null,resizeTimeout:null,defaultWidth:0,defaultHeight:0,defaultContentWidth:0,defaultContentHeight:0,isRangeChanged:!1,lazyLoadState:{},resizeListener:null,initialized:!1,watch:{numToleratedItems:function(e){this.d_numToleratedItems=e},loading:function(e,n){this.lazy&&e!==n&&e!==this.d_loading&&(this.d_loading=e)},items:function(e,n){(!n||n.length!==(e||[]).length)&&(this.init(),this.calculateAutoSize())},itemSize:function(){this.init(),this.calculateAutoSize()},orientation:function(){this.lastScrollPos=this.isBoth()?{top:0,left:0}:0},scrollHeight:function(){this.init(),this.calculateAutoSize()},scrollWidth:function(){this.init(),this.calculateAutoSize()}},mounted:function(){this.viewInit(),this.lastScrollPos=this.isBoth()?{top:0,left:0}:0,this.lazyLoadState=this.lazyLoadState||{}},updated:function(){!this.initialized&&this.viewInit()},unmounted:function(){this.unbindResizeListener(),this.initialized=!1},methods:{viewInit:function(){De.isVisible(this.element)&&(this.setContentEl(this.content),this.init(),this.calculateAutoSize(),this.bindResizeListener(),this.defaultWidth=De.getWidth(this.element),this.defaultHeight=De.getHeight(this.element),this.defaultContentWidth=De.getWidth(this.content),this.defaultContentHeight=De.getHeight(this.content),this.initialized=!0)},init:function(){this.disabled||(this.setSize(),this.calculateOptions(),this.setSpacerSize())},isVertical:function(){return this.orientation==="vertical"},isHorizontal:function(){return this.orientation==="horizontal"},isBoth:function(){return this.orientation==="both"},scrollTo:function(e){this.element&&this.element.scrollTo(e)},scrollToIndex:function(e){var n=this,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"auto",i=this.isBoth(),s=this.isHorizontal(),o=i?e.every(function(I){return I>-1}):e>-1;if(o){var a=this.first,l=this.element,u=l.scrollTop,c=u===void 0?0:u,h=l.scrollLeft,f=h===void 0?0:h,p=this.calculateNumItems(),g=p.numToleratedItems,b=this.getContentPosition(),S=this.itemSize,R=function(){var T=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,_=arguments.length>1?arguments[1]:void 0;return T<=_?0:T},P=function(T,_,v){return T*_+v},w=function(){var T=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,_=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return n.scrollTo({left:T,top:_,behavior:r})},E=i?{rows:0,cols:0}:0,N=!1,M=!1;i?(E={rows:R(e[0],g[0]),cols:R(e[1],g[1])},w(P(E.cols,S[1],b.left),P(E.rows,S[0],b.top)),M=this.lastScrollPos.top!==c||this.lastScrollPos.left!==f,N=E.rows!==a.rows||E.cols!==a.cols):(E=R(e,g),s?w(P(E,S,b.left),c):w(f,P(E,S,b.top)),M=this.lastScrollPos!==(s?f:c),N=E!==a),this.isRangeChanged=N,M&&(this.first=E)}},scrollInView:function(e,n){var r=this,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"auto";if(n){var s=this.isBoth(),o=this.isHorizontal(),a=s?e.every(function(S){return S>-1}):e>-1;if(a){var l=this.getRenderedRange(),u=l.first,c=l.viewport,h=function(){var R=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,P=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return r.scrollTo({left:R,top:P,behavior:i})},f=n==="to-start",p=n==="to-end";if(f){if(s)c.first.rows-u.rows>e[0]?h(c.first.cols*this.itemSize[1],(c.first.rows-1)*this.itemSize[0]):c.first.cols-u.cols>e[1]&&h((c.first.cols-1)*this.itemSize[1],c.first.rows*this.itemSize[0]);else if(c.first-u>e){var g=(c.first-1)*this.itemSize;o?h(g,0):h(0,g)}}else if(p){if(s)c.last.rows-u.rows<=e[0]+1?h(c.first.cols*this.itemSize[1],(c.first.rows+1)*this.itemSize[0]):c.last.cols-u.cols<=e[1]+1&&h((c.first.cols+1)*this.itemSize[1],c.first.rows*this.itemSize[0]);else if(c.last-u<=e+1){var b=(c.first+1)*this.itemSize;o?h(b,0):h(0,b)}}}}else this.scrollToIndex(e,i)},getRenderedRange:function(){var e=function(h,f){return Math.floor(h/(f||h))},n=this.first,r=0;if(this.element){var i=this.isBoth(),s=this.isHorizontal(),o=this.element,a=o.scrollTop,l=o.scrollLeft;if(i)n={rows:e(a,this.itemSize[0]),cols:e(l,this.itemSize[1])},r={rows:n.rows+this.numItemsInViewport.rows,cols:n.cols+this.numItemsInViewport.cols};else{var u=s?l:a;n=e(u,this.itemSize),r=n+this.numItemsInViewport}}return{first:this.first,last:this.last,viewport:{first:n,last:r}}},calculateNumItems:function(){var e=this.isBoth(),n=this.isHorizontal(),r=this.itemSize,i=this.getContentPosition(),s=this.element?this.element.offsetWidth-i.left:0,o=this.element?this.element.offsetHeight-i.top:0,a=function(f,p){return Math.ceil(f/(p||f))},l=function(f){return Math.ceil(f/2)},u=e?{rows:a(o,r[0]),cols:a(s,r[1])}:a(n?s:o,r),c=this.d_numToleratedItems||(e?[l(u.rows),l(u.cols)]:l(u));return{numItemsInViewport:u,numToleratedItems:c}},calculateOptions:function(){var e=this,n=this.isBoth(),r=this.first,i=this.calculateNumItems(),s=i.numItemsInViewport,o=i.numToleratedItems,a=function(c,h,f){var p=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;return e.getLast(c+h+(c<f?2:3)*f,p)},l=n?{rows:a(r.rows,s.rows,o[0]),cols:a(r.cols,s.cols,o[1],!0)}:a(r,s,o);this.last=l,this.numItemsInViewport=s,this.d_numToleratedItems=o,this.$emit("update:numToleratedItems",this.d_numToleratedItems),this.showLoader&&(this.loaderArr=n?Array.from({length:s.rows}).map(function(){return Array.from({length:s.cols})}):Array.from({length:s})),this.lazy&&Promise.resolve().then(function(){var u;e.lazyLoadState={first:e.step?n?{rows:0,cols:r.cols}:0:r,last:Math.min(e.step?e.step:l,((u=e.items)===null||u===void 0?void 0:u.length)||0)},e.$emit("lazy-load",e.lazyLoadState)})},calculateAutoSize:function(){var e=this;this.autoSize&&!this.d_loading&&Promise.resolve().then(function(){if(e.content){var n=e.isBoth(),r=e.isHorizontal(),i=e.isVertical();e.content.style.minHeight=e.content.style.minWidth="auto",e.content.style.position="relative",e.element.style.contain="none";var s=[De.getWidth(e.element),De.getHeight(e.element)],o=s[0],a=s[1];(n||r)&&(e.element.style.width=o<e.defaultWidth?o+"px":e.scrollWidth||e.defaultWidth+"px"),(n||i)&&(e.element.style.height=a<e.defaultHeight?a+"px":e.scrollHeight||e.defaultHeight+"px"),e.content.style.minHeight=e.content.style.minWidth="",e.content.style.position="",e.element.style.contain=""}})},getLast:function(){var e,n,r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,i=arguments.length>1?arguments[1]:void 0;return this.items?Math.min(i?((e=this.columns||this.items[0])===null||e===void 0?void 0:e.length)||0:((n=this.items)===null||n===void 0?void 0:n.length)||0,r):0},getContentPosition:function(){if(this.content){var e=getComputedStyle(this.content),n=parseFloat(e.paddingLeft)+Math.max(parseFloat(e.left)||0,0),r=parseFloat(e.paddingRight)+Math.max(parseFloat(e.right)||0,0),i=parseFloat(e.paddingTop)+Math.max(parseFloat(e.top)||0,0),s=parseFloat(e.paddingBottom)+Math.max(parseFloat(e.bottom)||0,0);return{left:n,right:r,top:i,bottom:s,x:n+r,y:i+s}}return{left:0,right:0,top:0,bottom:0,x:0,y:0}},setSize:function(){var e=this;if(this.element){var n=this.isBoth(),r=this.isHorizontal(),i=this.element.parentElement,s=this.scrollWidth||"".concat(this.element.offsetWidth||i.offsetWidth,"px"),o=this.scrollHeight||"".concat(this.element.offsetHeight||i.offsetHeight,"px"),a=function(u,c){return e.element.style[u]=c};n||r?(a("height",o),a("width",s)):a("height",o)}},setSpacerSize:function(){var e=this,n=this.items;if(n){var r=this.isBoth(),i=this.isHorizontal(),s=this.getContentPosition(),o=function(l,u,c){var h=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;return e.spacerStyle=Hu(Hu({},e.spacerStyle),$x({},"".concat(l),(u||[]).length*c+h+"px"))};r?(o("height",n,this.itemSize[0],s.y),o("width",this.columns||n[1],this.itemSize[1],s.x)):i?o("width",this.columns||n,this.itemSize,s.x):o("height",n,this.itemSize,s.y)}},setContentPosition:function(e){var n=this;if(this.content&&!this.appendOnly){var r=this.isBoth(),i=this.isHorizontal(),s=e?e.first:this.first,o=function(c,h){return c*h},a=function(){var c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return n.contentStyle=Hu(Hu({},n.contentStyle),{transform:"translate3d(".concat(c,"px, ").concat(h,"px, 0)")})};if(r)a(o(s.cols,this.itemSize[1]),o(s.rows,this.itemSize[0]));else{var l=o(s,this.itemSize);i?a(l,0):a(0,l)}}},onScrollPositionChange:function(e){var n=this,r=e.target,i=this.isBoth(),s=this.isHorizontal(),o=this.getContentPosition(),a=function(C,A){return C?C>A?C-A:C:0},l=function(C,A){return Math.floor(C/(A||C))},u=function(C,A,O,z,F,U){return C<=F?F:U?O-z-F:A+F-1},c=function(C,A,O,z,F,U,H){return C<=U?0:Math.max(0,H?C<A?O:C-U:C>A?O:C-2*U)},h=function(C,A,O,z,F,U){var H=A+z+2*F;return C>=F&&(H+=F+1),n.getLast(H,U)},f=a(r.scrollTop,o.top),p=a(r.scrollLeft,o.left),g=i?{rows:0,cols:0}:0,b=this.last,S=!1,R=this.lastScrollPos;if(i){var P=this.lastScrollPos.top<=f,w=this.lastScrollPos.left<=p;if(!this.appendOnly||this.appendOnly&&(P||w)){var E={rows:l(f,this.itemSize[0]),cols:l(p,this.itemSize[1])},N={rows:u(E.rows,this.first.rows,this.last.rows,this.numItemsInViewport.rows,this.d_numToleratedItems[0],P),cols:u(E.cols,this.first.cols,this.last.cols,this.numItemsInViewport.cols,this.d_numToleratedItems[1],w)};g={rows:c(E.rows,N.rows,this.first.rows,this.last.rows,this.numItemsInViewport.rows,this.d_numToleratedItems[0],P),cols:c(E.cols,N.cols,this.first.cols,this.last.cols,this.numItemsInViewport.cols,this.d_numToleratedItems[1],w)},b={rows:h(E.rows,g.rows,this.last.rows,this.numItemsInViewport.rows,this.d_numToleratedItems[0]),cols:h(E.cols,g.cols,this.last.cols,this.numItemsInViewport.cols,this.d_numToleratedItems[1],!0)},S=g.rows!==this.first.rows||b.rows!==this.last.rows||g.cols!==this.first.cols||b.cols!==this.last.cols||this.isRangeChanged,R={top:f,left:p}}}else{var M=s?p:f,I=this.lastScrollPos<=M;if(!this.appendOnly||this.appendOnly&&I){var T=l(M,this.itemSize),_=u(T,this.first,this.last,this.numItemsInViewport,this.d_numToleratedItems,I);g=c(T,_,this.first,this.last,this.numItemsInViewport,this.d_numToleratedItems,I),b=h(T,g,this.last,this.numItemsInViewport,this.d_numToleratedItems),S=g!==this.first||b!==this.last||this.isRangeChanged,R=M}}return{first:g,last:b,isRangeChanged:S,scrollPos:R}},onScrollChange:function(e){var n=this.onScrollPositionChange(e),r=n.first,i=n.last,s=n.isRangeChanged,o=n.scrollPos;if(s){var a={first:r,last:i};if(this.setContentPosition(a),this.first=r,this.last=i,this.lastScrollPos=o,this.$emit("scroll-index-change",a),this.lazy&&this.isPageChanged(r)){var l,u,c={first:this.step?Math.min(this.getPageByFirst(r)*this.step,(((l=this.items)===null||l===void 0?void 0:l.length)||0)-this.step):r,last:Math.min(this.step?(this.getPageByFirst(r)+1)*this.step:i,((u=this.items)===null||u===void 0?void 0:u.length)||0)},h=this.lazyLoadState.first!==c.first||this.lazyLoadState.last!==c.last;h&&this.$emit("lazy-load",c),this.lazyLoadState=c}}},onScroll:function(e){var n=this;if(this.$emit("scroll",e),this.delay){if(this.scrollTimeout&&clearTimeout(this.scrollTimeout),this.isPageChanged()){if(!this.d_loading&&this.showLoader){var r=this.onScrollPositionChange(e),i=r.isRangeChanged,s=i||(this.step?this.isPageChanged():!1);s&&(this.d_loading=!0)}this.scrollTimeout=setTimeout(function(){n.onScrollChange(e),n.d_loading&&n.showLoader&&(!n.lazy||n.loading===void 0)&&(n.d_loading=!1,n.page=n.getPageByFirst())},this.delay)}}else this.onScrollChange(e)},onResize:function(){var e=this;this.resizeTimeout&&clearTimeout(this.resizeTimeout),this.resizeTimeout=setTimeout(function(){if(De.isVisible(e.element)){var n=e.isBoth(),r=e.isVertical(),i=e.isHorizontal(),s=[De.getWidth(e.element),De.getHeight(e.element)],o=s[0],a=s[1],l=o!==e.defaultWidth,u=a!==e.defaultHeight,c=n?l||u:i?l:r?u:!1;c&&(e.d_numToleratedItems=e.numToleratedItems,e.defaultWidth=o,e.defaultHeight=a,e.defaultContentWidth=De.getWidth(e.content),e.defaultContentHeight=De.getHeight(e.content),e.init())}},this.resizeDelay)},bindResizeListener:function(){this.resizeListener||(this.resizeListener=this.onResize.bind(this),window.addEventListener("resize",this.resizeListener),window.addEventListener("orientationchange",this.resizeListener))},unbindResizeListener:function(){this.resizeListener&&(window.removeEventListener("resize",this.resizeListener),window.removeEventListener("orientationchange",this.resizeListener),this.resizeListener=null)},getOptions:function(e){var n=(this.items||[]).length,r=this.isBoth()?this.first.rows+e:this.first+e;return{index:r,count:n,first:r===0,last:r===n-1,even:r%2===0,odd:r%2!==0}},getLoaderOptions:function(e,n){var r=this.loaderArr.length;return Hu({index:e,count:r,first:e===0,last:e===r-1,even:e%2===0,odd:e%2!==0},n)},getPageByFirst:function(e){return Math.floor(((e??this.first)+this.d_numToleratedItems*4)/(this.step||1))},isPageChanged:function(e){return this.step?this.page!==this.getPageByFirst(e??this.first):!0},setContentEl:function(e){this.content=e||this.content||De.findSingle(this.element,'[data-pc-section="content"]')},elementRef:function(e){this.element=e},contentRef:function(e){this.content=e}},computed:{containerClass:function(){return["p-virtualscroller",this.class,{"p-virtualscroller-inline":this.inline,"p-virtualscroller-both p-both-scroll":this.isBoth(),"p-virtualscroller-horizontal p-horizontal-scroll":this.isHorizontal()}]},contentClass:function(){return["p-virtualscroller-content",{"p-virtualscroller-loading":this.d_loading}]},loaderClass:function(){return["p-virtualscroller-loader",{"p-component-overlay":!this.$slots.loader}]},loadedItems:function(){var e=this;return this.items&&!this.d_loading?this.isBoth()?this.items.slice(this.appendOnly?0:this.first.rows,this.last.rows).map(function(n){return e.columns?n:n.slice(e.appendOnly?0:e.first.cols,e.last.cols)}):this.isHorizontal()&&this.columns?this.items:this.items.slice(this.appendOnly?0:this.first,this.last):[]},loadedRows:function(){return this.d_loading?this.loaderDisabled?this.loaderArr:[]:this.loadedItems},loadedColumns:function(){if(this.columns){var e=this.isBoth(),n=this.isHorizontal();if(e||n)return this.d_loading&&this.loaderDisabled?e?this.loaderArr[0]:this.loaderArr:this.columns.slice(e?this.first.cols:this.first,e?this.last.cols:this.last)}return this.columns}},components:{SpinnerIcon:bm}},NX=["tabindex"];function MX(t,e,n,r,i,s){var o=Wr("SpinnerIcon");return t.disabled?(j(),J(Ne,{key:1},[ve(t.$slots,"default"),ve(t.$slots,"content",{items:t.items,rows:t.items,columns:s.loadedColumns})],64)):(j(),J("div",de({key:0,ref:s.elementRef,class:s.containerClass,tabindex:t.tabindex,style:t.style,onScroll:e[0]||(e[0]=function(){return s.onScroll&&s.onScroll.apply(s,arguments)})},t.ptmi("root")),[ve(t.$slots,"content",{styleClass:s.contentClass,items:s.loadedItems,getItemOptions:s.getOptions,loading:i.d_loading,getLoaderOptions:s.getLoaderOptions,itemSize:t.itemSize,rows:s.loadedRows,columns:s.loadedColumns,contentRef:s.contentRef,spacerStyle:i.spacerStyle,contentStyle:i.contentStyle,vertical:s.isVertical(),horizontal:s.isHorizontal(),both:s.isBoth()},function(){return[Ce("div",de({ref:s.contentRef,class:s.contentClass,style:i.contentStyle},t.ptm("content")),[(j(!0),J(Ne,null,Ft(s.loadedItems,function(a,l){return ve(t.$slots,"item",{key:l,item:a,options:s.getOptions(l)})}),128))],16)]}),t.showSpacer?(j(),J("div",de({key:0,class:"p-virtualscroller-spacer",style:i.spacerStyle},t.ptm("spacer")),null,16)):ue("",!0),!t.loaderDisabled&&t.showLoader&&i.d_loading?(j(),J("div",de({key:1,class:s.loaderClass},t.ptm("loader")),[t.$slots&&t.$slots.loader?(j(!0),J(Ne,{key:0},Ft(i.loaderArr,function(a,l){return ve(t.$slots,"loader",{key:l,options:s.getLoaderOptions(l,s.isBoth()&&{numCols:t.d_numItemsInViewport.cols})})}),128)):ue("",!0),ve(t.$slots,"loadingicon",{},function(){return[et(o,de({spin:"",class:"p-virtualscroller-loading-icon"},t.ptm("loadingIcon")),null,16)]})],16)):ue("",!0)],16,NX))}w0.render=MX;var LX={root:function(e){var n=e.instance,r=e.props,i=e.state;return["p-dropdown p-component p-inputwrapper",{"p-disabled":r.disabled,"p-invalid":r.invalid,"p-variant-filled":r.variant?r.variant==="filled":n.$primevue.config.inputStyle==="filled","p-dropdown-clearable":r.showClear,"p-focus":i.focused,"p-inputwrapper-filled":n.hasSelectedOption,"p-inputwrapper-focus":i.focused||i.overlayVisible,"p-overlay-open":i.overlayVisible}]},input:function(e){var n,r=e.instance,i=e.props;return["p-dropdown-label p-inputtext",{"p-placeholder":!i.editable&&r.label===i.placeholder,"p-dropdown-label-empty":!i.editable&&!r.$slots.value&&(r.label==="p-emptylabel"||((n=r.label)===null||n===void 0?void 0:n.length)===0)}]},clearIcon:"p-dropdown-clear-icon",trigger:"p-dropdown-trigger",loadingicon:"p-dropdown-trigger-icon",dropdownIcon:"p-dropdown-trigger-icon",panel:function(e){e.props;var n=e.instance;return["p-dropdown-panel p-component",{"p-ripple-disabled":n.$primevue.config.ripple===!1}]},header:"p-dropdown-header",filterContainer:"p-dropdown-filter-container",filterInput:function(e){var n=e.props,r=e.instance;return["p-dropdown-filter p-inputtext p-component",{"p-variant-filled":n.variant?n.variant==="filled":r.$primevue.config.inputStyle==="filled"}]},filterIcon:"p-dropdown-filter-icon",wrapper:"p-dropdown-items-wrapper",list:"p-dropdown-items",itemGroup:"p-dropdown-item-group",itemGroupLabel:"p-dropdown-item-group-label",item:function(e){var n=e.instance,r=e.props,i=e.state,s=e.option,o=e.focusedOption;return["p-dropdown-item",{"p-highlight":n.isSelected(s)&&r.highlightOnSelect,"p-focus":i.focusedOptionIndex===o,"p-disabled":n.isOptionDisabled(s)}]},itemLabel:"p-dropdown-item-label",checkIcon:"p-dropdown-check-icon",blankIcon:"p-dropdown-blank-icon",emptyMessage:"p-dropdown-empty-message"},VX=ci.extend({name:"dropdown",classes:LX}),FX={name:"BaseDropdown",extends:Na,props:{modelValue:null,options:Array,optionLabel:[String,Function],optionValue:[String,Function],optionDisabled:[String,Function],optionGroupLabel:[String,Function],optionGroupChildren:[String,Function],scrollHeight:{type:String,default:"200px"},filter:Boolean,filterPlaceholder:String,filterLocale:String,filterMatchMode:{type:String,default:"contains"},filterFields:{type:Array,default:null},editable:Boolean,placeholder:{type:String,default:null},variant:{type:String,default:null},invalid:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},dataKey:null,showClear:{type:Boolean,default:!1},inputId:{type:String,default:null},inputClass:{type:[String,Object],default:null},inputStyle:{type:Object,default:null},inputProps:{type:null,default:null},panelClass:{type:[String,Object],default:null},panelStyle:{type:Object,default:null},panelProps:{type:null,default:null},filterInputProps:{type:null,default:null},clearIconProps:{type:null,default:null},appendTo:{type:[String,Object],default:"body"},loading:{type:Boolean,default:!1},clearIcon:{type:String,default:void 0},dropdownIcon:{type:String,default:void 0},filterIcon:{type:String,default:void 0},loadingIcon:{type:String,default:void 0},resetFilterOnHide:{type:Boolean,default:!1},resetFilterOnClear:{type:Boolean,default:!1},virtualScrollerOptions:{type:Object,default:null},autoOptionFocus:{type:Boolean,default:!1},autoFilterFocus:{type:Boolean,default:!1},selectOnFocus:{type:Boolean,default:!1},focusOnHover:{type:Boolean,default:!0},highlightOnSelect:{type:Boolean,default:!0},checkmark:{type:Boolean,default:!1},filterMessage:{type:String,default:null},selectionMessage:{type:String,default:null},emptySelectionMessage:{type:String,default:null},emptyFilterMessage:{type:String,default:null},emptyMessage:{type:String,default:null},tabindex:{type:Number,default:0},ariaLabel:{type:String,default:null},ariaLabelledby:{type:String,default:null}},style:VX,provide:function(){return{$parentInstance:this}}};function md(t){"@babel/helpers - typeof";return md=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},md(t)}function $X(t){return HX(t)||jX(t)||BX(t)||UX()}function UX(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function BX(t,e){if(t){if(typeof t=="string")return Ry(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ry(t,e)}}function jX(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function HX(t){if(Array.isArray(t))return Ry(t)}function Ry(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function GI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function QI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?GI(Object(n),!0).forEach(function(r){Ux(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):GI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ux(t,e,n){return e=WX(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function WX(t){var e=qX(t,"string");return md(e)=="symbol"?e:String(e)}function qX(t,e){if(md(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(md(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Bx={name:"Dropdown",extends:FX,inheritAttrs:!1,emits:["update:modelValue","change","focus","blur","before-show","before-hide","show","hide","filter"],outsideClickListener:null,scrollHandler:null,resizeListener:null,labelClickListener:null,overlay:null,list:null,virtualScroller:null,searchTimeout:null,searchValue:null,isModelValueChanged:!1,data:function(){return{id:this.$attrs.id,clicked:!1,focused:!1,focusedOptionIndex:-1,filterValue:null,overlayVisible:!1}},watch:{"$attrs.id":function(e){this.id=e||dp()},modelValue:function(){this.isModelValueChanged=!0},options:function(){this.autoUpdateModel()}},mounted:function(){this.id=this.id||dp(),this.autoUpdateModel(),this.bindLabelClickListener()},updated:function(){this.overlayVisible&&this.isModelValueChanged&&this.scrollInView(this.findSelectedOptionIndex()),this.isModelValueChanged=!1},beforeUnmount:function(){this.unbindOutsideClickListener(),this.unbindResizeListener(),this.unbindLabelClickListener(),this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null),this.overlay&&(Ol.clear(this.overlay),this.overlay=null)},methods:{getOptionIndex:function(e,n){return this.virtualScrollerDisabled?e:n&&n(e).index},getOptionLabel:function(e){return this.optionLabel?_e.resolveFieldData(e,this.optionLabel):e},getOptionValue:function(e){return this.optionValue?_e.resolveFieldData(e,this.optionValue):e},getOptionRenderKey:function(e,n){return(this.dataKey?_e.resolveFieldData(e,this.dataKey):this.getOptionLabel(e))+"_"+n},getPTItemOptions:function(e,n,r,i){return this.ptm(i,{context:{option:e,index:r,selected:this.isSelected(e),focused:this.focusedOptionIndex===this.getOptionIndex(r,n),disabled:this.isOptionDisabled(e)}})},isOptionDisabled:function(e){return this.optionDisabled?_e.resolveFieldData(e,this.optionDisabled):!1},isOptionGroup:function(e){return this.optionGroupLabel&&e.optionGroup&&e.group},getOptionGroupLabel:function(e){return _e.resolveFieldData(e,this.optionGroupLabel)},getOptionGroupChildren:function(e){return _e.resolveFieldData(e,this.optionGroupChildren)},getAriaPosInset:function(e){var n=this;return(this.optionGroupLabel?e-this.visibleOptions.slice(0,e).filter(function(r){return n.isOptionGroup(r)}).length:e)+1},show:function(e){this.$emit("before-show"),this.overlayVisible=!0,this.focusedOptionIndex=this.focusedOptionIndex!==-1?this.focusedOptionIndex:this.autoOptionFocus?this.findFirstFocusedOptionIndex():this.editable?-1:this.findSelectedOptionIndex(),e&&De.focus(this.$refs.focusInput)},hide:function(e){var n=this,r=function(){n.$emit("before-hide"),n.overlayVisible=!1,n.clicked=!1,n.focusedOptionIndex=-1,n.searchValue="",n.resetFilterOnHide&&(n.filterValue=null),e&&De.focus(n.$refs.focusInput)};setTimeout(function(){r()},0)},onFocus:function(e){this.disabled||(this.focused=!0,this.overlayVisible&&(this.focusedOptionIndex=this.focusedOptionIndex!==-1?this.focusedOptionIndex:this.autoOptionFocus?this.findFirstFocusedOptionIndex():this.editable?-1:this.findSelectedOptionIndex(),this.scrollInView(this.focusedOptionIndex)),this.$emit("focus",e))},onBlur:function(e){this.focused=!1,this.focusedOptionIndex=-1,this.searchValue="",this.$emit("blur",e)},onKeyDown:function(e){if(this.disabled||De.isAndroid()){e.preventDefault();return}var n=e.metaKey||e.ctrlKey;switch(e.code){case"ArrowDown":this.onArrowDownKey(e);break;case"ArrowUp":this.onArrowUpKey(e,this.editable);break;case"ArrowLeft":case"ArrowRight":this.onArrowLeftKey(e,this.editable);break;case"Home":this.onHomeKey(e,this.editable);break;case"End":this.onEndKey(e,this.editable);break;case"PageDown":this.onPageDownKey(e);break;case"PageUp":this.onPageUpKey(e);break;case"Space":this.onSpaceKey(e,this.editable);break;case"Enter":case"NumpadEnter":this.onEnterKey(e);break;case"Escape":this.onEscapeKey(e);break;case"Tab":this.onTabKey(e);break;case"Backspace":this.onBackspaceKey(e,this.editable);break;case"ShiftLeft":case"ShiftRight":break;default:!n&&_e.isPrintableCharacter(e.key)&&(!this.overlayVisible&&this.show(),!this.editable&&this.searchOptions(e,e.key));break}this.clicked=!1},onEditableInput:function(e){var n=e.target.value;this.searchValue="";var r=this.searchOptions(e,n);!r&&(this.focusedOptionIndex=-1),this.updateModel(e,n),!this.overlayVisible&&_e.isNotEmpty(n)&&this.show()},onContainerClick:function(e){this.disabled||this.loading||e.target.tagName==="INPUT"||e.target.getAttribute("data-pc-section")==="clearicon"||e.target.closest('[data-pc-section="clearicon"]')||((!this.overlay||!this.overlay.contains(e.target))&&(this.overlayVisible?this.hide(!0):this.show(!0)),this.clicked=!0)},onClearClick:function(e){this.updateModel(e,null),this.resetFilterOnClear&&(this.filterValue=null)},onFirstHiddenFocus:function(e){var n=e.relatedTarget===this.$refs.focusInput?De.getFirstFocusableElement(this.overlay,':not([data-p-hidden-focusable="true"])'):this.$refs.focusInput;De.focus(n)},onLastHiddenFocus:function(e){var n=e.relatedTarget===this.$refs.focusInput?De.getLastFocusableElement(this.overlay,':not([data-p-hidden-focusable="true"])'):this.$refs.focusInput;De.focus(n)},onOptionSelect:function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,i=this.getOptionValue(n);this.updateModel(e,i),r&&this.hide(!0)},onOptionMouseMove:function(e,n){this.focusOnHover&&this.changeFocusedOptionIndex(e,n)},onFilterChange:function(e){var n=e.target.value;this.filterValue=n,this.focusedOptionIndex=-1,this.$emit("filter",{originalEvent:e,value:n}),!this.virtualScrollerDisabled&&this.virtualScroller.scrollToIndex(0)},onFilterKeyDown:function(e){switch(e.code){case"ArrowDown":this.onArrowDownKey(e);break;case"ArrowUp":this.onArrowUpKey(e,!0);break;case"ArrowLeft":case"ArrowRight":this.onArrowLeftKey(e,!0);break;case"Home":this.onHomeKey(e,!0);break;case"End":this.onEndKey(e,!0);break;case"Enter":case"NumpadEnter":this.onEnterKey(e);break;case"Escape":this.onEscapeKey(e);break;case"Tab":this.onTabKey(e,!0);break}},onFilterBlur:function(){this.focusedOptionIndex=-1},onFilterUpdated:function(){this.overlayVisible&&this.alignOverlay()},onOverlayClick:function(e){Vx.emit("overlay-click",{originalEvent:e,target:this.$el})},onOverlayKeyDown:function(e){switch(e.code){case"Escape":this.onEscapeKey(e);break}},onArrowDownKey:function(e){if(!this.overlayVisible)this.show(),this.editable&&this.changeFocusedOptionIndex(e,this.findSelectedOptionIndex());else{var n=this.focusedOptionIndex!==-1?this.findNextOptionIndex(this.focusedOptionIndex):this.clicked?this.findFirstOptionIndex():this.findFirstFocusedOptionIndex();this.changeFocusedOptionIndex(e,n)}e.preventDefault()},onArrowUpKey:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(e.altKey&&!n)this.focusedOptionIndex!==-1&&this.onOptionSelect(e,this.visibleOptions[this.focusedOptionIndex]),this.overlayVisible&&this.hide(),e.preventDefault();else{var r=this.focusedOptionIndex!==-1?this.findPrevOptionIndex(this.focusedOptionIndex):this.clicked?this.findLastOptionIndex():this.findLastFocusedOptionIndex();this.changeFocusedOptionIndex(e,r),!this.overlayVisible&&this.show(),e.preventDefault()}},onArrowLeftKey:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;n&&(this.focusedOptionIndex=-1)},onHomeKey:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(n){var r=e.currentTarget;e.shiftKey?r.setSelectionRange(0,e.target.selectionStart):(r.setSelectionRange(0,0),this.focusedOptionIndex=-1)}else this.changeFocusedOptionIndex(e,this.findFirstOptionIndex()),!this.overlayVisible&&this.show();e.preventDefault()},onEndKey:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(n){var r=e.currentTarget;if(e.shiftKey)r.setSelectionRange(e.target.selectionStart,r.value.length);else{var i=r.value.length;r.setSelectionRange(i,i),this.focusedOptionIndex=-1}}else this.changeFocusedOptionIndex(e,this.findLastOptionIndex()),!this.overlayVisible&&this.show();e.preventDefault()},onPageUpKey:function(e){this.scrollInView(0),e.preventDefault()},onPageDownKey:function(e){this.scrollInView(this.visibleOptions.length-1),e.preventDefault()},onEnterKey:function(e){this.overlayVisible?(this.focusedOptionIndex!==-1&&this.onOptionSelect(e,this.visibleOptions[this.focusedOptionIndex]),this.hide()):(this.focusedOptionIndex=-1,this.onArrowDownKey(e)),e.preventDefault()},onSpaceKey:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;!n&&this.onEnterKey(e)},onEscapeKey:function(e){this.overlayVisible&&this.hide(!0),e.preventDefault(),e.stopPropagation()},onTabKey:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;n||(this.overlayVisible&&this.hasFocusableElements()?(De.focus(this.$refs.firstHiddenFocusableElementOnOverlay),e.preventDefault()):(this.focusedOptionIndex!==-1&&this.onOptionSelect(e,this.visibleOptions[this.focusedOptionIndex]),this.overlayVisible&&this.hide(this.filter)))},onBackspaceKey:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;n&&!this.overlayVisible&&this.show()},onOverlayEnter:function(e){Ol.set("overlay",e,this.$primevue.config.zIndex.overlay),De.addStyles(e,{position:"absolute",top:"0",left:"0"}),this.alignOverlay(),this.scrollInView(),this.autoFilterFocus&&De.focus(this.$refs.filterInput)},onOverlayAfterEnter:function(){this.bindOutsideClickListener(),this.bindScrollListener(),this.bindResizeListener(),this.$emit("show")},onOverlayLeave:function(){this.unbindOutsideClickListener(),this.unbindScrollListener(),this.unbindResizeListener(),this.$emit("hide"),this.overlay=null},onOverlayAfterLeave:function(e){Ol.clear(e)},alignOverlay:function(){this.appendTo==="self"?De.relativePosition(this.overlay,this.$el):(this.overlay.style.minWidth=De.getOuterWidth(this.$el)+"px",De.absolutePosition(this.overlay,this.$el))},bindOutsideClickListener:function(){var e=this;this.outsideClickListener||(this.outsideClickListener=function(n){e.overlayVisible&&e.overlay&&!e.$el.contains(n.target)&&!e.overlay.contains(n.target)&&e.hide()},document.addEventListener("click",this.outsideClickListener))},unbindOutsideClickListener:function(){this.outsideClickListener&&(document.removeEventListener("click",this.outsideClickListener),this.outsideClickListener=null)},bindScrollListener:function(){var e=this;this.scrollHandler||(this.scrollHandler=new kx(this.$refs.container,function(){e.overlayVisible&&e.hide()})),this.scrollHandler.bindScrollListener()},unbindScrollListener:function(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()},bindResizeListener:function(){var e=this;this.resizeListener||(this.resizeListener=function(){e.overlayVisible&&!De.isTouchDevice()&&e.hide()},window.addEventListener("resize",this.resizeListener))},unbindResizeListener:function(){this.resizeListener&&(window.removeEventListener("resize",this.resizeListener),this.resizeListener=null)},bindLabelClickListener:function(){var e=this;if(!this.editable&&!this.labelClickListener){var n=document.querySelector('label[for="'.concat(this.inputId,'"]'));n&&De.isVisible(n)&&(this.labelClickListener=function(){De.focus(e.$refs.focusInput)},n.addEventListener("click",this.labelClickListener))}},unbindLabelClickListener:function(){if(this.labelClickListener){var e=document.querySelector('label[for="'.concat(this.inputId,'"]'));e&&De.isVisible(e)&&e.removeEventListener("click",this.labelClickListener)}},hasFocusableElements:function(){return De.getFocusableElements(this.overlay,':not([data-p-hidden-focusable="true"])').length>0},isOptionMatched:function(e){var n;return this.isValidOption(e)&&((n=this.getOptionLabel(e))===null||n===void 0?void 0:n.toLocaleLowerCase(this.filterLocale).startsWith(this.searchValue.toLocaleLowerCase(this.filterLocale)))},isValidOption:function(e){return _e.isNotEmpty(e)&&!(this.isOptionDisabled(e)||this.isOptionGroup(e))},isValidSelectedOption:function(e){return this.isValidOption(e)&&this.isSelected(e)},isSelected:function(e){return this.isValidOption(e)&&_e.equals(this.modelValue,this.getOptionValue(e),this.equalityKey)},findFirstOptionIndex:function(){var e=this;return this.visibleOptions.findIndex(function(n){return e.isValidOption(n)})},findLastOptionIndex:function(){var e=this;return _e.findLastIndex(this.visibleOptions,function(n){return e.isValidOption(n)})},findNextOptionIndex:function(e){var n=this,r=e<this.visibleOptions.length-1?this.visibleOptions.slice(e+1).findIndex(function(i){return n.isValidOption(i)}):-1;return r>-1?r+e+1:e},findPrevOptionIndex:function(e){var n=this,r=e>0?_e.findLastIndex(this.visibleOptions.slice(0,e),function(i){return n.isValidOption(i)}):-1;return r>-1?r:e},findSelectedOptionIndex:function(){var e=this;return this.hasSelectedOption?this.visibleOptions.findIndex(function(n){return e.isValidSelectedOption(n)}):-1},findFirstFocusedOptionIndex:function(){var e=this.findSelectedOptionIndex();return e<0?this.findFirstOptionIndex():e},findLastFocusedOptionIndex:function(){var e=this.findSelectedOptionIndex();return e<0?this.findLastOptionIndex():e},searchOptions:function(e,n){var r=this;this.searchValue=(this.searchValue||"")+n;var i=-1,s=!1;return _e.isNotEmpty(this.searchValue)&&(this.focusedOptionIndex!==-1?(i=this.visibleOptions.slice(this.focusedOptionIndex).findIndex(function(o){return r.isOptionMatched(o)}),i=i===-1?this.visibleOptions.slice(0,this.focusedOptionIndex).findIndex(function(o){return r.isOptionMatched(o)}):i+this.focusedOptionIndex):i=this.visibleOptions.findIndex(function(o){return r.isOptionMatched(o)}),i!==-1&&(s=!0),i===-1&&this.focusedOptionIndex===-1&&(i=this.findFirstFocusedOptionIndex()),i!==-1&&this.changeFocusedOptionIndex(e,i)),this.searchTimeout&&clearTimeout(this.searchTimeout),this.searchTimeout=setTimeout(function(){r.searchValue="",r.searchTimeout=null},500),s},changeFocusedOptionIndex:function(e,n){this.focusedOptionIndex!==n&&(this.focusedOptionIndex=n,this.scrollInView(),this.selectOnFocus&&this.onOptionSelect(e,this.visibleOptions[n],!1))},scrollInView:function(){var e=this,n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:-1;this.$nextTick(function(){var r=n!==-1?"".concat(e.id,"_").concat(n):e.focusedOptionId,i=De.findSingle(e.list,'li[id="'.concat(r,'"]'));i?i.scrollIntoView&&i.scrollIntoView({block:"nearest"}):e.virtualScrollerDisabled||e.virtualScroller&&e.virtualScroller.scrollToIndex(n!==-1?n:e.focusedOptionIndex)})},autoUpdateModel:function(){this.selectOnFocus&&this.autoOptionFocus&&!this.hasSelectedOption&&(this.focusedOptionIndex=this.findFirstFocusedOptionIndex(),this.onOptionSelect(null,this.visibleOptions[this.focusedOptionIndex],!1))},updateModel:function(e,n){this.$emit("update:modelValue",n),this.$emit("change",{originalEvent:e,value:n})},flatOptions:function(e){var n=this;return(e||[]).reduce(function(r,i,s){r.push({optionGroup:i,group:!0,index:s});var o=n.getOptionGroupChildren(i);return o&&o.forEach(function(a){return r.push(a)}),r},[])},overlayRef:function(e){this.overlay=e},listRef:function(e,n){this.list=e,n&&n(e)},virtualScrollerRef:function(e){this.virtualScroller=e}},computed:{visibleOptions:function(){var e=this,n=this.optionGroupLabel?this.flatOptions(this.options):this.options||[];if(this.filterValue){var r=Rx.filter(n,this.searchFields,this.filterValue,this.filterMatchMode,this.filterLocale);if(this.optionGroupLabel){var i=this.options||[],s=[];return i.forEach(function(o){var a=e.getOptionGroupChildren(o),l=a.filter(function(u){return r.includes(u)});l.length>0&&s.push(QI(QI({},o),{},Ux({},typeof e.optionGroupChildren=="string"?e.optionGroupChildren:"items",$X(l))))}),this.flatOptions(s)}return r}return n},hasSelectedOption:function(){return _e.isNotEmpty(this.modelValue)},label:function(){var e=this.findSelectedOptionIndex();return e!==-1?this.getOptionLabel(this.visibleOptions[e]):this.placeholder||"p-emptylabel"},editableInputValue:function(){var e=this.findSelectedOptionIndex();return e!==-1?this.getOptionLabel(this.visibleOptions[e]):this.modelValue||""},equalityKey:function(){return this.optionValue?null:this.dataKey},searchFields:function(){return this.filterFields||[this.optionLabel]},filterResultMessageText:function(){return _e.isNotEmpty(this.visibleOptions)?this.filterMessageText.replaceAll("{0}",this.visibleOptions.length):this.emptyFilterMessageText},filterMessageText:function(){return this.filterMessage||this.$primevue.config.locale.searchMessage||""},emptyFilterMessageText:function(){return this.emptyFilterMessage||this.$primevue.config.locale.emptySearchMessage||this.$primevue.config.locale.emptyFilterMessage||""},emptyMessageText:function(){return this.emptyMessage||this.$primevue.config.locale.emptyMessage||""},selectionMessageText:function(){return this.selectionMessage||this.$primevue.config.locale.selectionMessage||""},emptySelectionMessageText:function(){return this.emptySelectionMessage||this.$primevue.config.locale.emptySelectionMessage||""},selectedMessageText:function(){return this.hasSelectedOption?this.selectionMessageText.replaceAll("{0}","1"):this.emptySelectionMessageText},listAriaLabel:function(){return this.$primevue.config.locale.aria?this.$primevue.config.locale.aria.listLabel:void 0},focusedOptionId:function(){return this.focusedOptionIndex!==-1?"".concat(this.id,"_").concat(this.focusedOptionIndex):null},ariaSetSize:function(){var e=this;return this.visibleOptions.filter(function(n){return!e.isOptionGroup(n)}).length},virtualScrollerDisabled:function(){return!this.virtualScrollerOptions}},directives:{ripple:Fx},components:{VirtualScroller:w0,Portal:b0,TimesIcon:_0,ChevronDownIcon:v0,SpinnerIcon:bm,SearchIcon:y0,CheckIcon:_m,BlankIcon:Lx}};function gd(t){"@babel/helpers - typeof";return gd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gd(t)}function XI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Mi(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?XI(Object(n),!0).forEach(function(r){zX(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):XI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function zX(t,e,n){return e=KX(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function KX(t){var e=YX(t,"string");return gd(e)=="symbol"?e:String(e)}function YX(t,e){if(gd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(gd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var GX=["id"],QX=["id","value","placeholder","tabindex","disabled","aria-label","aria-labelledby","aria-expanded","aria-controls","aria-activedescendant","aria-invalid"],XX=["id","tabindex","aria-label","aria-labelledby","aria-expanded","aria-controls","aria-activedescendant","aria-disabled"],JX=["value","placeholder","aria-owns","aria-activedescendant"],ZX=["id","aria-label"],eJ=["id"],tJ=["id","aria-label","aria-selected","aria-disabled","aria-setsize","aria-posinset","onClick","onMousemove","data-p-highlight","data-p-focused","data-p-disabled"];function nJ(t,e,n,r,i,s){var o=Wr("SpinnerIcon"),a=Wr("CheckIcon"),l=Wr("BlankIcon"),u=Wr("VirtualScroller"),c=Wr("Portal"),h=DC("ripple");return j(),J("div",de({ref:"container",id:i.id,class:t.cx("root"),onClick:e[16]||(e[16]=function(){return s.onContainerClick&&s.onContainerClick.apply(s,arguments)})},t.ptmi("root")),[t.editable?(j(),J("input",de({key:0,ref:"focusInput",id:t.inputId,type:"text",class:[t.cx("input"),t.inputClass],style:t.inputStyle,value:s.editableInputValue,placeholder:t.placeholder,tabindex:t.disabled?-1:t.tabindex,disabled:t.disabled,autocomplete:"off",role:"combobox","aria-label":t.ariaLabel,"aria-labelledby":t.ariaLabelledby,"aria-haspopup":"listbox","aria-expanded":i.overlayVisible,"aria-controls":i.id+"_list","aria-activedescendant":i.focused?s.focusedOptionId:void 0,"aria-invalid":t.invalid||void 0,onFocus:e[0]||(e[0]=function(){return s.onFocus&&s.onFocus.apply(s,arguments)}),onBlur:e[1]||(e[1]=function(){return s.onBlur&&s.onBlur.apply(s,arguments)}),onKeydown:e[2]||(e[2]=function(){return s.onKeyDown&&s.onKeyDown.apply(s,arguments)}),onInput:e[3]||(e[3]=function(){return s.onEditableInput&&s.onEditableInput.apply(s,arguments)})},Mi(Mi({},t.inputProps),t.ptm("input"))),null,16,QX)):(j(),J("span",de({key:1,ref:"focusInput",id:t.inputId,class:[t.cx("input"),t.inputClass],style:t.inputStyle,tabindex:t.disabled?-1:t.tabindex,role:"combobox","aria-label":t.ariaLabel||(s.label==="p-emptylabel"?void 0:s.label),"aria-labelledby":t.ariaLabelledby,"aria-haspopup":"listbox","aria-expanded":i.overlayVisible,"aria-controls":i.id+"_list","aria-activedescendant":i.focused?s.focusedOptionId:void 0,"aria-disabled":t.disabled,onFocus:e[4]||(e[4]=function(){return s.onFocus&&s.onFocus.apply(s,arguments)}),onBlur:e[5]||(e[5]=function(){return s.onBlur&&s.onBlur.apply(s,arguments)}),onKeydown:e[6]||(e[6]=function(){return s.onKeyDown&&s.onKeyDown.apply(s,arguments)})},Mi(Mi({},t.inputProps),t.ptm("input"))),[ve(t.$slots,"value",{value:t.modelValue,placeholder:t.placeholder},function(){return[kn(dt(s.label==="p-emptylabel"?"":s.label||"empty"),1)]})],16,XX)),t.showClear&&t.modelValue!=null?ve(t.$slots,"clearicon",{key:2,class:tt(t.cx("clearIcon")),onClick:s.onClearClick,clearCallback:s.onClearClick},function(){return[(j(),qe(Hr(t.clearIcon?"i":"TimesIcon"),de({ref:"clearIcon",class:[t.cx("clearIcon"),t.clearIcon],onClick:s.onClearClick},Mi(Mi({},t.clearIconProps),t.ptm("clearIcon")),{"data-pc-section":"clearicon"}),null,16,["class","onClick"]))]}):ue("",!0),Ce("div",de({class:t.cx("trigger")},t.ptm("trigger")),[t.loading?ve(t.$slots,"loadingicon",{key:0,class:tt(t.cx("loadingIcon"))},function(){return[t.loadingIcon?(j(),J("span",de({key:0,class:[t.cx("loadingIcon"),"pi-spin",t.loadingIcon],"aria-hidden":"true"},t.ptm("loadingIcon")),null,16)):(j(),qe(o,de({key:1,class:t.cx("loadingIcon"),spin:"","aria-hidden":"true"},t.ptm("loadingIcon")),null,16,["class"]))]}):ve(t.$slots,"dropdownicon",{key:1,class:tt(t.cx("dropdownIcon"))},function(){return[(j(),qe(Hr(t.dropdownIcon?"span":"ChevronDownIcon"),de({class:[t.cx("dropdownIcon"),t.dropdownIcon],"aria-hidden":"true"},t.ptm("dropdownIcon")),null,16,["class"]))]})],16),et(c,{appendTo:t.appendTo},{default:Qe(function(){return[et(Co,de({name:"p-connected-overlay",onEnter:s.onOverlayEnter,onAfterEnter:s.onOverlayAfterEnter,onLeave:s.onOverlayLeave,onAfterLeave:s.onOverlayAfterLeave},t.ptm("transition")),{default:Qe(function(){return[i.overlayVisible?(j(),J("div",de({key:0,ref:s.overlayRef,class:[t.cx("panel"),t.panelClass],style:t.panelStyle,onClick:e[14]||(e[14]=function(){return s.onOverlayClick&&s.onOverlayClick.apply(s,arguments)}),onKeydown:e[15]||(e[15]=function(){return s.onOverlayKeyDown&&s.onOverlayKeyDown.apply(s,arguments)})},Mi(Mi({},t.panelProps),t.ptm("panel"))),[Ce("span",de({ref:"firstHiddenFocusableElementOnOverlay",role:"presentation","aria-hidden":"true",class:"p-hidden-accessible p-hidden-focusable",tabindex:0,onFocus:e[7]||(e[7]=function(){return s.onFirstHiddenFocus&&s.onFirstHiddenFocus.apply(s,arguments)})},t.ptm("hiddenFirstFocusableEl"),{"data-p-hidden-accessible":!0,"data-p-hidden-focusable":!0}),null,16),ve(t.$slots,"header",{value:t.modelValue,options:s.visibleOptions}),t.filter?(j(),J("div",de({key:0,class:t.cx("header")},t.ptm("header")),[Ce("div",de({class:t.cx("filterContainer")},t.ptm("filterContainer")),[Ce("input",de({ref:"filterInput",type:"text",value:i.filterValue,onVnodeMounted:e[8]||(e[8]=function(){return s.onFilterUpdated&&s.onFilterUpdated.apply(s,arguments)}),onVnodeUpdated:e[9]||(e[9]=function(){return s.onFilterUpdated&&s.onFilterUpdated.apply(s,arguments)}),class:t.cx("filterInput"),placeholder:t.filterPlaceholder,role:"searchbox",autocomplete:"off","aria-owns":i.id+"_list","aria-activedescendant":s.focusedOptionId,onKeydown:e[10]||(e[10]=function(){return s.onFilterKeyDown&&s.onFilterKeyDown.apply(s,arguments)}),onBlur:e[11]||(e[11]=function(){return s.onFilterBlur&&s.onFilterBlur.apply(s,arguments)}),onInput:e[12]||(e[12]=function(){return s.onFilterChange&&s.onFilterChange.apply(s,arguments)})},Mi(Mi({},t.filterInputProps),t.ptm("filterInput"))),null,16,JX),ve(t.$slots,"filtericon",{class:tt(t.cx("filterIcon"))},function(){return[(j(),qe(Hr(t.filterIcon?"span":"SearchIcon"),de({class:[t.cx("filterIcon"),t.filterIcon]},t.ptm("filterIcon")),null,16,["class"]))]})],16),Ce("span",de({role:"status","aria-live":"polite",class:"p-hidden-accessible"},t.ptm("hiddenFilterResult"),{"data-p-hidden-accessible":!0}),dt(s.filterResultMessageText),17)],16)):ue("",!0),Ce("div",de({class:t.cx("wrapper"),style:{"max-height":s.virtualScrollerDisabled?t.scrollHeight:""}},t.ptm("wrapper")),[et(u,de({ref:s.virtualScrollerRef},t.virtualScrollerOptions,{items:s.visibleOptions,style:{height:t.scrollHeight},tabindex:-1,disabled:s.virtualScrollerDisabled,pt:t.ptm("virtualScroller")}),Zn({content:Qe(function(f){var p=f.styleClass,g=f.contentRef,b=f.items,S=f.getItemOptions,R=f.contentStyle,P=f.itemSize;return[Ce("ul",de({ref:function(E){return s.listRef(E,g)},id:i.id+"_list",class:[t.cx("list"),p],style:R,role:"listbox","aria-label":s.listAriaLabel},t.ptm("list")),[(j(!0),J(Ne,null,Ft(b,function(w,E){return j(),J(Ne,{key:s.getOptionRenderKey(w,s.getOptionIndex(E,S))},[s.isOptionGroup(w)?(j(),J("li",de({key:0,id:i.id+"_"+s.getOptionIndex(E,S),style:{height:P?P+"px":void 0},class:t.cx("itemGroup"),role:"option"},t.ptm("itemGroup")),[ve(t.$slots,"optiongroup",{option:w.optionGroup,index:s.getOptionIndex(E,S)},function(){return[Ce("span",de({class:t.cx("itemGroupLabel")},t.ptm("itemGroupLabel")),dt(s.getOptionGroupLabel(w.optionGroup)),17)]})],16,eJ)):Qo((j(),J("li",de({key:1,id:i.id+"_"+s.getOptionIndex(E,S),class:t.cx("item",{option:w,focusedOption:s.getOptionIndex(E,S)}),style:{height:P?P+"px":void 0},role:"option","aria-label":s.getOptionLabel(w),"aria-selected":s.isSelected(w),"aria-disabled":s.isOptionDisabled(w),"aria-setsize":s.ariaSetSize,"aria-posinset":s.getAriaPosInset(s.getOptionIndex(E,S)),onClick:function(M){return s.onOptionSelect(M,w)},onMousemove:function(M){return s.onOptionMouseMove(M,s.getOptionIndex(E,S))},"data-p-highlight":s.isSelected(w),"data-p-focused":i.focusedOptionIndex===s.getOptionIndex(E,S),"data-p-disabled":s.isOptionDisabled(w)},s.getPTItemOptions(w,S,E,"item")),[t.checkmark?(j(),J(Ne,{key:0},[s.isSelected(w)?(j(),qe(a,de({key:0,class:t.cx("checkIcon")},t.ptm("checkIcon")),null,16,["class"])):(j(),qe(l,de({key:1,class:t.cx("blankIcon")},t.ptm("blankIcon")),null,16,["class"]))],64)):ue("",!0),ve(t.$slots,"option",{option:w,index:s.getOptionIndex(E,S)},function(){return[Ce("span",de({class:t.cx("itemLabel")},t.ptm("itemLabel")),dt(s.getOptionLabel(w)),17)]})],16,tJ)),[[h]])],64)}),128)),i.filterValue&&(!b||b&&b.length===0)?(j(),J("li",de({key:0,class:t.cx("emptyMessage"),role:"option"},t.ptm("emptyMessage"),{"data-p-hidden-accessible":!0}),[ve(t.$slots,"emptyfilter",{},function(){return[kn(dt(s.emptyFilterMessageText),1)]})],16)):!t.options||t.options&&t.options.length===0?(j(),J("li",de({key:1,class:t.cx("emptyMessage"),role:"option"},t.ptm("emptyMessage"),{"data-p-hidden-accessible":!0}),[ve(t.$slots,"empty",{},function(){return[kn(dt(s.emptyMessageText),1)]})],16)):ue("",!0)],16,ZX)]}),_:2},[t.$slots.loader?{name:"loader",fn:Qe(function(f){var p=f.options;return[ve(t.$slots,"loader",{options:p})]}),key:"0"}:void 0]),1040,["items","style","disabled","pt"])],16),ve(t.$slots,"footer",{value:t.modelValue,options:s.visibleOptions}),!t.options||t.options&&t.options.length===0?(j(),J("span",de({key:1,role:"status","aria-live":"polite",class:"p-hidden-accessible"},t.ptm("hiddenEmptyMessage"),{"data-p-hidden-accessible":!0}),dt(s.emptyMessageText),17)):ue("",!0),Ce("span",de({role:"status","aria-live":"polite",class:"p-hidden-accessible"},t.ptm("hiddenSelectedMessage"),{"data-p-hidden-accessible":!0}),dt(s.selectedMessageText),17),Ce("span",de({ref:"lastHiddenFocusableElementOnOverlay",role:"presentation","aria-hidden":"true",class:"p-hidden-accessible p-hidden-focusable",tabindex:0,onFocus:e[13]||(e[13]=function(){return s.onLastHiddenFocus&&s.onLastHiddenFocus.apply(s,arguments)})},t.ptm("hiddenLastFocusableEl"),{"data-p-hidden-accessible":!0,"data-p-hidden-focusable":!0}),null,16)],16)):ue("",!0)]}),_:3},16,["onEnter","onAfterEnter","onLeave","onAfterLeave"])]}),_:3},8,["appendTo"])],16,GX)}Bx.render=nJ;var rJ={root:function(e){var n=e.instance,r=e.props;return["p-inputtext p-component",{"p-filled":n.filled,"p-inputtext-sm":r.size==="small","p-inputtext-lg":r.size==="large","p-invalid":r.invalid,"p-variant-filled":r.variant?r.variant==="filled":n.$primevue.config.inputStyle==="filled"}]}},iJ=ci.extend({name:"inputtext",classes:rJ}),sJ={name:"BaseInputText",extends:Na,props:{modelValue:null,size:{type:String,default:null},invalid:{type:Boolean,default:!1},variant:{type:String,default:null}},style:iJ,provide:function(){return{$parentInstance:this}}},jx={name:"InputText",extends:sJ,inheritAttrs:!1,emits:["update:modelValue"],methods:{getPTOptions:function(e){var n=e==="root"?this.ptmi:this.ptm;return n(e,{context:{filled:this.filled,disabled:this.$attrs.disabled||this.$attrs.disabled===""}})},onInput:function(e){this.$emit("update:modelValue",e.target.value)}},computed:{filled:function(){return this.modelValue!=null&&this.modelValue.toString().length>0}}},oJ=["value","aria-invalid"];function aJ(t,e,n,r,i,s){return j(),J("input",de({class:t.cx("root"),value:t.modelValue,"aria-invalid":t.invalid||void 0,onInput:e[0]||(e[0]=function(){return s.onInput&&s.onInput.apply(s,arguments)})},s.getPTOptions("root")),null,16,oJ)}jx.render=aJ;var lJ={root:function(e){var n=e.instance,r=e.props;return["p-checkbox p-component",{"p-highlight":n.checked,"p-disabled":r.disabled,"p-invalid":r.invalid,"p-variant-filled":r.variant?r.variant==="filled":n.$primevue.config.inputStyle==="filled"}]},box:"p-checkbox-box",input:"p-checkbox-input",icon:"p-checkbox-icon"},uJ=ci.extend({name:"checkbox",classes:lJ}),cJ={name:"BaseCheckbox",extends:Na,props:{value:null,modelValue:null,binary:Boolean,name:{type:String,default:null},trueValue:{type:null,default:!0},falseValue:{type:null,default:!1},variant:{type:String,default:null},invalid:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},required:{type:Boolean,default:!1},tabindex:{type:Number,default:null},inputId:{type:String,default:null},inputClass:{type:[String,Object],default:null},inputStyle:{type:Object,default:null},ariaLabelledby:{type:String,default:null},ariaLabel:{type:String,default:null}},style:uJ,provide:function(){return{$parentInstance:this}}};function dJ(t){return mJ(t)||pJ(t)||fJ(t)||hJ()}function hJ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fJ(t,e){if(t){if(typeof t=="string")return Dy(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Dy(t,e)}}function pJ(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function mJ(t){if(Array.isArray(t))return Dy(t)}function Dy(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Hx={name:"Checkbox",extends:cJ,inheritAttrs:!1,emits:["update:modelValue","change","focus","blur"],methods:{getPTOptions:function(e){var n=e==="root"?this.ptmi:this.ptm;return n(e,{context:{checked:this.checked,disabled:this.disabled}})},onChange:function(e){var n=this;if(!this.disabled&&!this.readonly){var r;this.binary?r=this.checked?this.falseValue:this.trueValue:this.checked?r=this.modelValue.filter(function(i){return!_e.equals(i,n.value)}):r=this.modelValue?[].concat(dJ(this.modelValue),[this.value]):[this.value],this.$emit("update:modelValue",r),this.$emit("change",e)}},onFocus:function(e){this.$emit("focus",e)},onBlur:function(e){this.$emit("blur",e)}},computed:{checked:function(){return this.binary?this.modelValue===this.trueValue:_e.contains(this.value,this.modelValue)}},components:{CheckIcon:_m}},gJ=["data-p-highlight","data-p-disabled"],vJ=["id","value","name","checked","tabindex","disabled","readonly","required","aria-labelledby","aria-label","aria-invalid"];function yJ(t,e,n,r,i,s){var o=Wr("CheckIcon");return j(),J("div",de({class:t.cx("root")},s.getPTOptions("root"),{"data-p-highlight":s.checked,"data-p-disabled":t.disabled}),[Ce("input",de({id:t.inputId,type:"checkbox",class:[t.cx("input"),t.inputClass],style:t.inputStyle,value:t.value,name:t.name,checked:s.checked,tabindex:t.tabindex,disabled:t.disabled,readonly:t.readonly,required:t.required,"aria-labelledby":t.ariaLabelledby,"aria-label":t.ariaLabel,"aria-invalid":t.invalid||void 0,onFocus:e[0]||(e[0]=function(){return s.onFocus&&s.onFocus.apply(s,arguments)}),onBlur:e[1]||(e[1]=function(){return s.onBlur&&s.onBlur.apply(s,arguments)}),onChange:e[2]||(e[2]=function(){return s.onChange&&s.onChange.apply(s,arguments)})},s.getPTOptions("input")),null,16,vJ),Ce("div",de({class:t.cx("box")},s.getPTOptions("box")),[ve(t.$slots,"icon",{checked:s.checked,class:tt(t.cx("icon"))},function(){return[s.checked?(j(),qe(o,de({key:0,class:t.cx("icon")},s.getPTOptions("icon")),null,16,["class"])):ue("",!0)]})],16)],16,gJ)}Hx.render=yJ;var Wx={name:"TimesCircleIcon",extends:Ma},_J=Ce("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M7 14C5.61553 14 4.26215 13.5895 3.11101 12.8203C1.95987 12.0511 1.06266 10.9579 0.532846 9.67879C0.00303296 8.3997 -0.13559 6.99224 0.134506 5.63437C0.404603 4.2765 1.07129 3.02922 2.05026 2.05026C3.02922 1.07129 4.2765 0.404603 5.63437 0.134506C6.99224 -0.13559 8.3997 0.00303296 9.67879 0.532846C10.9579 1.06266 12.0511 1.95987 12.8203 3.11101C13.5895 4.26215 14 5.61553 14 7C14 8.85652 13.2625 10.637 11.9497 11.9497C10.637 13.2625 8.85652 14 7 14ZM7 1.16667C5.84628 1.16667 4.71846 1.50879 3.75918 2.14976C2.79989 2.79074 2.05222 3.70178 1.61071 4.76768C1.16919 5.83358 1.05367 7.00647 1.27876 8.13803C1.50384 9.26958 2.05941 10.309 2.87521 11.1248C3.69102 11.9406 4.73042 12.4962 5.86198 12.7212C6.99353 12.9463 8.16642 12.8308 9.23232 12.3893C10.2982 11.9478 11.2093 11.2001 11.8502 10.2408C12.4912 9.28154 12.8333 8.15373 12.8333 7C12.8333 5.45291 12.2188 3.96918 11.1248 2.87521C10.0308 1.78125 8.5471 1.16667 7 1.16667ZM4.66662 9.91668C4.58998 9.91704 4.51404 9.90209 4.44325 9.87271C4.37246 9.84333 4.30826 9.8001 4.2544 9.74557C4.14516 9.6362 4.0838 9.48793 4.0838 9.33335C4.0838 9.17876 4.14516 9.0305 4.2544 8.92113L6.17553 7L4.25443 5.07891C4.15139 4.96832 4.09529 4.82207 4.09796 4.67094C4.10063 4.51982 4.16185 4.37563 4.26872 4.26876C4.3756 4.16188 4.51979 4.10066 4.67091 4.09799C4.82204 4.09532 4.96829 4.15142 5.07887 4.25446L6.99997 6.17556L8.92106 4.25446C9.03164 4.15142 9.1779 4.09532 9.32903 4.09799C9.48015 4.10066 9.62434 4.16188 9.73121 4.26876C9.83809 4.37563 9.89931 4.51982 9.90198 4.67094C9.90464 4.82207 9.84855 4.96832 9.74551 5.07891L7.82441 7L9.74554 8.92113C9.85478 9.0305 9.91614 9.17876 9.91614 9.33335C9.91614 9.48793 9.85478 9.6362 9.74554 9.74557C9.69168 9.8001 9.62748 9.84333 9.55669 9.87271C9.4859 9.90209 9.40996 9.91704 9.33332 9.91668C9.25668 9.91704 9.18073 9.90209 9.10995 9.87271C9.03916 9.84333 8.97495 9.8001 8.9211 9.74557L6.99997 7.82444L5.07884 9.74557C5.02499 9.8001 4.96078 9.84333 4.88999 9.87271C4.81921 9.90209 4.74326 9.91704 4.66662 9.91668Z",fill:"currentColor"},null,-1),bJ=[_J];function wJ(t,e,n,r,i,s){return j(),J("svg",de({width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t.pti()),bJ,16)}Wx.render=wJ;var TJ={root:function(e){var n=e.props;return{position:n.appendTo==="self"?"relative":void 0}}},EJ={root:function(e){var n=e.instance,r=e.props;return["p-multiselect p-component p-inputwrapper",{"p-multiselect-chip":r.display==="chip","p-disabled":r.disabled,"p-invalid":r.invalid,"p-variant-filled":r.variant?r.variant==="filled":n.$primevue.config.inputStyle==="filled","p-focus":n.focused,"p-inputwrapper-filled":r.modelValue&&r.modelValue.length,"p-inputwrapper-focus":n.focused||n.overlayVisible,"p-overlay-open":n.overlayVisible}]},labelContainer:"p-multiselect-label-container",label:function(e){var n=e.instance,r=e.props;return["p-multiselect-label",{"p-placeholder":n.label===r.placeholder,"p-multiselect-label-empty":!r.placeholder&&(!r.modelValue||r.modelValue.length===0)}]},token:"p-multiselect-token",tokenLabel:"p-multiselect-token-label",removeTokenIcon:"p-multiselect-token-icon",trigger:"p-multiselect-trigger",loadingIcon:"p-multiselect-trigger-icon",dropdownIcon:"p-multiselect-trigger-icon",panel:function(e){e.props;var n=e.instance;return["p-multiselect-panel p-component",{"p-ripple-disabled":n.$primevue.config.ripple===!1}]},header:"p-multiselect-header",filterContainer:"p-multiselect-filter-container",filterInput:function(e){var n=e.props,r=e.instance;return["p-multiselect-filter p-inputtext p-component",{"p-variant-filled":n.variant?n.variant==="filled":r.$primevue.config.inputStyle==="filled"}]},filterIcon:"p-multiselect-filter-icon",closeButton:"p-multiselect-close p-link",closeIcon:"p-multiselect-close-icon",wrapper:"p-multiselect-items-wrapper",list:"p-multiselect-items p-component",itemGroup:"p-multiselect-item-group",item:function(e){var n=e.instance,r=e.option,i=e.index,s=e.getItemOptions,o=e.props;return["p-multiselect-item",{"p-highlight":n.isSelected(r)&&o.highlightOnSelect,"p-focus":n.focusedOptionIndex===n.getOptionIndex(i,s),"p-disabled":n.isOptionDisabled(r)}]},emptyMessage:"p-multiselect-empty-message"},IJ=ci.extend({name:"multiselect",classes:EJ,inlineStyles:TJ}),SJ={name:"BaseMultiSelect",extends:Na,props:{modelValue:null,options:Array,optionLabel:null,optionValue:null,optionDisabled:null,optionGroupLabel:null,optionGroupChildren:null,scrollHeight:{type:String,default:"200px"},placeholder:String,variant:{type:String,default:null},invalid:{type:Boolean,default:!1},disabled:Boolean,inputId:{type:String,default:null},inputProps:{type:null,default:null},panelClass:{type:String,default:null},panelStyle:{type:null,default:null},panelProps:{type:null,default:null},filterInputProps:{type:null,default:null},closeButtonProps:{type:null,default:null},dataKey:null,filter:Boolean,filterPlaceholder:String,filterLocale:String,filterMatchMode:{type:String,default:"contains"},filterFields:{type:Array,default:null},appendTo:{type:[String,Object],default:"body"},display:{type:String,default:"comma"},selectedItemsLabel:{type:String,default:"{0} items selected"},maxSelectedLabels:{type:Number,default:null},selectionLimit:{type:Number,default:null},showToggleAll:{type:Boolean,default:!0},loading:{type:Boolean,default:!1},checkboxIcon:{type:String,default:void 0},closeIcon:{type:String,default:void 0},dropdownIcon:{type:String,default:void 0},filterIcon:{type:String,default:void 0},loadingIcon:{type:String,default:void 0},removeTokenIcon:{type:String,default:void 0},selectAll:{type:Boolean,default:null},resetFilterOnHide:{type:Boolean,default:!1},virtualScrollerOptions:{type:Object,default:null},autoOptionFocus:{type:Boolean,default:!1},autoFilterFocus:{type:Boolean,default:!1},focusOnHover:{type:Boolean,default:!0},highlightOnSelect:{type:Boolean,default:!1},filterMessage:{type:String,default:null},selectionMessage:{type:String,default:null},emptySelectionMessage:{type:String,default:null},emptyFilterMessage:{type:String,default:null},emptyMessage:{type:String,default:null},tabindex:{type:Number,default:0},ariaLabel:{type:String,default:null},ariaLabelledby:{type:String,default:null}},style:IJ,provide:function(){return{$parentInstance:this}}};function vd(t){"@babel/helpers - typeof";return vd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vd(t)}function JI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ZI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?JI(Object(n),!0).forEach(function(r){qx(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):JI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function qx(t,e,n){return e=CJ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function CJ(t){var e=AJ(t,"string");return vd(e)=="symbol"?e:String(e)}function AJ(t,e){if(vd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(vd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function eS(t){return RJ(t)||kJ(t)||PJ(t)||OJ()}function OJ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function PJ(t,e){if(t){if(typeof t=="string")return xy(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return xy(t,e)}}function kJ(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function RJ(t){if(Array.isArray(t))return xy(t)}function xy(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var zx={name:"MultiSelect",extends:SJ,inheritAttrs:!1,emits:["update:modelValue","change","focus","blur","before-show","before-hide","show","hide","filter","selectall-change"],outsideClickListener:null,scrollHandler:null,resizeListener:null,overlay:null,list:null,virtualScroller:null,startRangeIndex:-1,searchTimeout:null,searchValue:"",selectOnFocus:!1,data:function(){return{id:this.$attrs.id,clicked:!1,focused:!1,focusedOptionIndex:-1,filterValue:null,overlayVisible:!1}},watch:{"$attrs.id":function(e){this.id=e||dp()},options:function(){this.autoUpdateModel()}},mounted:function(){this.id=this.id||dp(),this.autoUpdateModel()},beforeUnmount:function(){this.unbindOutsideClickListener(),this.unbindResizeListener(),this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null),this.overlay&&(Ol.clear(this.overlay),this.overlay=null)},methods:{getOptionIndex:function(e,n){return this.virtualScrollerDisabled?e:n&&n(e).index},getOptionLabel:function(e){return this.optionLabel?_e.resolveFieldData(e,this.optionLabel):e},getOptionValue:function(e){return this.optionValue?_e.resolveFieldData(e,this.optionValue):e},getOptionRenderKey:function(e,n){return this.dataKey?_e.resolveFieldData(e,this.dataKey):this.getOptionLabel(e)+"_".concat(n)},getHeaderCheckboxPTOptions:function(e){return this.ptm(e,{context:{selected:this.allSelected}})},getCheckboxPTOptions:function(e,n,r,i){return this.ptm(i,{context:{selected:this.isSelected(e),focused:this.focusedOptionIndex===this.getOptionIndex(r,n),disabled:this.isOptionDisabled(e)}})},isOptionDisabled:function(e){return this.maxSelectionLimitReached&&!this.isSelected(e)?!0:this.optionDisabled?_e.resolveFieldData(e,this.optionDisabled):!1},isOptionGroup:function(e){return this.optionGroupLabel&&e.optionGroup&&e.group},getOptionGroupLabel:function(e){return _e.resolveFieldData(e,this.optionGroupLabel)},getOptionGroupChildren:function(e){return _e.resolveFieldData(e,this.optionGroupChildren)},getAriaPosInset:function(e){var n=this;return(this.optionGroupLabel?e-this.visibleOptions.slice(0,e).filter(function(r){return n.isOptionGroup(r)}).length:e)+1},show:function(e){this.$emit("before-show"),this.overlayVisible=!0,this.focusedOptionIndex=this.focusedOptionIndex!==-1?this.focusedOptionIndex:this.autoOptionFocus?this.findFirstFocusedOptionIndex():this.findSelectedOptionIndex(),e&&De.focus(this.$refs.focusInput)},hide:function(e){var n=this,r=function(){n.$emit("before-hide"),n.overlayVisible=!1,n.clicked=!1,n.focusedOptionIndex=-1,n.searchValue="",n.resetFilterOnHide&&(n.filterValue=null),e&&De.focus(n.$refs.focusInput)};setTimeout(function(){r()},0)},onFocus:function(e){this.disabled||(this.focused=!0,this.overlayVisible&&(this.focusedOptionIndex=this.focusedOptionIndex!==-1?this.focusedOptionIndex:this.autoOptionFocus?this.findFirstFocusedOptionIndex():this.findSelectedOptionIndex(),this.scrollInView(this.focusedOptionIndex)),this.$emit("focus",e))},onBlur:function(e){this.clicked=!1,this.focused=!1,this.focusedOptionIndex=-1,this.searchValue="",this.$emit("blur",e)},onKeyDown:function(e){var n=this;if(this.disabled){e.preventDefault();return}var r=e.metaKey||e.ctrlKey;switch(e.code){case"ArrowDown":this.onArrowDownKey(e);break;case"ArrowUp":this.onArrowUpKey(e);break;case"Home":this.onHomeKey(e);break;case"End":this.onEndKey(e);break;case"PageDown":this.onPageDownKey(e);break;case"PageUp":this.onPageUpKey(e);break;case"Enter":case"NumpadEnter":case"Space":this.onEnterKey(e);break;case"Escape":this.onEscapeKey(e);break;case"Tab":this.onTabKey(e);break;case"ShiftLeft":case"ShiftRight":this.onShiftKey(e);break;default:if(e.code==="KeyA"&&r){var i=this.visibleOptions.filter(function(s){return n.isValidOption(s)}).map(function(s){return n.getOptionValue(s)});this.updateModel(e,i),e.preventDefault();break}!r&&_e.isPrintableCharacter(e.key)&&(!this.overlayVisible&&this.show(),this.searchOptions(e),e.preventDefault());break}this.clicked=!1},onContainerClick:function(e){this.disabled||this.loading||((!this.overlay||!this.overlay.contains(e.target))&&(this.overlayVisible?this.hide(!0):this.show(!0)),this.clicked=!0)},onFirstHiddenFocus:function(e){var n=e.relatedTarget===this.$refs.focusInput?De.getFirstFocusableElement(this.overlay,':not([data-p-hidden-focusable="true"])'):this.$refs.focusInput;De.focus(n)},onLastHiddenFocus:function(e){var n=e.relatedTarget===this.$refs.focusInput?De.getLastFocusableElement(this.overlay,':not([data-p-hidden-focusable="true"])'):this.$refs.focusInput;De.focus(n)},onCloseClick:function(){this.hide(!0)},onOptionSelect:function(e,n){var r=this,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:-1,s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!(this.disabled||this.isOptionDisabled(n))){var o=this.isSelected(n),a=null;o?a=this.modelValue.filter(function(l){return!_e.equals(l,r.getOptionValue(n),r.equalityKey)}):a=[].concat(eS(this.modelValue||[]),[this.getOptionValue(n)]),this.updateModel(e,a),i!==-1&&(this.focusedOptionIndex=i),s&&De.focus(this.$refs.focusInput)}},onOptionMouseMove:function(e,n){this.focusOnHover&&this.changeFocusedOptionIndex(e,n)},onOptionSelectRange:function(e){var n=this,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:-1,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:-1;if(r===-1&&(r=this.findNearestSelectedOptionIndex(i,!0)),i===-1&&(i=this.findNearestSelectedOptionIndex(r)),r!==-1&&i!==-1){var s=Math.min(r,i),o=Math.max(r,i),a=this.visibleOptions.slice(s,o+1).filter(function(l){return n.isValidOption(l)}).map(function(l){return n.getOptionValue(l)});this.updateModel(e,a)}},onFilterChange:function(e){var n=e.target.value;this.filterValue=n,this.focusedOptionIndex=-1,this.$emit("filter",{originalEvent:e,value:n}),!this.virtualScrollerDisabled&&this.virtualScroller.scrollToIndex(0)},onFilterKeyDown:function(e){switch(e.code){case"ArrowDown":this.onArrowDownKey(e);break;case"ArrowUp":this.onArrowUpKey(e,!0);break;case"ArrowLeft":case"ArrowRight":this.onArrowLeftKey(e,!0);break;case"Home":this.onHomeKey(e,!0);break;case"End":this.onEndKey(e,!0);break;case"Enter":case"NumpadEnter":this.onEnterKey(e);break;case"Escape":this.onEscapeKey(e);break;case"Tab":this.onTabKey(e,!0);break}},onFilterBlur:function(){this.focusedOptionIndex=-1},onFilterUpdated:function(){this.overlayVisible&&this.alignOverlay()},onOverlayClick:function(e){Vx.emit("overlay-click",{originalEvent:e,target:this.$el})},onOverlayKeyDown:function(e){switch(e.code){case"Escape":this.onEscapeKey(e);break}},onArrowDownKey:function(e){if(!this.overlayVisible)this.show();else{var n=this.focusedOptionIndex!==-1?this.findNextOptionIndex(this.focusedOptionIndex):this.clicked?this.findFirstOptionIndex():this.findFirstFocusedOptionIndex();e.shiftKey&&this.onOptionSelectRange(e,this.startRangeIndex,n),this.changeFocusedOptionIndex(e,n)}e.preventDefault()},onArrowUpKey:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(e.altKey&&!n)this.focusedOptionIndex!==-1&&this.onOptionSelect(e,this.visibleOptions[this.focusedOptionIndex]),this.overlayVisible&&this.hide(),e.preventDefault();else{var r=this.focusedOptionIndex!==-1?this.findPrevOptionIndex(this.focusedOptionIndex):this.clicked?this.findLastOptionIndex():this.findLastFocusedOptionIndex();e.shiftKey&&this.onOptionSelectRange(e,r,this.startRangeIndex),this.changeFocusedOptionIndex(e,r),!this.overlayVisible&&this.show(),e.preventDefault()}},onArrowLeftKey:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;n&&(this.focusedOptionIndex=-1)},onHomeKey:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(n){var r=e.currentTarget;e.shiftKey?r.setSelectionRange(0,e.target.selectionStart):(r.setSelectionRange(0,0),this.focusedOptionIndex=-1)}else{var i=e.metaKey||e.ctrlKey,s=this.findFirstOptionIndex();e.shiftKey&&i&&this.onOptionSelectRange(e,s,this.startRangeIndex),this.changeFocusedOptionIndex(e,s),!this.overlayVisible&&this.show()}e.preventDefault()},onEndKey:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(n){var r=e.currentTarget;if(e.shiftKey)r.setSelectionRange(e.target.selectionStart,r.value.length);else{var i=r.value.length;r.setSelectionRange(i,i),this.focusedOptionIndex=-1}}else{var s=e.metaKey||e.ctrlKey,o=this.findLastOptionIndex();e.shiftKey&&s&&this.onOptionSelectRange(e,this.startRangeIndex,o),this.changeFocusedOptionIndex(e,o),!this.overlayVisible&&this.show()}e.preventDefault()},onPageUpKey:function(e){this.scrollInView(0),e.preventDefault()},onPageDownKey:function(e){this.scrollInView(this.visibleOptions.length-1),e.preventDefault()},onEnterKey:function(e){this.overlayVisible?this.focusedOptionIndex!==-1&&(e.shiftKey?this.onOptionSelectRange(e,this.focusedOptionIndex):this.onOptionSelect(e,this.visibleOptions[this.focusedOptionIndex])):(this.focusedOptionIndex=-1,this.onArrowDownKey(e)),e.preventDefault()},onEscapeKey:function(e){this.overlayVisible&&this.hide(!0),e.preventDefault()},onTabKey:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;n||(this.overlayVisible&&this.hasFocusableElements()?(De.focus(e.shiftKey?this.$refs.lastHiddenFocusableElementOnOverlay:this.$refs.firstHiddenFocusableElementOnOverlay),e.preventDefault()):(this.focusedOptionIndex!==-1&&this.onOptionSelect(e,this.visibleOptions[this.focusedOptionIndex]),this.overlayVisible&&this.hide(this.filter)))},onShiftKey:function(){this.startRangeIndex=this.focusedOptionIndex},onOverlayEnter:function(e){Ol.set("overlay",e,this.$primevue.config.zIndex.overlay),De.addStyles(e,{position:"absolute",top:"0",left:"0"}),this.alignOverlay(),this.scrollInView(),this.autoFilterFocus&&De.focus(this.$refs.filterInput)},onOverlayAfterEnter:function(){this.bindOutsideClickListener(),this.bindScrollListener(),this.bindResizeListener(),this.$emit("show")},onOverlayLeave:function(){this.unbindOutsideClickListener(),this.unbindScrollListener(),this.unbindResizeListener(),this.$emit("hide"),this.overlay=null},onOverlayAfterLeave:function(e){Ol.clear(e)},alignOverlay:function(){this.appendTo==="self"?De.relativePosition(this.overlay,this.$el):(this.overlay.style.minWidth=De.getOuterWidth(this.$el)+"px",De.absolutePosition(this.overlay,this.$el))},bindOutsideClickListener:function(){var e=this;this.outsideClickListener||(this.outsideClickListener=function(n){e.overlayVisible&&e.isOutsideClicked(n)&&e.hide()},document.addEventListener("click",this.outsideClickListener))},unbindOutsideClickListener:function(){this.outsideClickListener&&(document.removeEventListener("click",this.outsideClickListener),this.outsideClickListener=null)},bindScrollListener:function(){var e=this;this.scrollHandler||(this.scrollHandler=new kx(this.$refs.container,function(){e.overlayVisible&&e.hide()})),this.scrollHandler.bindScrollListener()},unbindScrollListener:function(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()},bindResizeListener:function(){var e=this;this.resizeListener||(this.resizeListener=function(){e.overlayVisible&&!De.isTouchDevice()&&e.hide()},window.addEventListener("resize",this.resizeListener))},unbindResizeListener:function(){this.resizeListener&&(window.removeEventListener("resize",this.resizeListener),this.resizeListener=null)},isOutsideClicked:function(e){return!(this.$el.isSameNode(e.target)||this.$el.contains(e.target)||this.overlay&&this.overlay.contains(e.target))},getLabelByValue:function(e){var n=this,r=this.optionGroupLabel?this.flatOptions(this.options):this.options||[],i=r.find(function(s){return!n.isOptionGroup(s)&&_e.equals(n.getOptionValue(s),e,n.equalityKey)});return i?this.getOptionLabel(i):null},getSelectedItemsLabel:function(){var e=/{(.*?)}/,n=this.selectedItemsLabel||this.$primevue.config.locale.selectionMessage;return e.test(n)?n.replace(n.match(e)[0],this.modelValue.length+""):n},onToggleAll:function(e){var n=this;if(this.selectAll!==null)this.$emit("selectall-change",{originalEvent:e,checked:!this.allSelected});else{var r=this.allSelected?[]:this.visibleOptions.filter(function(i){return n.isValidOption(i)}).map(function(i){return n.getOptionValue(i)});this.updateModel(e,r)}},removeOption:function(e,n){var r=this,i=this.modelValue.filter(function(s){return!_e.equals(s,n,r.equalityKey)});this.updateModel(e,i)},clearFilter:function(){this.filterValue=null},hasFocusableElements:function(){return De.getFocusableElements(this.overlay,':not([data-p-hidden-focusable="true"])').length>0},isOptionMatched:function(e){var n;return this.isValidOption(e)&&((n=this.getOptionLabel(e))===null||n===void 0?void 0:n.toLocaleLowerCase(this.filterLocale).startsWith(this.searchValue.toLocaleLowerCase(this.filterLocale)))},isValidOption:function(e){return _e.isNotEmpty(e)&&!(this.isOptionDisabled(e)||this.isOptionGroup(e))},isValidSelectedOption:function(e){return this.isValidOption(e)&&this.isSelected(e)},isEquals:function(e,n){return _e.equals(e,n,this.equalityKey)},isSelected:function(e){var n=this,r=this.getOptionValue(e);return(this.modelValue||[]).some(function(i){return n.isEquals(i,r)})},findFirstOptionIndex:function(){var e=this;return this.visibleOptions.findIndex(function(n){return e.isValidOption(n)})},findLastOptionIndex:function(){var e=this;return _e.findLastIndex(this.visibleOptions,function(n){return e.isValidOption(n)})},findNextOptionIndex:function(e){var n=this,r=e<this.visibleOptions.length-1?this.visibleOptions.slice(e+1).findIndex(function(i){return n.isValidOption(i)}):-1;return r>-1?r+e+1:e},findPrevOptionIndex:function(e){var n=this,r=e>0?_e.findLastIndex(this.visibleOptions.slice(0,e),function(i){return n.isValidOption(i)}):-1;return r>-1?r:e},findSelectedOptionIndex:function(){var e=this;if(this.hasSelectedOption){for(var n=function(){var o=e.modelValue[i],a=e.visibleOptions.findIndex(function(l){return e.isValidSelectedOption(l)&&e.isEquals(o,e.getOptionValue(l))});if(a>-1)return{v:a}},r,i=this.modelValue.length-1;i>=0;i--)if(r=n(),r)return r.v}return-1},findFirstSelectedOptionIndex:function(){var e=this;return this.hasSelectedOption?this.visibleOptions.findIndex(function(n){return e.isValidSelectedOption(n)}):-1},findLastSelectedOptionIndex:function(){var e=this;return this.hasSelectedOption?_e.findLastIndex(this.visibleOptions,function(n){return e.isValidSelectedOption(n)}):-1},findNextSelectedOptionIndex:function(e){var n=this,r=this.hasSelectedOption&&e<this.visibleOptions.length-1?this.visibleOptions.slice(e+1).findIndex(function(i){return n.isValidSelectedOption(i)}):-1;return r>-1?r+e+1:-1},findPrevSelectedOptionIndex:function(e){var n=this,r=this.hasSelectedOption&&e>0?_e.findLastIndex(this.visibleOptions.slice(0,e),function(i){return n.isValidSelectedOption(i)}):-1;return r>-1?r:-1},findNearestSelectedOptionIndex:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,r=-1;return this.hasSelectedOption&&(n?(r=this.findPrevSelectedOptionIndex(e),r=r===-1?this.findNextSelectedOptionIndex(e):r):(r=this.findNextSelectedOptionIndex(e),r=r===-1?this.findPrevSelectedOptionIndex(e):r)),r>-1?r:e},findFirstFocusedOptionIndex:function(){var e=this.findSelectedOptionIndex();return e<0?this.findFirstOptionIndex():e},findLastFocusedOptionIndex:function(){var e=this.findSelectedOptionIndex();return e<0?this.findLastOptionIndex():e},searchOptions:function(e){var n=this;this.searchValue=(this.searchValue||"")+e.key;var r=-1;_e.isNotEmpty(this.searchValue)&&(this.focusedOptionIndex!==-1?(r=this.visibleOptions.slice(this.focusedOptionIndex).findIndex(function(i){return n.isOptionMatched(i)}),r=r===-1?this.visibleOptions.slice(0,this.focusedOptionIndex).findIndex(function(i){return n.isOptionMatched(i)}):r+this.focusedOptionIndex):r=this.visibleOptions.findIndex(function(i){return n.isOptionMatched(i)}),r===-1&&this.focusedOptionIndex===-1&&(r=this.findFirstFocusedOptionIndex()),r!==-1&&this.changeFocusedOptionIndex(e,r)),this.searchTimeout&&clearTimeout(this.searchTimeout),this.searchTimeout=setTimeout(function(){n.searchValue="",n.searchTimeout=null},500)},changeFocusedOptionIndex:function(e,n){this.focusedOptionIndex!==n&&(this.focusedOptionIndex=n,this.scrollInView(),this.selectOnFocus&&this.onOptionSelect(e,this.visibleOptions[n]))},scrollInView:function(){var e=this,n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:-1;this.$nextTick(function(){var r=n!==-1?"".concat(e.id,"_").concat(n):e.focusedOptionId,i=De.findSingle(e.list,'li[id="'.concat(r,'"]'));i?i.scrollIntoView&&i.scrollIntoView({block:"nearest",inline:"nearest"}):e.virtualScrollerDisabled||e.virtualScroller&&e.virtualScroller.scrollToIndex(n!==-1?n:e.focusedOptionIndex)})},autoUpdateModel:function(){if(this.selectOnFocus&&this.autoOptionFocus&&!this.hasSelectedOption){this.focusedOptionIndex=this.findFirstFocusedOptionIndex();var e=this.getOptionValue(this.visibleOptions[this.focusedOptionIndex]);this.updateModel(null,[e])}},updateModel:function(e,n){this.$emit("update:modelValue",n),this.$emit("change",{originalEvent:e,value:n})},flatOptions:function(e){var n=this;return(e||[]).reduce(function(r,i,s){r.push({optionGroup:i,group:!0,index:s});var o=n.getOptionGroupChildren(i);return o&&o.forEach(function(a){return r.push(a)}),r},[])},overlayRef:function(e){this.overlay=e},listRef:function(e,n){this.list=e,n&&n(e)},virtualScrollerRef:function(e){this.virtualScroller=e}},computed:{visibleOptions:function(){var e=this,n=this.optionGroupLabel?this.flatOptions(this.options):this.options||[];if(this.filterValue){var r=Rx.filter(n,this.searchFields,this.filterValue,this.filterMatchMode,this.filterLocale);if(this.optionGroupLabel){var i=this.options||[],s=[];return i.forEach(function(o){var a=e.getOptionGroupChildren(o),l=a.filter(function(u){return r.includes(u)});l.length>0&&s.push(ZI(ZI({},o),{},qx({},typeof e.optionGroupChildren=="string"?e.optionGroupChildren:"items",eS(l))))}),this.flatOptions(s)}return r}return n},label:function(){var e;if(this.modelValue&&this.modelValue.length){if(_e.isNotEmpty(this.maxSelectedLabels)&&this.modelValue.length>this.maxSelectedLabels)return this.getSelectedItemsLabel();e="";for(var n=0;n<this.modelValue.length;n++)n!==0&&(e+=", "),e+=this.getLabelByValue(this.modelValue[n])}else e=this.placeholder;return e},chipSelectedItems:function(){return _e.isNotEmpty(this.maxSelectedLabels)&&this.modelValue&&this.modelValue.length>this.maxSelectedLabels?this.modelValue.slice(0,this.maxSelectedLabels):this.modelValue},allSelected:function(){var e=this;return this.selectAll!==null?this.selectAll:_e.isNotEmpty(this.visibleOptions)&&this.visibleOptions.every(function(n){return e.isOptionGroup(n)||e.isOptionDisabled(n)||e.isSelected(n)})},hasSelectedOption:function(){return _e.isNotEmpty(this.modelValue)},equalityKey:function(){return this.optionValue?null:this.dataKey},searchFields:function(){return this.filterFields||[this.optionLabel]},maxSelectionLimitReached:function(){return this.selectionLimit&&this.modelValue&&this.modelValue.length===this.selectionLimit},filterResultMessageText:function(){return _e.isNotEmpty(this.visibleOptions)?this.filterMessageText.replaceAll("{0}",this.visibleOptions.length):this.emptyFilterMessageText},filterMessageText:function(){return this.filterMessage||this.$primevue.config.locale.searchMessage||""},emptyFilterMessageText:function(){return this.emptyFilterMessage||this.$primevue.config.locale.emptySearchMessage||this.$primevue.config.locale.emptyFilterMessage||""},emptyMessageText:function(){return this.emptyMessage||this.$primevue.config.locale.emptyMessage||""},selectionMessageText:function(){return this.selectionMessage||this.$primevue.config.locale.selectionMessage||""},emptySelectionMessageText:function(){return this.emptySelectionMessage||this.$primevue.config.locale.emptySelectionMessage||""},selectedMessageText:function(){return this.hasSelectedOption?this.selectionMessageText.replaceAll("{0}",this.modelValue.length):this.emptySelectionMessageText},focusedOptionId:function(){return this.focusedOptionIndex!==-1?"".concat(this.id,"_").concat(this.focusedOptionIndex):null},ariaSetSize:function(){var e=this;return this.visibleOptions.filter(function(n){return!e.isOptionGroup(n)}).length},toggleAllAriaLabel:function(){return this.$primevue.config.locale.aria?this.$primevue.config.locale.aria[this.allSelected?"selectAll":"unselectAll"]:void 0},closeAriaLabel:function(){return this.$primevue.config.locale.aria?this.$primevue.config.locale.aria.close:void 0},listAriaLabel:function(){return this.$primevue.config.locale.aria?this.$primevue.config.locale.aria.listLabel:void 0},virtualScrollerDisabled:function(){return!this.virtualScrollerOptions}},directives:{ripple:Fx},components:{Checkbox:Hx,VirtualScroller:w0,Portal:b0,TimesIcon:_0,SearchIcon:y0,TimesCircleIcon:Wx,ChevronDownIcon:v0,SpinnerIcon:bm,CheckIcon:_m}};function yd(t){"@babel/helpers - typeof";return yd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yd(t)}function tS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ws(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?tS(Object(n),!0).forEach(function(r){Ny(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):tS(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ny(t,e,n){return e=DJ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function DJ(t){var e=xJ(t,"string");return yd(e)=="symbol"?e:String(e)}function xJ(t,e){if(yd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(yd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var NJ=["id","disabled","placeholder","tabindex","aria-label","aria-labelledby","aria-expanded","aria-controls","aria-activedescendant","aria-invalid"],MJ=["onClick"],LJ=["value","placeholder","aria-owns","aria-activedescendant"],VJ=["aria-label"],FJ=["id","aria-label"],$J=["id"],UJ=["id","aria-label","aria-selected","aria-disabled","aria-setsize","aria-posinset","onClick","onMousemove","data-p-highlight","data-p-focused","data-p-disabled"];function BJ(t,e,n,r,i,s){var o=Wr("TimesCircleIcon"),a=Wr("SpinnerIcon"),l=Wr("Checkbox"),u=Wr("VirtualScroller"),c=Wr("Portal"),h=DC("ripple");return j(),J("div",de({ref:"container",class:t.cx("root"),style:t.sx("root"),onClick:e[13]||(e[13]=function(){return s.onContainerClick&&s.onContainerClick.apply(s,arguments)})},t.ptmi("root")),[Ce("div",de({class:"p-hidden-accessible"},t.ptm("hiddenInputWrapper"),{"data-p-hidden-accessible":!0}),[Ce("input",de({ref:"focusInput",id:t.inputId,type:"text",readonly:"",disabled:t.disabled,placeholder:t.placeholder,tabindex:t.disabled?-1:t.tabindex,role:"combobox","aria-label":t.ariaLabel,"aria-labelledby":t.ariaLabelledby,"aria-haspopup":"listbox","aria-expanded":i.overlayVisible,"aria-controls":i.id+"_list","aria-activedescendant":i.focused?s.focusedOptionId:void 0,"aria-invalid":t.invalid||void 0,onFocus:e[0]||(e[0]=function(){return s.onFocus&&s.onFocus.apply(s,arguments)}),onBlur:e[1]||(e[1]=function(){return s.onBlur&&s.onBlur.apply(s,arguments)}),onKeydown:e[2]||(e[2]=function(){return s.onKeyDown&&s.onKeyDown.apply(s,arguments)})},Ws(Ws({},t.inputProps),t.ptm("hiddenInput"))),null,16,NJ)],16),Ce("div",de({class:t.cx("labelContainer")},t.ptm("labelContainer")),[Ce("div",de({class:t.cx("label")},t.ptm("label")),[ve(t.$slots,"value",{value:t.modelValue,placeholder:t.placeholder},function(){return[t.display==="comma"?(j(),J(Ne,{key:0},[kn(dt(s.label||"empty"),1)],64)):t.display==="chip"?(j(),J(Ne,{key:1},[(j(!0),J(Ne,null,Ft(s.chipSelectedItems,function(f){return j(),J("div",de({key:s.getLabelByValue(f),class:t.cx("token")},t.ptm("token")),[ve(t.$slots,"chip",{value:f},function(){return[Ce("span",de({class:t.cx("tokenLabel")},t.ptm("tokenLabel")),dt(s.getLabelByValue(f)),17)]}),t.disabled?ue("",!0):ve(t.$slots,"removetokenicon",{key:0,class:tt(t.cx("removeTokenIcon")),item:f,onClick:function(g){return s.removeOption(g,f)},removeCallback:function(g){return s.removeOption(g,f)}},function(){return[t.removeTokenIcon?(j(),J("span",de({key:0,class:[t.cx("removeTokenIcon"),t.removeTokenIcon],onClick:Lt(function(p){return s.removeOption(p,f)},["stop"])},t.ptm("removeTokenIcon")),null,16,MJ)):(j(),qe(o,de({key:1,class:t.cx("removeTokenIcon"),onClick:Lt(function(p){return s.removeOption(p,f)},["stop"])},t.ptm("removeTokenIcon")),null,16,["class","onClick"]))]})],16)}),128)),!t.modelValue||t.modelValue.length===0?(j(),J(Ne,{key:0},[kn(dt(t.placeholder||"empty"),1)],64)):ue("",!0)],64)):ue("",!0)]})],16)],16),Ce("div",de({class:t.cx("trigger")},t.ptm("trigger")),[t.loading?ve(t.$slots,"loadingicon",{key:0,class:tt(t.cx("loadingIcon"))},function(){return[t.loadingIcon?(j(),J("span",de({key:0,class:[t.cx("loadingIcon"),"pi-spin",t.loadingIcon],"aria-hidden":"true"},t.ptm("loadingIcon")),null,16)):(j(),qe(a,de({key:1,class:t.cx("loadingIcon"),spin:"","aria-hidden":"true"},t.ptm("loadingIcon")),null,16,["class"]))]}):ve(t.$slots,"dropdownicon",{key:1,class:tt(t.cx("dropdownIcon"))},function(){return[(j(),qe(Hr(t.dropdownIcon?"span":"ChevronDownIcon"),de({class:[t.cx("dropdownIcon"),t.dropdownIcon],"aria-hidden":"true"},t.ptm("dropdownIcon")),null,16,["class"]))]})],16),et(c,{appendTo:t.appendTo},{default:Qe(function(){return[et(Co,de({name:"p-connected-overlay",onEnter:s.onOverlayEnter,onAfterEnter:s.onOverlayAfterEnter,onLeave:s.onOverlayLeave,onAfterLeave:s.onOverlayAfterLeave},t.ptm("transition")),{default:Qe(function(){return[i.overlayVisible?(j(),J("div",de({key:0,ref:s.overlayRef,style:t.panelStyle,class:[t.cx("panel"),t.panelClass],onClick:e[11]||(e[11]=function(){return s.onOverlayClick&&s.onOverlayClick.apply(s,arguments)}),onKeydown:e[12]||(e[12]=function(){return s.onOverlayKeyDown&&s.onOverlayKeyDown.apply(s,arguments)})},Ws(Ws({},t.panelProps),t.ptm("panel"))),[Ce("span",de({ref:"firstHiddenFocusableElementOnOverlay",role:"presentation","aria-hidden":"true",class:"p-hidden-accessible p-hidden-focusable",tabindex:0,onFocus:e[3]||(e[3]=function(){return s.onFirstHiddenFocus&&s.onFirstHiddenFocus.apply(s,arguments)})},t.ptm("hiddenFirstFocusableEl"),{"data-p-hidden-accessible":!0,"data-p-hidden-focusable":!0}),null,16),ve(t.$slots,"header",{value:t.modelValue,options:s.visibleOptions}),t.showToggleAll&&t.selectionLimit==null||t.filter?(j(),J("div",de({key:0,class:t.cx("header")},t.ptm("header")),[t.showToggleAll&&t.selectionLimit==null?(j(),qe(l,{key:0,modelValue:s.allSelected,binary:!0,disabled:t.disabled,variant:t.variant,"aria-label":s.toggleAllAriaLabel,onChange:s.onToggleAll,unstyled:t.unstyled,pt:s.getHeaderCheckboxPTOptions("headerCheckbox")},{icon:Qe(function(f){return[t.$slots.headercheckboxicon?(j(),qe(Hr(t.$slots.headercheckboxicon),{key:0,checked:f.checked,class:tt(f.class)},null,8,["checked","class"])):f.checked?(j(),qe(Hr(t.checkboxIcon?"span":"CheckIcon"),de({key:1,class:[f.class,Ny({},t.checkboxIcon,f.checked)]},s.getHeaderCheckboxPTOptions("headerCheckbox.icon")),null,16,["class"])):ue("",!0)]}),_:1},8,["modelValue","disabled","variant","aria-label","onChange","unstyled","pt"])):ue("",!0),t.filter?(j(),J("div",de({key:1,class:t.cx("filterContainer")},t.ptm("filterContainer")),[Ce("input",de({ref:"filterInput",type:"text",value:i.filterValue,onVnodeMounted:e[4]||(e[4]=function(){return s.onFilterUpdated&&s.onFilterUpdated.apply(s,arguments)}),onVnodeUpdated:e[5]||(e[5]=function(){return s.onFilterUpdated&&s.onFilterUpdated.apply(s,arguments)}),class:t.cx("filterInput"),placeholder:t.filterPlaceholder,role:"searchbox",autocomplete:"off","aria-owns":i.id+"_list","aria-activedescendant":s.focusedOptionId,onKeydown:e[6]||(e[6]=function(){return s.onFilterKeyDown&&s.onFilterKeyDown.apply(s,arguments)}),onBlur:e[7]||(e[7]=function(){return s.onFilterBlur&&s.onFilterBlur.apply(s,arguments)}),onInput:e[8]||(e[8]=function(){return s.onFilterChange&&s.onFilterChange.apply(s,arguments)})},Ws(Ws({},t.filterInputProps),t.ptm("filterInput"))),null,16,LJ),ve(t.$slots,"filtericon",{class:tt(t.cx("filterIcon"))},function(){return[(j(),qe(Hr(t.filterIcon?"span":"SearchIcon"),de({class:[t.cx("filterIcon"),t.filterIcon]},t.ptm("filterIcon")),null,16,["class"]))]})],16)):ue("",!0),t.filter?(j(),J("span",de({key:2,role:"status","aria-live":"polite",class:"p-hidden-accessible"},t.ptm("hiddenFilterResult"),{"data-p-hidden-accessible":!0}),dt(s.filterResultMessageText),17)):ue("",!0),Qo((j(),J("button",de({class:t.cx("closeButton"),"aria-label":s.closeAriaLabel,onClick:e[9]||(e[9]=function(){return s.onCloseClick&&s.onCloseClick.apply(s,arguments)}),type:"button"},Ws(Ws({},t.closeButtonProps),t.ptm("closeButton"))),[ve(t.$slots,"closeicon",{class:tt(t.cx("closeIcon"))},function(){return[(j(),qe(Hr(t.closeIcon?"span":"TimesIcon"),de({class:[t.cx("closeIcon"),t.closeIcon]},t.ptm("closeIcon")),null,16,["class"]))]})],16,VJ)),[[h]])],16)):ue("",!0),Ce("div",de({class:t.cx("wrapper"),style:{"max-height":s.virtualScrollerDisabled?t.scrollHeight:""}},t.ptm("wrapper")),[et(u,de({ref:s.virtualScrollerRef},t.virtualScrollerOptions,{items:s.visibleOptions,style:{height:t.scrollHeight},tabindex:-1,disabled:s.virtualScrollerDisabled,pt:t.ptm("virtualScroller")}),Zn({content:Qe(function(f){var p=f.styleClass,g=f.contentRef,b=f.items,S=f.getItemOptions,R=f.contentStyle,P=f.itemSize;return[Ce("ul",de({ref:function(E){return s.listRef(E,g)},id:i.id+"_list",class:[t.cx("list"),p],style:R,role:"listbox","aria-multiselectable":"true","aria-label":s.listAriaLabel},t.ptm("list")),[(j(!0),J(Ne,null,Ft(b,function(w,E){return j(),J(Ne,{key:s.getOptionRenderKey(w,s.getOptionIndex(E,S))},[s.isOptionGroup(w)?(j(),J("li",de({key:0,id:i.id+"_"+s.getOptionIndex(E,S),style:{height:P?P+"px":void 0},class:t.cx("itemGroup"),role:"option"},t.ptm("itemGroup")),[ve(t.$slots,"optiongroup",{option:w.optionGroup,index:s.getOptionIndex(E,S)},function(){return[kn(dt(s.getOptionGroupLabel(w.optionGroup)),1)]})],16,$J)):Qo((j(),J("li",de({key:1,id:i.id+"_"+s.getOptionIndex(E,S),style:{height:P?P+"px":void 0},class:t.cx("item",{option:w,index:E,getItemOptions:S}),role:"option","aria-label":s.getOptionLabel(w),"aria-selected":s.isSelected(w),"aria-disabled":s.isOptionDisabled(w),"aria-setsize":s.ariaSetSize,"aria-posinset":s.getAriaPosInset(s.getOptionIndex(E,S)),onClick:function(M){return s.onOptionSelect(M,w,s.getOptionIndex(E,S),!0)},onMousemove:function(M){return s.onOptionMouseMove(M,s.getOptionIndex(E,S))}},s.getCheckboxPTOptions(w,S,E,"item"),{"data-p-highlight":s.isSelected(w),"data-p-focused":i.focusedOptionIndex===s.getOptionIndex(E,S),"data-p-disabled":s.isOptionDisabled(w)}),[et(l,{modelValue:s.isSelected(w),binary:!0,tabindex:-1,variant:t.variant,unstyled:t.unstyled,pt:s.getCheckboxPTOptions(w,S,E,"itemCheckbox")},{icon:Qe(function(N){return[t.$slots.itemcheckboxicon?(j(),qe(Hr(t.$slots.itemcheckboxicon),{key:0,checked:N.checked,class:tt(N.class)},null,8,["checked","class"])):N.checked?(j(),qe(Hr(t.checkboxIcon?"span":"CheckIcon"),de({key:1,class:[N.class,Ny({},t.checkboxIcon,N.checked)]},s.getCheckboxPTOptions(w,S,E,"itemCheckbox.icon")),null,16,["class"])):ue("",!0)]}),_:2},1032,["modelValue","variant","unstyled","pt"]),ve(t.$slots,"option",{option:w,index:s.getOptionIndex(E,S)},function(){return[Ce("span",Tn(Jn(t.ptm("option"))),dt(s.getOptionLabel(w)),17)]})],16,UJ)),[[h]])],64)}),128)),i.filterValue&&(!b||b&&b.length===0)?(j(),J("li",de({key:0,class:t.cx("emptyMessage"),role:"option"},t.ptm("emptyMessage")),[ve(t.$slots,"emptyfilter",{},function(){return[kn(dt(s.emptyFilterMessageText),1)]})],16)):!t.options||t.options&&t.options.length===0?(j(),J("li",de({key:1,class:t.cx("emptyMessage"),role:"option"},t.ptm("emptyMessage")),[ve(t.$slots,"empty",{},function(){return[kn(dt(s.emptyMessageText),1)]})],16)):ue("",!0)],16,FJ)]}),_:2},[t.$slots.loader?{name:"loader",fn:Qe(function(f){var p=f.options;return[ve(t.$slots,"loader",{options:p})]}),key:"0"}:void 0]),1040,["items","style","disabled","pt"])],16),ve(t.$slots,"footer",{value:t.modelValue,options:s.visibleOptions}),!t.options||t.options&&t.options.length===0?(j(),J("span",de({key:1,role:"status","aria-live":"polite",class:"p-hidden-accessible"},t.ptm("hiddenEmptyMessage"),{"data-p-hidden-accessible":!0}),dt(s.emptyMessageText),17)):ue("",!0),Ce("span",de({role:"status","aria-live":"polite",class:"p-hidden-accessible"},t.ptm("hiddenSelectedMessage"),{"data-p-hidden-accessible":!0}),dt(s.selectedMessageText),17),Ce("span",de({ref:"lastHiddenFocusableElementOnOverlay",role:"presentation","aria-hidden":"true",class:"p-hidden-accessible p-hidden-focusable",tabindex:0,onFocus:e[10]||(e[10]=function(){return s.onLastHiddenFocus&&s.onLastHiddenFocus.apply(s,arguments)})},t.ptm("hiddenLastFocusableEl"),{"data-p-hidden-accessible":!0,"data-p-hidden-focusable":!0}),null,16)],16)):ue("",!0)]}),_:3},16,["onEnter","onAfterEnter","onLeave","onAfterLeave"])]}),_:3},8,["appendTo"])],16)}zx.render=BJ;var jJ={root:function(e){var n=e.instance,r=e.props;return["p-inputtextarea p-inputtext p-component",{"p-filled":n.filled,"p-inputtextarea-resizable ":r.autoResize,"p-invalid":r.invalid,"p-variant-filled":r.variant?r.variant==="filled":n.$primevue.config.inputStyle==="filled"}]}},HJ=ci.extend({name:"textarea",classes:jJ}),WJ={name:"BaseTextarea",extends:Na,props:{modelValue:null,autoResize:Boolean,invalid:{type:Boolean,default:!1},variant:{type:String,default:null}},style:HJ,provide:function(){return{$parentInstance:this}}},Kx={name:"Textarea",extends:WJ,inheritAttrs:!1,emits:["update:modelValue"],mounted:function(){this.$el.offsetParent&&this.autoResize&&this.resize()},updated:function(){this.$el.offsetParent&&this.autoResize&&this.resize()},methods:{resize:function(){this.$el.style.height="auto",this.$el.style.height=this.$el.scrollHeight+"px",parseFloat(this.$el.style.height)>=parseFloat(this.$el.style.maxHeight)?(this.$el.style.overflowY="scroll",this.$el.style.height=this.$el.style.maxHeight):this.$el.style.overflow="hidden"},onInput:function(e){this.autoResize&&this.resize(),this.$emit("update:modelValue",e.target.value)}},computed:{filled:function(){return this.modelValue!=null&&this.modelValue.toString().length>0},ptmParams:function(){return{context:{disabled:this.$attrs.disabled||this.$attrs.disabled===""}}}}},qJ=["value","aria-invalid"];function zJ(t,e,n,r,i,s){return j(),J("textarea",de({class:t.cx("root"),value:t.modelValue,"aria-invalid":t.invalid||void 0,onInput:e[0]||(e[0]=function(){return s.onInput&&s.onInput.apply(s,arguments)})},t.ptmi("root",s.ptmParams)),null,16,qJ)}Kx.render=zJ;/*!
 * Viewer.js v1.11.6
 * https://fengyuanchen.github.io/viewerjs
 *
 * Copyright 2015-present Chen Fengyuan
 * Released under the MIT license
 *
 * Date: 2023-09-17T03:16:38.052Z
 */function nS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function T0(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?nS(Object(n),!0).forEach(function(r){GJ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):nS(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function My(t){"@babel/helpers - typeof";return My=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},My(t)}function KJ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function rS(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Yx(r.key),r)}}function YJ(t,e,n){return e&&rS(t.prototype,e),n&&rS(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function GJ(t,e,n){return e=Yx(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function QJ(t,e){if(typeof t!="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Yx(t){var e=QJ(t,"string");return typeof e=="symbol"?e:String(e)}var iS={backdrop:!0,button:!0,navbar:!0,title:!0,toolbar:!0,className:"",container:"body",filter:null,fullscreen:!0,inheritedAttributes:["crossOrigin","decoding","isMap","loading","referrerPolicy","sizes","srcset","useMap"],initialCoverage:.9,initialViewIndex:0,inline:!1,interval:5e3,keyboard:!0,focus:!0,loading:!0,loop:!0,minWidth:200,minHeight:100,movable:!0,rotatable:!0,scalable:!0,zoomable:!0,zoomOnTouch:!0,zoomOnWheel:!0,slideOnTouch:!0,toggleOnDblclick:!0,tooltip:!0,transition:!0,zIndex:2015,zIndexInline:0,zoomRatio:.1,minZoomRatio:.01,maxZoomRatio:100,url:"src",ready:null,show:null,shown:null,hide:null,hidden:null,view:null,viewed:null,move:null,moved:null,rotate:null,rotated:null,scale:null,scaled:null,zoom:null,zoomed:null,play:null,stop:null},XJ='<div class="viewer-container" tabindex="-1" touch-action="none"><div class="viewer-canvas"></div><div class="viewer-footer"><div class="viewer-title"></div><div class="viewer-toolbar"></div><div class="viewer-navbar"><ul class="viewer-list" role="navigation"></ul></div></div><div class="viewer-tooltip" role="alert" aria-hidden="true"></div><div class="viewer-button" data-viewer-action="mix" role="button"></div><div class="viewer-player"></div></div>',wm=typeof window<"u"&&typeof window.document<"u",Rs=wm?window:{},Pl=wm&&Rs.document.documentElement?"ontouchstart"in Rs.document.documentElement:!1,E0=wm?"PointerEvent"in Rs:!1,lt="viewer",sf="move",Gx="switch",ec="zoom",Fh="".concat(lt,"-active"),JJ="".concat(lt,"-close"),of="".concat(lt,"-fade"),Ly="".concat(lt,"-fixed"),ZJ="".concat(lt,"-fullscreen"),sS="".concat(lt,"-fullscreen-exit"),qo="".concat(lt,"-hide"),eZ="".concat(lt,"-hide-md-down"),tZ="".concat(lt,"-hide-sm-down"),nZ="".concat(lt,"-hide-xs-down"),ei="".concat(lt,"-in"),Cc="".concat(lt,"-invisible"),kl="".concat(lt,"-loading"),rZ="".concat(lt,"-move"),oS="".concat(lt,"-open"),Ya="".concat(lt,"-show"),vn="".concat(lt,"-transition"),eu="click",Vy="dblclick",aS="dragstart",lS="focusin",uS="keydown",ri="load",ia="error",iZ=Pl?"touchend touchcancel":"mouseup",sZ=Pl?"touchmove":"mousemove",oZ=Pl?"touchstart":"mousedown",cS=E0?"pointerdown":oZ,dS=E0?"pointermove":sZ,hS=E0?"pointerup pointercancel":iZ,fS="resize",mi="transitionend",pS="wheel",mS="ready",gS="show",vS="shown",yS="hide",_S="hidden",bS="view",_d="viewed",wS="move",TS="moved",ES="rotate",IS="rotated",SS="scale",CS="scaled",AS="zoom",OS="zoomed",PS="play",kS="stop",hp="".concat(lt,"Action"),I0=/\s\s*/,$h=["zoom-in","zoom-out","one-to-one","reset","prev","play","next","rotate-left","rotate-right","flip-horizontal","flip-vertical"];function bd(t){return typeof t=="string"}var aZ=Number.isNaN||Rs.isNaN;function fn(t){return typeof t=="number"&&!aZ(t)}function dl(t){return typeof t>"u"}function tu(t){return My(t)==="object"&&t!==null}var lZ=Object.prototype.hasOwnProperty;function hl(t){if(!tu(t))return!1;try{var e=t.constructor,n=e.prototype;return e&&n&&lZ.call(n,"isPrototypeOf")}catch{return!1}}function zt(t){return typeof t=="function"}function Jt(t,e){if(t&&zt(e))if(Array.isArray(t)||fn(t.length)){var n=t.length,r;for(r=0;r<n&&e.call(t,t[r],r,t)!==!1;r+=1);}else tu(t)&&Object.keys(t).forEach(function(i){e.call(t,t[i],i,t)});return t}var Yr=Object.assign||function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return tu(e)&&r.length>0&&r.forEach(function(s){tu(s)&&Object.keys(s).forEach(function(o){e[o]=s[o]})}),e},uZ=/^(?:width|height|left|top|marginLeft|marginTop)$/;function wi(t,e){var n=t.style;Jt(e,function(r,i){uZ.test(i)&&fn(r)&&(r+="px"),n[i]=r})}function cZ(t){return bd(t)?t.replace(/&(?!amp;|quot;|#39;|lt;|gt;)/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;"):t}function rl(t,e){return!t||!e?!1:t.classList?t.classList.contains(e):t.className.indexOf(e)>-1}function nt(t,e){if(!(!t||!e)){if(fn(t.length)){Jt(t,function(r){nt(r,e)});return}if(t.classList){t.classList.add(e);return}var n=t.className.trim();n?n.indexOf(e)<0&&(t.className="".concat(n," ").concat(e)):t.className=e}}function kt(t,e){if(!(!t||!e)){if(fn(t.length)){Jt(t,function(n){kt(n,e)});return}if(t.classList){t.classList.remove(e);return}t.className.indexOf(e)>=0&&(t.className=t.className.replace(e,""))}}function wd(t,e,n){if(e){if(fn(t.length)){Jt(t,function(r){wd(r,e,n)});return}n?nt(t,e):kt(t,e)}}var dZ=/([a-z\d])([A-Z])/g;function S0(t){return t.replace(dZ,"$1-$2").toLowerCase()}function fl(t,e){return tu(t[e])?t[e]:t.dataset?t.dataset[e]:t.getAttribute("data-".concat(S0(e)))}function Fy(t,e,n){tu(n)?t[e]=n:t.dataset?t.dataset[e]=n:t.setAttribute("data-".concat(S0(e)),n)}var Qx=function(){var t=!1;if(wm){var e=!1,n=function(){},r=Object.defineProperty({},"once",{get:function(){return t=!0,e},set:function(s){e=s}});Rs.addEventListener("test",n,r),Rs.removeEventListener("test",n,r)}return t}();function Kt(t,e,n){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},i=n;e.trim().split(I0).forEach(function(s){if(!Qx){var o=t.listeners;o&&o[s]&&o[s][n]&&(i=o[s][n],delete o[s][n],Object.keys(o[s]).length===0&&delete o[s],Object.keys(o).length===0&&delete t.listeners)}t.removeEventListener(s,i,r)})}function it(t,e,n){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},i=n;e.trim().split(I0).forEach(function(s){if(r.once&&!Qx){var o=t.listeners,a=o===void 0?{}:o;i=function(){delete a[s][n],t.removeEventListener(s,i,r);for(var u=arguments.length,c=new Array(u),h=0;h<u;h++)c[h]=arguments[h];n.apply(t,c)},a[s]||(a[s]={}),a[s][n]&&t.removeEventListener(s,a[s][n],r),a[s][n]=i,t.listeners=a}t.addEventListener(s,i,r)})}function bn(t,e,n,r){var i;return zt(Event)&&zt(CustomEvent)?i=new CustomEvent(e,T0({bubbles:!0,cancelable:!0,detail:n},r)):(i=document.createEvent("CustomEvent"),i.initCustomEvent(e,!0,!0,n)),t.dispatchEvent(i)}function hZ(t){var e=t.getBoundingClientRect();return{left:e.left+(window.pageXOffset-document.documentElement.clientLeft),top:e.top+(window.pageYOffset-document.documentElement.clientTop)}}function af(t){var e=t.rotate,n=t.scaleX,r=t.scaleY,i=t.translateX,s=t.translateY,o=[];fn(i)&&i!==0&&o.push("translateX(".concat(i,"px)")),fn(s)&&s!==0&&o.push("translateY(".concat(s,"px)")),fn(e)&&e!==0&&o.push("rotate(".concat(e,"deg)")),fn(n)&&n!==1&&o.push("scaleX(".concat(n,")")),fn(r)&&r!==1&&o.push("scaleY(".concat(r,")"));var a=o.length?o.join(" "):"none";return{WebkitTransform:a,msTransform:a,transform:a}}function fZ(t){return bd(t)?decodeURIComponent(t.replace(/^.*\//,"").replace(/[?&#].*$/,"")):""}var Gg=Rs.navigator&&/Version\/\d+(\.\d+)+?\s+Safari/i.test(Rs.navigator.userAgent);function Xx(t,e,n){var r=document.createElement("img");if(t.naturalWidth&&!Gg)return n(t.naturalWidth,t.naturalHeight),r;var i=document.body||document.documentElement;return r.onload=function(){n(r.width,r.height),Gg||i.removeChild(r)},Jt(e.inheritedAttributes,function(s){var o=t.getAttribute(s);o!==null&&r.setAttribute(s,o)}),r.src=t.src,Gg||(r.style.cssText="left:0;max-height:none!important;max-width:none!important;min-height:0!important;min-width:0!important;opacity:0;position:absolute;top:0;z-index:-1;",i.appendChild(r)),r}function Uh(t){switch(t){case 2:return nZ;case 3:return tZ;case 4:return eZ;default:return""}}function pZ(t){var e=T0({},t),n=[];return Jt(t,function(r,i){delete e[i],Jt(e,function(s){var o=Math.abs(r.startX-s.startX),a=Math.abs(r.startY-s.startY),l=Math.abs(r.endX-s.endX),u=Math.abs(r.endY-s.endY),c=Math.sqrt(o*o+a*a),h=Math.sqrt(l*l+u*u),f=(h-c)/c;n.push(f)})}),n.sort(function(r,i){return Math.abs(r)<Math.abs(i)}),n[0]}function Bh(t,e){var n=t.pageX,r=t.pageY,i={endX:n,endY:r};return e?i:T0({timeStamp:Date.now(),startX:n,startY:r},i)}function mZ(t){var e=0,n=0,r=0;return Jt(t,function(i){var s=i.startX,o=i.startY;e+=s,n+=o,r+=1}),e/=r,n/=r,{pageX:e,pageY:n}}var gZ={render:function(){this.initContainer(),this.initViewer(),this.initList(),this.renderViewer()},initBody:function(){var e=this.element.ownerDocument,n=e.body||e.documentElement;this.body=n,this.scrollbarWidth=window.innerWidth-e.documentElement.clientWidth,this.initialBodyPaddingRight=n.style.paddingRight,this.initialBodyComputedPaddingRight=window.getComputedStyle(n).paddingRight},initContainer:function(){this.containerData={width:window.innerWidth,height:window.innerHeight}},initViewer:function(){var e=this.options,n=this.parent,r;e.inline&&(r={width:Math.max(n.offsetWidth,e.minWidth),height:Math.max(n.offsetHeight,e.minHeight)},this.parentData=r),(this.fulled||!r)&&(r=this.containerData),this.viewerData=Yr({},r)},renderViewer:function(){this.options.inline&&!this.fulled&&wi(this.viewer,this.viewerData)},initList:function(){var e=this,n=this.element,r=this.options,i=this.list,s=[];i.innerHTML="",Jt(this.images,function(o,a){var l=o.src,u=o.alt||fZ(l),c=e.getImageURL(o);if(l||c){var h=document.createElement("li"),f=document.createElement("img");Jt(r.inheritedAttributes,function(p){var g=o.getAttribute(p);g!==null&&f.setAttribute(p,g)}),r.navbar&&(f.src=l||c),f.alt=u,f.setAttribute("data-original-url",c||l),h.setAttribute("data-index",a),h.setAttribute("data-viewer-action","view"),h.setAttribute("role","button"),r.keyboard&&h.setAttribute("tabindex",0),h.appendChild(f),i.appendChild(h),s.push(h)}}),this.items=s,Jt(s,function(o){var a=o.firstElementChild,l,u;Fy(a,"filled",!0),r.loading&&nt(o,kl),it(a,ri,l=function(h){Kt(a,ia,u),r.loading&&kt(o,kl),e.loadImage(h)},{once:!0}),it(a,ia,u=function(){Kt(a,ri,l),r.loading&&kt(o,kl)},{once:!0})}),r.transition&&it(n,_d,function(){nt(i,vn)},{once:!0})},renderList:function(){var e=this.index,n=this.items[e];if(n){var r=n.nextElementSibling,i=parseInt(window.getComputedStyle(r||n).marginLeft,10),s=n.offsetWidth,o=s+i;wi(this.list,Yr({width:o*this.length-i},af({translateX:(this.viewerData.width-s)/2-o*e})))}},resetList:function(){var e=this.list;e.innerHTML="",kt(e,vn),wi(e,af({translateX:0}))},initImage:function(e){var n=this,r=this.options,i=this.image,s=this.viewerData,o=this.footer.offsetHeight,a=s.width,l=Math.max(s.height-o,o),u=this.imageData||{},c;this.imageInitializing={abort:function(){c.onload=null}},c=Xx(i,r,function(h,f){var p=h/f,g=Math.max(0,Math.min(1,r.initialCoverage)),b=a,S=l;n.imageInitializing=!1,l*p>a?S=a/p:b=l*p,g=fn(g)?g:.9,b=Math.min(b*g,h),S=Math.min(S*g,f);var R=(a-b)/2,P=(l-S)/2,w={left:R,top:P,x:R,y:P,width:b,height:S,oldRatio:1,ratio:b/h,aspectRatio:p,naturalWidth:h,naturalHeight:f},E=Yr({},w);r.rotatable&&(w.rotate=u.rotate||0,E.rotate=0),r.scalable&&(w.scaleX=u.scaleX||1,w.scaleY=u.scaleY||1,E.scaleX=1,E.scaleY=1),n.imageData=w,n.initialImageData=E,e&&e()})},renderImage:function(e){var n=this,r=this.image,i=this.imageData;if(wi(r,Yr({width:i.width,height:i.height,marginLeft:i.x,marginTop:i.y},af(i))),e)if((this.viewing||this.moving||this.rotating||this.scaling||this.zooming)&&this.options.transition&&rl(r,vn)){var s=function(){n.imageRendering=!1,e()};this.imageRendering={abort:function(){Kt(r,mi,s)}},it(r,mi,s,{once:!0})}else e()},resetImage:function(){var e=this.image;e&&(this.viewing&&this.viewing.abort(),e.parentNode.removeChild(e),this.image=null,this.title.innerHTML="")}},vZ={bind:function(){var e=this.options,n=this.viewer,r=this.canvas,i=this.element.ownerDocument;it(n,eu,this.onClick=this.click.bind(this)),it(n,aS,this.onDragStart=this.dragstart.bind(this)),it(r,cS,this.onPointerDown=this.pointerdown.bind(this)),it(i,dS,this.onPointerMove=this.pointermove.bind(this)),it(i,hS,this.onPointerUp=this.pointerup.bind(this)),it(i,uS,this.onKeyDown=this.keydown.bind(this)),it(window,fS,this.onResize=this.resize.bind(this)),e.zoomable&&e.zoomOnWheel&&it(n,pS,this.onWheel=this.wheel.bind(this),{passive:!1,capture:!0}),e.toggleOnDblclick&&it(r,Vy,this.onDblclick=this.dblclick.bind(this))},unbind:function(){var e=this.options,n=this.viewer,r=this.canvas,i=this.element.ownerDocument;Kt(n,eu,this.onClick),Kt(n,aS,this.onDragStart),Kt(r,cS,this.onPointerDown),Kt(i,dS,this.onPointerMove),Kt(i,hS,this.onPointerUp),Kt(i,uS,this.onKeyDown),Kt(window,fS,this.onResize),e.zoomable&&e.zoomOnWheel&&Kt(n,pS,this.onWheel,{passive:!1,capture:!0}),e.toggleOnDblclick&&Kt(r,Vy,this.onDblclick)}},yZ={click:function(e){var n=this.options,r=this.imageData,i=e.target,s=fl(i,hp);switch(!s&&i.localName==="img"&&i.parentElement.localName==="li"&&(i=i.parentElement,s=fl(i,hp)),Pl&&e.isTrusted&&i===this.canvas&&clearTimeout(this.clickCanvasTimeout),s){case"mix":this.played?this.stop():n.inline?this.fulled?this.exit():this.full():this.hide();break;case"hide":this.pointerMoved||this.hide();break;case"view":this.view(fl(i,"index"));break;case"zoom-in":this.zoom(.1,!0);break;case"zoom-out":this.zoom(-.1,!0);break;case"one-to-one":this.toggle();break;case"reset":this.reset();break;case"prev":this.prev(n.loop);break;case"play":this.play(n.fullscreen);break;case"next":this.next(n.loop);break;case"rotate-left":this.rotate(-90);break;case"rotate-right":this.rotate(90);break;case"flip-horizontal":this.scaleX(-r.scaleX||-1);break;case"flip-vertical":this.scaleY(-r.scaleY||-1);break;default:this.played&&this.stop()}},dblclick:function(e){e.preventDefault(),this.viewed&&e.target===this.image&&(Pl&&e.isTrusted&&clearTimeout(this.doubleClickImageTimeout),this.toggle(e.isTrusted?e:e.detail&&e.detail.originalEvent))},load:function(){var e=this;this.timeout&&(clearTimeout(this.timeout),this.timeout=!1);var n=this.element,r=this.options,i=this.image,s=this.index,o=this.viewerData;kt(i,Cc),r.loading&&kt(this.canvas,kl),i.style.cssText="height:0;"+"margin-left:".concat(o.width/2,"px;")+"margin-top:".concat(o.height/2,"px;")+"max-width:none!important;position:relative;width:0;",this.initImage(function(){wd(i,rZ,r.movable),wd(i,vn,r.transition),e.renderImage(function(){e.viewed=!0,e.viewing=!1,zt(r.viewed)&&it(n,_d,r.viewed,{once:!0}),bn(n,_d,{originalImage:e.images[s],index:s,image:i},{cancelable:!1})})})},loadImage:function(e){var n=e.target,r=n.parentNode,i=r.offsetWidth||30,s=r.offsetHeight||50,o=!!fl(n,"filled");Xx(n,this.options,function(a,l){var u=a/l,c=i,h=s;s*u>i?o?c=s*u:h=i/u:o?h=i/u:c=s*u,wi(n,Yr({width:c,height:h},af({translateX:(i-c)/2,translateY:(s-h)/2})))})},keydown:function(e){var n=this.options;if(n.keyboard){var r=e.keyCode||e.which||e.charCode;switch(r){case 13:this.viewer.contains(e.target)&&this.click(e);break}if(this.fulled)switch(r){case 27:this.played?this.stop():n.inline?this.fulled&&this.exit():this.hide();break;case 32:this.played&&this.stop();break;case 37:this.played&&this.playing?this.playing.prev():this.prev(n.loop);break;case 38:e.preventDefault(),this.zoom(n.zoomRatio,!0);break;case 39:this.played&&this.playing?this.playing.next():this.next(n.loop);break;case 40:e.preventDefault(),this.zoom(-n.zoomRatio,!0);break;case 48:case 49:e.ctrlKey&&(e.preventDefault(),this.toggle());break}}},dragstart:function(e){e.target.localName==="img"&&e.preventDefault()},pointerdown:function(e){var n=this.options,r=this.pointers,i=e.buttons,s=e.button;if(this.pointerMoved=!1,!(!this.viewed||this.showing||this.viewing||this.hiding||(e.type==="mousedown"||e.type==="pointerdown"&&e.pointerType==="mouse")&&(fn(i)&&i!==1||fn(s)&&s!==0||e.ctrlKey))){e.preventDefault(),e.changedTouches?Jt(e.changedTouches,function(a){r[a.identifier]=Bh(a)}):r[e.pointerId||0]=Bh(e);var o=n.movable?sf:!1;n.zoomOnTouch&&n.zoomable&&Object.keys(r).length>1?o=ec:n.slideOnTouch&&(e.pointerType==="touch"||e.type==="touchstart")&&this.isSwitchable()&&(o=Gx),n.transition&&(o===sf||o===ec)&&kt(this.image,vn),this.action=o}},pointermove:function(e){var n=this.pointers,r=this.action;!this.viewed||!r||(e.preventDefault(),e.changedTouches?Jt(e.changedTouches,function(i){Yr(n[i.identifier]||{},Bh(i,!0))}):Yr(n[e.pointerId||0]||{},Bh(e,!0)),this.change(e))},pointerup:function(e){var n=this,r=this.options,i=this.action,s=this.pointers,o;e.changedTouches?Jt(e.changedTouches,function(a){o=s[a.identifier],delete s[a.identifier]}):(o=s[e.pointerId||0],delete s[e.pointerId||0]),i&&(e.preventDefault(),r.transition&&(i===sf||i===ec)&&nt(this.image,vn),this.action=!1,Pl&&i!==ec&&o&&Date.now()-o.timeStamp<500&&(clearTimeout(this.clickCanvasTimeout),clearTimeout(this.doubleClickImageTimeout),r.toggleOnDblclick&&this.viewed&&e.target===this.image?this.imageClicked?(this.imageClicked=!1,this.doubleClickImageTimeout=setTimeout(function(){bn(n.image,Vy,{originalEvent:e})},50)):(this.imageClicked=!0,this.doubleClickImageTimeout=setTimeout(function(){n.imageClicked=!1},500)):(this.imageClicked=!1,r.backdrop&&r.backdrop!=="static"&&e.target===this.canvas&&(this.clickCanvasTimeout=setTimeout(function(){bn(n.canvas,eu,{originalEvent:e})},50)))))},resize:function(){var e=this;if(!(!this.isShown||this.hiding)&&(this.fulled&&(this.close(),this.initBody(),this.open()),this.initContainer(),this.initViewer(),this.renderViewer(),this.renderList(),this.viewed&&this.initImage(function(){e.renderImage()}),this.played)){if(this.options.fullscreen&&this.fulled&&!(document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement)){this.stop();return}Jt(this.player.getElementsByTagName("img"),function(n){it(n,ri,e.loadImage.bind(e),{once:!0}),bn(n,ri)})}},wheel:function(e){var n=this;if(this.viewed&&(e.preventDefault(),!this.wheeling)){this.wheeling=!0,setTimeout(function(){n.wheeling=!1},50);var r=Number(this.options.zoomRatio)||.1,i=1;e.deltaY?i=e.deltaY>0?1:-1:e.wheelDelta?i=-e.wheelDelta/120:e.detail&&(i=e.detail>0?1:-1),this.zoom(-i*r,!0,null,e)}}},_Z={show:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,n=this.element,r=this.options;if(r.inline||this.showing||this.isShown||this.showing)return this;if(!this.ready)return this.build(),this.ready&&this.show(e),this;if(zt(r.show)&&it(n,gS,r.show,{once:!0}),bn(n,gS)===!1||!this.ready)return this;this.hiding&&this.transitioning.abort(),this.showing=!0,this.open();var i=this.viewer;if(kt(i,qo),i.setAttribute("role","dialog"),i.setAttribute("aria-labelledby",this.title.id),i.setAttribute("aria-modal",!0),i.removeAttribute("aria-hidden"),r.transition&&!e){var s=this.shown.bind(this);this.transitioning={abort:function(){Kt(i,mi,s),kt(i,ei)}},nt(i,vn),i.initialOffsetWidth=i.offsetWidth,it(i,mi,s,{once:!0}),nt(i,ei)}else nt(i,ei),this.shown();return this},hide:function(){var e=this,n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,r=this.element,i=this.options;if(i.inline||this.hiding||!(this.isShown||this.showing))return this;if(zt(i.hide)&&it(r,yS,i.hide,{once:!0}),bn(r,yS)===!1)return this;this.showing&&this.transitioning.abort(),this.hiding=!0,this.played?this.stop():this.viewing&&this.viewing.abort();var s=this.viewer,o=this.image,a=function(){kt(s,ei),e.hidden()};if(i.transition&&!n){var l=function c(h){h&&h.target===s&&(Kt(s,mi,c),e.hidden())},u=function(){rl(s,vn)?(it(s,mi,l),kt(s,ei)):a()};this.transitioning={abort:function(){e.viewed&&rl(o,vn)?Kt(o,mi,u):rl(s,vn)&&Kt(s,mi,l)}},this.viewed&&rl(o,vn)?(it(o,mi,u,{once:!0}),this.zoomTo(0,!1,null,null,!0)):u()}else a();return this},view:function(){var e=this,n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.options.initialViewIndex;if(n=Number(n)||0,this.hiding||this.played||n<0||n>=this.length||this.viewed&&n===this.index)return this;if(!this.isShown)return this.index=n,this.show();this.viewing&&this.viewing.abort();var r=this.element,i=this.options,s=this.title,o=this.canvas,a=this.items[n],l=a.querySelector("img"),u=fl(l,"originalUrl"),c=l.getAttribute("alt"),h=document.createElement("img");if(Jt(i.inheritedAttributes,function(S){var R=l.getAttribute(S);R!==null&&h.setAttribute(S,R)}),h.src=u,h.alt=c,zt(i.view)&&it(r,bS,i.view,{once:!0}),bn(r,bS,{originalImage:this.images[n],index:n,image:h})===!1||!this.isShown||this.hiding||this.played)return this;var f=this.items[this.index];f&&(kt(f,Fh),f.removeAttribute("aria-selected")),nt(a,Fh),a.setAttribute("aria-selected",!0),i.focus&&a.focus(),this.image=h,this.viewed=!1,this.index=n,this.imageData={},nt(h,Cc),i.loading&&nt(o,kl),o.innerHTML="",o.appendChild(h),this.renderList(),s.innerHTML="";var p=function(){var R=e.imageData,P=Array.isArray(i.title)?i.title[1]:i.title;s.innerHTML=cZ(zt(P)?P.call(e,h,R):"".concat(c," (").concat(R.naturalWidth,"  ").concat(R.naturalHeight,")"))},g,b;return it(r,_d,p,{once:!0}),this.viewing={abort:function(){Kt(r,_d,p),h.complete?e.imageRendering?e.imageRendering.abort():e.imageInitializing&&e.imageInitializing.abort():(h.src="",Kt(h,ri,g),e.timeout&&clearTimeout(e.timeout))}},h.complete?this.load():(it(h,ri,g=function(){Kt(h,ia,b),e.load()},{once:!0}),it(h,ia,b=function(){Kt(h,ri,g),e.timeout&&(clearTimeout(e.timeout),e.timeout=!1),kt(h,Cc),i.loading&&kt(e.canvas,kl)},{once:!0}),this.timeout&&clearTimeout(this.timeout),this.timeout=setTimeout(function(){kt(h,Cc),e.timeout=!1},1e3)),this},prev:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,n=this.index-1;return n<0&&(n=e?this.length-1:0),this.view(n),this},next:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,n=this.length-1,r=this.index+1;return r>n&&(r=e?0:n),this.view(r),this},move:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e,r=this.imageData;return this.moveTo(dl(e)?e:r.x+Number(e),dl(n)?n:r.y+Number(n)),this},moveTo:function(e){var n=this,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,s=this.element,o=this.options,a=this.imageData;if(e=Number(e),r=Number(r),this.viewed&&!this.played&&o.movable){var l=a.x,u=a.y,c=!1;if(fn(e)?c=!0:e=l,fn(r)?c=!0:r=u,c){if(zt(o.move)&&it(s,wS,o.move,{once:!0}),bn(s,wS,{x:e,y:r,oldX:l,oldY:u,originalEvent:i})===!1)return this;a.x=e,a.y=r,a.left=e,a.top=r,this.moving=!0,this.renderImage(function(){n.moving=!1,zt(o.moved)&&it(s,TS,o.moved,{once:!0}),bn(s,TS,{x:e,y:r,oldX:l,oldY:u,originalEvent:i},{cancelable:!1})})}}return this},rotate:function(e){return this.rotateTo((this.imageData.rotate||0)+Number(e)),this},rotateTo:function(e){var n=this,r=this.element,i=this.options,s=this.imageData;if(e=Number(e),fn(e)&&this.viewed&&!this.played&&i.rotatable){var o=s.rotate;if(zt(i.rotate)&&it(r,ES,i.rotate,{once:!0}),bn(r,ES,{degree:e,oldDegree:o})===!1)return this;s.rotate=e,this.rotating=!0,this.renderImage(function(){n.rotating=!1,zt(i.rotated)&&it(r,IS,i.rotated,{once:!0}),bn(r,IS,{degree:e,oldDegree:o},{cancelable:!1})})}return this},scaleX:function(e){return this.scale(e,this.imageData.scaleY),this},scaleY:function(e){return this.scale(this.imageData.scaleX,e),this},scale:function(e){var n=this,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e,i=this.element,s=this.options,o=this.imageData;if(e=Number(e),r=Number(r),this.viewed&&!this.played&&s.scalable){var a=o.scaleX,l=o.scaleY,u=!1;if(fn(e)?u=!0:e=a,fn(r)?u=!0:r=l,u){if(zt(s.scale)&&it(i,SS,s.scale,{once:!0}),bn(i,SS,{scaleX:e,scaleY:r,oldScaleX:a,oldScaleY:l})===!1)return this;o.scaleX=e,o.scaleY=r,this.scaling=!0,this.renderImage(function(){n.scaling=!1,zt(s.scaled)&&it(i,CS,s.scaled,{once:!0}),bn(i,CS,{scaleX:e,scaleY:r,oldScaleX:a,oldScaleY:l},{cancelable:!1})})}}return this},zoom:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null,s=this.imageData;return e=Number(e),e<0?e=1/(1-e):e=1+e,this.zoomTo(s.width*e/s.naturalWidth,n,r,i),this},zoomTo:function(e){var n=this,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null,o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1,a=this.element,l=this.options,u=this.pointers,c=this.imageData,h=c.x,f=c.y,p=c.width,g=c.height,b=c.naturalWidth,S=c.naturalHeight;if(e=Math.max(0,e),fn(e)&&this.viewed&&!this.played&&(o||l.zoomable)){if(!o){var R=Math.max(.01,l.minZoomRatio),P=Math.min(100,l.maxZoomRatio);e=Math.min(Math.max(e,R),P)}if(s)switch(s.type){case"wheel":l.zoomRatio>=.055&&e>.95&&e<1.05&&(e=1);break;case"pointermove":case"touchmove":case"mousemove":e>.99&&e<1.01&&(e=1);break}var w=b*e,E=S*e,N=w-p,M=E-g,I=c.ratio;if(zt(l.zoom)&&it(a,AS,l.zoom,{once:!0}),bn(a,AS,{ratio:e,oldRatio:I,originalEvent:s})===!1)return this;if(this.zooming=!0,s){var T=hZ(this.viewer),_=u&&Object.keys(u).length>0?mZ(u):{pageX:s.pageX,pageY:s.pageY};c.x-=N*((_.pageX-T.left-h)/p),c.y-=M*((_.pageY-T.top-f)/g)}else hl(i)&&fn(i.x)&&fn(i.y)?(c.x-=N*((i.x-h)/p),c.y-=M*((i.y-f)/g)):(c.x-=N/2,c.y-=M/2);c.left=c.x,c.top=c.y,c.width=w,c.height=E,c.oldRatio=I,c.ratio=e,this.renderImage(function(){n.zooming=!1,zt(l.zoomed)&&it(a,OS,l.zoomed,{once:!0}),bn(a,OS,{ratio:e,oldRatio:I,originalEvent:s},{cancelable:!1})}),r&&this.tooltip()}return this},play:function(){var e=this,n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;if(!this.isShown||this.played)return this;var r=this.element,i=this.options;if(zt(i.play)&&it(r,PS,i.play,{once:!0}),bn(r,PS)===!1)return this;var s=this.player,o=this.loadImage.bind(this),a=[],l=0,u=0;if(this.played=!0,this.onLoadWhenPlay=o,n&&this.requestFullscreen(n),nt(s,Ya),Jt(this.items,function(f,p){var g=f.querySelector("img"),b=document.createElement("img");b.src=fl(g,"originalUrl"),b.alt=g.getAttribute("alt"),b.referrerPolicy=g.referrerPolicy,l+=1,nt(b,of),wd(b,vn,i.transition),rl(f,Fh)&&(nt(b,ei),u=p),a.push(b),it(b,ri,o,{once:!0}),s.appendChild(b)}),fn(i.interval)&&i.interval>0){var c=function f(){clearTimeout(e.playing.timeout),kt(a[u],ei),u-=1,u=u>=0?u:l-1,nt(a[u],ei),e.playing.timeout=setTimeout(f,i.interval)},h=function f(){clearTimeout(e.playing.timeout),kt(a[u],ei),u+=1,u=u<l?u:0,nt(a[u],ei),e.playing.timeout=setTimeout(f,i.interval)};l>1&&(this.playing={prev:c,next:h,timeout:setTimeout(h,i.interval)})}return this},stop:function(){var e=this;if(!this.played)return this;var n=this.element,r=this.options;if(zt(r.stop)&&it(n,kS,r.stop,{once:!0}),bn(n,kS)===!1)return this;var i=this.player;return clearTimeout(this.playing.timeout),this.playing=!1,this.played=!1,Jt(i.getElementsByTagName("img"),function(s){Kt(s,ri,e.onLoadWhenPlay)}),kt(i,Ya),i.innerHTML="",this.exitFullscreen(),this},full:function(){var e=this,n=this.options,r=this.viewer,i=this.image,s=this.list;return!this.isShown||this.played||this.fulled||!n.inline?this:(this.fulled=!0,this.open(),nt(this.button,sS),n.transition&&(kt(s,vn),this.viewed&&kt(i,vn)),nt(r,Ly),r.setAttribute("role","dialog"),r.setAttribute("aria-labelledby",this.title.id),r.setAttribute("aria-modal",!0),r.removeAttribute("style"),wi(r,{zIndex:n.zIndex}),n.focus&&this.enforceFocus(),this.initContainer(),this.viewerData=Yr({},this.containerData),this.renderList(),this.viewed&&this.initImage(function(){e.renderImage(function(){n.transition&&setTimeout(function(){nt(i,vn),nt(s,vn)},0)})}),this)},exit:function(){var e=this,n=this.options,r=this.viewer,i=this.image,s=this.list;return!this.isShown||this.played||!this.fulled||!n.inline?this:(this.fulled=!1,this.close(),kt(this.button,sS),n.transition&&(kt(s,vn),this.viewed&&kt(i,vn)),n.focus&&this.clearEnforceFocus(),r.removeAttribute("role"),r.removeAttribute("aria-labelledby"),r.removeAttribute("aria-modal"),kt(r,Ly),wi(r,{zIndex:n.zIndexInline}),this.viewerData=Yr({},this.parentData),this.renderViewer(),this.renderList(),this.viewed&&this.initImage(function(){e.renderImage(function(){n.transition&&setTimeout(function(){nt(i,vn),nt(s,vn)},0)})}),this)},tooltip:function(){var e=this,n=this.options,r=this.tooltipBox,i=this.imageData;return!this.viewed||this.played||!n.tooltip?this:(r.textContent="".concat(Math.round(i.ratio*100),"%"),this.tooltipping?clearTimeout(this.tooltipping):n.transition?(this.fading&&bn(r,mi),nt(r,Ya),nt(r,of),nt(r,vn),r.removeAttribute("aria-hidden"),r.initialOffsetWidth=r.offsetWidth,nt(r,ei)):(nt(r,Ya),r.removeAttribute("aria-hidden")),this.tooltipping=setTimeout(function(){n.transition?(it(r,mi,function(){kt(r,Ya),kt(r,of),kt(r,vn),r.setAttribute("aria-hidden",!0),e.fading=!1},{once:!0}),kt(r,ei),e.fading=!0):(kt(r,Ya),r.setAttribute("aria-hidden",!0)),e.tooltipping=!1},1e3),this)},toggle:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;return this.imageData.ratio===1?this.zoomTo(this.imageData.oldRatio,!0,null,e):this.zoomTo(1,!0,null,e),this},reset:function(){return this.viewed&&!this.played&&(this.imageData=Yr({},this.initialImageData),this.renderImage()),this},update:function(){var e=this,n=this.element,r=this.options,i=this.isImg;if(i&&!n.parentNode)return this.destroy();var s=[];if(Jt(i?[n]:n.querySelectorAll("img"),function(u){zt(r.filter)?r.filter.call(e,u)&&s.push(u):e.getImageURL(u)&&s.push(u)}),!s.length)return this;if(this.images=s,this.length=s.length,this.ready){var o=[];if(Jt(this.items,function(u,c){var h=u.querySelector("img"),f=s[c];f&&h?(f.src!==h.src||f.alt!==h.alt)&&o.push(c):o.push(c)}),wi(this.list,{width:"auto"}),this.initList(),this.isShown)if(this.length){if(this.viewed){var a=o.indexOf(this.index);if(a>=0)this.viewed=!1,this.view(Math.max(Math.min(this.index-a,this.length-1),0));else{var l=this.items[this.index];nt(l,Fh),l.setAttribute("aria-selected",!0)}}}else this.image=null,this.viewed=!1,this.index=0,this.imageData={},this.canvas.innerHTML="",this.title.innerHTML=""}else this.build();return this},destroy:function(){var e=this.element,n=this.options;return e[lt]?(this.destroyed=!0,this.ready?(this.played&&this.stop(),n.inline?(this.fulled&&this.exit(),this.unbind()):this.isShown?(this.viewing&&(this.imageRendering?this.imageRendering.abort():this.imageInitializing&&this.imageInitializing.abort()),this.hiding&&this.transitioning.abort(),this.hidden()):this.showing&&(this.transitioning.abort(),this.hidden()),this.ready=!1,this.viewer.parentNode.removeChild(this.viewer)):n.inline&&(this.delaying?this.delaying.abort():this.initializing&&this.initializing.abort()),n.inline||Kt(e,eu,this.onStart),e[lt]=void 0,this):this}},bZ={getImageURL:function(e){var n=this.options.url;return bd(n)?n=e.getAttribute(n):zt(n)?n=n.call(this,e):n="",n},enforceFocus:function(){var e=this;this.clearEnforceFocus(),it(document,lS,this.onFocusin=function(n){var r=e.viewer,i=n.target;if(!(i===document||i===r||r.contains(i))){for(;i;){if(i.getAttribute("tabindex")!==null||i.getAttribute("aria-modal")==="true")return;i=i.parentElement}r.focus()}})},clearEnforceFocus:function(){this.onFocusin&&(Kt(document,lS,this.onFocusin),this.onFocusin=null)},open:function(){var e=this.body;nt(e,oS),this.scrollbarWidth>0&&(e.style.paddingRight="".concat(this.scrollbarWidth+(parseFloat(this.initialBodyComputedPaddingRight)||0),"px"))},close:function(){var e=this.body;kt(e,oS),this.scrollbarWidth>0&&(e.style.paddingRight=this.initialBodyPaddingRight)},shown:function(){var e=this.element,n=this.options,r=this.viewer;this.fulled=!0,this.isShown=!0,this.render(),this.bind(),this.showing=!1,n.focus&&(r.focus(),this.enforceFocus()),zt(n.shown)&&it(e,vS,n.shown,{once:!0}),bn(e,vS)!==!1&&this.ready&&this.isShown&&!this.hiding&&this.view(this.index)},hidden:function(){var e=this.element,n=this.options,r=this.viewer;n.fucus&&this.clearEnforceFocus(),this.close(),this.unbind(),nt(r,qo),r.removeAttribute("role"),r.removeAttribute("aria-labelledby"),r.removeAttribute("aria-modal"),r.setAttribute("aria-hidden",!0),this.resetList(),this.resetImage(),this.fulled=!1,this.viewed=!1,this.isShown=!1,this.hiding=!1,this.destroyed||(zt(n.hidden)&&it(e,_S,n.hidden,{once:!0}),bn(e,_S,null,{cancelable:!1}))},requestFullscreen:function(e){var n=this.element.ownerDocument;if(this.fulled&&!(n.fullscreenElement||n.webkitFullscreenElement||n.mozFullScreenElement||n.msFullscreenElement)){var r=n.documentElement;r.requestFullscreen?hl(e)?r.requestFullscreen(e):r.requestFullscreen():r.webkitRequestFullscreen?r.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT):r.mozRequestFullScreen?r.mozRequestFullScreen():r.msRequestFullscreen&&r.msRequestFullscreen()}},exitFullscreen:function(){var e=this.element.ownerDocument;this.fulled&&(e.fullscreenElement||e.webkitFullscreenElement||e.mozFullScreenElement||e.msFullscreenElement)&&(e.exitFullscreen?e.exitFullscreen():e.webkitExitFullscreen?e.webkitExitFullscreen():e.mozCancelFullScreen?e.mozCancelFullScreen():e.msExitFullscreen&&e.msExitFullscreen())},change:function(e){var n=this.options,r=this.pointers,i=r[Object.keys(r)[0]];if(i){var s=i.endX-i.startX,o=i.endY-i.startY;switch(this.action){case sf:(s!==0||o!==0)&&(this.pointerMoved=!0,this.move(s,o,e));break;case ec:this.zoom(pZ(r),!1,null,e);break;case Gx:{this.action="switched";var a=Math.abs(s);a>1&&a>Math.abs(o)&&(this.pointers={},s>1?this.prev(n.loop):s<-1&&this.next(n.loop));break}}Jt(r,function(l){l.startX=l.endX,l.startY=l.endY})}},isSwitchable:function(){var e=this.imageData,n=this.viewerData;return this.length>1&&e.x>=0&&e.y>=0&&e.width<=n.width&&e.height<=n.height}},wZ=Rs.Viewer,TZ=function(t){return function(){return t+=1,t}}(-1),nu=function(){function t(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(KJ(this,t),!e||e.nodeType!==1)throw new Error("The first argument is required and must be an element.");this.element=e,this.options=Yr({},iS,hl(n)&&n),this.action=!1,this.fading=!1,this.fulled=!1,this.hiding=!1,this.imageClicked=!1,this.imageData={},this.index=this.options.initialViewIndex,this.isImg=!1,this.isShown=!1,this.length=0,this.moving=!1,this.played=!1,this.playing=!1,this.pointers={},this.ready=!1,this.rotating=!1,this.scaling=!1,this.showing=!1,this.timeout=!1,this.tooltipping=!1,this.viewed=!1,this.viewing=!1,this.wheeling=!1,this.zooming=!1,this.pointerMoved=!1,this.id=TZ(),this.init()}return YJ(t,[{key:"init",value:function(){var n=this,r=this.element,i=this.options;if(!r[lt]){r[lt]=this,i.focus&&!i.keyboard&&(i.focus=!1);var s=r.localName==="img",o=[];if(Jt(s?[r]:r.querySelectorAll("img"),function(u){zt(i.filter)?i.filter.call(n,u)&&o.push(u):n.getImageURL(u)&&o.push(u)}),this.isImg=s,this.length=o.length,this.images=o,this.initBody(),dl(document.createElement(lt).style.transition)&&(i.transition=!1),i.inline){var a=0,l=function(){if(a+=1,a===n.length){var c;n.initializing=!1,n.delaying={abort:function(){clearTimeout(c)}},c=setTimeout(function(){n.delaying=!1,n.build()},0)}};this.initializing={abort:function(){Jt(o,function(c){c.complete||(Kt(c,ri,l),Kt(c,ia,l))})}},Jt(o,function(u){if(u.complete)l();else{var c,h;it(u,ri,c=function(){Kt(u,ia,h),l()},{once:!0}),it(u,ia,h=function(){Kt(u,ri,c),l()},{once:!0})}})}else it(r,eu,this.onStart=function(u){var c=u.target;c.localName==="img"&&(!zt(i.filter)||i.filter.call(n,c))&&n.view(n.images.indexOf(c))})}}},{key:"build",value:function(){if(!this.ready){var n=this.element,r=this.options,i=n.parentNode,s=document.createElement("div");s.innerHTML=XJ;var o=s.querySelector(".".concat(lt,"-container")),a=o.querySelector(".".concat(lt,"-title")),l=o.querySelector(".".concat(lt,"-toolbar")),u=o.querySelector(".".concat(lt,"-navbar")),c=o.querySelector(".".concat(lt,"-button")),h=o.querySelector(".".concat(lt,"-canvas"));if(this.parent=i,this.viewer=o,this.title=a,this.toolbar=l,this.navbar=u,this.button=c,this.canvas=h,this.footer=o.querySelector(".".concat(lt,"-footer")),this.tooltipBox=o.querySelector(".".concat(lt,"-tooltip")),this.player=o.querySelector(".".concat(lt,"-player")),this.list=o.querySelector(".".concat(lt,"-list")),o.id="".concat(lt).concat(this.id),a.id="".concat(lt,"Title").concat(this.id),nt(a,r.title?Uh(Array.isArray(r.title)?r.title[0]:r.title):qo),nt(u,r.navbar?Uh(r.navbar):qo),wd(c,qo,!r.button),r.keyboard&&c.setAttribute("tabindex",0),r.backdrop&&(nt(o,"".concat(lt,"-backdrop")),!r.inline&&r.backdrop!=="static"&&Fy(h,hp,"hide")),bd(r.className)&&r.className&&r.className.split(I0).forEach(function(w){nt(o,w)}),r.toolbar){var f=document.createElement("ul"),p=hl(r.toolbar),g=$h.slice(0,3),b=$h.slice(7,9),S=$h.slice(9);p||nt(l,Uh(r.toolbar)),Jt(p?r.toolbar:$h,function(w,E){var N=p&&hl(w),M=p?S0(E):w,I=N&&!dl(w.show)?w.show:w;if(!(!I||!r.zoomable&&g.indexOf(M)!==-1||!r.rotatable&&b.indexOf(M)!==-1||!r.scalable&&S.indexOf(M)!==-1)){var T=N&&!dl(w.size)?w.size:w,_=N&&!dl(w.click)?w.click:w,v=document.createElement("li");r.keyboard&&v.setAttribute("tabindex",0),v.setAttribute("role","button"),nt(v,"".concat(lt,"-").concat(M)),zt(_)||Fy(v,hp,M),fn(I)&&nt(v,Uh(I)),["small","large"].indexOf(T)!==-1?nt(v,"".concat(lt,"-").concat(T)):M==="play"&&nt(v,"".concat(lt,"-large")),zt(_)&&it(v,eu,_),f.appendChild(v)}}),l.appendChild(f)}else nt(l,qo);if(!r.rotatable){var R=l.querySelectorAll('li[class*="rotate"]');nt(R,Cc),Jt(R,function(w){l.appendChild(w)})}if(r.inline)nt(c,ZJ),wi(o,{zIndex:r.zIndexInline}),window.getComputedStyle(i).position==="static"&&wi(i,{position:"relative"}),i.insertBefore(o,n.nextSibling);else{nt(c,JJ),nt(o,Ly),nt(o,of),nt(o,qo),wi(o,{zIndex:r.zIndex});var P=r.container;bd(P)&&(P=n.ownerDocument.querySelector(P)),P||(P=this.body),P.appendChild(o)}if(r.inline&&(this.render(),this.bind(),this.isShown=!0),this.ready=!0,zt(r.ready)&&it(n,mS,r.ready,{once:!0}),bn(n,mS)===!1){this.ready=!1;return}this.ready&&r.inline&&this.view(this.index)}}}],[{key:"noConflict",value:function(){return window.Viewer=wZ,t}},{key:"setDefaults",value:function(n){Yr(iS,hl(n)&&n)}}]),t}();Yr(nu.prototype,gZ,vZ,yZ,_Z,bZ);var EZ=typeof global=="object"&&global&&global.Object===Object&&global;const Jx=EZ;var IZ=typeof self=="object"&&self&&self.Object===Object&&self,SZ=Jx||IZ||Function("return this")();const Tm=SZ;var CZ=Tm.Symbol;const fp=CZ;var Zx=Object.prototype,AZ=Zx.hasOwnProperty,OZ=Zx.toString,Wu=fp?fp.toStringTag:void 0;function PZ(t){var e=AZ.call(t,Wu),n=t[Wu];try{t[Wu]=void 0;var r=!0}catch{}var i=OZ.call(t);return r&&(e?t[Wu]=n:delete t[Wu]),i}var kZ=Object.prototype,RZ=kZ.toString;function DZ(t){return RZ.call(t)}var xZ="[object Null]",NZ="[object Undefined]",RS=fp?fp.toStringTag:void 0;function Em(t){return t==null?t===void 0?NZ:xZ:RS&&RS in Object(t)?PZ(t):DZ(t)}function Im(t){return t!=null&&typeof t=="object"}var MZ="[object Symbol]";function LZ(t){return typeof t=="symbol"||Im(t)&&Em(t)==MZ}var VZ=Array.isArray;const FZ=VZ;var $Z=/\s/;function UZ(t){for(var e=t.length;e--&&$Z.test(t.charAt(e)););return e}var BZ=/^\s+/;function jZ(t){return t&&t.slice(0,UZ(t)+1).replace(BZ,"")}function Ea(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var DS=NaN,HZ=/^[-+]0x[0-9a-f]+$/i,WZ=/^0b[01]+$/i,qZ=/^0o[0-7]+$/i,zZ=parseInt;function xS(t){if(typeof t=="number")return t;if(LZ(t))return DS;if(Ea(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=Ea(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=jZ(t);var n=WZ.test(t);return n||qZ.test(t)?zZ(t.slice(2),n?2:8):HZ.test(t)?DS:+t}function eN(t){return t}var KZ="[object AsyncFunction]",YZ="[object Function]",GZ="[object GeneratorFunction]",QZ="[object Proxy]";function tN(t){if(!Ea(t))return!1;var e=Em(t);return e==YZ||e==GZ||e==KZ||e==QZ}var XZ=Tm["__core-js_shared__"];const Qg=XZ;var NS=function(){var t=/[^.]+$/.exec(Qg&&Qg.keys&&Qg.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function JZ(t){return!!NS&&NS in t}var ZZ=Function.prototype,eee=ZZ.toString;function tee(t){if(t!=null){try{return eee.call(t)}catch{}try{return t+""}catch{}}return""}var nee=/[\\^$.*+?()[\]{}|]/g,ree=/^\[object .+?Constructor\]$/,iee=Function.prototype,see=Object.prototype,oee=iee.toString,aee=see.hasOwnProperty,lee=RegExp("^"+oee.call(aee).replace(nee,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function uee(t){if(!Ea(t)||JZ(t))return!1;var e=tN(t)?lee:ree;return e.test(tee(t))}function cee(t,e){return t==null?void 0:t[e]}function dee(t,e){var n=cee(t,e);return uee(n)?n:void 0}function hee(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}var fee=800,pee=16,mee=Date.now;function gee(t){var e=0,n=0;return function(){var r=mee(),i=pee-(r-n);if(n=r,i>0){if(++e>=fee)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}function vee(t){return function(){return t}}var yee=function(){try{var t=dee(Object,"defineProperty");return t({},"",{}),t}catch{}}();const pp=yee;var _ee=pp?function(t,e){return pp(t,"toString",{configurable:!0,enumerable:!1,value:vee(e),writable:!0})}:eN;const bee=_ee;var wee=gee(bee);const Tee=wee;var Eee=9007199254740991,Iee=/^(?:0|[1-9]\d*)$/;function nN(t,e){var n=typeof t;return e=e??Eee,!!e&&(n=="number"||n!="symbol"&&Iee.test(t))&&t>-1&&t%1==0&&t<e}function rN(t,e,n){e=="__proto__"&&pp?pp(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}function C0(t,e){return t===e||t!==t&&e!==e}var See=Object.prototype,Cee=See.hasOwnProperty;function iN(t,e,n){var r=t[e];(!(Cee.call(t,e)&&C0(r,n))||n===void 0&&!(e in t))&&rN(t,e,n)}function Aee(t,e,n,r){var i=!n;n||(n={});for(var s=-1,o=e.length;++s<o;){var a=e[s],l=r?r(n[a],t[a],a,n,t):void 0;l===void 0&&(l=t[a]),i?rN(n,a,l):iN(n,a,l)}return n}var MS=Math.max;function Oee(t,e,n){return e=MS(e===void 0?t.length-1:e,0),function(){for(var r=arguments,i=-1,s=MS(r.length-e,0),o=Array(s);++i<s;)o[i]=r[e+i];i=-1;for(var a=Array(e+1);++i<e;)a[i]=r[i];return a[e]=n(o),hee(t,this,a)}}function sN(t,e){return Tee(Oee(t,e,eN),t+"")}var Pee=9007199254740991;function oN(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=Pee}function Sm(t){return t!=null&&oN(t.length)&&!tN(t)}function aN(t,e,n){if(!Ea(n))return!1;var r=typeof e;return(r=="number"?Sm(n)&&nN(e,n.length):r=="string"&&e in n)?C0(n[e],t):!1}function kee(t){return sN(function(e,n){var r=-1,i=n.length,s=i>1?n[i-1]:void 0,o=i>2?n[2]:void 0;for(s=t.length>3&&typeof s=="function"?(i--,s):void 0,o&&aN(n[0],n[1],o)&&(s=i<3?void 0:s,i=1),e=Object(e);++r<i;){var a=n[r];a&&t(e,a,r,s)}return e})}var Ree=Object.prototype;function A0(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||Ree;return t===n}function Dee(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var xee="[object Arguments]";function LS(t){return Im(t)&&Em(t)==xee}var lN=Object.prototype,Nee=lN.hasOwnProperty,Mee=lN.propertyIsEnumerable,Lee=LS(function(){return arguments}())?LS:function(t){return Im(t)&&Nee.call(t,"callee")&&!Mee.call(t,"callee")};const Vee=Lee;function Fee(){return!1}var uN=typeof exports=="object"&&exports&&!exports.nodeType&&exports,VS=uN&&typeof module=="object"&&module&&!module.nodeType&&module,$ee=VS&&VS.exports===uN,FS=$ee?Tm.Buffer:void 0,Uee=FS?FS.isBuffer:void 0,Bee=Uee||Fee;const jee=Bee;var Hee="[object Arguments]",Wee="[object Array]",qee="[object Boolean]",zee="[object Date]",Kee="[object Error]",Yee="[object Function]",Gee="[object Map]",Qee="[object Number]",Xee="[object Object]",Jee="[object RegExp]",Zee="[object Set]",ete="[object String]",tte="[object WeakMap]",nte="[object ArrayBuffer]",rte="[object DataView]",ite="[object Float32Array]",ste="[object Float64Array]",ote="[object Int8Array]",ate="[object Int16Array]",lte="[object Int32Array]",ute="[object Uint8Array]",cte="[object Uint8ClampedArray]",dte="[object Uint16Array]",hte="[object Uint32Array]",rn={};rn[ite]=rn[ste]=rn[ote]=rn[ate]=rn[lte]=rn[ute]=rn[cte]=rn[dte]=rn[hte]=!0;rn[Hee]=rn[Wee]=rn[nte]=rn[qee]=rn[rte]=rn[zee]=rn[Kee]=rn[Yee]=rn[Gee]=rn[Qee]=rn[Xee]=rn[Jee]=rn[Zee]=rn[ete]=rn[tte]=!1;function fte(t){return Im(t)&&oN(t.length)&&!!rn[Em(t)]}function pte(t){return function(e){return t(e)}}var cN=typeof exports=="object"&&exports&&!exports.nodeType&&exports,Ac=cN&&typeof module=="object"&&module&&!module.nodeType&&module,mte=Ac&&Ac.exports===cN,Xg=mte&&Jx.process,gte=function(){try{var t=Ac&&Ac.require&&Ac.require("util").types;return t||Xg&&Xg.binding&&Xg.binding("util")}catch{}}();const $S=gte;var US=$S&&$S.isTypedArray,vte=US?pte(US):fte;const yte=vte;var _te=Object.prototype,bte=_te.hasOwnProperty;function dN(t,e){var n=FZ(t),r=!n&&Vee(t),i=!n&&!r&&jee(t),s=!n&&!r&&!i&&yte(t),o=n||r||i||s,a=o?Dee(t.length,String):[],l=a.length;for(var u in t)(e||bte.call(t,u))&&!(o&&(u=="length"||i&&(u=="offset"||u=="parent")||s&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||nN(u,l)))&&a.push(u);return a}function wte(t,e){return function(n){return t(e(n))}}var Tte=wte(Object.keys,Object);const Ete=Tte;var Ite=Object.prototype,Ste=Ite.hasOwnProperty;function Cte(t){if(!A0(t))return Ete(t);var e=[];for(var n in Object(t))Ste.call(t,n)&&n!="constructor"&&e.push(n);return e}function Ate(t){return Sm(t)?dN(t):Cte(t)}var Ote=Object.prototype,Pte=Ote.hasOwnProperty,kte=kee(function(t,e){if(A0(e)||Sm(e)){Aee(e,Ate(e),t);return}for(var n in e)Pte.call(e,n)&&iN(t,n,e[n])});const Rte=kte;function Dte(t){var e=[];if(t!=null)for(var n in Object(t))e.push(n);return e}var xte=Object.prototype,Nte=xte.hasOwnProperty;function Mte(t){if(!Ea(t))return Dte(t);var e=A0(t),n=[];for(var r in t)r=="constructor"&&(e||!Nte.call(t,r))||n.push(r);return n}function Lte(t){return Sm(t)?dN(t,!0):Mte(t)}var Vte=function(){return Tm.Date.now()};const Jg=Vte;var Fte="Expected a function",$te=Math.max,Ute=Math.min;function Bte(t,e,n){var r,i,s,o,a,l,u=0,c=!1,h=!1,f=!0;if(typeof t!="function")throw new TypeError(Fte);e=xS(e)||0,Ea(n)&&(c=!!n.leading,h="maxWait"in n,s=h?$te(xS(n.maxWait)||0,e):s,f="trailing"in n?!!n.trailing:f);function p(M){var I=r,T=i;return r=i=void 0,u=M,o=t.apply(T,I),o}function g(M){return u=M,a=setTimeout(R,e),c?p(M):o}function b(M){var I=M-l,T=M-u,_=e-I;return h?Ute(_,s-T):_}function S(M){var I=M-l,T=M-u;return l===void 0||I>=e||I<0||h&&T>=s}function R(){var M=Jg();if(S(M))return P(M);a=setTimeout(R,b(M))}function P(M){return a=void 0,f&&r?p(M):(r=i=void 0,o)}function w(){a!==void 0&&clearTimeout(a),u=0,r=l=i=a=void 0}function E(){return a===void 0?o:P(Jg())}function N(){var M=Jg(),I=S(M);if(r=arguments,i=this,l=M,I){if(a===void 0)return g(l);if(h)return clearTimeout(a),a=setTimeout(R,e),p(l)}return a===void 0&&(a=setTimeout(R,e)),o}return N.cancel=w,N.flush=E,N}var hN=Object.prototype,jte=hN.hasOwnProperty,Hte=sN(function(t,e){t=Object(t);var n=-1,r=e.length,i=r>2?e[2]:void 0;for(i&&aN(e[0],e[1],i)&&(r=1);++n<r;)for(var s=e[n],o=Lte(s),a=-1,l=o.length;++a<l;){var u=o[a],c=t[u];(c===void 0||C0(c,hN[u])&&!jte.call(t,u))&&(t[u]=s[u])}return t});const Wte=Hte,qte=({images:t=[],options:e})=>{e=Rte(e,{inline:!1});const n=document.createElement("div"),r=Dl("div",{style:{display:"none"},class:["__viewer-token"]},t.map(a=>Dl("img",typeof a=="string"?{src:a}:a)));Lc(r,n);const i=n.firstElementChild;document.body.appendChild(i);const s=new nu(i,e),o=s.destroy.bind(s);return s.destroy=function(){return o(),Lc(null,n),s},s.show(),i.addEventListener("hidden",function(){this.viewer===s&&s.destroy()}),s},zte=({name:t="viewer",debug:e=!1}={})=>{async function n(c,h,f=!1,p=!1){await jn(),!(p&&!r(c))&&(f||!c[`$${t}`]?(o(c),c[`$${t}`]=new nu(c,h),u("Viewer created")):(c[`$${t}`].update(),u("Viewer updated")))}function r(c){const h=c.innerHTML.match(/<img([\w\W]+?)[\\/]?>/g),f=h?h.join(""):void 0;return c.__viewerImageDiffCache===f?(u("Element change detected, but image(s) has not changed"),!1):(u("Image change detected"),c.__viewerImageDiffCache=f,!0)}function i(c,h,f,p){a(c);const g=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver;if(!g){u("Observer not supported");return}const b=new g(R=>{R.forEach(P=>{u(`Viewer mutation:${P.type}`),f(c,h,p,!0)})}),S={attributes:!0,childList:!0,characterData:!0,subtree:!0};b.observe(c,S),c.__viewerMutationObserver=b,u("Observer created")}function s(c,h,f,p){c.__viewerUnwatch=Nn(()=>h.value,(g,b)=>{u("Change detected by watcher: ",h.value),p(c,g,!0,!1)},{deep:!0}),u("Watcher created, expression: ",h.value)}function o(c){!c[`$${t}`]||(c[`$${t}`].destroy(),delete c[`$${t}`],u("Viewer destroyed"))}function a(c){!c.__viewerMutationObserver||(c.__viewerMutationObserver.disconnect(),delete c.__viewerMutationObserver,u("observer destroyed"))}function l(c){!c.__viewerUnwatch||(c.__viewerUnwatch(),delete c.__viewerUnwatch,u("Watcher destroyed"))}function u(...c){e&&console.log(...c)}return{mounted(c,h,f){u("Viewer bind");const p=Bte(n,50);p(c,h.value),s(c,h,f,p),h.modifiers.static||i(c,h.value,p,h.modifiers.rebuild)},unmounted(c){u("Viewer unbind"),a(c),l(c),o(c)}}},Kte=Gt({name:"Viewer",props:{images:{type:Array,default:()=>[]},rebuild:{type:Boolean,default:!1},trigger:{type:Object,default:null},options:{type:Object,default:()=>null}},emits:["inited"],setup(t,{emit:e}){let n;const r=Te();function i(){n=new nu(r.value,t.options),e("inited",n)}function s(){n&&n.destroy()}function o(){s(),i()}function a(){n?(n.update(),e("inited",n)):i()}function l(){t.rebuild?o():a()}const u={deep:!0};return Nn(()=>t.images,()=>{jn(()=>{l()})},u),Nn(()=>t.trigger,()=>{jn(()=>{l()})},u),Nn(()=>t.options,()=>{jn(()=>{o()})},u),_n(()=>i()),Sa(()=>s()),{root:r,createViewer:i,rebuildViewer:o,updateViewer:a,destroyViewer:s}}}),Yte=(t,e)=>{const n=t.__vccOpts||t;for(const[r,i]of e)n[r]=i;return n},Gte={ref:"root"};function Qte(t,e,n,r,i,s){return j(),J("div",Gte,[ve(t.$slots,"default",{images:t.images,options:t.options})],512)}const Xte=Yte(Kte,[["render",Qte]]),Jte={install(t,{name:e="viewer",debug:n=!1,defaultOptions:r}={}){r&&nu.setDefaults(r),t.config.globalProperties[`$${e}Api`]=qte,t.component(e,Wte(Xte,{name:e})),t.directive(e,zte({name:e,debug:n}))},setDefaults(t){nu.setDefaults(t)}},hi=_v(HV);hi.use(BD);hi.use(CW,{firebaseApp:WO,modules:[TW()]});hi.use(QO);hi.use(D2);hi.use(Jte);hi.use(bQ);hi.component("VueDatePicker",p0);hi.component("PrimeInputText",jx);hi.component("PrimeTextArea",Kx);hi.component("PrimeDropdown",Bx);hi.component("PrimeMultiSelect",zx);hi.mount("#app");export{ire as $,BD as A,Ft as B,Qo as C,ac as D,Lt as E,Ne as F,yre as G,ci as H,Wx as I,Na as J,ve as K,de as L,Hr as M,Or as N,bre as O,$o as P,$t as Q,ul as R,At as S,M9 as T,LT as U,cre as V,Sa as W,rre as X,mre as Y,UW as Z,$e as _,he as a,Ss as a$,X1 as a0,JO as a1,Nn as a2,pre as a3,GO as a4,Vi as a5,vc as a6,p5 as a7,Wr as a8,wre as a9,YT as aA,dre as aB,Tre as aC,jn as aD,hre as aE,FM as aF,IC as aG,Pn as aH,Qne as aI,zS as aJ,une as aK,Wne as aL,bne as aM,cf as aN,bl as aO,Lne as aP,wC as aQ,Jo as aR,sne as aS,g2 as aT,one as aU,c_ as aV,lne as aW,Pi as aX,Ed as aY,gr as aZ,yp as a_,xi as aa,De as ab,Tn as ac,Jn as ad,at as ae,Ere as af,_5 as ag,UD as ah,Cre as ai,Sre as aj,Ire as ak,_re as al,vre as am,Fne as an,Ma as ao,dp as ap,v0 as aq,Fx as ar,Co as as,Xte as at,Nne as au,ln as av,ed as aw,XE as ax,t_ as ay,gre as az,Vk as b,DC as b$,Gne as b0,_v as b1,yL as b2,Dne as b3,vL as b4,O2 as b5,wM as b6,_ne as b7,d2 as b8,Ene as b9,zi as bA,sa as bB,Une as bC,si as bD,vo as bE,Qy as bF,kne as bG,Rne as bH,YM as bI,PC as bJ,kC as bK,GM as bL,eL as bM,ZM as bN,JM as bO,KS as bP,XM as bQ,e_ as bR,AM as bS,dne as bT,sc as bU,hC as bV,cne as bW,rv as bX,Yy as bY,$ne as bZ,Lc as b_,Ine as ba,Ane as bb,Sne as bc,Tne as bd,Jne as be,Cne as bf,qne as bg,ene as bh,Hy as bi,Xr as bj,Wy as bk,ane as bl,Jy as bm,Dl as bn,iu as bo,cL as bp,tre as bq,mne as br,yne as bs,vne as bt,gne as bu,Bne as bv,nre as bw,Vr as bx,jL as by,Gy as bz,J as c,Yne as c0,xc as c1,Mw as c2,zne as c3,go as c4,uC as c5,nne as c6,cC as c7,bL as c8,Kne as c9,Hne as cA,TL as cB,EL as cC,xne as cD,One as cE,jne as cF,hne as cG,BW as cH,_e as cI,bm as cJ,tne as ca,jh as cb,wne as cc,pt as cd,kc as ce,TM as cf,ine as cg,Vne as ch,rne as ci,Pne as cj,ere as ck,Xne as cl,f2 as cm,fne as cn,Mne as co,wL as cp,Zne as cq,Ca as cr,pne as cs,EC as ct,vA as cu,E2 as cv,yA as cw,T2 as cx,yv as cy,HL as cz,Gt as d,v5 as e,g5 as f,m5 as g,_n as h,Ce as i,et as j,kn as k,ue as l,KT as m,tt as n,j as o,td as p,ip as q,Te as r,sre as s,dt as t,q as u,qe as v,Zn as w,Qe as x,fre as y,di as z};
function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = ["./assets/Blog-DplHBxWj.js","./assets/Bubble.vue_vue_type_script_setup_true_lang-Bg7w0uV0.js","./assets/TextField.vue_vue_type_script_setup_true_lang-Dgx0yMnh.js","./assets/Image.vue_vue_type_script_setup_true_lang-DIeNN4h0.js","./bundle11.css","./assets/SwitchField.vue_vue_type_script_setup_true_lang-B7I08EQr.js","./assets/SelectField.vue_vue_type_script_setup_true_lang-x9JQmJFJ.js","./assets/vuedraggable.umd-B2K4y0tm.js","./bundle9.css","./assets/CatCalc-IyYtYuHg.js","./assets/CustomVoting-D_iEDxHP.js","./assets/_plugin-vue_export-helper-DlAUqK2U.js","./bundle10.css","./assets/Dashboard-I2bUifYv.js","./assets/PasswordField.vue_vue_type_script_setup_true_lang-CqtQzJRf.js","./assets/Games-P0Y6FEbw.js","./bundle12.css","./assets/Home-Ba-8LmlR.js","./bundle13.css","./assets/Login-UtOJH2vT.js","./assets/NotFound-Dw4Mk8ZP.js","./assets/Profile-D7rxz6Oj.js","./assets/Profiles-Dz01ea3r.js","./assets/Register-B3gMyzGk.js"]
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}
