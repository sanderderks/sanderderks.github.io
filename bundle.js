var CN=Object.defineProperty;var AN=(t,e,n)=>e in t?CN(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var gs=(t,e,n)=>(AN(t,typeof e!="symbol"?e+"":e,n),n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();/**
* @vue/shared v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function Mp(t){const e=Object.create(null);for(const n of t.split(","))e[n]=1;return n=>n in e}const bt={},El=[],fi=()=>{},ON=()=>!1,$d=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),y_=t=>t.startsWith("onUpdate:"),Xt=Object.assign,__=(t,e)=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},PN=Object.prototype.hasOwnProperty,Vt=(t,e)=>PN.call(t,e),We=Array.isArray,Il=t=>pu(t)==="[object Map]",La=t=>pu(t)==="[object Set]",tw=t=>pu(t)==="[object Date]",kN=t=>pu(t)==="[object RegExp]",rt=t=>typeof t=="function",nn=t=>typeof t=="string",Mi=t=>typeof t=="symbol",Kt=t=>t!==null&&typeof t=="object",b_=t=>(Kt(t)||rt(t))&&rt(t.then)&&rt(t.catch),kC=Object.prototype.toString,pu=t=>kC.call(t),RN=t=>pu(t).slice(8,-1),Lp=t=>pu(t)==="[object Object]",w_=t=>nn(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,Sl=Mp(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Vp=t=>{const e=Object.create(null);return n=>e[n]||(e[n]=t(n))},DN=/-(\w)/g,Er=Vp(t=>t.replace(DN,(e,n)=>n?n.toUpperCase():"")),xN=/\B([A-Z])/g,jr=Vp(t=>t.replace(xN,"-$1").toLowerCase()),Fp=Vp(t=>t.charAt(0).toUpperCase()+t.slice(1)),lf=Vp(t=>t?`on${Fp(t)}`:""),Dr=(t,e)=>!Object.is(t,e),Cl=(t,...e)=>{for(let n=0;n<t.length;n++)t[n](...e)},RC=(t,e,n,r=!1)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,writable:r,value:n})},Of=t=>{const e=parseFloat(t);return isNaN(e)?t:e},Pf=t=>{const e=nn(t)?Number(t):NaN;return isNaN(e)?t:e};let nw;const $p=()=>nw||(nw=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{}),NN="Infinity,undefined,NaN,isFinite,isNaN,parseFloat,parseInt,decodeURI,decodeURIComponent,encodeURI,encodeURIComponent,Math,Number,Date,Array,Object,Boolean,String,RegExp,Map,Set,JSON,Intl,BigInt,console,Error,Symbol",MN=Mp(NN);function zn(t){if(We(t)){const e={};for(let n=0;n<t.length;n++){const r=t[n],i=nn(r)?$N(r):zn(r);if(i)for(const s in i)e[s]=i[s]}return e}else if(nn(t)||Kt(t))return t}const LN=/;(?![^(]*\))/g,VN=/:([^]+)/,FN=/\/\*[^]*?\*\//g;function $N(t){const e={};return t.replace(FN,"").split(LN).forEach(n=>{if(n){const r=n.split(VN);r.length>1&&(e[r[0].trim()]=r[1].trim())}}),e}function He(t){let e="";if(nn(t))e=t;else if(We(t))for(let n=0;n<t.length;n++){const r=He(t[n]);r&&(e+=r+" ")}else if(Kt(t))for(const n in t)t[n]&&(e+=n+" ");return e.trim()}function An(t){if(!t)return null;let{class:e,style:n}=t;return e&&!nn(e)&&(t.class=He(e)),n&&(t.style=zn(n)),t}const UN="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",BN=Mp(UN);function DC(t){return!!t||t===""}function HN(t,e){if(t.length!==e.length)return!1;let n=!0;for(let r=0;n&&r<t.length;r++)n=Ao(t[r],e[r]);return n}function Ao(t,e){if(t===e)return!0;let n=tw(t),r=tw(e);if(n||r)return n&&r?t.getTime()===e.getTime():!1;if(n=Mi(t),r=Mi(e),n||r)return t===e;if(n=We(t),r=We(e),n||r)return n&&r?HN(t,e):!1;if(n=Kt(t),r=Kt(e),n||r){if(!n||!r)return!1;const i=Object.keys(t).length,s=Object.keys(e).length;if(i!==s)return!1;for(const o in t){const a=t.hasOwnProperty(o),l=e.hasOwnProperty(o);if(a&&!l||!a&&l||!Ao(t[o],e[o]))return!1}}return String(t)===String(e)}function Up(t,e){return t.findIndex(n=>Ao(n,e))}const xC=t=>!!(t&&t.__v_isRef===!0),Ue=t=>nn(t)?t:t==null?"":We(t)||Kt(t)&&(t.toString===kC||!rt(t.toString))?xC(t)?Ue(t.value):JSON.stringify(t,NC,2):String(t),NC=(t,e)=>xC(e)?NC(t,e.value):Il(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((n,[r,i],s)=>(n[dg(r,s)+" =>"]=i,n),{})}:La(e)?{[`Set(${e.size})`]:[...e.values()].map(n=>dg(n))}:Mi(e)?dg(e):Kt(e)&&!We(e)&&!Lp(e)?String(e):e,dg=(t,e="")=>{var n;return Mi(t)?`Symbol(${(n=t.description)!=null?n:e})`:t};/**
* @vue/reactivity v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Rr;class MC{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=Rr,!e&&Rr&&(this.index=(Rr.scopes||(Rr.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let e,n;if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].pause();for(e=0,n=this.effects.length;e<n;e++)this.effects[e].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let e,n;if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].resume();for(e=0,n=this.effects.length;e<n;e++)this.effects[e].resume()}}run(e){if(this._active){const n=Rr;try{return Rr=this,e()}finally{Rr=n}}}on(){Rr=this}off(){Rr=this.parent}stop(e){if(this._active){this._active=!1;let n,r;for(n=0,r=this.effects.length;n<r;n++)this.effects[n].stop();for(this.effects.length=0,n=0,r=this.cleanups.length;n<r;n++)this.cleanups[n]();if(this.cleanups.length=0,this.scopes){for(n=0,r=this.scopes.length;n<r;n++)this.scopes[n].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!e){const i=this.parent.scopes.pop();i&&i!==this&&(this.parent.scopes[this.index]=i,i.index=this.index)}this.parent=void 0}}}function T_(t){return new MC(t)}function Bp(){return Rr}function E_(t,e=!1){Rr&&Rr.cleanups.push(t)}let Jt;const hg=new WeakSet;class kf{constructor(e){this.fn=e,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,Rr&&Rr.active&&Rr.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,hg.has(this)&&(hg.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||VC(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,rw(this),FC(this);const e=Jt,n=ki;Jt=this,ki=!0;try{return this.fn()}finally{$C(this),Jt=e,ki=n,this.flags&=-3}}stop(){if(this.flags&1){for(let e=this.deps;e;e=e.nextDep)C_(e);this.deps=this.depsTail=void 0,rw(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?hg.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){Ov(this)&&this.run()}get dirty(){return Ov(this)}}let LC=0,fc,pc;function VC(t,e=!1){if(t.flags|=8,e){t.next=pc,pc=t;return}t.next=fc,fc=t}function I_(){LC++}function S_(){if(--LC>0)return;if(pc){let e=pc;for(pc=void 0;e;){const n=e.next;e.next=void 0,e.flags&=-9,e=n}}let t;for(;fc;){let e=fc;for(fc=void 0;e;){const n=e.next;if(e.next=void 0,e.flags&=-9,e.flags&1)try{e.trigger()}catch(r){t||(t=r)}e=n}}if(t)throw t}function FC(t){for(let e=t.deps;e;e=e.nextDep)e.version=-1,e.prevActiveLink=e.dep.activeLink,e.dep.activeLink=e}function $C(t){let e,n=t.depsTail,r=n;for(;r;){const i=r.prevDep;r.version===-1?(r===n&&(n=i),C_(r),jN(r)):e=r,r.dep.activeLink=r.prevActiveLink,r.prevActiveLink=void 0,r=i}t.deps=e,t.depsTail=n}function Ov(t){for(let e=t.deps;e;e=e.nextDep)if(e.dep.version!==e.version||e.dep.computed&&(UC(e.dep.computed)||e.dep.version!==e.version))return!0;return!!t._dirty}function UC(t){if(t.flags&4&&!(t.flags&16)||(t.flags&=-17,t.globalVersion===Bc))return;t.globalVersion=Bc;const e=t.dep;if(t.flags|=2,e.version>0&&!t.isSSR&&t.deps&&!Ov(t)){t.flags&=-3;return}const n=Jt,r=ki;Jt=t,ki=!0;try{FC(t);const i=t.fn(t._value);(e.version===0||Dr(i,t._value))&&(t._value=i,e.version++)}catch(i){throw e.version++,i}finally{Jt=n,ki=r,$C(t),t.flags&=-3}}function C_(t,e=!1){const{dep:n,prevSub:r,nextSub:i}=t;if(r&&(r.nextSub=i,t.prevSub=void 0),i&&(i.prevSub=r,t.nextSub=void 0),n.subs===t&&(n.subs=r,!r&&n.computed)){n.computed.flags&=-5;for(let s=n.computed.deps;s;s=s.nextDep)C_(s,!0)}!e&&!--n.sc&&n.map&&n.map.delete(n.key)}function jN(t){const{prevDep:e,nextDep:n}=t;e&&(e.nextDep=n,t.prevDep=void 0),n&&(n.prevDep=e,t.nextDep=void 0)}function Qse(t,e){t.effect instanceof kf&&(t=t.effect.fn);const n=new kf(t);e&&Xt(n,e);try{n.run()}catch(i){throw n.stop(),i}const r=n.run.bind(n);return r.effect=n,r}function Xse(t){t.effect.stop()}let ki=!0;const BC=[];function Lo(){BC.push(ki),ki=!1}function Vo(){const t=BC.pop();ki=t===void 0?!0:t}function rw(t){const{cleanup:e}=t;if(t.cleanup=void 0,e){const n=Jt;Jt=void 0;try{e()}finally{Jt=n}}}let Bc=0;class WN{constructor(e,n){this.sub=e,this.dep=n,this.version=n.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class Hp{constructor(e){this.computed=e,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0}track(e){if(!Jt||!ki||Jt===this.computed)return;let n=this.activeLink;if(n===void 0||n.sub!==Jt)n=this.activeLink=new WN(Jt,this),Jt.deps?(n.prevDep=Jt.depsTail,Jt.depsTail.nextDep=n,Jt.depsTail=n):Jt.deps=Jt.depsTail=n,HC(n);else if(n.version===-1&&(n.version=this.version,n.nextDep)){const r=n.nextDep;r.prevDep=n.prevDep,n.prevDep&&(n.prevDep.nextDep=r),n.prevDep=Jt.depsTail,n.nextDep=void 0,Jt.depsTail.nextDep=n,Jt.depsTail=n,Jt.deps===n&&(Jt.deps=r)}return n}trigger(e){this.version++,Bc++,this.notify(e)}notify(e){I_();try{for(let n=this.subs;n;n=n.prevSub)n.sub.notify()&&n.sub.dep.notify()}finally{S_()}}}function HC(t){if(t.dep.sc++,t.sub.flags&4){const e=t.dep.computed;if(e&&!t.dep.subs){e.flags|=20;for(let r=e.deps;r;r=r.nextDep)HC(r)}const n=t.dep.subs;n!==t&&(t.prevSub=n,n&&(n.nextSub=t)),t.dep.subs=t}}const Rf=new WeakMap,la=Symbol(""),Pv=Symbol(""),Hc=Symbol("");function mr(t,e,n){if(ki&&Jt){let r=Rf.get(t);r||Rf.set(t,r=new Map);let i=r.get(n);i||(r.set(n,i=new Hp),i.map=r,i.key=n),i.track()}}function ws(t,e,n,r,i,s){const o=Rf.get(t);if(!o){Bc++;return}const a=l=>{l&&l.trigger()};if(I_(),e==="clear")o.forEach(a);else{const l=We(t),u=l&&w_(n);if(l&&n==="length"){const c=Number(r);o.forEach((h,f)=>{(f==="length"||f===Hc||!Mi(f)&&f>=c)&&a(h)})}else switch((n!==void 0||o.has(void 0))&&a(o.get(n)),u&&a(o.get(Hc)),e){case"add":l?u&&a(o.get("length")):(a(o.get(la)),Il(t)&&a(o.get(Pv)));break;case"delete":l||(a(o.get(la)),Il(t)&&a(o.get(Pv)));break;case"set":Il(t)&&a(o.get(la));break}}S_()}function qN(t,e){const n=Rf.get(t);return n&&n.get(e)}function Xa(t){const e=_t(t);return e===t?e:(mr(e,"iterate",Hc),pi(t)?e:e.map(gr))}function jp(t){return mr(t=_t(t),"iterate",Hc),t}const zN={__proto__:null,[Symbol.iterator](){return fg(this,Symbol.iterator,gr)},concat(...t){return Xa(this).concat(...t.map(e=>We(e)?Xa(e):e))},entries(){return fg(this,"entries",t=>(t[1]=gr(t[1]),t))},every(t,e){return vs(this,"every",t,e,void 0,arguments)},filter(t,e){return vs(this,"filter",t,e,n=>n.map(gr),arguments)},find(t,e){return vs(this,"find",t,e,gr,arguments)},findIndex(t,e){return vs(this,"findIndex",t,e,void 0,arguments)},findLast(t,e){return vs(this,"findLast",t,e,gr,arguments)},findLastIndex(t,e){return vs(this,"findLastIndex",t,e,void 0,arguments)},forEach(t,e){return vs(this,"forEach",t,e,void 0,arguments)},includes(...t){return pg(this,"includes",t)},indexOf(...t){return pg(this,"indexOf",t)},join(t){return Xa(this).join(t)},lastIndexOf(...t){return pg(this,"lastIndexOf",t)},map(t,e){return vs(this,"map",t,e,void 0,arguments)},pop(){return Uu(this,"pop")},push(...t){return Uu(this,"push",t)},reduce(t,...e){return iw(this,"reduce",t,e)},reduceRight(t,...e){return iw(this,"reduceRight",t,e)},shift(){return Uu(this,"shift")},some(t,e){return vs(this,"some",t,e,void 0,arguments)},splice(...t){return Uu(this,"splice",t)},toReversed(){return Xa(this).toReversed()},toSorted(t){return Xa(this).toSorted(t)},toSpliced(...t){return Xa(this).toSpliced(...t)},unshift(...t){return Uu(this,"unshift",t)},values(){return fg(this,"values",gr)}};function fg(t,e,n){const r=jp(t),i=r[e]();return r!==t&&!pi(t)&&(i._next=i.next,i.next=()=>{const s=i._next();return s.value&&(s.value=n(s.value)),s}),i}const KN=Array.prototype;function vs(t,e,n,r,i,s){const o=jp(t),a=o!==t&&!pi(t),l=o[e];if(l!==KN[e]){const h=l.apply(t,s);return a?gr(h):h}let u=n;o!==t&&(a?u=function(h,f){return n.call(this,gr(h),f,t)}:n.length>2&&(u=function(h,f){return n.call(this,h,f,t)}));const c=l.call(o,u,r);return a&&i?i(c):c}function iw(t,e,n,r){const i=jp(t);let s=n;return i!==t&&(pi(t)?n.length>3&&(s=function(o,a,l){return n.call(this,o,a,l,t)}):s=function(o,a,l){return n.call(this,o,gr(a),l,t)}),i[e](s,...r)}function pg(t,e,n){const r=_t(t);mr(r,"iterate",Hc);const i=r[e](...n);return(i===-1||i===!1)&&O_(n[0])?(n[0]=_t(n[0]),r[e](...n)):i}function Uu(t,e,n=[]){Lo(),I_();const r=_t(t)[e].apply(t,n);return S_(),Vo(),r}const YN=Mp("__proto__,__v_isRef,__isVue"),jC=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(Mi));function GN(t){Mi(t)||(t=String(t));const e=_t(this);return mr(e,"has",t),e.hasOwnProperty(t)}class WC{constructor(e=!1,n=!1){this._isReadonly=e,this._isShallow=n}get(e,n,r){if(n==="__v_skip")return e.__v_skip;const i=this._isReadonly,s=this._isShallow;if(n==="__v_isReactive")return!i;if(n==="__v_isReadonly")return i;if(n==="__v_isShallow")return s;if(n==="__v_raw")return r===(i?s?QC:GC:s?YC:KC).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(r)?e:void 0;const o=We(e);if(!i){let l;if(o&&(l=zN[n]))return l;if(n==="hasOwnProperty")return GN}const a=Reflect.get(e,n,hn(e)?e:r);return(Mi(n)?jC.has(n):YN(n))||(i||mr(e,"get",n),s)?a:hn(a)?o&&w_(n)?a:a.value:Kt(a)?i?A_(a):_i(a):a}}class qC extends WC{constructor(e=!1){super(!1,e)}set(e,n,r,i){let s=e[n];if(!this._isShallow){const l=va(s);if(!pi(r)&&!va(r)&&(s=_t(s),r=_t(r)),!We(e)&&hn(s)&&!hn(r))return l?!1:(s.value=r,!0)}const o=We(e)&&w_(n)?Number(n)<e.length:Vt(e,n),a=Reflect.set(e,n,r,hn(e)?e:i);return e===_t(i)&&(o?Dr(r,s)&&ws(e,"set",n,r):ws(e,"add",n,r)),a}deleteProperty(e,n){const r=Vt(e,n);e[n];const i=Reflect.deleteProperty(e,n);return i&&r&&ws(e,"delete",n,void 0),i}has(e,n){const r=Reflect.has(e,n);return(!Mi(n)||!jC.has(n))&&mr(e,"has",n),r}ownKeys(e){return mr(e,"iterate",We(e)?"length":la),Reflect.ownKeys(e)}}class zC extends WC{constructor(e=!1){super(!0,e)}set(e,n){return!0}deleteProperty(e,n){return!0}}const QN=new qC,XN=new zC,JN=new qC(!0),ZN=new zC(!0),kv=t=>t,Oh=t=>Reflect.getPrototypeOf(t);function e3(t,e,n){return function(...r){const i=this.__v_raw,s=_t(i),o=Il(s),a=t==="entries"||t===Symbol.iterator&&o,l=t==="keys"&&o,u=i[t](...r),c=n?kv:e?Rv:gr;return!e&&mr(s,"iterate",l?Pv:la),{next(){const{value:h,done:f}=u.next();return f?{value:h,done:f}:{value:a?[c(h[0]),c(h[1])]:c(h),done:f}},[Symbol.iterator](){return this}}}}function Ph(t){return function(...e){return t==="delete"?!1:t==="clear"?void 0:this}}function t3(t,e){const n={get(i){const s=this.__v_raw,o=_t(s),a=_t(i);t||(Dr(i,a)&&mr(o,"get",i),mr(o,"get",a));const{has:l}=Oh(o),u=e?kv:t?Rv:gr;if(l.call(o,i))return u(s.get(i));if(l.call(o,a))return u(s.get(a));s!==o&&s.get(i)},get size(){const i=this.__v_raw;return!t&&mr(_t(i),"iterate",la),Reflect.get(i,"size",i)},has(i){const s=this.__v_raw,o=_t(s),a=_t(i);return t||(Dr(i,a)&&mr(o,"has",i),mr(o,"has",a)),i===a?s.has(i):s.has(i)||s.has(a)},forEach(i,s){const o=this,a=o.__v_raw,l=_t(a),u=e?kv:t?Rv:gr;return!t&&mr(l,"iterate",la),a.forEach((c,h)=>i.call(s,u(c),u(h),o))}};return Xt(n,t?{add:Ph("add"),set:Ph("set"),delete:Ph("delete"),clear:Ph("clear")}:{add(i){!e&&!pi(i)&&!va(i)&&(i=_t(i));const s=_t(this);return Oh(s).has.call(s,i)||(s.add(i),ws(s,"add",i,i)),this},set(i,s){!e&&!pi(s)&&!va(s)&&(s=_t(s));const o=_t(this),{has:a,get:l}=Oh(o);let u=a.call(o,i);u||(i=_t(i),u=a.call(o,i));const c=l.call(o,i);return o.set(i,s),u?Dr(s,c)&&ws(o,"set",i,s):ws(o,"add",i,s),this},delete(i){const s=_t(this),{has:o,get:a}=Oh(s);let l=o.call(s,i);l||(i=_t(i),l=o.call(s,i)),a&&a.call(s,i);const u=s.delete(i);return l&&ws(s,"delete",i,void 0),u},clear(){const i=_t(this),s=i.size!==0,o=i.clear();return s&&ws(i,"clear",void 0,void 0),o}}),["keys","values","entries",Symbol.iterator].forEach(i=>{n[i]=e3(i,t,e)}),n}function Wp(t,e){const n=t3(t,e);return(r,i,s)=>i==="__v_isReactive"?!t:i==="__v_isReadonly"?t:i==="__v_raw"?r:Reflect.get(Vt(n,i)&&i in r?n:r,i,s)}const n3={get:Wp(!1,!1)},r3={get:Wp(!1,!0)},i3={get:Wp(!0,!1)},s3={get:Wp(!0,!0)},KC=new WeakMap,YC=new WeakMap,GC=new WeakMap,QC=new WeakMap;function o3(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function a3(t){return t.__v_skip||!Object.isExtensible(t)?0:o3(RN(t))}function _i(t){return va(t)?t:qp(t,!1,QN,n3,KC)}function XC(t){return qp(t,!1,JN,r3,YC)}function A_(t){return qp(t,!0,XN,i3,GC)}function Jse(t){return qp(t,!0,ZN,s3,QC)}function qp(t,e,n,r,i){if(!Kt(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const s=i.get(t);if(s)return s;const o=a3(t);if(o===0)return t;const a=new Proxy(t,o===2?r:n);return i.set(t,a),a}function ts(t){return va(t)?ts(t.__v_raw):!!(t&&t.__v_isReactive)}function va(t){return!!(t&&t.__v_isReadonly)}function pi(t){return!!(t&&t.__v_isShallow)}function O_(t){return t?!!t.__v_raw:!1}function _t(t){const e=t&&t.__v_raw;return e?_t(e):t}function P_(t){return!Vt(t,"__v_skip")&&Object.isExtensible(t)&&RC(t,"__v_skip",!0),t}const gr=t=>Kt(t)?_i(t):t,Rv=t=>Kt(t)?A_(t):t;function hn(t){return t?t.__v_isRef===!0:!1}function Te(t){return ZC(t,!1)}function JC(t){return ZC(t,!0)}function ZC(t,e){return hn(t)?t:new l3(t,e)}class l3{constructor(e,n){this.dep=new Hp,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=n?e:_t(e),this._value=n?e:gr(e),this.__v_isShallow=n}get value(){return this.dep.track(),this._value}set value(e){const n=this._rawValue,r=this.__v_isShallow||pi(e)||va(e);e=r?e:_t(e),Dr(e,n)&&(this._rawValue=e,this._value=r?e:gr(e),this.dep.trigger())}}function Zse(t){t.dep&&t.dep.trigger()}function R(t){return hn(t)?t.value:t}function eoe(t){return rt(t)?t():R(t)}const u3={get:(t,e,n)=>e==="__v_raw"?t:R(Reflect.get(t,e,n)),set:(t,e,n,r)=>{const i=t[e];return hn(i)&&!hn(n)?(i.value=n,!0):Reflect.set(t,e,n,r)}};function eA(t){return ts(t)?t:new Proxy(t,u3)}class c3{constructor(e){this.__v_isRef=!0,this._value=void 0;const n=this.dep=new Hp,{get:r,set:i}=e(n.track.bind(n),n.trigger.bind(n));this._get=r,this._set=i}get value(){return this._value=this._get()}set value(e){this._set(e)}}function d3(t){return new c3(t)}function h3(t){const e=We(t)?new Array(t.length):{};for(const n in t)e[n]=tA(t,n);return e}class f3{constructor(e,n,r){this._object=e,this._key=n,this._defaultValue=r,this.__v_isRef=!0,this._value=void 0}get value(){const e=this._object[this._key];return this._value=e===void 0?this._defaultValue:e}set value(e){this._object[this._key]=e}get dep(){return qN(_t(this._object),this._key)}}class p3{constructor(e){this._getter=e,this.__v_isRef=!0,this.__v_isReadonly=!0,this._value=void 0}get value(){return this._value=this._getter()}}function jc(t,e,n){return hn(t)?t:rt(t)?new p3(t):Kt(t)&&arguments.length>1?tA(t,e,n):Te(t)}function tA(t,e,n){const r=t[e];return hn(r)?r:new f3(t,e,n)}class m3{constructor(e,n,r){this.fn=e,this.setter=n,this._value=void 0,this.dep=new Hp(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=Bc-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!n,this.isSSR=r}notify(){if(this.flags|=16,!(this.flags&8)&&Jt!==this)return VC(this,!0),!0}get value(){const e=this.dep.track();return UC(this),e&&(e.version=this.dep.version),this._value}set value(e){this.setter&&this.setter(e)}}function g3(t,e,n=!1){let r,i;return rt(t)?r=t:(r=t.get,i=t.set),new m3(r,i,n)}const toe={GET:"get",HAS:"has",ITERATE:"iterate"},noe={SET:"set",ADD:"add",DELETE:"delete",CLEAR:"clear"},kh={},Df=new WeakMap;let io;function roe(){return io}function v3(t,e=!1,n=io){if(n){let r=Df.get(n);r||Df.set(n,r=[]),r.push(t)}}function y3(t,e,n=bt){const{immediate:r,deep:i,once:s,scheduler:o,augmentJob:a,call:l}=n,u=_=>i?_:pi(_)||i===!1||i===0?Ts(_,1):Ts(_);let c,h,f,p,g=!1,w=!1;if(hn(t)?(h=()=>t.value,g=pi(t)):ts(t)?(h=()=>u(t),g=!0):We(t)?(w=!0,g=t.some(_=>ts(_)||pi(_)),h=()=>t.map(_=>{if(hn(_))return _.value;if(ts(_))return u(_);if(rt(_))return l?l(_,2):_()})):rt(t)?e?h=l?()=>l(t,2):t:h=()=>{if(f){Lo();try{f()}finally{Vo()}}const _=io;io=c;try{return l?l(t,3,[p]):t(p)}finally{io=_}}:h=fi,e&&i){const _=h,L=i===!0?1/0:i;h=()=>Ts(_(),L)}const I=Bp(),k=()=>{c.stop(),I&&I.active&&__(I.effects,c)};if(s&&e){const _=e;e=(...L)=>{_(...L),k()}}let P=w?new Array(t.length).fill(kh):kh;const T=_=>{if(!(!(c.flags&1)||!c.dirty&&!_))if(e){const L=c.run();if(i||g||(w?L.some((V,S)=>Dr(V,P[S])):Dr(L,P))){f&&f();const V=io;io=c;try{const S=[L,P===kh?void 0:w&&P[0]===kh?[]:P,p];l?l(e,3,S):e(...S),P=L}finally{io=V}}}else c.run()};return a&&a(T),c=new kf(h),c.scheduler=o?()=>o(T,!1):T,p=_=>v3(_,!1,c),f=c.onStop=()=>{const _=Df.get(c);if(_){if(l)l(_,4);else for(const L of _)L();Df.delete(c)}},e?r?T(!0):P=c.run():o?o(T.bind(null,!0),!0):c.run(),k.pause=c.pause.bind(c),k.resume=c.resume.bind(c),k.stop=k,k}function Ts(t,e=1/0,n){if(e<=0||!Kt(t)||t.__v_skip||(n=n||new Set,n.has(t)))return t;if(n.add(t),e--,hn(t))Ts(t.value,e,n);else if(We(t))for(let r=0;r<t.length;r++)Ts(t[r],e,n);else if(La(t)||Il(t))t.forEach(r=>{Ts(r,e,n)});else if(Lp(t)){for(const r in t)Ts(t[r],e,n);for(const r of Object.getOwnPropertySymbols(t))Object.prototype.propertyIsEnumerable.call(t,r)&&Ts(t[r],e,n)}return t}/**
* @vue/runtime-core v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const nA=[];function _3(t){nA.push(t)}function b3(){nA.pop()}function ioe(t,e){}const soe={SETUP_FUNCTION:0,0:"SETUP_FUNCTION",RENDER_FUNCTION:1,1:"RENDER_FUNCTION",NATIVE_EVENT_HANDLER:5,5:"NATIVE_EVENT_HANDLER",COMPONENT_EVENT_HANDLER:6,6:"COMPONENT_EVENT_HANDLER",VNODE_HOOK:7,7:"VNODE_HOOK",DIRECTIVE_HOOK:8,8:"DIRECTIVE_HOOK",TRANSITION_HOOK:9,9:"TRANSITION_HOOK",APP_ERROR_HANDLER:10,10:"APP_ERROR_HANDLER",APP_WARN_HANDLER:11,11:"APP_WARN_HANDLER",FUNCTION_REF:12,12:"FUNCTION_REF",ASYNC_COMPONENT_LOADER:13,13:"ASYNC_COMPONENT_LOADER",SCHEDULER:14,14:"SCHEDULER",COMPONENT_UPDATE:15,15:"COMPONENT_UPDATE",APP_UNMOUNT_CLEANUP:16,16:"APP_UNMOUNT_CLEANUP"},w3={sp:"serverPrefetch hook",bc:"beforeCreate hook",c:"created hook",bm:"beforeMount hook",m:"mounted hook",bu:"beforeUpdate hook",u:"updated",bum:"beforeUnmount hook",um:"unmounted hook",a:"activated hook",da:"deactivated hook",ec:"errorCaptured hook",rtc:"renderTracked hook",rtg:"renderTriggered hook",0:"setup function",1:"render function",2:"watcher getter",3:"watcher callback",4:"watcher cleanup function",5:"native event handler",6:"component event handler",7:"vnode hook",8:"directive hook",9:"transition hook",10:"app errorHandler",11:"app warnHandler",12:"ref function",13:"async component loader",14:"scheduler flush",15:"component update",16:"app unmount cleanup function"};function Ud(t,e,n,r){try{return r?t(...r):t()}catch(i){mu(i,e,n)}}function Li(t,e,n,r){if(rt(t)){const i=Ud(t,e,n,r);return i&&b_(i)&&i.catch(s=>{mu(s,e,n)}),i}if(We(t)){const i=[];for(let s=0;s<t.length;s++)i.push(Li(t[s],e,n,r));return i}}function mu(t,e,n,r=!0){const i=e?e.vnode:null,{errorHandler:s,throwUnhandledErrorInProduction:o}=e&&e.appContext.config||bt;if(e){let a=e.parent;const l=e.proxy,u=`https://vuejs.org/error-reference/#runtime-${n}`;for(;a;){const c=a.ec;if(c){for(let h=0;h<c.length;h++)if(c[h](t,l,u)===!1)return}a=a.parent}if(s){Lo(),Ud(s,null,10,[t,l,u]),Vo();return}}T3(t,n,i,r,o)}function T3(t,e,n,r=!0,i=!1){if(i)throw t;console.error(t)}const xr=[];let qi=-1;const Al=[];let so=null,sl=0;const rA=Promise.resolve();let xf=null;function Kn(t){const e=xf||rA;return t?e.then(this?t.bind(this):t):e}function E3(t){let e=qi+1,n=xr.length;for(;e<n;){const r=e+n>>>1,i=xr[r],s=Wc(i);s<t||s===t&&i.flags&2?e=r+1:n=r}return e}function k_(t){if(!(t.flags&1)){const e=Wc(t),n=xr[xr.length-1];!n||!(t.flags&2)&&e>=Wc(n)?xr.push(t):xr.splice(E3(e),0,t),t.flags|=1,iA()}}function iA(){xf||(xf=rA.then(sA))}function Nf(t){We(t)?Al.push(...t):so&&t.id===-1?so.splice(sl+1,0,t):t.flags&1||(Al.push(t),t.flags|=1),iA()}function sw(t,e,n=qi+1){for(;n<xr.length;n++){const r=xr[n];if(r&&r.flags&2){if(t&&r.id!==t.uid)continue;xr.splice(n,1),n--,r.flags&4&&(r.flags&=-2),r(),r.flags&4||(r.flags&=-2)}}}function Mf(t){if(Al.length){const e=[...new Set(Al)].sort((n,r)=>Wc(n)-Wc(r));if(Al.length=0,so){so.push(...e);return}for(so=e,sl=0;sl<so.length;sl++){const n=so[sl];n.flags&4&&(n.flags&=-2),n.flags&8||n(),n.flags&=-2}so=null,sl=0}}const Wc=t=>t.id==null?t.flags&2?-1:1/0:t.id;function sA(t){try{for(qi=0;qi<xr.length;qi++){const e=xr[qi];e&&!(e.flags&8)&&(e.flags&4&&(e.flags&=-2),Ud(e,e.i,e.i?15:14),e.flags&4||(e.flags&=-2))}}finally{for(;qi<xr.length;qi++){const e=xr[qi];e&&(e.flags&=-2)}qi=-1,xr.length=0,Mf(),xf=null,(xr.length||Al.length)&&sA()}}let ol,Rh=[];function oA(t,e){var n,r;ol=t,ol?(ol.enabled=!0,Rh.forEach(({event:i,args:s})=>ol.emit(i,...s)),Rh=[]):typeof window<"u"&&window.HTMLElement&&!((r=(n=window.navigator)==null?void 0:n.userAgent)!=null&&r.includes("jsdom"))?((e.__VUE_DEVTOOLS_HOOK_REPLAY__=e.__VUE_DEVTOOLS_HOOK_REPLAY__||[]).push(s=>{oA(s,e)}),setTimeout(()=>{ol||(e.__VUE_DEVTOOLS_HOOK_REPLAY__=null,Rh=[])},3e3)):Rh=[]}let Fn=null,zp=null;function qc(t){const e=Fn;return Fn=t,zp=t&&t.type.__scopeId||null,e}function ooe(t){zp=t}function aoe(){zp=null}const loe=t=>ke;function ke(t,e=Fn,n){if(!e||t._n)return t;const r=(...i)=>{r._d&&_w(-1);const s=qc(e);let o;try{o=t(...i)}finally{qc(s),r._d&&_w(1)}return o};return r._n=!0,r._c=!0,r._d=!0,r}function vo(t,e){if(Fn===null)return t;const n=jd(Fn),r=t.dirs||(t.dirs=[]);for(let i=0;i<e.length;i++){let[s,o,a,l=bt]=e[i];s&&(rt(s)&&(s={mounted:s,updated:s}),s.deep&&Ts(o),r.push({dir:s,instance:n,value:o,oldValue:void 0,arg:a,modifiers:l}))}return t}function Yi(t,e,n,r){const i=t.dirs,s=e&&e.dirs;for(let o=0;o<i.length;o++){const a=i[o];s&&(a.oldValue=s[o].value);let l=a.dir[r];l&&(Lo(),Li(l,n,8,[t.el,a,t,e]),Vo())}}const aA=Symbol("_vte"),lA=t=>t.__isTeleport,mc=t=>t&&(t.disabled||t.disabled===""),ow=t=>t&&(t.defer||t.defer===""),aw=t=>typeof SVGElement<"u"&&t instanceof SVGElement,lw=t=>typeof MathMLElement=="function"&&t instanceof MathMLElement,Dv=(t,e)=>{const n=t&&t.to;return nn(n)?e?e(n):null:n},uA={name:"Teleport",__isTeleport:!0,process(t,e,n,r,i,s,o,a,l,u){const{mc:c,pc:h,pbc:f,o:{insert:p,querySelector:g,createText:w,createComment:I}}=u,k=mc(e.props);let{shapeFlag:P,children:T,dynamicChildren:_}=e;if(t==null){const L=e.el=w(""),V=e.anchor=w("");p(L,n,r),p(V,n,r);const S=(b,v)=>{P&16&&(i&&i.isCE&&(i.ce._teleportTarget=b),c(T,b,v,i,s,o,a,l))},E=()=>{const b=e.target=Dv(e.props,g),v=dA(b,e,w,p);b&&(o!=="svg"&&aw(b)?o="svg":o!=="mathml"&&lw(b)&&(o="mathml"),k||(S(b,v),uf(e,!1)))};k&&(S(n,V),uf(e,!0)),ow(e.props)?Nn(()=>{E(),e.el.__isMounted=!0},s):E()}else{if(ow(e.props)&&!t.el.__isMounted){Nn(()=>{uA.process(t,e,n,r,i,s,o,a,l,u),delete t.el.__isMounted},s);return}e.el=t.el,e.targetStart=t.targetStart;const L=e.anchor=t.anchor,V=e.target=t.target,S=e.targetAnchor=t.targetAnchor,E=mc(t.props),b=E?n:V,v=E?L:S;if(o==="svg"||aw(V)?o="svg":(o==="mathml"||lw(V))&&(o="mathml"),_?(f(t.dynamicChildren,_,b,i,s,o,a),H_(t,e,!0)):l||h(t,e,b,v,i,s,o,a,!1),k)E?e.props&&t.props&&e.props.to!==t.props.to&&(e.props.to=t.props.to):Dh(e,n,L,u,1);else if((e.props&&e.props.to)!==(t.props&&t.props.to)){const C=e.target=Dv(e.props,g);C&&Dh(e,C,null,u,0)}else E&&Dh(e,V,S,u,1);uf(e,k)}},remove(t,e,n,{um:r,o:{remove:i}},s){const{shapeFlag:o,children:a,anchor:l,targetStart:u,targetAnchor:c,target:h,props:f}=t;if(h&&(i(u),i(c)),s&&i(l),o&16){const p=s||!mc(f);for(let g=0;g<a.length;g++){const w=a[g];r(w,e,n,p,!!w.dynamicChildren)}}},move:Dh,hydrate:I3};function Dh(t,e,n,{o:{insert:r},m:i},s=2){s===0&&r(t.targetAnchor,e,n);const{el:o,anchor:a,shapeFlag:l,children:u,props:c}=t,h=s===2;if(h&&r(o,e,n),(!h||mc(c))&&l&16)for(let f=0;f<u.length;f++)i(u[f],e,n,2);h&&r(a,e,n)}function I3(t,e,n,r,i,s,{o:{nextSibling:o,parentNode:a,querySelector:l,insert:u,createText:c}},h){const f=e.target=Dv(e.props,l);if(f){const p=mc(e.props),g=f._lpa||f.firstChild;if(e.shapeFlag&16)if(p)e.anchor=h(o(t),e,a(t),n,r,i,s),e.targetStart=g,e.targetAnchor=g&&o(g);else{e.anchor=o(t);let w=g;for(;w;){if(w&&w.nodeType===8){if(w.data==="teleport start anchor")e.targetStart=w;else if(w.data==="teleport anchor"){e.targetAnchor=w,f._lpa=e.targetAnchor&&o(e.targetAnchor);break}}w=o(w)}e.targetAnchor||dA(f,e,c,u),h(g&&o(g),e,f,n,r,i,s)}uf(e,p)}return e.anchor&&o(e.anchor)}const cA=uA;function uf(t,e){const n=t.ctx;if(n&&n.ut){let r,i;for(e?(r=t.el,i=t.anchor):(r=t.targetStart,i=t.targetAnchor);r&&r!==i;)r.nodeType===1&&r.setAttribute("data-v-owner",n.uid),r=r.nextSibling;n.ut()}}function dA(t,e,n,r){const i=e.targetStart=n(""),s=e.targetAnchor=n("");return i[aA]=s,t&&(r(i,t),r(s,t)),s}const oo=Symbol("_leaveCb"),xh=Symbol("_enterCb");function hA(){const t={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return mn(()=>{t.isMounted=!0}),M_(()=>{t.isUnmounting=!0}),t}const li=[Function,Array],fA={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:li,onEnter:li,onAfterEnter:li,onEnterCancelled:li,onBeforeLeave:li,onLeave:li,onAfterLeave:li,onLeaveCancelled:li,onBeforeAppear:li,onAppear:li,onAfterAppear:li,onAppearCancelled:li},pA=t=>{const e=t.subTree;return e.component?pA(e.component):e},S3={name:"BaseTransition",props:fA,setup(t,{slots:e}){const n=Xr(),r=hA();return()=>{const i=e.default&&R_(e.default(),!0);if(!i||!i.length)return;const s=mA(i),o=_t(t),{mode:a}=o;if(r.isLeaving)return mg(s);const l=uw(s);if(!l)return mg(s);let u=zc(l,o,r,n,h=>u=h);l.type!==Mn&&Oo(l,u);let c=n.subTree&&uw(n.subTree);if(c&&c.type!==Mn&&!Ii(l,c)&&pA(n).type!==Mn){let h=zc(c,o,r,n);if(Oo(c,h),a==="out-in"&&l.type!==Mn)return r.isLeaving=!0,h.afterLeave=()=>{r.isLeaving=!1,n.job.flags&8||n.update(),delete h.afterLeave,c=void 0},mg(s);a==="in-out"&&l.type!==Mn?h.delayLeave=(f,p,g)=>{const w=gA(r,c);w[String(c.key)]=c,f[oo]=()=>{p(),f[oo]=void 0,delete u.delayedLeave,c=void 0},u.delayedLeave=()=>{g(),delete u.delayedLeave,c=void 0}}:c=void 0}else c&&(c=void 0);return s}}};function mA(t){let e=t[0];if(t.length>1){for(const n of t)if(n.type!==Mn){e=n;break}}return e}const C3=S3;function gA(t,e){const{leavingVNodes:n}=t;let r=n.get(e.type);return r||(r=Object.create(null),n.set(e.type,r)),r}function zc(t,e,n,r,i){const{appear:s,mode:o,persisted:a=!1,onBeforeEnter:l,onEnter:u,onAfterEnter:c,onEnterCancelled:h,onBeforeLeave:f,onLeave:p,onAfterLeave:g,onLeaveCancelled:w,onBeforeAppear:I,onAppear:k,onAfterAppear:P,onAppearCancelled:T}=e,_=String(t.key),L=gA(n,t),V=(b,v)=>{b&&Li(b,r,9,v)},S=(b,v)=>{const C=v[1];V(b,v),We(b)?b.every(A=>A.length<=1)&&C():b.length<=1&&C()},E={mode:o,persisted:a,beforeEnter(b){let v=l;if(!n.isMounted)if(s)v=I||l;else return;b[oo]&&b[oo](!0);const C=L[_];C&&Ii(t,C)&&C.el[oo]&&C.el[oo](),V(v,[b])},enter(b){let v=u,C=c,A=h;if(!n.isMounted)if(s)v=k||u,C=P||c,A=T||h;else return;let O=!1;const Y=b[xh]=U=>{O||(O=!0,U?V(A,[b]):V(C,[b]),E.delayedLeave&&E.delayedLeave(),b[xh]=void 0)};v?S(v,[b,Y]):Y()},leave(b,v){const C=String(t.key);if(b[xh]&&b[xh](!0),n.isUnmounting)return v();V(f,[b]);let A=!1;const O=b[oo]=Y=>{A||(A=!0,v(),Y?V(w,[b]):V(g,[b]),b[oo]=void 0,L[C]===t&&delete L[C])};L[C]=t,p?S(p,[b,O]):O()},clone(b){const v=zc(b,e,n,r,i);return i&&i(v),v}};return E}function mg(t){if(Bd(t))return t=xs(t),t.children=null,t}function uw(t){if(!Bd(t))return lA(t.type)&&t.children?mA(t.children):t;const{shapeFlag:e,children:n}=t;if(n){if(e&16)return n[0];if(e&32&&rt(n.default))return n.default()}}function Oo(t,e){t.shapeFlag&6&&t.component?(t.transition=e,Oo(t.component.subTree,e)):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function R_(t,e=!1,n){let r=[],i=0;for(let s=0;s<t.length;s++){let o=t[s];const a=n==null?o.key:String(n)+String(o.key!=null?o.key:s);o.type===Oe?(o.patchFlag&128&&i++,r=r.concat(R_(o.children,e,a))):(e||o.type!==Mn)&&r.push(a!=null?xs(o,{key:a}):o)}if(i>1)for(let s=0;s<r.length;s++)r[s].patchFlag=-2;return r}/*! #__NO_SIDE_EFFECTS__ */function it(t,e){return rt(t)?Xt({name:t.name},e,{setup:t}):t}function uoe(){const t=Xr();return t?(t.appContext.config.idPrefix||"v")+"-"+t.ids[0]+t.ids[1]++:""}function D_(t){t.ids=[t.ids[0]+t.ids[2]+++"-",0,0]}function coe(t){const e=Xr(),n=JC(null);if(e){const i=e.refs===bt?e.refs={}:e.refs;Object.defineProperty(i,t,{enumerable:!0,get:()=>n.value,set:s=>n.value=s})}return n}function Kc(t,e,n,r,i=!1){if(We(t)){t.forEach((g,w)=>Kc(g,e&&(We(e)?e[w]:e),n,r,i));return}if(yo(r)&&!i){r.shapeFlag&512&&r.type.__asyncResolved&&r.component.subTree.component&&Kc(t,e,n,r.component.subTree);return}const s=r.shapeFlag&4?jd(r.component):r.el,o=i?null:s,{i:a,r:l}=t,u=e&&e.r,c=a.refs===bt?a.refs={}:a.refs,h=a.setupState,f=_t(h),p=h===bt?()=>!1:g=>Vt(f,g);if(u!=null&&u!==l&&(nn(u)?(c[u]=null,p(u)&&(h[u]=null)):hn(u)&&(u.value=null)),rt(l))Ud(l,a,12,[o,c]);else{const g=nn(l),w=hn(l);if(g||w){const I=()=>{if(t.f){const k=g?p(l)?h[l]:c[l]:l.value;i?We(k)&&__(k,s):We(k)?k.includes(s)||k.push(s):g?(c[l]=[s],p(l)&&(h[l]=c[l])):(l.value=[s],t.k&&(c[t.k]=l.value))}else g?(c[l]=o,p(l)&&(h[l]=o)):w&&(l.value=o,t.k&&(c[t.k]=o))};o?(I.id=-1,Nn(I,n)):I()}}}let cw=!1;const Ja=()=>{cw||(console.error("Hydration completed but contains mismatches."),cw=!0)},A3=t=>t.namespaceURI.includes("svg")&&t.tagName!=="foreignObject",O3=t=>t.namespaceURI.includes("MathML"),Nh=t=>{if(t.nodeType===1){if(A3(t))return"svg";if(O3(t))return"mathml"}},pl=t=>t.nodeType===8;function P3(t){const{mt:e,p:n,o:{patchProp:r,createText:i,nextSibling:s,parentNode:o,remove:a,insert:l,createComment:u}}=t,c=(T,_)=>{if(!_.hasChildNodes()){n(null,T,_),Mf(),_._vnode=T;return}h(_.firstChild,T,null,null,null),Mf(),_._vnode=T},h=(T,_,L,V,S,E=!1)=>{E=E||!!_.dynamicChildren;const b=pl(T)&&T.data==="[",v=()=>w(T,_,L,V,S,b),{type:C,ref:A,shapeFlag:O,patchFlag:Y}=_;let U=T.nodeType;_.el=T,Y===-2&&(E=!1,_.dynamicChildren=null);let j=null;switch(C){case ca:U!==3?_.children===""?(l(_.el=i(""),o(T),T),j=T):j=v():(T.data!==_.children&&(Ja(),T.data=_.children),j=s(T));break;case Mn:P(T)?(j=s(T),k(_.el=T.content.firstChild,T,L)):U!==8||b?j=v():j=s(T);break;case Pl:if(b&&(T=s(T),U=T.nodeType),U===1||U===3){j=T;const q=!_.children.length;for(let X=0;X<_.staticCount;X++)q&&(_.children+=j.nodeType===1?j.outerHTML:j.data),X===_.staticCount-1&&(_.anchor=j),j=s(j);return b?s(j):j}else v();break;case Oe:b?j=g(T,_,L,V,S,E):j=v();break;default:if(O&1)(U!==1||_.type.toLowerCase()!==T.tagName.toLowerCase())&&!P(T)?j=v():j=f(T,_,L,V,S,E);else if(O&6){_.slotScopeIds=S;const q=o(T);if(b?j=I(T):pl(T)&&T.data==="teleport start"?j=I(T,T.data,"teleport end"):j=s(T),e(_,q,null,L,V,Nh(q),E),yo(_)&&!_.type.__asyncResolved){let X;b?(X=Me(Oe),X.anchor=j?j.previousSibling:q.lastChild):X=T.nodeType===3?tt(""):Me("div"),X.el=T,_.component.subTree=X}}else O&64?U!==8?j=v():j=_.type.hydrate(T,_,L,V,S,E,t,p):O&128&&(j=_.type.hydrate(T,_,L,V,Nh(o(T)),S,E,t,h))}return A!=null&&Kc(A,null,V,_),j},f=(T,_,L,V,S,E)=>{E=E||!!_.dynamicChildren;const{type:b,props:v,patchFlag:C,shapeFlag:A,dirs:O,transition:Y}=_,U=b==="input"||b==="option";if(U||C!==-1){O&&Yi(_,null,L,"created");let j=!1;if(P(T)){j=DA(null,Y)&&L&&L.vnode.props&&L.vnode.props.appear;const X=T.content.firstChild;j&&Y.beforeEnter(X),k(X,T,L),_.el=T=X}if(A&16&&!(v&&(v.innerHTML||v.textContent))){let X=p(T.firstChild,_,T,L,V,S,E);for(;X;){Mh(T,1)||Ja();const $=X;X=X.nextSibling,a($)}}else if(A&8){let X=_.children;X[0]===`
`&&(T.tagName==="PRE"||T.tagName==="TEXTAREA")&&(X=X.slice(1)),T.textContent!==X&&(Mh(T,0)||Ja(),T.textContent=_.children)}if(v){if(U||!E||C&48){const X=T.tagName.includes("-");for(const $ in v)(U&&($.endsWith("value")||$==="indeterminate")||$d($)&&!Sl($)||$[0]==="."||X)&&r(T,$,null,v[$],void 0,L)}else if(v.onClick)r(T,"onClick",null,v.onClick,void 0,L);else if(C&4&&ts(v.style))for(const X in v.style)v.style[X]}let q;(q=v&&v.onVnodeBeforeMount)&&$r(q,L,_),O&&Yi(_,null,L,"beforeMount"),((q=v&&v.onVnodeMounted)||O||j)&&FA(()=>{q&&$r(q,L,_),j&&Y.enter(T),O&&Yi(_,null,L,"mounted")},V)}return T.nextSibling},p=(T,_,L,V,S,E,b)=>{b=b||!!_.dynamicChildren;const v=_.children,C=v.length;for(let A=0;A<C;A++){const O=b?v[A]:v[A]=Hr(v[A]),Y=O.type===ca;T?(Y&&!b&&A+1<C&&Hr(v[A+1]).type===ca&&(l(i(T.data.slice(O.children.length)),L,s(T)),T.data=O.children),T=h(T,O,V,S,E,b)):Y&&!O.children?l(O.el=i(""),L):(Mh(L,1)||Ja(),n(null,O,L,null,V,S,Nh(L),E))}return T},g=(T,_,L,V,S,E)=>{const{slotScopeIds:b}=_;b&&(S=S?S.concat(b):b);const v=o(T),C=p(s(T),_,v,L,V,S,E);return C&&pl(C)&&C.data==="]"?s(_.anchor=C):(Ja(),l(_.anchor=u("]"),v,C),C)},w=(T,_,L,V,S,E)=>{if(Mh(T.parentElement,1)||Ja(),_.el=null,E){const C=I(T);for(;;){const A=s(T);if(A&&A!==C)a(A);else break}}const b=s(T),v=o(T);return a(T),n(null,_,v,b,L,V,Nh(v),S),L&&(L.vnode.el=_.el,Gp(L,_.el)),b},I=(T,_="[",L="]")=>{let V=0;for(;T;)if(T=s(T),T&&pl(T)&&(T.data===_&&V++,T.data===L)){if(V===0)return s(T);V--}return T},k=(T,_,L)=>{const V=_.parentNode;V&&V.replaceChild(T,_);let S=L;for(;S;)S.vnode.el===_&&(S.vnode.el=S.subTree.el=T),S=S.parent},P=T=>T.nodeType===1&&T.tagName==="TEMPLATE";return[c,h]}const dw="data-allow-mismatch",k3={0:"text",1:"children",2:"class",3:"style",4:"attribute"};function Mh(t,e){if(e===0||e===1)for(;t&&!t.hasAttribute(dw);)t=t.parentElement;const n=t&&t.getAttribute(dw);if(n==null)return!1;if(n==="")return!0;{const r=n.split(",");return e===0&&r.includes("children")?!0:n.split(",").includes(k3[e])}}const R3=$p().requestIdleCallback||(t=>setTimeout(t,1)),D3=$p().cancelIdleCallback||(t=>clearTimeout(t)),doe=(t=1e4)=>e=>{const n=R3(e,{timeout:t});return()=>D3(n)};function x3(t){const{top:e,left:n,bottom:r,right:i}=t.getBoundingClientRect(),{innerHeight:s,innerWidth:o}=window;return(e>0&&e<s||r>0&&r<s)&&(n>0&&n<o||i>0&&i<o)}const hoe=t=>(e,n)=>{const r=new IntersectionObserver(i=>{for(const s of i)if(s.isIntersecting){r.disconnect(),e();break}},t);return n(i=>{if(i instanceof Element){if(x3(i))return e(),r.disconnect(),!1;r.observe(i)}}),()=>r.disconnect()},foe=t=>e=>{if(t){const n=matchMedia(t);if(n.matches)e();else return n.addEventListener("change",e,{once:!0}),()=>n.removeEventListener("change",e)}},poe=(t=[])=>(e,n)=>{nn(t)&&(t=[t]);let r=!1;const i=o=>{r||(r=!0,s(),e(),o.target.dispatchEvent(new o.constructor(o.type,o)))},s=()=>{n(o=>{for(const a of t)o.removeEventListener(a,i)})};return n(o=>{for(const a of t)o.addEventListener(a,i,{once:!0})}),s};function N3(t,e){if(pl(t)&&t.data==="["){let n=1,r=t.nextSibling;for(;r;){if(r.nodeType===1){if(e(r)===!1)break}else if(pl(r))if(r.data==="]"){if(--n===0)break}else r.data==="["&&n++;r=r.nextSibling}}else e(t)}const yo=t=>!!t.type.__asyncLoader;/*! #__NO_SIDE_EFFECTS__ */function moe(t){rt(t)&&(t={loader:t});const{loader:e,loadingComponent:n,errorComponent:r,delay:i=200,hydrate:s,timeout:o,suspensible:a=!0,onError:l}=t;let u=null,c,h=0;const f=()=>(h++,u=null,p()),p=()=>{let g;return u||(g=u=e().catch(w=>{if(w=w instanceof Error?w:new Error(String(w)),l)return new Promise((I,k)=>{l(w,()=>I(f()),()=>k(w),h+1)});throw w}).then(w=>g!==u&&u?u:(w&&(w.__esModule||w[Symbol.toStringTag]==="Module")&&(w=w.default),c=w,w)))};return it({name:"AsyncComponentWrapper",__asyncLoader:p,__asyncHydrate(g,w,I){const k=s?()=>{const P=s(I,T=>N3(g,T));P&&(w.bum||(w.bum=[])).push(P)}:I;c?k():p().then(()=>!w.isUnmounted&&k())},get __asyncResolved(){return c},setup(){const g=Ln;if(D_(g),c)return()=>gg(c,g);const w=T=>{u=null,mu(T,g,13,!r)};if(a&&g.suspense||Bl)return p().then(T=>()=>gg(T,g)).catch(T=>(w(T),()=>r?Me(r,{error:T}):null));const I=Te(!1),k=Te(),P=Te(!!i);return i&&setTimeout(()=>{P.value=!1},i),o!=null&&setTimeout(()=>{if(!I.value&&!k.value){const T=new Error(`Async component timed out after ${o}ms.`);w(T),k.value=T}},o),p().then(()=>{I.value=!0,g.parent&&Bd(g.parent.vnode)&&g.parent.update()}).catch(T=>{w(T),k.value=T}),()=>{if(I.value&&c)return gg(c,g);if(k.value&&r)return Me(r,{error:k.value});if(n&&!P.value)return Me(n)}}})}function gg(t,e){const{ref:n,props:r,children:i,ce:s}=e.vnode,o=Me(t,r,i);return o.ref=n,o.ce=s,delete e.vnode.ce,o}const Bd=t=>t.type.__isKeepAlive,M3={name:"KeepAlive",__isKeepAlive:!0,props:{include:[String,RegExp,Array],exclude:[String,RegExp,Array],max:[String,Number]},setup(t,{slots:e}){const n=Xr(),r=n.ctx;if(!r.renderer)return()=>{const P=e.default&&e.default();return P&&P.length===1?P[0]:P};const i=new Map,s=new Set;let o=null;const a=n.suspense,{renderer:{p:l,m:u,um:c,o:{createElement:h}}}=r,f=h("div");r.activate=(P,T,_,L,V)=>{const S=P.component;u(P,T,_,0,a),l(S.vnode,P,T,_,S,a,L,P.slotScopeIds,V),Nn(()=>{S.isDeactivated=!1,S.a&&Cl(S.a);const E=P.props&&P.props.onVnodeMounted;E&&$r(E,S.parent,P)},a)},r.deactivate=P=>{const T=P.component;Vf(T.m),Vf(T.a),u(P,f,null,1,a),Nn(()=>{T.da&&Cl(T.da);const _=P.props&&P.props.onVnodeUnmounted;_&&$r(_,T.parent,P),T.isDeactivated=!0},a)};function p(P){vg(P),c(P,n,a,!0)}function g(P){i.forEach((T,_)=>{const L=jv(T.type);L&&!P(L)&&w(_)})}function w(P){const T=i.get(P);T&&(!o||!Ii(T,o))?p(T):o&&vg(o),i.delete(P),s.delete(P)}_n(()=>[t.include,t.exclude],([P,T])=>{P&&g(_=>rc(P,_)),T&&g(_=>!rc(T,_))},{flush:"post",deep:!0});let I=null;const k=()=>{I!=null&&(Ff(n.subTree.type)?Nn(()=>{i.set(I,Lh(n.subTree))},n.subTree.suspense):i.set(I,Lh(n.subTree)))};return mn(k),N_(k),M_(()=>{i.forEach(P=>{const{subTree:T,suspense:_}=n,L=Lh(T);if(P.type===L.type&&P.key===L.key){vg(L);const V=L.component.da;V&&Nn(V,_);return}p(P)})}),()=>{if(I=null,!e.default)return o=null;const P=e.default(),T=P[0];if(P.length>1)return o=null,P;if(!Po(T)||!(T.shapeFlag&4)&&!(T.shapeFlag&128))return o=null,T;let _=Lh(T);if(_.type===Mn)return o=null,_;const L=_.type,V=jv(yo(_)?_.type.__asyncResolved||{}:L),{include:S,exclude:E,max:b}=t;if(S&&(!V||!rc(S,V))||E&&V&&rc(E,V))return _.shapeFlag&=-257,o=_,T;const v=_.key==null?L:_.key,C=i.get(v);return _.el&&(_=xs(_),T.shapeFlag&128&&(T.ssContent=_)),I=v,C?(_.el=C.el,_.component=C.component,_.transition&&Oo(_,_.transition),_.shapeFlag|=512,s.delete(v),s.add(v)):(s.add(v),b&&s.size>parseInt(b,10)&&w(s.values().next().value)),_.shapeFlag|=256,o=_,Ff(T.type)?T:_}}},goe=M3;function rc(t,e){return We(t)?t.some(n=>rc(n,e)):nn(t)?t.split(",").includes(e):kN(t)?(t.lastIndex=0,t.test(e)):!1}function L3(t,e){vA(t,"a",e)}function V3(t,e){vA(t,"da",e)}function vA(t,e,n=Ln){const r=t.__wdc||(t.__wdc=()=>{let i=n;for(;i;){if(i.isDeactivated)return;i=i.parent}return t()});if(Kp(e,r,n),n){let i=n.parent;for(;i&&i.parent;)Bd(i.parent.vnode)&&F3(r,e,n,i),i=i.parent}}function F3(t,e,n,r){const i=Kp(e,t,r,!0);Fo(()=>{__(r[e],i)},n)}function vg(t){t.shapeFlag&=-257,t.shapeFlag&=-513}function Lh(t){return t.shapeFlag&128?t.ssContent:t}function Kp(t,e,n=Ln,r=!1){if(n){const i=n[t]||(n[t]=[]),s=e.__weh||(e.__weh=(...o)=>{Lo();const a=_a(n),l=Li(e,n,t,o);return a(),Vo(),l});return r?i.unshift(s):i.push(s),s}}const Bs=t=>(e,n=Ln)=>{(!Bl||t==="sp")&&Kp(t,(...r)=>e(...r),n)},$3=Bs("bm"),mn=Bs("m"),x_=Bs("bu"),N_=Bs("u"),M_=Bs("bum"),Fo=Bs("um"),U3=Bs("sp"),B3=Bs("rtg"),H3=Bs("rtc");function j3(t,e=Ln){Kp("ec",t,e)}const L_="components",W3="directives";function er(t,e){return F_(L_,t,!0,e)||t}const yA=Symbol.for("v-ndc");function pr(t){return nn(t)?F_(L_,t,!1)||t:t||yA}function V_(t){return F_(W3,t)}function F_(t,e,n=!0,r=!1){const i=Fn||Ln;if(i){const s=i.type;if(t===L_){const a=jv(s,!1);if(a&&(a===e||a===Er(e)||a===Fp(Er(e))))return s}const o=hw(i[t]||s[t],e)||hw(i.appContext[t],e);return!o&&r?s:o}}function hw(t,e){return t&&(t[e]||t[Er(e)]||t[Fp(Er(e))])}function ft(t,e,n,r){let i;const s=n&&n[r],o=We(t);if(o||nn(t)){const a=o&&ts(t);let l=!1;a&&(l=!pi(t),t=jp(t)),i=new Array(t.length);for(let u=0,c=t.length;u<c;u++)i[u]=e(l?gr(t[u]):t[u],u,void 0,s&&s[u])}else if(typeof t=="number"){i=new Array(t);for(let a=0;a<t;a++)i[a]=e(a+1,a,void 0,s&&s[a])}else if(Kt(t))if(t[Symbol.iterator])i=Array.from(t,(a,l)=>e(a,l,void 0,s&&s[l]));else{const a=Object.keys(t);i=new Array(a.length);for(let l=0,u=a.length;l<u;l++){const c=a[l];i[l]=e(t[c],c,l,s&&s[l])}}else i=[];return n&&(n[r]=i),i}function sr(t,e){for(let n=0;n<e.length;n++){const r=e[n];if(We(r))for(let i=0;i<r.length;i++)t[r[i].name]=r[i].fn;else r&&(t[r.name]=r.key?(...i)=>{const s=r.fn(...i);return s&&(s.key=r.key),s}:r.fn)}return t}function pe(t,e,n={},r,i){if(Fn.ce||Fn.parent&&yo(Fn.parent)&&Fn.parent.ce)return e!=="default"&&(n.name=e),M(),we(Oe,null,[Me("slot",n,r&&r())],64);let s=t[e];s&&s._c&&(s._d=!1),M();const o=s&&$_(s(n)),a=n.key||o&&o.key,l=we(Oe,{key:(a&&!Mi(a)?a:`_${e}`)+(!o&&r?"_fb":"")},o||(r?r():[]),o&&t._===1?64:-2);return!i&&l.scopeId&&(l.slotScopeIds=[l.scopeId+"-s"]),s&&s._c&&(s._d=!0),l}function $_(t){return t.some(e=>Po(e)?!(e.type===Mn||e.type===Oe&&!$_(e.children)):!0)?t:null}function voe(t,e){const n={};for(const r in t)n[e&&/[A-Z]/.test(r)?`on:${r}`:lf(r)]=t[r];return n}const xv=t=>t?WA(t)?jd(t):xv(t.parent):null,gc=Xt(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>xv(t.parent),$root:t=>xv(t.root),$host:t=>t.ce,$emit:t=>t.emit,$options:t=>U_(t),$forceUpdate:t=>t.f||(t.f=()=>{k_(t.update)}),$nextTick:t=>t.n||(t.n=Kn.bind(t.proxy)),$watch:t=>fM.bind(t)}),yg=(t,e)=>t!==bt&&!t.__isScriptSetup&&Vt(t,e),Nv={get({_:t},e){if(e==="__v_skip")return!0;const{ctx:n,setupState:r,data:i,props:s,accessCache:o,type:a,appContext:l}=t;let u;if(e[0]!=="$"){const p=o[e];if(p!==void 0)switch(p){case 1:return r[e];case 2:return i[e];case 4:return n[e];case 3:return s[e]}else{if(yg(r,e))return o[e]=1,r[e];if(i!==bt&&Vt(i,e))return o[e]=2,i[e];if((u=t.propsOptions[0])&&Vt(u,e))return o[e]=3,s[e];if(n!==bt&&Vt(n,e))return o[e]=4,n[e];Mv&&(o[e]=0)}}const c=gc[e];let h,f;if(c)return e==="$attrs"&&mr(t.attrs,"get",""),c(t);if((h=a.__cssModules)&&(h=h[e]))return h;if(n!==bt&&Vt(n,e))return o[e]=4,n[e];if(f=l.config.globalProperties,Vt(f,e))return f[e]},set({_:t},e,n){const{data:r,setupState:i,ctx:s}=t;return yg(i,e)?(i[e]=n,!0):r!==bt&&Vt(r,e)?(r[e]=n,!0):Vt(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(s[e]=n,!0)},has({_:{data:t,setupState:e,accessCache:n,ctx:r,appContext:i,propsOptions:s}},o){let a;return!!n[o]||t!==bt&&Vt(t,o)||yg(e,o)||(a=s[0])&&Vt(a,o)||Vt(r,o)||Vt(gc,o)||Vt(i.config.globalProperties,o)},defineProperty(t,e,n){return n.get!=null?t._.accessCache[e]=0:Vt(n,"value")&&this.set(t,e,n.value,null),Reflect.defineProperty(t,e,n)}},q3=Xt({},Nv,{get(t,e){if(e!==Symbol.unscopables)return Nv.get(t,e,t)},has(t,e){return e[0]!=="_"&&!MN(e)}});function yoe(){return null}function _oe(){return null}function boe(t){}function woe(t){}function Toe(){return null}function Eoe(){}function Ioe(t,e){return null}function Va(){return _A().slots}function Soe(){return _A().attrs}function _A(){const t=Xr();return t.setupContext||(t.setupContext=KA(t))}function Yc(t){return We(t)?t.reduce((e,n)=>(e[n]=null,e),{}):t}function Coe(t,e){const n=Yc(t);for(const r in e){if(r.startsWith("__skip"))continue;let i=n[r];i?We(i)||rt(i)?i=n[r]={type:i,default:e[r]}:i.default=e[r]:i===null&&(i=n[r]={default:e[r]}),i&&e[`__skip_${r}`]&&(i.skipFactory=!0)}return n}function Aoe(t,e){return!t||!e?t||e:We(t)&&We(e)?t.concat(e):Xt({},Yc(t),Yc(e))}function Ooe(t,e){const n={};for(const r in t)e.includes(r)||Object.defineProperty(n,r,{enumerable:!0,get:()=>t[r]});return n}function Poe(t){const e=Xr();let n=t();return Uv(),b_(n)&&(n=n.catch(r=>{throw _a(e),r})),[n,()=>_a(e)]}let Mv=!0;function z3(t){const e=U_(t),n=t.proxy,r=t.ctx;Mv=!1,e.beforeCreate&&fw(e.beforeCreate,t,"bc");const{data:i,computed:s,methods:o,watch:a,provide:l,inject:u,created:c,beforeMount:h,mounted:f,beforeUpdate:p,updated:g,activated:w,deactivated:I,beforeDestroy:k,beforeUnmount:P,destroyed:T,unmounted:_,render:L,renderTracked:V,renderTriggered:S,errorCaptured:E,serverPrefetch:b,expose:v,inheritAttrs:C,components:A,directives:O,filters:Y}=e;if(u&&K3(u,r,null),o)for(const q in o){const X=o[q];rt(X)&&(r[q]=X.bind(n))}if(i){const q=i.call(n,n);Kt(q)&&(t.data=_i(q))}if(Mv=!0,s)for(const q in s){const X=s[q],$=rt(X)?X.bind(n,n):rt(X.get)?X.get.bind(n,n):fi,x=!rt(X)&&rt(X.set)?X.set.bind(n):fi,te=se({get:$,set:x});Object.defineProperty(r,q,{enumerable:!0,configurable:!0,get:()=>te.value,set:ee=>te.value=ee})}if(a)for(const q in a)bA(a[q],r,n,q);if(l){const q=rt(l)?l.call(n):l;Reflect.ownKeys(q).forEach(X=>{vc(X,q[X])})}c&&fw(c,t,"c");function j(q,X){We(X)?X.forEach($=>q($.bind(n))):X&&q(X.bind(n))}if(j($3,h),j(mn,f),j(x_,p),j(N_,g),j(L3,w),j(V3,I),j(j3,E),j(H3,V),j(B3,S),j(M_,P),j(Fo,_),j(U3,b),We(v))if(v.length){const q=t.exposed||(t.exposed={});v.forEach(X=>{Object.defineProperty(q,X,{get:()=>n[X],set:$=>n[X]=$})})}else t.exposed||(t.exposed={});L&&t.render===fi&&(t.render=L),C!=null&&(t.inheritAttrs=C),A&&(t.components=A),O&&(t.directives=O),b&&D_(t)}function K3(t,e,n=fi){We(t)&&(t=Lv(t));for(const r in t){const i=t[r];let s;Kt(i)?"default"in i?s=Kr(i.from||r,i.default,!0):s=Kr(i.from||r):s=Kr(i),hn(s)?Object.defineProperty(e,r,{enumerable:!0,configurable:!0,get:()=>s.value,set:o=>s.value=o}):e[r]=s}}function fw(t,e,n){Li(We(t)?t.map(r=>r.bind(e.proxy)):t.bind(e.proxy),e,n)}function bA(t,e,n,r){let i=r.includes(".")?NA(n,r):()=>n[r];if(nn(t)){const s=e[t];rt(s)&&_n(i,s)}else if(rt(t))_n(i,t.bind(n));else if(Kt(t))if(We(t))t.forEach(s=>bA(s,e,n,r));else{const s=rt(t.handler)?t.handler.bind(n):e[t.handler];rt(s)&&_n(i,s,t)}}function U_(t){const e=t.type,{mixins:n,extends:r}=e,{mixins:i,optionsCache:s,config:{optionMergeStrategies:o}}=t.appContext,a=s.get(e);let l;return a?l=a:!i.length&&!n&&!r?l=e:(l={},i.length&&i.forEach(u=>Lf(l,u,o,!0)),Lf(l,e,o)),Kt(e)&&s.set(e,l),l}function Lf(t,e,n,r=!1){const{mixins:i,extends:s}=e;s&&Lf(t,s,n,!0),i&&i.forEach(o=>Lf(t,o,n,!0));for(const o in e)if(!(r&&o==="expose")){const a=Y3[o]||n&&n[o];t[o]=a?a(t[o],e[o]):e[o]}return t}const Y3={data:pw,props:mw,emits:mw,methods:ic,computed:ic,beforeCreate:kr,created:kr,beforeMount:kr,mounted:kr,beforeUpdate:kr,updated:kr,beforeDestroy:kr,beforeUnmount:kr,destroyed:kr,unmounted:kr,activated:kr,deactivated:kr,errorCaptured:kr,serverPrefetch:kr,components:ic,directives:ic,watch:Q3,provide:pw,inject:G3};function pw(t,e){return e?t?function(){return Xt(rt(t)?t.call(this,this):t,rt(e)?e.call(this,this):e)}:e:t}function G3(t,e){return ic(Lv(t),Lv(e))}function Lv(t){if(We(t)){const e={};for(let n=0;n<t.length;n++)e[t[n]]=t[n];return e}return t}function kr(t,e){return t?[...new Set([].concat(t,e))]:e}function ic(t,e){return t?Xt(Object.create(null),t,e):e}function mw(t,e){return t?We(t)&&We(e)?[...new Set([...t,...e])]:Xt(Object.create(null),Yc(t),Yc(e??{})):e}function Q3(t,e){if(!t)return e;if(!e)return t;const n=Xt(Object.create(null),t);for(const r in e)n[r]=kr(t[r],e[r]);return n}function wA(){return{app:null,config:{isNativeTag:ON,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let X3=0;function J3(t,e){return function(r,i=null){rt(r)||(r=Xt({},r)),i!=null&&!Kt(i)&&(i=null);const s=wA(),o=new WeakSet,a=[];let l=!1;const u=s.app={_uid:X3++,_component:r,_props:i,_container:null,_context:s,_instance:null,version:DM,get config(){return s.config},set config(c){},use(c,...h){return o.has(c)||(c&&rt(c.install)?(o.add(c),c.install(u,...h)):rt(c)&&(o.add(c),c(u,...h))),u},mixin(c){return s.mixins.includes(c)||s.mixins.push(c),u},component(c,h){return h?(s.components[c]=h,u):s.components[c]},directive(c,h){return h?(s.directives[c]=h,u):s.directives[c]},mount(c,h,f){if(!l){const p=u._ceVNode||Me(r,i);return p.appContext=s,f===!0?f="svg":f===!1&&(f=void 0),h&&e?e(p,c):t(p,c,f),l=!0,u._container=c,c.__vue_app__=u,jd(p.component)}},onUnmount(c){a.push(c)},unmount(){l&&(Li(a,u._instance,16),t(null,u._container),delete u._container.__vue_app__)},provide(c,h){return s.provides[c]=h,u},runWithContext(c){const h=ua;ua=u;try{return c()}finally{ua=h}}};return u}}let ua=null;function vc(t,e){if(Ln){let n=Ln.provides;const r=Ln.parent&&Ln.parent.provides;r===n&&(n=Ln.provides=Object.create(r)),n[t]=e}}function Kr(t,e,n=!1){const r=Ln||Fn;if(r||ua){const i=ua?ua._context.provides:r?r.parent==null?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:void 0;if(i&&t in i)return i[t];if(arguments.length>1)return n&&rt(e)?e.call(r&&r.proxy):e}}function Z3(){return!!(Ln||Fn||ua)}const TA={},EA=()=>Object.create(TA),IA=t=>Object.getPrototypeOf(t)===TA;function eM(t,e,n,r=!1){const i={},s=EA();t.propsDefaults=Object.create(null),SA(t,e,i,s);for(const o in t.propsOptions[0])o in i||(i[o]=void 0);n?t.props=r?i:XC(i):t.type.props?t.props=i:t.props=s,t.attrs=s}function tM(t,e,n,r){const{props:i,attrs:s,vnode:{patchFlag:o}}=t,a=_t(i),[l]=t.propsOptions;let u=!1;if((r||o>0)&&!(o&16)){if(o&8){const c=t.vnode.dynamicProps;for(let h=0;h<c.length;h++){let f=c[h];if(Yp(t.emitsOptions,f))continue;const p=e[f];if(l)if(Vt(s,f))p!==s[f]&&(s[f]=p,u=!0);else{const g=Er(f);i[g]=Vv(l,a,g,p,t,!1)}else p!==s[f]&&(s[f]=p,u=!0)}}}else{SA(t,e,i,s)&&(u=!0);let c;for(const h in a)(!e||!Vt(e,h)&&((c=jr(h))===h||!Vt(e,c)))&&(l?n&&(n[h]!==void 0||n[c]!==void 0)&&(i[h]=Vv(l,a,h,void 0,t,!0)):delete i[h]);if(s!==a)for(const h in s)(!e||!Vt(e,h))&&(delete s[h],u=!0)}u&&ws(t.attrs,"set","")}function SA(t,e,n,r){const[i,s]=t.propsOptions;let o=!1,a;if(e)for(let l in e){if(Sl(l))continue;const u=e[l];let c;i&&Vt(i,c=Er(l))?!s||!s.includes(c)?n[c]=u:(a||(a={}))[c]=u:Yp(t.emitsOptions,l)||(!(l in r)||u!==r[l])&&(r[l]=u,o=!0)}if(s){const l=_t(n),u=a||bt;for(let c=0;c<s.length;c++){const h=s[c];n[h]=Vv(i,l,h,u[h],t,!Vt(u,h))}}return o}function Vv(t,e,n,r,i,s){const o=t[n];if(o!=null){const a=Vt(o,"default");if(a&&r===void 0){const l=o.default;if(o.type!==Function&&!o.skipFactory&&rt(l)){const{propsDefaults:u}=i;if(n in u)r=u[n];else{const c=_a(i);r=u[n]=l.call(null,e),c()}}else r=l;i.ce&&i.ce._setProp(n,r)}o[0]&&(s&&!a?r=!1:o[1]&&(r===""||r===jr(n))&&(r=!0))}return r}const nM=new WeakMap;function CA(t,e,n=!1){const r=n?nM:e.propsCache,i=r.get(t);if(i)return i;const s=t.props,o={},a=[];let l=!1;if(!rt(t)){const c=h=>{l=!0;const[f,p]=CA(h,e,!0);Xt(o,f),p&&a.push(...p)};!n&&e.mixins.length&&e.mixins.forEach(c),t.extends&&c(t.extends),t.mixins&&t.mixins.forEach(c)}if(!s&&!l)return Kt(t)&&r.set(t,El),El;if(We(s))for(let c=0;c<s.length;c++){const h=Er(s[c]);gw(h)&&(o[h]=bt)}else if(s)for(const c in s){const h=Er(c);if(gw(h)){const f=s[c],p=o[h]=We(f)||rt(f)?{type:f}:Xt({},f),g=p.type;let w=!1,I=!0;if(We(g))for(let k=0;k<g.length;++k){const P=g[k],T=rt(P)&&P.name;if(T==="Boolean"){w=!0;break}else T==="String"&&(I=!1)}else w=rt(g)&&g.name==="Boolean";p[0]=w,p[1]=I,(w||Vt(p,"default"))&&a.push(h)}}const u=[o,a];return Kt(t)&&r.set(t,u),u}function gw(t){return t[0]!=="$"&&!Sl(t)}const AA=t=>t[0]==="_"||t==="$stable",B_=t=>We(t)?t.map(Hr):[Hr(t)],rM=(t,e,n)=>{if(e._n)return e;const r=ke((...i)=>B_(e(...i)),n);return r._c=!1,r},OA=(t,e,n)=>{const r=t._ctx;for(const i in t){if(AA(i))continue;const s=t[i];if(rt(s))e[i]=rM(i,s,r);else if(s!=null){const o=B_(s);e[i]=()=>o}}},PA=(t,e)=>{const n=B_(e);t.slots.default=()=>n},kA=(t,e,n)=>{for(const r in e)(n||r!=="_")&&(t[r]=e[r])},iM=(t,e,n)=>{const r=t.slots=EA();if(t.vnode.shapeFlag&32){const i=e._;i?(kA(r,e,n),n&&RC(r,"_",i,!0)):OA(e,r)}else e&&PA(t,e)},sM=(t,e,n)=>{const{vnode:r,slots:i}=t;let s=!0,o=bt;if(r.shapeFlag&32){const a=e._;a?n&&a===1?s=!1:kA(i,e,n):(s=!e.$stable,OA(e,i)),o=e}else e&&(PA(t,e),o={default:1});if(s)for(const a in i)!AA(a)&&o[a]==null&&delete i[a]},Nn=FA;function oM(t){return RA(t)}function aM(t){return RA(t,P3)}function RA(t,e){const n=$p();n.__VUE__=!0;const{insert:r,remove:i,patchProp:s,createElement:o,createText:a,createComment:l,setText:u,setElementText:c,parentNode:h,nextSibling:f,setScopeId:p=fi,insertStaticContent:g}=t,w=(D,F,H,le=null,ae=null,me=null,Ae=void 0,Se=null,Ie=!!F.dynamicChildren)=>{if(D===F)return;D&&!Ii(D,F)&&(le=G(D),ee(D,ae,me,!0),D=null),F.patchFlag===-2&&(Ie=!1,F.dynamicChildren=null);const{type:ve,ref:Ye,shapeFlag:Ce}=F;switch(ve){case ca:I(D,F,H,le);break;case Mn:k(D,F,H,le);break;case Pl:D==null&&P(F,H,le,Ae);break;case Oe:A(D,F,H,le,ae,me,Ae,Se,Ie);break;default:Ce&1?L(D,F,H,le,ae,me,Ae,Se,Ie):Ce&6?O(D,F,H,le,ae,me,Ae,Se,Ie):(Ce&64||Ce&128)&&ve.process(D,F,H,le,ae,me,Ae,Se,Ie,fe)}Ye!=null&&ae&&Kc(Ye,D&&D.ref,me,F||D,!F)},I=(D,F,H,le)=>{if(D==null)r(F.el=a(F.children),H,le);else{const ae=F.el=D.el;F.children!==D.children&&u(ae,F.children)}},k=(D,F,H,le)=>{D==null?r(F.el=l(F.children||""),H,le):F.el=D.el},P=(D,F,H,le)=>{[D.el,D.anchor]=g(D.children,F,H,le,D.el,D.anchor)},T=({el:D,anchor:F},H,le)=>{let ae;for(;D&&D!==F;)ae=f(D),r(D,H,le),D=ae;r(F,H,le)},_=({el:D,anchor:F})=>{let H;for(;D&&D!==F;)H=f(D),i(D),D=H;i(F)},L=(D,F,H,le,ae,me,Ae,Se,Ie)=>{F.type==="svg"?Ae="svg":F.type==="math"&&(Ae="mathml"),D==null?V(F,H,le,ae,me,Ae,Se,Ie):b(D,F,ae,me,Ae,Se,Ie)},V=(D,F,H,le,ae,me,Ae,Se)=>{let Ie,ve;const{props:Ye,shapeFlag:Ce,transition:je,dirs:Ze}=D;if(Ie=D.el=o(D.type,me,Ye&&Ye.is,Ye),Ce&8?c(Ie,D.children):Ce&16&&E(D.children,Ie,null,le,ae,_g(D,me),Ae,Se),Ze&&Yi(D,null,le,"created"),S(Ie,D,D.scopeId,Ae,le),Ye){for(const z in Ye)z!=="value"&&!Sl(z)&&s(Ie,z,null,Ye[z],me,le);"value"in Ye&&s(Ie,"value",null,Ye.value,me),(ve=Ye.onVnodeBeforeMount)&&$r(ve,le,D)}Ze&&Yi(D,null,le,"beforeMount");const Xe=DA(ae,je);Xe&&je.beforeEnter(Ie),r(Ie,F,H),((ve=Ye&&Ye.onVnodeMounted)||Xe||Ze)&&Nn(()=>{ve&&$r(ve,le,D),Xe&&je.enter(Ie),Ze&&Yi(D,null,le,"mounted")},ae)},S=(D,F,H,le,ae)=>{if(H&&p(D,H),le)for(let me=0;me<le.length;me++)p(D,le[me]);if(ae){let me=ae.subTree;if(F===me||Ff(me.type)&&(me.ssContent===F||me.ssFallback===F)){const Ae=ae.vnode;S(D,Ae,Ae.scopeId,Ae.slotScopeIds,ae.parent)}}},E=(D,F,H,le,ae,me,Ae,Se,Ie=0)=>{for(let ve=Ie;ve<D.length;ve++){const Ye=D[ve]=Se?ao(D[ve]):Hr(D[ve]);w(null,Ye,F,H,le,ae,me,Ae,Se)}},b=(D,F,H,le,ae,me,Ae)=>{const Se=F.el=D.el;let{patchFlag:Ie,dynamicChildren:ve,dirs:Ye}=F;Ie|=D.patchFlag&16;const Ce=D.props||bt,je=F.props||bt;let Ze;if(H&&Go(H,!1),(Ze=je.onVnodeBeforeUpdate)&&$r(Ze,H,F,D),Ye&&Yi(F,D,H,"beforeUpdate"),H&&Go(H,!0),(Ce.innerHTML&&je.innerHTML==null||Ce.textContent&&je.textContent==null)&&c(Se,""),ve?v(D.dynamicChildren,ve,Se,H,le,_g(F,ae),me):Ae||X(D,F,Se,null,H,le,_g(F,ae),me,!1),Ie>0){if(Ie&16)C(Se,Ce,je,H,ae);else if(Ie&2&&Ce.class!==je.class&&s(Se,"class",null,je.class,ae),Ie&4&&s(Se,"style",Ce.style,je.style,ae),Ie&8){const Xe=F.dynamicProps;for(let z=0;z<Xe.length;z++){const ue=Xe[z],Fe=Ce[ue],Ge=je[ue];(Ge!==Fe||ue==="value")&&s(Se,ue,Fe,Ge,ae,H)}}Ie&1&&D.children!==F.children&&c(Se,F.children)}else!Ae&&ve==null&&C(Se,Ce,je,H,ae);((Ze=je.onVnodeUpdated)||Ye)&&Nn(()=>{Ze&&$r(Ze,H,F,D),Ye&&Yi(F,D,H,"updated")},le)},v=(D,F,H,le,ae,me,Ae)=>{for(let Se=0;Se<F.length;Se++){const Ie=D[Se],ve=F[Se],Ye=Ie.el&&(Ie.type===Oe||!Ii(Ie,ve)||Ie.shapeFlag&70)?h(Ie.el):H;w(Ie,ve,Ye,null,le,ae,me,Ae,!0)}},C=(D,F,H,le,ae)=>{if(F!==H){if(F!==bt)for(const me in F)!Sl(me)&&!(me in H)&&s(D,me,F[me],null,ae,le);for(const me in H){if(Sl(me))continue;const Ae=H[me],Se=F[me];Ae!==Se&&me!=="value"&&s(D,me,Se,Ae,ae,le)}"value"in H&&s(D,"value",F.value,H.value,ae)}},A=(D,F,H,le,ae,me,Ae,Se,Ie)=>{const ve=F.el=D?D.el:a(""),Ye=F.anchor=D?D.anchor:a("");let{patchFlag:Ce,dynamicChildren:je,slotScopeIds:Ze}=F;Ze&&(Se=Se?Se.concat(Ze):Ze),D==null?(r(ve,H,le),r(Ye,H,le),E(F.children||[],H,Ye,ae,me,Ae,Se,Ie)):Ce>0&&Ce&64&&je&&D.dynamicChildren?(v(D.dynamicChildren,je,H,ae,me,Ae,Se),(F.key!=null||ae&&F===ae.subTree)&&H_(D,F,!0)):X(D,F,H,Ye,ae,me,Ae,Se,Ie)},O=(D,F,H,le,ae,me,Ae,Se,Ie)=>{F.slotScopeIds=Se,D==null?F.shapeFlag&512?ae.ctx.activate(F,H,le,Ae,Ie):Y(F,H,le,ae,me,Ae,Ie):U(D,F,Ie)},Y=(D,F,H,le,ae,me,Ae)=>{const Se=D.component=jA(D,le,ae);if(Bd(D)&&(Se.ctx.renderer=fe),qA(Se,!1,Ae),Se.asyncDep){if(ae&&ae.registerDep(Se,j,Ae),!D.el){const Ie=Se.subTree=Me(Mn);k(null,Ie,F,H)}}else j(Se,D,F,H,ae,me,Ae)},U=(D,F,H)=>{const le=F.component=D.component;if(yM(D,F,H))if(le.asyncDep&&!le.asyncResolved){q(le,F,H);return}else le.next=F,le.update();else F.el=D.el,le.vnode=F},j=(D,F,H,le,ae,me,Ae)=>{const Se=()=>{if(D.isMounted){let{next:Ce,bu:je,u:Ze,parent:Xe,vnode:z}=D;{const Bt=xA(D);if(Bt){Ce&&(Ce.el=z.el,q(D,Ce,Ae)),Bt.asyncDep.then(()=>{D.isUnmounted||Se()});return}}let ue=Ce,Fe;Go(D,!1),Ce?(Ce.el=z.el,q(D,Ce,Ae)):Ce=z,je&&Cl(je),(Fe=Ce.props&&Ce.props.onVnodeBeforeUpdate)&&$r(Fe,Xe,Ce,z),Go(D,!0);const Ge=cf(D),pt=D.subTree;D.subTree=Ge,w(pt,Ge,h(pt.el),G(pt),D,ae,me),Ce.el=Ge.el,ue===null&&Gp(D,Ge.el),Ze&&Nn(Ze,ae),(Fe=Ce.props&&Ce.props.onVnodeUpdated)&&Nn(()=>$r(Fe,Xe,Ce,z),ae)}else{let Ce;const{el:je,props:Ze}=F,{bm:Xe,m:z,parent:ue,root:Fe,type:Ge}=D,pt=yo(F);if(Go(D,!1),Xe&&Cl(Xe),!pt&&(Ce=Ze&&Ze.onVnodeBeforeMount)&&$r(Ce,ue,F),Go(D,!0),je&&re){const Bt=()=>{D.subTree=cf(D),re(je,D.subTree,D,ae,null)};pt&&Ge.__asyncHydrate?Ge.__asyncHydrate(je,D,Bt):Bt()}else{Fe.ce&&Fe.ce._injectChildStyle(Ge);const Bt=D.subTree=cf(D);w(null,Bt,H,le,D,ae,me),F.el=Bt.el}if(z&&Nn(z,ae),!pt&&(Ce=Ze&&Ze.onVnodeMounted)){const Bt=F;Nn(()=>$r(Ce,ue,Bt),ae)}(F.shapeFlag&256||ue&&yo(ue.vnode)&&ue.vnode.shapeFlag&256)&&D.a&&Nn(D.a,ae),D.isMounted=!0,F=H=le=null}};D.scope.on();const Ie=D.effect=new kf(Se);D.scope.off();const ve=D.update=Ie.run.bind(Ie),Ye=D.job=Ie.runIfDirty.bind(Ie);Ye.i=D,Ye.id=D.uid,Ie.scheduler=()=>k_(Ye),Go(D,!0),ve()},q=(D,F,H)=>{F.component=D;const le=D.vnode.props;D.vnode=F,D.next=null,tM(D,F.props,le,H),sM(D,F.children,H),Lo(),sw(D),Vo()},X=(D,F,H,le,ae,me,Ae,Se,Ie=!1)=>{const ve=D&&D.children,Ye=D?D.shapeFlag:0,Ce=F.children,{patchFlag:je,shapeFlag:Ze}=F;if(je>0){if(je&128){x(ve,Ce,H,le,ae,me,Ae,Se,Ie);return}else if(je&256){$(ve,Ce,H,le,ae,me,Ae,Se,Ie);return}}Ze&8?(Ye&16&&B(ve,ae,me),Ce!==ve&&c(H,Ce)):Ye&16?Ze&16?x(ve,Ce,H,le,ae,me,Ae,Se,Ie):B(ve,ae,me,!0):(Ye&8&&c(H,""),Ze&16&&E(Ce,H,le,ae,me,Ae,Se,Ie))},$=(D,F,H,le,ae,me,Ae,Se,Ie)=>{D=D||El,F=F||El;const ve=D.length,Ye=F.length,Ce=Math.min(ve,Ye);let je;for(je=0;je<Ce;je++){const Ze=F[je]=Ie?ao(F[je]):Hr(F[je]);w(D[je],Ze,H,null,ae,me,Ae,Se,Ie)}ve>Ye?B(D,ae,me,!0,!1,Ce):E(F,H,le,ae,me,Ae,Se,Ie,Ce)},x=(D,F,H,le,ae,me,Ae,Se,Ie)=>{let ve=0;const Ye=F.length;let Ce=D.length-1,je=Ye-1;for(;ve<=Ce&&ve<=je;){const Ze=D[ve],Xe=F[ve]=Ie?ao(F[ve]):Hr(F[ve]);if(Ii(Ze,Xe))w(Ze,Xe,H,null,ae,me,Ae,Se,Ie);else break;ve++}for(;ve<=Ce&&ve<=je;){const Ze=D[Ce],Xe=F[je]=Ie?ao(F[je]):Hr(F[je]);if(Ii(Ze,Xe))w(Ze,Xe,H,null,ae,me,Ae,Se,Ie);else break;Ce--,je--}if(ve>Ce){if(ve<=je){const Ze=je+1,Xe=Ze<Ye?F[Ze].el:le;for(;ve<=je;)w(null,F[ve]=Ie?ao(F[ve]):Hr(F[ve]),H,Xe,ae,me,Ae,Se,Ie),ve++}}else if(ve>je)for(;ve<=Ce;)ee(D[ve],ae,me,!0),ve++;else{const Ze=ve,Xe=ve,z=new Map;for(ve=Xe;ve<=je;ve++){const ze=F[ve]=Ie?ao(F[ve]):Hr(F[ve]);ze.key!=null&&z.set(ze.key,ve)}let ue,Fe=0;const Ge=je-Xe+1;let pt=!1,Bt=0;const Yn=new Array(Ge);for(ve=0;ve<Ge;ve++)Yn[ve]=0;for(ve=Ze;ve<=Ce;ve++){const ze=D[ve];if(Fe>=Ge){ee(ze,ae,me,!0);continue}let Ke;if(ze.key!=null)Ke=z.get(ze.key);else for(ue=Xe;ue<=je;ue++)if(Yn[ue-Xe]===0&&Ii(ze,F[ue])){Ke=ue;break}Ke===void 0?ee(ze,ae,me,!0):(Yn[Ke-Xe]=ve+1,Ke>=Bt?Bt=Ke:pt=!0,w(ze,F[Ke],H,null,ae,me,Ae,Se,Ie),Fe++)}const Re=pt?lM(Yn):El;for(ue=Re.length-1,ve=Ge-1;ve>=0;ve--){const ze=Xe+ve,Ke=F[ze],Gn=ze+1<Ye?F[ze+1].el:le;Yn[ve]===0?w(null,Ke,H,Gn,ae,me,Ae,Se,Ie):pt&&(ue<0||ve!==Re[ue]?te(Ke,H,Gn,2):ue--)}}},te=(D,F,H,le,ae=null)=>{const{el:me,type:Ae,transition:Se,children:Ie,shapeFlag:ve}=D;if(ve&6){te(D.component.subTree,F,H,le);return}if(ve&128){D.suspense.move(F,H,le);return}if(ve&64){Ae.move(D,F,H,fe);return}if(Ae===Oe){r(me,F,H);for(let Ce=0;Ce<Ie.length;Ce++)te(Ie[Ce],F,H,le);r(D.anchor,F,H);return}if(Ae===Pl){T(D,F,H);return}if(le!==2&&ve&1&&Se)if(le===0)Se.beforeEnter(me),r(me,F,H),Nn(()=>Se.enter(me),ae);else{const{leave:Ce,delayLeave:je,afterLeave:Ze}=Se,Xe=()=>r(me,F,H),z=()=>{Ce(me,()=>{Xe(),Ze&&Ze()})};je?je(me,Xe,z):z()}else r(me,F,H)},ee=(D,F,H,le=!1,ae=!1)=>{const{type:me,props:Ae,ref:Se,children:Ie,dynamicChildren:ve,shapeFlag:Ye,patchFlag:Ce,dirs:je,cacheIndex:Ze}=D;if(Ce===-2&&(ae=!1),Se!=null&&Kc(Se,null,H,D,!0),Ze!=null&&(F.renderCache[Ze]=void 0),Ye&256){F.ctx.deactivate(D);return}const Xe=Ye&1&&je,z=!yo(D);let ue;if(z&&(ue=Ae&&Ae.onVnodeBeforeUnmount)&&$r(ue,F,D),Ye&6)Q(D.component,H,le);else{if(Ye&128){D.suspense.unmount(H,le);return}Xe&&Yi(D,null,F,"beforeUnmount"),Ye&64?D.type.remove(D,F,H,fe,le):ve&&!ve.hasOnce&&(me!==Oe||Ce>0&&Ce&64)?B(ve,F,H,!1,!0):(me===Oe&&Ce&384||!ae&&Ye&16)&&B(Ie,F,H),le&&he(D)}(z&&(ue=Ae&&Ae.onVnodeUnmounted)||Xe)&&Nn(()=>{ue&&$r(ue,F,D),Xe&&Yi(D,null,F,"unmounted")},H)},he=D=>{const{type:F,el:H,anchor:le,transition:ae}=D;if(F===Oe){ge(H,le);return}if(F===Pl){_(D);return}const me=()=>{i(H),ae&&!ae.persisted&&ae.afterLeave&&ae.afterLeave()};if(D.shapeFlag&1&&ae&&!ae.persisted){const{leave:Ae,delayLeave:Se}=ae,Ie=()=>Ae(H,me);Se?Se(D.el,me,Ie):Ie()}else me()},ge=(D,F)=>{let H;for(;D!==F;)H=f(D),i(D),D=H;i(F)},Q=(D,F,H)=>{const{bum:le,scope:ae,job:me,subTree:Ae,um:Se,m:Ie,a:ve}=D;Vf(Ie),Vf(ve),le&&Cl(le),ae.stop(),me&&(me.flags|=8,ee(Ae,D,F,H)),Se&&Nn(Se,F),Nn(()=>{D.isUnmounted=!0},F),F&&F.pendingBranch&&!F.isUnmounted&&D.asyncDep&&!D.asyncResolved&&D.suspenseId===F.pendingId&&(F.deps--,F.deps===0&&F.resolve())},B=(D,F,H,le=!1,ae=!1,me=0)=>{for(let Ae=me;Ae<D.length;Ae++)ee(D[Ae],F,H,le,ae)},G=D=>{if(D.shapeFlag&6)return G(D.component.subTree);if(D.shapeFlag&128)return D.suspense.next();const F=f(D.anchor||D.el),H=F&&F[aA];return H?f(H):F};let oe=!1;const J=(D,F,H)=>{D==null?F._vnode&&ee(F._vnode,null,null,!0):w(F._vnode||null,D,F,null,null,null,H),F._vnode=D,oe||(oe=!0,sw(),Mf(),oe=!1)},fe={p:w,um:ee,m:te,r:he,mt:Y,mc:E,pc:X,pbc:v,n:G,o:t};let be,re;return e&&([be,re]=e(fe)),{render:J,hydrate:be,createApp:J3(J,be)}}function _g({type:t,props:e},n){return n==="svg"&&t==="foreignObject"||n==="mathml"&&t==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:n}function Go({effect:t,job:e},n){n?(t.flags|=32,e.flags|=4):(t.flags&=-33,e.flags&=-5)}function DA(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function H_(t,e,n=!1){const r=t.children,i=e.children;if(We(r)&&We(i))for(let s=0;s<r.length;s++){const o=r[s];let a=i[s];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=i[s]=ao(i[s]),a.el=o.el),!n&&a.patchFlag!==-2&&H_(o,a)),a.type===ca&&(a.el=o.el)}}function lM(t){const e=t.slice(),n=[0];let r,i,s,o,a;const l=t.length;for(r=0;r<l;r++){const u=t[r];if(u!==0){if(i=n[n.length-1],t[i]<u){e[r]=i,n.push(r);continue}for(s=0,o=n.length-1;s<o;)a=s+o>>1,t[n[a]]<u?s=a+1:o=a;u<t[n[s]]&&(s>0&&(e[r]=n[s-1]),n[s]=r)}}for(s=n.length,o=n[s-1];s-- >0;)n[s]=o,o=e[o];return n}function xA(t){const e=t.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:xA(e)}function Vf(t){if(t)for(let e=0;e<t.length;e++)t[e].flags|=8}const uM=Symbol.for("v-scx"),cM=()=>Kr(uM);function dM(t,e){return Hd(t,null,e)}function koe(t,e){return Hd(t,null,{flush:"post"})}function hM(t,e){return Hd(t,null,{flush:"sync"})}function _n(t,e,n){return Hd(t,e,n)}function Hd(t,e,n=bt){const{immediate:r,deep:i,flush:s,once:o}=n,a=Xt({},n),l=e&&r||!e&&s!=="post";let u;if(Bl){if(s==="sync"){const p=cM();u=p.__watcherHandles||(p.__watcherHandles=[])}else if(!l){const p=()=>{};return p.stop=fi,p.resume=fi,p.pause=fi,p}}const c=Ln;a.call=(p,g,w)=>Li(p,c,g,w);let h=!1;s==="post"?a.scheduler=p=>{Nn(p,c&&c.suspense)}:s!=="sync"&&(h=!0,a.scheduler=(p,g)=>{g?p():k_(p)}),a.augmentJob=p=>{e&&(p.flags|=4),h&&(p.flags|=2,c&&(p.id=c.uid,p.i=c))};const f=y3(t,e,a);return Bl&&(u?u.push(f):l&&f()),f}function fM(t,e,n){const r=this.proxy,i=nn(t)?t.includes(".")?NA(r,t):()=>r[t]:t.bind(r,r);let s;rt(e)?s=e:(s=e.handler,n=e);const o=_a(this),a=Hd(i,s.bind(r),n);return o(),a}function NA(t,e){const n=e.split(".");return()=>{let r=t;for(let i=0;i<n.length&&r;i++)r=r[n[i]];return r}}function Roe(t,e,n=bt){const r=Xr(),i=Er(e),s=jr(e),o=MA(t,i),a=d3((l,u)=>{let c,h=bt,f;return hM(()=>{const p=t[i];Dr(c,p)&&(c=p,u())}),{get(){return l(),n.get?n.get(c):c},set(p){const g=n.set?n.set(p):p;if(!Dr(g,c)&&!(h!==bt&&Dr(p,h)))return;const w=r.vnode.props;w&&(e in w||i in w||s in w)&&(`onUpdate:${e}`in w||`onUpdate:${i}`in w||`onUpdate:${s}`in w)||(c=p,u()),r.emit(`update:${e}`,g),Dr(p,g)&&Dr(p,h)&&!Dr(g,f)&&u(),h=p,f=g}}});return a[Symbol.iterator]=()=>{let l=0;return{next(){return l<2?{value:l++?o||bt:a,done:!1}:{done:!0}}}},a}const MA=(t,e)=>e==="modelValue"||e==="model-value"?t.modelModifiers:t[`${e}Modifiers`]||t[`${Er(e)}Modifiers`]||t[`${jr(e)}Modifiers`];function pM(t,e,...n){if(t.isUnmounted)return;const r=t.vnode.props||bt;let i=n;const s=e.startsWith("update:"),o=s&&MA(r,e.slice(7));o&&(o.trim&&(i=n.map(c=>nn(c)?c.trim():c)),o.number&&(i=n.map(Of)));let a,l=r[a=lf(e)]||r[a=lf(Er(e))];!l&&s&&(l=r[a=lf(jr(e))]),l&&Li(l,t,6,i);const u=r[a+"Once"];if(u){if(!t.emitted)t.emitted={};else if(t.emitted[a])return;t.emitted[a]=!0,Li(u,t,6,i)}}function LA(t,e,n=!1){const r=e.emitsCache,i=r.get(t);if(i!==void 0)return i;const s=t.emits;let o={},a=!1;if(!rt(t)){const l=u=>{const c=LA(u,e,!0);c&&(a=!0,Xt(o,c))};!n&&e.mixins.length&&e.mixins.forEach(l),t.extends&&l(t.extends),t.mixins&&t.mixins.forEach(l)}return!s&&!a?(Kt(t)&&r.set(t,null),null):(We(s)?s.forEach(l=>o[l]=null):Xt(o,s),Kt(t)&&r.set(t,o),o)}function Yp(t,e){return!t||!$d(e)?!1:(e=e.slice(2).replace(/Once$/,""),Vt(t,e[0].toLowerCase()+e.slice(1))||Vt(t,jr(e))||Vt(t,e))}function cf(t){const{type:e,vnode:n,proxy:r,withProxy:i,propsOptions:[s],slots:o,attrs:a,emit:l,render:u,renderCache:c,props:h,data:f,setupState:p,ctx:g,inheritAttrs:w}=t,I=qc(t);let k,P;try{if(n.shapeFlag&4){const _=i||r,L=_;k=Hr(u.call(L,_,c,h,p,f,g)),P=a}else{const _=e;k=Hr(_.length>1?_(h,{attrs:a,slots:o,emit:l}):_(h,null)),P=e.props?a:gM(a)}}catch(_){yc.length=0,mu(_,t,1),k=Me(Mn)}let T=k;if(P&&w!==!1){const _=Object.keys(P),{shapeFlag:L}=T;_.length&&L&7&&(s&&_.some(y_)&&(P=vM(P,s)),T=xs(T,P,!1,!0))}return n.dirs&&(T=xs(T,null,!1,!0),T.dirs=T.dirs?T.dirs.concat(n.dirs):n.dirs),n.transition&&Oo(T,n.transition),k=T,qc(I),k}function mM(t,e=!0){let n;for(let r=0;r<t.length;r++){const i=t[r];if(Po(i)){if(i.type!==Mn||i.children==="v-if"){if(n)return;n=i}}else return}return n}const gM=t=>{let e;for(const n in t)(n==="class"||n==="style"||$d(n))&&((e||(e={}))[n]=t[n]);return e},vM=(t,e)=>{const n={};for(const r in t)(!y_(r)||!(r.slice(9)in e))&&(n[r]=t[r]);return n};function yM(t,e,n){const{props:r,children:i,component:s}=t,{props:o,children:a,patchFlag:l}=e,u=s.emitsOptions;if(e.dirs||e.transition)return!0;if(n&&l>=0){if(l&1024)return!0;if(l&16)return r?vw(r,o,u):!!o;if(l&8){const c=e.dynamicProps;for(let h=0;h<c.length;h++){const f=c[h];if(o[f]!==r[f]&&!Yp(u,f))return!0}}}else return(i||a)&&(!a||!a.$stable)?!0:r===o?!1:r?o?vw(r,o,u):!0:!!o;return!1}function vw(t,e,n){const r=Object.keys(e);if(r.length!==Object.keys(t).length)return!0;for(let i=0;i<r.length;i++){const s=r[i];if(e[s]!==t[s]&&!Yp(n,s))return!0}return!1}function Gp({vnode:t,parent:e},n){for(;e;){const r=e.subTree;if(r.suspense&&r.suspense.activeBranch===t&&(r.el=t.el),r===t)(t=e.vnode).el=n,e=e.parent;else break}}const Ff=t=>t.__isSuspense;let Fv=0;const _M={name:"Suspense",__isSuspense:!0,process(t,e,n,r,i,s,o,a,l,u){if(t==null)bM(e,n,r,i,s,o,a,l,u);else{if(s&&s.deps>0&&!t.suspense.isInFallback){e.suspense=t.suspense,e.suspense.vnode=e,e.el=t.el;return}wM(t,e,n,r,i,o,a,l,u)}},hydrate:TM,normalize:EM},Doe=_M;function Gc(t,e){const n=t.props&&t.props[e];rt(n)&&n()}function bM(t,e,n,r,i,s,o,a,l){const{p:u,o:{createElement:c}}=l,h=c("div"),f=t.suspense=VA(t,i,r,e,h,n,s,o,a,l);u(null,f.pendingBranch=t.ssContent,h,null,r,f,s,o),f.deps>0?(Gc(t,"onPending"),Gc(t,"onFallback"),u(null,t.ssFallback,e,n,r,null,s,o),Ol(f,t.ssFallback)):f.resolve(!1,!0)}function wM(t,e,n,r,i,s,o,a,{p:l,um:u,o:{createElement:c}}){const h=e.suspense=t.suspense;h.vnode=e,e.el=t.el;const f=e.ssContent,p=e.ssFallback,{activeBranch:g,pendingBranch:w,isInFallback:I,isHydrating:k}=h;if(w)h.pendingBranch=f,Ii(f,w)?(l(w,f,h.hiddenContainer,null,i,h,s,o,a),h.deps<=0?h.resolve():I&&(k||(l(g,p,n,r,i,null,s,o,a),Ol(h,p)))):(h.pendingId=Fv++,k?(h.isHydrating=!1,h.activeBranch=w):u(w,i,h),h.deps=0,h.effects.length=0,h.hiddenContainer=c("div"),I?(l(null,f,h.hiddenContainer,null,i,h,s,o,a),h.deps<=0?h.resolve():(l(g,p,n,r,i,null,s,o,a),Ol(h,p))):g&&Ii(f,g)?(l(g,f,n,r,i,h,s,o,a),h.resolve(!0)):(l(null,f,h.hiddenContainer,null,i,h,s,o,a),h.deps<=0&&h.resolve()));else if(g&&Ii(f,g))l(g,f,n,r,i,h,s,o,a),Ol(h,f);else if(Gc(e,"onPending"),h.pendingBranch=f,f.shapeFlag&512?h.pendingId=f.component.suspenseId:h.pendingId=Fv++,l(null,f,h.hiddenContainer,null,i,h,s,o,a),h.deps<=0)h.resolve();else{const{timeout:P,pendingId:T}=h;P>0?setTimeout(()=>{h.pendingId===T&&h.fallback(p)},P):P===0&&h.fallback(p)}}function VA(t,e,n,r,i,s,o,a,l,u,c=!1){const{p:h,m:f,um:p,n:g,o:{parentNode:w,remove:I}}=u;let k;const P=IM(t);P&&e&&e.pendingBranch&&(k=e.pendingId,e.deps++);const T=t.props?Pf(t.props.timeout):void 0,_=s,L={vnode:t,parent:e,parentComponent:n,namespace:o,container:r,hiddenContainer:i,deps:0,pendingId:Fv++,timeout:typeof T=="number"?T:-1,activeBranch:null,pendingBranch:null,isInFallback:!c,isHydrating:c,isUnmounted:!1,effects:[],resolve(V=!1,S=!1){const{vnode:E,activeBranch:b,pendingBranch:v,pendingId:C,effects:A,parentComponent:O,container:Y}=L;let U=!1;L.isHydrating?L.isHydrating=!1:V||(U=b&&v.transition&&v.transition.mode==="out-in",U&&(b.transition.afterLeave=()=>{C===L.pendingId&&(f(v,Y,s===_?g(b):s,0),Nf(A))}),b&&(w(b.el)===Y&&(s=g(b)),p(b,O,L,!0)),U||f(v,Y,s,0)),Ol(L,v),L.pendingBranch=null,L.isInFallback=!1;let j=L.parent,q=!1;for(;j;){if(j.pendingBranch){j.effects.push(...A),q=!0;break}j=j.parent}!q&&!U&&Nf(A),L.effects=[],P&&e&&e.pendingBranch&&k===e.pendingId&&(e.deps--,e.deps===0&&!S&&e.resolve()),Gc(E,"onResolve")},fallback(V){if(!L.pendingBranch)return;const{vnode:S,activeBranch:E,parentComponent:b,container:v,namespace:C}=L;Gc(S,"onFallback");const A=g(E),O=()=>{L.isInFallback&&(h(null,V,v,A,b,null,C,a,l),Ol(L,V))},Y=V.transition&&V.transition.mode==="out-in";Y&&(E.transition.afterLeave=O),L.isInFallback=!0,p(E,b,null,!0),Y||O()},move(V,S,E){L.activeBranch&&f(L.activeBranch,V,S,E),L.container=V},next(){return L.activeBranch&&g(L.activeBranch)},registerDep(V,S,E){const b=!!L.pendingBranch;b&&L.deps++;const v=V.vnode.el;V.asyncDep.catch(C=>{mu(C,V,0)}).then(C=>{if(V.isUnmounted||L.isUnmounted||L.pendingId!==V.suspenseId)return;V.asyncResolved=!0;const{vnode:A}=V;Bv(V,C,!1),v&&(A.el=v);const O=!v&&V.subTree.el;S(V,A,w(v||V.subTree.el),v?null:g(V.subTree),L,o,E),O&&I(O),Gp(V,A.el),b&&--L.deps===0&&L.resolve()})},unmount(V,S){L.isUnmounted=!0,L.activeBranch&&p(L.activeBranch,n,V,S),L.pendingBranch&&p(L.pendingBranch,n,V,S)}};return L}function TM(t,e,n,r,i,s,o,a,l){const u=e.suspense=VA(e,r,n,t.parentNode,document.createElement("div"),null,i,s,o,a,!0),c=l(t,u.pendingBranch=e.ssContent,n,u,s,o);return u.deps===0&&u.resolve(!1,!0),c}function EM(t){const{shapeFlag:e,children:n}=t,r=e&32;t.ssContent=yw(r?n.default:n),t.ssFallback=r?yw(n.fallback):Me(Mn)}function yw(t){let e;if(rt(t)){const n=ya&&t._c;n&&(t._d=!1,M()),t=t(),n&&(t._d=!0,e=br,$A())}return We(t)&&(t=mM(t)),t=Hr(t),e&&!t.dynamicChildren&&(t.dynamicChildren=e.filter(n=>n!==t)),t}function FA(t,e){e&&e.pendingBranch?We(t)?e.effects.push(...t):e.effects.push(t):Nf(t)}function Ol(t,e){t.activeBranch=e;const{vnode:n,parentComponent:r}=t;let i=e.el;for(;!i&&e.component;)e=e.component.subTree,i=e.el;n.el=i,r&&r.subTree===n&&(r.vnode.el=i,Gp(r,i))}function IM(t){const e=t.props&&t.props.suspensible;return e!=null&&e!==!1}const Oe=Symbol.for("v-fgt"),ca=Symbol.for("v-txt"),Mn=Symbol.for("v-cmt"),Pl=Symbol.for("v-stc"),yc=[];let br=null;function M(t=!1){yc.push(br=t?null:[])}function $A(){yc.pop(),br=yc[yc.length-1]||null}let ya=1;function _w(t,e=!1){ya+=t,t<0&&br&&e&&(br.hasOnce=!0)}function UA(t){return t.dynamicChildren=ya>0?br||El:null,$A(),ya>0&&br&&br.push(t),t}function W(t,e,n,r,i,s){return UA(K(t,e,n,r,i,s,!0))}function we(t,e,n,r,i){return UA(Me(t,e,n,r,i,!0))}function Po(t){return t?t.__v_isVNode===!0:!1}function Ii(t,e){return t.type===e.type&&t.key===e.key}function xoe(t){}const BA=({key:t})=>t??null,df=({ref:t,ref_key:e,ref_for:n})=>(typeof t=="number"&&(t=""+t),t!=null?nn(t)||hn(t)||rt(t)?{i:Fn,r:t,k:e,f:!!n}:t:null);function K(t,e=null,n=null,r=0,i=null,s=t===Oe?0:1,o=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&BA(e),ref:e&&df(e),scopeId:zp,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:s,patchFlag:r,dynamicProps:i,dynamicChildren:null,appContext:null,ctx:Fn};return a?(j_(l,n),s&128&&t.normalize(l)):n&&(l.shapeFlag|=nn(n)?8:16),ya>0&&!o&&br&&(l.patchFlag>0||s&6)&&l.patchFlag!==32&&br.push(l),l}const Me=SM;function SM(t,e=null,n=null,r=0,i=null,s=!1){if((!t||t===yA)&&(t=Mn),Po(t)){const a=xs(t,e,!0);return n&&j_(a,n),ya>0&&!s&&br&&(a.shapeFlag&6?br[br.indexOf(t)]=a:br.push(a)),a.patchFlag=-2,a}if(kM(t)&&(t=t.__vccOpts),e){e=ir(e);let{class:a,style:l}=e;a&&!nn(a)&&(e.class=He(a)),Kt(l)&&(O_(l)&&!We(l)&&(l=Xt({},l)),e.style=zn(l))}const o=nn(t)?1:Ff(t)?128:lA(t)?64:Kt(t)?4:rt(t)?2:0;return K(t,e,n,r,i,o,s,!0)}function ir(t){return t?O_(t)||IA(t)?Xt({},t):t:null}function xs(t,e,n=!1,r=!1){const{props:i,ref:s,patchFlag:o,children:a,transition:l}=t,u=e?ce(i||{},e):i,c={__v_isVNode:!0,__v_skip:!0,type:t.type,props:u,key:u&&BA(u),ref:e&&e.ref?n&&s?We(s)?s.concat(df(e)):[s,df(e)]:df(e):s,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:a,target:t.target,targetStart:t.targetStart,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==Oe?o===-1?16:o|16:o,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:l,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&xs(t.ssContent),ssFallback:t.ssFallback&&xs(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce};return l&&r&&Oo(c,l.clone(c)),c}function tt(t=" ",e=0){return Me(ca,null,t,e)}function HA(t,e){const n=Me(Pl,null,t);return n.staticCount=e,n}function ne(t="",e=!1){return e?(M(),we(Mn,null,t)):Me(Mn,null,t)}function Hr(t){return t==null||typeof t=="boolean"?Me(Mn):We(t)?Me(Oe,null,t.slice()):Po(t)?ao(t):Me(ca,null,String(t))}function ao(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:xs(t)}function j_(t,e){let n=0;const{shapeFlag:r}=t;if(e==null)e=null;else if(We(e))n=16;else if(typeof e=="object")if(r&65){const i=e.default;i&&(i._c&&(i._d=!1),j_(t,i()),i._c&&(i._d=!0));return}else{n=32;const i=e._;!i&&!IA(e)?e._ctx=Fn:i===3&&Fn&&(Fn.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else rt(e)?(e={default:e,_ctx:Fn},n=32):(e=String(e),r&64?(n=16,e=[tt(e)]):n=8);t.children=e,t.shapeFlag|=n}function ce(...t){const e={};for(let n=0;n<t.length;n++){const r=t[n];for(const i in r)if(i==="class")e.class!==r.class&&(e.class=He([e.class,r.class]));else if(i==="style")e.style=zn([e.style,r.style]);else if($d(i)){const s=e[i],o=r[i];o&&s!==o&&!(We(s)&&s.includes(o))&&(e[i]=s?[].concat(s,o):o)}else i!==""&&(e[i]=r[i])}return e}function $r(t,e,n,r=null){Li(t,e,7,[n,r])}const CM=wA();let AM=0;function jA(t,e,n){const r=t.type,i=(e?e.appContext:t.appContext)||CM,s={uid:AM++,vnode:t,type:r,parent:e,appContext:i,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new MC(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(i.provides),ids:e?e.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:CA(r,i),emitsOptions:LA(r,i),emit:null,emitted:null,propsDefaults:bt,inheritAttrs:r.inheritAttrs,ctx:bt,data:bt,props:bt,attrs:bt,slots:bt,refs:bt,setupState:bt,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return s.ctx={_:s},s.root=e?e.root:s,s.emit=pM.bind(null,s),t.ce&&t.ce(s),s}let Ln=null;const Xr=()=>Ln||Fn;let $f,$v;{const t=$p(),e=(n,r)=>{let i;return(i=t[n])||(i=t[n]=[]),i.push(r),s=>{i.length>1?i.forEach(o=>o(s)):i[0](s)}};$f=e("__VUE_INSTANCE_SETTERS__",n=>Ln=n),$v=e("__VUE_SSR_SETTERS__",n=>Bl=n)}const _a=t=>{const e=Ln;return $f(t),t.scope.on(),()=>{t.scope.off(),$f(e)}},Uv=()=>{Ln&&Ln.scope.off(),$f(null)};function WA(t){return t.vnode.shapeFlag&4}let Bl=!1;function qA(t,e=!1,n=!1){e&&$v(e);const{props:r,children:i}=t.vnode,s=WA(t);eM(t,r,s,e),iM(t,i,n);const o=s?OM(t,e):void 0;return e&&$v(!1),o}function OM(t,e){const n=t.type;t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,Nv);const{setup:r}=n;if(r){Lo();const i=t.setupContext=r.length>1?KA(t):null,s=_a(t),o=Ud(r,t,0,[t.props,i]),a=b_(o);if(Vo(),s(),(a||t.sp)&&!yo(t)&&D_(t),a){if(o.then(Uv,Uv),e)return o.then(l=>{Bv(t,l,e)}).catch(l=>{mu(l,t,0)});t.asyncDep=o}else Bv(t,o,e)}else zA(t,e)}function Bv(t,e,n){rt(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:Kt(e)&&(t.setupState=eA(e)),zA(t,n)}let Uf,Hv;function Noe(t){Uf=t,Hv=e=>{e.render._rc&&(e.withProxy=new Proxy(e.ctx,q3))}}const Moe=()=>!Uf;function zA(t,e,n){const r=t.type;if(!t.render){if(!e&&Uf&&!r.render){const i=r.template||U_(t).template;if(i){const{isCustomElement:s,compilerOptions:o}=t.appContext.config,{delimiters:a,compilerOptions:l}=r,u=Xt(Xt({isCustomElement:s,delimiters:a},o),l);r.render=Uf(i,u)}}t.render=r.render||fi,Hv&&Hv(t)}{const i=_a(t);Lo();try{z3(t)}finally{Vo(),i()}}}const PM={get(t,e){return mr(t,"get",""),t[e]}};function KA(t){const e=n=>{t.exposed=n||{}};return{attrs:new Proxy(t.attrs,PM),slots:t.slots,emit:t.emit,expose:e}}function jd(t){return t.exposed?t.exposeProxy||(t.exposeProxy=new Proxy(eA(P_(t.exposed)),{get(e,n){if(n in e)return e[n];if(n in gc)return gc[n](t)},has(e,n){return n in e||n in gc}})):t.proxy}function jv(t,e=!0){return rt(t)?t.displayName||t.name:t.name||e&&t.__name}function kM(t){return rt(t)&&"__vccOpts"in t}const se=(t,e)=>g3(t,e,Bl);function Hl(t,e,n){const r=arguments.length;return r===2?Kt(e)&&!We(e)?Po(e)?Me(t,null,[e]):Me(t,e):Me(t,null,e):(r>3?n=Array.prototype.slice.call(arguments,2):r===3&&Po(n)&&(n=[n]),Me(t,e,n))}function Loe(){}function Voe(t,e,n,r){const i=n[r];if(i&&RM(i,t))return i;const s=e();return s.memo=t.slice(),s.cacheIndex=r,n[r]=s}function RM(t,e){const n=t.memo;if(n.length!=e.length)return!1;for(let r=0;r<n.length;r++)if(Dr(n[r],e[r]))return!1;return ya>0&&br&&br.push(t),!0}const DM="3.5.13",Foe=fi,$oe=w3,Uoe=ol,Boe=oA,xM={createComponentInstance:jA,setupComponent:qA,renderComponentRoot:cf,setCurrentRenderingInstance:qc,isVNode:Po,normalizeVNode:Hr,getComponentPublicInstance:jd,ensureValidVNode:$_,pushWarningContext:_3,popWarningContext:b3},Hoe=xM,joe=null,Woe=null,qoe=null;/**
* @vue/runtime-dom v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Wv;const bw=typeof window<"u"&&window.trustedTypes;if(bw)try{Wv=bw.createPolicy("vue",{createHTML:t=>t})}catch{}const YA=Wv?t=>Wv.createHTML(t):t=>t,NM="http://www.w3.org/2000/svg",MM="http://www.w3.org/1998/Math/MathML",bs=typeof document<"u"?document:null,ww=bs&&bs.createElement("template"),LM={insert:(t,e,n)=>{e.insertBefore(t,n||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,n,r)=>{const i=e==="svg"?bs.createElementNS(NM,t):e==="mathml"?bs.createElementNS(MM,t):n?bs.createElement(t,{is:n}):bs.createElement(t);return t==="select"&&r&&r.multiple!=null&&i.setAttribute("multiple",r.multiple),i},createText:t=>bs.createTextNode(t),createComment:t=>bs.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>bs.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,n,r,i,s){const o=n?n.previousSibling:e.lastChild;if(i&&(i===s||i.nextSibling))for(;e.insertBefore(i.cloneNode(!0),n),!(i===s||!(i=i.nextSibling)););else{ww.innerHTML=YA(r==="svg"?`<svg>${t}</svg>`:r==="mathml"?`<math>${t}</math>`:t);const a=ww.content;if(r==="svg"||r==="mathml"){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}e.insertBefore(a,n)}return[o?o.nextSibling:e.firstChild,n?n.previousSibling:e.lastChild]}},Ks="transition",Bu="animation",jl=Symbol("_vtc"),GA={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},QA=Xt({},fA,GA),VM=t=>(t.displayName="Transition",t.props=QA,t),$o=VM((t,{slots:e})=>Hl(C3,XA(t),e)),Qo=(t,e=[])=>{We(t)?t.forEach(n=>n(...e)):t&&t(...e)},Tw=t=>t?We(t)?t.some(e=>e.length>1):t.length>1:!1;function XA(t){const e={};for(const A in t)A in GA||(e[A]=t[A]);if(t.css===!1)return e;const{name:n="v",type:r,duration:i,enterFromClass:s=`${n}-enter-from`,enterActiveClass:o=`${n}-enter-active`,enterToClass:a=`${n}-enter-to`,appearFromClass:l=s,appearActiveClass:u=o,appearToClass:c=a,leaveFromClass:h=`${n}-leave-from`,leaveActiveClass:f=`${n}-leave-active`,leaveToClass:p=`${n}-leave-to`}=t,g=FM(i),w=g&&g[0],I=g&&g[1],{onBeforeEnter:k,onEnter:P,onEnterCancelled:T,onLeave:_,onLeaveCancelled:L,onBeforeAppear:V=k,onAppear:S=P,onAppearCancelled:E=T}=e,b=(A,O,Y,U)=>{A._enterCancelled=U,no(A,O?c:a),no(A,O?u:o),Y&&Y()},v=(A,O)=>{A._isLeaving=!1,no(A,h),no(A,p),no(A,f),O&&O()},C=A=>(O,Y)=>{const U=A?S:P,j=()=>b(O,A,Y);Qo(U,[O,j]),Ew(()=>{no(O,A?l:s),Wi(O,A?c:a),Tw(U)||Iw(O,r,w,j)})};return Xt(e,{onBeforeEnter(A){Qo(k,[A]),Wi(A,s),Wi(A,o)},onBeforeAppear(A){Qo(V,[A]),Wi(A,l),Wi(A,u)},onEnter:C(!1),onAppear:C(!0),onLeave(A,O){A._isLeaving=!0;const Y=()=>v(A,O);Wi(A,h),A._enterCancelled?(Wi(A,f),qv()):(qv(),Wi(A,f)),Ew(()=>{A._isLeaving&&(no(A,h),Wi(A,p),Tw(_)||Iw(A,r,I,Y))}),Qo(_,[A,Y])},onEnterCancelled(A){b(A,!1,void 0,!0),Qo(T,[A])},onAppearCancelled(A){b(A,!0,void 0,!0),Qo(E,[A])},onLeaveCancelled(A){v(A),Qo(L,[A])}})}function FM(t){if(t==null)return null;if(Kt(t))return[bg(t.enter),bg(t.leave)];{const e=bg(t);return[e,e]}}function bg(t){return Pf(t)}function Wi(t,e){e.split(/\s+/).forEach(n=>n&&t.classList.add(n)),(t[jl]||(t[jl]=new Set)).add(e)}function no(t,e){e.split(/\s+/).forEach(r=>r&&t.classList.remove(r));const n=t[jl];n&&(n.delete(e),n.size||(t[jl]=void 0))}function Ew(t){requestAnimationFrame(()=>{requestAnimationFrame(t)})}let $M=0;function Iw(t,e,n,r){const i=t._endId=++$M,s=()=>{i===t._endId&&r()};if(n!=null)return setTimeout(s,n);const{type:o,timeout:a,propCount:l}=JA(t,e);if(!o)return r();const u=o+"end";let c=0;const h=()=>{t.removeEventListener(u,f),s()},f=p=>{p.target===t&&++c>=l&&h()};setTimeout(()=>{c<l&&h()},a+1),t.addEventListener(u,f)}function JA(t,e){const n=window.getComputedStyle(t),r=g=>(n[g]||"").split(", "),i=r(`${Ks}Delay`),s=r(`${Ks}Duration`),o=Sw(i,s),a=r(`${Bu}Delay`),l=r(`${Bu}Duration`),u=Sw(a,l);let c=null,h=0,f=0;e===Ks?o>0&&(c=Ks,h=o,f=s.length):e===Bu?u>0&&(c=Bu,h=u,f=l.length):(h=Math.max(o,u),c=h>0?o>u?Ks:Bu:null,f=c?c===Ks?s.length:l.length:0);const p=c===Ks&&/\b(transform|all)(,|$)/.test(r(`${Ks}Property`).toString());return{type:c,timeout:h,propCount:f,hasTransform:p}}function Sw(t,e){for(;t.length<e.length;)t=t.concat(t);return Math.max(...e.map((n,r)=>Cw(n)+Cw(t[r])))}function Cw(t){return t==="auto"?0:Number(t.slice(0,-1).replace(",","."))*1e3}function qv(){return document.body.offsetHeight}function UM(t,e,n){const r=t[jl];r&&(e=(e?[e,...r]:[...r]).join(" ")),e==null?t.removeAttribute("class"):n?t.setAttribute("class",e):t.className=e}const Bf=Symbol("_vod"),ZA=Symbol("_vsh"),_c={beforeMount(t,{value:e},{transition:n}){t[Bf]=t.style.display==="none"?"":t.style.display,n&&e?n.beforeEnter(t):Hu(t,e)},mounted(t,{value:e},{transition:n}){n&&e&&n.enter(t)},updated(t,{value:e,oldValue:n},{transition:r}){!e!=!n&&(r?e?(r.beforeEnter(t),Hu(t,!0),r.enter(t)):r.leave(t,()=>{Hu(t,!1)}):Hu(t,e))},beforeUnmount(t,{value:e}){Hu(t,e)}};function Hu(t,e){t.style.display=e?t[Bf]:"none",t[ZA]=!e}function BM(){_c.getSSRProps=({value:t})=>{if(!t)return{style:{display:"none"}}}}const eO=Symbol("");function zoe(t){const e=Xr();if(!e)return;const n=e.ut=(i=t(e.proxy))=>{Array.from(document.querySelectorAll(`[data-v-owner="${e.uid}"]`)).forEach(s=>Hf(s,i))},r=()=>{const i=t(e.proxy);e.ce?Hf(e.ce,i):zv(e.subTree,i),n(i)};x_(()=>{Nf(r)}),mn(()=>{_n(r,fi,{flush:"post"});const i=new MutationObserver(r);i.observe(e.subTree.el.parentNode,{childList:!0}),Fo(()=>i.disconnect())})}function zv(t,e){if(t.shapeFlag&128){const n=t.suspense;t=n.activeBranch,n.pendingBranch&&!n.isHydrating&&n.effects.push(()=>{zv(n.activeBranch,e)})}for(;t.component;)t=t.component.subTree;if(t.shapeFlag&1&&t.el)Hf(t.el,e);else if(t.type===Oe)t.children.forEach(n=>zv(n,e));else if(t.type===Pl){let{el:n,anchor:r}=t;for(;n&&(Hf(n,e),n!==r);)n=n.nextSibling}}function Hf(t,e){if(t.nodeType===1){const n=t.style;let r="";for(const i in e)n.setProperty(`--${i}`,e[i]),r+=`--${i}: ${e[i]};`;n[eO]=r}}const HM=/(^|;)\s*display\s*:/;function jM(t,e,n){const r=t.style,i=nn(n);let s=!1;if(n&&!i){if(e)if(nn(e))for(const o of e.split(";")){const a=o.slice(0,o.indexOf(":")).trim();n[a]==null&&hf(r,a,"")}else for(const o in e)n[o]==null&&hf(r,o,"");for(const o in n)o==="display"&&(s=!0),hf(r,o,n[o])}else if(i){if(e!==n){const o=r[eO];o&&(n+=";"+o),r.cssText=n,s=HM.test(n)}}else e&&t.removeAttribute("style");Bf in t&&(t[Bf]=s?r.display:"",t[ZA]&&(r.display="none"))}const Aw=/\s*!important$/;function hf(t,e,n){if(We(n))n.forEach(r=>hf(t,e,r));else if(n==null&&(n=""),e.startsWith("--"))t.setProperty(e,n);else{const r=WM(t,e);Aw.test(n)?t.setProperty(jr(r),n.replace(Aw,""),"important"):t[r]=n}}const Ow=["Webkit","Moz","ms"],wg={};function WM(t,e){const n=wg[e];if(n)return n;let r=Er(e);if(r!=="filter"&&r in t)return wg[e]=r;r=Fp(r);for(let i=0;i<Ow.length;i++){const s=Ow[i]+r;if(s in t)return wg[e]=s}return e}const Pw="http://www.w3.org/1999/xlink";function kw(t,e,n,r,i,s=BN(e)){r&&e.startsWith("xlink:")?n==null?t.removeAttributeNS(Pw,e.slice(6,e.length)):t.setAttributeNS(Pw,e,n):n==null||s&&!DC(n)?t.removeAttribute(e):t.setAttribute(e,s?"":Mi(n)?String(n):n)}function Rw(t,e,n,r,i){if(e==="innerHTML"||e==="textContent"){n!=null&&(t[e]=e==="innerHTML"?YA(n):n);return}const s=t.tagName;if(e==="value"&&s!=="PROGRESS"&&!s.includes("-")){const a=s==="OPTION"?t.getAttribute("value")||"":t.value,l=n==null?t.type==="checkbox"?"on":"":String(n);(a!==l||!("_value"in t))&&(t.value=l),n==null&&t.removeAttribute(e),t._value=n;return}let o=!1;if(n===""||n==null){const a=typeof t[e];a==="boolean"?n=DC(n):n==null&&a==="string"?(n="",o=!0):a==="number"&&(n=0,o=!0)}try{t[e]=n}catch{}o&&t.removeAttribute(i||e)}function Es(t,e,n,r){t.addEventListener(e,n,r)}function qM(t,e,n,r){t.removeEventListener(e,n,r)}const Dw=Symbol("_vei");function zM(t,e,n,r,i=null){const s=t[Dw]||(t[Dw]={}),o=s[e];if(r&&o)o.value=r;else{const[a,l]=KM(e);if(r){const u=s[e]=QM(r,i);Es(t,a,u,l)}else o&&(qM(t,a,o,l),s[e]=void 0)}}const xw=/(?:Once|Passive|Capture)$/;function KM(t){let e;if(xw.test(t)){e={};let r;for(;r=t.match(xw);)t=t.slice(0,t.length-r[0].length),e[r[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):jr(t.slice(2)),e]}let Tg=0;const YM=Promise.resolve(),GM=()=>Tg||(YM.then(()=>Tg=0),Tg=Date.now());function QM(t,e){const n=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=n.attached)return;Li(XM(r,n.value),e,5,[r])};return n.value=t,n.attached=GM(),n}function XM(t,e){if(We(e)){const n=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{n.call(t),t._stopped=!0},e.map(r=>i=>!i._stopped&&r&&r(i))}else return e}const Nw=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,JM=(t,e,n,r,i,s)=>{const o=i==="svg";e==="class"?UM(t,r,o):e==="style"?jM(t,n,r):$d(e)?y_(e)||zM(t,e,n,r,s):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):ZM(t,e,r,o))?(Rw(t,e,r),!t.tagName.includes("-")&&(e==="value"||e==="checked"||e==="selected")&&kw(t,e,r,o,s,e!=="value")):t._isVueCE&&(/[A-Z]/.test(e)||!nn(r))?Rw(t,Er(e),r,s,e):(e==="true-value"?t._trueValue=r:e==="false-value"&&(t._falseValue=r),kw(t,e,r,o))};function ZM(t,e,n,r){if(r)return!!(e==="innerHTML"||e==="textContent"||e in t&&Nw(e)&&rt(n));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const i=t.tagName;if(i==="IMG"||i==="VIDEO"||i==="CANVAS"||i==="SOURCE")return!1}return Nw(e)&&nn(n)?!1:e in t}const Mw={};/*! #__NO_SIDE_EFFECTS__ */function e4(t,e,n){const r=it(t,e);Lp(r)&&Xt(r,e);class i extends W_{constructor(o){super(r,o,n)}}return i.def=r,i}/*! #__NO_SIDE_EFFECTS__ */const Koe=(t,e)=>e4(t,e,v4),t4=typeof HTMLElement<"u"?HTMLElement:class{};class W_ extends t4{constructor(e,n={},r=Yv){super(),this._def=e,this._props=n,this._createApp=r,this._isVueCE=!0,this._instance=null,this._app=null,this._nonce=this._def.nonce,this._connected=!1,this._resolved=!1,this._numberProps=null,this._styleChildren=new WeakSet,this._ob=null,this.shadowRoot&&r!==Yv?this._root=this.shadowRoot:e.shadowRoot!==!1?(this.attachShadow({mode:"open"}),this._root=this.shadowRoot):this._root=this,this._def.__asyncLoader||this._resolveProps(this._def)}connectedCallback(){if(!this.isConnected)return;this.shadowRoot||this._parseSlots(),this._connected=!0;let e=this;for(;e=e&&(e.parentNode||e.host);)if(e instanceof W_){this._parent=e;break}this._instance||(this._resolved?(this._setParent(),this._update()):e&&e._pendingResolve?this._pendingResolve=e._pendingResolve.then(()=>{this._pendingResolve=void 0,this._resolveDef()}):this._resolveDef())}_setParent(e=this._parent){e&&(this._instance.parent=e._instance,this._instance.provides=e._instance.provides)}disconnectedCallback(){this._connected=!1,Kn(()=>{this._connected||(this._ob&&(this._ob.disconnect(),this._ob=null),this._app&&this._app.unmount(),this._instance&&(this._instance.ce=void 0),this._app=this._instance=null)})}_resolveDef(){if(this._pendingResolve)return;for(let r=0;r<this.attributes.length;r++)this._setAttr(this.attributes[r].name);this._ob=new MutationObserver(r=>{for(const i of r)this._setAttr(i.attributeName)}),this._ob.observe(this,{attributes:!0});const e=(r,i=!1)=>{this._resolved=!0,this._pendingResolve=void 0;const{props:s,styles:o}=r;let a;if(s&&!We(s))for(const l in s){const u=s[l];(u===Number||u&&u.type===Number)&&(l in this._props&&(this._props[l]=Pf(this._props[l])),(a||(a=Object.create(null)))[Er(l)]=!0)}this._numberProps=a,i&&this._resolveProps(r),this.shadowRoot&&this._applyStyles(o),this._mount(r)},n=this._def.__asyncLoader;n?this._pendingResolve=n().then(r=>e(this._def=r,!0)):e(this._def)}_mount(e){this._app=this._createApp(e),e.configureApp&&e.configureApp(this._app),this._app._ceVNode=this._createVNode(),this._app.mount(this._root);const n=this._instance&&this._instance.exposed;if(n)for(const r in n)Vt(this,r)||Object.defineProperty(this,r,{get:()=>R(n[r])})}_resolveProps(e){const{props:n}=e,r=We(n)?n:Object.keys(n||{});for(const i of Object.keys(this))i[0]!=="_"&&r.includes(i)&&this._setProp(i,this[i]);for(const i of r.map(Er))Object.defineProperty(this,i,{get(){return this._getProp(i)},set(s){this._setProp(i,s,!0,!0)}})}_setAttr(e){if(e.startsWith("data-v-"))return;const n=this.hasAttribute(e);let r=n?this.getAttribute(e):Mw;const i=Er(e);n&&this._numberProps&&this._numberProps[i]&&(r=Pf(r)),this._setProp(i,r,!1,!0)}_getProp(e){return this._props[e]}_setProp(e,n,r=!0,i=!1){if(n!==this._props[e]&&(n===Mw?delete this._props[e]:(this._props[e]=n,e==="key"&&this._app&&(this._app._ceVNode.key=n)),i&&this._instance&&this._update(),r)){const s=this._ob;s&&s.disconnect(),n===!0?this.setAttribute(jr(e),""):typeof n=="string"||typeof n=="number"?this.setAttribute(jr(e),n+""):n||this.removeAttribute(jr(e)),s&&s.observe(this,{attributes:!0})}}_update(){Qc(this._createVNode(),this._root)}_createVNode(){const e={};this.shadowRoot||(e.onVnodeMounted=e.onVnodeUpdated=this._renderSlots.bind(this));const n=Me(this._def,Xt(e,this._props));return this._instance||(n.ce=r=>{this._instance=r,r.ce=this,r.isCE=!0;const i=(s,o)=>{this.dispatchEvent(new CustomEvent(s,Lp(o[0])?Xt({detail:o},o[0]):{detail:o}))};r.emit=(s,...o)=>{i(s,o),jr(s)!==s&&i(jr(s),o)},this._setParent()}),n}_applyStyles(e,n){if(!e)return;if(n){if(n===this._def||this._styleChildren.has(n))return;this._styleChildren.add(n)}const r=this._nonce;for(let i=e.length-1;i>=0;i--){const s=document.createElement("style");r&&s.setAttribute("nonce",r),s.textContent=e[i],this.shadowRoot.prepend(s)}}_parseSlots(){const e=this._slots={};let n;for(;n=this.firstChild;){const r=n.nodeType===1&&n.getAttribute("slot")||"default";(e[r]||(e[r]=[])).push(n),this.removeChild(n)}}_renderSlots(){const e=(this._teleportTarget||this).querySelectorAll("slot"),n=this._instance.type.__scopeId;for(let r=0;r<e.length;r++){const i=e[r],s=i.getAttribute("name")||"default",o=this._slots[s],a=i.parentNode;if(o)for(const l of o){if(n&&l.nodeType===1){const u=n+"-s",c=document.createTreeWalker(l,1);l.setAttribute(u,"");let h;for(;h=c.nextNode();)h.setAttribute(u,"")}a.insertBefore(l,i)}else for(;i.firstChild;)a.insertBefore(i.firstChild,i);a.removeChild(i)}}_injectChildStyle(e){this._applyStyles(e.styles,e)}_removeChildStyle(e){}}function n4(t){const e=Xr(),n=e&&e.ce;return n||null}function Yoe(){const t=n4();return t&&t.shadowRoot}function Goe(t="$style"){{const e=Xr();if(!e)return bt;const n=e.type.__cssModules;if(!n)return bt;const r=n[t];return r||bt}}const tO=new WeakMap,nO=new WeakMap,jf=Symbol("_moveCb"),Lw=Symbol("_enterCb"),r4=t=>(delete t.props.mode,t),i4=r4({name:"TransitionGroup",props:Xt({},QA,{tag:String,moveClass:String}),setup(t,{slots:e}){const n=Xr(),r=hA();let i,s;return N_(()=>{if(!i.length)return;const o=t.moveClass||`${t.name||"v"}-move`;if(!u4(i[0].el,n.vnode.el,o))return;i.forEach(o4),i.forEach(a4);const a=i.filter(l4);qv(),a.forEach(l=>{const u=l.el,c=u.style;Wi(u,o),c.transform=c.webkitTransform=c.transitionDuration="";const h=u[jf]=f=>{f&&f.target!==u||(!f||/transform$/.test(f.propertyName))&&(u.removeEventListener("transitionend",h),u[jf]=null,no(u,o))};u.addEventListener("transitionend",h)})}),()=>{const o=_t(t),a=XA(o);let l=o.tag||Oe;if(i=[],s)for(let u=0;u<s.length;u++){const c=s[u];c.el&&c.el instanceof Element&&(i.push(c),Oo(c,zc(c,a,r,n)),tO.set(c,c.el.getBoundingClientRect()))}s=e.default?R_(e.default()):[];for(let u=0;u<s.length;u++){const c=s[u];c.key!=null&&Oo(c,zc(c,a,r,n))}return Me(l,null,s)}}}),s4=i4;function o4(t){const e=t.el;e[jf]&&e[jf](),e[Lw]&&e[Lw]()}function a4(t){nO.set(t,t.el.getBoundingClientRect())}function l4(t){const e=tO.get(t),n=nO.get(t),r=e.left-n.left,i=e.top-n.top;if(r||i){const s=t.el.style;return s.transform=s.webkitTransform=`translate(${r}px,${i}px)`,s.transitionDuration="0s",t}}function u4(t,e,n){const r=t.cloneNode(),i=t[jl];i&&i.forEach(a=>{a.split(/\s+/).forEach(l=>l&&r.classList.remove(l))}),n.split(/\s+/).forEach(a=>a&&r.classList.add(a)),r.style.display="none";const s=e.nodeType===1?e:e.parentNode;s.appendChild(r);const{hasTransform:o}=JA(r);return s.removeChild(r),o}const ko=t=>{const e=t.props["onUpdate:modelValue"]||!1;return We(e)?n=>Cl(e,n):e};function c4(t){t.target.composing=!0}function Vw(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const mi=Symbol("_assign"),Kv={created(t,{modifiers:{lazy:e,trim:n,number:r}},i){t[mi]=ko(i);const s=r||i.props&&i.props.type==="number";Es(t,e?"change":"input",o=>{if(o.target.composing)return;let a=t.value;n&&(a=a.trim()),s&&(a=Of(a)),t[mi](a)}),n&&Es(t,"change",()=>{t.value=t.value.trim()}),e||(Es(t,"compositionstart",c4),Es(t,"compositionend",Vw),Es(t,"change",Vw))},mounted(t,{value:e}){t.value=e??""},beforeUpdate(t,{value:e,oldValue:n,modifiers:{lazy:r,trim:i,number:s}},o){if(t[mi]=ko(o),t.composing)return;const a=(s||t.type==="number")&&!/^0\d/.test(t.value)?Of(t.value):t.value,l=e??"";a!==l&&(document.activeElement===t&&t.type!=="range"&&(r&&e===n||i&&t.value.trim()===l)||(t.value=l))}},rO={deep:!0,created(t,e,n){t[mi]=ko(n),Es(t,"change",()=>{const r=t._modelValue,i=Wl(t),s=t.checked,o=t[mi];if(We(r)){const a=Up(r,i),l=a!==-1;if(s&&!l)o(r.concat(i));else if(!s&&l){const u=[...r];u.splice(a,1),o(u)}}else if(La(r)){const a=new Set(r);s?a.add(i):a.delete(i),o(a)}else o(sO(t,s))})},mounted:Fw,beforeUpdate(t,e,n){t[mi]=ko(n),Fw(t,e,n)}};function Fw(t,{value:e,oldValue:n},r){t._modelValue=e;let i;if(We(e))i=Up(e,r.props.value)>-1;else if(La(e))i=e.has(r.props.value);else{if(e===n)return;i=Ao(e,sO(t,!0))}t.checked!==i&&(t.checked=i)}const iO={created(t,{value:e},n){t.checked=Ao(e,n.props.value),t[mi]=ko(n),Es(t,"change",()=>{t[mi](Wl(t))})},beforeUpdate(t,{value:e,oldValue:n},r){t[mi]=ko(r),e!==n&&(t.checked=Ao(e,r.props.value))}},d4={deep:!0,created(t,{value:e,modifiers:{number:n}},r){const i=La(e);Es(t,"change",()=>{const s=Array.prototype.filter.call(t.options,o=>o.selected).map(o=>n?Of(Wl(o)):Wl(o));t[mi](t.multiple?i?new Set(s):s:s[0]),t._assigning=!0,Kn(()=>{t._assigning=!1})}),t[mi]=ko(r)},mounted(t,{value:e}){$w(t,e)},beforeUpdate(t,e,n){t[mi]=ko(n)},updated(t,{value:e}){t._assigning||$w(t,e)}};function $w(t,e){const n=t.multiple,r=We(e);if(!(n&&!r&&!La(e))){for(let i=0,s=t.options.length;i<s;i++){const o=t.options[i],a=Wl(o);if(n)if(r){const l=typeof a;l==="string"||l==="number"?o.selected=e.some(u=>String(u)===String(a)):o.selected=Up(e,a)>-1}else o.selected=e.has(a);else if(Ao(Wl(o),e)){t.selectedIndex!==i&&(t.selectedIndex=i);return}}!n&&t.selectedIndex!==-1&&(t.selectedIndex=-1)}}function Wl(t){return"_value"in t?t._value:t.value}function sO(t,e){const n=e?"_trueValue":"_falseValue";return n in t?t[n]:e}const h4={created(t,e,n){Vh(t,e,n,null,"created")},mounted(t,e,n){Vh(t,e,n,null,"mounted")},beforeUpdate(t,e,n,r){Vh(t,e,n,r,"beforeUpdate")},updated(t,e,n,r){Vh(t,e,n,r,"updated")}};function oO(t,e){switch(t){case"SELECT":return d4;case"TEXTAREA":return Kv;default:switch(e){case"checkbox":return rO;case"radio":return iO;default:return Kv}}}function Vh(t,e,n,r,i){const o=oO(t.tagName,n.props&&n.props.type)[i];o&&o(t,e,n,r)}function f4(){Kv.getSSRProps=({value:t})=>({value:t}),iO.getSSRProps=({value:t},e)=>{if(e.props&&Ao(e.props.value,t))return{checked:!0}},rO.getSSRProps=({value:t},e)=>{if(We(t)){if(e.props&&Up(t,e.props.value)>-1)return{checked:!0}}else if(La(t)){if(e.props&&t.has(e.props.value))return{checked:!0}}else if(t)return{checked:!0}},h4.getSSRProps=(t,e)=>{if(typeof e.type!="string")return;const n=oO(e.type.toUpperCase(),e.props&&e.props.type);if(n.getSSRProps)return n.getSSRProps(t,e)}}const p4=["ctrl","shift","alt","meta"],m4={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,e)=>p4.some(n=>t[`${n}Key`]&&!e.includes(n))},$t=(t,e)=>{const n=t._withMods||(t._withMods={}),r=e.join(".");return n[r]||(n[r]=(i,...s)=>{for(let o=0;o<e.length;o++){const a=m4[e[o]];if(a&&a(i,e))return}return t(i,...s)})},g4={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},ct=(t,e)=>{const n=t._withKeys||(t._withKeys={}),r=e.join(".");return n[r]||(n[r]=i=>{if(!("key"in i))return;const s=jr(i.key);if(e.some(o=>o===s||g4[o]===s))return t(i)})},aO=Xt({patchProp:JM},LM);let bc,Uw=!1;function lO(){return bc||(bc=oM(aO))}function uO(){return bc=Uw?bc:aM(aO),Uw=!0,bc}const Qc=(...t)=>{lO().render(...t)},Qoe=(...t)=>{uO().hydrate(...t)},Yv=(...t)=>{const e=lO().createApp(...t),{mount:n}=e;return e.mount=r=>{const i=dO(r);if(!i)return;const s=e._component;!rt(s)&&!s.render&&!s.template&&(s.template=i.innerHTML),i.nodeType===1&&(i.textContent="");const o=n(i,!1,cO(i));return i instanceof Element&&(i.removeAttribute("v-cloak"),i.setAttribute("data-v-app","")),o},e},v4=(...t)=>{const e=uO().createApp(...t),{mount:n}=e;return e.mount=r=>{const i=dO(r);if(i)return n(i,!0,cO(i))},e};function cO(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function dO(t){return nn(t)?document.querySelector(t):t}let Bw=!1;const Xoe=()=>{Bw||(Bw=!0,f4(),BM())};function y4(t){return{all:t=t||new Map,on:function(e,n){var r=t.get(e);r?r.push(n):t.set(e,[n])},off:function(e,n){var r=t.get(e);r&&(n?r.splice(r.indexOf(n)>>>0,1):t.set(e,[]))},emit:function(e,n){var r=t.get(e);r&&r.slice().map(function(i){i(n)}),(r=t.get("*"))&&r.slice().map(function(i){i(e,n)})}}}const Wf=y4();let Hw=0;const _4=()=>{const t=Hw;return Hw+=1,t},hO=()=>(t,e)=>{const n={...t,id:_4(),group:t.group||""};return Wf.emit("notify",{notification:n,timeout:e}),()=>Wf.emit("close",n.id)},fO="context",Gv=it({__name:"Notification",props:{maxNotifications:{default:10},enter:{default:""},enterFrom:{default:""},enterTo:{default:""},leave:{default:""},leaveFrom:{default:""},leaveTo:{default:""},move:{default:""},moveDelay:{default:""}},emits:["close"],setup(t,{emit:e}){const n=t,r=Kr(fO),i=_i({notifications:[],timeouts:{}}),s=se(()=>i.notifications.filter(f=>f.group===r.group)),o=se(()=>r.position==="bottom"?[...s.value]:[...s.value].reverse()),a=(f,p)=>{i.timeouts[f]=window.setTimeout(()=>{p!==-1&&l(f)},Math.max(p||3e3,0))},l=f=>{i.notifications.splice(i.notifications.findIndex(p=>p.id===f),1),clearTimeout(i.timeouts[f])},u=({notification:f,timeout:p})=>{i.notifications.length!==n.maxNotifications&&(i.notifications.push(f),a(f.id,p))},c=f=>{e("close"),l(f)},h=(f,p,g)=>{p?clearTimeout(i.timeouts[f]):a(f,g)};return mn(()=>{Wf.on("notify",u),Wf.on("close",l)}),(f,p)=>(M(),we(s4,{"enter-active-class":R(s).length>1?[n.enter,n.moveDelay].join(" "):n.enter,"enter-from-class":n.enterFrom,"enter-to-class":n.enterTo,"leave-active-class":n.leave,"leave-from-class":n.leaveFrom,"leave-to-class":n.leaveTo,"move-class":n.move},{default:ke(()=>[pe(f.$slots,"default",{notifications:R(o),close:c,hovering:h})]),_:3},8,["enter-active-class","enter-from-class","enter-to-class","leave-active-class","leave-from-class","leave-to-class","move-class"]))}}),jw=it({__name:"NotificationGroup",props:{group:{default:""},position:{default:"top"}},setup(t){const e=t;return vc(fO,{group:e.group,position:e.position}),(n,r)=>pe(n.$slots,"default",{group:t.group})}});function b4(t){t.config.globalProperties.$notify=hO(),t.component("Notification",Gv),t.component("NotificationGroup",jw),t.component("notification",Gv),t.component("notificationGroup",jw)}const w4={install:b4},T4=hO(),E4={class:"px-4 py-2 -mx-3"},I4={class:"mx-3"},S4={class:"font-semibold text-white"},C4={class:"text-sm text-gray-100"},Eg=it({__name:"Notification",props:{type:{},color:{}},setup(t){return(e,n)=>(M(),we(R(Gv),{enter:"transform ease-out duration-300 transition","enter-from":"translate-y-2 opacity-0 sm:translate-y-0 sm:translate-x-4","enter-to":"translate-y-0 opacity-100 sm:translate-x-0",leave:"transition ease-in duration-500","leave-from":"opacity-100","leave-to":"opacity-0",move:"transition duration-500","move-delay":"delay-300"},{default:ke(({notifications:r})=>[(M(!0),W(Oe,null,ft(r,i=>(M(),W("div",{key:i.id},[i.type===e.type?(M(),W("div",{key:0,class:He("flex w-full max-w-sm mx-auto mt-4 overflow-hidden bg-opacity-75 rounded-primary shadow-md "+e.color)},[K("div",E4,[K("div",I4,[K("span",S4,Ue(i.title),1),K("p",C4,Ue(i.text),1)])])],2)):ne("",!0)]))),128))]),_:1}))}}),A4={class:"fixed inset-0 flex items-end justify-center p-6 px-4 py-6 pointer-events-none"},O4={class:"w-full max-w-sm"},P4=it({__name:"NotificationGroup",setup(t){return(e,n)=>{const r=er("NotificationGroup",!0);return M(),we(r,null,{default:ke(()=>[K("div",A4,[K("div",O4,[Me(Eg,{type:"error",color:"bg-red-800"}),Me(Eg,{type:"warning",color:"bg-yellow-800"}),Me(Eg,{type:"success",color:"bg-green-800"})])])]),_:1})}}});/*!
  * vue-router v4.4.5
  * (c) 2024 Eduardo San Martin Morote
  * @license MIT
  */const al=typeof document<"u";function pO(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function k4(t){return t.__esModule||t[Symbol.toStringTag]==="Module"||t.default&&pO(t.default)}const Wt=Object.assign;function Ig(t,e){const n={};for(const r in e){const i=e[r];n[r]=Vi(i)?i.map(t):t(i)}return n}const wc=()=>{},Vi=Array.isArray,mO=/#/g,R4=/&/g,D4=/\//g,x4=/=/g,N4=/\?/g,gO=/\+/g,M4=/%5B/g,L4=/%5D/g,vO=/%5E/g,V4=/%60/g,yO=/%7B/g,F4=/%7C/g,_O=/%7D/g,$4=/%20/g;function q_(t){return encodeURI(""+t).replace(F4,"|").replace(M4,"[").replace(L4,"]")}function U4(t){return q_(t).replace(yO,"{").replace(_O,"}").replace(vO,"^")}function Qv(t){return q_(t).replace(gO,"%2B").replace($4,"+").replace(mO,"%23").replace(R4,"%26").replace(V4,"`").replace(yO,"{").replace(_O,"}").replace(vO,"^")}function B4(t){return Qv(t).replace(x4,"%3D")}function H4(t){return q_(t).replace(mO,"%23").replace(N4,"%3F")}function j4(t){return t==null?"":H4(t).replace(D4,"%2F")}function Xc(t){try{return decodeURIComponent(""+t)}catch{}return""+t}const W4=/\/$/,q4=t=>t.replace(W4,"");function Sg(t,e,n="/"){let r,i={},s="",o="";const a=e.indexOf("#");let l=e.indexOf("?");return a<l&&a>=0&&(l=-1),l>-1&&(r=e.slice(0,l),s=e.slice(l+1,a>-1?a:e.length),i=t(s)),a>-1&&(r=r||e.slice(0,a),o=e.slice(a,e.length)),r=G4(r??e,n),{fullPath:r+(s&&"?")+s+o,path:r,query:i,hash:Xc(o)}}function z4(t,e){const n=e.query?t(e.query):"";return e.path+(n&&"?")+n+(e.hash||"")}function Ww(t,e){return!e||!t.toLowerCase().startsWith(e.toLowerCase())?t:t.slice(e.length)||"/"}function K4(t,e,n){const r=e.matched.length-1,i=n.matched.length-1;return r>-1&&r===i&&ql(e.matched[r],n.matched[i])&&bO(e.params,n.params)&&t(e.query)===t(n.query)&&e.hash===n.hash}function ql(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function bO(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(!Y4(t[n],e[n]))return!1;return!0}function Y4(t,e){return Vi(t)?qw(t,e):Vi(e)?qw(e,t):t===e}function qw(t,e){return Vi(e)?t.length===e.length&&t.every((n,r)=>n===e[r]):t.length===1&&t[0]===e}function G4(t,e){if(t.startsWith("/"))return t;if(!t)return e;const n=e.split("/"),r=t.split("/"),i=r[r.length-1];(i===".."||i===".")&&r.push("");let s=n.length-1,o,a;for(o=0;o<r.length;o++)if(a=r[o],a!==".")if(a==="..")s>1&&s--;else break;return n.slice(0,s).join("/")+"/"+r.slice(o).join("/")}const Ys={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};var Jc;(function(t){t.pop="pop",t.push="push"})(Jc||(Jc={}));var Tc;(function(t){t.back="back",t.forward="forward",t.unknown=""})(Tc||(Tc={}));function Q4(t){if(!t)if(al){const e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),q4(t)}const X4=/^[^#]+#/;function J4(t,e){return t.replace(X4,"#")+e}function Z4(t,e){const n=document.documentElement.getBoundingClientRect(),r=t.getBoundingClientRect();return{behavior:e.behavior,left:r.left-n.left-(e.left||0),top:r.top-n.top-(e.top||0)}}const Qp=()=>({left:window.scrollX,top:window.scrollY});function eL(t){let e;if("el"in t){const n=t.el,r=typeof n=="string"&&n.startsWith("#"),i=typeof n=="string"?r?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!i)return;e=Z4(i,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.scrollX,e.top!=null?e.top:window.scrollY)}function zw(t,e){return(history.state?history.state.position-e:-1)+t}const Xv=new Map;function tL(t,e){Xv.set(t,e)}function nL(t){const e=Xv.get(t);return Xv.delete(t),e}let rL=()=>location.protocol+"//"+location.host;function wO(t,e){const{pathname:n,search:r,hash:i}=e,s=t.indexOf("#");if(s>-1){let a=i.includes(t.slice(s))?t.slice(s).length:1,l=i.slice(a);return l[0]!=="/"&&(l="/"+l),Ww(l,"")}return Ww(n,t)+r+i}function iL(t,e,n,r){let i=[],s=[],o=null;const a=({state:f})=>{const p=wO(t,location),g=n.value,w=e.value;let I=0;if(f){if(n.value=p,e.value=f,o&&o===g){o=null;return}I=w?f.position-w.position:0}else r(p);i.forEach(k=>{k(n.value,g,{delta:I,type:Jc.pop,direction:I?I>0?Tc.forward:Tc.back:Tc.unknown})})};function l(){o=n.value}function u(f){i.push(f);const p=()=>{const g=i.indexOf(f);g>-1&&i.splice(g,1)};return s.push(p),p}function c(){const{history:f}=window;f.state&&f.replaceState(Wt({},f.state,{scroll:Qp()}),"")}function h(){for(const f of s)f();s=[],window.removeEventListener("popstate",a),window.removeEventListener("beforeunload",c)}return window.addEventListener("popstate",a),window.addEventListener("beforeunload",c,{passive:!0}),{pauseListeners:l,listen:u,destroy:h}}function Kw(t,e,n,r=!1,i=!1){return{back:t,current:e,forward:n,replaced:r,position:window.history.length,scroll:i?Qp():null}}function sL(t){const{history:e,location:n}=window,r={value:wO(t,n)},i={value:e.state};i.value||s(r.value,{back:null,current:r.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function s(l,u,c){const h=t.indexOf("#"),f=h>-1?(n.host&&document.querySelector("base")?t:t.slice(h))+l:rL()+t+l;try{e[c?"replaceState":"pushState"](u,"",f),i.value=u}catch(p){console.error(p),n[c?"replace":"assign"](f)}}function o(l,u){const c=Wt({},e.state,Kw(i.value.back,l,i.value.forward,!0),u,{position:i.value.position});s(l,c,!0),r.value=l}function a(l,u){const c=Wt({},i.value,e.state,{forward:l,scroll:Qp()});s(c.current,c,!0);const h=Wt({},Kw(r.value,l,null),{position:c.position+1},u);s(l,h,!1),r.value=l}return{location:r,state:i,push:a,replace:o}}function oL(t){t=Q4(t);const e=sL(t),n=iL(t,e.state,e.location,e.replace);function r(s,o=!0){o||n.pauseListeners(),history.go(s)}const i=Wt({location:"",base:t,go:r,createHref:J4.bind(null,t)},e,n);return Object.defineProperty(i,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(i,"state",{enumerable:!0,get:()=>e.state.value}),i}function aL(t){return t=location.host?t||location.pathname+location.search:"",t.includes("#")||(t+="#"),oL(t)}function lL(t){return typeof t=="string"||t&&typeof t=="object"}function TO(t){return typeof t=="string"||typeof t=="symbol"}const EO=Symbol("");var Yw;(function(t){t[t.aborted=4]="aborted",t[t.cancelled=8]="cancelled",t[t.duplicated=16]="duplicated"})(Yw||(Yw={}));function zl(t,e){return Wt(new Error,{type:t,[EO]:!0},e)}function ys(t,e){return t instanceof Error&&EO in t&&(e==null||!!(t.type&e))}const Gw="[^/]+?",uL={sensitive:!1,strict:!1,start:!0,end:!0},cL=/[.+*?^${}()[\]/\\]/g;function dL(t,e){const n=Wt({},uL,e),r=[];let i=n.start?"^":"";const s=[];for(const u of t){const c=u.length?[]:[90];n.strict&&!u.length&&(i+="/");for(let h=0;h<u.length;h++){const f=u[h];let p=40+(n.sensitive?.25:0);if(f.type===0)h||(i+="/"),i+=f.value.replace(cL,"\\$&"),p+=40;else if(f.type===1){const{value:g,repeatable:w,optional:I,regexp:k}=f;s.push({name:g,repeatable:w,optional:I});const P=k||Gw;if(P!==Gw){p+=10;try{new RegExp(`(${P})`)}catch(_){throw new Error(`Invalid custom RegExp for param "${g}" (${P}): `+_.message)}}let T=w?`((?:${P})(?:/(?:${P}))*)`:`(${P})`;h||(T=I&&u.length<2?`(?:/${T})`:"/"+T),I&&(T+="?"),i+=T,p+=20,I&&(p+=-8),w&&(p+=-20),P===".*"&&(p+=-50)}c.push(p)}r.push(c)}if(n.strict&&n.end){const u=r.length-1;r[u][r[u].length-1]+=.7000000000000001}n.strict||(i+="/?"),n.end?i+="$":n.strict&&(i+="(?:/|$)");const o=new RegExp(i,n.sensitive?"":"i");function a(u){const c=u.match(o),h={};if(!c)return null;for(let f=1;f<c.length;f++){const p=c[f]||"",g=s[f-1];h[g.name]=p&&g.repeatable?p.split("/"):p}return h}function l(u){let c="",h=!1;for(const f of t){(!h||!c.endsWith("/"))&&(c+="/"),h=!1;for(const p of f)if(p.type===0)c+=p.value;else if(p.type===1){const{value:g,repeatable:w,optional:I}=p,k=g in u?u[g]:"";if(Vi(k)&&!w)throw new Error(`Provided param "${g}" is an array but it is not repeatable (* or + modifiers)`);const P=Vi(k)?k.join("/"):k;if(!P)if(I)f.length<2&&(c.endsWith("/")?c=c.slice(0,-1):h=!0);else throw new Error(`Missing required param "${g}"`);c+=P}}return c||"/"}return{re:o,score:r,keys:s,parse:a,stringify:l}}function hL(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=e[n]-t[n];if(r)return r;n++}return t.length<e.length?t.length===1&&t[0]===80?-1:1:t.length>e.length?e.length===1&&e[0]===80?1:-1:0}function IO(t,e){let n=0;const r=t.score,i=e.score;for(;n<r.length&&n<i.length;){const s=hL(r[n],i[n]);if(s)return s;n++}if(Math.abs(i.length-r.length)===1){if(Qw(r))return 1;if(Qw(i))return-1}return i.length-r.length}function Qw(t){const e=t[t.length-1];return t.length>0&&e[e.length-1]<0}const fL={type:0,value:""},pL=/[a-zA-Z0-9_]/;function mL(t){if(!t)return[[]];if(t==="/")return[[fL]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(p){throw new Error(`ERR (${n})/"${u}": ${p}`)}let n=0,r=n;const i=[];let s;function o(){s&&i.push(s),s=[]}let a=0,l,u="",c="";function h(){u&&(n===0?s.push({type:0,value:u}):n===1||n===2||n===3?(s.length>1&&(l==="*"||l==="+")&&e(`A repeatable param (${u}) must be alone in its segment. eg: '/:ids+.`),s.push({type:1,value:u,regexp:c,repeatable:l==="*"||l==="+",optional:l==="*"||l==="?"})):e("Invalid state to consume buffer"),u="")}function f(){u+=l}for(;a<t.length;){if(l=t[a++],l==="\\"&&n!==2){r=n,n=4;continue}switch(n){case 0:l==="/"?(u&&h(),o()):l===":"?(h(),n=1):f();break;case 4:f(),n=r;break;case 1:l==="("?n=2:pL.test(l)?f():(h(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&a--);break;case 2:l===")"?c[c.length-1]=="\\"?c=c.slice(0,-1)+l:n=3:c+=l;break;case 3:h(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&a--,c="";break;default:e("Unknown state");break}}return n===2&&e(`Unfinished custom RegExp for param "${u}"`),h(),o(),i}function gL(t,e,n){const r=dL(mL(t.path),n),i=Wt(r,{record:t,parent:e,children:[],alias:[]});return e&&!i.record.aliasOf==!e.record.aliasOf&&e.children.push(i),i}function vL(t,e){const n=[],r=new Map;e=eT({strict:!1,end:!0,sensitive:!1},e);function i(h){return r.get(h)}function s(h,f,p){const g=!p,w=Jw(h);w.aliasOf=p&&p.record;const I=eT(e,h),k=[w];if("alias"in h){const _=typeof h.alias=="string"?[h.alias]:h.alias;for(const L of _)k.push(Jw(Wt({},w,{components:p?p.record.components:w.components,path:L,aliasOf:p?p.record:w})))}let P,T;for(const _ of k){const{path:L}=_;if(f&&L[0]!=="/"){const V=f.record.path,S=V[V.length-1]==="/"?"":"/";_.path=f.record.path+(L&&S+L)}if(P=gL(_,f,I),p?p.alias.push(P):(T=T||P,T!==P&&T.alias.push(P),g&&h.name&&!Zw(P)&&o(h.name)),SO(P)&&l(P),w.children){const V=w.children;for(let S=0;S<V.length;S++)s(V[S],P,p&&p.children[S])}p=p||P}return T?()=>{o(T)}:wc}function o(h){if(TO(h)){const f=r.get(h);f&&(r.delete(h),n.splice(n.indexOf(f),1),f.children.forEach(o),f.alias.forEach(o))}else{const f=n.indexOf(h);f>-1&&(n.splice(f,1),h.record.name&&r.delete(h.record.name),h.children.forEach(o),h.alias.forEach(o))}}function a(){return n}function l(h){const f=bL(h,n);n.splice(f,0,h),h.record.name&&!Zw(h)&&r.set(h.record.name,h)}function u(h,f){let p,g={},w,I;if("name"in h&&h.name){if(p=r.get(h.name),!p)throw zl(1,{location:h});I=p.record.name,g=Wt(Xw(f.params,p.keys.filter(T=>!T.optional).concat(p.parent?p.parent.keys.filter(T=>T.optional):[]).map(T=>T.name)),h.params&&Xw(h.params,p.keys.map(T=>T.name))),w=p.stringify(g)}else if(h.path!=null)w=h.path,p=n.find(T=>T.re.test(w)),p&&(g=p.parse(w),I=p.record.name);else{if(p=f.name?r.get(f.name):n.find(T=>T.re.test(f.path)),!p)throw zl(1,{location:h,currentLocation:f});I=p.record.name,g=Wt({},f.params,h.params),w=p.stringify(g)}const k=[];let P=p;for(;P;)k.unshift(P.record),P=P.parent;return{name:I,path:w,params:g,matched:k,meta:_L(k)}}t.forEach(h=>s(h));function c(){n.length=0,r.clear()}return{addRoute:s,resolve:u,removeRoute:o,clearRoutes:c,getRoutes:a,getRecordMatcher:i}}function Xw(t,e){const n={};for(const r of e)r in t&&(n[r]=t[r]);return n}function Jw(t){const e={path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:t.aliasOf,beforeEnter:t.beforeEnter,props:yL(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}};return Object.defineProperty(e,"mods",{value:{}}),e}function yL(t){const e={},n=t.props||!1;if("component"in t)e.default=n;else for(const r in t.components)e[r]=typeof n=="object"?n[r]:n;return e}function Zw(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function _L(t){return t.reduce((e,n)=>Wt(e,n.meta),{})}function eT(t,e){const n={};for(const r in t)n[r]=r in e?e[r]:t[r];return n}function bL(t,e){let n=0,r=e.length;for(;n!==r;){const s=n+r>>1;IO(t,e[s])<0?r=s:n=s+1}const i=wL(t);return i&&(r=e.lastIndexOf(i,r-1)),r}function wL(t){let e=t;for(;e=e.parent;)if(SO(e)&&IO(t,e)===0)return e}function SO({record:t}){return!!(t.name||t.components&&Object.keys(t.components).length||t.redirect)}function TL(t){const e={};if(t===""||t==="?")return e;const r=(t[0]==="?"?t.slice(1):t).split("&");for(let i=0;i<r.length;++i){const s=r[i].replace(gO," "),o=s.indexOf("="),a=Xc(o<0?s:s.slice(0,o)),l=o<0?null:Xc(s.slice(o+1));if(a in e){let u=e[a];Vi(u)||(u=e[a]=[u]),u.push(l)}else e[a]=l}return e}function tT(t){let e="";for(let n in t){const r=t[n];if(n=B4(n),r==null){r!==void 0&&(e+=(e.length?"&":"")+n);continue}(Vi(r)?r.map(s=>s&&Qv(s)):[r&&Qv(r)]).forEach(s=>{s!==void 0&&(e+=(e.length?"&":"")+n,s!=null&&(e+="="+s))})}return e}function EL(t){const e={};for(const n in t){const r=t[n];r!==void 0&&(e[n]=Vi(r)?r.map(i=>i==null?null:""+i):r==null?r:""+r)}return e}const IL=Symbol(""),nT=Symbol(""),Xp=Symbol(""),z_=Symbol(""),Jv=Symbol("");function ju(){let t=[];function e(r){return t.push(r),()=>{const i=t.indexOf(r);i>-1&&t.splice(i,1)}}function n(){t=[]}return{add:e,list:()=>t.slice(),reset:n}}function lo(t,e,n,r,i,s=o=>o()){const o=r&&(r.enterCallbacks[i]=r.enterCallbacks[i]||[]);return()=>new Promise((a,l)=>{const u=f=>{f===!1?l(zl(4,{from:n,to:e})):f instanceof Error?l(f):lL(f)?l(zl(2,{from:e,to:f})):(o&&r.enterCallbacks[i]===o&&typeof f=="function"&&o.push(f),a())},c=s(()=>t.call(r&&r.instances[i],e,n,u));let h=Promise.resolve(c);t.length<3&&(h=h.then(u)),h.catch(f=>l(f))})}function Cg(t,e,n,r,i=s=>s()){const s=[];for(const o of t)for(const a in o.components){let l=o.components[a];if(!(e!=="beforeRouteEnter"&&!o.instances[a]))if(pO(l)){const c=(l.__vccOpts||l)[e];c&&s.push(lo(c,n,r,o,a,i))}else{let u=l();s.push(()=>u.then(c=>{if(!c)throw new Error(`Couldn't resolve component "${a}" at "${o.path}"`);const h=k4(c)?c.default:c;o.mods[a]=c,o.components[a]=h;const p=(h.__vccOpts||h)[e];return p&&lo(p,n,r,o,a,i)()}))}}return s}function rT(t){const e=Kr(Xp),n=Kr(z_),r=se(()=>{const l=R(t.to);return e.resolve(l)}),i=se(()=>{const{matched:l}=r.value,{length:u}=l,c=l[u-1],h=n.matched;if(!c||!h.length)return-1;const f=h.findIndex(ql.bind(null,c));if(f>-1)return f;const p=iT(l[u-2]);return u>1&&iT(c)===p&&h[h.length-1].path!==p?h.findIndex(ql.bind(null,l[u-2])):f}),s=se(()=>i.value>-1&&OL(n.params,r.value.params)),o=se(()=>i.value>-1&&i.value===n.matched.length-1&&bO(n.params,r.value.params));function a(l={}){return AL(l)?e[R(t.replace)?"replace":"push"](R(t.to)).catch(wc):Promise.resolve()}return{route:r,href:se(()=>r.value.href),isActive:s,isExactActive:o,navigate:a}}const SL=it({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:rT,setup(t,{slots:e}){const n=_i(rT(t)),{options:r}=Kr(Xp),i=se(()=>({[sT(t.activeClass,r.linkActiveClass,"router-link-active")]:n.isActive,[sT(t.exactActiveClass,r.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const s=e.default&&e.default(n);return t.custom?s:Hl("a",{"aria-current":n.isExactActive?t.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:i.value},s)}}}),CL=SL;function AL(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function OL(t,e){for(const n in e){const r=e[n],i=t[n];if(typeof r=="string"){if(r!==i)return!1}else if(!Vi(i)||i.length!==r.length||r.some((s,o)=>s!==i[o]))return!1}return!0}function iT(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const sT=(t,e,n)=>t??e??n,PL=it({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:e,slots:n}){const r=Kr(Jv),i=se(()=>t.route||r.value),s=Kr(nT,0),o=se(()=>{let u=R(s);const{matched:c}=i.value;let h;for(;(h=c[u])&&!h.components;)u++;return u}),a=se(()=>i.value.matched[o.value]);vc(nT,se(()=>o.value+1)),vc(IL,a),vc(Jv,i);const l=Te();return _n(()=>[l.value,a.value,t.name],([u,c,h],[f,p,g])=>{c&&(c.instances[h]=u,p&&p!==c&&u&&u===f&&(c.leaveGuards.size||(c.leaveGuards=p.leaveGuards),c.updateGuards.size||(c.updateGuards=p.updateGuards))),u&&c&&(!p||!ql(c,p)||!f)&&(c.enterCallbacks[h]||[]).forEach(w=>w(u))},{flush:"post"}),()=>{const u=i.value,c=t.name,h=a.value,f=h&&h.components[c];if(!f)return oT(n.default,{Component:f,route:u});const p=h.props[c],g=p?p===!0?u.params:typeof p=="function"?p(u):p:null,I=Hl(f,Wt({},g,e,{onVnodeUnmounted:k=>{k.component.isUnmounted&&(h.instances[c]=null)},ref:l}));return oT(n.default,{Component:I,route:u})||I}}});function oT(t,e){if(!t)return null;const n=t(e);return n.length===1?n[0]:n}const CO=PL;function kL(t){const e=vL(t.routes,t),n=t.parseQuery||TL,r=t.stringifyQuery||tT,i=t.history,s=ju(),o=ju(),a=ju(),l=JC(Ys);let u=Ys;al&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const c=Ig.bind(null,G=>""+G),h=Ig.bind(null,j4),f=Ig.bind(null,Xc);function p(G,oe){let J,fe;return TO(G)?(J=e.getRecordMatcher(G),fe=oe):fe=G,e.addRoute(fe,J)}function g(G){const oe=e.getRecordMatcher(G);oe&&e.removeRoute(oe)}function w(){return e.getRoutes().map(G=>G.record)}function I(G){return!!e.getRecordMatcher(G)}function k(G,oe){if(oe=Wt({},oe||l.value),typeof G=="string"){const F=Sg(n,G,oe.path),H=e.resolve({path:F.path},oe),le=i.createHref(F.fullPath);return Wt(F,H,{params:f(H.params),hash:Xc(F.hash),redirectedFrom:void 0,href:le})}let J;if(G.path!=null)J=Wt({},G,{path:Sg(n,G.path,oe.path).path});else{const F=Wt({},G.params);for(const H in F)F[H]==null&&delete F[H];J=Wt({},G,{params:h(F)}),oe.params=h(oe.params)}const fe=e.resolve(J,oe),be=G.hash||"";fe.params=c(f(fe.params));const re=z4(r,Wt({},G,{hash:U4(be),path:fe.path})),D=i.createHref(re);return Wt({fullPath:re,hash:be,query:r===tT?EL(G.query):G.query||{}},fe,{redirectedFrom:void 0,href:D})}function P(G){return typeof G=="string"?Sg(n,G,l.value.path):Wt({},G)}function T(G,oe){if(u!==G)return zl(8,{from:oe,to:G})}function _(G){return S(G)}function L(G){return _(Wt(P(G),{replace:!0}))}function V(G){const oe=G.matched[G.matched.length-1];if(oe&&oe.redirect){const{redirect:J}=oe;let fe=typeof J=="function"?J(G):J;return typeof fe=="string"&&(fe=fe.includes("?")||fe.includes("#")?fe=P(fe):{path:fe},fe.params={}),Wt({query:G.query,hash:G.hash,params:fe.path!=null?{}:G.params},fe)}}function S(G,oe){const J=u=k(G),fe=l.value,be=G.state,re=G.force,D=G.replace===!0,F=V(J);if(F)return S(Wt(P(F),{state:typeof F=="object"?Wt({},be,F.state):be,force:re,replace:D}),oe||J);const H=J;H.redirectedFrom=oe;let le;return!re&&K4(r,fe,J)&&(le=zl(16,{to:H,from:fe}),te(fe,fe,!0,!1)),(le?Promise.resolve(le):v(H,fe)).catch(ae=>ys(ae)?ys(ae,2)?ae:x(ae):X(ae,H,fe)).then(ae=>{if(ae){if(ys(ae,2))return S(Wt({replace:D},P(ae.to),{state:typeof ae.to=="object"?Wt({},be,ae.to.state):be,force:re}),oe||H)}else ae=A(H,fe,!0,D,be);return C(H,fe,ae),ae})}function E(G,oe){const J=T(G,oe);return J?Promise.reject(J):Promise.resolve()}function b(G){const oe=ge.values().next().value;return oe&&typeof oe.runWithContext=="function"?oe.runWithContext(G):G()}function v(G,oe){let J;const[fe,be,re]=RL(G,oe);J=Cg(fe.reverse(),"beforeRouteLeave",G,oe);for(const F of fe)F.leaveGuards.forEach(H=>{J.push(lo(H,G,oe))});const D=E.bind(null,G,oe);return J.push(D),B(J).then(()=>{J=[];for(const F of s.list())J.push(lo(F,G,oe));return J.push(D),B(J)}).then(()=>{J=Cg(be,"beforeRouteUpdate",G,oe);for(const F of be)F.updateGuards.forEach(H=>{J.push(lo(H,G,oe))});return J.push(D),B(J)}).then(()=>{J=[];for(const F of re)if(F.beforeEnter)if(Vi(F.beforeEnter))for(const H of F.beforeEnter)J.push(lo(H,G,oe));else J.push(lo(F.beforeEnter,G,oe));return J.push(D),B(J)}).then(()=>(G.matched.forEach(F=>F.enterCallbacks={}),J=Cg(re,"beforeRouteEnter",G,oe,b),J.push(D),B(J))).then(()=>{J=[];for(const F of o.list())J.push(lo(F,G,oe));return J.push(D),B(J)}).catch(F=>ys(F,8)?F:Promise.reject(F))}function C(G,oe,J){a.list().forEach(fe=>b(()=>fe(G,oe,J)))}function A(G,oe,J,fe,be){const re=T(G,oe);if(re)return re;const D=oe===Ys,F=al?history.state:{};J&&(fe||D?i.replace(G.fullPath,Wt({scroll:D&&F&&F.scroll},be)):i.push(G.fullPath,be)),l.value=G,te(G,oe,J,D),x()}let O;function Y(){O||(O=i.listen((G,oe,J)=>{if(!Q.listening)return;const fe=k(G),be=V(fe);if(be){S(Wt(be,{replace:!0}),fe).catch(wc);return}u=fe;const re=l.value;al&&tL(zw(re.fullPath,J.delta),Qp()),v(fe,re).catch(D=>ys(D,12)?D:ys(D,2)?(S(D.to,fe).then(F=>{ys(F,20)&&!J.delta&&J.type===Jc.pop&&i.go(-1,!1)}).catch(wc),Promise.reject()):(J.delta&&i.go(-J.delta,!1),X(D,fe,re))).then(D=>{D=D||A(fe,re,!1),D&&(J.delta&&!ys(D,8)?i.go(-J.delta,!1):J.type===Jc.pop&&ys(D,20)&&i.go(-1,!1)),C(fe,re,D)}).catch(wc)}))}let U=ju(),j=ju(),q;function X(G,oe,J){x(G);const fe=j.list();return fe.length?fe.forEach(be=>be(G,oe,J)):console.error(G),Promise.reject(G)}function $(){return q&&l.value!==Ys?Promise.resolve():new Promise((G,oe)=>{U.add([G,oe])})}function x(G){return q||(q=!G,Y(),U.list().forEach(([oe,J])=>G?J(G):oe()),U.reset()),G}function te(G,oe,J,fe){const{scrollBehavior:be}=t;if(!al||!be)return Promise.resolve();const re=!J&&nL(zw(G.fullPath,0))||(fe||!J)&&history.state&&history.state.scroll||null;return Kn().then(()=>be(G,oe,re)).then(D=>D&&eL(D)).catch(D=>X(D,G,oe))}const ee=G=>i.go(G);let he;const ge=new Set,Q={currentRoute:l,listening:!0,addRoute:p,removeRoute:g,clearRoutes:e.clearRoutes,hasRoute:I,getRoutes:w,resolve:k,options:t,push:_,replace:L,go:ee,back:()=>ee(-1),forward:()=>ee(1),beforeEach:s.add,beforeResolve:o.add,afterEach:a.add,onError:j.add,isReady:$,install(G){const oe=this;G.component("RouterLink",CL),G.component("RouterView",CO),G.config.globalProperties.$router=oe,Object.defineProperty(G.config.globalProperties,"$route",{enumerable:!0,get:()=>R(l)}),al&&!he&&l.value===Ys&&(he=!0,_(i.location).catch(be=>{}));const J={};for(const be in Ys)Object.defineProperty(J,be,{get:()=>l.value[be],enumerable:!0});G.provide(Xp,oe),G.provide(z_,XC(J)),G.provide(Jv,l);const fe=G.unmount;ge.add(G),G.unmount=function(){ge.delete(G),ge.size<1&&(u=Ys,O&&O(),O=null,l.value=Ys,he=!1,q=!1),fe()}}};function B(G){return G.reduce((oe,J)=>oe.then(()=>b(J)),Promise.resolve())}return Q}function RL(t,e){const n=[],r=[],i=[],s=Math.max(e.matched.length,t.matched.length);for(let o=0;o<s;o++){const a=e.matched[o];a&&(t.matched.find(u=>ql(u,a))?r.push(a):n.push(a));const l=t.matched[o];l&&(e.matched.find(u=>ql(u,l))||i.push(l))}return[n,r,i]}function AO(){return Kr(Xp)}function DL(t){return Kr(z_)}const xL=it({__name:"App",setup(t){return(e,n)=>(M(),W(Oe,null,[Me(R(CO)),Me(P4)],64))}});var aT={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OO={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xe=function(t,e){if(!t)throw gu(e)},gu=function(t){return new Error("Firebase Database ("+OO.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PO=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},NL=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},Jp={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,l=i+2<t.length,u=l?t[i+2]:0,c=s>>2,h=(s&3)<<4|a>>4;let f=(a&15)<<2|u>>6,p=u&63;l||(p=64,o||(f=64)),r.push(n[c],n[h],n[f],n[p])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(PO(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):NL(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const h=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||u==null||h==null)throw new ML;const f=s<<2|a>>4;if(r.push(f),u!==64){const p=a<<4&240|u>>2;if(r.push(p),h!==64){const g=u<<6&192|h;r.push(g)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class ML extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const kO=function(t){const e=PO(t);return Jp.encodeByteArray(e,!0)},qf=function(t){return kO(t).replace(/\./g,"")},zf=function(t){try{return Jp.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LL(t){return RO(void 0,t)}function RO(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!VL(n)||(t[n]=RO(t[n],e[n]));return t}function VL(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DO(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FL=()=>DO().__FIREBASE_DEFAULTS__,$L=()=>{if(typeof process>"u"||typeof aT>"u")return;const t=aT.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},UL=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&zf(t[1]);return e&&JSON.parse(e)},Zp=()=>{try{return FL()||$L()||UL()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},xO=t=>{var e,n;return(n=(e=Zp())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},NO=t=>{const e=xO(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},MO=()=>{var t;return(t=Zp())===null||t===void 0?void 0:t.config},LO=t=>{var e;return(e=Zp())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ba{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VO(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[qf(JSON.stringify(n)),qf(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cr(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function K_(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Cr())}function BL(){var t;const e=(t=Zp())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function HL(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function FO(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function $O(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function jL(){const t=Cr();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function UO(){return OO.NODE_ADMIN===!0}function WL(){return!BL()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function em(){try{return typeof indexedDB=="object"}catch{return!1}}function BO(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}function qL(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zL="FirebaseError";class ai extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=zL,Object.setPrototypeOf(this,ai.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Uo.prototype.create)}}class Uo{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?KL(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new ai(i,a,r)}}function KL(t,e){return t.replace(YL,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const YL=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zc(t){return JSON.parse(t)}function tr(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HO=function(t){let e={},n={},r={},i="";try{const s=t.split(".");e=Zc(zf(s[0])||""),n=Zc(zf(s[1])||""),i=s[2],r=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:r,signature:i}},GL=function(t){const e=HO(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},QL=function(t){const e=HO(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hs(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Kl(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function Zv(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Kf(t,e,n){const r={};for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=e.call(n,t[i],i,t));return r}function ed(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(lT(s)&&lT(o)){if(!ed(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function lT(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vu(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function sc(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function oc(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XL{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const r=this.W_;if(typeof e=="string")for(let h=0;h<16;h++)r[h]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let h=0;h<16;h++)r[h]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let h=16;h<80;h++){const f=r[h-3]^r[h-8]^r[h-14]^r[h-16];r[h]=(f<<1|f>>>31)&4294967295}let i=this.chain_[0],s=this.chain_[1],o=this.chain_[2],a=this.chain_[3],l=this.chain_[4],u,c;for(let h=0;h<80;h++){h<40?h<20?(u=a^s&(o^a),c=1518500249):(u=s^o^a,c=1859775393):h<60?(u=s&o|a&(s|o),c=2400959708):(u=s^o^a,c=3395469782);const f=(i<<5|i>>>27)+u+l+c+r[h]&4294967295;l=a,a=o,o=(s<<30|s>>>2)&4294967295,s=i,i=f}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+o&4294967295,this.chain_[3]=this.chain_[3]+a&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);const r=n-this.blockSize;let i=0;const s=this.buf_;let o=this.inbuf_;for(;i<n;){if(o===0)for(;i<=r;)this.compress_(e,i),i+=this.blockSize;if(typeof e=="string"){for(;i<n;)if(s[o]=e.charCodeAt(i),++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}else for(;i<n;)if(s[o]=e[i],++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}this.inbuf_=o,this.total_+=n}digest(){const e=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=n&255,n/=256;this.compress_(this.buf_);let r=0;for(let i=0;i<5;i++)for(let s=24;s>=0;s-=8)e[r]=this.chain_[i]>>s&255,++r;return e}}function JL(t,e){const n=new ZL(t,e);return n.subscribe.bind(n)}class ZL{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");e6(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Ag),i.error===void 0&&(i.error=Ag),i.complete===void 0&&(i.complete=Ag);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function e6(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Ag(){}function t6(t,e){return`${t} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n6=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);if(i>=55296&&i<=56319){const s=i-55296;r++,xe(r<t.length,"Surrogate pair missing trail surrogate.");const o=t.charCodeAt(r)-56320;i=65536+(s<<10)+o}i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):i<65536?(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},tm=function(t){let e=0;for(let n=0;n<t.length;n++){const r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r6=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,t=>{const e=Math.random()*16|0;return(t==="x"?e:e&3|8).toString(16)})};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i6=1e3,s6=2,o6=4*60*60*1e3,a6=.5;function ey(t,e=i6,n=s6){const r=e*Math.pow(n,t),i=Math.round(a6*r*(Math.random()-.5)*2);return Math.min(o6,r+i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nt(t){return t&&t._delegate?t._delegate:t}class Mr{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jo="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l6{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new ba;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(c6(e))try{this.getOrInitializeService({instanceIdentifier:Jo})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Jo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Jo){return this.instances.has(e)}getOptions(e=Jo){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:u6(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Jo){return this.component?this.component.multipleInstances?e:Jo:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function u6(t){return t===Jo?void 0:t}function c6(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d6{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new l6(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var gt;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(gt||(gt={}));const h6={debug:gt.DEBUG,verbose:gt.VERBOSE,info:gt.INFO,warn:gt.WARN,error:gt.ERROR,silent:gt.SILENT},f6=gt.INFO,p6={[gt.DEBUG]:"log",[gt.VERBOSE]:"log",[gt.INFO]:"info",[gt.WARN]:"warn",[gt.ERROR]:"error"},m6=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=p6[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class yu{constructor(e){this.name=e,this._logLevel=f6,this._logHandler=m6,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in gt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?h6[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,gt.DEBUG,...e),this._logHandler(this,gt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,gt.VERBOSE,...e),this._logHandler(this,gt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,gt.INFO,...e),this._logHandler(this,gt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,gt.WARN,...e),this._logHandler(this,gt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,gt.ERROR,...e),this._logHandler(this,gt.ERROR,...e)}}const g6=(t,e)=>e.some(n=>t instanceof n);let uT,cT;function v6(){return uT||(uT=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function y6(){return cT||(cT=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const jO=new WeakMap,ty=new WeakMap,WO=new WeakMap,Og=new WeakMap,Y_=new WeakMap;function _6(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(_o(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&jO.set(n,t)}).catch(()=>{}),Y_.set(e,t),e}function b6(t){if(ty.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});ty.set(t,e)}let ny={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return ty.get(t);if(e==="objectStoreNames")return t.objectStoreNames||WO.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return _o(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function w6(t){ny=t(ny)}function T6(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Pg(this),e,...n);return WO.set(r,e.sort?e.sort():[e]),_o(r)}:y6().includes(t)?function(...e){return t.apply(Pg(this),e),_o(jO.get(this))}:function(...e){return _o(t.apply(Pg(this),e))}}function E6(t){return typeof t=="function"?T6(t):(t instanceof IDBTransaction&&b6(t),g6(t,v6())?new Proxy(t,ny):t)}function _o(t){if(t instanceof IDBRequest)return _6(t);if(Og.has(t))return Og.get(t);const e=E6(t);return e!==t&&(Og.set(t,e),Y_.set(e,t)),e}const Pg=t=>Y_.get(t);function qO(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=_o(o);return r&&o.addEventListener("upgradeneeded",l=>{r(_o(o.result),l.oldVersion,l.newVersion,_o(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const I6=["get","getKey","getAll","getAllKeys","count"],S6=["put","add","delete","clear"],kg=new Map;function dT(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(kg.get(e))return kg.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=S6.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||I6.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),i&&l.done]))[0]};return kg.set(e,s),s}w6(t=>({...t,get:(e,n,r)=>dT(e,n)||t.get(e,n,r),has:(e,n)=>!!dT(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C6{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(A6(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function A6(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const ry="@firebase/app",hT="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ns=new yu("@firebase/app"),O6="@firebase/app-compat",P6="@firebase/analytics-compat",k6="@firebase/analytics",R6="@firebase/app-check-compat",D6="@firebase/app-check",x6="@firebase/auth",N6="@firebase/auth-compat",M6="@firebase/database",L6="@firebase/data-connect",V6="@firebase/database-compat",F6="@firebase/functions",$6="@firebase/functions-compat",U6="@firebase/installations",B6="@firebase/installations-compat",H6="@firebase/messaging",j6="@firebase/messaging-compat",W6="@firebase/performance",q6="@firebase/performance-compat",z6="@firebase/remote-config",K6="@firebase/remote-config-compat",Y6="@firebase/storage",G6="@firebase/storage-compat",Q6="@firebase/firestore",X6="@firebase/vertexai-preview",J6="@firebase/firestore-compat",Z6="firebase",e5="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iy="[DEFAULT]",t5={[ry]:"fire-core",[O6]:"fire-core-compat",[k6]:"fire-analytics",[P6]:"fire-analytics-compat",[D6]:"fire-app-check",[R6]:"fire-app-check-compat",[x6]:"fire-auth",[N6]:"fire-auth-compat",[M6]:"fire-rtdb",[L6]:"fire-data-connect",[V6]:"fire-rtdb-compat",[F6]:"fire-fn",[$6]:"fire-fn-compat",[U6]:"fire-iid",[B6]:"fire-iid-compat",[H6]:"fire-fcm",[j6]:"fire-fcm-compat",[W6]:"fire-perf",[q6]:"fire-perf-compat",[z6]:"fire-rc",[K6]:"fire-rc-compat",[Y6]:"fire-gcs",[G6]:"fire-gcs-compat",[Q6]:"fire-fst",[J6]:"fire-fst-compat",[X6]:"fire-vertex","fire-js":"fire-js",[Z6]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yf=new Map,n5=new Map,sy=new Map;function fT(t,e){try{t.container.addComponent(e)}catch(n){Ns.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Qr(t){const e=t.name;if(sy.has(e))return Ns.debug(`There were multiple attempts to register component ${e}.`),!1;sy.set(e,t);for(const n of Yf.values())fT(n,t);for(const n of n5.values())fT(n,t);return!0}function us(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Ai(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r5={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},bo=new Uo("app","Firebase",r5);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i5{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Mr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw bo.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bo=e5;function zO(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:iy,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw bo.create("bad-app-name",{appName:String(i)});if(n||(n=MO()),!n)throw bo.create("no-options");const s=Yf.get(i);if(s){if(ed(n,s.options)&&ed(r,s.config))return s;throw bo.create("duplicate-app",{appName:i})}const o=new d6(i);for(const l of sy.values())o.addComponent(l);const a=new i5(n,r,o);return Yf.set(i,a),a}function _u(t=iy){const e=Yf.get(t);if(!e&&t===iy&&MO())return zO();if(!e)throw bo.create("no-app",{appName:t});return e}function or(t,e,n){var r;let i=(r=t5[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ns.warn(a.join(" "));return}Qr(new Mr(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s5="firebase-heartbeat-database",o5=1,td="firebase-heartbeat-store";let Rg=null;function KO(){return Rg||(Rg=qO(s5,o5,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(td)}catch(n){console.warn(n)}}}}).catch(t=>{throw bo.create("idb-open",{originalErrorMessage:t.message})})),Rg}async function a5(t){try{const n=(await KO()).transaction(td),r=await n.objectStore(td).get(YO(t));return await n.done,r}catch(e){if(e instanceof ai)Ns.warn(e.message);else{const n=bo.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Ns.warn(n.message)}}}async function pT(t,e){try{const r=(await KO()).transaction(td,"readwrite");await r.objectStore(td).put(e,YO(t)),await r.done}catch(n){if(n instanceof ai)Ns.warn(n.message);else{const r=bo.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Ns.warn(r.message)}}}function YO(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l5=1024,u5=30*24*60*60*1e3;class c5{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new h5(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=mT();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)?void 0:(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const a=new Date(o.date).valueOf();return Date.now()-a<=u5}),this._storage.overwrite(this._heartbeatsCache))}catch(r){Ns.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=mT(),{heartbeatsToSend:r,unsentEntries:i}=d5(this._heartbeatsCache.heartbeats),s=qf(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return Ns.warn(n),""}}}function mT(){return new Date().toISOString().substring(0,10)}function d5(t,e=l5){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),gT(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),gT(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class h5{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return em()?BO().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await a5(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return pT(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return pT(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function gT(t){return qf(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f5(t){Qr(new Mr("platform-logger",e=>new C6(e),"PRIVATE")),Qr(new Mr("heartbeat",e=>new c5(e),"PRIVATE")),or(ry,hT,t),or(ry,hT,"esm2017"),or("fire-js","")}f5("");const GO="@firebase/installations",G_="0.6.9";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QO=1e4,XO=`w:${G_}`,JO="FIS_v2",p5="https://firebaseinstallations.googleapis.com/v1",m5=60*60*1e3,g5="installations",v5="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y5={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},wa=new Uo(g5,v5,y5);function ZO(t){return t instanceof ai&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eP({projectId:t}){return`${p5}/projects/${t}/installations`}function tP(t){return{token:t.token,requestStatus:2,expiresIn:b5(t.expiresIn),creationTime:Date.now()}}async function nP(t,e){const r=(await e.json()).error;return wa.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function rP({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function _5(t,{refreshToken:e}){const n=rP(t);return n.append("Authorization",w5(e)),n}async function iP(t){const e=await t();return e.status>=500&&e.status<600?t():e}function b5(t){return Number(t.replace("s","000"))}function w5(t){return`${JO} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function T5({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=eP(t),i=rP(t),s=e.getImmediate({optional:!0});if(s){const u=await s.getHeartbeatsHeader();u&&i.append("x-firebase-client",u)}const o={fid:n,authVersion:JO,appId:t.appId,sdkVersion:XO},a={method:"POST",headers:i,body:JSON.stringify(o)},l=await iP(()=>fetch(r,a));if(l.ok){const u=await l.json();return{fid:u.fid||n,registrationStatus:2,refreshToken:u.refreshToken,authToken:tP(u.authToken)}}else throw await nP("Create Installation",l)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sP(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E5(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I5=/^[cdef][\w-]{21}$/,oy="";function S5(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=C5(t);return I5.test(n)?n:oy}catch{return oy}}function C5(t){return E5(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nm(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oP=new Map;function aP(t,e){const n=nm(t);lP(n,e),A5(n,e)}function lP(t,e){const n=oP.get(t);if(n)for(const r of n)r(e)}function A5(t,e){const n=O5();n&&n.postMessage({key:t,fid:e}),P5()}let sa=null;function O5(){return!sa&&"BroadcastChannel"in self&&(sa=new BroadcastChannel("[Firebase] FID Change"),sa.onmessage=t=>{lP(t.data.key,t.data.fid)}),sa}function P5(){oP.size===0&&sa&&(sa.close(),sa=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k5="firebase-installations-database",R5=1,Ta="firebase-installations-store";let Dg=null;function Q_(){return Dg||(Dg=qO(k5,R5,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Ta)}}})),Dg}async function Gf(t,e){const n=nm(t),i=(await Q_()).transaction(Ta,"readwrite"),s=i.objectStore(Ta),o=await s.get(n);return await s.put(e,n),await i.done,(!o||o.fid!==e.fid)&&aP(t,e.fid),e}async function uP(t){const e=nm(t),r=(await Q_()).transaction(Ta,"readwrite");await r.objectStore(Ta).delete(e),await r.done}async function rm(t,e){const n=nm(t),i=(await Q_()).transaction(Ta,"readwrite"),s=i.objectStore(Ta),o=await s.get(n),a=e(o);return a===void 0?await s.delete(n):await s.put(a,n),await i.done,a&&(!o||o.fid!==a.fid)&&aP(t,a.fid),a}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function X_(t){let e;const n=await rm(t.appConfig,r=>{const i=D5(r),s=x5(t,i);return e=s.registrationPromise,s.installationEntry});return n.fid===oy?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function D5(t){const e=t||{fid:S5(),registrationStatus:0};return cP(e)}function x5(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const i=Promise.reject(wa.create("app-offline"));return{installationEntry:e,registrationPromise:i}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=N5(t,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:M5(t)}:{installationEntry:e}}async function N5(t,e){try{const n=await T5(t,e);return Gf(t.appConfig,n)}catch(n){throw ZO(n)&&n.customData.serverCode===409?await uP(t.appConfig):await Gf(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function M5(t){let e=await vT(t.appConfig);for(;e.registrationStatus===1;)await sP(100),e=await vT(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await X_(t);return r||n}return e}function vT(t){return rm(t,e=>{if(!e)throw wa.create("installation-not-found");return cP(e)})}function cP(t){return L5(t)?{fid:t.fid,registrationStatus:0}:t}function L5(t){return t.registrationStatus===1&&t.registrationTime+QO<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function V5({appConfig:t,heartbeatServiceProvider:e},n){const r=F5(t,n),i=_5(t,n),s=e.getImmediate({optional:!0});if(s){const u=await s.getHeartbeatsHeader();u&&i.append("x-firebase-client",u)}const o={installation:{sdkVersion:XO,appId:t.appId}},a={method:"POST",headers:i,body:JSON.stringify(o)},l=await iP(()=>fetch(r,a));if(l.ok){const u=await l.json();return tP(u)}else throw await nP("Generate Auth Token",l)}function F5(t,{fid:e}){return`${eP(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function J_(t,e=!1){let n;const r=await rm(t.appConfig,s=>{if(!dP(s))throw wa.create("not-registered");const o=s.authToken;if(!e&&B5(o))return s;if(o.requestStatus===1)return n=$5(t,e),s;{if(!navigator.onLine)throw wa.create("app-offline");const a=j5(s);return n=U5(t,a),a}});return n?await n:r.authToken}async function $5(t,e){let n=await yT(t.appConfig);for(;n.authToken.requestStatus===1;)await sP(100),n=await yT(t.appConfig);const r=n.authToken;return r.requestStatus===0?J_(t,e):r}function yT(t){return rm(t,e=>{if(!dP(e))throw wa.create("not-registered");const n=e.authToken;return W5(n)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function U5(t,e){try{const n=await V5(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return await Gf(t.appConfig,r),n}catch(n){if(ZO(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await uP(t.appConfig);else{const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await Gf(t.appConfig,r)}throw n}}function dP(t){return t!==void 0&&t.registrationStatus===2}function B5(t){return t.requestStatus===2&&!H5(t)}function H5(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+m5}function j5(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}function W5(t){return t.requestStatus===1&&t.requestTime+QO<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function q5(t){const e=t,{installationEntry:n,registrationPromise:r}=await X_(e);return r?r.catch(console.error):J_(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function z5(t,e=!1){const n=t;return await K5(n),(await J_(n,e)).token}async function K5(t){const{registrationPromise:e}=await X_(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y5(t){if(!t||!t.options)throw xg("App Configuration");if(!t.name)throw xg("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw xg(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function xg(t){return wa.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hP="installations",G5="installations-internal",Q5=t=>{const e=t.getProvider("app").getImmediate(),n=Y5(e),r=us(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},X5=t=>{const e=t.getProvider("app").getImmediate(),n=us(e,hP).getImmediate();return{getId:()=>q5(n),getToken:i=>z5(n,i)}};function J5(){Qr(new Mr(hP,Q5,"PUBLIC")),Qr(new Mr(G5,X5,"PRIVATE"))}J5();or(GO,G_);or(GO,G_,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qf="analytics",Z5="firebase_id",eV="origin",tV=60*1e3,nV="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Z_="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yr=new yu("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rV={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},si=new Uo("analytics","Analytics",rV);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iV(t){if(!t.startsWith(Z_)){const e=si.create("invalid-gtag-resource",{gtagURL:t});return Yr.warn(e.message),""}return t}function fP(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function sV(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function oV(t,e){const n=sV("firebase-js-sdk-policy",{createScriptURL:iV}),r=document.createElement("script"),i=`${Z_}?l=${t}&id=${e}`;r.src=n?n==null?void 0:n.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}function aV(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function lV(t,e,n,r,i,s){const o=r[i];try{if(o)await e[o];else{const l=(await fP(n)).find(u=>u.measurementId===i);l&&await e[l.appId]}}catch(a){Yr.error(a)}t("config",i,s)}async function uV(t,e,n,r,i){try{let s=[];if(i&&i.send_to){let o=i.send_to;Array.isArray(o)||(o=[o]);const a=await fP(n);for(const l of o){const u=a.find(h=>h.measurementId===l),c=u&&e[u.appId];if(c)s.push(c);else{s=[];break}}}s.length===0&&(s=Object.values(e)),await Promise.all(s),t("event",r,i||{})}catch(s){Yr.error(s)}}function cV(t,e,n,r){async function i(s,...o){try{if(s==="event"){const[a,l]=o;await uV(t,e,n,a,l)}else if(s==="config"){const[a,l]=o;await lV(t,e,n,r,a,l)}else if(s==="consent"){const[a,l]=o;t("consent",a,l)}else if(s==="get"){const[a,l,u]=o;t("get",a,l,u)}else if(s==="set"){const[a]=o;t("set",a)}else t(s,...o)}catch(a){Yr.error(a)}}return i}function dV(t,e,n,r,i){let s=function(...o){window[r].push(arguments)};return window[i]&&typeof window[i]=="function"&&(s=window[i]),window[i]=cV(s,t,e,n),{gtagCore:s,wrappedGtag:window[i]}}function hV(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(Z_)&&n.src.includes(t))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fV=30,pV=1e3;class mV{constructor(e={},n=pV){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const pP=new mV;function gV(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function vV(t){var e;const{appId:n,apiKey:r}=t,i={method:"GET",headers:gV(r)},s=nV.replace("{app-id}",n),o=await fetch(s,i);if(o.status!==200&&o.status!==304){let a="";try{const l=await o.json();!((e=l.error)===null||e===void 0)&&e.message&&(a=l.error.message)}catch{}throw si.create("config-fetch-failed",{httpStatus:o.status,responseMessage:a})}return o.json()}async function yV(t,e=pP,n){const{appId:r,apiKey:i,measurementId:s}=t.options;if(!r)throw si.create("no-app-id");if(!i){if(s)return{measurementId:s,appId:r};throw si.create("no-api-key")}const o=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new wV;return setTimeout(async()=>{a.abort()},n!==void 0?n:tV),mP({appId:r,apiKey:i,measurementId:s},o,a,e)}async function mP(t,{throttleEndTimeMillis:e,backoffCount:n},r,i=pP){var s;const{appId:o,measurementId:a}=t;try{await _V(r,e)}catch(l){if(a)return Yr.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${l==null?void 0:l.message}]`),{appId:o,measurementId:a};throw l}try{const l=await vV(t);return i.deleteThrottleMetadata(o),l}catch(l){const u=l;if(!bV(u)){if(i.deleteThrottleMetadata(o),a)return Yr.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${u==null?void 0:u.message}]`),{appId:o,measurementId:a};throw l}const c=Number((s=u==null?void 0:u.customData)===null||s===void 0?void 0:s.httpStatus)===503?ey(n,i.intervalMillis,fV):ey(n,i.intervalMillis),h={throttleEndTimeMillis:Date.now()+c,backoffCount:n+1};return i.setThrottleMetadata(o,h),Yr.debug(`Calling attemptFetch again in ${c} millis`),mP(t,h,r,i)}}function _V(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(s),r(si.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function bV(t){if(!(t instanceof ai)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class wV{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function TV(t,e,n,r,i){if(i&&i.global){t("event",n,r);return}else{const s=await e,o=Object.assign(Object.assign({},r),{send_to:s});t("event",n,o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function EV(){if(em())try{await BO()}catch(t){return Yr.warn(si.create("indexeddb-unavailable",{errorInfo:t==null?void 0:t.toString()}).message),!1}else return Yr.warn(si.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function IV(t,e,n,r,i,s,o){var a;const l=yV(t);l.then(p=>{n[p.measurementId]=p.appId,t.options.measurementId&&p.measurementId!==t.options.measurementId&&Yr.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${p.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(p=>Yr.error(p)),e.push(l);const u=EV().then(p=>{if(p)return r.getId()}),[c,h]=await Promise.all([l,u]);hV(s)||oV(s,c.measurementId),i("js",new Date);const f=(a=o==null?void 0:o.config)!==null&&a!==void 0?a:{};return f[eV]="firebase",f.update=!0,h!=null&&(f[Z5]=h),i("config",c.measurementId,f),c.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SV{constructor(e){this.app=e}_delete(){return delete Ec[this.app.options.appId],Promise.resolve()}}let Ec={},_T=[];const bT={};let Ng="dataLayer",CV="gtag",wT,gP,TT=!1;function AV(){const t=[];if(FO()&&t.push("This is a browser extension environment."),qL()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,i)=>`(${i+1}) ${r}`).join(" "),n=si.create("invalid-analytics-context",{errorInfo:e});Yr.warn(n.message)}}function OV(t,e,n){AV();const r=t.options.appId;if(!r)throw si.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)Yr.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw si.create("no-api-key");if(Ec[r]!=null)throw si.create("already-exists",{id:r});if(!TT){aV(Ng);const{wrappedGtag:s,gtagCore:o}=dV(Ec,_T,bT,Ng,CV);gP=s,wT=o,TT=!0}return Ec[r]=IV(t,_T,bT,e,wT,Ng,n),new SV(t)}function vP(t=_u()){t=Nt(t);const e=us(t,Qf);return e.isInitialized()?e.getImmediate():PV(t)}function PV(t,e={}){const n=us(t,Qf);if(n.isInitialized()){const i=n.getImmediate();if(ed(e,n.getOptions()))return i;throw si.create("already-initialized")}return n.initialize({options:e})}function yP(t,e,n,r){t=Nt(t),TV(gP,Ec[t.app.options.appId],e,n,r).catch(i=>Yr.error(i))}const ET="@firebase/analytics",IT="0.10.8";function kV(){Qr(new Mr(Qf,(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();return OV(r,i,n)},"PUBLIC")),Qr(new Mr("analytics-internal",t,"PRIVATE")),or(ET,IT),or(ET,IT,"esm2017");function t(e){try{const n=e.getProvider(Qf).getImmediate();return{logEvent:(r,i,s)=>yP(n,r,i,s)}}catch(n){throw si.create("interop-component-reg-failed",{reason:n})}}}kV();var RV="firebase",DV="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */or(RV,DV,"app");/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ay=new Map,_P={activated:!1,tokenObservers:[]},xV={initialized:!1,enabled:!1};function $n(t){return ay.get(t)||Object.assign({},_P)}function NV(t,e){return ay.set(t,e),ay.get(t)}function im(){return xV}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bP="https://content-firebaseappcheck.googleapis.com/v1",MV="exchangeRecaptchaV3Token",LV="exchangeDebugToken",ST={OFFSET_DURATION:5*60*1e3,RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:16*60*1e3},VV=24*60*60*1e3;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FV{constructor(e,n,r,i,s){if(this.operation=e,this.retryPolicy=n,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=s,this.pending=null,this.nextErrorWaitInterval=i,i>s)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}async process(e){this.stop();try{this.pending=new ba,this.pending.promise.catch(n=>{}),await $V(this.getNextRun(e)),this.pending.resolve(),await this.pending.promise,this.pending=new ba,this.pending.promise.catch(n=>{}),await this.operation(),this.pending.resolve(),await this.pending.promise,this.process(!0).catch(()=>{})}catch(n){this.retryPolicy(n)?this.process(!1).catch(()=>{}):this.stop()}}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n}}}function $V(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UV={"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"},qr=new Uo("appCheck","AppCheck",UV);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CT(t=!1){var e;return t?(e=self.grecaptcha)===null||e===void 0?void 0:e.enterprise:self.grecaptcha}function e0(t){if(!$n(t).activated)throw qr.create("use-before-activation",{appName:t.name})}function wP(t){const e=Math.round(t/1e3),n=Math.floor(e/(3600*24)),r=Math.floor((e-n*3600*24)/3600),i=Math.floor((e-n*3600*24-r*3600)/60),s=e-n*3600*24-r*3600-i*60;let o="";return n&&(o+=Fh(n)+"d:"),r&&(o+=Fh(r)+"h:"),o+=Fh(i)+"m:"+Fh(s)+"s",o}function Fh(t){return t===0?"00":t>=10?t.toString():"0"+t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function t0({url:t,body:e},n){const r={"Content-Type":"application/json"},i=n.getImmediate({optional:!0});if(i){const h=await i.getHeartbeatsHeader();h&&(r["X-Firebase-Client"]=h)}const s={method:"POST",body:JSON.stringify(e),headers:r};let o;try{o=await fetch(t,s)}catch(h){throw qr.create("fetch-network-error",{originalErrorMessage:h==null?void 0:h.message})}if(o.status!==200)throw qr.create("fetch-status-error",{httpStatus:o.status});let a;try{a=await o.json()}catch(h){throw qr.create("fetch-parse-error",{originalErrorMessage:h==null?void 0:h.message})}const l=a.ttl.match(/^([\d.]+)(s)$/);if(!l||!l[2]||isNaN(Number(l[1])))throw qr.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${a.ttl}`});const u=Number(l[1])*1e3,c=Date.now();return{token:a.token,expireTimeMillis:c+u,issuedAtTimeMillis:c}}function BV(t,e){const{projectId:n,appId:r,apiKey:i}=t.options;return{url:`${bP}/projects/${n}/apps/${r}:${MV}?key=${i}`,body:{recaptcha_v3_token:e}}}function TP(t,e){const{projectId:n,appId:r,apiKey:i}=t.options;return{url:`${bP}/projects/${n}/apps/${r}:${LV}?key=${i}`,body:{debug_token:e}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HV="firebase-app-check-database",jV=1,nd="firebase-app-check-store",EP="debug-token";let $h=null;function IP(){return $h||($h=new Promise((t,e)=>{try{const n=indexedDB.open(HV,jV);n.onsuccess=r=>{t(r.target.result)},n.onerror=r=>{var i;e(qr.create("storage-open",{originalErrorMessage:(i=r.target.error)===null||i===void 0?void 0:i.message}))},n.onupgradeneeded=r=>{const i=r.target.result;switch(r.oldVersion){case 0:i.createObjectStore(nd,{keyPath:"compositeKey"})}}}catch(n){e(qr.create("storage-open",{originalErrorMessage:n==null?void 0:n.message}))}}),$h)}function WV(t){return CP(AP(t))}function qV(t,e){return SP(AP(t),e)}function zV(t){return SP(EP,t)}function KV(){return CP(EP)}async function SP(t,e){const r=(await IP()).transaction(nd,"readwrite"),s=r.objectStore(nd).put({compositeKey:t,value:e});return new Promise((o,a)=>{s.onsuccess=l=>{o()},r.onerror=l=>{var u;a(qr.create("storage-set",{originalErrorMessage:(u=l.target.error)===null||u===void 0?void 0:u.message}))}})}async function CP(t){const n=(await IP()).transaction(nd,"readonly"),i=n.objectStore(nd).get(t);return new Promise((s,o)=>{i.onsuccess=a=>{const l=a.target.result;s(l?l.value:void 0)},n.onerror=a=>{var l;o(qr.create("storage-get",{originalErrorMessage:(l=a.target.error)===null||l===void 0?void 0:l.message}))}})}function AP(t){return`${t.options.appId}-${t.name}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rd=new yu("@firebase/app-check");/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YV(t){if(em()){let e;try{e=await WV(t)}catch(n){rd.warn(`Failed to read token from IndexedDB. Error: ${n}`)}return e}}function Mg(t,e){return em()?qV(t,e).catch(n=>{rd.warn(`Failed to write token to IndexedDB. Error: ${n}`)}):Promise.resolve()}async function GV(){let t;try{t=await KV()}catch{}if(t)return t;{const e=r6();return zV(e).catch(n=>rd.warn(`Failed to persist debug token to IndexedDB. Error: ${n}`)),e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n0(){return im().enabled}async function r0(){const t=im();if(t.enabled&&t.token)return t.token.promise;throw Error(`
            Can't get debug token in production mode.
        `)}function QV(){const t=DO(),e=im();if(e.initialized=!0,typeof t.FIREBASE_APPCHECK_DEBUG_TOKEN!="string"&&t.FIREBASE_APPCHECK_DEBUG_TOKEN!==!0)return;e.enabled=!0;const n=new ba;e.token=n,typeof t.FIREBASE_APPCHECK_DEBUG_TOKEN=="string"?n.resolve(t.FIREBASE_APPCHECK_DEBUG_TOKEN):n.resolve(GV())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XV={error:"UNKNOWN_ERROR"};function JV(t){return Jp.encodeString(JSON.stringify(t),!1)}async function ly(t,e=!1){const n=t.app;e0(n);const r=$n(n);let i=r.token,s;if(i&&!ml(i)&&(r.token=void 0,i=void 0),!i){const l=await r.cachedTokenPromise;l&&(ml(l)?i=l:await Mg(n,void 0))}if(!e&&i&&ml(i))return{token:i.token};let o=!1;if(n0()){r.exchangeTokenPromise||(r.exchangeTokenPromise=t0(TP(n,await r0()),t.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),o=!0);const l=await r.exchangeTokenPromise;return await Mg(n,l),r.token=l,{token:l.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),o=!0),i=await $n(n).exchangeTokenPromise}catch(l){l.code==="appCheck/throttled"?rd.warn(l.message):rd.error(l),s=l}let a;return i?s?ml(i)?a={token:i.token,internalError:s}:a=OT(s):(a={token:i.token},r.token=i,await Mg(n,i)):a=OT(s),o&&kP(n,a),a}async function ZV(t){const e=t.app;e0(e);const{provider:n}=$n(e);if(n0()){const r=await r0(),{token:i}=await t0(TP(e,r),t.heartbeatServiceProvider);return{token:i}}else{const{token:r}=await n.getToken();return{token:r}}}function OP(t,e,n,r){const{app:i}=t,s=$n(i),o={next:n,error:r,type:e};if(s.tokenObservers=[...s.tokenObservers,o],s.token&&ml(s.token)){const a=s.token;Promise.resolve().then(()=>{n({token:a.token}),AT(t)}).catch(()=>{})}s.cachedTokenPromise.then(()=>AT(t))}function PP(t,e){const n=$n(t),r=n.tokenObservers.filter(i=>i.next!==e);r.length===0&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),n.tokenObservers=r}function AT(t){const{app:e}=t,n=$n(e);let r=n.tokenRefresher;r||(r=e9(t),n.tokenRefresher=r),!r.isRunning()&&n.isTokenAutoRefreshEnabled&&r.start()}function e9(t){const{app:e}=t;return new FV(async()=>{const n=$n(e);let r;if(n.token?r=await ly(t,!0):r=await ly(t),r.error)throw r.error;if(r.internalError)throw r.internalError},()=>!0,()=>{const n=$n(e);if(n.token){let r=n.token.issuedAtTimeMillis+(n.token.expireTimeMillis-n.token.issuedAtTimeMillis)*.5+3e5;const i=n.token.expireTimeMillis-5*60*1e3;return r=Math.min(r,i),Math.max(0,r-Date.now())}else return 0},ST.RETRIAL_MIN_WAIT,ST.RETRIAL_MAX_WAIT)}function kP(t,e){const n=$n(t).tokenObservers;for(const r of n)try{r.type==="EXTERNAL"&&e.error!=null?r.error(e.error):r.next(e)}catch{}}function ml(t){return t.expireTimeMillis-Date.now()>0}function OT(t){return{token:JV(XV),error:t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t9{constructor(e,n){this.app=e,this.heartbeatServiceProvider=n}_delete(){const{tokenObservers:e}=$n(this.app);for(const n of e)PP(this.app,n.next);return Promise.resolve()}}function n9(t,e){return new t9(t,e)}function r9(t){return{getToken:e=>ly(t,e),getLimitedUseToken:()=>ZV(t),addTokenListener:e=>OP(t,"INTERNAL",e),removeTokenListener:e=>PP(t.app,e)}}const i9="@firebase/app-check",s9="0.8.8";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o9="https://www.google.com/recaptcha/api.js";function a9(t,e){const n=new ba,r=$n(t);r.reCAPTCHAState={initialized:n};const i=l9(t),s=CT(!1);return s?PT(t,e,s,i,n):d9(()=>{const o=CT(!1);if(!o)throw new Error("no recaptcha");PT(t,e,o,i,n)}),n.promise}function PT(t,e,n,r,i){n.ready(()=>{c9(t,e,n,r),i.resolve(n)})}function l9(t){const e=`fire_app_check_${t.name}`,n=document.createElement("div");return n.id=e,n.style.display="none",document.body.appendChild(n),e}async function u9(t){e0(t);const n=await $n(t).reCAPTCHAState.initialized.promise;return new Promise((r,i)=>{const s=$n(t).reCAPTCHAState;n.ready(()=>{r(n.execute(s.widgetId,{action:"fire_app_check"}))})})}function c9(t,e,n,r){const i=n.render(r,{sitekey:e,size:"invisible",callback:()=>{$n(t).reCAPTCHAState.succeeded=!0},"error-callback":()=>{$n(t).reCAPTCHAState.succeeded=!1}}),s=$n(t);s.reCAPTCHAState=Object.assign(Object.assign({},s.reCAPTCHAState),{widgetId:i})}function d9(t){const e=document.createElement("script");e.src=o9,e.onload=t,document.head.appendChild(e)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i0{constructor(e){this._siteKey=e,this._throttleData=null}async getToken(){var e,n,r;f9(this._throttleData);const i=await u9(this._app).catch(o=>{throw qr.create("recaptcha-error")});if(!(!((e=$n(this._app).reCAPTCHAState)===null||e===void 0)&&e.succeeded))throw qr.create("recaptcha-error");let s;try{s=await t0(BV(this._app,i),this._heartbeatServiceProvider)}catch(o){throw!((n=o.code)===null||n===void 0)&&n.includes("fetch-status-error")?(this._throttleData=h9(Number((r=o.customData)===null||r===void 0?void 0:r.httpStatus),this._throttleData),qr.create("throttled",{time:wP(this._throttleData.allowRequestsAfter-Date.now()),httpStatus:this._throttleData.httpStatus})):o}return this._throttleData=null,s}initialize(e){this._app=e,this._heartbeatServiceProvider=us(e,"heartbeat"),a9(e,this._siteKey).catch(()=>{})}isEqual(e){return e instanceof i0?this._siteKey===e._siteKey:!1}}function h9(t,e){if(t===404||t===403)return{backoffCount:1,allowRequestsAfter:Date.now()+VV,httpStatus:t};{const n=e?e.backoffCount:0,r=ey(n,1e3,2);return{backoffCount:n+1,allowRequestsAfter:Date.now()+r,httpStatus:t}}}function f9(t){if(t&&Date.now()-t.allowRequestsAfter<=0)throw qr.create("throttled",{time:wP(t.allowRequestsAfter-Date.now()),httpStatus:t.httpStatus})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p9(t=_u(),e){t=Nt(t);const n=us(t,"app-check");if(im().initialized||QV(),n0()&&r0().then(i=>console.log(`App Check debug token: ${i}. You will need to add it to your app's App Check settings in the Firebase console for it to work.`)),n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(s.isTokenAutoRefreshEnabled===e.isTokenAutoRefreshEnabled&&s.provider.isEqual(e.provider))return i;throw qr.create("already-initialized",{appName:t.name})}const r=n.initialize({options:e});return m9(t,e.provider,e.isTokenAutoRefreshEnabled),$n(t).isTokenAutoRefreshEnabled&&OP(r,"INTERNAL",()=>{}),r}function m9(t,e,n){const r=NV(t,Object.assign({},_P));r.activated=!0,r.provider=e,r.cachedTokenPromise=YV(t).then(i=>(i&&ml(i)&&(r.token=i,kP(t,{token:i.token})),i)),r.isTokenAutoRefreshEnabled=n===void 0?t.automaticDataCollectionEnabled:n,r.provider.initialize(t)}const g9="app-check",kT="app-check-internal";function v9(){Qr(new Mr(g9,t=>{const e=t.getProvider("app").getImmediate(),n=t.getProvider("heartbeat");return n9(e,n)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,n)=>{t.getProvider(kT).initialize()})),Qr(new Mr(kT,t=>{const e=t.getProvider("app-check").getImmediate();return r9(e)},"PUBLIC").setInstantiationMode("EXPLICIT")),or(i9,s9)}v9();const y9={apiKey:"AIzaSyAjt3RyE1KkK110jxZQUrm9kjfclWO126k",authDomain:"personal-website-c3482.firebaseapp.com",projectId:"personal-website-c3482",storageBucket:"personal-website-c3482.appspot.com",messagingSenderId:"110986644823",appId:"1:110986644823:web:4081c484521ba6b37bc212",measurementId:"G-PF7D6JKSC3"},_9=t=>{p9(t,{provider:new i0("6LdIOxQpAAAAAKwbiQMkZD5Fid1DmlsKvWxOIQA5"),isTokenAutoRefreshEnabled:!0})},b9=()=>{const t=zO(y9);return _9(t),vP(t),t},RP=b9();var w9=!1;/*!
 * pinia v2.2.6
 * (c) 2024 Eduardo San Martin Morote
 * @license MIT
 */let DP;const sm=t=>DP=t,xP=Symbol();function uy(t){return t&&typeof t=="object"&&Object.prototype.toString.call(t)==="[object Object]"&&typeof t.toJSON!="function"}var Ic;(function(t){t.direct="direct",t.patchObject="patch object",t.patchFunction="patch function"})(Ic||(Ic={}));function T9(){const t=T_(!0),e=t.run(()=>Te({}));let n=[],r=[];const i=P_({install(s){sm(i),i._a=s,s.provide(xP,i),s.config.globalProperties.$pinia=i,r.forEach(o=>n.push(o)),r=[]},use(s){return!this._a&&!w9?r.push(s):n.push(s),this},_p:n,_a:null,_e:t,_s:new Map,state:e});return i}const NP=()=>{};function RT(t,e,n,r=NP){t.push(e);const i=()=>{const s=t.indexOf(e);s>-1&&(t.splice(s,1),r())};return!n&&Bp()&&E_(i),i}function Za(t,...e){t.slice().forEach(n=>{n(...e)})}const E9=t=>t(),DT=Symbol(),Lg=Symbol();function cy(t,e){t instanceof Map&&e instanceof Map?e.forEach((n,r)=>t.set(r,n)):t instanceof Set&&e instanceof Set&&e.forEach(t.add,t);for(const n in e){if(!e.hasOwnProperty(n))continue;const r=e[n],i=t[n];uy(i)&&uy(r)&&t.hasOwnProperty(n)&&!hn(r)&&!ts(r)?t[n]=cy(i,r):t[n]=r}return t}const I9=Symbol();function S9(t){return!uy(t)||!t.hasOwnProperty(I9)}const{assign:ro}=Object;function C9(t){return!!(hn(t)&&t.effect)}function A9(t,e,n,r){const{state:i,actions:s,getters:o}=e,a=n.state.value[t];let l;function u(){a||(n.state.value[t]=i?i():{});const c=h3(n.state.value[t]);return ro(c,s,Object.keys(o||{}).reduce((h,f)=>(h[f]=P_(se(()=>{sm(n);const p=n._s.get(t);return o[f].call(p,p)})),h),{}))}return l=MP(t,u,e,n,r,!0),l}function MP(t,e,n={},r,i,s){let o;const a=ro({actions:{}},n),l={deep:!0};let u,c,h=[],f=[],p;const g=r.state.value[t];!s&&!g&&(r.state.value[t]={}),Te({});let w;function I(E){let b;u=c=!1,typeof E=="function"?(E(r.state.value[t]),b={type:Ic.patchFunction,storeId:t,events:p}):(cy(r.state.value[t],E),b={type:Ic.patchObject,payload:E,storeId:t,events:p});const v=w=Symbol();Kn().then(()=>{w===v&&(u=!0)}),c=!0,Za(h,b,r.state.value[t])}const k=s?function(){const{state:b}=n,v=b?b():{};this.$patch(C=>{ro(C,v)})}:NP;function P(){o.stop(),h=[],f=[],r._s.delete(t)}const T=(E,b="")=>{if(DT in E)return E[Lg]=b,E;const v=function(){sm(r);const C=Array.from(arguments),A=[],O=[];function Y(q){A.push(q)}function U(q){O.push(q)}Za(f,{args:C,name:v[Lg],store:L,after:Y,onError:U});let j;try{j=E.apply(this&&this.$id===t?this:L,C)}catch(q){throw Za(O,q),q}return j instanceof Promise?j.then(q=>(Za(A,q),q)).catch(q=>(Za(O,q),Promise.reject(q))):(Za(A,j),j)};return v[DT]=!0,v[Lg]=b,v},_={_p:r,$id:t,$onAction:RT.bind(null,f),$patch:I,$reset:k,$subscribe(E,b={}){const v=RT(h,E,b.detached,()=>C()),C=o.run(()=>_n(()=>r.state.value[t],A=>{(b.flush==="sync"?c:u)&&E({storeId:t,type:Ic.direct,events:p},A)},ro({},l,b)));return v},$dispose:P},L=_i(_);r._s.set(t,L);const S=(r._a&&r._a.runWithContext||E9)(()=>r._e.run(()=>(o=T_()).run(()=>e({action:T}))));for(const E in S){const b=S[E];if(hn(b)&&!C9(b)||ts(b))s||(g&&S9(b)&&(hn(b)?b.value=g[E]:cy(b,g[E])),r.state.value[t][E]=b);else if(typeof b=="function"){const v=T(b,E);S[E]=v,a.actions[E]=b}}return ro(L,S),ro(_t(L),S),Object.defineProperty(L,"$state",{get:()=>r.state.value[t],set:E=>{I(b=>{ro(b,E)})}}),r._p.forEach(E=>{ro(L,o.run(()=>E({store:L,app:r._a,pinia:r,options:a})))}),g&&s&&n.hydrate&&n.hydrate(L.$state,g),u=!0,c=!0,L}/*! #__NO_SIDE_EFFECTS__ */function om(t,e,n){let r,i;const s=typeof e=="function";typeof t=="string"?(r=t,i=s?n:e):(i=t,r=t.id);function o(a,l){const u=Z3();return a=a||(u?Kr(xP,null):null),a&&sm(a),a=DP,a._s.has(r)||(s?MP(r,e,i,a):A9(r,i,a)),a._s.get(r)}return o.$id=r,o}function Fi(t){{const e=_t(t),n={};for(const r in e){const i=e[r];(hn(i)||ts(i))&&(n[r]=jc(t,r))}return n}}const xT=(t,e)=>{const n=t.storage||sessionStorage,r=t.key||e.$id;if(t.paths){const i=t.paths.reduce((s,o)=>(s[o]=e.$state[o],s),{});n.setItem(r,JSON.stringify(i))}else n.setItem(r,JSON.stringify(e.$state))};var O9=({options:t,store:e})=>{var n,r,i,s;if((n=t.persist)!=null&&n.enabled){const o=[{key:e.$id,storage:sessionStorage}],a=(i=(r=t.persist)==null?void 0:r.strategies)!=null&&i.length?(s=t.persist)==null?void 0:s.strategies:o;a.forEach(l=>{const u=l.storage||sessionStorage,c=l.key||e.$id,h=u.getItem(c);h&&(e.$patch(JSON.parse(h)),xT(l,e))}),e.$subscribe(()=>{a.forEach(l=>{xT(l,e)})})}};const LP=T9();LP.use(O9);const P9="modulepreload",k9=function(t,e){return new URL(t,e).href},NT={},Bi=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){const s=document.getElementsByTagName("link");i=Promise.all(n.map(o=>{if(o=k9(o,r),o in NT)return;NT[o]=!0;const a=o.endsWith(".css"),l=a?'[rel="stylesheet"]':"";if(!!r)for(let h=s.length-1;h>=0;h--){const f=s[h];if(f.href===o&&(!a||f.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${o}"]${l}`))return;const c=document.createElement("link");if(c.rel=a?"stylesheet":P9,a||(c.as="script",c.crossOrigin=""),c.href=o,document.head.appendChild(c),a)return new Promise((h,f)=>{c.addEventListener("load",h),c.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${o}`)))})}))}return i.then(()=>e()).catch(s=>{const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=s,window.dispatchEvent(o),!o.defaultPrevented)throw s})},Zn=class Zn{constructor(e,n,r={},i,s){gs(this,"errorCode");this.errorCode=s,Zn.log(r.debug,n),r.route&&VD.push({name:r.route}),T4({title:i??e,type:e.toLowerCase(),text:n},5e3)}};gs(Zn,"success",(e,n={})=>new Zn("Success",e,n)),gs(Zn,"update",(e,n={})=>new Zn("Warning",e,n,"Update")),gs(Zn,"warning",(e,n={})=>new Zn("Warning",e,n)),gs(Zn,"error",(e,n={})=>new Zn("Error",e,n)),gs(Zn,"generalError",(e,n,r)=>new Zn("Error",(n==null?void 0:n.message)||VP,{debug:e},void 0,r)),gs(Zn,"firebaseError",(e,n)=>{Zn.log(e,n);let r;return n instanceof ai&&Object.keys(Uh).includes(n.code)?(r=n.code,n.message=Uh[r]):n instanceof Error&&Object.keys(Uh).includes(n.name)?(r=n.name,n.message=Uh[r]):n.message=void 0,Zn.generalError(e,n,r)}),gs(Zn,"log",(e,n)=>{e&&console.log(n)});let Le=Zn;const VP="Something went wrong";var FP=(t=>(t.DEFAULT_ERROR="",t.AUTH_USER_NOT_FOUND="auth/user-not-found",t.AUTH_INVALID_EMAIL="auth/invalid-email",t.AUTH_EMAIL_ALREADY_IN_USE="auth/email-already-in-use",t.AUTH_WRONG_PASSWORD="auth/wrong-password",t.AUTH_TOO_MANY_REQUESTS="auth/too-many-requests",t.AUTH_WEAK_PASSWORD="auth/weak-password",t.AUTH_REQUIRES_RECENT_LOGIN="auth/requires-recent-login",t.PERMISSION_DENIED="permission-denied",t))(FP||{});const MT=t=>Object.values(FP).includes(t),Uh={"":VP,"auth/user-not-found":"Unknown user","auth/invalid-email":"Invalid e-mail address","auth/email-already-in-use":"E-mail already in use","auth/wrong-password":"Wrong password","auth/too-many-requests":"Temporarily blocked","auth/weak-password":"Weak password","auth/requires-recent-login":"You need to re-login to do this","permission-denied":"Not logged in or no permission"};var LT=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var da,$P;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(S,E){function b(){}b.prototype=E.prototype,S.D=E.prototype,S.prototype=new b,S.prototype.constructor=S,S.C=function(v,C,A){for(var O=Array(arguments.length-2),Y=2;Y<arguments.length;Y++)O[Y-2]=arguments[Y];return E.prototype[C].apply(v,O)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(S,E,b){b||(b=0);var v=Array(16);if(typeof E=="string")for(var C=0;16>C;++C)v[C]=E.charCodeAt(b++)|E.charCodeAt(b++)<<8|E.charCodeAt(b++)<<16|E.charCodeAt(b++)<<24;else for(C=0;16>C;++C)v[C]=E[b++]|E[b++]<<8|E[b++]<<16|E[b++]<<24;E=S.g[0],b=S.g[1],C=S.g[2];var A=S.g[3],O=E+(A^b&(C^A))+v[0]+3614090360&4294967295;E=b+(O<<7&4294967295|O>>>25),O=A+(C^E&(b^C))+v[1]+3905402710&4294967295,A=E+(O<<12&4294967295|O>>>20),O=C+(b^A&(E^b))+v[2]+606105819&4294967295,C=A+(O<<17&4294967295|O>>>15),O=b+(E^C&(A^E))+v[3]+3250441966&4294967295,b=C+(O<<22&4294967295|O>>>10),O=E+(A^b&(C^A))+v[4]+4118548399&4294967295,E=b+(O<<7&4294967295|O>>>25),O=A+(C^E&(b^C))+v[5]+1200080426&4294967295,A=E+(O<<12&4294967295|O>>>20),O=C+(b^A&(E^b))+v[6]+2821735955&4294967295,C=A+(O<<17&4294967295|O>>>15),O=b+(E^C&(A^E))+v[7]+4249261313&4294967295,b=C+(O<<22&4294967295|O>>>10),O=E+(A^b&(C^A))+v[8]+1770035416&4294967295,E=b+(O<<7&4294967295|O>>>25),O=A+(C^E&(b^C))+v[9]+2336552879&4294967295,A=E+(O<<12&4294967295|O>>>20),O=C+(b^A&(E^b))+v[10]+4294925233&4294967295,C=A+(O<<17&4294967295|O>>>15),O=b+(E^C&(A^E))+v[11]+2304563134&4294967295,b=C+(O<<22&4294967295|O>>>10),O=E+(A^b&(C^A))+v[12]+1804603682&4294967295,E=b+(O<<7&4294967295|O>>>25),O=A+(C^E&(b^C))+v[13]+4254626195&4294967295,A=E+(O<<12&4294967295|O>>>20),O=C+(b^A&(E^b))+v[14]+2792965006&4294967295,C=A+(O<<17&4294967295|O>>>15),O=b+(E^C&(A^E))+v[15]+1236535329&4294967295,b=C+(O<<22&4294967295|O>>>10),O=E+(C^A&(b^C))+v[1]+4129170786&4294967295,E=b+(O<<5&4294967295|O>>>27),O=A+(b^C&(E^b))+v[6]+3225465664&4294967295,A=E+(O<<9&4294967295|O>>>23),O=C+(E^b&(A^E))+v[11]+643717713&4294967295,C=A+(O<<14&4294967295|O>>>18),O=b+(A^E&(C^A))+v[0]+3921069994&4294967295,b=C+(O<<20&4294967295|O>>>12),O=E+(C^A&(b^C))+v[5]+3593408605&4294967295,E=b+(O<<5&4294967295|O>>>27),O=A+(b^C&(E^b))+v[10]+38016083&4294967295,A=E+(O<<9&4294967295|O>>>23),O=C+(E^b&(A^E))+v[15]+3634488961&4294967295,C=A+(O<<14&4294967295|O>>>18),O=b+(A^E&(C^A))+v[4]+3889429448&4294967295,b=C+(O<<20&4294967295|O>>>12),O=E+(C^A&(b^C))+v[9]+568446438&4294967295,E=b+(O<<5&4294967295|O>>>27),O=A+(b^C&(E^b))+v[14]+3275163606&4294967295,A=E+(O<<9&4294967295|O>>>23),O=C+(E^b&(A^E))+v[3]+4107603335&4294967295,C=A+(O<<14&4294967295|O>>>18),O=b+(A^E&(C^A))+v[8]+1163531501&4294967295,b=C+(O<<20&4294967295|O>>>12),O=E+(C^A&(b^C))+v[13]+2850285829&4294967295,E=b+(O<<5&4294967295|O>>>27),O=A+(b^C&(E^b))+v[2]+4243563512&4294967295,A=E+(O<<9&4294967295|O>>>23),O=C+(E^b&(A^E))+v[7]+1735328473&4294967295,C=A+(O<<14&4294967295|O>>>18),O=b+(A^E&(C^A))+v[12]+2368359562&4294967295,b=C+(O<<20&4294967295|O>>>12),O=E+(b^C^A)+v[5]+4294588738&4294967295,E=b+(O<<4&4294967295|O>>>28),O=A+(E^b^C)+v[8]+2272392833&4294967295,A=E+(O<<11&4294967295|O>>>21),O=C+(A^E^b)+v[11]+1839030562&4294967295,C=A+(O<<16&4294967295|O>>>16),O=b+(C^A^E)+v[14]+4259657740&4294967295,b=C+(O<<23&4294967295|O>>>9),O=E+(b^C^A)+v[1]+2763975236&4294967295,E=b+(O<<4&4294967295|O>>>28),O=A+(E^b^C)+v[4]+1272893353&4294967295,A=E+(O<<11&4294967295|O>>>21),O=C+(A^E^b)+v[7]+4139469664&4294967295,C=A+(O<<16&4294967295|O>>>16),O=b+(C^A^E)+v[10]+3200236656&4294967295,b=C+(O<<23&4294967295|O>>>9),O=E+(b^C^A)+v[13]+681279174&4294967295,E=b+(O<<4&4294967295|O>>>28),O=A+(E^b^C)+v[0]+3936430074&4294967295,A=E+(O<<11&4294967295|O>>>21),O=C+(A^E^b)+v[3]+3572445317&4294967295,C=A+(O<<16&4294967295|O>>>16),O=b+(C^A^E)+v[6]+76029189&4294967295,b=C+(O<<23&4294967295|O>>>9),O=E+(b^C^A)+v[9]+3654602809&4294967295,E=b+(O<<4&4294967295|O>>>28),O=A+(E^b^C)+v[12]+3873151461&4294967295,A=E+(O<<11&4294967295|O>>>21),O=C+(A^E^b)+v[15]+530742520&4294967295,C=A+(O<<16&4294967295|O>>>16),O=b+(C^A^E)+v[2]+3299628645&4294967295,b=C+(O<<23&4294967295|O>>>9),O=E+(C^(b|~A))+v[0]+4096336452&4294967295,E=b+(O<<6&4294967295|O>>>26),O=A+(b^(E|~C))+v[7]+1126891415&4294967295,A=E+(O<<10&4294967295|O>>>22),O=C+(E^(A|~b))+v[14]+2878612391&4294967295,C=A+(O<<15&4294967295|O>>>17),O=b+(A^(C|~E))+v[5]+4237533241&4294967295,b=C+(O<<21&4294967295|O>>>11),O=E+(C^(b|~A))+v[12]+1700485571&4294967295,E=b+(O<<6&4294967295|O>>>26),O=A+(b^(E|~C))+v[3]+2399980690&4294967295,A=E+(O<<10&4294967295|O>>>22),O=C+(E^(A|~b))+v[10]+4293915773&4294967295,C=A+(O<<15&4294967295|O>>>17),O=b+(A^(C|~E))+v[1]+2240044497&4294967295,b=C+(O<<21&4294967295|O>>>11),O=E+(C^(b|~A))+v[8]+1873313359&4294967295,E=b+(O<<6&4294967295|O>>>26),O=A+(b^(E|~C))+v[15]+4264355552&4294967295,A=E+(O<<10&4294967295|O>>>22),O=C+(E^(A|~b))+v[6]+2734768916&4294967295,C=A+(O<<15&4294967295|O>>>17),O=b+(A^(C|~E))+v[13]+1309151649&4294967295,b=C+(O<<21&4294967295|O>>>11),O=E+(C^(b|~A))+v[4]+4149444226&4294967295,E=b+(O<<6&4294967295|O>>>26),O=A+(b^(E|~C))+v[11]+3174756917&4294967295,A=E+(O<<10&4294967295|O>>>22),O=C+(E^(A|~b))+v[2]+718787259&4294967295,C=A+(O<<15&4294967295|O>>>17),O=b+(A^(C|~E))+v[9]+3951481745&4294967295,S.g[0]=S.g[0]+E&4294967295,S.g[1]=S.g[1]+(C+(O<<21&4294967295|O>>>11))&4294967295,S.g[2]=S.g[2]+C&4294967295,S.g[3]=S.g[3]+A&4294967295}r.prototype.u=function(S,E){E===void 0&&(E=S.length);for(var b=E-this.blockSize,v=this.B,C=this.h,A=0;A<E;){if(C==0)for(;A<=b;)i(this,S,A),A+=this.blockSize;if(typeof S=="string"){for(;A<E;)if(v[C++]=S.charCodeAt(A++),C==this.blockSize){i(this,v),C=0;break}}else for(;A<E;)if(v[C++]=S[A++],C==this.blockSize){i(this,v),C=0;break}}this.h=C,this.o+=E},r.prototype.v=function(){var S=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);S[0]=128;for(var E=1;E<S.length-8;++E)S[E]=0;var b=8*this.o;for(E=S.length-8;E<S.length;++E)S[E]=b&255,b/=256;for(this.u(S),S=Array(16),E=b=0;4>E;++E)for(var v=0;32>v;v+=8)S[b++]=this.g[E]>>>v&255;return S};function s(S,E){var b=a;return Object.prototype.hasOwnProperty.call(b,S)?b[S]:b[S]=E(S)}function o(S,E){this.h=E;for(var b=[],v=!0,C=S.length-1;0<=C;C--){var A=S[C]|0;v&&A==E||(b[C]=A,v=!1)}this.g=b}var a={};function l(S){return-128<=S&&128>S?s(S,function(E){return new o([E|0],0>E?-1:0)}):new o([S|0],0>S?-1:0)}function u(S){if(isNaN(S)||!isFinite(S))return h;if(0>S)return I(u(-S));for(var E=[],b=1,v=0;S>=b;v++)E[v]=S/b|0,b*=4294967296;return new o(E,0)}function c(S,E){if(S.length==0)throw Error("number format error: empty string");if(E=E||10,2>E||36<E)throw Error("radix out of range: "+E);if(S.charAt(0)=="-")return I(c(S.substring(1),E));if(0<=S.indexOf("-"))throw Error('number format error: interior "-" character');for(var b=u(Math.pow(E,8)),v=h,C=0;C<S.length;C+=8){var A=Math.min(8,S.length-C),O=parseInt(S.substring(C,C+A),E);8>A?(A=u(Math.pow(E,A)),v=v.j(A).add(u(O))):(v=v.j(b),v=v.add(u(O)))}return v}var h=l(0),f=l(1),p=l(16777216);t=o.prototype,t.m=function(){if(w(this))return-I(this).m();for(var S=0,E=1,b=0;b<this.g.length;b++){var v=this.i(b);S+=(0<=v?v:4294967296+v)*E,E*=4294967296}return S},t.toString=function(S){if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(g(this))return"0";if(w(this))return"-"+I(this).toString(S);for(var E=u(Math.pow(S,6)),b=this,v="";;){var C=_(b,E).g;b=k(b,C.j(E));var A=((0<b.g.length?b.g[0]:b.h)>>>0).toString(S);if(b=C,g(b))return A+v;for(;6>A.length;)A="0"+A;v=A+v}},t.i=function(S){return 0>S?0:S<this.g.length?this.g[S]:this.h};function g(S){if(S.h!=0)return!1;for(var E=0;E<S.g.length;E++)if(S.g[E]!=0)return!1;return!0}function w(S){return S.h==-1}t.l=function(S){return S=k(this,S),w(S)?-1:g(S)?0:1};function I(S){for(var E=S.g.length,b=[],v=0;v<E;v++)b[v]=~S.g[v];return new o(b,~S.h).add(f)}t.abs=function(){return w(this)?I(this):this},t.add=function(S){for(var E=Math.max(this.g.length,S.g.length),b=[],v=0,C=0;C<=E;C++){var A=v+(this.i(C)&65535)+(S.i(C)&65535),O=(A>>>16)+(this.i(C)>>>16)+(S.i(C)>>>16);v=O>>>16,A&=65535,O&=65535,b[C]=O<<16|A}return new o(b,b[b.length-1]&-2147483648?-1:0)};function k(S,E){return S.add(I(E))}t.j=function(S){if(g(this)||g(S))return h;if(w(this))return w(S)?I(this).j(I(S)):I(I(this).j(S));if(w(S))return I(this.j(I(S)));if(0>this.l(p)&&0>S.l(p))return u(this.m()*S.m());for(var E=this.g.length+S.g.length,b=[],v=0;v<2*E;v++)b[v]=0;for(v=0;v<this.g.length;v++)for(var C=0;C<S.g.length;C++){var A=this.i(v)>>>16,O=this.i(v)&65535,Y=S.i(C)>>>16,U=S.i(C)&65535;b[2*v+2*C]+=O*U,P(b,2*v+2*C),b[2*v+2*C+1]+=A*U,P(b,2*v+2*C+1),b[2*v+2*C+1]+=O*Y,P(b,2*v+2*C+1),b[2*v+2*C+2]+=A*Y,P(b,2*v+2*C+2)}for(v=0;v<E;v++)b[v]=b[2*v+1]<<16|b[2*v];for(v=E;v<2*E;v++)b[v]=0;return new o(b,0)};function P(S,E){for(;(S[E]&65535)!=S[E];)S[E+1]+=S[E]>>>16,S[E]&=65535,E++}function T(S,E){this.g=S,this.h=E}function _(S,E){if(g(E))throw Error("division by zero");if(g(S))return new T(h,h);if(w(S))return E=_(I(S),E),new T(I(E.g),I(E.h));if(w(E))return E=_(S,I(E)),new T(I(E.g),E.h);if(30<S.g.length){if(w(S)||w(E))throw Error("slowDivide_ only works with positive integers.");for(var b=f,v=E;0>=v.l(S);)b=L(b),v=L(v);var C=V(b,1),A=V(v,1);for(v=V(v,2),b=V(b,2);!g(v);){var O=A.add(v);0>=O.l(S)&&(C=C.add(b),A=O),v=V(v,1),b=V(b,1)}return E=k(S,C.j(E)),new T(C,E)}for(C=h;0<=S.l(E);){for(b=Math.max(1,Math.floor(S.m()/E.m())),v=Math.ceil(Math.log(b)/Math.LN2),v=48>=v?1:Math.pow(2,v-48),A=u(b),O=A.j(E);w(O)||0<O.l(S);)b-=v,A=u(b),O=A.j(E);g(A)&&(A=f),C=C.add(A),S=k(S,O)}return new T(C,S)}t.A=function(S){return _(this,S).h},t.and=function(S){for(var E=Math.max(this.g.length,S.g.length),b=[],v=0;v<E;v++)b[v]=this.i(v)&S.i(v);return new o(b,this.h&S.h)},t.or=function(S){for(var E=Math.max(this.g.length,S.g.length),b=[],v=0;v<E;v++)b[v]=this.i(v)|S.i(v);return new o(b,this.h|S.h)},t.xor=function(S){for(var E=Math.max(this.g.length,S.g.length),b=[],v=0;v<E;v++)b[v]=this.i(v)^S.i(v);return new o(b,this.h^S.h)};function L(S){for(var E=S.g.length+1,b=[],v=0;v<E;v++)b[v]=S.i(v)<<1|S.i(v-1)>>>31;return new o(b,S.h)}function V(S,E){var b=E>>5;E%=32;for(var v=S.g.length-b,C=[],A=0;A<v;A++)C[A]=0<E?S.i(A+b)>>>E|S.i(A+b+1)<<32-E:S.i(A+b);return new o(C,S.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,$P=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=u,o.fromString=c,da=o}).apply(typeof LT<"u"?LT:typeof self<"u"?self:typeof window<"u"?window:{});var Bh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var UP,ac,BP,ff,dy,HP,jP,WP;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(d,m,y){return d==Array.prototype||d==Object.prototype||(d[m]=y.value),d};function n(d){d=[typeof globalThis=="object"&&globalThis,d,typeof window=="object"&&window,typeof self=="object"&&self,typeof Bh=="object"&&Bh];for(var m=0;m<d.length;++m){var y=d[m];if(y&&y.Math==Math)return y}throw Error("Cannot find global object")}var r=n(this);function i(d,m){if(m)e:{var y=r;d=d.split(".");for(var N=0;N<d.length-1;N++){var Z=d[N];if(!(Z in y))break e;y=y[Z]}d=d[d.length-1],N=y[d],m=m(N),m!=N&&m!=null&&e(y,d,{configurable:!0,writable:!0,value:m})}}function s(d,m){d instanceof String&&(d+="");var y=0,N=!1,Z={next:function(){if(!N&&y<d.length){var ie=y++;return{value:m(ie,d[ie]),done:!1}}return N=!0,{done:!0,value:void 0}}};return Z[Symbol.iterator]=function(){return Z},Z}i("Array.prototype.values",function(d){return d||function(){return s(this,function(m,y){return y})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function l(d){var m=typeof d;return m=m!="object"?m:d?Array.isArray(d)?"array":m:"null",m=="array"||m=="object"&&typeof d.length=="number"}function u(d){var m=typeof d;return m=="object"&&d!=null||m=="function"}function c(d,m,y){return d.call.apply(d.bind,arguments)}function h(d,m,y){if(!d)throw Error();if(2<arguments.length){var N=Array.prototype.slice.call(arguments,2);return function(){var Z=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(Z,N),d.apply(m,Z)}}return function(){return d.apply(m,arguments)}}function f(d,m,y){return f=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?c:h,f.apply(null,arguments)}function p(d,m){var y=Array.prototype.slice.call(arguments,1);return function(){var N=y.slice();return N.push.apply(N,arguments),d.apply(this,N)}}function g(d,m){function y(){}y.prototype=m.prototype,d.aa=m.prototype,d.prototype=new y,d.prototype.constructor=d,d.Qb=function(N,Z,ie){for(var Pe=Array(arguments.length-2),Yt=2;Yt<arguments.length;Yt++)Pe[Yt-2]=arguments[Yt];return m.prototype[Z].apply(N,Pe)}}function w(d){const m=d.length;if(0<m){const y=Array(m);for(let N=0;N<m;N++)y[N]=d[N];return y}return[]}function I(d,m){for(let y=1;y<arguments.length;y++){const N=arguments[y];if(l(N)){const Z=d.length||0,ie=N.length||0;d.length=Z+ie;for(let Pe=0;Pe<ie;Pe++)d[Z+Pe]=N[Pe]}else d.push(N)}}class k{constructor(m,y){this.i=m,this.j=y,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function P(d){return/^[\s\xa0]*$/.test(d)}function T(){var d=a.navigator;return d&&(d=d.userAgent)?d:""}function _(d){return _[" "](d),d}_[" "]=function(){};var L=T().indexOf("Gecko")!=-1&&!(T().toLowerCase().indexOf("webkit")!=-1&&T().indexOf("Edge")==-1)&&!(T().indexOf("Trident")!=-1||T().indexOf("MSIE")!=-1)&&T().indexOf("Edge")==-1;function V(d,m,y){for(const N in d)m.call(y,d[N],N,d)}function S(d,m){for(const y in d)m.call(void 0,d[y],y,d)}function E(d){const m={};for(const y in d)m[y]=d[y];return m}const b="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function v(d,m){let y,N;for(let Z=1;Z<arguments.length;Z++){N=arguments[Z];for(y in N)d[y]=N[y];for(let ie=0;ie<b.length;ie++)y=b[ie],Object.prototype.hasOwnProperty.call(N,y)&&(d[y]=N[y])}}function C(d){var m=1;d=d.split(":");const y=[];for(;0<m&&d.length;)y.push(d.shift()),m--;return d.length&&y.push(d.join(":")),y}function A(d){a.setTimeout(()=>{throw d},0)}function O(){var d=$;let m=null;return d.g&&(m=d.g,d.g=d.g.next,d.g||(d.h=null),m.next=null),m}class Y{constructor(){this.h=this.g=null}add(m,y){const N=U.get();N.set(m,y),this.h?this.h.next=N:this.g=N,this.h=N}}var U=new k(()=>new j,d=>d.reset());class j{constructor(){this.next=this.g=this.h=null}set(m,y){this.h=m,this.g=y,this.next=null}reset(){this.next=this.g=this.h=null}}let q,X=!1,$=new Y,x=()=>{const d=a.Promise.resolve(void 0);q=()=>{d.then(te)}};var te=()=>{for(var d;d=O();){try{d.h.call(d.g)}catch(y){A(y)}var m=U;m.j(d),100>m.h&&(m.h++,d.next=m.g,m.g=d)}X=!1};function ee(){this.s=this.s,this.C=this.C}ee.prototype.s=!1,ee.prototype.ma=function(){this.s||(this.s=!0,this.N())},ee.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function he(d,m){this.type=d,this.g=this.target=m,this.defaultPrevented=!1}he.prototype.h=function(){this.defaultPrevented=!0};var ge=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var d=!1,m=Object.defineProperty({},"passive",{get:function(){d=!0}});try{const y=()=>{};a.addEventListener("test",y,m),a.removeEventListener("test",y,m)}catch{}return d}();function Q(d,m){if(he.call(this,d?d.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,d){var y=this.type=d.type,N=d.changedTouches&&d.changedTouches.length?d.changedTouches[0]:null;if(this.target=d.target||d.srcElement,this.g=m,m=d.relatedTarget){if(L){e:{try{_(m.nodeName);var Z=!0;break e}catch{}Z=!1}Z||(m=null)}}else y=="mouseover"?m=d.fromElement:y=="mouseout"&&(m=d.toElement);this.relatedTarget=m,N?(this.clientX=N.clientX!==void 0?N.clientX:N.pageX,this.clientY=N.clientY!==void 0?N.clientY:N.pageY,this.screenX=N.screenX||0,this.screenY=N.screenY||0):(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0),this.button=d.button,this.key=d.key||"",this.ctrlKey=d.ctrlKey,this.altKey=d.altKey,this.shiftKey=d.shiftKey,this.metaKey=d.metaKey,this.pointerId=d.pointerId||0,this.pointerType=typeof d.pointerType=="string"?d.pointerType:B[d.pointerType]||"",this.state=d.state,this.i=d,d.defaultPrevented&&Q.aa.h.call(this)}}g(Q,he);var B={2:"touch",3:"pen",4:"mouse"};Q.prototype.h=function(){Q.aa.h.call(this);var d=this.i;d.preventDefault?d.preventDefault():d.returnValue=!1};var G="closure_listenable_"+(1e6*Math.random()|0),oe=0;function J(d,m,y,N,Z){this.listener=d,this.proxy=null,this.src=m,this.type=y,this.capture=!!N,this.ha=Z,this.key=++oe,this.da=this.fa=!1}function fe(d){d.da=!0,d.listener=null,d.proxy=null,d.src=null,d.ha=null}function be(d){this.src=d,this.g={},this.h=0}be.prototype.add=function(d,m,y,N,Z){var ie=d.toString();d=this.g[ie],d||(d=this.g[ie]=[],this.h++);var Pe=D(d,m,N,Z);return-1<Pe?(m=d[Pe],y||(m.fa=!1)):(m=new J(m,this.src,ie,!!N,Z),m.fa=y,d.push(m)),m};function re(d,m){var y=m.type;if(y in d.g){var N=d.g[y],Z=Array.prototype.indexOf.call(N,m,void 0),ie;(ie=0<=Z)&&Array.prototype.splice.call(N,Z,1),ie&&(fe(m),d.g[y].length==0&&(delete d.g[y],d.h--))}}function D(d,m,y,N){for(var Z=0;Z<d.length;++Z){var ie=d[Z];if(!ie.da&&ie.listener==m&&ie.capture==!!y&&ie.ha==N)return Z}return-1}var F="closure_lm_"+(1e6*Math.random()|0),H={};function le(d,m,y,N,Z){if(N&&N.once)return Ae(d,m,y,N,Z);if(Array.isArray(m)){for(var ie=0;ie<m.length;ie++)le(d,m[ie],y,N,Z);return null}return y=Ze(y),d&&d[G]?d.K(m,y,u(N)?!!N.capture:!!N,Z):ae(d,m,y,!1,N,Z)}function ae(d,m,y,N,Z,ie){if(!m)throw Error("Invalid event type");var Pe=u(Z)?!!Z.capture:!!Z,Yt=Ce(d);if(Yt||(d[F]=Yt=new be(d)),y=Yt.add(m,y,N,Pe,ie),y.proxy)return y;if(N=me(),y.proxy=N,N.src=d,N.listener=y,d.addEventListener)ge||(Z=Pe),Z===void 0&&(Z=!1),d.addEventListener(m.toString(),N,Z);else if(d.attachEvent)d.attachEvent(ve(m.toString()),N);else if(d.addListener&&d.removeListener)d.addListener(N);else throw Error("addEventListener and attachEvent are unavailable.");return y}function me(){function d(y){return m.call(d.src,d.listener,y)}const m=Ye;return d}function Ae(d,m,y,N,Z){if(Array.isArray(m)){for(var ie=0;ie<m.length;ie++)Ae(d,m[ie],y,N,Z);return null}return y=Ze(y),d&&d[G]?d.L(m,y,u(N)?!!N.capture:!!N,Z):ae(d,m,y,!0,N,Z)}function Se(d,m,y,N,Z){if(Array.isArray(m))for(var ie=0;ie<m.length;ie++)Se(d,m[ie],y,N,Z);else N=u(N)?!!N.capture:!!N,y=Ze(y),d&&d[G]?(d=d.i,m=String(m).toString(),m in d.g&&(ie=d.g[m],y=D(ie,y,N,Z),-1<y&&(fe(ie[y]),Array.prototype.splice.call(ie,y,1),ie.length==0&&(delete d.g[m],d.h--)))):d&&(d=Ce(d))&&(m=d.g[m.toString()],d=-1,m&&(d=D(m,y,N,Z)),(y=-1<d?m[d]:null)&&Ie(y))}function Ie(d){if(typeof d!="number"&&d&&!d.da){var m=d.src;if(m&&m[G])re(m.i,d);else{var y=d.type,N=d.proxy;m.removeEventListener?m.removeEventListener(y,N,d.capture):m.detachEvent?m.detachEvent(ve(y),N):m.addListener&&m.removeListener&&m.removeListener(N),(y=Ce(m))?(re(y,d),y.h==0&&(y.src=null,m[F]=null)):fe(d)}}}function ve(d){return d in H?H[d]:H[d]="on"+d}function Ye(d,m){if(d.da)d=!0;else{m=new Q(m,this);var y=d.listener,N=d.ha||d.src;d.fa&&Ie(d),d=y.call(N,m)}return d}function Ce(d){return d=d[F],d instanceof be?d:null}var je="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ze(d){return typeof d=="function"?d:(d[je]||(d[je]=function(m){return d.handleEvent(m)}),d[je])}function Xe(){ee.call(this),this.i=new be(this),this.M=this,this.F=null}g(Xe,ee),Xe.prototype[G]=!0,Xe.prototype.removeEventListener=function(d,m,y,N){Se(this,d,m,y,N)};function z(d,m){var y,N=d.F;if(N)for(y=[];N;N=N.F)y.push(N);if(d=d.M,N=m.type||m,typeof m=="string")m=new he(m,d);else if(m instanceof he)m.target=m.target||d;else{var Z=m;m=new he(N,d),v(m,Z)}if(Z=!0,y)for(var ie=y.length-1;0<=ie;ie--){var Pe=m.g=y[ie];Z=ue(Pe,N,!0,m)&&Z}if(Pe=m.g=d,Z=ue(Pe,N,!0,m)&&Z,Z=ue(Pe,N,!1,m)&&Z,y)for(ie=0;ie<y.length;ie++)Pe=m.g=y[ie],Z=ue(Pe,N,!1,m)&&Z}Xe.prototype.N=function(){if(Xe.aa.N.call(this),this.i){var d=this.i,m;for(m in d.g){for(var y=d.g[m],N=0;N<y.length;N++)fe(y[N]);delete d.g[m],d.h--}}this.F=null},Xe.prototype.K=function(d,m,y,N){return this.i.add(String(d),m,!1,y,N)},Xe.prototype.L=function(d,m,y,N){return this.i.add(String(d),m,!0,y,N)};function ue(d,m,y,N){if(m=d.i.g[String(m)],!m)return!0;m=m.concat();for(var Z=!0,ie=0;ie<m.length;++ie){var Pe=m[ie];if(Pe&&!Pe.da&&Pe.capture==y){var Yt=Pe.listener,Qn=Pe.ha||Pe.src;Pe.fa&&re(d.i,Pe),Z=Yt.call(Qn,N)!==!1&&Z}}return Z&&!N.defaultPrevented}function Fe(d,m,y){if(typeof d=="function")y&&(d=f(d,y));else if(d&&typeof d.handleEvent=="function")d=f(d.handleEvent,d);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:a.setTimeout(d,m||0)}function Ge(d){d.g=Fe(()=>{d.g=null,d.i&&(d.i=!1,Ge(d))},d.l);const m=d.h;d.h=null,d.m.apply(null,m)}class pt extends ee{constructor(m,y){super(),this.m=m,this.l=y,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Ge(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Bt(d){ee.call(this),this.h=d,this.g={}}g(Bt,ee);var Yn=[];function Re(d){V(d.g,function(m,y){this.g.hasOwnProperty(y)&&Ie(m)},d),d.g={}}Bt.prototype.N=function(){Bt.aa.N.call(this),Re(this)},Bt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ze=a.JSON.stringify,Ke=a.JSON.parse,Gn=class{stringify(d){return a.JSON.stringify(d,void 0)}parse(d){return a.JSON.parse(d,void 0)}};function Jr(){}Jr.prototype.h=null;function za(d){return d.h||(d.h=d.i())}function d1(){}var Ou={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Xm(){he.call(this,"d")}g(Xm,he);function Jm(){he.call(this,"c")}g(Jm,he);var qo={},h1=null;function fh(){return h1=h1||new Xe}qo.La="serverreachability";function f1(d){he.call(this,qo.La,d)}g(f1,he);function Pu(d){const m=fh();z(m,new f1(m))}qo.STAT_EVENT="statevent";function p1(d,m){he.call(this,qo.STAT_EVENT,d),this.stat=m}g(p1,he);function Ar(d){const m=fh();z(m,new p1(m,d))}qo.Ma="timingevent";function m1(d,m){he.call(this,qo.Ma,d),this.size=m}g(m1,he);function ku(d,m){if(typeof d!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){d()},m)}function Ru(){this.g=!0}Ru.prototype.xa=function(){this.g=!1};function rN(d,m,y,N,Z,ie){d.info(function(){if(d.g)if(ie)for(var Pe="",Yt=ie.split("&"),Qn=0;Qn<Yt.length;Qn++){var Rt=Yt[Qn].split("=");if(1<Rt.length){var ur=Rt[0];Rt=Rt[1];var cr=ur.split("_");Pe=2<=cr.length&&cr[1]=="type"?Pe+(ur+"="+Rt+"&"):Pe+(ur+"=redacted&")}}else Pe=null;else Pe=ie;return"XMLHTTP REQ ("+N+") [attempt "+Z+"]: "+m+`
`+y+`
`+Pe})}function iN(d,m,y,N,Z,ie,Pe){d.info(function(){return"XMLHTTP RESP ("+N+") [ attempt "+Z+"]: "+m+`
`+y+`
`+ie+" "+Pe})}function Ka(d,m,y,N){d.info(function(){return"XMLHTTP TEXT ("+m+"): "+oN(d,y)+(N?" "+N:"")})}function sN(d,m){d.info(function(){return"TIMEOUT: "+m})}Ru.prototype.info=function(){};function oN(d,m){if(!d.g)return m;if(!m)return null;try{var y=JSON.parse(m);if(y){for(d=0;d<y.length;d++)if(Array.isArray(y[d])){var N=y[d];if(!(2>N.length)){var Z=N[1];if(Array.isArray(Z)&&!(1>Z.length)){var ie=Z[0];if(ie!="noop"&&ie!="stop"&&ie!="close")for(var Pe=1;Pe<Z.length;Pe++)Z[Pe]=""}}}}return ze(y)}catch{return m}}var ph={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},g1={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Zm;function mh(){}g(mh,Jr),mh.prototype.g=function(){return new XMLHttpRequest},mh.prototype.i=function(){return{}},Zm=new mh;function Ws(d,m,y,N){this.j=d,this.i=m,this.l=y,this.R=N||1,this.U=new Bt(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new v1}function v1(){this.i=null,this.g="",this.h=!1}var y1={},eg={};function tg(d,m,y){d.L=1,d.v=_h(ps(m)),d.m=y,d.P=!0,_1(d,null)}function _1(d,m){d.F=Date.now(),gh(d),d.A=ps(d.v);var y=d.A,N=d.R;Array.isArray(N)||(N=[String(N)]),x1(y.i,"t",N),d.C=0,y=d.j.J,d.h=new v1,d.g=X1(d.j,y?m:null,!d.m),0<d.O&&(d.M=new pt(f(d.Y,d,d.g),d.O)),m=d.U,y=d.g,N=d.ca;var Z="readystatechange";Array.isArray(Z)||(Z&&(Yn[0]=Z.toString()),Z=Yn);for(var ie=0;ie<Z.length;ie++){var Pe=le(y,Z[ie],N||m.handleEvent,!1,m.h||m);if(!Pe)break;m.g[Pe.key]=Pe}m=d.H?E(d.H):{},d.m?(d.u||(d.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",d.g.ea(d.A,d.u,d.m,m)):(d.u="GET",d.g.ea(d.A,d.u,null,m)),Pu(),rN(d.i,d.u,d.A,d.l,d.R,d.m)}Ws.prototype.ca=function(d){d=d.target;const m=this.M;m&&ms(d)==3?m.j():this.Y(d)},Ws.prototype.Y=function(d){try{if(d==this.g)e:{const cr=ms(this.g);var m=this.g.Ba();const Qa=this.g.Z();if(!(3>cr)&&(cr!=3||this.g&&(this.h.h||this.g.oa()||U1(this.g)))){this.J||cr!=4||m==7||(m==8||0>=Qa?Pu(3):Pu(2)),ng(this);var y=this.g.Z();this.X=y;t:if(b1(this)){var N=U1(this.g);d="";var Z=N.length,ie=ms(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){zo(this),Du(this);var Pe="";break t}this.h.i=new a.TextDecoder}for(m=0;m<Z;m++)this.h.h=!0,d+=this.h.i.decode(N[m],{stream:!(ie&&m==Z-1)});N.length=0,this.h.g+=d,this.C=0,Pe=this.h.g}else Pe=this.g.oa();if(this.o=y==200,iN(this.i,this.u,this.A,this.l,this.R,cr,y),this.o){if(this.T&&!this.K){t:{if(this.g){var Yt,Qn=this.g;if((Yt=Qn.g?Qn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!P(Yt)){var Rt=Yt;break t}}Rt=null}if(y=Rt)Ka(this.i,this.l,y,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,rg(this,y);else{this.o=!1,this.s=3,Ar(12),zo(this),Du(this);break e}}if(this.P){y=!0;let wi;for(;!this.J&&this.C<Pe.length;)if(wi=aN(this,Pe),wi==eg){cr==4&&(this.s=4,Ar(14),y=!1),Ka(this.i,this.l,null,"[Incomplete Response]");break}else if(wi==y1){this.s=4,Ar(15),Ka(this.i,this.l,Pe,"[Invalid Chunk]"),y=!1;break}else Ka(this.i,this.l,wi,null),rg(this,wi);if(b1(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),cr!=4||Pe.length!=0||this.h.h||(this.s=1,Ar(16),y=!1),this.o=this.o&&y,!y)Ka(this.i,this.l,Pe,"[Invalid Chunked Response]"),zo(this),Du(this);else if(0<Pe.length&&!this.W){this.W=!0;var ur=this.j;ur.g==this&&ur.ba&&!ur.M&&(ur.j.info("Great, no buffering proxy detected. Bytes received: "+Pe.length),ug(ur),ur.M=!0,Ar(11))}}else Ka(this.i,this.l,Pe,null),rg(this,Pe);cr==4&&zo(this),this.o&&!this.J&&(cr==4?K1(this.j,this):(this.o=!1,gh(this)))}else IN(this.g),y==400&&0<Pe.indexOf("Unknown SID")?(this.s=3,Ar(12)):(this.s=0,Ar(13)),zo(this),Du(this)}}}catch{}finally{}};function b1(d){return d.g?d.u=="GET"&&d.L!=2&&d.j.Ca:!1}function aN(d,m){var y=d.C,N=m.indexOf(`
`,y);return N==-1?eg:(y=Number(m.substring(y,N)),isNaN(y)?y1:(N+=1,N+y>m.length?eg:(m=m.slice(N,N+y),d.C=N+y,m)))}Ws.prototype.cancel=function(){this.J=!0,zo(this)};function gh(d){d.S=Date.now()+d.I,w1(d,d.I)}function w1(d,m){if(d.B!=null)throw Error("WatchDog timer not null");d.B=ku(f(d.ba,d),m)}function ng(d){d.B&&(a.clearTimeout(d.B),d.B=null)}Ws.prototype.ba=function(){this.B=null;const d=Date.now();0<=d-this.S?(sN(this.i,this.A),this.L!=2&&(Pu(),Ar(17)),zo(this),this.s=2,Du(this)):w1(this,this.S-d)};function Du(d){d.j.G==0||d.J||K1(d.j,d)}function zo(d){ng(d);var m=d.M;m&&typeof m.ma=="function"&&m.ma(),d.M=null,Re(d.U),d.g&&(m=d.g,d.g=null,m.abort(),m.ma())}function rg(d,m){try{var y=d.j;if(y.G!=0&&(y.g==d||ig(y.h,d))){if(!d.K&&ig(y.h,d)&&y.G==3){try{var N=y.Da.g.parse(m)}catch{N=null}if(Array.isArray(N)&&N.length==3){var Z=N;if(Z[0]==0){e:if(!y.u){if(y.g)if(y.g.F+3e3<d.F)Sh(y),Eh(y);else break e;lg(y),Ar(18)}}else y.za=Z[1],0<y.za-y.T&&37500>Z[2]&&y.F&&y.v==0&&!y.C&&(y.C=ku(f(y.Za,y),6e3));if(1>=I1(y.h)&&y.ca){try{y.ca()}catch{}y.ca=void 0}}else Yo(y,11)}else if((d.K||y.g==d)&&Sh(y),!P(m))for(Z=y.Da.g.parse(m),m=0;m<Z.length;m++){let Rt=Z[m];if(y.T=Rt[0],Rt=Rt[1],y.G==2)if(Rt[0]=="c"){y.K=Rt[1],y.ia=Rt[2];const ur=Rt[3];ur!=null&&(y.la=ur,y.j.info("VER="+y.la));const cr=Rt[4];cr!=null&&(y.Aa=cr,y.j.info("SVER="+y.Aa));const Qa=Rt[5];Qa!=null&&typeof Qa=="number"&&0<Qa&&(N=1.5*Qa,y.L=N,y.j.info("backChannelRequestTimeoutMs_="+N)),N=y;const wi=d.g;if(wi){const Ah=wi.g?wi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ah){var ie=N.h;ie.g||Ah.indexOf("spdy")==-1&&Ah.indexOf("quic")==-1&&Ah.indexOf("h2")==-1||(ie.j=ie.l,ie.g=new Set,ie.h&&(sg(ie,ie.h),ie.h=null))}if(N.D){const cg=wi.g?wi.g.getResponseHeader("X-HTTP-Session-Id"):null;cg&&(N.ya=cg,rn(N.I,N.D,cg))}}y.G=3,y.l&&y.l.ua(),y.ba&&(y.R=Date.now()-d.F,y.j.info("Handshake RTT: "+y.R+"ms")),N=y;var Pe=d;if(N.qa=Q1(N,N.J?N.ia:null,N.W),Pe.K){S1(N.h,Pe);var Yt=Pe,Qn=N.L;Qn&&(Yt.I=Qn),Yt.B&&(ng(Yt),gh(Yt)),N.g=Pe}else q1(N);0<y.i.length&&Ih(y)}else Rt[0]!="stop"&&Rt[0]!="close"||Yo(y,7);else y.G==3&&(Rt[0]=="stop"||Rt[0]=="close"?Rt[0]=="stop"?Yo(y,7):ag(y):Rt[0]!="noop"&&y.l&&y.l.ta(Rt),y.v=0)}}Pu(4)}catch{}}var lN=class{constructor(d,m){this.g=d,this.map=m}};function T1(d){this.l=d||10,a.PerformanceNavigationTiming?(d=a.performance.getEntriesByType("navigation"),d=0<d.length&&(d[0].nextHopProtocol=="hq"||d[0].nextHopProtocol=="h2")):d=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=d?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function E1(d){return d.h?!0:d.g?d.g.size>=d.j:!1}function I1(d){return d.h?1:d.g?d.g.size:0}function ig(d,m){return d.h?d.h==m:d.g?d.g.has(m):!1}function sg(d,m){d.g?d.g.add(m):d.h=m}function S1(d,m){d.h&&d.h==m?d.h=null:d.g&&d.g.has(m)&&d.g.delete(m)}T1.prototype.cancel=function(){if(this.i=C1(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const d of this.g.values())d.cancel();this.g.clear()}};function C1(d){if(d.h!=null)return d.i.concat(d.h.D);if(d.g!=null&&d.g.size!==0){let m=d.i;for(const y of d.g.values())m=m.concat(y.D);return m}return w(d.i)}function uN(d){if(d.V&&typeof d.V=="function")return d.V();if(typeof Map<"u"&&d instanceof Map||typeof Set<"u"&&d instanceof Set)return Array.from(d.values());if(typeof d=="string")return d.split("");if(l(d)){for(var m=[],y=d.length,N=0;N<y;N++)m.push(d[N]);return m}m=[],y=0;for(N in d)m[y++]=d[N];return m}function cN(d){if(d.na&&typeof d.na=="function")return d.na();if(!d.V||typeof d.V!="function"){if(typeof Map<"u"&&d instanceof Map)return Array.from(d.keys());if(!(typeof Set<"u"&&d instanceof Set)){if(l(d)||typeof d=="string"){var m=[];d=d.length;for(var y=0;y<d;y++)m.push(y);return m}m=[],y=0;for(const N in d)m[y++]=N;return m}}}function A1(d,m){if(d.forEach&&typeof d.forEach=="function")d.forEach(m,void 0);else if(l(d)||typeof d=="string")Array.prototype.forEach.call(d,m,void 0);else for(var y=cN(d),N=uN(d),Z=N.length,ie=0;ie<Z;ie++)m.call(void 0,N[ie],y&&y[ie],d)}var O1=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function dN(d,m){if(d){d=d.split("&");for(var y=0;y<d.length;y++){var N=d[y].indexOf("="),Z=null;if(0<=N){var ie=d[y].substring(0,N);Z=d[y].substring(N+1)}else ie=d[y];m(ie,Z?decodeURIComponent(Z.replace(/\+/g," ")):"")}}}function Ko(d){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,d instanceof Ko){this.h=d.h,vh(this,d.j),this.o=d.o,this.g=d.g,yh(this,d.s),this.l=d.l;var m=d.i,y=new Mu;y.i=m.i,m.g&&(y.g=new Map(m.g),y.h=m.h),P1(this,y),this.m=d.m}else d&&(m=String(d).match(O1))?(this.h=!1,vh(this,m[1]||"",!0),this.o=xu(m[2]||""),this.g=xu(m[3]||"",!0),yh(this,m[4]),this.l=xu(m[5]||"",!0),P1(this,m[6]||"",!0),this.m=xu(m[7]||"")):(this.h=!1,this.i=new Mu(null,this.h))}Ko.prototype.toString=function(){var d=[],m=this.j;m&&d.push(Nu(m,k1,!0),":");var y=this.g;return(y||m=="file")&&(d.push("//"),(m=this.o)&&d.push(Nu(m,k1,!0),"@"),d.push(encodeURIComponent(String(y)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),y=this.s,y!=null&&d.push(":",String(y))),(y=this.l)&&(this.g&&y.charAt(0)!="/"&&d.push("/"),d.push(Nu(y,y.charAt(0)=="/"?pN:fN,!0))),(y=this.i.toString())&&d.push("?",y),(y=this.m)&&d.push("#",Nu(y,gN)),d.join("")};function ps(d){return new Ko(d)}function vh(d,m,y){d.j=y?xu(m,!0):m,d.j&&(d.j=d.j.replace(/:$/,""))}function yh(d,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);d.s=m}else d.s=null}function P1(d,m,y){m instanceof Mu?(d.i=m,vN(d.i,d.h)):(y||(m=Nu(m,mN)),d.i=new Mu(m,d.h))}function rn(d,m,y){d.i.set(m,y)}function _h(d){return rn(d,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),d}function xu(d,m){return d?m?decodeURI(d.replace(/%25/g,"%2525")):decodeURIComponent(d):""}function Nu(d,m,y){return typeof d=="string"?(d=encodeURI(d).replace(m,hN),y&&(d=d.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d):null}function hN(d){return d=d.charCodeAt(0),"%"+(d>>4&15).toString(16)+(d&15).toString(16)}var k1=/[#\/\?@]/g,fN=/[#\?:]/g,pN=/[#\?]/g,mN=/[#\?@]/g,gN=/#/g;function Mu(d,m){this.h=this.g=null,this.i=d||null,this.j=!!m}function qs(d){d.g||(d.g=new Map,d.h=0,d.i&&dN(d.i,function(m,y){d.add(decodeURIComponent(m.replace(/\+/g," ")),y)}))}t=Mu.prototype,t.add=function(d,m){qs(this),this.i=null,d=Ya(this,d);var y=this.g.get(d);return y||this.g.set(d,y=[]),y.push(m),this.h+=1,this};function R1(d,m){qs(d),m=Ya(d,m),d.g.has(m)&&(d.i=null,d.h-=d.g.get(m).length,d.g.delete(m))}function D1(d,m){return qs(d),m=Ya(d,m),d.g.has(m)}t.forEach=function(d,m){qs(this),this.g.forEach(function(y,N){y.forEach(function(Z){d.call(m,Z,N,this)},this)},this)},t.na=function(){qs(this);const d=Array.from(this.g.values()),m=Array.from(this.g.keys()),y=[];for(let N=0;N<m.length;N++){const Z=d[N];for(let ie=0;ie<Z.length;ie++)y.push(m[N])}return y},t.V=function(d){qs(this);let m=[];if(typeof d=="string")D1(this,d)&&(m=m.concat(this.g.get(Ya(this,d))));else{d=Array.from(this.g.values());for(let y=0;y<d.length;y++)m=m.concat(d[y])}return m},t.set=function(d,m){return qs(this),this.i=null,d=Ya(this,d),D1(this,d)&&(this.h-=this.g.get(d).length),this.g.set(d,[m]),this.h+=1,this},t.get=function(d,m){return d?(d=this.V(d),0<d.length?String(d[0]):m):m};function x1(d,m,y){R1(d,m),0<y.length&&(d.i=null,d.g.set(Ya(d,m),w(y)),d.h+=y.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const d=[],m=Array.from(this.g.keys());for(var y=0;y<m.length;y++){var N=m[y];const ie=encodeURIComponent(String(N)),Pe=this.V(N);for(N=0;N<Pe.length;N++){var Z=ie;Pe[N]!==""&&(Z+="="+encodeURIComponent(String(Pe[N]))),d.push(Z)}}return this.i=d.join("&")};function Ya(d,m){return m=String(m),d.j&&(m=m.toLowerCase()),m}function vN(d,m){m&&!d.j&&(qs(d),d.i=null,d.g.forEach(function(y,N){var Z=N.toLowerCase();N!=Z&&(R1(this,N),x1(this,Z,y))},d)),d.j=m}function yN(d,m){const y=new Ru;if(a.Image){const N=new Image;N.onload=p(zs,y,"TestLoadImage: loaded",!0,m,N),N.onerror=p(zs,y,"TestLoadImage: error",!1,m,N),N.onabort=p(zs,y,"TestLoadImage: abort",!1,m,N),N.ontimeout=p(zs,y,"TestLoadImage: timeout",!1,m,N),a.setTimeout(function(){N.ontimeout&&N.ontimeout()},1e4),N.src=d}else m(!1)}function _N(d,m){const y=new Ru,N=new AbortController,Z=setTimeout(()=>{N.abort(),zs(y,"TestPingServer: timeout",!1,m)},1e4);fetch(d,{signal:N.signal}).then(ie=>{clearTimeout(Z),ie.ok?zs(y,"TestPingServer: ok",!0,m):zs(y,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(Z),zs(y,"TestPingServer: error",!1,m)})}function zs(d,m,y,N,Z){try{Z&&(Z.onload=null,Z.onerror=null,Z.onabort=null,Z.ontimeout=null),N(y)}catch{}}function bN(){this.g=new Gn}function wN(d,m,y){const N=y||"";try{A1(d,function(Z,ie){let Pe=Z;u(Z)&&(Pe=ze(Z)),m.push(N+ie+"="+encodeURIComponent(Pe))})}catch(Z){throw m.push(N+"type="+encodeURIComponent("_badmap")),Z}}function bh(d){this.l=d.Ub||null,this.j=d.eb||!1}g(bh,Jr),bh.prototype.g=function(){return new wh(this.l,this.j)},bh.prototype.i=function(d){return function(){return d}}({});function wh(d,m){Xe.call(this),this.D=d,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}g(wh,Xe),t=wh.prototype,t.open=function(d,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=d,this.A=m,this.readyState=1,Vu(this)},t.send=function(d){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};d&&(m.body=d),(this.D||a).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Lu(this)),this.readyState=0},t.Sa=function(d){if(this.g&&(this.l=d,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=d.headers,this.readyState=2,Vu(this)),this.g&&(this.readyState=3,Vu(this),this.g)))if(this.responseType==="arraybuffer")d.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in d){if(this.j=d.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;N1(this)}else d.text().then(this.Ra.bind(this),this.ga.bind(this))};function N1(d){d.j.read().then(d.Pa.bind(d)).catch(d.ga.bind(d))}t.Pa=function(d){if(this.g){if(this.o&&d.value)this.response.push(d.value);else if(!this.o){var m=d.value?d.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!d.done}))&&(this.response=this.responseText+=m)}d.done?Lu(this):Vu(this),this.readyState==3&&N1(this)}},t.Ra=function(d){this.g&&(this.response=this.responseText=d,Lu(this))},t.Qa=function(d){this.g&&(this.response=d,Lu(this))},t.ga=function(){this.g&&Lu(this)};function Lu(d){d.readyState=4,d.l=null,d.j=null,d.v=null,Vu(d)}t.setRequestHeader=function(d,m){this.u.append(d,m)},t.getResponseHeader=function(d){return this.h&&this.h.get(d.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const d=[],m=this.h.entries();for(var y=m.next();!y.done;)y=y.value,d.push(y[0]+": "+y[1]),y=m.next();return d.join(`\r
`)};function Vu(d){d.onreadystatechange&&d.onreadystatechange.call(d)}Object.defineProperty(wh.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(d){this.m=d?"include":"same-origin"}});function M1(d){let m="";return V(d,function(y,N){m+=N,m+=":",m+=y,m+=`\r
`}),m}function og(d,m,y){e:{for(N in y){var N=!1;break e}N=!0}N||(y=M1(y),typeof d=="string"?y!=null&&encodeURIComponent(String(y)):rn(d,m,y))}function wn(d){Xe.call(this),this.headers=new Map,this.o=d||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}g(wn,Xe);var TN=/^https?$/i,EN=["POST","PUT"];t=wn.prototype,t.Ha=function(d){this.J=d},t.ea=function(d,m,y,N){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+d);m=m?m.toUpperCase():"GET",this.D=d,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Zm.g(),this.v=this.o?za(this.o):za(Zm),this.g.onreadystatechange=f(this.Ea,this);try{this.B=!0,this.g.open(m,String(d),!0),this.B=!1}catch(ie){L1(this,ie);return}if(d=y||"",y=new Map(this.headers),N)if(Object.getPrototypeOf(N)===Object.prototype)for(var Z in N)y.set(Z,N[Z]);else if(typeof N.keys=="function"&&typeof N.get=="function")for(const ie of N.keys())y.set(ie,N.get(ie));else throw Error("Unknown input type for opt_headers: "+String(N));N=Array.from(y.keys()).find(ie=>ie.toLowerCase()=="content-type"),Z=a.FormData&&d instanceof a.FormData,!(0<=Array.prototype.indexOf.call(EN,m,void 0))||N||Z||y.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ie,Pe]of y)this.g.setRequestHeader(ie,Pe);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{$1(this),this.u=!0,this.g.send(d),this.u=!1}catch(ie){L1(this,ie)}};function L1(d,m){d.h=!1,d.g&&(d.j=!0,d.g.abort(),d.j=!1),d.l=m,d.m=5,V1(d),Th(d)}function V1(d){d.A||(d.A=!0,z(d,"complete"),z(d,"error"))}t.abort=function(d){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=d||7,z(this,"complete"),z(this,"abort"),Th(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Th(this,!0)),wn.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?F1(this):this.bb())},t.bb=function(){F1(this)};function F1(d){if(d.h&&typeof o<"u"&&(!d.v[1]||ms(d)!=4||d.Z()!=2)){if(d.u&&ms(d)==4)Fe(d.Ea,0,d);else if(z(d,"readystatechange"),ms(d)==4){d.h=!1;try{const Pe=d.Z();e:switch(Pe){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var y;if(!(y=m)){var N;if(N=Pe===0){var Z=String(d.D).match(O1)[1]||null;!Z&&a.self&&a.self.location&&(Z=a.self.location.protocol.slice(0,-1)),N=!TN.test(Z?Z.toLowerCase():"")}y=N}if(y)z(d,"complete"),z(d,"success");else{d.m=6;try{var ie=2<ms(d)?d.g.statusText:""}catch{ie=""}d.l=ie+" ["+d.Z()+"]",V1(d)}}finally{Th(d)}}}}function Th(d,m){if(d.g){$1(d);const y=d.g,N=d.v[0]?()=>{}:null;d.g=null,d.v=null,m||z(d,"ready");try{y.onreadystatechange=N}catch{}}}function $1(d){d.I&&(a.clearTimeout(d.I),d.I=null)}t.isActive=function(){return!!this.g};function ms(d){return d.g?d.g.readyState:0}t.Z=function(){try{return 2<ms(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(d){if(this.g){var m=this.g.responseText;return d&&m.indexOf(d)==0&&(m=m.substring(d.length)),Ke(m)}};function U1(d){try{if(!d.g)return null;if("response"in d.g)return d.g.response;switch(d.H){case"":case"text":return d.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in d.g)return d.g.mozResponseArrayBuffer}return null}catch{return null}}function IN(d){const m={};d=(d.g&&2<=ms(d)&&d.g.getAllResponseHeaders()||"").split(`\r
`);for(let N=0;N<d.length;N++){if(P(d[N]))continue;var y=C(d[N]);const Z=y[0];if(y=y[1],typeof y!="string")continue;y=y.trim();const ie=m[Z]||[];m[Z]=ie,ie.push(y)}S(m,function(N){return N.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Fu(d,m,y){return y&&y.internalChannelParams&&y.internalChannelParams[d]||m}function B1(d){this.Aa=0,this.i=[],this.j=new Ru,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Fu("failFast",!1,d),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Fu("baseRetryDelayMs",5e3,d),this.cb=Fu("retryDelaySeedMs",1e4,d),this.Wa=Fu("forwardChannelMaxRetries",2,d),this.wa=Fu("forwardChannelRequestTimeoutMs",2e4,d),this.pa=d&&d.xmlHttpFactory||void 0,this.Xa=d&&d.Tb||void 0,this.Ca=d&&d.useFetchStreams||!1,this.L=void 0,this.J=d&&d.supportsCrossDomainXhr||!1,this.K="",this.h=new T1(d&&d.concurrentRequestLimit),this.Da=new bN,this.P=d&&d.fastHandshake||!1,this.O=d&&d.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=d&&d.Rb||!1,d&&d.xa&&this.j.xa(),d&&d.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&d&&d.detectBufferingProxy||!1,this.ja=void 0,d&&d.longPollingTimeout&&0<d.longPollingTimeout&&(this.ja=d.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=B1.prototype,t.la=8,t.G=1,t.connect=function(d,m,y,N){Ar(0),this.W=d,this.H=m||{},y&&N!==void 0&&(this.H.OSID=y,this.H.OAID=N),this.F=this.X,this.I=Q1(this,null,this.W),Ih(this)};function ag(d){if(H1(d),d.G==3){var m=d.U++,y=ps(d.I);if(rn(y,"SID",d.K),rn(y,"RID",m),rn(y,"TYPE","terminate"),$u(d,y),m=new Ws(d,d.j,m),m.L=2,m.v=_h(ps(y)),y=!1,a.navigator&&a.navigator.sendBeacon)try{y=a.navigator.sendBeacon(m.v.toString(),"")}catch{}!y&&a.Image&&(new Image().src=m.v,y=!0),y||(m.g=X1(m.j,null),m.g.ea(m.v)),m.F=Date.now(),gh(m)}G1(d)}function Eh(d){d.g&&(ug(d),d.g.cancel(),d.g=null)}function H1(d){Eh(d),d.u&&(a.clearTimeout(d.u),d.u=null),Sh(d),d.h.cancel(),d.s&&(typeof d.s=="number"&&a.clearTimeout(d.s),d.s=null)}function Ih(d){if(!E1(d.h)&&!d.s){d.s=!0;var m=d.Ga;q||x(),X||(q(),X=!0),$.add(m,d),d.B=0}}function SN(d,m){return I1(d.h)>=d.h.j-(d.s?1:0)?!1:d.s?(d.i=m.D.concat(d.i),!0):d.G==1||d.G==2||d.B>=(d.Va?0:d.Wa)?!1:(d.s=ku(f(d.Ga,d,m),Y1(d,d.B)),d.B++,!0)}t.Ga=function(d){if(this.s)if(this.s=null,this.G==1){if(!d){this.U=Math.floor(1e5*Math.random()),d=this.U++;const Z=new Ws(this,this.j,d);let ie=this.o;if(this.S&&(ie?(ie=E(ie),v(ie,this.S)):ie=this.S),this.m!==null||this.O||(Z.H=ie,ie=null),this.P)e:{for(var m=0,y=0;y<this.i.length;y++){t:{var N=this.i[y];if("__data__"in N.map&&(N=N.map.__data__,typeof N=="string")){N=N.length;break t}N=void 0}if(N===void 0)break;if(m+=N,4096<m){m=y;break e}if(m===4096||y===this.i.length-1){m=y+1;break e}}m=1e3}else m=1e3;m=W1(this,Z,m),y=ps(this.I),rn(y,"RID",d),rn(y,"CVER",22),this.D&&rn(y,"X-HTTP-Session-Id",this.D),$u(this,y),ie&&(this.O?m="headers="+encodeURIComponent(String(M1(ie)))+"&"+m:this.m&&og(y,this.m,ie)),sg(this.h,Z),this.Ua&&rn(y,"TYPE","init"),this.P?(rn(y,"$req",m),rn(y,"SID","null"),Z.T=!0,tg(Z,y,null)):tg(Z,y,m),this.G=2}}else this.G==3&&(d?j1(this,d):this.i.length==0||E1(this.h)||j1(this))};function j1(d,m){var y;m?y=m.l:y=d.U++;const N=ps(d.I);rn(N,"SID",d.K),rn(N,"RID",y),rn(N,"AID",d.T),$u(d,N),d.m&&d.o&&og(N,d.m,d.o),y=new Ws(d,d.j,y,d.B+1),d.m===null&&(y.H=d.o),m&&(d.i=m.D.concat(d.i)),m=W1(d,y,1e3),y.I=Math.round(.5*d.wa)+Math.round(.5*d.wa*Math.random()),sg(d.h,y),tg(y,N,m)}function $u(d,m){d.H&&V(d.H,function(y,N){rn(m,N,y)}),d.l&&A1({},function(y,N){rn(m,N,y)})}function W1(d,m,y){y=Math.min(d.i.length,y);var N=d.l?f(d.l.Na,d.l,d):null;e:{var Z=d.i;let ie=-1;for(;;){const Pe=["count="+y];ie==-1?0<y?(ie=Z[0].g,Pe.push("ofs="+ie)):ie=0:Pe.push("ofs="+ie);let Yt=!0;for(let Qn=0;Qn<y;Qn++){let Rt=Z[Qn].g;const ur=Z[Qn].map;if(Rt-=ie,0>Rt)ie=Math.max(0,Z[Qn].g-100),Yt=!1;else try{wN(ur,Pe,"req"+Rt+"_")}catch{N&&N(ur)}}if(Yt){N=Pe.join("&");break e}}}return d=d.i.splice(0,y),m.D=d,N}function q1(d){if(!d.g&&!d.u){d.Y=1;var m=d.Fa;q||x(),X||(q(),X=!0),$.add(m,d),d.v=0}}function lg(d){return d.g||d.u||3<=d.v?!1:(d.Y++,d.u=ku(f(d.Fa,d),Y1(d,d.v)),d.v++,!0)}t.Fa=function(){if(this.u=null,z1(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var d=2*this.R;this.j.info("BP detection timer enabled: "+d),this.A=ku(f(this.ab,this),d)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Ar(10),Eh(this),z1(this))};function ug(d){d.A!=null&&(a.clearTimeout(d.A),d.A=null)}function z1(d){d.g=new Ws(d,d.j,"rpc",d.Y),d.m===null&&(d.g.H=d.o),d.g.O=0;var m=ps(d.qa);rn(m,"RID","rpc"),rn(m,"SID",d.K),rn(m,"AID",d.T),rn(m,"CI",d.F?"0":"1"),!d.F&&d.ja&&rn(m,"TO",d.ja),rn(m,"TYPE","xmlhttp"),$u(d,m),d.m&&d.o&&og(m,d.m,d.o),d.L&&(d.g.I=d.L);var y=d.g;d=d.ia,y.L=1,y.v=_h(ps(m)),y.m=null,y.P=!0,_1(y,d)}t.Za=function(){this.C!=null&&(this.C=null,Eh(this),lg(this),Ar(19))};function Sh(d){d.C!=null&&(a.clearTimeout(d.C),d.C=null)}function K1(d,m){var y=null;if(d.g==m){Sh(d),ug(d),d.g=null;var N=2}else if(ig(d.h,m))y=m.D,S1(d.h,m),N=1;else return;if(d.G!=0){if(m.o)if(N==1){y=m.m?m.m.length:0,m=Date.now()-m.F;var Z=d.B;N=fh(),z(N,new m1(N,y)),Ih(d)}else q1(d);else if(Z=m.s,Z==3||Z==0&&0<m.X||!(N==1&&SN(d,m)||N==2&&lg(d)))switch(y&&0<y.length&&(m=d.h,m.i=m.i.concat(y)),Z){case 1:Yo(d,5);break;case 4:Yo(d,10);break;case 3:Yo(d,6);break;default:Yo(d,2)}}}function Y1(d,m){let y=d.Ta+Math.floor(Math.random()*d.cb);return d.isActive()||(y*=2),y*m}function Yo(d,m){if(d.j.info("Error code "+m),m==2){var y=f(d.fb,d),N=d.Xa;const Z=!N;N=new Ko(N||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||vh(N,"https"),_h(N),Z?yN(N.toString(),y):_N(N.toString(),y)}else Ar(2);d.G=0,d.l&&d.l.sa(m),G1(d),H1(d)}t.fb=function(d){d?(this.j.info("Successfully pinged google.com"),Ar(2)):(this.j.info("Failed to ping google.com"),Ar(1))};function G1(d){if(d.G=0,d.ka=[],d.l){const m=C1(d.h);(m.length!=0||d.i.length!=0)&&(I(d.ka,m),I(d.ka,d.i),d.h.i.length=0,w(d.i),d.i.length=0),d.l.ra()}}function Q1(d,m,y){var N=y instanceof Ko?ps(y):new Ko(y);if(N.g!="")m&&(N.g=m+"."+N.g),yh(N,N.s);else{var Z=a.location;N=Z.protocol,m=m?m+"."+Z.hostname:Z.hostname,Z=+Z.port;var ie=new Ko(null);N&&vh(ie,N),m&&(ie.g=m),Z&&yh(ie,Z),y&&(ie.l=y),N=ie}return y=d.D,m=d.ya,y&&m&&rn(N,y,m),rn(N,"VER",d.la),$u(d,N),N}function X1(d,m,y){if(m&&!d.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=d.Ca&&!d.pa?new wn(new bh({eb:y})):new wn(d.pa),m.Ha(d.J),m}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function J1(){}t=J1.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Ch(){}Ch.prototype.g=function(d,m){return new Zr(d,m)};function Zr(d,m){Xe.call(this),this.g=new B1(m),this.l=d,this.h=m&&m.messageUrlParams||null,d=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(d?d["X-Client-Protocol"]="webchannel":d={"X-Client-Protocol":"webchannel"}),this.g.o=d,d=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(d?d["X-WebChannel-Content-Type"]=m.messageContentType:d={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(d?d["X-WebChannel-Client-Profile"]=m.va:d={"X-WebChannel-Client-Profile":m.va}),this.g.S=d,(d=m&&m.Sb)&&!P(d)&&(this.g.m=d),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!P(m)&&(this.g.D=m,d=this.h,d!==null&&m in d&&(d=this.h,m in d&&delete d[m])),this.j=new Ga(this)}g(Zr,Xe),Zr.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Zr.prototype.close=function(){ag(this.g)},Zr.prototype.o=function(d){var m=this.g;if(typeof d=="string"){var y={};y.__data__=d,d=y}else this.u&&(y={},y.__data__=ze(d),d=y);m.i.push(new lN(m.Ya++,d)),m.G==3&&Ih(m)},Zr.prototype.N=function(){this.g.l=null,delete this.j,ag(this.g),delete this.g,Zr.aa.N.call(this)};function Z1(d){Xm.call(this),d.__headers__&&(this.headers=d.__headers__,this.statusCode=d.__status__,delete d.__headers__,delete d.__status__);var m=d.__sm__;if(m){e:{for(const y in m){d=y;break e}d=void 0}(this.i=d)&&(d=this.i,m=m!==null&&d in m?m[d]:void 0),this.data=m}else this.data=d}g(Z1,Xm);function ew(){Jm.call(this),this.status=1}g(ew,Jm);function Ga(d){this.g=d}g(Ga,J1),Ga.prototype.ua=function(){z(this.g,"a")},Ga.prototype.ta=function(d){z(this.g,new Z1(d))},Ga.prototype.sa=function(d){z(this.g,new ew)},Ga.prototype.ra=function(){z(this.g,"b")},Ch.prototype.createWebChannel=Ch.prototype.g,Zr.prototype.send=Zr.prototype.o,Zr.prototype.open=Zr.prototype.m,Zr.prototype.close=Zr.prototype.close,WP=function(){return new Ch},jP=function(){return fh()},HP=qo,dy={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ph.NO_ERROR=0,ph.TIMEOUT=8,ph.HTTP_ERROR=6,ff=ph,g1.COMPLETE="complete",BP=g1,d1.EventType=Ou,Ou.OPEN="a",Ou.CLOSE="b",Ou.ERROR="c",Ou.MESSAGE="d",Xe.prototype.listen=Xe.prototype.K,ac=d1,wn.prototype.listenOnce=wn.prototype.L,wn.prototype.getLastError=wn.prototype.Ka,wn.prototype.getLastErrorCode=wn.prototype.Ba,wn.prototype.getStatus=wn.prototype.Z,wn.prototype.getResponseJson=wn.prototype.Oa,wn.prototype.getResponseText=wn.prototype.oa,wn.prototype.send=wn.prototype.ea,wn.prototype.setWithCredentials=wn.prototype.Ha,UP=wn}).apply(typeof Bh<"u"?Bh:typeof self<"u"?self:typeof window<"u"?window:{});const VT="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fr{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}fr.UNAUTHENTICATED=new fr(null),fr.GOOGLE_CREDENTIALS=new fr("google-credentials-uid"),fr.FIRST_PARTY=new fr("first-party-uid"),fr.MOCK_USER=new fr("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let bu="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ea=new yu("@firebase/firestore");function Wu(){return Ea.logLevel}function qe(t,...e){if(Ea.logLevel<=gt.DEBUG){const n=e.map(s0);Ea.debug(`Firestore (${bu}): ${t}`,...n)}}function Ms(t,...e){if(Ea.logLevel<=gt.ERROR){const n=e.map(s0);Ea.error(`Firestore (${bu}): ${t}`,...n)}}function Yl(t,...e){if(Ea.logLevel<=gt.WARN){const n=e.map(s0);Ea.warn(`Firestore (${bu}): ${t}`,...n)}}function s0(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ot(t="Unexpected state"){const e=`FIRESTORE (${bu}) INTERNAL ASSERTION FAILED: `+t;throw Ms(e),new Error(e)}function qt(t,e){t||ot()}function ut(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const de={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class De extends ai{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ks{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qP{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class R9{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(fr.UNAUTHENTICATED))}shutdown(){}}class D9{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class x9{constructor(e){this.t=e,this.currentUser=fr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){qt(this.o===void 0);let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let s=new ks;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new ks,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{qe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(qe("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new ks)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(qe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(qt(typeof r.accessToken=="string"),new qP(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return qt(e===null||typeof e=="string"),new fr(e)}}class N9{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=fr.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class M9{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new N9(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(fr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class L9{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class V9{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){qt(this.o===void 0);const r=s=>{s.error!=null&&qe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,qe("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{qe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):qe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(qt(typeof n.token=="string"),this.R=n.token,new L9(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F9(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zP{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=F9(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function xt(t,e){return t<e?-1:t>e?1:0}function Gl(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zt{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new De(de.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new De(de.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new De(de.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new De(de.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Zt.fromMillis(Date.now())}static fromDate(e){return Zt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Zt(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?xt(this.nanoseconds,e.nanoseconds):xt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lt{constructor(e){this.timestamp=e}static fromTimestamp(e){return new lt(e)}static min(){return new lt(new Zt(0,0))}static max(){return new lt(new Zt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class id{constructor(e,n,r){n===void 0?n=0:n>e.length&&ot(),r===void 0?r=e.length-n:r>e.length-n&&ot(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return id.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof id?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class en extends id{construct(e,n,r){return new en(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new De(de.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new en(n)}static emptyPath(){return new en([])}}const $9=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class nr extends id{construct(e,n,r){return new nr(e,n,r)}static isValidIdentifier(e){return $9.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),nr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new nr(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new De(de.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new De(de.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new De(de.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new De(de.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new nr(n)}static emptyPath(){return new nr([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Je{constructor(e){this.path=e}static fromPath(e){return new Je(en.fromString(e))}static fromName(e){return new Je(en.fromString(e).popFirst(5))}static empty(){return new Je(en.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&en.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return en.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Je(new en(e.slice()))}}function U9(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=lt.fromTimestamp(r===1e9?new Zt(n+1,0):new Zt(n,r));return new Ro(i,Je.empty(),e)}function B9(t){return new Ro(t.readTime,t.key,-1)}class Ro{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Ro(lt.min(),Je.empty(),-1)}static max(){return new Ro(lt.max(),Je.empty(),-1)}}function H9(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Je.comparator(t.documentKey,e.documentKey),n!==0?n:xt(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j9="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class W9{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wd(t){if(t.code!==de.FAILED_PRECONDITION||t.message!==j9)throw t;qe("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ye{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ot(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ye((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof ye?n:ye.resolve(n)}catch(n){return ye.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):ye.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):ye.reject(n)}static resolve(e){return new ye((n,r)=>{n(e)})}static reject(e){return new ye((n,r)=>{r(e)})}static waitFor(e){return new ye((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},l=>r(l))}),o=!0,s===i&&n()})}static or(e){let n=ye.resolve(!1);for(const r of e)n=n.next(i=>i?ye.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new ye((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const u=l;n(e[u]).next(c=>{o[u]=c,++a,a===s&&r(o)},c=>i(c))}})}static doWhile(e,n){return new ye((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function q9(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function qd(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o0{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}o0.oe=-1;function am(t){return t==null}function Xf(t){return t===0&&1/t==-1/0}function z9(t){return typeof t=="number"&&Number.isInteger(t)&&!Xf(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FT(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Fa(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function KP(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let xn=class hy{constructor(e,n){this.comparator=e,this.root=n||wo.EMPTY}insert(e,n){return new hy(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,wo.BLACK,null,null))}remove(e){return new hy(this.comparator,this.root.remove(e,this.comparator).copy(null,null,wo.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Hh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Hh(this.root,e,this.comparator,!1)}getReverseIterator(){return new Hh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Hh(this.root,e,this.comparator,!0)}},Hh=class{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},wo=class _s{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??_s.RED,this.left=i??_s.EMPTY,this.right=s??_s.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new _s(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return _s.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return _s.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,_s.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,_s.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ot();const e=this.left.check();if(e!==this.right.check())throw ot();return e+(this.isRed()?0:1)}};wo.EMPTY=null,wo.RED=!0,wo.BLACK=!1;wo.EMPTY=new class{constructor(){this.size=0}get key(){throw ot()}get value(){throw ot()}get color(){throw ot()}get left(){throw ot()}get right(){throw ot()}copy(e,n,r,i,s){return this}insert(e,n,r){return new wo(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ar{constructor(e){this.comparator=e,this.data=new xn(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new $T(this.data.getIterator())}getIteratorFrom(e){return new $T(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof ar)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new ar(this.comparator);return n.data=e,n}}class $T{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ti{constructor(e){this.fields=e,e.sort(nr.comparator)}static empty(){return new ti([])}unionWith(e){let n=new ar(nr.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new ti(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Gl(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YP extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lr{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new YP("Invalid base64 string: "+s):s}}(e);return new lr(n)}static fromUint8Array(e){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new lr(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return xt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}lr.EMPTY_BYTE_STRING=new lr("");const K9=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Do(t){if(qt(!!t),typeof t=="string"){let e=0;const n=K9.exec(t);if(qt(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Sn(t.seconds),nanos:Sn(t.nanos)}}function Sn(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Ia(t){return typeof t=="string"?lr.fromBase64String(t):lr.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lm(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function a0(t){const e=t.mapValue.fields.__previous_value__;return lm(e)?a0(e):e}function sd(t){const e=Do(t.mapValue.fields.__local_write_time__.timestampValue);return new Zt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y9{constructor(e,n,r,i,s,o,a,l,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=u}}class od{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new od("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof od&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jh={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Sa(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?lm(t)?4:Q9(t)?9007199254740991:G9(t)?10:11:ot()}function ls(t,e){if(t===e)return!0;const n=Sa(t);if(n!==Sa(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return sd(t).isEqual(sd(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=Do(i.timestampValue),a=Do(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return Ia(i.bytesValue).isEqual(Ia(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return Sn(i.geoPointValue.latitude)===Sn(s.geoPointValue.latitude)&&Sn(i.geoPointValue.longitude)===Sn(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return Sn(i.integerValue)===Sn(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=Sn(i.doubleValue),a=Sn(s.doubleValue);return o===a?Xf(o)===Xf(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return Gl(t.arrayValue.values||[],e.arrayValue.values||[],ls);case 10:case 11:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(FT(o)!==FT(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!ls(o[l],a[l])))return!1;return!0}(t,e);default:return ot()}}function ad(t,e){return(t.values||[]).find(n=>ls(n,e))!==void 0}function Ql(t,e){if(t===e)return 0;const n=Sa(t),r=Sa(e);if(n!==r)return xt(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return xt(t.booleanValue,e.booleanValue);case 2:return function(s,o){const a=Sn(s.integerValue||s.doubleValue),l=Sn(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return UT(t.timestampValue,e.timestampValue);case 4:return UT(sd(t),sd(e));case 5:return xt(t.stringValue,e.stringValue);case 6:return function(s,o){const a=Ia(s),l=Ia(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const a=s.split("/"),l=o.split("/");for(let u=0;u<a.length&&u<l.length;u++){const c=xt(a[u],l[u]);if(c!==0)return c}return xt(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const a=xt(Sn(s.latitude),Sn(o.latitude));return a!==0?a:xt(Sn(s.longitude),Sn(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return BT(t.arrayValue,e.arrayValue);case 10:return function(s,o){var a,l,u,c;const h=s.fields||{},f=o.fields||{},p=(a=h.value)===null||a===void 0?void 0:a.arrayValue,g=(l=f.value)===null||l===void 0?void 0:l.arrayValue,w=xt(((u=p==null?void 0:p.values)===null||u===void 0?void 0:u.length)||0,((c=g==null?void 0:g.values)===null||c===void 0?void 0:c.length)||0);return w!==0?w:BT(p,g)}(t.mapValue,e.mapValue);case 11:return function(s,o){if(s===jh.mapValue&&o===jh.mapValue)return 0;if(s===jh.mapValue)return 1;if(o===jh.mapValue)return-1;const a=s.fields||{},l=Object.keys(a),u=o.fields||{},c=Object.keys(u);l.sort(),c.sort();for(let h=0;h<l.length&&h<c.length;++h){const f=xt(l[h],c[h]);if(f!==0)return f;const p=Ql(a[l[h]],u[c[h]]);if(p!==0)return p}return xt(l.length,c.length)}(t.mapValue,e.mapValue);default:throw ot()}}function UT(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return xt(t,e);const n=Do(t),r=Do(e),i=xt(n.seconds,r.seconds);return i!==0?i:xt(n.nanos,r.nanos)}function BT(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const s=Ql(n[i],r[i]);if(s)return s}return xt(n.length,r.length)}function Xl(t){return fy(t)}function fy(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Do(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Ia(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return Je.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=fy(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${fy(n.fields[o])}`;return i+"}"}(t.mapValue):ot()}function Jf(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function py(t){return!!t&&"integerValue"in t}function l0(t){return!!t&&"arrayValue"in t}function HT(t){return!!t&&"nullValue"in t}function jT(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function pf(t){return!!t&&"mapValue"in t}function G9(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function Sc(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Fa(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Sc(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Sc(t.arrayValue.values[n]);return e}return Object.assign({},t)}function Q9(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wr{constructor(e){this.value=e}static empty(){return new Wr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!pf(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Sc(n)}setAll(e){let n=nr.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=Sc(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());pf(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return ls(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];pf(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Fa(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new Wr(Sc(this.value))}}function GP(t){const e=[];return Fa(t.fields,(n,r)=>{const i=new nr([n]);if(pf(r)){const s=GP(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new ti(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vr{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new vr(e,0,lt.min(),lt.min(),lt.min(),Wr.empty(),0)}static newFoundDocument(e,n,r,i){return new vr(e,1,n,lt.min(),r,i,0)}static newNoDocument(e,n){return new vr(e,2,n,lt.min(),lt.min(),Wr.empty(),0)}static newUnknownDocument(e,n){return new vr(e,3,n,lt.min(),lt.min(),Wr.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(lt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Wr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Wr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=lt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof vr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new vr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jl{constructor(e,n){this.position=e,this.inclusive=n}}function WT(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=Je.comparator(Je.fromName(o.referenceValue),n.key):r=Ql(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function qT(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!ls(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ld{constructor(e,n="asc"){this.field=e,this.dir=n}}function X9(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QP{}class Dn extends QP{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new Z9(e,n,r):n==="array-contains"?new nF(e,r):n==="in"?new rF(e,r):n==="not-in"?new iF(e,r):n==="array-contains-any"?new sF(e,r):new Dn(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new eF(e,r):new tF(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Ql(n,this.value)):n!==null&&Sa(this.value)===Sa(n)&&this.matchesComparison(Ql(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ot()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class $i extends QP{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new $i(e,n)}matches(e){return XP(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function XP(t){return t.op==="and"}function JP(t){return J9(t)&&XP(t)}function J9(t){for(const e of t.filters)if(e instanceof $i)return!1;return!0}function my(t){if(t instanceof Dn)return t.field.canonicalString()+t.op.toString()+Xl(t.value);if(JP(t))return t.filters.map(e=>my(e)).join(",");{const e=t.filters.map(n=>my(n)).join(",");return`${t.op}(${e})`}}function ZP(t,e){return t instanceof Dn?function(r,i){return i instanceof Dn&&r.op===i.op&&r.field.isEqual(i.field)&&ls(r.value,i.value)}(t,e):t instanceof $i?function(r,i){return i instanceof $i&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&ZP(o,i.filters[a]),!0):!1}(t,e):void ot()}function ek(t){return t instanceof Dn?function(n){return`${n.field.canonicalString()} ${n.op} ${Xl(n.value)}`}(t):t instanceof $i?function(n){return n.op.toString()+" {"+n.getFilters().map(ek).join(" ,")+"}"}(t):"Filter"}class Z9 extends Dn{constructor(e,n,r){super(e,n,r),this.key=Je.fromName(r.referenceValue)}matches(e){const n=Je.comparator(e.key,this.key);return this.matchesComparison(n)}}class eF extends Dn{constructor(e,n){super(e,"in",n),this.keys=tk("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class tF extends Dn{constructor(e,n){super(e,"not-in",n),this.keys=tk("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function tk(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>Je.fromName(r.referenceValue))}class nF extends Dn{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return l0(n)&&ad(n.arrayValue,this.value)}}class rF extends Dn{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&ad(this.value.arrayValue,n)}}class iF extends Dn{constructor(e,n){super(e,"not-in",n)}matches(e){if(ad(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!ad(this.value.arrayValue,n)}}class sF extends Dn{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!l0(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>ad(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oF{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ue=null}}function zT(t,e=null,n=[],r=[],i=null,s=null,o=null){return new oF(t,e,n,r,i,s,o)}function u0(t){const e=ut(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>my(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),am(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Xl(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Xl(r)).join(",")),e.ue=n}return e.ue}function c0(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!X9(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!ZP(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!qT(t.startAt,e.startAt)&&qT(t.endAt,e.endAt)}function gy(t){return Je.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $a{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function aF(t,e,n,r,i,s,o,a){return new $a(t,e,n,r,i,s,o,a)}function um(t){return new $a(t)}function KT(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function d0(t){return t.collectionGroup!==null}function kl(t){const e=ut(t);if(e.ce===null){e.ce=[];const n=new Set;for(const s of e.explicitOrderBy)e.ce.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new ar(nr.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.ce.push(new ld(s,r))}),n.has(nr.keyField().canonicalString())||e.ce.push(new ld(nr.keyField(),r))}return e.ce}function ns(t){const e=ut(t);return e.le||(e.le=lF(e,kl(t))),e.le}function lF(t,e){if(t.limitType==="F")return zT(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new ld(i.field,s)});const n=t.endAt?new Jl(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Jl(t.startAt.position,t.startAt.inclusive):null;return zT(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function vy(t,e){const n=t.filters.concat([e]);return new $a(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Zf(t,e,n){return new $a(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function cm(t,e){return c0(ns(t),ns(e))&&t.limitType===e.limitType}function nk(t){return`${u0(ns(t))}|lt:${t.limitType}`}function ll(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>ek(i)).join(", ")}]`),am(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Xl(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Xl(i)).join(",")),`Target(${r})`}(ns(t))}; limitType=${t.limitType})`}function dm(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):Je.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of kl(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,a,l){const u=WT(o,a,l);return o.inclusive?u<=0:u<0}(r.startAt,kl(r),i)||r.endAt&&!function(o,a,l){const u=WT(o,a,l);return o.inclusive?u>=0:u>0}(r.endAt,kl(r),i))}(t,e)}function uF(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function rk(t){return(e,n)=>{let r=!1;for(const i of kl(t)){const s=cF(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function cF(t,e,n){const r=t.field.isKeyField()?Je.comparator(e.key,n.key):function(s,o,a){const l=o.data.field(s),u=a.data.field(s);return l!==null&&u!==null?Ql(l,u):ot()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ot()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wu{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Fa(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return KP(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dF=new xn(Je.comparator);function Ls(){return dF}const ik=new xn(Je.comparator);function lc(...t){let e=ik;for(const n of t)e=e.insert(n.key,n);return e}function sk(t){let e=ik;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function oa(){return Cc()}function ok(){return Cc()}function Cc(){return new wu(t=>t.toString(),(t,e)=>t.isEqual(e))}const hF=new xn(Je.comparator),fF=new ar(Je.comparator);function vt(...t){let e=fF;for(const n of t)e=e.add(n);return e}const pF=new ar(xt);function mF(){return pF}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h0(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Xf(e)?"-0":e}}function ak(t){return{integerValue:""+t}}function gF(t,e){return z9(e)?ak(e):h0(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hm{constructor(){this._=void 0}}function vF(t,e,n){return t instanceof ep?function(i,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&lm(s)&&(s=a0(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof ud?uk(t,e):t instanceof cd?ck(t,e):function(i,s){const o=lk(i,s),a=YT(o)+YT(i.Pe);return py(o)&&py(i.Pe)?ak(a):h0(i.serializer,a)}(t,e)}function yF(t,e,n){return t instanceof ud?uk(t,e):t instanceof cd?ck(t,e):n}function lk(t,e){return t instanceof tp?function(r){return py(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class ep extends hm{}class ud extends hm{constructor(e){super(),this.elements=e}}function uk(t,e){const n=dk(e);for(const r of t.elements)n.some(i=>ls(i,r))||n.push(r);return{arrayValue:{values:n}}}class cd extends hm{constructor(e){super(),this.elements=e}}function ck(t,e){let n=dk(e);for(const r of t.elements)n=n.filter(i=>!ls(i,r));return{arrayValue:{values:n}}}class tp extends hm{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function YT(t){return Sn(t.integerValue||t.doubleValue)}function dk(t){return l0(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function _F(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof ud&&i instanceof ud||r instanceof cd&&i instanceof cd?Gl(r.elements,i.elements,ls):r instanceof tp&&i instanceof tp?ls(r.Pe,i.Pe):r instanceof ep&&i instanceof ep}(t.transform,e.transform)}class bF{constructor(e,n){this.version=e,this.transformResults=n}}class gi{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new gi}static exists(e){return new gi(void 0,e)}static updateTime(e){return new gi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function mf(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class fm{}function hk(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new f0(t.key,gi.none()):new zd(t.key,t.data,gi.none());{const n=t.data,r=Wr.empty();let i=new ar(nr.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new Ho(t.key,r,new ti(i.toArray()),gi.none())}}function wF(t,e,n){t instanceof zd?function(i,s,o){const a=i.value.clone(),l=QT(i.fieldTransforms,s,o.transformResults);a.setAll(l),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Ho?function(i,s,o){if(!mf(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=QT(i.fieldTransforms,s,o.transformResults),l=s.data;l.setAll(fk(i)),l.setAll(a),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Ac(t,e,n,r){return t instanceof zd?function(s,o,a,l){if(!mf(s.precondition,o))return a;const u=s.value.clone(),c=XT(s.fieldTransforms,l,o);return u.setAll(c),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof Ho?function(s,o,a,l){if(!mf(s.precondition,o))return a;const u=XT(s.fieldTransforms,l,o),c=o.data;return c.setAll(fk(s)),c.setAll(u),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(h=>h.field))}(t,e,n,r):function(s,o,a){return mf(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function TF(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=lk(r.transform,i||null);s!=null&&(n===null&&(n=Wr.empty()),n.set(r.field,s))}return n||null}function GT(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Gl(r,i,(s,o)=>_F(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class zd extends fm{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Ho extends fm{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function fk(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function QT(t,e,n){const r=new Map;qt(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,yF(o,a,n[i]))}return r}function XT(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,vF(s,o,e))}return r}class f0 extends fm{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class EF extends fm{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IF{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&wF(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Ac(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Ac(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=ok();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const l=hk(o,a);l!==null&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(lt.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),vt())}isEqual(e){return this.batchId===e.batchId&&Gl(this.mutations,e.mutations,(n,r)=>GT(n,r))&&Gl(this.baseMutations,e.baseMutations,(n,r)=>GT(n,r))}}class p0{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){qt(e.mutations.length===r.length);let i=function(){return hF}();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new p0(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SF{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CF{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Rn,It;function AF(t){switch(t){default:return ot();case de.CANCELLED:case de.UNKNOWN:case de.DEADLINE_EXCEEDED:case de.RESOURCE_EXHAUSTED:case de.INTERNAL:case de.UNAVAILABLE:case de.UNAUTHENTICATED:return!1;case de.INVALID_ARGUMENT:case de.NOT_FOUND:case de.ALREADY_EXISTS:case de.PERMISSION_DENIED:case de.FAILED_PRECONDITION:case de.ABORTED:case de.OUT_OF_RANGE:case de.UNIMPLEMENTED:case de.DATA_LOSS:return!0}}function pk(t){if(t===void 0)return Ms("GRPC error has no .code"),de.UNKNOWN;switch(t){case Rn.OK:return de.OK;case Rn.CANCELLED:return de.CANCELLED;case Rn.UNKNOWN:return de.UNKNOWN;case Rn.DEADLINE_EXCEEDED:return de.DEADLINE_EXCEEDED;case Rn.RESOURCE_EXHAUSTED:return de.RESOURCE_EXHAUSTED;case Rn.INTERNAL:return de.INTERNAL;case Rn.UNAVAILABLE:return de.UNAVAILABLE;case Rn.UNAUTHENTICATED:return de.UNAUTHENTICATED;case Rn.INVALID_ARGUMENT:return de.INVALID_ARGUMENT;case Rn.NOT_FOUND:return de.NOT_FOUND;case Rn.ALREADY_EXISTS:return de.ALREADY_EXISTS;case Rn.PERMISSION_DENIED:return de.PERMISSION_DENIED;case Rn.FAILED_PRECONDITION:return de.FAILED_PRECONDITION;case Rn.ABORTED:return de.ABORTED;case Rn.OUT_OF_RANGE:return de.OUT_OF_RANGE;case Rn.UNIMPLEMENTED:return de.UNIMPLEMENTED;case Rn.DATA_LOSS:return de.DATA_LOSS;default:return ot()}}(It=Rn||(Rn={}))[It.OK=0]="OK",It[It.CANCELLED=1]="CANCELLED",It[It.UNKNOWN=2]="UNKNOWN",It[It.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",It[It.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",It[It.NOT_FOUND=5]="NOT_FOUND",It[It.ALREADY_EXISTS=6]="ALREADY_EXISTS",It[It.PERMISSION_DENIED=7]="PERMISSION_DENIED",It[It.UNAUTHENTICATED=16]="UNAUTHENTICATED",It[It.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",It[It.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",It[It.ABORTED=10]="ABORTED",It[It.OUT_OF_RANGE=11]="OUT_OF_RANGE",It[It.UNIMPLEMENTED=12]="UNIMPLEMENTED",It[It.INTERNAL=13]="INTERNAL",It[It.UNAVAILABLE=14]="UNAVAILABLE",It[It.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OF(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PF=new da([4294967295,4294967295],0);function JT(t){const e=OF().encode(t),n=new $P;return n.update(e),new Uint8Array(n.digest())}function ZT(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new da([n,r],0),new da([i,s],0)]}class m0{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new uc(`Invalid padding: ${n}`);if(r<0)throw new uc(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new uc(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new uc(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=da.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(da.fromNumber(r)));return i.compare(PF)===1&&(i=new da([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=JT(e),[r,i]=ZT(n);for(let s=0;s<this.hashCount;s++){const o=this.Ee(r,i,s);if(!this.de(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new m0(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Ie===0)return;const n=JT(e),[r,i]=ZT(n);for(let s=0;s<this.hashCount;s++){const o=this.Ee(r,i,s);this.Ae(o)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class uc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pm{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Kd.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new pm(lt.min(),i,new xn(xt),Ls(),vt())}}class Kd{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Kd(r,n,vt(),vt(),vt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gf{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}}class mk{constructor(e,n){this.targetId=e,this.me=n}}class gk{constructor(e,n,r=lr.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class eE{constructor(){this.fe=0,this.ge=nE(),this.pe=lr.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=vt(),n=vt(),r=vt();return this.ge.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:ot()}}),new Kd(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=nE()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,qt(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class kF{constructor(e){this.Le=e,this.Be=new Map,this.ke=Ls(),this.qe=tE(),this.Qe=new xn(xt)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:ot()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){const n=e.targetId,r=e.me.count,i=this.Je(n);if(i){const s=i.target;if(gy(s))if(r===0){const o=new Je(s.path);this.Ue(n,o,vr.newNoDocument(o,lt.min()))}else qt(r===1);else{const o=this.Ye(n);if(o!==r){const a=this.Ze(e),l=a?this.Xe(a,e,o):1;if(l!==0){this.je(n);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,u)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,a;try{o=Ia(r).toUint8Array()}catch(l){if(l instanceof YP)return Yl("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new m0(o,i,s)}catch(l){return Yl(l instanceof uc?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Ie===0?null:a}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.Le.tt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.Ue(n,s,null),i++)}),i}rt(e){const n=new Map;this.Be.forEach((s,o)=>{const a=this.Je(o);if(a){if(s.current&&gy(a.target)){const l=new Je(a.target.path);this.ke.get(l)!==null||this.it(o,l)||this.Ue(o,l,vr.newNoDocument(l,e))}s.be&&(n.set(o,s.ve()),s.Ce())}});let r=vt();this.qe.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const u=this.Je(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.ke.forEach((s,o)=>o.setReadTime(e));const i=new pm(e,n,this.Qe,this.ke,r);return this.ke=Ls(),this.qe=tE(),this.Qe=new xn(xt),i}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new eE,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new ar(xt),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||qe("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new eE),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function tE(){return new xn(Je.comparator)}function nE(){return new xn(Je.comparator)}const RF={asc:"ASCENDING",desc:"DESCENDING"},DF={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},xF={and:"AND",or:"OR"};class NF{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function yy(t,e){return t.useProto3Json||am(e)?e:{value:e}}function np(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function vk(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function MF(t,e){return np(t,e.toTimestamp())}function rs(t){return qt(!!t),lt.fromTimestamp(function(n){const r=Do(n);return new Zt(r.seconds,r.nanos)}(t))}function g0(t,e){return _y(t,e).canonicalString()}function _y(t,e){const n=function(i){return new en(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function yk(t){const e=en.fromString(t);return qt(Ek(e)),e}function by(t,e){return g0(t.databaseId,e.path)}function Vg(t,e){const n=yk(e);if(n.get(1)!==t.databaseId.projectId)throw new De(de.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new De(de.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Je(bk(n))}function _k(t,e){return g0(t.databaseId,e)}function LF(t){const e=yk(t);return e.length===4?en.emptyPath():bk(e)}function wy(t){return new en(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function bk(t){return qt(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function rE(t,e,n){return{name:by(t,e),fields:n.value.mapValue.fields}}function VF(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:ot()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(u,c){return u.useProto3Json?(qt(c===void 0||typeof c=="string"),lr.fromBase64String(c||"")):(qt(c===void 0||c instanceof Buffer||c instanceof Uint8Array),lr.fromUint8Array(c||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(u){const c=u.code===void 0?de.UNKNOWN:pk(u.code);return new De(c,u.message||"")}(o);n=new gk(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Vg(t,r.document.name),s=rs(r.document.updateTime),o=r.document.createTime?rs(r.document.createTime):lt.min(),a=new Wr({mapValue:{fields:r.document.fields}}),l=vr.newFoundDocument(i,s,o,a),u=r.targetIds||[],c=r.removedTargetIds||[];n=new gf(u,c,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Vg(t,r.document),s=r.readTime?rs(r.readTime):lt.min(),o=vr.newNoDocument(i,s),a=r.removedTargetIds||[];n=new gf([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Vg(t,r.document),s=r.removedTargetIds||[];n=new gf([],s,i,null)}else{if(!("filter"in e))return ot();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new CF(i,s),a=r.targetId;n=new mk(a,o)}}return n}function FF(t,e){let n;if(e instanceof zd)n={update:rE(t,e.key,e.value)};else if(e instanceof f0)n={delete:by(t,e.key)};else if(e instanceof Ho)n={update:rE(t,e.key,e.data),updateMask:KF(e.fieldMask)};else{if(!(e instanceof EF))return ot();n={verify:by(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const a=o.transform;if(a instanceof ep)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof ud)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof cd)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof tp)return{fieldPath:o.field.canonicalString(),increment:a.Pe};throw ot()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:MF(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:ot()}(t,e.precondition)),n}function $F(t,e){return t&&t.length>0?(qt(e!==void 0),t.map(n=>function(i,s){let o=i.updateTime?rs(i.updateTime):rs(s);return o.isEqual(lt.min())&&(o=rs(s)),new bF(o,i.transformResults||[])}(n,e))):[]}function UF(t,e){return{documents:[_k(t,e.path)]}}function BF(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=_k(t,i);const s=function(u){if(u.length!==0)return Tk($i.create(u,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const o=function(u){if(u.length!==0)return u.map(c=>function(f){return{field:ul(f.field),direction:WF(f.dir)}}(c))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=yy(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{_t:n,parent:i}}function HF(t){let e=LF(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){qt(r===1);const c=n.from[0];c.allDescendants?i=c.collectionId:e=e.child(c.collectionId)}let s=[];n.where&&(s=function(h){const f=wk(h);return f instanceof $i&&JP(f)?f.getFilters():[f]}(n.where));let o=[];n.orderBy&&(o=function(h){return h.map(f=>function(g){return new ld(cl(g.field),function(I){switch(I){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(g.direction))}(f))}(n.orderBy));let a=null;n.limit&&(a=function(h){let f;return f=typeof h=="object"?h.value:h,am(f)?null:f}(n.limit));let l=null;n.startAt&&(l=function(h){const f=!!h.before,p=h.values||[];return new Jl(p,f)}(n.startAt));let u=null;return n.endAt&&(u=function(h){const f=!h.before,p=h.values||[];return new Jl(p,f)}(n.endAt)),aF(e,i,o,s,a,"F",l,u)}function jF(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ot()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function wk(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=cl(n.unaryFilter.field);return Dn.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=cl(n.unaryFilter.field);return Dn.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=cl(n.unaryFilter.field);return Dn.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=cl(n.unaryFilter.field);return Dn.create(o,"!=",{nullValue:"NULL_VALUE"});default:return ot()}}(t):t.fieldFilter!==void 0?function(n){return Dn.create(cl(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ot()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return $i.create(n.compositeFilter.filters.map(r=>wk(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return ot()}}(n.compositeFilter.op))}(t):ot()}function WF(t){return RF[t]}function qF(t){return DF[t]}function zF(t){return xF[t]}function ul(t){return{fieldPath:t.canonicalString()}}function cl(t){return nr.fromServerFormat(t.fieldPath)}function Tk(t){return t instanceof Dn?function(n){if(n.op==="=="){if(jT(n.value))return{unaryFilter:{field:ul(n.field),op:"IS_NAN"}};if(HT(n.value))return{unaryFilter:{field:ul(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(jT(n.value))return{unaryFilter:{field:ul(n.field),op:"IS_NOT_NAN"}};if(HT(n.value))return{unaryFilter:{field:ul(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ul(n.field),op:qF(n.op),value:n.value}}}(t):t instanceof $i?function(n){const r=n.getFilters().map(i=>Tk(i));return r.length===1?r[0]:{compositeFilter:{op:zF(n.op),filters:r}}}(t):ot()}function KF(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function Ek(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mo{constructor(e,n,r,i,s=lt.min(),o=lt.min(),a=lr.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new mo(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new mo(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new mo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new mo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YF{constructor(e){this.ct=e}}function GF(t){const e=HF({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Zf(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QF{constructor(){this.un=new XF}addToCollectionParentIndex(e,n){return this.un.add(n),ye.resolve()}getCollectionParents(e,n){return ye.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return ye.resolve()}deleteFieldIndex(e,n){return ye.resolve()}deleteAllFieldIndexes(e){return ye.resolve()}createTargetIndexes(e,n){return ye.resolve()}getDocumentsMatchingTarget(e,n){return ye.resolve(null)}getIndexType(e,n){return ye.resolve(0)}getFieldIndexes(e,n){return ye.resolve([])}getNextCollectionGroupToUpdate(e){return ye.resolve(null)}getMinOffset(e,n){return ye.resolve(Ro.min())}getMinOffsetFromCollectionGroup(e,n){return ye.resolve(Ro.min())}updateCollectionGroup(e,n,r){return ye.resolve()}updateIndexEntries(e,n){return ye.resolve()}}class XF{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new ar(en.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new ar(en.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zl{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new Zl(0)}static kn(){return new Zl(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JF{constructor(){this.changes=new wu(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,vr.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?ye.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZF{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e${constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Ac(r.mutation,i,ti.empty(),Zt.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,vt()).next(()=>r))}getLocalViewOfDocuments(e,n,r=vt()){const i=oa();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=lc();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=oa();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,vt()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=Ls();const o=Cc(),a=function(){return Cc()}();return n.forEach((l,u)=>{const c=r.get(u.key);i.has(u.key)&&(c===void 0||c.mutation instanceof Ho)?s=s.insert(u.key,u):c!==void 0?(o.set(u.key,c.mutation.getFieldMask()),Ac(c.mutation,u,c.mutation.getFieldMask(),Zt.now())):o.set(u.key,ti.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((u,c)=>o.set(u,c)),n.forEach((u,c)=>{var h;return a.set(u,new ZF(c,(h=o.get(u))!==null&&h!==void 0?h:null))}),a))}recalculateAndSaveOverlays(e,n){const r=Cc();let i=new xn((o,a)=>o-a),s=vt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let c=r.get(l)||ti.empty();c=a.applyToLocalView(u,c),r.set(l,c);const h=(i.get(a.batchId)||vt()).add(l);i=i.insert(a.batchId,h)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,c=l.value,h=ok();c.forEach(f=>{if(!s.has(f)){const p=hk(n.get(f),r.get(f));p!==null&&h.set(f,p),s=s.add(f)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,h))}return ye.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return Je.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):d0(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):ye.resolve(oa());let a=-1,l=s;return o.next(u=>ye.forEach(u,(c,h)=>(a<h.largestBatchId&&(a=h.largestBatchId),s.get(c)?ye.resolve():this.remoteDocumentCache.getEntry(e,c).next(f=>{l=l.insert(c,f)}))).next(()=>this.populateOverlays(e,u,s)).next(()=>this.computeViews(e,l,u,vt())).next(c=>({batchId:a,changes:sk(c)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Je(n)).next(r=>{let i=lc();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let o=lc();return this.indexManager.getCollectionParents(e,s).next(a=>ye.forEach(a,l=>{const u=function(h,f){return new $a(f,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)}(n,l.child(s));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(c=>{c.forEach((h,f)=>{o=o.insert(h,f)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((l,u)=>{const c=u.getKey();o.get(c)===null&&(o=o.insert(c,vr.newInvalidDocument(c)))});let a=lc();return o.forEach((l,u)=>{const c=s.get(l);c!==void 0&&Ac(c.mutation,u,ti.empty(),Zt.now()),dm(n,u)&&(a=a.insert(l,u))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t${constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return ye.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:rs(i.createTime)}}(n)),ye.resolve()}getNamedQuery(e,n){return ye.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(i){return{name:i.name,query:GF(i.bundledQuery),readTime:rs(i.readTime)}}(n)),ye.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n${constructor(){this.overlays=new xn(Je.comparator),this.Ir=new Map}getOverlay(e,n){return ye.resolve(this.overlays.get(n))}getOverlays(e,n){const r=oa();return ye.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.ht(e,n,s)}),ye.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Ir.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Ir.delete(r)),ye.resolve()}getOverlaysForCollection(e,n,r){const i=oa(),s=n.length+1,o=new Je(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return ye.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new xn((u,c)=>u-c);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let c=s.get(u.largestBatchId);c===null&&(c=oa(),s=s.insert(u.largestBatchId,c)),c.set(u.getKey(),u)}}const a=oa(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,c)=>a.set(u,c)),!(a.size()>=i)););return ye.resolve(a)}ht(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new SF(n,r));let s=this.Ir.get(n);s===void 0&&(s=vt(),this.Ir.set(n,s)),this.Ir.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r${constructor(){this.sessionToken=lr.EMPTY_BYTE_STRING}getSessionToken(e){return ye.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ye.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v0{constructor(){this.Tr=new ar(Hn.Er),this.dr=new ar(Hn.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){const r=new Hn(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new Hn(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){const n=new Je(new en([])),r=new Hn(n,e),i=new Hn(n,e+1),s=[];return this.dr.forEachInRange([r,i],o=>{this.Vr(o),s.push(o.key)}),s}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const n=new Je(new en([])),r=new Hn(n,e),i=new Hn(n,e+1);let s=vt();return this.dr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new Hn(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Hn{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return Je.comparator(e.key,n.key)||xt(e.wr,n.wr)}static Ar(e,n){return xt(e.wr,n.wr)||Je.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i${constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new ar(Hn.Er)}checkEmpty(e){return ye.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new IF(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.br=this.br.add(new Hn(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return ye.resolve(o)}lookupMutationBatch(e,n){return ye.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.vr(r),s=i<0?0:i;return ye.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return ye.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return ye.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Hn(n,0),i=new Hn(n,Number.POSITIVE_INFINITY),s=[];return this.br.forEachInRange([r,i],o=>{const a=this.Dr(o.wr);s.push(a)}),ye.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new ar(xt);return n.forEach(i=>{const s=new Hn(i,0),o=new Hn(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([s,o],a=>{r=r.add(a.wr)})}),ye.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;Je.isDocumentKey(s)||(s=s.child(""));const o=new Hn(new Je(s),0);let a=new ar(xt);return this.br.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(l.wr)),!0)},o),ye.resolve(this.Cr(a))}Cr(e){const n=[];return e.forEach(r=>{const i=this.Dr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){qt(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return ye.forEach(n.mutations,i=>{const s=new Hn(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){const r=new Hn(n,0),i=this.br.firstAfterOrEqual(r);return ye.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,ye.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s${constructor(e){this.Mr=e,this.docs=function(){return new xn(Je.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return ye.resolve(r?r.document.mutableCopy():vr.newInvalidDocument(n))}getEntries(e,n){let r=Ls();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():vr.newInvalidDocument(i))}),ye.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=Ls();const o=n.path,a=new Je(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:u,value:{document:c}}=l.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||H9(B9(c),r)<=0||(i.has(c.key)||dm(n,c))&&(s=s.insert(c.key,c.mutableCopy()))}return ye.resolve(s)}getAllFromCollectionGroup(e,n,r,i){ot()}Or(e,n){return ye.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new o$(this)}getSize(e){return ye.resolve(this.size)}}class o$ extends JF{constructor(e){super(),this.cr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),ye.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a${constructor(e){this.persistence=e,this.Nr=new wu(n=>u0(n),c0),this.lastRemoteSnapshotVersion=lt.min(),this.highestTargetId=0,this.Lr=0,this.Br=new v0,this.targetCount=0,this.kr=Zl.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,i)=>n(i)),ye.resolve()}getLastRemoteSnapshotVersion(e){return ye.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ye.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),ye.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),ye.resolve()}Kn(e){this.Nr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.kr=new Zl(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,ye.resolve()}updateTargetData(e,n){return this.Kn(n),ye.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,ye.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Nr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Nr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),ye.waitFor(s).next(()=>i)}getTargetCount(e){return ye.resolve(this.targetCount)}getTargetData(e,n){const r=this.Nr.get(n)||null;return ye.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),ye.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),ye.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),ye.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Br.yr(n);return ye.resolve(r)}containsKey(e,n){return ye.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l${constructor(e,n){this.qr={},this.overlays={},this.Qr=new o0(0),this.Kr=!1,this.Kr=!0,this.$r=new r$,this.referenceDelegate=e(this),this.Ur=new a$(this),this.indexManager=new QF,this.remoteDocumentCache=function(i){return new s$(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new YF(n),this.Gr=new t$(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new n$,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new i$(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){qe("MemoryPersistence","Starting transaction:",e);const i=new u$(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(s=>this.referenceDelegate.jr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Hr(e,n){return ye.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}}class u$ extends W9{constructor(e){super(),this.currentSequenceNumber=e}}class y0{constructor(e){this.persistence=e,this.Jr=new v0,this.Yr=null}static Zr(e){return new y0(e)}get Xr(){if(this.Yr)return this.Yr;throw ot()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),ye.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),ye.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),ye.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(i=>this.Xr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Xr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ye.forEach(this.Xr,r=>{const i=Je.fromPath(r);return this.ei(e,i).next(s=>{s||n.removeEntry(i,lt.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return ye.or([()=>ye.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _0{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=i}static Wi(e,n){let r=vt(),i=vt();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new _0(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c${constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d${constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return WL()?8:q9(Cr())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.Yi(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Zi(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new c$;return this.Xi(e,n,o).next(a=>{if(s.result=a,this.zi)return this.es(e,n,o,a.size)})}).next(()=>s.result)}es(e,n,r,i){return r.documentReadCount<this.ji?(Wu()<=gt.DEBUG&&qe("QueryEngine","SDK will not create cache indexes for query:",ll(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),ye.resolve()):(Wu()<=gt.DEBUG&&qe("QueryEngine","Query:",ll(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(Wu()<=gt.DEBUG&&qe("QueryEngine","The SDK decides to create cache indexes for query:",ll(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ns(n))):ye.resolve())}Yi(e,n){if(KT(n))return ye.resolve(null);let r=ns(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Zf(n,null,"F"),r=ns(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=vt(...s);return this.Ji.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const u=this.ts(n,a);return this.ns(n,u,o,l.readTime)?this.Yi(e,Zf(n,null,"F")):this.rs(e,u,n,l)}))})))}Zi(e,n,r,i){return KT(n)||i.isEqual(lt.min())?ye.resolve(null):this.Ji.getDocuments(e,r).next(s=>{const o=this.ts(n,s);return this.ns(n,o,r,i)?ye.resolve(null):(Wu()<=gt.DEBUG&&qe("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),ll(n)),this.rs(e,o,n,U9(i,-1)).next(a=>a))})}ts(e,n){let r=new ar(rk(e));return n.forEach((i,s)=>{dm(e,s)&&(r=r.add(s))}),r}ns(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Xi(e,n,r){return Wu()<=gt.DEBUG&&qe("QueryEngine","Using full collection scan to execute query:",ll(n)),this.Ji.getDocumentsMatchingQuery(e,n,Ro.min(),r)}rs(e,n,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h${constructor(e,n,r,i){this.persistence=e,this.ss=n,this.serializer=i,this.os=new xn(xt),this._s=new wu(s=>u0(s),c0),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new e$(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}}function f$(t,e,n,r){return new h$(t,e,n,r)}async function Ik(t,e){const n=ut(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let l=vt();for(const u of i){o.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}for(const u of s){a.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}return n.localDocuments.getDocuments(r,l).next(u=>({hs:u,removedBatchIds:o,addedBatchIds:a}))})})}function p$(t,e){const n=ut(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.cs.newChangeBuffer({trackRemovals:!0});return function(a,l,u,c){const h=u.batch,f=h.keys();let p=ye.resolve();return f.forEach(g=>{p=p.next(()=>c.getEntry(l,g)).next(w=>{const I=u.docVersions.get(g);qt(I!==null),w.version.compareTo(I)<0&&(h.applyToRemoteDocument(w,u),w.isValidDocument()&&(w.setReadTime(u.commitVersion),c.addEntry(w)))})}),p.next(()=>a.mutationQueue.removeMutationBatch(l,h))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=vt();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(l=l.add(a.batch.mutations[u].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function Sk(t){const e=ut(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function m$(t,e){const n=ut(t),r=e.snapshotVersion;let i=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.cs.newChangeBuffer({trackRemovals:!0});i=n.os;const a=[];e.targetChanges.forEach((c,h)=>{const f=i.get(h);if(!f)return;a.push(n.Ur.removeMatchingKeys(s,c.removedDocuments,h).next(()=>n.Ur.addMatchingKeys(s,c.addedDocuments,h)));let p=f.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(h)!==null?p=p.withResumeToken(lr.EMPTY_BYTE_STRING,lt.min()).withLastLimboFreeSnapshotVersion(lt.min()):c.resumeToken.approximateByteSize()>0&&(p=p.withResumeToken(c.resumeToken,r)),i=i.insert(h,p),function(w,I,k){return w.resumeToken.approximateByteSize()===0||I.snapshotVersion.toMicroseconds()-w.snapshotVersion.toMicroseconds()>=3e8?!0:k.addedDocuments.size+k.modifiedDocuments.size+k.removedDocuments.size>0}(f,p,c)&&a.push(n.Ur.updateTargetData(s,p))});let l=Ls(),u=vt();if(e.documentUpdates.forEach(c=>{e.resolvedLimboDocuments.has(c)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,c))}),a.push(g$(s,o,e.documentUpdates).next(c=>{l=c.Ps,u=c.Is})),!r.isEqual(lt.min())){const c=n.Ur.getLastRemoteSnapshotVersion(s).next(h=>n.Ur.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(c)}return ye.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,u)).next(()=>l)}).then(s=>(n.os=i,s))}function g$(t,e,n){let r=vt(),i=vt();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=Ls();return n.forEach((a,l)=>{const u=s.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(lt.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):qe("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{Ps:o,Is:i}})}function v$(t,e){const n=ut(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function y$(t,e){const n=ut(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ur.getTargetData(r,e).next(s=>s?(i=s,ye.resolve(i)):n.Ur.allocateTargetId(r).next(o=>(i=new mo(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}async function Ty(t,e,n){const r=ut(t),i=r.os.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!qd(o))throw o;qe("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.os=r.os.remove(e),r._s.delete(i.target)}function iE(t,e,n){const r=ut(t);let i=lt.min(),s=vt();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,u,c){const h=ut(l),f=h._s.get(c);return f!==void 0?ye.resolve(h.os.get(f)):h.Ur.getTargetData(u,c)}(r,o,ns(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>r.ss.getDocumentsMatchingQuery(o,e,n?i:lt.min(),n?s:vt())).next(a=>(_$(r,uF(e),a),{documents:a,Ts:s})))}function _$(t,e,n){let r=t.us.get(e)||lt.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.us.set(e,r)}class sE{constructor(){this.activeTargetIds=mF()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class b${constructor(){this.so=new sE,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new sE,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w${_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oE{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){qe("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){qe("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Wh=null;function Fg(){return Wh===null?Wh=function(){return 268435456+Math.round(2147483648*Math.random())}():Wh++,"0x"+Wh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T$={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E${constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dr="WebChannelConnection";class I$ extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${i}/databases/${s}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get Fo(){return!1}Mo(n,r,i,s,o){const a=Fg(),l=this.xo(n,r.toUriEncodedString());qe("RestConnection",`Sending RPC '${n}' ${a}:`,l,i);const u={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(u,s,o),this.No(n,l,u,i).then(c=>(qe("RestConnection",`Received RPC '${n}' ${a}: `,c),c),c=>{throw Yl("RestConnection",`RPC '${n}' ${a} failed with error: `,c,"url: ",l,"request:",i),c})}Lo(n,r,i,s,o,a){return this.Mo(n,r,i,s,o)}Oo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+bu}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}xo(n,r){const i=T$[n];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,i){const s=Fg();return new Promise((o,a)=>{const l=new UP;l.setWithCredentials(!0),l.listenOnce(BP.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case ff.NO_ERROR:const c=l.getResponseJson();qe(dr,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(c)),o(c);break;case ff.TIMEOUT:qe(dr,`RPC '${e}' ${s} timed out`),a(new De(de.DEADLINE_EXCEEDED,"Request time out"));break;case ff.HTTP_ERROR:const h=l.getStatus();if(qe(dr,`RPC '${e}' ${s} failed with status:`,h,"response text:",l.getResponseText()),h>0){let f=l.getResponseJson();Array.isArray(f)&&(f=f[0]);const p=f==null?void 0:f.error;if(p&&p.status&&p.message){const g=function(I){const k=I.toLowerCase().replace(/_/g,"-");return Object.values(de).indexOf(k)>=0?k:de.UNKNOWN}(p.status);a(new De(g,p.message))}else a(new De(de.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new De(de.UNAVAILABLE,"Connection failed."));break;default:ot()}}finally{qe(dr,`RPC '${e}' ${s} completed.`)}});const u=JSON.stringify(i);qe(dr,`RPC '${e}' ${s} sending request:`,i),l.send(n,"POST",u,r,15)})}Bo(e,n,r){const i=Fg(),s=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=WP(),a=jP(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Oo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const c=s.join("");qe(dr,`Creating RPC '${e}' stream ${i}: ${c}`,l);const h=o.createWebChannel(c,l);let f=!1,p=!1;const g=new E$({Io:I=>{p?qe(dr,`Not sending because RPC '${e}' stream ${i} is closed:`,I):(f||(qe(dr,`Opening RPC '${e}' stream ${i} transport.`),h.open(),f=!0),qe(dr,`RPC '${e}' stream ${i} sending:`,I),h.send(I))},To:()=>h.close()}),w=(I,k,P)=>{I.listen(k,T=>{try{P(T)}catch(_){setTimeout(()=>{throw _},0)}})};return w(h,ac.EventType.OPEN,()=>{p||(qe(dr,`RPC '${e}' stream ${i} transport opened.`),g.yo())}),w(h,ac.EventType.CLOSE,()=>{p||(p=!0,qe(dr,`RPC '${e}' stream ${i} transport closed`),g.So())}),w(h,ac.EventType.ERROR,I=>{p||(p=!0,Yl(dr,`RPC '${e}' stream ${i} transport errored:`,I),g.So(new De(de.UNAVAILABLE,"The operation could not be completed")))}),w(h,ac.EventType.MESSAGE,I=>{var k;if(!p){const P=I.data[0];qt(!!P);const T=P,_=T.error||((k=T[0])===null||k===void 0?void 0:k.error);if(_){qe(dr,`RPC '${e}' stream ${i} received error:`,_);const L=_.status;let V=function(b){const v=Rn[b];if(v!==void 0)return pk(v)}(L),S=_.message;V===void 0&&(V=de.INTERNAL,S="Unknown error status: "+L+" with message "+_.message),p=!0,g.So(new De(V,S)),h.close()}else qe(dr,`RPC '${e}' stream ${i} received:`,P),g.bo(P)}}),w(a,HP.STAT_EVENT,I=>{I.stat===dy.PROXY?qe(dr,`RPC '${e}' stream ${i} detected buffering proxy`):I.stat===dy.NOPROXY&&qe(dr,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{g.wo()},0),g}}function $g(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mm(t){return new NF(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ck{constructor(e,n,r=1e3,i=1.5,s=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=i,this.Qo=s,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,n-r);i>0&&qe("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ak{constructor(e,n,r,i,s,o,a,l){this.ui=e,this.Ho=r,this.Jo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new Ck(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===de.RESOURCE_EXHAUSTED?(Ms(n.toString()),Ms("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===de.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(n)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===n&&this.P_(r,i)},r=>{e(()=>{const i=new De(de.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,n){const r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return qe("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(qe("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class S$ extends Ak{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const n=VF(this.serializer,e),r=function(s){if(!("targetChange"in s))return lt.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?lt.min():o.readTime?rs(o.readTime):lt.min()}(e);return this.listener.d_(n,r)}A_(e){const n={};n.database=wy(this.serializer),n.addTarget=function(s,o){let a;const l=o.target;if(a=gy(l)?{documents:UF(s,l)}:{query:BF(s,l)._t},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=vk(s,o.resumeToken);const u=yy(s,o.expectedCount);u!==null&&(a.expectedCount=u)}else if(o.snapshotVersion.compareTo(lt.min())>0){a.readTime=np(s,o.snapshotVersion.toTimestamp());const u=yy(s,o.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);const r=jF(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){const n={};n.database=wy(this.serializer),n.removeTarget=e,this.a_(n)}}class C$ extends Ak{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return qt(!!e.streamToken),this.lastStreamToken=e.streamToken,qt(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){qt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const n=$F(e.writeResults,e.commitTime),r=rs(e.commitTime);return this.listener.g_(r,n)}p_(){const e={};e.database=wy(this.serializer),this.a_(e)}m_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>FF(this.serializer,r))};this.a_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A$ extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new De(de.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Mo(e,_y(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===de.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new De(de.UNKNOWN,s.toString())})}Lo(e,n,r,i,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Lo(e,_y(n,r),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===de.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new De(de.UNKNOWN,o.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class O${constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Ms(n),this.D_=!1):qe("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P${constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=s,this.k_._o(o=>{r.enqueueAndForget(async()=>{Ua(this)&&(qe("RemoteStore","Restarting streams for network reachability change."),await async function(l){const u=ut(l);u.L_.add(4),await Yd(u),u.q_.set("Unknown"),u.L_.delete(4),await gm(u)}(this))})}),this.q_=new O$(r,i)}}async function gm(t){if(Ua(t))for(const e of t.B_)await e(!0)}async function Yd(t){for(const e of t.B_)await e(!1)}function Ok(t,e){const n=ut(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),E0(n)?T0(n):Tu(n).r_()&&w0(n,e))}function b0(t,e){const n=ut(t),r=Tu(n);n.N_.delete(e),r.r_()&&Pk(n,e),n.N_.size===0&&(r.r_()?r.o_():Ua(n)&&n.q_.set("Unknown"))}function w0(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(lt.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Tu(t).A_(e)}function Pk(t,e){t.Q_.xe(e),Tu(t).R_(e)}function T0(t){t.Q_=new kF({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),Tu(t).start(),t.q_.v_()}function E0(t){return Ua(t)&&!Tu(t).n_()&&t.N_.size>0}function Ua(t){return ut(t).L_.size===0}function kk(t){t.Q_=void 0}async function k$(t){t.q_.set("Online")}async function R$(t){t.N_.forEach((e,n)=>{w0(t,e)})}async function D$(t,e){kk(t),E0(t)?(t.q_.M_(e),T0(t)):t.q_.set("Unknown")}async function x$(t,e,n){if(t.q_.set("Online"),e instanceof gk&&e.state===2&&e.cause)try{await async function(i,s){const o=s.cause;for(const a of s.targetIds)i.N_.has(a)&&(await i.remoteSyncer.rejectListen(a,o),i.N_.delete(a),i.Q_.removeTarget(a))}(t,e)}catch(r){qe("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await rp(t,r)}else if(e instanceof gf?t.Q_.Ke(e):e instanceof mk?t.Q_.He(e):t.Q_.We(e),!n.isEqual(lt.min()))try{const r=await Sk(t.localStore);n.compareTo(r)>=0&&await function(s,o){const a=s.Q_.rt(o);return a.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const c=s.N_.get(u);c&&s.N_.set(u,c.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,u)=>{const c=s.N_.get(l);if(!c)return;s.N_.set(l,c.withResumeToken(lr.EMPTY_BYTE_STRING,c.snapshotVersion)),Pk(s,l);const h=new mo(c.target,l,u,c.sequenceNumber);w0(s,h)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){qe("RemoteStore","Failed to raise snapshot:",r),await rp(t,r)}}async function rp(t,e,n){if(!qd(e))throw e;t.L_.add(1),await Yd(t),t.q_.set("Offline"),n||(n=()=>Sk(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{qe("RemoteStore","Retrying IndexedDB access"),await n(),t.L_.delete(1),await gm(t)})}function Rk(t,e){return e().catch(n=>rp(t,n,e))}async function vm(t){const e=ut(t),n=xo(e);let r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;N$(e);)try{const i=await v$(e.localStore,r);if(i===null){e.O_.length===0&&n.o_();break}r=i.batchId,M$(e,i)}catch(i){await rp(e,i)}Dk(e)&&xk(e)}function N$(t){return Ua(t)&&t.O_.length<10}function M$(t,e){t.O_.push(e);const n=xo(t);n.r_()&&n.V_&&n.m_(e.mutations)}function Dk(t){return Ua(t)&&!xo(t).n_()&&t.O_.length>0}function xk(t){xo(t).start()}async function L$(t){xo(t).p_()}async function V$(t){const e=xo(t);for(const n of t.O_)e.m_(n.mutations)}async function F$(t,e,n){const r=t.O_.shift(),i=p0.from(r,e,n);await Rk(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await vm(t)}async function $$(t,e){e&&xo(t).V_&&await async function(r,i){if(function(o){return AF(o)&&o!==de.ABORTED}(i.code)){const s=r.O_.shift();xo(r).s_(),await Rk(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await vm(r)}}(t,e),Dk(t)&&xk(t)}async function aE(t,e){const n=ut(t);n.asyncQueue.verifyOperationInProgress(),qe("RemoteStore","RemoteStore received new credentials");const r=Ua(n);n.L_.add(3),await Yd(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),await gm(n)}async function U$(t,e){const n=ut(t);e?(n.L_.delete(2),await gm(n)):e||(n.L_.add(2),await Yd(n),n.q_.set("Unknown"))}function Tu(t){return t.K_||(t.K_=function(n,r,i){const s=ut(n);return s.w_(),new S$(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:k$.bind(null,t),Ro:R$.bind(null,t),mo:D$.bind(null,t),d_:x$.bind(null,t)}),t.B_.push(async e=>{e?(t.K_.s_(),E0(t)?T0(t):t.q_.set("Unknown")):(await t.K_.stop(),kk(t))})),t.K_}function xo(t){return t.U_||(t.U_=function(n,r,i){const s=ut(n);return s.w_(),new C$(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:L$.bind(null,t),mo:$$.bind(null,t),f_:V$.bind(null,t),g_:F$.bind(null,t)}),t.B_.push(async e=>{e?(t.U_.s_(),await vm(t)):(await t.U_.stop(),t.O_.length>0&&(qe("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))})),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I0{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new ks,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new I0(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new De(de.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function S0(t,e){if(Ms("AsyncQueue",`${e}: ${t}`),qd(t))return new De(de.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rl{constructor(e){this.comparator=e?(n,r)=>e(n,r)||Je.comparator(n.key,r.key):(n,r)=>Je.comparator(n.key,r.key),this.keyedMap=lc(),this.sortedSet=new xn(this.comparator)}static emptySet(e){return new Rl(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Rl)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Rl;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lE{constructor(){this.W_=new xn(Je.comparator)}track(e){const n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):ot():this.W_=this.W_.insert(n,e)}G_(){const e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}}class eu{constructor(e,n,r,i,s,o,a,l,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new eu(e,n,Rl.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&cm(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B${constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class H${constructor(){this.queries=uE(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){const i=ut(n),s=i.queries;i.queries=uE(),s.forEach((o,a)=>{for(const l of a.j_)l.onError(r)})})(this,new De(de.ABORTED,"Firestore shutting down"))}}function uE(){return new wu(t=>nk(t),cm)}async function C0(t,e){const n=ut(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.H_()&&e.J_()&&(r=2):(s=new B$,r=e.J_()?0:1);try{switch(r){case 0:s.z_=await n.onListen(i,!0);break;case 1:s.z_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(o){const a=S0(o,`Initialization of query '${ll(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,s),s.j_.push(e),e.Z_(n.onlineState),s.z_&&e.X_(s.z_)&&O0(n)}async function A0(t,e){const n=ut(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const o=s.j_.indexOf(e);o>=0&&(s.j_.splice(o,1),s.j_.length===0?i=e.J_()?0:1:!s.H_()&&e.J_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function j$(t,e){const n=ut(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.j_)a.X_(i)&&(r=!0);o.z_=i}}r&&O0(n)}function W$(t,e,n){const r=ut(t),i=r.queries.get(e);if(i)for(const s of i.j_)s.onError(n);r.queries.delete(e)}function O0(t){t.Y_.forEach(e=>{e.next()})}var Ey,cE;(cE=Ey||(Ey={})).ea="default",cE.Cache="cache";class P0{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new eu(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;const r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=eu.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==Ey.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nk{constructor(e){this.key=e}}class Mk{constructor(e){this.key=e}}class q${constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=vt(),this.mutatedKeys=vt(),this.Aa=rk(e),this.Ra=new Rl(this.Aa)}get Va(){return this.Ta}ma(e,n){const r=n?n.fa:new lE,i=n?n.Ra:this.Ra;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((c,h)=>{const f=i.get(c),p=dm(this.query,h)?h:null,g=!!f&&this.mutatedKeys.has(f.key),w=!!p&&(p.hasLocalMutations||this.mutatedKeys.has(p.key)&&p.hasCommittedMutations);let I=!1;f&&p?f.data.isEqual(p.data)?g!==w&&(r.track({type:3,doc:p}),I=!0):this.ga(f,p)||(r.track({type:2,doc:p}),I=!0,(l&&this.Aa(p,l)>0||u&&this.Aa(p,u)<0)&&(a=!0)):!f&&p?(r.track({type:0,doc:p}),I=!0):f&&!p&&(r.track({type:1,doc:f}),I=!0,(l||u)&&(a=!0)),I&&(p?(o=o.add(p),s=w?s.add(c):s.delete(c)):(o=o.delete(c),s=s.delete(c)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const c=this.query.limitType==="F"?o.last():o.first();o=o.delete(c.key),s=s.delete(c.key),r.track({type:1,doc:c})}return{Ra:o,fa:r,ns:a,mutatedKeys:s}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const o=e.fa.G_();o.sort((c,h)=>function(p,g){const w=I=>{switch(I){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ot()}};return w(p)-w(g)}(c.type,h.type)||this.Aa(c.doc,h.doc)),this.pa(r),i=i!=null&&i;const a=n&&!i?this.ya():[],l=this.da.size===0&&this.current&&!i?1:0,u=l!==this.Ea;return this.Ea=l,o.length!==0||u?{snapshot:new eu(this.query,e.Ra,s,o,e.mutatedKeys,l===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new lE,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=vt(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});const n=[];return e.forEach(r=>{this.da.has(r)||n.push(new Mk(r))}),this.da.forEach(r=>{e.has(r)||n.push(new Nk(r))}),n}ba(e){this.Ta=e.Ts,this.da=vt();const n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return eu.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class z${constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class K${constructor(e){this.key=e,this.va=!1}}class Y${constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Ca={},this.Fa=new wu(a=>nk(a),cm),this.Ma=new Map,this.xa=new Set,this.Oa=new xn(Je.comparator),this.Na=new Map,this.La=new v0,this.Ba={},this.ka=new Map,this.qa=Zl.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function G$(t,e,n=!0){const r=Bk(t);let i;const s=r.Fa.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.Da()):i=await Lk(r,e,n,!0),i}async function Q$(t,e){const n=Bk(t);await Lk(n,e,!0,!1)}async function Lk(t,e,n,r){const i=await y$(t.localStore,ns(e)),s=i.targetId,o=t.sharedClientState.addLocalQueryTarget(s,n);let a;return r&&(a=await X$(t,e,s,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&Ok(t.remoteStore,i),a}async function X$(t,e,n,r,i){t.Ka=(h,f,p)=>async function(w,I,k,P){let T=I.view.ma(k);T.ns&&(T=await iE(w.localStore,I.query,!1).then(({documents:S})=>I.view.ma(S,T)));const _=P&&P.targetChanges.get(I.targetId),L=P&&P.targetMismatches.get(I.targetId)!=null,V=I.view.applyChanges(T,w.isPrimaryClient,_,L);return hE(w,I.targetId,V.wa),V.snapshot}(t,h,f,p);const s=await iE(t.localStore,e,!0),o=new q$(e,s.Ts),a=o.ma(s.documents),l=Kd.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=o.applyChanges(a,t.isPrimaryClient,l);hE(t,n,u.wa);const c=new z$(e,n,o);return t.Fa.set(e,c),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),u.snapshot}async function J$(t,e,n){const r=ut(t),i=r.Fa.get(e),s=r.Ma.get(i.targetId);if(s.length>1)return r.Ma.set(i.targetId,s.filter(o=>!cm(o,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await Ty(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&b0(r.remoteStore,i.targetId),Iy(r,i.targetId)}).catch(Wd)):(Iy(r,i.targetId),await Ty(r.localStore,i.targetId,!0))}async function Z$(t,e){const n=ut(t),r=n.Fa.get(e),i=n.Ma.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),b0(n.remoteStore,r.targetId))}async function e8(t,e,n){const r=a8(t);try{const i=await function(o,a){const l=ut(o),u=Zt.now(),c=a.reduce((p,g)=>p.add(g.key),vt());let h,f;return l.persistence.runTransaction("Locally write mutations","readwrite",p=>{let g=Ls(),w=vt();return l.cs.getEntries(p,c).next(I=>{g=I,g.forEach((k,P)=>{P.isValidDocument()||(w=w.add(k))})}).next(()=>l.localDocuments.getOverlayedDocuments(p,g)).next(I=>{h=I;const k=[];for(const P of a){const T=TF(P,h.get(P.key).overlayedDocument);T!=null&&k.push(new Ho(P.key,T,GP(T.value.mapValue),gi.exists(!0)))}return l.mutationQueue.addMutationBatch(p,u,k,a)}).next(I=>{f=I;const k=I.applyToLocalDocumentSet(h,w);return l.documentOverlayCache.saveOverlays(p,I.batchId,k)})}).then(()=>({batchId:f.batchId,changes:sk(h)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,l){let u=o.Ba[o.currentUser.toKey()];u||(u=new xn(xt)),u=u.insert(a,l),o.Ba[o.currentUser.toKey()]=u}(r,i.batchId,n),await Gd(r,i.changes),await vm(r.remoteStore)}catch(i){const s=S0(i,"Failed to persist write");n.reject(s)}}async function Vk(t,e){const n=ut(t);try{const r=await m$(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.Na.get(s);o&&(qt(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.va=!0:i.modifiedDocuments.size>0?qt(o.va):i.removedDocuments.size>0&&(qt(o.va),o.va=!1))}),await Gd(n,r,e)}catch(r){await Wd(r)}}function dE(t,e,n){const r=ut(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Fa.forEach((s,o)=>{const a=o.view.Z_(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){const l=ut(o);l.onlineState=a;let u=!1;l.queries.forEach((c,h)=>{for(const f of h.j_)f.Z_(a)&&(u=!0)}),u&&O0(l)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function t8(t,e,n){const r=ut(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Na.get(e),s=i&&i.key;if(s){let o=new xn(Je.comparator);o=o.insert(s,vr.newNoDocument(s,lt.min()));const a=vt().add(s),l=new pm(lt.min(),new Map,new xn(xt),o,a);await Vk(r,l),r.Oa=r.Oa.remove(s),r.Na.delete(e),k0(r)}else await Ty(r.localStore,e,!1).then(()=>Iy(r,e,n)).catch(Wd)}async function n8(t,e){const n=ut(t),r=e.batch.batchId;try{const i=await p$(n.localStore,e);$k(n,r,null),Fk(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Gd(n,i)}catch(i){await Wd(i)}}async function r8(t,e,n){const r=ut(t);try{const i=await function(o,a){const l=ut(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let c;return l.mutationQueue.lookupMutationBatch(u,a).next(h=>(qt(h!==null),c=h.keys(),l.mutationQueue.removeMutationBatch(u,h))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,c,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,c)).next(()=>l.localDocuments.getDocuments(u,c))})}(r.localStore,e);$k(r,e,n),Fk(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Gd(r,i)}catch(i){await Wd(i)}}function Fk(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function $k(t,e,n){const r=ut(t);let i=r.Ba[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function Iy(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||Uk(t,r)})}function Uk(t,e){t.xa.delete(e.path.canonicalString());const n=t.Oa.get(e);n!==null&&(b0(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),k0(t))}function hE(t,e,n){for(const r of n)r instanceof Nk?(t.La.addReference(r.key,e),i8(t,r)):r instanceof Mk?(qe("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||Uk(t,r.key)):ot()}function i8(t,e){const n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(qe("SyncEngine","New document in limbo: "+n),t.xa.add(r),k0(t))}function k0(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const n=new Je(en.fromString(e)),r=t.qa.next();t.Na.set(r,new K$(n)),t.Oa=t.Oa.insert(n,r),Ok(t.remoteStore,new mo(ns(um(n.path)),r,"TargetPurposeLimboResolution",o0.oe))}}async function Gd(t,e,n){const r=ut(t),i=[],s=[],o=[];r.Fa.isEmpty()||(r.Fa.forEach((a,l)=>{o.push(r.Ka(l,e,n).then(u=>{var c;if((u||n)&&r.isPrimaryClient){const h=u?!u.fromCache:(c=n==null?void 0:n.targetChanges.get(l.targetId))===null||c===void 0?void 0:c.current;r.sharedClientState.updateQueryState(l.targetId,h?"current":"not-current")}if(u){i.push(u);const h=_0.Wi(l.targetId,u);s.push(h)}}))}),await Promise.all(o),r.Ca.d_(i),await async function(l,u){const c=ut(l);try{await c.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>ye.forEach(u,f=>ye.forEach(f.$i,p=>c.persistence.referenceDelegate.addReference(h,f.targetId,p)).next(()=>ye.forEach(f.Ui,p=>c.persistence.referenceDelegate.removeReference(h,f.targetId,p)))))}catch(h){if(!qd(h))throw h;qe("LocalStore","Failed to update sequence numbers: "+h)}for(const h of u){const f=h.targetId;if(!h.fromCache){const p=c.os.get(f),g=p.snapshotVersion,w=p.withLastLimboFreeSnapshotVersion(g);c.os=c.os.insert(f,w)}}}(r.localStore,s))}async function s8(t,e){const n=ut(t);if(!n.currentUser.isEqual(e)){qe("SyncEngine","User change. New user:",e.toKey());const r=await Ik(n.localStore,e);n.currentUser=e,function(s,o){s.ka.forEach(a=>{a.forEach(l=>{l.reject(new De(de.CANCELLED,o))})}),s.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Gd(n,r.hs)}}function o8(t,e){const n=ut(t),r=n.Na.get(e);if(r&&r.va)return vt().add(r.key);{let i=vt();const s=n.Ma.get(e);if(!s)return i;for(const o of s){const a=n.Fa.get(o);i=i.unionWith(a.view.Va)}return i}}function Bk(t){const e=ut(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=Vk.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=o8.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=t8.bind(null,e),e.Ca.d_=j$.bind(null,e.eventManager),e.Ca.$a=W$.bind(null,e.eventManager),e}function a8(t){const e=ut(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=n8.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=r8.bind(null,e),e}class ip{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=mm(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,n){return null}Ha(e,n){return null}za(e){return f$(this.persistence,new d$,e.initialUser,this.serializer)}Ga(e){return new l$(y0.Zr,this.serializer)}Wa(e){return new b$}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}ip.provider={build:()=>new ip};class Sy{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>dE(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=s8.bind(null,this.syncEngine),await U$(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new H$}()}createDatastore(e){const n=mm(e.databaseInfo.databaseId),r=function(s){return new I$(s)}(e.databaseInfo);return function(s,o,a,l){return new A$(s,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,a){return new P$(r,i,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>dE(this.syncEngine,n,0),function(){return oE.D()?new oE:new w$}())}createSyncEngine(e,n){return function(i,s,o,a,l,u,c){const h=new Y$(i,s,o,a,l,u);return c&&(h.Qa=!0),h}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const s=ut(i);qe("RemoteStore","RemoteStore shutting down."),s.L_.add(5),await Yd(s),s.k_.shutdown(),s.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Sy.provider={build:()=>new Sy};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R0{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):Ms("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l8{constructor(e,n,r,i,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=fr.UNAUTHENTICATED,this.clientId=zP.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,async o=>{qe("FirestoreClient","Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(qe("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ks;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=S0(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Ug(t,e){t.asyncQueue.verifyOperationInProgress(),qe("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await Ik(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function fE(t,e){t.asyncQueue.verifyOperationInProgress();const n=await u8(t);qe("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>aE(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>aE(e.remoteStore,i)),t._onlineComponents=e}async function u8(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){qe("FirestoreClient","Using user provided OfflineComponentProvider");try{await Ug(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===de.FAILED_PRECONDITION||i.code===de.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;Yl("Error using user provided cache. Falling back to memory cache: "+n),await Ug(t,new ip)}}else qe("FirestoreClient","Using default OfflineComponentProvider"),await Ug(t,new ip);return t._offlineComponents}async function Hk(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(qe("FirestoreClient","Using user provided OnlineComponentProvider"),await fE(t,t._uninitializedComponentsProvider._online)):(qe("FirestoreClient","Using default OnlineComponentProvider"),await fE(t,new Sy))),t._onlineComponents}function c8(t){return Hk(t).then(e=>e.syncEngine)}async function sp(t){const e=await Hk(t),n=e.eventManager;return n.onListen=G$.bind(null,e.syncEngine),n.onUnlisten=J$.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=Q$.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=Z$.bind(null,e.syncEngine),n}function d8(t,e,n={}){const r=new ks;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,u){const c=new R0({next:f=>{c.Za(),o.enqueueAndForget(()=>A0(s,h));const p=f.docs.has(a);!p&&f.fromCache?u.reject(new De(de.UNAVAILABLE,"Failed to get document because the client is offline.")):p&&f.fromCache&&l&&l.source==="server"?u.reject(new De(de.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(f)},error:f=>u.reject(f)}),h=new P0(um(a.path),c,{includeMetadataChanges:!0,_a:!0});return C0(s,h)}(await sp(t),t.asyncQueue,e,n,r)),r.promise}function h8(t,e,n={}){const r=new ks;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,u){const c=new R0({next:f=>{c.Za(),o.enqueueAndForget(()=>A0(s,h)),f.fromCache&&l.source==="server"?u.reject(new De(de.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(f)},error:f=>u.reject(f)}),h=new P0(a,c,{includeMetadataChanges:!0,_a:!0});return C0(s,h)}(await sp(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jk(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pE=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wk(t,e,n){if(!n)throw new De(de.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function f8(t,e,n,r){if(e===!0&&r===!0)throw new De(de.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function mE(t){if(!Je.isDocumentKey(t))throw new De(de.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function gE(t){if(Je.isDocumentKey(t))throw new De(de.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function ym(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ot()}function Gr(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new De(de.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=ym(t);throw new De(de.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function p8(t,e){if(e<=0)throw new De(de.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vE{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new De(de.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new De(de.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}f8("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=jk((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new De(de.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new De(de.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new De(de.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class _m{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new vE({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new De(de.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new De(de.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new vE(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new R9;switch(r.type){case"firstParty":return new M9(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new De(de.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=pE.get(n);r&&(qe("ComponentProvider","Removing Datastore"),pE.delete(n),r.terminate())}(this),Promise.resolve()}}function m8(t,e,n,r={}){var i;const s=(t=Gr(t,_m))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&Yl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,l;if(typeof r.mockUserToken=="string")a=r.mockUserToken,l=fr.MOCK_USER;else{a=VO(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new De(de.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new fr(u)}t._authCredentials=new D9(new qP(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cs{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new cs(this.firestore,e,this._query)}}class Ir{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new To(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ir(this.firestore,e,this._key)}}class To extends cs{constructor(e,n,r){super(e,n,um(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ir(this.firestore,null,new Je(e))}withConverter(e){return new To(this.firestore,e,this._path)}}function Fr(t,e,...n){if(t=Nt(t),Wk("collection","path",e),t instanceof _m){const r=en.fromString(e,...n);return gE(r),new To(t,null,r)}{if(!(t instanceof Ir||t instanceof To))throw new De(de.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(en.fromString(e,...n));return gE(r),new To(t.firestore,null,r)}}function mt(t,e,...n){if(t=Nt(t),arguments.length===1&&(e=zP.newId()),Wk("doc","path",e),t instanceof _m){const r=en.fromString(e,...n);return mE(r),new Ir(t,null,new Je(r))}{if(!(t instanceof Ir||t instanceof To))throw new De(de.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(en.fromString(e,...n));return mE(r),new Ir(t.firestore,t instanceof To?t.converter:null,new Je(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yE{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new Ck(this,"async_queue_retry"),this.Vu=()=>{const r=$g();r&&qe("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;const n=$g();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const n=$g();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const n=new ks;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!qd(e))throw e;qe("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const n=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;const i=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw Ms("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.du=!1,r))));return this.mu=n,n}enqueueAfterDelay(e,n,r){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);const i=I0.createAndSchedule(this,e,n,r,s=>this.yu(s));return this.Tu.push(i),i}fu(){this.Eu&&ot()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const n=this.Tu.indexOf(e);this.Tu.splice(n,1)}}function _E(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const s of r)if(s in i&&typeof i[s]=="function")return!0;return!1}(t,["next","error","complete"])}class Vs extends _m{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new yE,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new yE(e),this._firestoreClient=void 0,await e}}}function g8(t,e){const n=typeof t=="object"?t:_u(),r=typeof t=="string"?t:e||"(default)",i=us(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=NO("firestore");s&&m8(i,...s)}return i}function bm(t){if(t._terminated)throw new De(de.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||v8(t),t._firestoreClient}function v8(t){var e,n,r;const i=t._freezeSettings(),s=function(a,l,u,c){return new Y9(a,l,u,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,jk(c.experimentalLongPollingOptions),c.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new l8(t._authCredentials,t._appCheckCredentials,t._queue,s,t._componentsProvider&&function(a){const l=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tu{constructor(e){this._byteString=e}static fromBase64String(e){try{return new tu(lr.fromBase64String(e))}catch(n){throw new De(de.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new tu(lr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wm{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new De(de.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new nr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D0{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x0{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new De(de.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new De(de.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return xt(this._lat,e._lat)||xt(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N0{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y8=/^__.*__$/;class _8{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Ho(e,this.data,this.fieldMask,n,this.fieldTransforms):new zd(e,this.data,n,this.fieldTransforms)}}class qk{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Ho(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function zk(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ot()}}class M0{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.vu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new M0(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.Ou(e),i}Nu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.vu(),i}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return op(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(zk(this.Cu)&&y8.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class b8{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||mm(e)}Qu(e,n,r,i=!1){return new M0({Cu:e,methodName:n,qu:r,path:nr.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Qd(t){const e=t._freezeSettings(),n=mm(t._databaseId);return new b8(t._databaseId,!!e.ignoreUndefinedProperties,n)}function Kk(t,e,n,r,i,s={}){const o=t.Qu(s.merge||s.mergeFields?2:0,e,n,i);L0("Data must be an object, but it was:",o,r);const a=Gk(r,o);let l,u;if(s.merge)l=new ti(o.fieldMask),u=o.fieldTransforms;else if(s.mergeFields){const c=[];for(const h of s.mergeFields){const f=Cy(e,h,n);if(!o.contains(f))throw new De(de.INVALID_ARGUMENT,`Field '${f}' is specified in your field mask but missing from your input data.`);Xk(c,f)||c.push(f)}l=new ti(c),u=o.fieldTransforms.filter(h=>l.covers(h.field))}else l=null,u=o.fieldTransforms;return new _8(new Wr(a),l,u)}class Tm extends D0{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Tm}}function w8(t,e,n,r){const i=t.Qu(1,e,n);L0("Data must be an object, but it was:",i,r);const s=[],o=Wr.empty();Fa(r,(l,u)=>{const c=V0(e,l,n);u=Nt(u);const h=i.Nu(c);if(u instanceof Tm)s.push(c);else{const f=Xd(u,h);f!=null&&(s.push(c),o.set(c,f))}});const a=new ti(s);return new qk(o,a,i.fieldTransforms)}function T8(t,e,n,r,i,s){const o=t.Qu(1,e,n),a=[Cy(e,r,n)],l=[i];if(s.length%2!=0)throw new De(de.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let f=0;f<s.length;f+=2)a.push(Cy(e,s[f])),l.push(s[f+1]);const u=[],c=Wr.empty();for(let f=a.length-1;f>=0;--f)if(!Xk(u,a[f])){const p=a[f];let g=l[f];g=Nt(g);const w=o.Nu(p);if(g instanceof Tm)u.push(p);else{const I=Xd(g,w);I!=null&&(u.push(p),c.set(p,I))}}const h=new ti(u);return new qk(c,h,o.fieldTransforms)}function Yk(t,e,n,r=!1){return Xd(n,t.Qu(r?4:3,e))}function Xd(t,e){if(Qk(t=Nt(t)))return L0("Unsupported field value:",e,t),Gk(t,e);if(t instanceof D0)return function(r,i){if(!zk(i.Cu))throw i.Bu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const a of r){let l=Xd(a,i.Lu(o));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=Nt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return gF(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=Zt.fromDate(r);return{timestampValue:np(i.serializer,s)}}if(r instanceof Zt){const s=new Zt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:np(i.serializer,s)}}if(r instanceof x0)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof tu)return{bytesValue:vk(i.serializer,r._byteString)};if(r instanceof Ir){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Bu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:g0(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof N0)return function(o,a){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:o.toArray().map(l=>{if(typeof l!="number")throw a.Bu("VectorValues must only contain numeric values.");return h0(a.serializer,l)})}}}}}}(r,i);throw i.Bu(`Unsupported field value: ${ym(r)}`)}(t,e)}function Gk(t,e){const n={};return KP(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Fa(t,(r,i)=>{const s=Xd(i,e.Mu(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function Qk(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Zt||t instanceof x0||t instanceof tu||t instanceof Ir||t instanceof D0||t instanceof N0)}function L0(t,e,n){if(!Qk(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=ym(n);throw r==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+r)}}function Cy(t,e,n){if((e=Nt(e))instanceof wm)return e._internalPath;if(typeof e=="string")return V0(t,e);throw op("Field path arguments must be of type string or ",t,!1,void 0,n)}const E8=new RegExp("[~\\*/\\[\\]]");function V0(t,e,n){if(e.search(E8)>=0)throw op(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new wm(...e.split("."))._internalPath}catch{throw op(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function op(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new De(de.INVALID_ARGUMENT,a+t+l)}function Xk(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F0{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Ir(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new I8(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Em("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class I8 extends F0{data(){return super.data()}}function Em(t,e){return typeof e=="string"?V0(t,e):e instanceof wm?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jk(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new De(de.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class $0{}class Im extends $0{}function S8(t,e,...n){let r=[];e instanceof $0&&r.push(e),r=r.concat(n),function(s){const o=s.filter(l=>l instanceof U0).length,a=s.filter(l=>l instanceof Sm).length;if(o>1||o>0&&a>0)throw new De(de.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class Sm extends Im{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Sm(e,n,r)}_apply(e){const n=this._parse(e);return Zk(e._query,n),new cs(e.firestore,e.converter,vy(e._query,n))}_parse(e){const n=Qd(e.firestore);return function(s,o,a,l,u,c,h){let f;if(u.isKeyField()){if(c==="array-contains"||c==="array-contains-any")throw new De(de.INVALID_ARGUMENT,`Invalid Query. You can't perform '${c}' queries on documentId().`);if(c==="in"||c==="not-in"){EE(h,c);const p=[];for(const g of h)p.push(TE(l,s,g));f={arrayValue:{values:p}}}else f=TE(l,s,h)}else c!=="in"&&c!=="not-in"&&c!=="array-contains-any"||EE(h,c),f=Yk(a,o,h,c==="in"||c==="not-in");return Dn.create(u,c,f)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function bE(t,e,n){const r=e,i=Em("where",t);return Sm._create(i,r,n)}class U0 extends $0{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new U0(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:$i.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,s){let o=i;const a=s.getFlattenedFilters();for(const l of a)Zk(o,l),o=vy(o,l)}(e._query,n),new cs(e.firestore,e.converter,vy(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class B0 extends Im{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new B0(e,n)}_apply(e){const n=function(i,s,o){if(i.startAt!==null)throw new De(de.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new De(de.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new ld(s,o)}(e._query,this._field,this._direction);return new cs(e.firestore,e.converter,function(i,s){const o=i.explicitOrderBy.concat([s]);return new $a(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}}function wE(t,e="asc"){const n=e,r=Em("orderBy",t);return B0._create(r,n)}class H0 extends Im{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new H0(e,n,r)}_apply(e){return new cs(e.firestore,e.converter,Zf(e._query,this._limit,this._limitType))}}function C8(t){return p8("limit",t),H0._create("limit",t,"F")}class j0 extends Im{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new j0(e,n,r)}_apply(e){const n=O8(e,this.type,this._docOrFields,this._inclusive);return new cs(e.firestore,e.converter,function(i,s){return new $a(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,s,i.endAt)}(e._query,n))}}function A8(...t){return j0._create("startAfter",t,!1)}function O8(t,e,n,r){if(n[0]=Nt(n[0]),n[0]instanceof F0)return function(s,o,a,l,u){if(!l)throw new De(de.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${a}().`);const c=[];for(const h of kl(s))if(h.field.isKeyField())c.push(Jf(o,l.key));else{const f=l.data.field(h.field);if(lm(f))throw new De(de.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+h.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(f===null){const p=h.field.canonicalString();throw new De(de.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${p}' (used as the orderBy) does not exist.`)}c.push(f)}return new Jl(c,u)}(t._query,t.firestore._databaseId,e,n[0]._document,r);{const i=Qd(t.firestore);return function(o,a,l,u,c,h){const f=o.explicitOrderBy;if(c.length>f.length)throw new De(de.INVALID_ARGUMENT,`Too many arguments provided to ${u}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const p=[];for(let g=0;g<c.length;g++){const w=c[g];if(f[g].field.isKeyField()){if(typeof w!="string")throw new De(de.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${u}(), but got a ${typeof w}`);if(!d0(o)&&w.indexOf("/")!==-1)throw new De(de.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${u}() must be a plain document ID, but '${w}' contains a slash.`);const I=o.path.child(en.fromString(w));if(!Je.isDocumentKey(I))throw new De(de.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${u}() must result in a valid document path, but '${I}' is not because it contains an odd number of segments.`);const k=new Je(I);p.push(Jf(a,k))}else{const I=Yk(l,u,w);p.push(I)}}return new Jl(p,h)}(t._query,t.firestore._databaseId,i,e,n,r)}}function TE(t,e,n){if(typeof(n=Nt(n))=="string"){if(n==="")throw new De(de.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!d0(e)&&n.indexOf("/")!==-1)throw new De(de.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(en.fromString(n));if(!Je.isDocumentKey(r))throw new De(de.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Jf(t,new Je(r))}if(n instanceof Ir)return Jf(t,n._key);throw new De(de.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${ym(n)}.`)}function EE(t,e){if(!Array.isArray(t)||t.length===0)throw new De(de.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Zk(t,e){const n=function(i,s){for(const o of i)for(const a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new De(de.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new De(de.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class P8{convertValue(e,n="none"){switch(Sa(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Sn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Ia(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw ot()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Fa(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertVectorValue(e){var n,r,i;const s=(i=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(o=>Sn(o.doubleValue));return new N0(s)}convertGeoPoint(e){return new x0(Sn(e.latitude),Sn(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=a0(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(sd(e));default:return null}}convertTimestamp(e){const n=Do(e);return new Zt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=en.fromString(e);qt(Ek(r));const i=new od(r.get(1),r.get(3)),s=new Je(r.popFirst(5));return i.isEqual(n)||Ms(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eR(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cc{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class tR extends F0{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new vf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Em("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class vf extends tR{data(e={}){return super.data(e)}}class nR{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new cc(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new vf(this._firestore,this._userDataWriter,r.key,r,new cc(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new De(de.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{const l=new vf(i._firestore,i._userDataWriter,a.doc.key,a.doc,new cc(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{const l=new vf(i._firestore,i._userDataWriter,a.doc.key,a.doc,new cc(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,c=-1;return a.type!==0&&(u=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),c=o.indexOf(a.doc.key)),{type:k8(a.type),doc:l,oldIndex:u,newIndex:c}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function k8(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ot()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rR(t){t=Gr(t,Ir);const e=Gr(t.firestore,Vs);return d8(bm(e),t._key).then(n=>iR(e,t,n))}class W0 extends P8{constructor(e){super(),this.firestore=e}convertBytes(e){return new tu(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Ir(this.firestore,null,n)}}function R8(t){t=Gr(t,cs);const e=Gr(t.firestore,Vs),n=bm(e),r=new W0(e);return Jk(t._query),h8(n,t._query).then(i=>new nR(e,r,t,i))}function D8(t,e,n){t=Gr(t,Ir);const r=Gr(t.firestore,Vs),i=eR(t.converter,e,n);return Cm(r,[Kk(Qd(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,gi.none())])}function x8(t,e,n,...r){t=Gr(t,Ir);const i=Gr(t.firestore,Vs),s=Qd(i);let o;return o=typeof(e=Nt(e))=="string"||e instanceof wm?T8(s,"updateDoc",t._key,e,n,r):w8(s,"updateDoc",t._key,e),Cm(i,[o.toMutation(t._key,gi.exists(!0))])}function N8(t){return Cm(Gr(t.firestore,Vs),[new f0(t._key,gi.none())])}function M8(t,e){const n=Gr(t.firestore,Vs),r=mt(t),i=eR(t.converter,e);return Cm(n,[Kk(Qd(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,gi.exists(!1))]).then(()=>r)}function nae(t,...e){var n,r,i;t=Nt(t);let s={includeMetadataChanges:!1,source:"default"},o=0;typeof e[o]!="object"||_E(e[o])||(s=e[o],o++);const a={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if(_E(e[o])){const h=e[o];e[o]=(n=h.next)===null||n===void 0?void 0:n.bind(h),e[o+1]=(r=h.error)===null||r===void 0?void 0:r.bind(h),e[o+2]=(i=h.complete)===null||i===void 0?void 0:i.bind(h)}let l,u,c;if(t instanceof Ir)u=Gr(t.firestore,Vs),c=um(t._key.path),l={next:h=>{e[o]&&e[o](iR(u,t,h))},error:e[o+1],complete:e[o+2]};else{const h=Gr(t,cs);u=Gr(h.firestore,Vs),c=h._query;const f=new W0(u);l={next:p=>{e[o]&&e[o](new nR(u,f,h,p))},error:e[o+1],complete:e[o+2]},Jk(t._query)}return function(f,p,g,w){const I=new R0(w),k=new P0(p,I,g);return f.asyncQueue.enqueueAndForget(async()=>C0(await sp(f),k)),()=>{I.Za(),f.asyncQueue.enqueueAndForget(async()=>A0(await sp(f),k))}}(bm(u),c,a,l)}function Cm(t,e){return function(r,i){const s=new ks;return r.asyncQueue.enqueueAndForget(async()=>e8(await c8(r),i,s)),s.promise}(bm(t),e)}function iR(t,e,n){const r=n.docs.get(e._key),i=new W0(t);return new tR(t,i,e._key,r,new cc(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){bu=i})(Bo),Qr(new Mr("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new Vs(new x9(r.getProvider("auth-internal")),new V9(r.getProvider("app-check-internal")),function(u,c){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new De(de.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new od(u.options.projectId,c)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),or(VT,"4.7.3",e),or(VT,"4.7.3","esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sR="firebasestorage.googleapis.com",oR="storageBucket",L8=2*60*1e3,V8=10*60*1e3,F8=1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bn extends ai{constructor(e,n,r=0){super(Bg(e),`Firebase Storage: ${n} (${Bg(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,bn.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Bg(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var fn;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(fn||(fn={}));function Bg(t){return"storage/"+t}function q0(){const t="An unknown error occurred, please check the error payload for server response.";return new bn(fn.UNKNOWN,t)}function $8(t){return new bn(fn.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function U8(t){return new bn(fn.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function B8(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new bn(fn.UNAUTHENTICATED,t)}function H8(){return new bn(fn.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function j8(t){return new bn(fn.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function aR(){return new bn(fn.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function lR(){return new bn(fn.CANCELED,"User canceled the upload/download.")}function W8(t){return new bn(fn.INVALID_URL,"Invalid URL '"+t+"'.")}function q8(t){return new bn(fn.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function z8(){return new bn(fn.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+oR+"' property when initializing the app?")}function uR(){return new bn(fn.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function K8(){return new bn(fn.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}function Y8(){return new bn(fn.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function G8(t){return new bn(fn.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Ay(t){return new bn(fn.INVALID_ARGUMENT,t)}function cR(){return new bn(fn.APP_DELETED,"The Firebase app was deleted.")}function Q8(t){return new bn(fn.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Oc(t,e){return new bn(fn.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function qu(t){throw new bn(fn.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ni{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=ni.makeFromUrl(e,n)}catch{return new ni(e,"")}if(r.path==="")return r;throw q8(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function s(_){_.path.charAt(_.path.length-1)==="/"&&(_.path_=_.path_.slice(0,-1))}const o="(/(.*))?$",a=new RegExp("^gs://"+i+o,"i"),l={bucket:1,path:3};function u(_){_.path_=decodeURIComponent(_.path)}const c="v[A-Za-z0-9_]+",h=n.replace(/[.]/g,"\\."),f="(/([^?#]*).*)?$",p=new RegExp(`^https?://${h}/${c}/b/${i}/o${f}`,"i"),g={bucket:1,path:3},w=n===sR?"(?:storage.googleapis.com|storage.cloud.google.com)":n,I="([^?#]*)",k=new RegExp(`^https?://${w}/${i}/${I}`,"i"),T=[{regex:a,indices:l,postModify:s},{regex:p,indices:g,postModify:u},{regex:k,indices:{bucket:1,path:2},postModify:u}];for(let _=0;_<T.length;_++){const L=T[_],V=L.regex.exec(e);if(V){const S=V[L.indices.bucket];let E=V[L.indices.path];E||(E=""),r=new ni(S,E),L.postModify(r);break}}if(r==null)throw W8(e);return r}}class X8{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J8(t,e,n){let r=1,i=null,s=null,o=!1,a=0;function l(){return a===2}let u=!1;function c(...I){u||(u=!0,e.apply(null,I))}function h(I){i=setTimeout(()=>{i=null,t(p,l())},I)}function f(){s&&clearTimeout(s)}function p(I,...k){if(u){f();return}if(I){f(),c.call(null,I,...k);return}if(l()||o){f(),c.call(null,I,...k);return}r<64&&(r*=2);let T;a===1?(a=2,T=0):T=(r+Math.random())*1e3,h(T)}let g=!1;function w(I){g||(g=!0,f(),!u&&(i!==null?(I||(a=2),clearTimeout(i),h(0)):I||(a=1)))}return h(0),s=setTimeout(()=>{o=!0,w(!0)},n),w}function Z8(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e7(t){return t!==void 0}function t7(t){return typeof t=="function"}function n7(t){return typeof t=="object"&&!Array.isArray(t)}function Am(t){return typeof t=="string"||t instanceof String}function IE(t){return z0()&&t instanceof Blob}function z0(){return typeof Blob<"u"}function SE(t,e,n,r){if(r<e)throw Ay(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw Ay(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Eu(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function dR(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}var ha;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(ha||(ha={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hR(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,s=e.indexOf(t)!==-1;return n||i||s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r7{constructor(e,n,r,i,s,o,a,l,u,c,h,f=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=l,this.timeout_=u,this.progressCallback_=c,this.connectionFactory_=h,this.retry=f,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((p,g)=>{this.resolve_=p,this.reject_=g,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new qh(!1,null,!0));return}const s=this.connectionFactory_();this.pendingConnection_=s;const o=a=>{const l=a.loaded,u=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,u)};this.progressCallback_!==null&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(o),this.pendingConnection_=null;const a=s.getErrorCode()===ha.NO_ERROR,l=s.getStatus();if(!a||hR(l,this.additionalRetryCodes_)&&this.retry){const c=s.getErrorCode()===ha.ABORT;r(!1,new qh(!1,null,c));return}const u=this.successCodes_.indexOf(l)!==-1;r(!0,new qh(u,s))})},n=(r,i)=>{const s=this.resolve_,o=this.reject_,a=i.connection;if(i.wasSuccessCode)try{const l=this.callback_(a,a.getResponse());e7(l)?s(l):s()}catch(l){o(l)}else if(a!==null){const l=q0();l.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,l)):o(l)}else if(i.canceled){const l=this.appDelete_?cR():lR();o(l)}else{const l=aR();o(l)}};this.canceled_?n(!1,new qh(!1,null,!0)):this.backoffId_=J8(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&Z8(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class qh{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function i7(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function s7(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function o7(t,e){e&&(t["X-Firebase-GMPID"]=e)}function a7(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function l7(t,e,n,r,i,s,o=!0){const a=dR(t.urlParams),l=t.url+a,u=Object.assign({},t.headers);return o7(u,e),i7(u,n),s7(u,s),a7(u,r),new r7(l,t.method,u,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u7(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function c7(...t){const e=u7();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(z0())return new Blob(t);throw new bn(fn.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function d7(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h7(t){if(typeof atob>"u")throw G8("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ji={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Hg{constructor(e,n){this.data=e,this.contentType=n||null}}function f7(t,e){switch(t){case Ji.RAW:return new Hg(fR(e));case Ji.BASE64:case Ji.BASE64URL:return new Hg(pR(t,e));case Ji.DATA_URL:return new Hg(m7(e),g7(e))}throw q0()}function fR(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const s=r,o=t.charCodeAt(++n);r=65536|(s&1023)<<10|o&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function p7(t){let e;try{e=decodeURIComponent(t)}catch{throw Oc(Ji.DATA_URL,"Malformed data URL.")}return fR(e)}function pR(t,e){switch(t){case Ji.BASE64:{const i=e.indexOf("-")!==-1,s=e.indexOf("_")!==-1;if(i||s)throw Oc(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case Ji.BASE64URL:{const i=e.indexOf("+")!==-1,s=e.indexOf("/")!==-1;if(i||s)throw Oc(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=h7(e)}catch(i){throw i.message.includes("polyfill")?i:Oc(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class mR{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw Oc(Ji.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=v7(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function m7(t){const e=new mR(t);return e.base64?pR(Ji.BASE64,e.rest):p7(e.rest)}function g7(t){return new mR(t).contentType}function v7(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uo{constructor(e,n){let r=0,i="";IE(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,n){if(IE(this.data_)){const r=this.data_,i=d7(r,e,n);return i===null?null:new uo(i)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new uo(r,!0)}}static getBlob(...e){if(z0()){const n=e.map(r=>r instanceof uo?r.data_:r);return new uo(c7.apply(null,n))}else{const n=e.map(o=>Am(o)?f7(Ji.RAW,o).data:o.data_);let r=0;n.forEach(o=>{r+=o.byteLength});const i=new Uint8Array(r);let s=0;return n.forEach(o=>{for(let a=0;a<o.length;a++)i[s++]=o[a]}),new uo(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gR(t){let e;try{e=JSON.parse(t)}catch{return null}return n7(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y7(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function _7(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function vR(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b7(t,e){return e}class Or{constructor(e,n,r,i){this.server=e,this.local=n||e,this.writable=!!r,this.xform=i||b7}}let zh=null;function w7(t){return!Am(t)||t.length<2?t:vR(t)}function yR(){if(zh)return zh;const t=[];t.push(new Or("bucket")),t.push(new Or("generation")),t.push(new Or("metageneration")),t.push(new Or("name","fullPath",!0));function e(s,o){return w7(o)}const n=new Or("name");n.xform=e,t.push(n);function r(s,o){return o!==void 0?Number(o):o}const i=new Or("size");return i.xform=r,t.push(i),t.push(new Or("timeCreated")),t.push(new Or("updated")),t.push(new Or("md5Hash",null,!0)),t.push(new Or("cacheControl",null,!0)),t.push(new Or("contentDisposition",null,!0)),t.push(new Or("contentEncoding",null,!0)),t.push(new Or("contentLanguage",null,!0)),t.push(new Or("contentType",null,!0)),t.push(new Or("metadata","customMetadata",!0)),zh=t,zh}function T7(t,e){function n(){const r=t.bucket,i=t.fullPath,s=new ni(r,i);return e._makeStorageReference(s)}Object.defineProperty(t,"ref",{get:n})}function E7(t,e,n){const r={};r.type="file";const i=n.length;for(let s=0;s<i;s++){const o=n[s];r[o.local]=o.xform(r,e[o.server])}return T7(r,t),r}function _R(t,e,n){const r=gR(e);return r===null?null:E7(t,r,n)}function I7(t,e,n,r){const i=gR(e);if(i===null||!Am(i.downloadTokens))return null;const s=i.downloadTokens;if(s.length===0)return null;const o=encodeURIComponent;return s.split(",").map(u=>{const c=t.bucket,h=t.fullPath,f="/b/"+o(c)+"/o/"+o(h),p=Eu(f,n,r),g=dR({alt:"media",token:u});return p+g})[0]}function bR(t,e){const n={},r=e.length;for(let i=0;i<r;i++){const s=e[i];s.writable&&(n[s.server]=t[s.local])}return JSON.stringify(n)}class Ba{constructor(e,n,r,i){this.url=e,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rs(t){if(!t)throw q0()}function K0(t,e){function n(r,i){const s=_R(t,i,e);return Rs(s!==null),s}return n}function S7(t,e){function n(r,i){const s=_R(t,i,e);return Rs(s!==null),I7(s,i,t.host,t._protocol)}return n}function Jd(t){function e(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=H8():i=B8():n.getStatus()===402?i=U8(t.bucket):n.getStatus()===403?i=j8(t.path):i=r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}return e}function Y0(t){const e=Jd(t);function n(r,i){let s=e(r,i);return r.getStatus()===404&&(s=$8(t.path)),s.serverResponse=i.serverResponse,s}return n}function C7(t,e,n){const r=e.fullServerUrl(),i=Eu(r,t.host,t._protocol),s="GET",o=t.maxOperationRetryTime,a=new Ba(i,s,K0(t,n),o);return a.errorHandler=Y0(e),a}function A7(t,e,n){const r=e.fullServerUrl(),i=Eu(r,t.host,t._protocol),s="GET",o=t.maxOperationRetryTime,a=new Ba(i,s,S7(t,n),o);return a.errorHandler=Y0(e),a}function O7(t,e){const n=e.fullServerUrl(),r=Eu(n,t.host,t._protocol),i="DELETE",s=t.maxOperationRetryTime;function o(l,u){}const a=new Ba(r,i,o,s);return a.successCodes=[200,204],a.errorHandler=Y0(e),a}function P7(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function wR(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=P7(null,e)),r}function k7(t,e,n,r,i){const s=e.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};function a(){let T="";for(let _=0;_<2;_++)T=T+Math.random().toString().slice(2);return T}const l=a();o["Content-Type"]="multipart/related; boundary="+l;const u=wR(e,r,i),c=bR(u,n),h="--"+l+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+c+`\r
--`+l+`\r
Content-Type: `+u.contentType+`\r
\r
`,f=`\r
--`+l+"--",p=uo.getBlob(h,r,f);if(p===null)throw uR();const g={name:u.fullPath},w=Eu(s,t.host,t._protocol),I="POST",k=t.maxUploadRetryTime,P=new Ba(w,I,K0(t,n),k);return P.urlParams=g,P.headers=o,P.body=p.uploadData(),P.errorHandler=Jd(e),P}class ap{constructor(e,n,r,i){this.current=e,this.total=n,this.finalized=!!r,this.metadata=i||null}}function G0(t,e){let n=null;try{n=t.getResponseHeader("X-Goog-Upload-Status")}catch{Rs(!1)}return Rs(!!n&&(e||["active"]).indexOf(n)!==-1),n}function R7(t,e,n,r,i){const s=e.bucketOnlyServerUrl(),o=wR(e,r,i),a={name:o.fullPath},l=Eu(s,t.host,t._protocol),u="POST",c={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${r.size()}`,"X-Goog-Upload-Header-Content-Type":o.contentType,"Content-Type":"application/json; charset=utf-8"},h=bR(o,n),f=t.maxUploadRetryTime;function p(w){G0(w);let I;try{I=w.getResponseHeader("X-Goog-Upload-URL")}catch{Rs(!1)}return Rs(Am(I)),I}const g=new Ba(l,u,p,f);return g.urlParams=a,g.headers=c,g.body=h,g.errorHandler=Jd(e),g}function D7(t,e,n,r){const i={"X-Goog-Upload-Command":"query"};function s(u){const c=G0(u,["active","final"]);let h=null;try{h=u.getResponseHeader("X-Goog-Upload-Size-Received")}catch{Rs(!1)}h||Rs(!1);const f=Number(h);return Rs(!isNaN(f)),new ap(f,r.size(),c==="final")}const o="POST",a=t.maxUploadRetryTime,l=new Ba(n,o,s,a);return l.headers=i,l.errorHandler=Jd(e),l}const CE=256*1024;function x7(t,e,n,r,i,s,o,a){const l=new ap(0,0);if(o?(l.current=o.current,l.total=o.total):(l.current=0,l.total=r.size()),r.size()!==l.total)throw K8();const u=l.total-l.current;let c=u;i>0&&(c=Math.min(c,i));const h=l.current,f=h+c;let p="";c===0?p="finalize":u===c?p="upload, finalize":p="upload";const g={"X-Goog-Upload-Command":p,"X-Goog-Upload-Offset":`${l.current}`},w=r.slice(h,f);if(w===null)throw uR();function I(_,L){const V=G0(_,["active","final"]),S=l.current+c,E=r.size();let b;return V==="final"?b=K0(e,s)(_,L):b=null,new ap(S,E,V==="final",b)}const k="POST",P=e.maxUploadRetryTime,T=new Ba(n,k,I,P);return T.headers=g,T.body=w.uploadData(),T.progressCallback=a||null,T.errorHandler=Jd(t),T}const Ur={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function jg(t){switch(t){case"running":case"pausing":case"canceling":return Ur.RUNNING;case"paused":return Ur.PAUSED;case"success":return Ur.SUCCESS;case"canceled":return Ur.CANCELED;case"error":return Ur.ERROR;default:return Ur.ERROR}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N7{constructor(e,n,r){if(t7(e)||n!=null||r!=null)this.next=e,this.error=n??void 0,this.complete=r??void 0;else{const s=e;this.next=s.next,this.error=s.error,this.complete=s.complete}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function el(t){return(...e)=>{Promise.resolve().then(()=>t(...e))}}class M7{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=ha.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=ha.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=ha.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,i){if(this.sent_)throw qu("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),i!==void 0)for(const s in i)i.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,i[s].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw qu("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw qu("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw qu("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw qu("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class L7 extends M7{initXhr(){this.xhr_.responseType="text"}}function ra(){return new L7}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V7{constructor(e,n,r=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=n,this._metadata=r,this._mappings=yR(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=i=>{if(this._request=void 0,this._chunkMultiplier=1,i._codeEquals(fn.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const s=this.isExponentialBackoffExpired();if(hR(i.status,[]))if(s)i=aR();else{this.sleepTime=Math.max(this.sleepTime*2,F8),this._needToFetchStatus=!0,this.completeTransitions_();return}this._error=i,this._transition("error")}},this._metadataErrorHandler=i=>{this._request=void 0,i._codeEquals(fn.CANCELED)?this.completeTransitions_():(this._error=i,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((i,s)=>{this._resolve=i,this._reject=s,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const e=this._transferred;return n=>this._updateProgress(e+n)}_shouldDoResumable(e){return e.size()>256*1024}_start(){this._state==="running"&&this._request===void 0&&(this._resumable?this._uploadUrl===void 0?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([n,r])=>{switch(this._state){case"running":e(n,r);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused");break}})}_createResumable(){this._resolveToken((e,n)=>{const r=R7(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(r,ra,e,n);this._request=i,i.getPromise().then(s=>{this._request=void 0,this._uploadUrl=s,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const e=this._uploadUrl;this._resolveToken((n,r)=>{const i=D7(this._ref.storage,this._ref._location,e,this._blob),s=this._ref.storage._makeRequest(i,ra,n,r);this._request=s,s.getPromise().then(o=>{o=o,this._request=void 0,this._updateProgress(o.current),this._needToFetchStatus=!1,o.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const e=CE*this._chunkMultiplier,n=new ap(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((i,s)=>{let o;try{o=x7(this._ref._location,this._ref.storage,r,this._blob,e,this._mappings,n,this._makeProgressCallback())}catch(l){this._error=l,this._transition("error");return}const a=this._ref.storage._makeRequest(o,ra,i,s,!1);this._request=a,a.getPromise().then(l=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(l.current),l.finalized?(this._metadata=l.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){CE*this._chunkMultiplier*2<32*1024*1024&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,n)=>{const r=C7(this._ref.storage,this._ref._location,this._mappings),i=this._ref.storage._makeRequest(r,ra,e,n);this._request=i,i.getPromise().then(s=>{this._request=void 0,this._metadata=s,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,n)=>{const r=k7(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(r,ra,e,n);this._request=i,i.getPromise().then(s=>{this._request=void 0,this._metadata=s,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){const n=this._transferred;this._transferred=e,this._transferred!==n&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,this._request!==void 0?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const n=this._state==="paused";this._state=e,n&&(this._notifyObservers(),this._start());break;case"paused":this._state=e,this._notifyObservers();break;case"canceled":this._error=lR(),this._state=e,this._notifyObservers();break;case"error":this._state=e,this._notifyObservers();break;case"success":this._state=e,this._notifyObservers();break}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start();break}}get snapshot(){const e=jg(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,n,r,i){const s=new N7(n||void 0,r||void 0,i||void 0);return this._addObserver(s),()=>{this._removeObserver(s)}}then(e,n){return this._promise.then(e,n)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const n=this._observers.indexOf(e);n!==-1&&this._observers.splice(n,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(n=>{this._notifyObserver(n)})}_finishPromise(){if(this._resolve!==void 0){let e=!0;switch(jg(this._state)){case Ur.SUCCESS:el(this._resolve.bind(null,this.snapshot))();break;case Ur.CANCELED:case Ur.ERROR:const n=this._reject;el(n.bind(null,this._error))();break;default:e=!1;break}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(jg(this._state)){case Ur.RUNNING:case Ur.PAUSED:e.next&&el(e.next.bind(e,this.snapshot))();break;case Ur.SUCCESS:e.complete&&el(e.complete.bind(e))();break;case Ur.CANCELED:case Ur.ERROR:e.error&&el(e.error.bind(e,this._error))();break;default:e.error&&el(e.error.bind(e,this._error))()}}resume(){const e=this._state==="paused"||this._state==="pausing";return e&&this._transition("running"),e}pause(){const e=this._state==="running";return e&&this._transition("pausing"),e}cancel(){const e=this._state==="running"||this._state==="pausing";return e&&this._transition("canceling"),e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ca{constructor(e,n){this._service=e,n instanceof ni?this._location=n:this._location=ni.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Ca(e,n)}get root(){const e=new ni(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return vR(this._location.path)}get storage(){return this._service}get parent(){const e=y7(this._location.path);if(e===null)return null;const n=new ni(this._location.bucket,e);return new Ca(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw Q8(e)}}function F7(t,e,n){return t._throwIfRoot("uploadBytesResumable"),new V7(t,new uo(e),n)}function $7(t){t._throwIfRoot("getDownloadURL");const e=A7(t.storage,t._location,yR());return t.storage.makeRequestWithTokens(e,ra).then(n=>{if(n===null)throw Y8();return n})}function U7(t){t._throwIfRoot("deleteObject");const e=O7(t.storage,t._location);return t.storage.makeRequestWithTokens(e,ra)}function B7(t,e){const n=_7(t._location.path,e),r=new ni(t._location.bucket,n);return new Ca(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H7(t){return/^[A-Za-z]+:\/\//.test(t)}function j7(t,e){return new Ca(t,e)}function TR(t,e){if(t instanceof Q0){const n=t;if(n._bucket==null)throw z8();const r=new Ca(n,n._bucket);return e!=null?TR(r,e):r}else return e!==void 0?B7(t,e):t}function W7(t,e){if(e&&H7(e)){if(t instanceof Q0)return j7(t,e);throw Ay("To use ref(service, url), the first argument must be a Storage instance.")}else return TR(t,e)}function AE(t,e){const n=e==null?void 0:e[oR];return n==null?null:ni.makeFromBucketSpec(n,t)}function q7(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:i}=r;i&&(t._overrideAuthToken=typeof i=="string"?i:VO(i,t.app.options.projectId))}class Q0{constructor(e,n,r,i,s){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._bucket=null,this._host=sR,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=L8,this._maxUploadRetryTime=V8,this._requests=new Set,i!=null?this._bucket=ni.makeFromBucketSpec(i,this._host):this._bucket=AE(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=ni.makeFromBucketSpec(this._url,e):this._bucket=AE(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){SE("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){SE("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Ca(this,e)}_makeRequest(e,n,r,i,s=!0){if(this._deleted)return new X8(cR());{const o=l7(e,this._appId,r,i,n,this._firebaseVersion,s);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const OE="@firebase/storage",PE="0.13.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ER="storage";function z7(t,e,n){return t=Nt(t),F7(t,e,n)}function rae(t){return t=Nt(t),$7(t)}function K7(t){return t=Nt(t),U7(t)}function Y7(t,e){return t=Nt(t),W7(t,e)}function G7(t=_u(),e){t=Nt(t);const r=us(t,ER).getImmediate({identifier:e}),i=NO("storage");return i&&Q7(r,...i),r}function Q7(t,e,n,r={}){q7(t,e,n,r)}function X7(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new Q0(n,r,i,e,Bo)}function J7(){Qr(new Mr(ER,X7,"PUBLIC").setMultipleInstances(!0)),or(OE,PE,""),or(OE,PE,"esm2017")}J7();let Kh;const Z7=new Uint8Array(16);function eU(){if(!Kh&&(Kh=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!Kh))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Kh(Z7)}const Jn=[];for(let t=0;t<256;++t)Jn.push((t+256).toString(16).slice(1));function tU(t,e=0){return Jn[t[e+0]]+Jn[t[e+1]]+Jn[t[e+2]]+Jn[t[e+3]]+"-"+Jn[t[e+4]]+Jn[t[e+5]]+"-"+Jn[t[e+6]]+Jn[t[e+7]]+"-"+Jn[t[e+8]]+Jn[t[e+9]]+"-"+Jn[t[e+10]]+Jn[t[e+11]]+Jn[t[e+12]]+Jn[t[e+13]]+Jn[t[e+14]]+Jn[t[e+15]]}const nU=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),kE={randomUUID:nU};function rU(t,e,n){if(kE.randomUUID&&!e&&!t)return kE.randomUUID();t=t||{};const r=t.random||(t.rng||eU)();if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,e){n=n||0;for(let i=0;i<16;++i)e[n+i]=r[i];return e}return tU(r)}const iU=1e3,sU=iU*60,oU=sU*60,IR=oU*24,RE=IR*365,SR=async t=>{const e=await rR(t),n=e.data();return n?{id:e.id,...n}:null},Gs=async(t,e)=>{const n=await R8(e?S8(t,...e):t);return Promise.all(n.docs.map(r=>SR(r.ref)))},Br=SR,aU=M8,Pc=D8,ci=x8,dc=N8,DE=t=>Y7(G7(),t),xE=t=>t.sort((e,n)=>{const r=(n.order||0)-(e.order||0);return r!==0?r:e.date&&n.date?n.date.getTime()-e.date.getTime():0}),iae=(t,e,n,r)=>{setTimeout(()=>{t.forEach((i,s)=>{setTimeout(()=>{r(i)},s*n)})},e)},kc=(t,e)=>{if(!t||!e)return!1;for(const n in t){const r=t[n],i=e[n];if(r===void 0||i===void 0)return!1;if(r===null&&i===null)continue;if(Array.isArray(r)&&Array.isArray(i)){if(r.length!==i.length)return!1;const s=r.slice(),o=i.slice();if(s.some((a,l)=>!kc(a,o[l])||o.some((u,c)=>!kc(u,s[c]))))return!1}else if(r instanceof Date&&i instanceof Date){if(r.getTime()!==i.getTime())return!1}else if(typeof r=="object"){if(!kc(r,i))return!1}else if(r!==i)return!1}return!0},CR=t=>Math.round((Date.now()-t.getTime())/1e3),lU=t=>{try{const e=CR(t);if(e<30)return"Just now";if(e<60)return`${e} second${e!==1?"s":""} ago`;if(e<60*60){const n=Math.floor(e/60);return`${n} minute${n!==1?"s":""} ago`}else if(e<60*60*24){const n=Math.floor(e/3600);return`${n} hour${n!==1?"s":""} ago`}else{if(e<60*60*24*2)return"Yesterday";{const r=new Date().getTime()-t.getTime(),i=r/RE,o=r%RE/IR,a=i<=1?{month:"long",day:"numeric"}:{year:"numeric",month:"long",day:"numeric"},l=t.toLocaleDateString(void 0,a);if(o<=7){const u={weekday:"long"};return t.toLocaleDateString(void 0,u)}else return l}}}catch{return"Unknown"}},sae=(t,e)=>{if(t){var n=t.getBoundingClientRect().top,r=n+window.scrollY-15;setTimeout(()=>{window.scrollTo({top:r,behavior:"smooth"})},e??1e3)}},oae=t=>{var n;const e=(n=t.originalEvent.currentTarget)==null?void 0:n.closest(".p-accordion");if(e){const r=e.children[t.index];r&&setTimeout(()=>{r.scrollIntoView({behavior:"smooth",block:"start"})},250)}},aae=()=>{var r;const t=document.createElement("div");t.style.visibility="hidden",t.style.overflow="scroll",document.body.appendChild(t);const e=document.createElement("div");t.appendChild(e);const n=t.offsetWidth-e.offsetWidth;return(r=t.parentNode)==null||r.removeChild(t),n},Xo=t=>{var n;const e=!!((n=t==null?void 0:t.allowedUserIds)!=null&&n.length);return{isPrivate:e,visibility:e?"private":"public"}},uU=t=>Array.isArray(t)?t:[t],lae=()=>{const t=document.activeElement;t instanceof HTMLElement&&t.blur()},uae=t=>t.join(", ").replace(/,([^,]*)$/," and$1"),cae=t=>{const e="&row&",n=";col;";return t.split(e).map(s=>s.split(n))},dae=t=>{const e="&row&",n=";col;";return t.map(s=>s.join(n)).join(e)},cU=()=>rU(),lp=(t,e)=>{const n=Math.floor(Math.random()*t)+1;return e&&n>=e?n:e??n},nu={value:new Audio("/sounds/clicksound-1.m4a"),startTime:0},Om={value:new Audio("/sounds/roll-dices-1.m4a"),startTime:0};nu.value.preload="auto";Om.value.preload="auto";const Dl=t=>{[nu,Om].forEach(e=>{e.value!==t.value&&(e.value.pause(),e.value.currentTime=e.startTime)}),t.value.currentTime=t.startTime,t.value.play()};var Cn=(t=>(t.HOME="home",t.LOGIN="login",t.REGISTER="register",t.DASHBOARD="dashboard",t.USER_OVERVIEW="users",t.USER_DETAILS="user-details",t.BLOG="blog",t.BLOG_DETAILS="blog-details",t.CUSTOM_VOTING="customvoting",t.CAT_CALC="cat-calc",t.GAMES="games",t.NOT_FOUND="notfound",t))(Cn||{}),dd=(t=>(t.GAMES_YAHTZEE="yahtzee",t.GAMES_RAINWORMS="rainworms",t))(dd||{});function X0(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function AR(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const dU=AR,OR=new Uo("auth","Firebase",AR());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const up=new yu("@firebase/auth");function hU(t,...e){up.logLevel<=gt.WARN&&up.warn(`Auth (${Bo}): ${t}`,...e)}function yf(t,...e){up.logLevel<=gt.ERROR&&up.error(`Auth (${Bo}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ui(t,...e){throw J0(t,...e)}function is(t,...e){return J0(t,...e)}function PR(t,e,n){const r=Object.assign(Object.assign({},dU()),{[e]:n});return new Uo("auth","Firebase",r).create(e,{appName:t.name})}function ss(t){return PR(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function J0(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return OR.create(t,...e)}function et(t,e,...n){if(!t)throw J0(e,...n)}function Ss(t){const e="INTERNAL ASSERTION FAILED: "+t;throw yf(e),new Error(e)}function Fs(t,e){t||Ss(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oy(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function fU(){return NE()==="http:"||NE()==="https:"}function NE(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pU(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(fU()||FO()||"connection"in navigator)?navigator.onLine:!0}function mU(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zd{constructor(e,n){this.shortDelay=e,this.longDelay=n,Fs(n>e,"Short delay should be less than long delay!"),this.isMobile=K_()||$O()}get(){return pU()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z0(t,e){Fs(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kR{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ss("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ss("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ss("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gU={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vU=new Zd(3e4,6e4);function js(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function ds(t,e,n,r,i={}){return RR(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const a=vu(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const u=Object.assign({method:e,headers:l},s);return HL()||(u.referrerPolicy="no-referrer"),kR.fetch()(DR(t,t.config.apiHost,n,a),u)})}async function RR(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},gU),e);try{const i=new _U(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw Yh(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,u]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Yh(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw Yh(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw Yh(t,"user-disabled",o);const c=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw PR(t,c,u);Ui(t,c)}}catch(i){if(i instanceof ai)throw i;Ui(t,"network-request-failed",{message:String(i)})}}async function eh(t,e,n,r,i={}){const s=await ds(t,e,n,r,i);return"mfaPendingCredential"in s&&Ui(t,"multi-factor-auth-required",{_serverResponse:s}),s}function DR(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?Z0(t.config,i):`${t.config.apiScheme}://${i}`}function yU(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class _U{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(is(this.auth,"network-request-failed")),vU.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Yh(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=is(t,e,r);return i.customData._tokenResponse=n,i}function ME(t){return t!==void 0&&t.enterprise!==void 0}class bU{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return yU(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function wU(t,e){return ds(t,"GET","/v2/recaptchaConfig",js(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TU(t,e){return ds(t,"POST","/v1/accounts:delete",e)}async function xR(t,e){return ds(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rc(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function EU(t,e=!1){const n=Nt(t),r=await n.getIdToken(e),i=eb(r);et(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:Rc(Wg(i.auth_time)),issuedAtTime:Rc(Wg(i.iat)),expirationTime:Rc(Wg(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function Wg(t){return Number(t)*1e3}function eb(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return yf("JWT malformed, contained fewer than 3 sections"),null;try{const i=zf(n);return i?JSON.parse(i):(yf("Failed to decode base64 JWT payload"),null)}catch(i){return yf("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function LE(t){const e=eb(t);return et(e,"internal-error"),et(typeof e.exp<"u","internal-error"),et(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ru(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof ai&&IU(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function IU({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SU{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Py{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Rc(this.lastLoginAt),this.creationTime=Rc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cp(t){var e;const n=t.auth,r=await t.getIdToken(),i=await ru(t,xR(n,{idToken:r}));et(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?NR(s.providerUserInfo):[],a=AU(t.providerData,o),l=t.isAnonymous,u=!(t.email&&s.passwordHash)&&!(a!=null&&a.length),c=l?u:!1,h={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new Py(s.createdAt,s.lastLoginAt),isAnonymous:c};Object.assign(t,h)}async function CU(t){const e=Nt(t);await cp(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function AU(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function NR(t){return t.map(e=>{var{providerId:n}=e,r=X0(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function OU(t,e){const n=await RR(t,{},async()=>{const r=vu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=DR(t,i,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",kR.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function PU(t,e){return ds(t,"POST","/v2/accounts:revokeToken",js(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){et(e.idToken,"internal-error"),et(typeof e.idToken<"u","internal-error"),et(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):LE(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){et(e.length!==0,"internal-error");const n=LE(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(et(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await OU(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new xl;return r&&(et(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(et(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(et(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new xl,this.toJSON())}_performRefresh(){return Ss("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qs(t,e){et(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Cs{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=X0(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new SU(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Py(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await ru(this,this.stsTokenManager.getToken(this.auth,e));return et(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return EU(this,e)}reload(){return CU(this)}_assign(e){this!==e&&(et(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Cs(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){et(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await cp(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Ai(this.auth.app))return Promise.reject(ss(this.auth));const e=await this.getIdToken();return await ru(this,TU(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,l,u,c;const h=(r=n.displayName)!==null&&r!==void 0?r:void 0,f=(i=n.email)!==null&&i!==void 0?i:void 0,p=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,g=(o=n.photoURL)!==null&&o!==void 0?o:void 0,w=(a=n.tenantId)!==null&&a!==void 0?a:void 0,I=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,k=(u=n.createdAt)!==null&&u!==void 0?u:void 0,P=(c=n.lastLoginAt)!==null&&c!==void 0?c:void 0,{uid:T,emailVerified:_,isAnonymous:L,providerData:V,stsTokenManager:S}=n;et(T&&S,e,"internal-error");const E=xl.fromJSON(this.name,S);et(typeof T=="string",e,"internal-error"),Qs(h,e.name),Qs(f,e.name),et(typeof _=="boolean",e,"internal-error"),et(typeof L=="boolean",e,"internal-error"),Qs(p,e.name),Qs(g,e.name),Qs(w,e.name),Qs(I,e.name),Qs(k,e.name),Qs(P,e.name);const b=new Cs({uid:T,auth:e,email:f,emailVerified:_,displayName:h,isAnonymous:L,photoURL:g,phoneNumber:p,tenantId:w,stsTokenManager:E,createdAt:k,lastLoginAt:P});return V&&Array.isArray(V)&&(b.providerData=V.map(v=>Object.assign({},v))),I&&(b._redirectEventId=I),b}static async _fromIdTokenResponse(e,n,r=!1){const i=new xl;i.updateFromServerResponse(n);const s=new Cs({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await cp(s),s}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];et(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?NR(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),a=new xl;a.updateFromIdToken(r);const l=new Cs({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:o}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new Py(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(l,u),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VE=new Map;function As(t){Fs(t instanceof Function,"Expected a class definition");let e=VE.get(t);return e?(Fs(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,VE.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MR{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}MR.type="NONE";const FE=MR;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _f(t,e,n){return`firebase:${t}:${e}:${n}`}class Nl{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=_f(this.userKey,i.apiKey,s),this.fullPersistenceKey=_f("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Cs._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Nl(As(FE),e,r);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let s=i[0]||As(FE);const o=_f(r,e.config.apiKey,e.name);let a=null;for(const u of n)try{const c=await u._get(o);if(c){const h=Cs._fromJSON(e,c);u!==s&&(a=h),s=u;break}}catch{}const l=i.filter(u=>u._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new Nl(s,e,r):(s=l[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async u=>{if(u!==s)try{await u._remove(o)}catch{}})),new Nl(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $E(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if($R(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(LR(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(BR(e))return"Blackberry";if(HR(e))return"Webos";if(VR(e))return"Safari";if((e.includes("chrome/")||FR(e))&&!e.includes("edge/"))return"Chrome";if(UR(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function LR(t=Cr()){return/firefox\//i.test(t)}function VR(t=Cr()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function FR(t=Cr()){return/crios\//i.test(t)}function $R(t=Cr()){return/iemobile/i.test(t)}function UR(t=Cr()){return/android/i.test(t)}function BR(t=Cr()){return/blackberry/i.test(t)}function HR(t=Cr()){return/webos/i.test(t)}function tb(t=Cr()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function kU(t=Cr()){var e;return tb(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function RU(){return jL()&&document.documentMode===10}function jR(t=Cr()){return tb(t)||UR(t)||HR(t)||BR(t)||/windows phone/i.test(t)||$R(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WR(t,e=[]){let n;switch(t){case"Browser":n=$E(Cr());break;case"Worker":n=`${$E(Cr())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Bo}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DU{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{const l=e(s);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xU(t,e={}){return ds(t,"GET","/v2/passwordPolicy",js(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NU=6;class MU{constructor(e){var n,r,i,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:NU,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(s=l.containsUppercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LU{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new UE(this),this.idTokenSubscription=new UE(this),this.beforeStateQueue=new DU(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=OR,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=As(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await Nl.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await xR(this,{idToken:e}),r=await Cs._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Ai(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(i=l.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return et(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await cp(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=mU()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Ai(this.app))return Promise.reject(ss(this));const n=e?Nt(e):null;return n&&et(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&et(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Ai(this.app)?Promise.reject(ss(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Ai(this.app)?Promise.reject(ss(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(As(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await xU(this),n=new MU(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Uo("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await PU(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&As(e)||this._popupRedirectResolver;et(n,this,"argument-error"),this.redirectPersistenceManager=await Nl.create(this,[As(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(et(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return et(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=WR(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&hU(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function jo(t){return Nt(t)}class UE{constructor(e){this.auth=e,this.observer=null,this.addObserver=JL(n=>this.observer=n)}get next(){return et(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Pm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function VU(t){Pm=t}function qR(t){return Pm.loadJS(t)}function FU(){return Pm.recaptchaEnterpriseScript}function $U(){return Pm.gapiScript}function UU(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const BU="recaptcha-enterprise",HU="NO_RECAPTCHA";class jU{constructor(e){this.type=BU,this.auth=jo(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,a)=>{wU(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const u=new bU(l);return s.tenantId==null?s._agentRecaptchaConfig=u:s._tenantRecaptchaConfigs[s.tenantId]=u,o(u.siteKey)}}).catch(l=>{a(l)})})}function i(s,o,a){const l=window.grecaptcha;ME(l)?l.enterprise.ready(()=>{l.enterprise.execute(s,{action:e}).then(u=>{o(u)}).catch(()=>{o(HU)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,o)=>{r(this.auth).then(a=>{if(!n&&ME(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let l=FU();l.length!==0&&(l+=a),qR(l).then(()=>{i(a,s,o)}).catch(u=>{o(u)})}}).catch(a=>{o(a)})})}}async function BE(t,e,n,r=!1){const i=new jU(t);let s;try{s=await i.verify(n)}catch{s=await i.verify(n,!0)}const o=Object.assign({},e);return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function dp(t,e,n,r){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=await BE(t,e,n,n==="getOobCode");return r(t,s)}else return r(t,e).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await BE(t,e,n,n==="getOobCode");return r(t,o)}else return Promise.reject(s)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zR(t,e){const n=us(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(ed(s,e??{}))return i;Ui(i,"already-initialized")}return n.initialize({options:e})}function WU(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(As);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function qU(t,e,n){const r=jo(t);et(r._canInitEmulator,r,"emulator-config-failed"),et(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!(n!=null&&n.disableWarnings),s=KR(e),{host:o,port:a}=zU(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||KU()}function KR(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function zU(t){const e=KR(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:HE(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:HE(o)}}}function HE(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function KU(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nb{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Ss("not implemented")}_getIdTokenResponse(e){return Ss("not implemented")}_linkToIdToken(e,n){return Ss("not implemented")}_getReauthenticationResolver(e){return Ss("not implemented")}}async function YU(t,e){return ds(t,"POST","/v1/accounts:update",e)}async function GU(t,e){return ds(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QU(t,e){return eh(t,"POST","/v1/accounts:signInWithPassword",js(t,e))}async function XU(t,e){return ds(t,"POST","/v1/accounts:sendOobCode",js(t,e))}async function JU(t,e){return XU(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZU(t,e){return eh(t,"POST","/v1/accounts:signInWithEmailLink",js(t,e))}async function eB(t,e){return eh(t,"POST","/v1/accounts:signInWithEmailLink",js(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hd extends nb{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new hd(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new hd(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return dp(e,n,"signInWithPassword",QU);case"emailLink":return ZU(e,{email:this._email,oobCode:this._password});default:Ui(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return dp(e,r,"signUpPassword",GU);case"emailLink":return eB(e,{idToken:n,email:this._email,oobCode:this._password});default:Ui(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ml(t,e){return eh(t,"POST","/v1/accounts:signInWithIdp",js(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tB="http://localhost";class Aa extends nb{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Aa(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Ui("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=X0(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new Aa(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return Ml(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Ml(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Ml(e,n)}buildRequest(){const e={requestUri:tB,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=vu(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nB(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function rB(t){const e=sc(oc(t)).link,n=e?sc(oc(e)).deep_link_id:null,r=sc(oc(t)).deep_link_id;return(r?sc(oc(r)).link:null)||r||n||e||t}class rb{constructor(e){var n,r,i,s,o,a;const l=sc(oc(e)),u=(n=l.apiKey)!==null&&n!==void 0?n:null,c=(r=l.oobCode)!==null&&r!==void 0?r:null,h=nB((i=l.mode)!==null&&i!==void 0?i:null);et(u&&c&&h,"argument-error"),this.apiKey=u,this.operation=h,this.code=c,this.continueUrl=(s=l.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=l.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=rB(e);try{return new rb(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class No{constructor(){this.providerId=No.PROVIDER_ID}static credential(e,n){return hd._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=rb.parseLink(n);return et(r,"argument-error"),hd._fromEmailAndCode(e,r.code,r.tenantId)}}No.PROVIDER_ID="password";No.EMAIL_PASSWORD_SIGN_IN_METHOD="password";No.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YR{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class th extends YR{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class co extends th{constructor(){super("facebook.com")}static credential(e){return Aa._fromParams({providerId:co.PROVIDER_ID,signInMethod:co.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return co.credentialFromTaggedObject(e)}static credentialFromError(e){return co.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return co.credential(e.oauthAccessToken)}catch{return null}}}co.FACEBOOK_SIGN_IN_METHOD="facebook.com";co.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ho extends th{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Aa._fromParams({providerId:ho.PROVIDER_ID,signInMethod:ho.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return ho.credentialFromTaggedObject(e)}static credentialFromError(e){return ho.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return ho.credential(n,r)}catch{return null}}}ho.GOOGLE_SIGN_IN_METHOD="google.com";ho.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fo extends th{constructor(){super("github.com")}static credential(e){return Aa._fromParams({providerId:fo.PROVIDER_ID,signInMethod:fo.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return fo.credentialFromTaggedObject(e)}static credentialFromError(e){return fo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return fo.credential(e.oauthAccessToken)}catch{return null}}}fo.GITHUB_SIGN_IN_METHOD="github.com";fo.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class po extends th{constructor(){super("twitter.com")}static credential(e,n){return Aa._fromParams({providerId:po.PROVIDER_ID,signInMethod:po.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return po.credentialFromTaggedObject(e)}static credentialFromError(e){return po.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return po.credential(n,r)}catch{return null}}}po.TWITTER_SIGN_IN_METHOD="twitter.com";po.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iB(t,e){return eh(t,"POST","/v1/accounts:signUp",js(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oa{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await Cs._fromIdTokenResponse(e,r,i),o=jE(r);return new Oa({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=jE(r);return new Oa({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function jE(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hp extends ai{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,hp.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new hp(e,n,r,i)}}function GR(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?hp._fromErrorAndOperation(t,s,e,r):s})}async function sB(t,e,n=!1){const r=await ru(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Oa._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QR(t,e,n=!1){const{auth:r}=t;if(Ai(r.app))return Promise.reject(ss(r));const i="reauthenticate";try{const s=await ru(t,GR(r,i,e,t),n);et(s.idToken,r,"internal-error");const o=eb(s.idToken);et(o,r,"internal-error");const{sub:a}=o;return et(t.uid===a,r,"user-mismatch"),Oa._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&Ui(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function XR(t,e,n=!1){if(Ai(t.app))return Promise.reject(ss(t));const r="signIn",i=await GR(t,r,e),s=await Oa._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function oB(t,e){return XR(jo(t),e)}async function WE(t,e){return QR(Nt(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aB(t,e,n){var r;et(((r=n.url)===null||r===void 0?void 0:r.length)>0,t,"invalid-continue-uri"),et(typeof n.dynamicLinkDomain>"u"||n.dynamicLinkDomain.length>0,t,"invalid-dynamic-link-domain"),e.continueUrl=n.url,e.dynamicLinkDomain=n.dynamicLinkDomain,e.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(et(n.iOS.bundleId.length>0,t,"missing-ios-bundle-id"),e.iOSBundleId=n.iOS.bundleId),n.android&&(et(n.android.packageName.length>0,t,"missing-android-pkg-name"),e.androidInstallApp=n.android.installApp,e.androidMinimumVersionCode=n.android.minimumVersion,e.androidPackageName=n.android.packageName)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JR(t){const e=jo(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function lB(t,e,n){const r=jo(t),i={requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"};n&&aB(r,i,n),await dp(r,i,"getOobCode",JU)}async function uB(t,e,n){if(Ai(t.app))return Promise.reject(ss(t));const r=jo(t),o=await dp(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",iB).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&JR(t),l}),a=await Oa._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(a.user),a}function cB(t,e,n){return Ai(t.app)?Promise.reject(ss(t)):oB(Nt(t),No.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&JR(t),r})}function dB(t,e){const n=Nt(t);return Ai(n.auth.app)?Promise.reject(ss(n.auth)):ZR(n,e,null)}function hB(t,e){return ZR(Nt(t),null,e)}async function ZR(t,e,n){const{auth:r}=t,s={idToken:await t.getIdToken(),returnSecureToken:!0};e&&(s.email=e),n&&(s.password=n);const o=await ru(t,YU(r,s));await t._updateTokensIfNecessary(o,!0)}function e2(t,e,n,r){return Nt(t).onIdTokenChanged(e,n,r)}function fB(t,e,n){return Nt(t).beforeAuthStateChanged(e,n)}function pB(t){return Nt(t).signOut()}async function mB(t){return Nt(t).delete()}const fp="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t2{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(fp,"1"),this.storage.removeItem(fp),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gB=1e3,vB=10;class n2 extends t2{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=jR(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);RU()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,vB):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},gB)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}n2.type="LOCAL";const r2=n2;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i2 extends t2{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}i2.type="SESSION";const ib=i2;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yB(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class km{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new km(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async u=>u(n.origin,s)),l=await yB(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}km.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sb(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _B{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{const u=sb("",20);i.port1.start();const c=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(h){const f=h;if(f.data.eventId===u)switch(f.data.status){case"ack":clearTimeout(c),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(f.data.response);break;default:clearTimeout(c),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function os(){return window}function bB(t){os().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s2(){return typeof os().WorkerGlobalScope<"u"&&typeof os().importScripts=="function"}async function wB(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function TB(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function EB(){return s2()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o2="firebaseLocalStorageDb",IB=1,pp="firebaseLocalStorage",a2="fbase_key";class nh{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Rm(t,e){return t.transaction([pp],e?"readwrite":"readonly").objectStore(pp)}function SB(){const t=indexedDB.deleteDatabase(o2);return new nh(t).toPromise()}function ky(){const t=indexedDB.open(o2,IB);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(pp,{keyPath:a2})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(pp)?e(r):(r.close(),await SB(),e(await ky()))})})}async function qE(t,e,n){const r=Rm(t,!0).put({[a2]:e,value:n});return new nh(r).toPromise()}async function CB(t,e){const n=Rm(t,!1).get(e),r=await new nh(n).toPromise();return r===void 0?null:r.value}function zE(t,e){const n=Rm(t,!0).delete(e);return new nh(n).toPromise()}const AB=800,OB=3;class l2{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await ky(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>OB)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return s2()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=km._getInstance(EB()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await wB(),!this.activeServiceWorker)return;this.sender=new _B(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||TB()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await ky();return await qE(e,fp,"1"),await zE(e,fp),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>qE(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>CB(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>zE(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=Rm(i,!1).getAll();return new nh(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),AB)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}l2.type="LOCAL";const u2=l2;new Zd(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PB(t,e){return e?As(e):(et(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ob extends nb{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ml(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Ml(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Ml(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function kB(t){return XR(t.auth,new ob(t),t.bypassAuthState)}function RB(t){const{auth:e,user:n}=t;return et(n,e,"internal-error"),QR(n,new ob(t),t.bypassAuthState)}async function DB(t){const{auth:e,user:n}=t;return et(n,e,"internal-error"),sB(n,new ob(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c2{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return kB;case"linkViaPopup":case"linkViaRedirect":return DB;case"reauthViaPopup":case"reauthViaRedirect":return RB;default:Ui(this.auth,"internal-error")}}resolve(e){Fs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Fs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xB=new Zd(2e3,1e4);class gl extends c2{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,gl.currentPopupAction&&gl.currentPopupAction.cancel(),gl.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return et(e,this.auth,"internal-error"),e}async onExecution(){Fs(this.filter.length===1,"Popup operations only handle one event");const e=sb();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(is(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(is(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,gl.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(is(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,xB.get())};e()}}gl.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NB="pendingRedirect",bf=new Map;class MB extends c2{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=bf.get(this.auth._key());if(!e){try{const r=await LB(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}bf.set(this.auth._key(),e)}return this.bypassAuthState||bf.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function LB(t,e){const n=$B(e),r=FB(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function VB(t,e){bf.set(t._key(),e)}function FB(t){return As(t._redirectPersistence)}function $B(t){return _f(NB,t.config.apiKey,t.name)}async function UB(t,e,n=!1){if(Ai(t.app))return Promise.reject(ss(t));const r=jo(t),i=PB(r,e),o=await new MB(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BB=10*60*1e3;class HB{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!jB(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!d2(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(is(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=BB&&this.cachedEventUids.clear(),this.cachedEventUids.has(KE(e))}saveEventToCache(e){this.cachedEventUids.add(KE(e)),this.lastProcessedEventTime=Date.now()}}function KE(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function d2({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function jB(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return d2(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WB(t,e={}){return ds(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qB=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,zB=/^https?/;async function KB(t){if(t.config.emulator)return;const{authorizedDomains:e}=await WB(t);for(const n of e)try{if(YB(n))return}catch{}Ui(t,"unauthorized-domain")}function YB(t){const e=Oy(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!zB.test(n))return!1;if(qB.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GB=new Zd(3e4,6e4);function YE(){const t=os().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function QB(t){return new Promise((e,n)=>{var r,i,s;function o(){YE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{YE(),n(is(t,"network-request-failed"))},timeout:GB.get()})}if(!((i=(r=os().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=os().gapi)===null||s===void 0)&&s.load)o();else{const a=UU("iframefcb");return os()[a]=()=>{gapi.load?o():n(is(t,"network-request-failed"))},qR(`${$U()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw wf=null,e})}let wf=null;function XB(t){return wf=wf||QB(t),wf}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JB=new Zd(5e3,15e3),ZB="__/auth/iframe",eH="emulator/auth/iframe",tH={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},nH=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function rH(t){const e=t.config;et(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Z0(e,eH):`https://${t.config.authDomain}/${ZB}`,r={apiKey:e.apiKey,appName:t.name,v:Bo},i=nH.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${vu(r).slice(1)}`}async function iH(t){const e=await XB(t),n=os().gapi;return et(n,t,"internal-error"),e.open({where:document.body,url:rH(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:tH,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=is(t,"network-request-failed"),a=os().setTimeout(()=>{s(o)},JB.get());function l(){os().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sH={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},oH=500,aH=600,lH="_blank",uH="http://localhost";class GE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function cH(t,e,n,r=oH,i=aH){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},sH),{width:r.toString(),height:i.toString(),top:s,left:o}),u=Cr().toLowerCase();n&&(a=FR(u)?lH:n),LR(u)&&(e=e||uH,l.scrollbars="yes");const c=Object.entries(l).reduce((f,[p,g])=>`${f}${p}=${g},`,"");if(kU(u)&&a!=="_self")return dH(e||"",a),new GE(null);const h=window.open(e||"",a,c);et(h,t,"popup-blocked");try{h.focus()}catch{}return new GE(h)}function dH(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hH="__/auth/handler",fH="emulator/auth/handler",pH=encodeURIComponent("fac");async function QE(t,e,n,r,i,s){et(t.config.authDomain,t,"auth-domain-config-required"),et(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Bo,eventId:i};if(e instanceof YR){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",Zv(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[c,h]of Object.entries(s||{}))o[c]=h}if(e instanceof th){const c=e.getScopes().filter(h=>h!=="");c.length>0&&(o.scopes=c.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const c of Object.keys(a))a[c]===void 0&&delete a[c];const l=await t._getAppCheckToken(),u=l?`#${pH}=${encodeURIComponent(l)}`:"";return`${mH(t)}?${vu(a).slice(1)}${u}`}function mH({config:t}){return t.emulator?Z0(t,fH):`https://${t.authDomain}/${hH}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qg="webStorageSupport";class gH{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ib,this._completeRedirectFn=UB,this._overrideRedirectResult=VB}async _openPopup(e,n,r,i){var s;Fs((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await QE(e,n,r,Oy(),i);return cH(e,o,sb())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await QE(e,n,r,Oy(),i);return bB(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Fs(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await iH(e),r=new HB(e);return n.register("authEvent",i=>(et(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(qg,{type:qg},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[qg];o!==void 0&&n(!!o),Ui(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=KB(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return jR()||VR()||tb()}}const h2=gH;var XE="@firebase/auth",JE="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vH{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){et(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yH(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function _H(t){Qr(new Mr("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;et(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:WR(t)},u=new LU(r,i,s,l);return WU(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Qr(new Mr("auth-internal",e=>{const n=jo(e.getProvider("auth").getImmediate());return(r=>new vH(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),or(XE,JE,yH(t)),or(XE,JE,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bH=5*60,wH=LO("authIdTokenMaxAge")||bH;let ZE=null;const TH=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>wH)return;const i=n==null?void 0:n.token;ZE!==i&&(ZE=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function EH(t=_u()){const e=us(t,"auth");if(e.isInitialized())return e.getImmediate();const n=zR(t,{popupRedirectResolver:h2,persistence:[u2,r2,ib]}),r=LO("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const o=TH(s.toString());fB(n,o,()=>o(n.currentUser)),e2(n,a=>o(a))}}const i=xO("auth");return i&&qU(n,`http://${i}`),n}function IH(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}VU({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=is("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",IH().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});_H("Browser");const f2=Symbol("firebaseApp");function p2(t){return Xr()&&Kr(f2,null)||_u(t)}const Gh=new WeakMap;function SH(t,e){if(!Gh.has(t)){const n=T_(!0);Gh.set(t,n);const{unmount:r}=e;e.unmount=()=>{r.call(e),n.stop(),Gh.delete(t)}}return Gh.get(t)}const CH=new WeakMap,Qh=new WeakMap;function AH(t){const e=p2(t);if(!Qh.has(e)){let n;const i=[new Promise(s=>{n=s}),s=>{Qh.set(e,s),n(s.value)}];Qh.set(e,i)}return Qh.get(e)}function OH(t,e){e2(e,n=>{const r=AH();t.value=n,Array.isArray(r)&&r[1](t)})}var eI={};const tI="@firebase/database",nI="1.0.8";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let m2="";function PH(t){m2=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kH{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),tr(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:Zc(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RH{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return Hs(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g2=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new kH(e)}}catch{}return new RH},aa=g2("localStorage"),Ry=g2("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ll=new yu("@firebase/database"),DH=function(){let t=1;return function(){return t++}}(),v2=function(t){const e=n6(t),n=new XL;n.update(e);const r=n.digest();return Jp.encodeByteArray(r)},rh=function(...t){let e="";for(let n=0;n<t.length;n++){const r=t[n];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?e+=rh.apply(null,r):typeof r=="object"?e+=tr(r):e+=r,e+=" "}return e};let fa=null,rI=!0;const xH=function(t,e){xe(!e||t===!0||t===!1,"Can't turn on custom loggers persistently."),t===!0?(Ll.logLevel=gt.VERBOSE,fa=Ll.log.bind(Ll),e&&Ry.set("logging_enabled",!0)):typeof t=="function"?fa=t:(fa=null,Ry.remove("logging_enabled"))},yr=function(...t){if(rI===!0&&(rI=!1,fa===null&&Ry.get("logging_enabled")===!0&&xH(!0)),fa){const e=rh.apply(null,t);fa(e)}},ih=function(t){return function(...e){yr(t,...e)}},Dy=function(...t){const e="FIREBASE INTERNAL ERROR: "+rh(...t);Ll.error(e)},Pa=function(...t){const e=`FIREBASE FATAL ERROR: ${rh(...t)}`;throw Ll.error(e),new Error(e)},oi=function(...t){const e="FIREBASE WARNING: "+rh(...t);Ll.warn(e)},NH=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&oi("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},y2=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},MH=function(t){if(document.readyState==="complete")t();else{let e=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},iu="[MIN_NAME]",ka="[MAX_NAME]",Iu=function(t,e){if(t===e)return 0;if(t===iu||e===ka)return-1;if(e===iu||t===ka)return 1;{const n=iI(t),r=iI(e);return n!==null?r!==null?n-r===0?t.length-e.length:n-r:-1:r!==null?1:t<e?-1:1}},LH=function(t,e){return t===e?0:t<e?-1:1},zu=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+tr(e))},ab=function(t){if(typeof t!="object"||t===null)return tr(t);const e=[];for(const r in t)e.push(r);e.sort();let n="{";for(let r=0;r<e.length;r++)r!==0&&(n+=","),n+=tr(e[r]),n+=":",n+=ab(t[e[r]]);return n+="}",n},_2=function(t,e){const n=t.length;if(n<=e)return[t];const r=[];for(let i=0;i<n;i+=e)i+e>n?r.push(t.substring(i,n)):r.push(t.substring(i,i+e));return r};function vi(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const b2=function(t){xe(!y2(t),"Invalid JSON number");const e=11,n=52,r=(1<<e-1)-1;let i,s,o,a,l;t===0?(s=0,o=0,i=1/t===-1/0?1:0):(i=t<0,t=Math.abs(t),t>=Math.pow(2,1-r)?(a=Math.min(Math.floor(Math.log(t)/Math.LN2),r),s=a+r,o=Math.round(t*Math.pow(2,n-a)-Math.pow(2,n))):(s=0,o=Math.round(t/Math.pow(2,1-r-n))));const u=[];for(l=n;l;l-=1)u.push(o%2?1:0),o=Math.floor(o/2);for(l=e;l;l-=1)u.push(s%2?1:0),s=Math.floor(s/2);u.push(i?1:0),u.reverse();const c=u.join("");let h="";for(l=0;l<64;l+=8){let f=parseInt(c.substr(l,8),2).toString(16);f.length===1&&(f="0"+f),h=h+f}return h.toLowerCase()},VH=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},FH=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"},$H=new RegExp("^-?(0*)\\d{1,10}$"),UH=-2147483648,BH=2147483647,iI=function(t){if($H.test(t)){const e=Number(t);if(e>=UH&&e<=BH)return e}return null},sh=function(t){try{t()}catch(e){setTimeout(()=>{const n=e.stack||"";throw oi("Exception was thrown by user callback.",n),e},Math.floor(0))}},HH=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Dc=function(t,e){const n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jH{constructor(e,n){this.appName_=e,this.appCheckProvider=n,this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(r=>this.appCheck=r)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){oi(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WH{constructor(e,n,r){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(yr("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',oi(e)}}class xy{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}xy.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lb="5",w2="v",T2="s",E2="r",I2="f",S2=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,C2="ls",A2="p",Ny="ac",O2="websocket",P2="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qH{constructor(e,n,r,i,s=!1,o="",a=!1,l=!1){this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=s,this.persistenceKey=o,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=l,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=aa.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&aa.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}}function zH(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function k2(t,e,n){xe(typeof e=="string","typeof type must == string"),xe(typeof n=="object","typeof params must == object");let r;if(e===O2)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===P2)r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);zH(t)&&(n.ns=t.namespace);const i=[];return vi(n,(s,o)=>{i.push(s+"="+o)}),r+i.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KH{constructor(){this.counters_={}}incrementCounter(e,n=1){Hs(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return LL(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zg={},Kg={};function ub(t){const e=t.toString();return zg[e]||(zg[e]=new KH),zg[e]}function YH(t,e){const n=t.toString();return Kg[n]||(Kg[n]=e()),Kg[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GH{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&sh(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sI="start",QH="close",XH="pLPCommand",JH="pRTLPCB",R2="id",D2="pw",x2="ser",ZH="cb",ej="seg",tj="ts",nj="d",rj="dframe",N2=1870,M2=30,ij=N2-M2,sj=25e3,oj=3e4;class vl{constructor(e,n,r,i,s,o,a){this.connId=e,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.transportSessionId=o,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=ih(e),this.stats_=ub(n),this.urlFn=l=>(this.appCheckToken&&(l[Ny]=this.appCheckToken),k2(n,P2,l))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new GH(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(oj)),MH(()=>{if(this.isClosed_)return;this.scriptTagHolder=new cb((...s)=>{const[o,a,l,u,c]=s;if(this.incrementIncomingBytes_(s),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,o===sI)this.id=a,this.password=l;else if(o===QH)a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+o)},(...s)=>{const[o,a]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(o,a)},()=>{this.onClosed_()},this.urlFn);const r={};r[sI]="t",r[x2]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[ZH]=this.scriptTagHolder.uniqueCallbackIdentifier),r[w2]=lb,this.transportSessionId&&(r[T2]=this.transportSessionId),this.lastSessionId&&(r[C2]=this.lastSessionId),this.applicationId&&(r[A2]=this.applicationId),this.appCheckToken&&(r[Ny]=this.appCheckToken),typeof location<"u"&&location.hostname&&S2.test(location.hostname)&&(r[E2]=I2);const i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){vl.forceAllow_=!0}static forceDisallow(){vl.forceDisallow_=!0}static isAvailable(){return vl.forceAllow_?!0:!vl.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!VH()&&!FH()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=tr(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=kO(n),i=_2(r,ij);for(let s=0;s<i.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[s]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const r={};r[rj]="t",r[R2]=e,r[D2]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=tr(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class cb{constructor(e,n,r,i){this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=DH(),window[XH+this.uniqueCallbackIdentifier]=e,window[JH+this.uniqueCallbackIdentifier]=n,this.myIFrame=cb.createIFrame_();let s="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(s='<script>document.domain="'+document.domain+'";<\/script>');const o="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(a){yr("frame writing exception"),a.stack&&yr(a.stack),yr(a)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||yr("No IE domain setting required")}catch{const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[R2]=this.myID,e[D2]=this.myPW,e[x2]=this.currentSerial;let n=this.urlFn(e),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+M2+r.length<=N2;){const o=this.pendingSegs.shift();r=r+"&"+ej+i+"="+o.seg+"&"+tj+i+"="+o.ts+"&"+nj+i+"="+o.d,i++}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,r){this.pendingSegs.push({seg:e,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},i=setTimeout(r,Math.floor(sj)),s=()=>{clearTimeout(i),r()};this.addTag(e,s)}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const i=r.readyState;(!i||i==="loaded"||i==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{yr("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aj=16384,lj=45e3;let mp=null;typeof MozWebSocket<"u"?mp=MozWebSocket:typeof WebSocket<"u"&&(mp=WebSocket);class Si{constructor(e,n,r,i,s,o,a){this.connId=e,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=ih(this.connId),this.stats_=ub(n),this.connURL=Si.connectionURL_(n,o,a,i,r),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,r,i,s){const o={};return o[w2]=lb,typeof location<"u"&&location.hostname&&S2.test(location.hostname)&&(o[E2]=I2),n&&(o[T2]=n),r&&(o[C2]=r),i&&(o[Ny]=i),s&&(o[A2]=s),k2(e,O2,o)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,aa.set("previous_websocket_failure",!0);try{let r;UO(),this.mySock=new mp(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_()}}start(){}static forceDisallow(){Si.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(n);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&mp!==null&&!Si.forceDisallow_}static previouslyFailed(){return aa.isInMemoryStorage||aa.get("previous_websocket_failure")===!0}markConnectionHealthy(){aa.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const r=Zc(n);this.onMessage(r)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(xe(this.frames===null,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const r=this.extractFrameCount_(n);r!==null&&this.appendFrame_(r)}}send(e){this.resetKeepAlive();const n=tr(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=_2(n,aj);r.length>1&&this.sendString_(String(r.length));for(let i=0;i<r.length;i++)this.sendString_(r[i])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(lj))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}Si.responsesRequiredToBeHealthy=2;Si.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fd{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[vl,Si]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const n=Si&&Si.isAvailable();let r=n&&!Si.previouslyFailed();if(e.webSocketOnly&&(n||oi("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[Si];else{const i=this.transports_=[];for(const s of fd.ALL_TRANSPORTS)s&&s.isAvailable()&&i.push(s);fd.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}fd.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uj=6e4,cj=5e3,dj=10*1024,hj=100*1024,Yg="t",oI="d",fj="s",aI="r",pj="e",lI="o",uI="a",cI="n",dI="p",mj="h";class gj{constructor(e,n,r,i,s,o,a,l,u,c){this.id=e,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=s,this.onMessage_=o,this.onReady_=a,this.onDisconnect_=l,this.onKill_=u,this.lastSessionId=c,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=ih("c:"+this.id+":"),this.transportManager_=new fd(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));const i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=Dc(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>hj?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>dj?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){const n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(Yg in e){const n=e[Yg];n===uI?this.upgradeIfSecondaryHealthy_():n===aI?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===lI&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=zu("t",e),r=zu("d",e);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:dI,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:uI,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:cI,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=zu("t",e),r=zu("d",e);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=zu(Yg,e);if(oI in e){const r=e[oI];if(n===mj){const i=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if(n===cI){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===fj?this.onConnectionShutdown_(r):n===aI?this.onReset_(r):n===pj?Dy("Server Error: "+r):n===lI?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Dy("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,r=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),lb!==r&&oi("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),Dc(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(uj))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Dc(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(cj))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:dI,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(aa.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L2{put(e,n,r,i){}merge(e,n,r,i){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,r){}onDisconnectMerge(e,n,r){}onDisconnectCancel(e,n){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V2{constructor(e){this.allowedEvents_=e,this.listeners_={},xe(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,n)}}on(e,n,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:r});const i=this.getInitialEvent(e);i&&n.apply(r,i)}off(e,n,r){this.validateEventType_(e);const i=this.listeners_[e]||[];for(let s=0;s<i.length;s++)if(i[s].callback===n&&(!r||r===i[s].context)){i.splice(s,1);return}}validateEventType_(e){xe(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gp extends V2{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!K_()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new gp}getInitialEvent(e){return xe(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hI=32,fI=768;class pn{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}}function zt(){return new pn("")}function Ct(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function Mo(t){return t.pieces_.length-t.pieceNum_}function cn(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new pn(t.pieces_,e)}function F2(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function vj(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function $2(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function U2(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new pn(e,0)}function qn(t,e){const n=[];for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof pn)for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{const r=e.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&n.push(r[i])}return new pn(n,0)}function wt(t){return t.pieceNum_>=t.pieces_.length}function hi(t,e){const n=Ct(t),r=Ct(e);if(n===null)return e;if(n===r)return hi(cn(t),cn(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function B2(t,e){if(Mo(t)!==Mo(e))return!1;for(let n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function Oi(t,e){let n=t.pieceNum_,r=e.pieceNum_;if(Mo(t)>Mo(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}class yj{constructor(e,n){this.errorPrefix_=n,this.parts_=$2(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=tm(this.parts_[r]);H2(this)}}function _j(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=tm(e),H2(t)}function bj(t){const e=t.parts_.pop();t.byteLength_-=tm(e),t.parts_.length>0&&(t.byteLength_-=1)}function H2(t){if(t.byteLength_>fI)throw new Error(t.errorPrefix_+"has a key path longer than "+fI+" bytes ("+t.byteLength_+").");if(t.parts_.length>hI)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+hI+") or object contains a cycle "+Zo(t))}function Zo(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class db extends V2{constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new db}getInitialEvent(e){return xe(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ku=1e3,wj=60*5*1e3,pI=30*1e3,Tj=1.3,Ej=3e4,Ij="server_kill",mI=3;class Ds extends L2{constructor(e,n,r,i,s,o,a,l){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=r,this.onConnectStatus_=i,this.onServerInfoUpdate_=s,this.authTokenProvider_=o,this.appCheckTokenProvider_=a,this.authOverride_=l,this.id=Ds.nextPersistentConnectionId_++,this.log_=ih("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Ku,this.maxReconnectDelay_=wj,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,l&&!UO())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");db.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&gp.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,r){const i=++this.requestNumber_,s={r:i,a:e,b:n};this.log_(tr(s)),xe(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(s),r&&(this.requestCBHash_[i]=r)}get(e){this.initConnection_();const n=new ba,i={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:o=>{const a=o.d;o.s==="ok"?n.resolve(a):n.reject(a)}};this.outstandingGets_.push(i),this.outstandingGetCount_++;const s=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(s),n.promise}listen(e,n,r,i){this.initConnection_();const s=e._queryIdentifier,o=e._path.toString();this.log_("Listen called for "+o+" "+s),this.listens.has(o)||this.listens.set(o,new Map),xe(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),xe(!this.listens.get(o).has(s),"listen() called twice for same path/queryId.");const a={onComplete:i,hashFn:n,query:e,tag:r};this.listens.get(o).set(s,a),this.connected_&&this.sendListen_(a)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,r=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(r)})}sendListen_(e){const n=e.query,r=n._path.toString(),i=n._queryIdentifier;this.log_("Listen on "+r+" for "+i);const s={p:r},o="q";e.tag&&(s.q=n._queryObject,s.t=e.tag),s.h=e.hashFn(),this.sendRequest(o,s,a=>{const l=a.d,u=a.s;Ds.warnOnListenWarnings_(l,n),(this.listens.get(r)&&this.listens.get(r).get(i))===e&&(this.log_("listen response",a),u!=="ok"&&this.removeListen_(r,i),e.onComplete&&e.onComplete(u,l))})}static warnOnListenWarnings_(e,n){if(e&&typeof e=="object"&&Hs(e,"w")){const r=Kl(e,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const i='".indexOn": "'+n._queryParams.getIndex().toString()+'"',s=n._path.toString();oi(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${i} at ${s} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||QL(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=pI)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=GL(e)?"auth":"gauth",r={cred:e};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(n,r,i=>{const s=i.s,o=i.d||"error";this.authToken_===e&&(s==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(s,o))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,r=e.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,r)})}unlisten(e,n){const r=e._path.toString(),i=e._queryIdentifier;this.log_("Unlisten called for "+r+" "+i),xe(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,i)&&this.connected_&&this.sendUnlisten_(r,i,e._queryObject,n)}sendUnlisten_(e,n,r,i){this.log_("Unlisten on "+e+" for "+n);const s={p:e},o="n";i&&(s.q=r,s.t=i),this.sendRequest(o,s)}onDisconnectPut(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:r})}onDisconnectMerge(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:r})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,r,i){const s={p:n,d:r};this.log_("onDisconnect "+e,s),this.sendRequest(e,s,o=>{i&&setTimeout(()=>{i(o.s,o.d)},Math.floor(0))})}put(e,n,r,i){this.putInternal("p",e,n,r,i)}merge(e,n,r,i){this.putInternal("m",e,n,r,i)}putInternal(e,n,r,i,s){this.initConnection_();const o={p:n,d:r};s!==void 0&&(o.h=s),this.outstandingPuts_.push({action:e,request:o,onComplete:i}),this.outstandingPutCount_++;const a=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(a):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,i=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,s=>{this.log_(n+" response",s),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),i&&i(s.s,s.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,r=>{if(r.s!=="ok"){const s=r.d;this.log_("reportStats","Error sending stats: "+s)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+tr(e));const n=e.r,r=this.requestCBHash_[n];r&&(delete this.requestCBHash_[n],r(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),e==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):e==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):e==="c"?this.onListenRevoked_(n.p,n.q):e==="ac"?this.onAuthRevoked_(n.s,n.d):e==="apc"?this.onAppCheckRevoked_(n.s,n.d):e==="sd"?this.onSecurityDebugPacket_(n):Dy("Unrecognized action received from server: "+tr(e)+`
Are you using the latest client?`)}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){xe(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Ku,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Ku,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>Ej&&(this.reconnectDelay_=Ku),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=new Date().getTime()-this.lastConnectionAttemptTime_;let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*Tj)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),i=this.id+":"+Ds.nextConnectionId_++,s=this.lastSessionId;let o=!1,a=null;const l=function(){a?a.close():(o=!0,r())},u=function(h){xe(a,"sendRequest call when we're not connected not allowed."),a.sendRequest(h)};this.realtime_={close:l,sendRequest:u};const c=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[h,f]=await Promise.all([this.authTokenProvider_.getToken(c),this.appCheckTokenProvider_.getToken(c)]);o?yr("getToken() completed but was canceled"):(yr("getToken() completed. Creating connection."),this.authToken_=h&&h.accessToken,this.appCheckToken_=f&&f.token,a=new gj(i,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,r,p=>{oi(p+" ("+this.repoInfo_.toString()+")"),this.interrupt(Ij)},s))}catch(h){this.log_("Failed to get token: "+h),o||(this.repoInfo_.nodeAdmin&&oi(h),l())}}}interrupt(e){yr("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){yr("Resuming connection for reason: "+e),delete this.interruptReasons_[e],Zv(this.interruptReasons_)&&(this.reconnectDelay_=Ku,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let r;n?r=n.map(s=>ab(s)).join("$"):r="default";const i=this.removeListen_(e,r);i&&i.onComplete&&i.onComplete("permission_denied")}removeListen_(e,n){const r=new pn(e).toString();let i;if(this.listens.has(r)){const s=this.listens.get(r);i=s.get(n),s.delete(n),s.size===0&&this.listens.delete(r)}else i=void 0;return i}onAuthRevoked_(e,n){yr("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=mI&&(this.reconnectDelay_=pI,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){yr("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=mI&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";e["sdk."+n+"."+m2.replace(/\./g,"-")]=1,K_()?e["framework.cordova"]=1:$O()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=gp.getInstance().currentlyOnline();return Zv(this.interruptReasons_)&&e}}Ds.nextPersistentConnectionId_=0;Ds.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class At{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new At(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dm{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const r=new At(iu,e),i=new At(iu,n);return this.compare(r,i)!==0}minPost(){return At.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Xh;class j2 extends Dm{static get __EMPTY_NODE(){return Xh}static set __EMPTY_NODE(e){Xh=e}compare(e,n){return Iu(e.name,n.name)}isDefinedOn(e){throw gu("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return At.MIN}maxPost(){return new At(ka,Xh)}makePost(e,n){return xe(typeof e=="string","KeyIndex indexValue must always be a string."),new At(e,Xh)}toString(){return".key"}}const Vl=new j2;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jh{constructor(e,n,r,i,s=null){this.isReverse_=i,this.resultGenerator_=s,this.nodeStack_=[];let o=1;for(;!e.isEmpty();)if(e=e,o=n?r(e.key,n):1,i&&(o*=-1),o<0)this.isReverse_?e=e.left:e=e.right;else if(o===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class Wn{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??Wn.RED,this.left=i??zr.EMPTY_NODE,this.right=s??zr.EMPTY_NODE}copy(e,n,r,i,s){return new Wn(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return s<0?i=i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i=i.copy(null,n,null,null,null):i=i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp_()}removeMin_(){if(this.left.isEmpty())return zr.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let r,i;if(r=this,n(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),n(e,r.key)===0){if(r.right.isEmpty())return zr.EMPTY_NODE;i=r.right.min_(),r=r.copy(i.key,i.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,Wn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,Wn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}Wn.RED=!0;Wn.BLACK=!1;class Sj{copy(e,n,r,i,s){return this}insert(e,n,r){return new Wn(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class zr{constructor(e,n=zr.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new zr(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,Wn.BLACK,null,null))}remove(e){return new zr(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Wn.BLACK,null,null))}get(e){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(e){let n,r=this.root_,i=null;for(;!r.isEmpty();)if(n=this.comparator_(e,r.key),n===0){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(i=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new Jh(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new Jh(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new Jh(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new Jh(this.root_,null,this.comparator_,!0,e)}}zr.EMPTY_NODE=new Sj;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cj(t,e){return Iu(t.name,e.name)}function hb(t,e){return Iu(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let My;function Aj(t){My=t}const W2=function(t){return typeof t=="number"?"number:"+b2(t):"string:"+t},q2=function(t){if(t.isLeafNode()){const e=t.val();xe(typeof e=="string"||typeof e=="number"||typeof e=="object"&&Hs(e,".sv"),"Priority must be a string or number.")}else xe(t===My||t.isEmpty(),"priority of unexpected type.");xe(t===My||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let gI;class Bn{constructor(e,n=Bn.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,xe(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),q2(this.priorityNode_)}static set __childrenNodeConstructor(e){gI=e}static get __childrenNodeConstructor(){return gI}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new Bn(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:Bn.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return wt(e)?this:Ct(e)===".priority"?this.priorityNode_:Bn.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:Bn.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const r=Ct(e);return r===null?n:n.isEmpty()&&r!==".priority"?this:(xe(r!==".priority"||Mo(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,Bn.__childrenNodeConstructor.EMPTY_NODE.updateChild(cn(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+W2(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",n==="number"?e+=b2(this.value_):e+=this.value_,this.lazyHash_=v2(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===Bn.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof Bn.__childrenNodeConstructor?-1:(xe(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,r=typeof this.value_,i=Bn.VALUE_TYPE_ORDER.indexOf(n),s=Bn.VALUE_TYPE_ORDER.indexOf(r);return xe(i>=0,"Unknown leaf type: "+n),xe(s>=0,"Unknown leaf type: "+r),i===s?r==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:s-i}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}Bn.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let z2,K2;function Oj(t){z2=t}function Pj(t){K2=t}class kj extends Dm{compare(e,n){const r=e.node.getPriority(),i=n.node.getPriority(),s=r.compareTo(i);return s===0?Iu(e.name,n.name):s}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return At.MIN}maxPost(){return new At(ka,new Bn("[PRIORITY-POST]",K2))}makePost(e,n){const r=z2(e);return new At(n,new Bn("[PRIORITY-POST]",r))}toString(){return".priority"}}const wr=new kj;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rj=Math.log(2);class Dj{constructor(e){const n=s=>parseInt(Math.log(s)/Rj,10),r=s=>parseInt(Array(s+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;const i=r(this.count);this.bits_=e+1&i}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const vp=function(t,e,n,r){t.sort(e);const i=function(l,u){const c=u-l;let h,f;if(c===0)return null;if(c===1)return h=t[l],f=n?n(h):h,new Wn(f,h.node,Wn.BLACK,null,null);{const p=parseInt(c/2,10)+l,g=i(l,p),w=i(p+1,u);return h=t[p],f=n?n(h):h,new Wn(f,h.node,Wn.BLACK,g,w)}},s=function(l){let u=null,c=null,h=t.length;const f=function(g,w){const I=h-g,k=h;h-=g;const P=i(I+1,k),T=t[I],_=n?n(T):T;p(new Wn(_,T.node,w,null,P))},p=function(g){u?(u.left=g,u=g):(c=g,u=g)};for(let g=0;g<l.count;++g){const w=l.nextBitIsOne(),I=Math.pow(2,l.count-(g+1));w?f(I,Wn.BLACK):(f(I,Wn.BLACK),f(I,Wn.RED))}return c},o=new Dj(t.length),a=s(o);return new zr(r||e,a)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Gg;const tl={};class Os{constructor(e,n){this.indexes_=e,this.indexSet_=n}static get Default(){return xe(tl&&wr,"ChildrenNode.ts has not been loaded"),Gg=Gg||new Os({".priority":tl},{".priority":wr}),Gg}get(e){const n=Kl(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof zr?n:null}hasIndex(e){return Hs(this.indexSet_,e.toString())}addIndex(e,n){xe(e!==Vl,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let i=!1;const s=n.getIterator(At.Wrap);let o=s.getNext();for(;o;)i=i||e.isDefinedOn(o.node),r.push(o),o=s.getNext();let a;i?a=vp(r,e.getCompare()):a=tl;const l=e.toString(),u=Object.assign({},this.indexSet_);u[l]=e;const c=Object.assign({},this.indexes_);return c[l]=a,new Os(c,u)}addToIndexes(e,n){const r=Kf(this.indexes_,(i,s)=>{const o=Kl(this.indexSet_,s);if(xe(o,"Missing index implementation for "+s),i===tl)if(o.isDefinedOn(e.node)){const a=[],l=n.getIterator(At.Wrap);let u=l.getNext();for(;u;)u.name!==e.name&&a.push(u),u=l.getNext();return a.push(e),vp(a,o.getCompare())}else return tl;else{const a=n.get(e.name);let l=i;return a&&(l=l.remove(new At(e.name,a))),l.insert(e,e.node)}});return new Os(r,this.indexSet_)}removeFromIndexes(e,n){const r=Kf(this.indexes_,i=>{if(i===tl)return i;{const s=n.get(e.name);return s?i.remove(new At(e.name,s)):i}});return new Os(r,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Yu;class Ht{constructor(e,n,r){this.children_=e,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&q2(this.priorityNode_),this.children_.isEmpty()&&xe(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return Yu||(Yu=new Ht(new zr(hb),null,Os.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Yu}updatePriority(e){return this.children_.isEmpty()?this:new Ht(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const n=this.children_.get(e);return n===null?Yu:n}}getChild(e){const n=Ct(e);return n===null?this:this.getImmediateChild(n).getChild(cn(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,n){if(xe(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);{const r=new At(e,n);let i,s;n.isEmpty()?(i=this.children_.remove(e),s=this.indexMap_.removeFromIndexes(r,this.children_)):(i=this.children_.insert(e,n),s=this.indexMap_.addToIndexes(r,this.children_));const o=i.isEmpty()?Yu:this.priorityNode_;return new Ht(i,o,s)}}updateChild(e,n){const r=Ct(e);if(r===null)return n;{xe(Ct(e)!==".priority"||Mo(e)===1,".priority must be the last token in a path");const i=this.getImmediateChild(r).updateChild(cn(e),n);return this.updateImmediateChild(r,i)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let r=0,i=0,s=!0;if(this.forEachChild(wr,(o,a)=>{n[o]=a.val(e),r++,s&&Ht.INTEGER_REGEXP_.test(o)?i=Math.max(i,Number(o)):s=!1}),!e&&s&&i<2*r){const o=[];for(const a in n)o[a]=n[a];return o}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+W2(this.getPriority().val())+":"),this.forEachChild(wr,(n,r)=>{const i=r.hash();i!==""&&(e+=":"+n+":"+i)}),this.lazyHash_=e===""?"":v2(e)}return this.lazyHash_}getPredecessorChildName(e,n,r){const i=this.resolveIndex_(r);if(i){const s=i.getPredecessorKey(new At(e,n));return s?s.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new At(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new At(n,this.children_.get(n)):null}forEachChild(e,n){const r=this.resolveIndex_(e);return r?r.inorderTraversal(i=>n(i.name,i.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getIteratorFrom(e,i=>i);{const i=this.children_.getIteratorFrom(e.name,At.Wrap);let s=i.peek();for(;s!=null&&n.compare(s,e)<0;)i.getNext(),s=i.peek();return i}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getReverseIteratorFrom(e,i=>i);{const i=this.children_.getReverseIteratorFrom(e.name,At.Wrap);let s=i.peek();for(;s!=null&&n.compare(s,e)>0;)i.getNext(),s=i.peek();return i}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===oh?-1:0}withIndex(e){if(e===Vl||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new Ht(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===Vl||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const r=this.getIterator(wr),i=n.getIterator(wr);let s=r.getNext(),o=i.getNext();for(;s&&o;){if(s.name!==o.name||!s.node.equals(o.node))return!1;s=r.getNext(),o=i.getNext()}return s===null&&o===null}else return!1;else return!1}}resolveIndex_(e){return e===Vl?null:this.indexMap_.get(e.toString())}}Ht.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class xj extends Ht{constructor(){super(new zr(hb),Ht.EMPTY_NODE,Os.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return Ht.EMPTY_NODE}isEmpty(){return!1}}const oh=new xj;Object.defineProperties(At,{MIN:{value:new At(iu,Ht.EMPTY_NODE)},MAX:{value:new At(ka,oh)}});j2.__EMPTY_NODE=Ht.EMPTY_NODE;Bn.__childrenNodeConstructor=Ht;Aj(oh);Pj(oh);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nj=!0;function _r(t,e=null){if(t===null)return Ht.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),xe(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const n=t;return new Bn(n,_r(e))}if(!(t instanceof Array)&&Nj){const n=[];let r=!1;if(vi(t,(o,a)=>{if(o.substring(0,1)!=="."){const l=_r(a);l.isEmpty()||(r=r||!l.getPriority().isEmpty(),n.push(new At(o,l)))}}),n.length===0)return Ht.EMPTY_NODE;const s=vp(n,Cj,o=>o.name,hb);if(r){const o=vp(n,wr.getCompare());return new Ht(s,_r(e),new Os({".priority":o},{".priority":wr}))}else return new Ht(s,_r(e),Os.Default)}else{let n=Ht.EMPTY_NODE;return vi(t,(r,i)=>{if(Hs(t,r)&&r.substring(0,1)!=="."){const s=_r(i);(s.isLeafNode()||!s.isEmpty())&&(n=n.updateImmediateChild(r,s))}}),n.updatePriority(_r(e))}}Oj(_r);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mj extends Dm{constructor(e){super(),this.indexPath_=e,xe(!wt(e)&&Ct(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const r=this.extractChild(e.node),i=this.extractChild(n.node),s=r.compareTo(i);return s===0?Iu(e.name,n.name):s}makePost(e,n){const r=_r(e),i=Ht.EMPTY_NODE.updateChild(this.indexPath_,r);return new At(n,i)}maxPost(){const e=Ht.EMPTY_NODE.updateChild(this.indexPath_,oh);return new At(ka,e)}toString(){return $2(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lj extends Dm{compare(e,n){const r=e.node.compareTo(n.node);return r===0?Iu(e.name,n.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return At.MIN}maxPost(){return At.MAX}makePost(e,n){const r=_r(e);return new At(n,r)}toString(){return".value"}}const Vj=new Lj;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fj(t){return{type:"value",snapshotNode:t}}function $j(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function Uj(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function vI(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function Bj(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fb{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=wr}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return xe(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return xe(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:iu}hasEnd(){return this.endSet_}getIndexEndValue(){return xe(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return xe(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:ka}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return xe(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===wr}copy(){const e=new fb;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function yI(t){const e={};if(t.isDefault())return e;let n;if(t.index_===wr?n="$priority":t.index_===Vj?n="$value":t.index_===Vl?n="$key":(xe(t.index_ instanceof Mj,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=tr(n),t.startSet_){const r=t.startAfterSet_?"startAfter":"startAt";e[r]=tr(t.indexStartValue_),t.startNameSet_&&(e[r]+=","+tr(t.indexStartName_))}if(t.endSet_){const r=t.endBeforeSet_?"endBefore":"endAt";e[r]=tr(t.indexEndValue_),t.endNameSet_&&(e[r]+=","+tr(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function _I(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==wr&&(e.i=t.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yp extends L2{constructor(e,n,r,i){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=ih("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(xe(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,n,r,i){const s=e._path.toString();this.log_("Listen called for "+s+" "+e._queryIdentifier);const o=yp.getListenId_(e,r),a={};this.listens_[o]=a;const l=yI(e._queryParams);this.restRequest_(s+".json",l,(u,c)=>{let h=c;if(u===404&&(h=null,u=null),u===null&&this.onDataUpdate_(s,h,!1,r),Kl(this.listens_,o)===a){let f;u?u===401?f="permission_denied":f="rest_error:"+u:f="ok",i(f,null)}})}unlisten(e,n){const r=yp.getListenId_(e,n);delete this.listens_[r]}get(e){const n=yI(e._queryParams),r=e._path.toString(),i=new ba;return this.restRequest_(r+".json",n,(s,o)=>{let a=o;s===404&&(a=null,s=null),s===null?(this.onDataUpdate_(r,a,!1,null),i.resolve(a)):i.reject(new Error(a))}),i.promise}refreshAuthToken(e){}restRequest_(e,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,s])=>{i&&i.accessToken&&(n.auth=i.accessToken),s&&s.token&&(n.ac=s.token);const o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+vu(n);this.log_("Sending REST request for "+o);const a=new XMLHttpRequest;a.onreadystatechange=()=>{if(r&&a.readyState===4){this.log_("REST Response for "+o+" received. status:",a.status,"response:",a.responseText);let l=null;if(a.status>=200&&a.status<300){try{l=Zc(a.responseText)}catch{oi("Failed to parse JSON response for "+o+": "+a.responseText)}r(null,l)}else a.status!==401&&a.status!==404&&oi("Got unsuccessful REST response for "+o+" Status: "+a.status),r(a.status);r=null}},a.open("GET",o,!0),a.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hj{constructor(){this.rootNode_=Ht.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _p(){return{value:null,children:new Map}}function Y2(t,e,n){if(wt(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{const r=Ct(e);t.children.has(r)||t.children.set(r,_p());const i=t.children.get(r);e=cn(e),Y2(i,e,n)}}function Ly(t,e,n){t.value!==null?n(e,t.value):jj(t,(r,i)=>{const s=new pn(e.toString()+"/"+r);Ly(i,s,n)})}function jj(t,e){t.children.forEach((n,r)=>{e(r,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wj{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n=Object.assign({},e);return this.last_&&vi(this.last_,(r,i)=>{n[r]=n[r]-i}),this.last_=e,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bI=10*1e3,qj=30*1e3,zj=5*60*1e3;class Kj{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new Wj(e);const r=bI+(qj-bI)*Math.random();Dc(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const e=this.statsListener_.get(),n={};let r=!1;vi(e,(i,s)=>{s>0&&Hs(this.statsToReport_,i)&&(n[i]=s,r=!0)}),r&&this.server_.reportStats(n),Dc(this.reportStats_.bind(this),Math.floor(Math.random()*2*zj))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Zi;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(Zi||(Zi={}));function G2(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function Q2(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function X2(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bp{constructor(e,n,r){this.path=e,this.affectedTree=n,this.revert=r,this.type=Zi.ACK_USER_WRITE,this.source=G2()}operationForChild(e){if(wt(this.path)){if(this.affectedTree.value!=null)return xe(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new pn(e));return new bp(zt(),n,this.revert)}}else return xe(Ct(this.path)===e,"operationForChild called for unrelated child."),new bp(cn(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ra{constructor(e,n,r){this.source=e,this.path=n,this.snap=r,this.type=Zi.OVERWRITE}operationForChild(e){return wt(this.path)?new Ra(this.source,zt(),this.snap.getImmediateChild(e)):new Ra(this.source,cn(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pd{constructor(e,n,r){this.source=e,this.path=n,this.children=r,this.type=Zi.MERGE}operationForChild(e){if(wt(this.path)){const n=this.children.subtree(new pn(e));return n.isEmpty()?null:n.value?new Ra(this.source,zt(),n.value):new pd(this.source,zt(),n)}else return xe(Ct(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new pd(this.source,cn(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pb{constructor(e,n,r){this.node_=e,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(wt(e))return this.isFullyInitialized()&&!this.filtered_;const n=Ct(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}function Yj(t,e,n,r){const i=[],s=[];return e.forEach(o=>{o.type==="child_changed"&&t.index_.indexedValueChanged(o.oldSnap,o.snapshotNode)&&s.push(Bj(o.childName,o.snapshotNode))}),Gu(t,i,"child_removed",e,r,n),Gu(t,i,"child_added",e,r,n),Gu(t,i,"child_moved",s,r,n),Gu(t,i,"child_changed",e,r,n),Gu(t,i,"value",e,r,n),i}function Gu(t,e,n,r,i,s){const o=r.filter(a=>a.type===n);o.sort((a,l)=>Qj(t,a,l)),o.forEach(a=>{const l=Gj(t,a,s);i.forEach(u=>{u.respondsTo(a.type)&&e.push(u.createEvent(l,t.query_))})})}function Gj(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function Qj(t,e,n){if(e.childName==null||n.childName==null)throw gu("Should only compare child_ events.");const r=new At(e.childName,e.snapshotNode),i=new At(n.childName,n.snapshotNode);return t.index_.compare(r,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J2(t,e){return{eventCache:t,serverCache:e}}function xc(t,e,n,r){return J2(new pb(e,n,r),t.serverCache)}function Z2(t,e,n,r){return J2(t.eventCache,new pb(e,n,r))}function Vy(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function Da(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Qg;const Xj=()=>(Qg||(Qg=new zr(LH)),Qg);class un{constructor(e,n=Xj()){this.value=e,this.children=n}static fromObject(e){let n=new un(null);return vi(e,(r,i)=>{n=n.set(new pn(r),i)}),n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:zt(),value:this.value};if(wt(e))return null;{const r=Ct(e),i=this.children.get(r);if(i!==null){const s=i.findRootMostMatchingPathAndValue(cn(e),n);return s!=null?{path:qn(new pn(r),s.path),value:s.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(wt(e))return this;{const n=Ct(e),r=this.children.get(n);return r!==null?r.subtree(cn(e)):new un(null)}}set(e,n){if(wt(e))return new un(n,this.children);{const r=Ct(e),s=(this.children.get(r)||new un(null)).set(cn(e),n),o=this.children.insert(r,s);return new un(this.value,o)}}remove(e){if(wt(e))return this.children.isEmpty()?new un(null):new un(null,this.children);{const n=Ct(e),r=this.children.get(n);if(r){const i=r.remove(cn(e));let s;return i.isEmpty()?s=this.children.remove(n):s=this.children.insert(n,i),this.value===null&&s.isEmpty()?new un(null):new un(this.value,s)}else return this}}get(e){if(wt(e))return this.value;{const n=Ct(e),r=this.children.get(n);return r?r.get(cn(e)):null}}setTree(e,n){if(wt(e))return n;{const r=Ct(e),s=(this.children.get(r)||new un(null)).setTree(cn(e),n);let o;return s.isEmpty()?o=this.children.remove(r):o=this.children.insert(r,s),new un(this.value,o)}}fold(e){return this.fold_(zt(),e)}fold_(e,n){const r={};return this.children.inorderTraversal((i,s)=>{r[i]=s.fold_(qn(e,i),n)}),n(e,this.value,r)}findOnPath(e,n){return this.findOnPath_(e,zt(),n)}findOnPath_(e,n,r){const i=this.value?r(n,this.value):!1;if(i)return i;if(wt(e))return null;{const s=Ct(e),o=this.children.get(s);return o?o.findOnPath_(cn(e),qn(n,s),r):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,zt(),n)}foreachOnPath_(e,n,r){if(wt(e))return this;{this.value&&r(n,this.value);const i=Ct(e),s=this.children.get(i);return s?s.foreachOnPath_(cn(e),qn(n,i),r):new un(null)}}foreach(e){this.foreach_(zt(),e)}foreach_(e,n){this.children.inorderTraversal((r,i)=>{i.foreach_(qn(e,r),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,r)=>{r.value&&e(n,r.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ri{constructor(e){this.writeTree_=e}static empty(){return new Ri(new un(null))}}function Nc(t,e,n){if(wt(e))return new Ri(new un(n));{const r=t.writeTree_.findRootMostValueAndPath(e);if(r!=null){const i=r.path;let s=r.value;const o=hi(i,e);return s=s.updateChild(o,n),new Ri(t.writeTree_.set(i,s))}else{const i=new un(n),s=t.writeTree_.setTree(e,i);return new Ri(s)}}}function wI(t,e,n){let r=t;return vi(n,(i,s)=>{r=Nc(r,qn(e,i),s)}),r}function TI(t,e){if(wt(e))return Ri.empty();{const n=t.writeTree_.setTree(e,new un(null));return new Ri(n)}}function Fy(t,e){return Ha(t,e)!=null}function Ha(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(hi(n.path,e)):null}function EI(t){const e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(wr,(r,i)=>{e.push(new At(r,i))}):t.writeTree_.children.inorderTraversal((r,i)=>{i.value!=null&&e.push(new At(r,i.value))}),e}function Eo(t,e){if(wt(e))return t;{const n=Ha(t,e);return n!=null?new Ri(new un(n)):new Ri(t.writeTree_.subtree(e))}}function $y(t){return t.writeTree_.isEmpty()}function su(t,e){return eD(zt(),t.writeTree_,e)}function eD(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let r=null;return e.children.inorderTraversal((i,s)=>{i===".priority"?(xe(s.value!==null,"Priority writes must always be leaf nodes"),r=s.value):n=eD(qn(t,i),s,n)}),!n.getChild(t).isEmpty()&&r!==null&&(n=n.updateChild(qn(t,".priority"),r)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tD(t,e){return oD(e,t)}function Jj(t,e,n,r,i){xe(r>t.lastWriteId,"Stacking an older write on top of newer ones"),i===void 0&&(i=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:i}),i&&(t.visibleWrites=Nc(t.visibleWrites,e,n)),t.lastWriteId=r}function Zj(t,e){for(let n=0;n<t.allWrites.length;n++){const r=t.allWrites[n];if(r.writeId===e)return r}return null}function eW(t,e){const n=t.allWrites.findIndex(a=>a.writeId===e);xe(n>=0,"removeWrite called with nonexistent writeId.");const r=t.allWrites[n];t.allWrites.splice(n,1);let i=r.visible,s=!1,o=t.allWrites.length-1;for(;i&&o>=0;){const a=t.allWrites[o];a.visible&&(o>=n&&tW(a,r.path)?i=!1:Oi(r.path,a.path)&&(s=!0)),o--}if(i){if(s)return nW(t),!0;if(r.snap)t.visibleWrites=TI(t.visibleWrites,r.path);else{const a=r.children;vi(a,l=>{t.visibleWrites=TI(t.visibleWrites,qn(r.path,l))})}return!0}else return!1}function tW(t,e){if(t.snap)return Oi(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&Oi(qn(t.path,n),e))return!0;return!1}function nW(t){t.visibleWrites=nD(t.allWrites,rW,zt()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function rW(t){return t.visible}function nD(t,e,n){let r=Ri.empty();for(let i=0;i<t.length;++i){const s=t[i];if(e(s)){const o=s.path;let a;if(s.snap)Oi(n,o)?(a=hi(n,o),r=Nc(r,a,s.snap)):Oi(o,n)&&(a=hi(o,n),r=Nc(r,zt(),s.snap.getChild(a)));else if(s.children){if(Oi(n,o))a=hi(n,o),r=wI(r,a,s.children);else if(Oi(o,n))if(a=hi(o,n),wt(a))r=wI(r,zt(),s.children);else{const l=Kl(s.children,Ct(a));if(l){const u=l.getChild(cn(a));r=Nc(r,zt(),u)}}}else throw gu("WriteRecord should have .snap or .children")}}return r}function rD(t,e,n,r,i){if(!r&&!i){const s=Ha(t.visibleWrites,e);if(s!=null)return s;{const o=Eo(t.visibleWrites,e);if($y(o))return n;if(n==null&&!Fy(o,zt()))return null;{const a=n||Ht.EMPTY_NODE;return su(o,a)}}}else{const s=Eo(t.visibleWrites,e);if(!i&&$y(s))return n;if(!i&&n==null&&!Fy(s,zt()))return null;{const o=function(u){return(u.visible||i)&&(!r||!~r.indexOf(u.writeId))&&(Oi(u.path,e)||Oi(e,u.path))},a=nD(t.allWrites,o,e),l=n||Ht.EMPTY_NODE;return su(a,l)}}}function iW(t,e,n){let r=Ht.EMPTY_NODE;const i=Ha(t.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(wr,(s,o)=>{r=r.updateImmediateChild(s,o)}),r;if(n){const s=Eo(t.visibleWrites,e);return n.forEachChild(wr,(o,a)=>{const l=su(Eo(s,new pn(o)),a);r=r.updateImmediateChild(o,l)}),EI(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}else{const s=Eo(t.visibleWrites,e);return EI(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}}function sW(t,e,n,r,i){xe(r||i,"Either existingEventSnap or existingServerSnap must exist");const s=qn(e,n);if(Fy(t.visibleWrites,s))return null;{const o=Eo(t.visibleWrites,s);return $y(o)?i.getChild(n):su(o,i.getChild(n))}}function oW(t,e,n,r){const i=qn(e,n),s=Ha(t.visibleWrites,i);if(s!=null)return s;if(r.isCompleteForChild(n)){const o=Eo(t.visibleWrites,i);return su(o,r.getNode().getImmediateChild(n))}else return null}function aW(t,e){return Ha(t.visibleWrites,e)}function lW(t,e,n,r,i,s,o){let a;const l=Eo(t.visibleWrites,e),u=Ha(l,zt());if(u!=null)a=u;else if(n!=null)a=su(l,n);else return[];if(a=a.withIndex(o),!a.isEmpty()&&!a.isLeafNode()){const c=[],h=o.getCompare(),f=s?a.getReverseIteratorFrom(r,o):a.getIteratorFrom(r,o);let p=f.getNext();for(;p&&c.length<i;)h(p,r)!==0&&c.push(p),p=f.getNext();return c}else return[]}function uW(){return{visibleWrites:Ri.empty(),allWrites:[],lastWriteId:-1}}function Uy(t,e,n,r){return rD(t.writeTree,t.treePath,e,n,r)}function iD(t,e){return iW(t.writeTree,t.treePath,e)}function II(t,e,n,r){return sW(t.writeTree,t.treePath,e,n,r)}function wp(t,e){return aW(t.writeTree,qn(t.treePath,e))}function cW(t,e,n,r,i,s){return lW(t.writeTree,t.treePath,e,n,r,i,s)}function mb(t,e,n){return oW(t.writeTree,t.treePath,e,n)}function sD(t,e){return oD(qn(t.treePath,e),t.writeTree)}function oD(t,e){return{treePath:t,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dW{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,r=e.childName;xe(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),xe(r!==".priority","Only non-priority child changes can be tracked.");const i=this.changeMap.get(r);if(i){const s=i.type;if(n==="child_added"&&s==="child_removed")this.changeMap.set(r,vI(r,e.snapshotNode,i.snapshotNode));else if(n==="child_removed"&&s==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&s==="child_changed")this.changeMap.set(r,Uj(r,i.oldSnap));else if(n==="child_changed"&&s==="child_added")this.changeMap.set(r,$j(r,e.snapshotNode));else if(n==="child_changed"&&s==="child_changed")this.changeMap.set(r,vI(r,e.snapshotNode,i.oldSnap));else throw gu("Illegal combination of changes: "+e+" occurred after "+i)}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hW{getCompleteChild(e){return null}getChildAfterChild(e,n,r){return null}}const aD=new hW;class gb{constructor(e,n,r=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const r=this.optCompleteServerCache_!=null?new pb(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return mb(this.writes_,e,r)}}getChildAfterChild(e,n,r){const i=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:Da(this.viewCache_),s=cW(this.writes_,i,n,1,r,e);return s.length===0?null:s[0]}}function fW(t,e){xe(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),xe(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function pW(t,e,n,r,i){const s=new dW;let o,a;if(n.type===Zi.OVERWRITE){const u=n;u.source.fromUser?o=By(t,e,u.path,u.snap,r,i,s):(xe(u.source.fromServer,"Unknown source."),a=u.source.tagged||e.serverCache.isFiltered()&&!wt(u.path),o=Tp(t,e,u.path,u.snap,r,i,a,s))}else if(n.type===Zi.MERGE){const u=n;u.source.fromUser?o=gW(t,e,u.path,u.children,r,i,s):(xe(u.source.fromServer,"Unknown source."),a=u.source.tagged||e.serverCache.isFiltered(),o=Hy(t,e,u.path,u.children,r,i,a,s))}else if(n.type===Zi.ACK_USER_WRITE){const u=n;u.revert?o=_W(t,e,u.path,r,i,s):o=vW(t,e,u.path,u.affectedTree,r,i,s)}else if(n.type===Zi.LISTEN_COMPLETE)o=yW(t,e,n.path,r,s);else throw gu("Unknown operation type: "+n.type);const l=s.getChanges();return mW(e,o,l),{viewCache:o,changes:l}}function mW(t,e,n){const r=e.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),s=Vy(t);(n.length>0||!t.eventCache.isFullyInitialized()||i&&!r.getNode().equals(s)||!r.getNode().getPriority().equals(s.getPriority()))&&n.push(Fj(Vy(e)))}}function lD(t,e,n,r,i,s){const o=e.eventCache;if(wp(r,n)!=null)return e;{let a,l;if(wt(n))if(xe(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const u=Da(e),c=u instanceof Ht?u:Ht.EMPTY_NODE,h=iD(r,c);a=t.filter.updateFullNode(e.eventCache.getNode(),h,s)}else{const u=Uy(r,Da(e));a=t.filter.updateFullNode(e.eventCache.getNode(),u,s)}else{const u=Ct(n);if(u===".priority"){xe(Mo(n)===1,"Can't have a priority with additional path components");const c=o.getNode();l=e.serverCache.getNode();const h=II(r,n,c,l);h!=null?a=t.filter.updatePriority(c,h):a=o.getNode()}else{const c=cn(n);let h;if(o.isCompleteForChild(u)){l=e.serverCache.getNode();const f=II(r,n,o.getNode(),l);f!=null?h=o.getNode().getImmediateChild(u).updateChild(c,f):h=o.getNode().getImmediateChild(u)}else h=mb(r,u,e.serverCache);h!=null?a=t.filter.updateChild(o.getNode(),u,h,c,i,s):a=o.getNode()}}return xc(e,a,o.isFullyInitialized()||wt(n),t.filter.filtersNodes())}}function Tp(t,e,n,r,i,s,o,a){const l=e.serverCache;let u;const c=o?t.filter:t.filter.getIndexedFilter();if(wt(n))u=c.updateFullNode(l.getNode(),r,null);else if(c.filtersNodes()&&!l.isFiltered()){const p=l.getNode().updateChild(n,r);u=c.updateFullNode(l.getNode(),p,null)}else{const p=Ct(n);if(!l.isCompleteForPath(n)&&Mo(n)>1)return e;const g=cn(n),I=l.getNode().getImmediateChild(p).updateChild(g,r);p===".priority"?u=c.updatePriority(l.getNode(),I):u=c.updateChild(l.getNode(),p,I,g,aD,null)}const h=Z2(e,u,l.isFullyInitialized()||wt(n),c.filtersNodes()),f=new gb(i,h,s);return lD(t,h,n,i,f,a)}function By(t,e,n,r,i,s,o){const a=e.eventCache;let l,u;const c=new gb(i,e,s);if(wt(n))u=t.filter.updateFullNode(e.eventCache.getNode(),r,o),l=xc(e,u,!0,t.filter.filtersNodes());else{const h=Ct(n);if(h===".priority")u=t.filter.updatePriority(e.eventCache.getNode(),r),l=xc(e,u,a.isFullyInitialized(),a.isFiltered());else{const f=cn(n),p=a.getNode().getImmediateChild(h);let g;if(wt(f))g=r;else{const w=c.getCompleteChild(h);w!=null?F2(f)===".priority"&&w.getChild(U2(f)).isEmpty()?g=w:g=w.updateChild(f,r):g=Ht.EMPTY_NODE}if(p.equals(g))l=e;else{const w=t.filter.updateChild(a.getNode(),h,g,f,c,o);l=xc(e,w,a.isFullyInitialized(),t.filter.filtersNodes())}}}return l}function SI(t,e){return t.eventCache.isCompleteForChild(e)}function gW(t,e,n,r,i,s,o){let a=e;return r.foreach((l,u)=>{const c=qn(n,l);SI(e,Ct(c))&&(a=By(t,a,c,u,i,s,o))}),r.foreach((l,u)=>{const c=qn(n,l);SI(e,Ct(c))||(a=By(t,a,c,u,i,s,o))}),a}function CI(t,e,n){return n.foreach((r,i)=>{e=e.updateChild(r,i)}),e}function Hy(t,e,n,r,i,s,o,a){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let l=e,u;wt(n)?u=r:u=new un(null).setTree(n,r);const c=e.serverCache.getNode();return u.children.inorderTraversal((h,f)=>{if(c.hasChild(h)){const p=e.serverCache.getNode().getImmediateChild(h),g=CI(t,p,f);l=Tp(t,l,new pn(h),g,i,s,o,a)}}),u.children.inorderTraversal((h,f)=>{const p=!e.serverCache.isCompleteForChild(h)&&f.value===null;if(!c.hasChild(h)&&!p){const g=e.serverCache.getNode().getImmediateChild(h),w=CI(t,g,f);l=Tp(t,l,new pn(h),w,i,s,o,a)}}),l}function vW(t,e,n,r,i,s,o){if(wp(i,n)!=null)return e;const a=e.serverCache.isFiltered(),l=e.serverCache;if(r.value!=null){if(wt(n)&&l.isFullyInitialized()||l.isCompleteForPath(n))return Tp(t,e,n,l.getNode().getChild(n),i,s,a,o);if(wt(n)){let u=new un(null);return l.getNode().forEachChild(Vl,(c,h)=>{u=u.set(new pn(c),h)}),Hy(t,e,n,u,i,s,a,o)}else return e}else{let u=new un(null);return r.foreach((c,h)=>{const f=qn(n,c);l.isCompleteForPath(f)&&(u=u.set(c,l.getNode().getChild(f)))}),Hy(t,e,n,u,i,s,a,o)}}function yW(t,e,n,r,i){const s=e.serverCache,o=Z2(e,s.getNode(),s.isFullyInitialized()||wt(n),s.isFiltered());return lD(t,o,n,r,aD,i)}function _W(t,e,n,r,i,s){let o;if(wp(r,n)!=null)return e;{const a=new gb(r,e,i),l=e.eventCache.getNode();let u;if(wt(n)||Ct(n)===".priority"){let c;if(e.serverCache.isFullyInitialized())c=Uy(r,Da(e));else{const h=e.serverCache.getNode();xe(h instanceof Ht,"serverChildren would be complete if leaf node"),c=iD(r,h)}c=c,u=t.filter.updateFullNode(l,c,s)}else{const c=Ct(n);let h=mb(r,c,e.serverCache);h==null&&e.serverCache.isCompleteForChild(c)&&(h=l.getImmediateChild(c)),h!=null?u=t.filter.updateChild(l,c,h,cn(n),a,s):e.eventCache.getNode().hasChild(c)?u=t.filter.updateChild(l,c,Ht.EMPTY_NODE,cn(n),a,s):u=l,u.isEmpty()&&e.serverCache.isFullyInitialized()&&(o=Uy(r,Da(e)),o.isLeafNode()&&(u=t.filter.updateFullNode(u,o,s)))}return o=e.serverCache.isFullyInitialized()||wp(r,zt())!=null,xc(e,u,o,t.filter.filtersNodes())}}function bW(t,e){const n=Da(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!wt(e)&&!n.getImmediateChild(Ct(e)).isEmpty())?n.getChild(e):null}function AI(t,e,n,r){e.type===Zi.MERGE&&e.source.queryId!==null&&(xe(Da(t.viewCache_),"We should always have a full cache before handling merges"),xe(Vy(t.viewCache_),"Missing event cache, even though we have a server cache"));const i=t.viewCache_,s=pW(t.processor_,i,e,n,r);return fW(t.processor_,s.viewCache),xe(s.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=s.viewCache,wW(t,s.changes,s.viewCache.eventCache.getNode(),null)}function wW(t,e,n,r){const i=r?[r]:t.eventRegistrations_;return Yj(t.eventGenerator_,e,n,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let OI;function TW(t){xe(!OI,"__referenceConstructor has already been defined"),OI=t}function vb(t,e,n,r){const i=e.source.queryId;if(i!==null){const s=t.views.get(i);return xe(s!=null,"SyncTree gave us an op for an invalid query."),AI(s,e,n,r)}else{let s=[];for(const o of t.views.values())s=s.concat(AI(o,e,n,r));return s}}function yb(t,e){let n=null;for(const r of t.views.values())n=n||bW(r,e);return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let PI;function EW(t){xe(!PI,"__referenceConstructor has already been defined"),PI=t}class kI{constructor(e){this.listenProvider_=e,this.syncPointTree_=new un(null),this.pendingWriteTree_=uW(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function IW(t,e,n,r,i){return Jj(t.pendingWriteTree_,e,n,r,i),i?Nm(t,new Ra(G2(),e,n)):[]}function yl(t,e,n=!1){const r=Zj(t.pendingWriteTree_,e);if(eW(t.pendingWriteTree_,e)){let s=new un(null);return r.snap!=null?s=s.set(zt(),!0):vi(r.children,o=>{s=s.set(new pn(o),!0)}),Nm(t,new bp(r.path,s,n))}else return[]}function xm(t,e,n){return Nm(t,new Ra(Q2(),e,n))}function SW(t,e,n){const r=un.fromObject(n);return Nm(t,new pd(Q2(),e,r))}function CW(t,e,n,r){const i=hD(t,r);if(i!=null){const s=fD(i),o=s.path,a=s.queryId,l=hi(o,e),u=new Ra(X2(a),l,n);return pD(t,o,u)}else return[]}function AW(t,e,n,r){const i=hD(t,r);if(i){const s=fD(i),o=s.path,a=s.queryId,l=hi(o,e),u=un.fromObject(n),c=new pd(X2(a),l,u);return pD(t,o,c)}else return[]}function uD(t,e,n){const i=t.pendingWriteTree_,s=t.syncPointTree_.findOnPath(e,(o,a)=>{const l=hi(o,e),u=yb(a,l);if(u)return u});return rD(i,e,s,n,!0)}function Nm(t,e){return cD(e,t.syncPointTree_,null,tD(t.pendingWriteTree_,zt()))}function cD(t,e,n,r){if(wt(t.path))return dD(t,e,n,r);{const i=e.get(zt());n==null&&i!=null&&(n=yb(i,zt()));let s=[];const o=Ct(t.path),a=t.operationForChild(o),l=e.children.get(o);if(l&&a){const u=n?n.getImmediateChild(o):null,c=sD(r,o);s=s.concat(cD(a,l,u,c))}return i&&(s=s.concat(vb(i,t,r,n))),s}}function dD(t,e,n,r){const i=e.get(zt());n==null&&i!=null&&(n=yb(i,zt()));let s=[];return e.children.inorderTraversal((o,a)=>{const l=n?n.getImmediateChild(o):null,u=sD(r,o),c=t.operationForChild(o);c&&(s=s.concat(dD(c,a,l,u)))}),i&&(s=s.concat(vb(i,t,r,n))),s}function hD(t,e){return t.tagToQueryMap.get(e)}function fD(t){const e=t.indexOf("$");return xe(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new pn(t.substr(0,e))}}function pD(t,e,n){const r=t.syncPointTree_.get(e);xe(r,"Missing sync point for query tag that we're tracking");const i=tD(t.pendingWriteTree_,e);return vb(r,n,i,null)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _b{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new _b(n)}node(){return this.node_}}class bb{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=qn(this.path_,e);return new bb(this.syncTree_,n)}node(){return uD(this.syncTree_,this.path_)}}const OW=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},RI=function(t,e,n){if(!t||typeof t!="object")return t;if(xe(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return PW(t[".sv"],e,n);if(typeof t[".sv"]=="object")return kW(t[".sv"],e);xe(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},PW=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:xe(!1,"Unexpected server value: "+t)}},kW=function(t,e,n){t.hasOwnProperty("increment")||xe(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const r=t.increment;typeof r!="number"&&xe(!1,"Unexpected increment value: "+r);const i=e.node();if(xe(i!==null&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const o=i.getValue();return typeof o!="number"?r:o+r},RW=function(t,e,n,r){return wb(e,new bb(n,t),r)},DW=function(t,e,n){return wb(t,new _b(e),n)};function wb(t,e,n){const r=t.getPriority().val(),i=RI(r,e.getImmediateChild(".priority"),n);let s;if(t.isLeafNode()){const o=t,a=RI(o.getValue(),e,n);return a!==o.getValue()||i!==o.getPriority().val()?new Bn(a,_r(i)):t}else{const o=t;return s=o,i!==o.getPriority().val()&&(s=s.updatePriority(new Bn(i))),o.forEachChild(wr,(a,l)=>{const u=wb(l,e.getImmediateChild(a),n);u!==l&&(s=s.updateImmediateChild(a,u))}),s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tb{constructor(e="",n=null,r={children:{},childCount:0}){this.name=e,this.parent=n,this.node=r}}function Eb(t,e){let n=e instanceof pn?e:new pn(e),r=t,i=Ct(n);for(;i!==null;){const s=Kl(r.node.children,i)||{children:{},childCount:0};r=new Tb(i,r,s),n=cn(n),i=Ct(n)}return r}function Su(t){return t.node.value}function mD(t,e){t.node.value=e,jy(t)}function gD(t){return t.node.childCount>0}function xW(t){return Su(t)===void 0&&!gD(t)}function Mm(t,e){vi(t.node.children,(n,r)=>{e(new Tb(n,t,r))})}function vD(t,e,n,r){n&&!r&&e(t),Mm(t,i=>{vD(i,e,!0,r)}),n&&r&&e(t)}function NW(t,e,n){let r=n?t:t.parent;for(;r!==null;){if(e(r))return!0;r=r.parent}return!1}function ah(t){return new pn(t.parent===null?t.name:ah(t.parent)+"/"+t.name)}function jy(t){t.parent!==null&&MW(t.parent,t.name,t)}function MW(t,e,n){const r=xW(n),i=Hs(t.node.children,e);r&&i?(delete t.node.children[e],t.node.childCount--,jy(t)):!r&&!i&&(t.node.children[e]=n.node,t.node.childCount++,jy(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LW=/[\[\].#$\/\u0000-\u001F\u007F]/,VW=/[\[\].#$\u0000-\u001F\u007F]/,Xg=10*1024*1024,yD=function(t){return typeof t=="string"&&t.length!==0&&!LW.test(t)},FW=function(t){return typeof t=="string"&&t.length!==0&&!VW.test(t)},$W=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),FW(t)},_D=function(t,e,n){const r=n instanceof pn?new yj(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+Zo(r));if(typeof e=="function")throw new Error(t+"contains a function "+Zo(r)+" with contents = "+e.toString());if(y2(e))throw new Error(t+"contains "+e.toString()+" "+Zo(r));if(typeof e=="string"&&e.length>Xg/3&&tm(e)>Xg)throw new Error(t+"contains a string greater than "+Xg+" utf8 bytes "+Zo(r)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let i=!1,s=!1;if(vi(e,(o,a)=>{if(o===".value")i=!0;else if(o!==".priority"&&o!==".sv"&&(s=!0,!yD(o)))throw new Error(t+" contains an invalid key ("+o+") "+Zo(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);_j(r,o),_D(t,a,r),bj(r)}),i&&s)throw new Error(t+' contains ".value" child '+Zo(r)+" in addition to actual children.")}},UW=function(t,e){const n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!yD(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!$W(n))throw new Error(t6(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BW{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function HW(t,e){let n=null;for(let r=0;r<e.length;r++){const i=e[r],s=i.getPath();n!==null&&!B2(s,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:s}),n.events.push(i)}n&&t.eventLists_.push(n)}function ja(t,e,n){HW(t,n),jW(t,r=>Oi(r,e)||Oi(e,r))}function jW(t,e){t.recursionDepth_++;let n=!0;for(let r=0;r<t.eventLists_.length;r++){const i=t.eventLists_[r];if(i){const s=i.path;e(s)?(WW(t.eventLists_[r]),t.eventLists_[r]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function WW(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(n!==null){t.events[e]=null;const r=n.getEventRunner();fa&&yr("event: "+n.toString()),sh(r)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qW="repo_interrupt",zW=25;class KW{constructor(e,n,r,i){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new BW,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=_p(),this.transactionQueueTree_=new Tb,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function YW(t,e,n){if(t.stats_=ub(t.repoInfo_),t.forceRestClient_||HH())t.server_=new yp(t.repoInfo_,(r,i,s,o)=>{DI(t,r,i,s,o)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>xI(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{tr(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}t.persistentConnection_=new Ds(t.repoInfo_,e,(r,i,s,o)=>{DI(t,r,i,s,o)},r=>{xI(t,r)},r=>{QW(t,r)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(r=>{t.server_.refreshAuthToken(r)}),t.appCheckProvider_.addTokenChangeListener(r=>{t.server_.refreshAppCheckToken(r.token)}),t.statsReporter_=YH(t.repoInfo_,()=>new Kj(t.stats_,t.server_)),t.infoData_=new Hj,t.infoSyncTree_=new kI({startListening:(r,i,s,o)=>{let a=[];const l=t.infoData_.getNode(r._path);return l.isEmpty()||(a=xm(t.infoSyncTree_,r._path,l),setTimeout(()=>{o("ok")},0)),a},stopListening:()=>{}}),Ib(t,"connected",!1),t.serverSyncTree_=new kI({startListening:(r,i,s,o)=>(t.server_.listen(r,s,i,(a,l)=>{const u=o(a,l);ja(t.eventQueue_,r._path,u)}),[]),stopListening:(r,i)=>{t.server_.unlisten(r,i)}})}function GW(t){const n=t.infoData_.getNode(new pn(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function bD(t){return OW({timestamp:GW(t)})}function DI(t,e,n,r,i){t.dataUpdateCount++;const s=new pn(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let o=[];if(i)if(r){const l=Kf(n,u=>_r(u));o=AW(t.serverSyncTree_,s,l,i)}else{const l=_r(n);o=CW(t.serverSyncTree_,s,l,i)}else if(r){const l=Kf(n,u=>_r(u));o=SW(t.serverSyncTree_,s,l)}else{const l=_r(n);o=xm(t.serverSyncTree_,s,l)}let a=s;o.length>0&&(a=Cb(t,s)),ja(t.eventQueue_,a,o)}function xI(t,e){Ib(t,"connected",e),e===!1&&JW(t)}function QW(t,e){vi(e,(n,r)=>{Ib(t,n,r)})}function Ib(t,e,n){const r=new pn("/.info/"+e),i=_r(n);t.infoData_.updateSnapshot(r,i);const s=xm(t.infoSyncTree_,r,i);ja(t.eventQueue_,r,s)}function XW(t){return t.nextWriteId_++}function JW(t){wD(t,"onDisconnectEvents");const e=bD(t),n=_p();Ly(t.onDisconnect_,zt(),(i,s)=>{const o=RW(i,s,t.serverSyncTree_,e);Y2(n,i,o)});let r=[];Ly(n,zt(),(i,s)=>{r=r.concat(xm(t.serverSyncTree_,i,s));const o=nq(t,i);Cb(t,o)}),t.onDisconnect_=_p(),ja(t.eventQueue_,zt(),r)}function ZW(t){t.persistentConnection_&&t.persistentConnection_.interrupt(qW)}function wD(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),yr(n,...e)}function TD(t,e,n){return uD(t.serverSyncTree_,e,n)||Ht.EMPTY_NODE}function Sb(t,e=t.transactionQueueTree_){if(e||Lm(t,e),Su(e)){const n=ID(t,e);xe(n.length>0,"Sending zero length transaction queue"),n.every(i=>i.status===0)&&eq(t,ah(e),n)}else gD(e)&&Mm(e,n=>{Sb(t,n)})}function eq(t,e,n){const r=n.map(u=>u.currentWriteId),i=TD(t,e,r);let s=i;const o=i.hash();for(let u=0;u<n.length;u++){const c=n[u];xe(c.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),c.status=1,c.retryCount++;const h=hi(e,c.path);s=s.updateChild(h,c.currentOutputSnapshotRaw)}const a=s.val(!0),l=e;t.server_.put(l.toString(),a,u=>{wD(t,"transaction put response",{path:l.toString(),status:u});let c=[];if(u==="ok"){const h=[];for(let f=0;f<n.length;f++)n[f].status=2,c=c.concat(yl(t.serverSyncTree_,n[f].currentWriteId)),n[f].onComplete&&h.push(()=>n[f].onComplete(null,!0,n[f].currentOutputSnapshotResolved)),n[f].unwatcher();Lm(t,Eb(t.transactionQueueTree_,e)),Sb(t,t.transactionQueueTree_),ja(t.eventQueue_,e,c);for(let f=0;f<h.length;f++)sh(h[f])}else{if(u==="datastale")for(let h=0;h<n.length;h++)n[h].status===3?n[h].status=4:n[h].status=0;else{oi("transaction at "+l.toString()+" failed: "+u);for(let h=0;h<n.length;h++)n[h].status=4,n[h].abortReason=u}Cb(t,e)}},o)}function Cb(t,e){const n=ED(t,e),r=ah(n),i=ID(t,n);return tq(t,i,r),r}function tq(t,e,n){if(e.length===0)return;const r=[];let i=[];const o=e.filter(a=>a.status===0).map(a=>a.currentWriteId);for(let a=0;a<e.length;a++){const l=e[a],u=hi(n,l.path);let c=!1,h;if(xe(u!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),l.status===4)c=!0,h=l.abortReason,i=i.concat(yl(t.serverSyncTree_,l.currentWriteId,!0));else if(l.status===0)if(l.retryCount>=zW)c=!0,h="maxretry",i=i.concat(yl(t.serverSyncTree_,l.currentWriteId,!0));else{const f=TD(t,l.path,o);l.currentInputSnapshot=f;const p=e[a].update(f.val());if(p!==void 0){_D("transaction failed: Data returned ",p,l.path);let g=_r(p);typeof p=="object"&&p!=null&&Hs(p,".priority")||(g=g.updatePriority(f.getPriority()));const I=l.currentWriteId,k=bD(t),P=DW(g,f,k);l.currentOutputSnapshotRaw=g,l.currentOutputSnapshotResolved=P,l.currentWriteId=XW(t),o.splice(o.indexOf(I),1),i=i.concat(IW(t.serverSyncTree_,l.path,P,l.currentWriteId,l.applyLocally)),i=i.concat(yl(t.serverSyncTree_,I,!0))}else c=!0,h="nodata",i=i.concat(yl(t.serverSyncTree_,l.currentWriteId,!0))}ja(t.eventQueue_,n,i),i=[],c&&(e[a].status=2,function(f){setTimeout(f,Math.floor(0))}(e[a].unwatcher),e[a].onComplete&&(h==="nodata"?r.push(()=>e[a].onComplete(null,!1,e[a].currentInputSnapshot)):r.push(()=>e[a].onComplete(new Error(h),!1,null))))}Lm(t,t.transactionQueueTree_);for(let a=0;a<r.length;a++)sh(r[a]);Sb(t,t.transactionQueueTree_)}function ED(t,e){let n,r=t.transactionQueueTree_;for(n=Ct(e);n!==null&&Su(r)===void 0;)r=Eb(r,n),e=cn(e),n=Ct(e);return r}function ID(t,e){const n=[];return SD(t,e,n),n.sort((r,i)=>r.order-i.order),n}function SD(t,e,n){const r=Su(e);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);Mm(e,i=>{SD(t,i,n)})}function Lm(t,e){const n=Su(e);if(n){let r=0;for(let i=0;i<n.length;i++)n[i].status!==2&&(n[r]=n[i],r++);n.length=r,mD(e,n.length>0?n:void 0)}Mm(e,r=>{Lm(t,r)})}function nq(t,e){const n=ah(ED(t,e)),r=Eb(t.transactionQueueTree_,e);return NW(r,i=>{Jg(t,i)}),Jg(t,r),vD(r,i=>{Jg(t,i)}),n}function Jg(t,e){const n=Su(e);if(n){const r=[];let i=[],s=-1;for(let o=0;o<n.length;o++)n[o].status===3||(n[o].status===1?(xe(s===o-1,"All SENT items should be at beginning of queue."),s=o,n[o].status=3,n[o].abortReason="set"):(xe(n[o].status===0,"Unexpected transaction status in abort"),n[o].unwatcher(),i=i.concat(yl(t.serverSyncTree_,n[o].currentWriteId,!0)),n[o].onComplete&&r.push(n[o].onComplete.bind(null,new Error("set"),!1,null))));s===-1?mD(e,void 0):n.length=s+1,ja(t.eventQueue_,ah(e),i);for(let o=0;o<r.length;o++)sh(r[o])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rq(t){let e="";const n=t.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}e+="/"+i}return e}function iq(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const n of t.split("&")){if(n.length===0)continue;const r=n.split("=");r.length===2?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):oi(`Invalid query segment '${n}' in query '${t}'`)}return e}const NI=function(t,e){const n=sq(t),r=n.namespace;n.domain==="firebase.com"&&Pa(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&Pa("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||NH();const i=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new qH(n.host,n.secure,r,i,e,"",r!==n.subdomain),path:new pn(n.pathString)}},sq=function(t){let e="",n="",r="",i="",s="",o=!0,a="https",l=443;if(typeof t=="string"){let u=t.indexOf("//");u>=0&&(a=t.substring(0,u-1),t=t.substring(u+2));let c=t.indexOf("/");c===-1&&(c=t.length);let h=t.indexOf("?");h===-1&&(h=t.length),e=t.substring(0,Math.min(c,h)),c<h&&(i=rq(t.substring(c,h)));const f=iq(t.substring(Math.min(t.length,h)));u=e.indexOf(":"),u>=0?(o=a==="https"||a==="wss",l=parseInt(e.substring(u+1),10)):u=e.length;const p=e.slice(0,u);if(p.toLowerCase()==="localhost")n="localhost";else if(p.split(".").length<=2)n=p;else{const g=e.indexOf(".");r=e.substring(0,g).toLowerCase(),n=e.substring(g+1),s=r}"ns"in f&&(s=f.ns)}return{host:e,port:l,domain:n,subdomain:r,secure:o,scheme:a,pathString:i,namespace:s}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ab{constructor(e,n,r,i){this._repo=e,this._path=n,this._queryParams=r,this._orderByCalled=i}get key(){return wt(this._path)?null:F2(this._path)}get ref(){return new Cu(this._repo,this._path)}get _queryIdentifier(){const e=_I(this._queryParams),n=ab(e);return n==="{}"?"default":n}get _queryObject(){return _I(this._queryParams)}isEqual(e){if(e=Nt(e),!(e instanceof Ab))return!1;const n=this._repo===e._repo,r=B2(this._path,e._path),i=this._queryIdentifier===e._queryIdentifier;return n&&r&&i}toJSON(){return this.toString()}toString(){return this._repo.toString()+vj(this._path)}}class Cu extends Ab{constructor(e,n){super(e,n,new fb,!1)}get parent(){const e=U2(this._path);return e===null?null:new Cu(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}TW(Cu);EW(Cu);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oq="FIREBASE_DATABASE_EMULATOR_HOST",Wy={};let aq=!1;function lq(t,e,n,r,i){let s=r||t.options.databaseURL;s===void 0&&(t.options.projectId||Pa("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),yr("Using default host for project ",t.options.projectId),s=`${t.options.projectId}-default-rtdb.firebaseio.com`);let o=NI(s,i),a=o.repoInfo,l,u;typeof process<"u"&&eI&&(u=eI[oq]),u?(l=!0,s=`http://${u}?ns=${a.namespace}`,o=NI(s,i),a=o.repoInfo):l=!o.repoInfo.secure;const c=i&&l?new xy(xy.OWNER):new WH(t.name,t.options,e);UW("Invalid Firebase Database URL",o),wt(o.path)||Pa("Database URL must point to the root of a Firebase Database (not including a child path).");const h=cq(a,t,c,new jH(t.name,n));return new dq(h,t)}function uq(t,e){const n=Wy[e];(!n||n[t.key]!==t)&&Pa(`Database ${e}(${t.repoInfo_}) has already been deleted.`),ZW(t),delete n[t.key]}function cq(t,e,n,r){let i=Wy[e.name];i||(i={},Wy[e.name]=i);let s=i[t.toURLString()];return s&&Pa("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new KW(t,aq,n,r),i[t.toURLString()]=s,s}class dq{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(YW(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Cu(this._repo,zt())),this._rootInternal}_delete(){return this._rootInternal!==null&&(uq(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&Pa("Cannot call "+e+" on a deleted database.")}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hq(t){PH(Bo),Qr(new Mr("database",(e,{instanceIdentifier:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),s=e.getProvider("app-check-internal");return lq(r,i,s,n)},"PUBLIC").setMultipleInstances(!0)),or(tI,nI,t),or(tI,nI,"esm2017")}Ds.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};Ds.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};hq();function Vm(t){return g8(p2(t))}function fq(t){return mq({initialUser:t,dependencies:{popupRedirectResolver:h2,persistence:[u2,r2,ib]}})}const pq=Symbol("VueFireAuth");function mq({dependencies:t,initialUser:e}){return(n,r)=>{const[i,s]=gq(n,r,e,t);OH(i,s)}}function gq(t,e,n,r,i=zR(t,r)){const s=SH(t,e).run(()=>Te(n));return CH.set(t,s),e.provide(pq,i),[s,i]}function vq(t,{firebaseApp:e,modules:n=[]}){t.provide(f2,e);for(const r of n)r(e,t)}const CD={name:"Sander Derks",role:"Full-Stack Developer",service:"Software Development",location:{country:"The Netherlands",city:"Nijmegen"}},yq={avatarUrl:"/images/avatar-small.jpg",headerDescriptionGuest:["Loading"],headerDescriptionUser:["Loading"],blogDescriptionGuest:["Loading"],blogDescriptionUser:["Loading"],blogLoginGuest:"",dashboardDescription:["Loading"],privacyStatement:["Loading"],footerCopyright:"Sander Derks. All rights reserved."},_q=[{name:"",description:"Loading...",technologies:[],loading:!0},{name:"",description:"Loading...",technologies:[],loading:!0},{name:"",description:"Loading...",technologies:[],loading:!0},{name:"",description:"Loading...",technologies:[],loading:!0}],bq=[{id:"1",name:"Loading...",url:"#",loading:!0},{id:"2",name:"Loading...",url:"#",loading:!0},{id:"3",name:"Loading...",url:"#",loading:!0}],hae=[{value:"left",label:"Left"},{value:"center",label:"Center"},{value:"right",label:"Right"}];var zi;(t=>{t.mapIncoming=async e=>{var n,r,i,s,o,a;return{...e,alignment:e.alignment??"center",date:e.date.toDate(),dateUpdated:((n=e.dateUpdated)==null?void 0:n.toDate())??null,datePinned:((r=e.datePinned)==null?void 0:r.toDate())??null,reactions:await Promise.all((await Promise.all(((i=e.reactions)==null?void 0:i.map(async l=>await Br(l)))??[])).map(async l=>Ep.mapIncoming(l,e.id)).filter(l=>!!l)),sections:((s=e.sections)==null?void 0:s.map(l=>{var u,c;return{...l,id:l.id??cU(),subTitle:l.subTitle??"",alignment:l.alignment??"center",countdown:((u=l.countdown)==null?void 0:u.toDate())??null,timer:((c=l.timer)==null?void 0:c.toDate())??null,coverImageUrl:l.coverImageUrl??"",bullets:l.bullets??[],table:l.table??""}}))??[],countdown:((o=e.countdown)==null?void 0:o.toDate())??null,timer:((a=e.timer)==null?void 0:a.toDate())??null,archived:e.archived??!1,table:e.table??""}},t.convert=e=>({title:e.title,description:e.description,descriptionFooter:e.descriptionFooter??"",alignment:e.alignment??"left",sections:e.sections??[],date:e.date,dateUpdated:e.dateUpdated,datePinned:e.datePinned,locked:e.locked??!1,colorPrimary:e.colorPrimary??"",colorSecondary:e.colorSecondary??"",colorTertiary:e.colorTertiary??"",opacityPrimary:e.opacityPrimary??"",opacitySecondary:e.opacitySecondary??"",opacityTertiary:e.opacityTertiary??"",coverImageUrl:e.coverImageUrl??"",allowedUserIds:e.allowedUserIds??[],countdown:e.countdown,timer:e.timer,archived:e.archived,table:e.table}),(e=>{e.convert=n=>({title:n.title,description:n.description,descriptionFooter:n.descriptionFooter,sections:n.sections,coverImageUrl:n.coverImageUrl,countdown:n.countdown,timer:n.timer,table:n.table}),e.instanceOf=n=>["title","description","descriptionFooter","sections","coverImageUrl","countdown","timer","table"].every(r=>r in n)})(t.Content||(t.Content={})),(e=>{e.convert=n=>({alignment:n.alignment,colorPrimary:n.colorPrimary,colorSecondary:n.colorSecondary,colorTertiary:n.colorTertiary,opacityPrimary:n.opacityPrimary,opacitySecondary:n.opacitySecondary,opacityTertiary:n.opacityTertiary}),e.instanceOf=n=>["alignment","colorPrimary","colorSecondary","colorTertiary","opacityPrimary","opacitySecondary","opacityTertiary"].every(r=>r in n)})(t.Styling||(t.Styling={})),(e=>{e.convert=n=>({locked:n.locked,allowedUserIds:n.allowedUserIds,archived:n.archived,datePinned:n.datePinned}),e.instanceOf=n=>["locked","archived","datePinned"].every(r=>r in n)})(t.Settings||(t.Settings={}))})(zi||(zi={}));var Ep;(t=>{t.mapIncoming=async(e,n)=>{if(!e)return null;const r=await Br(e.user);return r?{...e,user:r,postId:n,date:e.date.toDate()}:null},t.convert=e=>({userId:e.user.id,postId:e.postId,message:e.message,date:e.date})})(Ep||(Ep={}));var md;(t=>{t.mapIncoming=async e=>{var n,r;return{...e,firstName:e.firstName??"",lastName:e.lastName??"",createdAt:(n=e.createdAt)==null?void 0:n.toDate(),lastLogin:(r=e.lastLogin)==null?void 0:r.toDate()}},t.convert=e=>({firstName:e.firstName,lastName:e.lastName})})(md||(md={}));var MI;(t=>{t.convert=e=>({displayName:e.displayName,avatar:e.avatar??""})})(MI||(MI={}));var qy;(t=>{t.mapIncoming=async e=>({...e,lastOnline:e.lastOnline.toDate()})})(qy||(qy={}));var Ip;(t=>{t.mapIncoming=async e=>({...e,highscores:Object.fromEntries(Object.entries(e.highscores).map(([n,r])=>{var i;return[n,{...r,bonus:r.bonus??0,date:((i=r.date)==null?void 0:i.toDate())??new Date}]}))})})(Ip||(Ip={}));const AD=[{value:"bg-primary-900",label:"Default",background:"bg-primary-900",text:"text-white"},{value:"bg-red-700",label:"Important",background:"bg-red-700",text:"text-white"},{value:"bg-orange-500",label:"Orange",background:"bg-orange-500",text:"text-orange-900"},{value:"bg-yellow-900",label:"Amber",background:"bg-yellow-900",text:"text-yellow-500"},{value:"bg-yellow-500",label:"Yellow",background:"bg-yellow-500",text:"text-yellow-900"},{value:"bg-green-500",label:"Green",background:"bg-green-500",text:"text-green-900"},{value:"bg-cyan-500",label:"Aqua",background:"bg-cyan-500",text:"text-cyan-900"},{value:"bg-blue-600",label:"Blue",background:"bg-blue-600",text:"text-blue-900"},{value:"bg-purple-600",label:"Purple",background:"bg-purple-600",text:"text-purple-900"},{value:"bg-pink-600",label:"Pink",background:"bg-pink-600",text:"text-pink-900"},{value:"bg-gray-900",label:"Gray",background:"bg-gray-900",text:"text-white"}],fae=t=>AD.map((e,n)=>n===0?{value:"",label:"Match Primary",background:(t==null?void 0:t.background)||"bg-primary-900",text:(t==null?void 0:t.text)||"text-white"}:e),pae=AD.map((t,e)=>e===0?{value:"",label:"Default",background:"bg-primary-700",text:"text-white"}:t),mae=[{value:"",label:"Default"},{value:"bg-opacity-10",label:"10"},{value:"bg-opacity-20",label:"20"},{value:"bg-opacity-30",label:"30"},{value:"bg-opacity-40",label:"40"},{value:"bg-opacity-50",label:"50"},{value:"bg-opacity-60",label:"60"},{value:"bg-opacity-70",label:"70"},{value:"bg-opacity-80",label:"80"},{value:"bg-opacity-90",label:"90"},{value:"bg-opacity-100",label:"100"}],St=Vm(),yt={content:Fr(St,"content"),projects:Fr(St,"projects"),menuItems:t=>Fr(St,t?"menuItemsPrivate":"menuItems"),menuItemsPrivate:Fr(St,"menuItemsPrivate"),blogPosts:t=>Fr(St,t?"blogPostsPrivate":"blogPosts"),blogPostsPrivate:Fr(St,"blogPostsPrivate"),blogReactions:t=>Fr(St,t?"blogReactionsPrivate":"blogReactions"),users:Fr(St,"users"),usersPublic:Fr(St,"usersPublic"),usersOnline:Fr(St,"usersOnline"),files:Fr(St,"files"),gameData:Fr(St,"gameData")},gd=om("main",{state:()=>({profile:CD,content:yq,menuItems:bq,projects:_q,blogPosts:{visibility:"public",data:{public:[],private:[],single:null},previousData:{public:[],private:[],single:null},isLastPage:!1,isLoading:{public:{fetch:!1,mutation:!1},private:{fetch:!1,mutation:!1}},isDatabaseCreationActive:!1,isDatabaseMutationActive:!1,isDatabaseDeletionActive:!1,loadedOnce:!1},blogReactions:{isDatabaseCreationActive:!1,isDatabaseDeletionActive:!1,unread:[]},users:[],publicUsers:[],onlineUsersInfo:[],isOnline:!0,debug:!1,isFetchAllLoading:!1}),getters:{filteredProjects:t=>t.projects.filter(e=>!e.loading),filteredMenuItems:t=>t.menuItems.filter(e=>!e.loading),visibleMenuItems:t=>t.menuItems.filter(e=>!e.invisible),allBlogPosts:t=>[...t.blogPosts.data.public,...t.blogPosts.data.private],visibleBlogPosts:t=>t.blogPosts.data[t.blogPosts.visibility],previousVisibleBlogPosts:t=>t.blogPosts.previousData[t.blogPosts.visibility],isBlogPostsFetchLoading:t=>t.blogPosts.isLoading.public.fetch||t.blogPosts.isLoading.private.fetch,isBlogPostsMutationLoading:t=>t.blogPosts.isLoading.public.mutation||t.blogPosts.isLoading.private.mutation,isBlogPostDatabaseActionActive:t=>t.blogPosts.isDatabaseCreationActive||t.blogPosts.isDatabaseMutationActive||t.blogPosts.isDatabaseDeletionActive||t.blogReactions.isDatabaseCreationActive||t.blogReactions.isDatabaseDeletionActive,onlineUsers:t=>t.onlineUsersInfo.filter(e=>CR(new Date(Date.parse(e.lastOnline.toString())))<=60)},actions:{async fetchAll(t,e){try{this.isFetchAllLoading||(this.isFetchAllLoading=!0,console.log("attempt to fetch all"),(this.debug||this.isOnline&&(!this.filteredMenuItems.length||e))&&(console.log("fetch all"),this.blogPosts.data={public:[],private:[],single:null},this.blogPosts.visibility=t?"private":"public",await Promise.all([this.fetchProjects(),this.fetchMenuItems(t),this.fetchBlogPosts(t),this.fetchContent(),this.fetchPublicUsers()]),$s().isOwner&&await this.fetchUsers()))}catch(n){Le.firebaseError(this.debug,n)}finally{this.isFetchAllLoading=!1}},async fetchContent(){try{const t=await Br(mt(St,yt.content.id,"production"));this.content={...this.content,...t||{}}}catch(t){Le.firebaseError(this.debug,t)}},async fetchProjects(){try{const t=await Promise.all((await Gs(yt.projects)).map(async e=>({...e,technologies:await Promise.all(e.technologies.map(async n=>await Br(n)))})));this.projects=t.length?xE(t):this.projects}catch(t){Le.firebaseError(this.debug,t)}},moveProject(t,e){const n=this.projects.splice(t,1)[0];this.projects.splice(e,0,n)},async fetchMenuItems(t){try{let e=await Gs(yt.menuItems());if(t)try{e=e.concat(await Gs(yt.menuItemsPrivate,[bE("allowedUserIds","array-contains",mt(St,yt.usersPublic.id,t).id)]))}catch{}return this.menuItems=e.length?xE(e):this.menuItems,this.menuItems}catch(e){Le.firebaseError(this.debug,e)}},async fetchBlogPosts(t,e={}){const n=e.visibility??this.blogPosts.visibility;e.loadingIndicator!==!1&&(this.blogPosts.isLoading[n].fetch=!0);try{const i=this.blogPosts.data[n][this.blogPosts.data[n].length-1],s=[wE("datePinned","desc"),wE("date","desc"),C8(e.amount||3)];this.visibleBlogPosts.length||(this.blogPosts.isLastPage=!1),e.amount&&e.loadingIndicator!==!1&&(this.blogPosts.data[n]=[]),!e.amount&&i&&s.push(A8(i.datePinned,i.date));var r=[];n==="private"&&t?r=await Gs(yt.blogPostsPrivate,[bE("allowedUserIds","array-contains",mt(St,yt.usersPublic.id,t).id),...s]):n==="public"&&(r=await Gs(yt.blogPosts(!1),s));const o=await Promise.all(r.map(async a=>await zi.mapIncoming(a)));if(e.amount)this.blogPosts.data[n]=o;else for(const a of o)this.blogPosts.data[n].push(a);o.length<3&&(this.blogPosts.isLastPage=!0)}catch(i){Le.firebaseError(this.debug,i)}finally{this.blogPosts.isLoading[n].fetch=!1}},async fetchBlogPost(t,e,n={}){console.log("attempt to fetch single");const r=(e==null?void 0:e.visibility)??"public";n.loadingIndicator!==!1&&(this.blogPosts.isLoading[r].fetch=!0);try{var i=await Br(mt(yt.blogPosts(!!(e!=null&&e.isPrivate)),t));return i||(i=await Br(mt(yt.blogPostsPrivate,t))),i?(this.blogPosts.data.single=await zi.mapIncoming(i),this.blogPosts.data.single):null}catch(s){return Le.firebaseError(this.debug,s).errorCode??null}finally{this.blogPosts.isLoading[r].fetch=!1}},async fetchUsers(){try{const t=await Gs(yt.users);this.users=await Promise.all(t.map(async e=>await md.mapIncoming(e)))}catch(t){return Le.firebaseError(this.debug,t),null}},async fetchPublicUsers(){try{this.publicUsers=await Gs(yt.usersPublic)}catch(t){return Le.firebaseError(this.debug,t),null}},async fetchPublicUser(t){try{return await Br(mt(St,yt.usersPublic.id,t))}catch(e){return Le.firebaseError(this.debug,e),null}},async allowedPublicUsers(t){try{return(await Promise.all(t.map(async n=>{const r=await this.fetchPublicUser(n);return r?{...r,displayName:r.displayName||"Anonymous"}:null}))).filter(Boolean)}catch{return[]}},async fetchOnlineUsers(){try{const t=await Gs(yt.usersOnline);this.onlineUsersInfo=await Promise.all(t.map(async e=>await qy.mapIncoming(e)))}catch(t){return Le.firebaseError(this.debug,t),null}},async updateOnlineUser(t){try{const e=mt(St,yt.usersOnline.id,t);(await rR(e)).exists()?await ci(e,{lastOnline:Zt.now()}):await Pc(e,{lastOnline:Zt.now()})}catch(e){return Le.firebaseError(this.debug,e),null}},setPreviousBlogPosts(){this.blogPosts.previousData.single=this.blogPosts.data.single,this.blogPosts.previousData[this.blogPosts.visibility]=this.visibleBlogPosts},checkBlogPostForUnreadReactions(t,e){const n=this.blogReactions.unread.length;if(t){let r;if(e?r=this.blogPosts.data.single:r=this.visibleBlogPosts.find(i=>i.id===t.id),r&&r.reactions.length!==t.reactions.length){const i=r.reactions.filter(s=>!t.reactions.some(o=>o.id===s.id));for(const s of i)this.blogReactions.unread.every(o=>o.id!==s.id)&&this.blogReactions.unread.push(s)}}e&&(n!==this.blogReactions.unread.length&&Le.update("There are unread comments on this page"),this.setPreviousBlogPosts())},checkBlogPostsForUnreadReactions(){const t=this.blogReactions.unread.length;if(this.previousVisibleBlogPosts.length)for(const e of this.previousVisibleBlogPosts)this.checkBlogPostForUnreadReactions(e);t!==this.blogReactions.unread.length&&Le.update("There are unread comments on this page"),this.setPreviousBlogPosts()},async createBlogPost(t,e,n,r={includeTime:!1,fetch:!0}){const i=Xo(e);this.blogPosts.isLoading[i.visibility].mutation=!0,this.blogPosts.isDatabaseCreationActive=!0;try{return await Pc(mt(St,yt.blogPosts(i.isPrivate).id,t),{...e,date:r!=null&&r.includeTime?e.date:Zt.now(),dateUpdated:r!=null&&r.includeTime?e.dateUpdated:null,countdown:e.countdown?Zt.fromDate(e.countdown):null,timer:e.timer?Zt.fromDate(e.timer):null}),this.blogPosts.visibility=i.visibility,r!=null&&r.fetch&&this.fetchBlogPosts(n,{amount:this.visibleBlogPosts.length+1}),Le.success("Successfully created Post"),!0}catch(s){return Le.firebaseError(this.debug,s),!1}finally{this.setPreviousBlogPosts(),this.blogPosts.isLoading[i.visibility].mutation=!1,this.blogPosts.isDatabaseCreationActive=!1}},async updateBlogPost(t,e,n,r){try{this.blogPosts.isDatabaseMutationActive=!0,this.blogPosts.isLoading[n.visibility].mutation=!0;const i=yt.blogPosts(n.isPrivate).id;let s="";if(zi.Content.instanceOf(e)&&(await ci(mt(St,i,t),{...zi.Content.convert(e),dateUpdated:Zt.now()}),s="content"),zi.Styling.instanceOf(e)&&(await ci(mt(St,i,t),{...zi.Styling.convert(e)}),s="styling"),zi.Settings.instanceOf(e)&&(await ci(mt(St,i,t),{...zi.Settings.convert(e)}),s="settings"),s==="content"||s==="styling"){let o=await this.fetchBlogPost(t,n);MT(o)&&(o=null),this.blogPosts.data[n.visibility]=this.blogPosts.data[n.visibility].map(a=>a.id===(o==null?void 0:o.id)?o:a)}else this.fetchBlogPosts(r,{amount:this.blogPosts.data[n.visibility].length});return s}catch(i){Le.firebaseError(this.debug,i)}finally{this.setPreviousBlogPosts(),this.blogPosts.isLoading[n.visibility].mutation=!1,this.blogPosts.isDatabaseMutationActive=!1}},async toggleBlogPostVisibility(t,e,n,r,i){try{this.blogPosts.isDatabaseMutationActive=!0,this.blogPosts.isLoading[r].mutation=!0;const s=this.allBlogPosts.find(o=>o.id===t);if(await this.deleteBlogPost(t,{includeFiles:!1,includeReactions:!1}),s&&await this.createBlogPost(t,e,i,{includeTime:!0,fetch:!1})){let o;do this.blogPosts.data[r]=[],await this.fetchBlogPosts(i,{visibility:r}),o=this.allBlogPosts.find(a=>a.id===t);while(!o);if(this.blogPosts.visibility=r,o){for(const a of n)await this.deleteBlogReaction(a.id,s,{mutatePost:!1,fetch:!1})||Le.error("Failed to delete old Reaction",{debug:this.debug}),await this.createBlogReaction(o,Ep.convert(a),{includeTime:!0,fetch:!1})||Le.error("Failed to re-create Reaction",{debug:this.debug});for(const a of this.getFilesOfPost(s)){const l=DE(a);await this.updateFileInfo(l.name,o)||Le.error("Failed to move Image",{debug:this.debug})}return this.fetchBlogPosts(i,{amount:this.visibleBlogPosts.length}),!0}else return Le.error("Failed to re-create Post",{debug:this.debug}),!1}else return Le.error("Failed to re-create Post",{debug:this.debug}),!1}catch(s){return Le.firebaseError(this.debug,s),!1}finally{this.setPreviousBlogPosts(),this.blogPosts.isLoading[r].mutation=!1,this.blogPosts.isDatabaseMutationActive=!1}},async deleteBlogPost(t,e={includeFiles:!0,includeReactions:!0}){try{this.blogPosts.isDatabaseDeletionActive=!0;const n=this.allBlogPosts.find(r=>r.id===t);if(n){e.includeReactions&&await this.deleteBlogReactionsOfBlogPost(n),e.includeFiles&&await this.deleteFilesOfBlogPost(n);const r=Xo(n);return await dc(mt(St,yt.blogPosts(r.isPrivate).id,t)),this.blogPosts.data[r.visibility]=this.blogPosts.data[r.visibility].filter(i=>i.id!==t),Le.success("Successfully deleted Post"),!0}return!1}catch(n){return Le.firebaseError(this.debug,n),!1}finally{this.setPreviousBlogPosts(),this.blogPosts.isDatabaseDeletionActive=!1}},async createBlogReaction(t,e,n={includeTime:!1,fetch:!0}){try{this.blogReactions.isDatabaseCreationActive=!0;const r=Xo(t),i=mt(St,yt.blogPosts(r.isPrivate).id,t.id),s=await Br(i);if(s){const o=await aU(yt.blogReactions(r.isPrivate),{user:mt(St,yt.usersPublic.id,e.userId),message:e.message,date:n!=null&&n.includeTime?e.date:Zt.now(),post:i});if(await ci(mt(St,yt.blogPosts(r.isPrivate).id,s.id),{reactions:[...s.reactions??[],o]}),n!=null&&n.fetch){let a=await this.fetchBlogPost(s.id,r,{loadingIndicator:!1});MT(a)&&(a=null),this.blogPosts.data[r.visibility]=this.blogPosts.data[r.visibility].map(l=>l.id===s.id?a??l:l)}return Le.success("Successfully created Reaction"),!0}return!1}catch(r){return Le.firebaseError(this.debug,r),!1}finally{this.setPreviousBlogPosts(),this.blogReactions.isDatabaseCreationActive=!1}},async deleteBlogReaction(t,e,n={mutatePost:!0,fetch:!0}){var r;try{this.blogReactions.isDatabaseDeletionActive=!0;const i=Xo(e);if(n.mutatePost){const s=mt(St,yt.blogPosts(i.isPrivate).id,e.id),o=await Br(s);o&&await ci(s,{reactions:((r=o.reactions)==null?void 0:r.filter(a=>a.id!==t))??[]})}return await dc(mt(St,yt.blogReactions(i.isPrivate).id,t)),n!=null&&n.fetch&&(e.reactions=e.reactions.filter(s=>s.id!==t),this.blogPosts.data[i.visibility]=this.blogPosts.data[i.visibility].map(s=>s.id===e.id?e:s)),Le.success("Successfully deleted Reaction"),!0}catch(i){return Le.firebaseError(this.debug,i),!1}finally{this.setPreviousBlogPosts(),this.blogReactions.isDatabaseDeletionActive=!1}},async deleteBlogReactionsOfBlogPost(t){try{this.blogReactions.isDatabaseDeletionActive=!0;const e=Xo(t),n=(t==null?void 0:t.reactions)??[];for(const r of n)await dc(mt(St,yt.blogReactions(e.isPrivate).id,r.id));return n.length&&Le.success(`Successfully deleted ${n.length} Reaction${n.length!==1?"s":""}`),!0}catch(e){return Le.firebaseError(this.debug,e),!1}finally{this.setPreviousBlogPosts(),this.blogReactions.isDatabaseDeletionActive=!1}},getFilesOfPost(t,e){var r,i;const n=[];if(t.coverImageUrl&&(!e||!e.coverImageUrl)&&n.push(t.coverImageUrl),t.sections.length)for(const[s,o]of t.sections.entries()){const a=(i=(r=e==null?void 0:e.sections)==null?void 0:r[s])==null?void 0:i.coverImageUrl,l=o.coverImageUrl;l&&(!e||!a)&&n.push(l)}return n},async fetchFileInfo(t){try{return await Br(mt(St,yt.files.path,t))}catch(e){return Le.firebaseError(this.debug,e),null}},async uploadFile(t,e,n,r,i,s,o){return await this.createFileInfo(t.name,r,i,s,o)&&await this.createFile(t,e,n)},async createFile(t,e,n){try{const r=z7(t,e);return r.on("state_changed",i=>{const s=i.bytesTransferred/i.totalBytes*100;n(s)}),await r,Le.success("Successfully uploaded File"),!0}catch(r){return Le.firebaseError(this.debug,r),!1}},async createFileInfo(t,e,n,r,i){try{let s;if(i){const o=Xo(i);s=mt(St,yt.blogPosts(o.isPrivate).id,i.id)}return await Pc(mt(St,yt.files.path,t),{name:e,owner:n,post:s??null,public:r??!1}),!0}catch(s){return Le.firebaseError(this.debug,s),!1}},async updateFileInfo(t,e){try{let n;if(e){const r=Xo(e);n=mt(St,yt.blogPosts(r.isPrivate).id,e.id)}return await ci(mt(St,yt.files.path,t),{post:n??null}),!0}catch(n){return Le.firebaseError(this.debug,n),!1}},async deleteFile(t,e=!1){try{return await dc(mt(St,yt.files.path,t.name)),await K7(t),e||Le.success("Successfully deleted File"),!0}catch(n){return Le.firebaseError(this.debug,n),!1}},async deleteFilesOfBlogPost(t,e){try{const n=this.getFilesOfPost(t,e);for(const r of n)await this.deleteFile(DE(r),!0);return n.length&&Le.success(`Successfully deleted ${n.length} File${n.length!==1?"s":""}`),!0}catch(n){return Le.firebaseError(this.debug,n),!1}},toggleOnline(){this.isOnline=!this.isOnline},toggleDebug(){this.debug=!this.debug}},persist:{enabled:!0}}),dl=EH(RP);dl.onAuthStateChanged(t=>{$s().fetchUser(t);const e=gd();e.filteredMenuItems.length,e.$patch({blogPosts:{...e.blogPosts,data:{...e.blogPosts.data,private:[]}}}),e.fetchAll(t==null?void 0:t.uid,!0)});const Ki=Vm(),Xs={users:Fr(Ki,"users"),usersPublic:Fr(Ki,"usersPublic")},$s=om("auth",{state:()=>({currentUser:null,publicUser:null,firebaseUser:dl.currentUser,isLoginLoading:!1,isMutationLoading:!1,isLogoutLoading:!1}),getters:{isOwner:t=>{var e;return((e=t.firebaseUser)==null?void 0:e.uid)==="wEaq28Vfx8aygJ6TUi0hDrNut1F2"}},actions:{async fetchUser(t){if(this.firebaseUser=t,t){this.publicUser=await Br(mt(Ki,Xs.usersPublic.id,t.uid));const e=await Br(mt(Ki,Xs.users.id,t.uid));e!=null&&(this.currentUser=await md.mapIncoming(e))}},async login(t,e){try{this.isLoginLoading=!0;const{user:n}=await cB(dl,t,e);await this.updateUserLastLogin(n.uid),await this.fetchUser(n),gd().fetchAll(n.uid,!0),Le.success("Successfully logged in",{route:Cn.DASHBOARD})}catch(n){Le.firebaseError(!1,n)}finally{this.isLoginLoading=!1}},async register(t,e,n){try{this.isLoginLoading=!0;const{user:r}=await uB(dl,t,e);await Pc(mt(Ki,Xs.users.id,r.uid),{firstName:n,createdAt:new Date}),await this.updatePublicUser({displayName:"Anonymous",avatar:""}),await this.fetchUser(r),Le.success("Successfully created your account",{route:Cn.DASHBOARD})}catch(r){Le.firebaseError(!1,r)}finally{this.isLoginLoading=!1}},async updateMail(t,e){try{if(this.isLoginLoading=!0,this.firebaseUser&&this.firebaseUser.email){const n=No.credential(this.firebaseUser.email,e);await WE(this.firebaseUser,n),await dB(this.firebaseUser,t),Le.success("Successfully changed your e-mail")}}catch(n){Le.firebaseError(!1,n)}finally{this.isLoginLoading=!1}},async updatePassword(t,e){try{if(this.isLoginLoading=!0,this.firebaseUser&&this.firebaseUser.email){const n=No.credential(this.firebaseUser.email,e);await WE(this.firebaseUser,n),await hB(this.firebaseUser,t),Le.success("Successfully changed your password")}}catch(n){Le.firebaseError(!1,n)}finally{this.isLoginLoading=!1}},async resetPassword(t){try{await lB(dl,t),Le.success("Successfully requested password reset")}catch(e){Le.firebaseError(!1,e)}},async updateUser(t){try{this.isMutationLoading=!0,this.currentUser&&this.firebaseUser&&(kc(md.convert(this.currentUser),t)?Le.warning("Nothing changed in your details"):(await ci(mt(Ki,Xs.users.id,this.firebaseUser.uid),{firstName:t.firstName,lastName:t.lastName}),await this.fetchUser(this.firebaseUser),Le.success("Successfully updated your profile")))}catch(e){Le.firebaseError(!1,e)}finally{this.isMutationLoading=!1}},async updateUserLastLogin(t){try{await ci(mt(Ki,Xs.users.id,t),{lastLogin:new Date})}catch(e){Le.firebaseError(!1,e)}},async updatePublicUser(t){try{this.isMutationLoading=!0,this.publicUser?kc(this.publicUser,t)?Le.warning("Nothing changed in your public profile"):(await ci(mt(Ki,Xs.usersPublic.id,this.publicUser.id),{displayName:t.displayName,avatar:t.avatar}),await this.fetchUser(this.firebaseUser),Le.success("Successfully updated your public profile")):this.firebaseUser?(await Pc(mt(Ki,Xs.usersPublic.id,this.firebaseUser.uid),{displayName:t.displayName,avatar:t.avatar}),await this.fetchUser(this.firebaseUser),Le.success("Successfully updated your public profile")):Le.firebaseError(!1)}catch(e){Le.firebaseError(!1,e)}finally{this.isMutationLoading=!1}},async logout(){try{this.isLogoutLoading=!0,await pB(dl),this.currentUser=null,this.publicUser=null,gd().fetchAll(void 0,!0),Le.success("Successfully logged out",{route:Cn.HOME})}catch(t){Le.firebaseError(!1,t)}finally{this.isLogoutLoading=!1}},async deleteAccount(){try{this.isLogoutLoading=!0,this.currentUser&&this.firebaseUser&&(await dc(mt(Ki,Xs.users.id,this.firebaseUser.uid)),await mB(this.firebaseUser),this.currentUser=null,this.publicUser=null,Le.success("Successfully deleted your account",{route:Cn.HOME}))}catch(t){Le.firebaseError(!1,t)}finally{this.isLogoutLoading=!1}}},persist:{enabled:!0}});function wq(t){return Bp()?(E_(t),!0):!1}function zy(t){return typeof t=="function"?t():R(t)}const Tq=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;function Eq(t,e){var n;if(typeof t=="number")return t+e;const r=((n=t.match(/^-?\d+\.?\d*/))==null?void 0:n[0])||"",i=t.slice(r.length),s=Number.parseFloat(r)+e;return Number.isNaN(s)?t:s+i}const OD=Tq?window:void 0;function Iq(){const t=Te(!1),e=Xr();return e&&mn(()=>{t.value=!0},e),t}function Sq(t){const e=Iq();return se(()=>(e.value,!!t()))}function Qu(t,e={}){const{window:n=OD}=e,r=Sq(()=>n&&"matchMedia"in n&&typeof n.matchMedia=="function");let i;const s=Te(!1),o=u=>{s.value=u.matches},a=()=>{i&&("removeEventListener"in i?i.removeEventListener("change",o):i.removeListener(o))},l=dM(()=>{r.value&&(a(),i=n.matchMedia(zy(t)),"addEventListener"in i?i.addEventListener("change",o):i.addListener(o),s.value=i.matches)});return wq(()=>{l(),a(),i=void 0}),s}const Cq={sm:640,md:768,lg:1024,xl:1280,"2xl":1536};function Aq(t,e={}){function n(c,h){let f=zy(t[zy(c)]);return h!=null&&(f=Eq(f,h)),typeof f=="number"&&(f=`${f}px`),f}const{window:r=OD,strategy:i="min-width"}=e;function s(c){return r?r.matchMedia(c).matches:!1}const o=c=>Qu(()=>`(min-width: ${n(c)})`,e),a=c=>Qu(()=>`(max-width: ${n(c)})`,e),l=Object.keys(t).reduce((c,h)=>(Object.defineProperty(c,h,{get:()=>i==="min-width"?o(h):a(h),enumerable:!0,configurable:!0}),c),{});function u(){const c=Object.keys(t).map(h=>[h,o(h)]);return se(()=>c.filter(([,h])=>h.value).map(([h])=>h))}return Object.assign(l,{greaterOrEqual:o,smallerOrEqual:a,greater(c){return Qu(()=>`(min-width: ${n(c,.1)})`,e)},smaller(c){return Qu(()=>`(max-width: ${n(c,-.1)})`,e)},between(c,h){return Qu(()=>`(min-width: ${n(c)}) and (max-width: ${n(h,-.1)})`,e)},isGreater(c){return s(`(min-width: ${n(c,.1)})`)},isGreaterOrEqual(c){return s(`(min-width: ${n(c)})`)},isSmaller(c){return s(`(max-width: ${n(c,-.1)})`)},isSmallerOrEqual(c){return s(`(max-width: ${n(c)})`)},isInBetween(c,h){return s(`(min-width: ${n(c)}) and (max-width: ${n(h,-.1)})`)},current:u,active(){const c=u();return se(()=>c.value.length===0?"":c.value.at(-1))}})}function Zg(t,e){var n=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=Ob(t))||e&&t&&typeof t.length=="number"){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(u){throw u},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var s=!0,o=!1,a;return{s:function(){n=n.call(t)},n:function(){var u=n.next();return s=u.done,u},e:function(u){o=!0,a=u},f:function(){try{!s&&n.return!=null&&n.return()}finally{if(o)throw a}}}}function Oq(t){return Rq(t)||kq(t)||Ob(t)||Pq()}function Pq(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function kq(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Rq(t){if(Array.isArray(t))return Ky(t)}function Mc(t){"@babel/helpers - typeof";return Mc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Mc(t)}function ev(t,e){return Nq(t)||xq(t,e)||Ob(t,e)||Dq()}function Dq(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ob(t,e){if(t){if(typeof t=="string")return Ky(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ky(t,e)}}function Ky(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function xq(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,a=[],l=!0,u=!1;try{if(s=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=s.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return a}}function Nq(t){if(Array.isArray(t))return t}var Ve={innerWidth:function(e){if(e){var n=e.offsetWidth,r=getComputedStyle(e);return n+=parseFloat(r.paddingLeft)+parseFloat(r.paddingRight),n}return 0},width:function(e){if(e){var n=e.offsetWidth,r=getComputedStyle(e);return n-=parseFloat(r.paddingLeft)+parseFloat(r.paddingRight),n}return 0},getWindowScrollTop:function(){var e=document.documentElement;return(window.pageYOffset||e.scrollTop)-(e.clientTop||0)},getWindowScrollLeft:function(){var e=document.documentElement;return(window.pageXOffset||e.scrollLeft)-(e.clientLeft||0)},getOuterWidth:function(e,n){if(e){var r=e.offsetWidth;if(n){var i=getComputedStyle(e);r+=parseFloat(i.marginLeft)+parseFloat(i.marginRight)}return r}return 0},getOuterHeight:function(e,n){if(e){var r=e.offsetHeight;if(n){var i=getComputedStyle(e);r+=parseFloat(i.marginTop)+parseFloat(i.marginBottom)}return r}return 0},getClientHeight:function(e,n){if(e){var r=e.clientHeight;if(n){var i=getComputedStyle(e);r+=parseFloat(i.marginTop)+parseFloat(i.marginBottom)}return r}return 0},getViewport:function(){var e=window,n=document,r=n.documentElement,i=n.getElementsByTagName("body")[0],s=e.innerWidth||r.clientWidth||i.clientWidth,o=e.innerHeight||r.clientHeight||i.clientHeight;return{width:s,height:o}},getOffset:function(e){if(e){var n=e.getBoundingClientRect();return{top:n.top+(window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0),left:n.left+(window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0)}}return{top:"auto",left:"auto"}},index:function(e){if(e)for(var n,r=(n=this.getParentNode(e))===null||n===void 0?void 0:n.childNodes,i=0,s=0;s<r.length;s++){if(r[s]===e)return i;r[s].nodeType===1&&i++}return-1},addMultipleClasses:function(e,n){var r=this;e&&n&&[n].flat().filter(Boolean).forEach(function(i){return i.split(" ").forEach(function(s){return r.addClass(e,s)})})},removeMultipleClasses:function(e,n){var r=this;e&&n&&[n].flat().filter(Boolean).forEach(function(i){return i.split(" ").forEach(function(s){return r.removeClass(e,s)})})},addClass:function(e,n){e&&n&&!this.hasClass(e,n)&&(e.classList?e.classList.add(n):e.className+=" "+n)},removeClass:function(e,n){e&&n&&(e.classList?e.classList.remove(n):e.className=e.className.replace(new RegExp("(^|\\b)"+n.split(" ").join("|")+"(\\b|$)","gi")," "))},hasClass:function(e,n){return e?e.classList?e.classList.contains(n):new RegExp("(^| )"+n+"( |$)","gi").test(e.className):!1},addStyles:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};e&&Object.entries(n).forEach(function(r){var i=ev(r,2),s=i[0],o=i[1];return e.style[s]=o})},find:function(e,n){return this.isElement(e)?e.querySelectorAll(n):[]},findSingle:function(e,n){return this.isElement(e)?e.querySelector(n):null},createElement:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e){var r=document.createElement(e);this.setAttributes(r,n);for(var i=arguments.length,s=new Array(i>2?i-2:0),o=2;o<i;o++)s[o-2]=arguments[o];return r.append.apply(r,s),r}},setAttribute:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",r=arguments.length>2?arguments[2]:void 0;this.isElement(e)&&r!==null&&r!==void 0&&e.setAttribute(n,r)},setAttributes:function(e){var n=this,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.isElement(e)){var i=function s(o,a){var l,u,c=e!=null&&(l=e.$attrs)!==null&&l!==void 0&&l[o]?[e==null||(u=e.$attrs)===null||u===void 0?void 0:u[o]]:[];return[a].flat().reduce(function(h,f){if(f!=null){var p=Mc(f);if(p==="string"||p==="number")h.push(f);else if(p==="object"){var g=Array.isArray(f)?s(o,f):Object.entries(f).map(function(w){var I=ev(w,2),k=I[0],P=I[1];return o==="style"&&(P||P===0)?"".concat(k.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),":").concat(P):P?k:void 0});h=g.length?h.concat(g.filter(function(w){return!!w})):h}}return h},c)};Object.entries(r).forEach(function(s){var o=ev(s,2),a=o[0],l=o[1];if(l!=null){var u=a.match(/^on(.+)/);u?e.addEventListener(u[1].toLowerCase(),l):a==="p-bind"?n.setAttributes(e,l):(l=a==="class"?Oq(new Set(i("class",l))).join(" ").trim():a==="style"?i("style",l).join(";").trim():l,(e.$attrs=e.$attrs||{})&&(e.$attrs[a]=l),e.setAttribute(a,l))}})}},getAttribute:function(e,n){if(this.isElement(e)){var r=e.getAttribute(n);return isNaN(r)?r==="true"||r==="false"?r==="true":r:+r}},isAttributeEquals:function(e,n,r){return this.isElement(e)?this.getAttribute(e,n)===r:!1},isAttributeNotEquals:function(e,n,r){return!this.isAttributeEquals(e,n,r)},getHeight:function(e){if(e){var n=e.offsetHeight,r=getComputedStyle(e);return n-=parseFloat(r.paddingTop)+parseFloat(r.paddingBottom)+parseFloat(r.borderTopWidth)+parseFloat(r.borderBottomWidth),n}return 0},getWidth:function(e){if(e){var n=e.offsetWidth,r=getComputedStyle(e);return n-=parseFloat(r.paddingLeft)+parseFloat(r.paddingRight)+parseFloat(r.borderLeftWidth)+parseFloat(r.borderRightWidth),n}return 0},absolutePosition:function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(e){var i=e.offsetParent?{width:e.offsetWidth,height:e.offsetHeight}:this.getHiddenElementDimensions(e),s=i.height,o=i.width,a=n.offsetHeight,l=n.offsetWidth,u=n.getBoundingClientRect(),c=this.getWindowScrollTop(),h=this.getWindowScrollLeft(),f=this.getViewport(),p,g,w="top";u.top+a+s>f.height?(p=u.top+c-s,w="bottom",p<0&&(p=c)):p=a+u.top+c,u.left+o>f.width?g=Math.max(0,u.left+h+l-o):g=u.left+h,e.style.top=p+"px",e.style.left=g+"px",e.style.transformOrigin=w,r&&(e.style.marginTop=w==="bottom"?"calc(var(--p-anchor-gutter) * -1)":"calc(var(--p-anchor-gutter))")}},relativePosition:function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(e){var i=e.offsetParent?{width:e.offsetWidth,height:e.offsetHeight}:this.getHiddenElementDimensions(e),s=n.offsetHeight,o=n.getBoundingClientRect(),a=this.getViewport(),l,u,c="top";o.top+s+i.height>a.height?(l=-1*i.height,c="bottom",o.top+l<0&&(l=-1*o.top)):l=s,i.width>a.width?u=o.left*-1:o.left+i.width>a.width?u=(o.left+i.width-a.width)*-1:u=0,e.style.top=l+"px",e.style.left=u+"px",e.style.transformOrigin=c,r&&(e.style.marginTop=c==="bottom"?"calc(var(--p-anchor-gutter) * -1)":"calc(var(--p-anchor-gutter))")}},nestedPosition:function(e,n){if(e){var r=e.parentElement,i=this.getOffset(r),s=this.getViewport(),o=e.offsetParent?e.offsetWidth:this.getHiddenElementOuterWidth(e),a=this.getOuterWidth(r.children[0]),l;parseInt(i.left,10)+a+o>s.width-this.calculateScrollbarWidth()?parseInt(i.left,10)<o?n%2===1?l=parseInt(i.left,10)?"-"+parseInt(i.left,10)+"px":"100%":n%2===0&&(l=s.width-o-this.calculateScrollbarWidth()+"px"):l="-100%":l="100%",e.style.top="0px",e.style.left=l}},getParentNode:function(e){var n=e==null?void 0:e.parentNode;return n&&n instanceof ShadowRoot&&n.host&&(n=n.host),n},getParents:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],r=this.getParentNode(e);return r===null?n:this.getParents(r,n.concat([r]))},getScrollableParents:function(e){var n=[];if(e){var r=this.getParents(e),i=/(auto|scroll)/,s=function(I){try{var k=window.getComputedStyle(I,null);return i.test(k.getPropertyValue("overflow"))||i.test(k.getPropertyValue("overflowX"))||i.test(k.getPropertyValue("overflowY"))}catch{return!1}},o=Zg(r),a;try{for(o.s();!(a=o.n()).done;){var l=a.value,u=l.nodeType===1&&l.dataset.scrollselectors;if(u){var c=u.split(","),h=Zg(c),f;try{for(h.s();!(f=h.n()).done;){var p=f.value,g=this.findSingle(l,p);g&&s(g)&&n.push(g)}}catch(w){h.e(w)}finally{h.f()}}l.nodeType!==9&&s(l)&&n.push(l)}}catch(w){o.e(w)}finally{o.f()}}return n},getHiddenElementOuterHeight:function(e){if(e){e.style.visibility="hidden",e.style.display="block";var n=e.offsetHeight;return e.style.display="none",e.style.visibility="visible",n}return 0},getHiddenElementOuterWidth:function(e){if(e){e.style.visibility="hidden",e.style.display="block";var n=e.offsetWidth;return e.style.display="none",e.style.visibility="visible",n}return 0},getHiddenElementDimensions:function(e){if(e){var n={};return e.style.visibility="hidden",e.style.display="block",n.width=e.offsetWidth,n.height=e.offsetHeight,e.style.display="none",e.style.visibility="visible",n}return 0},fadeIn:function(e,n){if(e){e.style.opacity=0;var r=+new Date,i=0,s=function o(){i=+e.style.opacity+(new Date().getTime()-r)/n,e.style.opacity=i,r=+new Date,+i<1&&(window.requestAnimationFrame&&requestAnimationFrame(o)||setTimeout(o,16))};s()}},fadeOut:function(e,n){if(e)var r=1,i=50,s=n,o=i/s,a=setInterval(function(){r-=o,r<=0&&(r=0,clearInterval(a)),e.style.opacity=r},i)},getUserAgent:function(){return navigator.userAgent},appendChild:function(e,n){if(this.isElement(n))n.appendChild(e);else if(n.el&&n.elElement)n.elElement.appendChild(e);else throw new Error("Cannot append "+n+" to "+e)},isElement:function(e){return(typeof HTMLElement>"u"?"undefined":Mc(HTMLElement))==="object"?e instanceof HTMLElement:e&&Mc(e)==="object"&&e!==null&&e.nodeType===1&&typeof e.nodeName=="string"},scrollInView:function(e,n){var r=getComputedStyle(e).getPropertyValue("borderTopWidth"),i=r?parseFloat(r):0,s=getComputedStyle(e).getPropertyValue("paddingTop"),o=s?parseFloat(s):0,a=e.getBoundingClientRect(),l=n.getBoundingClientRect(),u=l.top+document.body.scrollTop-(a.top+document.body.scrollTop)-i-o,c=e.scrollTop,h=e.clientHeight,f=this.getOuterHeight(n);u<0?e.scrollTop=c+u:u+f>h&&(e.scrollTop=c+u-h+f)},clearSelection:function(){if(window.getSelection)window.getSelection().empty?window.getSelection().empty():window.getSelection().removeAllRanges&&window.getSelection().rangeCount>0&&window.getSelection().getRangeAt(0).getClientRects().length>0&&window.getSelection().removeAllRanges();else if(document.selection&&document.selection.empty)try{document.selection.empty()}catch{}},getSelection:function(){return window.getSelection?window.getSelection().toString():document.getSelection?document.getSelection().toString():document.selection?document.selection.createRange().text:null},calculateScrollbarWidth:function(){if(this.calculatedScrollbarWidth!=null)return this.calculatedScrollbarWidth;var e=document.createElement("div");this.addStyles(e,{width:"100px",height:"100px",overflow:"scroll",position:"absolute",top:"-9999px"}),document.body.appendChild(e);var n=e.offsetWidth-e.clientWidth;return document.body.removeChild(e),this.calculatedScrollbarWidth=n,n},calculateBodyScrollbarWidth:function(){return window.innerWidth-document.documentElement.offsetWidth},getBrowser:function(){if(!this.browser){var e=this.resolveUserAgent();this.browser={},e.browser&&(this.browser[e.browser]=!0,this.browser.version=e.version),this.browser.chrome?this.browser.webkit=!0:this.browser.webkit&&(this.browser.safari=!0)}return this.browser},resolveUserAgent:function(){var e=navigator.userAgent.toLowerCase(),n=/(chrome)[ ]([\w.]+)/.exec(e)||/(webkit)[ ]([\w.]+)/.exec(e)||/(opera)(?:.*version|)[ ]([\w.]+)/.exec(e)||/(msie) ([\w.]+)/.exec(e)||e.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(e)||[];return{browser:n[1]||"",version:n[2]||"0"}},isVisible:function(e){return e&&e.offsetParent!=null},invokeElementMethod:function(e,n,r){e[n].apply(e,r)},isExist:function(e){return!!(e!==null&&typeof e<"u"&&e.nodeName&&this.getParentNode(e))},isClient:function(){return!!(typeof window<"u"&&window.document&&window.document.createElement)},focus:function(e,n){e&&document.activeElement!==e&&e.focus(n)},isFocusableElement:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";return this.isElement(e)?e.matches('button:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])'.concat(n,`,
                [href][clientHeight][clientWidth]:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])`).concat(n,`,
                input:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])`).concat(n,`,
                select:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])`).concat(n,`,
                textarea:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])`).concat(n,`,
                [tabIndex]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])`).concat(n,`,
                [contenteditable]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])`).concat(n)):!1},getFocusableElements:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",r=this.find(e,'button:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])'.concat(n,`,
                [href][clientHeight][clientWidth]:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])`).concat(n,`,
                input:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])`).concat(n,`,
                select:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])`).concat(n,`,
                textarea:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])`).concat(n,`,
                [tabIndex]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])`).concat(n,`,
                [contenteditable]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])`).concat(n)),i=[],s=Zg(r),o;try{for(s.s();!(o=s.n()).done;){var a=o.value;getComputedStyle(a).display!="none"&&getComputedStyle(a).visibility!="hidden"&&i.push(a)}}catch(l){s.e(l)}finally{s.f()}return i},getFirstFocusableElement:function(e,n){var r=this.getFocusableElements(e,n);return r.length>0?r[0]:null},getLastFocusableElement:function(e,n){var r=this.getFocusableElements(e,n);return r.length>0?r[r.length-1]:null},getNextFocusableElement:function(e,n,r){var i=this.getFocusableElements(e,r),s=i.length>0?i.findIndex(function(a){return a===n}):-1,o=s>-1&&i.length>=s+1?s+1:-1;return o>-1?i[o]:null},getPreviousElementSibling:function(e,n){for(var r=e.previousElementSibling;r;){if(r.matches(n))return r;r=r.previousElementSibling}return null},getNextElementSibling:function(e,n){for(var r=e.nextElementSibling;r;){if(r.matches(n))return r;r=r.nextElementSibling}return null},isClickable:function(e){if(e){var n=e.nodeName,r=e.parentElement&&e.parentElement.nodeName;return n==="INPUT"||n==="TEXTAREA"||n==="BUTTON"||n==="A"||r==="INPUT"||r==="TEXTAREA"||r==="BUTTON"||r==="A"||!!e.closest(".p-button, .p-checkbox, .p-radiobutton")}return!1},applyStyle:function(e,n){if(typeof n=="string")e.style.cssText=n;else for(var r in n)e.style[r]=n[r]},isIOS:function(){return/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream},isAndroid:function(){return/(android)/i.test(navigator.userAgent)},isTouchDevice:function(){return"ontouchstart"in window||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0},hasCSSAnimation:function(e){if(e){var n=getComputedStyle(e),r=parseFloat(n.getPropertyValue("animation-duration")||"0");return r>0}return!1},hasCSSTransition:function(e){if(e){var n=getComputedStyle(e),r=parseFloat(n.getPropertyValue("transition-duration")||"0");return r>0}return!1},exportCSV:function(e,n){var r=new Blob([e],{type:"application/csv;charset=utf-8;"});if(window.navigator.msSaveOrOpenBlob)navigator.msSaveOrOpenBlob(r,n+".csv");else{var i=document.createElement("a");i.download!==void 0?(i.setAttribute("href",URL.createObjectURL(r)),i.setAttribute("download",n+".csv"),i.style.display="none",document.body.appendChild(i),i.click(),document.body.removeChild(i)):(e="data:text/csv;charset=utf-8,"+e,window.open(encodeURI(e)))}},blockBodyScroll:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"p-overflow-hidden";document.body.style.setProperty("--scrollbar-width",this.calculateBodyScrollbarWidth()+"px"),this.addClass(document.body,e)},unblockBodyScroll:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"p-overflow-hidden";document.body.style.removeProperty("--scrollbar-width"),this.removeClass(document.body,e)}};function vd(t){"@babel/helpers - typeof";return vd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vd(t)}function Mq(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function LI(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Vq(r.key),r)}}function Lq(t,e,n){return e&&LI(t.prototype,e),n&&LI(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Vq(t){var e=Fq(t,"string");return vd(e)=="symbol"?e:String(e)}function Fq(t,e){if(vd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(vd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var PD=function(){function t(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:function(){};Mq(this,t),this.element=e,this.listener=n}return Lq(t,[{key:"bindScrollListener",value:function(){this.scrollableParents=Ve.getScrollableParents(this.element);for(var n=0;n<this.scrollableParents.length;n++)this.scrollableParents[n].addEventListener("scroll",this.listener)}},{key:"unbindScrollListener",value:function(){if(this.scrollableParents)for(var n=0;n<this.scrollableParents.length;n++)this.scrollableParents[n].removeEventListener("scroll",this.listener)}},{key:"destroy",value:function(){this.unbindScrollListener(),this.element=null,this.listener=null,this.scrollableParents=null}}]),t}();function $q(){var t=new Map;return{on:function(n,r){var i=t.get(n);i?i.push(r):i=[r],t.set(n,i)},off:function(n,r){var i=t.get(n);i&&i.splice(i.indexOf(r)>>>0,1)},emit:function(n,r){var i=t.get(n);i&&i.slice().map(function(s){s(r)})}}}function VI(t,e){return Hq(t)||Bq(t,e)||Pb(t,e)||Uq()}function Uq(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Bq(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,a=[],l=!0,u=!1;try{if(s=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=s.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return a}}function Hq(t){if(Array.isArray(t))return t}function FI(t){return qq(t)||Wq(t)||Pb(t)||jq()}function jq(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Wq(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function qq(t){if(Array.isArray(t))return Yy(t)}function tv(t,e){var n=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=Pb(t))||e&&t&&typeof t.length=="number"){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(u){throw u},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var s=!0,o=!1,a;return{s:function(){n=n.call(t)},n:function(){var u=n.next();return s=u.done,u},e:function(u){o=!0,a=u},f:function(){try{!s&&n.return!=null&&n.return()}finally{if(o)throw a}}}}function Pb(t,e){if(t){if(typeof t=="string")return Yy(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Yy(t,e)}}function Yy(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Lc(t){"@babel/helpers - typeof";return Lc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Lc(t)}var Ee={equals:function(e,n,r){return r?this.resolveFieldData(e,r)===this.resolveFieldData(n,r):this.deepEquals(e,n)},deepEquals:function(e,n){if(e===n)return!0;if(e&&n&&Lc(e)=="object"&&Lc(n)=="object"){var r=Array.isArray(e),i=Array.isArray(n),s,o,a;if(r&&i){if(o=e.length,o!=n.length)return!1;for(s=o;s--!==0;)if(!this.deepEquals(e[s],n[s]))return!1;return!0}if(r!=i)return!1;var l=e instanceof Date,u=n instanceof Date;if(l!=u)return!1;if(l&&u)return e.getTime()==n.getTime();var c=e instanceof RegExp,h=n instanceof RegExp;if(c!=h)return!1;if(c&&h)return e.toString()==n.toString();var f=Object.keys(e);if(o=f.length,o!==Object.keys(n).length)return!1;for(s=o;s--!==0;)if(!Object.prototype.hasOwnProperty.call(n,f[s]))return!1;for(s=o;s--!==0;)if(a=f[s],!this.deepEquals(e[a],n[a]))return!1;return!0}return e!==e&&n!==n},resolveFieldData:function(e,n){if(!e||!n)return null;try{var r=e[n];if(this.isNotEmpty(r))return r}catch{}if(Object.keys(e).length){if(this.isFunction(n))return n(e);if(n.indexOf(".")===-1)return e[n];for(var i=n.split("."),s=e,o=0,a=i.length;o<a;++o){if(s==null)return null;s=s[i[o]]}return s}return null},getItemValue:function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return this.isFunction(e)?e.apply(void 0,r):e},filter:function(e,n,r){var i=[];if(e){var s=tv(e),o;try{for(s.s();!(o=s.n()).done;){var a=o.value,l=tv(n),u;try{for(l.s();!(u=l.n()).done;){var c=u.value;if(String(this.resolveFieldData(a,c)).toLowerCase().indexOf(r.toLowerCase())>-1){i.push(a);break}}}catch(h){l.e(h)}finally{l.f()}}}catch(h){s.e(h)}finally{s.f()}}return i},reorderArray:function(e,n,r){e&&n!==r&&(r>=e.length&&(r%=e.length,n%=e.length),e.splice(r,0,e.splice(n,1)[0]))},findIndexInList:function(e,n){var r=-1;if(n){for(var i=0;i<n.length;i++)if(n[i]===e){r=i;break}}return r},contains:function(e,n){if(e!=null&&n&&n.length){var r=tv(n),i;try{for(r.s();!(i=r.n()).done;){var s=i.value;if(this.equals(e,s))return!0}}catch(o){r.e(o)}finally{r.f()}}return!1},insertIntoOrderedArray:function(e,n,r,i){if(r.length>0){for(var s=!1,o=0;o<r.length;o++){var a=this.findIndexInList(r[o],i);if(a>n){r.splice(o,0,e),s=!0;break}}s||r.push(e)}else r.push(e)},removeAccents:function(e){return e&&e.search(/[\xC0-\xFF]/g)>-1&&(e=e.replace(/[\xC0-\xC5]/g,"A").replace(/[\xC6]/g,"AE").replace(/[\xC7]/g,"C").replace(/[\xC8-\xCB]/g,"E").replace(/[\xCC-\xCF]/g,"I").replace(/[\xD0]/g,"D").replace(/[\xD1]/g,"N").replace(/[\xD2-\xD6\xD8]/g,"O").replace(/[\xD9-\xDC]/g,"U").replace(/[\xDD]/g,"Y").replace(/[\xDE]/g,"P").replace(/[\xE0-\xE5]/g,"a").replace(/[\xE6]/g,"ae").replace(/[\xE7]/g,"c").replace(/[\xE8-\xEB]/g,"e").replace(/[\xEC-\xEF]/g,"i").replace(/[\xF1]/g,"n").replace(/[\xF2-\xF6\xF8]/g,"o").replace(/[\xF9-\xFC]/g,"u").replace(/[\xFE]/g,"p").replace(/[\xFD\xFF]/g,"y")),e},getVNodeProp:function(e,n){if(e){var r=e.props;if(r){var i=n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),s=Object.prototype.hasOwnProperty.call(r,i)?i:n;return e.type.extends.props[n].type===Boolean&&r[s]===""?!0:r[s]}}return null},toFlatCase:function(e){return this.isString(e)?e.replace(/(-|_)/g,"").toLowerCase():e},toKebabCase:function(e){return this.isString(e)?e.replace(/(_)/g,"-").replace(/[A-Z]/g,function(n,r){return r===0?n:"-"+n.toLowerCase()}).toLowerCase():e},toCapitalCase:function(e){return this.isString(e,{empty:!1})?e[0].toUpperCase()+e.slice(1):e},isEmpty:function(e){return e==null||e===""||Array.isArray(e)&&e.length===0||!(e instanceof Date)&&Lc(e)==="object"&&Object.keys(e).length===0},isNotEmpty:function(e){return!this.isEmpty(e)},isFunction:function(e){return!!(e&&e.constructor&&e.call&&e.apply)},isObject:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return e instanceof Object&&e.constructor===Object&&(n||Object.keys(e).length!==0)},isDate:function(e){return e instanceof Date&&e.constructor===Date},isArray:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return Array.isArray(e)&&(n||e.length!==0)},isString:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return typeof e=="string"&&(n||e!=="")},isPrintableCharacter:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return this.isNotEmpty(e)&&e.length===1&&e.match(/\S| /)},findLast:function(e,n){var r;if(this.isNotEmpty(e))try{r=e.findLast(n)}catch{r=FI(e).reverse().find(n)}return r},findLastIndex:function(e,n){var r=-1;if(this.isNotEmpty(e))try{r=e.findLastIndex(n)}catch{r=e.lastIndexOf(FI(e).reverse().find(n))}return r},sort:function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,i=arguments.length>3?arguments[3]:void 0,s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:1,o=this.compare(e,n,i,r),a=r;return(this.isEmpty(e)||this.isEmpty(n))&&(a=s===1?r:s),a*o},compare:function(e,n,r){var i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:1,s=-1,o=this.isEmpty(e),a=this.isEmpty(n);return o&&a?s=0:o?s=i:a?s=-i:typeof e=="string"&&typeof n=="string"?s=r(e,n):s=e<n?-1:e>n?1:0,s},localeComparator:function(){return new Intl.Collator(void 0,{numeric:!0}).compare},nestedKeys:function(){var e=this,n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";return Object.entries(n).reduce(function(i,s){var o=VI(s,2),a=o[0],l=o[1],u=r?"".concat(r,".").concat(a):a;return e.isObject(l)?i=i.concat(e.nestedKeys(l,u)):i.push(u),i},[])},stringify:function(e){var n=this,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:2,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,s=" ".repeat(i),o=" ".repeat(i+r);return this.isArray(e)?"["+e.map(function(a){return n.stringify(a,r,i+r)}).join(", ")+"]":this.isDate(e)?e.toISOString():this.isFunction(e)?e.toString():this.isObject(e)?`{
`+Object.entries(e).map(function(a){var l=VI(a,2),u=l[0],c=l[1];return"".concat(o).concat(u,": ").concat(n.stringify(c,r,i+r))}).join(`,
`)+`
`.concat(s)+"}":JSON.stringify(e)}},$I=0;function Sp(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"pv_id_";return $I++,"".concat(t).concat($I)}function zq(t){return Qq(t)||Gq(t)||Yq(t)||Kq()}function Kq(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Yq(t,e){if(t){if(typeof t=="string")return Gy(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Gy(t,e)}}function Gq(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Qq(t){if(Array.isArray(t))return Gy(t)}function Gy(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Xq(){var t=[],e=function(a,l){var u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:999,c=i(a,l,u),h=c.value+(c.key===a?0:u)+1;return t.push({key:a,value:h}),h},n=function(a){t=t.filter(function(l){return l.value!==a})},r=function(a,l){return i(a,l).value},i=function(a,l){var u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;return zq(t).reverse().find(function(c){return l?!0:c.key===a})||{key:a,value:u}},s=function(a){return a&&parseInt(a.style.zIndex,10)||0};return{get:s,set:function(a,l,u){l&&(l.style.zIndex=String(e(a,!0,u)))},clear:function(a){a&&(n(s(a)),a.style.zIndex="")},getCurrent:function(a){return r(a,!0)}}}var Fl=Xq();function yd(t){"@babel/helpers - typeof";return yd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yd(t)}function UI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function BI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?UI(Object(n),!0).forEach(function(r){Jq(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):UI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Jq(t,e,n){return e=Zq(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Zq(t){var e=ez(t,"string");return yd(e)=="symbol"?e:String(e)}function ez(t,e){if(yd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(yd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function tz(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;Xr()?mn(t):e?t():Kn(t)}var nz=0;function kD(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=Te(!1),r=Te(t),i=Te(null),s=Ve.isClient()?window.document:void 0,o=e.document,a=o===void 0?s:o,l=e.immediate,u=l===void 0?!0:l,c=e.manual,h=c===void 0?!1:c,f=e.name,p=f===void 0?"style_".concat(++nz):f,g=e.id,w=g===void 0?void 0:g,I=e.media,k=I===void 0?void 0:I,P=e.nonce,T=P===void 0?void 0:P,_=e.props,L=_===void 0?{}:_,V=function(){},S=function(v){var C=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(a){var A=BI(BI({},L),C),O=A.name||p,Y=A.id||w,U=A.nonce||T;i.value=a.querySelector('style[data-primevue-style-id="'.concat(O,'"]'))||a.getElementById(Y)||a.createElement("style"),i.value.isConnected||(r.value=v||t,Ve.setAttributes(i.value,{type:"text/css",id:Y,media:k,nonce:U}),a.head.appendChild(i.value),Ve.setAttribute(i.value,"data-primevue-style-id",p),Ve.setAttributes(i.value,A)),!n.value&&(V=_n(r,function(j){i.value.textContent=j},{immediate:!0}),n.value=!0)}},E=function(){!a||!n.value||(V(),Ve.isExist(i.value)&&a.head.removeChild(i.value),n.value=!1)};return u&&!h&&tz(S),{id:w,name:p,css:r,unload:E,load:S,isLoaded:A_(n)}}function _d(t){"@babel/helpers - typeof";return _d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_d(t)}function rz(t,e){return az(t)||oz(t,e)||sz(t,e)||iz()}function iz(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function sz(t,e){if(t){if(typeof t=="string")return HI(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return HI(t,e)}}function HI(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function oz(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,a=[],l=!0,u=!1;try{if(s=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=s.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return a}}function az(t){if(Array.isArray(t))return t}function jI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function nv(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?jI(Object(n),!0).forEach(function(r){lz(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):jI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function lz(t,e,n){return e=uz(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function uz(t){var e=cz(t,"string");return _d(e)=="symbol"?e:String(e)}function cz(t,e){if(_d(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(_d(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var dz=`
.p-hidden-accessible {
    border: 0;
    clip: rect(0 0 0 0);
    height: 1px;
    margin: -1px;
    overflow: hidden;
    padding: 0;
    position: absolute;
    width: 1px;
}

.p-hidden-accessible input,
.p-hidden-accessible select {
    transform: scale(0);
}

.p-overflow-hidden {
    overflow: hidden;
    padding-right: var(--scrollbar-width);
}
`,hz={},fz={},Lr={name:"base",css:dz,classes:hz,inlineStyles:fz,loadStyle:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return this.css?kD(this.css,nv({name:this.name},e)):{}},getStyleSheet:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.css){var r=Object.entries(n).reduce(function(i,s){var o=rz(s,2),a=o[0],l=o[1];return i.push("".concat(a,'="').concat(l,'"'))&&i},[]).join(" ");return'<style type="text/css" data-primevue-style-id="'.concat(this.name,'" ').concat(r,">").concat(this.css).concat(e,"</style>")}return""},extend:function(e){return nv(nv({},this),{},{css:void 0},e)}};function bd(t){"@babel/helpers - typeof";return bd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bd(t)}function WI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function pz(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?WI(Object(n),!0).forEach(function(r){mz(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):WI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function mz(t,e,n){return e=gz(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function gz(t){var e=vz(t,"string");return bd(e)=="symbol"?e:String(e)}function vz(t,e){if(bd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(bd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var rv=Lr.extend({name:"common",loadGlobalStyle:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return kD(e,pz({name:"global"},n))}});function wd(t){"@babel/helpers - typeof";return wd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wd(t)}function yz(t){return xD(t)||_z(t)||DD(t)||RD()}function _z(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Zh(t,e){return xD(t)||bz(t,e)||DD(t,e)||RD()}function RD(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function DD(t,e){if(t){if(typeof t=="string")return qI(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return qI(t,e)}}function qI(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function bz(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,a=[],l=!0,u=!1;try{if(s=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=s.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return a}}function xD(t){if(Array.isArray(t))return t}function zI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function sn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?zI(Object(n),!0).forEach(function(r){Tf(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):zI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Tf(t,e,n){return e=wz(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function wz(t){var e=Tz(t,"string");return wd(e)=="symbol"?e:String(e)}function Tz(t,e){if(wd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(wd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var hs={name:"BaseComponent",props:{pt:{type:Object,default:void 0},ptOptions:{type:Object,default:void 0},unstyled:{type:Boolean,default:void 0}},inject:{$parentInstance:{default:void 0}},watch:{isUnstyled:{immediate:!0,handler:function(e){if(!e){var n,r;rv.loadStyle({nonce:(n=this.$primevueConfig)===null||n===void 0||(n=n.csp)===null||n===void 0?void 0:n.nonce}),this.$options.style&&this.$style.loadStyle({nonce:(r=this.$primevueConfig)===null||r===void 0||(r=r.csp)===null||r===void 0?void 0:r.nonce})}}}},beforeCreate:function(){var e,n,r,i,s,o,a,l,u,c,h,f=(e=this.pt)===null||e===void 0?void 0:e._usept,p=f?(n=this.pt)===null||n===void 0||(n=n.originalValue)===null||n===void 0?void 0:n[this.$.type.name]:void 0,g=f?(r=this.pt)===null||r===void 0||(r=r.value)===null||r===void 0?void 0:r[this.$.type.name]:this.pt;(i=g||p)===null||i===void 0||(i=i.hooks)===null||i===void 0||(s=i.onBeforeCreate)===null||s===void 0||s.call(i);var w=(o=this.$primevueConfig)===null||o===void 0||(o=o.pt)===null||o===void 0?void 0:o._usept,I=w?(a=this.$primevue)===null||a===void 0||(a=a.config)===null||a===void 0||(a=a.pt)===null||a===void 0?void 0:a.originalValue:void 0,k=w?(l=this.$primevue)===null||l===void 0||(l=l.config)===null||l===void 0||(l=l.pt)===null||l===void 0?void 0:l.value:(u=this.$primevue)===null||u===void 0||(u=u.config)===null||u===void 0?void 0:u.pt;(c=k||I)===null||c===void 0||(c=c[this.$.type.name])===null||c===void 0||(c=c.hooks)===null||c===void 0||(h=c.onBeforeCreate)===null||h===void 0||h.call(c)},created:function(){this._hook("onCreated")},beforeMount:function(){var e;Lr.loadStyle({nonce:(e=this.$primevueConfig)===null||e===void 0||(e=e.csp)===null||e===void 0?void 0:e.nonce}),this._loadGlobalStyles(),this._hook("onBeforeMount")},mounted:function(){this._hook("onMounted")},beforeUpdate:function(){this._hook("onBeforeUpdate")},updated:function(){this._hook("onUpdated")},beforeUnmount:function(){this._hook("onBeforeUnmount")},unmounted:function(){this._hook("onUnmounted")},methods:{_hook:function(e){if(!this.$options.hostName){var n=this._usePT(this._getPT(this.pt,this.$.type.name),this._getOptionValue,"hooks.".concat(e)),r=this._useDefaultPT(this._getOptionValue,"hooks.".concat(e));n==null||n(),r==null||r()}},_mergeProps:function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return Ee.isFunction(e)?e.apply(void 0,r):ce.apply(void 0,r)},_loadGlobalStyles:function(){var e,n=this._useGlobalPT(this._getOptionValue,"global.css",this.$params);Ee.isNotEmpty(n)&&rv.loadGlobalStyle(n,{nonce:(e=this.$primevueConfig)===null||e===void 0||(e=e.csp)===null||e===void 0?void 0:e.nonce})},_getHostInstance:function(e){return e?this.$options.hostName?e.$.type.name===this.$options.hostName?e:this._getHostInstance(e.$parentInstance):e.$parentInstance:void 0},_getPropValue:function(e){var n;return this[e]||((n=this._getHostInstance(this))===null||n===void 0?void 0:n[e])},_getOptionValue:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=Ee.toFlatCase(n).split("."),s=i.shift();return s?Ee.isObject(e)?this._getOptionValue(Ee.getItemValue(e[Object.keys(e).find(function(o){return Ee.toFlatCase(o)===s})||""],r),i.join("."),r):void 0:Ee.getItemValue(e,r)},_getPTValue:function(){var e,n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,o=/./g.test(r)&&!!i[r.split(".")[0]],a=this._getPropValue("ptOptions")||((e=this.$primevueConfig)===null||e===void 0?void 0:e.ptOptions)||{},l=a.mergeSections,u=l===void 0?!0:l,c=a.mergeProps,h=c===void 0?!1:c,f=s?o?this._useGlobalPT(this._getPTClassValue,r,i):this._useDefaultPT(this._getPTClassValue,r,i):void 0,p=o?void 0:this._getPTSelf(n,this._getPTClassValue,r,sn(sn({},i),{},{global:f||{}})),g=this._getPTDatasets(r);return u||!u&&p?h?this._mergeProps(h,f,p,g):sn(sn(sn({},f),p),g):sn(sn({},p),g)},_getPTSelf:function(){for(var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return ce(this._usePT.apply(this,[this._getPT(e,this.$name)].concat(r)),this._usePT.apply(this,[this.$_attrsPT].concat(r)))},_getPTDatasets:function(){var e,n,r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",i="data-pc-",s=r==="root"&&Ee.isNotEmpty((e=this.pt)===null||e===void 0?void 0:e["data-pc-section"]);return r!=="transition"&&sn(sn({},r==="root"&&sn(Tf({},"".concat(i,"name"),Ee.toFlatCase(s?(n=this.pt)===null||n===void 0?void 0:n["data-pc-section"]:this.$.type.name)),s&&Tf({},"".concat(i,"extend"),Ee.toFlatCase(this.$.type.name)))),{},Tf({},"".concat(i,"section"),Ee.toFlatCase(r)))},_getPTClassValue:function(){var e=this._getOptionValue.apply(this,arguments);return Ee.isString(e)||Ee.isArray(e)?{class:e}:e},_getPT:function(e){var n=this,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",i=arguments.length>2?arguments[2]:void 0,s=function(a){var l,u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,c=i?i(a):a,h=Ee.toFlatCase(r),f=Ee.toFlatCase(n.$name);return(l=u?h!==f?c==null?void 0:c[h]:void 0:c==null?void 0:c[h])!==null&&l!==void 0?l:c};return e!=null&&e.hasOwnProperty("_usept")?{_usept:e._usept,originalValue:s(e.originalValue),value:s(e.value)}:s(e,!0)},_usePT:function(e,n,r,i){var s=function(w){return n(w,r,i)};if(e!=null&&e.hasOwnProperty("_usept")){var o,a=e._usept||((o=this.$primevueConfig)===null||o===void 0?void 0:o.ptOptions)||{},l=a.mergeSections,u=l===void 0?!0:l,c=a.mergeProps,h=c===void 0?!1:c,f=s(e.originalValue),p=s(e.value);return f===void 0&&p===void 0?void 0:Ee.isString(p)?p:Ee.isString(f)?f:u||!u&&p?h?this._mergeProps(h,f,p):sn(sn({},f),p):p}return s(e)},_useGlobalPT:function(e,n,r){return this._usePT(this.globalPT,e,n,r)},_useDefaultPT:function(e,n,r){return this._usePT(this.defaultPT,e,n,r)},ptm:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return this._getPTValue(this.pt,e,sn(sn({},this.$params),n))},ptmi:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return ce(this.$_attrsNoPT,this.ptm(e,n))},ptmo:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this._getPTValue(e,n,sn({instance:this},r),!1)},cx:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return this.isUnstyled?void 0:this._getOptionValue(this.$style.classes,e,sn(sn({},this.$params),n))},sx:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(n){var i=this._getOptionValue(this.$style.inlineStyles,e,sn(sn({},this.$params),r)),s=this._getOptionValue(rv.inlineStyles,e,sn(sn({},this.$params),r));return[s,i]}}},computed:{globalPT:function(){var e,n=this;return this._getPT((e=this.$primevueConfig)===null||e===void 0?void 0:e.pt,void 0,function(r){return Ee.getItemValue(r,{instance:n})})},defaultPT:function(){var e,n=this;return this._getPT((e=this.$primevueConfig)===null||e===void 0?void 0:e.pt,void 0,function(r){return n._getOptionValue(r,n.$name,sn({},n.$params))||Ee.getItemValue(r,sn({},n.$params))})},isUnstyled:function(){var e;return this.unstyled!==void 0?this.unstyled:(e=this.$primevueConfig)===null||e===void 0?void 0:e.unstyled},$params:function(){var e=this._getHostInstance(this)||this.$parent;return{instance:this,props:this.$props,state:this.$data,attrs:this.$attrs,parent:{instance:e,props:e==null?void 0:e.$props,state:e==null?void 0:e.$data,attrs:e==null?void 0:e.$attrs},parentInstance:e}},$style:function(){return sn(sn({classes:void 0,inlineStyles:void 0,loadStyle:function(){},loadCustomStyle:function(){}},(this._getHostInstance(this)||{}).$style),this.$options.style)},$primevueConfig:function(){var e;return(e=this.$primevue)===null||e===void 0?void 0:e.config},$name:function(){return this.$options.hostName||this.$.type.name},$_attrsPT:function(){return Object.entries(this.$attrs||{}).filter(function(e){var n=Zh(e,1),r=n[0];return r==null?void 0:r.startsWith("pt:")}).reduce(function(e,n){var r=Zh(n,2),i=r[0],s=r[1],o=i.split(":"),a=yz(o),l=a.slice(1);return l==null||l.reduce(function(u,c,h,f){return!u[c]&&(u[c]=h===f.length-1?s:{}),u[c]},e),e},{})},$_attrsNoPT:function(){return Object.entries(this.$attrs||{}).filter(function(e){var n=Zh(e,1),r=n[0];return!(r!=null&&r.startsWith("pt:"))}).reduce(function(e,n){var r=Zh(n,2),i=r[0],s=r[1];return e[i]=s,e},{})}}},Ez={root:function(e){var n=e.props;return["p-tag p-component",{"p-tag-info":n.severity==="info","p-tag-success":n.severity==="success","p-tag-warning":n.severity==="warning","p-tag-danger":n.severity==="danger","p-tag-secondary":n.severity==="secondary","p-tag-contrast":n.severity==="contrast","p-tag-rounded":n.rounded}]},icon:"p-tag-icon",value:"p-tag-value"},Iz=Lr.extend({name:"tag",classes:Ez}),Sz={name:"BaseTag",extends:hs,props:{value:null,severity:null,rounded:Boolean,icon:String},style:Iz,provide:function(){return{$parentInstance:this}}},Qy={name:"Tag",extends:Sz,inheritAttrs:!1};function Cz(t,e,n,r,i,s){return M(),W("span",ce({class:t.cx("root")},t.ptmi("root")),[t.$slots.icon?(M(),we(pr(t.$slots.icon),ce({key:0,class:t.cx("icon")},t.ptm("icon")),null,16,["class"])):t.icon?(M(),W("span",ce({key:1,class:[t.cx("icon"),t.icon]},t.ptm("icon")),null,16)):ne("",!0),t.value||t.$slots.default?pe(t.$slots,"default",{key:2},function(){return[K("span",ce({class:t.cx("value")},t.ptm("value")),Ue(t.value),17)]}):ne("",!0)],16)}Qy.render=Cz;const Az={class:"flex flex-col"},Oz={class:"flex justify-between"},Pz={class:"xl:flex"},kz={key:0,class:"flex flex-wrap gap-x-2"},Rz=["src"],Dz=["src"],xz={class:"flex flex-nowrap"},Nz=["href"],Mz={class:"flex flex-nowrap"},Lz={key:3,class:"flex flex-wrap gap-2"},Vz={key:1,class:"flex gap-2"},Fz=["src"],$z=["src"],Uz={key:0,class:"xl:mt-2"},Td=it({__name:"Bubble",props:{title:{},subTitle:{},tags:{},url:{},route:{},description:{},avatar:{},avatarRoute:{},loading:{type:Boolean},clickable:{type:Boolean},isCollapsed:{type:Boolean},titleProps:{},subTitleProps:{},descriptionProps:{},avatarProps:{}},emits:["click"],setup(t,{emit:e}){const n=t,r=e,s=Aq(Cq).greaterOrEqual("md"),o=()=>{n.clickable&&r("click")};return(a,l)=>{var c,h,f;const u=er("RouterLink");return M(),W("div",{class:He(["background-gray-light rounded-secondary p-5",{"md:p-10":!a.isCollapsed,"hover:bg-opacity-30":!!a.url,"animate-pulse":!!a.loading,"cursor-pointer":!!a.clickable&&!!a.isCollapsed}])},[K("div",{class:He(["group/bubble flex justify-between",{"cursor-pointer":!!a.clickable&&!a.isCollapsed}]),onClick:o},[K("div",Az,[K("div",Oz,[K("div",Pz,[a.url||a.clickable?(M(),W("div",kz,[a.avatar?(M(),W(Oe,{key:0},[(c=a.avatarRoute)!=null&&c.name?(M(),we(u,{key:0,to:a.avatarRoute},{default:ke(()=>[K("img",ce({class:"rounded-full h-12 w-12"},a.avatarProps,{src:a.avatar}),null,16,Rz)]),_:1},8,["to"])):(M(),W("img",ce({key:1,class:"rounded-full h-12 w-12"},a.avatarProps,{src:a.avatar}),null,16,Dz))],64)):ne("",!0),(h=a.route)!=null&&h.name?(M(),we(u,{key:1,class:He(["text-2xl font-bold mb-2",R(s)?"!no-underline group-hover/bubble:!underline":"!underline group-hover/bubble:!no-underline"]),to:a.route},{default:ke(()=>[K("h2",xz,[tt(Ue(a.title)+" ",1),l[0]||(l[0]=K("i",{class:"ms-2 mt-2 pi pi-external-link"},null,-1))])]),_:1},8,["class","to"])):(M(),W("a",{key:2,class:He(["text-2xl font-bold mb-2",R(s)?"!no-underline group-hover/bubble:!underline":"!underline group-hover/bubble:!no-underline"]),href:a.url},[K("h2",Mz,[tt(Ue(a.title)+" ",1),l[1]||(l[1]=K("i",{class:"ms-2 mt-2 pi pi-external-link"},null,-1))])],10,Nz)),a.tags?(M(),W("div",Lz,[(M(!0),W(Oe,null,ft(a.tags,p=>(M(),we(R(Qy),{class:"h-fit p-2",value:p.value,severity:p.severity,rounded:p.rounded!==!1,icon:p.icon},null,8,["value","severity","rounded","icon"]))),256))])):ne("",!0)])):a.title?(M(),W("div",Vz,[a.avatar?(M(),W(Oe,{key:0},[(f=a.avatarRoute)!=null&&f.name?(M(),we(u,{key:0,to:a.avatarRoute},{default:ke(()=>[K("img",ce({class:"rounded-full h-12 w-12"},a.avatarProps,{src:a.avatar}),null,16,Fz)]),_:1},8,["to"])):(M(),W("img",ce({key:1,class:"rounded-full h-12 w-12"},a.avatarProps,{src:a.avatar}),null,16,$z))],64)):ne("",!0),K("h2",ce({class:"text-2xl font-bold mb-2 xl:whitespace-nowrap"},a.titleProps),[tt(Ue(a.title)+" ",1),a.tags?(M(!0),W(Oe,{key:0},ft(a.tags,p=>(M(),we(R(Qy),{class:"ms-2",value:p.value,severity:p.severity,rounded:p.rounded!==!1,icon:p.icon},null,8,["value","severity","rounded","icon"]))),256)):ne("",!0)],16)])):ne("",!0),a.subTitle?(M(),W("p",ce({key:2,class:"text-sm text-neutral-300 mt-2 mb-2 xl:ms-2 xl:mt-2 xl:whitespace-nowrap"},a.subTitleProps),Ue(a.subTitle),17)):ne("",!0)])]),a.description&&!a.isCollapsed?(M(),W("div",Uz,[(M(!0),W(Oe,null,ft(Array.isArray(a.description)?a.description:[a.description],p=>(M(),W("p",ce({class:"text-neutral-400 mb-2",ref_for:!0},a.descriptionProps),Ue(p),17))),256))])):ne("",!0)]),pe(a.$slots,"right")],2),a.isCollapsed?ne("",!0):pe(a.$slots,"default",{key:0})],2)}}}),Bz=t=>{const e=DL();return se(()=>{if(!t)return!1;const n=Db.find(r=>r.name===t);if(n){const r=n.path;return r==="/"?e.fullPath==="/":e.fullPath.startsWith(r)}return!1})},Hz=["href"],jz=it({__name:"ButtonWrapper",props:{class:{},activeClass:{},url:{},route:{}},setup(t){const e=t,n=Bz(e.route),r=se(()=>typeof e.class=="string"?e.class:void 0),i=se(()=>typeof e.class!="string"?e.class:[]);return(s,o)=>{const a=er("RouterLink");return s.route?(M(),we(a,{key:0,class:He([[r.value,...i.value,s.activeClass&&R(n)?s.activeClass:void 0],"!no-underline"]),"active-class":s.activeClass,to:{name:s.route}},{default:ke(()=>[pe(s.$slots,"default")]),_:3},8,["class","active-class","to"])):s.url?(M(),W("a",{key:1,class:He([s.class,"!no-underline"]),href:s.url},[pe(s.$slots,"default")],10,Hz)):pe(s.$slots,"default",{key:2,class:He(s.class)})}}});var Wz={root:function(e){var n=e.props,r=e.instance;return["p-badge p-component",{"p-badge-no-gutter":Ee.isNotEmpty(n.value)&&String(n.value).length===1,"p-badge-dot":Ee.isEmpty(n.value)&&!r.$slots.default,"p-badge-lg":n.size==="large","p-badge-xl":n.size==="xlarge","p-badge-info":n.severity==="info","p-badge-success":n.severity==="success","p-badge-warning":n.severity==="warning","p-badge-danger":n.severity==="danger","p-badge-secondary":n.severity==="secondary","p-badge-contrast":n.severity==="contrast"}]}},qz=Lr.extend({name:"badge",classes:Wz}),zz={name:"BaseBadge",extends:hs,props:{value:{type:[String,Number],default:null},severity:{type:String,default:null},size:{type:String,default:null}},style:qz,provide:function(){return{$parentInstance:this}}},ND={name:"Badge",extends:zz,inheritAttrs:!1};function Kz(t,e,n,r,i,s){return M(),W("span",ce({class:t.cx("root")},t.ptmi("root")),[pe(t.$slots,"default",{},function(){return[tt(Ue(t.value),1)]})],16)}ND.render=Kz;var Yz=`
.p-icon {
    display: inline-block;
}

.p-icon-spin {
    -webkit-animation: p-icon-spin 2s infinite linear;
    animation: p-icon-spin 2s infinite linear;
}

@-webkit-keyframes p-icon-spin {
    0% {
        -webkit-transform: rotate(0deg);
        transform: rotate(0deg);
    }
    100% {
        -webkit-transform: rotate(359deg);
        transform: rotate(359deg);
    }
}

@keyframes p-icon-spin {
    0% {
        -webkit-transform: rotate(0deg);
        transform: rotate(0deg);
    }
    100% {
        -webkit-transform: rotate(359deg);
        transform: rotate(359deg);
    }
}
`,Gz=Lr.extend({name:"baseicon",css:Yz});function Ed(t){"@babel/helpers - typeof";return Ed=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ed(t)}function KI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function YI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?KI(Object(n),!0).forEach(function(r){Qz(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):KI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Qz(t,e,n){return e=Xz(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Xz(t){var e=Jz(t,"string");return Ed(e)=="symbol"?e:String(e)}function Jz(t,e){if(Ed(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Ed(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Wa={name:"BaseIcon",extends:hs,props:{label:{type:String,default:void 0},spin:{type:Boolean,default:!1}},style:Gz,methods:{pti:function(){var e=Ee.isEmpty(this.label);return YI(YI({},!this.isUnstyled&&{class:["p-icon",{"p-icon-spin":this.spin}]}),{},{role:e?void 0:"img","aria-label":e?void 0:this.label,"aria-hidden":e})}}},lh={name:"SpinnerIcon",extends:Wa},Zz=K("path",{d:"M6.99701 14C5.85441 13.999 4.72939 13.7186 3.72012 13.1832C2.71084 12.6478 1.84795 11.8737 1.20673 10.9284C0.565504 9.98305 0.165424 8.89526 0.041387 7.75989C-0.0826496 6.62453 0.073125 5.47607 0.495122 4.4147C0.917119 3.35333 1.59252 2.4113 2.46241 1.67077C3.33229 0.930247 4.37024 0.413729 5.4857 0.166275C6.60117 -0.0811796 7.76026 -0.0520535 8.86188 0.251112C9.9635 0.554278 10.9742 1.12227 11.8057 1.90555C11.915 2.01493 11.9764 2.16319 11.9764 2.31778C11.9764 2.47236 11.915 2.62062 11.8057 2.73C11.7521 2.78503 11.688 2.82877 11.6171 2.85864C11.5463 2.8885 11.4702 2.90389 11.3933 2.90389C11.3165 2.90389 11.2404 2.8885 11.1695 2.85864C11.0987 2.82877 11.0346 2.78503 10.9809 2.73C9.9998 1.81273 8.73246 1.26138 7.39226 1.16876C6.05206 1.07615 4.72086 1.44794 3.62279 2.22152C2.52471 2.99511 1.72683 4.12325 1.36345 5.41602C1.00008 6.70879 1.09342 8.08723 1.62775 9.31926C2.16209 10.5513 3.10478 11.5617 4.29713 12.1803C5.48947 12.7989 6.85865 12.988 8.17414 12.7157C9.48963 12.4435 10.6711 11.7264 11.5196 10.6854C12.3681 9.64432 12.8319 8.34282 12.8328 7C12.8328 6.84529 12.8943 6.69692 13.0038 6.58752C13.1132 6.47812 13.2616 6.41667 13.4164 6.41667C13.5712 6.41667 13.7196 6.47812 13.8291 6.58752C13.9385 6.69692 14 6.84529 14 7C14 8.85651 13.2622 10.637 11.9489 11.9497C10.6356 13.2625 8.85432 14 6.99701 14Z",fill:"currentColor"},null,-1),eK=[Zz];function tK(t,e,n,r,i,s){return M(),W("svg",ce({width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t.pti()),eK,16)}lh.render=tK;function Id(t){"@babel/helpers - typeof";return Id=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Id(t)}function GI(t,e){return sK(t)||iK(t,e)||rK(t,e)||nK()}function nK(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rK(t,e){if(t){if(typeof t=="string")return QI(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return QI(t,e)}}function QI(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function iK(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,a=[],l=!0,u=!1;try{if(s=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=s.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return a}}function sK(t){if(Array.isArray(t))return t}function XI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function gn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?XI(Object(n),!0).forEach(function(r){Xy(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):XI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Xy(t,e,n){return e=oK(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function oK(t){var e=aK(t,"string");return Id(e)=="symbol"?e:String(e)}function aK(t,e){if(Id(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Id(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Dt={_getMeta:function(){return[Ee.isObject(arguments.length<=0?void 0:arguments[0])||arguments.length<=0?void 0:arguments[0],Ee.getItemValue(Ee.isObject(arguments.length<=0?void 0:arguments[0])?arguments.length<=0?void 0:arguments[0]:arguments.length<=1?void 0:arguments[1])]},_getConfig:function(e,n){var r,i,s;return(r=(e==null||(i=e.instance)===null||i===void 0?void 0:i.$primevue)||(n==null||(s=n.ctx)===null||s===void 0||(s=s.appContext)===null||s===void 0||(s=s.config)===null||s===void 0||(s=s.globalProperties)===null||s===void 0?void 0:s.$primevue))===null||r===void 0?void 0:r.config},_getOptionValue:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=Ee.toFlatCase(n).split("."),s=i.shift();return s?Ee.isObject(e)?Dt._getOptionValue(Ee.getItemValue(e[Object.keys(e).find(function(o){return Ee.toFlatCase(o)===s})||""],r),i.join("."),r):void 0:Ee.getItemValue(e,r)},_getPTValue:function(){var e,n,r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"",o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,l=function(){var P=Dt._getOptionValue.apply(Dt,arguments);return Ee.isString(P)||Ee.isArray(P)?{class:P}:P},u=((e=r.binding)===null||e===void 0||(e=e.value)===null||e===void 0?void 0:e.ptOptions)||((n=r.$primevueConfig)===null||n===void 0?void 0:n.ptOptions)||{},c=u.mergeSections,h=c===void 0?!0:c,f=u.mergeProps,p=f===void 0?!1:f,g=a?Dt._useDefaultPT(r,r.defaultPT(),l,s,o):void 0,w=Dt._usePT(r,Dt._getPT(i,r.$name),l,s,gn(gn({},o),{},{global:g||{}})),I=Dt._getPTDatasets(r,s);return h||!h&&w?p?Dt._mergeProps(r,p,g,w,I):gn(gn(gn({},g),w),I):gn(gn({},w),I)},_getPTDatasets:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",r="data-pc-";return gn(gn({},n==="root"&&Xy({},"".concat(r,"name"),Ee.toFlatCase(e.$name))),{},Xy({},"".concat(r,"section"),Ee.toFlatCase(n)))},_getPT:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",r=arguments.length>2?arguments[2]:void 0,i=function(o){var a,l=r?r(o):o,u=Ee.toFlatCase(n);return(a=l==null?void 0:l[u])!==null&&a!==void 0?a:l};return e!=null&&e.hasOwnProperty("_usept")?{_usept:e._usept,originalValue:i(e.originalValue),value:i(e.value)}:i(e)},_usePT:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0,r=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,s=arguments.length>4?arguments[4]:void 0,o=function(I){return r(I,i,s)};if(n!=null&&n.hasOwnProperty("_usept")){var a,l=n._usept||((a=e.$primevueConfig)===null||a===void 0?void 0:a.ptOptions)||{},u=l.mergeSections,c=u===void 0?!0:u,h=l.mergeProps,f=h===void 0?!1:h,p=o(n.originalValue),g=o(n.value);return p===void 0&&g===void 0?void 0:Ee.isString(g)?g:Ee.isString(p)?p:c||!c&&g?f?Dt._mergeProps(e,f,p,g):gn(gn({},p),g):g}return o(n)},_useDefaultPT:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,s=arguments.length>4?arguments[4]:void 0;return Dt._usePT(e,n,r,i,s)},_hook:function(e,n,r,i,s,o){var a,l,u="on".concat(Ee.toCapitalCase(n)),c=Dt._getConfig(i,s),h=r==null?void 0:r.$instance,f=Dt._usePT(h,Dt._getPT(i==null||(a=i.value)===null||a===void 0?void 0:a.pt,e),Dt._getOptionValue,"hooks.".concat(u)),p=Dt._useDefaultPT(h,c==null||(l=c.pt)===null||l===void 0||(l=l.directives)===null||l===void 0?void 0:l[e],Dt._getOptionValue,"hooks.".concat(u)),g={el:r,binding:i,vnode:s,prevVnode:o};f==null||f(h,g),p==null||p(h,g)},_mergeProps:function(){for(var e=arguments.length>1?arguments[1]:void 0,n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];return Ee.isFunction(e)?e.apply(void 0,r):ce.apply(void 0,r)},_extend:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=function(s,o,a,l,u){var c,h;o._$instances=o._$instances||{};var f=Dt._getConfig(a,l),p=o._$instances[e]||{},g=Ee.isEmpty(p)?gn(gn({},n),n==null?void 0:n.methods):{};o._$instances[e]=gn(gn({},p),{},{$name:e,$host:o,$binding:a,$modifiers:a==null?void 0:a.modifiers,$value:a==null?void 0:a.value,$el:p.$el||o||void 0,$style:gn({classes:void 0,inlineStyles:void 0,loadStyle:function(){}},n==null?void 0:n.style),$primevueConfig:f,defaultPT:function(){return Dt._getPT(f==null?void 0:f.pt,void 0,function(I){var k;return I==null||(k=I.directives)===null||k===void 0?void 0:k[e]})},isUnstyled:function(){var I,k;return((I=o.$instance)===null||I===void 0||(I=I.$binding)===null||I===void 0||(I=I.value)===null||I===void 0?void 0:I.unstyled)!==void 0?(k=o.$instance)===null||k===void 0||(k=k.$binding)===null||k===void 0||(k=k.value)===null||k===void 0?void 0:k.unstyled:f==null?void 0:f.unstyled},ptm:function(){var I,k=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",P=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Dt._getPTValue(o.$instance,(I=o.$instance)===null||I===void 0||(I=I.$binding)===null||I===void 0||(I=I.value)===null||I===void 0?void 0:I.pt,k,gn({},P))},ptmo:function(){var I=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},k=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",P=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return Dt._getPTValue(o.$instance,I,k,P,!1)},cx:function(){var I,k,P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return(I=o.$instance)!==null&&I!==void 0&&I.isUnstyled()?void 0:Dt._getOptionValue((k=o.$instance)===null||k===void 0||(k=k.$style)===null||k===void 0?void 0:k.classes,P,gn({},T))},sx:function(){var I,k=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",P=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,T=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return P?Dt._getOptionValue((I=o.$instance)===null||I===void 0||(I=I.$style)===null||I===void 0?void 0:I.inlineStyles,k,gn({},T)):void 0}},g),o.$instance=o._$instances[e],(c=(h=o.$instance)[s])===null||c===void 0||c.call(h,o,a,l,u),o["$".concat(e)]=o.$instance,Dt._hook(e,s,o,a,l,u)};return{created:function(s,o,a,l){r("created",s,o,a,l)},beforeMount:function(s,o,a,l){var u,c,h,f,p=Dt._getConfig(o,a);Lr.loadStyle({nonce:p==null||(u=p.csp)===null||u===void 0?void 0:u.nonce}),!((c=s.$instance)!==null&&c!==void 0&&c.isUnstyled())&&((h=s.$instance)===null||h===void 0||(h=h.$style)===null||h===void 0||h.loadStyle({nonce:p==null||(f=p.csp)===null||f===void 0?void 0:f.nonce})),r("beforeMount",s,o,a,l)},mounted:function(s,o,a,l){var u,c,h,f,p=Dt._getConfig(o,a);Lr.loadStyle({nonce:p==null||(u=p.csp)===null||u===void 0?void 0:u.nonce}),!((c=s.$instance)!==null&&c!==void 0&&c.isUnstyled())&&((h=s.$instance)===null||h===void 0||(h=h.$style)===null||h===void 0||h.loadStyle({nonce:p==null||(f=p.csp)===null||f===void 0?void 0:f.nonce})),r("mounted",s,o,a,l)},beforeUpdate:function(s,o,a,l){r("beforeUpdate",s,o,a,l)},updated:function(s,o,a,l){r("updated",s,o,a,l)},beforeUnmount:function(s,o,a,l){r("beforeUnmount",s,o,a,l)},unmounted:function(s,o,a,l){r("unmounted",s,o,a,l)}}},extend:function(){var e=Dt._getMeta.apply(Dt,arguments),n=GI(e,2),r=n[0],i=n[1];return gn({extend:function(){var o=Dt._getMeta.apply(Dt,arguments),a=GI(o,2),l=a[0],u=a[1];return Dt.extend(l,gn(gn(gn({},i),i==null?void 0:i.methods),u))}},Dt._extend(r,i))}},lK={root:"p-ink"},uK=Lr.extend({name:"ripple",classes:lK}),cK=Dt.extend({style:uK});function dK(t){return mK(t)||pK(t)||fK(t)||hK()}function hK(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fK(t,e){if(t){if(typeof t=="string")return Jy(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Jy(t,e)}}function pK(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function mK(t){if(Array.isArray(t))return Jy(t)}function Jy(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var kb=cK.extend("ripple",{mounted:function(e){var n,r=e==null||(n=e.$instance)===null||n===void 0?void 0:n.$primevueConfig;r&&r.ripple&&(this.create(e),this.bindEvents(e),e.setAttribute("data-pd-ripple",!0))},unmounted:function(e){this.remove(e)},timeout:void 0,methods:{bindEvents:function(e){e.addEventListener("mousedown",this.onMouseDown.bind(this))},unbindEvents:function(e){e.removeEventListener("mousedown",this.onMouseDown.bind(this))},create:function(e){var n=Ve.createElement("span",{role:"presentation","aria-hidden":!0,"data-p-ink":!0,"data-p-ink-active":!1,class:!this.isUnstyled()&&this.cx("root"),onAnimationEnd:this.onAnimationEnd.bind(this),"p-bind":this.ptm("root")});e.appendChild(n),this.$el=n},remove:function(e){var n=this.getInk(e);n&&(this.unbindEvents(e),n.removeEventListener("animationend",this.onAnimationEnd),n.remove())},onMouseDown:function(e){var n=this,r=e.currentTarget,i=this.getInk(r);if(!(!i||getComputedStyle(i,null).display==="none")){if(!this.isUnstyled()&&Ve.removeClass(i,"p-ink-active"),i.setAttribute("data-p-ink-active","false"),!Ve.getHeight(i)&&!Ve.getWidth(i)){var s=Math.max(Ve.getOuterWidth(r),Ve.getOuterHeight(r));i.style.height=s+"px",i.style.width=s+"px"}var o=Ve.getOffset(r),a=e.pageX-o.left+document.body.scrollTop-Ve.getWidth(i)/2,l=e.pageY-o.top+document.body.scrollLeft-Ve.getHeight(i)/2;i.style.top=l+"px",i.style.left=a+"px",!this.isUnstyled()&&Ve.addClass(i,"p-ink-active"),i.setAttribute("data-p-ink-active","true"),this.timeout=setTimeout(function(){i&&(!n.isUnstyled()&&Ve.removeClass(i,"p-ink-active"),i.setAttribute("data-p-ink-active","false"))},401)}},onAnimationEnd:function(e){this.timeout&&clearTimeout(this.timeout),!this.isUnstyled()&&Ve.removeClass(e.currentTarget,"p-ink-active"),e.currentTarget.setAttribute("data-p-ink-active","false")},getInk:function(e){return e&&e.children?dK(e.children).find(function(n){return Ve.getAttribute(n,"data-pc-name")==="ripple"}):void 0}}});function Sd(t){"@babel/helpers - typeof";return Sd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sd(t)}function Js(t,e,n){return e=gK(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function gK(t){var e=vK(t,"string");return Sd(e)=="symbol"?e:String(e)}function vK(t,e){if(Sd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Sd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var yK={root:function(e){var n=e.instance,r=e.props;return["p-button p-component",Js(Js(Js(Js(Js(Js(Js(Js({"p-button-icon-only":n.hasIcon&&!r.label&&!r.badge,"p-button-vertical":(r.iconPos==="top"||r.iconPos==="bottom")&&r.label,"p-disabled":n.$attrs.disabled||n.$attrs.disabled===""||r.loading,"p-button-loading":r.loading,"p-button-loading-label-only":r.loading&&!n.hasIcon&&r.label,"p-button-link":r.link},"p-button-".concat(r.severity),r.severity),"p-button-raised",r.raised),"p-button-rounded",r.rounded),"p-button-text",r.text),"p-button-outlined",r.outlined),"p-button-sm",r.size==="small"),"p-button-lg",r.size==="large"),"p-button-plain",r.plain)]},loadingIcon:"p-button-loading-icon pi-spin",icon:function(e){var n=e.props;return["p-button-icon",{"p-button-icon-left":n.iconPos==="left"&&n.label,"p-button-icon-right":n.iconPos==="right"&&n.label,"p-button-icon-top":n.iconPos==="top"&&n.label,"p-button-icon-bottom":n.iconPos==="bottom"&&n.label}]},label:"p-button-label"},_K=Lr.extend({name:"button",classes:yK}),bK={name:"BaseButton",extends:hs,props:{label:{type:String,default:null},icon:{type:String,default:null},iconPos:{type:String,default:"left"},iconClass:{type:String,default:null},badge:{type:String,default:null},badgeClass:{type:String,default:null},badgeSeverity:{type:String,default:null},loading:{type:Boolean,default:!1},loadingIcon:{type:String,default:void 0},link:{type:Boolean,default:!1},severity:{type:String,default:null},raised:{type:Boolean,default:!1},rounded:{type:Boolean,default:!1},text:{type:Boolean,default:!1},outlined:{type:Boolean,default:!1},size:{type:String,default:null},plain:{type:Boolean,default:!1}},style:_K,provide:function(){return{$parentInstance:this}}},MD={name:"Button",extends:bK,inheritAttrs:!1,methods:{getPTOptions:function(e){var n=e==="root"?this.ptmi:this.ptm;return n(e,{context:{disabled:this.disabled}})}},computed:{disabled:function(){return this.$attrs.disabled||this.$attrs.disabled===""||this.loading},defaultAriaLabel:function(){return this.label?this.label+(this.badge?" "+this.badge:""):this.$attrs.ariaLabel},hasIcon:function(){return this.icon||this.$slots.icon}},components:{SpinnerIcon:lh,Badge:ND},directives:{ripple:kb}},wK=["aria-label","disabled","data-p-severity"];function TK(t,e,n,r,i,s){var o=er("SpinnerIcon"),a=er("Badge"),l=V_("ripple");return vo((M(),W("button",ce({class:t.cx("root"),type:"button","aria-label":s.defaultAriaLabel,disabled:s.disabled},s.getPTOptions("root"),{"data-p-severity":t.severity}),[pe(t.$slots,"default",{},function(){return[t.loading?pe(t.$slots,"loadingicon",{key:0,class:He([t.cx("loadingIcon"),t.cx("icon")])},function(){return[t.loadingIcon?(M(),W("span",ce({key:0,class:[t.cx("loadingIcon"),t.cx("icon"),t.loadingIcon]},t.ptm("loadingIcon")),null,16)):(M(),we(o,ce({key:1,class:[t.cx("loadingIcon"),t.cx("icon")],spin:""},t.ptm("loadingIcon")),null,16,["class"]))]}):pe(t.$slots,"icon",{key:1,class:He([t.cx("icon")])},function(){return[t.icon?(M(),W("span",ce({key:0,class:[t.cx("icon"),t.icon,t.iconClass]},t.ptm("icon")),null,16)):ne("",!0)]}),K("span",ce({class:t.cx("label")},t.ptm("label")),Ue(t.label||" "),17),t.badge?(M(),we(a,ce({key:2,value:t.badge,class:t.badgeClass,severity:t.badgeSeverity,unstyled:t.unstyled},t.ptm("badge")),null,16,["value","class","severity","unstyled"])):ne("",!0)]})],16,wK)),[[l]])}MD.render=TK;const jn=it({__name:"CustomButton",props:{class:{},activeClass:{},label:{},url:{},route:{},type:{},style:{type:[Boolean,null,String,Object,Array]},action:{},icon:{},iconPosition:{},outlined:{type:Boolean},list:{type:Boolean},bold:{type:Boolean},loading:{type:Boolean},form:{},disabled:{type:Boolean}},emits:["click"],setup(t,{emit:e}){const n=t,r=e,i=se(()=>{if(n.disabled)return n.outlined?"button-outlined-neutral":"button-neutral";switch(n.type){case"primary":return n.outlined?n.list?"button-outlined-list-primary":"button-outlined-primary":"button-primary";case"secondary":return n.outlined?n.list?"button-outlined-list-secondary":"button-outlined-secondary":"button-secondary";case"tertiary":return n.outlined?n.list?"button-outlined-list-tertiary":"button-outlined-tertiary":"button-tertiary";case"neutral":return n.outlined?"button-outlined-neutral":"button-neutral";case"danger":return n.outlined?n.list?"button-outlined-list-danger":"button-outlined-danger":"button-danger";case"green":return n.outlined?"button-outlined-green":"button-green";case"purple":return n.outlined?"button-outlined-purple":"button-purple";case"white":return"button-white";default:return n.outlined?n.list?"button-outlined-list-primary":"button-outlined-primary":"button-primary"}}),s=()=>{n.disabled||r("click")};return(o,a)=>(M(),we(jz,{class:He([i.value,"md:mt-0 py-2 px-4",o.list?"flex flex-column justify-center":"",...R(uU)(n.class)]),activeClass:o.activeClass,url:o.url,route:o.route},{default:ke(({class:l})=>[Me(R(MD),{class:He(l),type:o.action??"button",form:o.form,label:o.label,style:zn(o.style),icon:o.icon,"icon-pos":o.iconPosition,loading:o.loading,loadingIcon:"pi pi-sync",onClick:$t(s,["stop"])},{icon:ke(()=>[pe(o.$slots,"icon")]),default:ke(()=>[pe(o.$slots,"default")]),_:2},1032,["class","type","form","label","style","icon","icon-pos","loading"])]),_:3},8,["class","activeClass","url","route"]))}});var Vr=(t=>(t[t.ONES=0]="ONES",t[t.TWOS=1]="TWOS",t[t.THREES=2]="THREES",t[t.FOURS=3]="FOURS",t[t.FIVES=4]="FIVES",t[t.SIXES=5]="SIXES",t[t.THREE_OF_A_KIND=6]="THREE_OF_A_KIND",t[t.FOUR_OF_A_KIND=7]="FOUR_OF_A_KIND",t[t.FULL_HOUSE=8]="FULL_HOUSE",t[t.SMALL_STRAIGHT=9]="SMALL_STRAIGHT",t[t.LARGE_STRAIGHT=10]="LARGE_STRAIGHT",t[t.YAHTZEE=11]="YAHTZEE",t[t.CHANCE=12]="CHANCE",t))(Vr||{});const ea={0:{title:"Ones",section:"top"},1:{title:"Twos",section:"top",multiplier:2},2:{title:"Threes",section:"top",multiplier:3},3:{title:"Fours",section:"top",multiplier:4},4:{title:"Fives",section:"top",multiplier:5},5:{title:"Sixes",section:"top",multiplier:6},6:{title:"Three of a Kind",section:"bottom"},7:{title:"Four of a Kind",section:"bottom"},8:{title:"Full House",section:"bottom",trueValue:25},9:{title:"Small Straight",section:"bottom",trueValue:30},10:{title:"Large Straight",section:"bottom",trueValue:40},11:{title:"Yahtzee",section:"bottom",trueValue:50},12:{title:"Chance",section:"bottom"}},iv=t=>({score:[],bonus:0,finalScore:null,round:-1,reroll:-1,dices:[{id:1,value:1,selected:!1,isRolling:!1},{id:2,value:2,selected:!1,isRolling:!1},{id:3,value:3,selected:!1,isRolling:!1},{id:4,value:4,selected:!1,isRolling:!1},{id:5,value:5,selected:!1,isRolling:!1}],gameData:(t==null?void 0:t.gameData)??{highscores:{}},previousPersonalBest:(t==null?void 0:t.previousPersonalBest)??null,previousHighscorePosition:(t==null?void 0:t.previousHighscorePosition)??null}),JI=(t,e)=>{for(let n=1;n<=6;n++)if(t.dices.filter(r=>r.value===n).length>=e){let r=0;return t.dices.forEach(i=>{r+=i.value}),r}return!1},sv=(t,e)=>{for(let n=1;n<=6;n++)if(t.dices.filter(r=>r.value===n).length===e)return!0;return!1},ZI=(t,e)=>{let n=0,r=e;do{e:for(let i=r-e+1;i<=r;i++)if(t.dices.some(s=>s.value===i))n++;else break e;if(n===e)return!0;n=0,r++}while(r<=6);return!1},eS=Vm(),Fm=om("yahtzeeStore",{state:()=>iv(),getters:{hasStarted:t=>t.round>=0,hasFinished:t=>t.score.length===13,isRolling:t=>t.dices.some(e=>e.isRolling),hasOfValue:t=>e=>t.dices.filter(n=>n.value===e).length,hasThreeOfAKind:t=>JI(t,3),hasFourOfAKind:t=>JI(t,4),hasFullHouse:t=>sv(t,2)&&sv(t,3)?ea[8].trueValue??!1:!1,hasSmallStraight:t=>ZI(t,4)?ea[9].trueValue??!1:!1,hasLargeStraight:t=>ZI(t,5)?ea[10].trueValue??!1:!1,hasYahtzee:t=>sv(t,5)?ea[11].trueValue??!1:!1,diceTotal:t=>{let e=0;return t.dices.forEach(n=>{e+=n.value}),e},scoreTotalOf:t=>e=>{let n=0;return t.score.filter(r=>ea[r.row].section===e).forEach(r=>{r.value!==!1&&(n+=r.value)}),n},personalBest:t=>e=>{var n;return((n=t.gameData.highscores[e])==null?void 0:n.score)??0},highscorePosition:t=>e=>Object.keys(t.gameData.highscores).indexOf(e)+1},actions:{reset(t){this.$patch(iv(this)),this.setPreviousHighscores(t)},start(){this.round=0},async roll(){this.reroll++,this.dices.forEach(t=>{t.selected||(t.isRolling=!0,setTimeout(()=>{t.value=lp(6),t.isRolling=!1,this.reroll===2&&(t.selected=!0),this.dices.sort((e,n)=>e.value-n.value)},lp(1500,500)))}),Dl(Om)},getScore(t){return this.score.find(e=>e.row===t)},getActualValue(t,e){let n=e;if(n===!1)return!1;const r=ea[t];return r.multiplier?n*=r.multiplier:r.trueValue&&(n=r.trueValue),n},selectDice(t){this.reroll>=0&&this.reroll<2&&(t.selected=!t.selected,Dl(nu))},selectScore(t,e){if(!this.isRolling){if(this.hasYahtzee){const n=this.score.find(r=>r.row===11);n&&n.value!==!1&&(this.bonus+=100)}this.score.push({row:t,value:e}),this.round++,this.reroll=iv().reroll,this.dices.forEach(n=>{n.selected=!1}),Dl(nu)}},setPreviousHighscores(t,e=!1){t&&((!e||this.previousPersonalBest===null)&&(this.previousPersonalBest=this.personalBest(t)),(!e||this.previousHighscorePosition===null)&&(this.previousHighscorePosition=this.highscorePosition(t)))},async fetchHighscores(t){try{const e=await Br(mt(eS,yt.gameData.id,"yahtzee"));e&&(this.gameData=await Ip.mapIncoming(e),this.sortHighscores(),this.setPreviousHighscores(t,!0))}catch(e){Le.firebaseError(!0,e)}},async updateHighscores(t){try{if(this.gameData&&this.finalScore){const e=this.gameData.highscores;if(!e[t]||e[t].score<this.finalScore)return await this.fetchHighscores(t),this.setPreviousHighscores(t),this.gameData.highscores[t]={score:this.finalScore,bonus:this.bonus,date:new Date},await ci(mt(eS,yt.gameData.path,"yahtzee"),{highscores:this.gameData.highscores}),this.sortHighscores(),!0}return!1}catch(e){return Le.firebaseError(!0,e),!1}},sortHighscores(){this.gameData.highscores=Object.fromEntries(Object.entries(this.gameData.highscores).sort(([,t],[,e])=>e.score-t.score))}},persist:{enabled:!0}}),EK={width:"100",height:"100",viewBox:"0 0 100 100",xmlns:"http://www.w3.org/2000/svg"},IK=["fill"],SK=["fill"],CK=it({__name:"Dice1",props:{color:{},backgroundColor:{}},setup(t){return(e,n)=>(M(),W("svg",EK,[K("rect",{width:"100",height:"100",rx:"10",ry:"10",fill:e.backgroundColor,stroke:"#000000","stroke-width":"5"},null,8,IK),K("circle",{cx:"50",cy:"50",r:"10",fill:e.color},null,8,SK)]))}}),AK={width:"100",height:"100",viewBox:"0 0 100 100",xmlns:"http://www.w3.org/2000/svg"},OK=["fill"],PK=["fill"],kK=["fill"],RK=it({__name:"Dice2",props:{color:{},backgroundColor:{}},setup(t){return(e,n)=>(M(),W("svg",AK,[K("rect",{width:"100",height:"100",rx:"10",ry:"10",fill:e.backgroundColor,stroke:"#000000","stroke-width":"5"},null,8,OK),K("circle",{cx:"25",cy:"25",r:"10",fill:e.color},null,8,PK),K("circle",{cx:"75",cy:"75",r:"10",fill:e.color},null,8,kK)]))}}),DK={width:"100",height:"100",viewBox:"0 0 100 100",xmlns:"http://www.w3.org/2000/svg"},xK=["fill"],NK=["fill"],MK=["fill"],LK=["fill"],VK=["fill"],FK=["fill"],$K=it({__name:"Dice5",props:{color:{},backgroundColor:{}},setup(t){return(e,n)=>(M(),W("svg",DK,[K("rect",{width:"100",height:"100",rx:"10",ry:"10",fill:e.backgroundColor,stroke:"#000000","stroke-width":"5"},null,8,xK),K("circle",{cx:"25",cy:"25",r:"10",fill:e.color},null,8,NK),K("circle",{cx:"25",cy:"75",r:"10",fill:e.color},null,8,MK),K("circle",{cx:"50",cy:"50",r:"10",fill:e.color},null,8,LK),K("circle",{cx:"75",cy:"25",r:"10",fill:e.color},null,8,VK),K("circle",{cx:"75",cy:"75",r:"10",fill:e.color},null,8,FK)]))}}),UK={width:"100",height:"100",viewBox:"0 0 100 100",xmlns:"http://www.w3.org/2000/svg"},BK=["fill"],HK=["fill"],jK=["fill"],WK=["fill"],qK=["fill"],zK=it({__name:"Dice4",props:{color:{},backgroundColor:{}},setup(t){return(e,n)=>(M(),W("svg",UK,[K("rect",{width:"100",height:"100",rx:"10",ry:"10",fill:e.backgroundColor,stroke:"#000000","stroke-width":"5"},null,8,BK),K("circle",{cx:"25",cy:"25",r:"10",fill:e.color},null,8,HK),K("circle",{cx:"25",cy:"75",r:"10",fill:e.color},null,8,jK),K("circle",{cx:"75",cy:"25",r:"10",fill:e.color},null,8,WK),K("circle",{cx:"75",cy:"75",r:"10",fill:e.color},null,8,qK)]))}}),KK={width:"100",height:"100",viewBox:"0 0 100 100",xmlns:"http://www.w3.org/2000/svg"},YK=["fill"],GK=["fill"],QK=["fill"],XK=["fill"],JK=["fill"],ZK=["fill"],eY=["fill"],tY=it({__name:"Dice6",props:{color:{},backgroundColor:{}},setup(t){return(e,n)=>(M(),W("svg",KK,[K("rect",{width:"100",height:"100",rx:"10",ry:"10",fill:e.backgroundColor,stroke:"#000000","stroke-width":"5"},null,8,YK),K("circle",{cx:"25",cy:"25",r:"10",fill:e.color},null,8,GK),K("circle",{cx:"25",cy:"50",r:"10",fill:e.color},null,8,QK),K("circle",{cx:"25",cy:"75",r:"10",fill:e.color},null,8,XK),K("circle",{cx:"75",cy:"25",r:"10",fill:e.color},null,8,JK),K("circle",{cx:"75",cy:"50",r:"10",fill:e.color},null,8,ZK),K("circle",{cx:"75",cy:"75",r:"10",fill:e.color},null,8,eY)]))}}),nY={width:"100",height:"100",viewBox:"0 0 100 100",xmlns:"http://www.w3.org/2000/svg"},rY=["fill"],iY=["fill"],sY=["fill"],oY=["fill"],aY=it({__name:"Dice3",props:{color:{},backgroundColor:{}},setup(t){return(e,n)=>(M(),W("svg",nY,[K("rect",{width:"100",height:"100",rx:"10",ry:"10",fill:e.backgroundColor,stroke:"#000000","stroke-width":"5"},null,8,rY),K("circle",{cx:"25",cy:"25",r:"10",fill:e.color},null,8,iY),K("circle",{cx:"50",cy:"50",r:"10",fill:e.color},null,8,sY),K("circle",{cx:"75",cy:"75",r:"10",fill:e.color},null,8,oY)]))}}),lY=it({__name:"Dice",props:{dice:{}},setup(t){const{selectDice:e}=Fm(),n={1:CK,2:RK,3:aY,4:zK,5:$K,6:tY};return(r,i)=>(M(),W("div",{class:He(["cursor-pointer",{"animate-spin":r.dice.isRolling}])},[(M(),we(pr(n[r.dice.value]),{color:"black",backgroundColor:r.dice.selected?"#2563eb":"white",width:"40",height:"40",onClick:i[0]||(i[0]=s=>R(e)(r.dice))},null,8,["backgroundColor"]))],2))}}),uY={key:0,class:"w-full mt-5 text-sm md:text-base text-left"},cY={key:1},dY=it({__name:"Highscores",props:{gameData:{},unit:{}},emits:["fetchHighscores"],setup(t,{emit:e}){const n=t,r=e,{publicUsers:i}=Fi(gd()),{firebaseUser:s}=Fi($s()),o=se(()=>Object.entries(n.gameData.highscores??{}).sort(([,l],[,u])=>u.score-l.score)),a=l=>{var u;return((u=i.value.find(c=>c.id===l))==null?void 0:u.displayName)??"Unknown"};return mn(()=>{var l;r("fetchHighscores",(l=s.value)==null?void 0:l.uid),setInterval(()=>{var u;r("fetchHighscores",(u=s.value)==null?void 0:u.uid)},1e3*60*5)}),(l,u)=>{var c;return(c=l.gameData)!=null&&c.highscores?(M(),W("table",uY,[K("tbody",null,[o.value.length?(M(!0),W(Oe,{key:0},ft(o.value,([h,f],p)=>(M(),W("tr",null,[K("th",null,Ue(p+1),1),K("th",null,Ue(a(h)),1),K("td",null,[tt(Ue(f.score)+" ",1),l.unit?(M(),W(Oe,{key:0},[tt(Ue(l.unit),1),f.score!==1?(M(),W(Oe,{key:0},[tt("s")],64)):ne("",!0)],64)):ne("",!0),f.bonus?(M(),W(Oe,{key:1},[tt("("+Ue(f.bonus)+" bonus)",1)],64)):ne("",!0)]),K("td",null,Ue(R(lU)(f.date)),1)]))),256)):(M(),W("tr",cY,u[0]||(u[0]=[K("th",null,"There are no highscores yet.",-1)])))])])):ne("",!0)}}}),uh=(t,e)=>{const n=t.__vccOpts||t;for(const[r,i]of e)n[r]=i;return n},LD=uh(dY,[["__scopeId","data-v-dca06329"]]),hY={class:"h-12 md:h-auto"},fY={class:"w-1/2 md:w-1/3"},pY={key:0},mY={key:1,class:"!ps-1 md:ps-1"},gY={key:2},vY=it({__name:"ScoreCell",props:{row:{},hasValue:{type:[Number,Boolean]}},setup(t){const e=t,n=Fm(),{reroll:r}=Fi(n),{selectScore:i,getScore:s,getActualValue:o}=n,a=Te(!1),l=ea[e.row],u=se(()=>s(e.row)),c=se(()=>o(e.row,e.hasValue)),h=se(()=>c.value===!1?"X":c.value);return _n(()=>c.value,()=>{a.value=!0,setTimeout(()=>{a.value=!1})}),(f,p)=>(M(),W("tr",hY,[K("th",fY,Ue(R(l).title),1),u.value?(M(),W("td",pY,Ue(u.value.value===!1?"X":u.value.value),1)):R(r)>=0&&!a.value?(M(),W("td",mY,[Me(jn,{class:"!p-0 !h-10 md:!h-auto",type:c.value===!1||c.value===0?"neutral":void 0,onClick:p[0]||(p[0]=g=>R(i)(f.row,c.value))},{default:ke(()=>[tt(Ue(h.value),1)]),_:1},8,["type"])])):(M(),W("td",gY))]))}}),ei=uh(vY,[["__scopeId","data-v-5f14174f"]]),yY={key:0,class:"h-12 md:h-auto text-red-500"},_Y={class:"h-12 md:h-auto text-pink-500"},bY={key:0,class:"text-purple-500 font-bold"},wY={key:1,class:"text-red-500 font-bold"},TY={key:2,class:"text-green-500 font-bold"},EY=it({__name:"Scoreboard",setup(t){const e=Fm(),{bonus:n,hasStarted:r,hasFinished:i,hasOfValue:s,hasThreeOfAKind:o,hasFourOfAKind:a,hasFullHouse:l,hasSmallStraight:u,hasLargeStraight:c,hasYahtzee:h,diceTotal:f,scoreTotalOf:p,finalScore:g,previousPersonalBest:w,previousHighscorePosition:I,personalBest:k,highscorePosition:P}=Fi(e),{updateHighscores:T}=e,{firebaseUser:_}=Fi($s()),L=Te(),V=Te(!1),S=se(()=>s.value(1)),E=se(()=>s.value(2)),b=se(()=>s.value(3)),v=se(()=>s.value(4)),C=se(()=>s.value(5)),A=se(()=>s.value(6)),O=se(()=>p.value("top")),Y=se(()=>p.value("bottom")),U=se(()=>_.value?P.value(_.value.uid):null),j=se(()=>U.value&&I.value?I.value>U.value:!1),q=se(()=>_.value&&w.value?w.value<k.value(_.value.uid):!1);return mn(()=>{L.value=setInterval(()=>{V.value=!V.value},500)}),Fo(()=>{clearInterval(L.value)}),_n(i,(X,$)=>{var x,te;X&&X!==$&&(g.value=O.value+(O.value>=63?35:0)+Y.value+n.value,(x=_.value)!=null&&x.uid&&T((te=_.value)==null?void 0:te.uid),new Audio("/sounds/applause-and-cheer.mp3").play())}),(X,$)=>(M(),W("table",{class:He(["w-full mt-5 text-sm md:text-base text-left",R(i)?"text-neutral-500":"text-white",R(r)?void 0:V.value?"even":"odd"])},[K("tbody",null,[Me(ei,{row:R(Vr).ONES,"has-value":S.value},null,8,["row","has-value"]),Me(ei,{row:R(Vr).TWOS,"has-value":E.value},null,8,["row","has-value"]),Me(ei,{row:R(Vr).THREES,"has-value":b.value},null,8,["row","has-value"]),Me(ei,{row:R(Vr).FOURS,"has-value":v.value},null,8,["row","has-value"]),Me(ei,{row:R(Vr).FIVES,"has-value":C.value},null,8,["row","has-value"]),Me(ei,{row:R(Vr).SIXES,"has-value":A.value},null,8,["row","has-value"]),K("tr",{class:He(["h-12 md:h-auto",R(i)?"text-white":"text-neutral-500"])},[$[0]||($[0]=K("th",null,"TOP",-1)),K("td",null,Ue(R(r)?O.value:""),1)],2),K("tr",{class:He(["h-12 md:h-auto",R(i)?O.value>=63?"text-yellow-500":"text-white":"text-neutral-500"])},[$[1]||($[1]=K("th",null,"BONUS",-1)),K("td",null,Ue(O.value>=63?35:R(i)?"X":""),1)],2),Me(ei,{row:R(Vr).THREE_OF_A_KIND,"has-value":R(o)},null,8,["row","has-value"]),Me(ei,{row:R(Vr).FOUR_OF_A_KIND,"has-value":R(a)},null,8,["row","has-value"]),Me(ei,{row:R(Vr).FULL_HOUSE,"has-value":R(l)},null,8,["row","has-value"]),Me(ei,{row:R(Vr).SMALL_STRAIGHT,"has-value":R(u)},null,8,["row","has-value"]),Me(ei,{row:R(Vr).LARGE_STRAIGHT,"has-value":R(c)},null,8,["row","has-value"]),Me(ei,{row:R(Vr).YAHTZEE,"has-value":R(h)},null,8,["row","has-value"]),Me(ei,{row:R(Vr).CHANCE,"has-value":R(f)},null,8,["row","has-value"]),K("tr",{class:He(["h-12 md:h-auto",R(i)?"text-white":"text-neutral-500"])},[$[2]||($[2]=K("th",null,"BOTTOM",-1)),K("td",null,Ue(R(r)?Y.value:""),1)],2),R(i)&&R(g)?(M(),W(Oe,{key:0},[R(n)?(M(),W("tr",yY,[$[3]||($[3]=K("th",null,"YAHTZEE BONUS",-1)),K("td",null,Ue(R(n)),1)])):ne("",!0),K("tr",_Y,[$[4]||($[4]=K("th",null,"TOTAL",-1)),K("td",null,[tt(Ue(R(g))+" ",1),j.value&&U.value===1?(M(),W("span",bY," HIGHSCORE! ")):j.value?(M(),W("span",wY," LEADERBOARD IMPROVEMENT! ")):q.value?(M(),W("span",TY," PERSONAL BEST! ")):ne("",!0)])])],64)):ne("",!0)])],2))}}),IY=uh(EY,[["__scopeId","data-v-9ebebb7c"]]),SY={class:"flex flex-wrap justify-center gap-3"},CY={key:3,class:"w-full flex flex-col md:flex-row gap-3 justify-center"},AY={class:"w-full md:w-1/2 flex justify-center gap-3"},OY={class:"w-full md:w-1/2 flex justify-center gap-3"},PY={class:"mt-5 flex flex-col md:flex-row gap-3 justify-center"},kY={key:2,class:"flex flex-wrap gap-3 mt-3 justify-center"},RY=it({__name:"Yahtzee",setup(t){const e=AO(),n=Fm(),{reroll:r,dices:i,hasStarted:s,hasFinished:o,gameData:a,personalBest:l,finalScore:u}=Fi(n),{start:c,reset:h,roll:f,fetchHighscores:p,updateHighscores:g}=n,{firebaseUser:w}=Fi($s()),I=Te(!1),k=()=>{I.value=!1,c()},P=()=>{var T;I.value=!1,h((T=w.value)==null?void 0:T.uid)};return(T,_)=>(M(),we(Td,{class:"!bg-cyan-800 !bg-opacity-50 my-5 !rounded-secondary",title:"Yahtzee",description:"Play solo."},{default:ke(()=>[K("div",SY,[R(s)?ne("",!0):(M(),we(jn,{key:0,class:"w-full md:w-1/2",onClick:k},{default:ke(()=>_[6]||(_[6]=[tt(" Start ")])),_:1})),!R(s)&&!I.value?(M(),we(jn,{key:1,class:"w-full md:w-1/2",type:"neutral",onClick:_[0]||(_[0]=L=>I.value=!0)},{default:ke(()=>_[7]||(_[7]=[tt(" View Highscores ")])),_:1})):R(s)?R(o)?ne("",!0):(M(),W("div",CY,[K("div",AY,[!R(o)&&R(r)<2?(M(),we(jn,{key:0,class:"w-full",type:"tertiary",disabled:R(i).every(L=>L.selected),onClick:R(f)},{default:ke(()=>[tt(Ue(R(r)>=0?"Reroll":"Roll"),1)]),_:1},8,["disabled","onClick"])):ne("",!0)]),K("div",OY,[(M(!0),W(Oe,null,ft(R(i),L=>(M(),we(lY,{dice:L},null,8,["dice"]))),256))])])):(M(),we(jn,{key:2,class:"w-full md:w-1/2",type:"neutral",onClick:_[1]||(_[1]=L=>I.value=!1)},{default:ke(()=>_[8]||(_[8]=[tt(" Go Back ")])),_:1}))]),I.value?(M(),we(LD,{key:0,"game-data":R(a),onFetchHighscores:R(p)},null,8,["game-data","onFetchHighscores"])):(M(),we(IY,{key:1})),K("div",PY,[R(s)&&!R(o)?(M(),we(jn,{key:0,class:"w-full md:w-1/2",type:"neutral",onClick:P},{default:ke(()=>_[9]||(_[9]=[tt(" Restart ")])),_:1})):ne("",!0),R(o)?(M(),we(jn,{key:1,class:"w-full md:w-1/2",type:"secondary",onClick:P},{default:ke(()=>_[10]||(_[10]=[tt(" Play Again ")])),_:1})):ne("",!0),R(o)&&!I.value?(M(),we(jn,{key:2,class:"w-full md:w-1/2",type:"neutral",onClick:_[2]||(_[2]=L=>I.value=!0)},{default:ke(()=>_[11]||(_[11]=[tt(" View Highscores ")])),_:1})):R(o)?(M(),we(jn,{key:3,class:"w-full md:w-1/2",type:"neutral",onClick:_[3]||(_[3]=L=>I.value=!1)},{default:ke(()=>_[12]||(_[12]=[tt(" View Your Score ")])),_:1})):ne("",!0)]),R(o)?(M(),W("div",kY,[R(w)?R(u)&&R(l)(R(w).uid)<R(u)?(M(),we(jn,{key:1,class:"w-full md:w-1/2",type:"primary",onClick:_[5]||(_[5]=L=>R(g)(R(w).uid))},{default:ke(()=>_[15]||(_[15]=[tt(" Add To Leaderboard ")])),_:1})):ne("",!0):(M(),we(Td,{key:0,class:"w-full md:w-1/2 bg-primary-500 bg-opacity-50 !rounded-primary"},{default:ke(()=>[_[13]||(_[13]=tt(" Please ")),K("a",{class:"cursor-pointer",onClick:_[4]||(_[4]=L=>R(e).push({name:R(Cn).LOGIN,params:{redirect:JSON.stringify({name:R(dd).GAMES_YAHTZEE})}}))}," Login "),_[14]||(_[14]=tt(" to add your score to the leaderboard. "))]),_:1}))])):ne("",!0)]),_:1}))}});var an=(t=>(t[t.HAS_NOT_STARTED=0]="HAS_NOT_STARTED",t[t.HAS_STARTED=1]="HAS_STARTED",t[t.HAS_THROWN_DICES=2]="HAS_THROWN_DICES",t[t.HAS_CHOSEN_DICES=3]="HAS_CHOSEN_DICES",t[t.HAS_CHOSEN_TILE=4]="HAS_CHOSEN_TILE",t[t.HAS_LOST=5]="HAS_LOST",t[t.HAS_FINISHED=6]="HAS_FINISHED",t))(an||{}),Zy=(t=>(t[t.NONE=0]="NONE",t[t.HAS_LOST_TILE=1]="HAS_LOST_TILE",t[t.HAS_LOST_NOTHING=2]="HAS_LOST_NOTHING",t))(Zy||{}),Ef=(t=>(t[t.NONE=0]="NONE",t[t.WINNER_HIGHEST_SCORE=1]="WINNER_HIGHEST_SCORE",t[t.WINNER_HIGHEST_TILE=2]="WINNER_HIGHEST_TILE",t[t.LOSER=3]="LOSER",t))(Ef||{}),Mt=(t=>(t[t.PLAYER=0]="PLAYER",t[t.ROBOT=1]="ROBOT",t))(Mt||{});const tS=t=>({gameStatus:0,gameStatusActivator:0,finishStatus:0,loseStatus:0,activePlayer:0,dices:[...xY.map(e=>({...e}))],tiles:[...NY],score:{0:[],1:[]},gameData:(t==null?void 0:t.gameData)??{highscores:{}},previousPersonalBest:(t==null?void 0:t.previousPersonalBest)??null,previousHighscorePosition:(t==null?void 0:t.previousHighscorePosition)??null}),DY=t=>{for(let e=1;e<=6;e++)if(t.every(n=>n.value===e))return!0;return!1},nS=Vm(),Rb=om("rainwormsStore",{state:()=>tS(),getters:{isRolling:t=>t.dices.some(e=>e.isRolling),hasWorm:t=>t.dices.filter(e=>e.selected).some(e=>e.value===6),hasAlreadyChosen:t=>e=>t.dices.some(n=>n.value===e&&n.selected),canSelectAnyTile:t=>e=>t.tiles.some(n=>n.displayValue<=e),canPlay:t=>e=>t.activePlayer===(e??0),visibleTile:t=>e=>{const n=t.score[e??0];return n.length?n[n.length-1]:null},selectedDiceTotal:t=>{let e=0;return t.dices.filter(n=>n.selected).forEach(n=>{e+=n.value===6?5:n.value}),e},totalScore:t=>e=>{let n=0;return t.score[e].forEach(r=>{n+=r.value}),n},personalBest:t=>e=>{var n;return((n=t.gameData.highscores[e])==null?void 0:n.score)??0},highscorePosition:t=>e=>Object.keys(t.gameData.highscores).indexOf(e)+1},actions:{reset(t){this.$patch(tS(this)),this.setPreviousHighscores(t)},start(){this.gameStatus=1},async roll(t){this.canPlay(t)&&((this.gameStatus===1||this.gameStatus===4||this.gameStatus===5)&&this.dices.forEach(e=>{e.selected=!1}),this.gameStatus=2,this.dices.forEach(e=>{e.selected||(e.isRolling=!0,setTimeout(()=>{e.value=lp(6),e.isRolling=!1,this.dices.sort((n,r)=>n.value-r.value),!this.isRolling&&this.gameStatus!==5&&this.hasLostRound()&&this.loseTurn(t)},lp(1500,500)))}),Dl(Om))},async hasFinishedRolling(){for(;this.isRolling;)await new Promise(t=>setTimeout(t,500));return!0},hasLostRound(){const t=this.dices.filter(e=>!e.selected&&!this.hasAlreadyChosen(e.value));return!t.length||DY(t)&&this.dices.every(e=>e.value!==6)},loseTurn(t){this.gameStatus=5,this.gameStatusActivator=t??0,this.score[this.gameStatusActivator].length?this.loseStatus=1:this.loseStatus=2,this.popLastTile(),this.tiles.length===0?this.gameStatus=6:this.passTurn()},popLastTile(){const t=this.score[this.activePlayer];if(t.length){const e=t.splice(t.length-1,1)[0];this.tiles.push(e),this.tiles.sort((n,r)=>n.displayValue-r.displayValue)}this.tiles.splice(this.tiles.length-1,1)},selectDice(t,e){this.canPlay(e)&&!this.isRolling&&this.gameStatus===2&&!t.selected&&!this.hasAlreadyChosen(t.value)&&(this.gameStatus=3,this.dices.filter(n=>n.value===t.value).forEach(n=>{n.selected=!0}),Dl(nu))},selectTile(t,e,n){if(this.canPlay(n)&&(this.gameStatus===2||this.gameStatus===3)){if(this.gameStatus=4,this.gameStatusActivator=n??0,e){const r=this.score[this.activePlayer===0?1:0];r.splice(r.length-1,1)}else this.tiles=this.tiles.filter(r=>r.displayValue!==t.displayValue);this.score[this.activePlayer].push(t),Dl(nu),this.tiles.length===0?this.gameStatus=6:this.passTurn()}},passTurn(t){(this.activePlayer===1||this.gameStatus!==5||t)&&(this.activePlayer===0?setTimeout(()=>{this.activePlayer=1,setTimeout(()=>{this.gameStatus=1,this.gameStatusActivator=0},1e3)},t?0:1e3*2):setTimeout(()=>{this.activePlayer=0},t?0:1e3*2))},async playRobot(){switch(this.gameStatus){case 1:{this.roll(1);break}case 2:{await this.hasFinishedRolling(),setTimeout(()=>{const t=this.dices.filter(n=>!n.selected),e=this.visibleTile(0);if(e&&this.selectedDiceTotal<e.displayValue)for(let n=6;n>=1;n--){const r=t.filter(i=>i.value===n&&!this.hasAlreadyChosen(n));if(r.length){const i=r.length*(n===6?5:n);if(this.selectedDiceTotal+i===e.displayValue){this.selectDice(r[0],1);return}}}for(let n=6;n>=1;n--){const r=t.find(i=>i.value===n);if(r&&!this.hasAlreadyChosen(n)){this.selectDice(r,1);return}}},1e3);break}case 3:{setTimeout(()=>{const t=this.visibleTile(0);if(this.tiles.every(e=>e.displayValue>this.selectedDiceTotal)&&t&&t.displayValue>this.selectedDiceTotal)console.log("my score is too low"),this.roll(1);else if(t&&t.displayValue===this.selectedDiceTotal)console.log("i can steal"),this.selectTile(t,!0,1);else if(this.selectedDiceTotal>=30){console.log("i am rich");for(let e=this.selectedDiceTotal;e>=21;e--){const n=this.tiles.find(r=>r.displayValue===e);if(n){this.selectTile(n,!1,1);return}}this.roll(1)}else if(new Set(this.dices.filter(e=>e.selected).map(e=>e.value)).size<=3)if(this.dices.filter(e=>!e.selected).length<=2){console.log("there aren't that much dices left");const e=this.tiles.filter(n=>n.displayValue>=this.selectedDiceTotal-5&&n.displayValue<=this.selectedDiceTotal).sort((n,r)=>r.displayValue-n.displayValue);e.length?(console.log("i choose the highest score within 5 tiles"),this.selectTile(e[0],!1,1)):(console.log("i choose to roll again"),this.roll(1))}else console.log("i have nothing to worry about"),this.roll(1);else if(!this.hasWorm)console.log("i am worrying and have no worm yet"),this.roll(1);else{console.log("if i can choose, i choose");const e=this.tiles.filter(n=>n.displayValue<=this.selectedDiceTotal).sort((n,r)=>r.displayValue-n.displayValue);e.length?(console.log("i choose the highest score"),this.selectTile(e[0],!1,1)):(console.log("i choose to roll again"),this.roll(1))}},1e3);break}default:console.log("DEFAULT",this.gameStatus)}},checkFinishStatus(t){const e=this.totalScore(0),n=this.totalScore(1);e>n?this.finishStatus=1:e===n&&Math.max(...this.score[0].map(r=>r.displayValue))>Math.max(...this.score[1].map(r=>r.displayValue))?this.finishStatus=2:this.finishStatus=3,(this.finishStatus===1||this.finishStatus===2)&&(t&&this.updateHighscores(t),new Audio("/sounds/applause-and-cheer.mp3").play())},setPreviousHighscores(t,e=!1){t&&((!e||this.previousPersonalBest===null)&&(this.previousPersonalBest=this.personalBest(t)),(!e||this.previousHighscorePosition===null)&&(this.previousHighscorePosition=this.highscorePosition(t)))},async fetchHighscores(t){try{const e=await Br(mt(nS,yt.gameData.id,"rainworms"));e&&(this.gameData=await Ip.mapIncoming(e),this.sortHighscores(),this.setPreviousHighscores(t,!0))}catch(e){Le.firebaseError(!0,e)}},async updateHighscores(t){try{if(this.gameData&&this.totalScore(0)){const e=this.gameData.highscores,n=this.totalScore(0);if(!e[t]||e[t].score<n)return await this.fetchHighscores(t),this.setPreviousHighscores(t),this.gameData.highscores[t]={score:n,bonus:0,date:new Date},await ci(mt(nS,yt.gameData.path,"rainworms"),{highscores:this.gameData.highscores}),this.sortHighscores(),!0}return!1}catch(e){return Le.firebaseError(!0,e),!1}},sortHighscores(){this.gameData.highscores=Object.fromEntries(Object.entries(this.gameData.highscores).sort(([,t],[,e])=>e.score-t.score))}},persist:{enabled:!0}}),xY=[{id:1,value:6,selected:!1,isRolling:!1},{id:2,value:6,selected:!1,isRolling:!1},{id:3,value:6,selected:!1,isRolling:!1},{id:4,value:6,selected:!1,isRolling:!1},{id:5,value:6,selected:!1,isRolling:!1},{id:6,value:6,selected:!1,isRolling:!1},{id:7,value:6,selected:!1,isRolling:!1},{id:8,value:6,selected:!1,isRolling:!1}],NY=[{displayValue:21,value:1},{displayValue:22,value:1},{displayValue:23,value:1},{displayValue:24,value:1},{displayValue:25,value:2},{displayValue:26,value:2},{displayValue:27,value:2},{displayValue:28,value:2},{displayValue:29,value:3},{displayValue:30,value:3},{displayValue:31,value:3},{displayValue:32,value:3},{displayValue:33,value:4},{displayValue:34,value:4},{displayValue:35,value:4},{displayValue:36,value:4}],MY={width:"100",height:"100",viewBox:"0 0 100 100",xmlns:"http://www.w3.org/2000/svg"},LY=["fill"],VY=["fill"],FY=it({__name:"Dice1",props:{color:{},backgroundColor:{}},setup(t){return(e,n)=>(M(),W("svg",MY,[K("rect",{width:"100",height:"100",rx:"10",ry:"10",fill:e.backgroundColor,stroke:"#000000","stroke-width":"5"},null,8,LY),K("circle",{cx:"50",cy:"50",r:"10",fill:e.color},null,8,VY)]))}}),$Y={width:"100",height:"100",viewBox:"0 0 100 100",xmlns:"http://www.w3.org/2000/svg"},UY=["fill"],BY=["fill"],HY=["fill"],jY=it({__name:"Dice2",props:{color:{},backgroundColor:{}},setup(t){return(e,n)=>(M(),W("svg",$Y,[K("rect",{width:"100",height:"100",rx:"10",ry:"10",fill:e.backgroundColor,stroke:"#000000","stroke-width":"5"},null,8,UY),K("circle",{cx:"25",cy:"25",r:"10",fill:e.color},null,8,BY),K("circle",{cx:"75",cy:"75",r:"10",fill:e.color},null,8,HY)]))}}),WY={width:"100",height:"100",viewBox:"0 0 100 100",xmlns:"http://www.w3.org/2000/svg"},qY=["fill"],zY=["fill"],KY=["fill"],YY=["fill"],GY=["fill"],QY=["fill"],XY=it({__name:"Dice5",props:{color:{},backgroundColor:{}},setup(t){return(e,n)=>(M(),W("svg",WY,[K("rect",{width:"100",height:"100",rx:"10",ry:"10",fill:e.backgroundColor,stroke:"#000000","stroke-width":"5"},null,8,qY),K("circle",{cx:"25",cy:"25",r:"10",fill:e.color},null,8,zY),K("circle",{cx:"25",cy:"75",r:"10",fill:e.color},null,8,KY),K("circle",{cx:"50",cy:"50",r:"10",fill:e.color},null,8,YY),K("circle",{cx:"75",cy:"25",r:"10",fill:e.color},null,8,GY),K("circle",{cx:"75",cy:"75",r:"10",fill:e.color},null,8,QY)]))}}),JY={width:"100",height:"100",viewBox:"0 0 100 100",xmlns:"http://www.w3.org/2000/svg"},ZY=["fill"],eG=["fill"],tG=["fill"],nG=["fill"],rG=["fill"],iG=it({__name:"Dice4",props:{color:{},backgroundColor:{}},setup(t){return(e,n)=>(M(),W("svg",JY,[K("rect",{width:"100",height:"100",rx:"10",ry:"10",fill:e.backgroundColor,stroke:"#000000","stroke-width":"5"},null,8,ZY),K("circle",{cx:"25",cy:"25",r:"10",fill:e.color},null,8,eG),K("circle",{cx:"25",cy:"75",r:"10",fill:e.color},null,8,tG),K("circle",{cx:"75",cy:"25",r:"10",fill:e.color},null,8,nG),K("circle",{cx:"75",cy:"75",r:"10",fill:e.color},null,8,rG)]))}}),sG={height:"800px",width:"800px",version:"1.1",id:"Layer_1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512.002 512.002","xml:space":"preserve"},oG=["fill"],aG=it({__name:"WormDice",props:{color:{},backgroundColor:{}},setup(t){return(e,n)=>(M(),W("svg",sG,[K("rect",{width:"800",height:"800",rx:"10",ry:"10",fill:e.backgroundColor,stroke:"#000000","stroke-width":"5"},null,8,oG),n[0]||(n[0]=HA(`<path style="fill:#fbb0ad;" d="M458.048,291.389c23.391,0,42.35,18.959,42.35,42.35c0,23.391-18.959,42.35-42.35,42.35h-25.131\r
	v-84.699H458.048L458.048,291.389z"></path><path style="fill:#fbcdcb;" d="M432.917,291.389v84.699h-15.814c-28.554,0-54.811-10.025-75.44-26.732l0.035-0.035l55.31-64.209\r
	c5.708,3.956,12.635,6.277,20.096,6.277H432.917L432.917,291.389z"></path><path style="fill:#fbb0ad;" d="M397.007,285.112l-55.31,64.209l-0.035,0.035c-22.08-17.868-37.72-43.394-42.825-72.505l0.081-0.012\r
	l81.706-37.001c0.719,5.291,1.091,10.686,1.091,16.162C381.714,268.056,387.771,278.719,397.007,285.112z"></path><path style="fill:#fbcdcb;" d="M380.624,239.839l-81.706,37.001l-0.081,0.012c-1.195-6.776-1.822-13.737-1.822-20.85\r
	c0-9.468-3.736-18.088-9.816-24.447l0.035-0.035l54.428-64.963C362.442,185.156,376.714,210.879,380.624,239.839z"></path><path style="fill:#fbb0ad;" d="M287.199,231.554c-6.451-6.741-15.524-10.941-25.572-10.941h-2.75v-84.699h2.75\r
	c30.712,0,58.779,11.591,80.035,30.643l-54.428,64.963L287.199,231.554z"></path><path style="fill:#fbcdcb;" d="M258.877,135.914v84.699h-2.854c-10.025,0-19.086,4.189-25.526,10.895l-54.451-64.998\r
	c21.244-19.017,49.288-30.596,79.977-30.596C256.023,135.914,258.877,135.914,258.877,135.914z"></path><path style="fill:#fbb0ad;" d="M176.046,166.51l54.451,64.998c-6.103,6.358-9.862,15.002-9.862,24.493\r
	c0,7.101-0.615,14.074-1.81,20.838l-81.798-37.036C140.949,210.832,155.243,185.098,176.046,166.51z"></path><path style="fill:#fbcdcb;" d="M137.027,239.804l81.798,37.036c-5.105,29.088-20.722,54.602-42.779,72.47l-55.333-64.232\r
	c9.189-6.405,15.223-17.044,15.223-29.076C135.936,250.513,136.307,245.106,137.027,239.804z"></path><path style="fill:#fbb0ad;" d="M120.714,285.077l55.333,64.232c-20.641,16.743-46.909,26.779-75.498,26.779H53.952\r
	c-23.391,0-42.35-18.959-42.35-42.35s18.959-42.35,42.35-42.35h46.596C108.032,291.389,114.993,289.057,120.714,285.077z"></path><path d="M458.048,387.691h-40.946c-30.012,0-59.397-10.412-82.742-29.32c-24.803-20.071-41.478-48.312-46.951-79.516\r
	c-1.325-7.506-1.997-15.198-1.997-22.854c0-6.144-2.344-11.977-6.6-16.428c-4.539-4.743-10.644-7.357-17.187-7.357h-5.604\r
	c-6.526,0-12.619,2.602-17.157,7.328c-4.274,4.452-6.629,10.297-6.629,16.457c0,7.706-0.668,15.397-1.986,22.857\r
	c-5.471,31.17-22.128,59.397-46.901,79.466c-23.346,18.934-52.754,29.366-82.802,29.366H53.952C24.203,387.691,0,363.489,0,333.739\r
	s24.203-53.952,53.952-53.952h46.596c4.877,0,9.558-1.464,13.538-4.233c6.414-4.47,10.247-11.781,10.247-19.553\r
	c0-5.934,0.403-11.909,1.196-17.758c4.186-30.924,19.381-59.474,42.786-80.385c24.165-21.631,55.315-33.547,87.708-33.547h5.604\r
	c32.426,0,63.6,11.934,87.778,33.606c23.371,20.916,38.544,49.462,42.716,80.37c0.792,5.823,1.194,11.787,1.194,17.715\r
	c0,7.793,3.847,15.109,10.294,19.57c3.981,2.759,8.643,4.215,13.492,4.215h40.946c6.407,0,11.603,5.196,11.603,11.603\r
	c0,6.407-5.196,11.603-11.603,11.603h-40.946c-9.595,0-18.83-2.884-26.705-8.343c-12.7-8.79-20.286-23.24-20.286-38.647\r
	c0-4.885-0.331-9.796-0.985-14.598c-3.436-25.451-15.937-48.957-35.202-66.201c-19.922-17.855-45.596-27.685-72.298-27.685h-5.604\r
	c-26.672,0-52.328,9.816-72.239,27.639c-19.295,17.239-31.814,40.748-35.26,66.206c-0.654,4.821-0.986,9.745-0.986,14.64\r
	c0,15.355-7.549,29.784-20.191,38.595c-7.896,5.494-17.16,8.396-26.8,8.396H53.952c-16.954,0-30.747,13.793-30.747,30.747\r
	s13.793,30.747,30.747,30.747h46.596c25.101,0,48.681-8.364,68.19-24.188c20.426-16.549,34.156-39.796,38.66-65.464\r
	c1.086-6.146,1.636-12.477,1.636-18.832c0-12.178,4.65-23.731,13.095-32.528c8.956-9.327,20.994-14.463,33.896-14.463h5.604\r
	c12.935,0,24.993,5.157,33.955,14.522c8.407,8.792,13.036,20.323,13.036,32.469c0,6.308,0.555,12.645,1.645,18.833\r
	c4.506,25.695,18.25,48.953,38.699,65.501c19.228,15.574,43.427,24.148,68.141,24.148h40.946c16.954,0,30.747-13.793,30.747-30.747\r
	c0-6.407,5.196-11.603,11.603-11.603c6.407,0,11.603,5.196,11.603,11.603C512,363.489,487.797,387.691,458.048,387.691z"></path><path d="M489.883,317.405c-3.22,0-6.423-1.332-8.717-3.94c-0.543-0.616-1.116-1.219-1.706-1.793\r
	c-4.595-4.467-4.7-11.813-0.233-16.407c4.466-4.595,11.813-4.699,16.407-0.233c1.022,0.992,2.015,2.039,2.956,3.107\r
	c4.231,4.812,3.762,12.143-1.049,16.375C495.337,316.452,492.604,317.405,489.883,317.405z"></path><path d="M70.521,351.143c-6.408,0-11.603-5.196-11.603-11.603v-10.825c0-6.407,5.194-11.603,11.603-11.603\r
	c6.408,0,11.603,5.196,11.603,11.603v10.825C82.123,345.947,76.929,351.143,70.521,351.143z"></path><path d="M176.046,360.918c-3.651,0-6.909-1.685-9.036-4.321l-55.023-63.874c-4.002-4.557-3.834-11.507,0.516-15.857\r
	c4.531-4.53,11.871-4.538,16.404-0.006c0.203,0.204,0.41,0.426,0.598,0.644l55.333,64.232c1.813,2.105,2.811,4.793,2.811,7.572\r
	C187.649,355.716,182.455,360.918,176.046,360.918z"></path><path d="M218.818,288.446c-1.6,0-3.226-0.333-4.779-1.037l-81.798-37.036c-5.837-2.642-8.427-9.518-5.784-15.355\r
	c2.644-5.836,9.518-8.428,15.355-5.783l81.798,37.036c5.837,2.642,8.427,9.518,5.784,15.355\r
	C227.455,285.909,223.234,288.446,218.818,288.446z"></path><path d="M258.879,232.216c-6.408,0-11.603-5.196-11.603-11.603v-84.699c0-6.407,5.194-11.603,11.603-11.603\r
	c6.407,0,11.603,5.196,11.603,11.603v84.699C270.481,227.02,265.286,232.216,258.879,232.216z"></path><path d="M230.503,243.119c-3.152,0-6.291-1.277-8.58-3.795l-0.012-0.013c-0.106-0.116-0.209-0.233-0.309-0.354l-54.451-64.998\r
	c-4.115-4.911-3.469-12.23,1.443-16.346c4.911-4.114,12.229-3.469,16.345,1.443l54.416,64.955c4.019,4.747,3.59,11.868-1.049,16.084\r
	C236.084,242.121,233.288,243.119,230.503,243.119z"></path><path d="M341.692,360.924c-2.681,0-5.375-0.925-7.566-2.812c-4.856-4.182-5.4-11.507-1.218-16.363l55.239-64.129\r
	c3.9-4.62,10.779-5.516,15.73-1.895c5.171,3.784,6.313,11.02,2.529,16.191c-0.181,0.248-0.407,0.535-0.607,0.767l-55.31,64.209\r
	C348.193,359.557,344.953,360.924,341.692,360.924z"></path><path d="M298.925,288.446c-4.416,0-8.636-2.535-10.576-6.82c-2.643-5.837-0.055-12.712,5.783-15.355l81.706-37.001\r
	c0.224-0.102,0.453-0.196,0.683-0.283c5.996-2.265,12.736,0.738,15.002,6.732c2.224,5.884-0.601,12.426-6.374,14.81l-81.443,36.881\r
	C302.152,288.113,300.525,288.444,298.925,288.446z"></path><path d="M287.228,243.122c-2.63,0-5.273-0.889-7.445-2.709c-4.911-4.115-5.558-11.433-1.442-16.345l54.384-64.911\r
	c3.934-4.761,10.98-5.64,15.952-1.88c5.111,3.865,6.14,11.119,2.275,16.23c-0.117,0.154-0.272,0.352-0.397,0.5l-54.428,64.963\r
	C293.834,241.71,290.542,243.122,287.228,243.122z"></path><path d="M432.918,387.691c-6.407,0-11.603-5.196-11.603-11.603v-84.699c0-6.407,5.196-11.603,11.603-11.603\r
	c6.407,0,11.603,5.196,11.603,11.603v84.699C444.52,382.495,439.325,387.691,432.918,387.691z"></path>`,20))]))}}),lG={width:"100",height:"100",viewBox:"0 0 100 100",xmlns:"http://www.w3.org/2000/svg"},uG=["fill"],cG=["fill"],dG=["fill"],hG=["fill"],fG=it({__name:"Dice3",props:{color:{},backgroundColor:{}},setup(t){return(e,n)=>(M(),W("svg",lG,[K("rect",{width:"100",height:"100",rx:"10",ry:"10",fill:e.backgroundColor,stroke:"#000000","stroke-width":"5"},null,8,uG),K("circle",{cx:"25",cy:"25",r:"10",fill:e.color},null,8,cG),K("circle",{cx:"50",cy:"50",r:"10",fill:e.color},null,8,dG),K("circle",{cx:"75",cy:"75",r:"10",fill:e.color},null,8,hG)]))}}),pG=it({__name:"Dice",props:{dice:{}},setup(t){const e=t,n=Rb(),{gameStatus:r,hasAlreadyChosen:i,canPlay:s}=Fi(n),{selectDice:o}=n,a=se(()=>i.value(e.dice.value)),l={1:FY,2:jY,3:fG,4:iG,5:XY,6:aG};return(u,c)=>(M(),W("div",{class:He(["cursor-pointer",{"animate-spin":u.dice.isRolling}])},[(M(),we(pr(l[u.dice.value]),{color:"black",backgroundColor:u.dice.selected?R(s)()?"#2563eb":"#e11d48":a.value?"gray":R(r)===R(an).HAS_LOST?"red":"white",width:"40",height:"40",onClick:c[0]||(c[0]=h=>R(o)(u.dice))},null,8,["backgroundColor"]))],2))}}),ov=it({__name:"Tile",props:{tile:{},selectable:{type:Boolean},stealable:{type:Boolean},owner:{}},setup(t){const e=t,n=Rb(),{selectedDiceTotal:r,canPlay:i,hasWorm:s,gameStatus:o,activePlayer:a}=Fi(n),{selectTile:l}=n,u=se(()=>(e.selectable||e.stealable)&&e.owner!==a.value&&(o.value===an.HAS_THROWN_DICES||o.value===an.HAS_CHOSEN_DICES)&&s.value&&(e.stealable?r.value===e.tile.displayValue:r.value>=e.tile.displayValue)),c=se(()=>u.value?i.value()?"bg-primary-600 cursor-pointer":"bg-secondary-600 cursor-pointer":i.value()?"bg-primary-400":"bg-secondary-400"),h=()=>{i.value()&&u.value&&l(e.tile,e.stealable)};return(f,p)=>(M(),we(Td,{class:He(["!p-3 !rounded-primary flex justify-center w-[60px] h-[100px] border border-white",c.value]),title:`${f.tile.displayValue}`,"title-props":{class:"text-xl"},"sub-title":`${f.tile.value}`,clickable:u.value,onClick:h},null,8,["class","title","sub-title","clickable"]))}}),mG={},gG={height:"100",width:"100",version:"1.1",id:"Layer_1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512.002 512.002","xml:space":"preserve"};function vG(t,e){return M(),W("svg",gG,e[0]||(e[0]=[HA(`<path style="fill:#fbb0ad;" d="M458.048,291.389c23.391,0,42.35,18.959,42.35,42.35c0,23.391-18.959,42.35-42.35,42.35h-25.131\r
	v-84.699H458.048L458.048,291.389z"></path><path style="fill:#fbcdcb;" d="M432.917,291.389v84.699h-15.814c-28.554,0-54.811-10.025-75.44-26.732l0.035-0.035l55.31-64.209\r
	c5.708,3.956,12.635,6.277,20.096,6.277H432.917L432.917,291.389z"></path><path style="fill:#fbb0ad;" d="M397.007,285.112l-55.31,64.209l-0.035,0.035c-22.08-17.868-37.72-43.394-42.825-72.505l0.081-0.012\r
	l81.706-37.001c0.719,5.291,1.091,10.686,1.091,16.162C381.714,268.056,387.771,278.719,397.007,285.112z"></path><path style="fill:#fbcdcb;" d="M380.624,239.839l-81.706,37.001l-0.081,0.012c-1.195-6.776-1.822-13.737-1.822-20.85\r
	c0-9.468-3.736-18.088-9.816-24.447l0.035-0.035l54.428-64.963C362.442,185.156,376.714,210.879,380.624,239.839z"></path><path style="fill:#fbb0ad;" d="M287.199,231.554c-6.451-6.741-15.524-10.941-25.572-10.941h-2.75v-84.699h2.75\r
	c30.712,0,58.779,11.591,80.035,30.643l-54.428,64.963L287.199,231.554z"></path><path style="fill:#fbcdcb;" d="M258.877,135.914v84.699h-2.854c-10.025,0-19.086,4.189-25.526,10.895l-54.451-64.998\r
	c21.244-19.017,49.288-30.596,79.977-30.596C256.023,135.914,258.877,135.914,258.877,135.914z"></path><path style="fill:#fbb0ad;" d="M176.046,166.51l54.451,64.998c-6.103,6.358-9.862,15.002-9.862,24.493\r
	c0,7.101-0.615,14.074-1.81,20.838l-81.798-37.036C140.949,210.832,155.243,185.098,176.046,166.51z"></path><path style="fill:#fbcdcb;" d="M137.027,239.804l81.798,37.036c-5.105,29.088-20.722,54.602-42.779,72.47l-55.333-64.232\r
	c9.189-6.405,15.223-17.044,15.223-29.076C135.936,250.513,136.307,245.106,137.027,239.804z"></path><path style="fill:#fbb0ad;" d="M120.714,285.077l55.333,64.232c-20.641,16.743-46.909,26.779-75.498,26.779H53.952\r
	c-23.391,0-42.35-18.959-42.35-42.35s18.959-42.35,42.35-42.35h46.596C108.032,291.389,114.993,289.057,120.714,285.077z"></path><path d="M458.048,387.691h-40.946c-30.012,0-59.397-10.412-82.742-29.32c-24.803-20.071-41.478-48.312-46.951-79.516\r
	c-1.325-7.506-1.997-15.198-1.997-22.854c0-6.144-2.344-11.977-6.6-16.428c-4.539-4.743-10.644-7.357-17.187-7.357h-5.604\r
	c-6.526,0-12.619,2.602-17.157,7.328c-4.274,4.452-6.629,10.297-6.629,16.457c0,7.706-0.668,15.397-1.986,22.857\r
	c-5.471,31.17-22.128,59.397-46.901,79.466c-23.346,18.934-52.754,29.366-82.802,29.366H53.952C24.203,387.691,0,363.489,0,333.739\r
	s24.203-53.952,53.952-53.952h46.596c4.877,0,9.558-1.464,13.538-4.233c6.414-4.47,10.247-11.781,10.247-19.553\r
	c0-5.934,0.403-11.909,1.196-17.758c4.186-30.924,19.381-59.474,42.786-80.385c24.165-21.631,55.315-33.547,87.708-33.547h5.604\r
	c32.426,0,63.6,11.934,87.778,33.606c23.371,20.916,38.544,49.462,42.716,80.37c0.792,5.823,1.194,11.787,1.194,17.715\r
	c0,7.793,3.847,15.109,10.294,19.57c3.981,2.759,8.643,4.215,13.492,4.215h40.946c6.407,0,11.603,5.196,11.603,11.603\r
	c0,6.407-5.196,11.603-11.603,11.603h-40.946c-9.595,0-18.83-2.884-26.705-8.343c-12.7-8.79-20.286-23.24-20.286-38.647\r
	c0-4.885-0.331-9.796-0.985-14.598c-3.436-25.451-15.937-48.957-35.202-66.201c-19.922-17.855-45.596-27.685-72.298-27.685h-5.604\r
	c-26.672,0-52.328,9.816-72.239,27.639c-19.295,17.239-31.814,40.748-35.26,66.206c-0.654,4.821-0.986,9.745-0.986,14.64\r
	c0,15.355-7.549,29.784-20.191,38.595c-7.896,5.494-17.16,8.396-26.8,8.396H53.952c-16.954,0-30.747,13.793-30.747,30.747\r
	s13.793,30.747,30.747,30.747h46.596c25.101,0,48.681-8.364,68.19-24.188c20.426-16.549,34.156-39.796,38.66-65.464\r
	c1.086-6.146,1.636-12.477,1.636-18.832c0-12.178,4.65-23.731,13.095-32.528c8.956-9.327,20.994-14.463,33.896-14.463h5.604\r
	c12.935,0,24.993,5.157,33.955,14.522c8.407,8.792,13.036,20.323,13.036,32.469c0,6.308,0.555,12.645,1.645,18.833\r
	c4.506,25.695,18.25,48.953,38.699,65.501c19.228,15.574,43.427,24.148,68.141,24.148h40.946c16.954,0,30.747-13.793,30.747-30.747\r
	c0-6.407,5.196-11.603,11.603-11.603c6.407,0,11.603,5.196,11.603,11.603C512,363.489,487.797,387.691,458.048,387.691z"></path><path d="M489.883,317.405c-3.22,0-6.423-1.332-8.717-3.94c-0.543-0.616-1.116-1.219-1.706-1.793\r
	c-4.595-4.467-4.7-11.813-0.233-16.407c4.466-4.595,11.813-4.699,16.407-0.233c1.022,0.992,2.015,2.039,2.956,3.107\r
	c4.231,4.812,3.762,12.143-1.049,16.375C495.337,316.452,492.604,317.405,489.883,317.405z"></path><path d="M70.521,351.143c-6.408,0-11.603-5.196-11.603-11.603v-10.825c0-6.407,5.194-11.603,11.603-11.603\r
	c6.408,0,11.603,5.196,11.603,11.603v10.825C82.123,345.947,76.929,351.143,70.521,351.143z"></path><path d="M176.046,360.918c-3.651,0-6.909-1.685-9.036-4.321l-55.023-63.874c-4.002-4.557-3.834-11.507,0.516-15.857\r
	c4.531-4.53,11.871-4.538,16.404-0.006c0.203,0.204,0.41,0.426,0.598,0.644l55.333,64.232c1.813,2.105,2.811,4.793,2.811,7.572\r
	C187.649,355.716,182.455,360.918,176.046,360.918z"></path><path d="M218.818,288.446c-1.6,0-3.226-0.333-4.779-1.037l-81.798-37.036c-5.837-2.642-8.427-9.518-5.784-15.355\r
	c2.644-5.836,9.518-8.428,15.355-5.783l81.798,37.036c5.837,2.642,8.427,9.518,5.784,15.355\r
	C227.455,285.909,223.234,288.446,218.818,288.446z"></path><path d="M258.879,232.216c-6.408,0-11.603-5.196-11.603-11.603v-84.699c0-6.407,5.194-11.603,11.603-11.603\r
	c6.407,0,11.603,5.196,11.603,11.603v84.699C270.481,227.02,265.286,232.216,258.879,232.216z"></path><path d="M230.503,243.119c-3.152,0-6.291-1.277-8.58-3.795l-0.012-0.013c-0.106-0.116-0.209-0.233-0.309-0.354l-54.451-64.998\r
	c-4.115-4.911-3.469-12.23,1.443-16.346c4.911-4.114,12.229-3.469,16.345,1.443l54.416,64.955c4.019,4.747,3.59,11.868-1.049,16.084\r
	C236.084,242.121,233.288,243.119,230.503,243.119z"></path><path d="M341.692,360.924c-2.681,0-5.375-0.925-7.566-2.812c-4.856-4.182-5.4-11.507-1.218-16.363l55.239-64.129\r
	c3.9-4.62,10.779-5.516,15.73-1.895c5.171,3.784,6.313,11.02,2.529,16.191c-0.181,0.248-0.407,0.535-0.607,0.767l-55.31,64.209\r
	C348.193,359.557,344.953,360.924,341.692,360.924z"></path><path d="M298.925,288.446c-4.416,0-8.636-2.535-10.576-6.82c-2.643-5.837-0.055-12.712,5.783-15.355l81.706-37.001\r
	c0.224-0.102,0.453-0.196,0.683-0.283c5.996-2.265,12.736,0.738,15.002,6.732c2.224,5.884-0.601,12.426-6.374,14.81l-81.443,36.881\r
	C302.152,288.113,300.525,288.444,298.925,288.446z"></path><path d="M287.228,243.122c-2.63,0-5.273-0.889-7.445-2.709c-4.911-4.115-5.558-11.433-1.442-16.345l54.384-64.911\r
	c3.934-4.761,10.98-5.64,15.952-1.88c5.111,3.865,6.14,11.119,2.275,16.23c-0.117,0.154-0.272,0.352-0.397,0.5l-54.428,64.963\r
	C293.834,241.71,290.542,243.122,287.228,243.122z"></path><path d="M432.918,387.691c-6.407,0-11.603-5.196-11.603-11.603v-84.699c0-6.407,5.196-11.603,11.603-11.603\r
	c6.407,0,11.603,5.196,11.603,11.603v84.699C444.52,382.495,439.325,387.691,432.918,387.691z"></path>`,20)]))}const av=uh(mG,[["render",vG]]),yG={class:"flex justify-center"},_G={key:0,class:"w-full flex flex-wrap gap-3 justify-center"},bG={key:1,class:"w-full flex flex-wrap gap-3 justify-center"},wG={key:0,class:"text-red-400"},TG={class:"grid grid-cols-4 sm:grid-cols-8 justify-center gap-3 mt-2 md:mt-5 lg:mt-0"},EG={class:"grid grid-cols-6 justify-center gap-3 mt-2 md:mt-5"},IG={class:"flex flex-col text-center"},SG={class:"text-sm text-nowrap"},CG={class:"relative flex justify-center"},AG={class:"min-h-[25vh] col-span-4 flex justify-center text-center"},OG={class:"w-fit grid grid-cols-3 sm:grid-cols-4 md:grid-cols-5 lg:grid-cols-6 gap-1 sm:gap-2"},PG={class:"flex flex-col text-center"},kG={class:"text-sm text-nowrap"},RG={class:"relative flex justify-center"},DG={key:1,class:"text-center text-xl md:text-3xl font-bold"},xG={key:0,class:"text-purple-500"},NG={key:1,class:"text-green-500"},MG={key:2,class:"text-red-500"},LG={key:3,class:"text-blue-500 font-bold"},VG={key:4,class:"text-blue-500 font-bold"},FG={key:5,class:"text-blue-500 font-bold"},$G={key:6,class:"flex justify-around"},UG={class:"mt-5 flex flex-wrap gap-3 justify-center"},BG={key:2,class:"flex flex-wrap gap-3 mt-3 justify-center"},HG=it({__name:"Rainworms",setup(t){const e=AO(),n=Rb(),{gameStatus:r,gameStatusActivator:i,loseStatus:s,finishStatus:o,activePlayer:a,dices:l,tiles:u,score:c,canSelectAnyTile:h,canPlay:f,hasWorm:p,selectedDiceTotal:g,isRolling:w,totalScore:I,gameData:k,personalBest:P,highscorePosition:T,previousHighscorePosition:_,previousPersonalBest:L}=Fi(n),{start:V,reset:S,roll:E,passTurn:b,loseTurn:v,playRobot:C,checkFinishStatus:A,fetchHighscores:O,updateHighscores:Y}=n,{firebaseUser:U}=Fi($s()),j=Te(!1),q=se(()=>U.value?T.value(U.value.uid):null),X=se(()=>q.value&&_.value?_.value>q.value:!1),$=se(()=>U.value&&L.value?L.value<P.value(U.value.uid):!1),x=se(()=>{if(w.value)return"Rolling...";switch(r.value){case an.HAS_THROWN_DICES:switch(a.value){case Mt.ROBOT:return"Robot is thinking...";case Mt.PLAYER:return h.value(g.value)?"Pick a type of dice or choose a tile":"Pick a type of dice"}case an.HAS_CHOSEN_DICES:switch(a.value){case Mt.ROBOT:return"Robot has decided";case Mt.PLAYER:return h.value(g.value)?l.value.some(ge=>!ge.selected)?"Choose a tile or roll again":"Choose a tile":l.value.some(ge=>!ge.selected)?"Roll again":(v(),"Nothing to choose from. Pass turn to robot")}case an.HAS_CHOSEN_TILE:switch(a.value){case Mt.ROBOT:return i.value===Mt.PLAYER?"Robot's turn":"Robot chose a tile";case Mt.PLAYER:return i.value===Mt.PLAYER?"You chose a tile":"Your turn"}case an.HAS_LOST:switch(a.value){case Mt.ROBOT:return i.value===Mt.PLAYER?"Robot's turn":"Your turn";case Mt.PLAYER:return i.value===Mt.PLAYER?s.value===Zy.HAS_LOST_TILE?"You lost a tile. Pass turn to robot":"You busted. Pass turn to robot":s.value===Zy.HAS_LOST_TILE?"Robot lost a tile. Click to roll":"Robot busted. Click to roll"}default:return"Roll"}}),te=()=>{j.value=!1,V()},ee=()=>{r.value===an.HAS_LOST&&i.value===Mt.PLAYER?b(!0):E()},he=()=>{var ge;j.value=!1,S((ge=U.value)==null?void 0:ge.uid)};return _n(r,ge=>{var Q;ge===an.HAS_FINISHED?A((Q=U.value)==null?void 0:Q.uid):a.value===Mt.ROBOT&&C()}),(ge,Q)=>(M(),we(Td,{class:"!bg-cyan-800 !bg-opacity-50 my-5 !rounded-secondary",title:"Rainworms",description:R(r)!==R(an).HAS_LOST?"Play against a robot. Collect as many worms as possible!":void 0},{default:ke(()=>[K("div",yG,[R(r)===R(an).HAS_NOT_STARTED?(M(),W("div",_G,[Q[6]||(Q[6]=K("div",{class:"w-full mb-5"},[K("p",{class:"text-neutral-400"},[K("b",null,"Warning"),tt(": robot prefers stealing over scoring!")])],-1)),Me(jn,{class:"w-full md:w-1/2",onClick:te},{default:ke(()=>Q[5]||(Q[5]=[tt(" Start ")])),_:1})])):R(r)!==R(an).HAS_FINISHED?(M(),W("div",bG,[R(r)===R(an).HAS_LOST&&R(i)===R(Mt).PLAYER?(M(),W("p",wG,Ue(R(p)?"Remember, to survive you must roll a dice value that hasn't already been collected.":"To stay in the game, you must collect at least one worm."),1)):ne("",!0),Me(jn,{class:"w-full md:w-1/2",type:"tertiary",disabled:!R(f)()||R(r)===R(an).HAS_THROWN_DICES||R(r)===R(an).HAS_CHOSEN_TILE&&R(i)===R(Mt).PLAYER||R(l).every(B=>B.selected),onClick:ee},{default:ke(()=>[tt(Ue(x.value),1)]),_:1},8,["disabled"]),K("div",TG,[(M(!0),W(Oe,null,ft(R(l),B=>(M(),we(pG,{dice:B},null,8,["dice"]))),256))]),K("div",EG,[K("div",IG,[Q[7]||(Q[7]=K("p",{class:"font-bold"},"You:",-1)),K("p",SG,Ue(R(I)(R(Mt).PLAYER))+" worms",1),K("div",CG,[R(c)[R(Mt).PLAYER].length?(M(!0),W(Oe,{key:0},ft(R(c)[R(Mt).PLAYER],(B,G)=>(M(),we(ov,{class:"absolute mt-3",style:zn({top:`${7*G}px`}),tile:B,stealable:G===R(c)[R(Mt).PLAYER].length-1,owner:R(Mt).PLAYER},null,8,["style","tile","stealable","owner"]))),256)):ne("",!0)])]),K("div",AG,[K("div",OG,[(M(!0),W(Oe,null,ft(R(u),B=>(M(),we(ov,{tile:B,selectable:""},null,8,["tile"]))),256))])]),K("div",PG,[Q[8]||(Q[8]=K("p",{class:"font-bold"},"Robot:",-1)),K("p",kG,Ue(R(I)(R(Mt).ROBOT))+" worms",1),K("div",RG,[R(c)[R(Mt).ROBOT].length?(M(!0),W(Oe,{key:0},ft(R(c)[R(Mt).ROBOT],(B,G)=>(M(),we(ov,{class:"absolute mt-3",style:zn({top:`${7*G}px`}),tile:B,stealable:G===R(c)[R(Mt).ROBOT].length-1,owner:R(Mt).ROBOT},null,8,["style","tile","stealable","owner"]))),256)):ne("",!0)])])])])):ne("",!0)]),j.value?(M(),we(LD,{key:0,"game-data":R(k),unit:"worm",onFetchHighscores:R(O)},null,8,["game-data","onFetchHighscores"])):R(r)===R(an).HAS_FINISHED?(M(),W("div",DG,[R(o)===R(Ef).WINNER_HIGHEST_SCORE?(M(),W("p",xG," You won with "+Ue(R(I)(R(Mt).PLAYER))+" worms! ",1)):R(o)===R(Ef).WINNER_HIGHEST_TILE?(M(),W("p",NG," You won with "+Ue(R(I)(R(Mt).PLAYER))+" worms and the highest tile value! ",1)):(M(),W("p",MG," You lost with a lower score than the robot. ")),X.value&&q.value===1?(M(),W("p",LG," HIGHSCORE! ")):X.value?(M(),W("p",VG," LEADERBOARD IMPROVEMENT! ")):$.value?(M(),W("p",FG," PERSONAL BEST! ")):ne("",!0),R(o)!==R(Ef).LOSER?(M(),W("div",$G,[Me(av),Me(av),Me(av)])):ne("",!0)])):ne("",!0),K("div",UG,[R(r)!==R(an).HAS_NOT_STARTED&&R(r)!==R(an).HAS_FINISHED?(M(),we(jn,{key:0,class:"w-full md:w-1/2",type:"neutral",onClick:he},{default:ke(()=>Q[9]||(Q[9]=[tt(" Restart ")])),_:1})):R(r)===R(an).HAS_FINISHED?(M(),we(jn,{key:1,class:"w-full md:w-1/2",type:"secondary",onClick:he},{default:ke(()=>Q[10]||(Q[10]=[tt(" Play Again ")])),_:1})):ne("",!0),!j.value&&(R(r)===R(an).HAS_NOT_STARTED||R(r)===R(an).HAS_FINISHED)?(M(),we(jn,{key:2,class:"w-full md:w-1/2",type:"neutral",onClick:Q[0]||(Q[0]=B=>j.value=!0)},{default:ke(()=>Q[11]||(Q[11]=[tt(" View Highscores ")])),_:1})):R(r)===R(an).HAS_NOT_STARTED?(M(),we(jn,{key:3,class:"w-full md:w-1/2",type:"neutral",onClick:Q[1]||(Q[1]=B=>j.value=!1)},{default:ke(()=>Q[12]||(Q[12]=[tt(" Go Back ")])),_:1})):R(r)===R(an).HAS_FINISHED?(M(),we(jn,{key:4,class:"w-full md:w-1/2",type:"neutral",onClick:Q[2]||(Q[2]=B=>j.value=!1)},{default:ke(()=>Q[13]||(Q[13]=[tt(" View Your Score ")])),_:1})):ne("",!0)]),R(r)===R(an).HAS_FINISHED?(M(),W("div",BG,[R(U)?R(I)(R(Mt).PLAYER)&&R(P)(R(U).uid)<R(I)(R(Mt).PLAYER)?(M(),we(jn,{key:1,class:"w-full md:w-1/2",type:"primary",onClick:Q[4]||(Q[4]=B=>R(Y)(R(U).uid))},{default:ke(()=>Q[16]||(Q[16]=[tt(" Add To Leaderboard ")])),_:1})):ne("",!0):(M(),we(Td,{key:0,class:"w-full md:w-1/2 bg-primary-500 bg-opacity-50 !rounded-primary"},{default:ke(()=>[Q[14]||(Q[14]=tt(" Please ")),K("a",{class:"cursor-pointer",onClick:Q[3]||(Q[3]=B=>R(e).push({name:R(Cn).LOGIN,params:{redirect:JSON.stringify({name:R(dd).GAMES_RAINWORMS})}}))}," Login "),Q[15]||(Q[15]=tt(" to add your score to the leaderboard. "))]),_:1}))])):ne("",!0)]),_:1},8,["description"]))}}),jG=uh(HG,[["__scopeId","data-v-32b783b4"]]),rS=()=>Bi(()=>import("./assets/Blog-CGqcMAjm.js").then(t=>t.B),__vite__mapDeps([0,1,2,3,4,5,6,7,8]),import.meta.url),WG=()=>Bi(()=>import("./assets/CatCalc-cywO-5XV.js"),__vite__mapDeps([9,8,3,1]),import.meta.url),qG=()=>Bi(()=>import("./assets/CustomVoting-BHaiWp4u.js"),__vite__mapDeps([10,1,4,5,11]),import.meta.url),zG=()=>Bi(()=>import("./assets/Dashboard-BIo1zG5X.js"),__vite__mapDeps([12,7,3,13,1]),import.meta.url),KG=()=>Bi(()=>import("./assets/Home-B_tofOZT.js"),__vite__mapDeps([14,1,2,3,4,5,6]),import.meta.url),YG=()=>Bi(()=>import("./assets/Login-C0c5mgyW.js"),__vite__mapDeps([15,13,3,1]),import.meta.url),GG=()=>Bi(()=>import("./assets/NotFound-6MoUVqKm.js"),__vite__mapDeps([16,1]),import.meta.url),QG=()=>Bi(()=>import("./assets/Profile-CXhm__bf.js"),__vite__mapDeps([17,1]),import.meta.url),XG=()=>Bi(()=>import("./assets/Profiles-DEYKj6Zl.js"),__vite__mapDeps([18,1]),import.meta.url),JG=()=>Bi(()=>import("./assets/Register-CF6Nr1qT.js"),__vite__mapDeps([19,13,3,1]),import.meta.url),ZG=()=>Bi(()=>import("./assets/Games-qVGrdPuq.js"),__vite__mapDeps([20,1]),import.meta.url),eQ={HOME:{path:"/",meta:{title:"Home"},component:KG,beforeEnter:(t,e,n)=>{var i;const r=decodeURIComponent(((i=t.query.path)==null?void 0:i.toString())||"");if(r){const s=r.split("/")[0];$m.getRoutes().find(o=>o.path.startsWith(`/${s}`))?n({path:r}):n({name:"notfound"})}else n()}},LOGIN:{path:"/login/:redirect?",meta:{title:"Login"},component:YG,beforeEnter:(t,e,n)=>{$s().currentUser?n({name:Cn.DASHBOARD}):n()}},REGISTER:{path:"/register",meta:{title:"Register"},component:JG,beforeEnter:(t,e,n)=>{$s().currentUser?n({name:Cn.DASHBOARD}):n()}},DASHBOARD:{path:"/dashboard",meta:{title:"Dashboard"},component:zG},USER_OVERVIEW:{path:"/profiles",meta:{title:"Profiles"},component:XG},USER_DETAILS:{path:"/profiles/:userId",meta:{title:"Profile"},component:QG},BLOG:{path:"/blog",meta:{title:"Blog"},component:rS},BLOG_DETAILS:{path:"/blog/:postId",meta:{title:"Blog"},component:rS},CUSTOM_VOTING:{path:"/customvoting",meta:{title:"CustomVoting"},component:qG},CAT_CALC:{path:"/cat-calc",meta:{title:"CatCalc"},component:WG},GAMES:{path:"/games",meta:{title:"Games"},component:ZG,children:[{name:dd.GAMES_YAHTZEE,path:"/games/yahtzee",meta:{title:"Yahtzee"},component:RY},{name:dd.GAMES_RAINWORMS,path:"/games/rainworms",meta:{title:"Rainworms"},component:jG}]},NOT_FOUND:{path:"/:pathMatch(.*)*",meta:{title:"404"},component:GG}},Db=Object.entries(eQ).map(([t,e])=>({...e,name:Cn[t]})),$m=kL({history:aL(),routes:Db,scrollBehavior(t,e,n){return n||((t.name===Cn.LOGIN||t.name===Cn.REGISTER)&&(e.name===Cn.LOGIN||e.name===Cn.REGISTER)?!1:{top:0})}}),iS=CD.name;$m.beforeEach(async(t,e,n)=>{var r;if(t===e)n();else if(!t.name)n({name:Cn.NOT_FOUND});else{const i=t.name;if([Cn.HOME,Cn.LOGIN,Cn.REGISTER,Cn.DASHBOARD,Cn.NOT_FOUND].includes(i))n();else{const o=await gd().fetchMenuItems((r=$s().firebaseUser)==null?void 0:r.uid);(o==null?void 0:o.some(l=>l.route?i===l.route||Db.some(u=>{var c;return(c=u.children)==null?void 0:c.some(h=>h.name===i)}):l.url?t.path.startsWith(l.url):!1))?n():n({name:Cn.NOT_FOUND})}}});$m.beforeResolve(t=>{document.title=iS+" | "+t.meta.title||iS;const e=vP();yP(e,"screen_view",{screen_name:t.path})});const VD=$m;function yi(t){"@babel/helpers - typeof";return yi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yi(t)}function nt(t){if(t===null||t===!0||t===!1)return NaN;var e=Number(t);return isNaN(e)?e:e<0?Math.ceil(e):Math.floor(e)}function Be(t,e){if(e.length<t)throw new TypeError(t+" argument"+(t>1?"s":"")+" required, but only "+e.length+" present")}function Qe(t){Be(1,arguments);var e=Object.prototype.toString.call(t);return t instanceof Date||yi(t)==="object"&&e==="[object Date]"?new Date(t.getTime()):typeof t=="number"||e==="[object Number]"?new Date(t):((typeof t=="string"||e==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}function Is(t,e){Be(2,arguments);var n=Qe(t),r=nt(e);return isNaN(r)?new Date(NaN):(r&&n.setDate(n.getDate()+r),n)}function Di(t,e){Be(2,arguments);var n=Qe(t),r=nt(e);if(isNaN(r))return new Date(NaN);if(!r)return n;var i=n.getDate(),s=new Date(n.getTime());s.setMonth(n.getMonth()+r+1,0);var o=s.getDate();return i>=o?s:(n.setFullYear(s.getFullYear(),s.getMonth(),i),n)}function FD(t,e){if(Be(2,arguments),!e||yi(e)!=="object")return new Date(NaN);var n=e.years?nt(e.years):0,r=e.months?nt(e.months):0,i=e.weeks?nt(e.weeks):0,s=e.days?nt(e.days):0,o=e.hours?nt(e.hours):0,a=e.minutes?nt(e.minutes):0,l=e.seconds?nt(e.seconds):0,u=Qe(t),c=r||n?Di(u,r+n*12):u,h=s||i?Is(c,s+i*7):c,f=a+o*60,p=l+f*60,g=p*1e3,w=new Date(h.getTime()+g);return w}function tQ(t,e){Be(2,arguments);var n=Qe(t).getTime(),r=nt(e);return new Date(n+r)}var nQ={};function fs(){return nQ}function xa(t,e){var n,r,i,s,o,a,l,u;Be(1,arguments);var c=fs(),h=nt((n=(r=(i=(s=e==null?void 0:e.weekStartsOn)!==null&&s!==void 0?s:e==null||(o=e.locale)===null||o===void 0||(a=o.options)===null||a===void 0?void 0:a.weekStartsOn)!==null&&i!==void 0?i:c.weekStartsOn)!==null&&r!==void 0?r:(l=c.locale)===null||l===void 0||(u=l.options)===null||u===void 0?void 0:u.weekStartsOn)!==null&&n!==void 0?n:0);if(!(h>=0&&h<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var f=Qe(t),p=f.getDay(),g=(p<h?7:0)+p-h;return f.setDate(f.getDate()-g),f.setHours(0,0,0,0),f}function Cp(t){return Be(1,arguments),xa(t,{weekStartsOn:1})}function rQ(t){Be(1,arguments);var e=Qe(t),n=e.getFullYear(),r=new Date(0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);var i=Cp(r),s=new Date(0);s.setFullYear(n,0,4),s.setHours(0,0,0,0);var o=Cp(s);return e.getTime()>=i.getTime()?n+1:e.getTime()>=o.getTime()?n:n-1}function iQ(t){Be(1,arguments);var e=rQ(t),n=new Date(0);n.setFullYear(e,0,4),n.setHours(0,0,0,0);var r=Cp(n);return r}function Ap(t){var e=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return e.setUTCFullYear(t.getFullYear()),t.getTime()-e.getTime()}function sS(t){Be(1,arguments);var e=Qe(t);return e.setHours(0,0,0,0),e}var sQ=864e5;function oQ(t,e){Be(2,arguments);var n=sS(t),r=sS(e),i=n.getTime()-Ap(n),s=r.getTime()-Ap(r);return Math.round((i-s)/sQ)}function aQ(t,e){Be(2,arguments);var n=nt(e),r=n*3;return Di(t,r)}function xb(t,e){Be(2,arguments);var n=nt(e);return Di(t,n*12)}var Nb=6e4,Mb=36e5,lQ=1e3;function $D(t){return Be(1,arguments),t instanceof Date||yi(t)==="object"&&Object.prototype.toString.call(t)==="[object Date]"}function Vc(t){if(Be(1,arguments),!$D(t)&&typeof t!="number")return!1;var e=Qe(t);return!isNaN(Number(e))}function oS(t){Be(1,arguments);var e=Qe(t),n=Math.floor(e.getMonth()/3)+1;return n}function UD(t,e){var n;Be(1,arguments);var r=t||{},i=Qe(r.start),s=Qe(r.end),o=s.getTime();if(!(i.getTime()<=o))throw new RangeError("Invalid interval");var a=[],l=i;l.setHours(0,0,0,0);var u=Number((n=e==null?void 0:e.step)!==null&&n!==void 0?n:1);if(u<1||isNaN(u))throw new RangeError("`options.step` must be a number greater than 1");for(;l.getTime()<=o;)a.push(Qe(l)),l.setDate(l.getDate()+u),l.setHours(0,0,0,0);return a}function Cd(t){Be(1,arguments);var e=Qe(t),n=e.getMonth(),r=n-n%3;return e.setMonth(r,1),e.setHours(0,0,0,0),e}function uQ(t){Be(1,arguments);var e=t||{},n=Qe(e.start),r=Qe(e.end),i=r.getTime();if(!(n.getTime()<=i))throw new RangeError("Invalid interval");var s=Cd(n),o=Cd(r);i=o.getTime();for(var a=[],l=s;l.getTime()<=i;)a.push(Qe(l)),l=aQ(l,1);return a}function cQ(t){Be(1,arguments);var e=Qe(t),n=e.getFullYear();return e.setFullYear(n+1,0,0),e.setHours(23,59,59,999),e}function dQ(t){Be(1,arguments);var e=Qe(t),n=new Date(0);return n.setFullYear(e.getFullYear(),0,1),n.setHours(0,0,0,0),n}function hQ(t,e){var n,r,i,s,o,a,l,u;Be(1,arguments);var c=fs(),h=nt((n=(r=(i=(s=e==null?void 0:e.weekStartsOn)!==null&&s!==void 0?s:e==null||(o=e.locale)===null||o===void 0||(a=o.options)===null||a===void 0?void 0:a.weekStartsOn)!==null&&i!==void 0?i:c.weekStartsOn)!==null&&r!==void 0?r:(l=c.locale)===null||l===void 0||(u=l.options)===null||u===void 0?void 0:u.weekStartsOn)!==null&&n!==void 0?n:0);if(!(h>=0&&h<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var f=Qe(t),p=f.getDay(),g=(p<h?-7:0)+6-(p-h);return f.setDate(f.getDate()+g),f.setHours(23,59,59,999),f}function aS(t){Be(1,arguments);var e=Qe(t),n=e.getMonth(),r=n-n%3+3;return e.setMonth(r,0),e.setHours(23,59,59,999),e}function BD(t,e){Be(2,arguments);var n=nt(e);return tQ(t,-n)}var fQ=864e5;function pQ(t){Be(1,arguments);var e=Qe(t),n=e.getTime();e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0);var r=e.getTime(),i=n-r;return Math.floor(i/fQ)+1}function ou(t){Be(1,arguments);var e=1,n=Qe(t),r=n.getUTCDay(),i=(r<e?7:0)+r-e;return n.setUTCDate(n.getUTCDate()-i),n.setUTCHours(0,0,0,0),n}function HD(t){Be(1,arguments);var e=Qe(t),n=e.getUTCFullYear(),r=new Date(0);r.setUTCFullYear(n+1,0,4),r.setUTCHours(0,0,0,0);var i=ou(r),s=new Date(0);s.setUTCFullYear(n,0,4),s.setUTCHours(0,0,0,0);var o=ou(s);return e.getTime()>=i.getTime()?n+1:e.getTime()>=o.getTime()?n:n-1}function mQ(t){Be(1,arguments);var e=HD(t),n=new Date(0);n.setUTCFullYear(e,0,4),n.setUTCHours(0,0,0,0);var r=ou(n);return r}var gQ=6048e5;function jD(t){Be(1,arguments);var e=Qe(t),n=ou(e).getTime()-mQ(e).getTime();return Math.round(n/gQ)+1}function Na(t,e){var n,r,i,s,o,a,l,u;Be(1,arguments);var c=fs(),h=nt((n=(r=(i=(s=e==null?void 0:e.weekStartsOn)!==null&&s!==void 0?s:e==null||(o=e.locale)===null||o===void 0||(a=o.options)===null||a===void 0?void 0:a.weekStartsOn)!==null&&i!==void 0?i:c.weekStartsOn)!==null&&r!==void 0?r:(l=c.locale)===null||l===void 0||(u=l.options)===null||u===void 0?void 0:u.weekStartsOn)!==null&&n!==void 0?n:0);if(!(h>=0&&h<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var f=Qe(t),p=f.getUTCDay(),g=(p<h?7:0)+p-h;return f.setUTCDate(f.getUTCDate()-g),f.setUTCHours(0,0,0,0),f}function Lb(t,e){var n,r,i,s,o,a,l,u;Be(1,arguments);var c=Qe(t),h=c.getUTCFullYear(),f=fs(),p=nt((n=(r=(i=(s=e==null?void 0:e.firstWeekContainsDate)!==null&&s!==void 0?s:e==null||(o=e.locale)===null||o===void 0||(a=o.options)===null||a===void 0?void 0:a.firstWeekContainsDate)!==null&&i!==void 0?i:f.firstWeekContainsDate)!==null&&r!==void 0?r:(l=f.locale)===null||l===void 0||(u=l.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&n!==void 0?n:1);if(!(p>=1&&p<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var g=new Date(0);g.setUTCFullYear(h+1,0,p),g.setUTCHours(0,0,0,0);var w=Na(g,e),I=new Date(0);I.setUTCFullYear(h,0,p),I.setUTCHours(0,0,0,0);var k=Na(I,e);return c.getTime()>=w.getTime()?h+1:c.getTime()>=k.getTime()?h:h-1}function vQ(t,e){var n,r,i,s,o,a,l,u;Be(1,arguments);var c=fs(),h=nt((n=(r=(i=(s=e==null?void 0:e.firstWeekContainsDate)!==null&&s!==void 0?s:e==null||(o=e.locale)===null||o===void 0||(a=o.options)===null||a===void 0?void 0:a.firstWeekContainsDate)!==null&&i!==void 0?i:c.firstWeekContainsDate)!==null&&r!==void 0?r:(l=c.locale)===null||l===void 0||(u=l.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&n!==void 0?n:1),f=Lb(t,e),p=new Date(0);p.setUTCFullYear(f,0,h),p.setUTCHours(0,0,0,0);var g=Na(p,e);return g}var yQ=6048e5;function WD(t,e){Be(1,arguments);var n=Qe(t),r=Na(n,e).getTime()-vQ(n,e).getTime();return Math.round(r/yQ)+1}function jt(t,e){for(var n=t<0?"-":"",r=Math.abs(t).toString();r.length<e;)r="0"+r;return n+r}var _Q={y:function(e,n){var r=e.getUTCFullYear(),i=r>0?r:1-r;return jt(n==="yy"?i%100:i,n.length)},M:function(e,n){var r=e.getUTCMonth();return n==="M"?String(r+1):jt(r+1,2)},d:function(e,n){return jt(e.getUTCDate(),n.length)},a:function(e,n){var r=e.getUTCHours()/12>=1?"pm":"am";switch(n){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h:function(e,n){return jt(e.getUTCHours()%12||12,n.length)},H:function(e,n){return jt(e.getUTCHours(),n.length)},m:function(e,n){return jt(e.getUTCMinutes(),n.length)},s:function(e,n){return jt(e.getUTCSeconds(),n.length)},S:function(e,n){var r=n.length,i=e.getUTCMilliseconds(),s=Math.floor(i*Math.pow(10,r-3));return jt(s,n.length)}};const Zs=_Q;var nl={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},bQ={G:function(e,n,r){var i=e.getUTCFullYear()>0?1:0;switch(n){case"G":case"GG":case"GGG":return r.era(i,{width:"abbreviated"});case"GGGGG":return r.era(i,{width:"narrow"});case"GGGG":default:return r.era(i,{width:"wide"})}},y:function(e,n,r){if(n==="yo"){var i=e.getUTCFullYear(),s=i>0?i:1-i;return r.ordinalNumber(s,{unit:"year"})}return Zs.y(e,n)},Y:function(e,n,r,i){var s=Lb(e,i),o=s>0?s:1-s;if(n==="YY"){var a=o%100;return jt(a,2)}return n==="Yo"?r.ordinalNumber(o,{unit:"year"}):jt(o,n.length)},R:function(e,n){var r=HD(e);return jt(r,n.length)},u:function(e,n){var r=e.getUTCFullYear();return jt(r,n.length)},Q:function(e,n,r){var i=Math.ceil((e.getUTCMonth()+1)/3);switch(n){case"Q":return String(i);case"QQ":return jt(i,2);case"Qo":return r.ordinalNumber(i,{unit:"quarter"});case"QQQ":return r.quarter(i,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(i,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(i,{width:"wide",context:"formatting"})}},q:function(e,n,r){var i=Math.ceil((e.getUTCMonth()+1)/3);switch(n){case"q":return String(i);case"qq":return jt(i,2);case"qo":return r.ordinalNumber(i,{unit:"quarter"});case"qqq":return r.quarter(i,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(i,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(i,{width:"wide",context:"standalone"})}},M:function(e,n,r){var i=e.getUTCMonth();switch(n){case"M":case"MM":return Zs.M(e,n);case"Mo":return r.ordinalNumber(i+1,{unit:"month"});case"MMM":return r.month(i,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(i,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(i,{width:"wide",context:"formatting"})}},L:function(e,n,r){var i=e.getUTCMonth();switch(n){case"L":return String(i+1);case"LL":return jt(i+1,2);case"Lo":return r.ordinalNumber(i+1,{unit:"month"});case"LLL":return r.month(i,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(i,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(i,{width:"wide",context:"standalone"})}},w:function(e,n,r,i){var s=WD(e,i);return n==="wo"?r.ordinalNumber(s,{unit:"week"}):jt(s,n.length)},I:function(e,n,r){var i=jD(e);return n==="Io"?r.ordinalNumber(i,{unit:"week"}):jt(i,n.length)},d:function(e,n,r){return n==="do"?r.ordinalNumber(e.getUTCDate(),{unit:"date"}):Zs.d(e,n)},D:function(e,n,r){var i=pQ(e);return n==="Do"?r.ordinalNumber(i,{unit:"dayOfYear"}):jt(i,n.length)},E:function(e,n,r){var i=e.getUTCDay();switch(n){case"E":case"EE":case"EEE":return r.day(i,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(i,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(i,{width:"short",context:"formatting"});case"EEEE":default:return r.day(i,{width:"wide",context:"formatting"})}},e:function(e,n,r,i){var s=e.getUTCDay(),o=(s-i.weekStartsOn+8)%7||7;switch(n){case"e":return String(o);case"ee":return jt(o,2);case"eo":return r.ordinalNumber(o,{unit:"day"});case"eee":return r.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(s,{width:"short",context:"formatting"});case"eeee":default:return r.day(s,{width:"wide",context:"formatting"})}},c:function(e,n,r,i){var s=e.getUTCDay(),o=(s-i.weekStartsOn+8)%7||7;switch(n){case"c":return String(o);case"cc":return jt(o,n.length);case"co":return r.ordinalNumber(o,{unit:"day"});case"ccc":return r.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(s,{width:"narrow",context:"standalone"});case"cccccc":return r.day(s,{width:"short",context:"standalone"});case"cccc":default:return r.day(s,{width:"wide",context:"standalone"})}},i:function(e,n,r){var i=e.getUTCDay(),s=i===0?7:i;switch(n){case"i":return String(s);case"ii":return jt(s,n.length);case"io":return r.ordinalNumber(s,{unit:"day"});case"iii":return r.day(i,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(i,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(i,{width:"short",context:"formatting"});case"iiii":default:return r.day(i,{width:"wide",context:"formatting"})}},a:function(e,n,r){var i=e.getUTCHours(),s=i/12>=1?"pm":"am";switch(n){case"a":case"aa":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(e,n,r){var i=e.getUTCHours(),s;switch(i===12?s=nl.noon:i===0?s=nl.midnight:s=i/12>=1?"pm":"am",n){case"b":case"bb":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(e,n,r){var i=e.getUTCHours(),s;switch(i>=17?s=nl.evening:i>=12?s=nl.afternoon:i>=4?s=nl.morning:s=nl.night,n){case"B":case"BB":case"BBB":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(e,n,r){if(n==="ho"){var i=e.getUTCHours()%12;return i===0&&(i=12),r.ordinalNumber(i,{unit:"hour"})}return Zs.h(e,n)},H:function(e,n,r){return n==="Ho"?r.ordinalNumber(e.getUTCHours(),{unit:"hour"}):Zs.H(e,n)},K:function(e,n,r){var i=e.getUTCHours()%12;return n==="Ko"?r.ordinalNumber(i,{unit:"hour"}):jt(i,n.length)},k:function(e,n,r){var i=e.getUTCHours();return i===0&&(i=24),n==="ko"?r.ordinalNumber(i,{unit:"hour"}):jt(i,n.length)},m:function(e,n,r){return n==="mo"?r.ordinalNumber(e.getUTCMinutes(),{unit:"minute"}):Zs.m(e,n)},s:function(e,n,r){return n==="so"?r.ordinalNumber(e.getUTCSeconds(),{unit:"second"}):Zs.s(e,n)},S:function(e,n){return Zs.S(e,n)},X:function(e,n,r,i){var s=i._originalDate||e,o=s.getTimezoneOffset();if(o===0)return"Z";switch(n){case"X":return uS(o);case"XXXX":case"XX":return ta(o);case"XXXXX":case"XXX":default:return ta(o,":")}},x:function(e,n,r,i){var s=i._originalDate||e,o=s.getTimezoneOffset();switch(n){case"x":return uS(o);case"xxxx":case"xx":return ta(o);case"xxxxx":case"xxx":default:return ta(o,":")}},O:function(e,n,r,i){var s=i._originalDate||e,o=s.getTimezoneOffset();switch(n){case"O":case"OO":case"OOO":return"GMT"+lS(o,":");case"OOOO":default:return"GMT"+ta(o,":")}},z:function(e,n,r,i){var s=i._originalDate||e,o=s.getTimezoneOffset();switch(n){case"z":case"zz":case"zzz":return"GMT"+lS(o,":");case"zzzz":default:return"GMT"+ta(o,":")}},t:function(e,n,r,i){var s=i._originalDate||e,o=Math.floor(s.getTime()/1e3);return jt(o,n.length)},T:function(e,n,r,i){var s=i._originalDate||e,o=s.getTime();return jt(o,n.length)}};function lS(t,e){var n=t>0?"-":"+",r=Math.abs(t),i=Math.floor(r/60),s=r%60;if(s===0)return n+String(i);var o=e||"";return n+String(i)+o+jt(s,2)}function uS(t,e){if(t%60===0){var n=t>0?"-":"+";return n+jt(Math.abs(t)/60,2)}return ta(t,e)}function ta(t,e){var n=e||"",r=t>0?"-":"+",i=Math.abs(t),s=jt(Math.floor(i/60),2),o=jt(i%60,2);return r+s+n+o}var cS=function(e,n){switch(e){case"P":return n.date({width:"short"});case"PP":return n.date({width:"medium"});case"PPP":return n.date({width:"long"});case"PPPP":default:return n.date({width:"full"})}},qD=function(e,n){switch(e){case"p":return n.time({width:"short"});case"pp":return n.time({width:"medium"});case"ppp":return n.time({width:"long"});case"pppp":default:return n.time({width:"full"})}},wQ=function(e,n){var r=e.match(/(P+)(p+)?/)||[],i=r[1],s=r[2];if(!s)return cS(e,n);var o;switch(i){case"P":o=n.dateTime({width:"short"});break;case"PP":o=n.dateTime({width:"medium"});break;case"PPP":o=n.dateTime({width:"long"});break;case"PPPP":default:o=n.dateTime({width:"full"});break}return o.replace("{{date}}",cS(i,n)).replace("{{time}}",qD(s,n))},e_={p:qD,P:wQ},TQ=["D","DD"],EQ=["YY","YYYY"];function zD(t){return TQ.indexOf(t)!==-1}function KD(t){return EQ.indexOf(t)!==-1}function Op(t,e,n){if(t==="YYYY")throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(e,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(t==="YY")throw new RangeError("Use `yy` instead of `YY` (in `".concat(e,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(t==="D")throw new RangeError("Use `d` instead of `D` (in `".concat(e,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(t==="DD")throw new RangeError("Use `dd` instead of `DD` (in `".concat(e,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var IQ={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},SQ=function(e,n,r){var i,s=IQ[e];return typeof s=="string"?i=s:n===1?i=s.one:i=s.other.replace("{{count}}",n.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+i:i+" ago":i};const CQ=SQ;function lv(t){return function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.width?String(e.width):t.defaultWidth,r=t.formats[n]||t.formats[t.defaultWidth];return r}}var AQ={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},OQ={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},PQ={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},kQ={date:lv({formats:AQ,defaultWidth:"full"}),time:lv({formats:OQ,defaultWidth:"full"}),dateTime:lv({formats:PQ,defaultWidth:"full"})};const RQ=kQ;var DQ={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},xQ=function(e,n,r,i){return DQ[e]};const NQ=xQ;function Xu(t){return function(e,n){var r=n!=null&&n.context?String(n.context):"standalone",i;if(r==="formatting"&&t.formattingValues){var s=t.defaultFormattingWidth||t.defaultWidth,o=n!=null&&n.width?String(n.width):s;i=t.formattingValues[o]||t.formattingValues[s]}else{var a=t.defaultWidth,l=n!=null&&n.width?String(n.width):t.defaultWidth;i=t.values[l]||t.values[a]}var u=t.argumentCallback?t.argumentCallback(e):e;return i[u]}}var MQ={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},LQ={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},VQ={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},FQ={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},$Q={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},UQ={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},BQ=function(e,n){var r=Number(e),i=r%100;if(i>20||i<10)switch(i%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},HQ={ordinalNumber:BQ,era:Xu({values:MQ,defaultWidth:"wide"}),quarter:Xu({values:LQ,defaultWidth:"wide",argumentCallback:function(e){return e-1}}),month:Xu({values:VQ,defaultWidth:"wide"}),day:Xu({values:FQ,defaultWidth:"wide"}),dayPeriod:Xu({values:$Q,defaultWidth:"wide",formattingValues:UQ,defaultFormattingWidth:"wide"})};const jQ=HQ;function Ju(t){return function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=n.width,i=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],s=e.match(i);if(!s)return null;var o=s[0],a=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],l=Array.isArray(a)?qQ(a,function(h){return h.test(o)}):WQ(a,function(h){return h.test(o)}),u;u=t.valueCallback?t.valueCallback(l):l,u=n.valueCallback?n.valueCallback(u):u;var c=e.slice(o.length);return{value:u,rest:c}}}function WQ(t,e){for(var n in t)if(t.hasOwnProperty(n)&&e(t[n]))return n}function qQ(t,e){for(var n=0;n<t.length;n++)if(e(t[n]))return n}function zQ(t){return function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=e.match(t.matchPattern);if(!r)return null;var i=r[0],s=e.match(t.parsePattern);if(!s)return null;var o=t.valueCallback?t.valueCallback(s[0]):s[0];o=n.valueCallback?n.valueCallback(o):o;var a=e.slice(i.length);return{value:o,rest:a}}}var KQ=/^(\d+)(th|st|nd|rd)?/i,YQ=/\d+/i,GQ={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},QQ={any:[/^b/i,/^(a|c)/i]},XQ={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},JQ={any:[/1/i,/2/i,/3/i,/4/i]},ZQ={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},eX={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},tX={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},nX={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},rX={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},iX={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},sX={ordinalNumber:zQ({matchPattern:KQ,parsePattern:YQ,valueCallback:function(e){return parseInt(e,10)}}),era:Ju({matchPatterns:GQ,defaultMatchWidth:"wide",parsePatterns:QQ,defaultParseWidth:"any"}),quarter:Ju({matchPatterns:XQ,defaultMatchWidth:"wide",parsePatterns:JQ,defaultParseWidth:"any",valueCallback:function(e){return e+1}}),month:Ju({matchPatterns:ZQ,defaultMatchWidth:"wide",parsePatterns:eX,defaultParseWidth:"any"}),day:Ju({matchPatterns:tX,defaultMatchWidth:"wide",parsePatterns:nX,defaultParseWidth:"any"}),dayPeriod:Ju({matchPatterns:rX,defaultMatchWidth:"any",parsePatterns:iX,defaultParseWidth:"any"})};const oX=sX;var aX={code:"en-US",formatDistance:CQ,formatLong:RQ,formatRelative:NQ,localize:jQ,match:oX,options:{weekStartsOn:0,firstWeekContainsDate:1}};const YD=aX;var lX=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,uX=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,cX=/^'([^]*?)'?$/,dX=/''/g,hX=/[a-zA-Z]/;function Io(t,e,n){var r,i,s,o,a,l,u,c,h,f,p,g,w,I,k,P,T,_;Be(2,arguments);var L=String(e),V=fs(),S=(r=(i=n==null?void 0:n.locale)!==null&&i!==void 0?i:V.locale)!==null&&r!==void 0?r:YD,E=nt((s=(o=(a=(l=n==null?void 0:n.firstWeekContainsDate)!==null&&l!==void 0?l:n==null||(u=n.locale)===null||u===void 0||(c=u.options)===null||c===void 0?void 0:c.firstWeekContainsDate)!==null&&a!==void 0?a:V.firstWeekContainsDate)!==null&&o!==void 0?o:(h=V.locale)===null||h===void 0||(f=h.options)===null||f===void 0?void 0:f.firstWeekContainsDate)!==null&&s!==void 0?s:1);if(!(E>=1&&E<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var b=nt((p=(g=(w=(I=n==null?void 0:n.weekStartsOn)!==null&&I!==void 0?I:n==null||(k=n.locale)===null||k===void 0||(P=k.options)===null||P===void 0?void 0:P.weekStartsOn)!==null&&w!==void 0?w:V.weekStartsOn)!==null&&g!==void 0?g:(T=V.locale)===null||T===void 0||(_=T.options)===null||_===void 0?void 0:_.weekStartsOn)!==null&&p!==void 0?p:0);if(!(b>=0&&b<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!S.localize)throw new RangeError("locale must contain localize property");if(!S.formatLong)throw new RangeError("locale must contain formatLong property");var v=Qe(t);if(!Vc(v))throw new RangeError("Invalid time value");var C=Ap(v),A=BD(v,C),O={firstWeekContainsDate:E,weekStartsOn:b,locale:S,_originalDate:v},Y=L.match(uX).map(function(U){var j=U[0];if(j==="p"||j==="P"){var q=e_[j];return q(U,S.formatLong)}return U}).join("").match(lX).map(function(U){if(U==="''")return"'";var j=U[0];if(j==="'")return fX(U);var q=bQ[j];if(q)return!(n!=null&&n.useAdditionalWeekYearTokens)&&KD(U)&&Op(U,e,String(t)),!(n!=null&&n.useAdditionalDayOfYearTokens)&&zD(U)&&Op(U,e,String(t)),q(A,U,S.localize,O);if(j.match(hX))throw new RangeError("Format string contains an unescaped latin alphabet character `"+j+"`");return U}).join("");return Y}function fX(t){var e=t.match(cX);return e?e[1].replace(dX,"'"):t}function pX(t,e){if(t==null)throw new TypeError("assign requires that input parameter not be null or undefined");for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}function mX(t){Be(1,arguments);var e=Qe(t),n=e.getDay();return n}function gX(t){Be(1,arguments);var e=Qe(t),n=e.getFullYear(),r=e.getMonth(),i=new Date(0);return i.setFullYear(n,r+1,0),i.setHours(0,0,0,0),i.getDate()}function xi(t){Be(1,arguments);var e=Qe(t),n=e.getHours();return n}var vX=6048e5;function yX(t){Be(1,arguments);var e=Qe(t),n=Cp(e).getTime()-iQ(e).getTime();return Math.round(n/vX)+1}function as(t){Be(1,arguments);var e=Qe(t),n=e.getMinutes();return n}function Ot(t){Be(1,arguments);var e=Qe(t),n=e.getMonth();return n}function au(t){Be(1,arguments);var e=Qe(t),n=e.getSeconds();return n}function _X(t,e){var n,r,i,s,o,a,l,u;Be(1,arguments);var c=Qe(t),h=c.getFullYear(),f=fs(),p=nt((n=(r=(i=(s=e==null?void 0:e.firstWeekContainsDate)!==null&&s!==void 0?s:e==null||(o=e.locale)===null||o===void 0||(a=o.options)===null||a===void 0?void 0:a.firstWeekContainsDate)!==null&&i!==void 0?i:f.firstWeekContainsDate)!==null&&r!==void 0?r:(l=f.locale)===null||l===void 0||(u=l.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&n!==void 0?n:1);if(!(p>=1&&p<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var g=new Date(0);g.setFullYear(h+1,0,p),g.setHours(0,0,0,0);var w=xa(g,e),I=new Date(0);I.setFullYear(h,0,p),I.setHours(0,0,0,0);var k=xa(I,e);return c.getTime()>=w.getTime()?h+1:c.getTime()>=k.getTime()?h:h-1}function bX(t,e){var n,r,i,s,o,a,l,u;Be(1,arguments);var c=fs(),h=nt((n=(r=(i=(s=e==null?void 0:e.firstWeekContainsDate)!==null&&s!==void 0?s:e==null||(o=e.locale)===null||o===void 0||(a=o.options)===null||a===void 0?void 0:a.firstWeekContainsDate)!==null&&i!==void 0?i:c.firstWeekContainsDate)!==null&&r!==void 0?r:(l=c.locale)===null||l===void 0||(u=l.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&n!==void 0?n:1),f=_X(t,e),p=new Date(0);p.setFullYear(f,0,h),p.setHours(0,0,0,0);var g=xa(p,e);return g}var wX=6048e5;function TX(t,e){Be(1,arguments);var n=Qe(t),r=xa(n,e).getTime()-bX(n,e).getTime();return Math.round(r/wX)+1}function ht(t){return Be(1,arguments),Qe(t).getFullYear()}function Ad(t,e){Be(2,arguments);var n=Qe(t),r=Qe(e);return n.getTime()>r.getTime()}function Od(t,e){Be(2,arguments);var n=Qe(t),r=Qe(e);return n.getTime()<r.getTime()}function _l(t,e){Be(2,arguments);var n=Qe(t),r=Qe(e);return n.getTime()===r.getTime()}function dS(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function EX(t,e){if(t){if(typeof t=="string")return dS(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?dS(t,e):void 0}}function hS(t,e){var n=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=EX(t))||e&&t&&typeof t.length=="number"){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(u){throw u},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var s,o=!0,a=!1;return{s:function(){n=n.call(t)},n:function(){var u=n.next();return o=u.done,u},e:function(u){a=!0,s=u},f:function(){try{o||n.return==null||n.return()}finally{if(a)throw s}}}}function $e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function t_(t,e){return t_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},t_(t,e)}function Pt(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&t_(t,e)}function Pp(t){return Pp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Pp(t)}function GD(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(GD=function(){return!!t})()}function IX(t,e){if(e&&(yi(e)=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $e(t)}function kt(t){var e=GD();return function(){var n,r=Pp(t);if(e){var i=Pp(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return IX(this,n)}}function Tt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function SX(t,e){if(yi(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(yi(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function QD(t){var e=SX(t,"string");return yi(e)=="symbol"?e:e+""}function fS(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,QD(r.key),r)}}function Et(t,e,n){return e&&fS(t.prototype,e),n&&fS(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Ne(t,e,n){return(e=QD(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var CX=10,XD=function(){function t(){Tt(this,t),Ne(this,"priority",void 0),Ne(this,"subPriority",0)}return Et(t,[{key:"validate",value:function(n,r){return!0}}]),t}(),AX=function(t){Pt(n,t);var e=kt(n);function n(r,i,s,o,a){var l;return Tt(this,n),l=e.call(this),l.value=r,l.validateValue=i,l.setValue=s,l.priority=o,a&&(l.subPriority=a),l}return Et(n,[{key:"validate",value:function(i,s){return this.validateValue(i,this.value,s)}},{key:"set",value:function(i,s,o){return this.setValue(i,s,this.value,o)}}]),n}(XD),OX=function(t){Pt(n,t);var e=kt(n);function n(){var r;Tt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Ne($e(r),"priority",CX),Ne($e(r),"subPriority",-1),r}return Et(n,[{key:"set",value:function(i,s){if(s.timestampIsSet)return i;var o=new Date(0);return o.setFullYear(i.getUTCFullYear(),i.getUTCMonth(),i.getUTCDate()),o.setHours(i.getUTCHours(),i.getUTCMinutes(),i.getUTCSeconds(),i.getUTCMilliseconds()),o}}]),n}(XD),Ut=function(){function t(){Tt(this,t),Ne(this,"incompatibleTokens",void 0),Ne(this,"priority",void 0),Ne(this,"subPriority",void 0)}return Et(t,[{key:"run",value:function(n,r,i,s){var o=this.parse(n,r,i,s);return o?{setter:new AX(o.value,this.validate,this.set,this.priority,this.subPriority),rest:o.rest}:null}},{key:"validate",value:function(n,r,i){return!0}}]),t}(),PX=function(t){Pt(n,t);var e=kt(n);function n(){var r;Tt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Ne($e(r),"priority",140),Ne($e(r),"incompatibleTokens",["R","u","t","T"]),r}return Et(n,[{key:"parse",value:function(i,s,o){switch(s){case"G":case"GG":case"GGG":return o.era(i,{width:"abbreviated"})||o.era(i,{width:"narrow"});case"GGGGG":return o.era(i,{width:"narrow"});case"GGGG":default:return o.era(i,{width:"wide"})||o.era(i,{width:"abbreviated"})||o.era(i,{width:"narrow"})}}},{key:"set",value:function(i,s,o){return s.era=o,i.setUTCFullYear(o,0,1),i.setUTCHours(0,0,0,0),i}}]),n}(Ut),On={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},Qi={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function Pn(t,e){return t&&{value:e(t.value),rest:t.rest}}function yn(t,e){var n=e.match(t);return n?{value:parseInt(n[0],10),rest:e.slice(n[0].length)}:null}function Xi(t,e){var n=e.match(t);if(!n)return null;if(n[0]==="Z")return{value:0,rest:e.slice(1)};var r=n[1]==="+"?1:-1,i=n[2]?parseInt(n[2],10):0,s=n[3]?parseInt(n[3],10):0,o=n[5]?parseInt(n[5],10):0;return{value:r*(i*Mb+s*Nb+o*lQ),rest:e.slice(n[0].length)}}function JD(t){return yn(On.anyDigitsSigned,t)}function En(t,e){switch(t){case 1:return yn(On.singleDigit,e);case 2:return yn(On.twoDigits,e);case 3:return yn(On.threeDigits,e);case 4:return yn(On.fourDigits,e);default:return yn(new RegExp("^\\d{1,"+t+"}"),e)}}function kp(t,e){switch(t){case 1:return yn(On.singleDigitSigned,e);case 2:return yn(On.twoDigitsSigned,e);case 3:return yn(On.threeDigitsSigned,e);case 4:return yn(On.fourDigitsSigned,e);default:return yn(new RegExp("^-?\\d{1,"+t+"}"),e)}}function Vb(t){switch(t){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function ZD(t,e){var n=e>0,r=n?e:1-e,i;if(r<=50)i=t||100;else{var s=r+50,o=Math.floor(s/100)*100,a=t>=s%100;i=t+o-(a?100:0)}return n?i:1-i}function ex(t){return t%400===0||t%4===0&&t%100!==0}var kX=function(t){Pt(n,t);var e=kt(n);function n(){var r;Tt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Ne($e(r),"priority",130),Ne($e(r),"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"]),r}return Et(n,[{key:"parse",value:function(i,s,o){var a=function(u){return{year:u,isTwoDigitYear:s==="yy"}};switch(s){case"y":return Pn(En(4,i),a);case"yo":return Pn(o.ordinalNumber(i,{unit:"year"}),a);default:return Pn(En(s.length,i),a)}}},{key:"validate",value:function(i,s){return s.isTwoDigitYear||s.year>0}},{key:"set",value:function(i,s,o){var a=i.getUTCFullYear();if(o.isTwoDigitYear){var l=ZD(o.year,a);return i.setUTCFullYear(l,0,1),i.setUTCHours(0,0,0,0),i}var u=!("era"in s)||s.era===1?o.year:1-o.year;return i.setUTCFullYear(u,0,1),i.setUTCHours(0,0,0,0),i}}]),n}(Ut),RX=function(t){Pt(n,t);var e=kt(n);function n(){var r;Tt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Ne($e(r),"priority",130),Ne($e(r),"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"]),r}return Et(n,[{key:"parse",value:function(i,s,o){var a=function(u){return{year:u,isTwoDigitYear:s==="YY"}};switch(s){case"Y":return Pn(En(4,i),a);case"Yo":return Pn(o.ordinalNumber(i,{unit:"year"}),a);default:return Pn(En(s.length,i),a)}}},{key:"validate",value:function(i,s){return s.isTwoDigitYear||s.year>0}},{key:"set",value:function(i,s,o,a){var l=Lb(i,a);if(o.isTwoDigitYear){var u=ZD(o.year,l);return i.setUTCFullYear(u,0,a.firstWeekContainsDate),i.setUTCHours(0,0,0,0),Na(i,a)}var c=!("era"in s)||s.era===1?o.year:1-o.year;return i.setUTCFullYear(c,0,a.firstWeekContainsDate),i.setUTCHours(0,0,0,0),Na(i,a)}}]),n}(Ut),DX=function(t){Pt(n,t);var e=kt(n);function n(){var r;Tt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Ne($e(r),"priority",130),Ne($e(r),"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"]),r}return Et(n,[{key:"parse",value:function(i,s){return kp(s==="R"?4:s.length,i)}},{key:"set",value:function(i,s,o){var a=new Date(0);return a.setUTCFullYear(o,0,4),a.setUTCHours(0,0,0,0),ou(a)}}]),n}(Ut),xX=function(t){Pt(n,t);var e=kt(n);function n(){var r;Tt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Ne($e(r),"priority",130),Ne($e(r),"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"]),r}return Et(n,[{key:"parse",value:function(i,s){return kp(s==="u"?4:s.length,i)}},{key:"set",value:function(i,s,o){return i.setUTCFullYear(o,0,1),i.setUTCHours(0,0,0,0),i}}]),n}(Ut),NX=function(t){Pt(n,t);var e=kt(n);function n(){var r;Tt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Ne($e(r),"priority",120),Ne($e(r),"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"]),r}return Et(n,[{key:"parse",value:function(i,s,o){switch(s){case"Q":case"QQ":return En(s.length,i);case"Qo":return o.ordinalNumber(i,{unit:"quarter"});case"QQQ":return o.quarter(i,{width:"abbreviated",context:"formatting"})||o.quarter(i,{width:"narrow",context:"formatting"});case"QQQQQ":return o.quarter(i,{width:"narrow",context:"formatting"});case"QQQQ":default:return o.quarter(i,{width:"wide",context:"formatting"})||o.quarter(i,{width:"abbreviated",context:"formatting"})||o.quarter(i,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(i,s){return s>=1&&s<=4}},{key:"set",value:function(i,s,o){return i.setUTCMonth((o-1)*3,1),i.setUTCHours(0,0,0,0),i}}]),n}(Ut),MX=function(t){Pt(n,t);var e=kt(n);function n(){var r;Tt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Ne($e(r),"priority",120),Ne($e(r),"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"]),r}return Et(n,[{key:"parse",value:function(i,s,o){switch(s){case"q":case"qq":return En(s.length,i);case"qo":return o.ordinalNumber(i,{unit:"quarter"});case"qqq":return o.quarter(i,{width:"abbreviated",context:"standalone"})||o.quarter(i,{width:"narrow",context:"standalone"});case"qqqqq":return o.quarter(i,{width:"narrow",context:"standalone"});case"qqqq":default:return o.quarter(i,{width:"wide",context:"standalone"})||o.quarter(i,{width:"abbreviated",context:"standalone"})||o.quarter(i,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(i,s){return s>=1&&s<=4}},{key:"set",value:function(i,s,o){return i.setUTCMonth((o-1)*3,1),i.setUTCHours(0,0,0,0),i}}]),n}(Ut),LX=function(t){Pt(n,t);var e=kt(n);function n(){var r;Tt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Ne($e(r),"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]),Ne($e(r),"priority",110),r}return Et(n,[{key:"parse",value:function(i,s,o){var a=function(u){return u-1};switch(s){case"M":return Pn(yn(On.month,i),a);case"MM":return Pn(En(2,i),a);case"Mo":return Pn(o.ordinalNumber(i,{unit:"month"}),a);case"MMM":return o.month(i,{width:"abbreviated",context:"formatting"})||o.month(i,{width:"narrow",context:"formatting"});case"MMMMM":return o.month(i,{width:"narrow",context:"formatting"});case"MMMM":default:return o.month(i,{width:"wide",context:"formatting"})||o.month(i,{width:"abbreviated",context:"formatting"})||o.month(i,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(i,s){return s>=0&&s<=11}},{key:"set",value:function(i,s,o){return i.setUTCMonth(o,1),i.setUTCHours(0,0,0,0),i}}]),n}(Ut),VX=function(t){Pt(n,t);var e=kt(n);function n(){var r;Tt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Ne($e(r),"priority",110),Ne($e(r),"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"]),r}return Et(n,[{key:"parse",value:function(i,s,o){var a=function(u){return u-1};switch(s){case"L":return Pn(yn(On.month,i),a);case"LL":return Pn(En(2,i),a);case"Lo":return Pn(o.ordinalNumber(i,{unit:"month"}),a);case"LLL":return o.month(i,{width:"abbreviated",context:"standalone"})||o.month(i,{width:"narrow",context:"standalone"});case"LLLLL":return o.month(i,{width:"narrow",context:"standalone"});case"LLLL":default:return o.month(i,{width:"wide",context:"standalone"})||o.month(i,{width:"abbreviated",context:"standalone"})||o.month(i,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(i,s){return s>=0&&s<=11}},{key:"set",value:function(i,s,o){return i.setUTCMonth(o,1),i.setUTCHours(0,0,0,0),i}}]),n}(Ut);function FX(t,e,n){Be(2,arguments);var r=Qe(t),i=nt(e),s=WD(r,n)-i;return r.setUTCDate(r.getUTCDate()-s*7),r}var $X=function(t){Pt(n,t);var e=kt(n);function n(){var r;Tt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Ne($e(r),"priority",100),Ne($e(r),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"]),r}return Et(n,[{key:"parse",value:function(i,s,o){switch(s){case"w":return yn(On.week,i);case"wo":return o.ordinalNumber(i,{unit:"week"});default:return En(s.length,i)}}},{key:"validate",value:function(i,s){return s>=1&&s<=53}},{key:"set",value:function(i,s,o,a){return Na(FX(i,o,a),a)}}]),n}(Ut);function UX(t,e){Be(2,arguments);var n=Qe(t),r=nt(e),i=jD(n)-r;return n.setUTCDate(n.getUTCDate()-i*7),n}var BX=function(t){Pt(n,t);var e=kt(n);function n(){var r;Tt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Ne($e(r),"priority",100),Ne($e(r),"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"]),r}return Et(n,[{key:"parse",value:function(i,s,o){switch(s){case"I":return yn(On.week,i);case"Io":return o.ordinalNumber(i,{unit:"week"});default:return En(s.length,i)}}},{key:"validate",value:function(i,s){return s>=1&&s<=53}},{key:"set",value:function(i,s,o){return ou(UX(i,o))}}]),n}(Ut),HX=[31,28,31,30,31,30,31,31,30,31,30,31],jX=[31,29,31,30,31,30,31,31,30,31,30,31],WX=function(t){Pt(n,t);var e=kt(n);function n(){var r;Tt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Ne($e(r),"priority",90),Ne($e(r),"subPriority",1),Ne($e(r),"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"]),r}return Et(n,[{key:"parse",value:function(i,s,o){switch(s){case"d":return yn(On.date,i);case"do":return o.ordinalNumber(i,{unit:"date"});default:return En(s.length,i)}}},{key:"validate",value:function(i,s){var o=i.getUTCFullYear(),a=ex(o),l=i.getUTCMonth();return a?s>=1&&s<=jX[l]:s>=1&&s<=HX[l]}},{key:"set",value:function(i,s,o){return i.setUTCDate(o),i.setUTCHours(0,0,0,0),i}}]),n}(Ut),qX=function(t){Pt(n,t);var e=kt(n);function n(){var r;Tt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Ne($e(r),"priority",90),Ne($e(r),"subpriority",1),Ne($e(r),"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"]),r}return Et(n,[{key:"parse",value:function(i,s,o){switch(s){case"D":case"DD":return yn(On.dayOfYear,i);case"Do":return o.ordinalNumber(i,{unit:"date"});default:return En(s.length,i)}}},{key:"validate",value:function(i,s){var o=i.getUTCFullYear(),a=ex(o);return a?s>=1&&s<=366:s>=1&&s<=365}},{key:"set",value:function(i,s,o){return i.setUTCMonth(0,o),i.setUTCHours(0,0,0,0),i}}]),n}(Ut);function Fb(t,e,n){var r,i,s,o,a,l,u,c;Be(2,arguments);var h=fs(),f=nt((r=(i=(s=(o=n==null?void 0:n.weekStartsOn)!==null&&o!==void 0?o:n==null||(a=n.locale)===null||a===void 0||(l=a.options)===null||l===void 0?void 0:l.weekStartsOn)!==null&&s!==void 0?s:h.weekStartsOn)!==null&&i!==void 0?i:(u=h.locale)===null||u===void 0||(c=u.options)===null||c===void 0?void 0:c.weekStartsOn)!==null&&r!==void 0?r:0);if(!(f>=0&&f<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var p=Qe(t),g=nt(e),w=p.getUTCDay(),I=g%7,k=(I+7)%7,P=(k<f?7:0)+g-w;return p.setUTCDate(p.getUTCDate()+P),p}var zX=function(t){Pt(n,t);var e=kt(n);function n(){var r;Tt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Ne($e(r),"priority",90),Ne($e(r),"incompatibleTokens",["D","i","e","c","t","T"]),r}return Et(n,[{key:"parse",value:function(i,s,o){switch(s){case"E":case"EE":case"EEE":return o.day(i,{width:"abbreviated",context:"formatting"})||o.day(i,{width:"short",context:"formatting"})||o.day(i,{width:"narrow",context:"formatting"});case"EEEEE":return o.day(i,{width:"narrow",context:"formatting"});case"EEEEEE":return o.day(i,{width:"short",context:"formatting"})||o.day(i,{width:"narrow",context:"formatting"});case"EEEE":default:return o.day(i,{width:"wide",context:"formatting"})||o.day(i,{width:"abbreviated",context:"formatting"})||o.day(i,{width:"short",context:"formatting"})||o.day(i,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(i,s){return s>=0&&s<=6}},{key:"set",value:function(i,s,o,a){return i=Fb(i,o,a),i.setUTCHours(0,0,0,0),i}}]),n}(Ut),KX=function(t){Pt(n,t);var e=kt(n);function n(){var r;Tt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Ne($e(r),"priority",90),Ne($e(r),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"]),r}return Et(n,[{key:"parse",value:function(i,s,o,a){var l=function(c){var h=Math.floor((c-1)/7)*7;return(c+a.weekStartsOn+6)%7+h};switch(s){case"e":case"ee":return Pn(En(s.length,i),l);case"eo":return Pn(o.ordinalNumber(i,{unit:"day"}),l);case"eee":return o.day(i,{width:"abbreviated",context:"formatting"})||o.day(i,{width:"short",context:"formatting"})||o.day(i,{width:"narrow",context:"formatting"});case"eeeee":return o.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return o.day(i,{width:"short",context:"formatting"})||o.day(i,{width:"narrow",context:"formatting"});case"eeee":default:return o.day(i,{width:"wide",context:"formatting"})||o.day(i,{width:"abbreviated",context:"formatting"})||o.day(i,{width:"short",context:"formatting"})||o.day(i,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(i,s){return s>=0&&s<=6}},{key:"set",value:function(i,s,o,a){return i=Fb(i,o,a),i.setUTCHours(0,0,0,0),i}}]),n}(Ut),YX=function(t){Pt(n,t);var e=kt(n);function n(){var r;Tt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Ne($e(r),"priority",90),Ne($e(r),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"]),r}return Et(n,[{key:"parse",value:function(i,s,o,a){var l=function(c){var h=Math.floor((c-1)/7)*7;return(c+a.weekStartsOn+6)%7+h};switch(s){case"c":case"cc":return Pn(En(s.length,i),l);case"co":return Pn(o.ordinalNumber(i,{unit:"day"}),l);case"ccc":return o.day(i,{width:"abbreviated",context:"standalone"})||o.day(i,{width:"short",context:"standalone"})||o.day(i,{width:"narrow",context:"standalone"});case"ccccc":return o.day(i,{width:"narrow",context:"standalone"});case"cccccc":return o.day(i,{width:"short",context:"standalone"})||o.day(i,{width:"narrow",context:"standalone"});case"cccc":default:return o.day(i,{width:"wide",context:"standalone"})||o.day(i,{width:"abbreviated",context:"standalone"})||o.day(i,{width:"short",context:"standalone"})||o.day(i,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(i,s){return s>=0&&s<=6}},{key:"set",value:function(i,s,o,a){return i=Fb(i,o,a),i.setUTCHours(0,0,0,0),i}}]),n}(Ut);function GX(t,e){Be(2,arguments);var n=nt(e);n%7===0&&(n=n-7);var r=1,i=Qe(t),s=i.getUTCDay(),o=n%7,a=(o+7)%7,l=(a<r?7:0)+n-s;return i.setUTCDate(i.getUTCDate()+l),i}var QX=function(t){Pt(n,t);var e=kt(n);function n(){var r;Tt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Ne($e(r),"priority",90),Ne($e(r),"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"]),r}return Et(n,[{key:"parse",value:function(i,s,o){var a=function(u){return u===0?7:u};switch(s){case"i":case"ii":return En(s.length,i);case"io":return o.ordinalNumber(i,{unit:"day"});case"iii":return Pn(o.day(i,{width:"abbreviated",context:"formatting"})||o.day(i,{width:"short",context:"formatting"})||o.day(i,{width:"narrow",context:"formatting"}),a);case"iiiii":return Pn(o.day(i,{width:"narrow",context:"formatting"}),a);case"iiiiii":return Pn(o.day(i,{width:"short",context:"formatting"})||o.day(i,{width:"narrow",context:"formatting"}),a);case"iiii":default:return Pn(o.day(i,{width:"wide",context:"formatting"})||o.day(i,{width:"abbreviated",context:"formatting"})||o.day(i,{width:"short",context:"formatting"})||o.day(i,{width:"narrow",context:"formatting"}),a)}}},{key:"validate",value:function(i,s){return s>=1&&s<=7}},{key:"set",value:function(i,s,o){return i=GX(i,o),i.setUTCHours(0,0,0,0),i}}]),n}(Ut),XX=function(t){Pt(n,t);var e=kt(n);function n(){var r;Tt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Ne($e(r),"priority",80),Ne($e(r),"incompatibleTokens",["b","B","H","k","t","T"]),r}return Et(n,[{key:"parse",value:function(i,s,o){switch(s){case"a":case"aa":case"aaa":return o.dayPeriod(i,{width:"abbreviated",context:"formatting"})||o.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaaa":return o.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return o.dayPeriod(i,{width:"wide",context:"formatting"})||o.dayPeriod(i,{width:"abbreviated",context:"formatting"})||o.dayPeriod(i,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(i,s,o){return i.setUTCHours(Vb(o),0,0,0),i}}]),n}(Ut),JX=function(t){Pt(n,t);var e=kt(n);function n(){var r;Tt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Ne($e(r),"priority",80),Ne($e(r),"incompatibleTokens",["a","B","H","k","t","T"]),r}return Et(n,[{key:"parse",value:function(i,s,o){switch(s){case"b":case"bb":case"bbb":return o.dayPeriod(i,{width:"abbreviated",context:"formatting"})||o.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbbb":return o.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return o.dayPeriod(i,{width:"wide",context:"formatting"})||o.dayPeriod(i,{width:"abbreviated",context:"formatting"})||o.dayPeriod(i,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(i,s,o){return i.setUTCHours(Vb(o),0,0,0),i}}]),n}(Ut),ZX=function(t){Pt(n,t);var e=kt(n);function n(){var r;Tt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Ne($e(r),"priority",80),Ne($e(r),"incompatibleTokens",["a","b","t","T"]),r}return Et(n,[{key:"parse",value:function(i,s,o){switch(s){case"B":case"BB":case"BBB":return o.dayPeriod(i,{width:"abbreviated",context:"formatting"})||o.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBBB":return o.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return o.dayPeriod(i,{width:"wide",context:"formatting"})||o.dayPeriod(i,{width:"abbreviated",context:"formatting"})||o.dayPeriod(i,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(i,s,o){return i.setUTCHours(Vb(o),0,0,0),i}}]),n}(Ut),eJ=function(t){Pt(n,t);var e=kt(n);function n(){var r;Tt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Ne($e(r),"priority",70),Ne($e(r),"incompatibleTokens",["H","K","k","t","T"]),r}return Et(n,[{key:"parse",value:function(i,s,o){switch(s){case"h":return yn(On.hour12h,i);case"ho":return o.ordinalNumber(i,{unit:"hour"});default:return En(s.length,i)}}},{key:"validate",value:function(i,s){return s>=1&&s<=12}},{key:"set",value:function(i,s,o){var a=i.getUTCHours()>=12;return a&&o<12?i.setUTCHours(o+12,0,0,0):!a&&o===12?i.setUTCHours(0,0,0,0):i.setUTCHours(o,0,0,0),i}}]),n}(Ut),tJ=function(t){Pt(n,t);var e=kt(n);function n(){var r;Tt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Ne($e(r),"priority",70),Ne($e(r),"incompatibleTokens",["a","b","h","K","k","t","T"]),r}return Et(n,[{key:"parse",value:function(i,s,o){switch(s){case"H":return yn(On.hour23h,i);case"Ho":return o.ordinalNumber(i,{unit:"hour"});default:return En(s.length,i)}}},{key:"validate",value:function(i,s){return s>=0&&s<=23}},{key:"set",value:function(i,s,o){return i.setUTCHours(o,0,0,0),i}}]),n}(Ut),nJ=function(t){Pt(n,t);var e=kt(n);function n(){var r;Tt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Ne($e(r),"priority",70),Ne($e(r),"incompatibleTokens",["h","H","k","t","T"]),r}return Et(n,[{key:"parse",value:function(i,s,o){switch(s){case"K":return yn(On.hour11h,i);case"Ko":return o.ordinalNumber(i,{unit:"hour"});default:return En(s.length,i)}}},{key:"validate",value:function(i,s){return s>=0&&s<=11}},{key:"set",value:function(i,s,o){var a=i.getUTCHours()>=12;return a&&o<12?i.setUTCHours(o+12,0,0,0):i.setUTCHours(o,0,0,0),i}}]),n}(Ut),rJ=function(t){Pt(n,t);var e=kt(n);function n(){var r;Tt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Ne($e(r),"priority",70),Ne($e(r),"incompatibleTokens",["a","b","h","H","K","t","T"]),r}return Et(n,[{key:"parse",value:function(i,s,o){switch(s){case"k":return yn(On.hour24h,i);case"ko":return o.ordinalNumber(i,{unit:"hour"});default:return En(s.length,i)}}},{key:"validate",value:function(i,s){return s>=1&&s<=24}},{key:"set",value:function(i,s,o){var a=o<=24?o%24:o;return i.setUTCHours(a,0,0,0),i}}]),n}(Ut),iJ=function(t){Pt(n,t);var e=kt(n);function n(){var r;Tt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Ne($e(r),"priority",60),Ne($e(r),"incompatibleTokens",["t","T"]),r}return Et(n,[{key:"parse",value:function(i,s,o){switch(s){case"m":return yn(On.minute,i);case"mo":return o.ordinalNumber(i,{unit:"minute"});default:return En(s.length,i)}}},{key:"validate",value:function(i,s){return s>=0&&s<=59}},{key:"set",value:function(i,s,o){return i.setUTCMinutes(o,0,0),i}}]),n}(Ut),sJ=function(t){Pt(n,t);var e=kt(n);function n(){var r;Tt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Ne($e(r),"priority",50),Ne($e(r),"incompatibleTokens",["t","T"]),r}return Et(n,[{key:"parse",value:function(i,s,o){switch(s){case"s":return yn(On.second,i);case"so":return o.ordinalNumber(i,{unit:"second"});default:return En(s.length,i)}}},{key:"validate",value:function(i,s){return s>=0&&s<=59}},{key:"set",value:function(i,s,o){return i.setUTCSeconds(o,0),i}}]),n}(Ut),oJ=function(t){Pt(n,t);var e=kt(n);function n(){var r;Tt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Ne($e(r),"priority",30),Ne($e(r),"incompatibleTokens",["t","T"]),r}return Et(n,[{key:"parse",value:function(i,s){var o=function(l){return Math.floor(l*Math.pow(10,-s.length+3))};return Pn(En(s.length,i),o)}},{key:"set",value:function(i,s,o){return i.setUTCMilliseconds(o),i}}]),n}(Ut),aJ=function(t){Pt(n,t);var e=kt(n);function n(){var r;Tt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Ne($e(r),"priority",10),Ne($e(r),"incompatibleTokens",["t","T","x"]),r}return Et(n,[{key:"parse",value:function(i,s){switch(s){case"X":return Xi(Qi.basicOptionalMinutes,i);case"XX":return Xi(Qi.basic,i);case"XXXX":return Xi(Qi.basicOptionalSeconds,i);case"XXXXX":return Xi(Qi.extendedOptionalSeconds,i);case"XXX":default:return Xi(Qi.extended,i)}}},{key:"set",value:function(i,s,o){return s.timestampIsSet?i:new Date(i.getTime()-o)}}]),n}(Ut),lJ=function(t){Pt(n,t);var e=kt(n);function n(){var r;Tt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Ne($e(r),"priority",10),Ne($e(r),"incompatibleTokens",["t","T","X"]),r}return Et(n,[{key:"parse",value:function(i,s){switch(s){case"x":return Xi(Qi.basicOptionalMinutes,i);case"xx":return Xi(Qi.basic,i);case"xxxx":return Xi(Qi.basicOptionalSeconds,i);case"xxxxx":return Xi(Qi.extendedOptionalSeconds,i);case"xxx":default:return Xi(Qi.extended,i)}}},{key:"set",value:function(i,s,o){return s.timestampIsSet?i:new Date(i.getTime()-o)}}]),n}(Ut),uJ=function(t){Pt(n,t);var e=kt(n);function n(){var r;Tt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Ne($e(r),"priority",40),Ne($e(r),"incompatibleTokens","*"),r}return Et(n,[{key:"parse",value:function(i){return JD(i)}},{key:"set",value:function(i,s,o){return[new Date(o*1e3),{timestampIsSet:!0}]}}]),n}(Ut),cJ=function(t){Pt(n,t);var e=kt(n);function n(){var r;Tt(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Ne($e(r),"priority",20),Ne($e(r),"incompatibleTokens","*"),r}return Et(n,[{key:"parse",value:function(i){return JD(i)}},{key:"set",value:function(i,s,o){return[new Date(o),{timestampIsSet:!0}]}}]),n}(Ut),dJ={G:new PX,y:new kX,Y:new RX,R:new DX,u:new xX,Q:new NX,q:new MX,M:new LX,L:new VX,w:new $X,I:new BX,d:new WX,D:new qX,E:new zX,e:new KX,c:new YX,i:new QX,a:new XX,b:new JX,B:new ZX,h:new eJ,H:new tJ,K:new nJ,k:new rJ,m:new iJ,s:new sJ,S:new oJ,X:new aJ,x:new lJ,t:new uJ,T:new cJ},hJ=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,fJ=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,pJ=/^'([^]*?)'?$/,mJ=/''/g,gJ=/\S/,vJ=/[a-zA-Z]/;function n_(t,e,n,r){var i,s,o,a,l,u,c,h,f,p,g,w,I,k,P,T,_,L;Be(3,arguments);var V=String(t),S=String(e),E=fs(),b=(i=(s=r==null?void 0:r.locale)!==null&&s!==void 0?s:E.locale)!==null&&i!==void 0?i:YD;if(!b.match)throw new RangeError("locale must contain match property");var v=nt((o=(a=(l=(u=r==null?void 0:r.firstWeekContainsDate)!==null&&u!==void 0?u:r==null||(c=r.locale)===null||c===void 0||(h=c.options)===null||h===void 0?void 0:h.firstWeekContainsDate)!==null&&l!==void 0?l:E.firstWeekContainsDate)!==null&&a!==void 0?a:(f=E.locale)===null||f===void 0||(p=f.options)===null||p===void 0?void 0:p.firstWeekContainsDate)!==null&&o!==void 0?o:1);if(!(v>=1&&v<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var C=nt((g=(w=(I=(k=r==null?void 0:r.weekStartsOn)!==null&&k!==void 0?k:r==null||(P=r.locale)===null||P===void 0||(T=P.options)===null||T===void 0?void 0:T.weekStartsOn)!==null&&I!==void 0?I:E.weekStartsOn)!==null&&w!==void 0?w:(_=E.locale)===null||_===void 0||(L=_.options)===null||L===void 0?void 0:L.weekStartsOn)!==null&&g!==void 0?g:0);if(!(C>=0&&C<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(S==="")return V===""?Qe(n):new Date(NaN);var A={firstWeekContainsDate:v,weekStartsOn:C,locale:b},O=[new OX],Y=S.match(fJ).map(function(oe){var J=oe[0];if(J in e_){var fe=e_[J];return fe(oe,b.formatLong)}return oe}).join("").match(hJ),U=[],j=hS(Y),q;try{var X=function(){var J=q.value;!(r!=null&&r.useAdditionalWeekYearTokens)&&KD(J)&&Op(J,S,t),!(r!=null&&r.useAdditionalDayOfYearTokens)&&zD(J)&&Op(J,S,t);var fe=J[0],be=dJ[fe];if(be){var re=be.incompatibleTokens;if(Array.isArray(re)){var D=U.find(function(H){return re.includes(H.token)||H.token===fe});if(D)throw new RangeError("The format string mustn't contain `".concat(D.fullToken,"` and `").concat(J,"` at the same time"))}else if(be.incompatibleTokens==="*"&&U.length>0)throw new RangeError("The format string mustn't contain `".concat(J,"` and any other token at the same time"));U.push({token:fe,fullToken:J});var F=be.run(V,J,b.match,A);if(!F)return{v:new Date(NaN)};O.push(F.setter),V=F.rest}else{if(fe.match(vJ))throw new RangeError("Format string contains an unescaped latin alphabet character `"+fe+"`");if(J==="''"?J="'":fe==="'"&&(J=yJ(J)),V.indexOf(J)===0)V=V.slice(J.length);else return{v:new Date(NaN)}}};for(j.s();!(q=j.n()).done;){var $=X();if(yi($)==="object")return $.v}}catch(oe){j.e(oe)}finally{j.f()}if(V.length>0&&gJ.test(V))return new Date(NaN);var x=O.map(function(oe){return oe.priority}).sort(function(oe,J){return J-oe}).filter(function(oe,J,fe){return fe.indexOf(oe)===J}).map(function(oe){return O.filter(function(J){return J.priority===oe}).sort(function(J,fe){return fe.subPriority-J.subPriority})}).map(function(oe){return oe[0]}),te=Qe(n);if(isNaN(te.getTime()))return new Date(NaN);var ee=BD(te,Ap(te)),he={},ge=hS(x),Q;try{for(ge.s();!(Q=ge.n()).done;){var B=Q.value;if(!B.validate(ee,A))return new Date(NaN);var G=B.set(ee,he,A);Array.isArray(G)?(ee=G[0],pX(he,G[1])):ee=G}}catch(oe){ge.e(oe)}finally{ge.f()}return ee}function yJ(t){return t.match(pJ)[1].replace(mJ,"'")}function pS(t,e){Be(2,arguments);var n=Cd(t),r=Cd(e);return n.getTime()===r.getTime()}function _J(t,e){Be(2,arguments);var n=nt(e);return Is(t,-n)}function bJ(t,e){var n;Be(1,arguments);var r=nt((n=e==null?void 0:e.additionalDigits)!==null&&n!==void 0?n:2);if(r!==2&&r!==1&&r!==0)throw new RangeError("additionalDigits must be 0, 1 or 2");if(!(typeof t=="string"||Object.prototype.toString.call(t)==="[object String]"))return new Date(NaN);var i=IJ(t),s;if(i.date){var o=SJ(i.date,r);s=CJ(o.restDateString,o.year)}if(!s||isNaN(s.getTime()))return new Date(NaN);var a=s.getTime(),l=0,u;if(i.time&&(l=AJ(i.time),isNaN(l)))return new Date(NaN);if(i.timezone){if(u=OJ(i.timezone),isNaN(u))return new Date(NaN)}else{var c=new Date(a+l),h=new Date(0);return h.setFullYear(c.getUTCFullYear(),c.getUTCMonth(),c.getUTCDate()),h.setHours(c.getUTCHours(),c.getUTCMinutes(),c.getUTCSeconds(),c.getUTCMilliseconds()),h}return new Date(a+l+u)}var ef={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},wJ=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,TJ=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,EJ=/^([+-])(\d{2})(?::?(\d{2}))?$/;function IJ(t){var e={},n=t.split(ef.dateTimeDelimiter),r;if(n.length>2)return e;if(/:/.test(n[0])?r=n[0]:(e.date=n[0],r=n[1],ef.timeZoneDelimiter.test(e.date)&&(e.date=t.split(ef.timeZoneDelimiter)[0],r=t.substr(e.date.length,t.length))),r){var i=ef.timezone.exec(r);i?(e.time=r.replace(i[1],""),e.timezone=i[1]):e.time=r}return e}function SJ(t,e){var n=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+e)+"})|(\\d{2}|[+-]\\d{"+(2+e)+"})$)"),r=t.match(n);if(!r)return{year:NaN,restDateString:""};var i=r[1]?parseInt(r[1]):null,s=r[2]?parseInt(r[2]):null;return{year:s===null?i:s*100,restDateString:t.slice((r[1]||r[2]).length)}}function CJ(t,e){if(e===null)return new Date(NaN);var n=t.match(wJ);if(!n)return new Date(NaN);var r=!!n[4],i=Zu(n[1]),s=Zu(n[2])-1,o=Zu(n[3]),a=Zu(n[4]),l=Zu(n[5])-1;if(r)return xJ(e,a,l)?PJ(e,a,l):new Date(NaN);var u=new Date(0);return!RJ(e,s,o)||!DJ(e,i)?new Date(NaN):(u.setUTCFullYear(e,s,Math.max(i,o)),u)}function Zu(t){return t?parseInt(t):1}function AJ(t){var e=t.match(TJ);if(!e)return NaN;var n=uv(e[1]),r=uv(e[2]),i=uv(e[3]);return NJ(n,r,i)?n*Mb+r*Nb+i*1e3:NaN}function uv(t){return t&&parseFloat(t.replace(",","."))||0}function OJ(t){if(t==="Z")return 0;var e=t.match(EJ);if(!e)return 0;var n=e[1]==="+"?-1:1,r=parseInt(e[2]),i=e[3]&&parseInt(e[3])||0;return MJ(r,i)?n*(r*Mb+i*Nb):NaN}function PJ(t,e,n){var r=new Date(0);r.setUTCFullYear(t,0,4);var i=r.getUTCDay()||7,s=(e-1)*7+n+1-i;return r.setUTCDate(r.getUTCDate()+s),r}var kJ=[31,null,31,30,31,30,31,31,30,31,30,31];function tx(t){return t%400===0||t%4===0&&t%100!==0}function RJ(t,e,n){return e>=0&&e<=11&&n>=1&&n<=(kJ[e]||(tx(t)?29:28))}function DJ(t,e){return e>=1&&e<=(tx(t)?366:365)}function xJ(t,e,n){return e>=1&&e<=53&&n>=0&&n<=6}function NJ(t,e,n){return t===24?e===0&&n===0:n>=0&&n<60&&e>=0&&e<60&&t>=0&&t<25}function MJ(t,e){return e>=0&&e<=59}function nx(t,e){Be(2,arguments);var n=Qe(t),r=nt(e),i=n.getFullYear(),s=n.getDate(),o=new Date(0);o.setFullYear(i,r,15),o.setHours(0,0,0,0);var a=gX(o);return n.setMonth(r,Math.min(s,a)),n}function dn(t,e){if(Be(2,arguments),yi(e)!=="object"||e===null)throw new RangeError("values parameter must be an object");var n=Qe(t);return isNaN(n.getTime())?new Date(NaN):(e.year!=null&&n.setFullYear(e.year),e.month!=null&&(n=nx(n,e.month)),e.date!=null&&n.setDate(nt(e.date)),e.hours!=null&&n.setHours(nt(e.hours)),e.minutes!=null&&n.setMinutes(nt(e.minutes)),e.seconds!=null&&n.setSeconds(nt(e.seconds)),e.milliseconds!=null&&n.setMilliseconds(nt(e.milliseconds)),n)}function rx(t,e){Be(2,arguments);var n=Qe(t),r=nt(e);return n.setHours(r),n}function $b(t,e){Be(2,arguments);var n=Qe(t),r=nt(e);return n.setMilliseconds(r),n}function ix(t,e){Be(2,arguments);var n=Qe(t),r=nt(e);return n.setMinutes(r),n}function Ub(t,e){Be(2,arguments);var n=Qe(t),r=nt(e);return n.setSeconds(r),n}function es(t,e){Be(2,arguments);var n=Qe(t),r=nt(e);return isNaN(n.getTime())?new Date(NaN):(n.setFullYear(r),n)}function lu(t,e){Be(2,arguments);var n=nt(e);return Di(t,-n)}function LJ(t,e){if(Be(2,arguments),!e||yi(e)!=="object")return new Date(NaN);var n=e.years?nt(e.years):0,r=e.months?nt(e.months):0,i=e.weeks?nt(e.weeks):0,s=e.days?nt(e.days):0,o=e.hours?nt(e.hours):0,a=e.minutes?nt(e.minutes):0,l=e.seconds?nt(e.seconds):0,u=lu(t,r+n*12),c=_J(u,s+i*7),h=a+o*60,f=l+h*60,p=f*1e3,g=new Date(c.getTime()-p);return g}function sx(t,e){Be(2,arguments);var n=nt(e);return xb(t,-n)}function Au(){return M(),W("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[K("path",{d:"M29.333 8c0-2.208-1.792-4-4-4h-18.667c-2.208 0-4 1.792-4 4v18.667c0 2.208 1.792 4 4 4h18.667c2.208 0 4-1.792 4-4v-18.667zM26.667 8v18.667c0 0.736-0.597 1.333-1.333 1.333 0 0-18.667 0-18.667 0-0.736 0-1.333-0.597-1.333-1.333 0 0 0-18.667 0-18.667 0-0.736 0.597-1.333 1.333-1.333 0 0 18.667 0 18.667 0 0.736 0 1.333 0.597 1.333 1.333z"}),K("path",{d:"M20 2.667v5.333c0 0.736 0.597 1.333 1.333 1.333s1.333-0.597 1.333-1.333v-5.333c0-0.736-0.597-1.333-1.333-1.333s-1.333 0.597-1.333 1.333z"}),K("path",{d:"M9.333 2.667v5.333c0 0.736 0.597 1.333 1.333 1.333s1.333-0.597 1.333-1.333v-5.333c0-0.736-0.597-1.333-1.333-1.333s-1.333 0.597-1.333 1.333z"}),K("path",{d:"M4 14.667h24c0.736 0 1.333-0.597 1.333-1.333s-0.597-1.333-1.333-1.333h-24c-0.736 0-1.333 0.597-1.333 1.333s0.597 1.333 1.333 1.333z"})])}Au.compatConfig={MODE:3};function ox(){return M(),W("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[K("path",{d:"M23.057 7.057l-16 16c-0.52 0.52-0.52 1.365 0 1.885s1.365 0.52 1.885 0l16-16c0.52-0.52 0.52-1.365 0-1.885s-1.365-0.52-1.885 0z"}),K("path",{d:"M7.057 8.943l16 16c0.52 0.52 1.365 0.52 1.885 0s0.52-1.365 0-1.885l-16-16c-0.52-0.52-1.365-0.52-1.885 0s-0.52 1.365 0 1.885z"})])}ox.compatConfig={MODE:3};function Bb(){return M(),W("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[K("path",{d:"M20.943 23.057l-7.057-7.057c0 0 7.057-7.057 7.057-7.057 0.52-0.52 0.52-1.365 0-1.885s-1.365-0.52-1.885 0l-8 8c-0.521 0.521-0.521 1.365 0 1.885l8 8c0.52 0.52 1.365 0.52 1.885 0s0.52-1.365 0-1.885z"})])}Bb.compatConfig={MODE:3};function Hb(){return M(),W("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[K("path",{d:"M12.943 24.943l8-8c0.521-0.521 0.521-1.365 0-1.885l-8-8c-0.52-0.52-1.365-0.52-1.885 0s-0.52 1.365 0 1.885l7.057 7.057c0 0-7.057 7.057-7.057 7.057-0.52 0.52-0.52 1.365 0 1.885s1.365 0.52 1.885 0z"})])}Hb.compatConfig={MODE:3};function jb(){return M(),W("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[K("path",{d:"M16 1.333c-8.095 0-14.667 6.572-14.667 14.667s6.572 14.667 14.667 14.667c8.095 0 14.667-6.572 14.667-14.667s-6.572-14.667-14.667-14.667zM16 4c6.623 0 12 5.377 12 12s-5.377 12-12 12c-6.623 0-12-5.377-12-12s5.377-12 12-12z"}),K("path",{d:"M14.667 8v8c0 0.505 0.285 0.967 0.737 1.193l5.333 2.667c0.658 0.329 1.46 0.062 1.789-0.596s0.062-1.46-0.596-1.789l-4.596-2.298c0 0 0-7.176 0-7.176 0-0.736-0.597-1.333-1.333-1.333s-1.333 0.597-1.333 1.333z"})])}jb.compatConfig={MODE:3};function Wb(){return M(),W("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[K("path",{d:"M24.943 19.057l-8-8c-0.521-0.521-1.365-0.521-1.885 0l-8 8c-0.52 0.52-0.52 1.365 0 1.885s1.365 0.52 1.885 0l7.057-7.057c0 0 7.057 7.057 7.057 7.057 0.52 0.52 1.365 0.52 1.885 0s0.52-1.365 0-1.885z"})])}Wb.compatConfig={MODE:3};function qb(){return M(),W("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[K("path",{d:"M7.057 12.943l8 8c0.521 0.521 1.365 0.521 1.885 0l8-8c0.52-0.52 0.52-1.365 0-1.885s-1.365-0.52-1.885 0l-7.057 7.057c0 0-7.057-7.057-7.057-7.057-0.52-0.52-1.365-0.52-1.885 0s-0.52 1.365 0 1.885z"})])}qb.compatConfig={MODE:3};function zb(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var ax={exports:{}};(function(t){function e(n){return n&&n.__esModule?n:{default:n}}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports})(ax);var VJ=ax.exports,r_={exports:{}};(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=n;function n(r){if(r===null||r===!0||r===!1)return NaN;var i=Number(r);return isNaN(i)?i:i<0?Math.ceil(i):Math.floor(i)}t.exports=e.default})(r_,r_.exports);var FJ=r_.exports;const $J=zb(FJ);var i_={exports:{}};(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=n;function n(r){var i=new Date(Date.UTC(r.getFullYear(),r.getMonth(),r.getDate(),r.getHours(),r.getMinutes(),r.getSeconds(),r.getMilliseconds()));return i.setUTCFullYear(r.getFullYear()),r.getTime()-i.getTime()}t.exports=e.default})(i_,i_.exports);var UJ=i_.exports;const mS=zb(UJ);function BJ(t,e){var n=qJ(e);return n.formatToParts?jJ(n,t):WJ(n,t)}var HJ={year:0,month:1,day:2,hour:3,minute:4,second:5};function jJ(t,e){try{for(var n=t.formatToParts(e),r=[],i=0;i<n.length;i++){var s=HJ[n[i].type];s>=0&&(r[s]=parseInt(n[i].value,10))}return r}catch(o){if(o instanceof RangeError)return[NaN];throw o}}function WJ(t,e){var n=t.format(e).replace(/\u200E/g,""),r=/(\d+)\/(\d+)\/(\d+),? (\d+):(\d+):(\d+)/.exec(n);return[r[3],r[1],r[2],r[4],r[5],r[6]]}var cv={};function qJ(t){if(!cv[t]){var e=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:"America/New_York",year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}).format(new Date("2014-06-25T04:00:00.123Z")),n=e==="06/25/2014, 00:00:00"||e==="‎06‎/‎25‎/‎2014‎ ‎00‎:‎00‎:‎00";cv[t]=n?new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:t,year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}):new Intl.DateTimeFormat("en-US",{hourCycle:"h23",timeZone:t,year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"})}return cv[t]}function Kb(t,e,n,r,i,s,o){var a=new Date(0);return a.setUTCFullYear(t,e,n),a.setUTCHours(r,i,s,o),a}var gS=36e5,zJ=6e4,dv={timezone:/([Z+-].*)$/,timezoneZ:/^(Z)$/,timezoneHH:/^([+-]\d{2})$/,timezoneHHMM:/^([+-]\d{2}):?(\d{2})$/};function Yb(t,e,n){var r,i;if(t===""||(r=dv.timezoneZ.exec(t),r))return 0;var s;if(r=dv.timezoneHH.exec(t),r)return s=parseInt(r[1],10),vS(s)?-(s*gS):NaN;if(r=dv.timezoneHHMM.exec(t),r){s=parseInt(r[1],10);var o=parseInt(r[2],10);return vS(s,o)?(i=Math.abs(s)*gS+o*zJ,s>0?-i:i):NaN}if(GJ(t)){e=new Date(e||Date.now());var a=n?e:KJ(e),l=s_(a,t),u=n?l:YJ(e,l,t);return-u}return NaN}function KJ(t){return Kb(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds())}function s_(t,e){var n=BJ(t,e),r=Kb(n[0],n[1]-1,n[2],n[3]%24,n[4],n[5],0).getTime(),i=t.getTime(),s=i%1e3;return i-=s>=0?s:1e3+s,r-i}function YJ(t,e,n){var r=t.getTime(),i=r-e,s=s_(new Date(i),n);if(e===s)return e;i-=s-e;var o=s_(new Date(i),n);return s===o?s:Math.max(s,o)}function vS(t,e){return-23<=t&&t<=23&&(e==null||0<=e&&e<=59)}var yS={};function GJ(t){if(yS[t])return!0;try{return new Intl.DateTimeFormat(void 0,{timeZone:t}),yS[t]=!0,!0}catch{return!1}}var lx=/(Z|[+-]\d{2}(?::?\d{2})?| UTC| [a-zA-Z]+\/[a-zA-Z_]+(?:\/[a-zA-Z_]+)?)$/,hv=36e5,_S=6e4,QJ=2,Nr={dateTimePattern:/^([0-9W+-]+)(T| )(.*)/,datePattern:/^([0-9W+-]+)(.*)/,plainTime:/:/,YY:/^(\d{2})$/,YYY:[/^([+-]\d{2})$/,/^([+-]\d{3})$/,/^([+-]\d{4})$/],YYYY:/^(\d{4})/,YYYYY:[/^([+-]\d{4})/,/^([+-]\d{5})/,/^([+-]\d{6})/],MM:/^-(\d{2})$/,DDD:/^-?(\d{3})$/,MMDD:/^-?(\d{2})-?(\d{2})$/,Www:/^-?W(\d{2})$/,WwwD:/^-?W(\d{2})-?(\d{1})$/,HH:/^(\d{2}([.,]\d*)?)$/,HHMM:/^(\d{2}):?(\d{2}([.,]\d*)?)$/,HHMMSS:/^(\d{2}):?(\d{2}):?(\d{2}([.,]\d*)?)$/,timeZone:lx};function o_(t,e){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");if(t===null)return new Date(NaN);var n=e||{},r=n.additionalDigits==null?QJ:$J(n.additionalDigits);if(r!==2&&r!==1&&r!==0)throw new RangeError("additionalDigits must be 0, 1 or 2");if(t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]")return new Date(t.getTime());if(typeof t=="number"||Object.prototype.toString.call(t)==="[object Number]")return new Date(t);if(!(typeof t=="string"||Object.prototype.toString.call(t)==="[object String]"))return new Date(NaN);var i=XJ(t),s=JJ(i.date,r),o=s.year,a=s.restDateString,l=ZJ(a,o);if(isNaN(l))return new Date(NaN);if(l){var u=l.getTime(),c=0,h;if(i.time&&(c=eZ(i.time),isNaN(c)))return new Date(NaN);if(i.timeZone||n.timeZone){if(h=Yb(i.timeZone||n.timeZone,new Date(u+c)),isNaN(h))return new Date(NaN)}else h=mS(new Date(u+c)),h=mS(new Date(u+c+h));return new Date(u+c+h)}else return new Date(NaN)}function XJ(t){var e={},n=Nr.dateTimePattern.exec(t),r;if(n?(e.date=n[1],r=n[3]):(n=Nr.datePattern.exec(t),n?(e.date=n[1],r=n[2]):(e.date=null,r=t)),r){var i=Nr.timeZone.exec(r);i?(e.time=r.replace(i[1],""),e.timeZone=i[1].trim()):e.time=r}return e}function JJ(t,e){var n=Nr.YYY[e],r=Nr.YYYYY[e],i;if(i=Nr.YYYY.exec(t)||r.exec(t),i){var s=i[1];return{year:parseInt(s,10),restDateString:t.slice(s.length)}}if(i=Nr.YY.exec(t)||n.exec(t),i){var o=i[1];return{year:parseInt(o,10)*100,restDateString:t.slice(o.length)}}return{year:null}}function ZJ(t,e){if(e===null)return null;var n,r,i,s;if(t.length===0)return r=new Date(0),r.setUTCFullYear(e),r;if(n=Nr.MM.exec(t),n)return r=new Date(0),i=parseInt(n[1],10)-1,wS(e,i)?(r.setUTCFullYear(e,i),r):new Date(NaN);if(n=Nr.DDD.exec(t),n){r=new Date(0);var o=parseInt(n[1],10);return rZ(e,o)?(r.setUTCFullYear(e,0,o),r):new Date(NaN)}if(n=Nr.MMDD.exec(t),n){r=new Date(0),i=parseInt(n[1],10)-1;var a=parseInt(n[2],10);return wS(e,i,a)?(r.setUTCFullYear(e,i,a),r):new Date(NaN)}if(n=Nr.Www.exec(t),n)return s=parseInt(n[1],10)-1,TS(e,s)?bS(e,s):new Date(NaN);if(n=Nr.WwwD.exec(t),n){s=parseInt(n[1],10)-1;var l=parseInt(n[2],10)-1;return TS(e,s,l)?bS(e,s,l):new Date(NaN)}return null}function eZ(t){var e,n,r;if(e=Nr.HH.exec(t),e)return n=parseFloat(e[1].replace(",",".")),fv(n)?n%24*hv:NaN;if(e=Nr.HHMM.exec(t),e)return n=parseInt(e[1],10),r=parseFloat(e[2].replace(",",".")),fv(n,r)?n%24*hv+r*_S:NaN;if(e=Nr.HHMMSS.exec(t),e){n=parseInt(e[1],10),r=parseInt(e[2],10);var i=parseFloat(e[3].replace(",","."));return fv(n,r,i)?n%24*hv+r*_S+i*1e3:NaN}return null}function bS(t,e,n){e=e||0,n=n||0;var r=new Date(0);r.setUTCFullYear(t,0,4);var i=r.getUTCDay()||7,s=e*7+n+1-i;return r.setUTCDate(r.getUTCDate()+s),r}var tZ=[31,28,31,30,31,30,31,31,30,31,30,31],nZ=[31,29,31,30,31,30,31,31,30,31,30,31];function ux(t){return t%400===0||t%4===0&&t%100!==0}function wS(t,e,n){if(e<0||e>11)return!1;if(n!=null){if(n<1)return!1;var r=ux(t);if(r&&n>nZ[e]||!r&&n>tZ[e])return!1}return!0}function rZ(t,e){if(e<1)return!1;var n=ux(t);return!(n&&e>366||!n&&e>365)}function TS(t,e,n){return!(e<0||e>52||n!=null&&(n<0||n>6))}function fv(t,e,n){return!(t!=null&&(t<0||t>=25)||e!=null&&(e<0||e>=60)||n!=null&&(n<0||n>=60))}var a_={exports:{}},l_={exports:{}};(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=n;function n(r,i){if(r==null)throw new TypeError("assign requires that input parameter not be null or undefined");for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(r[s]=i[s]);return r}t.exports=e.default})(l_,l_.exports);var iZ=l_.exports;(function(t,e){var n=VJ.default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=i;var r=n(iZ);function i(s){return(0,r.default)({},s)}t.exports=e.default})(a_,a_.exports);var sZ=a_.exports;const oZ=zb(sZ);function aZ(t,e,n){var r=o_(t,n),i=Yb(e,r,!0),s=new Date(r.getTime()-i),o=new Date(0);return o.setFullYear(s.getUTCFullYear(),s.getUTCMonth(),s.getUTCDate()),o.setHours(s.getUTCHours(),s.getUTCMinutes(),s.getUTCSeconds(),s.getUTCMilliseconds()),o}function lZ(t,e,n){if(typeof t=="string"&&!t.match(lx)){var r=oZ(n);return r.timeZone=e,o_(t,r)}var i=o_(t,n),s=Kb(i.getFullYear(),i.getMonth(),i.getDate(),i.getHours(),i.getMinutes(),i.getSeconds(),i.getMilliseconds()).getTime(),o=Yb(e,new Date(s));return new Date(s+o)}function ES(t){return e=>new Intl.DateTimeFormat(t,{weekday:"short",timeZone:"UTC"}).format(new Date(`2017-01-0${e}T00:00:00+00:00`)).slice(0,2)}function uZ(t){return e=>Io(new Date(`2017-01-0${e}T00:00:00+00:00`),"EEEEEE",{locale:t})}const cZ=(t,e,n)=>{const r=[1,2,3,4,5,6,7];let i;if(t!==null)try{i=r.map(uZ(t))}catch{i=r.map(ES(e))}else i=r.map(ES(e));const s=i.slice(0,n),o=i.slice(n+1,i.length);return[i[n]].concat(...o).concat(...s)},Gb=(t,e)=>{const n=[];for(let r=+t[0];r<=+t[1];r++)n.push({value:+r,text:`${r}`});return e?n.reverse():n},cx=(t,e,n)=>{const r=[1,2,3,4,5,6,7,8,9,10,11,12].map(s=>{const o=s<10?`0${s}`:s;return new Date(`2017-${o}-01T00:00:00+00:00`)});if(t!==null)try{const s=n==="long"?"MMMM":"MMM";return r.map((o,a)=>{const l=Io(o,s,{locale:t});return{text:l.charAt(0).toUpperCase()+l.substring(1),value:a}})}catch{}const i=new Intl.DateTimeFormat(e,{month:n,timeZone:"UTC"});return r.map((s,o)=>{const a=i.format(s);return{text:a.charAt(0).toUpperCase()+a.substring(1),value:o}})},dZ=t=>[12,1,2,3,4,5,6,7,8,9,10,11,12,1,2,3,4,5,6,7,8,9,10,11][t],Vn=t=>{const e=R(t);return e!=null&&e.$el?e==null?void 0:e.$el:e},hZ=t=>Object.assign({type:"dot"},t),dx=t=>Array.isArray(t)?!!t[0]&&!!t[1]:!1,Rp={prop:t=>`"${t}" prop must be enabled!`,dateArr:t=>`You need to use array as "model-value" binding in order to support "${t}"`},Un=t=>t,IS=t=>t===0?t:!t||isNaN(+t)?null:+t,SS=t=>t===null,fZ=t=>{if(t)return[...t.querySelectorAll("input, button, select, textarea, a[href]")][0]},pZ=t=>{const e=[],n=r=>r.filter(i=>i);for(let r=0;r<t.length;r+=3){const i=[t[r],t[r+1],t[r+2]];e.push(n(i))}return e},Pd=(t,e,n)=>{const r=n!=null,i=e!=null;if(!r&&!i)return!1;const s=+n,o=+e;return r&&i?+t>s||+t<o:r?+t>s:i?+t<o:!1},uu=(t,e)=>pZ(t).map(n=>n.map(r=>{const{active:i,disabled:s,isBetween:o,highlighted:a}=e(r);return{...r,active:i,disabled:s,className:{dp__overlay_cell_active:i,dp__overlay_cell:!i,dp__overlay_cell_disabled:s,dp__overlay_cell_pad:!0,dp__overlay_cell_active_disabled:s&&i,dp__cell_in_between:o,"dp--highlighted":a}}})),So=(t,e,n=!1)=>{t&&e.allowStopPropagation&&(n&&t.stopImmediatePropagation(),t.stopPropagation())},mZ=()=>["a[href]","area[href]","input:not([disabled]):not([type='hidden'])","select:not([disabled])","textarea:not([disabled])","button:not([disabled])","[tabindex]:not([tabindex='-1'])","[data-datepicker-instance]"].join(", ");function gZ(t,e){let n=[...document.querySelectorAll(mZ())];n=n.filter(i=>!t.contains(i)||i.hasAttribute("data-datepicker-instance"));const r=n.indexOf(t);if(r>=0&&(e?r-1>=0:r+1<=n.length))return n[r+(e?-1:1)]}const vZ=(t,e)=>{let n;return function(...r){clearTimeout(n),n=setTimeout(()=>{t(...r)},e)}},CS=(t,e,n,r,i)=>{const s=n_(t,e.slice(0,t.length),new Date);return Vc(s)&&$D(s)?r||i?s:dn(s,{hours:+n.hours,minutes:+(n==null?void 0:n.minutes),seconds:+(n==null?void 0:n.seconds),milliseconds:0}):null},yZ=(t,e,n,r,i)=>{const s=Array.isArray(n)?n[0]:n;if(typeof e=="string")return CS(t,e,s,r,i);if(Array.isArray(e)){let o=null;for(const a of e)if(o=CS(t,a,s,r,i),o)break;return o}return typeof e=="function"?e(t):null},_e=t=>t?new Date(t):new Date,_Z=(t,e,n)=>{if(e){const i=(t.getMonth()+1).toString().padStart(2,"0"),s=t.getDate().toString().padStart(2,"0"),o=t.getHours().toString().padStart(2,"0"),a=t.getMinutes().toString().padStart(2,"0"),l=n?t.getSeconds().toString().padStart(2,"0"):"00";return`${t.getFullYear()}-${i}-${s}T${o}:${a}:${l}.000Z`}const r=Date.UTC(t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate(),t.getUTCHours(),t.getUTCMinutes(),t.getUTCSeconds());return new Date(r).toISOString()},Sr=t=>{let e=_e(JSON.parse(JSON.stringify(t)));return e=rx(e,0),e=ix(e,0),e=Ub(e,0),e=$b(e,0),e},Co=(t,e,n,r)=>{let i=t?_e(t):_e();return(e||e===0)&&(i=rx(i,+e)),(n||n===0)&&(i=ix(i,+n)),(r||r===0)&&(i=Ub(i,+r)),$b(i,0)},rr=(t,e)=>!t||!e?!1:Od(Sr(t),Sr(e)),Ft=(t,e)=>!t||!e?!1:_l(Sr(t),Sr(e)),Tr=(t,e)=>!t||!e?!1:Ad(Sr(t),Sr(e)),Um=(t,e,n)=>t!=null&&t[0]&&t!=null&&t[1]?Tr(n,t[0])&&rr(n,t[1]):t!=null&&t[0]&&e?Tr(n,t[0])&&rr(n,e)||rr(n,t[0])&&Tr(n,e):!1,Ci=t=>{const e=dn(new Date(t),{date:1});return Sr(e)},pv=(t,e,n)=>e&&(n||n===0)?Object.fromEntries(["hours","minutes","seconds"].map(r=>r===e?[r,n]:[r,isNaN(+t[r])?void 0:+t[r]])):{hours:isNaN(+t.hours)?void 0:+t.hours,minutes:isNaN(+t.minutes)?void 0:+t.minutes,seconds:isNaN(+t.seconds)?void 0:+t.seconds},pa=t=>({hours:xi(t),minutes:as(t),seconds:au(t)}),hx=(t,e)=>{if(e){const n=ht(_e(e));if(n>t)return 12;if(n===t)return Ot(_e(e))}},fx=(t,e)=>{if(e){const n=ht(_e(e));return n<t?-1:n===t?Ot(_e(e)):void 0}},cu=t=>{if(t)return ht(_e(t))},Ni=(t,e)=>e?aZ(t,e):t,px=(t,e)=>e?lZ(t,e):t,bZ=t=>t instanceof Date?t:bJ(t),mx=(t,e)=>{const n=Tr(t,e)?e:t,r=Tr(e,t)?e:t;return UD({start:n,end:r})},wZ=t=>{const e=Di(t,1);return{month:Ot(e),year:ht(e)}},If=(t,e,n)=>{const r=xa(Ni(t,e),{weekStartsOn:+n}),i=hQ(Ni(t,e),{weekStartsOn:+n});return[r,i]},gx=(t,e)=>{const n={hours:xi(_e()),minutes:as(_e()),seconds:e?au(_e()):0};return Object.assign(n,t)},go=(t,e,n)=>[dn(_e(t),{date:1}),dn(_e(),{month:e,year:n,date:1})],Ps=(t,e,n)=>{let r=t?_e(t):_e();return(e||e===0)&&(r=nx(r,e)),n&&(r=es(r,n)),r},vx=(t,e,n,r,i)=>{if(!r||i&&!e||!i&&!n)return!1;const s=i?Di(t,1):lu(t,1),o=[Ot(s),ht(s)];return i?!EZ(...o,e):!TZ(...o,n)},TZ=(t,e,n)=>rr(...go(n,t,e))||Ft(...go(n,t,e)),EZ=(t,e,n)=>Tr(...go(n,t,e))||Ft(...go(n,t,e)),yx=(t,e,n,r,i,s,o)=>{if(typeof e=="function"&&!o)return e(t);const a=n?{locale:n}:void 0;return Array.isArray(t)?`${Io(t[0],s,a)}${i&&!t[1]?"":r}${t[1]?Io(t[1],s,a):""}`:Io(t,s,a)},rl=t=>{if(t)return null;throw new Error(Rp.prop("partial-range"))},tf=(t,e)=>{if(e)return t();throw new Error(Rp.prop("range"))},u_=t=>Array.isArray(t)?Vc(t[0])&&(t[1]?Vc(t[1]):!0):t?Vc(t):!1,IZ=(t,e)=>dn(e??_e(),{hours:+t.hours||0,minutes:+t.minutes||0,seconds:+t.seconds||0}),mv=(t,e,n,r)=>{if(!t)return!0;if(r){const i=n==="max"?Od(t,e):Ad(t,e),s={seconds:0,milliseconds:0};return i||_l(dn(t,s),dn(e,s))}return n==="max"?t.getTime()<=e.getTime():t.getTime()>=e.getTime()},gv=(t,e,n)=>t?IZ(t,e):_e(n??e),AS=(t,e,n,r,i)=>{if(Array.isArray(r)){const o=gv(t,r[0],e),a=gv(t,r[1],e);return mv(r[0],o,n,!!e)&&mv(r[1],a,n,!!e)&&i}const s=gv(t,r,e);return mv(r,s,n,!!e)&&i},vv=t=>dn(_e(),pa(t)),SZ=(t,e)=>Array.isArray(t)?t.map(n=>_e(n)).filter(n=>ht(_e(n))===e).map(n=>Ot(n)):[],_x=(t,e,n)=>typeof t=="function"?t({month:e,year:n}):!!t.months.find(r=>r.month===e&&r.year===n),Qb=(t,e)=>typeof t=="function"?t(e):t.years.includes(e),ec=_i({menuFocused:!1,shiftKeyInMenu:!1}),bx=()=>{const t=n=>{ec.menuFocused=n},e=n=>{ec.shiftKeyInMenu!==n&&(ec.shiftKeyInMenu=n)};return{control:se(()=>({shiftKeyInMenu:ec.shiftKeyInMenu,menuFocused:ec.menuFocused})),setMenuFocused:t,setShiftKey:e}},on=_i({monthYear:[],calendar:[],time:[],actionRow:[],selectionGrid:[],timePicker:{0:[],1:[]},monthPicker:[]}),yv=Te(null),nf=Te(!1),_v=Te(!1),bv=Te(!1),wv=Te(!1),Pr=Te(0),Xn=Te(0),Wo=()=>{const t=se(()=>nf.value?[...on.selectionGrid,on.actionRow].filter(h=>h.length):_v.value?[...on.timePicker[0],...on.timePicker[1],wv.value?[]:[yv.value],on.actionRow].filter(h=>h.length):bv.value?[...on.monthPicker,on.actionRow]:[on.monthYear,...on.calendar,on.time,on.actionRow].filter(h=>h.length)),e=h=>{Pr.value=h?Pr.value+1:Pr.value-1;let f=null;t.value[Xn.value]&&(f=t.value[Xn.value][Pr.value]),f||(Pr.value=h?Pr.value-1:Pr.value+1)},n=h=>{Xn.value===0&&!h||Xn.value===t.value.length&&h||(Xn.value=h?Xn.value+1:Xn.value-1,t.value[Xn.value]?t.value[Xn.value]&&!t.value[Xn.value][Pr.value]&&Pr.value!==0&&(Pr.value=t.value[Xn.value].length-1):Xn.value=h?Xn.value-1:Xn.value+1)},r=h=>{let f=null;t.value[Xn.value]&&(f=t.value[Xn.value][Pr.value]),f?f.focus({preventScroll:!nf.value}):Pr.value=h?Pr.value-1:Pr.value+1},i=()=>{e(!0),r(!0)},s=()=>{e(!1),r(!1)},o=()=>{n(!1),r(!0)},a=()=>{n(!0),r(!0)},l=(h,f)=>{on[f]=h},u=(h,f)=>{on[f]=h},c=()=>{Pr.value=0,Xn.value=0};return{buildMatrix:l,buildMultiLevelMatrix:u,setTimePickerBackRef:h=>{yv.value=h},setSelectionGrid:h=>{nf.value=h,c(),h||(on.selectionGrid=[])},setTimePicker:(h,f=!1)=>{_v.value=h,wv.value=f,c(),h||(on.timePicker[0]=[],on.timePicker[1]=[])},setTimePickerElements:(h,f=0)=>{on.timePicker[f]=h},arrowRight:i,arrowLeft:s,arrowUp:o,arrowDown:a,clearArrowNav:()=>{on.monthYear=[],on.calendar=[],on.time=[],on.actionRow=[],on.selectionGrid=[],on.timePicker[0]=[],on.timePicker[1]=[],nf.value=!1,_v.value=!1,wv.value=!1,bv.value=!1,c(),yv.value=null},setMonthPicker:h=>{bv.value=h,c()},refSets:on}},OS=t=>({menuAppearTop:"dp-menu-appear-top",menuAppearBottom:"dp-menu-appear-bottom",open:"dp-slide-down",close:"dp-slide-up",next:"calendar-next",previous:"calendar-prev",vNext:"dp-slide-up",vPrevious:"dp-slide-down",...t??{}}),CZ=t=>({toggleOverlay:"Toggle overlay",menu:"Datepicker menu",input:"Datepicker input",calendarWrap:"Calendar wrapper",calendarDays:"Calendar days",openTimePicker:"Open time picker",closeTimePicker:"Close time Picker",incrementValue:e=>`Increment ${e}`,decrementValue:e=>`Decrement ${e}`,openTpOverlay:e=>`Open ${e} overlay`,amPmButton:"Switch AM/PM mode",openYearsOverlay:"Open years overlay",openMonthsOverlay:"Open months overlay",nextMonth:"Next month",prevMonth:"Previous month",nextYear:"Next year",prevYear:"Previous year",day:()=>"",...t??{}}),PS=t=>t?typeof t=="boolean"?t?2:0:+t>=2?+t:2:0,AZ=t=>{const e=typeof t=="object"&&t,n={static:!0,solo:!1};if(!t)return{...n,count:PS(!1)};const r=e?t:{},i=e?r.count??!0:t,s=PS(i);return Object.assign(n,r,{count:s})},OZ=(t,e,n)=>t||(typeof n=="string"?n:e),PZ=t=>typeof t=="boolean"?t?OS({}):!1:OS(t),kZ=t=>{const e={enterSubmit:!0,tabSubmit:!0,openMenu:!0,selectOnFocus:!1,rangeSeparator:" - "};return typeof t=="object"?{...e,...t??{},enabled:!0}:{...e,enabled:t}},RZ=t=>({months:[],years:[],times:{hours:[],minutes:[],seconds:[]},...t??{}}),DZ=t=>({showSelect:!0,showCancel:!0,showNow:!1,showPreview:!0,...t??{}}),xZ=t=>{const e={input:!1};return typeof t=="object"?{...e,...t??{},enabled:!0}:{enabled:t,...e}},NZ=t=>({allowStopPropagation:!0,closeOnScroll:!1,modeHeight:255,allowPreventDefault:!1,closeOnClearValue:!0,closeOnAutoApply:!0,noSwipe:!1,keepActionRow:!1,onClickOutside:void 0,tabOutClosesMenu:!0,...t??{}}),MZ=(t,e,n)=>{const r={dates:Array.isArray(t)?t.map(i=>_e(i)):[],years:[],months:[],quarters:[],weeks:[],weekdays:e,options:{highlightDisabled:n}};return typeof t=="function"?t:{...r,...t??{}}},LZ=t=>typeof t=="object"?{type:t.type,hideOnOffsetDates:t.hideOnOffsetDates??!1}:{type:t,hideOnOffsetDates:!1},kn=t=>{const e=()=>{const k=t.enableSeconds?":ss":"";return t.is24?`HH:mm${k}`:`hh:mm${k} aa`},n=()=>t.format?t.format:t.monthPicker?"MM/yyyy":t.timePicker?e():t.weekPicker?"MM/dd/yyyy":t.yearPicker?"yyyy":t.quarterPicker?"QQQ/yyyy":t.enableTimePicker?`MM/dd/yyyy, ${e()}`:"MM/dd/yyyy",r=k=>gx(k,t.enableSeconds),i=()=>t.range?t.startTime&&Array.isArray(t.startTime)?[r(t.startTime[0]),r(t.startTime[1])]:null:t.startTime&&!Array.isArray(t.startTime)?r(t.startTime):null,s=se(()=>AZ(t.multiCalendars)),o=se(()=>i()),a=se(()=>CZ(t.ariaLabels)),l=se(()=>RZ(t.filters)),u=se(()=>PZ(t.transitions)),c=se(()=>DZ(t.actionRow)),h=se(()=>OZ(t.previewFormat,t.format,n())),f=se(()=>kZ(t.textInput)),p=se(()=>xZ(t.inline)),g=se(()=>NZ(t.config)),w=se(()=>MZ(t.highlight,t.highlightWeekDays,t.highlightDisabledDays)),I=se(()=>LZ(t.weekNumbers));return{defaultedTransitions:u,defaultedMultiCalendars:s,defaultedStartTime:o,defaultedAriaLabels:a,defaultedFilters:l,defaultedActionRow:c,defaultedPreviewFormat:h,defaultedTextInput:f,defaultedInline:p,defaultedConfig:g,defaultedHighlight:w,defaultedWeekNumbers:I,getDefaultPattern:n,getDefaultStartTime:i}},VZ=(t,e,n)=>{const r=Te(),{defaultedTextInput:i,getDefaultPattern:s}=kn(e),o=Te(""),a=jc(e,"format");_n(r,()=>{t("internal-model-change",r.value)}),_n(a,()=>{Y()});const l=x=>px(x,e.timezone),u=x=>Ni(x,e.timezone),c=(x,te,ee=!1)=>yx(x,e.format,e.formatLocale,i.value.rangeSeparator,e.modelAuto,te??s(),ee),h=x=>x?e.modelType?j(x):{hours:xi(x),minutes:as(x),seconds:e.enableSeconds?au(x):0}:null,f=x=>e.modelType?j(x):{month:Ot(x),year:ht(x)},p=x=>Array.isArray(x)?e.multiDates?x.map(te=>g(te,es(_e(),te))):tf(()=>[es(_e(),x[0]),x[1]?es(_e(),x[1]):rl(e.partialRange)],e.range):es(_e(),+x),g=(x,te)=>(typeof x=="string"||typeof x=="number")&&e.modelType?U(x):te,w=x=>Array.isArray(x)?[g(x[0],Co(null,+x[0].hours,+x[0].minutes,x[0].seconds)),g(x[1],Co(null,+x[1].hours,+x[1].minutes,x[1].seconds))]:g(x,Co(null,x.hours,x.minutes,x.seconds)),I=x=>Array.isArray(x)?e.multiDates?x.map(te=>g(te,Ps(null,+te.month,+te.year))):tf(()=>[g(x[0],Ps(null,+x[0].month,+x[0].year)),g(x[1],x[1]?Ps(null,+x[1].month,+x[1].year):rl(e.partialRange))],e.range):g(x,Ps(null,+x.month,+x.year)),k=x=>{if(Array.isArray(x))return x.map(te=>U(te));throw new Error(Rp.dateArr("multi-dates"))},P=x=>{if(Array.isArray(x))return[_e(x[0]),_e(x[1])];throw new Error(Rp.dateArr("week-picker"))},T=x=>e.modelAuto?Array.isArray(x)?[U(x[0]),U(x[1])]:e.autoApply?[U(x)]:[U(x),null]:Array.isArray(x)?tf(()=>[U(x[0]),x[1]?U(x[1]):rl(e.partialRange)],e.range):U(x),_=()=>{Array.isArray(r.value)&&e.range&&r.value.length===1&&r.value.push(rl(e.partialRange))},L=()=>{const x=r.value;return[j(x[0]),x[1]?j(x[1]):rl(e.partialRange)]},V=()=>r.value[1]?L():j(Un(r.value[0])),S=()=>(r.value||[]).map(x=>j(x)),E=()=>(_(),e.modelAuto?V():e.multiDates?S():Array.isArray(r.value)?tf(()=>L(),e.range):j(Un(r.value))),b=x=>!x||Array.isArray(x)&&!x.length?null:e.timePicker?w(Un(x)):e.monthPicker?I(Un(x)):e.yearPicker?p(Un(x)):e.multiDates?k(Un(x)):e.weekPicker?P(Un(x)):T(Un(x)),v=x=>{const te=b(x);u_(Un(te))?(r.value=Un(te),Y()):(r.value=null,o.value="")},C=()=>{const x=te=>Io(te,i.value.format);return`${x(r.value[0])} ${i.value.rangeSeparator} ${r.value[1]?x(r.value[1]):""}`},A=()=>n.value&&r.value?Array.isArray(r.value)?C():Io(r.value,i.value.format):c(r.value),O=()=>r.value?e.multiDates?r.value.map(x=>c(x)).join("; "):i.value.enabled&&typeof i.value.format=="string"?A():c(r.value):"",Y=()=>{!e.format||typeof e.format=="string"||i.value.enabled&&typeof i.value.format=="string"?o.value=O():o.value=e.format(r.value)},U=x=>{if(e.utc){const te=new Date(x);return e.utc==="preserve"?new Date(te.getTime()+te.getTimezoneOffset()*6e4):te}return e.modelType?e.modelType==="date"||e.modelType==="timestamp"?u(new Date(x)):e.modelType==="format"&&(typeof e.format=="string"||!e.format)?n_(x,s(),new Date):u(n_(x,e.modelType,new Date)):u(new Date(x))},j=x=>x?e.utc?_Z(x,e.utc==="preserve",e.enableSeconds):e.modelType?e.modelType==="timestamp"?+l(x):e.modelType==="format"&&(typeof e.format=="string"||!e.format)?c(l(x)):c(l(x),e.modelType,!0):l(x):"",q=(x,te=!1)=>{if(t("update:model-value",x),e.emitTimezone&&te){const ee=Array.isArray(x)?x.map(he=>Ni(Un(he)),e.emitTimezone):Ni(Un(x),e.emitTimezone);t("update:model-timezone-value",ee)}},X=x=>Array.isArray(r.value)?e.multiDates?r.value.map(te=>x(te)):[x(r.value[0]),r.value[1]?x(r.value[1]):rl(e.partialRange)]:x(Un(r.value)),$=x=>q(Un(X(x)));return{inputValue:o,internalModelValue:r,checkBeforeEmit:()=>r.value?e.range?e.partialRange?r.value.length>=1:r.value.length===2:!!r.value:!1,parseExternalModelValue:v,formatInputValue:Y,emitModelValue:()=>(Y(),e.monthPicker?$(f):e.timePicker?$(h):e.yearPicker?$(ht):e.weekPicker?q(r.value.map(x=>j(x)),!0):q(E(),!0))}},FZ=(t,e)=>{const{defaultedFilters:n}=kn(t),{validateMonthYearInRange:r}=qa(t),i=(u,c)=>{let h=u;return n.value.months.includes(Ot(h))?(h=c?Di(u,1):lu(u,1),i(h,c)):h},s=(u,c)=>{let h=u;return n.value.years.includes(ht(h))?(h=c?xb(u,1):sx(u,1),s(h,c)):h},o=(u,c=!1)=>{const h=dn(new Date,{month:t.month,year:t.year});let f=u?Di(h,1):lu(h,1);t.disableYearSelect&&(f=es(f,t.year));let p=Ot(f),g=ht(f);n.value.months.includes(p)&&(f=i(f,u),p=Ot(f),g=ht(f)),n.value.years.includes(g)&&(f=s(f,u),g=ht(f)),r(p,g,u,t.preventMinMaxNavigation)&&a(p,g,c)},a=(u,c,h)=>{e("update-month-year",{month:u,year:c,fromNav:h})},l=se(()=>u=>vx(dn(new Date,{month:t.month,year:t.year}),t.maxDate,t.minDate,t.preventMinMaxNavigation,u));return{handleMonthYearChange:o,isDisabled:l,updateMonthYear:a}};var hl=(t=>(t.center="center",t.left="left",t.right="right",t))(hl||{}),Ti=(t=>(t.month="month",t.year="year",t))(Ti||{}),na=(t=>(t.top="top",t.bottom="bottom",t))(na||{}),ma=(t=>(t.header="header",t.calendar="calendar",t.timePicker="timePicker",t))(ma||{}),Gi=(t=>(t.month="month",t.year="year",t.calendar="calendar",t.time="time",t.minutes="minutes",t.hours="hours",t.seconds="seconds",t))(Gi||{});const $Z=({menuRef:t,menuRefInner:e,inputRef:n,pickerWrapperRef:r,inline:i,emit:s,props:o,slots:a})=>{const l=Te({}),u=Te(!1),c=Te({top:"0",left:"0"}),h=Te(!1),f=jc(o,"teleportCenter");_n(f,()=>{c.value=JSON.parse(JSON.stringify({})),_()});const p=U=>{if(o.teleport){const j=U.getBoundingClientRect();return{left:j.left+window.scrollX,top:j.top+window.scrollY}}return{top:0,left:0}},g=(U,j)=>{c.value.left=`${U+j-l.value.width}px`},w=U=>{c.value.left=`${U}px`},I=(U,j)=>{o.position===hl.left&&w(U),o.position===hl.right&&g(U,j),o.position===hl.center&&(c.value.left=`${U+j/2-l.value.width/2}px`)},k=U=>{const{width:j,height:q}=U.getBoundingClientRect(),{top:X,left:$}=o.altPosition?o.altPosition(U):p(U);return{top:+X,left:+$,width:j,height:q}},P=()=>{c.value.left="50%",c.value.top="50%",c.value.transform="translate(-50%, -50%)",c.value.position="fixed",delete c.value.opacity},T=()=>{const U=Vn(n),{top:j,left:q,transform:X}=o.altPosition(U);c.value={top:`${j}px`,left:`${q}px`,transform:X??""}},_=(U=!0)=>{var j;if(!i.value.enabled){if(f.value)return P();if(o.altPosition!==null)return T();if(U){const q=o.teleport?(j=e.value)==null?void 0:j.$el:t.value;q&&(l.value=q.getBoundingClientRect()),s("recalculate-position")}return C()}},L=({inputEl:U,left:j,width:q})=>{window.screen.width>768&&!u.value&&I(j,q),E(U)},V=U=>{const{top:j,left:q,height:X,width:$}=k(U);c.value.top=`${X+j+ +o.offset}px`,h.value=!1,u.value||(c.value.left=`${q+$/2-l.value.width/2}px`),L({inputEl:U,left:q,width:$})},S=U=>{const{top:j,left:q,width:X}=k(U);c.value.top=`${j-+o.offset-l.value.height}px`,h.value=!0,L({inputEl:U,left:q,width:X})},E=U=>{if(o.autoPosition){const{left:j,width:q}=k(U),{left:X,right:$}=l.value;if(!u.value){if(Math.abs(X)!==Math.abs($)){if(X<=0)return u.value=!0,w(j);if($>=document.documentElement.clientWidth)return u.value=!0,g(j,q)}return I(j,q)}}},b=()=>{const U=Vn(n);if(U){const{height:j}=l.value,{top:q,height:X}=U.getBoundingClientRect(),$=window.innerHeight-q-X,x=q;return j<=$?na.bottom:j>$&&j<=x?na.top:$>=x?na.bottom:na.top}return na.bottom},v=U=>b()===na.bottom?V(U):S(U),C=()=>{const U=Vn(n);if(U)return o.autoPosition?v(U):V(U)},A=function(U){if(U){const j=U.scrollHeight>U.clientHeight,q=window.getComputedStyle(U).overflowY.indexOf("hidden")!==-1;return j&&!q}return!0},O=function(U){return!U||U===document.body||U.nodeType===Node.DOCUMENT_FRAGMENT_NODE?window:A(U)?U:O(U.parentNode)},Y=U=>{if(U)switch(o.position){case hl.left:return{left:0,transform:"translateX(0)"};case hl.right:return{left:`${U.width}px`,transform:"translateX(-100%)"};default:return{left:`${U.width/2}px`,transform:"translateX(-50%)"}}return{}};return{openOnTop:h,menuStyle:c,xCorrect:u,setMenuPosition:_,getScrollableParent:O,shadowRender:(U,j)=>{var q,X,$;const x=document.createElement("div"),te=(q=Vn(n))==null?void 0:q.getBoundingClientRect();x.setAttribute("id","dp--temp-container");const ee=(X=r.value)!=null&&X.clientWidth?r.value:document.body;ee.append(x);const he=Y(te),ge=Hl(U,{...j,shadow:!0,style:{opacity:0,position:"absolute",...he}},Object.fromEntries(Object.keys(a).filter(Q=>["right-sidebar","left-sidebar"].includes(Q)).map(Q=>[Q,a[Q]])));Qc(ge,x),l.value=($=ge.el)==null?void 0:$.getBoundingClientRect(),Qc(null,x),ee.removeChild(x)}}},eo=[{name:"clock-icon",use:["time","calendar","shared"]},{name:"arrow-left",use:["month-year","calendar","shared","year-mode"]},{name:"arrow-right",use:["month-year","calendar","shared","year-mode"]},{name:"arrow-up",use:["time","calendar","month-year","shared"]},{name:"arrow-down",use:["time","calendar","month-year","shared"]},{name:"calendar-icon",use:["month-year","time","calendar","shared","year-mode"]},{name:"day",use:["calendar","shared"]},{name:"month-overlay-value",use:["calendar","month-year","shared"]},{name:"year-overlay-value",use:["calendar","month-year","shared","year-mode"]},{name:"year-overlay",use:["month-year","shared"]},{name:"month-overlay",use:["month-year","shared"]},{name:"month-overlay-header",use:["month-year","shared"]},{name:"year-overlay-header",use:["month-year","shared"]},{name:"hours-overlay-value",use:["calendar","time","shared"]},{name:"minutes-overlay-value",use:["calendar","time","shared"]},{name:"seconds-overlay-value",use:["calendar","time","shared"]},{name:"hours",use:["calendar","time","shared"]},{name:"minutes",use:["calendar","time","shared"]},{name:"month",use:["calendar","month-year","shared"]},{name:"year",use:["calendar","month-year","shared","year-mode"]},{name:"action-buttons",use:["action"]},{name:"action-preview",use:["action"]},{name:"calendar-header",use:["calendar","shared"]},{name:"marker-tooltip",use:["calendar","shared"]},{name:"action-extra",use:["menu"]},{name:"time-picker-overlay",use:["calendar","time","shared"]},{name:"am-pm-button",use:["calendar","time","shared"]},{name:"left-sidebar",use:["menu"]},{name:"right-sidebar",use:["menu"]},{name:"month-year",use:["month-year","shared"]},{name:"time-picker",use:["menu","shared"]},{name:"action-row",use:["action"]},{name:"marker",use:["calendar","shared"]},{name:"quarter",use:["shared"]}],UZ=[{name:"trigger"},{name:"input-icon"},{name:"clear-icon"},{name:"dp-input"}],BZ={all:()=>eo,monthYear:()=>eo.filter(t=>t.use.includes("month-year")),input:()=>UZ,timePicker:()=>eo.filter(t=>t.use.includes("time")),action:()=>eo.filter(t=>t.use.includes("action")),calendar:()=>eo.filter(t=>t.use.includes("calendar")),menu:()=>eo.filter(t=>t.use.includes("menu")),shared:()=>eo.filter(t=>t.use.includes("shared")),yearMode:()=>eo.filter(t=>t.use.includes("year-mode"))},ri=(t,e,n)=>{const r=[];return BZ[e]().forEach(i=>{t[i.name]&&r.push(i.name)}),n!=null&&n.length&&n.forEach(i=>{i.slot&&r.push(i.slot)}),r},ch=t=>{const e=se(()=>r=>t.value?r?t.value.open:t.value.close:""),n=se(()=>r=>t.value?r?t.value.menuAppearTop:t.value.menuAppearBottom:"");return{transitionName:e,showTransition:!!t.value,menuTransition:n}},dh=(t,e)=>{const n=_e(Ni(new Date,t.timezone)),r=Te([{month:Ot(n),year:ht(n)}]),i=_i({hours:t.range?[xi(n),xi(n)]:xi(n),minutes:t.range?[as(n),as(n)]:as(n),seconds:t.range?[0,0]:0}),s=se({get:()=>t.internalModelValue,set:l=>{!t.readonly&&!t.disabled&&e("update:internal-model-value",l)}}),o=se(()=>l=>r.value[l]?r.value[l].month:0),a=se(()=>l=>r.value[l]?r.value[l].year:0);return{calendars:r,time:i,modelValue:s,month:o,year:a}},HZ=(t,e)=>{const{defaultedMultiCalendars:n,defaultedHighlight:r}=kn(e),{isDisabled:i,matchDate:s}=qa(e),o=Te(null),a=Te(_e(Ni(new Date,e.timezone))),l=$=>{!$.current&&e.hideOffsetDates||(o.value=$.value)},u=()=>{o.value=null},c=$=>Array.isArray(t.value)&&e.range&&t.value[0]&&o.value?$?Tr(o.value,t.value[0]):rr(o.value,t.value[0]):!0,h=($,x)=>{const te=()=>t.value?x?t.value[0]||null:t.value[1]:null,ee=t.value&&Array.isArray(t.value)?te():null;return Ft(_e($.value),ee)},f=$=>{const x=Array.isArray(t.value)?t.value[0]:null;return $?!rr(o.value??null,x):!0},p=($,x=!0)=>(e.range||e.weekPicker)&&Array.isArray(t.value)&&t.value.length===2?e.hideOffsetDates&&!$.current?!1:Ft(_e($.value),t.value[x?0:1]):e.range?h($,x)&&f(x)||Ft($.value,Array.isArray(t.value)?t.value[0]:null)&&c(x):!1,g=($,x,te)=>Array.isArray(t.value)&&t.value[0]&&t.value.length===1?$?!1:te?Tr(t.value[0],x.value):rr(t.value[0],x.value):!1,w=$=>!t.value||e.hideOffsetDates&&!$.current?!1:e.range?e.modelAuto&&Array.isArray(t.value)?Ft($.value,t.value[0]?t.value[0]:a.value):!1:e.multiDates&&Array.isArray(t.value)?t.value.some(x=>Ft(x,$.value)):Ft($.value,t.value?t.value:a.value),I=$=>{if(e.autoRange||e.weekPicker){if(o.value){if(e.hideOffsetDates&&!$.current)return!1;const x=Is(o.value,+e.autoRange),te=If(_e(o.value),e.timezone,e.weekStart);return e.weekPicker?Ft(te[1],_e($.value)):Ft(x,_e($.value))}return!1}return!1},k=$=>{if(e.autoRange||e.weekPicker){if(o.value){const x=Is(o.value,+e.autoRange);if(e.hideOffsetDates&&!$.current)return!1;const te=If(_e(o.value),e.timezone,e.weekStart);return e.weekPicker?Tr($.value,te[0])&&rr($.value,te[1]):Tr($.value,o.value)&&rr($.value,x)}return!1}return!1},P=$=>{if(e.autoRange||e.weekPicker){if(o.value){if(e.hideOffsetDates&&!$.current)return!1;const x=If(_e(o.value),e.timezone,e.weekStart);return e.weekPicker?Ft(x[0],$.value):Ft(o.value,$.value)}return!1}return!1},T=$=>Um(t.value,o.value,$.value),_=()=>e.modelAuto&&Array.isArray(e.internalModelValue)?!!e.internalModelValue[0]:!1,L=()=>e.modelAuto?dx(e.internalModelValue):!0,V=$=>{if(Array.isArray(t.value)&&t.value.length||e.weekPicker)return!1;const x=e.range?!p($)&&!p($,!1):!0;return!i($.value)&&!w($)&&!(!$.current&&e.hideOffsetDates)&&x},S=$=>e.range?e.modelAuto?_()&&w($):!1:w($),E=$=>{var x;return r.value?typeof r.value=="function"?r.value($.value):s($.value,(x=e.arrMapValues)!=null&&x.highlightedDates?e.arrMapValues.highlightedDates:r.value.dates):!1},b=$=>{const x=i($.value);return x&&(typeof r.value=="function"?!r.value($.value,x):!r.value.options.highlightDisabled)},v=$=>{var x;return typeof r.value=="function"?r.value($.value):(x=r.value.weekdays)==null?void 0:x.includes($.value.getDay())},C=$=>(e.range||e.weekPicker)&&(!(n.value.count>0)||$.current)&&L()&&!(!$.current&&e.hideOffsetDates)&&!w($)?T($):!1,A=$=>{const{isRangeStart:x,isRangeEnd:te}=U($),ee=e.range?x||te:!1;return{dp__cell_offset:!$.current,dp__pointer:!e.disabled&&!(!$.current&&e.hideOffsetDates)&&!i($.value),dp__cell_disabled:i($.value),dp__cell_highlight:!b($)&&(E($)||v($))&&!S($)&&!ee&&!P($)&&!(C($)&&e.weekPicker)&&!te,dp__cell_highlight_active:!b($)&&(E($)||v($))&&S($),dp__today:!e.noToday&&Ft($.value,a.value)&&$.current}},O=$=>({dp__active_date:S($),dp__date_hover:V($)}),Y=$=>({...j($),...q($),dp__range_between_week:C($)&&e.weekPicker}),U=$=>{const x=n.value.count>0?$.current&&p($)&&L():p($)&&L(),te=n.value.count>0?$.current&&p($,!1)&&L():p($,!1)&&L();return{isRangeStart:x,isRangeEnd:te}},j=$=>{const{isRangeStart:x,isRangeEnd:te}=U($);return{dp__range_start:x,dp__range_end:te,dp__range_between:C($)&&!e.weekPicker,dp__date_hover_start:g(V($),$,!0),dp__date_hover_end:g(V($),$,!1)}},q=$=>({...j($),dp__cell_auto_range:k($),dp__cell_auto_range_start:P($),dp__cell_auto_range_end:I($)}),X=$=>e.range?e.autoRange?q($):e.modelAuto?{...O($),...j($)}:j($):e.weekPicker?Y($):O($);return{setHoverDate:l,clearHoverDate:u,getDayClassData:$=>e.hideOffsetDates&&!$.current?{}:{...A($),...X($),[e.dayClass?e.dayClass($.value):""]:!0,[e.calendarCellClassName]:!!e.calendarCellClassName}}},qa=t=>{const{defaultedFilters:e,defaultedHighlight:n}=kn(t),r=()=>{if(t.timezone)return t.timezone;if(t.utc)return"UTC"},i=v=>{const C=Sr(s(_e(v))).toISOString(),[A]=C.split("T");return A},s=v=>t.utc==="preserve"?px(v,r()):Ni(v,r()),o=v=>{var C;const A=t.maxDate?Tr(v,s(_e(t.maxDate))):!1,O=t.minDate?rr(v,s(_e(t.minDate))):!1,Y=c(s(v),(C=t.arrMapValues)!=null&&C.disabledDates?t.arrMapValues.disabledDates:t.disabledDates),U=e.value.months.map(x=>+x).includes(Ot(v)),j=t.disabledWeekDays.length?t.disabledWeekDays.some(x=>+x===mX(v)):!1,q=f(v),X=ht(v),$=X<+t.yearRange[0]||X>+t.yearRange[1];return!(A||O||Y||U||$||j||q)},a=(v,C)=>rr(...go(t.minDate,v,C))||Ft(...go(t.minDate,v,C)),l=(v,C)=>Tr(...go(t.maxDate,v,C))||Ft(...go(t.maxDate,v,C)),u=(v,C,A)=>{let O=!1;return t.maxDate&&A&&l(v,C)&&(O=!0),t.minDate&&!A&&a(v,C)&&(O=!0),O},c=(v,C)=>v?C instanceof Map?!!C.get(i(v)):Array.isArray(C)?C.some(A=>Ft(s(_e(A)),v)):C?C(_e(JSON.parse(JSON.stringify(v)))):!1:!0,h=(v,C,A,O)=>{let Y=!1;return O?t.minDate&&t.maxDate?Y=u(v,C,A):(t.minDate&&a(v,C)||t.maxDate&&l(v,C))&&(Y=!0):Y=!0,Y},f=v=>{var C,A,O,Y,U;return Array.isArray(t.allowedDates)&&!((C=t.allowedDates)!=null&&C.length)?!0:(A=t.arrMapValues)!=null&&A.allowedDates?!c(v,(O=t.arrMapValues)==null?void 0:O.allowedDates):(Y=t.allowedDates)!=null&&Y.length?!((U=t.allowedDates)!=null&&U.some(j=>Ft(Sr(j),s(Sr(v))))):!1},p=v=>!o(v),g=v=>t.noDisabledRange?!UD({start:v[0],end:v[1]}).some(C=>p(C)):!0,w=(v,C,A=0)=>{if(Array.isArray(C)&&C[A]){const O=oQ(v,C[A]),Y=mx(C[A],v),U=Y.length===1?0:Y.filter(q=>p(q)).length,j=Math.abs(O)-U;if(t.minRange&&t.maxRange)return j>=+t.minRange&&j<=+t.maxRange;if(t.minRange)return j>=+t.minRange;if(t.maxRange)return j<=+t.maxRange}return!0},I=v=>new Map(v.map(C=>[i(C),!0])),k=v=>Array.isArray(v)&&v.length>0,P=()=>{const v={disabledDates:null,allowedDates:null,highlightedDates:null};return k(t.allowedDates)&&(v.allowedDates=I(t.allowedDates)),typeof n.value!="function"&&k(n.value.dates)&&(v.highlightedDates=I(n.value.dates)),k(t.disabledDates)&&(v.disabledDates=I(t.disabledDates)),v},T=()=>!t.enableTimePicker||t.monthPicker||t.yearPicker||t.ignoreTimeValidation,_=v=>Array.isArray(v)?[v[0]?vv(v[0]):null,v[1]?vv(v[1]):null]:vv(v),L=(v,C,A)=>v.find(O=>+O.hours===xi(C)&&O.minutes==="*"?!0:+O.minutes===as(C)&&+O.hours===xi(C))&&A,V=(v,C,A)=>{const[O,Y]=v,[U,j]=C;return!L(O,U,A)&&!L(Y,j,A)&&A},S=(v,C)=>{const A=Array.isArray(C)?C:[C];return Array.isArray(t.disabledTimes)?Array.isArray(t.disabledTimes[0])?V(t.disabledTimes,A,v):!A.some(O=>L(t.disabledTimes,O,v)):v},E=(v,C)=>{const A=Array.isArray(C)?[pa(C[0]),C[1]?pa(C[1]):void 0]:pa(C),O=!t.disabledTimes(A);return v&&O},b=(v,C)=>t.disabledTimes?Array.isArray(t.disabledTimes)?S(C,v):E(C,v):C;return{isDisabled:p,validateDate:o,validateMonthYearInRange:h,isDateRangeAllowed:g,checkMinMaxRange:w,matchDate:c,mapDatesArrToMap:P,isValidTime:v=>{let C=!0;if(!v||T())return!0;const A=!t.minDate&&!t.maxDate?_(v):v;return(t.maxTime||t.maxDate)&&(C=AS(t.maxTime,t.maxDate,"max",Un(A),C)),(t.minTime||t.minDate)&&(C=AS(t.minTime,t.minDate,"min",Un(A),C)),b(v,C)}}},Bm=()=>{const t=se(()=>(r,i)=>r==null?void 0:r.includes(i)),e=se(()=>(r,i)=>r.count?r.solo?!0:i===0:!0),n=se(()=>(r,i)=>r.count?r.solo?!0:i===r.count-1:!0);return{hideNavigationButtons:t,showLeftIcon:e,showRightIcon:n}},jZ=(t,e,n)=>{const r=Te(0),i=_i({[ma.timePicker]:!t.enableTimePicker||t.timePicker||t.monthPicker,[ma.calendar]:!1,[ma.header]:!1}),s=se(()=>t.monthPicker),o=h=>{var f;if((f=t.flow)!=null&&f.length){if(!h&&s.value)return c();i[h]=!0,Object.keys(i).filter(p=>!i[p]).length||c()}},a=()=>{var h;(h=t.flow)!=null&&h.length&&r.value!==-1&&(r.value+=1,e("flow-step",r.value),c())},l=()=>{r.value=-1},u=(h,f,...p)=>{t.flow[r.value]===h&&n.value&&n.value[f](...p)},c=()=>{u(Gi.month,"toggleMonthPicker",!0),u(Gi.year,"toggleYearPicker",!0),u(Gi.calendar,"toggleTimePicker",!1,!0),u(Gi.time,"toggleTimePicker",!0,!0);const h=t.flow[r.value];(h===Gi.hours||h===Gi.minutes||h===Gi.seconds)&&u(h,"toggleTimePicker",!0,!0,h)};return{childMount:o,updateFlowStep:a,resetFlow:l,flowStep:r}},Hm={multiCalendars:{type:[Boolean,Number,String,Object],default:void 0},modelValue:{type:[String,Date,Array,Object,Number],default:null},modelType:{type:String,default:null},position:{type:String,default:"center"},dark:{type:Boolean,default:!1},format:{type:[String,Function],default:()=>null},autoPosition:{type:Boolean,default:!0},altPosition:{type:Function,default:null},transitions:{type:[Boolean,Object],default:!0},formatLocale:{type:Object,default:null},utc:{type:[Boolean,String],default:!1},ariaLabels:{type:Object,default:()=>({})},offset:{type:[Number,String],default:10},hideNavigation:{type:Array,default:()=>[]},timezone:{type:String,default:null},emitTimezone:{type:String,default:null},vertical:{type:Boolean,default:!1},disableMonthYearSelect:{type:Boolean,default:!1},disableYearSelect:{type:Boolean,default:!1},menuClassName:{type:String,default:null},dayClass:{type:Function,default:null},yearRange:{type:Array,default:()=>[1900,2100]},calendarCellClassName:{type:String,default:null},enableTimePicker:{type:Boolean,default:!0},autoApply:{type:Boolean,default:!1},disabledDates:{type:[Array,Function],default:()=>[]},monthNameFormat:{type:String,default:"short"},startDate:{type:[Date,String],default:null},startTime:{type:[Object,Array],default:null},hideOffsetDates:{type:Boolean,default:!1},autoRange:{type:[Number,String],default:null},noToday:{type:Boolean,default:!1},disabledWeekDays:{type:Array,default:()=>[]},allowedDates:{type:Array,default:null},nowButtonLabel:{type:String,default:"Now"},markers:{type:Array,default:()=>[]},escClose:{type:Boolean,default:!0},spaceConfirm:{type:Boolean,default:!0},monthChangeOnArrows:{type:Boolean,default:!0},presetDates:{type:Array,default:()=>[]},flow:{type:Array,default:()=>[]},partialFlow:{type:Boolean,default:!1},preventMinMaxNavigation:{type:Boolean,default:!1},minRange:{type:[Number,String],default:null},maxRange:{type:[Number,String],default:null},multiDatesLimit:{type:[Number,String],default:null},reverseYears:{type:Boolean,default:!1},weekPicker:{type:Boolean,default:!1},filters:{type:Object,default:()=>({})},arrowNavigation:{type:Boolean,default:!1},disableTimeRangeValidation:{type:Boolean,default:!1},highlight:{type:[Array,Function,Object],default:null},highlightWeekDays:{type:Array,default:null},highlightDisabledDays:{type:Boolean,default:!1},teleport:{type:[String,Boolean,Object],default:null},teleportCenter:{type:Boolean,default:!1},locale:{type:String,default:"en-Us"},weekNumName:{type:String,default:"W"},weekStart:{type:[Number,String],default:1},weekNumbers:{type:[String,Function,Object],default:null},calendarClassName:{type:String,default:null},monthChangeOnScroll:{type:[Boolean,String],default:!0},dayNames:{type:[Function,Array],default:null},monthPicker:{type:Boolean,default:!1},customProps:{type:Object,default:null},yearPicker:{type:Boolean,default:!1},modelAuto:{type:Boolean,default:!1},selectText:{type:String,default:"Select"},cancelText:{type:String,default:"Cancel"},previewFormat:{type:[String,Function],default:()=>""},multiDates:{type:Boolean,default:!1},partialRange:{type:Boolean,default:!0},ignoreTimeValidation:{type:Boolean,default:!1},minDate:{type:[Date,String],default:null},maxDate:{type:[Date,String],default:null},minTime:{type:Object,default:null},maxTime:{type:Object,default:null},name:{type:String,default:null},placeholder:{type:String,default:""},hideInputIcon:{type:Boolean,default:!1},clearable:{type:Boolean,default:!0},state:{type:Boolean,default:null},required:{type:Boolean,default:!1},autocomplete:{type:String,default:"off"},inputClassName:{type:String,default:null},fixedStart:{type:Boolean,default:!1},fixedEnd:{type:Boolean,default:!1},timePicker:{type:Boolean,default:!1},enableSeconds:{type:Boolean,default:!1},is24:{type:Boolean,default:!0},noHoursOverlay:{type:Boolean,default:!1},noMinutesOverlay:{type:Boolean,default:!1},noSecondsOverlay:{type:Boolean,default:!1},hoursGridIncrement:{type:[String,Number],default:1},minutesGridIncrement:{type:[String,Number],default:5},secondsGridIncrement:{type:[String,Number],default:5},hoursIncrement:{type:[Number,String],default:1},minutesIncrement:{type:[Number,String],default:1},secondsIncrement:{type:[Number,String],default:1},range:{type:Boolean,default:!1},uid:{type:String,default:null},disabled:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},inline:{type:[Boolean,Object],default:!1},textInput:{type:[Boolean,Object],default:!1},noDisabledRange:{type:Boolean,default:!1},sixWeeks:{type:[Boolean,String],default:!1},actionRow:{type:Object,default:()=>({})},focusStartDate:{type:Boolean,default:!1},disabledTimes:{type:[Function,Array],default:void 0},showLastInRange:{type:Boolean,default:!0},timePickerInline:{type:Boolean,default:!1},calendar:{type:Function,default:null},config:{type:Object,default:void 0},quarterPicker:{type:Boolean,default:!1},yearFirst:{type:Boolean,default:!1}},Hi={...Hm,shadow:{type:Boolean,default:!1},flowStep:{type:Number,default:0},internalModelValue:{type:[Date,Array],default:null},arrMapValues:{type:Object,default:()=>({})},noOverlayFocus:{type:Boolean,default:!1}},WZ={key:1,class:"dp__input_wrap"},qZ=["id","name","inputmode","placeholder","disabled","readonly","required","value","autocomplete","aria-label","aria-disabled","aria-invalid"],zZ={key:2,class:"dp__clear_icon"},KZ=it({compatConfig:{MODE:3},__name:"DatepickerInput",props:{isMenuOpen:{type:Boolean,default:!1},inputValue:{type:String,default:""},...Hm},emits:["clear","open","update:input-value","set-input-date","close","select-date","set-empty-date","toggle","focus-prev","focus","blur","real-blur"],setup(t,{expose:e,emit:n}){const r=n,i=t,{defaultedTextInput:s,defaultedAriaLabels:o,defaultedInline:a,defaultedConfig:l,getDefaultPattern:u,getDefaultStartTime:c}=kn(i),{checkMinMaxRange:h}=qa(i),f=Te(),p=Te(null),g=Te(!1),w=Te(!1),I=se(()=>({dp__pointer:!i.disabled&&!i.readonly&&!s.value.enabled,dp__disabled:i.disabled,dp__input_readonly:!s.value.enabled,dp__input:!0,dp__input_icon_pad:!i.hideInputIcon,dp__input_valid:!!i.state,dp__input_invalid:i.state===!1,dp__input_focus:g.value||i.isMenuOpen,dp__input_reg:!s.value.enabled,[i.inputClassName]:!!i.inputClassName})),k=()=>{r("set-input-date",null),i.autoApply&&(r("set-empty-date"),f.value=null)},P=Y=>{const U=c();return yZ(Y,s.value.format??u(),U??gx({},i.enableSeconds),i.inputValue,w.value)},T=Y=>{const{rangeSeparator:U}=s.value,[j,q]=Y.split(`${U}`);if(j){const X=P(j.trim()),$=q?P(q.trim()):null,x=X&&$?[X,$]:[X];h($,x,0)&&(f.value=X?x:null)}},_=()=>{w.value=!0},L=Y=>{if(i.range)T(Y);else if(i.multiDates){const U=Y.split(";");f.value=U.map(j=>P(j.trim())).filter(j=>j)}else f.value=P(Y)},V=Y=>{var U;const j=typeof Y=="string"?Y:(U=Y.target)==null?void 0:U.value;j!==""?(s.value.openMenu&&!i.isMenuOpen&&r("open"),L(j),r("set-input-date",f.value)):k(),w.value=!1,r("update:input-value",j)},S=Y=>{s.value.enabled?(L(Y.target.value),s.value.enterSubmit&&u_(f.value)&&i.inputValue!==""?(r("set-input-date",f.value,!0),f.value=null):s.value.enterSubmit&&i.inputValue===""&&(f.value=null,r("clear"))):v(Y)},E=Y=>{s.value.enabled&&s.value.tabSubmit&&L(Y.target.value),s.value.tabSubmit&&u_(f.value)&&i.inputValue!==""?(r("set-input-date",f.value,!0,!0),f.value=null):s.value.tabSubmit&&i.inputValue===""&&(f.value=null,r("clear",!0))},b=()=>{var Y;g.value=!0,r("focus"),s.value.enabled&&s.value.selectOnFocus&&((Y=p.value)==null||Y.select())},v=Y=>{Y.preventDefault(),So(Y,l.value,!0),s.value.enabled&&s.value.openMenu&&!a.value.input&&!i.isMenuOpen?r("open"):s.value.enabled||r("toggle")},C=()=>{r("real-blur"),g.value=!1,(!i.isMenuOpen||a.value.enabled&&a.value.input)&&r("blur"),i.autoApply&&s.value.enabled&&f.value&&!i.isMenuOpen&&(r("set-input-date",f.value),r("select-date"),f.value=null)},A=Y=>{So(Y,l.value,!0),r("clear")},O=Y=>{if(!s.value.enabled){if(Y.code==="Tab")return;Y.preventDefault()}};return e({focusInput:()=>{var Y;(Y=p.value)==null||Y.focus({preventScroll:!0})},setParsedDate:Y=>{f.value=Y}}),(Y,U)=>{var j;return M(),W("div",{onClick:v},[Y.$slots.trigger&&!Y.$slots["dp-input"]&&!R(a).enabled?pe(Y.$slots,"trigger",{key:0}):ne("",!0),!Y.$slots.trigger&&(!R(a).enabled||R(a).input)?(M(),W("div",WZ,[Y.$slots["dp-input"]&&!Y.$slots.trigger&&!R(a).enabled?pe(Y.$slots,"dp-input",{key:0,value:t.inputValue,isMenuOpen:t.isMenuOpen,onInput:V,onEnter:S,onTab:E,onClear:A,onBlur:C,onKeypress:O,onPaste:_,openMenu:()=>Y.$emit("open"),closeMenu:()=>Y.$emit("close"),toggleMenu:()=>Y.$emit("toggle")}):ne("",!0),Y.$slots["dp-input"]?ne("",!0):(M(),W("input",{key:1,id:Y.uid?`dp-input-${Y.uid}`:void 0,ref_key:"inputRef",ref:p,name:Y.name,class:He(I.value),inputmode:R(s).enabled?"text":"none",placeholder:Y.placeholder,disabled:Y.disabled,readonly:Y.readonly,required:Y.required,value:t.inputValue,autocomplete:Y.autocomplete,"aria-label":(j=R(o))==null?void 0:j.input,"aria-disabled":Y.disabled||void 0,"aria-invalid":Y.state===!1?!0:void 0,onInput:V,onKeydown:[ct(S,["enter"]),ct(E,["tab"]),O],onBlur:C,onFocus:b,onKeypress:O,onPaste:_},null,42,qZ)),K("div",{onClick:U[2]||(U[2]=q=>r("toggle"))},[Y.$slots["input-icon"]&&!Y.hideInputIcon?(M(),W("span",{key:0,class:"dp__input_icon",onClick:U[0]||(U[0]=q=>r("toggle"))},[pe(Y.$slots,"input-icon")])):ne("",!0),!Y.$slots["input-icon"]&&!Y.hideInputIcon&&!Y.$slots["dp-input"]?(M(),we(R(Au),{key:1,class:"dp__input_icon dp__input_icons",onClick:U[1]||(U[1]=q=>r("toggle"))})):ne("",!0)]),Y.$slots["clear-icon"]&&t.inputValue&&Y.clearable&&!Y.disabled&&!Y.readonly?(M(),W("span",zZ,[pe(Y.$slots,"clear-icon",{clear:A})])):ne("",!0),Y.clearable&&!Y.$slots["clear-icon"]&&t.inputValue&&!Y.disabled&&!Y.readonly?(M(),we(R(ox),{key:3,class:"dp__clear_icon dp__input_icons",onClick:U[3]||(U[3]=$t(q=>A(q),["prevent"]))})):ne("",!0)])):ne("",!0)])}}}),YZ=["title"],GZ={class:"dp__action_buttons"},QZ=["disabled"],XZ=it({compatConfig:{MODE:3},__name:"ActionRow",props:{menuMount:{type:Boolean,default:!1},calendarWidth:{type:Number,default:0},...Hi},emits:["close-picker","select-date","select-now","invalid-select"],setup(t,{emit:e}){const n=e,r=t,{defaultedActionRow:i,defaultedPreviewFormat:s,defaultedMultiCalendars:o,defaultedTextInput:a,defaultedInline:l,getDefaultPattern:u}=kn(r),{isValidTime:c}=qa(r),{buildMatrix:h}=Wo(),f=Te(null),p=Te(null);mn(()=>{r.arrowNavigation&&h([Vn(f),Vn(p)],"actionRow")});const g=se(()=>r.range&&!r.partialRange&&r.internalModelValue?r.internalModelValue.length===2:!0),w=se(()=>!I.value||!k.value||!g.value),I=se(()=>!r.enableTimePicker||r.ignoreTimeValidation?!0:c(r.internalModelValue)),k=se(()=>r.monthPicker?r.range&&Array.isArray(r.internalModelValue)?!r.internalModelValue.filter(v=>!E(v)).length:E(r.internalModelValue):!0),P=()=>{const v=s.value;return r.timePicker||r.monthPicker,v(Un(r.internalModelValue))},T=()=>{const v=r.internalModelValue;return o.value.count>0?`${_(v[0])} - ${_(v[1])}`:[_(v[0]),_(v[1])]},_=v=>yx(v,s.value,r.formatLocale,a.value.rangeSeparator,r.modelAuto,u()),L=se(()=>!r.internalModelValue||!r.menuMount?"":typeof s.value=="string"?Array.isArray(r.internalModelValue)?r.internalModelValue.length===2&&r.internalModelValue[1]?T():r.multiDates?r.internalModelValue.map(v=>`${_(v)}`):r.modelAuto?`${_(r.internalModelValue[0])}`:`${_(r.internalModelValue[0])} -`:_(r.internalModelValue):P()),V=()=>r.multiDates?"; ":" - ",S=se(()=>Array.isArray(L.value)?L.value.join(V()):L.value),E=v=>{if(!r.monthPicker)return!0;let C=!0;const A=_e(Ci(v));if(r.minDate&&r.maxDate){const O=_e(Ci(r.minDate)),Y=_e(Ci(r.maxDate));return Tr(A,O)&&rr(A,Y)||Ft(A,O)||Ft(A,Y)}if(r.minDate){const O=_e(Ci(r.minDate));C=Tr(A,O)||Ft(A,O)}if(r.maxDate){const O=_e(Ci(r.maxDate));C=rr(A,O)||Ft(A,O)}return C},b=()=>{I.value&&k.value&&g.value?n("select-date"):n("invalid-select")};return(v,C)=>(M(),W("div",{class:"dp__action_row",style:zn(t.calendarWidth?{width:`${t.calendarWidth}px`}:{})},[v.$slots["action-row"]?pe(v.$slots,"action-row",An(ce({key:0},{internalModelValue:v.internalModelValue,disabled:w.value,selectDate:()=>v.$emit("select-date"),closePicker:()=>v.$emit("close-picker")}))):(M(),W(Oe,{key:1},[R(i).showPreview?(M(),W("div",{key:0,class:"dp__selection_preview",title:S.value},[v.$slots["action-preview"]?pe(v.$slots,"action-preview",{key:0,value:v.internalModelValue}):ne("",!0),v.$slots["action-preview"]?ne("",!0):(M(),W(Oe,{key:1},[tt(Ue(S.value),1)],64))],8,YZ)):ne("",!0),K("div",GZ,[v.$slots["action-buttons"]?pe(v.$slots,"action-buttons",{key:0,value:v.internalModelValue}):ne("",!0),v.$slots["action-buttons"]?ne("",!0):(M(),W(Oe,{key:1},[!R(l).enabled&&R(i).showCancel?(M(),W("button",{key:0,ref_key:"cancelButtonRef",ref:f,type:"button",class:"dp__action_button dp__action_cancel",onClick:C[0]||(C[0]=A=>v.$emit("close-picker")),onKeydown:[C[1]||(C[1]=ct(A=>v.$emit("close-picker"),["enter"])),C[2]||(C[2]=ct(A=>v.$emit("close-picker"),["space"]))]},Ue(v.cancelText),545)):ne("",!0),R(i).showNow?(M(),W("button",{key:1,ref_key:"cancelButtonRef",ref:f,type:"button",class:"dp__action_button dp__action_cancel",onClick:C[3]||(C[3]=A=>v.$emit("select-now")),onKeydown:[C[4]||(C[4]=ct(A=>v.$emit("select-now"),["enter"])),C[5]||(C[5]=ct(A=>v.$emit("select-now"),["space"]))]},Ue(v.nowButtonLabel),545)):ne("",!0),R(i).showSelect?(M(),W("button",{key:2,ref_key:"selectButtonRef",ref:p,type:"button",class:"dp__action_button dp__action_select",disabled:w.value,onKeydown:[ct(b,["enter"]),ct(b,["space"])],onClick:b},Ue(v.selectText),41,QZ)):ne("",!0)],64))])],64))],4))}}),JZ=["onKeydown"],ZZ={class:"dp__selection_grid_header"},eee=["aria-selected","aria-disabled","onClick","onKeydown","onMouseover"],tee=["aria-label"],hh=it({__name:"SelectionOverlay",props:{items:{},type:{},isLast:{type:Boolean},arrowNavigation:{type:Boolean},skipButtonRef:{type:Boolean},headerRefs:{},hideNavigation:{},escClose:{type:Boolean},useRelative:{type:Boolean},height:{},textInput:{type:[Boolean,Object]},config:{},noOverlayFocus:{type:Boolean},focusValue:{}},emits:["selected","toggle","reset-flow","hover-value"],setup(t,{expose:e,emit:n}){const{setSelectionGrid:r,buildMultiLevelMatrix:i,setMonthPicker:s}=Wo(),o=n,a=t,{defaultedAriaLabels:l,defaultedTextInput:u,defaultedConfig:c}=kn(a),{hideNavigationButtons:h}=Bm(),f=Te(!1),p=Te(null),g=Te(null),w=Te([]),I=Te(),k=Te(null),P=Te(0),T=Te(null);x_(()=>{p.value=null}),mn(()=>{Kn().then(()=>C()),a.noOverlayFocus||L(),_(!0)}),Fo(()=>_(!1));const _=$=>{var x;a.arrowNavigation&&((x=a.headerRefs)!=null&&x.length?s($):r($))},L=()=>{var $;const x=Vn(g);x&&(u.value.enabled||(p.value?($=p.value)==null||$.focus({preventScroll:!0}):x.focus({preventScroll:!0})),f.value=x.clientHeight<x.scrollHeight)},V=se(()=>({dp__overlay:!0,"dp--overlay-absolute":!a.useRelative,"dp--overlay-relative":a.useRelative})),S=se(()=>a.useRelative?{height:`${a.height}px`,width:"260px"}:void 0),E=se(()=>({dp__overlay_col:!0})),b=se(()=>({dp__btn:!0,dp__button:!0,dp__overlay_action:!0,dp__over_action_scroll:f.value,dp__button_bottom:a.isLast})),v=se(()=>{var $,x;return{dp__overlay_container:!0,dp__container_flex:(($=a.items)==null?void 0:$.length)<=6,dp__container_block:((x=a.items)==null?void 0:x.length)>6}});_n(()=>a.items,()=>C(),{deep:!0});const C=()=>{Kn().then(()=>{const $=Vn(p),x=Vn(g),te=Vn(k),ee=Vn(T),he=te?te.getBoundingClientRect().height:0;x&&(x.getBoundingClientRect().height?P.value=x.getBoundingClientRect().height-he:P.value=c.value.modeHeight-he),$&&ee&&(ee.scrollTop=$.offsetTop-ee.offsetTop-(P.value/2-$.getBoundingClientRect().height)-he)})},A=$=>{$.disabled||o("selected",$.value)},O=()=>{o("toggle"),o("reset-flow")},Y=()=>{a.escClose&&O()},U=($,x,te,ee)=>{$&&((x.active||x.value===a.focusValue)&&(p.value=$),a.arrowNavigation&&(Array.isArray(w.value[te])?w.value[te][ee]=$:w.value[te]=[$],j()))},j=()=>{var $,x;const te=($=a.headerRefs)!=null&&$.length?[a.headerRefs].concat(w.value):w.value.concat([a.skipButtonRef?[]:[k.value]]);i(Un(te),(x=a.headerRefs)!=null&&x.length?"monthPicker":"selectionGrid")},q=$=>{a.arrowNavigation||So($,c.value,!0)},X=$=>{I.value=$,o("hover-value",$)};return e({focusGrid:L}),($,x)=>{var te;return M(),W("div",{ref_key:"gridWrapRef",ref:g,class:He(V.value),style:zn(S.value),role:"dialog",tabindex:"0",onKeydown:[ct($t(Y,["prevent"]),["esc"]),x[0]||(x[0]=ct($t(ee=>q(ee),["prevent"]),["left"])),x[1]||(x[1]=ct($t(ee=>q(ee),["prevent"]),["up"])),x[2]||(x[2]=ct($t(ee=>q(ee),["prevent"]),["down"])),x[3]||(x[3]=ct($t(ee=>q(ee),["prevent"]),["right"]))]},[K("div",{ref_key:"containerRef",ref:T,class:He(v.value),role:"grid",style:zn({height:`${P.value}px`})},[K("div",ZZ,[pe($.$slots,"header")]),$.$slots.overlay?pe($.$slots,"overlay",{key:0}):(M(!0),W(Oe,{key:1},ft($.items,(ee,he)=>(M(),W("div",{key:he,class:He(["dp__overlay_row",{dp__flex_row:$.items.length>=3}]),role:"row"},[(M(!0),W(Oe,null,ft(ee,(ge,Q)=>(M(),W("div",{key:ge.value,ref_for:!0,ref:B=>U(B,ge,he,Q),role:"gridcell",class:He(E.value),"aria-selected":ge.active,"aria-disabled":ge.disabled||void 0,tabindex:"0",onClick:B=>A(ge),onKeydown:[ct($t(B=>A(ge),["prevent"]),["enter"]),ct($t(B=>A(ge),["prevent"]),["space"])],onMouseover:B=>X(ge.value)},[K("div",{class:He(ge.className)},[$.$slots.item?pe($.$slots,"item",{key:0,item:ge}):ne("",!0),$.$slots.item?ne("",!0):(M(),W(Oe,{key:1},[tt(Ue(ge.text),1)],64))],2)],42,eee))),128))],2))),128))],6),$.$slots["button-icon"]?vo((M(),W("button",{key:0,ref_key:"toggleButton",ref:k,type:"button","aria-label":(te=R(l))==null?void 0:te.toggleOverlay,class:He(b.value),tabindex:"0",onClick:O,onKeydown:[ct(O,["enter"]),ct(O,["tab"])]},[pe($.$slots,"button-icon")],42,tee)),[[_c,!R(h)($.hideNavigation,$.type)]]):ne("",!0)],46,JZ)}}}),jm=it({__name:"InstanceWrap",props:{multiCalendars:{},stretch:{type:Boolean}},setup(t){const e=t,n=se(()=>e.multiCalendars>0?[...Array(e.multiCalendars).keys()]:[0]),r=se(()=>({dp__instance_calendar:e.multiCalendars>0}));return(i,s)=>(M(),W("div",{class:He({dp__menu_inner:!i.stretch,"dp--menu--inner-stretched":i.stretch,dp__flex_display:i.multiCalendars>0})},[(M(!0),W(Oe,null,ft(n.value,(o,a)=>(M(),W("div",{key:o,class:He(r.value)},[pe(i.$slots,"default",{instance:o,index:a})],2))),128))],2))}}),nee=["aria-label","aria-disabled"],Fc=it({compatConfig:{MODE:3},__name:"ArrowBtn",props:{ariaLabel:{},disabled:{type:Boolean}},emits:["activate","set-ref"],setup(t,{emit:e}){const n=e,r=Te(null);return mn(()=>n("set-ref",r)),(i,s)=>(M(),W("button",{ref_key:"elRef",ref:r,type:"button",class:"dp__btn dp--arrow-btn-nav",tabindex:"0","aria-label":i.ariaLabel,"aria-disabled":i.disabled||void 0,onClick:s[0]||(s[0]=o=>i.$emit("activate")),onKeydown:[s[1]||(s[1]=ct($t(o=>i.$emit("activate"),["prevent"]),["enter"])),s[2]||(s[2]=ct($t(o=>i.$emit("activate"),["prevent"]),["space"]))]},[K("span",{class:He(["dp__inner_nav",{dp__inner_nav_disabled:i.disabled}])},[pe(i.$slots,"default")],2)],40,nee))}}),ree={class:"dp--year-mode-picker"},iee=["aria-label"],wx=it({__name:"YearModePicker",props:{...Hi,showYearPicker:{type:Boolean,default:!1},items:{type:Array,default:()=>[]},instance:{type:Number,default:0},year:{type:Number,default:0},isDisabled:{type:Function,default:()=>!1}},emits:["toggle-year-picker","year-select","handle-year"],setup(t,{emit:e}){const n=e,r=t,{showRightIcon:i,showLeftIcon:s}=Bm(),{defaultedConfig:o,defaultedMultiCalendars:a,defaultedAriaLabels:l,defaultedTransitions:u}=kn(r),{showTransition:c,transitionName:h}=ch(u),f=(w=!1,I)=>{n("toggle-year-picker",{flow:w,show:I})},p=w=>{n("year-select",w)},g=(w=!1)=>{n("handle-year",w)};return(w,I)=>{var k,P,T;return M(),W("div",ree,[R(s)(R(a),t.instance)?(M(),we(Fc,{key:0,ref:"mpPrevIconRef","aria-label":(k=R(l))==null?void 0:k.prevYear,disabled:t.isDisabled(!1),onActivate:I[0]||(I[0]=_=>g(!1))},{default:ke(()=>[w.$slots["arrow-left"]?pe(w.$slots,"arrow-left",{key:0}):ne("",!0),w.$slots["arrow-left"]?ne("",!0):(M(),we(R(Bb),{key:1}))]),_:3},8,["aria-label","disabled"])):ne("",!0),K("button",{ref:"mpYearButtonRef",class:"dp__btn dp--year-select",type:"button","aria-label":(P=R(l))==null?void 0:P.openYearsOverlay,onClick:I[1]||(I[1]=()=>f(!1)),onKeydown:I[2]||(I[2]=ct(()=>f(!1),["enter"]))},[w.$slots.year?pe(w.$slots,"year",{key:0,year:t.year}):ne("",!0),w.$slots.year?ne("",!0):(M(),W(Oe,{key:1},[tt(Ue(t.year),1)],64))],40,iee),R(i)(R(a),t.instance)?(M(),we(Fc,{key:1,ref:"mpNextIconRef","aria-label":(T=R(l))==null?void 0:T.nextYear,disabled:t.isDisabled(!0),onActivate:I[3]||(I[3]=_=>g(!0))},{default:ke(()=>[w.$slots["arrow-right"]?pe(w.$slots,"arrow-right",{key:0}):ne("",!0),w.$slots["arrow-right"]?ne("",!0):(M(),we(R(Hb),{key:1}))]),_:3},8,["aria-label","disabled"])):ne("",!0),Me($o,{name:R(h)(t.showYearPicker),css:R(c)},{default:ke(()=>[t.showYearPicker?(M(),we(hh,{key:0,items:t.items,"text-input":w.textInput,"esc-close":w.escClose,config:w.config,"is-last":w.autoApply&&!R(o).keepActionRow,"hide-navigation":w.hideNavigation,type:"year",onToggle:f,onSelected:I[4]||(I[4]=_=>p(_))},sr({"button-icon":ke(()=>[w.$slots["calendar-icon"]?pe(w.$slots,"calendar-icon",{key:0}):ne("",!0),w.$slots["calendar-icon"]?ne("",!0):(M(),we(R(Au),{key:1}))]),_:2},[w.$slots["year-overlay-value"]?{name:"item",fn:ke(({item:_})=>[pe(w.$slots,"year-overlay-value",{text:_.text,value:_.value})]),key:"0"}:void 0]),1032,["items","text-input","esc-close","config","is-last","hide-navigation"])):ne("",!0)]),_:3},8,["name","css"])])}}}),Xb=(t,e,n)=>{if(e.value&&Array.isArray(e.value))if(e.value.some(r=>Ft(t,r))){const r=e.value.filter(i=>!Ft(i,t));e.value=r.length?r:null}else(n&&+n>e.value.length||!n)&&e.value.push(t);else e.value=[t]},Jb=(t,e,n)=>{let r=t.value?t.value.slice():[];return r.length===2&&r[1]!==null&&(r=[]),r.length?rr(e,r[0])?(r.unshift(e),n("range-start",r[0]),n("range-start",r[1])):(r[1]=e,n("range-end",e)):(r=[e],n("range-start",e)),t.value=r,r},Wm=(t,e,n,r)=>{t[0]&&t[1]&&n&&e("auto-apply"),t[0]&&!t[1]&&r&&n&&e("auto-apply")},Tx=t=>{Array.isArray(t.value)&&t.value.length<=2&&t.range?t.modelValue.value=t.value.map(e=>Ni(_e(e),t.timezone)):Array.isArray(t.value)||(t.modelValue.value=Ni(_e(t.value),t.timezone))},Ex=({multiCalendars:t,highlight:e,calendars:n,modelValue:r,props:i,year:s,month:o,emit:a})=>{const l=se(()=>Gb(i.yearRange,i.reverseYears)),u=Te([!1]),c=se(()=>(_,L)=>{const V=dn(Ci(new Date),{month:o.value(_),year:s.value(_)});return vx(V,i.maxDate,i.minDate,i.preventMinMaxNavigation,L)}),h=()=>{for(let _=0;_<t.value.count;_++)if(_===0)n.value[_]=n.value[0];else{const L=dn(_e(),n.value[_-1]);n.value[_]={month:Ot(L),year:ht(xb(L,1))}}},f=_=>{if(!_)return h();const L=dn(_e(),n.value[_]);return n.value[0].year=ht(sx(L,t.value.count-1)),h()},p=_=>i.focusStartDate?_[0]:_[1]?_[1]:_[0],g=()=>{if(r.value){const _=Array.isArray(r.value)?p(r.value):r.value;n.value[0]={month:Ot(_),year:ht(_)}}};mn(()=>{g(),t.value.count&&h()});const w=(_,L)=>{n.value[L].year=_,t.value.count&&!t.value.solo&&f(L)},I=se(()=>_=>uu(l.value,L=>{const V=s.value(_)===L.value,S=Pd(L.value,cu(i.minDate),cu(i.maxDate)),E=Qb(e.value,L.value);return{active:V,disabled:S,highlighted:E}})),k=(_,L)=>{w(_,L),T(L)},P=(_,L=!1)=>{if(!c.value(_,L)){const V=L?s.value(_)+1:s.value(_)-1;w(V,_)}},T=(_,L=!1,V)=>{L||a("reset-flow"),V!==void 0?u.value[_]=V:u.value[_]=!u.value[_],u.value||a("overlay-closed")};return{isDisabled:c,groupedYears:I,showYearPicker:u,selectYear:w,toggleYearPicker:T,handleYearSelect:k,handleYear:P}},see=(t,e)=>{const{defaultedMultiCalendars:n,defaultedAriaLabels:r,defaultedTransitions:i,defaultedConfig:s,defaultedHighlight:o}=kn(t),{modelValue:a,year:l,month:u,calendars:c}=dh(t,e),h=se(()=>cx(t.formatLocale,t.locale,t.monthNameFormat)),f=Te(null),{selectYear:p,groupedYears:g,showYearPicker:w,toggleYearPicker:I,handleYearSelect:k,handleYear:P,isDisabled:T}=Ex({modelValue:a,multiCalendars:n,highlight:o,calendars:c,year:l,month:u,props:t,emit:e});mn(()=>{t.startDate&&(a.value&&t.focusStartDate||!a.value)&&p(ht(_e(t.startDate)),0)});const _=q=>q?{month:Ot(q),year:ht(q)}:{month:null,year:null},L=()=>a.value?Array.isArray(a.value)?a.value.map(q=>_(q)):_(a.value):_(),V=(q,X)=>{const $=c.value[q],x=L();return Array.isArray(x)?x.some(te=>te.year===($==null?void 0:$.year)&&te.month===X):($==null?void 0:$.year)===x.year&&X===x.month},S=(q,X,$)=>{var x,te;const ee=L();return Array.isArray(ee)?l.value(X)===((x=ee[$])==null?void 0:x.year)&&q===((te=ee[$])==null?void 0:te.month):!1},E=(q,X)=>{if(t.range){const $=L();if(Array.isArray(a.value)&&Array.isArray($)){const x=S(q,X,0)||S(q,X,1),te=Ps(Ci(_e()),q,l.value(X));return Um(a.value,f.value,te)&&!x}return!1}return!1},b=se(()=>q=>uu(h.value,X=>{const $=V(q,X.value),x=Pd(X.value,hx(l.value(q),t.minDate),fx(l.value(q),t.maxDate))||SZ(t.disabledDates,l.value(q)).includes(X.value),te=E(X.value,q),ee=_x(o.value,X.value,l.value(q));return{active:$,disabled:x,isBetween:te,highlighted:ee}})),v=(q,X)=>Ps(Ci(_e()),q,l.value(X)),C=(q,X)=>{const $=a.value?a.value:Ci(new Date);a.value=Ps($,q,l.value(X)),e("auto-apply")},A=(q,X)=>{const $=Jb(a,v(q,X),e);Wm($,e,t.autoApply,t.modelAuto)},O=(q,X)=>{Xb(v(q,X),a,t.multiDatesLimit),e("auto-apply",!0)},Y=(q,X)=>(c.value[X].month=q,j(X,c.value[X].year,q),t.multiDates?O(q,X):t.range?A(q,X):C(q,X)),U=(q,X)=>{p(q,X),j(X,q,null)},j=(q,X,$)=>{let x=$;if(!x&&x!==0){const te=L();x=Array.isArray(te)?te[q].month:te.month}e("update-month-year",{instance:q,year:X,month:x})};return{groupedMonths:b,groupedYears:g,year:l,isDisabled:T,defaultedMultiCalendars:n,defaultedAriaLabels:r,defaultedTransitions:i,defaultedConfig:s,showYearPicker:w,modelValue:a,presetDate:(q,X)=>{Tx({value:q,modelValue:a,range:t.range,timezone:X?void 0:t.timezone}),e("auto-apply")},setHoverDate:(q,X)=>{f.value=v(q,X)},selectMonth:Y,selectYear:U,toggleYearPicker:I,handleYearSelect:k,handleYear:P,getModelMonthYear:L}},oee=it({compatConfig:{MODE:3},__name:"MonthPicker",props:{...Hi},emits:["update:internal-model-value","overlay-closed","reset-flow","range-start","range-end","auto-apply","update-month-year","mount"],setup(t,{expose:e,emit:n}){const r=n,i=Va(),s=ri(i,"yearMode"),o=t;mn(()=>{o.shadow||r("mount",null)});const{groupedMonths:a,groupedYears:l,year:u,isDisabled:c,defaultedMultiCalendars:h,defaultedConfig:f,showYearPicker:p,modelValue:g,presetDate:w,setHoverDate:I,selectMonth:k,selectYear:P,toggleYearPicker:T,handleYearSelect:_,handleYear:L,getModelMonthYear:V}=see(o,r);return e({getSidebarProps:()=>({modelValue:g,year:u,getModelMonthYear:V,selectMonth:k,selectYear:P,handleYear:L}),presetDate:w,toggleYearPicker:S=>T(0,S)}),(S,E)=>(M(),we(jm,{"multi-calendars":R(h).count,stretch:""},{default:ke(({instance:b})=>[S.$slots["month-year"]?pe(S.$slots,"month-year",An(ce({key:0},{year:R(u),months:R(a)(b),years:R(l)(b),selectMonth:R(k),selectYear:R(P),instance:b}))):(M(),we(hh,{key:1,items:R(a)(b),"arrow-navigation":S.arrowNavigation,"is-last":S.autoApply&&!R(f).keepActionRow,"esc-close":S.escClose,height:R(f).modeHeight,config:S.config,"no-overlay-focus":!!(S.noOverlayFocus||S.textInput),"use-relative":"",type:"month",onSelected:v=>R(k)(v,b),onHoverValue:v=>R(I)(v,b)},{header:ke(()=>[Me(wx,ce(S.$props,{items:R(l)(b),instance:b,"show-year-picker":R(p)[b],year:R(u)(b),"is-disabled":v=>R(c)(b,v),onHandleYear:v=>R(L)(b,v),onYearSelect:v=>R(_)(v,b),onToggleYearPicker:v=>R(T)(b,v==null?void 0:v.flow,v==null?void 0:v.show)}),sr({_:2},[ft(R(s),(v,C)=>({name:v,fn:ke(A=>[pe(S.$slots,v,An(ir(A)))])}))]),1040,["items","instance","show-year-picker","year","is-disabled","onHandleYear","onYearSelect","onToggleYearPicker"])]),_:2},1032,["items","arrow-navigation","is-last","esc-close","height","config","no-overlay-focus","onSelected","onHoverValue"]))]),_:3},8,["multi-calendars"]))}}),aee=(t,e)=>{const{modelValue:n}=dh(t,e),r=Te(null),{defaultedHighlight:i,defaultedFilters:s}=kn(t),o=Te();mn(()=>{t.startDate&&(n.value&&t.focusStartDate||!n.value)&&(o.value=ht(_e(t.startDate)))});const a=h=>Array.isArray(n.value)?n.value.some(f=>ht(f)===h):n.value?ht(n.value)===h:!1,l=h=>t.range&&Array.isArray(n.value)?Um(n.value,r.value,c(h)):!1,u=se(()=>uu(Gb(t.yearRange,t.reverseYears),h=>{const f=a(h.value),p=Pd(h.value,cu(t.minDate),cu(t.maxDate))||s.value.years.includes(h.value),g=l(h.value)&&!f,w=Qb(i.value,h.value);return{active:f,disabled:p,isBetween:g,highlighted:w}})),c=h=>es(Ci(new Date),h);return{groupedYears:u,modelValue:n,focusYear:o,setHoverValue:h=>{r.value=es(Ci(new Date),h)},selectYear:h=>{var f;if(t.multiDates)return n.value?Array.isArray(n.value)&&(((f=n.value)==null?void 0:f.map(p=>ht(p))).includes(h)?n.value=n.value.filter(p=>ht(p)!==h):n.value.push(es(Sr(_e()),h))):n.value=[es(Sr(_e()),h)],e("auto-apply",!0);if(t.range){const p=Jb(n,c(h),e);return Wm(p,e,t.autoApply,t.modelAuto)}n.value=c(h),e("auto-apply")}}},lee=it({compatConfig:{MODE:3},__name:"YearPicker",props:{...Hi},emits:["update:internal-model-value","reset-flow","range-start","range-end","auto-apply"],setup(t,{expose:e,emit:n}){const r=n,i=t,{groupedYears:s,modelValue:o,focusYear:a,selectYear:l,setHoverValue:u}=aee(i,r),{defaultedConfig:c}=kn(i);return e({getSidebarProps:()=>({modelValue:o,selectYear:l})}),(h,f)=>(M(),W("div",null,[h.$slots["month-year"]?pe(h.$slots,"month-year",An(ce({key:0},{years:R(s),selectYear:R(l)}))):(M(),we(hh,{key:1,items:R(s),"is-last":h.autoApply&&!R(c).keepActionRow,height:R(c).modeHeight,config:h.config,"no-overlay-focus":!!(h.noOverlayFocus||h.textInput),"focus-value":R(a),type:"year","use-relative":"",onSelected:R(l),onHoverValue:R(u)},sr({_:2},[h.$slots["year-overlay-value"]?{name:"item",fn:ke(({item:p})=>[pe(h.$slots,"year-overlay-value",{text:p.text,value:p.value})]),key:"0"}:void 0]),1032,["items","is-last","height","config","no-overlay-focus","focus-value","onSelected","onHoverValue"]))]))}}),uee={key:0,class:"dp__time_input"},cee=["aria-label","onKeydown","onClick"],dee=K("span",{class:"dp__tp_inline_btn_bar dp__tp_btn_in_l"},null,-1),hee=K("span",{class:"dp__tp_inline_btn_bar dp__tp_btn_in_r"},null,-1),fee=["aria-label","disabled","onKeydown","onClick"],pee=["aria-label","onKeydown","onClick"],mee=K("span",{class:"dp__tp_inline_btn_bar dp__tp_btn_in_l"},null,-1),gee=K("span",{class:"dp__tp_inline_btn_bar dp__tp_btn_in_r"},null,-1),vee={key:0},yee=["aria-label","onKeydown"],_ee=it({compatConfig:{MODE:3},__name:"TimeInput",props:{hours:{type:Number,default:0},minutes:{type:Number,default:0},seconds:{type:Number,default:0},closeTimePickerBtn:{type:Object,default:null},order:{type:Number,default:0},disabledTimesConfig:{type:Function,default:null},validateTime:{type:Function,default:()=>!1},...Hi},emits:["set-hours","set-minutes","update:hours","update:minutes","update:seconds","reset-flow","mounted","overlay-closed","am-pm-change"],setup(t,{expose:e,emit:n}){const r=n,i=t,{setTimePickerElements:s,setTimePickerBackRef:o}=Wo(),{defaultedAriaLabels:a,defaultedTransitions:l,defaultedFilters:u,defaultedConfig:c}=kn(i),{transitionName:h,showTransition:f}=ch(l),p=_i({hours:!1,minutes:!1,seconds:!1}),g=Te("AM"),w=Te(null),I=Te([]);mn(()=>{r("mounted")});const k=B=>dn(new Date,{hours:B.hours,minutes:B.minutes,seconds:i.enableSeconds?B.seconds:0,milliseconds:0}),P=se(()=>B=>Y(B,i[B])||_(B,i[B])),T=se(()=>({hours:i.hours,minutes:i.minutes,seconds:i.seconds})),_=(B,G)=>i.range&&!i.disableTimeRangeValidation?!i.validateTime(B,G):!1,L=(B,G)=>{if(i.range&&!i.disableTimeRangeValidation){const oe=G?+i[`${B}Increment`]:-+i[`${B}Increment`],J=i[B]+oe;return!i.validateTime(B,J)}return!1},V=se(()=>B=>!j(+i[B]+ +i[`${B}Increment`],B)||L(B,!0)),S=se(()=>B=>!j(+i[B]-+i[`${B}Increment`],B)||L(B,!1)),E=(B,G)=>FD(dn(_e(),B),G),b=(B,G)=>LJ(dn(_e(),B),G),v=se(()=>({dp__time_col:!0,dp__time_col_block:!i.timePickerInline,dp__time_col_reg_block:!i.enableSeconds&&i.is24&&!i.timePickerInline,dp__time_col_reg_inline:!i.enableSeconds&&i.is24&&i.timePickerInline,dp__time_col_reg_with_button:!i.enableSeconds&&!i.is24,dp__time_col_sec:i.enableSeconds&&i.is24,dp__time_col_sec_with_button:i.enableSeconds&&!i.is24})),C=se(()=>{const B=[{type:"hours"},{type:"",separator:!0},{type:"minutes"}];return i.enableSeconds?B.concat([{type:"",separator:!0},{type:"seconds"}]):B}),A=se(()=>C.value.filter(B=>!B.separator)),O=se(()=>B=>{if(B==="hours"){const G=te(+i.hours);return{text:G<10?`0${G}`:`${G}`,value:G}}return{text:i[B]<10?`0${i[B]}`:`${i[B]}`,value:i[B]}}),Y=(B,G)=>{var oe;if(!i.disabledTimesConfig)return!1;const J=i.disabledTimesConfig(i.order,B==="hours"?G:void 0);return J[B]?!!((oe=J[B])!=null&&oe.includes(G)):!0},U=B=>{const G=i.is24?24:12,oe=B==="hours"?G:60,J=+i[`${B}GridIncrement`],fe=B==="hours"&&!i.is24?J:0,be=[];for(let re=fe;re<oe;re+=J)be.push({value:re,text:re<10?`0${re}`:`${re}`});return B==="hours"&&!i.is24&&be.push({value:0,text:"12"}),uu(be,re=>({active:!1,disabled:u.value.times[B].includes(re.value)||!j(re.value,B)||Y(B,re.value)||_(B,re.value)}))},j=(B,G)=>{const oe=i.minTime?k(pv(i.minTime)):null,J=i.maxTime?k(pv(i.maxTime)):null,fe=k(pv(T.value,G,B));return oe&&J?(Od(fe,J)||_l(fe,J))&&(Ad(fe,oe)||_l(fe,oe)):oe?Ad(fe,oe)||_l(fe,oe):J?Od(fe,J)||_l(fe,J):!0},q=B=>i[`no${B[0].toUpperCase()+B.slice(1)}Overlay`],X=B=>{q(B)||(p[B]=!p[B],p[B]||r("overlay-closed"))},$=B=>B==="hours"?xi:B==="minutes"?as:au,x=(B,G=!0)=>{const oe=G?E:b,J=G?+i[`${B}Increment`]:-+i[`${B}Increment`];j(+i[B]+J,B)&&r(`update:${B}`,$(B)(oe({[B]:+i[B]},{[B]:+i[`${B}Increment`]})))},te=B=>i.is24?B:(B>=12?g.value="PM":g.value="AM",dZ(B)),ee=()=>{g.value==="PM"?(g.value="AM",r("update:hours",i.hours-12)):(g.value="PM",r("update:hours",i.hours+12)),r("am-pm-change",g.value)},he=B=>{p[B]=!0},ge=(B,G,oe)=>{if(B&&i.arrowNavigation){Array.isArray(I.value[G])?I.value[G][oe]=B:I.value[G]=[B];const J=I.value.reduce((fe,be)=>be.map((re,D)=>[...fe[D]||[],be[D]]),[]);o(i.closeTimePickerBtn),w.value&&(J[1]=J[1].concat(w.value)),s(J,i.order)}},Q=(B,G)=>(X(B),B==="hours"&&!i.is24?r(`update:${B}`,g.value==="PM"?G+12:G):r(`update:${B}`,G));return e({openChildCmp:he}),(B,G)=>{var oe;return B.disabled?ne("",!0):(M(),W("div",uee,[(M(!0),W(Oe,null,ft(C.value,(J,fe)=>{var be,re,D;return M(),W("div",{key:fe,class:He(v.value)},[J.separator?(M(),W(Oe,{key:0},[tt(" : ")],64)):(M(),W(Oe,{key:1},[K("button",{ref_for:!0,ref:F=>ge(F,fe,0),type:"button",class:He({dp__btn:!0,dp__inc_dec_button:!B.timePickerInline,dp__inc_dec_button_inline:B.timePickerInline,dp__tp_inline_btn_top:B.timePickerInline,dp__inc_dec_button_disabled:V.value(J.type)}),"aria-label":(be=R(a))==null?void 0:be.incrementValue(J.type),tabindex:"0",onKeydown:[ct($t(F=>x(J.type),["prevent"]),["enter"]),ct($t(F=>x(J.type),["prevent"]),["space"])],onClick:F=>x(J.type)},[i.timePickerInline?(M(),W(Oe,{key:1},[dee,hee],64)):(M(),W(Oe,{key:0},[B.$slots["arrow-up"]?pe(B.$slots,"arrow-up",{key:0}):ne("",!0),B.$slots["arrow-up"]?ne("",!0):(M(),we(R(Wb),{key:1}))],64))],42,cee),K("button",{ref_for:!0,ref:F=>ge(F,fe,1),type:"button","aria-label":(re=R(a))==null?void 0:re.openTpOverlay(J.type),class:He({dp__time_display:!0,dp__time_display_block:!B.timePickerInline,dp__time_display_inline:B.timePickerInline,"dp--time-invalid":P.value(J.type),"dp--time-overlay-btn":!P.value(J.type)}),disabled:q(J.type),tabindex:"0",onKeydown:[ct($t(F=>X(J.type),["prevent"]),["enter"]),ct($t(F=>X(J.type),["prevent"]),["space"])],onClick:F=>X(J.type)},[B.$slots[J.type]?pe(B.$slots,J.type,{key:0,text:O.value(J.type).text,value:O.value(J.type).value}):ne("",!0),B.$slots[J.type]?ne("",!0):(M(),W(Oe,{key:1},[tt(Ue(O.value(J.type).text),1)],64))],42,fee),K("button",{ref_for:!0,ref:F=>ge(F,fe,2),type:"button",class:He({dp__btn:!0,dp__inc_dec_button:!B.timePickerInline,dp__inc_dec_button_inline:B.timePickerInline,dp__tp_inline_btn_bottom:B.timePickerInline,dp__inc_dec_button_disabled:S.value(J.type)}),"aria-label":(D=R(a))==null?void 0:D.decrementValue(J.type),tabindex:"0",onKeydown:[ct($t(F=>x(J.type,!1),["prevent"]),["enter"]),ct($t(F=>x(J.type,!1),["prevent"]),["space"])],onClick:F=>x(J.type,!1)},[i.timePickerInline?(M(),W(Oe,{key:1},[mee,gee],64)):(M(),W(Oe,{key:0},[B.$slots["arrow-down"]?pe(B.$slots,"arrow-down",{key:0}):ne("",!0),B.$slots["arrow-down"]?ne("",!0):(M(),we(R(qb),{key:1}))],64))],42,pee)],64))],2)}),128)),B.is24?ne("",!0):(M(),W("div",vee,[B.$slots["am-pm-button"]?pe(B.$slots,"am-pm-button",{key:0,toggle:ee,value:g.value}):ne("",!0),B.$slots["am-pm-button"]?ne("",!0):(M(),W("button",{key:1,ref_key:"amPmButton",ref:w,type:"button",class:"dp__pm_am_button",role:"button","aria-label":(oe=R(a))==null?void 0:oe.amPmButton,tabindex:"0",onClick:ee,onKeydown:[ct($t(ee,["prevent"]),["enter"]),ct($t(ee,["prevent"]),["space"])]},Ue(g.value),41,yee))])),(M(!0),W(Oe,null,ft(A.value,(J,fe)=>(M(),we($o,{key:fe,name:R(h)(p[J.type]),css:R(f)},{default:ke(()=>[p[J.type]?(M(),we(hh,{key:0,items:U(J.type),"is-last":B.autoApply&&!R(c).keepActionRow,"esc-close":B.escClose,type:J.type,"text-input":B.textInput,config:B.config,"arrow-navigation":B.arrowNavigation,onSelected:be=>Q(J.type,be),onToggle:be=>X(J.type),onResetFlow:G[0]||(G[0]=be=>B.$emit("reset-flow"))},sr({"button-icon":ke(()=>[B.$slots["clock-icon"]?pe(B.$slots,"clock-icon",{key:0}):ne("",!0),B.$slots["clock-icon"]?ne("",!0):(M(),we(pr(B.timePickerInline?R(Au):R(jb)),{key:1}))]),_:2},[B.$slots[`${J.type}-overlay-value`]?{name:"item",fn:ke(({item:be})=>[pe(B.$slots,`${J.type}-overlay-value`,{text:be.text,value:be.value})]),key:"0"}:void 0]),1032,["items","is-last","esc-close","type","text-input","config","arrow-navigation","onSelected","onToggle"])):ne("",!0)]),_:2},1032,["name","css"]))),128))]))}}}),bee={class:"dp--tp-wrap"},wee=["aria-label","tabindex"],Tee=["tabindex"],Eee=["aria-label"],Ix=it({compatConfig:{MODE:3},__name:"TimePicker",props:{hours:{type:[Number,Array],default:0},minutes:{type:[Number,Array],default:0},seconds:{type:[Number,Array],default:0},disabledTimesConfig:{type:Function,default:null},validateTime:{type:Function,default:()=>!1},...Hi},emits:["update:hours","update:minutes","update:seconds","mount","reset-flow","overlay-opened","overlay-closed","am-pm-change"],setup(t,{expose:e,emit:n}){const r=n,i=t,{buildMatrix:s,setTimePicker:o}=Wo(),a=Va(),{defaultedTransitions:l,defaultedAriaLabels:u,defaultedTextInput:c,defaultedConfig:h}=kn(i),{transitionName:f,showTransition:p}=ch(l),{hideNavigationButtons:g}=Bm(),w=Te(null),I=Te(null),k=Te([]),P=Te(null);mn(()=>{r("mount"),!i.timePicker&&i.arrowNavigation?s([Vn(w.value)],"time"):o(!0,i.timePicker)});const T=se(()=>i.range&&i.modelAuto?dx(i.internalModelValue):!0),_=Te(!1),L=U=>({hours:Array.isArray(i.hours)?i.hours[U]:i.hours,minutes:Array.isArray(i.minutes)?i.minutes[U]:i.minutes,seconds:Array.isArray(i.seconds)?i.seconds[U]:i.seconds}),V=se(()=>{const U=[];if(i.range)for(let j=0;j<2;j++)U.push(L(j));else U.push(L(0));return U}),S=(U,j=!1,q="")=>{j||r("reset-flow"),_.value=U,r(U?"overlay-opened":"overlay-closed"),i.arrowNavigation&&o(U),Kn(()=>{q!==""&&k.value[0]&&k.value[0].openChildCmp(q)})},E=se(()=>({dp__btn:!0,dp__button:!0,dp__button_bottom:i.autoApply&&!h.value.keepActionRow})),b=ri(a,"timePicker"),v=(U,j,q)=>i.range?j===0?[U,V.value[1][q]]:[V.value[0][q],U]:U,C=U=>{r("update:hours",U)},A=U=>{r("update:minutes",U)},O=U=>{r("update:seconds",U)},Y=()=>{if(P.value&&!c.value.enabled&&!i.noOverlayFocus){const U=fZ(P.value);U&&U.focus({preventScroll:!0})}};return e({toggleTimePicker:S}),(U,j)=>{var q;return M(),W("div",bee,[!U.timePicker&&!U.timePickerInline?vo((M(),W("button",{key:0,ref_key:"openTimePickerBtn",ref:w,type:"button",class:He(E.value),"aria-label":(q=R(u))==null?void 0:q.openTimePicker,tabindex:U.noOverlayFocus?void 0:0,onKeydown:[j[0]||(j[0]=ct(X=>S(!0),["enter"])),j[1]||(j[1]=ct(X=>S(!0),["space"]))],onClick:j[2]||(j[2]=X=>S(!0))},[U.$slots["clock-icon"]?pe(U.$slots,"clock-icon",{key:0}):ne("",!0),U.$slots["clock-icon"]?ne("",!0):(M(),we(R(jb),{key:1}))],42,wee)),[[_c,!R(g)(U.hideNavigation,"time")]]):ne("",!0),Me($o,{name:R(f)(_.value),css:R(p)&&!U.timePickerInline},{default:ke(()=>{var X;return[_.value||U.timePicker||U.timePickerInline?(M(),W("div",{key:0,ref_key:"overlayRef",ref:P,class:He({dp__overlay:!U.timePickerInline,"dp--overlay-absolute":!i.timePicker&&!U.timePickerInline,"dp--overlay-relative":i.timePicker}),style:zn(U.timePicker?{height:`${R(h).modeHeight}px`}:void 0),tabindex:U.timePickerInline?void 0:0},[K("div",{class:He(U.timePickerInline?"dp__time_picker_inline_container":"dp__overlay_container dp__container_flex dp__time_picker_overlay_container"),style:{display:"flex"}},[U.$slots["time-picker-overlay"]?pe(U.$slots,"time-picker-overlay",{key:0,hours:t.hours,minutes:t.minutes,seconds:t.seconds,setHours:C,setMinutes:A,setSeconds:O}):ne("",!0),U.$slots["time-picker-overlay"]?ne("",!0):(M(),W("div",{key:1,class:He(U.timePickerInline?"dp__flex":"dp__overlay_row dp__flex_row")},[(M(!0),W(Oe,null,ft(V.value,($,x)=>vo((M(),we(_ee,ce({key:x},{...U.$props,order:x,hours:$.hours,minutes:$.minutes,seconds:$.seconds,closeTimePickerBtn:I.value,disabledTimesConfig:t.disabledTimesConfig,disabled:x===0?U.fixedStart:U.fixedEnd},{ref_for:!0,ref_key:"timeInputRefs",ref:k,"validate-time":(te,ee)=>t.validateTime(te,v(ee,x,te)),"onUpdate:hours":te=>C(v(te,x,"hours")),"onUpdate:minutes":te=>A(v(te,x,"minutes")),"onUpdate:seconds":te=>O(v(te,x,"seconds")),onMounted:Y,onOverlayClosed:Y,onAmPmChange:j[3]||(j[3]=te=>U.$emit("am-pm-change",te))}),sr({_:2},[ft(R(b),(te,ee)=>({name:te,fn:ke(he=>[pe(U.$slots,te,An(ir(he)))])}))]),1040,["validate-time","onUpdate:hours","onUpdate:minutes","onUpdate:seconds"])),[[_c,x===0?!0:T.value]])),128))],2)),!U.timePicker&&!U.timePickerInline?vo((M(),W("button",{key:2,ref_key:"closeTimePickerBtn",ref:I,type:"button",class:He(E.value),"aria-label":(X=R(u))==null?void 0:X.closeTimePicker,tabindex:"0",onKeydown:[j[4]||(j[4]=ct($=>S(!1),["enter"])),j[5]||(j[5]=ct($=>S(!1),["space"]))],onClick:j[6]||(j[6]=$=>S(!1))},[U.$slots["calendar-icon"]?pe(U.$slots,"calendar-icon",{key:0}):ne("",!0),U.$slots["calendar-icon"]?ne("",!0):(M(),we(R(Au),{key:1}))],42,Eee)),[[_c,!R(g)(U.hideNavigation,"time")]]):ne("",!0)],2)],14,Tee)):ne("",!0)]}),_:3},8,["name","css"])])}}}),Sx=(t,e,n,r)=>{const i=(k,P)=>Array.isArray(e[k])?e[k][P]:e[k],s=k=>t.enableSeconds?Array.isArray(e.seconds)?e.seconds[k]:e.seconds:0,o=(k,P)=>k?P!==void 0?Co(k,i("hours",P),i("minutes",P),s(P)):Co(k,e.hours,e.minutes,s()):Ub(_e(),s(P)),a=(k,P)=>{e[k]=P},l=(k,P)=>{const T=Object.fromEntries(Object.keys(e).map(_=>_===k?[_,P]:[_,e[_]].slice()));if(t.range&&!t.disableTimeRangeValidation){const _=V=>n.value?Co(n.value[V],T.hours[V],T.minutes[V],T.seconds[V]):null,L=V=>$b(n.value[V],0);return!(Ft(_(0),_(1))&&(Ad(_(0),L(1))||Od(_(1),L(0))))}return!0},u=(k,P)=>{l(k,P)&&(a(k,P),r&&r())},c=k=>{u("hours",k)},h=k=>{u("minutes",k)},f=k=>{u("seconds",k)},p=(k,P,T,_)=>{P&&c(k),!P&&!T&&h(k),T&&f(k),n.value&&_(n.value)},g=k=>{if(k){const P=Array.isArray(k),T=P?[+k[0].hours,+k[1].hours]:+k.hours,_=P?[+k[0].minutes,+k[1].minutes]:+k.minutes,L=P?[+k[0].seconds,+k[1].seconds]:+k.seconds;a("hours",T),a("minutes",_),t.enableSeconds&&a("seconds",L)}},w=(k,P)=>{const T={hours:Array.isArray(e.hours)?e.hours[k]:e.hours,disabledArr:[]};return(P||P===0)&&(T.hours=P),Array.isArray(t.disabledTimes)&&(T.disabledArr=t.range&&Array.isArray(t.disabledTimes[k])?t.disabledTimes[k]:t.disabledTimes),T},I=se(()=>(k,P)=>{var T;if(Array.isArray(t.disabledTimes)){const{disabledArr:_,hours:L}=w(k,P),V=_.filter(S=>+S.hours===L);return((T=V[0])==null?void 0:T.minutes)==="*"?{hours:[L],minutes:void 0,seconds:void 0}:{hours:[],minutes:(V==null?void 0:V.map(S=>+S.minutes))??[],seconds:(V==null?void 0:V.map(S=>S.seconds?+S.seconds:void 0))??[]}}return{hours:[],minutes:[],seconds:[]}});return{setTime:a,updateHours:c,updateMinutes:h,updateSeconds:f,getSetDateTime:o,updateTimeValues:p,getSecondsValue:s,assignStartTime:g,validateTime:l,disabledTimesConfig:I}},Iee=(t,e)=>{const{modelValue:n,time:r}=dh(t,e),{defaultedStartTime:i}=kn(t),{updateTimeValues:s,getSetDateTime:o,setTime:a,assignStartTime:l,disabledTimesConfig:u,validateTime:c}=Sx(t,r,n),h=P=>{const{hours:T,minutes:_,seconds:L}=P;return{hours:+T,minutes:+_,seconds:L?+L:0}},f=()=>{if(t.startTime){if(Array.isArray(t.startTime)){const T=h(t.startTime[0]),_=h(t.startTime[1]);return[dn(_e(),T),dn(_e(),_)]}const P=h(t.startTime);return dn(_e(),P)}return t.range?[null,null]:null},p=()=>{if(t.range){const[P,T]=f();n.value=[o(P,0),o(T,1)]}else n.value=o(f())},g=P=>Array.isArray(P)?[pa(_e(P[0])),pa(_e(P[1]))]:[pa(P??_e())],w=(P,T,_)=>{a("hours",P),a("minutes",T),a("seconds",t.enableSeconds?_:0)},I=()=>{const[P,T]=g(n.value);return t.range?w([P.hours,T.hours],[P.minutes,T.minutes],[P.seconds,T.minutes]):w(P.hours,P.minutes,P.seconds)};mn(()=>{if(!t.shadow)return l(i.value),n.value?I():p()});const k=()=>{Array.isArray(n.value)?n.value=n.value.map((P,T)=>P&&o(P,T)):n.value=o(n.value),e("time-update")};return{modelValue:n,time:r,disabledTimesConfig:u,updateTime:(P,T=!0,_=!1)=>{s(P,T,_,k)},validateTime:c}},See=it({compatConfig:{MODE:3},__name:"TimePickerSolo",props:{...Hi},emits:["update:internal-model-value","time-update","am-pm-change"],setup(t,{expose:e,emit:n}){const r=n,i=t,s=Va(),o=ri(s,"timePicker"),{time:a,modelValue:l,disabledTimesConfig:u,updateTime:c,validateTime:h}=Iee(i,r);return e({getSidebarProps:()=>({modelValue:l,time:a,updateTime:c})}),(f,p)=>(M(),we(jm,{"multi-calendars":0,stretch:""},{default:ke(()=>[Me(Ix,ce(f.$props,{hours:R(a).hours,minutes:R(a).minutes,seconds:R(a).seconds,"internal-model-value":f.internalModelValue,"disabled-times-config":R(u),"validate-time":R(h),"onUpdate:hours":p[0]||(p[0]=g=>R(c)(g)),"onUpdate:minutes":p[1]||(p[1]=g=>R(c)(g,!1)),"onUpdate:seconds":p[2]||(p[2]=g=>R(c)(g,!1,!0)),onAmPmChange:p[3]||(p[3]=g=>f.$emit("am-pm-change",g))}),sr({_:2},[ft(R(o),(g,w)=>({name:g,fn:ke(I=>[pe(f.$slots,g,An(ir(I)))])}))]),1040,["hours","minutes","seconds","internal-model-value","disabled-times-config","validate-time"])]),_:3}))}}),Cee={class:"dp__month_year_row"},Aee=["aria-label","onClick","onKeydown"],Oee=it({compatConfig:{MODE:3},__name:"DpHeader",props:{month:{type:Number,default:0},year:{type:Number,default:0},instance:{type:Number,default:0},years:{type:Array,default:()=>[]},months:{type:Array,default:()=>[]},...Hi},emits:["update-month-year","mount","reset-flow","overlay-closed"],setup(t,{expose:e,emit:n}){const r=n,i=t,{defaultedTransitions:s,defaultedAriaLabels:o,defaultedMultiCalendars:a,defaultedFilters:l,defaultedConfig:u,defaultedHighlight:c}=kn(i),{transitionName:h,showTransition:f}=ch(s),{buildMatrix:p}=Wo(),{handleMonthYearChange:g,isDisabled:w,updateMonthYear:I}=FZ(i,r),{showLeftIcon:k,showRightIcon:P}=Bm(),T=Te(!1),_=Te(!1),L=Te([null,null,null,null]);mn(()=>{r("mount")});const V=x=>({get:()=>i[x],set:te=>{const ee=x===Ti.month?Ti.year:Ti.month;r("update-month-year",{[x]:te,[ee]:i[ee]}),x===Ti.month?Y(!0):U(!0)}}),S=se(V(Ti.month)),E=se(V(Ti.year)),b=se(()=>x=>({month:i.month,year:i.year,items:x===Ti.month?i.months:i.years,instance:i.instance,updateMonthYear:I,toggle:x===Ti.month?Y:U})),v=se(()=>i.months.find(te=>te.value===i.month)||{text:"",value:0}),C=se(()=>uu(i.months,x=>{const te=i.month===x.value,ee=Pd(x.value,hx(i.year,i.minDate),fx(i.year,i.maxDate))||l.value.months.includes(x.value),he=_x(c.value,x.value,i.year);return{active:te,disabled:ee,highlighted:he}})),A=se(()=>uu(i.years,x=>{const te=i.year===x.value,ee=Pd(x.value,cu(i.minDate),cu(i.maxDate))||l.value.years.includes(x.value),he=Qb(c.value,x.value);return{active:te,disabled:ee,highlighted:he}})),O=(x,te)=>{te!==void 0?x.value=te:x.value=!x.value,x.value||r("overlay-closed")},Y=(x=!1,te)=>{j(x),O(T,te)},U=(x=!1,te)=>{j(x),O(_,te)},j=x=>{x||r("reset-flow")},q=(x,te)=>{i.arrowNavigation&&(L.value[te]=Vn(x),p(L.value,"monthYear"))},X=se(()=>{var x,te;return[{type:Ti.month,index:1,toggle:Y,modelValue:S.value,updateModelValue:ee=>S.value=ee,text:v.value.text,showSelectionGrid:T.value,items:C.value,ariaLabel:(x=o.value)==null?void 0:x.openMonthsOverlay},{type:Ti.year,index:2,toggle:U,modelValue:E.value,updateModelValue:ee=>E.value=ee,text:i.year,showSelectionGrid:_.value,items:A.value,ariaLabel:(te=o.value)==null?void 0:te.openYearsOverlay}]}),$=se(()=>i.disableYearSelect?[X.value[0]]:i.yearFirst?[...X.value].reverse():X.value);return e({toggleMonthPicker:Y,toggleYearPicker:U,handleMonthYearChange:g}),(x,te)=>{var ee,he,ge;return M(),W("div",Cee,[x.$slots["month-year"]?pe(x.$slots,"month-year",An(ce({key:0},{month:t.month,year:t.year,months:t.months,years:t.years,updateMonthYear:R(I),handleMonthYearChange:R(g),instance:t.instance}))):(M(),W(Oe,{key:1},[R(k)(R(a),t.instance)&&!x.vertical?(M(),we(Fc,{key:0,"aria-label":(ee=R(o))==null?void 0:ee.prevMonth,disabled:R(w)(!1),onActivate:te[0]||(te[0]=Q=>R(g)(!1,!0)),onSetRef:te[1]||(te[1]=Q=>q(Q,0))},{default:ke(()=>[x.$slots["arrow-left"]?pe(x.$slots,"arrow-left",{key:0}):ne("",!0),x.$slots["arrow-left"]?ne("",!0):(M(),we(R(Bb),{key:1}))]),_:3},8,["aria-label","disabled"])):ne("",!0),K("div",{class:He(["dp__month_year_wrap",{dp__year_disable_select:x.disableYearSelect}])},[(M(!0),W(Oe,null,ft($.value,(Q,B)=>(M(),W(Oe,{key:Q.type},[K("button",{ref_for:!0,ref:G=>q(G,B+1),type:"button",class:"dp__btn dp__month_year_select",tabindex:"0","aria-label":Q.ariaLabel,onClick:Q.toggle,onKeydown:[ct($t(Q.toggle,["prevent"]),["enter"]),ct($t(Q.toggle,["prevent"]),["space"])]},[x.$slots[Q.type]?pe(x.$slots,Q.type,{key:0,text:Q.text,value:i[Q.type]}):ne("",!0),x.$slots[Q.type]?ne("",!0):(M(),W(Oe,{key:1},[tt(Ue(Q.text),1)],64))],40,Aee),Me($o,{name:R(h)(Q.showSelectionGrid),css:R(f)},{default:ke(()=>[Q.showSelectionGrid?(M(),we(hh,{key:0,items:Q.items,"arrow-navigation":x.arrowNavigation,"hide-navigation":x.hideNavigation,"is-last":x.autoApply&&!R(u).keepActionRow,"skip-button-ref":!1,config:x.config,type:Q.type,"header-refs":[],"esc-close":x.escClose,"text-input":x.textInput,onSelected:Q.updateModelValue,onToggle:Q.toggle},sr({"button-icon":ke(()=>[x.$slots["calendar-icon"]?pe(x.$slots,"calendar-icon",{key:0}):ne("",!0),x.$slots["calendar-icon"]?ne("",!0):(M(),we(R(Au),{key:1}))]),_:2},[x.$slots[`${Q.type}-overlay-value`]?{name:"item",fn:ke(({item:G})=>[pe(x.$slots,`${Q.type}-overlay-value`,{text:G.text,value:G.value})]),key:"0"}:void 0,x.$slots[`${Q.type}-overlay`]?{name:"overlay",fn:ke(()=>[pe(x.$slots,`${Q.type}-overlay`,An(ir(b.value(Q.type))))]),key:"1"}:void 0,x.$slots[`${Q.type}-overlay-header`]?{name:"header",fn:ke(()=>[pe(x.$slots,`${Q.type}-overlay-header`,{toggle:Q.toggle})]),key:"2"}:void 0]),1032,["items","arrow-navigation","hide-navigation","is-last","config","type","esc-close","text-input","onSelected","onToggle"])):ne("",!0)]),_:2},1032,["name","css"])],64))),128))],2),R(k)(R(a),t.instance)&&x.vertical?(M(),we(Fc,{key:1,"aria-label":(he=R(o))==null?void 0:he.prevMonth,disabled:R(w)(!1),onActivate:te[2]||(te[2]=Q=>R(g)(!1,!0))},{default:ke(()=>[x.$slots["arrow-up"]?pe(x.$slots,"arrow-up",{key:0}):ne("",!0),x.$slots["arrow-up"]?ne("",!0):(M(),we(R(Wb),{key:1}))]),_:3},8,["aria-label","disabled"])):ne("",!0),R(P)(R(a),t.instance)?(M(),we(Fc,{key:2,ref:"rightIcon",disabled:R(w)(!0),"aria-label":(ge=R(o))==null?void 0:ge.nextMonth,onActivate:te[3]||(te[3]=Q=>R(g)(!0,!0)),onSetRef:te[4]||(te[4]=Q=>q(Q,x.disableYearSelect?2:3))},{default:ke(()=>[x.$slots[x.vertical?"arrow-down":"arrow-right"]?pe(x.$slots,x.vertical?"arrow-down":"arrow-right",{key:0}):ne("",!0),x.$slots[x.vertical?"arrow-down":"arrow-right"]?ne("",!0):(M(),we(pr(x.vertical?R(qb):R(Hb)),{key:1}))]),_:3},8,["disabled","aria-label"])):ne("",!0)],64))])}}}),Pee=["aria-label"],kee={class:"dp__calendar_header",role:"row"},Ree={key:0,class:"dp__calendar_header_item",role:"gridcell"},Dee=K("div",{class:"dp__calendar_header_separator"},null,-1),xee=["aria-label"],Nee={key:0,role:"gridcell",class:"dp__calendar_item dp__week_num"},Mee={class:"dp__cell_inner"},Lee=["id","aria-selected","aria-disabled","aria-label","onClick","onKeydown","onMouseenter","onMouseleave"],Vee=it({compatConfig:{MODE:3},__name:"DpCalendar",props:{mappedDates:{type:Array,default:()=>[]},instance:{type:Number,default:0},month:{type:Number,default:0},year:{type:Number,default:0},...Hi},emits:["select-date","set-hover-date","handle-scroll","mount","handle-swipe","handle-space","tooltip-open","tooltip-close"],setup(t,{expose:e,emit:n}){const r=n,i=t,{buildMultiLevelMatrix:s}=Wo(),{defaultedTransitions:o,defaultedConfig:a,defaultedAriaLabels:l,defaultedMultiCalendars:u,defaultedWeekNumbers:c}=kn(i),h=Te(null),f=Te({bottom:"",left:"",transform:""}),p=Te([]),g=Te(null),w=Te(!0),I=Te(""),k=Te({startX:0,endX:0,startY:0,endY:0}),P=Te([]),T=Te({left:"50%"}),_=se(()=>i.calendar?i.calendar(i.mappedDates):i.mappedDates),L=se(()=>i.dayNames?Array.isArray(i.dayNames)?i.dayNames:i.dayNames(i.locale,+i.weekStart):cZ(i.formatLocale,i.locale,+i.weekStart));mn(()=>{r("mount",{cmp:"calendar",refs:p}),a.value.noSwipe||g.value&&(g.value.addEventListener("touchstart",U,{passive:!1}),g.value.addEventListener("touchend",j,{passive:!1}),g.value.addEventListener("touchmove",q,{passive:!1})),i.monthChangeOnScroll&&g.value&&g.value.addEventListener("wheel",x,{passive:!1})});const V=Q=>Q?i.vertical?"vNext":"next":i.vertical?"vPrevious":"previous",S=(Q,B)=>{if(i.transitions){const G=Sr(Ps(_e(),i.month,i.year));I.value=Tr(Sr(Ps(_e(),Q,B)),G)?o.value[V(!0)]:o.value[V(!1)],w.value=!1,Kn(()=>{w.value=!0})}},E=se(()=>({[i.calendarClassName]:!!i.calendarClassName})),b=se(()=>Q=>{const B=hZ(Q);return{dp__marker_dot:B.type==="dot",dp__marker_line:B.type==="line"}}),v=se(()=>Q=>Ft(Q,h.value)),C=se(()=>({dp__calendar:!0,dp__calendar_next:u.value.count>0&&i.instance!==0})),A=se(()=>Q=>i.hideOffsetDates?Q.current:!0),O=async(Q,B,G)=>{var oe,J;if(r("set-hover-date",Q),(J=(oe=Q.marker)==null?void 0:oe.tooltip)!=null&&J.length){const fe=Vn(p.value[B][G]);if(fe){const{width:be,height:re}=fe.getBoundingClientRect();h.value=Q.value;let D={left:`${be/2}px`},F=-50;if(await Kn(),P.value[0]){const{left:H,width:le}=P.value[0].getBoundingClientRect();H<0&&(D={left:"0"},F=0,T.value.left=`${be/2}px`),window.innerWidth<H+le&&(D={right:"0"},F=0,T.value.left=`${le-be/2}px`)}f.value={bottom:`${re}px`,...D,transform:`translateX(${F}%)`},r("tooltip-open",Q.marker)}}},Y=Q=>{h.value&&(h.value=null,f.value=JSON.parse(JSON.stringify({bottom:"",left:"",transform:""})),r("tooltip-close",Q.marker))},U=Q=>{k.value.startX=Q.changedTouches[0].screenX,k.value.startY=Q.changedTouches[0].screenY},j=Q=>{k.value.endX=Q.changedTouches[0].screenX,k.value.endY=Q.changedTouches[0].screenY,X()},q=Q=>{i.vertical&&!i.inline&&Q.preventDefault()},X=()=>{const Q=i.vertical?"Y":"X";Math.abs(k.value[`start${Q}`]-k.value[`end${Q}`])>10&&r("handle-swipe",k.value[`start${Q}`]>k.value[`end${Q}`]?"right":"left")},$=(Q,B,G)=>{Q&&(Array.isArray(p.value[B])?p.value[B][G]=Q:p.value[B]=[Q]),i.arrowNavigation&&s(p.value,"calendar")},x=Q=>{i.monthChangeOnScroll&&(Q.preventDefault(),r("handle-scroll",Q))},te=Q=>c.value.type==="local"?TX(Q.value,{weekStartsOn:+i.weekStart}):c.value.type==="iso"?yX(Q.value):typeof c.value.type=="function"?c.value.type(Q.value):"",ee=Q=>{const B=Q[0];return c.value.hideOnOffsetDates?Q.some(G=>G.current)?te(B):"":te(B)},he=(Q,B)=>{So(Q,a.value),r("select-date",B)},ge=Q=>{So(Q,a.value)};return e({triggerTransition:S}),(Q,B)=>{var G;return M(),W("div",{class:He(C.value)},[K("div",{ref_key:"calendarWrapRef",ref:g,role:"grid",class:He(E.value),"aria-label":(G=R(l))==null?void 0:G.calendarWrap},[(M(),W(Oe,{key:0},[K("div",kee,[Q.weekNumbers?(M(),W("div",Ree,Ue(Q.weekNumName),1)):ne("",!0),(M(!0),W(Oe,null,ft(L.value,(oe,J)=>(M(),W("div",{key:J,class:"dp__calendar_header_item",role:"gridcell"},[Q.$slots["calendar-header"]?pe(Q.$slots,"calendar-header",{key:0,day:oe,index:J}):ne("",!0),Q.$slots["calendar-header"]?ne("",!0):(M(),W(Oe,{key:1},[tt(Ue(oe),1)],64))]))),128))]),Dee,Me($o,{name:I.value,css:!!Q.transitions},{default:ke(()=>{var oe;return[w.value?(M(),W("div",{key:0,class:"dp__calendar",role:"rowgroup","aria-label":((oe=R(l))==null?void 0:oe.calendarDays)||void 0},[(M(!0),W(Oe,null,ft(_.value,(J,fe)=>(M(),W("div",{key:fe,class:"dp__calendar_row",role:"row"},[Q.weekNumbers?(M(),W("div",Nee,[K("div",Mee,Ue(ee(J.days)),1)])):ne("",!0),(M(!0),W(Oe,null,ft(J.days,(be,re)=>{var D,F,H;return M(),W("div",{id:be.value.toISOString().split("T")[0],ref_for:!0,ref:le=>$(le,fe,re),key:re+fe,role:"gridcell",class:"dp__calendar_item","aria-selected":be.classData.dp__active_date||be.classData.dp__range_start||be.classData.dp__range_start,"aria-disabled":be.classData.dp__cell_disabled||void 0,"aria-label":(F=(D=R(l))==null?void 0:D.day)==null?void 0:F.call(D,be),tabindex:"0",onClick:$t(le=>he(le,be),["prevent"]),onKeydown:[ct(le=>Q.$emit("select-date",be),["enter"]),ct(le=>Q.$emit("handle-space",be),["space"])],onMouseenter:le=>O(be,fe,re),onMouseleave:le=>Y(be)},[K("div",{class:He(["dp__cell_inner",be.classData])},[Q.$slots.day&&A.value(be)?pe(Q.$slots,"day",{key:0,day:+be.text,date:be.value}):ne("",!0),Q.$slots.day?ne("",!0):(M(),W(Oe,{key:1},[tt(Ue(be.text),1)],64)),be.marker&&A.value(be)?(M(),W(Oe,{key:2},[Q.$slots.marker?pe(Q.$slots,"marker",{key:0,marker:be.marker,day:+be.text,date:be.value}):(M(),W("div",{key:1,class:He(b.value(be.marker)),style:zn(be.marker.color?{backgroundColor:be.marker.color}:{})},null,6))],64)):ne("",!0),v.value(be.value)?(M(),W("div",{key:3,ref_for:!0,ref_key:"activeTooltip",ref:P,class:"dp__marker_tooltip",style:zn(f.value)},[(H=be.marker)!=null&&H.tooltip?(M(),W("div",{key:0,class:"dp__tooltip_content",onClick:ge},[(M(!0),W(Oe,null,ft(be.marker.tooltip,(le,ae)=>(M(),W("div",{key:ae,class:"dp__tooltip_text"},[Q.$slots["marker-tooltip"]?pe(Q.$slots,"marker-tooltip",{key:0,tooltip:le,day:be.value}):ne("",!0),Q.$slots["marker-tooltip"]?ne("",!0):(M(),W(Oe,{key:1},[K("div",{class:"dp__tooltip_mark",style:zn(le.color?{backgroundColor:le.color}:{})},null,4),K("div",null,Ue(le.text),1)],64))]))),128)),K("div",{class:"dp__arrow_bottom_tp",style:zn(T.value)},null,4)])):ne("",!0)],4)):ne("",!0)],2)],40,Lee)}),128))]))),128))],8,xee)):ne("",!0)]}),_:3},8,["name","css"])],64))],10,Pee)],2)}}}),kS=t=>Array.isArray(t),Fee=(t,e,n,r)=>{const i=Te([]),{modelValue:s,calendars:o,time:a}=dh(t,e),{defaultedMultiCalendars:l,defaultedStartTime:u}=kn(t),{validateMonthYearInRange:c,isDisabled:h,isDateRangeAllowed:f,checkMinMaxRange:p}=qa(t),{updateTimeValues:g,getSetDateTime:w,setTime:I,assignStartTime:k,validateTime:P,disabledTimesConfig:T}=Sx(t,a,s,r),_=se(()=>z=>o.value[z]?o.value[z].month:0),L=se(()=>z=>o.value[z]?o.value[z].year:0),V=(z,ue,Fe)=>{var Ge,pt;o.value[z]||(o.value[z]={month:0,year:0}),o.value[z].month=SS(ue)?(Ge=o.value[z])==null?void 0:Ge.month:ue,o.value[z].year=SS(Fe)?(pt=o.value[z])==null?void 0:pt.year:Fe},S=()=>{t.autoApply&&e("select-date")};_n(s,(z,ue)=>{JSON.stringify(z)!==JSON.stringify(ue)&&v()}),mn(()=>{t.shadow||(s.value||(x(),u.value&&k(u.value)),v(!0),t.focusStartDate&&t.startDate&&x())});const E=se(()=>{var z;return(z=t.flow)!=null&&z.length&&!t.partialFlow?t.flowStep===t.flow.length:!0}),b=()=>{t.autoApply&&E.value&&e("auto-apply",t.partialFlow)},v=(z=!1)=>{if(s.value)return Array.isArray(s.value)?(i.value=s.value,j(z)):A(s.value,z);if(l.value.count&&z&&!t.startDate)return C(_e(),z)},C=(z,ue=!1)=>{if((!l.value.count||!l.value.static||ue)&&V(0,Ot(z),ht(z)),l.value.count&&(!l.value.solo||!s.value))for(let Fe=1;Fe<l.value.count;Fe++){const Ge=dn(_e(),{month:_.value(Fe-1),year:L.value(Fe-1)}),pt=FD(Ge,{months:1});o.value[Fe]={month:Ot(pt),year:ht(pt)}}},A=(z,ue)=>{C(z),I("hours",xi(z)),I("minutes",as(z)),I("seconds",au(z)),l.value.count&&ue&&$()},O=z=>{if(l.value.count){if(l.value.solo)return 0;const ue=Ot(z[0]),Fe=Ot(z[1]);return Math.abs(Fe-ue)<l.value.count?0:1}return 1},Y=(z,ue)=>{z[1]&&t.showLastInRange?C(z[O(z)],ue):C(z[0],ue);const Fe=(Ge,pt)=>[Ge(z[0]),z[1]?Ge(z[1]):a[pt][1]];I("hours",Fe(xi,"hours")),I("minutes",Fe(as,"minutes")),I("seconds",Fe(au,"seconds"))},U=(z,ue)=>{if((t.range||t.weekPicker)&&!t.multiDates)return Y(z,ue);if(t.multiDates&&ue){const Fe=z[z.length-1];return A(Fe,ue)}},j=z=>{const ue=s.value;U(ue,z),l.value.count&&l.value.solo&&$()},q=(z,ue)=>{const Fe=dn(_e(),{month:_.value(ue),year:L.value(ue)}),Ge=z<0?Di(Fe,1):lu(Fe,1);c(Ot(Ge),ht(Ge),z<0,t.preventMinMaxNavigation)&&(V(ue,Ot(Ge),ht(Ge)),e("update-month-year",{instance:ue,month:Ot(Ge),year:ht(Ge)}),l.value.count&&!l.value.solo&&X(ue),n())},X=z=>{for(let ue=z-1;ue>=0;ue--){const Fe=lu(dn(_e(),{month:_.value(ue+1),year:L.value(ue+1)}),1);V(ue,Ot(Fe),ht(Fe))}for(let ue=z+1;ue<=l.value.count-1;ue++){const Fe=Di(dn(_e(),{month:_.value(ue-1),year:L.value(ue-1)}),1);V(ue,Ot(Fe),ht(Fe))}},$=()=>{if(Array.isArray(s.value)&&s.value.length===2){const z=_e(_e(s.value[1]?s.value[1]:Di(s.value[0],1))),[ue,Fe]=[Ot(s.value[0]),ht(s.value[0])],[Ge,pt]=[Ot(s.value[1]),ht(s.value[1])];(ue!==Ge||ue===Ge&&Fe!==pt)&&l.value.solo&&V(1,Ot(z),ht(z))}else s.value&&!Array.isArray(s.value)&&(V(0,Ot(s.value),ht(s.value)),C(_e()))},x=()=>{t.startDate&&(V(0,Ot(_e(t.startDate)),ht(_e(t.startDate))),l.value.count&&X(0))},te=vZ((z,ue)=>{t.monthChangeOnScroll&&q(t.monthChangeOnScroll!=="inverse"?-z.deltaY:z.deltaY,ue)},50),ee=(z,ue,Fe=!1)=>{t.monthChangeOnArrows&&t.vertical===Fe&&he(z,ue)},he=(z,ue)=>{q(z==="right"?-1:1,ue)},ge=z=>t.markers.find(ue=>Ft(bZ(z.value),Ni(_e(ue.date),t.timezone))),Q=(z,ue)=>{switch(t.sixWeeks===!0?"append":t.sixWeeks){case"prepend":return[!0,!1];case"center":return[z==0,!0];case"fair":return[z==0||ue>z,!0];case"append":return[!1,!1];default:return[!1,!1]}},B=(z,ue,Fe,Ge)=>{if(t.sixWeeks&&z.length<6){const pt=6-z.length,Bt=(ue.getDay()+7-Ge)%7,Yn=6-(Fe.getDay()+7-Ge)%7,[Re,ze]=Q(Bt,Yn);for(let Ke=1;Ke<=pt;Ke++)if(ze?!!(Ke%2)==Re:Re){const Gn=z[0].days[0],Jr=G(Is(Gn.value,-7),Ot(ue));z.unshift({days:Jr})}else{const Gn=z[z.length-1],Jr=Gn.days[Gn.days.length-1],za=G(Is(Jr.value,1),Ot(ue));z.push({days:za})}}return z},G=(z,ue)=>{const Fe=_e(z),Ge=[];for(let pt=0;pt<7;pt++){const Bt=Is(Fe,pt),Yn=Ot(Bt)!==ue;Ge.push({text:t.hideOffsetDates&&Yn?"":Bt.getDate(),value:Bt,current:!Yn,classData:{}})}return Ge},oe=(z,ue)=>{const Fe=[],Ge=new Date(ue,z),pt=new Date(ue,z+1,0),Bt=t.weekStart,Yn=xa(Ge,{weekStartsOn:Bt}),Re=ze=>{const Ke=G(ze,z);if(Fe.push({days:Ke}),!Fe[Fe.length-1].days.some(Gn=>Ft(Sr(Gn.value),Sr(pt)))){const Gn=Is(ze,7);Re(Gn)}};return Re(Yn),B(Fe,Ge,pt,Bt)},J=z=>(s.value=If(_e(z.value),t.timezone,t.weekStart),e("date-update",z.value),b()),fe=z=>{const ue=Co(_e(z.value),a.hours,a.minutes,me());e("date-update",ue),t.multiDates?Xb(ue,s,t.multiDatesLimit):s.value=ue,r(),Kn().then(()=>{b()})},be=z=>t.noDisabledRange?mx(i.value[0],z).some(ue=>h(ue)):!1,re=()=>{i.value=s.value?s.value.slice():[],i.value.length===2&&!(t.fixedStart||t.fixedEnd)&&(i.value=[])},D=(z,ue)=>{const Fe=[_e(z.value),Is(_e(z.value),+t.autoRange)];f(Fe)?(ue&&F(z.value),i.value=Fe):e("invalid-date",z.value)},F=z=>{const ue=Ot(_e(z)),Fe=ht(_e(z));if(V(0,ue,Fe),l.value.count>0)for(let Ge=1;Ge<l.value.count;Ge++){const pt=wZ(dn(_e(z),{year:_.value(Ge-1),month:L.value(Ge-1)}));V(Ge,pt.month,pt.year)}},H=z=>Array.isArray(s.value)&&s.value.length===2?t.fixedStart&&(Tr(z,s.value[0])||Ft(z,s.value[0]))?[s.value[0],z]:t.fixedEnd&&(rr(z,s.value[1])||Ft(z,s.value[1]))?[z,s.value[1]]:(e("invalid-fixed-range",z),s.value):[],le=z=>{if(be(z.value)||!p(z.value,s.value,t.fixedStart?0:1))return e("invalid-date",z.value);i.value=H(_e(z.value))},ae=(z,ue)=>{if(re(),t.autoRange)return D(z,ue);if(t.fixedStart||t.fixedEnd)return le(z);i.value[0]?p(_e(z.value),s.value)&&!be(z.value)?rr(_e(z.value),_e(i.value[0]))?(i.value.unshift(_e(z.value)),e("range-end",i.value[0])):(i.value[1]=_e(z.value),e("range-end",i.value[1])):(t.autoApply&&e("auto-apply-invalid",z.value),e("invalid-date",z.value)):(i.value[0]=_e(z.value),e("range-start",i.value[0]))},me=(z=!0)=>t.enableSeconds?Array.isArray(a.seconds)?z?a.seconds[0]:a.seconds[1]:a.seconds:0,Ae=z=>{i.value[z]=Co(i.value[z],a.hours[z],a.minutes[z],me(z!==1))},Se=()=>{var z,ue;i.value[0]&&i.value[1]&&+((z=i.value)==null?void 0:z[0])>+((ue=i.value)==null?void 0:ue[1])&&(i.value.reverse(),e("range-start",i.value[0]),e("range-end",i.value[1]))},Ie=()=>{i.value.length&&(i.value[0]&&!i.value[1]?Ae(0):(Ae(0),Ae(1),r()),Se(),s.value=i.value.slice(),Wm(i.value,e,t.autoApply,t.modelAuto))},ve=(z,ue=!1)=>{if(h(z.value)||!z.current&&t.hideOffsetDates)return e("invalid-date",z.value);if(t.weekPicker)return J(z);if(!t.range)return fe(z);kS(a.hours)&&kS(a.minutes)&&!t.multiDates&&(ae(z,ue),Ie())},Ye=(z,ue)=>{var Fe;V(z,ue.month,ue.year),l.value.count&&!l.value.solo&&X(z),e("update-month-year",{instance:z,month:ue.month,year:ue.year}),n(l.value.solo?z:void 0);const Ge=(Fe=t.flow)!=null&&Fe.length?t.flow[t.flowStep]:void 0;!ue.fromNav&&(Ge===Gi.month||Ge===Gi.year)&&r()},Ce=(z,ue)=>{Tx({value:z,modelValue:s,range:t.range,timezone:ue?void 0:t.timezone}),S(),t.multiCalendars&&Kn().then(()=>v(!0))},je=()=>{t.range?s.value&&Array.isArray(s.value)&&s.value[0]?s.value=rr(_e(),s.value[0])?[_e(),s.value[0]]:[s.value[0],_e()]:s.value=[_e()]:s.value=_e(),S()},Ze=()=>{if(Array.isArray(s.value))if(t.multiDates){const z=Xe();s.value[s.value.length-1]=w(z)}else s.value=s.value.map((z,ue)=>z&&w(z,ue));else s.value=w(s.value);e("time-update")},Xe=()=>Array.isArray(s.value)&&s.value.length?s.value[s.value.length-1]:null;return{calendars:o,modelValue:s,month:_,year:L,time:a,disabledTimesConfig:T,validateTime:P,getCalendarDays:oe,getMarker:ge,handleScroll:te,handleSwipe:he,handleArrow:ee,selectDate:ve,updateMonthYear:Ye,presetDate:Ce,selectCurrentDate:je,updateTime:(z,ue=!0,Fe=!1)=>{g(z,ue,Fe,Ze)}}},$ee={key:0},Uee=it({__name:"DatePicker",props:{...Hi},emits:["tooltip-open","tooltip-close","mount","update:internal-model-value","update-flow-step","reset-flow","auto-apply","focus-menu","select-date","range-start","range-end","invalid-fixed-range","time-update","am-pm-change","time-picker-open","time-picker-close","recalculate-position","update-month-year","auto-apply-invalid","date-update","invalid-date"],setup(t,{expose:e,emit:n}){const r=n,i=t,{calendars:s,month:o,year:a,modelValue:l,time:u,disabledTimesConfig:c,validateTime:h,getCalendarDays:f,getMarker:p,handleArrow:g,handleScroll:w,handleSwipe:I,selectDate:k,updateMonthYear:P,presetDate:T,selectCurrentDate:_,updateTime:L}=Fee(i,r,$,x),V=Va(),{setHoverDate:S,getDayClassData:E,clearHoverDate:b}=HZ(l,i),{defaultedMultiCalendars:v}=kn(i),C=Te([]),A=Te([]),O=Te(null),Y=ri(V,"calendar"),U=ri(V,"monthYear"),j=ri(V,"timePicker"),q=ee=>{i.shadow||r("mount",ee)};_n(s,()=>{i.shadow||setTimeout(()=>{r("recalculate-position")},0)},{deep:!0});const X=se(()=>ee=>f(o.value(ee),a.value(ee)).map(he=>({...he,days:he.days.map(ge=>(ge.marker=p(ge),ge.classData=E(ge),ge))})));function $(ee){var he;ee||ee===0?(he=A.value[ee])==null||he.triggerTransition(o.value(ee),a.value(ee)):A.value.forEach((ge,Q)=>ge.triggerTransition(o.value(Q),a.value(Q)))}function x(){r("update-flow-step")}const te=(ee,he=!1)=>{k(ee,he),i.spaceConfirm&&r("select-date")};return e({clearHoverDate:b,presetDate:T,selectCurrentDate:_,toggleMonthPicker:(ee,he,ge=0)=>{var Q;(Q=C.value[ge])==null||Q.toggleMonthPicker(ee,he)},toggleYearPicker:(ee,he,ge=0)=>{var Q;(Q=C.value[ge])==null||Q.toggleYearPicker(ee,he)},toggleTimePicker:(ee,he,ge)=>{var Q;(Q=O.value)==null||Q.toggleTimePicker(ee,he,ge)},handleArrow:g,updateMonthYear:P,getSidebarProps:()=>({modelValue:l,month:o,year:a,time:u,updateTime:L,updateMonthYear:P,selectDate:k,presetDate:T})}),(ee,he)=>(M(),W(Oe,null,[Me(jm,{"multi-calendars":R(v).count},{default:ke(({instance:ge,index:Q})=>[ee.disableMonthYearSelect?ne("",!0):(M(),we(Oee,ce({key:0,ref:B=>{B&&(C.value[Q]=B)},months:R(cx)(ee.formatLocale,ee.locale,ee.monthNameFormat),years:R(Gb)(ee.yearRange,ee.reverseYears),month:R(o)(ge),year:R(a)(ge),instance:ge},ee.$props,{onMount:he[0]||(he[0]=B=>q(R(ma).header)),onResetFlow:he[1]||(he[1]=B=>ee.$emit("reset-flow")),onUpdateMonthYear:B=>R(P)(ge,B),onOverlayClosed:he[2]||(he[2]=B=>ee.$emit("focus-menu"))}),sr({_:2},[ft(R(U),(B,G)=>({name:B,fn:ke(oe=>[pe(ee.$slots,B,An(ir(oe)))])}))]),1040,["months","years","month","year","instance","onUpdateMonthYear"])),Me(Vee,ce({ref:B=>{B&&(A.value[Q]=B)},"mapped-dates":X.value(ge),month:R(o)(ge),year:R(a)(ge),instance:ge},ee.$props,{onSelectDate:B=>R(k)(B,ge!==1),onHandleSpace:B=>te(B,ge!==1),onSetHoverDate:he[3]||(he[3]=B=>R(S)(B)),onHandleScroll:B=>R(w)(B,ge),onHandleSwipe:B=>R(I)(B,ge),onMount:he[4]||(he[4]=B=>q(R(ma).calendar)),onResetFlow:he[5]||(he[5]=B=>ee.$emit("reset-flow")),onTooltipOpen:he[6]||(he[6]=B=>ee.$emit("tooltip-open",B)),onTooltipClose:he[7]||(he[7]=B=>ee.$emit("tooltip-close",B))}),sr({_:2},[ft(R(Y),(B,G)=>({name:B,fn:ke(oe=>[pe(ee.$slots,B,An(ir({...oe})))])}))]),1040,["mapped-dates","month","year","instance","onSelectDate","onHandleSpace","onHandleScroll","onHandleSwipe"])]),_:3},8,["multi-calendars"]),ee.enableTimePicker?(M(),W("div",$ee,[ee.$slots["time-picker"]?pe(ee.$slots,"time-picker",An(ce({key:0},{time:R(u),updateTime:R(L)}))):(M(),we(Ix,ce({key:1,ref_key:"timePickerRef",ref:O},ee.$props,{hours:R(u).hours,minutes:R(u).minutes,seconds:R(u).seconds,"internal-model-value":ee.internalModelValue,"disabled-times-config":R(c),"validate-time":R(h),onMount:he[8]||(he[8]=ge=>q(R(ma).timePicker)),"onUpdate:hours":he[9]||(he[9]=ge=>R(L)(ge)),"onUpdate:minutes":he[10]||(he[10]=ge=>R(L)(ge,!1)),"onUpdate:seconds":he[11]||(he[11]=ge=>R(L)(ge,!1,!0)),onResetFlow:he[12]||(he[12]=ge=>ee.$emit("reset-flow")),onOverlayClosed:he[13]||(he[13]=ge=>ee.$emit("time-picker-close")),onOverlayOpened:he[14]||(he[14]=ge=>ee.$emit("time-picker-open",ge)),onAmPmChange:he[15]||(he[15]=ge=>ee.$emit("am-pm-change",ge))}),sr({_:2},[ft(R(j),(ge,Q)=>({name:ge,fn:ke(B=>[pe(ee.$slots,ge,An(ir(B)))])}))]),1040,["hours","minutes","seconds","internal-model-value","disabled-times-config","validate-time"]))])):ne("",!0)],64))}}),Bee=(t,e)=>{const n=Te(),{defaultedMultiCalendars:r,defaultedConfig:i,defaultedHighlight:s}=kn(t),{modelValue:o,year:a,month:l,calendars:u}=dh(t,e),{isDisabled:c}=qa(t),{selectYear:h,groupedYears:f,showYearPicker:p,isDisabled:g,toggleYearPicker:w,handleYearSelect:I,handleYear:k}=Ex({modelValue:o,multiCalendars:r,highlight:s,calendars:u,month:l,year:a,props:t,emit:e}),P=(b,v)=>[b,v].map(C=>Io(C,"MMMM",{locale:t.formatLocale})).join("-"),T=se(()=>b=>o.value?Array.isArray(o.value)?o.value.some(v=>pS(b,v)):pS(o.value,b):!1),_=b=>{if(t.range){if(Array.isArray(o.value)){const v=Ft(b,o.value[0])||Ft(b,o.value[1]);return Um(o.value,n.value,b)&&!v}return!1}return!1},L=se(()=>b=>{const v=dn(new Date,{year:a.value(b)});return uQ({start:dQ(v),end:cQ(v)}).map(C=>{const A=Cd(C),O=aS(C),Y=c(C),U=_(A),j=typeof s.value=="function"?s.value({quarter:oS(A),year:ht(A)}):!!s.value.quarters.find(q=>q.quarter===oS(A)&&q.year===ht(A));return{text:P(A,O),value:A,active:T.value(A),highlighted:j,disabled:Y,isBetween:U}})}),V=b=>{Xb(b,o,t.multiDatesLimit),e("auto-apply",!0)},S=b=>{const v=Jb(o,b,e);Wm(v,e,t.autoApply,t.modelAuto)},E=b=>{o.value=b,e("auto-apply")};return{defaultedConfig:i,defaultedMultiCalendars:r,groupedYears:f,year:a,isDisabled:g,quarters:L,showYearPicker:p,modelValue:o,setHoverDate:b=>{n.value=b},selectYear:h,selectQuarter:(b,v,C)=>{if(!C)return u.value[v].month=Ot(aS(b)),t.multiDates?V(b):t.range?S(b):E(b)},toggleYearPicker:w,handleYearSelect:I,handleYear:k}},Hee={class:"dp--quarter-items"},jee=["disabled","onClick","onMouseover"],Wee=it({compatConfig:{MODE:3},__name:"QuarterPicker",props:{...Hi},emits:["update:internal-model-value","reset-flow","overlay-closed","auto-apply","range-start","range-end"],setup(t,{expose:e,emit:n}){const r=n,i=t,s=Va(),o=ri(s,"yearMode"),{defaultedMultiCalendars:a,defaultedConfig:l,groupedYears:u,year:c,isDisabled:h,quarters:f,modelValue:p,showYearPicker:g,setHoverDate:w,selectQuarter:I,toggleYearPicker:k,handleYearSelect:P,handleYear:T}=Bee(i,r);return e({getSidebarProps:()=>({modelValue:p,year:c,selectQuarter:I,handleYearSelect:P,handleYear:T})}),(_,L)=>(M(),we(jm,{"multi-calendars":R(a).count,stretch:""},{default:ke(({instance:V})=>[K("div",{class:"dp-quarter-picker-wrap",style:zn({minHeight:`${R(l).modeHeight}px`})},[K("div",null,[Me(wx,ce(_.$props,{items:R(u)(V),instance:V,"show-year-picker":R(g)[V],year:R(c)(V),"is-disabled":S=>R(h)(V,S),onHandleYear:S=>R(T)(V,S),onYearSelect:S=>R(P)(S,V),onToggleYearPicker:S=>R(k)(V,S==null?void 0:S.flow,S==null?void 0:S.show)}),sr({_:2},[ft(R(o),(S,E)=>({name:S,fn:ke(b=>[pe(_.$slots,S,An(ir(b)))])}))]),1040,["items","instance","show-year-picker","year","is-disabled","onHandleYear","onYearSelect","onToggleYearPicker"])]),K("div",Hee,[(M(!0),W(Oe,null,ft(R(f)(V),(S,E)=>(M(),W("div",{key:E},[K("button",{type:"button",class:He(["dp--qr-btn",{"dp--qr-btn-active":S.active,"dp--qr-btn-between":S.isBetween,"dp--qr-btn-disabled":S.disabled,"dp--highlighted":S.highlighted}]),disabled:S.disabled,onClick:b=>R(I)(S.value,V,S.disabled),onMouseover:b=>R(w)(S.value)},[_.$slots.quarter?pe(_.$slots,"quarter",{key:0,value:S.value,text:S.text}):(M(),W(Oe,{key:1},[tt(Ue(S.text),1)],64))],42,jee)]))),128))])],4)]),_:3},8,["multi-calendars"]))}}),qee=["id"],zee={key:0,class:"dp__sidebar_left"},Kee={key:1,class:"dp--preset-dates"},Yee=["onClick","onKeydown"],Gee={key:2,class:"dp__sidebar_right"},Qee={key:3,class:"dp__action_extra"},RS=it({compatConfig:{MODE:3},__name:"DatepickerMenu",props:{...Hm,shadow:{type:Boolean,default:!1},openOnTop:{type:Boolean,default:!1},internalModelValue:{type:[Date,Array],default:null},arrMapValues:{type:Object,default:()=>({})},noOverlayFocus:{type:Boolean,default:!1}},emits:["close-picker","select-date","auto-apply","time-update","flow-step","update-month-year","invalid-select","update:internal-model-value","recalculate-position","invalid-fixed-range","tooltip-open","tooltip-close","time-picker-open","time-picker-close","am-pm-change","range-start","range-end","auto-apply-invalid","date-update","invalid-date"],setup(t,{expose:e,emit:n}){const r=n,i=t,s=se(()=>{const{openOnTop:re,...D}=i;return{...D,flowStep:E.value,noOverlayFocus:i.noOverlayFocus}}),{setMenuFocused:o,setShiftKey:a,control:l}=bx(),u=Va(),{defaultedTextInput:c,defaultedInline:h,defaultedConfig:f}=kn(i),p=Te(null),g=Te(0),w=Te(null),I=Te(null),k=Te(!1),P=Te(null);mn(()=>{if(!i.shadow){k.value=!0,T(),window.addEventListener("resize",T);const re=Vn(w);if(re&&!c.value.enabled&&!h.value.enabled&&(o(!0),O()),re){const D=F=>{f.value.allowPreventDefault&&F.preventDefault(),So(F,f.value,!0)};re.addEventListener("pointerdown",D),re.addEventListener("mousedown",D)}}}),Fo(()=>{window.removeEventListener("resize",T)});const T=()=>{const re=Vn(I);re&&(g.value=re.getBoundingClientRect().width)},{arrowRight:_,arrowLeft:L,arrowDown:V,arrowUp:S}=Wo(),{flowStep:E,updateFlowStep:b,childMount:v,resetFlow:C}=jZ(i,r,P),A=se(()=>i.monthPicker?oee:i.yearPicker?lee:i.timePicker?See:i.quarterPicker?Wee:Uee),O=()=>{const re=Vn(w);re&&re.focus({preventScroll:!0})},Y=se(()=>{var re;return((re=P.value)==null?void 0:re.getSidebarProps())||{}}),U=()=>{i.openOnTop&&r("recalculate-position")},j=ri(u,"action"),q=se(()=>i.monthPicker||i.yearPicker?ri(u,"monthYear"):i.timePicker?ri(u,"timePicker"):ri(u,"shared")),X=se(()=>i.openOnTop?"dp__arrow_bottom":"dp__arrow_top"),$=se(()=>({dp__menu_disabled:i.disabled,dp__menu_readonly:i.readonly})),x=se(()=>({dp__menu:!0,dp__menu_index:!h.value.enabled,dp__relative:h.value.enabled,[i.menuClassName]:!!i.menuClassName})),te=re=>{So(re,f.value,!0)},ee=()=>{i.escClose&&r("close-picker")},he=re=>{if(i.arrowNavigation){if(re==="up")return S();if(re==="down")return V();if(re==="left")return L();if(re==="right")return _()}else re==="left"||re==="up"?oe("handleArrow","left",0,re==="up"):oe("handleArrow","right",0,re==="down")},ge=re=>{a(re.shiftKey),!i.disableMonthYearSelect&&re.code==="Tab"&&re.target.classList.contains("dp__menu")&&l.value.shiftKeyInMenu&&(re.preventDefault(),So(re,f.value,!0),r("close-picker"))},Q=()=>{O(),r("time-picker-close")},B=re=>{var D,F,H;(D=P.value)==null||D.toggleTimePicker(!1,!1),(F=P.value)==null||F.toggleMonthPicker(!1,!1,re),(H=P.value)==null||H.toggleYearPicker(!1,!1,re)},G=(re,D=0)=>{var F,H,le;return re==="month"?(F=P.value)==null?void 0:F.toggleMonthPicker(!1,!0,D):re==="year"?(H=P.value)==null?void 0:H.toggleYearPicker(!1,!0,D):re==="time"?(le=P.value)==null?void 0:le.toggleTimePicker(!0,!1):B(D)},oe=(re,...D)=>{var F,H;(F=P.value)!=null&&F[re]&&((H=P.value)==null||H[re](...D))},J=()=>{oe("selectCurrentDate")},fe=(re,D)=>{oe("presetDate",re,D)},be=()=>{oe("clearHoverDate")};return e({updateMonthYear:(re,D)=>{oe("updateMonthYear",re,D)},switchView:G}),(re,D)=>{var F;return M(),W("div",{id:re.uid?`dp-menu-${re.uid}`:void 0,ref_key:"dpMenuRef",ref:w,tabindex:"0",role:"dialog",class:He(x.value),onMouseleave:be,onClick:te,onKeydown:[ct(ee,["esc"]),D[18]||(D[18]=ct($t(H=>he("left"),["prevent"]),["left"])),D[19]||(D[19]=ct($t(H=>he("up"),["prevent"]),["up"])),D[20]||(D[20]=ct($t(H=>he("down"),["prevent"]),["down"])),D[21]||(D[21]=ct($t(H=>he("right"),["prevent"]),["right"])),ge]},[(re.disabled||re.readonly)&&R(h).enabled?(M(),W("div",{key:0,class:He($.value)},null,2)):ne("",!0),!R(h).enabled&&!re.teleportCenter?(M(),W("div",{key:1,class:He(X.value)},null,2)):ne("",!0),K("div",{ref_key:"innerMenuRef",ref:I,class:He({dp__menu_content_wrapper:((F=re.presetDates)==null?void 0:F.length)||!!re.$slots["left-sidebar"]||!!re.$slots["right-sidebar"]}),style:zn({"--dp-menu-width":`${g.value}px`})},[re.$slots["left-sidebar"]?(M(),W("div",zee,[pe(re.$slots,"left-sidebar",An(ir(Y.value)))])):ne("",!0),re.presetDates.length?(M(),W("div",Kee,[(M(!0),W(Oe,null,ft(re.presetDates,(H,le)=>(M(),W(Oe,{key:le},[H.slot?pe(re.$slots,H.slot,{key:0,presetDate:fe,label:H.label,value:H.value}):(M(),W("button",{key:1,type:"button",style:zn(H.style||{}),class:"dp__btn dp--preset-range",onClick:$t(ae=>fe(H.value,H.noTz),["prevent"]),onKeydown:[ct($t(ae=>fe(H.value,H.noTz),["prevent"]),["enter"]),ct($t(ae=>fe(H.value,H.noTz),["prevent"]),["space"])]},Ue(H.label),45,Yee))],64))),128))])):ne("",!0),K("div",{ref_key:"calendarWrapperRef",ref:p,class:"dp__instance_calendar",role:"document"},[(M(),we(pr(A.value),ce({ref_key:"dynCmpRef",ref:P},s.value,{"flow-step":R(E),onMount:R(v),onUpdateFlowStep:R(b),onResetFlow:R(C),onFocusMenu:O,onSelectDate:D[0]||(D[0]=H=>re.$emit("select-date")),onDateUpdate:D[1]||(D[1]=H=>re.$emit("date-update",H)),onTooltipOpen:D[2]||(D[2]=H=>re.$emit("tooltip-open",H)),onTooltipClose:D[3]||(D[3]=H=>re.$emit("tooltip-close",H)),onAutoApply:D[4]||(D[4]=H=>re.$emit("auto-apply",H)),onRangeStart:D[5]||(D[5]=H=>re.$emit("range-start",H)),onRangeEnd:D[6]||(D[6]=H=>re.$emit("range-end",H)),onInvalidFixedRange:D[7]||(D[7]=H=>re.$emit("invalid-fixed-range",H)),onTimeUpdate:D[8]||(D[8]=H=>re.$emit("time-update")),onAmPmChange:D[9]||(D[9]=H=>re.$emit("am-pm-change",H)),onTimePickerOpen:D[10]||(D[10]=H=>re.$emit("time-picker-open",H)),onTimePickerClose:Q,onRecalculatePosition:U,onUpdateMonthYear:D[11]||(D[11]=H=>re.$emit("update-month-year",H)),onAutoApplyInvalid:D[12]||(D[12]=H=>re.$emit("auto-apply-invalid",H)),onInvalidDate:D[13]||(D[13]=H=>re.$emit("invalid-date",H)),"onUpdate:internalModelValue":D[14]||(D[14]=H=>re.$emit("update:internal-model-value",H))}),sr({_:2},[ft(q.value,(H,le)=>({name:H,fn:ke(ae=>[pe(re.$slots,H,An(ir({...ae})))])}))]),1040,["flow-step","onMount","onUpdateFlowStep","onResetFlow"]))],512),re.$slots["right-sidebar"]?(M(),W("div",Gee,[pe(re.$slots,"right-sidebar",An(ir(Y.value)))])):ne("",!0),re.$slots["action-extra"]?(M(),W("div",Qee,[re.$slots["action-extra"]?pe(re.$slots,"action-extra",{key:0,selectCurrentDate:J}):ne("",!0)])):ne("",!0)],6),!re.autoApply||R(f).keepActionRow?(M(),we(XZ,ce({key:2,"menu-mount":k.value},s.value,{"calendar-width":g.value,onClosePicker:D[15]||(D[15]=H=>re.$emit("close-picker")),onSelectDate:D[16]||(D[16]=H=>re.$emit("select-date")),onInvalidSelect:D[17]||(D[17]=H=>re.$emit("invalid-select")),onSelectNow:J}),sr({_:2},[ft(R(j),(H,le)=>({name:H,fn:ke(ae=>[pe(re.$slots,H,An(ir({...ae})))])}))]),1040,["menu-mount","calendar-width"])):ne("",!0)],42,qee)}}}),Xee=typeof window<"u"?window:void 0,Tv=()=>{},Jee=t=>Bp()?(E_(t),!0):!1,Zee=(t,e,n,r)=>{if(!t)return Tv;let i=Tv;const s=_n(()=>R(t),a=>{i(),a&&(a.addEventListener(e,n,r),i=()=>{a.removeEventListener(e,n,r),i=Tv})},{immediate:!0,flush:"post"}),o=()=>{s(),i()};return Jee(o),o},ete=(t,e,n,r={})=>{const{window:i=Xee,event:s="pointerdown"}=r;return i?Zee(i,s,o=>{const a=Vn(t),l=Vn(e);!a||!l||a===o.target||o.composedPath().includes(a)||o.composedPath().includes(l)||n(o)},{passive:!0}):void 0},tte=it({compatConfig:{MODE:3},__name:"VueDatePicker",props:{...Hm},emits:["update:model-value","update:model-timezone-value","text-submit","closed","cleared","open","focus","blur","internal-model-change","recalculate-position","flow-step","update-month-year","invalid-select","invalid-fixed-range","tooltip-open","tooltip-close","time-picker-open","time-picker-close","am-pm-change","range-start","range-end","date-update","invalid-date"],setup(t,{expose:e,emit:n}){const r=n,i=t,s=Va(),o=Te(!1),a=jc(i,"modelValue"),l=jc(i,"timezone"),u=Te(null),c=Te(null),h=Te(null),f=Te(!1),p=Te(null),g=Te(!1),w=Te(!1),{setMenuFocused:I,setShiftKey:k}=bx(),{clearArrowNav:P}=Wo(),{mapDatesArrToMap:T,validateDate:_,isValidTime:L}=qa(i),{defaultedTransitions:V,defaultedTextInput:S,defaultedInline:E,defaultedConfig:b}=kn(i),{menuTransition:v,showTransition:C}=ch(V);mn(()=>{he(i.modelValue),Kn().then(()=>{if(!E.value.enabled){const Re=$(p.value);Re==null||Re.addEventListener("scroll",re),window==null||window.addEventListener("resize",D)}}),E.value.enabled&&(o.value=!0),window==null||window.addEventListener("keyup",F),window==null||window.addEventListener("keydown",H)});const A=se(()=>T());Fo(()=>{if(!E.value.enabled){const Re=$(p.value);Re==null||Re.removeEventListener("scroll",re),window==null||window.removeEventListener("resize",D)}window==null||window.removeEventListener("keyup",F),window==null||window.removeEventListener("keydown",H)});const O=ri(s,"all",i.presetDates),Y=ri(s,"input");_n([a,l],()=>{he(a.value)},{deep:!0});const{openOnTop:U,menuStyle:j,xCorrect:q,setMenuPosition:X,getScrollableParent:$,shadowRender:x}=$Z({menuRef:u,menuRefInner:c,inputRef:h,pickerWrapperRef:p,inline:E,emit:r,props:i,slots:s}),{inputValue:te,internalModelValue:ee,parseExternalModelValue:he,emitModelValue:ge,formatInputValue:Q,checkBeforeEmit:B}=VZ(r,i,f),G=se(()=>({dp__main:!0,dp__theme_dark:i.dark,dp__theme_light:!i.dark,dp__flex_display:E.value.enabled,dp__flex_display_with_input:E.value.input})),oe=se(()=>i.dark?"dp__theme_dark":"dp__theme_light"),J=se(()=>({to:typeof i.teleport=="boolean"?"body":i.teleport,disabled:!i.teleport||E.value.enabled})),fe=se(()=>({class:"dp__outer_menu_wrap"})),be=se(()=>E.value.enabled&&(i.timePicker||i.monthPicker||i.yearPicker||i.quarterPicker)),re=()=>{o.value&&(b.value.closeOnScroll?Ce():X())},D=()=>{o.value&&X()},F=Re=>{Re.key==="Tab"&&!E.value.enabled&&!i.teleport&&b.value.tabOutClosesMenu&&(p.value.contains(document.activeElement)||Ce()),w.value=Re.shiftKey},H=Re=>{w.value=Re.shiftKey},le=()=>{!i.disabled&&!i.readonly&&(x(RS,i),X(!1),o.value=!0,o.value&&r("open"),o.value||Ye(),he(i.modelValue))},ae=()=>{var Re;te.value="",Ye(),(Re=h.value)==null||Re.setParsedDate(null),r("update:model-value",null),r("update:model-timezone-value",null),r("cleared"),b.value.closeOnClearValue&&Ce()},me=()=>{const Re=ee.value;return!Re||!Array.isArray(Re)&&_(Re)?!0:Array.isArray(Re)?i.multiDates||Re.length===2&&_(Re[0])&&_(Re[1])?!0:i.partialRange&&!i.timePicker?_(Re[0]):!1:!1},Ae=()=>{B()&&me()?(ge(),Ce()):r("invalid-select",ee.value)},Se=Re=>{Ie(),ge(),b.value.closeOnAutoApply&&!Re&&Ce()},Ie=()=>{h.value&&S.value.enabled&&h.value.setParsedDate(ee.value)},ve=(Re=!1)=>{i.autoApply&&L(ee.value)&&me()&&(i.range&&Array.isArray(ee.value)?(i.partialRange||ee.value.length===2)&&Se(Re):Se(Re))},Ye=()=>{S.value.enabled||(ee.value=null)},Ce=()=>{E.value.enabled||(o.value&&(o.value=!1,q.value=!1,I(!1),k(!1),P(),r("closed"),te.value&&he(a.value)),Ye(),r("blur"))},je=(Re,ze,Ke=!1)=>{if(!Re){ee.value=null;return}const Gn=Array.isArray(Re)?!Re.some(za=>!_(za)):_(Re),Jr=L(Re);Gn&&Jr&&(ee.value=Re,ze&&(g.value=Ke,Ae(),r("text-submit")))},Ze=()=>{i.autoApply&&L(ee.value)&&ge(),Ie()},Xe=()=>o.value?Ce():le(),z=Re=>{ee.value=Re},ue=()=>{S.value.enabled&&(f.value=!0,Q()),r("focus")},Fe=()=>{if(S.value.enabled&&(f.value=!1,he(i.modelValue),g.value)){const Re=gZ(p.value,w.value);Re==null||Re.focus()}r("blur")},Ge=Re=>{c.value&&c.value.updateMonthYear(0,{month:IS(Re.month),year:IS(Re.year)})},pt=Re=>{he(Re??i.modelValue)},Bt=(Re,ze)=>{var Ke;(Ke=c.value)==null||Ke.switchView(Re,ze)},Yn=Re=>b.value.onClickOutside?b.value.onClickOutside(Re):Ce();return ete(u,h,()=>Yn(me)),e({closeMenu:Ce,selectDate:Ae,clearValue:ae,openMenu:le,onScroll:re,formatInputValue:Q,updateInternalModelValue:z,setMonthYear:Ge,parseModel:pt,switchView:Bt,toggleMenu:Xe}),(Re,ze)=>(M(),W("div",{ref_key:"pickerWrapperRef",ref:p,class:He(G.value),"data-datepicker-instance":""},[Me(KZ,ce({ref_key:"inputRef",ref:h,"input-value":R(te),"onUpdate:inputValue":ze[0]||(ze[0]=Ke=>hn(te)?te.value=Ke:null),"is-menu-open":o.value},Re.$props,{onClear:ae,onOpen:le,onSetInputDate:je,onSetEmptyDate:R(ge),onSelectDate:Ae,onToggle:Xe,onClose:Ce,onFocus:ue,onBlur:Fe,onRealBlur:ze[1]||(ze[1]=Ke=>f.value=!1)}),sr({_:2},[ft(R(Y),(Ke,Gn)=>({name:Ke,fn:ke(Jr=>[pe(Re.$slots,Ke,An(ir(Jr)))])}))]),1040,["input-value","is-menu-open","onSetEmptyDate"]),Me(cA,An(ir(J.value)),{default:ke(()=>[Me($o,{name:R(v)(R(U)),css:R(C)&&!R(E).enabled},{default:ke(()=>[o.value?(M(),W("div",ce({key:0,ref_key:"dpWrapMenuRef",ref:u},fe.value,{class:{"dp--menu-wrapper":!R(E).enabled},style:R(E).enabled?void 0:R(j)}),[Me(RS,ce({ref_key:"dpMenuRef",ref:c},Re.$props,{"internal-model-value":R(ee),"onUpdate:internalModelValue":ze[2]||(ze[2]=Ke=>hn(ee)?ee.value=Ke:null),class:{[oe.value]:!0,"dp--menu-wrapper":Re.teleport},"open-on-top":R(U),"arr-map-values":A.value,"no-overlay-focus":be.value,onClosePicker:Ce,onSelectDate:Ae,onAutoApply:ve,onTimeUpdate:Ze,onFlowStep:ze[3]||(ze[3]=Ke=>Re.$emit("flow-step",Ke)),onUpdateMonthYear:ze[4]||(ze[4]=Ke=>Re.$emit("update-month-year",Ke)),onInvalidSelect:ze[5]||(ze[5]=Ke=>Re.$emit("invalid-select",R(ee))),onAutoApplyInvalid:ze[6]||(ze[6]=Ke=>Re.$emit("invalid-select",Ke)),onInvalidFixedRange:ze[7]||(ze[7]=Ke=>Re.$emit("invalid-fixed-range",Ke)),onRecalculatePosition:R(X),onTooltipOpen:ze[8]||(ze[8]=Ke=>Re.$emit("tooltip-open",Ke)),onTooltipClose:ze[9]||(ze[9]=Ke=>Re.$emit("tooltip-close",Ke)),onTimePickerOpen:ze[10]||(ze[10]=Ke=>Re.$emit("time-picker-open",Ke)),onTimePickerClose:ze[11]||(ze[11]=Ke=>Re.$emit("time-picker-close",Ke)),onAmPmChange:ze[12]||(ze[12]=Ke=>Re.$emit("am-pm-change",Ke)),onRangeStart:ze[13]||(ze[13]=Ke=>Re.$emit("range-start",Ke)),onRangeEnd:ze[14]||(ze[14]=Ke=>Re.$emit("range-end",Ke)),onDateUpdate:ze[15]||(ze[15]=Ke=>Re.$emit("date-update",Ke)),onInvalidDate:ze[16]||(ze[16]=Ke=>Re.$emit("invalid-date",Ke))}),sr({_:2},[ft(R(O),(Ke,Gn)=>({name:Ke,fn:ke(Jr=>[pe(Re.$slots,Ke,An(ir({...Jr})))])}))]),1040,["internal-model-value","class","open-on-top","arr-map-values","no-overlay-focus","onRecalculatePosition"])],16)):ne("",!0)]),_:3},8,["name","css"])]),_:3},16)],2))}}),Zb=(()=>{const t=tte;return t.install=e=>{e.component("Vue3DatePicker",t)},t})(),nte=Object.freeze(Object.defineProperty({__proto__:null,default:Zb},Symbol.toStringTag,{value:"Module"}));Object.entries(nte).forEach(([t,e])=>{t!=="default"&&(Zb[t]=e)});var hr={STARTS_WITH:"startsWith",CONTAINS:"contains",NOT_CONTAINS:"notContains",ENDS_WITH:"endsWith",EQUALS:"equals",NOT_EQUALS:"notEquals",IN:"in",LESS_THAN:"lt",LESS_THAN_OR_EQUAL_TO:"lte",GREATER_THAN:"gt",GREATER_THAN_OR_EQUAL_TO:"gte",BETWEEN:"between",DATE_IS:"dateIs",DATE_IS_NOT:"dateIsNot",DATE_BEFORE:"dateBefore",DATE_AFTER:"dateAfter"};function DS(t,e){var n=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=rte(t))||e&&t&&typeof t.length=="number"){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(u){throw u},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var s=!0,o=!1,a;return{s:function(){n=n.call(t)},n:function(){var u=n.next();return s=u.done,u},e:function(u){o=!0,a=u},f:function(){try{!s&&n.return!=null&&n.return()}finally{if(o)throw a}}}}function rte(t,e){if(t){if(typeof t=="string")return xS(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return xS(t,e)}}function xS(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Cx={filter:function(e,n,r,i,s){var o=[];if(!e)return o;var a=DS(e),l;try{for(a.s();!(l=a.n()).done;){var u=l.value;if(typeof u=="string"){if(this.filters[i](u,r,s)){o.push(u);continue}}else{var c=DS(n),h;try{for(c.s();!(h=c.n()).done;){var f=h.value,p=Ee.resolveFieldData(u,f);if(this.filters[i](p,r,s)){o.push(u);break}}}catch(g){c.e(g)}finally{c.f()}}}}catch(g){a.e(g)}finally{a.f()}return o},filters:{startsWith:function(e,n,r){if(n==null||n==="")return!0;if(e==null)return!1;var i=Ee.removeAccents(n.toString()).toLocaleLowerCase(r),s=Ee.removeAccents(e.toString()).toLocaleLowerCase(r);return s.slice(0,i.length)===i},contains:function(e,n,r){if(n==null||n==="")return!0;if(e==null)return!1;var i=Ee.removeAccents(n.toString()).toLocaleLowerCase(r),s=Ee.removeAccents(e.toString()).toLocaleLowerCase(r);return s.indexOf(i)!==-1},notContains:function(e,n,r){if(n==null||n==="")return!0;if(e==null)return!1;var i=Ee.removeAccents(n.toString()).toLocaleLowerCase(r),s=Ee.removeAccents(e.toString()).toLocaleLowerCase(r);return s.indexOf(i)===-1},endsWith:function(e,n,r){if(n==null||n==="")return!0;if(e==null)return!1;var i=Ee.removeAccents(n.toString()).toLocaleLowerCase(r),s=Ee.removeAccents(e.toString()).toLocaleLowerCase(r);return s.indexOf(i,s.length-i.length)!==-1},equals:function(e,n,r){return n==null||n===""?!0:e==null?!1:e.getTime&&n.getTime?e.getTime()===n.getTime():Ee.removeAccents(e.toString()).toLocaleLowerCase(r)==Ee.removeAccents(n.toString()).toLocaleLowerCase(r)},notEquals:function(e,n,r){return n==null||n===""?!1:e==null?!0:e.getTime&&n.getTime?e.getTime()!==n.getTime():Ee.removeAccents(e.toString()).toLocaleLowerCase(r)!=Ee.removeAccents(n.toString()).toLocaleLowerCase(r)},in:function(e,n){if(n==null||n.length===0)return!0;for(var r=0;r<n.length;r++)if(Ee.equals(e,n[r]))return!0;return!1},between:function(e,n){return n==null||n[0]==null||n[1]==null?!0:e==null?!1:e.getTime?n[0].getTime()<=e.getTime()&&e.getTime()<=n[1].getTime():n[0]<=e&&e<=n[1]},lt:function(e,n){return n==null?!0:e==null?!1:e.getTime&&n.getTime?e.getTime()<n.getTime():e<n},lte:function(e,n){return n==null?!0:e==null?!1:e.getTime&&n.getTime?e.getTime()<=n.getTime():e<=n},gt:function(e,n){return n==null?!0:e==null?!1:e.getTime&&n.getTime?e.getTime()>n.getTime():e>n},gte:function(e,n){return n==null?!0:e==null?!1:e.getTime&&n.getTime?e.getTime()>=n.getTime():e>=n},dateIs:function(e,n){return n==null?!0:e==null?!1:e.toDateString()===n.toDateString()},dateIsNot:function(e,n){return n==null?!0:e==null?!1:e.toDateString()!==n.toDateString()},dateBefore:function(e,n){return n==null?!0:e==null?!1:e.getTime()<n.getTime()},dateAfter:function(e,n){return n==null?!0:e==null?!1:e.getTime()>n.getTime()}},register:function(e,n){this.filters[e]=n}};function kd(t){"@babel/helpers - typeof";return kd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kd(t)}function NS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ev(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?NS(Object(n),!0).forEach(function(r){ite(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):NS(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ite(t,e,n){return e=ste(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ste(t){var e=ote(t,"string");return kd(e)=="symbol"?e:String(e)}function ote(t,e){if(kd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(kd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var MS={ripple:!1,inputStyle:null,locale:{startsWith:"Starts with",contains:"Contains",notContains:"Not contains",endsWith:"Ends with",equals:"Equals",notEquals:"Not equals",noFilter:"No Filter",lt:"Less than",lte:"Less than or equal to",gt:"Greater than",gte:"Greater than or equal to",dateIs:"Date is",dateIsNot:"Date is not",dateBefore:"Date is before",dateAfter:"Date is after",clear:"Clear",apply:"Apply",matchAll:"Match All",matchAny:"Match Any",addRule:"Add Rule",removeRule:"Remove Rule",accept:"Yes",reject:"No",choose:"Choose",upload:"Upload",cancel:"Cancel",completed:"Completed",pending:"Pending",fileSizeTypes:["B","KB","MB","GB","TB","PB","EB","ZB","YB"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],chooseYear:"Choose Year",chooseMonth:"Choose Month",chooseDate:"Choose Date",prevDecade:"Previous Decade",nextDecade:"Next Decade",prevYear:"Previous Year",nextYear:"Next Year",prevMonth:"Previous Month",nextMonth:"Next Month",prevHour:"Previous Hour",nextHour:"Next Hour",prevMinute:"Previous Minute",nextMinute:"Next Minute",prevSecond:"Previous Second",nextSecond:"Next Second",am:"am",pm:"pm",today:"Today",weekHeader:"Wk",firstDayOfWeek:0,showMonthAfterYear:!1,dateFormat:"mm/dd/yy",weak:"Weak",medium:"Medium",strong:"Strong",passwordPrompt:"Enter a password",emptyFilterMessage:"No results found",searchMessage:"{0} results are available",selectionMessage:"{0} items selected",emptySelectionMessage:"No selected item",emptySearchMessage:"No results found",emptyMessage:"No available options",aria:{trueLabel:"True",falseLabel:"False",nullLabel:"Not Selected",star:"1 star",stars:"{star} stars",selectAll:"All items selected",unselectAll:"All items unselected",close:"Close",previous:"Previous",next:"Next",navigation:"Navigation",scrollTop:"Scroll Top",moveTop:"Move Top",moveUp:"Move Up",moveDown:"Move Down",moveBottom:"Move Bottom",moveToTarget:"Move to Target",moveToSource:"Move to Source",moveAllToTarget:"Move All to Target",moveAllToSource:"Move All to Source",pageLabel:"Page {page}",firstPageLabel:"First Page",lastPageLabel:"Last Page",nextPageLabel:"Next Page",prevPageLabel:"Previous Page",rowsPerPageLabel:"Rows per page",jumpToPageDropdownLabel:"Jump to Page Dropdown",jumpToPageInputLabel:"Jump to Page Input",selectRow:"Row Selected",unselectRow:"Row Unselected",expandRow:"Row Expanded",collapseRow:"Row Collapsed",showFilterMenu:"Show Filter Menu",hideFilterMenu:"Hide Filter Menu",filterOperator:"Filter Operator",filterConstraint:"Filter Constraint",editRow:"Row Edit",saveEdit:"Save Edit",cancelEdit:"Cancel Edit",listView:"List View",gridView:"Grid View",slide:"Slide",slideNumber:"{slideNumber}",zoomImage:"Zoom Image",zoomIn:"Zoom In",zoomOut:"Zoom Out",rotateRight:"Rotate Right",rotateLeft:"Rotate Left",listLabel:"Option List"}},filterMatchModeOptions:{text:[hr.STARTS_WITH,hr.CONTAINS,hr.NOT_CONTAINS,hr.ENDS_WITH,hr.EQUALS,hr.NOT_EQUALS],numeric:[hr.EQUALS,hr.NOT_EQUALS,hr.LESS_THAN,hr.LESS_THAN_OR_EQUAL_TO,hr.GREATER_THAN,hr.GREATER_THAN_OR_EQUAL_TO],date:[hr.DATE_IS,hr.DATE_IS_NOT,hr.DATE_BEFORE,hr.DATE_AFTER]},zIndex:{modal:1100,overlay:1e3,menu:1e3,tooltip:1100},pt:void 0,ptOptions:{mergeSections:!0,mergeProps:!1},unstyled:!1,csp:{nonce:void 0}},ate=Symbol();function lte(t,e,n,r){if(t!==e){var i=document.getElementById(n),s=i.cloneNode(!0),o=i.getAttribute("href").replace(t,e);s.setAttribute("id",n+"-clone"),s.setAttribute("href",o),s.addEventListener("load",function(){i.remove(),s.setAttribute("id",n),r&&r()}),i.parentNode&&i.parentNode.insertBefore(s,i.nextSibling)}}var ute={install:function(e,n){var r=n?Ev(Ev({},MS),n):Ev({},MS),i={config:_i(r),changeTheme:lte};e.config.globalProperties.$primevue=i,e.provide(ate,i)}},Ax={name:"BlankIcon",extends:Wa},cte=K("rect",{width:"1",height:"1",fill:"currentColor","fill-opacity":"0"},null,-1),dte=[cte];function hte(t,e,n,r,i,s){return M(),W("svg",ce({width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t.pti()),dte,16)}Ax.render=hte;var qm={name:"CheckIcon",extends:Wa},fte=K("path",{d:"M4.86199 11.5948C4.78717 11.5923 4.71366 11.5745 4.64596 11.5426C4.57826 11.5107 4.51779 11.4652 4.46827 11.4091L0.753985 7.69483C0.683167 7.64891 0.623706 7.58751 0.580092 7.51525C0.536478 7.44299 0.509851 7.36177 0.502221 7.27771C0.49459 7.19366 0.506156 7.10897 0.536046 7.03004C0.565935 6.95111 0.613367 6.88 0.674759 6.82208C0.736151 6.76416 0.8099 6.72095 0.890436 6.69571C0.970973 6.67046 1.05619 6.66385 1.13966 6.67635C1.22313 6.68886 1.30266 6.72017 1.37226 6.76792C1.44186 6.81567 1.4997 6.8786 1.54141 6.95197L4.86199 10.2503L12.6397 2.49483C12.7444 2.42694 12.8689 2.39617 12.9932 2.40745C13.1174 2.41873 13.2343 2.47141 13.3251 2.55705C13.4159 2.64268 13.4753 2.75632 13.4938 2.87973C13.5123 3.00315 13.4888 3.1292 13.4271 3.23768L5.2557 11.4091C5.20618 11.4652 5.14571 11.5107 5.07801 11.5426C5.01031 11.5745 4.9368 11.5923 4.86199 11.5948Z",fill:"currentColor"},null,-1),pte=[fte];function mte(t,e,n,r,i,s){return M(),W("svg",ce({width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t.pti()),pte,16)}qm.render=mte;var e1={name:"ChevronDownIcon",extends:Wa},gte=K("path",{d:"M7.01744 10.398C6.91269 10.3985 6.8089 10.378 6.71215 10.3379C6.61541 10.2977 6.52766 10.2386 6.45405 10.1641L1.13907 4.84913C1.03306 4.69404 0.985221 4.5065 1.00399 4.31958C1.02276 4.13266 1.10693 3.95838 1.24166 3.82747C1.37639 3.69655 1.55301 3.61742 1.74039 3.60402C1.92777 3.59062 2.11386 3.64382 2.26584 3.75424L7.01744 8.47394L11.769 3.75424C11.9189 3.65709 12.097 3.61306 12.2748 3.62921C12.4527 3.64535 12.6199 3.72073 12.7498 3.84328C12.8797 3.96582 12.9647 4.12842 12.9912 4.30502C13.0177 4.48162 12.9841 4.662 12.8958 4.81724L7.58083 10.1322C7.50996 10.2125 7.42344 10.2775 7.32656 10.3232C7.22968 10.3689 7.12449 10.3944 7.01744 10.398Z",fill:"currentColor"},null,-1),vte=[gte];function yte(t,e,n,r,i,s){return M(),W("svg",ce({width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t.pti()),vte,16)}e1.render=yte;var t1={name:"SearchIcon",extends:Wa},_te=K("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M2.67602 11.0265C3.6661 11.688 4.83011 12.0411 6.02086 12.0411C6.81149 12.0411 7.59438 11.8854 8.32483 11.5828C8.87005 11.357 9.37808 11.0526 9.83317 10.6803L12.9769 13.8241C13.0323 13.8801 13.0983 13.9245 13.171 13.9548C13.2438 13.985 13.3219 14.0003 13.4007 14C13.4795 14.0003 13.5575 13.985 13.6303 13.9548C13.7031 13.9245 13.7691 13.8801 13.8244 13.8241C13.9367 13.7116 13.9998 13.5592 13.9998 13.4003C13.9998 13.2414 13.9367 13.089 13.8244 12.9765L10.6807 9.8328C11.053 9.37773 11.3573 8.86972 11.5831 8.32452C11.8857 7.59408 12.0414 6.81119 12.0414 6.02056C12.0414 4.8298 11.6883 3.66579 11.0268 2.67572C10.3652 1.68564 9.42494 0.913972 8.32483 0.45829C7.22472 0.00260857 6.01418 -0.116618 4.84631 0.115686C3.67844 0.34799 2.60568 0.921393 1.76369 1.76338C0.921698 2.60537 0.348296 3.67813 0.115991 4.84601C-0.116313 6.01388 0.00291375 7.22441 0.458595 8.32452C0.914277 9.42464 1.68595 10.3649 2.67602 11.0265ZM3.35565 2.0158C4.14456 1.48867 5.07206 1.20731 6.02086 1.20731C7.29317 1.20731 8.51338 1.71274 9.41304 2.6124C10.3127 3.51206 10.8181 4.73226 10.8181 6.00457C10.8181 6.95337 10.5368 7.88088 10.0096 8.66978C9.48251 9.45868 8.73328 10.0736 7.85669 10.4367C6.98011 10.7997 6.01554 10.8947 5.08496 10.7096C4.15439 10.5245 3.2996 10.0676 2.62869 9.39674C1.95778 8.72583 1.50089 7.87104 1.31579 6.94046C1.13068 6.00989 1.22568 5.04532 1.58878 4.16874C1.95187 3.29215 2.56675 2.54292 3.35565 2.0158Z",fill:"currentColor"},null,-1),bte=[_te];function wte(t,e,n,r,i,s){return M(),W("svg",ce({width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t.pti()),bte,16)}t1.render=wte;var n1={name:"TimesIcon",extends:Wa},Tte=K("path",{d:"M8.01186 7.00933L12.27 2.75116C12.341 2.68501 12.398 2.60524 12.4375 2.51661C12.4769 2.42798 12.4982 2.3323 12.4999 2.23529C12.5016 2.13827 12.4838 2.0419 12.4474 1.95194C12.4111 1.86197 12.357 1.78024 12.2884 1.71163C12.2198 1.64302 12.138 1.58893 12.0481 1.55259C11.9581 1.51625 11.8617 1.4984 11.7647 1.50011C11.6677 1.50182 11.572 1.52306 11.4834 1.56255C11.3948 1.60204 11.315 1.65898 11.2488 1.72997L6.99067 5.98814L2.7325 1.72997C2.59553 1.60234 2.41437 1.53286 2.22718 1.53616C2.03999 1.53946 1.8614 1.61529 1.72901 1.74767C1.59663 1.88006 1.5208 2.05865 1.5175 2.24584C1.5142 2.43303 1.58368 2.61419 1.71131 2.75116L5.96948 7.00933L1.71131 11.2675C1.576 11.403 1.5 11.5866 1.5 11.7781C1.5 11.9696 1.576 12.1532 1.71131 12.2887C1.84679 12.424 2.03043 12.5 2.2219 12.5C2.41338 12.5 2.59702 12.424 2.7325 12.2887L6.99067 8.03052L11.2488 12.2887C11.3843 12.424 11.568 12.5 11.7594 12.5C11.9509 12.5 12.1346 12.424 12.27 12.2887C12.4053 12.1532 12.4813 11.9696 12.4813 11.7781C12.4813 11.5866 12.4053 11.403 12.27 11.2675L8.01186 7.00933Z",fill:"currentColor"},null,-1),Ete=[Tte];function Ite(t,e,n,r,i,s){return M(),W("svg",ce({width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t.pti()),Ete,16)}n1.render=Ite;var Ox=$q(),r1={name:"Portal",props:{appendTo:{type:[String,Object],default:"body"},disabled:{type:Boolean,default:!1}},data:function(){return{mounted:!1}},mounted:function(){this.mounted=Ve.isClient()},computed:{inline:function(){return this.disabled||this.appendTo==="self"}}};function Ste(t,e,n,r,i,s){return s.inline?pe(t.$slots,"default",{key:0}):i.mounted?(M(),we(cA,{key:1,to:n.appendTo},[pe(t.$slots,"default")],8,["to"])):ne("",!0)}r1.render=Ste;var Cte=`
@layer primevue {
    .p-virtualscroller {
        position: relative;
        overflow: auto;
        contain: strict;
        transform: translateZ(0);
        will-change: scroll-position;
        outline: 0 none;
    }

    .p-virtualscroller-content {
        position: absolute;
        top: 0;
        left: 0;
        /* contain: content; */
        min-height: 100%;
        min-width: 100%;
        will-change: transform;
    }

    .p-virtualscroller-spacer {
        position: absolute;
        top: 0;
        left: 0;
        height: 1px;
        width: 1px;
        transform-origin: 0 0;
        pointer-events: none;
    }

    .p-virtualscroller .p-virtualscroller-loader {
        position: sticky;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
    }

    .p-virtualscroller-loader.p-component-overlay {
        display: flex;
        align-items: center;
        justify-content: center;
    }

    .p-virtualscroller-loading-icon {
        font-size: 2rem;
    }

    .p-virtualscroller-loading-icon.p-icon {
        width: 2rem;
        height: 2rem;
    }

    .p-virtualscroller-horizontal > .p-virtualscroller-content {
        display: flex;
    }

    /* Inline */
    .p-virtualscroller-inline .p-virtualscroller-content {
        position: static;
    }
}
`,LS=Lr.extend({name:"virtualscroller",css:Cte}),Ate={name:"BaseVirtualScroller",extends:hs,props:{id:{type:String,default:null},style:null,class:null,items:{type:Array,default:null},itemSize:{type:[Number,Array],default:0},scrollHeight:null,scrollWidth:null,orientation:{type:String,default:"vertical"},numToleratedItems:{type:Number,default:null},delay:{type:Number,default:0},resizeDelay:{type:Number,default:10},lazy:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},loaderDisabled:{type:Boolean,default:!1},columns:{type:Array,default:null},loading:{type:Boolean,default:!1},showSpacer:{type:Boolean,default:!0},showLoader:{type:Boolean,default:!1},tabindex:{type:Number,default:0},inline:{type:Boolean,default:!1},step:{type:Number,default:0},appendOnly:{type:Boolean,default:!1},autoSize:{type:Boolean,default:!1}},style:LS,provide:function(){return{$parentInstance:this}},beforeMount:function(){var e;LS.loadStyle({nonce:(e=this.$primevueConfig)===null||e===void 0||(e=e.csp)===null||e===void 0?void 0:e.nonce})}};function Rd(t){"@babel/helpers - typeof";return Rd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rd(t)}function VS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function tc(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?VS(Object(n),!0).forEach(function(r){Px(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):VS(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Px(t,e,n){return e=Ote(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ote(t){var e=Pte(t,"string");return Rd(e)=="symbol"?e:String(e)}function Pte(t,e){if(Rd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Rd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var i1={name:"VirtualScroller",extends:Ate,inheritAttrs:!1,emits:["update:numToleratedItems","scroll","scroll-index-change","lazy-load"],data:function(){var e=this.isBoth();return{first:e?{rows:0,cols:0}:0,last:e?{rows:0,cols:0}:0,page:e?{rows:0,cols:0}:0,numItemsInViewport:e?{rows:0,cols:0}:0,lastScrollPos:e?{top:0,left:0}:0,d_numToleratedItems:this.numToleratedItems,d_loading:this.loading,loaderArr:[],spacerStyle:{},contentStyle:{}}},element:null,content:null,lastScrollPos:null,scrollTimeout:null,resizeTimeout:null,defaultWidth:0,defaultHeight:0,defaultContentWidth:0,defaultContentHeight:0,isRangeChanged:!1,lazyLoadState:{},resizeListener:null,initialized:!1,watch:{numToleratedItems:function(e){this.d_numToleratedItems=e},loading:function(e,n){this.lazy&&e!==n&&e!==this.d_loading&&(this.d_loading=e)},items:function(e,n){(!n||n.length!==(e||[]).length)&&(this.init(),this.calculateAutoSize())},itemSize:function(){this.init(),this.calculateAutoSize()},orientation:function(){this.lastScrollPos=this.isBoth()?{top:0,left:0}:0},scrollHeight:function(){this.init(),this.calculateAutoSize()},scrollWidth:function(){this.init(),this.calculateAutoSize()}},mounted:function(){this.viewInit(),this.lastScrollPos=this.isBoth()?{top:0,left:0}:0,this.lazyLoadState=this.lazyLoadState||{}},updated:function(){!this.initialized&&this.viewInit()},unmounted:function(){this.unbindResizeListener(),this.initialized=!1},methods:{viewInit:function(){Ve.isVisible(this.element)&&(this.setContentEl(this.content),this.init(),this.calculateAutoSize(),this.bindResizeListener(),this.defaultWidth=Ve.getWidth(this.element),this.defaultHeight=Ve.getHeight(this.element),this.defaultContentWidth=Ve.getWidth(this.content),this.defaultContentHeight=Ve.getHeight(this.content),this.initialized=!0)},init:function(){this.disabled||(this.setSize(),this.calculateOptions(),this.setSpacerSize())},isVertical:function(){return this.orientation==="vertical"},isHorizontal:function(){return this.orientation==="horizontal"},isBoth:function(){return this.orientation==="both"},scrollTo:function(e){this.element&&this.element.scrollTo(e)},scrollToIndex:function(e){var n=this,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"auto",i=this.isBoth(),s=this.isHorizontal(),o=i?e.every(function(S){return S>-1}):e>-1;if(o){var a=this.first,l=this.element,u=l.scrollTop,c=u===void 0?0:u,h=l.scrollLeft,f=h===void 0?0:h,p=this.calculateNumItems(),g=p.numToleratedItems,w=this.getContentPosition(),I=this.itemSize,k=function(){var E=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,b=arguments.length>1?arguments[1]:void 0;return E<=b?0:E},P=function(E,b,v){return E*b+v},T=function(){var E=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,b=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return n.scrollTo({left:E,top:b,behavior:r})},_=i?{rows:0,cols:0}:0,L=!1,V=!1;i?(_={rows:k(e[0],g[0]),cols:k(e[1],g[1])},T(P(_.cols,I[1],w.left),P(_.rows,I[0],w.top)),V=this.lastScrollPos.top!==c||this.lastScrollPos.left!==f,L=_.rows!==a.rows||_.cols!==a.cols):(_=k(e,g),s?T(P(_,I,w.left),c):T(f,P(_,I,w.top)),V=this.lastScrollPos!==(s?f:c),L=_!==a),this.isRangeChanged=L,V&&(this.first=_)}},scrollInView:function(e,n){var r=this,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"auto";if(n){var s=this.isBoth(),o=this.isHorizontal(),a=s?e.every(function(I){return I>-1}):e>-1;if(a){var l=this.getRenderedRange(),u=l.first,c=l.viewport,h=function(){var k=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,P=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return r.scrollTo({left:k,top:P,behavior:i})},f=n==="to-start",p=n==="to-end";if(f){if(s)c.first.rows-u.rows>e[0]?h(c.first.cols*this.itemSize[1],(c.first.rows-1)*this.itemSize[0]):c.first.cols-u.cols>e[1]&&h((c.first.cols-1)*this.itemSize[1],c.first.rows*this.itemSize[0]);else if(c.first-u>e){var g=(c.first-1)*this.itemSize;o?h(g,0):h(0,g)}}else if(p){if(s)c.last.rows-u.rows<=e[0]+1?h(c.first.cols*this.itemSize[1],(c.first.rows+1)*this.itemSize[0]):c.last.cols-u.cols<=e[1]+1&&h((c.first.cols+1)*this.itemSize[1],c.first.rows*this.itemSize[0]);else if(c.last-u<=e+1){var w=(c.first+1)*this.itemSize;o?h(w,0):h(0,w)}}}}else this.scrollToIndex(e,i)},getRenderedRange:function(){var e=function(h,f){return Math.floor(h/(f||h))},n=this.first,r=0;if(this.element){var i=this.isBoth(),s=this.isHorizontal(),o=this.element,a=o.scrollTop,l=o.scrollLeft;if(i)n={rows:e(a,this.itemSize[0]),cols:e(l,this.itemSize[1])},r={rows:n.rows+this.numItemsInViewport.rows,cols:n.cols+this.numItemsInViewport.cols};else{var u=s?l:a;n=e(u,this.itemSize),r=n+this.numItemsInViewport}}return{first:this.first,last:this.last,viewport:{first:n,last:r}}},calculateNumItems:function(){var e=this.isBoth(),n=this.isHorizontal(),r=this.itemSize,i=this.getContentPosition(),s=this.element?this.element.offsetWidth-i.left:0,o=this.element?this.element.offsetHeight-i.top:0,a=function(f,p){return Math.ceil(f/(p||f))},l=function(f){return Math.ceil(f/2)},u=e?{rows:a(o,r[0]),cols:a(s,r[1])}:a(n?s:o,r),c=this.d_numToleratedItems||(e?[l(u.rows),l(u.cols)]:l(u));return{numItemsInViewport:u,numToleratedItems:c}},calculateOptions:function(){var e=this,n=this.isBoth(),r=this.first,i=this.calculateNumItems(),s=i.numItemsInViewport,o=i.numToleratedItems,a=function(c,h,f){var p=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;return e.getLast(c+h+(c<f?2:3)*f,p)},l=n?{rows:a(r.rows,s.rows,o[0]),cols:a(r.cols,s.cols,o[1],!0)}:a(r,s,o);this.last=l,this.numItemsInViewport=s,this.d_numToleratedItems=o,this.$emit("update:numToleratedItems",this.d_numToleratedItems),this.showLoader&&(this.loaderArr=n?Array.from({length:s.rows}).map(function(){return Array.from({length:s.cols})}):Array.from({length:s})),this.lazy&&Promise.resolve().then(function(){var u;e.lazyLoadState={first:e.step?n?{rows:0,cols:r.cols}:0:r,last:Math.min(e.step?e.step:l,((u=e.items)===null||u===void 0?void 0:u.length)||0)},e.$emit("lazy-load",e.lazyLoadState)})},calculateAutoSize:function(){var e=this;this.autoSize&&!this.d_loading&&Promise.resolve().then(function(){if(e.content){var n=e.isBoth(),r=e.isHorizontal(),i=e.isVertical();e.content.style.minHeight=e.content.style.minWidth="auto",e.content.style.position="relative",e.element.style.contain="none";var s=[Ve.getWidth(e.element),Ve.getHeight(e.element)],o=s[0],a=s[1];(n||r)&&(e.element.style.width=o<e.defaultWidth?o+"px":e.scrollWidth||e.defaultWidth+"px"),(n||i)&&(e.element.style.height=a<e.defaultHeight?a+"px":e.scrollHeight||e.defaultHeight+"px"),e.content.style.minHeight=e.content.style.minWidth="",e.content.style.position="",e.element.style.contain=""}})},getLast:function(){var e,n,r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,i=arguments.length>1?arguments[1]:void 0;return this.items?Math.min(i?((e=this.columns||this.items[0])===null||e===void 0?void 0:e.length)||0:((n=this.items)===null||n===void 0?void 0:n.length)||0,r):0},getContentPosition:function(){if(this.content){var e=getComputedStyle(this.content),n=parseFloat(e.paddingLeft)+Math.max(parseFloat(e.left)||0,0),r=parseFloat(e.paddingRight)+Math.max(parseFloat(e.right)||0,0),i=parseFloat(e.paddingTop)+Math.max(parseFloat(e.top)||0,0),s=parseFloat(e.paddingBottom)+Math.max(parseFloat(e.bottom)||0,0);return{left:n,right:r,top:i,bottom:s,x:n+r,y:i+s}}return{left:0,right:0,top:0,bottom:0,x:0,y:0}},setSize:function(){var e=this;if(this.element){var n=this.isBoth(),r=this.isHorizontal(),i=this.element.parentElement,s=this.scrollWidth||"".concat(this.element.offsetWidth||i.offsetWidth,"px"),o=this.scrollHeight||"".concat(this.element.offsetHeight||i.offsetHeight,"px"),a=function(u,c){return e.element.style[u]=c};n||r?(a("height",o),a("width",s)):a("height",o)}},setSpacerSize:function(){var e=this,n=this.items;if(n){var r=this.isBoth(),i=this.isHorizontal(),s=this.getContentPosition(),o=function(l,u,c){var h=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;return e.spacerStyle=tc(tc({},e.spacerStyle),Px({},"".concat(l),(u||[]).length*c+h+"px"))};r?(o("height",n,this.itemSize[0],s.y),o("width",this.columns||n[1],this.itemSize[1],s.x)):i?o("width",this.columns||n,this.itemSize,s.x):o("height",n,this.itemSize,s.y)}},setContentPosition:function(e){var n=this;if(this.content&&!this.appendOnly){var r=this.isBoth(),i=this.isHorizontal(),s=e?e.first:this.first,o=function(c,h){return c*h},a=function(){var c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return n.contentStyle=tc(tc({},n.contentStyle),{transform:"translate3d(".concat(c,"px, ").concat(h,"px, 0)")})};if(r)a(o(s.cols,this.itemSize[1]),o(s.rows,this.itemSize[0]));else{var l=o(s,this.itemSize);i?a(l,0):a(0,l)}}},onScrollPositionChange:function(e){var n=this,r=e.target,i=this.isBoth(),s=this.isHorizontal(),o=this.getContentPosition(),a=function(C,A){return C?C>A?C-A:C:0},l=function(C,A){return Math.floor(C/(A||C))},u=function(C,A,O,Y,U,j){return C<=U?U:j?O-Y-U:A+U-1},c=function(C,A,O,Y,U,j,q){return C<=j?0:Math.max(0,q?C<A?O:C-j:C>A?O:C-2*j)},h=function(C,A,O,Y,U,j){var q=A+Y+2*U;return C>=U&&(q+=U+1),n.getLast(q,j)},f=a(r.scrollTop,o.top),p=a(r.scrollLeft,o.left),g=i?{rows:0,cols:0}:0,w=this.last,I=!1,k=this.lastScrollPos;if(i){var P=this.lastScrollPos.top<=f,T=this.lastScrollPos.left<=p;if(!this.appendOnly||this.appendOnly&&(P||T)){var _={rows:l(f,this.itemSize[0]),cols:l(p,this.itemSize[1])},L={rows:u(_.rows,this.first.rows,this.last.rows,this.numItemsInViewport.rows,this.d_numToleratedItems[0],P),cols:u(_.cols,this.first.cols,this.last.cols,this.numItemsInViewport.cols,this.d_numToleratedItems[1],T)};g={rows:c(_.rows,L.rows,this.first.rows,this.last.rows,this.numItemsInViewport.rows,this.d_numToleratedItems[0],P),cols:c(_.cols,L.cols,this.first.cols,this.last.cols,this.numItemsInViewport.cols,this.d_numToleratedItems[1],T)},w={rows:h(_.rows,g.rows,this.last.rows,this.numItemsInViewport.rows,this.d_numToleratedItems[0]),cols:h(_.cols,g.cols,this.last.cols,this.numItemsInViewport.cols,this.d_numToleratedItems[1],!0)},I=g.rows!==this.first.rows||w.rows!==this.last.rows||g.cols!==this.first.cols||w.cols!==this.last.cols||this.isRangeChanged,k={top:f,left:p}}}else{var V=s?p:f,S=this.lastScrollPos<=V;if(!this.appendOnly||this.appendOnly&&S){var E=l(V,this.itemSize),b=u(E,this.first,this.last,this.numItemsInViewport,this.d_numToleratedItems,S);g=c(E,b,this.first,this.last,this.numItemsInViewport,this.d_numToleratedItems,S),w=h(E,g,this.last,this.numItemsInViewport,this.d_numToleratedItems),I=g!==this.first||w!==this.last||this.isRangeChanged,k=V}}return{first:g,last:w,isRangeChanged:I,scrollPos:k}},onScrollChange:function(e){var n=this.onScrollPositionChange(e),r=n.first,i=n.last,s=n.isRangeChanged,o=n.scrollPos;if(s){var a={first:r,last:i};if(this.setContentPosition(a),this.first=r,this.last=i,this.lastScrollPos=o,this.$emit("scroll-index-change",a),this.lazy&&this.isPageChanged(r)){var l,u,c={first:this.step?Math.min(this.getPageByFirst(r)*this.step,(((l=this.items)===null||l===void 0?void 0:l.length)||0)-this.step):r,last:Math.min(this.step?(this.getPageByFirst(r)+1)*this.step:i,((u=this.items)===null||u===void 0?void 0:u.length)||0)},h=this.lazyLoadState.first!==c.first||this.lazyLoadState.last!==c.last;h&&this.$emit("lazy-load",c),this.lazyLoadState=c}}},onScroll:function(e){var n=this;if(this.$emit("scroll",e),this.delay){if(this.scrollTimeout&&clearTimeout(this.scrollTimeout),this.isPageChanged()){if(!this.d_loading&&this.showLoader){var r=this.onScrollPositionChange(e),i=r.isRangeChanged,s=i||(this.step?this.isPageChanged():!1);s&&(this.d_loading=!0)}this.scrollTimeout=setTimeout(function(){n.onScrollChange(e),n.d_loading&&n.showLoader&&(!n.lazy||n.loading===void 0)&&(n.d_loading=!1,n.page=n.getPageByFirst())},this.delay)}}else this.onScrollChange(e)},onResize:function(){var e=this;this.resizeTimeout&&clearTimeout(this.resizeTimeout),this.resizeTimeout=setTimeout(function(){if(Ve.isVisible(e.element)){var n=e.isBoth(),r=e.isVertical(),i=e.isHorizontal(),s=[Ve.getWidth(e.element),Ve.getHeight(e.element)],o=s[0],a=s[1],l=o!==e.defaultWidth,u=a!==e.defaultHeight,c=n?l||u:i?l:r?u:!1;c&&(e.d_numToleratedItems=e.numToleratedItems,e.defaultWidth=o,e.defaultHeight=a,e.defaultContentWidth=Ve.getWidth(e.content),e.defaultContentHeight=Ve.getHeight(e.content),e.init())}},this.resizeDelay)},bindResizeListener:function(){this.resizeListener||(this.resizeListener=this.onResize.bind(this),window.addEventListener("resize",this.resizeListener),window.addEventListener("orientationchange",this.resizeListener))},unbindResizeListener:function(){this.resizeListener&&(window.removeEventListener("resize",this.resizeListener),window.removeEventListener("orientationchange",this.resizeListener),this.resizeListener=null)},getOptions:function(e){var n=(this.items||[]).length,r=this.isBoth()?this.first.rows+e:this.first+e;return{index:r,count:n,first:r===0,last:r===n-1,even:r%2===0,odd:r%2!==0}},getLoaderOptions:function(e,n){var r=this.loaderArr.length;return tc({index:e,count:r,first:e===0,last:e===r-1,even:e%2===0,odd:e%2!==0},n)},getPageByFirst:function(e){return Math.floor(((e??this.first)+this.d_numToleratedItems*4)/(this.step||1))},isPageChanged:function(e){return this.step?this.page!==this.getPageByFirst(e??this.first):!0},setContentEl:function(e){this.content=e||this.content||Ve.findSingle(this.element,'[data-pc-section="content"]')},elementRef:function(e){this.element=e},contentRef:function(e){this.content=e}},computed:{containerClass:function(){return["p-virtualscroller",this.class,{"p-virtualscroller-inline":this.inline,"p-virtualscroller-both p-both-scroll":this.isBoth(),"p-virtualscroller-horizontal p-horizontal-scroll":this.isHorizontal()}]},contentClass:function(){return["p-virtualscroller-content",{"p-virtualscroller-loading":this.d_loading}]},loaderClass:function(){return["p-virtualscroller-loader",{"p-component-overlay":!this.$slots.loader}]},loadedItems:function(){var e=this;return this.items&&!this.d_loading?this.isBoth()?this.items.slice(this.appendOnly?0:this.first.rows,this.last.rows).map(function(n){return e.columns?n:n.slice(e.appendOnly?0:e.first.cols,e.last.cols)}):this.isHorizontal()&&this.columns?this.items:this.items.slice(this.appendOnly?0:this.first,this.last):[]},loadedRows:function(){return this.d_loading?this.loaderDisabled?this.loaderArr:[]:this.loadedItems},loadedColumns:function(){if(this.columns){var e=this.isBoth(),n=this.isHorizontal();if(e||n)return this.d_loading&&this.loaderDisabled?e?this.loaderArr[0]:this.loaderArr:this.columns.slice(e?this.first.cols:this.first,e?this.last.cols:this.last)}return this.columns}},components:{SpinnerIcon:lh}},kte=["tabindex"];function Rte(t,e,n,r,i,s){var o=er("SpinnerIcon");return t.disabled?(M(),W(Oe,{key:1},[pe(t.$slots,"default"),pe(t.$slots,"content",{items:t.items,rows:t.items,columns:s.loadedColumns})],64)):(M(),W("div",ce({key:0,ref:s.elementRef,class:s.containerClass,tabindex:t.tabindex,style:t.style,onScroll:e[0]||(e[0]=function(){return s.onScroll&&s.onScroll.apply(s,arguments)})},t.ptmi("root")),[pe(t.$slots,"content",{styleClass:s.contentClass,items:s.loadedItems,getItemOptions:s.getOptions,loading:i.d_loading,getLoaderOptions:s.getLoaderOptions,itemSize:t.itemSize,rows:s.loadedRows,columns:s.loadedColumns,contentRef:s.contentRef,spacerStyle:i.spacerStyle,contentStyle:i.contentStyle,vertical:s.isVertical(),horizontal:s.isHorizontal(),both:s.isBoth()},function(){return[K("div",ce({ref:s.contentRef,class:s.contentClass,style:i.contentStyle},t.ptm("content")),[(M(!0),W(Oe,null,ft(s.loadedItems,function(a,l){return pe(t.$slots,"item",{key:l,item:a,options:s.getOptions(l)})}),128))],16)]}),t.showSpacer?(M(),W("div",ce({key:0,class:"p-virtualscroller-spacer",style:i.spacerStyle},t.ptm("spacer")),null,16)):ne("",!0),!t.loaderDisabled&&t.showLoader&&i.d_loading?(M(),W("div",ce({key:1,class:s.loaderClass},t.ptm("loader")),[t.$slots&&t.$slots.loader?(M(!0),W(Oe,{key:0},ft(i.loaderArr,function(a,l){return pe(t.$slots,"loader",{key:l,options:s.getLoaderOptions(l,s.isBoth()&&{numCols:t.d_numItemsInViewport.cols})})}),128)):ne("",!0),pe(t.$slots,"loadingicon",{},function(){return[Me(o,ce({spin:"",class:"p-virtualscroller-loading-icon"},t.ptm("loadingIcon")),null,16)]})],16)):ne("",!0)],16,kte))}i1.render=Rte;var Dte={root:function(e){var n=e.instance,r=e.props,i=e.state;return["p-dropdown p-component p-inputwrapper",{"p-disabled":r.disabled,"p-invalid":r.invalid,"p-variant-filled":r.variant?r.variant==="filled":n.$primevue.config.inputStyle==="filled","p-dropdown-clearable":r.showClear,"p-focus":i.focused,"p-inputwrapper-filled":n.hasSelectedOption,"p-inputwrapper-focus":i.focused||i.overlayVisible,"p-overlay-open":i.overlayVisible}]},input:function(e){var n,r=e.instance,i=e.props;return["p-dropdown-label p-inputtext",{"p-placeholder":!i.editable&&r.label===i.placeholder,"p-dropdown-label-empty":!i.editable&&!r.$slots.value&&(r.label==="p-emptylabel"||((n=r.label)===null||n===void 0?void 0:n.length)===0)}]},clearIcon:"p-dropdown-clear-icon",trigger:"p-dropdown-trigger",loadingicon:"p-dropdown-trigger-icon",dropdownIcon:"p-dropdown-trigger-icon",panel:function(e){e.props;var n=e.instance;return["p-dropdown-panel p-component",{"p-ripple-disabled":n.$primevue.config.ripple===!1}]},header:"p-dropdown-header",filterContainer:"p-dropdown-filter-container",filterInput:function(e){var n=e.props,r=e.instance;return["p-dropdown-filter p-inputtext p-component",{"p-variant-filled":n.variant?n.variant==="filled":r.$primevue.config.inputStyle==="filled"}]},filterIcon:"p-dropdown-filter-icon",wrapper:"p-dropdown-items-wrapper",list:"p-dropdown-items",itemGroup:"p-dropdown-item-group",itemGroupLabel:"p-dropdown-item-group-label",item:function(e){var n=e.instance,r=e.props,i=e.state,s=e.option,o=e.focusedOption;return["p-dropdown-item",{"p-highlight":n.isSelected(s)&&r.highlightOnSelect,"p-focus":i.focusedOptionIndex===o,"p-disabled":n.isOptionDisabled(s)}]},itemLabel:"p-dropdown-item-label",checkIcon:"p-dropdown-check-icon",blankIcon:"p-dropdown-blank-icon",emptyMessage:"p-dropdown-empty-message"},xte=Lr.extend({name:"dropdown",classes:Dte}),Nte={name:"BaseDropdown",extends:hs,props:{modelValue:null,options:Array,optionLabel:[String,Function],optionValue:[String,Function],optionDisabled:[String,Function],optionGroupLabel:[String,Function],optionGroupChildren:[String,Function],scrollHeight:{type:String,default:"200px"},filter:Boolean,filterPlaceholder:String,filterLocale:String,filterMatchMode:{type:String,default:"contains"},filterFields:{type:Array,default:null},editable:Boolean,placeholder:{type:String,default:null},variant:{type:String,default:null},invalid:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},dataKey:null,showClear:{type:Boolean,default:!1},inputId:{type:String,default:null},inputClass:{type:[String,Object],default:null},inputStyle:{type:Object,default:null},inputProps:{type:null,default:null},panelClass:{type:[String,Object],default:null},panelStyle:{type:Object,default:null},panelProps:{type:null,default:null},filterInputProps:{type:null,default:null},clearIconProps:{type:null,default:null},appendTo:{type:[String,Object],default:"body"},loading:{type:Boolean,default:!1},clearIcon:{type:String,default:void 0},dropdownIcon:{type:String,default:void 0},filterIcon:{type:String,default:void 0},loadingIcon:{type:String,default:void 0},resetFilterOnHide:{type:Boolean,default:!1},resetFilterOnClear:{type:Boolean,default:!1},virtualScrollerOptions:{type:Object,default:null},autoOptionFocus:{type:Boolean,default:!1},autoFilterFocus:{type:Boolean,default:!1},selectOnFocus:{type:Boolean,default:!1},focusOnHover:{type:Boolean,default:!0},highlightOnSelect:{type:Boolean,default:!0},checkmark:{type:Boolean,default:!1},filterMessage:{type:String,default:null},selectionMessage:{type:String,default:null},emptySelectionMessage:{type:String,default:null},emptyFilterMessage:{type:String,default:null},emptyMessage:{type:String,default:null},tabindex:{type:Number,default:0},ariaLabel:{type:String,default:null},ariaLabelledby:{type:String,default:null}},style:xte,provide:function(){return{$parentInstance:this}}};function Dd(t){"@babel/helpers - typeof";return Dd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Dd(t)}function Mte(t){return $te(t)||Fte(t)||Vte(t)||Lte()}function Lte(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Vte(t,e){if(t){if(typeof t=="string")return c_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return c_(t,e)}}function Fte(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function $te(t){if(Array.isArray(t))return c_(t)}function c_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function FS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function $S(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?FS(Object(n),!0).forEach(function(r){kx(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):FS(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function kx(t,e,n){return e=Ute(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ute(t){var e=Bte(t,"string");return Dd(e)=="symbol"?e:String(e)}function Bte(t,e){if(Dd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Dd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Rx={name:"Dropdown",extends:Nte,inheritAttrs:!1,emits:["update:modelValue","change","focus","blur","before-show","before-hide","show","hide","filter"],outsideClickListener:null,scrollHandler:null,resizeListener:null,labelClickListener:null,overlay:null,list:null,virtualScroller:null,searchTimeout:null,searchValue:null,isModelValueChanged:!1,data:function(){return{id:this.$attrs.id,clicked:!1,focused:!1,focusedOptionIndex:-1,filterValue:null,overlayVisible:!1}},watch:{"$attrs.id":function(e){this.id=e||Sp()},modelValue:function(){this.isModelValueChanged=!0},options:function(){this.autoUpdateModel()}},mounted:function(){this.id=this.id||Sp(),this.autoUpdateModel(),this.bindLabelClickListener()},updated:function(){this.overlayVisible&&this.isModelValueChanged&&this.scrollInView(this.findSelectedOptionIndex()),this.isModelValueChanged=!1},beforeUnmount:function(){this.unbindOutsideClickListener(),this.unbindResizeListener(),this.unbindLabelClickListener(),this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null),this.overlay&&(Fl.clear(this.overlay),this.overlay=null)},methods:{getOptionIndex:function(e,n){return this.virtualScrollerDisabled?e:n&&n(e).index},getOptionLabel:function(e){return this.optionLabel?Ee.resolveFieldData(e,this.optionLabel):e},getOptionValue:function(e){return this.optionValue?Ee.resolveFieldData(e,this.optionValue):e},getOptionRenderKey:function(e,n){return(this.dataKey?Ee.resolveFieldData(e,this.dataKey):this.getOptionLabel(e))+"_"+n},getPTItemOptions:function(e,n,r,i){return this.ptm(i,{context:{option:e,index:r,selected:this.isSelected(e),focused:this.focusedOptionIndex===this.getOptionIndex(r,n),disabled:this.isOptionDisabled(e)}})},isOptionDisabled:function(e){return this.optionDisabled?Ee.resolveFieldData(e,this.optionDisabled):!1},isOptionGroup:function(e){return this.optionGroupLabel&&e.optionGroup&&e.group},getOptionGroupLabel:function(e){return Ee.resolveFieldData(e,this.optionGroupLabel)},getOptionGroupChildren:function(e){return Ee.resolveFieldData(e,this.optionGroupChildren)},getAriaPosInset:function(e){var n=this;return(this.optionGroupLabel?e-this.visibleOptions.slice(0,e).filter(function(r){return n.isOptionGroup(r)}).length:e)+1},show:function(e){this.$emit("before-show"),this.overlayVisible=!0,this.focusedOptionIndex=this.focusedOptionIndex!==-1?this.focusedOptionIndex:this.autoOptionFocus?this.findFirstFocusedOptionIndex():this.editable?-1:this.findSelectedOptionIndex(),e&&Ve.focus(this.$refs.focusInput)},hide:function(e){var n=this,r=function(){n.$emit("before-hide"),n.overlayVisible=!1,n.clicked=!1,n.focusedOptionIndex=-1,n.searchValue="",n.resetFilterOnHide&&(n.filterValue=null),e&&Ve.focus(n.$refs.focusInput)};setTimeout(function(){r()},0)},onFocus:function(e){this.disabled||(this.focused=!0,this.overlayVisible&&(this.focusedOptionIndex=this.focusedOptionIndex!==-1?this.focusedOptionIndex:this.autoOptionFocus?this.findFirstFocusedOptionIndex():this.editable?-1:this.findSelectedOptionIndex(),this.scrollInView(this.focusedOptionIndex)),this.$emit("focus",e))},onBlur:function(e){this.focused=!1,this.focusedOptionIndex=-1,this.searchValue="",this.$emit("blur",e)},onKeyDown:function(e){if(this.disabled||Ve.isAndroid()){e.preventDefault();return}var n=e.metaKey||e.ctrlKey;switch(e.code){case"ArrowDown":this.onArrowDownKey(e);break;case"ArrowUp":this.onArrowUpKey(e,this.editable);break;case"ArrowLeft":case"ArrowRight":this.onArrowLeftKey(e,this.editable);break;case"Home":this.onHomeKey(e,this.editable);break;case"End":this.onEndKey(e,this.editable);break;case"PageDown":this.onPageDownKey(e);break;case"PageUp":this.onPageUpKey(e);break;case"Space":this.onSpaceKey(e,this.editable);break;case"Enter":case"NumpadEnter":this.onEnterKey(e);break;case"Escape":this.onEscapeKey(e);break;case"Tab":this.onTabKey(e);break;case"Backspace":this.onBackspaceKey(e,this.editable);break;case"ShiftLeft":case"ShiftRight":break;default:!n&&Ee.isPrintableCharacter(e.key)&&(!this.overlayVisible&&this.show(),!this.editable&&this.searchOptions(e,e.key));break}this.clicked=!1},onEditableInput:function(e){var n=e.target.value;this.searchValue="";var r=this.searchOptions(e,n);!r&&(this.focusedOptionIndex=-1),this.updateModel(e,n),!this.overlayVisible&&Ee.isNotEmpty(n)&&this.show()},onContainerClick:function(e){this.disabled||this.loading||e.target.tagName==="INPUT"||e.target.getAttribute("data-pc-section")==="clearicon"||e.target.closest('[data-pc-section="clearicon"]')||((!this.overlay||!this.overlay.contains(e.target))&&(this.overlayVisible?this.hide(!0):this.show(!0)),this.clicked=!0)},onClearClick:function(e){this.updateModel(e,null),this.resetFilterOnClear&&(this.filterValue=null)},onFirstHiddenFocus:function(e){var n=e.relatedTarget===this.$refs.focusInput?Ve.getFirstFocusableElement(this.overlay,':not([data-p-hidden-focusable="true"])'):this.$refs.focusInput;Ve.focus(n)},onLastHiddenFocus:function(e){var n=e.relatedTarget===this.$refs.focusInput?Ve.getLastFocusableElement(this.overlay,':not([data-p-hidden-focusable="true"])'):this.$refs.focusInput;Ve.focus(n)},onOptionSelect:function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,i=this.getOptionValue(n);this.updateModel(e,i),r&&this.hide(!0)},onOptionMouseMove:function(e,n){this.focusOnHover&&this.changeFocusedOptionIndex(e,n)},onFilterChange:function(e){var n=e.target.value;this.filterValue=n,this.focusedOptionIndex=-1,this.$emit("filter",{originalEvent:e,value:n}),!this.virtualScrollerDisabled&&this.virtualScroller.scrollToIndex(0)},onFilterKeyDown:function(e){switch(e.code){case"ArrowDown":this.onArrowDownKey(e);break;case"ArrowUp":this.onArrowUpKey(e,!0);break;case"ArrowLeft":case"ArrowRight":this.onArrowLeftKey(e,!0);break;case"Home":this.onHomeKey(e,!0);break;case"End":this.onEndKey(e,!0);break;case"Enter":case"NumpadEnter":this.onEnterKey(e);break;case"Escape":this.onEscapeKey(e);break;case"Tab":this.onTabKey(e,!0);break}},onFilterBlur:function(){this.focusedOptionIndex=-1},onFilterUpdated:function(){this.overlayVisible&&this.alignOverlay()},onOverlayClick:function(e){Ox.emit("overlay-click",{originalEvent:e,target:this.$el})},onOverlayKeyDown:function(e){switch(e.code){case"Escape":this.onEscapeKey(e);break}},onArrowDownKey:function(e){if(!this.overlayVisible)this.show(),this.editable&&this.changeFocusedOptionIndex(e,this.findSelectedOptionIndex());else{var n=this.focusedOptionIndex!==-1?this.findNextOptionIndex(this.focusedOptionIndex):this.clicked?this.findFirstOptionIndex():this.findFirstFocusedOptionIndex();this.changeFocusedOptionIndex(e,n)}e.preventDefault()},onArrowUpKey:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(e.altKey&&!n)this.focusedOptionIndex!==-1&&this.onOptionSelect(e,this.visibleOptions[this.focusedOptionIndex]),this.overlayVisible&&this.hide(),e.preventDefault();else{var r=this.focusedOptionIndex!==-1?this.findPrevOptionIndex(this.focusedOptionIndex):this.clicked?this.findLastOptionIndex():this.findLastFocusedOptionIndex();this.changeFocusedOptionIndex(e,r),!this.overlayVisible&&this.show(),e.preventDefault()}},onArrowLeftKey:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;n&&(this.focusedOptionIndex=-1)},onHomeKey:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(n){var r=e.currentTarget;e.shiftKey?r.setSelectionRange(0,e.target.selectionStart):(r.setSelectionRange(0,0),this.focusedOptionIndex=-1)}else this.changeFocusedOptionIndex(e,this.findFirstOptionIndex()),!this.overlayVisible&&this.show();e.preventDefault()},onEndKey:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(n){var r=e.currentTarget;if(e.shiftKey)r.setSelectionRange(e.target.selectionStart,r.value.length);else{var i=r.value.length;r.setSelectionRange(i,i),this.focusedOptionIndex=-1}}else this.changeFocusedOptionIndex(e,this.findLastOptionIndex()),!this.overlayVisible&&this.show();e.preventDefault()},onPageUpKey:function(e){this.scrollInView(0),e.preventDefault()},onPageDownKey:function(e){this.scrollInView(this.visibleOptions.length-1),e.preventDefault()},onEnterKey:function(e){this.overlayVisible?(this.focusedOptionIndex!==-1&&this.onOptionSelect(e,this.visibleOptions[this.focusedOptionIndex]),this.hide()):(this.focusedOptionIndex=-1,this.onArrowDownKey(e)),e.preventDefault()},onSpaceKey:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;!n&&this.onEnterKey(e)},onEscapeKey:function(e){this.overlayVisible&&this.hide(!0),e.preventDefault(),e.stopPropagation()},onTabKey:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;n||(this.overlayVisible&&this.hasFocusableElements()?(Ve.focus(this.$refs.firstHiddenFocusableElementOnOverlay),e.preventDefault()):(this.focusedOptionIndex!==-1&&this.onOptionSelect(e,this.visibleOptions[this.focusedOptionIndex]),this.overlayVisible&&this.hide(this.filter)))},onBackspaceKey:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;n&&!this.overlayVisible&&this.show()},onOverlayEnter:function(e){Fl.set("overlay",e,this.$primevue.config.zIndex.overlay),Ve.addStyles(e,{position:"absolute",top:"0",left:"0"}),this.alignOverlay(),this.scrollInView(),this.autoFilterFocus&&Ve.focus(this.$refs.filterInput)},onOverlayAfterEnter:function(){this.bindOutsideClickListener(),this.bindScrollListener(),this.bindResizeListener(),this.$emit("show")},onOverlayLeave:function(){this.unbindOutsideClickListener(),this.unbindScrollListener(),this.unbindResizeListener(),this.$emit("hide"),this.overlay=null},onOverlayAfterLeave:function(e){Fl.clear(e)},alignOverlay:function(){this.appendTo==="self"?Ve.relativePosition(this.overlay,this.$el):(this.overlay.style.minWidth=Ve.getOuterWidth(this.$el)+"px",Ve.absolutePosition(this.overlay,this.$el))},bindOutsideClickListener:function(){var e=this;this.outsideClickListener||(this.outsideClickListener=function(n){e.overlayVisible&&e.overlay&&!e.$el.contains(n.target)&&!e.overlay.contains(n.target)&&e.hide()},document.addEventListener("click",this.outsideClickListener))},unbindOutsideClickListener:function(){this.outsideClickListener&&(document.removeEventListener("click",this.outsideClickListener),this.outsideClickListener=null)},bindScrollListener:function(){var e=this;this.scrollHandler||(this.scrollHandler=new PD(this.$refs.container,function(){e.overlayVisible&&e.hide()})),this.scrollHandler.bindScrollListener()},unbindScrollListener:function(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()},bindResizeListener:function(){var e=this;this.resizeListener||(this.resizeListener=function(){e.overlayVisible&&!Ve.isTouchDevice()&&e.hide()},window.addEventListener("resize",this.resizeListener))},unbindResizeListener:function(){this.resizeListener&&(window.removeEventListener("resize",this.resizeListener),this.resizeListener=null)},bindLabelClickListener:function(){var e=this;if(!this.editable&&!this.labelClickListener){var n=document.querySelector('label[for="'.concat(this.inputId,'"]'));n&&Ve.isVisible(n)&&(this.labelClickListener=function(){Ve.focus(e.$refs.focusInput)},n.addEventListener("click",this.labelClickListener))}},unbindLabelClickListener:function(){if(this.labelClickListener){var e=document.querySelector('label[for="'.concat(this.inputId,'"]'));e&&Ve.isVisible(e)&&e.removeEventListener("click",this.labelClickListener)}},hasFocusableElements:function(){return Ve.getFocusableElements(this.overlay,':not([data-p-hidden-focusable="true"])').length>0},isOptionMatched:function(e){var n;return this.isValidOption(e)&&((n=this.getOptionLabel(e))===null||n===void 0?void 0:n.toLocaleLowerCase(this.filterLocale).startsWith(this.searchValue.toLocaleLowerCase(this.filterLocale)))},isValidOption:function(e){return Ee.isNotEmpty(e)&&!(this.isOptionDisabled(e)||this.isOptionGroup(e))},isValidSelectedOption:function(e){return this.isValidOption(e)&&this.isSelected(e)},isSelected:function(e){return this.isValidOption(e)&&Ee.equals(this.modelValue,this.getOptionValue(e),this.equalityKey)},findFirstOptionIndex:function(){var e=this;return this.visibleOptions.findIndex(function(n){return e.isValidOption(n)})},findLastOptionIndex:function(){var e=this;return Ee.findLastIndex(this.visibleOptions,function(n){return e.isValidOption(n)})},findNextOptionIndex:function(e){var n=this,r=e<this.visibleOptions.length-1?this.visibleOptions.slice(e+1).findIndex(function(i){return n.isValidOption(i)}):-1;return r>-1?r+e+1:e},findPrevOptionIndex:function(e){var n=this,r=e>0?Ee.findLastIndex(this.visibleOptions.slice(0,e),function(i){return n.isValidOption(i)}):-1;return r>-1?r:e},findSelectedOptionIndex:function(){var e=this;return this.hasSelectedOption?this.visibleOptions.findIndex(function(n){return e.isValidSelectedOption(n)}):-1},findFirstFocusedOptionIndex:function(){var e=this.findSelectedOptionIndex();return e<0?this.findFirstOptionIndex():e},findLastFocusedOptionIndex:function(){var e=this.findSelectedOptionIndex();return e<0?this.findLastOptionIndex():e},searchOptions:function(e,n){var r=this;this.searchValue=(this.searchValue||"")+n;var i=-1,s=!1;return Ee.isNotEmpty(this.searchValue)&&(this.focusedOptionIndex!==-1?(i=this.visibleOptions.slice(this.focusedOptionIndex).findIndex(function(o){return r.isOptionMatched(o)}),i=i===-1?this.visibleOptions.slice(0,this.focusedOptionIndex).findIndex(function(o){return r.isOptionMatched(o)}):i+this.focusedOptionIndex):i=this.visibleOptions.findIndex(function(o){return r.isOptionMatched(o)}),i!==-1&&(s=!0),i===-1&&this.focusedOptionIndex===-1&&(i=this.findFirstFocusedOptionIndex()),i!==-1&&this.changeFocusedOptionIndex(e,i)),this.searchTimeout&&clearTimeout(this.searchTimeout),this.searchTimeout=setTimeout(function(){r.searchValue="",r.searchTimeout=null},500),s},changeFocusedOptionIndex:function(e,n){this.focusedOptionIndex!==n&&(this.focusedOptionIndex=n,this.scrollInView(),this.selectOnFocus&&this.onOptionSelect(e,this.visibleOptions[n],!1))},scrollInView:function(){var e=this,n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:-1;this.$nextTick(function(){var r=n!==-1?"".concat(e.id,"_").concat(n):e.focusedOptionId,i=Ve.findSingle(e.list,'li[id="'.concat(r,'"]'));i?i.scrollIntoView&&i.scrollIntoView({block:"nearest"}):e.virtualScrollerDisabled||e.virtualScroller&&e.virtualScroller.scrollToIndex(n!==-1?n:e.focusedOptionIndex)})},autoUpdateModel:function(){this.selectOnFocus&&this.autoOptionFocus&&!this.hasSelectedOption&&(this.focusedOptionIndex=this.findFirstFocusedOptionIndex(),this.onOptionSelect(null,this.visibleOptions[this.focusedOptionIndex],!1))},updateModel:function(e,n){this.$emit("update:modelValue",n),this.$emit("change",{originalEvent:e,value:n})},flatOptions:function(e){var n=this;return(e||[]).reduce(function(r,i,s){r.push({optionGroup:i,group:!0,index:s});var o=n.getOptionGroupChildren(i);return o&&o.forEach(function(a){return r.push(a)}),r},[])},overlayRef:function(e){this.overlay=e},listRef:function(e,n){this.list=e,n&&n(e)},virtualScrollerRef:function(e){this.virtualScroller=e}},computed:{visibleOptions:function(){var e=this,n=this.optionGroupLabel?this.flatOptions(this.options):this.options||[];if(this.filterValue){var r=Cx.filter(n,this.searchFields,this.filterValue,this.filterMatchMode,this.filterLocale);if(this.optionGroupLabel){var i=this.options||[],s=[];return i.forEach(function(o){var a=e.getOptionGroupChildren(o),l=a.filter(function(u){return r.includes(u)});l.length>0&&s.push($S($S({},o),{},kx({},typeof e.optionGroupChildren=="string"?e.optionGroupChildren:"items",Mte(l))))}),this.flatOptions(s)}return r}return n},hasSelectedOption:function(){return Ee.isNotEmpty(this.modelValue)},label:function(){var e=this.findSelectedOptionIndex();return e!==-1?this.getOptionLabel(this.visibleOptions[e]):this.placeholder||"p-emptylabel"},editableInputValue:function(){var e=this.findSelectedOptionIndex();return e!==-1?this.getOptionLabel(this.visibleOptions[e]):this.modelValue||""},equalityKey:function(){return this.optionValue?null:this.dataKey},searchFields:function(){return this.filterFields||[this.optionLabel]},filterResultMessageText:function(){return Ee.isNotEmpty(this.visibleOptions)?this.filterMessageText.replaceAll("{0}",this.visibleOptions.length):this.emptyFilterMessageText},filterMessageText:function(){return this.filterMessage||this.$primevue.config.locale.searchMessage||""},emptyFilterMessageText:function(){return this.emptyFilterMessage||this.$primevue.config.locale.emptySearchMessage||this.$primevue.config.locale.emptyFilterMessage||""},emptyMessageText:function(){return this.emptyMessage||this.$primevue.config.locale.emptyMessage||""},selectionMessageText:function(){return this.selectionMessage||this.$primevue.config.locale.selectionMessage||""},emptySelectionMessageText:function(){return this.emptySelectionMessage||this.$primevue.config.locale.emptySelectionMessage||""},selectedMessageText:function(){return this.hasSelectedOption?this.selectionMessageText.replaceAll("{0}","1"):this.emptySelectionMessageText},listAriaLabel:function(){return this.$primevue.config.locale.aria?this.$primevue.config.locale.aria.listLabel:void 0},focusedOptionId:function(){return this.focusedOptionIndex!==-1?"".concat(this.id,"_").concat(this.focusedOptionIndex):null},ariaSetSize:function(){var e=this;return this.visibleOptions.filter(function(n){return!e.isOptionGroup(n)}).length},virtualScrollerDisabled:function(){return!this.virtualScrollerOptions}},directives:{ripple:kb},components:{VirtualScroller:i1,Portal:r1,TimesIcon:n1,ChevronDownIcon:e1,SpinnerIcon:lh,SearchIcon:t1,CheckIcon:qm,BlankIcon:Ax}};function xd(t){"@babel/helpers - typeof";return xd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xd(t)}function US(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ji(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?US(Object(n),!0).forEach(function(r){Hte(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):US(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Hte(t,e,n){return e=jte(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function jte(t){var e=Wte(t,"string");return xd(e)=="symbol"?e:String(e)}function Wte(t,e){if(xd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(xd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var qte=["id"],zte=["id","value","placeholder","tabindex","disabled","aria-label","aria-labelledby","aria-expanded","aria-controls","aria-activedescendant","aria-invalid"],Kte=["id","tabindex","aria-label","aria-labelledby","aria-expanded","aria-controls","aria-activedescendant","aria-disabled"],Yte=["value","placeholder","aria-owns","aria-activedescendant"],Gte=["id","aria-label"],Qte=["id"],Xte=["id","aria-label","aria-selected","aria-disabled","aria-setsize","aria-posinset","onClick","onMousemove","data-p-highlight","data-p-focused","data-p-disabled"];function Jte(t,e,n,r,i,s){var o=er("SpinnerIcon"),a=er("CheckIcon"),l=er("BlankIcon"),u=er("VirtualScroller"),c=er("Portal"),h=V_("ripple");return M(),W("div",ce({ref:"container",id:i.id,class:t.cx("root"),onClick:e[16]||(e[16]=function(){return s.onContainerClick&&s.onContainerClick.apply(s,arguments)})},t.ptmi("root")),[t.editable?(M(),W("input",ce({key:0,ref:"focusInput",id:t.inputId,type:"text",class:[t.cx("input"),t.inputClass],style:t.inputStyle,value:s.editableInputValue,placeholder:t.placeholder,tabindex:t.disabled?-1:t.tabindex,disabled:t.disabled,autocomplete:"off",role:"combobox","aria-label":t.ariaLabel,"aria-labelledby":t.ariaLabelledby,"aria-haspopup":"listbox","aria-expanded":i.overlayVisible,"aria-controls":i.id+"_list","aria-activedescendant":i.focused?s.focusedOptionId:void 0,"aria-invalid":t.invalid||void 0,onFocus:e[0]||(e[0]=function(){return s.onFocus&&s.onFocus.apply(s,arguments)}),onBlur:e[1]||(e[1]=function(){return s.onBlur&&s.onBlur.apply(s,arguments)}),onKeydown:e[2]||(e[2]=function(){return s.onKeyDown&&s.onKeyDown.apply(s,arguments)}),onInput:e[3]||(e[3]=function(){return s.onEditableInput&&s.onEditableInput.apply(s,arguments)})},ji(ji({},t.inputProps),t.ptm("input"))),null,16,zte)):(M(),W("span",ce({key:1,ref:"focusInput",id:t.inputId,class:[t.cx("input"),t.inputClass],style:t.inputStyle,tabindex:t.disabled?-1:t.tabindex,role:"combobox","aria-label":t.ariaLabel||(s.label==="p-emptylabel"?void 0:s.label),"aria-labelledby":t.ariaLabelledby,"aria-haspopup":"listbox","aria-expanded":i.overlayVisible,"aria-controls":i.id+"_list","aria-activedescendant":i.focused?s.focusedOptionId:void 0,"aria-disabled":t.disabled,onFocus:e[4]||(e[4]=function(){return s.onFocus&&s.onFocus.apply(s,arguments)}),onBlur:e[5]||(e[5]=function(){return s.onBlur&&s.onBlur.apply(s,arguments)}),onKeydown:e[6]||(e[6]=function(){return s.onKeyDown&&s.onKeyDown.apply(s,arguments)})},ji(ji({},t.inputProps),t.ptm("input"))),[pe(t.$slots,"value",{value:t.modelValue,placeholder:t.placeholder},function(){return[tt(Ue(s.label==="p-emptylabel"?" ":s.label||"empty"),1)]})],16,Kte)),t.showClear&&t.modelValue!=null?pe(t.$slots,"clearicon",{key:2,class:He(t.cx("clearIcon")),onClick:s.onClearClick,clearCallback:s.onClearClick},function(){return[(M(),we(pr(t.clearIcon?"i":"TimesIcon"),ce({ref:"clearIcon",class:[t.cx("clearIcon"),t.clearIcon],onClick:s.onClearClick},ji(ji({},t.clearIconProps),t.ptm("clearIcon")),{"data-pc-section":"clearicon"}),null,16,["class","onClick"]))]}):ne("",!0),K("div",ce({class:t.cx("trigger")},t.ptm("trigger")),[t.loading?pe(t.$slots,"loadingicon",{key:0,class:He(t.cx("loadingIcon"))},function(){return[t.loadingIcon?(M(),W("span",ce({key:0,class:[t.cx("loadingIcon"),"pi-spin",t.loadingIcon],"aria-hidden":"true"},t.ptm("loadingIcon")),null,16)):(M(),we(o,ce({key:1,class:t.cx("loadingIcon"),spin:"","aria-hidden":"true"},t.ptm("loadingIcon")),null,16,["class"]))]}):pe(t.$slots,"dropdownicon",{key:1,class:He(t.cx("dropdownIcon"))},function(){return[(M(),we(pr(t.dropdownIcon?"span":"ChevronDownIcon"),ce({class:[t.cx("dropdownIcon"),t.dropdownIcon],"aria-hidden":"true"},t.ptm("dropdownIcon")),null,16,["class"]))]})],16),Me(c,{appendTo:t.appendTo},{default:ke(function(){return[Me($o,ce({name:"p-connected-overlay",onEnter:s.onOverlayEnter,onAfterEnter:s.onOverlayAfterEnter,onLeave:s.onOverlayLeave,onAfterLeave:s.onOverlayAfterLeave},t.ptm("transition")),{default:ke(function(){return[i.overlayVisible?(M(),W("div",ce({key:0,ref:s.overlayRef,class:[t.cx("panel"),t.panelClass],style:t.panelStyle,onClick:e[14]||(e[14]=function(){return s.onOverlayClick&&s.onOverlayClick.apply(s,arguments)}),onKeydown:e[15]||(e[15]=function(){return s.onOverlayKeyDown&&s.onOverlayKeyDown.apply(s,arguments)})},ji(ji({},t.panelProps),t.ptm("panel"))),[K("span",ce({ref:"firstHiddenFocusableElementOnOverlay",role:"presentation","aria-hidden":"true",class:"p-hidden-accessible p-hidden-focusable",tabindex:0,onFocus:e[7]||(e[7]=function(){return s.onFirstHiddenFocus&&s.onFirstHiddenFocus.apply(s,arguments)})},t.ptm("hiddenFirstFocusableEl"),{"data-p-hidden-accessible":!0,"data-p-hidden-focusable":!0}),null,16),pe(t.$slots,"header",{value:t.modelValue,options:s.visibleOptions}),t.filter?(M(),W("div",ce({key:0,class:t.cx("header")},t.ptm("header")),[K("div",ce({class:t.cx("filterContainer")},t.ptm("filterContainer")),[K("input",ce({ref:"filterInput",type:"text",value:i.filterValue,onVnodeMounted:e[8]||(e[8]=function(){return s.onFilterUpdated&&s.onFilterUpdated.apply(s,arguments)}),onVnodeUpdated:e[9]||(e[9]=function(){return s.onFilterUpdated&&s.onFilterUpdated.apply(s,arguments)}),class:t.cx("filterInput"),placeholder:t.filterPlaceholder,role:"searchbox",autocomplete:"off","aria-owns":i.id+"_list","aria-activedescendant":s.focusedOptionId,onKeydown:e[10]||(e[10]=function(){return s.onFilterKeyDown&&s.onFilterKeyDown.apply(s,arguments)}),onBlur:e[11]||(e[11]=function(){return s.onFilterBlur&&s.onFilterBlur.apply(s,arguments)}),onInput:e[12]||(e[12]=function(){return s.onFilterChange&&s.onFilterChange.apply(s,arguments)})},ji(ji({},t.filterInputProps),t.ptm("filterInput"))),null,16,Yte),pe(t.$slots,"filtericon",{class:He(t.cx("filterIcon"))},function(){return[(M(),we(pr(t.filterIcon?"span":"SearchIcon"),ce({class:[t.cx("filterIcon"),t.filterIcon]},t.ptm("filterIcon")),null,16,["class"]))]})],16),K("span",ce({role:"status","aria-live":"polite",class:"p-hidden-accessible"},t.ptm("hiddenFilterResult"),{"data-p-hidden-accessible":!0}),Ue(s.filterResultMessageText),17)],16)):ne("",!0),K("div",ce({class:t.cx("wrapper"),style:{"max-height":s.virtualScrollerDisabled?t.scrollHeight:""}},t.ptm("wrapper")),[Me(u,ce({ref:s.virtualScrollerRef},t.virtualScrollerOptions,{items:s.visibleOptions,style:{height:t.scrollHeight},tabindex:-1,disabled:s.virtualScrollerDisabled,pt:t.ptm("virtualScroller")}),sr({content:ke(function(f){var p=f.styleClass,g=f.contentRef,w=f.items,I=f.getItemOptions,k=f.contentStyle,P=f.itemSize;return[K("ul",ce({ref:function(_){return s.listRef(_,g)},id:i.id+"_list",class:[t.cx("list"),p],style:k,role:"listbox","aria-label":s.listAriaLabel},t.ptm("list")),[(M(!0),W(Oe,null,ft(w,function(T,_){return M(),W(Oe,{key:s.getOptionRenderKey(T,s.getOptionIndex(_,I))},[s.isOptionGroup(T)?(M(),W("li",ce({key:0,id:i.id+"_"+s.getOptionIndex(_,I),style:{height:P?P+"px":void 0},class:t.cx("itemGroup"),role:"option"},t.ptm("itemGroup")),[pe(t.$slots,"optiongroup",{option:T.optionGroup,index:s.getOptionIndex(_,I)},function(){return[K("span",ce({class:t.cx("itemGroupLabel")},t.ptm("itemGroupLabel")),Ue(s.getOptionGroupLabel(T.optionGroup)),17)]})],16,Qte)):vo((M(),W("li",ce({key:1,id:i.id+"_"+s.getOptionIndex(_,I),class:t.cx("item",{option:T,focusedOption:s.getOptionIndex(_,I)}),style:{height:P?P+"px":void 0},role:"option","aria-label":s.getOptionLabel(T),"aria-selected":s.isSelected(T),"aria-disabled":s.isOptionDisabled(T),"aria-setsize":s.ariaSetSize,"aria-posinset":s.getAriaPosInset(s.getOptionIndex(_,I)),onClick:function(V){return s.onOptionSelect(V,T)},onMousemove:function(V){return s.onOptionMouseMove(V,s.getOptionIndex(_,I))},"data-p-highlight":s.isSelected(T),"data-p-focused":i.focusedOptionIndex===s.getOptionIndex(_,I),"data-p-disabled":s.isOptionDisabled(T)},s.getPTItemOptions(T,I,_,"item")),[t.checkmark?(M(),W(Oe,{key:0},[s.isSelected(T)?(M(),we(a,ce({key:0,class:t.cx("checkIcon")},t.ptm("checkIcon")),null,16,["class"])):(M(),we(l,ce({key:1,class:t.cx("blankIcon")},t.ptm("blankIcon")),null,16,["class"]))],64)):ne("",!0),pe(t.$slots,"option",{option:T,index:s.getOptionIndex(_,I)},function(){return[K("span",ce({class:t.cx("itemLabel")},t.ptm("itemLabel")),Ue(s.getOptionLabel(T)),17)]})],16,Xte)),[[h]])],64)}),128)),i.filterValue&&(!w||w&&w.length===0)?(M(),W("li",ce({key:0,class:t.cx("emptyMessage"),role:"option"},t.ptm("emptyMessage"),{"data-p-hidden-accessible":!0}),[pe(t.$slots,"emptyfilter",{},function(){return[tt(Ue(s.emptyFilterMessageText),1)]})],16)):!t.options||t.options&&t.options.length===0?(M(),W("li",ce({key:1,class:t.cx("emptyMessage"),role:"option"},t.ptm("emptyMessage"),{"data-p-hidden-accessible":!0}),[pe(t.$slots,"empty",{},function(){return[tt(Ue(s.emptyMessageText),1)]})],16)):ne("",!0)],16,Gte)]}),_:2},[t.$slots.loader?{name:"loader",fn:ke(function(f){var p=f.options;return[pe(t.$slots,"loader",{options:p})]}),key:"0"}:void 0]),1040,["items","style","disabled","pt"])],16),pe(t.$slots,"footer",{value:t.modelValue,options:s.visibleOptions}),!t.options||t.options&&t.options.length===0?(M(),W("span",ce({key:1,role:"status","aria-live":"polite",class:"p-hidden-accessible"},t.ptm("hiddenEmptyMessage"),{"data-p-hidden-accessible":!0}),Ue(s.emptyMessageText),17)):ne("",!0),K("span",ce({role:"status","aria-live":"polite",class:"p-hidden-accessible"},t.ptm("hiddenSelectedMessage"),{"data-p-hidden-accessible":!0}),Ue(s.selectedMessageText),17),K("span",ce({ref:"lastHiddenFocusableElementOnOverlay",role:"presentation","aria-hidden":"true",class:"p-hidden-accessible p-hidden-focusable",tabindex:0,onFocus:e[13]||(e[13]=function(){return s.onLastHiddenFocus&&s.onLastHiddenFocus.apply(s,arguments)})},t.ptm("hiddenLastFocusableEl"),{"data-p-hidden-accessible":!0,"data-p-hidden-focusable":!0}),null,16)],16)):ne("",!0)]}),_:3},16,["onEnter","onAfterEnter","onLeave","onAfterLeave"])]}),_:3},8,["appendTo"])],16,qte)}Rx.render=Jte;var Zte={root:function(e){var n=e.instance,r=e.props;return["p-inputtext p-component",{"p-filled":n.filled,"p-inputtext-sm":r.size==="small","p-inputtext-lg":r.size==="large","p-invalid":r.invalid,"p-variant-filled":r.variant?r.variant==="filled":n.$primevue.config.inputStyle==="filled"}]}},ene=Lr.extend({name:"inputtext",classes:Zte}),tne={name:"BaseInputText",extends:hs,props:{modelValue:null,size:{type:String,default:null},invalid:{type:Boolean,default:!1},variant:{type:String,default:null}},style:ene,provide:function(){return{$parentInstance:this}}},Dx={name:"InputText",extends:tne,inheritAttrs:!1,emits:["update:modelValue"],methods:{getPTOptions:function(e){var n=e==="root"?this.ptmi:this.ptm;return n(e,{context:{filled:this.filled,disabled:this.$attrs.disabled||this.$attrs.disabled===""}})},onInput:function(e){this.$emit("update:modelValue",e.target.value)}},computed:{filled:function(){return this.modelValue!=null&&this.modelValue.toString().length>0}}},nne=["value","aria-invalid"];function rne(t,e,n,r,i,s){return M(),W("input",ce({class:t.cx("root"),value:t.modelValue,"aria-invalid":t.invalid||void 0,onInput:e[0]||(e[0]=function(){return s.onInput&&s.onInput.apply(s,arguments)})},s.getPTOptions("root")),null,16,nne)}Dx.render=rne;var ine={root:function(e){var n=e.instance,r=e.props;return["p-checkbox p-component",{"p-highlight":n.checked,"p-disabled":r.disabled,"p-invalid":r.invalid,"p-variant-filled":r.variant?r.variant==="filled":n.$primevue.config.inputStyle==="filled"}]},box:"p-checkbox-box",input:"p-checkbox-input",icon:"p-checkbox-icon"},sne=Lr.extend({name:"checkbox",classes:ine}),one={name:"BaseCheckbox",extends:hs,props:{value:null,modelValue:null,binary:Boolean,name:{type:String,default:null},trueValue:{type:null,default:!0},falseValue:{type:null,default:!1},variant:{type:String,default:null},invalid:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},required:{type:Boolean,default:!1},tabindex:{type:Number,default:null},inputId:{type:String,default:null},inputClass:{type:[String,Object],default:null},inputStyle:{type:Object,default:null},ariaLabelledby:{type:String,default:null},ariaLabel:{type:String,default:null}},style:sne,provide:function(){return{$parentInstance:this}}};function ane(t){return dne(t)||cne(t)||une(t)||lne()}function lne(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function une(t,e){if(t){if(typeof t=="string")return d_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return d_(t,e)}}function cne(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function dne(t){if(Array.isArray(t))return d_(t)}function d_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var xx={name:"Checkbox",extends:one,inheritAttrs:!1,emits:["update:modelValue","change","focus","blur"],methods:{getPTOptions:function(e){var n=e==="root"?this.ptmi:this.ptm;return n(e,{context:{checked:this.checked,disabled:this.disabled}})},onChange:function(e){var n=this;if(!this.disabled&&!this.readonly){var r;this.binary?r=this.checked?this.falseValue:this.trueValue:this.checked?r=this.modelValue.filter(function(i){return!Ee.equals(i,n.value)}):r=this.modelValue?[].concat(ane(this.modelValue),[this.value]):[this.value],this.$emit("update:modelValue",r),this.$emit("change",e)}},onFocus:function(e){this.$emit("focus",e)},onBlur:function(e){this.$emit("blur",e)}},computed:{checked:function(){return this.binary?this.modelValue===this.trueValue:Ee.contains(this.value,this.modelValue)}},components:{CheckIcon:qm}},hne=["data-p-highlight","data-p-disabled"],fne=["id","value","name","checked","tabindex","disabled","readonly","required","aria-labelledby","aria-label","aria-invalid"];function pne(t,e,n,r,i,s){var o=er("CheckIcon");return M(),W("div",ce({class:t.cx("root")},s.getPTOptions("root"),{"data-p-highlight":s.checked,"data-p-disabled":t.disabled}),[K("input",ce({id:t.inputId,type:"checkbox",class:[t.cx("input"),t.inputClass],style:t.inputStyle,value:t.value,name:t.name,checked:s.checked,tabindex:t.tabindex,disabled:t.disabled,readonly:t.readonly,required:t.required,"aria-labelledby":t.ariaLabelledby,"aria-label":t.ariaLabel,"aria-invalid":t.invalid||void 0,onFocus:e[0]||(e[0]=function(){return s.onFocus&&s.onFocus.apply(s,arguments)}),onBlur:e[1]||(e[1]=function(){return s.onBlur&&s.onBlur.apply(s,arguments)}),onChange:e[2]||(e[2]=function(){return s.onChange&&s.onChange.apply(s,arguments)})},s.getPTOptions("input")),null,16,fne),K("div",ce({class:t.cx("box")},s.getPTOptions("box")),[pe(t.$slots,"icon",{checked:s.checked,class:He(t.cx("icon"))},function(){return[s.checked?(M(),we(o,ce({key:0,class:t.cx("icon")},s.getPTOptions("icon")),null,16,["class"])):ne("",!0)]})],16)],16,hne)}xx.render=pne;var Nx={name:"TimesCircleIcon",extends:Wa},mne=K("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M7 14C5.61553 14 4.26215 13.5895 3.11101 12.8203C1.95987 12.0511 1.06266 10.9579 0.532846 9.67879C0.00303296 8.3997 -0.13559 6.99224 0.134506 5.63437C0.404603 4.2765 1.07129 3.02922 2.05026 2.05026C3.02922 1.07129 4.2765 0.404603 5.63437 0.134506C6.99224 -0.13559 8.3997 0.00303296 9.67879 0.532846C10.9579 1.06266 12.0511 1.95987 12.8203 3.11101C13.5895 4.26215 14 5.61553 14 7C14 8.85652 13.2625 10.637 11.9497 11.9497C10.637 13.2625 8.85652 14 7 14ZM7 1.16667C5.84628 1.16667 4.71846 1.50879 3.75918 2.14976C2.79989 2.79074 2.05222 3.70178 1.61071 4.76768C1.16919 5.83358 1.05367 7.00647 1.27876 8.13803C1.50384 9.26958 2.05941 10.309 2.87521 11.1248C3.69102 11.9406 4.73042 12.4962 5.86198 12.7212C6.99353 12.9463 8.16642 12.8308 9.23232 12.3893C10.2982 11.9478 11.2093 11.2001 11.8502 10.2408C12.4912 9.28154 12.8333 8.15373 12.8333 7C12.8333 5.45291 12.2188 3.96918 11.1248 2.87521C10.0308 1.78125 8.5471 1.16667 7 1.16667ZM4.66662 9.91668C4.58998 9.91704 4.51404 9.90209 4.44325 9.87271C4.37246 9.84333 4.30826 9.8001 4.2544 9.74557C4.14516 9.6362 4.0838 9.48793 4.0838 9.33335C4.0838 9.17876 4.14516 9.0305 4.2544 8.92113L6.17553 7L4.25443 5.07891C4.15139 4.96832 4.09529 4.82207 4.09796 4.67094C4.10063 4.51982 4.16185 4.37563 4.26872 4.26876C4.3756 4.16188 4.51979 4.10066 4.67091 4.09799C4.82204 4.09532 4.96829 4.15142 5.07887 4.25446L6.99997 6.17556L8.92106 4.25446C9.03164 4.15142 9.1779 4.09532 9.32903 4.09799C9.48015 4.10066 9.62434 4.16188 9.73121 4.26876C9.83809 4.37563 9.89931 4.51982 9.90198 4.67094C9.90464 4.82207 9.84855 4.96832 9.74551 5.07891L7.82441 7L9.74554 8.92113C9.85478 9.0305 9.91614 9.17876 9.91614 9.33335C9.91614 9.48793 9.85478 9.6362 9.74554 9.74557C9.69168 9.8001 9.62748 9.84333 9.55669 9.87271C9.4859 9.90209 9.40996 9.91704 9.33332 9.91668C9.25668 9.91704 9.18073 9.90209 9.10995 9.87271C9.03916 9.84333 8.97495 9.8001 8.9211 9.74557L6.99997 7.82444L5.07884 9.74557C5.02499 9.8001 4.96078 9.84333 4.88999 9.87271C4.81921 9.90209 4.74326 9.91704 4.66662 9.91668Z",fill:"currentColor"},null,-1),gne=[mne];function vne(t,e,n,r,i,s){return M(),W("svg",ce({width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t.pti()),gne,16)}Nx.render=vne;var yne={root:function(e){var n=e.props;return{position:n.appendTo==="self"?"relative":void 0}}},_ne={root:function(e){var n=e.instance,r=e.props;return["p-multiselect p-component p-inputwrapper",{"p-multiselect-chip":r.display==="chip","p-disabled":r.disabled,"p-invalid":r.invalid,"p-variant-filled":r.variant?r.variant==="filled":n.$primevue.config.inputStyle==="filled","p-focus":n.focused,"p-inputwrapper-filled":r.modelValue&&r.modelValue.length,"p-inputwrapper-focus":n.focused||n.overlayVisible,"p-overlay-open":n.overlayVisible}]},labelContainer:"p-multiselect-label-container",label:function(e){var n=e.instance,r=e.props;return["p-multiselect-label",{"p-placeholder":n.label===r.placeholder,"p-multiselect-label-empty":!r.placeholder&&(!r.modelValue||r.modelValue.length===0)}]},token:"p-multiselect-token",tokenLabel:"p-multiselect-token-label",removeTokenIcon:"p-multiselect-token-icon",trigger:"p-multiselect-trigger",loadingIcon:"p-multiselect-trigger-icon",dropdownIcon:"p-multiselect-trigger-icon",panel:function(e){e.props;var n=e.instance;return["p-multiselect-panel p-component",{"p-ripple-disabled":n.$primevue.config.ripple===!1}]},header:"p-multiselect-header",filterContainer:"p-multiselect-filter-container",filterInput:function(e){var n=e.props,r=e.instance;return["p-multiselect-filter p-inputtext p-component",{"p-variant-filled":n.variant?n.variant==="filled":r.$primevue.config.inputStyle==="filled"}]},filterIcon:"p-multiselect-filter-icon",closeButton:"p-multiselect-close p-link",closeIcon:"p-multiselect-close-icon",wrapper:"p-multiselect-items-wrapper",list:"p-multiselect-items p-component",itemGroup:"p-multiselect-item-group",item:function(e){var n=e.instance,r=e.option,i=e.index,s=e.getItemOptions,o=e.props;return["p-multiselect-item",{"p-highlight":n.isSelected(r)&&o.highlightOnSelect,"p-focus":n.focusedOptionIndex===n.getOptionIndex(i,s),"p-disabled":n.isOptionDisabled(r)}]},emptyMessage:"p-multiselect-empty-message"},bne=Lr.extend({name:"multiselect",classes:_ne,inlineStyles:yne}),wne={name:"BaseMultiSelect",extends:hs,props:{modelValue:null,options:Array,optionLabel:null,optionValue:null,optionDisabled:null,optionGroupLabel:null,optionGroupChildren:null,scrollHeight:{type:String,default:"200px"},placeholder:String,variant:{type:String,default:null},invalid:{type:Boolean,default:!1},disabled:Boolean,inputId:{type:String,default:null},inputProps:{type:null,default:null},panelClass:{type:String,default:null},panelStyle:{type:null,default:null},panelProps:{type:null,default:null},filterInputProps:{type:null,default:null},closeButtonProps:{type:null,default:null},dataKey:null,filter:Boolean,filterPlaceholder:String,filterLocale:String,filterMatchMode:{type:String,default:"contains"},filterFields:{type:Array,default:null},appendTo:{type:[String,Object],default:"body"},display:{type:String,default:"comma"},selectedItemsLabel:{type:String,default:"{0} items selected"},maxSelectedLabels:{type:Number,default:null},selectionLimit:{type:Number,default:null},showToggleAll:{type:Boolean,default:!0},loading:{type:Boolean,default:!1},checkboxIcon:{type:String,default:void 0},closeIcon:{type:String,default:void 0},dropdownIcon:{type:String,default:void 0},filterIcon:{type:String,default:void 0},loadingIcon:{type:String,default:void 0},removeTokenIcon:{type:String,default:void 0},selectAll:{type:Boolean,default:null},resetFilterOnHide:{type:Boolean,default:!1},virtualScrollerOptions:{type:Object,default:null},autoOptionFocus:{type:Boolean,default:!1},autoFilterFocus:{type:Boolean,default:!1},focusOnHover:{type:Boolean,default:!0},highlightOnSelect:{type:Boolean,default:!1},filterMessage:{type:String,default:null},selectionMessage:{type:String,default:null},emptySelectionMessage:{type:String,default:null},emptyFilterMessage:{type:String,default:null},emptyMessage:{type:String,default:null},tabindex:{type:Number,default:0},ariaLabel:{type:String,default:null},ariaLabelledby:{type:String,default:null}},style:bne,provide:function(){return{$parentInstance:this}}};function Nd(t){"@babel/helpers - typeof";return Nd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nd(t)}function BS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function HS(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?BS(Object(n),!0).forEach(function(r){Mx(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):BS(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Mx(t,e,n){return e=Tne(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Tne(t){var e=Ene(t,"string");return Nd(e)=="symbol"?e:String(e)}function Ene(t,e){if(Nd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Nd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function jS(t){return Ane(t)||Cne(t)||Sne(t)||Ine()}function Ine(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Sne(t,e){if(t){if(typeof t=="string")return h_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return h_(t,e)}}function Cne(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Ane(t){if(Array.isArray(t))return h_(t)}function h_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Lx={name:"MultiSelect",extends:wne,inheritAttrs:!1,emits:["update:modelValue","change","focus","blur","before-show","before-hide","show","hide","filter","selectall-change"],outsideClickListener:null,scrollHandler:null,resizeListener:null,overlay:null,list:null,virtualScroller:null,startRangeIndex:-1,searchTimeout:null,searchValue:"",selectOnFocus:!1,data:function(){return{id:this.$attrs.id,clicked:!1,focused:!1,focusedOptionIndex:-1,filterValue:null,overlayVisible:!1}},watch:{"$attrs.id":function(e){this.id=e||Sp()},options:function(){this.autoUpdateModel()}},mounted:function(){this.id=this.id||Sp(),this.autoUpdateModel()},beforeUnmount:function(){this.unbindOutsideClickListener(),this.unbindResizeListener(),this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null),this.overlay&&(Fl.clear(this.overlay),this.overlay=null)},methods:{getOptionIndex:function(e,n){return this.virtualScrollerDisabled?e:n&&n(e).index},getOptionLabel:function(e){return this.optionLabel?Ee.resolveFieldData(e,this.optionLabel):e},getOptionValue:function(e){return this.optionValue?Ee.resolveFieldData(e,this.optionValue):e},getOptionRenderKey:function(e,n){return this.dataKey?Ee.resolveFieldData(e,this.dataKey):this.getOptionLabel(e)+"_".concat(n)},getHeaderCheckboxPTOptions:function(e){return this.ptm(e,{context:{selected:this.allSelected}})},getCheckboxPTOptions:function(e,n,r,i){return this.ptm(i,{context:{selected:this.isSelected(e),focused:this.focusedOptionIndex===this.getOptionIndex(r,n),disabled:this.isOptionDisabled(e)}})},isOptionDisabled:function(e){return this.maxSelectionLimitReached&&!this.isSelected(e)?!0:this.optionDisabled?Ee.resolveFieldData(e,this.optionDisabled):!1},isOptionGroup:function(e){return this.optionGroupLabel&&e.optionGroup&&e.group},getOptionGroupLabel:function(e){return Ee.resolveFieldData(e,this.optionGroupLabel)},getOptionGroupChildren:function(e){return Ee.resolveFieldData(e,this.optionGroupChildren)},getAriaPosInset:function(e){var n=this;return(this.optionGroupLabel?e-this.visibleOptions.slice(0,e).filter(function(r){return n.isOptionGroup(r)}).length:e)+1},show:function(e){this.$emit("before-show"),this.overlayVisible=!0,this.focusedOptionIndex=this.focusedOptionIndex!==-1?this.focusedOptionIndex:this.autoOptionFocus?this.findFirstFocusedOptionIndex():this.findSelectedOptionIndex(),e&&Ve.focus(this.$refs.focusInput)},hide:function(e){var n=this,r=function(){n.$emit("before-hide"),n.overlayVisible=!1,n.clicked=!1,n.focusedOptionIndex=-1,n.searchValue="",n.resetFilterOnHide&&(n.filterValue=null),e&&Ve.focus(n.$refs.focusInput)};setTimeout(function(){r()},0)},onFocus:function(e){this.disabled||(this.focused=!0,this.overlayVisible&&(this.focusedOptionIndex=this.focusedOptionIndex!==-1?this.focusedOptionIndex:this.autoOptionFocus?this.findFirstFocusedOptionIndex():this.findSelectedOptionIndex(),this.scrollInView(this.focusedOptionIndex)),this.$emit("focus",e))},onBlur:function(e){this.clicked=!1,this.focused=!1,this.focusedOptionIndex=-1,this.searchValue="",this.$emit("blur",e)},onKeyDown:function(e){var n=this;if(this.disabled){e.preventDefault();return}var r=e.metaKey||e.ctrlKey;switch(e.code){case"ArrowDown":this.onArrowDownKey(e);break;case"ArrowUp":this.onArrowUpKey(e);break;case"Home":this.onHomeKey(e);break;case"End":this.onEndKey(e);break;case"PageDown":this.onPageDownKey(e);break;case"PageUp":this.onPageUpKey(e);break;case"Enter":case"NumpadEnter":case"Space":this.onEnterKey(e);break;case"Escape":this.onEscapeKey(e);break;case"Tab":this.onTabKey(e);break;case"ShiftLeft":case"ShiftRight":this.onShiftKey(e);break;default:if(e.code==="KeyA"&&r){var i=this.visibleOptions.filter(function(s){return n.isValidOption(s)}).map(function(s){return n.getOptionValue(s)});this.updateModel(e,i),e.preventDefault();break}!r&&Ee.isPrintableCharacter(e.key)&&(!this.overlayVisible&&this.show(),this.searchOptions(e),e.preventDefault());break}this.clicked=!1},onContainerClick:function(e){this.disabled||this.loading||((!this.overlay||!this.overlay.contains(e.target))&&(this.overlayVisible?this.hide(!0):this.show(!0)),this.clicked=!0)},onFirstHiddenFocus:function(e){var n=e.relatedTarget===this.$refs.focusInput?Ve.getFirstFocusableElement(this.overlay,':not([data-p-hidden-focusable="true"])'):this.$refs.focusInput;Ve.focus(n)},onLastHiddenFocus:function(e){var n=e.relatedTarget===this.$refs.focusInput?Ve.getLastFocusableElement(this.overlay,':not([data-p-hidden-focusable="true"])'):this.$refs.focusInput;Ve.focus(n)},onCloseClick:function(){this.hide(!0)},onOptionSelect:function(e,n){var r=this,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:-1,s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!(this.disabled||this.isOptionDisabled(n))){var o=this.isSelected(n),a=null;o?a=this.modelValue.filter(function(l){return!Ee.equals(l,r.getOptionValue(n),r.equalityKey)}):a=[].concat(jS(this.modelValue||[]),[this.getOptionValue(n)]),this.updateModel(e,a),i!==-1&&(this.focusedOptionIndex=i),s&&Ve.focus(this.$refs.focusInput)}},onOptionMouseMove:function(e,n){this.focusOnHover&&this.changeFocusedOptionIndex(e,n)},onOptionSelectRange:function(e){var n=this,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:-1,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:-1;if(r===-1&&(r=this.findNearestSelectedOptionIndex(i,!0)),i===-1&&(i=this.findNearestSelectedOptionIndex(r)),r!==-1&&i!==-1){var s=Math.min(r,i),o=Math.max(r,i),a=this.visibleOptions.slice(s,o+1).filter(function(l){return n.isValidOption(l)}).map(function(l){return n.getOptionValue(l)});this.updateModel(e,a)}},onFilterChange:function(e){var n=e.target.value;this.filterValue=n,this.focusedOptionIndex=-1,this.$emit("filter",{originalEvent:e,value:n}),!this.virtualScrollerDisabled&&this.virtualScroller.scrollToIndex(0)},onFilterKeyDown:function(e){switch(e.code){case"ArrowDown":this.onArrowDownKey(e);break;case"ArrowUp":this.onArrowUpKey(e,!0);break;case"ArrowLeft":case"ArrowRight":this.onArrowLeftKey(e,!0);break;case"Home":this.onHomeKey(e,!0);break;case"End":this.onEndKey(e,!0);break;case"Enter":case"NumpadEnter":this.onEnterKey(e);break;case"Escape":this.onEscapeKey(e);break;case"Tab":this.onTabKey(e,!0);break}},onFilterBlur:function(){this.focusedOptionIndex=-1},onFilterUpdated:function(){this.overlayVisible&&this.alignOverlay()},onOverlayClick:function(e){Ox.emit("overlay-click",{originalEvent:e,target:this.$el})},onOverlayKeyDown:function(e){switch(e.code){case"Escape":this.onEscapeKey(e);break}},onArrowDownKey:function(e){if(!this.overlayVisible)this.show();else{var n=this.focusedOptionIndex!==-1?this.findNextOptionIndex(this.focusedOptionIndex):this.clicked?this.findFirstOptionIndex():this.findFirstFocusedOptionIndex();e.shiftKey&&this.onOptionSelectRange(e,this.startRangeIndex,n),this.changeFocusedOptionIndex(e,n)}e.preventDefault()},onArrowUpKey:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(e.altKey&&!n)this.focusedOptionIndex!==-1&&this.onOptionSelect(e,this.visibleOptions[this.focusedOptionIndex]),this.overlayVisible&&this.hide(),e.preventDefault();else{var r=this.focusedOptionIndex!==-1?this.findPrevOptionIndex(this.focusedOptionIndex):this.clicked?this.findLastOptionIndex():this.findLastFocusedOptionIndex();e.shiftKey&&this.onOptionSelectRange(e,r,this.startRangeIndex),this.changeFocusedOptionIndex(e,r),!this.overlayVisible&&this.show(),e.preventDefault()}},onArrowLeftKey:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;n&&(this.focusedOptionIndex=-1)},onHomeKey:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(n){var r=e.currentTarget;e.shiftKey?r.setSelectionRange(0,e.target.selectionStart):(r.setSelectionRange(0,0),this.focusedOptionIndex=-1)}else{var i=e.metaKey||e.ctrlKey,s=this.findFirstOptionIndex();e.shiftKey&&i&&this.onOptionSelectRange(e,s,this.startRangeIndex),this.changeFocusedOptionIndex(e,s),!this.overlayVisible&&this.show()}e.preventDefault()},onEndKey:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(n){var r=e.currentTarget;if(e.shiftKey)r.setSelectionRange(e.target.selectionStart,r.value.length);else{var i=r.value.length;r.setSelectionRange(i,i),this.focusedOptionIndex=-1}}else{var s=e.metaKey||e.ctrlKey,o=this.findLastOptionIndex();e.shiftKey&&s&&this.onOptionSelectRange(e,this.startRangeIndex,o),this.changeFocusedOptionIndex(e,o),!this.overlayVisible&&this.show()}e.preventDefault()},onPageUpKey:function(e){this.scrollInView(0),e.preventDefault()},onPageDownKey:function(e){this.scrollInView(this.visibleOptions.length-1),e.preventDefault()},onEnterKey:function(e){this.overlayVisible?this.focusedOptionIndex!==-1&&(e.shiftKey?this.onOptionSelectRange(e,this.focusedOptionIndex):this.onOptionSelect(e,this.visibleOptions[this.focusedOptionIndex])):(this.focusedOptionIndex=-1,this.onArrowDownKey(e)),e.preventDefault()},onEscapeKey:function(e){this.overlayVisible&&this.hide(!0),e.preventDefault()},onTabKey:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;n||(this.overlayVisible&&this.hasFocusableElements()?(Ve.focus(e.shiftKey?this.$refs.lastHiddenFocusableElementOnOverlay:this.$refs.firstHiddenFocusableElementOnOverlay),e.preventDefault()):(this.focusedOptionIndex!==-1&&this.onOptionSelect(e,this.visibleOptions[this.focusedOptionIndex]),this.overlayVisible&&this.hide(this.filter)))},onShiftKey:function(){this.startRangeIndex=this.focusedOptionIndex},onOverlayEnter:function(e){Fl.set("overlay",e,this.$primevue.config.zIndex.overlay),Ve.addStyles(e,{position:"absolute",top:"0",left:"0"}),this.alignOverlay(),this.scrollInView(),this.autoFilterFocus&&Ve.focus(this.$refs.filterInput)},onOverlayAfterEnter:function(){this.bindOutsideClickListener(),this.bindScrollListener(),this.bindResizeListener(),this.$emit("show")},onOverlayLeave:function(){this.unbindOutsideClickListener(),this.unbindScrollListener(),this.unbindResizeListener(),this.$emit("hide"),this.overlay=null},onOverlayAfterLeave:function(e){Fl.clear(e)},alignOverlay:function(){this.appendTo==="self"?Ve.relativePosition(this.overlay,this.$el):(this.overlay.style.minWidth=Ve.getOuterWidth(this.$el)+"px",Ve.absolutePosition(this.overlay,this.$el))},bindOutsideClickListener:function(){var e=this;this.outsideClickListener||(this.outsideClickListener=function(n){e.overlayVisible&&e.isOutsideClicked(n)&&e.hide()},document.addEventListener("click",this.outsideClickListener))},unbindOutsideClickListener:function(){this.outsideClickListener&&(document.removeEventListener("click",this.outsideClickListener),this.outsideClickListener=null)},bindScrollListener:function(){var e=this;this.scrollHandler||(this.scrollHandler=new PD(this.$refs.container,function(){e.overlayVisible&&e.hide()})),this.scrollHandler.bindScrollListener()},unbindScrollListener:function(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()},bindResizeListener:function(){var e=this;this.resizeListener||(this.resizeListener=function(){e.overlayVisible&&!Ve.isTouchDevice()&&e.hide()},window.addEventListener("resize",this.resizeListener))},unbindResizeListener:function(){this.resizeListener&&(window.removeEventListener("resize",this.resizeListener),this.resizeListener=null)},isOutsideClicked:function(e){return!(this.$el.isSameNode(e.target)||this.$el.contains(e.target)||this.overlay&&this.overlay.contains(e.target))},getLabelByValue:function(e){var n=this,r=this.optionGroupLabel?this.flatOptions(this.options):this.options||[],i=r.find(function(s){return!n.isOptionGroup(s)&&Ee.equals(n.getOptionValue(s),e,n.equalityKey)});return i?this.getOptionLabel(i):null},getSelectedItemsLabel:function(){var e=/{(.*?)}/,n=this.selectedItemsLabel||this.$primevue.config.locale.selectionMessage;return e.test(n)?n.replace(n.match(e)[0],this.modelValue.length+""):n},onToggleAll:function(e){var n=this;if(this.selectAll!==null)this.$emit("selectall-change",{originalEvent:e,checked:!this.allSelected});else{var r=this.allSelected?[]:this.visibleOptions.filter(function(i){return n.isValidOption(i)}).map(function(i){return n.getOptionValue(i)});this.updateModel(e,r)}},removeOption:function(e,n){var r=this,i=this.modelValue.filter(function(s){return!Ee.equals(s,n,r.equalityKey)});this.updateModel(e,i)},clearFilter:function(){this.filterValue=null},hasFocusableElements:function(){return Ve.getFocusableElements(this.overlay,':not([data-p-hidden-focusable="true"])').length>0},isOptionMatched:function(e){var n;return this.isValidOption(e)&&((n=this.getOptionLabel(e))===null||n===void 0?void 0:n.toLocaleLowerCase(this.filterLocale).startsWith(this.searchValue.toLocaleLowerCase(this.filterLocale)))},isValidOption:function(e){return Ee.isNotEmpty(e)&&!(this.isOptionDisabled(e)||this.isOptionGroup(e))},isValidSelectedOption:function(e){return this.isValidOption(e)&&this.isSelected(e)},isEquals:function(e,n){return Ee.equals(e,n,this.equalityKey)},isSelected:function(e){var n=this,r=this.getOptionValue(e);return(this.modelValue||[]).some(function(i){return n.isEquals(i,r)})},findFirstOptionIndex:function(){var e=this;return this.visibleOptions.findIndex(function(n){return e.isValidOption(n)})},findLastOptionIndex:function(){var e=this;return Ee.findLastIndex(this.visibleOptions,function(n){return e.isValidOption(n)})},findNextOptionIndex:function(e){var n=this,r=e<this.visibleOptions.length-1?this.visibleOptions.slice(e+1).findIndex(function(i){return n.isValidOption(i)}):-1;return r>-1?r+e+1:e},findPrevOptionIndex:function(e){var n=this,r=e>0?Ee.findLastIndex(this.visibleOptions.slice(0,e),function(i){return n.isValidOption(i)}):-1;return r>-1?r:e},findSelectedOptionIndex:function(){var e=this;if(this.hasSelectedOption){for(var n=function(){var o=e.modelValue[i],a=e.visibleOptions.findIndex(function(l){return e.isValidSelectedOption(l)&&e.isEquals(o,e.getOptionValue(l))});if(a>-1)return{v:a}},r,i=this.modelValue.length-1;i>=0;i--)if(r=n(),r)return r.v}return-1},findFirstSelectedOptionIndex:function(){var e=this;return this.hasSelectedOption?this.visibleOptions.findIndex(function(n){return e.isValidSelectedOption(n)}):-1},findLastSelectedOptionIndex:function(){var e=this;return this.hasSelectedOption?Ee.findLastIndex(this.visibleOptions,function(n){return e.isValidSelectedOption(n)}):-1},findNextSelectedOptionIndex:function(e){var n=this,r=this.hasSelectedOption&&e<this.visibleOptions.length-1?this.visibleOptions.slice(e+1).findIndex(function(i){return n.isValidSelectedOption(i)}):-1;return r>-1?r+e+1:-1},findPrevSelectedOptionIndex:function(e){var n=this,r=this.hasSelectedOption&&e>0?Ee.findLastIndex(this.visibleOptions.slice(0,e),function(i){return n.isValidSelectedOption(i)}):-1;return r>-1?r:-1},findNearestSelectedOptionIndex:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,r=-1;return this.hasSelectedOption&&(n?(r=this.findPrevSelectedOptionIndex(e),r=r===-1?this.findNextSelectedOptionIndex(e):r):(r=this.findNextSelectedOptionIndex(e),r=r===-1?this.findPrevSelectedOptionIndex(e):r)),r>-1?r:e},findFirstFocusedOptionIndex:function(){var e=this.findSelectedOptionIndex();return e<0?this.findFirstOptionIndex():e},findLastFocusedOptionIndex:function(){var e=this.findSelectedOptionIndex();return e<0?this.findLastOptionIndex():e},searchOptions:function(e){var n=this;this.searchValue=(this.searchValue||"")+e.key;var r=-1;Ee.isNotEmpty(this.searchValue)&&(this.focusedOptionIndex!==-1?(r=this.visibleOptions.slice(this.focusedOptionIndex).findIndex(function(i){return n.isOptionMatched(i)}),r=r===-1?this.visibleOptions.slice(0,this.focusedOptionIndex).findIndex(function(i){return n.isOptionMatched(i)}):r+this.focusedOptionIndex):r=this.visibleOptions.findIndex(function(i){return n.isOptionMatched(i)}),r===-1&&this.focusedOptionIndex===-1&&(r=this.findFirstFocusedOptionIndex()),r!==-1&&this.changeFocusedOptionIndex(e,r)),this.searchTimeout&&clearTimeout(this.searchTimeout),this.searchTimeout=setTimeout(function(){n.searchValue="",n.searchTimeout=null},500)},changeFocusedOptionIndex:function(e,n){this.focusedOptionIndex!==n&&(this.focusedOptionIndex=n,this.scrollInView(),this.selectOnFocus&&this.onOptionSelect(e,this.visibleOptions[n]))},scrollInView:function(){var e=this,n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:-1;this.$nextTick(function(){var r=n!==-1?"".concat(e.id,"_").concat(n):e.focusedOptionId,i=Ve.findSingle(e.list,'li[id="'.concat(r,'"]'));i?i.scrollIntoView&&i.scrollIntoView({block:"nearest",inline:"nearest"}):e.virtualScrollerDisabled||e.virtualScroller&&e.virtualScroller.scrollToIndex(n!==-1?n:e.focusedOptionIndex)})},autoUpdateModel:function(){if(this.selectOnFocus&&this.autoOptionFocus&&!this.hasSelectedOption){this.focusedOptionIndex=this.findFirstFocusedOptionIndex();var e=this.getOptionValue(this.visibleOptions[this.focusedOptionIndex]);this.updateModel(null,[e])}},updateModel:function(e,n){this.$emit("update:modelValue",n),this.$emit("change",{originalEvent:e,value:n})},flatOptions:function(e){var n=this;return(e||[]).reduce(function(r,i,s){r.push({optionGroup:i,group:!0,index:s});var o=n.getOptionGroupChildren(i);return o&&o.forEach(function(a){return r.push(a)}),r},[])},overlayRef:function(e){this.overlay=e},listRef:function(e,n){this.list=e,n&&n(e)},virtualScrollerRef:function(e){this.virtualScroller=e}},computed:{visibleOptions:function(){var e=this,n=this.optionGroupLabel?this.flatOptions(this.options):this.options||[];if(this.filterValue){var r=Cx.filter(n,this.searchFields,this.filterValue,this.filterMatchMode,this.filterLocale);if(this.optionGroupLabel){var i=this.options||[],s=[];return i.forEach(function(o){var a=e.getOptionGroupChildren(o),l=a.filter(function(u){return r.includes(u)});l.length>0&&s.push(HS(HS({},o),{},Mx({},typeof e.optionGroupChildren=="string"?e.optionGroupChildren:"items",jS(l))))}),this.flatOptions(s)}return r}return n},label:function(){var e;if(this.modelValue&&this.modelValue.length){if(Ee.isNotEmpty(this.maxSelectedLabels)&&this.modelValue.length>this.maxSelectedLabels)return this.getSelectedItemsLabel();e="";for(var n=0;n<this.modelValue.length;n++)n!==0&&(e+=", "),e+=this.getLabelByValue(this.modelValue[n])}else e=this.placeholder;return e},chipSelectedItems:function(){return Ee.isNotEmpty(this.maxSelectedLabels)&&this.modelValue&&this.modelValue.length>this.maxSelectedLabels?this.modelValue.slice(0,this.maxSelectedLabels):this.modelValue},allSelected:function(){var e=this;return this.selectAll!==null?this.selectAll:Ee.isNotEmpty(this.visibleOptions)&&this.visibleOptions.every(function(n){return e.isOptionGroup(n)||e.isOptionDisabled(n)||e.isSelected(n)})},hasSelectedOption:function(){return Ee.isNotEmpty(this.modelValue)},equalityKey:function(){return this.optionValue?null:this.dataKey},searchFields:function(){return this.filterFields||[this.optionLabel]},maxSelectionLimitReached:function(){return this.selectionLimit&&this.modelValue&&this.modelValue.length===this.selectionLimit},filterResultMessageText:function(){return Ee.isNotEmpty(this.visibleOptions)?this.filterMessageText.replaceAll("{0}",this.visibleOptions.length):this.emptyFilterMessageText},filterMessageText:function(){return this.filterMessage||this.$primevue.config.locale.searchMessage||""},emptyFilterMessageText:function(){return this.emptyFilterMessage||this.$primevue.config.locale.emptySearchMessage||this.$primevue.config.locale.emptyFilterMessage||""},emptyMessageText:function(){return this.emptyMessage||this.$primevue.config.locale.emptyMessage||""},selectionMessageText:function(){return this.selectionMessage||this.$primevue.config.locale.selectionMessage||""},emptySelectionMessageText:function(){return this.emptySelectionMessage||this.$primevue.config.locale.emptySelectionMessage||""},selectedMessageText:function(){return this.hasSelectedOption?this.selectionMessageText.replaceAll("{0}",this.modelValue.length):this.emptySelectionMessageText},focusedOptionId:function(){return this.focusedOptionIndex!==-1?"".concat(this.id,"_").concat(this.focusedOptionIndex):null},ariaSetSize:function(){var e=this;return this.visibleOptions.filter(function(n){return!e.isOptionGroup(n)}).length},toggleAllAriaLabel:function(){return this.$primevue.config.locale.aria?this.$primevue.config.locale.aria[this.allSelected?"selectAll":"unselectAll"]:void 0},closeAriaLabel:function(){return this.$primevue.config.locale.aria?this.$primevue.config.locale.aria.close:void 0},listAriaLabel:function(){return this.$primevue.config.locale.aria?this.$primevue.config.locale.aria.listLabel:void 0},virtualScrollerDisabled:function(){return!this.virtualScrollerOptions}},directives:{ripple:kb},components:{Checkbox:xx,VirtualScroller:i1,Portal:r1,TimesIcon:n1,SearchIcon:t1,TimesCircleIcon:Nx,ChevronDownIcon:e1,SpinnerIcon:lh,CheckIcon:qm}};function Md(t){"@babel/helpers - typeof";return Md=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Md(t)}function WS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function to(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?WS(Object(n),!0).forEach(function(r){f_(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):WS(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function f_(t,e,n){return e=One(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function One(t){var e=Pne(t,"string");return Md(e)=="symbol"?e:String(e)}function Pne(t,e){if(Md(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Md(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var kne=["id","disabled","placeholder","tabindex","aria-label","aria-labelledby","aria-expanded","aria-controls","aria-activedescendant","aria-invalid"],Rne=["onClick"],Dne=["value","placeholder","aria-owns","aria-activedescendant"],xne=["aria-label"],Nne=["id","aria-label"],Mne=["id"],Lne=["id","aria-label","aria-selected","aria-disabled","aria-setsize","aria-posinset","onClick","onMousemove","data-p-highlight","data-p-focused","data-p-disabled"];function Vne(t,e,n,r,i,s){var o=er("TimesCircleIcon"),a=er("SpinnerIcon"),l=er("Checkbox"),u=er("VirtualScroller"),c=er("Portal"),h=V_("ripple");return M(),W("div",ce({ref:"container",class:t.cx("root"),style:t.sx("root"),onClick:e[13]||(e[13]=function(){return s.onContainerClick&&s.onContainerClick.apply(s,arguments)})},t.ptmi("root")),[K("div",ce({class:"p-hidden-accessible"},t.ptm("hiddenInputWrapper"),{"data-p-hidden-accessible":!0}),[K("input",ce({ref:"focusInput",id:t.inputId,type:"text",readonly:"",disabled:t.disabled,placeholder:t.placeholder,tabindex:t.disabled?-1:t.tabindex,role:"combobox","aria-label":t.ariaLabel,"aria-labelledby":t.ariaLabelledby,"aria-haspopup":"listbox","aria-expanded":i.overlayVisible,"aria-controls":i.id+"_list","aria-activedescendant":i.focused?s.focusedOptionId:void 0,"aria-invalid":t.invalid||void 0,onFocus:e[0]||(e[0]=function(){return s.onFocus&&s.onFocus.apply(s,arguments)}),onBlur:e[1]||(e[1]=function(){return s.onBlur&&s.onBlur.apply(s,arguments)}),onKeydown:e[2]||(e[2]=function(){return s.onKeyDown&&s.onKeyDown.apply(s,arguments)})},to(to({},t.inputProps),t.ptm("hiddenInput"))),null,16,kne)],16),K("div",ce({class:t.cx("labelContainer")},t.ptm("labelContainer")),[K("div",ce({class:t.cx("label")},t.ptm("label")),[pe(t.$slots,"value",{value:t.modelValue,placeholder:t.placeholder},function(){return[t.display==="comma"?(M(),W(Oe,{key:0},[tt(Ue(s.label||"empty"),1)],64)):t.display==="chip"?(M(),W(Oe,{key:1},[(M(!0),W(Oe,null,ft(s.chipSelectedItems,function(f){return M(),W("div",ce({key:s.getLabelByValue(f),class:t.cx("token")},t.ptm("token")),[pe(t.$slots,"chip",{value:f},function(){return[K("span",ce({class:t.cx("tokenLabel")},t.ptm("tokenLabel")),Ue(s.getLabelByValue(f)),17)]}),t.disabled?ne("",!0):pe(t.$slots,"removetokenicon",{key:0,class:He(t.cx("removeTokenIcon")),item:f,onClick:function(g){return s.removeOption(g,f)},removeCallback:function(g){return s.removeOption(g,f)}},function(){return[t.removeTokenIcon?(M(),W("span",ce({key:0,class:[t.cx("removeTokenIcon"),t.removeTokenIcon],onClick:$t(function(p){return s.removeOption(p,f)},["stop"])},t.ptm("removeTokenIcon")),null,16,Rne)):(M(),we(o,ce({key:1,class:t.cx("removeTokenIcon"),onClick:$t(function(p){return s.removeOption(p,f)},["stop"])},t.ptm("removeTokenIcon")),null,16,["class","onClick"]))]})],16)}),128)),!t.modelValue||t.modelValue.length===0?(M(),W(Oe,{key:0},[tt(Ue(t.placeholder||"empty"),1)],64)):ne("",!0)],64)):ne("",!0)]})],16)],16),K("div",ce({class:t.cx("trigger")},t.ptm("trigger")),[t.loading?pe(t.$slots,"loadingicon",{key:0,class:He(t.cx("loadingIcon"))},function(){return[t.loadingIcon?(M(),W("span",ce({key:0,class:[t.cx("loadingIcon"),"pi-spin",t.loadingIcon],"aria-hidden":"true"},t.ptm("loadingIcon")),null,16)):(M(),we(a,ce({key:1,class:t.cx("loadingIcon"),spin:"","aria-hidden":"true"},t.ptm("loadingIcon")),null,16,["class"]))]}):pe(t.$slots,"dropdownicon",{key:1,class:He(t.cx("dropdownIcon"))},function(){return[(M(),we(pr(t.dropdownIcon?"span":"ChevronDownIcon"),ce({class:[t.cx("dropdownIcon"),t.dropdownIcon],"aria-hidden":"true"},t.ptm("dropdownIcon")),null,16,["class"]))]})],16),Me(c,{appendTo:t.appendTo},{default:ke(function(){return[Me($o,ce({name:"p-connected-overlay",onEnter:s.onOverlayEnter,onAfterEnter:s.onOverlayAfterEnter,onLeave:s.onOverlayLeave,onAfterLeave:s.onOverlayAfterLeave},t.ptm("transition")),{default:ke(function(){return[i.overlayVisible?(M(),W("div",ce({key:0,ref:s.overlayRef,style:t.panelStyle,class:[t.cx("panel"),t.panelClass],onClick:e[11]||(e[11]=function(){return s.onOverlayClick&&s.onOverlayClick.apply(s,arguments)}),onKeydown:e[12]||(e[12]=function(){return s.onOverlayKeyDown&&s.onOverlayKeyDown.apply(s,arguments)})},to(to({},t.panelProps),t.ptm("panel"))),[K("span",ce({ref:"firstHiddenFocusableElementOnOverlay",role:"presentation","aria-hidden":"true",class:"p-hidden-accessible p-hidden-focusable",tabindex:0,onFocus:e[3]||(e[3]=function(){return s.onFirstHiddenFocus&&s.onFirstHiddenFocus.apply(s,arguments)})},t.ptm("hiddenFirstFocusableEl"),{"data-p-hidden-accessible":!0,"data-p-hidden-focusable":!0}),null,16),pe(t.$slots,"header",{value:t.modelValue,options:s.visibleOptions}),t.showToggleAll&&t.selectionLimit==null||t.filter?(M(),W("div",ce({key:0,class:t.cx("header")},t.ptm("header")),[t.showToggleAll&&t.selectionLimit==null?(M(),we(l,{key:0,modelValue:s.allSelected,binary:!0,disabled:t.disabled,variant:t.variant,"aria-label":s.toggleAllAriaLabel,onChange:s.onToggleAll,unstyled:t.unstyled,pt:s.getHeaderCheckboxPTOptions("headerCheckbox")},{icon:ke(function(f){return[t.$slots.headercheckboxicon?(M(),we(pr(t.$slots.headercheckboxicon),{key:0,checked:f.checked,class:He(f.class)},null,8,["checked","class"])):f.checked?(M(),we(pr(t.checkboxIcon?"span":"CheckIcon"),ce({key:1,class:[f.class,f_({},t.checkboxIcon,f.checked)]},s.getHeaderCheckboxPTOptions("headerCheckbox.icon")),null,16,["class"])):ne("",!0)]}),_:1},8,["modelValue","disabled","variant","aria-label","onChange","unstyled","pt"])):ne("",!0),t.filter?(M(),W("div",ce({key:1,class:t.cx("filterContainer")},t.ptm("filterContainer")),[K("input",ce({ref:"filterInput",type:"text",value:i.filterValue,onVnodeMounted:e[4]||(e[4]=function(){return s.onFilterUpdated&&s.onFilterUpdated.apply(s,arguments)}),onVnodeUpdated:e[5]||(e[5]=function(){return s.onFilterUpdated&&s.onFilterUpdated.apply(s,arguments)}),class:t.cx("filterInput"),placeholder:t.filterPlaceholder,role:"searchbox",autocomplete:"off","aria-owns":i.id+"_list","aria-activedescendant":s.focusedOptionId,onKeydown:e[6]||(e[6]=function(){return s.onFilterKeyDown&&s.onFilterKeyDown.apply(s,arguments)}),onBlur:e[7]||(e[7]=function(){return s.onFilterBlur&&s.onFilterBlur.apply(s,arguments)}),onInput:e[8]||(e[8]=function(){return s.onFilterChange&&s.onFilterChange.apply(s,arguments)})},to(to({},t.filterInputProps),t.ptm("filterInput"))),null,16,Dne),pe(t.$slots,"filtericon",{class:He(t.cx("filterIcon"))},function(){return[(M(),we(pr(t.filterIcon?"span":"SearchIcon"),ce({class:[t.cx("filterIcon"),t.filterIcon]},t.ptm("filterIcon")),null,16,["class"]))]})],16)):ne("",!0),t.filter?(M(),W("span",ce({key:2,role:"status","aria-live":"polite",class:"p-hidden-accessible"},t.ptm("hiddenFilterResult"),{"data-p-hidden-accessible":!0}),Ue(s.filterResultMessageText),17)):ne("",!0),vo((M(),W("button",ce({class:t.cx("closeButton"),"aria-label":s.closeAriaLabel,onClick:e[9]||(e[9]=function(){return s.onCloseClick&&s.onCloseClick.apply(s,arguments)}),type:"button"},to(to({},t.closeButtonProps),t.ptm("closeButton"))),[pe(t.$slots,"closeicon",{class:He(t.cx("closeIcon"))},function(){return[(M(),we(pr(t.closeIcon?"span":"TimesIcon"),ce({class:[t.cx("closeIcon"),t.closeIcon]},t.ptm("closeIcon")),null,16,["class"]))]})],16,xne)),[[h]])],16)):ne("",!0),K("div",ce({class:t.cx("wrapper"),style:{"max-height":s.virtualScrollerDisabled?t.scrollHeight:""}},t.ptm("wrapper")),[Me(u,ce({ref:s.virtualScrollerRef},t.virtualScrollerOptions,{items:s.visibleOptions,style:{height:t.scrollHeight},tabindex:-1,disabled:s.virtualScrollerDisabled,pt:t.ptm("virtualScroller")}),sr({content:ke(function(f){var p=f.styleClass,g=f.contentRef,w=f.items,I=f.getItemOptions,k=f.contentStyle,P=f.itemSize;return[K("ul",ce({ref:function(_){return s.listRef(_,g)},id:i.id+"_list",class:[t.cx("list"),p],style:k,role:"listbox","aria-multiselectable":"true","aria-label":s.listAriaLabel},t.ptm("list")),[(M(!0),W(Oe,null,ft(w,function(T,_){return M(),W(Oe,{key:s.getOptionRenderKey(T,s.getOptionIndex(_,I))},[s.isOptionGroup(T)?(M(),W("li",ce({key:0,id:i.id+"_"+s.getOptionIndex(_,I),style:{height:P?P+"px":void 0},class:t.cx("itemGroup"),role:"option"},t.ptm("itemGroup")),[pe(t.$slots,"optiongroup",{option:T.optionGroup,index:s.getOptionIndex(_,I)},function(){return[tt(Ue(s.getOptionGroupLabel(T.optionGroup)),1)]})],16,Mne)):vo((M(),W("li",ce({key:1,id:i.id+"_"+s.getOptionIndex(_,I),style:{height:P?P+"px":void 0},class:t.cx("item",{option:T,index:_,getItemOptions:I}),role:"option","aria-label":s.getOptionLabel(T),"aria-selected":s.isSelected(T),"aria-disabled":s.isOptionDisabled(T),"aria-setsize":s.ariaSetSize,"aria-posinset":s.getAriaPosInset(s.getOptionIndex(_,I)),onClick:function(V){return s.onOptionSelect(V,T,s.getOptionIndex(_,I),!0)},onMousemove:function(V){return s.onOptionMouseMove(V,s.getOptionIndex(_,I))}},s.getCheckboxPTOptions(T,I,_,"item"),{"data-p-highlight":s.isSelected(T),"data-p-focused":i.focusedOptionIndex===s.getOptionIndex(_,I),"data-p-disabled":s.isOptionDisabled(T)}),[Me(l,{modelValue:s.isSelected(T),binary:!0,tabindex:-1,variant:t.variant,unstyled:t.unstyled,pt:s.getCheckboxPTOptions(T,I,_,"itemCheckbox")},{icon:ke(function(L){return[t.$slots.itemcheckboxicon?(M(),we(pr(t.$slots.itemcheckboxicon),{key:0,checked:L.checked,class:He(L.class)},null,8,["checked","class"])):L.checked?(M(),we(pr(t.checkboxIcon?"span":"CheckIcon"),ce({key:1,class:[L.class,f_({},t.checkboxIcon,L.checked)]},s.getCheckboxPTOptions(T,I,_,"itemCheckbox.icon")),null,16,["class"])):ne("",!0)]}),_:2},1032,["modelValue","variant","unstyled","pt"]),pe(t.$slots,"option",{option:T,index:s.getOptionIndex(_,I)},function(){return[K("span",An(ir(t.ptm("option"))),Ue(s.getOptionLabel(T)),17)]})],16,Lne)),[[h]])],64)}),128)),i.filterValue&&(!w||w&&w.length===0)?(M(),W("li",ce({key:0,class:t.cx("emptyMessage"),role:"option"},t.ptm("emptyMessage")),[pe(t.$slots,"emptyfilter",{},function(){return[tt(Ue(s.emptyFilterMessageText),1)]})],16)):!t.options||t.options&&t.options.length===0?(M(),W("li",ce({key:1,class:t.cx("emptyMessage"),role:"option"},t.ptm("emptyMessage")),[pe(t.$slots,"empty",{},function(){return[tt(Ue(s.emptyMessageText),1)]})],16)):ne("",!0)],16,Nne)]}),_:2},[t.$slots.loader?{name:"loader",fn:ke(function(f){var p=f.options;return[pe(t.$slots,"loader",{options:p})]}),key:"0"}:void 0]),1040,["items","style","disabled","pt"])],16),pe(t.$slots,"footer",{value:t.modelValue,options:s.visibleOptions}),!t.options||t.options&&t.options.length===0?(M(),W("span",ce({key:1,role:"status","aria-live":"polite",class:"p-hidden-accessible"},t.ptm("hiddenEmptyMessage"),{"data-p-hidden-accessible":!0}),Ue(s.emptyMessageText),17)):ne("",!0),K("span",ce({role:"status","aria-live":"polite",class:"p-hidden-accessible"},t.ptm("hiddenSelectedMessage"),{"data-p-hidden-accessible":!0}),Ue(s.selectedMessageText),17),K("span",ce({ref:"lastHiddenFocusableElementOnOverlay",role:"presentation","aria-hidden":"true",class:"p-hidden-accessible p-hidden-focusable",tabindex:0,onFocus:e[10]||(e[10]=function(){return s.onLastHiddenFocus&&s.onLastHiddenFocus.apply(s,arguments)})},t.ptm("hiddenLastFocusableEl"),{"data-p-hidden-accessible":!0,"data-p-hidden-focusable":!0}),null,16)],16)):ne("",!0)]}),_:3},16,["onEnter","onAfterEnter","onLeave","onAfterLeave"])]}),_:3},8,["appendTo"])],16)}Lx.render=Vne;var Fne={root:function(e){var n=e.instance,r=e.props;return["p-inputtextarea p-inputtext p-component",{"p-filled":n.filled,"p-inputtextarea-resizable ":r.autoResize,"p-invalid":r.invalid,"p-variant-filled":r.variant?r.variant==="filled":n.$primevue.config.inputStyle==="filled"}]}},$ne=Lr.extend({name:"textarea",classes:Fne}),Une={name:"BaseTextarea",extends:hs,props:{modelValue:null,autoResize:Boolean,invalid:{type:Boolean,default:!1},variant:{type:String,default:null}},style:$ne,provide:function(){return{$parentInstance:this}}},Vx={name:"Textarea",extends:Une,inheritAttrs:!1,emits:["update:modelValue"],mounted:function(){this.$el.offsetParent&&this.autoResize&&this.resize()},updated:function(){this.$el.offsetParent&&this.autoResize&&this.resize()},methods:{resize:function(){this.$el.style.height="auto",this.$el.style.height=this.$el.scrollHeight+"px",parseFloat(this.$el.style.height)>=parseFloat(this.$el.style.maxHeight)?(this.$el.style.overflowY="scroll",this.$el.style.height=this.$el.style.maxHeight):this.$el.style.overflow="hidden"},onInput:function(e){this.autoResize&&this.resize(),this.$emit("update:modelValue",e.target.value)}},computed:{filled:function(){return this.modelValue!=null&&this.modelValue.toString().length>0},ptmParams:function(){return{context:{disabled:this.$attrs.disabled||this.$attrs.disabled===""}}}}},Bne=["value","aria-invalid"];function Hne(t,e,n,r,i,s){return M(),W("textarea",ce({class:t.cx("root"),value:t.modelValue,"aria-invalid":t.invalid||void 0,onInput:e[0]||(e[0]=function(){return s.onInput&&s.onInput.apply(s,arguments)})},t.ptmi("root",s.ptmParams)),null,16,Bne)}Vx.render=Hne;/*!
 * Viewer.js v1.11.6
 * https://fengyuanchen.github.io/viewerjs
 *
 * Copyright 2015-present Chen Fengyuan
 * Released under the MIT license
 *
 * Date: 2023-09-17T03:16:38.052Z
 */function qS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function s1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?qS(Object(n),!0).forEach(function(r){qne(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):qS(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function p_(t){"@babel/helpers - typeof";return p_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},p_(t)}function jne(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function zS(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Fx(r.key),r)}}function Wne(t,e,n){return e&&zS(t.prototype,e),n&&zS(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function qne(t,e,n){return e=Fx(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function zne(t,e){if(typeof t!="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Fx(t){var e=zne(t,"string");return typeof e=="symbol"?e:String(e)}var KS={backdrop:!0,button:!0,navbar:!0,title:!0,toolbar:!0,className:"",container:"body",filter:null,fullscreen:!0,inheritedAttributes:["crossOrigin","decoding","isMap","loading","referrerPolicy","sizes","srcset","useMap"],initialCoverage:.9,initialViewIndex:0,inline:!1,interval:5e3,keyboard:!0,focus:!0,loading:!0,loop:!0,minWidth:200,minHeight:100,movable:!0,rotatable:!0,scalable:!0,zoomable:!0,zoomOnTouch:!0,zoomOnWheel:!0,slideOnTouch:!0,toggleOnDblclick:!0,tooltip:!0,transition:!0,zIndex:2015,zIndexInline:0,zoomRatio:.1,minZoomRatio:.01,maxZoomRatio:100,url:"src",ready:null,show:null,shown:null,hide:null,hidden:null,view:null,viewed:null,move:null,moved:null,rotate:null,rotated:null,scale:null,scaled:null,zoom:null,zoomed:null,play:null,stop:null},Kne='<div class="viewer-container" tabindex="-1" touch-action="none"><div class="viewer-canvas"></div><div class="viewer-footer"><div class="viewer-title"></div><div class="viewer-toolbar"></div><div class="viewer-navbar"><ul class="viewer-list" role="navigation"></ul></div></div><div class="viewer-tooltip" role="alert" aria-hidden="true"></div><div class="viewer-button" data-viewer-action="mix" role="button"></div><div class="viewer-player"></div></div>',zm=typeof window<"u"&&typeof window.document<"u",Us=zm?window:{},$l=zm&&Us.document.documentElement?"ontouchstart"in Us.document.documentElement:!1,o1=zm?"PointerEvent"in Us:!1,dt="viewer",Sf="move",$x="switch",hc="zoom",rf="".concat(dt,"-active"),Yne="".concat(dt,"-close"),Cf="".concat(dt,"-fade"),m_="".concat(dt,"-fixed"),Gne="".concat(dt,"-fullscreen"),YS="".concat(dt,"-fullscreen-exit"),ia="".concat(dt,"-hide"),Qne="".concat(dt,"-hide-md-down"),Xne="".concat(dt,"-hide-sm-down"),Jne="".concat(dt,"-hide-xs-down"),ui="".concat(dt,"-in"),$c="".concat(dt,"-invisible"),Ul="".concat(dt,"-loading"),Zne="".concat(dt,"-move"),GS="".concat(dt,"-open"),il="".concat(dt,"-show"),Tn="".concat(dt,"-transition"),du="click",g_="dblclick",QS="dragstart",XS="focusin",JS="keydown",di="load",ga="error",ere=$l?"touchend touchcancel":"mouseup",tre=$l?"touchmove":"mousemove",nre=$l?"touchstart":"mousedown",ZS=o1?"pointerdown":nre,eC=o1?"pointermove":tre,tC=o1?"pointerup pointercancel":ere,nC="resize",Ei="transitionend",rC="wheel",iC="ready",sC="show",oC="shown",aC="hide",lC="hidden",uC="view",Ld="viewed",cC="move",dC="moved",hC="rotate",fC="rotated",pC="scale",mC="scaled",gC="zoom",vC="zoomed",yC="play",_C="stop",Dp="".concat(dt,"Action"),a1=/\s\s*/,sf=["zoom-in","zoom-out","one-to-one","reset","prev","play","next","rotate-left","rotate-right","flip-horizontal","flip-vertical"];function Vd(t){return typeof t=="string"}var rre=Number.isNaN||Us.isNaN;function vn(t){return typeof t=="number"&&!rre(t)}function bl(t){return typeof t>"u"}function hu(t){return p_(t)==="object"&&t!==null}var ire=Object.prototype.hasOwnProperty;function wl(t){if(!hu(t))return!1;try{var e=t.constructor,n=e.prototype;return e&&n&&ire.call(n,"isPrototypeOf")}catch{return!1}}function Gt(t){return typeof t=="function"}function tn(t,e){if(t&&Gt(e))if(Array.isArray(t)||vn(t.length)){var n=t.length,r;for(r=0;r<n&&e.call(t,t[r],r,t)!==!1;r+=1);}else hu(t)&&Object.keys(t).forEach(function(i){e.call(t,t[i],i,t)});return t}var ii=Object.assign||function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return hu(e)&&r.length>0&&r.forEach(function(s){hu(s)&&Object.keys(s).forEach(function(o){e[o]=s[o]})}),e},sre=/^(?:width|height|left|top|marginLeft|marginTop)$/;function Pi(t,e){var n=t.style;tn(e,function(r,i){sre.test(i)&&vn(r)&&(r+="px"),n[i]=r})}function ore(t){return Vd(t)?t.replace(/&(?!amp;|quot;|#39;|lt;|gt;)/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;"):t}function fl(t,e){return!t||!e?!1:t.classList?t.classList.contains(e):t.className.indexOf(e)>-1}function st(t,e){if(!(!t||!e)){if(vn(t.length)){tn(t,function(r){st(r,e)});return}if(t.classList){t.classList.add(e);return}var n=t.className.trim();n?n.indexOf(e)<0&&(t.className="".concat(n," ").concat(e)):t.className=e}}function Lt(t,e){if(!(!t||!e)){if(vn(t.length)){tn(t,function(n){Lt(n,e)});return}if(t.classList){t.classList.remove(e);return}t.className.indexOf(e)>=0&&(t.className=t.className.replace(e,""))}}function Fd(t,e,n){if(e){if(vn(t.length)){tn(t,function(r){Fd(r,e,n)});return}n?st(t,e):Lt(t,e)}}var are=/([a-z\d])([A-Z])/g;function l1(t){return t.replace(are,"$1-$2").toLowerCase()}function Tl(t,e){return hu(t[e])?t[e]:t.dataset?t.dataset[e]:t.getAttribute("data-".concat(l1(e)))}function v_(t,e,n){hu(n)?t[e]=n:t.dataset?t.dataset[e]=n:t.setAttribute("data-".concat(l1(e)),n)}var Ux=function(){var t=!1;if(zm){var e=!1,n=function(){},r=Object.defineProperty({},"once",{get:function(){return t=!0,e},set:function(s){e=s}});Us.addEventListener("test",n,r),Us.removeEventListener("test",n,r)}return t}();function Qt(t,e,n){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},i=n;e.trim().split(a1).forEach(function(s){if(!Ux){var o=t.listeners;o&&o[s]&&o[s][n]&&(i=o[s][n],delete o[s][n],Object.keys(o[s]).length===0&&delete o[s],Object.keys(o).length===0&&delete t.listeners)}t.removeEventListener(s,i,r)})}function at(t,e,n){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},i=n;e.trim().split(a1).forEach(function(s){if(r.once&&!Ux){var o=t.listeners,a=o===void 0?{}:o;i=function(){delete a[s][n],t.removeEventListener(s,i,r);for(var u=arguments.length,c=new Array(u),h=0;h<u;h++)c[h]=arguments[h];n.apply(t,c)},a[s]||(a[s]={}),a[s][n]&&t.removeEventListener(s,a[s][n],r),a[s][n]=i,t.listeners=a}t.addEventListener(s,i,r)})}function In(t,e,n,r){var i;return Gt(Event)&&Gt(CustomEvent)?i=new CustomEvent(e,s1({bubbles:!0,cancelable:!0,detail:n},r)):(i=document.createEvent("CustomEvent"),i.initCustomEvent(e,!0,!0,n)),t.dispatchEvent(i)}function lre(t){var e=t.getBoundingClientRect();return{left:e.left+(window.pageXOffset-document.documentElement.clientLeft),top:e.top+(window.pageYOffset-document.documentElement.clientTop)}}function Af(t){var e=t.rotate,n=t.scaleX,r=t.scaleY,i=t.translateX,s=t.translateY,o=[];vn(i)&&i!==0&&o.push("translateX(".concat(i,"px)")),vn(s)&&s!==0&&o.push("translateY(".concat(s,"px)")),vn(e)&&e!==0&&o.push("rotate(".concat(e,"deg)")),vn(n)&&n!==1&&o.push("scaleX(".concat(n,")")),vn(r)&&r!==1&&o.push("scaleY(".concat(r,")"));var a=o.length?o.join(" "):"none";return{WebkitTransform:a,msTransform:a,transform:a}}function ure(t){return Vd(t)?decodeURIComponent(t.replace(/^.*\//,"").replace(/[?&#].*$/,"")):""}var Iv=Us.navigator&&/Version\/\d+(\.\d+)+?\s+Safari/i.test(Us.navigator.userAgent);function Bx(t,e,n){var r=document.createElement("img");if(t.naturalWidth&&!Iv)return n(t.naturalWidth,t.naturalHeight),r;var i=document.body||document.documentElement;return r.onload=function(){n(r.width,r.height),Iv||i.removeChild(r)},tn(e.inheritedAttributes,function(s){var o=t.getAttribute(s);o!==null&&r.setAttribute(s,o)}),r.src=t.src,Iv||(r.style.cssText="left:0;max-height:none!important;max-width:none!important;min-height:0!important;min-width:0!important;opacity:0;position:absolute;top:0;z-index:-1;",i.appendChild(r)),r}function of(t){switch(t){case 2:return Jne;case 3:return Xne;case 4:return Qne;default:return""}}function cre(t){var e=s1({},t),n=[];return tn(t,function(r,i){delete e[i],tn(e,function(s){var o=Math.abs(r.startX-s.startX),a=Math.abs(r.startY-s.startY),l=Math.abs(r.endX-s.endX),u=Math.abs(r.endY-s.endY),c=Math.sqrt(o*o+a*a),h=Math.sqrt(l*l+u*u),f=(h-c)/c;n.push(f)})}),n.sort(function(r,i){return Math.abs(r)<Math.abs(i)}),n[0]}function af(t,e){var n=t.pageX,r=t.pageY,i={endX:n,endY:r};return e?i:s1({timeStamp:Date.now(),startX:n,startY:r},i)}function dre(t){var e=0,n=0,r=0;return tn(t,function(i){var s=i.startX,o=i.startY;e+=s,n+=o,r+=1}),e/=r,n/=r,{pageX:e,pageY:n}}var hre={render:function(){this.initContainer(),this.initViewer(),this.initList(),this.renderViewer()},initBody:function(){var e=this.element.ownerDocument,n=e.body||e.documentElement;this.body=n,this.scrollbarWidth=window.innerWidth-e.documentElement.clientWidth,this.initialBodyPaddingRight=n.style.paddingRight,this.initialBodyComputedPaddingRight=window.getComputedStyle(n).paddingRight},initContainer:function(){this.containerData={width:window.innerWidth,height:window.innerHeight}},initViewer:function(){var e=this.options,n=this.parent,r;e.inline&&(r={width:Math.max(n.offsetWidth,e.minWidth),height:Math.max(n.offsetHeight,e.minHeight)},this.parentData=r),(this.fulled||!r)&&(r=this.containerData),this.viewerData=ii({},r)},renderViewer:function(){this.options.inline&&!this.fulled&&Pi(this.viewer,this.viewerData)},initList:function(){var e=this,n=this.element,r=this.options,i=this.list,s=[];i.innerHTML="",tn(this.images,function(o,a){var l=o.src,u=o.alt||ure(l),c=e.getImageURL(o);if(l||c){var h=document.createElement("li"),f=document.createElement("img");tn(r.inheritedAttributes,function(p){var g=o.getAttribute(p);g!==null&&f.setAttribute(p,g)}),r.navbar&&(f.src=l||c),f.alt=u,f.setAttribute("data-original-url",c||l),h.setAttribute("data-index",a),h.setAttribute("data-viewer-action","view"),h.setAttribute("role","button"),r.keyboard&&h.setAttribute("tabindex",0),h.appendChild(f),i.appendChild(h),s.push(h)}}),this.items=s,tn(s,function(o){var a=o.firstElementChild,l,u;v_(a,"filled",!0),r.loading&&st(o,Ul),at(a,di,l=function(h){Qt(a,ga,u),r.loading&&Lt(o,Ul),e.loadImage(h)},{once:!0}),at(a,ga,u=function(){Qt(a,di,l),r.loading&&Lt(o,Ul)},{once:!0})}),r.transition&&at(n,Ld,function(){st(i,Tn)},{once:!0})},renderList:function(){var e=this.index,n=this.items[e];if(n){var r=n.nextElementSibling,i=parseInt(window.getComputedStyle(r||n).marginLeft,10),s=n.offsetWidth,o=s+i;Pi(this.list,ii({width:o*this.length-i},Af({translateX:(this.viewerData.width-s)/2-o*e})))}},resetList:function(){var e=this.list;e.innerHTML="",Lt(e,Tn),Pi(e,Af({translateX:0}))},initImage:function(e){var n=this,r=this.options,i=this.image,s=this.viewerData,o=this.footer.offsetHeight,a=s.width,l=Math.max(s.height-o,o),u=this.imageData||{},c;this.imageInitializing={abort:function(){c.onload=null}},c=Bx(i,r,function(h,f){var p=h/f,g=Math.max(0,Math.min(1,r.initialCoverage)),w=a,I=l;n.imageInitializing=!1,l*p>a?I=a/p:w=l*p,g=vn(g)?g:.9,w=Math.min(w*g,h),I=Math.min(I*g,f);var k=(a-w)/2,P=(l-I)/2,T={left:k,top:P,x:k,y:P,width:w,height:I,oldRatio:1,ratio:w/h,aspectRatio:p,naturalWidth:h,naturalHeight:f},_=ii({},T);r.rotatable&&(T.rotate=u.rotate||0,_.rotate=0),r.scalable&&(T.scaleX=u.scaleX||1,T.scaleY=u.scaleY||1,_.scaleX=1,_.scaleY=1),n.imageData=T,n.initialImageData=_,e&&e()})},renderImage:function(e){var n=this,r=this.image,i=this.imageData;if(Pi(r,ii({width:i.width,height:i.height,marginLeft:i.x,marginTop:i.y},Af(i))),e)if((this.viewing||this.moving||this.rotating||this.scaling||this.zooming)&&this.options.transition&&fl(r,Tn)){var s=function(){n.imageRendering=!1,e()};this.imageRendering={abort:function(){Qt(r,Ei,s)}},at(r,Ei,s,{once:!0})}else e()},resetImage:function(){var e=this.image;e&&(this.viewing&&this.viewing.abort(),e.parentNode.removeChild(e),this.image=null,this.title.innerHTML="")}},fre={bind:function(){var e=this.options,n=this.viewer,r=this.canvas,i=this.element.ownerDocument;at(n,du,this.onClick=this.click.bind(this)),at(n,QS,this.onDragStart=this.dragstart.bind(this)),at(r,ZS,this.onPointerDown=this.pointerdown.bind(this)),at(i,eC,this.onPointerMove=this.pointermove.bind(this)),at(i,tC,this.onPointerUp=this.pointerup.bind(this)),at(i,JS,this.onKeyDown=this.keydown.bind(this)),at(window,nC,this.onResize=this.resize.bind(this)),e.zoomable&&e.zoomOnWheel&&at(n,rC,this.onWheel=this.wheel.bind(this),{passive:!1,capture:!0}),e.toggleOnDblclick&&at(r,g_,this.onDblclick=this.dblclick.bind(this))},unbind:function(){var e=this.options,n=this.viewer,r=this.canvas,i=this.element.ownerDocument;Qt(n,du,this.onClick),Qt(n,QS,this.onDragStart),Qt(r,ZS,this.onPointerDown),Qt(i,eC,this.onPointerMove),Qt(i,tC,this.onPointerUp),Qt(i,JS,this.onKeyDown),Qt(window,nC,this.onResize),e.zoomable&&e.zoomOnWheel&&Qt(n,rC,this.onWheel,{passive:!1,capture:!0}),e.toggleOnDblclick&&Qt(r,g_,this.onDblclick)}},pre={click:function(e){var n=this.options,r=this.imageData,i=e.target,s=Tl(i,Dp);switch(!s&&i.localName==="img"&&i.parentElement.localName==="li"&&(i=i.parentElement,s=Tl(i,Dp)),$l&&e.isTrusted&&i===this.canvas&&clearTimeout(this.clickCanvasTimeout),s){case"mix":this.played?this.stop():n.inline?this.fulled?this.exit():this.full():this.hide();break;case"hide":this.pointerMoved||this.hide();break;case"view":this.view(Tl(i,"index"));break;case"zoom-in":this.zoom(.1,!0);break;case"zoom-out":this.zoom(-.1,!0);break;case"one-to-one":this.toggle();break;case"reset":this.reset();break;case"prev":this.prev(n.loop);break;case"play":this.play(n.fullscreen);break;case"next":this.next(n.loop);break;case"rotate-left":this.rotate(-90);break;case"rotate-right":this.rotate(90);break;case"flip-horizontal":this.scaleX(-r.scaleX||-1);break;case"flip-vertical":this.scaleY(-r.scaleY||-1);break;default:this.played&&this.stop()}},dblclick:function(e){e.preventDefault(),this.viewed&&e.target===this.image&&($l&&e.isTrusted&&clearTimeout(this.doubleClickImageTimeout),this.toggle(e.isTrusted?e:e.detail&&e.detail.originalEvent))},load:function(){var e=this;this.timeout&&(clearTimeout(this.timeout),this.timeout=!1);var n=this.element,r=this.options,i=this.image,s=this.index,o=this.viewerData;Lt(i,$c),r.loading&&Lt(this.canvas,Ul),i.style.cssText="height:0;"+"margin-left:".concat(o.width/2,"px;")+"margin-top:".concat(o.height/2,"px;")+"max-width:none!important;position:relative;width:0;",this.initImage(function(){Fd(i,Zne,r.movable),Fd(i,Tn,r.transition),e.renderImage(function(){e.viewed=!0,e.viewing=!1,Gt(r.viewed)&&at(n,Ld,r.viewed,{once:!0}),In(n,Ld,{originalImage:e.images[s],index:s,image:i},{cancelable:!1})})})},loadImage:function(e){var n=e.target,r=n.parentNode,i=r.offsetWidth||30,s=r.offsetHeight||50,o=!!Tl(n,"filled");Bx(n,this.options,function(a,l){var u=a/l,c=i,h=s;s*u>i?o?c=s*u:h=i/u:o?h=i/u:c=s*u,Pi(n,ii({width:c,height:h},Af({translateX:(i-c)/2,translateY:(s-h)/2})))})},keydown:function(e){var n=this.options;if(n.keyboard){var r=e.keyCode||e.which||e.charCode;switch(r){case 13:this.viewer.contains(e.target)&&this.click(e);break}if(this.fulled)switch(r){case 27:this.played?this.stop():n.inline?this.fulled&&this.exit():this.hide();break;case 32:this.played&&this.stop();break;case 37:this.played&&this.playing?this.playing.prev():this.prev(n.loop);break;case 38:e.preventDefault(),this.zoom(n.zoomRatio,!0);break;case 39:this.played&&this.playing?this.playing.next():this.next(n.loop);break;case 40:e.preventDefault(),this.zoom(-n.zoomRatio,!0);break;case 48:case 49:e.ctrlKey&&(e.preventDefault(),this.toggle());break}}},dragstart:function(e){e.target.localName==="img"&&e.preventDefault()},pointerdown:function(e){var n=this.options,r=this.pointers,i=e.buttons,s=e.button;if(this.pointerMoved=!1,!(!this.viewed||this.showing||this.viewing||this.hiding||(e.type==="mousedown"||e.type==="pointerdown"&&e.pointerType==="mouse")&&(vn(i)&&i!==1||vn(s)&&s!==0||e.ctrlKey))){e.preventDefault(),e.changedTouches?tn(e.changedTouches,function(a){r[a.identifier]=af(a)}):r[e.pointerId||0]=af(e);var o=n.movable?Sf:!1;n.zoomOnTouch&&n.zoomable&&Object.keys(r).length>1?o=hc:n.slideOnTouch&&(e.pointerType==="touch"||e.type==="touchstart")&&this.isSwitchable()&&(o=$x),n.transition&&(o===Sf||o===hc)&&Lt(this.image,Tn),this.action=o}},pointermove:function(e){var n=this.pointers,r=this.action;!this.viewed||!r||(e.preventDefault(),e.changedTouches?tn(e.changedTouches,function(i){ii(n[i.identifier]||{},af(i,!0))}):ii(n[e.pointerId||0]||{},af(e,!0)),this.change(e))},pointerup:function(e){var n=this,r=this.options,i=this.action,s=this.pointers,o;e.changedTouches?tn(e.changedTouches,function(a){o=s[a.identifier],delete s[a.identifier]}):(o=s[e.pointerId||0],delete s[e.pointerId||0]),i&&(e.preventDefault(),r.transition&&(i===Sf||i===hc)&&st(this.image,Tn),this.action=!1,$l&&i!==hc&&o&&Date.now()-o.timeStamp<500&&(clearTimeout(this.clickCanvasTimeout),clearTimeout(this.doubleClickImageTimeout),r.toggleOnDblclick&&this.viewed&&e.target===this.image?this.imageClicked?(this.imageClicked=!1,this.doubleClickImageTimeout=setTimeout(function(){In(n.image,g_,{originalEvent:e})},50)):(this.imageClicked=!0,this.doubleClickImageTimeout=setTimeout(function(){n.imageClicked=!1},500)):(this.imageClicked=!1,r.backdrop&&r.backdrop!=="static"&&e.target===this.canvas&&(this.clickCanvasTimeout=setTimeout(function(){In(n.canvas,du,{originalEvent:e})},50)))))},resize:function(){var e=this;if(!(!this.isShown||this.hiding)&&(this.fulled&&(this.close(),this.initBody(),this.open()),this.initContainer(),this.initViewer(),this.renderViewer(),this.renderList(),this.viewed&&this.initImage(function(){e.renderImage()}),this.played)){if(this.options.fullscreen&&this.fulled&&!(document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement)){this.stop();return}tn(this.player.getElementsByTagName("img"),function(n){at(n,di,e.loadImage.bind(e),{once:!0}),In(n,di)})}},wheel:function(e){var n=this;if(this.viewed&&(e.preventDefault(),!this.wheeling)){this.wheeling=!0,setTimeout(function(){n.wheeling=!1},50);var r=Number(this.options.zoomRatio)||.1,i=1;e.deltaY?i=e.deltaY>0?1:-1:e.wheelDelta?i=-e.wheelDelta/120:e.detail&&(i=e.detail>0?1:-1),this.zoom(-i*r,!0,null,e)}}},mre={show:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,n=this.element,r=this.options;if(r.inline||this.showing||this.isShown||this.showing)return this;if(!this.ready)return this.build(),this.ready&&this.show(e),this;if(Gt(r.show)&&at(n,sC,r.show,{once:!0}),In(n,sC)===!1||!this.ready)return this;this.hiding&&this.transitioning.abort(),this.showing=!0,this.open();var i=this.viewer;if(Lt(i,ia),i.setAttribute("role","dialog"),i.setAttribute("aria-labelledby",this.title.id),i.setAttribute("aria-modal",!0),i.removeAttribute("aria-hidden"),r.transition&&!e){var s=this.shown.bind(this);this.transitioning={abort:function(){Qt(i,Ei,s),Lt(i,ui)}},st(i,Tn),i.initialOffsetWidth=i.offsetWidth,at(i,Ei,s,{once:!0}),st(i,ui)}else st(i,ui),this.shown();return this},hide:function(){var e=this,n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,r=this.element,i=this.options;if(i.inline||this.hiding||!(this.isShown||this.showing))return this;if(Gt(i.hide)&&at(r,aC,i.hide,{once:!0}),In(r,aC)===!1)return this;this.showing&&this.transitioning.abort(),this.hiding=!0,this.played?this.stop():this.viewing&&this.viewing.abort();var s=this.viewer,o=this.image,a=function(){Lt(s,ui),e.hidden()};if(i.transition&&!n){var l=function c(h){h&&h.target===s&&(Qt(s,Ei,c),e.hidden())},u=function(){fl(s,Tn)?(at(s,Ei,l),Lt(s,ui)):a()};this.transitioning={abort:function(){e.viewed&&fl(o,Tn)?Qt(o,Ei,u):fl(s,Tn)&&Qt(s,Ei,l)}},this.viewed&&fl(o,Tn)?(at(o,Ei,u,{once:!0}),this.zoomTo(0,!1,null,null,!0)):u()}else a();return this},view:function(){var e=this,n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.options.initialViewIndex;if(n=Number(n)||0,this.hiding||this.played||n<0||n>=this.length||this.viewed&&n===this.index)return this;if(!this.isShown)return this.index=n,this.show();this.viewing&&this.viewing.abort();var r=this.element,i=this.options,s=this.title,o=this.canvas,a=this.items[n],l=a.querySelector("img"),u=Tl(l,"originalUrl"),c=l.getAttribute("alt"),h=document.createElement("img");if(tn(i.inheritedAttributes,function(I){var k=l.getAttribute(I);k!==null&&h.setAttribute(I,k)}),h.src=u,h.alt=c,Gt(i.view)&&at(r,uC,i.view,{once:!0}),In(r,uC,{originalImage:this.images[n],index:n,image:h})===!1||!this.isShown||this.hiding||this.played)return this;var f=this.items[this.index];f&&(Lt(f,rf),f.removeAttribute("aria-selected")),st(a,rf),a.setAttribute("aria-selected",!0),i.focus&&a.focus(),this.image=h,this.viewed=!1,this.index=n,this.imageData={},st(h,$c),i.loading&&st(o,Ul),o.innerHTML="",o.appendChild(h),this.renderList(),s.innerHTML="";var p=function(){var k=e.imageData,P=Array.isArray(i.title)?i.title[1]:i.title;s.innerHTML=ore(Gt(P)?P.call(e,h,k):"".concat(c," (").concat(k.naturalWidth," × ").concat(k.naturalHeight,")"))},g,w;return at(r,Ld,p,{once:!0}),this.viewing={abort:function(){Qt(r,Ld,p),h.complete?e.imageRendering?e.imageRendering.abort():e.imageInitializing&&e.imageInitializing.abort():(h.src="",Qt(h,di,g),e.timeout&&clearTimeout(e.timeout))}},h.complete?this.load():(at(h,di,g=function(){Qt(h,ga,w),e.load()},{once:!0}),at(h,ga,w=function(){Qt(h,di,g),e.timeout&&(clearTimeout(e.timeout),e.timeout=!1),Lt(h,$c),i.loading&&Lt(e.canvas,Ul)},{once:!0}),this.timeout&&clearTimeout(this.timeout),this.timeout=setTimeout(function(){Lt(h,$c),e.timeout=!1},1e3)),this},prev:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,n=this.index-1;return n<0&&(n=e?this.length-1:0),this.view(n),this},next:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,n=this.length-1,r=this.index+1;return r>n&&(r=e?0:n),this.view(r),this},move:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e,r=this.imageData;return this.moveTo(bl(e)?e:r.x+Number(e),bl(n)?n:r.y+Number(n)),this},moveTo:function(e){var n=this,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,s=this.element,o=this.options,a=this.imageData;if(e=Number(e),r=Number(r),this.viewed&&!this.played&&o.movable){var l=a.x,u=a.y,c=!1;if(vn(e)?c=!0:e=l,vn(r)?c=!0:r=u,c){if(Gt(o.move)&&at(s,cC,o.move,{once:!0}),In(s,cC,{x:e,y:r,oldX:l,oldY:u,originalEvent:i})===!1)return this;a.x=e,a.y=r,a.left=e,a.top=r,this.moving=!0,this.renderImage(function(){n.moving=!1,Gt(o.moved)&&at(s,dC,o.moved,{once:!0}),In(s,dC,{x:e,y:r,oldX:l,oldY:u,originalEvent:i},{cancelable:!1})})}}return this},rotate:function(e){return this.rotateTo((this.imageData.rotate||0)+Number(e)),this},rotateTo:function(e){var n=this,r=this.element,i=this.options,s=this.imageData;if(e=Number(e),vn(e)&&this.viewed&&!this.played&&i.rotatable){var o=s.rotate;if(Gt(i.rotate)&&at(r,hC,i.rotate,{once:!0}),In(r,hC,{degree:e,oldDegree:o})===!1)return this;s.rotate=e,this.rotating=!0,this.renderImage(function(){n.rotating=!1,Gt(i.rotated)&&at(r,fC,i.rotated,{once:!0}),In(r,fC,{degree:e,oldDegree:o},{cancelable:!1})})}return this},scaleX:function(e){return this.scale(e,this.imageData.scaleY),this},scaleY:function(e){return this.scale(this.imageData.scaleX,e),this},scale:function(e){var n=this,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e,i=this.element,s=this.options,o=this.imageData;if(e=Number(e),r=Number(r),this.viewed&&!this.played&&s.scalable){var a=o.scaleX,l=o.scaleY,u=!1;if(vn(e)?u=!0:e=a,vn(r)?u=!0:r=l,u){if(Gt(s.scale)&&at(i,pC,s.scale,{once:!0}),In(i,pC,{scaleX:e,scaleY:r,oldScaleX:a,oldScaleY:l})===!1)return this;o.scaleX=e,o.scaleY=r,this.scaling=!0,this.renderImage(function(){n.scaling=!1,Gt(s.scaled)&&at(i,mC,s.scaled,{once:!0}),In(i,mC,{scaleX:e,scaleY:r,oldScaleX:a,oldScaleY:l},{cancelable:!1})})}}return this},zoom:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null,s=this.imageData;return e=Number(e),e<0?e=1/(1-e):e=1+e,this.zoomTo(s.width*e/s.naturalWidth,n,r,i),this},zoomTo:function(e){var n=this,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null,o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1,a=this.element,l=this.options,u=this.pointers,c=this.imageData,h=c.x,f=c.y,p=c.width,g=c.height,w=c.naturalWidth,I=c.naturalHeight;if(e=Math.max(0,e),vn(e)&&this.viewed&&!this.played&&(o||l.zoomable)){if(!o){var k=Math.max(.01,l.minZoomRatio),P=Math.min(100,l.maxZoomRatio);e=Math.min(Math.max(e,k),P)}if(s)switch(s.type){case"wheel":l.zoomRatio>=.055&&e>.95&&e<1.05&&(e=1);break;case"pointermove":case"touchmove":case"mousemove":e>.99&&e<1.01&&(e=1);break}var T=w*e,_=I*e,L=T-p,V=_-g,S=c.ratio;if(Gt(l.zoom)&&at(a,gC,l.zoom,{once:!0}),In(a,gC,{ratio:e,oldRatio:S,originalEvent:s})===!1)return this;if(this.zooming=!0,s){var E=lre(this.viewer),b=u&&Object.keys(u).length>0?dre(u):{pageX:s.pageX,pageY:s.pageY};c.x-=L*((b.pageX-E.left-h)/p),c.y-=V*((b.pageY-E.top-f)/g)}else wl(i)&&vn(i.x)&&vn(i.y)?(c.x-=L*((i.x-h)/p),c.y-=V*((i.y-f)/g)):(c.x-=L/2,c.y-=V/2);c.left=c.x,c.top=c.y,c.width=T,c.height=_,c.oldRatio=S,c.ratio=e,this.renderImage(function(){n.zooming=!1,Gt(l.zoomed)&&at(a,vC,l.zoomed,{once:!0}),In(a,vC,{ratio:e,oldRatio:S,originalEvent:s},{cancelable:!1})}),r&&this.tooltip()}return this},play:function(){var e=this,n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;if(!this.isShown||this.played)return this;var r=this.element,i=this.options;if(Gt(i.play)&&at(r,yC,i.play,{once:!0}),In(r,yC)===!1)return this;var s=this.player,o=this.loadImage.bind(this),a=[],l=0,u=0;if(this.played=!0,this.onLoadWhenPlay=o,n&&this.requestFullscreen(n),st(s,il),tn(this.items,function(f,p){var g=f.querySelector("img"),w=document.createElement("img");w.src=Tl(g,"originalUrl"),w.alt=g.getAttribute("alt"),w.referrerPolicy=g.referrerPolicy,l+=1,st(w,Cf),Fd(w,Tn,i.transition),fl(f,rf)&&(st(w,ui),u=p),a.push(w),at(w,di,o,{once:!0}),s.appendChild(w)}),vn(i.interval)&&i.interval>0){var c=function f(){clearTimeout(e.playing.timeout),Lt(a[u],ui),u-=1,u=u>=0?u:l-1,st(a[u],ui),e.playing.timeout=setTimeout(f,i.interval)},h=function f(){clearTimeout(e.playing.timeout),Lt(a[u],ui),u+=1,u=u<l?u:0,st(a[u],ui),e.playing.timeout=setTimeout(f,i.interval)};l>1&&(this.playing={prev:c,next:h,timeout:setTimeout(h,i.interval)})}return this},stop:function(){var e=this;if(!this.played)return this;var n=this.element,r=this.options;if(Gt(r.stop)&&at(n,_C,r.stop,{once:!0}),In(n,_C)===!1)return this;var i=this.player;return clearTimeout(this.playing.timeout),this.playing=!1,this.played=!1,tn(i.getElementsByTagName("img"),function(s){Qt(s,di,e.onLoadWhenPlay)}),Lt(i,il),i.innerHTML="",this.exitFullscreen(),this},full:function(){var e=this,n=this.options,r=this.viewer,i=this.image,s=this.list;return!this.isShown||this.played||this.fulled||!n.inline?this:(this.fulled=!0,this.open(),st(this.button,YS),n.transition&&(Lt(s,Tn),this.viewed&&Lt(i,Tn)),st(r,m_),r.setAttribute("role","dialog"),r.setAttribute("aria-labelledby",this.title.id),r.setAttribute("aria-modal",!0),r.removeAttribute("style"),Pi(r,{zIndex:n.zIndex}),n.focus&&this.enforceFocus(),this.initContainer(),this.viewerData=ii({},this.containerData),this.renderList(),this.viewed&&this.initImage(function(){e.renderImage(function(){n.transition&&setTimeout(function(){st(i,Tn),st(s,Tn)},0)})}),this)},exit:function(){var e=this,n=this.options,r=this.viewer,i=this.image,s=this.list;return!this.isShown||this.played||!this.fulled||!n.inline?this:(this.fulled=!1,this.close(),Lt(this.button,YS),n.transition&&(Lt(s,Tn),this.viewed&&Lt(i,Tn)),n.focus&&this.clearEnforceFocus(),r.removeAttribute("role"),r.removeAttribute("aria-labelledby"),r.removeAttribute("aria-modal"),Lt(r,m_),Pi(r,{zIndex:n.zIndexInline}),this.viewerData=ii({},this.parentData),this.renderViewer(),this.renderList(),this.viewed&&this.initImage(function(){e.renderImage(function(){n.transition&&setTimeout(function(){st(i,Tn),st(s,Tn)},0)})}),this)},tooltip:function(){var e=this,n=this.options,r=this.tooltipBox,i=this.imageData;return!this.viewed||this.played||!n.tooltip?this:(r.textContent="".concat(Math.round(i.ratio*100),"%"),this.tooltipping?clearTimeout(this.tooltipping):n.transition?(this.fading&&In(r,Ei),st(r,il),st(r,Cf),st(r,Tn),r.removeAttribute("aria-hidden"),r.initialOffsetWidth=r.offsetWidth,st(r,ui)):(st(r,il),r.removeAttribute("aria-hidden")),this.tooltipping=setTimeout(function(){n.transition?(at(r,Ei,function(){Lt(r,il),Lt(r,Cf),Lt(r,Tn),r.setAttribute("aria-hidden",!0),e.fading=!1},{once:!0}),Lt(r,ui),e.fading=!0):(Lt(r,il),r.setAttribute("aria-hidden",!0)),e.tooltipping=!1},1e3),this)},toggle:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;return this.imageData.ratio===1?this.zoomTo(this.imageData.oldRatio,!0,null,e):this.zoomTo(1,!0,null,e),this},reset:function(){return this.viewed&&!this.played&&(this.imageData=ii({},this.initialImageData),this.renderImage()),this},update:function(){var e=this,n=this.element,r=this.options,i=this.isImg;if(i&&!n.parentNode)return this.destroy();var s=[];if(tn(i?[n]:n.querySelectorAll("img"),function(u){Gt(r.filter)?r.filter.call(e,u)&&s.push(u):e.getImageURL(u)&&s.push(u)}),!s.length)return this;if(this.images=s,this.length=s.length,this.ready){var o=[];if(tn(this.items,function(u,c){var h=u.querySelector("img"),f=s[c];f&&h?(f.src!==h.src||f.alt!==h.alt)&&o.push(c):o.push(c)}),Pi(this.list,{width:"auto"}),this.initList(),this.isShown)if(this.length){if(this.viewed){var a=o.indexOf(this.index);if(a>=0)this.viewed=!1,this.view(Math.max(Math.min(this.index-a,this.length-1),0));else{var l=this.items[this.index];st(l,rf),l.setAttribute("aria-selected",!0)}}}else this.image=null,this.viewed=!1,this.index=0,this.imageData={},this.canvas.innerHTML="",this.title.innerHTML=""}else this.build();return this},destroy:function(){var e=this.element,n=this.options;return e[dt]?(this.destroyed=!0,this.ready?(this.played&&this.stop(),n.inline?(this.fulled&&this.exit(),this.unbind()):this.isShown?(this.viewing&&(this.imageRendering?this.imageRendering.abort():this.imageInitializing&&this.imageInitializing.abort()),this.hiding&&this.transitioning.abort(),this.hidden()):this.showing&&(this.transitioning.abort(),this.hidden()),this.ready=!1,this.viewer.parentNode.removeChild(this.viewer)):n.inline&&(this.delaying?this.delaying.abort():this.initializing&&this.initializing.abort()),n.inline||Qt(e,du,this.onStart),e[dt]=void 0,this):this}},gre={getImageURL:function(e){var n=this.options.url;return Vd(n)?n=e.getAttribute(n):Gt(n)?n=n.call(this,e):n="",n},enforceFocus:function(){var e=this;this.clearEnforceFocus(),at(document,XS,this.onFocusin=function(n){var r=e.viewer,i=n.target;if(!(i===document||i===r||r.contains(i))){for(;i;){if(i.getAttribute("tabindex")!==null||i.getAttribute("aria-modal")==="true")return;i=i.parentElement}r.focus()}})},clearEnforceFocus:function(){this.onFocusin&&(Qt(document,XS,this.onFocusin),this.onFocusin=null)},open:function(){var e=this.body;st(e,GS),this.scrollbarWidth>0&&(e.style.paddingRight="".concat(this.scrollbarWidth+(parseFloat(this.initialBodyComputedPaddingRight)||0),"px"))},close:function(){var e=this.body;Lt(e,GS),this.scrollbarWidth>0&&(e.style.paddingRight=this.initialBodyPaddingRight)},shown:function(){var e=this.element,n=this.options,r=this.viewer;this.fulled=!0,this.isShown=!0,this.render(),this.bind(),this.showing=!1,n.focus&&(r.focus(),this.enforceFocus()),Gt(n.shown)&&at(e,oC,n.shown,{once:!0}),In(e,oC)!==!1&&this.ready&&this.isShown&&!this.hiding&&this.view(this.index)},hidden:function(){var e=this.element,n=this.options,r=this.viewer;n.fucus&&this.clearEnforceFocus(),this.close(),this.unbind(),st(r,ia),r.removeAttribute("role"),r.removeAttribute("aria-labelledby"),r.removeAttribute("aria-modal"),r.setAttribute("aria-hidden",!0),this.resetList(),this.resetImage(),this.fulled=!1,this.viewed=!1,this.isShown=!1,this.hiding=!1,this.destroyed||(Gt(n.hidden)&&at(e,lC,n.hidden,{once:!0}),In(e,lC,null,{cancelable:!1}))},requestFullscreen:function(e){var n=this.element.ownerDocument;if(this.fulled&&!(n.fullscreenElement||n.webkitFullscreenElement||n.mozFullScreenElement||n.msFullscreenElement)){var r=n.documentElement;r.requestFullscreen?wl(e)?r.requestFullscreen(e):r.requestFullscreen():r.webkitRequestFullscreen?r.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT):r.mozRequestFullScreen?r.mozRequestFullScreen():r.msRequestFullscreen&&r.msRequestFullscreen()}},exitFullscreen:function(){var e=this.element.ownerDocument;this.fulled&&(e.fullscreenElement||e.webkitFullscreenElement||e.mozFullScreenElement||e.msFullscreenElement)&&(e.exitFullscreen?e.exitFullscreen():e.webkitExitFullscreen?e.webkitExitFullscreen():e.mozCancelFullScreen?e.mozCancelFullScreen():e.msExitFullscreen&&e.msExitFullscreen())},change:function(e){var n=this.options,r=this.pointers,i=r[Object.keys(r)[0]];if(i){var s=i.endX-i.startX,o=i.endY-i.startY;switch(this.action){case Sf:(s!==0||o!==0)&&(this.pointerMoved=!0,this.move(s,o,e));break;case hc:this.zoom(cre(r),!1,null,e);break;case $x:{this.action="switched";var a=Math.abs(s);a>1&&a>Math.abs(o)&&(this.pointers={},s>1?this.prev(n.loop):s<-1&&this.next(n.loop));break}}tn(r,function(l){l.startX=l.endX,l.startY=l.endY})}},isSwitchable:function(){var e=this.imageData,n=this.viewerData;return this.length>1&&e.x>=0&&e.y>=0&&e.width<=n.width&&e.height<=n.height}},vre=Us.Viewer,yre=function(t){return function(){return t+=1,t}}(-1),fu=function(){function t(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(jne(this,t),!e||e.nodeType!==1)throw new Error("The first argument is required and must be an element.");this.element=e,this.options=ii({},KS,wl(n)&&n),this.action=!1,this.fading=!1,this.fulled=!1,this.hiding=!1,this.imageClicked=!1,this.imageData={},this.index=this.options.initialViewIndex,this.isImg=!1,this.isShown=!1,this.length=0,this.moving=!1,this.played=!1,this.playing=!1,this.pointers={},this.ready=!1,this.rotating=!1,this.scaling=!1,this.showing=!1,this.timeout=!1,this.tooltipping=!1,this.viewed=!1,this.viewing=!1,this.wheeling=!1,this.zooming=!1,this.pointerMoved=!1,this.id=yre(),this.init()}return Wne(t,[{key:"init",value:function(){var n=this,r=this.element,i=this.options;if(!r[dt]){r[dt]=this,i.focus&&!i.keyboard&&(i.focus=!1);var s=r.localName==="img",o=[];if(tn(s?[r]:r.querySelectorAll("img"),function(u){Gt(i.filter)?i.filter.call(n,u)&&o.push(u):n.getImageURL(u)&&o.push(u)}),this.isImg=s,this.length=o.length,this.images=o,this.initBody(),bl(document.createElement(dt).style.transition)&&(i.transition=!1),i.inline){var a=0,l=function(){if(a+=1,a===n.length){var c;n.initializing=!1,n.delaying={abort:function(){clearTimeout(c)}},c=setTimeout(function(){n.delaying=!1,n.build()},0)}};this.initializing={abort:function(){tn(o,function(c){c.complete||(Qt(c,di,l),Qt(c,ga,l))})}},tn(o,function(u){if(u.complete)l();else{var c,h;at(u,di,c=function(){Qt(u,ga,h),l()},{once:!0}),at(u,ga,h=function(){Qt(u,di,c),l()},{once:!0})}})}else at(r,du,this.onStart=function(u){var c=u.target;c.localName==="img"&&(!Gt(i.filter)||i.filter.call(n,c))&&n.view(n.images.indexOf(c))})}}},{key:"build",value:function(){if(!this.ready){var n=this.element,r=this.options,i=n.parentNode,s=document.createElement("div");s.innerHTML=Kne;var o=s.querySelector(".".concat(dt,"-container")),a=o.querySelector(".".concat(dt,"-title")),l=o.querySelector(".".concat(dt,"-toolbar")),u=o.querySelector(".".concat(dt,"-navbar")),c=o.querySelector(".".concat(dt,"-button")),h=o.querySelector(".".concat(dt,"-canvas"));if(this.parent=i,this.viewer=o,this.title=a,this.toolbar=l,this.navbar=u,this.button=c,this.canvas=h,this.footer=o.querySelector(".".concat(dt,"-footer")),this.tooltipBox=o.querySelector(".".concat(dt,"-tooltip")),this.player=o.querySelector(".".concat(dt,"-player")),this.list=o.querySelector(".".concat(dt,"-list")),o.id="".concat(dt).concat(this.id),a.id="".concat(dt,"Title").concat(this.id),st(a,r.title?of(Array.isArray(r.title)?r.title[0]:r.title):ia),st(u,r.navbar?of(r.navbar):ia),Fd(c,ia,!r.button),r.keyboard&&c.setAttribute("tabindex",0),r.backdrop&&(st(o,"".concat(dt,"-backdrop")),!r.inline&&r.backdrop!=="static"&&v_(h,Dp,"hide")),Vd(r.className)&&r.className&&r.className.split(a1).forEach(function(T){st(o,T)}),r.toolbar){var f=document.createElement("ul"),p=wl(r.toolbar),g=sf.slice(0,3),w=sf.slice(7,9),I=sf.slice(9);p||st(l,of(r.toolbar)),tn(p?r.toolbar:sf,function(T,_){var L=p&&wl(T),V=p?l1(_):T,S=L&&!bl(T.show)?T.show:T;if(!(!S||!r.zoomable&&g.indexOf(V)!==-1||!r.rotatable&&w.indexOf(V)!==-1||!r.scalable&&I.indexOf(V)!==-1)){var E=L&&!bl(T.size)?T.size:T,b=L&&!bl(T.click)?T.click:T,v=document.createElement("li");r.keyboard&&v.setAttribute("tabindex",0),v.setAttribute("role","button"),st(v,"".concat(dt,"-").concat(V)),Gt(b)||v_(v,Dp,V),vn(S)&&st(v,of(S)),["small","large"].indexOf(E)!==-1?st(v,"".concat(dt,"-").concat(E)):V==="play"&&st(v,"".concat(dt,"-large")),Gt(b)&&at(v,du,b),f.appendChild(v)}}),l.appendChild(f)}else st(l,ia);if(!r.rotatable){var k=l.querySelectorAll('li[class*="rotate"]');st(k,$c),tn(k,function(T){l.appendChild(T)})}if(r.inline)st(c,Gne),Pi(o,{zIndex:r.zIndexInline}),window.getComputedStyle(i).position==="static"&&Pi(i,{position:"relative"}),i.insertBefore(o,n.nextSibling);else{st(c,Yne),st(o,m_),st(o,Cf),st(o,ia),Pi(o,{zIndex:r.zIndex});var P=r.container;Vd(P)&&(P=n.ownerDocument.querySelector(P)),P||(P=this.body),P.appendChild(o)}if(r.inline&&(this.render(),this.bind(),this.isShown=!0),this.ready=!0,Gt(r.ready)&&at(n,iC,r.ready,{once:!0}),In(n,iC)===!1){this.ready=!1;return}this.ready&&r.inline&&this.view(this.index)}}}],[{key:"noConflict",value:function(){return window.Viewer=vre,t}},{key:"setDefaults",value:function(n){ii(KS,wl(n)&&n)}}]),t}();ii(fu.prototype,hre,fre,pre,mre,gre);var _re=typeof global=="object"&&global&&global.Object===Object&&global;const Hx=_re;var bre=typeof self=="object"&&self&&self.Object===Object&&self,wre=Hx||bre||Function("return this")();const Km=wre;var Tre=Km.Symbol;const xp=Tre;var jx=Object.prototype,Ere=jx.hasOwnProperty,Ire=jx.toString,nc=xp?xp.toStringTag:void 0;function Sre(t){var e=Ere.call(t,nc),n=t[nc];try{t[nc]=void 0;var r=!0}catch{}var i=Ire.call(t);return r&&(e?t[nc]=n:delete t[nc]),i}var Cre=Object.prototype,Are=Cre.toString;function Ore(t){return Are.call(t)}var Pre="[object Null]",kre="[object Undefined]",bC=xp?xp.toStringTag:void 0;function Ym(t){return t==null?t===void 0?kre:Pre:bC&&bC in Object(t)?Sre(t):Ore(t)}function Gm(t){return t!=null&&typeof t=="object"}var Rre="[object Symbol]";function Dre(t){return typeof t=="symbol"||Gm(t)&&Ym(t)==Rre}var xre=Array.isArray;const Nre=xre;var Mre=/\s/;function Lre(t){for(var e=t.length;e--&&Mre.test(t.charAt(e)););return e}var Vre=/^\s+/;function Fre(t){return t&&t.slice(0,Lre(t)+1).replace(Vre,"")}function Ma(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var wC=NaN,$re=/^[-+]0x[0-9a-f]+$/i,Ure=/^0b[01]+$/i,Bre=/^0o[0-7]+$/i,Hre=parseInt;function TC(t){if(typeof t=="number")return t;if(Dre(t))return wC;if(Ma(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=Ma(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=Fre(t);var n=Ure.test(t);return n||Bre.test(t)?Hre(t.slice(2),n?2:8):$re.test(t)?wC:+t}function Wx(t){return t}var jre="[object AsyncFunction]",Wre="[object Function]",qre="[object GeneratorFunction]",zre="[object Proxy]";function qx(t){if(!Ma(t))return!1;var e=Ym(t);return e==Wre||e==qre||e==jre||e==zre}var Kre=Km["__core-js_shared__"];const Sv=Kre;var EC=function(){var t=/[^.]+$/.exec(Sv&&Sv.keys&&Sv.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function Yre(t){return!!EC&&EC in t}var Gre=Function.prototype,Qre=Gre.toString;function Xre(t){if(t!=null){try{return Qre.call(t)}catch{}try{return t+""}catch{}}return""}var Jre=/[\\^$.*+?()[\]{}|]/g,Zre=/^\[object .+?Constructor\]$/,eie=Function.prototype,tie=Object.prototype,nie=eie.toString,rie=tie.hasOwnProperty,iie=RegExp("^"+nie.call(rie).replace(Jre,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function sie(t){if(!Ma(t)||Yre(t))return!1;var e=qx(t)?iie:Zre;return e.test(Xre(t))}function oie(t,e){return t==null?void 0:t[e]}function aie(t,e){var n=oie(t,e);return sie(n)?n:void 0}function lie(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}var uie=800,cie=16,die=Date.now;function hie(t){var e=0,n=0;return function(){var r=die(),i=cie-(r-n);if(n=r,i>0){if(++e>=uie)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}function fie(t){return function(){return t}}var pie=function(){try{var t=aie(Object,"defineProperty");return t({},"",{}),t}catch{}}();const Np=pie;var mie=Np?function(t,e){return Np(t,"toString",{configurable:!0,enumerable:!1,value:fie(e),writable:!0})}:Wx;const gie=mie;var vie=hie(gie);const yie=vie;var _ie=9007199254740991,bie=/^(?:0|[1-9]\d*)$/;function zx(t,e){var n=typeof t;return e=e??_ie,!!e&&(n=="number"||n!="symbol"&&bie.test(t))&&t>-1&&t%1==0&&t<e}function Kx(t,e,n){e=="__proto__"&&Np?Np(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}function u1(t,e){return t===e||t!==t&&e!==e}var wie=Object.prototype,Tie=wie.hasOwnProperty;function Yx(t,e,n){var r=t[e];(!(Tie.call(t,e)&&u1(r,n))||n===void 0&&!(e in t))&&Kx(t,e,n)}function Eie(t,e,n,r){var i=!n;n||(n={});for(var s=-1,o=e.length;++s<o;){var a=e[s],l=r?r(n[a],t[a],a,n,t):void 0;l===void 0&&(l=t[a]),i?Kx(n,a,l):Yx(n,a,l)}return n}var IC=Math.max;function Iie(t,e,n){return e=IC(e===void 0?t.length-1:e,0),function(){for(var r=arguments,i=-1,s=IC(r.length-e,0),o=Array(s);++i<s;)o[i]=r[e+i];i=-1;for(var a=Array(e+1);++i<e;)a[i]=r[i];return a[e]=n(o),lie(t,this,a)}}function Gx(t,e){return yie(Iie(t,e,Wx),t+"")}var Sie=9007199254740991;function Qx(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=Sie}function Qm(t){return t!=null&&Qx(t.length)&&!qx(t)}function Xx(t,e,n){if(!Ma(n))return!1;var r=typeof e;return(r=="number"?Qm(n)&&zx(e,n.length):r=="string"&&e in n)?u1(n[e],t):!1}function Cie(t){return Gx(function(e,n){var r=-1,i=n.length,s=i>1?n[i-1]:void 0,o=i>2?n[2]:void 0;for(s=t.length>3&&typeof s=="function"?(i--,s):void 0,o&&Xx(n[0],n[1],o)&&(s=i<3?void 0:s,i=1),e=Object(e);++r<i;){var a=n[r];a&&t(e,a,r,s)}return e})}var Aie=Object.prototype;function c1(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||Aie;return t===n}function Oie(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var Pie="[object Arguments]";function SC(t){return Gm(t)&&Ym(t)==Pie}var Jx=Object.prototype,kie=Jx.hasOwnProperty,Rie=Jx.propertyIsEnumerable,Die=SC(function(){return arguments}())?SC:function(t){return Gm(t)&&kie.call(t,"callee")&&!Rie.call(t,"callee")};const xie=Die;function Nie(){return!1}var Zx=typeof exports=="object"&&exports&&!exports.nodeType&&exports,CC=Zx&&typeof module=="object"&&module&&!module.nodeType&&module,Mie=CC&&CC.exports===Zx,AC=Mie?Km.Buffer:void 0,Lie=AC?AC.isBuffer:void 0,Vie=Lie||Nie;const Fie=Vie;var $ie="[object Arguments]",Uie="[object Array]",Bie="[object Boolean]",Hie="[object Date]",jie="[object Error]",Wie="[object Function]",qie="[object Map]",zie="[object Number]",Kie="[object Object]",Yie="[object RegExp]",Gie="[object Set]",Qie="[object String]",Xie="[object WeakMap]",Jie="[object ArrayBuffer]",Zie="[object DataView]",ese="[object Float32Array]",tse="[object Float64Array]",nse="[object Int8Array]",rse="[object Int16Array]",ise="[object Int32Array]",sse="[object Uint8Array]",ose="[object Uint8ClampedArray]",ase="[object Uint16Array]",lse="[object Uint32Array]",ln={};ln[ese]=ln[tse]=ln[nse]=ln[rse]=ln[ise]=ln[sse]=ln[ose]=ln[ase]=ln[lse]=!0;ln[$ie]=ln[Uie]=ln[Jie]=ln[Bie]=ln[Zie]=ln[Hie]=ln[jie]=ln[Wie]=ln[qie]=ln[zie]=ln[Kie]=ln[Yie]=ln[Gie]=ln[Qie]=ln[Xie]=!1;function use(t){return Gm(t)&&Qx(t.length)&&!!ln[Ym(t)]}function cse(t){return function(e){return t(e)}}var eN=typeof exports=="object"&&exports&&!exports.nodeType&&exports,Uc=eN&&typeof module=="object"&&module&&!module.nodeType&&module,dse=Uc&&Uc.exports===eN,Cv=dse&&Hx.process,hse=function(){try{var t=Uc&&Uc.require&&Uc.require("util").types;return t||Cv&&Cv.binding&&Cv.binding("util")}catch{}}();const OC=hse;var PC=OC&&OC.isTypedArray,fse=PC?cse(PC):use;const pse=fse;var mse=Object.prototype,gse=mse.hasOwnProperty;function tN(t,e){var n=Nre(t),r=!n&&xie(t),i=!n&&!r&&Fie(t),s=!n&&!r&&!i&&pse(t),o=n||r||i||s,a=o?Oie(t.length,String):[],l=a.length;for(var u in t)(e||gse.call(t,u))&&!(o&&(u=="length"||i&&(u=="offset"||u=="parent")||s&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||zx(u,l)))&&a.push(u);return a}function vse(t,e){return function(n){return t(e(n))}}var yse=vse(Object.keys,Object);const _se=yse;var bse=Object.prototype,wse=bse.hasOwnProperty;function Tse(t){if(!c1(t))return _se(t);var e=[];for(var n in Object(t))wse.call(t,n)&&n!="constructor"&&e.push(n);return e}function Ese(t){return Qm(t)?tN(t):Tse(t)}var Ise=Object.prototype,Sse=Ise.hasOwnProperty,Cse=Cie(function(t,e){if(c1(e)||Qm(e)){Eie(e,Ese(e),t);return}for(var n in e)Sse.call(e,n)&&Yx(t,n,e[n])});const Ase=Cse;function Ose(t){var e=[];if(t!=null)for(var n in Object(t))e.push(n);return e}var Pse=Object.prototype,kse=Pse.hasOwnProperty;function Rse(t){if(!Ma(t))return Ose(t);var e=c1(t),n=[];for(var r in t)r=="constructor"&&(e||!kse.call(t,r))||n.push(r);return n}function Dse(t){return Qm(t)?tN(t,!0):Rse(t)}var xse=function(){return Km.Date.now()};const Av=xse;var Nse="Expected a function",Mse=Math.max,Lse=Math.min;function Vse(t,e,n){var r,i,s,o,a,l,u=0,c=!1,h=!1,f=!0;if(typeof t!="function")throw new TypeError(Nse);e=TC(e)||0,Ma(n)&&(c=!!n.leading,h="maxWait"in n,s=h?Mse(TC(n.maxWait)||0,e):s,f="trailing"in n?!!n.trailing:f);function p(V){var S=r,E=i;return r=i=void 0,u=V,o=t.apply(E,S),o}function g(V){return u=V,a=setTimeout(k,e),c?p(V):o}function w(V){var S=V-l,E=V-u,b=e-S;return h?Lse(b,s-E):b}function I(V){var S=V-l,E=V-u;return l===void 0||S>=e||S<0||h&&E>=s}function k(){var V=Av();if(I(V))return P(V);a=setTimeout(k,w(V))}function P(V){return a=void 0,f&&r?p(V):(r=i=void 0,o)}function T(){a!==void 0&&clearTimeout(a),u=0,r=l=i=a=void 0}function _(){return a===void 0?o:P(Av())}function L(){var V=Av(),S=I(V);if(r=arguments,i=this,l=V,S){if(a===void 0)return g(l);if(h)return clearTimeout(a),a=setTimeout(k,e),p(l)}return a===void 0&&(a=setTimeout(k,e)),o}return L.cancel=T,L.flush=_,L}var nN=Object.prototype,Fse=nN.hasOwnProperty,$se=Gx(function(t,e){t=Object(t);var n=-1,r=e.length,i=r>2?e[2]:void 0;for(i&&Xx(e[0],e[1],i)&&(r=1);++n<r;)for(var s=e[n],o=Dse(s),a=-1,l=o.length;++a<l;){var u=o[a],c=t[u];(c===void 0||u1(c,nN[u])&&!Fse.call(t,u))&&(t[u]=s[u])}return t});const Use=$se,Bse=({images:t=[],options:e})=>{e=Ase(e,{inline:!1});const n=document.createElement("div"),r=Hl("div",{style:{display:"none"},class:["__viewer-token"]},t.map(a=>Hl("img",typeof a=="string"?{src:a}:a)));Qc(r,n);const i=n.firstElementChild;document.body.appendChild(i);const s=new fu(i,e),o=s.destroy.bind(s);return s.destroy=function(){return o(),Qc(null,n),s},s.show(),i.addEventListener("hidden",function(){this.viewer===s&&s.destroy()}),s},Hse=({name:t="viewer",debug:e=!1}={})=>{async function n(c,h,f=!1,p=!1){await Kn(),!(p&&!r(c))&&(f||!c[`$${t}`]?(o(c),c[`$${t}`]=new fu(c,h),u("Viewer created")):(c[`$${t}`].update(),u("Viewer updated")))}function r(c){const h=c.innerHTML.match(/<img([\w\W]+?)[\\/]?>/g),f=h?h.join(""):void 0;return c.__viewerImageDiffCache===f?(u("Element change detected, but image(s) has not changed"),!1):(u("Image change detected"),c.__viewerImageDiffCache=f,!0)}function i(c,h,f,p){a(c);const g=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver;if(!g){u("Observer not supported");return}const w=new g(k=>{k.forEach(P=>{u(`Viewer mutation:${P.type}`),f(c,h,p,!0)})}),I={attributes:!0,childList:!0,characterData:!0,subtree:!0};w.observe(c,I),c.__viewerMutationObserver=w,u("Observer created")}function s(c,h,f,p){c.__viewerUnwatch=_n(()=>h.value,(g,w)=>{u("Change detected by watcher: ",h.value),p(c,g,!0,!1)},{deep:!0}),u("Watcher created, expression: ",h.value)}function o(c){!c[`$${t}`]||(c[`$${t}`].destroy(),delete c[`$${t}`],u("Viewer destroyed"))}function a(c){!c.__viewerMutationObserver||(c.__viewerMutationObserver.disconnect(),delete c.__viewerMutationObserver,u("observer destroyed"))}function l(c){!c.__viewerUnwatch||(c.__viewerUnwatch(),delete c.__viewerUnwatch,u("Watcher destroyed"))}function u(...c){e&&console.log(...c)}return{mounted(c,h,f){u("Viewer bind");const p=Vse(n,50);p(c,h.value),s(c,h,f,p),h.modifiers.static||i(c,h.value,p,h.modifiers.rebuild)},unmounted(c){u("Viewer unbind"),a(c),l(c),o(c)}}},jse=it({name:"Viewer",props:{images:{type:Array,default:()=>[]},rebuild:{type:Boolean,default:!1},trigger:{type:Object,default:null},options:{type:Object,default:()=>null}},emits:["inited"],setup(t,{emit:e}){let n;const r=Te();function i(){n=new fu(r.value,t.options),e("inited",n)}function s(){n&&n.destroy()}function o(){s(),i()}function a(){n?(n.update(),e("inited",n)):i()}function l(){t.rebuild?o():a()}const u={deep:!0};return _n(()=>t.images,()=>{Kn(()=>{l()})},u),_n(()=>t.trigger,()=>{Kn(()=>{l()})},u),_n(()=>t.options,()=>{Kn(()=>{o()})},u),mn(()=>i()),Fo(()=>s()),{root:r,createViewer:i,rebuildViewer:o,updateViewer:a,destroyViewer:s}}}),Wse=(t,e)=>{const n=t.__vccOpts||t;for(const[r,i]of e)n[r]=i;return n},qse={ref:"root"};function zse(t,e,n,r,i,s){return M(),W("div",qse,[pe(t.$slots,"default",{images:t.images,options:t.options})],512)}const Kse=Wse(jse,[["render",zse]]),Yse={install(t,{name:e="viewer",debug:n=!1,defaultOptions:r}={}){r&&fu.setDefaults(r),t.config.globalProperties[`$${e}Api`]=Bse,t.component(e,Use(Kse,{name:e})),t.directive(e,Hse({name:e,debug:n}))},setDefaults(t){fu.setDefaults(t)}},bi=Yv(xL);bi.use(VD);bi.use(vq,{firebaseApp:RP,modules:[fq()]});bi.use(LP);bi.use(w4);bi.use(Yse);bi.use(ute);bi.component("VueDatePicker",Zb);bi.component("PrimeInputText",Dx);bi.component("PrimeTextArea",Vx);bi.component("PrimeDropdown",Rx);bi.component("PrimeMultiSelect",Lx);bi.mount("#app");export{T_ as $,sr as A,C3 as B,Mn as C,qoe as D,MC as E,Oe as F,HA as G,tt as H,Me as I,d3 as J,goe as K,moe as L,it as M,e4 as N,_oe as O,boe as P,Eoe as Q,kf as R,Pl as S,cA as T,woe as U,W_ as V,yoe as W,Koe as X,Toe as Y,Uoe as Z,Qse as _,fA as a,zc as a$,Xr as a0,Bp as a1,roe as a2,R_ as a3,ir as a4,Hl as a5,mu as a6,Z3 as a7,Qoe as a8,doe as a9,V3 as aA,j3 as aB,mn as aC,H3 as aD,B3 as aE,E_ as aF,U3 as aG,Fo as aH,N_ as aI,v3 as aJ,M as aK,aoe as aL,vc as aM,eA as aN,ooe as aO,Nf as aP,_i as aQ,A_ as aR,Te as aS,Noe as aT,Qc as aU,ft as aV,pe as aW,er as aX,V_ as aY,pr as aZ,joe as a_,poe as aa,foe as ab,hoe as ac,Loe as ad,Xoe as ae,Kr as af,RM as ag,O_ as ah,ts as ai,va as aj,hn as ak,Moe as al,pi as am,Po as an,P_ as ao,Coe as ap,Aoe as aq,ce as ar,Kn as as,He as at,An as au,zn as av,L3 as aw,$3 as ax,M_ as ay,x_ as az,soe as b,Td as b$,_w as b0,Boe as b1,Oo as b2,XC as b3,Jse as b4,JC as b5,uM as b6,Hoe as b7,Xse as b8,Ue as b9,DM as bA,Foe as bB,_n as bC,dM as bD,koe as bE,hM as bF,Poe as bG,ke as bH,Ioe as bI,vo as bJ,ct as bK,Voe as bL,$t as bM,loe as bN,DL as bO,AO as bP,Fi as bQ,$s as bR,gd as bS,MT as bT,FP as bU,Cn as bV,jn as bW,Lr as bX,hs as bY,lU as bZ,VD as b_,lf as ba,voe as bb,_t as bc,jc as bd,h3 as be,eoe as bf,xoe as bg,Zse as bh,R as bi,Soe as bj,Goe as bk,zoe as bl,n4 as bm,uoe as bn,Roe as bo,cM as bp,Yoe as bq,Va as br,coe as bs,hA as bt,rO as bu,h4 as bv,iO as bw,d4 as bx,Kv as by,_c as bz,$oe as c,eQ as c0,Le as c1,sae as c2,om as c3,zi as c4,kc as c5,rU as c6,Aq as c7,Cq as c8,cae as c9,oU as cA,sU as cB,iU as cC,lae as cD,Nx as cE,yt as cF,mt as cG,S8 as cH,bE as cI,nae as cJ,Wa as cK,Sp as cL,e1 as cM,kb as cN,Kse as cO,CO as cP,dae as ca,MD as cb,Bi as cc,Ve as cd,hae as ce,oae as cf,cU as cg,fae as ch,AD as ci,mae as cj,pae as ck,uae as cl,Xo as cm,uU as cn,uh as co,md as cp,MI as cq,aae as cr,DE as cs,rae as ct,iae as cu,dd as cv,tY as cw,av as cx,RE as cy,IR as cz,Doe as d,ca as e,toe as f,$o as g,s4 as h,noe as i,ioe as j,Li as k,Ud as l,Er as m,Fp as n,xs as o,Woe as p,se as q,Yv as r,we as s,ne as t,W as u,K as v,aM as w,Ooe as x,oM as y,v4 as z};
function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = ["./assets/Blog-CGqcMAjm.js","./assets/Page.vue_vue_type_script_setup_true_lang-C9Q_QNYk.js","./assets/BlogPost.vue_vue_type_script_setup_true_lang-CCSjPC5A.js","./assets/TextField.vue_vue_type_script_setup_true_lang-CJc43uTT.js","./assets/Image.vue_vue_type_script_setup_true_lang-CVCOZPO_.js","./bundle11.css","./bundle10.css","./assets/SwitchField.vue_vue_type_script_setup_true_lang-CU-u3E60.js","./assets/SelectField.vue_vue_type_script_setup_true_lang-BwfxHNjS.js","./assets/CatCalc-cywO-5XV.js","./assets/CustomVoting-BHaiWp4u.js","./bundle9.css","./assets/Dashboard-BIo1zG5X.js","./assets/PasswordField.vue_vue_type_script_setup_true_lang-BeaccCuF.js","./assets/Home-B_tofOZT.js","./assets/Login-C0c5mgyW.js","./assets/NotFound-6MoUVqKm.js","./assets/Profile-CXhm__bf.js","./assets/Profiles-DEYKj6Zl.js","./assets/Register-CF6Nr1qT.js","./assets/Games-qVGrdPuq.js"]
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}
