var DV=Object.defineProperty;var NV=(t,e,n)=>e in t?DV(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var ro=(t,e,n)=>(NV(t,typeof e!="symbol"?e+"":e,n),n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();/**
* @vue/shared v3.4.38
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function Eg(t,e){const n=new Set(t.split(","));return e?r=>n.has(r.toLowerCase()):r=>n.has(r)}const rn={},Du=[],Ei=()=>{},MV=()=>!1,nf=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),S_=t=>t.startsWith("onUpdate:"),Hn=Object.assign,I_=(t,e)=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},LV=Object.prototype.hasOwnProperty,Kt=(t,e)=>LV.call(t,e),it=Array.isArray,Nu=t=>Ac(t)==="[object Map]",Bl=t=>Ac(t)==="[object Set]",TE=t=>Ac(t)==="[object Date]",VV=t=>Ac(t)==="[object RegExp]",mt=t=>typeof t=="function",$n=t=>typeof t=="string",Hs=t=>typeof t=="symbol",dn=t=>t!==null&&typeof t=="object",C_=t=>(dn(t)||mt(t))&&mt(t.then)&&mt(t.catch),iO=Object.prototype.toString,Ac=t=>iO.call(t),$V=t=>Ac(t).slice(8,-1),sO=t=>Ac(t)==="[object Object]",A_=t=>$n(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,Mu=Eg(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Sg=t=>{const e=Object.create(null);return n=>e[n]||(e[n]=t(n))},FV=/-(\w)/g,ri=Sg(t=>t.replace(FV,(e,n)=>n?n.toUpperCase():"")),UV=/\B([A-Z])/g,wi=Sg(t=>t.replace(UV,"-$1").toLowerCase()),rf=Sg(t=>t.charAt(0).toUpperCase()+t.slice(1)),Nd=Sg(t=>t?`on${rf(t)}`:""),hi=(t,e)=>!Object.is(t,e),Lu=(t,...e)=>{for(let n=0;n<t.length;n++)t[n](...e)},oO=(t,e,n,r=!1)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,writable:r,value:n})},cm=t=>{const e=parseFloat(t);return isNaN(e)?t:e},dm=t=>{const e=$n(t)?Number(t):NaN;return isNaN(e)?t:e};let EE;const aO=()=>EE||(EE=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{}),qV="Infinity,undefined,NaN,isFinite,isNaN,parseFloat,parseInt,decodeURI,decodeURIComponent,encodeURI,encodeURIComponent,Math,Number,Date,Array,Object,Boolean,String,RegExp,Map,Set,JSON,Intl,BigInt,console,Error",BV=Eg(qV);function tr(t){if(it(t)){const e={};for(let n=0;n<t.length;n++){const r=t[n],i=$n(r)?zV(r):tr(r);if(i)for(const s in i)e[s]=i[s]}return e}else if($n(t)||dn(t))return t}const jV=/;(?![^(]*\))/g,HV=/:([^]+)/,WV=/\/\*[^]*?\*\//g;function zV(t){const e={};return t.replace(WV,"").split(jV).forEach(n=>{if(n){const r=n.split(HV);r.length>1&&(e[r[0].trim()]=r[1].trim())}}),e}function Le(t){let e="";if($n(t))e=t;else if(it(t))for(let n=0;n<t.length;n++){const r=Le(t[n]);r&&(e+=r+" ")}else if(dn(t))for(const n in t)t[n]&&(e+=n+" ");return e.trim()}function Vn(t){if(!t)return null;let{class:e,style:n}=t;return e&&!$n(e)&&(t.class=Le(e)),n&&(t.style=tr(n)),t}const KV="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",GV=Eg(KV);function lO(t){return!!t||t===""}function YV(t,e){if(t.length!==e.length)return!1;let n=!0;for(let r=0;n&&r<t.length;r++)n=wa(t[r],e[r]);return n}function wa(t,e){if(t===e)return!0;let n=TE(t),r=TE(e);if(n||r)return n&&r?t.getTime()===e.getTime():!1;if(n=Hs(t),r=Hs(e),n||r)return t===e;if(n=it(t),r=it(e),n||r)return n&&r?YV(t,e):!1;if(n=dn(t),r=dn(e),n||r){if(!n||!r)return!1;const i=Object.keys(t).length,s=Object.keys(e).length;if(i!==s)return!1;for(const o in t){const a=t.hasOwnProperty(o),l=e.hasOwnProperty(o);if(a&&!l||!a&&l||!wa(t[o],e[o]))return!1}}return String(t)===String(e)}function Ig(t,e){return t.findIndex(n=>wa(n,e))}const uO=t=>!!(t&&t.__v_isRef===!0),Fe=t=>$n(t)?t:t==null?"":it(t)||dn(t)&&(t.toString===iO||!mt(t.toString))?uO(t)?Fe(t.value):JSON.stringify(t,cO,2):String(t),cO=(t,e)=>uO(e)?cO(t,e.value):Nu(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((n,[r,i],s)=>(n[ty(r,s)+" =>"]=i,n),{})}:Bl(e)?{[`Set(${e.size})`]:[...e.values()].map(n=>ty(n))}:Hs(e)?ty(e):dn(e)&&!it(e)&&!sO(e)?String(e):e,ty=(t,e="")=>{var n;return Hs(t)?`Symbol(${(n=t.description)!=null?n:e})`:t};/**
* @vue/reactivity v3.4.38
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Di;class P_{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this.parent=Di,!e&&Di&&(this.index=(Di.scopes||(Di.scopes=[])).push(this)-1)}get active(){return this._active}run(e){if(this._active){const n=Di;try{return Di=this,e()}finally{Di=n}}}on(){Di=this}off(){Di=this.parent}stop(e){if(this._active){let n,r;for(n=0,r=this.effects.length;n<r;n++)this.effects[n].stop();for(n=0,r=this.cleanups.length;n<r;n++)this.cleanups[n]();if(this.scopes)for(n=0,r=this.scopes.length;n<r;n++)this.scopes[n].stop(!0);if(!this.detached&&this.parent&&!e){const i=this.parent.scopes.pop();i&&i!==this&&(this.parent.scopes[this.index]=i,i.index=this.index)}this.parent=void 0,this._active=!1}}}function Cg(t){return new P_(t)}function dO(t,e=Di){e&&e.active&&e.effects.push(t)}function sf(){return Di}function Ag(t){Di&&Di.cleanups.push(t)}let ul;class Xu{constructor(e,n,r,i){this.fn=e,this.trigger=n,this.scheduler=r,this.active=!0,this.deps=[],this._dirtyLevel=4,this._trackId=0,this._runnings=0,this._shouldSchedule=!1,this._depsLength=0,dO(this,i)}get dirty(){if(this._dirtyLevel===2||this._dirtyLevel===3){this._dirtyLevel=1,xa();for(let e=0;e<this._depsLength;e++){const n=this.deps[e];if(n.computed&&(QV(n.computed),this._dirtyLevel>=4))break}this._dirtyLevel===1&&(this._dirtyLevel=0),Da()}return this._dirtyLevel>=4}set dirty(e){this._dirtyLevel=e?4:0}run(){if(this._dirtyLevel=0,!this.active)return this.fn();let e=ca,n=ul;try{return ca=!0,ul=this,this._runnings++,SE(this),this.fn()}finally{IE(this),this._runnings--,ul=n,ca=e}}stop(){this.active&&(SE(this),IE(this),this.onStop&&this.onStop(),this.active=!1)}}function QV(t){return t.value}function SE(t){t._trackId++,t._depsLength=0}function IE(t){if(t.deps.length>t._depsLength){for(let e=t._depsLength;e<t.deps.length;e++)hO(t.deps[e],t);t.deps.length=t._depsLength}}function hO(t,e){const n=t.get(e);n!==void 0&&e._trackId!==n&&(t.delete(e),t.size===0&&t.cleanup())}function XV(t,e){t.effect instanceof Xu&&(t=t.effect.fn);const n=new Xu(t,Ei,()=>{n.dirty&&n.run()});e&&(Hn(n,e),e.scope&&dO(n,e.scope)),(!e||!e.lazy)&&n.run();const r=n.run.bind(n);return r.effect=n,r}function JV(t){t.effect.stop()}let ca=!0,Sb=0;const fO=[];function xa(){fO.push(ca),ca=!1}function Da(){const t=fO.pop();ca=t===void 0?!0:t}function O_(){Sb++}function k_(){for(Sb--;!Sb&&Ib.length;)Ib.shift()()}function pO(t,e,n){if(e.get(t)!==t._trackId){e.set(t,t._trackId);const r=t.deps[t._depsLength];r!==e?(r&&hO(r,t),t.deps[t._depsLength++]=e):t._depsLength++}}const Ib=[];function mO(t,e,n){O_();for(const r of t.keys()){let i;r._dirtyLevel<e&&(i??(i=t.get(r)===r._trackId))&&(r._shouldSchedule||(r._shouldSchedule=r._dirtyLevel===0),r._dirtyLevel=e),r._shouldSchedule&&(i??(i=t.get(r)===r._trackId))&&(r.trigger(),(!r._runnings||r.allowRecurse)&&r._dirtyLevel!==2&&(r._shouldSchedule=!1,r.scheduler&&Ib.push(r.scheduler)))}k_()}const gO=(t,e)=>{const n=new Map;return n.cleanup=t,n.computed=e,n},hm=new WeakMap,cl=Symbol(""),Cb=Symbol("");function Pi(t,e,n){if(ca&&ul){let r=hm.get(t);r||hm.set(t,r=new Map);let i=r.get(n);i||r.set(n,i=gO(()=>r.delete(n))),pO(ul,i)}}function yo(t,e,n,r,i,s){const o=hm.get(t);if(!o)return;let a=[];if(e==="clear")a=[...o.values()];else if(n==="length"&&it(t)){const l=Number(r);o.forEach((u,c)=>{(c==="length"||!Hs(c)&&c>=l)&&a.push(u)})}else switch(n!==void 0&&a.push(o.get(n)),e){case"add":it(t)?A_(n)&&a.push(o.get("length")):(a.push(o.get(cl)),Nu(t)&&a.push(o.get(Cb)));break;case"delete":it(t)||(a.push(o.get(cl)),Nu(t)&&a.push(o.get(Cb)));break;case"set":Nu(t)&&a.push(o.get(cl));break}O_();for(const l of a)l&&mO(l,4);k_()}function ZV(t,e){const n=hm.get(t);return n&&n.get(e)}const e$=Eg("__proto__,__v_isRef,__isVue"),vO=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(Hs)),CE=t$();function t$(){const t={};return["includes","indexOf","lastIndexOf"].forEach(e=>{t[e]=function(...n){const r=Lt(this);for(let s=0,o=this.length;s<o;s++)Pi(r,"get",s+"");const i=r[e](...n);return i===-1||i===!1?r[e](...n.map(Lt)):i}}),["push","pop","shift","unshift","splice"].forEach(e=>{t[e]=function(...n){xa(),O_();const r=Lt(this)[e].apply(this,n);return k_(),Da(),r}}),t}function n$(t){Hs(t)||(t=String(t));const e=Lt(this);return Pi(e,"has",t),e.hasOwnProperty(t)}class yO{constructor(e=!1,n=!1){this._isReadonly=e,this._isShallow=n}get(e,n,r){const i=this._isReadonly,s=this._isShallow;if(n==="__v_isReactive")return!i;if(n==="__v_isReadonly")return i;if(n==="__v_isShallow")return s;if(n==="__v_raw")return r===(i?s?SO:EO:s?TO:wO).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(r)?e:void 0;const o=it(e);if(!i){if(o&&Kt(CE,n))return Reflect.get(CE,n,r);if(n==="hasOwnProperty")return n$}const a=Reflect.get(e,n,r);return(Hs(n)?vO.has(n):e$(n))||(i||Pi(e,"get",n),s)?a:wn(a)?o&&A_(n)?a:a.value:dn(a)?i?kg(a):Pr(a):a}}class bO extends yO{constructor(e=!1){super(!1,e)}set(e,n,r,i){let s=e[n];if(!this._isShallow){const l=Ta(s);if(!wl(r)&&!Ta(r)&&(s=Lt(s),r=Lt(r)),!it(e)&&wn(s)&&!wn(r))return l?!1:(s.value=r,!0)}const o=it(e)&&A_(n)?Number(n)<e.length:Kt(e,n),a=Reflect.set(e,n,r,i);return e===Lt(i)&&(o?hi(r,s)&&yo(e,"set",n,r):yo(e,"add",n,r)),a}deleteProperty(e,n){const r=Kt(e,n);e[n];const i=Reflect.deleteProperty(e,n);return i&&r&&yo(e,"delete",n,void 0),i}has(e,n){const r=Reflect.has(e,n);return(!Hs(n)||!vO.has(n))&&Pi(e,"has",n),r}ownKeys(e){return Pi(e,"iterate",it(e)?"length":cl),Reflect.ownKeys(e)}}class _O extends yO{constructor(e=!1){super(!0,e)}set(e,n){return!0}deleteProperty(e,n){return!0}}const r$=new bO,i$=new _O,s$=new bO(!0),o$=new _O(!0),R_=t=>t,Pg=t=>Reflect.getPrototypeOf(t);function Jf(t,e,n=!1,r=!1){t=t.__v_raw;const i=Lt(t),s=Lt(e);n||(hi(e,s)&&Pi(i,"get",e),Pi(i,"get",s));const{has:o}=Pg(i),a=r?R_:n?N_:uh;if(o.call(i,e))return a(t.get(e));if(o.call(i,s))return a(t.get(s));t!==i&&t.get(e)}function Zf(t,e=!1){const n=this.__v_raw,r=Lt(n),i=Lt(t);return e||(hi(t,i)&&Pi(r,"has",t),Pi(r,"has",i)),t===i?n.has(t):n.has(t)||n.has(i)}function ep(t,e=!1){return t=t.__v_raw,!e&&Pi(Lt(t),"iterate",cl),Reflect.get(t,"size",t)}function AE(t,e=!1){!e&&!wl(t)&&!Ta(t)&&(t=Lt(t));const n=Lt(this);return Pg(n).has.call(n,t)||(n.add(t),yo(n,"add",t,t)),this}function PE(t,e,n=!1){!n&&!wl(e)&&!Ta(e)&&(e=Lt(e));const r=Lt(this),{has:i,get:s}=Pg(r);let o=i.call(r,t);o||(t=Lt(t),o=i.call(r,t));const a=s.call(r,t);return r.set(t,e),o?hi(e,a)&&yo(r,"set",t,e):yo(r,"add",t,e),this}function OE(t){const e=Lt(this),{has:n,get:r}=Pg(e);let i=n.call(e,t);i||(t=Lt(t),i=n.call(e,t)),r&&r.call(e,t);const s=e.delete(t);return i&&yo(e,"delete",t,void 0),s}function kE(){const t=Lt(this),e=t.size!==0,n=t.clear();return e&&yo(t,"clear",void 0,void 0),n}function tp(t,e){return function(r,i){const s=this,o=s.__v_raw,a=Lt(o),l=e?R_:t?N_:uh;return!t&&Pi(a,"iterate",cl),o.forEach((u,c)=>r.call(i,l(u),l(c),s))}}function np(t,e,n){return function(...r){const i=this.__v_raw,s=Lt(i),o=Nu(s),a=t==="entries"||t===Symbol.iterator&&o,l=t==="keys"&&o,u=i[t](...r),c=n?R_:e?N_:uh;return!e&&Pi(s,"iterate",l?Cb:cl),{next(){const{value:d,done:h}=u.next();return h?{value:d,done:h}:{value:a?[c(d[0]),c(d[1])]:c(d),done:h}},[Symbol.iterator](){return this}}}}function Vo(t){return function(...e){return t==="delete"?!1:t==="clear"?void 0:this}}function a$(){const t={get(s){return Jf(this,s)},get size(){return ep(this)},has:Zf,add:AE,set:PE,delete:OE,clear:kE,forEach:tp(!1,!1)},e={get(s){return Jf(this,s,!1,!0)},get size(){return ep(this)},has:Zf,add(s){return AE.call(this,s,!0)},set(s,o){return PE.call(this,s,o,!0)},delete:OE,clear:kE,forEach:tp(!1,!0)},n={get(s){return Jf(this,s,!0)},get size(){return ep(this,!0)},has(s){return Zf.call(this,s,!0)},add:Vo("add"),set:Vo("set"),delete:Vo("delete"),clear:Vo("clear"),forEach:tp(!0,!1)},r={get(s){return Jf(this,s,!0,!0)},get size(){return ep(this,!0)},has(s){return Zf.call(this,s,!0)},add:Vo("add"),set:Vo("set"),delete:Vo("delete"),clear:Vo("clear"),forEach:tp(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(s=>{t[s]=np(s,!1,!1),n[s]=np(s,!0,!1),e[s]=np(s,!1,!0),r[s]=np(s,!0,!0)}),[t,n,e,r]}const[l$,u$,c$,d$]=a$();function Og(t,e){const n=e?t?d$:c$:t?u$:l$;return(r,i,s)=>i==="__v_isReactive"?!t:i==="__v_isReadonly"?t:i==="__v_raw"?r:Reflect.get(Kt(n,i)&&i in r?n:r,i,s)}const h$={get:Og(!1,!1)},f$={get:Og(!1,!0)},p$={get:Og(!0,!1)},m$={get:Og(!0,!0)},wO=new WeakMap,TO=new WeakMap,EO=new WeakMap,SO=new WeakMap;function g$(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function v$(t){return t.__v_skip||!Object.isExtensible(t)?0:g$($V(t))}function Pr(t){return Ta(t)?t:Rg(t,!1,r$,h$,wO)}function x_(t){return Rg(t,!1,s$,f$,TO)}function kg(t){return Rg(t,!0,i$,p$,EO)}function y$(t){return Rg(t,!0,o$,m$,SO)}function Rg(t,e,n,r,i){if(!dn(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const s=i.get(t);if(s)return s;const o=v$(t);if(o===0)return t;const a=new Proxy(t,o===2?r:n);return i.set(t,a),a}function Ms(t){return Ta(t)?Ms(t.__v_raw):!!(t&&t.__v_isReactive)}function Ta(t){return!!(t&&t.__v_isReadonly)}function wl(t){return!!(t&&t.__v_isShallow)}function D_(t){return t?!!t.__v_raw:!1}function Lt(t){const e=t&&t.__v_raw;return e?Lt(e):t}function xg(t){return Object.isExtensible(t)&&oO(t,"__v_skip",!0),t}const uh=t=>dn(t)?Pr(t):t,N_=t=>dn(t)?kg(t):t;class IO{constructor(e,n,r,i){this.getter=e,this._setter=n,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this.effect=new Xu(()=>e(this._value),()=>Vu(this,this.effect._dirtyLevel===2?2:3)),this.effect.computed=this,this.effect.active=this._cacheable=!i,this.__v_isReadonly=r}get value(){const e=Lt(this);return(!e._cacheable||e.effect.dirty)&&hi(e._value,e._value=e.effect.run())&&Vu(e,4),M_(e),e.effect._dirtyLevel>=2&&Vu(e,2),e._value}set value(e){this._setter(e)}get _dirty(){return this.effect.dirty}set _dirty(e){this.effect.dirty=e}}function b$(t,e,n=!1){let r,i;const s=mt(t);return s?(r=t,i=Ei):(r=t.get,i=t.set),new IO(r,i,s||!i,n)}function M_(t){var e;ca&&ul&&(t=Lt(t),pO(ul,(e=t.dep)!=null?e:t.dep=gO(()=>t.dep=void 0,t instanceof IO?t:void 0)))}function Vu(t,e=4,n,r){t=Lt(t);const i=t.dep;i&&mO(i,e)}function wn(t){return!!(t&&t.__v_isRef===!0)}function ie(t){return AO(t,!1)}function CO(t){return AO(t,!0)}function AO(t,e){return wn(t)?t:new _$(t,e)}class _${constructor(e,n){this.__v_isShallow=n,this.dep=void 0,this.__v_isRef=!0,this._rawValue=n?e:Lt(e),this._value=n?e:uh(e)}get value(){return M_(this),this._value}set value(e){const n=this.__v_isShallow||wl(e)||Ta(e);e=n?e:Lt(e),hi(e,this._rawValue)&&(this._rawValue,this._rawValue=e,this._value=n?e:uh(e),Vu(this,4))}}function w$(t){Vu(t,4)}function P(t){return wn(t)?t.value:t}function T$(t){return mt(t)?t():P(t)}const E$={get:(t,e,n)=>P(Reflect.get(t,e,n)),set:(t,e,n,r)=>{const i=t[e];return wn(i)&&!wn(n)?(i.value=n,!0):Reflect.set(t,e,n,r)}};function L_(t){return Ms(t)?t:new Proxy(t,E$)}class S${constructor(e){this.dep=void 0,this.__v_isRef=!0;const{get:n,set:r}=e(()=>M_(this),()=>Vu(this));this._get=n,this._set=r}get value(){return this._get()}set value(e){this._set(e)}}function PO(t){return new S$(t)}function OO(t){const e=it(t)?new Array(t.length):{};for(const n in t)e[n]=kO(t,n);return e}class I${constructor(e,n,r){this._object=e,this._key=n,this._defaultValue=r,this.__v_isRef=!0}get value(){const e=this._object[this._key];return e===void 0?this._defaultValue:e}set value(e){this._object[this._key]=e}get dep(){return ZV(Lt(this._object),this._key)}}class C${constructor(e){this._getter=e,this.__v_isRef=!0,this.__v_isReadonly=!0}get value(){return this._getter()}}function Ju(t,e,n){return wn(t)?t:mt(t)?new C$(t):dn(t)&&arguments.length>1?kO(t,e,n):ie(t)}function kO(t,e,n){const r=t[e];return wn(r)?r:new I$(t,e,n)}const A$={GET:"get",HAS:"has",ITERATE:"iterate"},P$={SET:"set",ADD:"add",DELETE:"delete",CLEAR:"clear"};/**
* @vue/runtime-core v3.4.38
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function O$(t,e){}const k$={SETUP_FUNCTION:0,0:"SETUP_FUNCTION",RENDER_FUNCTION:1,1:"RENDER_FUNCTION",WATCH_GETTER:2,2:"WATCH_GETTER",WATCH_CALLBACK:3,3:"WATCH_CALLBACK",WATCH_CLEANUP:4,4:"WATCH_CLEANUP",NATIVE_EVENT_HANDLER:5,5:"NATIVE_EVENT_HANDLER",COMPONENT_EVENT_HANDLER:6,6:"COMPONENT_EVENT_HANDLER",VNODE_HOOK:7,7:"VNODE_HOOK",DIRECTIVE_HOOK:8,8:"DIRECTIVE_HOOK",TRANSITION_HOOK:9,9:"TRANSITION_HOOK",APP_ERROR_HANDLER:10,10:"APP_ERROR_HANDLER",APP_WARN_HANDLER:11,11:"APP_WARN_HANDLER",FUNCTION_REF:12,12:"FUNCTION_REF",ASYNC_COMPONENT_LOADER:13,13:"ASYNC_COMPONENT_LOADER",SCHEDULER:14,14:"SCHEDULER",COMPONENT_UPDATE:15,15:"COMPONENT_UPDATE"},R$={sp:"serverPrefetch hook",bc:"beforeCreate hook",c:"created hook",bm:"beforeMount hook",m:"mounted hook",bu:"beforeUpdate hook",u:"updated",bum:"beforeUnmount hook",um:"unmounted hook",a:"activated hook",da:"deactivated hook",ec:"errorCaptured hook",rtc:"renderTracked hook",rtg:"renderTriggered hook",0:"setup function",1:"render function",2:"watcher getter",3:"watcher callback",4:"watcher cleanup function",5:"native event handler",6:"component event handler",7:"vnode hook",8:"directive hook",9:"transition hook",10:"app errorHandler",11:"app warnHandler",12:"ref function",13:"async component loader",14:"scheduler flush",15:"component update"};function bo(t,e,n,r){try{return r?t(...r):t()}catch(i){jl(i,e,n)}}function $i(t,e,n,r){if(mt(t)){const i=bo(t,e,n,r);return i&&C_(i)&&i.catch(s=>{jl(s,e,n)}),i}if(it(t)){const i=[];for(let s=0;s<t.length;s++)i.push($i(t[s],e,n,r));return i}}function jl(t,e,n,r=!0){const i=e?e.vnode:null;if(e){let s=e.parent;const o=e.proxy,a=`https://vuejs.org/error-reference/#runtime-${n}`;for(;s;){const u=s.ec;if(u){for(let c=0;c<u.length;c++)if(u[c](t,o,a)===!1)return}s=s.parent}const l=e.appContext.config.errorHandler;if(l){xa(),bo(l,null,10,[t,o,a]),Da();return}}x$(t,n,i,r)}function x$(t,e,n,r=!0){console.error(t)}let ch=!1,Ab=!1;const Xr=[];let Os=0;const $u=[];let Go=null,rl=0;const RO=Promise.resolve();let V_=null;function ir(t){const e=V_||RO;return t?e.then(this?t.bind(this):t):e}function D$(t){let e=Os+1,n=Xr.length;for(;e<n;){const r=e+n>>>1,i=Xr[r],s=dh(i);s<t||s===t&&i.pre?e=r+1:n=r}return e}function Dg(t){(!Xr.length||!Xr.includes(t,ch&&t.allowRecurse?Os+1:Os))&&(t.id==null?Xr.push(t):Xr.splice(D$(t.id),0,t),xO())}function xO(){!ch&&!Ab&&(Ab=!0,V_=RO.then(DO))}function N$(t){const e=Xr.indexOf(t);e>Os&&Xr.splice(e,1)}function fm(t){it(t)?$u.push(...t):(!Go||!Go.includes(t,t.allowRecurse?rl+1:rl))&&$u.push(t),xO()}function RE(t,e,n=ch?Os+1:0){for(;n<Xr.length;n++){const r=Xr[n];if(r&&r.pre){if(t&&r.id!==t.uid)continue;Xr.splice(n,1),n--,r()}}}function pm(t){if($u.length){const e=[...new Set($u)].sort((n,r)=>dh(n)-dh(r));if($u.length=0,Go){Go.push(...e);return}for(Go=e,rl=0;rl<Go.length;rl++){const n=Go[rl];n.active!==!1&&n()}Go=null,rl=0}}const dh=t=>t.id==null?1/0:t.id,M$=(t,e)=>{const n=dh(t)-dh(e);if(n===0){if(t.pre&&!e.pre)return-1;if(e.pre&&!t.pre)return 1}return n};function DO(t){Ab=!1,ch=!0,Xr.sort(M$);try{for(Os=0;Os<Xr.length;Os++){const e=Xr[Os];e&&e.active!==!1&&bo(e,e.i,e.i?15:14)}}finally{Os=0,Xr.length=0,pm(),ch=!1,V_=null,(Xr.length||$u.length)&&DO()}}let hu,rp=[];function NO(t,e){var n,r;hu=t,hu?(hu.enabled=!0,rp.forEach(({event:i,args:s})=>hu.emit(i,...s)),rp=[]):typeof window<"u"&&window.HTMLElement&&!((r=(n=window.navigator)==null?void 0:n.userAgent)!=null&&r.includes("jsdom"))?((e.__VUE_DEVTOOLS_HOOK_REPLAY__=e.__VUE_DEVTOOLS_HOOK_REPLAY__||[]).push(s=>{NO(s,e)}),setTimeout(()=>{hu||(e.__VUE_DEVTOOLS_HOOK_REPLAY__=null,rp=[])},3e3)):rp=[]}let yr=null,Ng=null;function hh(t){const e=yr;return yr=t,Ng=t&&t.type.__scopeId||null,e}function $_(t){Ng=t}function F_(){Ng=null}const L$=t=>X;function X(t,e=yr,n){if(!e||t._n)return t;const r=(...i)=>{r._d&&Lb(-1);const s=hh(e);let o;try{o=t(...i)}finally{hh(s),r._d&&Lb(1)}return o};return r._n=!0,r._c=!0,r._d=!0,r}function Fi(t,e){if(yr===null)return t;const n=cf(yr),r=t.dirs||(t.dirs=[]);for(let i=0;i<e.length;i++){let[s,o,a,l=rn]=e[i];s&&(mt(s)&&(s={mounted:s,updated:s}),s.deep&&ea(o),r.push({dir:s,instance:n,value:o,oldValue:void 0,arg:a,modifiers:l}))}return t}function As(t,e,n,r){const i=t.dirs,s=e&&e.dirs;for(let o=0;o<i.length;o++){const a=i[o];s&&(a.oldValue=s[o].value);let l=a.dir[r];l&&(xa(),$i(l,n,8,[t.el,a,t,e]),Da())}}const Yo=Symbol("_leaveCb"),ip=Symbol("_enterCb");function U_(){const t={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Vt(()=>{t.isMounted=!0}),af(()=>{t.isUnmounting=!0}),t}const ji=[Function,Array],q_={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:ji,onEnter:ji,onAfterEnter:ji,onEnterCancelled:ji,onBeforeLeave:ji,onLeave:ji,onAfterLeave:ji,onLeaveCancelled:ji,onBeforeAppear:ji,onAppear:ji,onAfterAppear:ji,onAppearCancelled:ji},MO=t=>{const e=t.subTree;return e.component?MO(e.component):e},V$={name:"BaseTransition",props:q_,setup(t,{slots:e}){const n=ts(),r=U_();return()=>{const i=e.default&&Mg(e.default(),!0);if(!i||!i.length)return;let s=i[0];if(i.length>1){for(const h of i)if(h.type!==mr){s=h;break}}const o=Lt(t),{mode:a}=o;if(r.isLeaving)return ny(s);const l=xE(s);if(!l)return ny(s);let u=Zu(l,o,r,n,h=>u=h);Ea(l,u);const c=n.subTree,d=c&&xE(c);if(d&&d.type!==mr&&!cs(l,d)&&MO(n).type!==mr){const h=Zu(d,o,r,n);if(Ea(d,h),a==="out-in"&&l.type!==mr)return r.isLeaving=!0,h.afterLeave=()=>{r.isLeaving=!1,n.update.active!==!1&&(n.effect.dirty=!0,n.update())},ny(s);a==="in-out"&&l.type!==mr&&(h.delayLeave=(p,m,g)=>{const y=VO(r,d);y[String(d.key)]=d,p[Yo]=()=>{m(),p[Yo]=void 0,delete u.delayedLeave},u.delayedLeave=g})}return s}}},LO=V$;function VO(t,e){const{leavingVNodes:n}=t;let r=n.get(e.type);return r||(r=Object.create(null),n.set(e.type,r)),r}function Zu(t,e,n,r,i){const{appear:s,mode:o,persisted:a=!1,onBeforeEnter:l,onEnter:u,onAfterEnter:c,onEnterCancelled:d,onBeforeLeave:h,onLeave:p,onAfterLeave:m,onLeaveCancelled:g,onBeforeAppear:y,onAppear:A,onAfterAppear:C,onAppearCancelled:S}=e,E=String(t.key),k=VO(n,t),x=(_,T)=>{_&&$i(_,r,9,T)},I=(_,T)=>{const R=T[1];x(_,T),it(_)?_.every(N=>N.length<=1)&&R():_.length<=1&&R()},b={mode:o,persisted:a,beforeEnter(_){let T=l;if(!n.isMounted)if(s)T=y||l;else return;_[Yo]&&_[Yo](!0);const R=k[E];R&&cs(t,R)&&R.el[Yo]&&R.el[Yo](),x(T,[_])},enter(_){let T=u,R=c,N=d;if(!n.isMounted)if(s)T=A||u,R=C||c,N=S||d;else return;let O=!1;const j=_[ip]=U=>{O||(O=!0,U?x(N,[_]):x(R,[_]),b.delayedLeave&&b.delayedLeave(),_[ip]=void 0)};T?I(T,[_,j]):j()},leave(_,T){const R=String(t.key);if(_[ip]&&_[ip](!0),n.isUnmounting)return T();x(h,[_]);let N=!1;const O=_[Yo]=j=>{N||(N=!0,T(),j?x(g,[_]):x(m,[_]),_[Yo]=void 0,k[R]===t&&delete k[R])};k[R]=t,p?I(p,[_,O]):O()},clone(_){const T=Zu(_,e,n,r,i);return i&&i(T),T}};return b}function ny(t){if(of(t))return t=Ws(t),t.children=null,t}function xE(t){if(!of(t))return t;const{shapeFlag:e,children:n}=t;if(n){if(e&16)return n[0];if(e&32&&mt(n.default))return n.default()}}function Ea(t,e){t.shapeFlag&6&&t.component?Ea(t.component.subTree,e):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function Mg(t,e=!1,n){let r=[],i=0;for(let s=0;s<t.length;s++){let o=t[s];const a=n==null?o.key:String(n)+String(o.key!=null?o.key:s);o.type===Pe?(o.patchFlag&128&&i++,r=r.concat(Mg(o.children,e,a))):(e||o.type!==mr)&&r.push(a!=null?Ws(o,{key:a}):o)}if(i>1)for(let s=0;s<r.length;s++)r[s].patchFlag=-2;return r}/*! #__NO_SIDE_EFFECTS__ */function xe(t,e){return mt(t)?Hn({name:t.name},e,{setup:t}):t}const dl=t=>!!t.type.__asyncLoader;/*! #__NO_SIDE_EFFECTS__ */function $$(t){mt(t)&&(t={loader:t});const{loader:e,loadingComponent:n,errorComponent:r,delay:i=200,timeout:s,suspensible:o=!0,onError:a}=t;let l=null,u,c=0;const d=()=>(c++,l=null,h()),h=()=>{let p;return l||(p=l=e().catch(m=>{if(m=m instanceof Error?m:new Error(String(m)),a)return new Promise((g,y)=>{a(m,()=>g(d()),()=>y(m),c+1)});throw m}).then(m=>p!==l&&l?l:(m&&(m.__esModule||m[Symbol.toStringTag]==="Module")&&(m=m.default),u=m,m)))};return xe({name:"AsyncComponentWrapper",__asyncLoader:h,get __asyncResolved(){return u},setup(){const p=gr;if(u)return()=>ry(u,p);const m=C=>{l=null,jl(C,p,13,!r)};if(o&&p.suspense||uf)return h().then(C=>()=>ry(C,p)).catch(C=>(m(C),()=>r?q(r,{error:C}):null));const g=ie(!1),y=ie(),A=ie(!!i);return i&&setTimeout(()=>{A.value=!1},i),s!=null&&setTimeout(()=>{if(!g.value&&!y.value){const C=new Error(`Async component timed out after ${s}ms.`);m(C),y.value=C}},s),h().then(()=>{g.value=!0,p.parent&&of(p.parent.vnode)&&(p.parent.effect.dirty=!0,Dg(p.parent.update))}).catch(C=>{m(C),y.value=C}),()=>{if(g.value&&u)return ry(u,p);if(y.value&&r)return q(r,{error:y.value});if(n&&!A.value)return q(n)}}})}function ry(t,e){const{ref:n,props:r,children:i,ce:s}=e.vnode,o=q(t,r,i);return o.ref=n,o.ce=s,delete e.vnode.ce,o}const of=t=>t.type.__isKeepAlive,F$={name:"KeepAlive",__isKeepAlive:!0,props:{include:[String,RegExp,Array],exclude:[String,RegExp,Array],max:[String,Number]},setup(t,{slots:e}){const n=ts(),r=n.ctx;if(!r.renderer)return()=>{const C=e.default&&e.default();return C&&C.length===1?C[0]:C};const i=new Map,s=new Set;let o=null;const a=n.suspense,{renderer:{p:l,m:u,um:c,o:{createElement:d}}}=r,h=d("div");r.activate=(C,S,E,k,x)=>{const I=C.component;u(C,S,E,0,a),l(I.vnode,C,S,E,I,a,k,C.slotScopeIds,x),Tr(()=>{I.isDeactivated=!1,I.a&&Lu(I.a);const b=C.props&&C.props.onVnodeMounted;b&&yi(b,I.parent,C)},a)},r.deactivate=C=>{const S=C.component;vm(S.m),vm(S.a),u(C,h,null,1,a),Tr(()=>{S.da&&Lu(S.da);const E=C.props&&C.props.onVnodeUnmounted;E&&yi(E,S.parent,C),S.isDeactivated=!0},a)};function p(C){iy(C),c(C,n,a,!0)}function m(C){i.forEach((S,E)=>{const k=qb(S.type);k&&(!C||!C(k))&&g(E)})}function g(C){const S=i.get(C);S&&(!o||!cs(S,o))?p(S):o&&iy(o),i.delete(C),s.delete(C)}cn(()=>[t.include,t.exclude],([C,S])=>{C&&m(E=>_d(C,E)),S&&m(E=>!_d(S,E))},{flush:"post",deep:!0});let y=null;const A=()=>{y!=null&&(Nb(n.subTree.type)?Tr(()=>{i.set(y,sp(n.subTree))},n.subTree.suspense):i.set(y,sp(n.subTree)))};return Vt(A),Vg(A),af(()=>{i.forEach(C=>{const{subTree:S,suspense:E}=n,k=sp(S);if(C.type===k.type&&C.key===k.key){iy(k);const x=k.component.da;x&&Tr(x,E);return}p(C)})}),()=>{if(y=null,!e.default)return null;const C=e.default(),S=C[0];if(C.length>1)return o=null,C;if(!Sa(S)||!(S.shapeFlag&4)&&!(S.shapeFlag&128))return o=null,S;let E=sp(S);if(E.type===mr)return o=null,E;const k=E.type,x=qb(dl(E)?E.type.__asyncResolved||{}:k),{include:I,exclude:b,max:_}=t;if(I&&(!x||!_d(I,x))||b&&x&&_d(b,x))return o=E,S;const T=E.key==null?k:E.key,R=i.get(T);return E.el&&(E=Ws(E),S.shapeFlag&128&&(S.ssContent=E)),y=T,R?(E.el=R.el,E.component=R.component,E.transition&&Ea(E,E.transition),E.shapeFlag|=512,s.delete(T),s.add(T)):(s.add(T),_&&s.size>parseInt(_,10)&&g(s.values().next().value)),E.shapeFlag|=256,o=E,Nb(S.type)?S:E}}},U$=F$;function _d(t,e){return it(t)?t.some(n=>_d(n,e)):$n(t)?t.split(",").includes(e):VV(t)?t.test(e):!1}function $O(t,e){UO(t,"a",e)}function FO(t,e){UO(t,"da",e)}function UO(t,e,n=gr){const r=t.__wdc||(t.__wdc=()=>{let i=n;for(;i;){if(i.isDeactivated)return;i=i.parent}return t()});if(Lg(e,r,n),n){let i=n.parent;for(;i&&i.parent;)of(i.parent.vnode)&&q$(r,e,n,i),i=i.parent}}function q$(t,e,n,r){const i=Lg(e,t,r,!0);Gs(()=>{I_(r[e],i)},n)}function iy(t){t.shapeFlag&=-257,t.shapeFlag&=-513}function sp(t){return t.shapeFlag&128?t.ssContent:t}function Lg(t,e,n=gr,r=!1){if(n){const i=n[t]||(n[t]=[]),s=e.__weh||(e.__weh=(...o)=>{xa();const a=El(n),l=$i(e,n,t,o);return a(),Da(),l});return r?i.unshift(s):i.push(s),s}}const ko=t=>(e,n=gr)=>{(!uf||t==="sp")&&Lg(t,(...r)=>e(...r),n)},B_=ko("bm"),Vt=ko("m"),j_=ko("bu"),Vg=ko("u"),af=ko("bum"),Gs=ko("um"),qO=ko("sp"),BO=ko("rtg"),jO=ko("rtc");function HO(t,e=gr){Lg("ec",t,e)}const H_="components",B$="directives";function On(t,e){return W_(H_,t,!0,e)||t}const WO=Symbol.for("v-ndc");function Mn(t){return $n(t)?W_(H_,t,!1)||t:t||WO}function $g(t){return W_(B$,t)}function W_(t,e,n=!0,r=!1){const i=yr||gr;if(i){const s=i.type;if(t===H_){const a=qb(s,!1);if(a&&(a===e||a===ri(e)||a===rf(ri(e))))return s}const o=DE(i[t]||s[t],e)||DE(i.appContext[t],e);return!o&&r?s:o}}function DE(t,e){return t&&(t[e]||t[ri(e)]||t[rf(ri(e))])}function dt(t,e,n,r){let i;const s=n&&n[r];if(it(t)||$n(t)){i=new Array(t.length);for(let o=0,a=t.length;o<a;o++)i[o]=e(t[o],o,void 0,s&&s[o])}else if(typeof t=="number"){i=new Array(t);for(let o=0;o<t;o++)i[o]=e(o+1,o,void 0,s&&s[o])}else if(dn(t))if(t[Symbol.iterator])i=Array.from(t,(o,a)=>e(o,a,void 0,s&&s[a]));else{const o=Object.keys(t);i=new Array(o.length);for(let a=0,l=o.length;a<l;a++){const u=o[a];i[a]=e(t[u],u,a,s&&s[a])}}else i=[];return n&&(n[r]=i),i}function fr(t,e){for(let n=0;n<e.length;n++){const r=e[n];if(it(r))for(let i=0;i<r.length;i++)t[r[i].name]=r[i].fn;else r&&(t[r.name]=r.key?(...i)=>{const s=r.fn(...i);return s&&(s.key=r.key),s}:r.fn)}return t}function _e(t,e,n={},r,i){if(yr.isCE||yr.parent&&dl(yr.parent)&&yr.parent.isCE)return e!=="default"&&(n.name=e),q("slot",n,r&&r());let s=t[e];s&&s._c&&(s._d=!1),D();const o=s&&z_(s(n)),a=ae(Pe,{key:(n.key||o&&o.key||`_${e}`)+(!o&&r?"_fb":"")},o||(r?r():[]),o&&t._===1?64:-2);return!i&&a.scopeId&&(a.slotScopeIds=[a.scopeId+"-s"]),s&&s._c&&(s._d=!0),a}function z_(t){return t.some(e=>Sa(e)?!(e.type===mr||e.type===Pe&&!z_(e.children)):!0)?t:null}function j$(t,e){const n={};for(const r in t)n[e&&/[A-Z]/.test(r)?`on:${r}`:Nd(r)]=t[r];return n}const Pb=t=>t?Ak(t)?cf(t):Pb(t.parent):null,Md=Hn(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>Pb(t.parent),$root:t=>Pb(t.root),$emit:t=>t.emit,$options:t=>K_(t),$forceUpdate:t=>t.f||(t.f=()=>{t.effect.dirty=!0,Dg(t.update)}),$nextTick:t=>t.n||(t.n=ir.bind(t.proxy)),$watch:t=>E3.bind(t)}),sy=(t,e)=>t!==rn&&!t.__isScriptSetup&&Kt(t,e),Ob={get({_:t},e){if(e==="__v_skip")return!0;const{ctx:n,setupState:r,data:i,props:s,accessCache:o,type:a,appContext:l}=t;let u;if(e[0]!=="$"){const p=o[e];if(p!==void 0)switch(p){case 1:return r[e];case 2:return i[e];case 4:return n[e];case 3:return s[e]}else{if(sy(r,e))return o[e]=1,r[e];if(i!==rn&&Kt(i,e))return o[e]=2,i[e];if((u=t.propsOptions[0])&&Kt(u,e))return o[e]=3,s[e];if(n!==rn&&Kt(n,e))return o[e]=4,n[e];kb&&(o[e]=0)}}const c=Md[e];let d,h;if(c)return e==="$attrs"&&Pi(t.attrs,"get",""),c(t);if((d=a.__cssModules)&&(d=d[e]))return d;if(n!==rn&&Kt(n,e))return o[e]=4,n[e];if(h=l.config.globalProperties,Kt(h,e))return h[e]},set({_:t},e,n){const{data:r,setupState:i,ctx:s}=t;return sy(i,e)?(i[e]=n,!0):r!==rn&&Kt(r,e)?(r[e]=n,!0):Kt(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(s[e]=n,!0)},has({_:{data:t,setupState:e,accessCache:n,ctx:r,appContext:i,propsOptions:s}},o){let a;return!!n[o]||t!==rn&&Kt(t,o)||sy(e,o)||(a=s[0])&&Kt(a,o)||Kt(r,o)||Kt(Md,o)||Kt(i.config.globalProperties,o)},defineProperty(t,e,n){return n.get!=null?t._.accessCache[e]=0:Kt(n,"value")&&this.set(t,e,n.value,null),Reflect.defineProperty(t,e,n)}},H$=Hn({},Ob,{get(t,e){if(e!==Symbol.unscopables)return Ob.get(t,e,t)},has(t,e){return e[0]!=="_"&&!BV(e)}});function W$(){return null}function z$(){return null}function K$(t){}function G$(t){}function Y$(){return null}function Q$(){}function X$(t,e){return null}function Na(){return zO().slots}function J$(){return zO().attrs}function zO(){const t=ts();return t.setupContext||(t.setupContext=kk(t))}function fh(t){return it(t)?t.reduce((e,n)=>(e[n]=null,e),{}):t}function Z$(t,e){const n=fh(t);for(const r in e){if(r.startsWith("__skip"))continue;let i=n[r];i?it(i)||mt(i)?i=n[r]={type:i,default:e[r]}:i.default=e[r]:i===null&&(i=n[r]={default:e[r]}),i&&e[`__skip_${r}`]&&(i.skipFactory=!0)}return n}function e3(t,e){return!t||!e?t||e:it(t)&&it(e)?t.concat(e):Hn({},fh(t),fh(e))}function t3(t,e){const n={};for(const r in t)e.includes(r)||Object.defineProperty(n,r,{enumerable:!0,get:()=>t[r]});return n}function n3(t){const e=ts();let n=t();return $b(),C_(n)&&(n=n.catch(r=>{throw El(e),r})),[n,()=>El(e)]}let kb=!0;function r3(t){const e=K_(t),n=t.proxy,r=t.ctx;kb=!1,e.beforeCreate&&NE(e.beforeCreate,t,"bc");const{data:i,computed:s,methods:o,watch:a,provide:l,inject:u,created:c,beforeMount:d,mounted:h,beforeUpdate:p,updated:m,activated:g,deactivated:y,beforeDestroy:A,beforeUnmount:C,destroyed:S,unmounted:E,render:k,renderTracked:x,renderTriggered:I,errorCaptured:b,serverPrefetch:_,expose:T,inheritAttrs:R,components:N,directives:O,filters:j}=e;if(u&&i3(u,r,null),o)for(const B in o){const te=o[B];mt(te)&&(r[B]=te.bind(n))}if(i){const B=i.call(n,n);dn(B)&&(t.data=Pr(B))}if(kb=!0,s)for(const B in s){const te=s[B],z=mt(te)?te.bind(n,n):mt(te.get)?te.get.bind(n,n):Ei,V=!mt(te)&&mt(te.set)?te.set.bind(n):Ei,ce=ee({get:z,set:V});Object.defineProperty(r,B,{enumerable:!0,configurable:!0,get:()=>ce.value,set:le=>ce.value=le})}if(a)for(const B in a)KO(a[B],r,n,B);if(l){const B=mt(l)?l.call(n):l;Reflect.ownKeys(B).forEach(te=>{Fu(te,B[te])})}c&&NE(c,t,"c");function $(B,te){it(te)?te.forEach(z=>B(z.bind(n))):te&&B(te.bind(n))}if($(B_,d),$(Vt,h),$(j_,p),$(Vg,m),$($O,g),$(FO,y),$(HO,b),$(jO,x),$(BO,I),$(af,C),$(Gs,E),$(qO,_),it(T))if(T.length){const B=t.exposed||(t.exposed={});T.forEach(te=>{Object.defineProperty(B,te,{get:()=>n[te],set:z=>n[te]=z})})}else t.exposed||(t.exposed={});k&&t.render===Ei&&(t.render=k),R!=null&&(t.inheritAttrs=R),N&&(t.components=N),O&&(t.directives=O)}function i3(t,e,n=Ei){it(t)&&(t=Rb(t));for(const r in t){const i=t[r];let s;dn(i)?"default"in i?s=pi(i.from||r,i.default,!0):s=pi(i.from||r):s=pi(i),wn(s)?Object.defineProperty(e,r,{enumerable:!0,configurable:!0,get:()=>s.value,set:o=>s.value=o}):e[r]=s}}function NE(t,e,n){$i(it(t)?t.map(r=>r.bind(e.proxy)):t.bind(e.proxy),e,n)}function KO(t,e,n,r){const i=r.includes(".")?vk(n,r):()=>n[r];if($n(t)){const s=e[t];mt(s)&&cn(i,s)}else if(mt(t))cn(i,t.bind(n));else if(dn(t))if(it(t))t.forEach(s=>KO(s,e,n,r));else{const s=mt(t.handler)?t.handler.bind(n):e[t.handler];mt(s)&&cn(i,s,t)}}function K_(t){const e=t.type,{mixins:n,extends:r}=e,{mixins:i,optionsCache:s,config:{optionMergeStrategies:o}}=t.appContext,a=s.get(e);let l;return a?l=a:!i.length&&!n&&!r?l=e:(l={},i.length&&i.forEach(u=>mm(l,u,o,!0)),mm(l,e,o)),dn(e)&&s.set(e,l),l}function mm(t,e,n,r=!1){const{mixins:i,extends:s}=e;s&&mm(t,s,n,!0),i&&i.forEach(o=>mm(t,o,n,!0));for(const o in e)if(!(r&&o==="expose")){const a=s3[o]||n&&n[o];t[o]=a?a(t[o],e[o]):e[o]}return t}const s3={data:ME,props:LE,emits:LE,methods:wd,computed:wd,beforeCreate:ci,created:ci,beforeMount:ci,mounted:ci,beforeUpdate:ci,updated:ci,beforeDestroy:ci,beforeUnmount:ci,destroyed:ci,unmounted:ci,activated:ci,deactivated:ci,errorCaptured:ci,serverPrefetch:ci,components:wd,directives:wd,watch:a3,provide:ME,inject:o3};function ME(t,e){return e?t?function(){return Hn(mt(t)?t.call(this,this):t,mt(e)?e.call(this,this):e)}:e:t}function o3(t,e){return wd(Rb(t),Rb(e))}function Rb(t){if(it(t)){const e={};for(let n=0;n<t.length;n++)e[t[n]]=t[n];return e}return t}function ci(t,e){return t?[...new Set([].concat(t,e))]:e}function wd(t,e){return t?Hn(Object.create(null),t,e):e}function LE(t,e){return t?it(t)&&it(e)?[...new Set([...t,...e])]:Hn(Object.create(null),fh(t),fh(e??{})):e}function a3(t,e){if(!t)return e;if(!e)return t;const n=Hn(Object.create(null),t);for(const r in e)n[r]=ci(t[r],e[r]);return n}function GO(){return{app:null,config:{isNativeTag:MV,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let l3=0;function u3(t,e){return function(r,i=null){mt(r)||(r=Hn({},r)),i!=null&&!dn(i)&&(i=null);const s=GO(),o=new WeakSet;let a=!1;const l=s.app={_uid:l3++,_component:r,_props:i,_container:null,_context:s,_instance:null,version:xk,get config(){return s.config},set config(u){},use(u,...c){return o.has(u)||(u&&mt(u.install)?(o.add(u),u.install(l,...c)):mt(u)&&(o.add(u),u(l,...c))),l},mixin(u){return s.mixins.includes(u)||s.mixins.push(u),l},component(u,c){return c?(s.components[u]=c,l):s.components[u]},directive(u,c){return c?(s.directives[u]=c,l):s.directives[u]},mount(u,c,d){if(!a){const h=q(r,i);return h.appContext=s,d===!0?d="svg":d===!1&&(d=void 0),c&&e?e(h,u):t(h,u,d),a=!0,l._container=u,u.__vue_app__=l,cf(h.component)}},unmount(){a&&(t(null,l._container),delete l._container.__vue_app__)},provide(u,c){return s.provides[u]=c,l},runWithContext(u){const c=hl;hl=l;try{return u()}finally{hl=c}}};return l}}let hl=null;function Fu(t,e){if(gr){let n=gr.provides;const r=gr.parent&&gr.parent.provides;r===n&&(n=gr.provides=Object.create(r)),n[t]=e}}function pi(t,e,n=!1){const r=gr||yr;if(r||hl){const i=hl?hl._context.provides:r?r.parent==null?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:void 0;if(i&&t in i)return i[t];if(arguments.length>1)return n&&mt(e)?e.call(r&&r.proxy):e}}function YO(){return!!(gr||yr||hl)}const QO={},XO=()=>Object.create(QO),JO=t=>Object.getPrototypeOf(t)===QO;function c3(t,e,n,r=!1){const i={},s=XO();t.propsDefaults=Object.create(null),ZO(t,e,i,s);for(const o in t.propsOptions[0])o in i||(i[o]=void 0);n?t.props=r?i:x_(i):t.type.props?t.props=i:t.props=s,t.attrs=s}function d3(t,e,n,r){const{props:i,attrs:s,vnode:{patchFlag:o}}=t,a=Lt(i),[l]=t.propsOptions;let u=!1;if((r||o>0)&&!(o&16)){if(o&8){const c=t.vnode.dynamicProps;for(let d=0;d<c.length;d++){let h=c[d];if(Fg(t.emitsOptions,h))continue;const p=e[h];if(l)if(Kt(s,h))p!==s[h]&&(s[h]=p,u=!0);else{const m=ri(h);i[m]=xb(l,a,m,p,t,!1)}else p!==s[h]&&(s[h]=p,u=!0)}}}else{ZO(t,e,i,s)&&(u=!0);let c;for(const d in a)(!e||!Kt(e,d)&&((c=wi(d))===d||!Kt(e,c)))&&(l?n&&(n[d]!==void 0||n[c]!==void 0)&&(i[d]=xb(l,a,d,void 0,t,!0)):delete i[d]);if(s!==a)for(const d in s)(!e||!Kt(e,d))&&(delete s[d],u=!0)}u&&yo(t.attrs,"set","")}function ZO(t,e,n,r){const[i,s]=t.propsOptions;let o=!1,a;if(e)for(let l in e){if(Mu(l))continue;const u=e[l];let c;i&&Kt(i,c=ri(l))?!s||!s.includes(c)?n[c]=u:(a||(a={}))[c]=u:Fg(t.emitsOptions,l)||(!(l in r)||u!==r[l])&&(r[l]=u,o=!0)}if(s){const l=Lt(n),u=a||rn;for(let c=0;c<s.length;c++){const d=s[c];n[d]=xb(i,l,d,u[d],t,!Kt(u,d))}}return o}function xb(t,e,n,r,i,s){const o=t[n];if(o!=null){const a=Kt(o,"default");if(a&&r===void 0){const l=o.default;if(o.type!==Function&&!o.skipFactory&&mt(l)){const{propsDefaults:u}=i;if(n in u)r=u[n];else{const c=El(i);r=u[n]=l.call(null,e),c()}}else r=l}o[0]&&(s&&!a?r=!1:o[1]&&(r===""||r===wi(n))&&(r=!0))}return r}const h3=new WeakMap;function ek(t,e,n=!1){const r=n?h3:e.propsCache,i=r.get(t);if(i)return i;const s=t.props,o={},a=[];let l=!1;if(!mt(t)){const c=d=>{l=!0;const[h,p]=ek(d,e,!0);Hn(o,h),p&&a.push(...p)};!n&&e.mixins.length&&e.mixins.forEach(c),t.extends&&c(t.extends),t.mixins&&t.mixins.forEach(c)}if(!s&&!l)return dn(t)&&r.set(t,Du),Du;if(it(s))for(let c=0;c<s.length;c++){const d=ri(s[c]);VE(d)&&(o[d]=rn)}else if(s)for(const c in s){const d=ri(c);if(VE(d)){const h=s[c],p=o[d]=it(h)||mt(h)?{type:h}:Hn({},h),m=p.type;let g=!1,y=!0;if(it(m))for(let A=0;A<m.length;++A){const C=m[A],S=mt(C)&&C.name;if(S==="Boolean"){g=!0;break}else S==="String"&&(y=!1)}else g=mt(m)&&m.name==="Boolean";p[0]=g,p[1]=y,(g||Kt(p,"default"))&&a.push(d)}}const u=[o,a];return dn(t)&&r.set(t,u),u}function VE(t){return t[0]!=="$"&&!Mu(t)}const tk=t=>t[0]==="_"||t==="$stable",G_=t=>it(t)?t.map(_i):[_i(t)],f3=(t,e,n)=>{if(e._n)return e;const r=X((...i)=>G_(e(...i)),n);return r._c=!1,r},nk=(t,e,n)=>{const r=t._ctx;for(const i in t){if(tk(i))continue;const s=t[i];if(mt(s))e[i]=f3(i,s,r);else if(s!=null){const o=G_(s);e[i]=()=>o}}},rk=(t,e)=>{const n=G_(e);t.slots.default=()=>n},ik=(t,e,n)=>{for(const r in e)(n||r!=="_")&&(t[r]=e[r])},p3=(t,e,n)=>{const r=t.slots=XO();if(t.vnode.shapeFlag&32){const i=e._;i?(ik(r,e,n),n&&oO(r,"_",i,!0)):nk(e,r)}else e&&rk(t,e)},m3=(t,e,n)=>{const{vnode:r,slots:i}=t;let s=!0,o=rn;if(r.shapeFlag&32){const a=e._;a?n&&a===1?s=!1:ik(i,e,n):(s=!e.$stable,nk(e,i)),o=e}else e&&(rk(t,e),o={default:1});if(s)for(const a in i)!tk(a)&&o[a]==null&&delete i[a]};function gm(t,e,n,r,i=!1){if(it(t)){t.forEach((h,p)=>gm(h,e&&(it(e)?e[p]:e),n,r,i));return}if(dl(r)&&!i)return;const s=r.shapeFlag&4?cf(r.component):r.el,o=i?null:s,{i:a,r:l}=t,u=e&&e.r,c=a.refs===rn?a.refs={}:a.refs,d=a.setupState;if(u!=null&&u!==l&&($n(u)?(c[u]=null,Kt(d,u)&&(d[u]=null)):wn(u)&&(u.value=null)),mt(l))bo(l,a,12,[o,c]);else{const h=$n(l),p=wn(l);if(h||p){const m=()=>{if(t.f){const g=h?Kt(d,l)?d[l]:c[l]:l.value;i?it(g)&&I_(g,s):it(g)?g.includes(s)||g.push(s):h?(c[l]=[s],Kt(d,l)&&(d[l]=c[l])):(l.value=[s],t.k&&(c[t.k]=l.value))}else h?(c[l]=o,Kt(d,l)&&(d[l]=o)):p&&(l.value=o,t.k&&(c[t.k]=o))};o?(m.id=-1,Tr(m,n)):m()}}}const sk=Symbol("_vte"),g3=t=>t.__isTeleport,Ld=t=>t&&(t.disabled||t.disabled===""),$E=t=>typeof SVGElement<"u"&&t instanceof SVGElement,FE=t=>typeof MathMLElement=="function"&&t instanceof MathMLElement,Db=(t,e)=>{const n=t&&t.to;return $n(n)?e?e(n):null:n},v3={name:"Teleport",__isTeleport:!0,process(t,e,n,r,i,s,o,a,l,u){const{mc:c,pc:d,pbc:h,o:{insert:p,querySelector:m,createText:g,createComment:y}}=u,A=Ld(e.props);let{shapeFlag:C,children:S,dynamicChildren:E}=e;if(t==null){const k=e.el=g(""),x=e.anchor=g("");p(k,n,r),p(x,n,r);const I=e.target=Db(e.props,m),b=ak(I,e,g,p);I&&(o==="svg"||$E(I)?o="svg":(o==="mathml"||FE(I))&&(o="mathml"));const _=(T,R)=>{C&16&&c(S,T,R,i,s,o,a,l)};A?_(n,x):I&&_(I,b)}else{e.el=t.el,e.targetStart=t.targetStart;const k=e.anchor=t.anchor,x=e.target=t.target,I=e.targetAnchor=t.targetAnchor,b=Ld(t.props),_=b?n:x,T=b?k:I;if(o==="svg"||$E(x)?o="svg":(o==="mathml"||FE(x))&&(o="mathml"),E?(h(t.dynamicChildren,E,_,i,s,o,a),Q_(t,e,!0)):l||d(t,e,_,T,i,s,o,a,!1),A)b?e.props&&t.props&&e.props.to!==t.props.to&&(e.props.to=t.props.to):op(e,n,k,u,1);else if((e.props&&e.props.to)!==(t.props&&t.props.to)){const R=e.target=Db(e.props,m);R&&op(e,R,null,u,0)}else b&&op(e,x,I,u,1)}ok(e)},remove(t,e,n,{um:r,o:{remove:i}},s){const{shapeFlag:o,children:a,anchor:l,targetStart:u,targetAnchor:c,target:d,props:h}=t;if(d&&(i(u),i(c)),s&&i(l),o&16){const p=s||!Ld(h);for(let m=0;m<a.length;m++){const g=a[m];r(g,e,n,p,!!g.dynamicChildren)}}},move:op,hydrate:y3};function op(t,e,n,{o:{insert:r},m:i},s=2){s===0&&r(t.targetAnchor,e,n);const{el:o,anchor:a,shapeFlag:l,children:u,props:c}=t,d=s===2;if(d&&r(o,e,n),(!d||Ld(c))&&l&16)for(let h=0;h<u.length;h++)i(u[h],e,n,2);d&&r(a,e,n)}function y3(t,e,n,r,i,s,{o:{nextSibling:o,parentNode:a,querySelector:l,insert:u,createText:c}},d){const h=e.target=Db(e.props,l);if(h){const p=h._lpa||h.firstChild;if(e.shapeFlag&16)if(Ld(e.props))e.anchor=d(o(t),e,a(t),n,r,i,s),e.targetStart=p,e.targetAnchor=p&&o(p);else{e.anchor=o(t);let m=p;for(;m;){if(m&&m.nodeType===8){if(m.data==="teleport start anchor")e.targetStart=m;else if(m.data==="teleport anchor"){e.targetAnchor=m,h._lpa=e.targetAnchor&&o(e.targetAnchor);break}}m=o(m)}e.targetAnchor||ak(h,e,c,u),d(p&&o(p),e,h,n,r,i,s)}ok(e)}return e.anchor&&o(e.anchor)}const Y_=v3;function ok(t){const e=t.ctx;if(e&&e.ut){let n=t.children[0].el;for(;n&&n!==t.targetAnchor;)n.nodeType===1&&n.setAttribute("data-v-owner",e.uid),n=n.nextSibling;e.ut()}}function ak(t,e,n,r){const i=e.targetStart=n(""),s=e.targetAnchor=n("");return i[sk]=s,t&&(r(i,t),r(s,t)),s}let UE=!1;const tu=()=>{UE||(console.error("Hydration completed but contains mismatches."),UE=!0)},b3=t=>t.namespaceURI.includes("svg")&&t.tagName!=="foreignObject",_3=t=>t.namespaceURI.includes("MathML"),ap=t=>{if(b3(t))return"svg";if(_3(t))return"mathml"},lp=t=>t.nodeType===8;function w3(t){const{mt:e,p:n,o:{patchProp:r,createText:i,nextSibling:s,parentNode:o,remove:a,insert:l,createComment:u}}=t,c=(S,E)=>{if(!E.hasChildNodes()){n(null,S,E),pm(),E._vnode=S;return}d(E.firstChild,S,null,null,null),pm(),E._vnode=S},d=(S,E,k,x,I,b=!1)=>{b=b||!!E.dynamicChildren;const _=lp(S)&&S.data==="[",T=()=>g(S,E,k,x,I,_),{type:R,ref:N,shapeFlag:O,patchFlag:j}=E;let U=S.nodeType;E.el=S,j===-2&&(b=!1,E.dynamicChildren=null);let $=null;switch(R){case da:U!==3?E.children===""?(l(E.el=i(""),o(S),S),$=S):$=T():(S.data!==E.children&&(tu(),S.data=E.children),$=s(S));break;case mr:C(S)?($=s(S),A(E.el=S.content.firstChild,S,k)):U!==8||_?$=T():$=s(S);break;case fl:if(_&&(S=s(S),U=S.nodeType),U===1||U===3){$=S;const B=!E.children.length;for(let te=0;te<E.staticCount;te++)B&&(E.children+=$.nodeType===1?$.outerHTML:$.data),te===E.staticCount-1&&(E.anchor=$),$=s($);return _?s($):$}else T();break;case Pe:_?$=m(S,E,k,x,I,b):$=T();break;default:if(O&1)(U!==1||E.type.toLowerCase()!==S.tagName.toLowerCase())&&!C(S)?$=T():$=h(S,E,k,x,I,b);else if(O&6){E.slotScopeIds=I;const B=o(S);if(_?$=y(S):lp(S)&&S.data==="teleport start"?$=y(S,S.data,"teleport end"):$=s(S),e(E,B,null,k,x,ap(B),b),dl(E)){let te;_?(te=q(Pe),te.anchor=$?$.previousSibling:B.lastChild):te=S.nodeType===3?K(""):q("div"),te.el=S,E.component.subTree=te}}else O&64?U!==8?$=T():$=E.type.hydrate(S,E,k,x,I,b,t,p):O&128&&($=E.type.hydrate(S,E,k,x,ap(o(S)),I,b,t,d))}return N!=null&&gm(N,null,x,E),$},h=(S,E,k,x,I,b)=>{b=b||!!E.dynamicChildren;const{type:_,props:T,patchFlag:R,shapeFlag:N,dirs:O,transition:j}=E,U=_==="input"||_==="option";if(U||R!==-1){O&&As(E,null,k,"created");let $=!1;if(C(S)){$=dk(x,j)&&k&&k.vnode.props&&k.vnode.props.appear;const te=S.content.firstChild;$&&j.beforeEnter(te),A(te,S,k),E.el=S=te}if(N&16&&!(T&&(T.innerHTML||T.textContent))){let te=p(S.firstChild,E,S,k,x,I,b);for(;te;){tu();const z=te;te=te.nextSibling,a(z)}}else N&8&&S.textContent!==E.children&&(tu(),S.textContent=E.children);if(T){if(U||!b||R&48){const te=S.tagName.includes("-");for(const z in T)(U&&(z.endsWith("value")||z==="indeterminate")||nf(z)&&!Mu(z)||z[0]==="."||te)&&r(S,z,null,T[z],void 0,k)}else if(T.onClick)r(S,"onClick",null,T.onClick,void 0,k);else if(R&4&&Ms(T.style))for(const te in T.style)T.style[te]}let B;(B=T&&T.onVnodeBeforeMount)&&yi(B,k,E),O&&As(E,null,k,"beforeMount"),((B=T&&T.onVnodeMounted)||O||$)&&wk(()=>{B&&yi(B,k,E),$&&j.enter(S),O&&As(E,null,k,"mounted")},x)}return S.nextSibling},p=(S,E,k,x,I,b,_)=>{_=_||!!E.dynamicChildren;const T=E.children,R=T.length;for(let N=0;N<R;N++){const O=_?T[N]:T[N]=_i(T[N]),j=O.type===da;if(S){if(j&&!_){let U=T[N+1];U&&(U=_i(U)).type===da&&(l(i(S.data.slice(O.children.length)),k,s(S)),S.data=O.children)}S=d(S,O,x,I,b,_)}else j&&!O.children?l(O.el=i(""),k):(tu(),n(null,O,k,null,x,I,ap(k),b))}return S},m=(S,E,k,x,I,b)=>{const{slotScopeIds:_}=E;_&&(I=I?I.concat(_):_);const T=o(S),R=p(s(S),E,T,k,x,I,b);return R&&lp(R)&&R.data==="]"?s(E.anchor=R):(tu(),l(E.anchor=u("]"),T,R),R)},g=(S,E,k,x,I,b)=>{if(tu(),E.el=null,b){const R=y(S);for(;;){const N=s(S);if(N&&N!==R)a(N);else break}}const _=s(S),T=o(S);return a(S),n(null,E,T,_,k,x,ap(T),I),_},y=(S,E="[",k="]")=>{let x=0;for(;S;)if(S=s(S),S&&lp(S)&&(S.data===E&&x++,S.data===k)){if(x===0)return s(S);x--}return S},A=(S,E,k)=>{const x=E.parentNode;x&&x.replaceChild(S,E);let I=k;for(;I;)I.vnode.el===E&&(I.vnode.el=I.subTree.el=S),I=I.parent},C=S=>S.nodeType===1&&S.tagName.toLowerCase()==="template";return[c,d]}const Tr=wk;function lk(t){return ck(t)}function uk(t){return ck(t,w3)}function ck(t,e){const n=aO();n.__VUE__=!0;const{insert:r,remove:i,patchProp:s,createElement:o,createText:a,createComment:l,setText:u,setElementText:c,parentNode:d,nextSibling:h,setScopeId:p=Ei,insertStaticContent:m}=t,g=(L,W,Q,me=null,ge=null,Ae=null,$e=void 0,ke=null,De=!!W.dynamicChildren)=>{if(L===W)return;L&&!cs(L,W)&&(me=ne(L),le(L,ge,Ae,!0),L=null),W.patchFlag===-2&&(De=!1,W.dynamicChildren=null);const{type:Ie,ref:He,shapeFlag:We}=W;switch(Ie){case da:y(L,W,Q,me);break;case mr:A(L,W,Q,me);break;case fl:L==null&&C(W,Q,me,$e);break;case Pe:N(L,W,Q,me,ge,Ae,$e,ke,De);break;default:We&1?k(L,W,Q,me,ge,Ae,$e,ke,De):We&6?O(L,W,Q,me,ge,Ae,$e,ke,De):(We&64||We&128)&&Ie.process(L,W,Q,me,ge,Ae,$e,ke,De,we)}He!=null&&ge&&gm(He,L&&L.ref,Ae,W||L,!W)},y=(L,W,Q,me)=>{if(L==null)r(W.el=a(W.children),Q,me);else{const ge=W.el=L.el;W.children!==L.children&&u(ge,W.children)}},A=(L,W,Q,me)=>{L==null?r(W.el=l(W.children||""),Q,me):W.el=L.el},C=(L,W,Q,me)=>{[L.el,L.anchor]=m(L.children,W,Q,me,L.el,L.anchor)},S=({el:L,anchor:W},Q,me)=>{let ge;for(;L&&L!==W;)ge=h(L),r(L,Q,me),L=ge;r(W,Q,me)},E=({el:L,anchor:W})=>{let Q;for(;L&&L!==W;)Q=h(L),i(L),L=Q;i(W)},k=(L,W,Q,me,ge,Ae,$e,ke,De)=>{W.type==="svg"?$e="svg":W.type==="math"&&($e="mathml"),L==null?x(W,Q,me,ge,Ae,$e,ke,De):_(L,W,ge,Ae,$e,ke,De)},x=(L,W,Q,me,ge,Ae,$e,ke)=>{let De,Ie;const{props:He,shapeFlag:We,transition:Xe,dirs:lt}=L;if(De=L.el=o(L.type,Ae,He&&He.is,He),We&8?c(De,L.children):We&16&&b(L.children,De,null,me,ge,oy(L,Ae),$e,ke),lt&&As(L,null,me,"created"),I(De,L,L.scopeId,$e,me),He){for(const re in He)re!=="value"&&!Mu(re)&&s(De,re,null,He[re],Ae,me);"value"in He&&s(De,"value",null,He.value,Ae),(Ie=He.onVnodeBeforeMount)&&yi(Ie,me,L)}lt&&As(L,null,me,"beforeMount");const tt=dk(ge,Xe);tt&&Xe.beforeEnter(De),r(De,W,Q),((Ie=He&&He.onVnodeMounted)||tt||lt)&&Tr(()=>{Ie&&yi(Ie,me,L),tt&&Xe.enter(De),lt&&As(L,null,me,"mounted")},ge)},I=(L,W,Q,me,ge)=>{if(Q&&p(L,Q),me)for(let Ae=0;Ae<me.length;Ae++)p(L,me[Ae]);if(ge){let Ae=ge.subTree;if(W===Ae){const $e=ge.vnode;I(L,$e,$e.scopeId,$e.slotScopeIds,ge.parent)}}},b=(L,W,Q,me,ge,Ae,$e,ke,De=0)=>{for(let Ie=De;Ie<L.length;Ie++){const He=L[Ie]=ke?Qo(L[Ie]):_i(L[Ie]);g(null,He,W,Q,me,ge,Ae,$e,ke)}},_=(L,W,Q,me,ge,Ae,$e)=>{const ke=W.el=L.el;let{patchFlag:De,dynamicChildren:Ie,dirs:He}=W;De|=L.patchFlag&16;const We=L.props||rn,Xe=W.props||rn;let lt;if(Q&&za(Q,!1),(lt=Xe.onVnodeBeforeUpdate)&&yi(lt,Q,W,L),He&&As(W,L,Q,"beforeUpdate"),Q&&za(Q,!0),(We.innerHTML&&Xe.innerHTML==null||We.textContent&&Xe.textContent==null)&&c(ke,""),Ie?T(L.dynamicChildren,Ie,ke,Q,me,oy(W,ge),Ae):$e||te(L,W,ke,null,Q,me,oy(W,ge),Ae,!1),De>0){if(De&16)R(ke,We,Xe,Q,ge);else if(De&2&&We.class!==Xe.class&&s(ke,"class",null,Xe.class,ge),De&4&&s(ke,"style",We.style,Xe.style,ge),De&8){const tt=W.dynamicProps;for(let re=0;re<tt.length;re++){const G=tt[re],Z=We[G],ue=Xe[G];(ue!==Z||G==="value")&&s(ke,G,Z,ue,ge,Q)}}De&1&&L.children!==W.children&&c(ke,W.children)}else!$e&&Ie==null&&R(ke,We,Xe,Q,ge);((lt=Xe.onVnodeUpdated)||He)&&Tr(()=>{lt&&yi(lt,Q,W,L),He&&As(W,L,Q,"updated")},me)},T=(L,W,Q,me,ge,Ae,$e)=>{for(let ke=0;ke<W.length;ke++){const De=L[ke],Ie=W[ke],He=De.el&&(De.type===Pe||!cs(De,Ie)||De.shapeFlag&70)?d(De.el):Q;g(De,Ie,He,null,me,ge,Ae,$e,!0)}},R=(L,W,Q,me,ge)=>{if(W!==Q){if(W!==rn)for(const Ae in W)!Mu(Ae)&&!(Ae in Q)&&s(L,Ae,W[Ae],null,ge,me);for(const Ae in Q){if(Mu(Ae))continue;const $e=Q[Ae],ke=W[Ae];$e!==ke&&Ae!=="value"&&s(L,Ae,ke,$e,ge,me)}"value"in Q&&s(L,"value",W.value,Q.value,ge)}},N=(L,W,Q,me,ge,Ae,$e,ke,De)=>{const Ie=W.el=L?L.el:a(""),He=W.anchor=L?L.anchor:a("");let{patchFlag:We,dynamicChildren:Xe,slotScopeIds:lt}=W;lt&&(ke=ke?ke.concat(lt):lt),L==null?(r(Ie,Q,me),r(He,Q,me),b(W.children||[],Q,He,ge,Ae,$e,ke,De)):We>0&&We&64&&Xe&&L.dynamicChildren?(T(L.dynamicChildren,Xe,Q,ge,Ae,$e,ke),(W.key!=null||ge&&W===ge.subTree)&&Q_(L,W,!0)):te(L,W,Q,He,ge,Ae,$e,ke,De)},O=(L,W,Q,me,ge,Ae,$e,ke,De)=>{W.slotScopeIds=ke,L==null?W.shapeFlag&512?ge.ctx.activate(W,Q,me,$e,De):j(W,Q,me,ge,Ae,$e,De):U(L,W,De)},j=(L,W,Q,me,ge,Ae,$e)=>{const ke=L.component=Ck(L,me,ge);if(of(L)&&(ke.ctx.renderer=we),Pk(ke,!1,$e),ke.asyncDep){if(ge&&ge.registerDep(ke,$,$e),!L.el){const De=ke.subTree=q(mr);A(null,De,W,Q)}}else $(ke,L,W,Q,ge,Ae,$e)},U=(L,W,Q)=>{const me=W.component=L.component;if(O3(L,W,Q))if(me.asyncDep&&!me.asyncResolved){B(me,W,Q);return}else me.next=W,N$(me.update),me.effect.dirty=!0,me.update();else W.el=L.el,me.vnode=W},$=(L,W,Q,me,ge,Ae,$e)=>{const ke=()=>{if(L.isMounted){let{next:He,bu:We,u:Xe,parent:lt,vnode:tt}=L;{const be=hk(L);if(be){He&&(He.el=tt.el,B(L,He,$e)),be.asyncDep.then(()=>{L.isUnmounted||ke()});return}}let re=He,G;za(L,!1),He?(He.el=tt.el,B(L,He,$e)):He=tt,We&&Lu(We),(G=He.props&&He.props.onVnodeBeforeUpdate)&&yi(G,lt,He,tt),za(L,!0);const Z=Up(L),ue=L.subTree;L.subTree=Z,g(ue,Z,d(ue.el),ne(ue),L,ge,Ae),He.el=Z.el,re===null&&J_(L,Z.el),Xe&&Tr(Xe,ge),(G=He.props&&He.props.onVnodeUpdated)&&Tr(()=>yi(G,lt,He,tt),ge)}else{let He;const{el:We,props:Xe}=W,{bm:lt,m:tt,parent:re}=L,G=dl(W);if(za(L,!1),lt&&Lu(lt),!G&&(He=Xe&&Xe.onVnodeBeforeMount)&&yi(He,re,W),za(L,!0),We&&fe){const Z=()=>{L.subTree=Up(L),fe(We,L.subTree,L,ge,null)};G?W.type.__asyncLoader().then(()=>!L.isUnmounted&&Z()):Z()}else{const Z=L.subTree=Up(L);g(null,Z,Q,me,L,ge,Ae),W.el=Z.el}if(tt&&Tr(tt,ge),!G&&(He=Xe&&Xe.onVnodeMounted)){const Z=W;Tr(()=>yi(He,re,Z),ge)}(W.shapeFlag&256||re&&dl(re.vnode)&&re.vnode.shapeFlag&256)&&L.a&&Tr(L.a,ge),L.isMounted=!0,W=Q=me=null}},De=L.effect=new Xu(ke,Ei,()=>Dg(Ie),L.scope),Ie=L.update=()=>{De.dirty&&De.run()};Ie.i=L,Ie.id=L.uid,za(L,!0),Ie()},B=(L,W,Q)=>{W.component=L;const me=L.vnode.props;L.vnode=W,L.next=null,d3(L,W.props,me,Q),m3(L,W.children,Q),xa(),RE(L),Da()},te=(L,W,Q,me,ge,Ae,$e,ke,De=!1)=>{const Ie=L&&L.children,He=L?L.shapeFlag:0,We=W.children,{patchFlag:Xe,shapeFlag:lt}=W;if(Xe>0){if(Xe&128){V(Ie,We,Q,me,ge,Ae,$e,ke,De);return}else if(Xe&256){z(Ie,We,Q,me,ge,Ae,$e,ke,De);return}}lt&8?(He&16&&Y(Ie,ge,Ae),We!==Ie&&c(Q,We)):He&16?lt&16?V(Ie,We,Q,me,ge,Ae,$e,ke,De):Y(Ie,ge,Ae,!0):(He&8&&c(Q,""),lt&16&&b(We,Q,me,ge,Ae,$e,ke,De))},z=(L,W,Q,me,ge,Ae,$e,ke,De)=>{L=L||Du,W=W||Du;const Ie=L.length,He=W.length,We=Math.min(Ie,He);let Xe;for(Xe=0;Xe<We;Xe++){const lt=W[Xe]=De?Qo(W[Xe]):_i(W[Xe]);g(L[Xe],lt,Q,null,ge,Ae,$e,ke,De)}Ie>He?Y(L,ge,Ae,!0,!1,We):b(W,Q,me,ge,Ae,$e,ke,De,We)},V=(L,W,Q,me,ge,Ae,$e,ke,De)=>{let Ie=0;const He=W.length;let We=L.length-1,Xe=He-1;for(;Ie<=We&&Ie<=Xe;){const lt=L[Ie],tt=W[Ie]=De?Qo(W[Ie]):_i(W[Ie]);if(cs(lt,tt))g(lt,tt,Q,null,ge,Ae,$e,ke,De);else break;Ie++}for(;Ie<=We&&Ie<=Xe;){const lt=L[We],tt=W[Xe]=De?Qo(W[Xe]):_i(W[Xe]);if(cs(lt,tt))g(lt,tt,Q,null,ge,Ae,$e,ke,De);else break;We--,Xe--}if(Ie>We){if(Ie<=Xe){const lt=Xe+1,tt=lt<He?W[lt].el:me;for(;Ie<=Xe;)g(null,W[Ie]=De?Qo(W[Ie]):_i(W[Ie]),Q,tt,ge,Ae,$e,ke,De),Ie++}}else if(Ie>Xe)for(;Ie<=We;)le(L[Ie],ge,Ae,!0),Ie++;else{const lt=Ie,tt=Ie,re=new Map;for(Ie=tt;Ie<=Xe;Ie++){const Ne=W[Ie]=De?Qo(W[Ie]):_i(W[Ie]);Ne.key!=null&&re.set(Ne.key,Ie)}let G,Z=0;const ue=Xe-tt+1;let be=!1,qe=0;const nt=new Array(ue);for(Ie=0;Ie<ue;Ie++)nt[Ie]=0;for(Ie=lt;Ie<=We;Ie++){const Ne=L[Ie];if(Z>=ue){le(Ne,ge,Ae,!0);continue}let Ue;if(Ne.key!=null)Ue=re.get(Ne.key);else for(G=tt;G<=Xe;G++)if(nt[G-tt]===0&&cs(Ne,W[G])){Ue=G;break}Ue===void 0?le(Ne,ge,Ae,!0):(nt[Ue-tt]=Ie+1,Ue>=qe?qe=Ue:be=!0,g(Ne,W[Ue],Q,null,ge,Ae,$e,ke,De),Z++)}const Te=be?T3(nt):Du;for(G=Te.length-1,Ie=ue-1;Ie>=0;Ie--){const Ne=tt+Ie,Ue=W[Ne],rt=Ne+1<He?W[Ne+1].el:me;nt[Ie]===0?g(null,Ue,Q,rt,ge,Ae,$e,ke,De):be&&(G<0||Ie!==Te[G]?ce(Ue,Q,rt,2):G--)}}},ce=(L,W,Q,me,ge=null)=>{const{el:Ae,type:$e,transition:ke,children:De,shapeFlag:Ie}=L;if(Ie&6){ce(L.component.subTree,W,Q,me);return}if(Ie&128){L.suspense.move(W,Q,me);return}if(Ie&64){$e.move(L,W,Q,we);return}if($e===Pe){r(Ae,W,Q);for(let We=0;We<De.length;We++)ce(De[We],W,Q,me);r(L.anchor,W,Q);return}if($e===fl){S(L,W,Q);return}if(me!==2&&Ie&1&&ke)if(me===0)ke.beforeEnter(Ae),r(Ae,W,Q),Tr(()=>ke.enter(Ae),ge);else{const{leave:We,delayLeave:Xe,afterLeave:lt}=ke,tt=()=>r(Ae,W,Q),re=()=>{We(Ae,()=>{tt(),lt&&lt()})};Xe?Xe(Ae,tt,re):re()}else r(Ae,W,Q)},le=(L,W,Q,me=!1,ge=!1)=>{const{type:Ae,props:$e,ref:ke,children:De,dynamicChildren:Ie,shapeFlag:He,patchFlag:We,dirs:Xe,cacheIndex:lt}=L;if(We===-2&&(ge=!1),ke!=null&&gm(ke,null,Q,L,!0),lt!=null&&(W.renderCache[lt]=void 0),He&256){W.ctx.deactivate(L);return}const tt=He&1&&Xe,re=!dl(L);let G;if(re&&(G=$e&&$e.onVnodeBeforeUnmount)&&yi(G,W,L),He&6)he(L.component,Q,me);else{if(He&128){L.suspense.unmount(Q,me);return}tt&&As(L,null,W,"beforeUnmount"),He&64?L.type.remove(L,W,Q,we,me):Ie&&!Ie.hasOnce&&(Ae!==Pe||We>0&&We&64)?Y(Ie,W,Q,!1,!0):(Ae===Pe&&We&384||!ge&&He&16)&&Y(De,W,Q),me&&ve(L)}(re&&(G=$e&&$e.onVnodeUnmounted)||tt)&&Tr(()=>{G&&yi(G,W,L),tt&&As(L,null,W,"unmounted")},Q)},ve=L=>{const{type:W,el:Q,anchor:me,transition:ge}=L;if(W===Pe){Se(Q,me);return}if(W===fl){E(L);return}const Ae=()=>{i(Q),ge&&!ge.persisted&&ge.afterLeave&&ge.afterLeave()};if(L.shapeFlag&1&&ge&&!ge.persisted){const{leave:$e,delayLeave:ke}=ge,De=()=>$e(Q,Ae);ke?ke(L.el,Ae,De):De()}else Ae()},Se=(L,W)=>{let Q;for(;L!==W;)Q=h(L),i(L),L=Q;i(W)},he=(L,W,Q)=>{const{bum:me,scope:ge,update:Ae,subTree:$e,um:ke,m:De,a:Ie}=L;vm(De),vm(Ie),me&&Lu(me),ge.stop(),Ae&&(Ae.active=!1,le($e,L,W,Q)),ke&&Tr(ke,W),Tr(()=>{L.isUnmounted=!0},W),W&&W.pendingBranch&&!W.isUnmounted&&L.asyncDep&&!L.asyncResolved&&L.suspenseId===W.pendingId&&(W.deps--,W.deps===0&&W.resolve())},Y=(L,W,Q,me=!1,ge=!1,Ae=0)=>{for(let $e=Ae;$e<L.length;$e++)le(L[$e],W,Q,me,ge)},ne=L=>{if(L.shapeFlag&6)return ne(L.component.subTree);if(L.shapeFlag&128)return L.suspense.next();const W=h(L.anchor||L.el),Q=W&&W[sk];return Q?h(Q):W};let pe=!1;const oe=(L,W,Q)=>{L==null?W._vnode&&le(W._vnode,null,null,!0):g(W._vnode||null,L,W,null,null,null,Q),W._vnode=L,pe||(pe=!0,RE(),pm(),pe=!1)},we={p:g,um:le,m:ce,r:ve,mt:j,mc:b,pc:te,pbc:T,n:ne,o:t};let Ce,fe;return e&&([Ce,fe]=e(we)),{render:oe,hydrate:Ce,createApp:u3(oe,Ce)}}function oy({type:t,props:e},n){return n==="svg"&&t==="foreignObject"||n==="mathml"&&t==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:n}function za({effect:t,update:e},n){t.allowRecurse=e.allowRecurse=n}function dk(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function Q_(t,e,n=!1){const r=t.children,i=e.children;if(it(r)&&it(i))for(let s=0;s<r.length;s++){const o=r[s];let a=i[s];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=i[s]=Qo(i[s]),a.el=o.el),!n&&a.patchFlag!==-2&&Q_(o,a)),a.type===da&&(a.el=o.el)}}function T3(t){const e=t.slice(),n=[0];let r,i,s,o,a;const l=t.length;for(r=0;r<l;r++){const u=t[r];if(u!==0){if(i=n[n.length-1],t[i]<u){e[r]=i,n.push(r);continue}for(s=0,o=n.length-1;s<o;)a=s+o>>1,t[n[a]]<u?s=a+1:o=a;u<t[n[s]]&&(s>0&&(e[r]=n[s-1]),n[s]=r)}}for(s=n.length,o=n[s-1];s-- >0;)n[s]=o,o=e[o];return n}function hk(t){const e=t.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:hk(e)}function vm(t){if(t)for(let e=0;e<t.length;e++)t[e].active=!1}const fk=Symbol.for("v-scx"),pk=()=>pi(fk);function X_(t,e){return lf(t,null,e)}function mk(t,e){return lf(t,null,{flush:"post"})}function gk(t,e){return lf(t,null,{flush:"sync"})}const up={};function cn(t,e,n){return lf(t,e,n)}function lf(t,e,{immediate:n,deep:r,flush:i,once:s,onTrack:o,onTrigger:a}=rn){if(e&&s){const x=e;e=(...I)=>{x(...I),k()}}const l=gr,u=x=>r===!0?x:ea(x,r===!1?1:void 0);let c,d=!1,h=!1;if(wn(t)?(c=()=>t.value,d=wl(t)):Ms(t)?(c=()=>u(t),d=!0):it(t)?(h=!0,d=t.some(x=>Ms(x)||wl(x)),c=()=>t.map(x=>{if(wn(x))return x.value;if(Ms(x))return u(x);if(mt(x))return bo(x,l,2)})):mt(t)?e?c=()=>bo(t,l,2):c=()=>(p&&p(),$i(t,l,3,[m])):c=Ei,e&&r){const x=c;c=()=>ea(x())}let p,m=x=>{p=S.onStop=()=>{bo(x,l,4),p=S.onStop=void 0}},g;if(uf)if(m=Ei,e?n&&$i(e,l,3,[c(),h?[]:void 0,m]):c(),i==="sync"){const x=pk();g=x.__watcherHandles||(x.__watcherHandles=[])}else return Ei;let y=h?new Array(t.length).fill(up):up;const A=()=>{if(!(!S.active||!S.dirty))if(e){const x=S.run();(r||d||(h?x.some((I,b)=>hi(I,y[b])):hi(x,y)))&&(p&&p(),$i(e,l,3,[x,y===up?void 0:h&&y[0]===up?[]:y,m]),y=x)}else S.run()};A.allowRecurse=!!e;let C;i==="sync"?C=A:i==="post"?C=()=>Tr(A,l&&l.suspense):(A.pre=!0,l&&(A.id=l.uid),C=()=>Dg(A));const S=new Xu(c,Ei,C),E=sf(),k=()=>{S.stop(),E&&I_(E.effects,S)};return e?n?A():y=S.run():i==="post"?Tr(S.run.bind(S),l&&l.suspense):S.run(),g&&g.push(k),k}function E3(t,e,n){const r=this.proxy,i=$n(t)?t.includes(".")?vk(r,t):()=>r[t]:t.bind(r,r);let s;mt(e)?s=e:(s=e.handler,n=e);const o=El(this),a=lf(i,s.bind(r),n);return o(),a}function vk(t,e){const n=e.split(".");return()=>{let r=t;for(let i=0;i<n.length&&r;i++)r=r[n[i]];return r}}function ea(t,e=1/0,n){if(e<=0||!dn(t)||t.__v_skip||(n=n||new Set,n.has(t)))return t;if(n.add(t),e--,wn(t))ea(t.value,e,n);else if(it(t))for(let r=0;r<t.length;r++)ea(t[r],e,n);else if(Bl(t)||Nu(t))t.forEach(r=>{ea(r,e,n)});else if(sO(t)){for(const r in t)ea(t[r],e,n);for(const r of Object.getOwnPropertySymbols(t))Object.prototype.propertyIsEnumerable.call(t,r)&&ea(t[r],e,n)}return t}function S3(t,e,n=rn){const r=ts(),i=ri(e),s=wi(e),o=yk(t,e),a=PO((l,u)=>{let c,d=rn,h;return gk(()=>{const p=t[e];hi(c,p)&&(c=p,u())}),{get(){return l(),n.get?n.get(c):c},set(p){const m=n.set?n.set(p):p;if(!hi(m,c)&&!(d!==rn&&hi(p,d)))return;const g=r.vnode.props;g&&(e in g||i in g||s in g)&&(`onUpdate:${e}`in g||`onUpdate:${i}`in g||`onUpdate:${s}`in g)||(c=p,u()),r.emit(`update:${e}`,m),hi(p,m)&&hi(p,d)&&!hi(m,h)&&u(),d=p,h=m}}});return a[Symbol.iterator]=()=>{let l=0;return{next(){return l<2?{value:l++?o||rn:a,done:!1}:{done:!0}}}},a}const yk=(t,e)=>e==="modelValue"||e==="model-value"?t.modelModifiers:t[`${e}Modifiers`]||t[`${ri(e)}Modifiers`]||t[`${wi(e)}Modifiers`];function I3(t,e,...n){if(t.isUnmounted)return;const r=t.vnode.props||rn;let i=n;const s=e.startsWith("update:"),o=s&&yk(r,e.slice(7));o&&(o.trim&&(i=n.map(c=>$n(c)?c.trim():c)),o.number&&(i=n.map(cm)));let a,l=r[a=Nd(e)]||r[a=Nd(ri(e))];!l&&s&&(l=r[a=Nd(wi(e))]),l&&$i(l,t,6,i);const u=r[a+"Once"];if(u){if(!t.emitted)t.emitted={};else if(t.emitted[a])return;t.emitted[a]=!0,$i(u,t,6,i)}}function bk(t,e,n=!1){const r=e.emitsCache,i=r.get(t);if(i!==void 0)return i;const s=t.emits;let o={},a=!1;if(!mt(t)){const l=u=>{const c=bk(u,e,!0);c&&(a=!0,Hn(o,c))};!n&&e.mixins.length&&e.mixins.forEach(l),t.extends&&l(t.extends),t.mixins&&t.mixins.forEach(l)}return!s&&!a?(dn(t)&&r.set(t,null),null):(it(s)?s.forEach(l=>o[l]=null):Hn(o,s),dn(t)&&r.set(t,o),o)}function Fg(t,e){return!t||!nf(e)?!1:(e=e.slice(2).replace(/Once$/,""),Kt(t,e[0].toLowerCase()+e.slice(1))||Kt(t,wi(e))||Kt(t,e))}function Up(t){const{type:e,vnode:n,proxy:r,withProxy:i,propsOptions:[s],slots:o,attrs:a,emit:l,render:u,renderCache:c,props:d,data:h,setupState:p,ctx:m,inheritAttrs:g}=t,y=hh(t);let A,C;try{if(n.shapeFlag&4){const E=i||r,k=E;A=_i(u.call(k,E,c,d,p,h,m)),C=a}else{const E=e;A=_i(E.length>1?E(d,{attrs:a,slots:o,emit:l}):E(d,null)),C=e.props?a:A3(a)}}catch(E){Vd.length=0,jl(E,t,1),A=q(mr)}let S=A;if(C&&g!==!1){const E=Object.keys(C),{shapeFlag:k}=S;E.length&&k&7&&(s&&E.some(S_)&&(C=P3(C,s)),S=Ws(S,C,!1,!0))}return n.dirs&&(S=Ws(S,null,!1,!0),S.dirs=S.dirs?S.dirs.concat(n.dirs):n.dirs),n.transition&&(S.transition=n.transition),A=S,hh(y),A}function C3(t,e=!0){let n;for(let r=0;r<t.length;r++){const i=t[r];if(Sa(i)){if(i.type!==mr||i.children==="v-if"){if(n)return;n=i}}else return}return n}const A3=t=>{let e;for(const n in t)(n==="class"||n==="style"||nf(n))&&((e||(e={}))[n]=t[n]);return e},P3=(t,e)=>{const n={};for(const r in t)(!S_(r)||!(r.slice(9)in e))&&(n[r]=t[r]);return n};function O3(t,e,n){const{props:r,children:i,component:s}=t,{props:o,children:a,patchFlag:l}=e,u=s.emitsOptions;if(e.dirs||e.transition)return!0;if(n&&l>=0){if(l&1024)return!0;if(l&16)return r?qE(r,o,u):!!o;if(l&8){const c=e.dynamicProps;for(let d=0;d<c.length;d++){const h=c[d];if(o[h]!==r[h]&&!Fg(u,h))return!0}}}else return(i||a)&&(!a||!a.$stable)?!0:r===o?!1:r?o?qE(r,o,u):!0:!!o;return!1}function qE(t,e,n){const r=Object.keys(e);if(r.length!==Object.keys(t).length)return!0;for(let i=0;i<r.length;i++){const s=r[i];if(e[s]!==t[s]&&!Fg(n,s))return!0}return!1}function J_({vnode:t,parent:e},n){for(;e;){const r=e.subTree;if(r.suspense&&r.suspense.activeBranch===t&&(r.el=t.el),r===t)(t=e.vnode).el=n,e=e.parent;else break}}const Nb=t=>t.__isSuspense;let Mb=0;const k3={name:"Suspense",__isSuspense:!0,process(t,e,n,r,i,s,o,a,l,u){if(t==null)x3(e,n,r,i,s,o,a,l,u);else{if(s&&s.deps>0&&!t.suspense.isInFallback){e.suspense=t.suspense,e.suspense.vnode=e,e.el=t.el;return}D3(t,e,n,r,i,o,a,l,u)}},hydrate:N3,normalize:M3},R3=k3;function ph(t,e){const n=t.props&&t.props[e];mt(n)&&n()}function x3(t,e,n,r,i,s,o,a,l){const{p:u,o:{createElement:c}}=l,d=c("div"),h=t.suspense=_k(t,i,r,e,d,n,s,o,a,l);u(null,h.pendingBranch=t.ssContent,d,null,r,h,s,o),h.deps>0?(ph(t,"onPending"),ph(t,"onFallback"),u(null,t.ssFallback,e,n,r,null,s,o),Uu(h,t.ssFallback)):h.resolve(!1,!0)}function D3(t,e,n,r,i,s,o,a,{p:l,um:u,o:{createElement:c}}){const d=e.suspense=t.suspense;d.vnode=e,e.el=t.el;const h=e.ssContent,p=e.ssFallback,{activeBranch:m,pendingBranch:g,isInFallback:y,isHydrating:A}=d;if(g)d.pendingBranch=h,cs(h,g)?(l(g,h,d.hiddenContainer,null,i,d,s,o,a),d.deps<=0?d.resolve():y&&(A||(l(m,p,n,r,i,null,s,o,a),Uu(d,p)))):(d.pendingId=Mb++,A?(d.isHydrating=!1,d.activeBranch=g):u(g,i,d),d.deps=0,d.effects.length=0,d.hiddenContainer=c("div"),y?(l(null,h,d.hiddenContainer,null,i,d,s,o,a),d.deps<=0?d.resolve():(l(m,p,n,r,i,null,s,o,a),Uu(d,p))):m&&cs(h,m)?(l(m,h,n,r,i,d,s,o,a),d.resolve(!0)):(l(null,h,d.hiddenContainer,null,i,d,s,o,a),d.deps<=0&&d.resolve()));else if(m&&cs(h,m))l(m,h,n,r,i,d,s,o,a),Uu(d,h);else if(ph(e,"onPending"),d.pendingBranch=h,h.shapeFlag&512?d.pendingId=h.component.suspenseId:d.pendingId=Mb++,l(null,h,d.hiddenContainer,null,i,d,s,o,a),d.deps<=0)d.resolve();else{const{timeout:C,pendingId:S}=d;C>0?setTimeout(()=>{d.pendingId===S&&d.fallback(p)},C):C===0&&d.fallback(p)}}function _k(t,e,n,r,i,s,o,a,l,u,c=!1){const{p:d,m:h,um:p,n:m,o:{parentNode:g,remove:y}}=u;let A;const C=L3(t);C&&e&&e.pendingBranch&&(A=e.pendingId,e.deps++);const S=t.props?dm(t.props.timeout):void 0,E=s,k={vnode:t,parent:e,parentComponent:n,namespace:o,container:r,hiddenContainer:i,deps:0,pendingId:Mb++,timeout:typeof S=="number"?S:-1,activeBranch:null,pendingBranch:null,isInFallback:!c,isHydrating:c,isUnmounted:!1,effects:[],resolve(x=!1,I=!1){const{vnode:b,activeBranch:_,pendingBranch:T,pendingId:R,effects:N,parentComponent:O,container:j}=k;let U=!1;k.isHydrating?k.isHydrating=!1:x||(U=_&&T.transition&&T.transition.mode==="out-in",U&&(_.transition.afterLeave=()=>{R===k.pendingId&&(h(T,j,s===E?m(_):s,0),fm(N))}),_&&(g(_.el)!==k.hiddenContainer&&(s=m(_)),p(_,O,k,!0)),U||h(T,j,s,0)),Uu(k,T),k.pendingBranch=null,k.isInFallback=!1;let $=k.parent,B=!1;for(;$;){if($.pendingBranch){$.effects.push(...N),B=!0;break}$=$.parent}!B&&!U&&fm(N),k.effects=[],C&&e&&e.pendingBranch&&A===e.pendingId&&(e.deps--,e.deps===0&&!I&&e.resolve()),ph(b,"onResolve")},fallback(x){if(!k.pendingBranch)return;const{vnode:I,activeBranch:b,parentComponent:_,container:T,namespace:R}=k;ph(I,"onFallback");const N=m(b),O=()=>{k.isInFallback&&(d(null,x,T,N,_,null,R,a,l),Uu(k,x))},j=x.transition&&x.transition.mode==="out-in";j&&(b.transition.afterLeave=O),k.isInFallback=!0,p(b,_,null,!0),j||O()},move(x,I,b){k.activeBranch&&h(k.activeBranch,x,I,b),k.container=x},next(){return k.activeBranch&&m(k.activeBranch)},registerDep(x,I,b){const _=!!k.pendingBranch;_&&k.deps++;const T=x.vnode.el;x.asyncDep.catch(R=>{jl(R,x,0)}).then(R=>{if(x.isUnmounted||k.isUnmounted||k.pendingId!==x.suspenseId)return;x.asyncResolved=!0;const{vnode:N}=x;Fb(x,R,!1),T&&(N.el=T);const O=!T&&x.subTree.el;I(x,N,g(T||x.subTree.el),T?null:m(x.subTree),k,o,b),O&&y(O),J_(x,N.el),_&&--k.deps===0&&k.resolve()})},unmount(x,I){k.isUnmounted=!0,k.activeBranch&&p(k.activeBranch,n,x,I),k.pendingBranch&&p(k.pendingBranch,n,x,I)}};return k}function N3(t,e,n,r,i,s,o,a,l){const u=e.suspense=_k(e,r,n,t.parentNode,document.createElement("div"),null,i,s,o,a,!0),c=l(t,u.pendingBranch=e.ssContent,n,u,s,o);return u.deps===0&&u.resolve(!1,!0),c}function M3(t){const{shapeFlag:e,children:n}=t,r=e&32;t.ssContent=BE(r?n.default:n),t.ssFallback=r?BE(n.fallback):q(mr)}function BE(t){let e;if(mt(t)){const n=Tl&&t._c;n&&(t._d=!1,D()),t=t(),n&&(t._d=!0,e=Zr,Tk())}return it(t)&&(t=C3(t)),t=_i(t),e&&!t.dynamicChildren&&(t.dynamicChildren=e.filter(n=>n!==t)),t}function wk(t,e){e&&e.pendingBranch?it(t)?e.effects.push(...t):e.effects.push(t):fm(t)}function Uu(t,e){t.activeBranch=e;const{vnode:n,parentComponent:r}=t;let i=e.el;for(;!i&&e.component;)e=e.component.subTree,i=e.el;n.el=i,r&&r.subTree===n&&(r.vnode.el=i,J_(r,i))}function L3(t){const e=t.props&&t.props.suspensible;return e!=null&&e!==!1}const Pe=Symbol.for("v-fgt"),da=Symbol.for("v-txt"),mr=Symbol.for("v-cmt"),fl=Symbol.for("v-stc"),Vd=[];let Zr=null;function D(t=!1){Vd.push(Zr=t?null:[])}function Tk(){Vd.pop(),Zr=Vd[Vd.length-1]||null}let Tl=1;function Lb(t){Tl+=t,t<0&&Zr&&(Zr.hasOnce=!0)}function Ek(t){return t.dynamicChildren=Tl>0?Zr||Du:null,Tk(),Tl>0&&Zr&&Zr.push(t),t}function H(t,e,n,r,i,s){return Ek(v(t,e,n,r,i,s,!0))}function ae(t,e,n,r,i){return Ek(q(t,e,n,r,i,!0))}function Sa(t){return t?t.__v_isVNode===!0:!1}function cs(t,e){return t.type===e.type&&t.key===e.key}function V3(t){}const Sk=({key:t})=>t??null,qp=({ref:t,ref_key:e,ref_for:n})=>(typeof t=="number"&&(t=""+t),t!=null?$n(t)||wn(t)||mt(t)?{i:yr,r:t,k:e,f:!!n}:t:null);function v(t,e=null,n=null,r=0,i=null,s=t===Pe?0:1,o=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&Sk(e),ref:e&&qp(e),scopeId:Ng,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:s,patchFlag:r,dynamicProps:i,dynamicChildren:null,appContext:null,ctx:yr};return a?(Z_(l,n),s&128&&t.normalize(l)):n&&(l.shapeFlag|=$n(n)?8:16),Tl>0&&!o&&Zr&&(l.patchFlag>0||s&6)&&l.patchFlag!==32&&Zr.push(l),l}const q=$3;function $3(t,e=null,n=null,r=0,i=null,s=!1){if((!t||t===WO)&&(t=mr),Sa(t)){const a=Ws(t,e,!0);return n&&Z_(a,n),Tl>0&&!s&&Zr&&(a.shapeFlag&6?Zr[Zr.indexOf(t)]=a:Zr.push(a)),a.patchFlag=-2,a}if(W3(t)&&(t=t.__vccOpts),e){e=hr(e);let{class:a,style:l}=e;a&&!$n(a)&&(e.class=Le(a)),dn(l)&&(D_(l)&&!it(l)&&(l=Hn({},l)),e.style=tr(l))}const o=$n(t)?1:Nb(t)?128:g3(t)?64:dn(t)?4:mt(t)?2:0;return v(t,e,n,r,i,o,s,!0)}function hr(t){return t?D_(t)||JO(t)?Hn({},t):t:null}function Ws(t,e,n=!1,r=!1){const{props:i,ref:s,patchFlag:o,children:a,transition:l}=t,u=e?se(i||{},e):i,c={__v_isVNode:!0,__v_skip:!0,type:t.type,props:u,key:u&&Sk(u),ref:e&&e.ref?n&&s?it(s)?s.concat(qp(e)):[s,qp(e)]:qp(e):s,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:a,target:t.target,targetStart:t.targetStart,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==Pe?o===-1?16:o|16:o,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:l,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&Ws(t.ssContent),ssFallback:t.ssFallback&&Ws(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce};return l&&r&&Ea(c,l.clone(c)),c}function K(t=" ",e=0){return q(da,null,t,e)}function Ik(t,e){const n=q(fl,null,t);return n.staticCount=e,n}function J(t="",e=!1){return e?(D(),ae(mr,null,t)):q(mr,null,t)}function _i(t){return t==null||typeof t=="boolean"?q(mr):it(t)?q(Pe,null,t.slice()):typeof t=="object"?Qo(t):q(da,null,String(t))}function Qo(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:Ws(t)}function Z_(t,e){let n=0;const{shapeFlag:r}=t;if(e==null)e=null;else if(it(e))n=16;else if(typeof e=="object")if(r&65){const i=e.default;i&&(i._c&&(i._d=!1),Z_(t,i()),i._c&&(i._d=!0));return}else{n=32;const i=e._;!i&&!JO(e)?e._ctx=yr:i===3&&yr&&(yr.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else mt(e)?(e={default:e,_ctx:yr},n=32):(e=String(e),r&64?(n=16,e=[K(e)]):n=8);t.children=e,t.shapeFlag|=n}function se(...t){const e={};for(let n=0;n<t.length;n++){const r=t[n];for(const i in r)if(i==="class")e.class!==r.class&&(e.class=Le([e.class,r.class]));else if(i==="style")e.style=tr([e.style,r.style]);else if(nf(i)){const s=e[i],o=r[i];o&&s!==o&&!(it(s)&&s.includes(o))&&(e[i]=s?[].concat(s,o):o)}else i!==""&&(e[i]=r[i])}return e}function yi(t,e,n,r=null){$i(t,e,7,[n,r])}const F3=GO();let U3=0;function Ck(t,e,n){const r=t.type,i=(e?e.appContext:t.appContext)||F3,s={uid:U3++,vnode:t,type:r,parent:e,appContext:i,root:null,next:null,subTree:null,effect:null,update:null,scope:new P_(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(i.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:ek(r,i),emitsOptions:bk(r,i),emit:null,emitted:null,propsDefaults:rn,inheritAttrs:r.inheritAttrs,ctx:rn,data:rn,props:rn,attrs:rn,slots:rn,refs:rn,setupState:rn,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return s.ctx={_:s},s.root=e?e.root:s,s.emit=I3.bind(null,s),t.ce&&t.ce(s),s}let gr=null;const ts=()=>gr||yr;let ym,Vb;{const t=aO(),e=(n,r)=>{let i;return(i=t[n])||(i=t[n]=[]),i.push(r),s=>{i.length>1?i.forEach(o=>o(s)):i[0](s)}};ym=e("__VUE_INSTANCE_SETTERS__",n=>gr=n),Vb=e("__VUE_SSR_SETTERS__",n=>uf=n)}const El=t=>{const e=gr;return ym(t),t.scope.on(),()=>{t.scope.off(),ym(e)}},$b=()=>{gr&&gr.scope.off(),ym(null)};function Ak(t){return t.vnode.shapeFlag&4}let uf=!1;function Pk(t,e=!1,n=!1){e&&Vb(e);const{props:r,children:i}=t.vnode,s=Ak(t);c3(t,r,s,e),p3(t,i,n);const o=s?q3(t,e):void 0;return e&&Vb(!1),o}function q3(t,e){const n=t.type;t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,Ob);const{setup:r}=n;if(r){const i=t.setupContext=r.length>1?kk(t):null,s=El(t);xa();const o=bo(r,t,0,[t.props,i]);if(Da(),s(),C_(o)){if(o.then($b,$b),e)return o.then(a=>{Fb(t,a,e)}).catch(a=>{jl(a,t,0)});t.asyncDep=o}else Fb(t,o,e)}else Ok(t,e)}function Fb(t,e,n){mt(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:dn(e)&&(t.setupState=L_(e)),Ok(t,n)}let bm,Ub;function B3(t){bm=t,Ub=e=>{e.render._rc&&(e.withProxy=new Proxy(e.ctx,H$))}}const j3=()=>!bm;function Ok(t,e,n){const r=t.type;if(!t.render){if(!e&&bm&&!r.render){const i=r.template||K_(t).template;if(i){const{isCustomElement:s,compilerOptions:o}=t.appContext.config,{delimiters:a,compilerOptions:l}=r,u=Hn(Hn({isCustomElement:s,delimiters:a},o),l);r.render=bm(i,u)}}t.render=r.render||Ei,Ub&&Ub(t)}{const i=El(t);xa();try{r3(t)}finally{Da(),i()}}}const H3={get(t,e){return Pi(t,"get",""),t[e]}};function kk(t){const e=n=>{t.exposed=n||{}};return{attrs:new Proxy(t.attrs,H3),slots:t.slots,emit:t.emit,expose:e}}function cf(t){return t.exposed?t.exposeProxy||(t.exposeProxy=new Proxy(L_(xg(t.exposed)),{get(e,n){if(n in e)return e[n];if(n in Md)return Md[n](t)},has(e,n){return n in e||n in Md}})):t.proxy}function qb(t,e=!0){return mt(t)?t.displayName||t.name:t.name||e&&t.__name}function W3(t){return mt(t)&&"__vccOpts"in t}const ee=(t,e)=>b$(t,e,uf);function Sl(t,e,n){const r=arguments.length;return r===2?dn(e)&&!it(e)?Sa(e)?q(t,null,[e]):q(t,e):q(t,null,e):(r>3?n=Array.prototype.slice.call(arguments,2):r===3&&Sa(n)&&(n=[n]),q(t,e,n))}function z3(){}function K3(t,e,n,r){const i=n[r];if(i&&Rk(i,t))return i;const s=e();return s.memo=t.slice(),s.cacheIndex=r,n[r]=s}function Rk(t,e){const n=t.memo;if(n.length!=e.length)return!1;for(let r=0;r<n.length;r++)if(hi(n[r],e[r]))return!1;return Tl>0&&Zr&&Zr.push(t),!0}const xk="3.4.38",G3=Ei,Y3=R$,Q3=hu,X3=NO,J3={createComponentInstance:Ck,setupComponent:Pk,renderComponentRoot:Up,setCurrentRenderingInstance:hh,isVNode:Sa,normalizeVNode:_i,getComponentPublicInstance:cf,ensureValidVNode:z_},Z3=J3,e4=null,t4=null,n4=null;/**
* @vue/runtime-dom v3.4.38
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const r4="http://www.w3.org/2000/svg",i4="http://www.w3.org/1998/Math/MathML",ao=typeof document<"u"?document:null,jE=ao&&ao.createElement("template"),s4={insert:(t,e,n)=>{e.insertBefore(t,n||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,n,r)=>{const i=e==="svg"?ao.createElementNS(r4,t):e==="mathml"?ao.createElementNS(i4,t):n?ao.createElement(t,{is:n}):ao.createElement(t);return t==="select"&&r&&r.multiple!=null&&i.setAttribute("multiple",r.multiple),i},createText:t=>ao.createTextNode(t),createComment:t=>ao.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>ao.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,n,r,i,s){const o=n?n.previousSibling:e.lastChild;if(i&&(i===s||i.nextSibling))for(;e.insertBefore(i.cloneNode(!0),n),!(i===s||!(i=i.nextSibling)););else{jE.innerHTML=r==="svg"?`<svg>${t}</svg>`:r==="mathml"?`<math>${t}</math>`:t;const a=jE.content;if(r==="svg"||r==="mathml"){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}e.insertBefore(a,n)}return[o?o.nextSibling:e.firstChild,n?n.previousSibling:e.lastChild]}},$o="transition",ed="animation",ec=Symbol("_vtc"),ns=(t,{slots:e})=>Sl(LO,Nk(t),e);ns.displayName="Transition";const Dk={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},o4=ns.props=Hn({},q_,Dk),Ka=(t,e=[])=>{it(t)?t.forEach(n=>n(...e)):t&&t(...e)},HE=t=>t?it(t)?t.some(e=>e.length>1):t.length>1:!1;function Nk(t){const e={};for(const N in t)N in Dk||(e[N]=t[N]);if(t.css===!1)return e;const{name:n="v",type:r,duration:i,enterFromClass:s=`${n}-enter-from`,enterActiveClass:o=`${n}-enter-active`,enterToClass:a=`${n}-enter-to`,appearFromClass:l=s,appearActiveClass:u=o,appearToClass:c=a,leaveFromClass:d=`${n}-leave-from`,leaveActiveClass:h=`${n}-leave-active`,leaveToClass:p=`${n}-leave-to`}=t,m=a4(i),g=m&&m[0],y=m&&m[1],{onBeforeEnter:A,onEnter:C,onEnterCancelled:S,onLeave:E,onLeaveCancelled:k,onBeforeAppear:x=A,onAppear:I=C,onAppearCancelled:b=S}=e,_=(N,O,j)=>{zo(N,O?c:a),zo(N,O?u:o),j&&j()},T=(N,O)=>{N._isLeaving=!1,zo(N,d),zo(N,p),zo(N,h),O&&O()},R=N=>(O,j)=>{const U=N?I:C,$=()=>_(O,N,j);Ka(U,[O,$]),WE(()=>{zo(O,N?l:s),so(O,N?c:a),HE(U)||zE(O,r,g,$)})};return Hn(e,{onBeforeEnter(N){Ka(A,[N]),so(N,s),so(N,o)},onBeforeAppear(N){Ka(x,[N]),so(N,l),so(N,u)},onEnter:R(!1),onAppear:R(!0),onLeave(N,O){N._isLeaving=!0;const j=()=>T(N,O);so(N,d),so(N,h),Lk(),WE(()=>{N._isLeaving&&(zo(N,d),so(N,p),HE(E)||zE(N,r,y,j))}),Ka(E,[N,j])},onEnterCancelled(N){_(N,!1),Ka(S,[N])},onAppearCancelled(N){_(N,!0),Ka(b,[N])},onLeaveCancelled(N){T(N),Ka(k,[N])}})}function a4(t){if(t==null)return null;if(dn(t))return[ay(t.enter),ay(t.leave)];{const e=ay(t);return[e,e]}}function ay(t){return dm(t)}function so(t,e){e.split(/\s+/).forEach(n=>n&&t.classList.add(n)),(t[ec]||(t[ec]=new Set)).add(e)}function zo(t,e){e.split(/\s+/).forEach(r=>r&&t.classList.remove(r));const n=t[ec];n&&(n.delete(e),n.size||(t[ec]=void 0))}function WE(t){requestAnimationFrame(()=>{requestAnimationFrame(t)})}let l4=0;function zE(t,e,n,r){const i=t._endId=++l4,s=()=>{i===t._endId&&r()};if(n)return setTimeout(s,n);const{type:o,timeout:a,propCount:l}=Mk(t,e);if(!o)return r();const u=o+"end";let c=0;const d=()=>{t.removeEventListener(u,h),s()},h=p=>{p.target===t&&++c>=l&&d()};setTimeout(()=>{c<l&&d()},a+1),t.addEventListener(u,h)}function Mk(t,e){const n=window.getComputedStyle(t),r=m=>(n[m]||"").split(", "),i=r(`${$o}Delay`),s=r(`${$o}Duration`),o=KE(i,s),a=r(`${ed}Delay`),l=r(`${ed}Duration`),u=KE(a,l);let c=null,d=0,h=0;e===$o?o>0&&(c=$o,d=o,h=s.length):e===ed?u>0&&(c=ed,d=u,h=l.length):(d=Math.max(o,u),c=d>0?o>u?$o:ed:null,h=c?c===$o?s.length:l.length:0);const p=c===$o&&/\b(transform|all)(,|$)/.test(r(`${$o}Property`).toString());return{type:c,timeout:d,propCount:h,hasTransform:p}}function KE(t,e){for(;t.length<e.length;)t=t.concat(t);return Math.max(...e.map((n,r)=>GE(n)+GE(t[r])))}function GE(t){return t==="auto"?0:Number(t.slice(0,-1).replace(",","."))*1e3}function Lk(){return document.body.offsetHeight}function u4(t,e,n){const r=t[ec];r&&(e=(e?[e,...r]:[...r]).join(" ")),e==null?t.removeAttribute("class"):n?t.setAttribute("class",e):t.className=e}const _m=Symbol("_vod"),Vk=Symbol("_vsh"),Ls={beforeMount(t,{value:e},{transition:n}){t[_m]=t.style.display==="none"?"":t.style.display,n&&e?n.beforeEnter(t):td(t,e)},mounted(t,{value:e},{transition:n}){n&&e&&n.enter(t)},updated(t,{value:e,oldValue:n},{transition:r}){!e!=!n&&(r?e?(r.beforeEnter(t),td(t,!0),r.enter(t)):r.leave(t,()=>{td(t,!1)}):td(t,e))},beforeUnmount(t,{value:e}){td(t,e)}};function td(t,e){t.style.display=e?t[_m]:"none",t[Vk]=!e}function c4(){Ls.getSSRProps=({value:t})=>{if(!t)return{style:{display:"none"}}}}const $k=Symbol("");function d4(t){const e=ts();if(!e)return;const n=e.ut=(i=t(e.proxy))=>{Array.from(document.querySelectorAll(`[data-v-owner="${e.uid}"]`)).forEach(s=>jb(s,i))},r=()=>{const i=t(e.proxy);Bb(e.subTree,i),n(i)};B_(()=>{mk(r)}),Vt(()=>{const i=new MutationObserver(r);i.observe(e.subTree.el.parentNode,{childList:!0}),Gs(()=>i.disconnect())})}function Bb(t,e){if(t.shapeFlag&128){const n=t.suspense;t=n.activeBranch,n.pendingBranch&&!n.isHydrating&&n.effects.push(()=>{Bb(n.activeBranch,e)})}for(;t.component;)t=t.component.subTree;if(t.shapeFlag&1&&t.el)jb(t.el,e);else if(t.type===Pe)t.children.forEach(n=>Bb(n,e));else if(t.type===fl){let{el:n,anchor:r}=t;for(;n&&(jb(n,e),n!==r);)n=n.nextSibling}}function jb(t,e){if(t.nodeType===1){const n=t.style;let r="";for(const i in e)n.setProperty(`--${i}`,e[i]),r+=`--${i}: ${e[i]};`;n[$k]=r}}const h4=/(^|;)\s*display\s*:/;function f4(t,e,n){const r=t.style,i=$n(n);let s=!1;if(n&&!i){if(e)if($n(e))for(const o of e.split(";")){const a=o.slice(0,o.indexOf(":")).trim();n[a]==null&&Bp(r,a,"")}else for(const o in e)n[o]==null&&Bp(r,o,"");for(const o in n)o==="display"&&(s=!0),Bp(r,o,n[o])}else if(i){if(e!==n){const o=r[$k];o&&(n+=";"+o),r.cssText=n,s=h4.test(n)}}else e&&t.removeAttribute("style");_m in t&&(t[_m]=s?r.display:"",t[Vk]&&(r.display="none"))}const YE=/\s*!important$/;function Bp(t,e,n){if(it(n))n.forEach(r=>Bp(t,e,r));else if(n==null&&(n=""),e.startsWith("--"))t.setProperty(e,n);else{const r=p4(t,e);YE.test(n)?t.setProperty(wi(r),n.replace(YE,""),"important"):t[r]=n}}const QE=["Webkit","Moz","ms"],ly={};function p4(t,e){const n=ly[e];if(n)return n;let r=ri(e);if(r!=="filter"&&r in t)return ly[e]=r;r=rf(r);for(let i=0;i<QE.length;i++){const s=QE[i]+r;if(s in t)return ly[e]=s}return e}const XE="http://www.w3.org/1999/xlink";function JE(t,e,n,r,i,s=GV(e)){r&&e.startsWith("xlink:")?n==null?t.removeAttributeNS(XE,e.slice(6,e.length)):t.setAttributeNS(XE,e,n):n==null||s&&!lO(n)?t.removeAttribute(e):t.setAttribute(e,s?"":Hs(n)?String(n):n)}function m4(t,e,n,r){if(e==="innerHTML"||e==="textContent"){if(n==null)return;t[e]=n;return}const i=t.tagName;if(e==="value"&&i!=="PROGRESS"&&!i.includes("-")){const o=i==="OPTION"?t.getAttribute("value")||"":t.value,a=n==null?"":String(n);(o!==a||!("_value"in t))&&(t.value=a),n==null&&t.removeAttribute(e),t._value=n;return}let s=!1;if(n===""||n==null){const o=typeof t[e];o==="boolean"?n=lO(n):n==null&&o==="string"?(n="",s=!0):o==="number"&&(n=0,s=!0)}try{t[e]=n}catch{}s&&t.removeAttribute(e)}function co(t,e,n,r){t.addEventListener(e,n,r)}function g4(t,e,n,r){t.removeEventListener(e,n,r)}const ZE=Symbol("_vei");function v4(t,e,n,r,i=null){const s=t[ZE]||(t[ZE]={}),o=s[e];if(r&&o)o.value=r;else{const[a,l]=y4(e);if(r){const u=s[e]=w4(r,i);co(t,a,u,l)}else o&&(g4(t,a,o,l),s[e]=void 0)}}const eS=/(?:Once|Passive|Capture)$/;function y4(t){let e;if(eS.test(t)){e={};let r;for(;r=t.match(eS);)t=t.slice(0,t.length-r[0].length),e[r[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):wi(t.slice(2)),e]}let uy=0;const b4=Promise.resolve(),_4=()=>uy||(b4.then(()=>uy=0),uy=Date.now());function w4(t,e){const n=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=n.attached)return;$i(T4(r,n.value),e,5,[r])};return n.value=t,n.attached=_4(),n}function T4(t,e){if(it(e)){const n=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{n.call(t),t._stopped=!0},e.map(r=>i=>!i._stopped&&r&&r(i))}else return e}const tS=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,E4=(t,e,n,r,i,s)=>{const o=i==="svg";e==="class"?u4(t,r,o):e==="style"?f4(t,n,r):nf(e)?S_(e)||v4(t,e,n,r,s):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):S4(t,e,r,o))?(m4(t,e,r),!t.tagName.includes("-")&&(e==="value"||e==="checked"||e==="selected")&&JE(t,e,r,o,s,e!=="value")):(e==="true-value"?t._trueValue=r:e==="false-value"&&(t._falseValue=r),JE(t,e,r,o))};function S4(t,e,n,r){if(r)return!!(e==="innerHTML"||e==="textContent"||e in t&&tS(e)&&mt(n));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const i=t.tagName;if(i==="IMG"||i==="VIDEO"||i==="CANVAS"||i==="SOURCE")return!1}return tS(e)&&$n(n)?!1:e in t}/*! #__NO_SIDE_EFFECTS__ */function Fk(t,e,n){const r=xe(t,e);class i extends Ug{constructor(o){super(r,o,n)}}return i.def=r,i}/*! #__NO_SIDE_EFFECTS__ */const I4=(t,e)=>Fk(t,e,Xk),C4=typeof HTMLElement<"u"?HTMLElement:class{};class Ug extends C4{constructor(e,n={},r){super(),this._def=e,this._props=n,this._instance=null,this._connected=!1,this._resolved=!1,this._numberProps=null,this._ob=null,this.shadowRoot&&r?r(this._createVNode(),this.shadowRoot):(this.attachShadow({mode:"open"}),this._def.__asyncLoader||this._resolveProps(this._def))}connectedCallback(){this._connected=!0,this._instance||(this._resolved?this._update():this._resolveDef())}disconnectedCallback(){this._connected=!1,ir(()=>{this._connected||(this._ob&&(this._ob.disconnect(),this._ob=null),Il(null,this.shadowRoot),this._instance=null)})}_resolveDef(){this._resolved=!0;for(let r=0;r<this.attributes.length;r++)this._setAttr(this.attributes[r].name);this._ob=new MutationObserver(r=>{for(const i of r)this._setAttr(i.attributeName)}),this._ob.observe(this,{attributes:!0});const e=(r,i=!1)=>{const{props:s,styles:o}=r;let a;if(s&&!it(s))for(const l in s){const u=s[l];(u===Number||u&&u.type===Number)&&(l in this._props&&(this._props[l]=dm(this._props[l])),(a||(a=Object.create(null)))[ri(l)]=!0)}this._numberProps=a,i&&this._resolveProps(r),this._applyStyles(o),this._update()},n=this._def.__asyncLoader;n?n().then(r=>e(r,!0)):e(this._def)}_resolveProps(e){const{props:n}=e,r=it(n)?n:Object.keys(n||{});for(const i of Object.keys(this))i[0]!=="_"&&r.includes(i)&&this._setProp(i,this[i],!0,!1);for(const i of r.map(ri))Object.defineProperty(this,i,{get(){return this._getProp(i)},set(s){this._setProp(i,s)}})}_setAttr(e){let n=this.hasAttribute(e)?this.getAttribute(e):void 0;const r=ri(e);this._numberProps&&this._numberProps[r]&&(n=dm(n)),this._setProp(r,n,!1)}_getProp(e){return this._props[e]}_setProp(e,n,r=!0,i=!0){n!==this._props[e]&&(this._props[e]=n,i&&this._instance&&this._update(),r&&(n===!0?this.setAttribute(wi(e),""):typeof n=="string"||typeof n=="number"?this.setAttribute(wi(e),n+""):n||this.removeAttribute(wi(e))))}_update(){Il(this._createVNode(),this.shadowRoot)}_createVNode(){const e=q(this._def,Hn({},this._props));return this._instance||(e.ce=n=>{this._instance=n,n.isCE=!0;const r=(s,o)=>{this.dispatchEvent(new CustomEvent(s,{detail:o}))};n.emit=(s,...o)=>{r(s,o),wi(s)!==s&&r(wi(s),o)};let i=this;for(;i=i&&(i.parentNode||i.host);)if(i instanceof Ug){n.parent=i._instance,n.provides=i._instance.provides;break}}),e}_applyStyles(e){e&&e.forEach(n=>{const r=document.createElement("style");r.textContent=n,this.shadowRoot.appendChild(r)})}}function A4(t="$style"){{const e=ts();if(!e)return rn;const n=e.type.__cssModules;if(!n)return rn;const r=n[t];return r||rn}}const Uk=new WeakMap,qk=new WeakMap,wm=Symbol("_moveCb"),nS=Symbol("_enterCb"),Bk={name:"TransitionGroup",props:Hn({},o4,{tag:String,moveClass:String}),setup(t,{slots:e}){const n=ts(),r=U_();let i,s;return Vg(()=>{if(!i.length)return;const o=t.moveClass||`${t.name||"v"}-move`;if(!x4(i[0].el,n.vnode.el,o))return;i.forEach(O4),i.forEach(k4);const a=i.filter(R4);Lk(),a.forEach(l=>{const u=l.el,c=u.style;so(u,o),c.transform=c.webkitTransform=c.transitionDuration="";const d=u[wm]=h=>{h&&h.target!==u||(!h||/transform$/.test(h.propertyName))&&(u.removeEventListener("transitionend",d),u[wm]=null,zo(u,o))};u.addEventListener("transitionend",d)})}),()=>{const o=Lt(t),a=Nk(o);let l=o.tag||Pe;if(i=[],s)for(let u=0;u<s.length;u++){const c=s[u];c.el&&c.el instanceof Element&&(i.push(c),Ea(c,Zu(c,a,r,n)),Uk.set(c,c.el.getBoundingClientRect()))}s=e.default?Mg(e.default()):[];for(let u=0;u<s.length;u++){const c=s[u];c.key!=null&&Ea(c,Zu(c,a,r,n))}return q(l,null,s)}}},P4=t=>delete t.mode;Bk.props;const jk=Bk;function O4(t){const e=t.el;e[wm]&&e[wm](),e[nS]&&e[nS]()}function k4(t){qk.set(t,t.el.getBoundingClientRect())}function R4(t){const e=Uk.get(t),n=qk.get(t),r=e.left-n.left,i=e.top-n.top;if(r||i){const s=t.el.style;return s.transform=s.webkitTransform=`translate(${r}px,${i}px)`,s.transitionDuration="0s",t}}function x4(t,e,n){const r=t.cloneNode(),i=t[ec];i&&i.forEach(a=>{a.split(/\s+/).forEach(l=>l&&r.classList.remove(l))}),n.split(/\s+/).forEach(a=>a&&r.classList.add(a)),r.style.display="none";const s=e.nodeType===1?e:e.parentNode;s.appendChild(r);const{hasTransform:o}=Mk(r);return s.removeChild(r),o}const Ia=t=>{const e=t.props["onUpdate:modelValue"]||!1;return it(e)?n=>Lu(e,n):e};function D4(t){t.target.composing=!0}function rS(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const Qi=Symbol("_assign"),Tm={created(t,{modifiers:{lazy:e,trim:n,number:r}},i){t[Qi]=Ia(i);const s=r||i.props&&i.props.type==="number";co(t,e?"change":"input",o=>{if(o.target.composing)return;let a=t.value;n&&(a=a.trim()),s&&(a=cm(a)),t[Qi](a)}),n&&co(t,"change",()=>{t.value=t.value.trim()}),e||(co(t,"compositionstart",D4),co(t,"compositionend",rS),co(t,"change",rS))},mounted(t,{value:e}){t.value=e??""},beforeUpdate(t,{value:e,oldValue:n,modifiers:{lazy:r,trim:i,number:s}},o){if(t[Qi]=Ia(o),t.composing)return;const a=(s||t.type==="number")&&!/^0\d/.test(t.value)?cm(t.value):t.value,l=e??"";a!==l&&(document.activeElement===t&&t.type!=="range"&&(r&&e===n||i&&t.value.trim()===l)||(t.value=l))}},ew={deep:!0,created(t,e,n){t[Qi]=Ia(n),co(t,"change",()=>{const r=t._modelValue,i=tc(t),s=t.checked,o=t[Qi];if(it(r)){const a=Ig(r,i),l=a!==-1;if(s&&!l)o(r.concat(i));else if(!s&&l){const u=[...r];u.splice(a,1),o(u)}}else if(Bl(r)){const a=new Set(r);s?a.add(i):a.delete(i),o(a)}else o(Wk(t,s))})},mounted:iS,beforeUpdate(t,e,n){t[Qi]=Ia(n),iS(t,e,n)}};function iS(t,{value:e,oldValue:n},r){t._modelValue=e,it(e)?t.checked=Ig(e,r.props.value)>-1:Bl(e)?t.checked=e.has(r.props.value):e!==n&&(t.checked=wa(e,Wk(t,!0)))}const tw={created(t,{value:e},n){t.checked=wa(e,n.props.value),t[Qi]=Ia(n),co(t,"change",()=>{t[Qi](tc(t))})},beforeUpdate(t,{value:e,oldValue:n},r){t[Qi]=Ia(r),e!==n&&(t.checked=wa(e,r.props.value))}},Hk={deep:!0,created(t,{value:e,modifiers:{number:n}},r){const i=Bl(e);co(t,"change",()=>{const s=Array.prototype.filter.call(t.options,o=>o.selected).map(o=>n?cm(tc(o)):tc(o));t[Qi](t.multiple?i?new Set(s):s:s[0]),t._assigning=!0,ir(()=>{t._assigning=!1})}),t[Qi]=Ia(r)},mounted(t,{value:e,modifiers:{number:n}}){sS(t,e)},beforeUpdate(t,e,n){t[Qi]=Ia(n)},updated(t,{value:e,modifiers:{number:n}}){t._assigning||sS(t,e)}};function sS(t,e,n){const r=t.multiple,i=it(e);if(!(r&&!i&&!Bl(e))){for(let s=0,o=t.options.length;s<o;s++){const a=t.options[s],l=tc(a);if(r)if(i){const u=typeof l;u==="string"||u==="number"?a.selected=e.some(c=>String(c)===String(l)):a.selected=Ig(e,l)>-1}else a.selected=e.has(l);else if(wa(tc(a),e)){t.selectedIndex!==s&&(t.selectedIndex=s);return}}!r&&t.selectedIndex!==-1&&(t.selectedIndex=-1)}}function tc(t){return"_value"in t?t._value:t.value}function Wk(t,e){const n=e?"_trueValue":"_falseValue";return n in t?t[n]:e}const zk={created(t,e,n){cp(t,e,n,null,"created")},mounted(t,e,n){cp(t,e,n,null,"mounted")},beforeUpdate(t,e,n,r){cp(t,e,n,r,"beforeUpdate")},updated(t,e,n,r){cp(t,e,n,r,"updated")}};function Kk(t,e){switch(t){case"SELECT":return Hk;case"TEXTAREA":return Tm;default:switch(e){case"checkbox":return ew;case"radio":return tw;default:return Tm}}}function cp(t,e,n,r,i){const o=Kk(t.tagName,n.props&&n.props.type)[i];o&&o(t,e,n,r)}function N4(){Tm.getSSRProps=({value:t})=>({value:t}),tw.getSSRProps=({value:t},e)=>{if(e.props&&wa(e.props.value,t))return{checked:!0}},ew.getSSRProps=({value:t},e)=>{if(it(t)){if(e.props&&Ig(t,e.props.value)>-1)return{checked:!0}}else if(Bl(t)){if(e.props&&t.has(e.props.value))return{checked:!0}}else if(t)return{checked:!0}},zk.getSSRProps=(t,e)=>{if(typeof e.type!="string")return;const n=Kk(e.type.toUpperCase(),e.props&&e.props.type);if(n.getSSRProps)return n.getSSRProps(t,e)}}const M4=["ctrl","shift","alt","meta"],L4={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,e)=>M4.some(n=>t[`${n}Key`]&&!e.includes(n))},kt=(t,e)=>{const n=t._withMods||(t._withMods={}),r=e.join(".");return n[r]||(n[r]=(i,...s)=>{for(let o=0;o<e.length;o++){const a=L4[e[o]];if(a&&a(i,e))return}return t(i,...s)})},V4={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},bt=(t,e)=>{const n=t._withKeys||(t._withKeys={}),r=e.join(".");return n[r]||(n[r]=i=>{if(!("key"in i))return;const s=wi(i.key);if(e.some(o=>o===s||V4[o]===s))return t(i)})},Gk=Hn({patchProp:E4},s4);let $d,oS=!1;function Yk(){return $d||($d=lk(Gk))}function Qk(){return $d=oS?$d:uk(Gk),oS=!0,$d}const Il=(...t)=>{Yk().render(...t)},Xk=(...t)=>{Qk().hydrate(...t)},Jk=(...t)=>{const e=Yk().createApp(...t),{mount:n}=e;return e.mount=r=>{const i=eR(r);if(!i)return;const s=e._component;!mt(s)&&!s.render&&!s.template&&(s.template=i.innerHTML),i.innerHTML="";const o=n(i,!1,Zk(i));return i instanceof Element&&(i.removeAttribute("v-cloak"),i.setAttribute("data-v-app","")),o},e},$4=(...t)=>{const e=Qk().createApp(...t),{mount:n}=e;return e.mount=r=>{const i=eR(r);if(i)return n(i,!0,Zk(i))},e};function Zk(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function eR(t){return $n(t)?document.querySelector(t):t}let aS=!1;const F4=()=>{aS||(aS=!0,N4(),c4())};/**
* vue v3.4.38
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const U4=()=>{},q4=Object.freeze(Object.defineProperty({__proto__:null,BaseTransition:LO,BaseTransitionPropsValidators:q_,Comment:mr,DeprecationTypes:n4,EffectScope:P_,ErrorCodes:k$,ErrorTypeStrings:Y3,Fragment:Pe,KeepAlive:U$,ReactiveEffect:Xu,Static:fl,Suspense:R3,Teleport:Y_,Text:da,TrackOpTypes:A$,Transition:ns,TransitionGroup:jk,TriggerOpTypes:P$,VueElement:Ug,assertNumber:O$,callWithAsyncErrorHandling:$i,callWithErrorHandling:bo,camelize:ri,capitalize:rf,cloneVNode:Ws,compatUtils:t4,compile:U4,computed:ee,createApp:Jk,createBlock:ae,createCommentVNode:J,createElementBlock:H,createElementVNode:v,createHydrationRenderer:uk,createPropsRestProxy:t3,createRenderer:lk,createSSRApp:$4,createSlots:fr,createStaticVNode:Ik,createTextVNode:K,createVNode:q,customRef:PO,defineAsyncComponent:$$,defineComponent:xe,defineCustomElement:Fk,defineEmits:z$,defineExpose:K$,defineModel:Q$,defineOptions:G$,defineProps:W$,defineSSRCustomElement:I4,defineSlots:Y$,devtools:Q3,effect:XV,effectScope:Cg,getCurrentInstance:ts,getCurrentScope:sf,getTransitionRawChildren:Mg,guardReactiveProps:hr,h:Sl,handleError:jl,hasInjectionContext:YO,hydrate:Xk,initCustomFormatter:z3,initDirectivesForSSR:F4,inject:pi,isMemoSame:Rk,isProxy:D_,isReactive:Ms,isReadonly:Ta,isRef:wn,isRuntimeOnly:j3,isShallow:wl,isVNode:Sa,markRaw:xg,mergeDefaults:Z$,mergeModels:e3,mergeProps:se,nextTick:ir,normalizeClass:Le,normalizeProps:Vn,normalizeStyle:tr,onActivated:$O,onBeforeMount:B_,onBeforeUnmount:af,onBeforeUpdate:j_,onDeactivated:FO,onErrorCaptured:HO,onMounted:Vt,onRenderTracked:jO,onRenderTriggered:BO,onScopeDispose:Ag,onServerPrefetch:qO,onUnmounted:Gs,onUpdated:Vg,openBlock:D,popScopeId:F_,provide:Fu,proxyRefs:L_,pushScopeId:$_,queuePostFlushCb:fm,reactive:Pr,readonly:kg,ref:ie,registerRuntimeCompiler:B3,render:Il,renderList:dt,renderSlot:_e,resolveComponent:On,resolveDirective:$g,resolveDynamicComponent:Mn,resolveFilter:e4,resolveTransitionHooks:Zu,setBlockTracking:Lb,setDevtoolsHook:X3,setTransitionHooks:Ea,shallowReactive:x_,shallowReadonly:y$,shallowRef:CO,ssrContextKey:fk,ssrUtils:Z3,stop:JV,toDisplayString:Fe,toHandlerKey:Nd,toHandlers:j$,toRaw:Lt,toRef:Ju,toRefs:OO,toValue:T$,transformVNodeArgs:V3,triggerRef:w$,unref:P,useAttrs:J$,useCssModule:A4,useCssVars:d4,useModel:S3,useSSRContext:pk,useSlots:Na,useTransitionState:U_,vModelCheckbox:ew,vModelDynamic:zk,vModelRadio:tw,vModelSelect:Hk,vModelText:Tm,vShow:Ls,version:xk,warn:G3,watch:cn,watchEffect:X_,watchPostEffect:mk,watchSyncEffect:gk,withAsyncContext:n3,withCtx:X,withDefaults:X$,withDirectives:Fi,withKeys:bt,withMemo:K3,withModifiers:kt,withScopeId:L$},Symbol.toStringTag,{value:"Module"}));function B4(t){return{all:t=t||new Map,on:function(e,n){var r=t.get(e);r?r.push(n):t.set(e,[n])},off:function(e,n){var r=t.get(e);r&&(n?r.splice(r.indexOf(n)>>>0,1):t.set(e,[]))},emit:function(e,n){var r=t.get(e);r&&r.slice().map(function(i){i(n)}),(r=t.get("*"))&&r.slice().map(function(i){i(e,n)})}}}const Em=B4();let lS=0;const j4=()=>{const t=lS;return lS+=1,t},tR=()=>(t,e)=>{const n={...t,id:j4(),group:t.group||""};return Em.emit("notify",{notification:n,timeout:e}),()=>Em.emit("close",n.id)},nR="context",Hb=xe({__name:"Notification",props:{maxNotifications:{default:10},enter:{default:""},enterFrom:{default:""},enterTo:{default:""},leave:{default:""},leaveFrom:{default:""},leaveTo:{default:""},move:{default:""},moveDelay:{default:""}},emits:["close"],setup(t,{emit:e}){const n=t,r=pi(nR),i=Pr({notifications:[],timeouts:{}}),s=ee(()=>i.notifications.filter(h=>h.group===r.group)),o=ee(()=>r.position==="bottom"?[...s.value]:[...s.value].reverse()),a=(h,p)=>{i.timeouts[h]=window.setTimeout(()=>{p!==-1&&l(h)},Math.max(p||3e3,0))},l=h=>{i.notifications.splice(i.notifications.findIndex(p=>p.id===h),1),clearTimeout(i.timeouts[h])},u=({notification:h,timeout:p})=>{i.notifications.length!==n.maxNotifications&&(i.notifications.push(h),a(h.id,p))},c=h=>{e("close"),l(h)},d=(h,p,m)=>{p?clearTimeout(i.timeouts[h]):a(h,m)};return Vt(()=>{Em.on("notify",u),Em.on("close",l)}),(h,p)=>(D(),ae(jk,{"enter-active-class":P(s).length>1?[n.enter,n.moveDelay].join(" "):n.enter,"enter-from-class":n.enterFrom,"enter-to-class":n.enterTo,"leave-active-class":n.leave,"leave-from-class":n.leaveFrom,"leave-to-class":n.leaveTo,"move-class":n.move},{default:X(()=>[_e(h.$slots,"default",{notifications:P(o),close:c,hovering:d})]),_:3},8,["enter-active-class","enter-from-class","enter-to-class","leave-active-class","leave-from-class","leave-to-class","move-class"]))}}),uS=xe({__name:"NotificationGroup",props:{group:{default:""},position:{default:"top"}},setup(t){const e=t;return Fu(nR,{group:e.group,position:e.position}),(n,r)=>_e(n.$slots,"default",{group:t.group})}});function H4(t){t.config.globalProperties.$notify=tR(),t.component("Notification",Hb),t.component("NotificationGroup",uS),t.component("notification",Hb),t.component("notificationGroup",uS)}const W4={install:H4},z4=tR(),K4={class:"px-4 py-2 -mx-3"},G4={class:"mx-3"},Y4={class:"font-semibold text-white"},Q4={class:"text-sm text-gray-100"},cy=xe({__name:"Notification",props:{type:{},color:{}},setup(t){return(e,n)=>(D(),ae(P(Hb),{enter:"transform ease-out duration-300 transition","enter-from":"translate-y-2 opacity-0 sm:translate-y-0 sm:translate-x-4","enter-to":"translate-y-0 opacity-100 sm:translate-x-0",leave:"transition ease-in duration-500","leave-from":"opacity-100","leave-to":"opacity-0",move:"transition duration-500","move-delay":"delay-300"},{default:X(({notifications:r})=>[(D(!0),H(Pe,null,dt(r,i=>(D(),H("div",{key:i.id},[i.type===e.type?(D(),H("div",{key:0,class:Le("flex w-full max-w-sm mx-auto mt-4 overflow-hidden bg-opacity-75 rounded-primary shadow-md "+e.color)},[v("div",K4,[v("div",G4,[v("span",Y4,Fe(i.title),1),v("p",Q4,Fe(i.text),1)])])],2)):J("",!0)]))),128))]),_:1}))}}),X4={class:"fixed inset-0 flex items-end justify-center p-6 px-4 py-6 pointer-events-none"},J4={class:"w-full max-w-sm"},Z4=xe({__name:"NotificationGroup",setup(t){return(e,n)=>{const r=On("NotificationGroup",!0);return D(),ae(r,null,{default:X(()=>[v("div",X4,[v("div",J4,[q(cy,{type:"error",color:"bg-red-800"}),q(cy,{type:"warning",color:"bg-yellow-800"}),q(cy,{type:"success",color:"bg-green-800"})])])]),_:1})}}});/*!
  * vue-router v4.4.3
  * (c) 2024 Eduardo San Martin Morote
  * @license MIT
  */const fu=typeof document<"u";function eF(t){return t.__esModule||t[Symbol.toStringTag]==="Module"}const ln=Object.assign;function dy(t,e){const n={};for(const r in e){const i=e[r];n[r]=ws(i)?i.map(t):t(i)}return n}const Fd=()=>{},ws=Array.isArray,rR=/#/g,tF=/&/g,nF=/\//g,rF=/=/g,iF=/\?/g,iR=/\+/g,sF=/%5B/g,oF=/%5D/g,sR=/%5E/g,aF=/%60/g,oR=/%7B/g,lF=/%7C/g,aR=/%7D/g,uF=/%20/g;function nw(t){return encodeURI(""+t).replace(lF,"|").replace(sF,"[").replace(oF,"]")}function cF(t){return nw(t).replace(oR,"{").replace(aR,"}").replace(sR,"^")}function Wb(t){return nw(t).replace(iR,"%2B").replace(uF,"+").replace(rR,"%23").replace(tF,"%26").replace(aF,"`").replace(oR,"{").replace(aR,"}").replace(sR,"^")}function dF(t){return Wb(t).replace(rF,"%3D")}function hF(t){return nw(t).replace(rR,"%23").replace(iF,"%3F")}function fF(t){return t==null?"":hF(t).replace(nF,"%2F")}function mh(t){try{return decodeURIComponent(""+t)}catch{}return""+t}const pF=/\/$/,mF=t=>t.replace(pF,"");function hy(t,e,n="/"){let r,i={},s="",o="";const a=e.indexOf("#");let l=e.indexOf("?");return a<l&&a>=0&&(l=-1),l>-1&&(r=e.slice(0,l),s=e.slice(l+1,a>-1?a:e.length),i=t(s)),a>-1&&(r=r||e.slice(0,a),o=e.slice(a,e.length)),r=bF(r??e,n),{fullPath:r+(s&&"?")+s+o,path:r,query:i,hash:mh(o)}}function gF(t,e){const n=e.query?t(e.query):"";return e.path+(n&&"?")+n+(e.hash||"")}function cS(t,e){return!e||!t.toLowerCase().startsWith(e.toLowerCase())?t:t.slice(e.length)||"/"}function vF(t,e,n){const r=e.matched.length-1,i=n.matched.length-1;return r>-1&&r===i&&nc(e.matched[r],n.matched[i])&&lR(e.params,n.params)&&t(e.query)===t(n.query)&&e.hash===n.hash}function nc(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function lR(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(!yF(t[n],e[n]))return!1;return!0}function yF(t,e){return ws(t)?dS(t,e):ws(e)?dS(e,t):t===e}function dS(t,e){return ws(e)?t.length===e.length&&t.every((n,r)=>n===e[r]):t.length===1&&t[0]===e}function bF(t,e){if(t.startsWith("/"))return t;if(!t)return e;const n=e.split("/"),r=t.split("/"),i=r[r.length-1];(i===".."||i===".")&&r.push("");let s=n.length-1,o,a;for(o=0;o<r.length;o++)if(a=r[o],a!==".")if(a==="..")s>1&&s--;else break;return n.slice(0,s).join("/")+"/"+r.slice(o).join("/")}const Fo={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};var gh;(function(t){t.pop="pop",t.push="push"})(gh||(gh={}));var Ud;(function(t){t.back="back",t.forward="forward",t.unknown=""})(Ud||(Ud={}));function _F(t){if(!t)if(fu){const e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),mF(t)}const wF=/^[^#]+#/;function TF(t,e){return t.replace(wF,"#")+e}function EF(t,e){const n=document.documentElement.getBoundingClientRect(),r=t.getBoundingClientRect();return{behavior:e.behavior,left:r.left-n.left-(e.left||0),top:r.top-n.top-(e.top||0)}}const qg=()=>({left:window.scrollX,top:window.scrollY});function SF(t){let e;if("el"in t){const n=t.el,r=typeof n=="string"&&n.startsWith("#"),i=typeof n=="string"?r?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!i)return;e=EF(i,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.scrollX,e.top!=null?e.top:window.scrollY)}function hS(t,e){return(history.state?history.state.position-e:-1)+t}const zb=new Map;function IF(t,e){zb.set(t,e)}function CF(t){const e=zb.get(t);return zb.delete(t),e}let AF=()=>location.protocol+"//"+location.host;function uR(t,e){const{pathname:n,search:r,hash:i}=e,s=t.indexOf("#");if(s>-1){let a=i.includes(t.slice(s))?t.slice(s).length:1,l=i.slice(a);return l[0]!=="/"&&(l="/"+l),cS(l,"")}return cS(n,t)+r+i}function PF(t,e,n,r){let i=[],s=[],o=null;const a=({state:h})=>{const p=uR(t,location),m=n.value,g=e.value;let y=0;if(h){if(n.value=p,e.value=h,o&&o===m){o=null;return}y=g?h.position-g.position:0}else r(p);i.forEach(A=>{A(n.value,m,{delta:y,type:gh.pop,direction:y?y>0?Ud.forward:Ud.back:Ud.unknown})})};function l(){o=n.value}function u(h){i.push(h);const p=()=>{const m=i.indexOf(h);m>-1&&i.splice(m,1)};return s.push(p),p}function c(){const{history:h}=window;h.state&&h.replaceState(ln({},h.state,{scroll:qg()}),"")}function d(){for(const h of s)h();s=[],window.removeEventListener("popstate",a),window.removeEventListener("beforeunload",c)}return window.addEventListener("popstate",a),window.addEventListener("beforeunload",c,{passive:!0}),{pauseListeners:l,listen:u,destroy:d}}function fS(t,e,n,r=!1,i=!1){return{back:t,current:e,forward:n,replaced:r,position:window.history.length,scroll:i?qg():null}}function OF(t){const{history:e,location:n}=window,r={value:uR(t,n)},i={value:e.state};i.value||s(r.value,{back:null,current:r.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function s(l,u,c){const d=t.indexOf("#"),h=d>-1?(n.host&&document.querySelector("base")?t:t.slice(d))+l:AF()+t+l;try{e[c?"replaceState":"pushState"](u,"",h),i.value=u}catch(p){console.error(p),n[c?"replace":"assign"](h)}}function o(l,u){const c=ln({},e.state,fS(i.value.back,l,i.value.forward,!0),u,{position:i.value.position});s(l,c,!0),r.value=l}function a(l,u){const c=ln({},i.value,e.state,{forward:l,scroll:qg()});s(c.current,c,!0);const d=ln({},fS(r.value,l,null),{position:c.position+1},u);s(l,d,!1),r.value=l}return{location:r,state:i,push:a,replace:o}}function kF(t){t=_F(t);const e=OF(t),n=PF(t,e.state,e.location,e.replace);function r(s,o=!0){o||n.pauseListeners(),history.go(s)}const i=ln({location:"",base:t,go:r,createHref:TF.bind(null,t)},e,n);return Object.defineProperty(i,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(i,"state",{enumerable:!0,get:()=>e.state.value}),i}function RF(t){return t=location.host?t||location.pathname+location.search:"",t.includes("#")||(t+="#"),kF(t)}function xF(t){return typeof t=="string"||t&&typeof t=="object"}function cR(t){return typeof t=="string"||typeof t=="symbol"}const dR=Symbol("");var pS;(function(t){t[t.aborted=4]="aborted",t[t.cancelled=8]="cancelled",t[t.duplicated=16]="duplicated"})(pS||(pS={}));function rc(t,e){return ln(new Error,{type:t,[dR]:!0},e)}function io(t,e){return t instanceof Error&&dR in t&&(e==null||!!(t.type&e))}const mS="[^/]+?",DF={sensitive:!1,strict:!1,start:!0,end:!0},NF=/[.+*?^${}()[\]/\\]/g;function MF(t,e){const n=ln({},DF,e),r=[];let i=n.start?"^":"";const s=[];for(const u of t){const c=u.length?[]:[90];n.strict&&!u.length&&(i+="/");for(let d=0;d<u.length;d++){const h=u[d];let p=40+(n.sensitive?.25:0);if(h.type===0)d||(i+="/"),i+=h.value.replace(NF,"\\$&"),p+=40;else if(h.type===1){const{value:m,repeatable:g,optional:y,regexp:A}=h;s.push({name:m,repeatable:g,optional:y});const C=A||mS;if(C!==mS){p+=10;try{new RegExp(`(${C})`)}catch(E){throw new Error(`Invalid custom RegExp for param "${m}" (${C}): `+E.message)}}let S=g?`((?:${C})(?:/(?:${C}))*)`:`(${C})`;d||(S=y&&u.length<2?`(?:/${S})`:"/"+S),y&&(S+="?"),i+=S,p+=20,y&&(p+=-8),g&&(p+=-20),C===".*"&&(p+=-50)}c.push(p)}r.push(c)}if(n.strict&&n.end){const u=r.length-1;r[u][r[u].length-1]+=.7000000000000001}n.strict||(i+="/?"),n.end?i+="$":n.strict&&(i+="(?:/|$)");const o=new RegExp(i,n.sensitive?"":"i");function a(u){const c=u.match(o),d={};if(!c)return null;for(let h=1;h<c.length;h++){const p=c[h]||"",m=s[h-1];d[m.name]=p&&m.repeatable?p.split("/"):p}return d}function l(u){let c="",d=!1;for(const h of t){(!d||!c.endsWith("/"))&&(c+="/"),d=!1;for(const p of h)if(p.type===0)c+=p.value;else if(p.type===1){const{value:m,repeatable:g,optional:y}=p,A=m in u?u[m]:"";if(ws(A)&&!g)throw new Error(`Provided param "${m}" is an array but it is not repeatable (* or + modifiers)`);const C=ws(A)?A.join("/"):A;if(!C)if(y)h.length<2&&(c.endsWith("/")?c=c.slice(0,-1):d=!0);else throw new Error(`Missing required param "${m}"`);c+=C}}return c||"/"}return{re:o,score:r,keys:s,parse:a,stringify:l}}function LF(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=e[n]-t[n];if(r)return r;n++}return t.length<e.length?t.length===1&&t[0]===80?-1:1:t.length>e.length?e.length===1&&e[0]===80?1:-1:0}function hR(t,e){let n=0;const r=t.score,i=e.score;for(;n<r.length&&n<i.length;){const s=LF(r[n],i[n]);if(s)return s;n++}if(Math.abs(i.length-r.length)===1){if(gS(r))return 1;if(gS(i))return-1}return i.length-r.length}function gS(t){const e=t[t.length-1];return t.length>0&&e[e.length-1]<0}const VF={type:0,value:""},$F=/[a-zA-Z0-9_]/;function FF(t){if(!t)return[[]];if(t==="/")return[[VF]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(p){throw new Error(`ERR (${n})/"${u}": ${p}`)}let n=0,r=n;const i=[];let s;function o(){s&&i.push(s),s=[]}let a=0,l,u="",c="";function d(){u&&(n===0?s.push({type:0,value:u}):n===1||n===2||n===3?(s.length>1&&(l==="*"||l==="+")&&e(`A repeatable param (${u}) must be alone in its segment. eg: '/:ids+.`),s.push({type:1,value:u,regexp:c,repeatable:l==="*"||l==="+",optional:l==="*"||l==="?"})):e("Invalid state to consume buffer"),u="")}function h(){u+=l}for(;a<t.length;){if(l=t[a++],l==="\\"&&n!==2){r=n,n=4;continue}switch(n){case 0:l==="/"?(u&&d(),o()):l===":"?(d(),n=1):h();break;case 4:h(),n=r;break;case 1:l==="("?n=2:$F.test(l)?h():(d(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&a--);break;case 2:l===")"?c[c.length-1]=="\\"?c=c.slice(0,-1)+l:n=3:c+=l;break;case 3:d(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&a--,c="";break;default:e("Unknown state");break}}return n===2&&e(`Unfinished custom RegExp for param "${u}"`),d(),o(),i}function UF(t,e,n){const r=MF(FF(t.path),n),i=ln(r,{record:t,parent:e,children:[],alias:[]});return e&&!i.record.aliasOf==!e.record.aliasOf&&e.children.push(i),i}function qF(t,e){const n=[],r=new Map;e=bS({strict:!1,end:!0,sensitive:!1},e);function i(d){return r.get(d)}function s(d,h,p){const m=!p,g=BF(d);g.aliasOf=p&&p.record;const y=bS(e,d),A=[g];if("alias"in d){const E=typeof d.alias=="string"?[d.alias]:d.alias;for(const k of E)A.push(ln({},g,{components:p?p.record.components:g.components,path:k,aliasOf:p?p.record:g}))}let C,S;for(const E of A){const{path:k}=E;if(h&&k[0]!=="/"){const x=h.record.path,I=x[x.length-1]==="/"?"":"/";E.path=h.record.path+(k&&I+k)}if(C=UF(E,h,y),p?p.alias.push(C):(S=S||C,S!==C&&S.alias.push(C),m&&d.name&&!yS(C)&&o(d.name)),fR(C)&&l(C),g.children){const x=g.children;for(let I=0;I<x.length;I++)s(x[I],C,p&&p.children[I])}p=p||C}return S?()=>{o(S)}:Fd}function o(d){if(cR(d)){const h=r.get(d);h&&(r.delete(d),n.splice(n.indexOf(h),1),h.children.forEach(o),h.alias.forEach(o))}else{const h=n.indexOf(d);h>-1&&(n.splice(h,1),d.record.name&&r.delete(d.record.name),d.children.forEach(o),d.alias.forEach(o))}}function a(){return n}function l(d){const h=WF(d,n);n.splice(h,0,d),d.record.name&&!yS(d)&&r.set(d.record.name,d)}function u(d,h){let p,m={},g,y;if("name"in d&&d.name){if(p=r.get(d.name),!p)throw rc(1,{location:d});y=p.record.name,m=ln(vS(h.params,p.keys.filter(S=>!S.optional).concat(p.parent?p.parent.keys.filter(S=>S.optional):[]).map(S=>S.name)),d.params&&vS(d.params,p.keys.map(S=>S.name))),g=p.stringify(m)}else if(d.path!=null)g=d.path,p=n.find(S=>S.re.test(g)),p&&(m=p.parse(g),y=p.record.name);else{if(p=h.name?r.get(h.name):n.find(S=>S.re.test(h.path)),!p)throw rc(1,{location:d,currentLocation:h});y=p.record.name,m=ln({},h.params,d.params),g=p.stringify(m)}const A=[];let C=p;for(;C;)A.unshift(C.record),C=C.parent;return{name:y,path:g,params:m,matched:A,meta:HF(A)}}t.forEach(d=>s(d));function c(){n.length=0,r.clear()}return{addRoute:s,resolve:u,removeRoute:o,clearRoutes:c,getRoutes:a,getRecordMatcher:i}}function vS(t,e){const n={};for(const r of e)r in t&&(n[r]=t[r]);return n}function BF(t){return{path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:void 0,beforeEnter:t.beforeEnter,props:jF(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}}}function jF(t){const e={},n=t.props||!1;if("component"in t)e.default=n;else for(const r in t.components)e[r]=typeof n=="object"?n[r]:n;return e}function yS(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function HF(t){return t.reduce((e,n)=>ln(e,n.meta),{})}function bS(t,e){const n={};for(const r in t)n[r]=r in e?e[r]:t[r];return n}function WF(t,e){let n=0,r=e.length;for(;n!==r;){const s=n+r>>1;hR(t,e[s])<0?r=s:n=s+1}const i=zF(t);return i&&(r=e.lastIndexOf(i,r-1)),r}function zF(t){let e=t;for(;e=e.parent;)if(fR(e)&&hR(t,e)===0)return e}function fR({record:t}){return!!(t.name||t.components&&Object.keys(t.components).length||t.redirect)}function KF(t){const e={};if(t===""||t==="?")return e;const r=(t[0]==="?"?t.slice(1):t).split("&");for(let i=0;i<r.length;++i){const s=r[i].replace(iR," "),o=s.indexOf("="),a=mh(o<0?s:s.slice(0,o)),l=o<0?null:mh(s.slice(o+1));if(a in e){let u=e[a];ws(u)||(u=e[a]=[u]),u.push(l)}else e[a]=l}return e}function _S(t){let e="";for(let n in t){const r=t[n];if(n=dF(n),r==null){r!==void 0&&(e+=(e.length?"&":"")+n);continue}(ws(r)?r.map(s=>s&&Wb(s)):[r&&Wb(r)]).forEach(s=>{s!==void 0&&(e+=(e.length?"&":"")+n,s!=null&&(e+="="+s))})}return e}function GF(t){const e={};for(const n in t){const r=t[n];r!==void 0&&(e[n]=ws(r)?r.map(i=>i==null?null:""+i):r==null?r:""+r)}return e}const YF=Symbol(""),wS=Symbol(""),Bg=Symbol(""),rw=Symbol(""),Kb=Symbol("");function nd(){let t=[];function e(r){return t.push(r),()=>{const i=t.indexOf(r);i>-1&&t.splice(i,1)}}function n(){t=[]}return{add:e,list:()=>t.slice(),reset:n}}function Xo(t,e,n,r,i,s=o=>o()){const o=r&&(r.enterCallbacks[i]=r.enterCallbacks[i]||[]);return()=>new Promise((a,l)=>{const u=h=>{h===!1?l(rc(4,{from:n,to:e})):h instanceof Error?l(h):xF(h)?l(rc(2,{from:e,to:h})):(o&&r.enterCallbacks[i]===o&&typeof h=="function"&&o.push(h),a())},c=s(()=>t.call(r&&r.instances[i],e,n,u));let d=Promise.resolve(c);t.length<3&&(d=d.then(u)),d.catch(h=>l(h))})}function fy(t,e,n,r,i=s=>s()){const s=[];for(const o of t)for(const a in o.components){let l=o.components[a];if(!(e!=="beforeRouteEnter"&&!o.instances[a]))if(QF(l)){const c=(l.__vccOpts||l)[e];c&&s.push(Xo(c,n,r,o,a,i))}else{let u=l();s.push(()=>u.then(c=>{if(!c)return Promise.reject(new Error(`Couldn't resolve component "${a}" at "${o.path}"`));const d=eF(c)?c.default:c;o.components[a]=d;const p=(d.__vccOpts||d)[e];return p&&Xo(p,n,r,o,a,i)()}))}}return s}function QF(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function TS(t){const e=pi(Bg),n=pi(rw),r=ee(()=>{const l=P(t.to);return e.resolve(l)}),i=ee(()=>{const{matched:l}=r.value,{length:u}=l,c=l[u-1],d=n.matched;if(!c||!d.length)return-1;const h=d.findIndex(nc.bind(null,c));if(h>-1)return h;const p=ES(l[u-2]);return u>1&&ES(c)===p&&d[d.length-1].path!==p?d.findIndex(nc.bind(null,l[u-2])):h}),s=ee(()=>i.value>-1&&e6(n.params,r.value.params)),o=ee(()=>i.value>-1&&i.value===n.matched.length-1&&lR(n.params,r.value.params));function a(l={}){return ZF(l)?e[P(t.replace)?"replace":"push"](P(t.to)).catch(Fd):Promise.resolve()}return{route:r,href:ee(()=>r.value.href),isActive:s,isExactActive:o,navigate:a}}const XF=xe({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:TS,setup(t,{slots:e}){const n=Pr(TS(t)),{options:r}=pi(Bg),i=ee(()=>({[SS(t.activeClass,r.linkActiveClass,"router-link-active")]:n.isActive,[SS(t.exactActiveClass,r.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const s=e.default&&e.default(n);return t.custom?s:Sl("a",{"aria-current":n.isExactActive?t.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:i.value},s)}}}),JF=XF;function ZF(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function e6(t,e){for(const n in e){const r=e[n],i=t[n];if(typeof r=="string"){if(r!==i)return!1}else if(!ws(i)||i.length!==r.length||r.some((s,o)=>s!==i[o]))return!1}return!0}function ES(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const SS=(t,e,n)=>t??e??n,t6=xe({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:e,slots:n}){const r=pi(Kb),i=ee(()=>t.route||r.value),s=pi(wS,0),o=ee(()=>{let u=P(s);const{matched:c}=i.value;let d;for(;(d=c[u])&&!d.components;)u++;return u}),a=ee(()=>i.value.matched[o.value]);Fu(wS,ee(()=>o.value+1)),Fu(YF,a),Fu(Kb,i);const l=ie();return cn(()=>[l.value,a.value,t.name],([u,c,d],[h,p,m])=>{c&&(c.instances[d]=u,p&&p!==c&&u&&u===h&&(c.leaveGuards.size||(c.leaveGuards=p.leaveGuards),c.updateGuards.size||(c.updateGuards=p.updateGuards))),u&&c&&(!p||!nc(c,p)||!h)&&(c.enterCallbacks[d]||[]).forEach(g=>g(u))},{flush:"post"}),()=>{const u=i.value,c=t.name,d=a.value,h=d&&d.components[c];if(!h)return IS(n.default,{Component:h,route:u});const p=d.props[c],m=p?p===!0?u.params:typeof p=="function"?p(u):p:null,y=Sl(h,ln({},m,e,{onVnodeUnmounted:A=>{A.component.isUnmounted&&(d.instances[c]=null)},ref:l}));return IS(n.default,{Component:y,route:u})||y}}});function IS(t,e){if(!t)return null;const n=t(e);return n.length===1?n[0]:n}const pR=t6;function n6(t){const e=qF(t.routes,t),n=t.parseQuery||KF,r=t.stringifyQuery||_S,i=t.history,s=nd(),o=nd(),a=nd(),l=CO(Fo);let u=Fo;fu&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const c=dy.bind(null,ne=>""+ne),d=dy.bind(null,fF),h=dy.bind(null,mh);function p(ne,pe){let oe,we;return cR(ne)?(oe=e.getRecordMatcher(ne),we=pe):we=ne,e.addRoute(we,oe)}function m(ne){const pe=e.getRecordMatcher(ne);pe&&e.removeRoute(pe)}function g(){return e.getRoutes().map(ne=>ne.record)}function y(ne){return!!e.getRecordMatcher(ne)}function A(ne,pe){if(pe=ln({},pe||l.value),typeof ne=="string"){const W=hy(n,ne,pe.path),Q=e.resolve({path:W.path},pe),me=i.createHref(W.fullPath);return ln(W,Q,{params:h(Q.params),hash:mh(W.hash),redirectedFrom:void 0,href:me})}let oe;if(ne.path!=null)oe=ln({},ne,{path:hy(n,ne.path,pe.path).path});else{const W=ln({},ne.params);for(const Q in W)W[Q]==null&&delete W[Q];oe=ln({},ne,{params:d(W)}),pe.params=d(pe.params)}const we=e.resolve(oe,pe),Ce=ne.hash||"";we.params=c(h(we.params));const fe=gF(r,ln({},ne,{hash:cF(Ce),path:we.path})),L=i.createHref(fe);return ln({fullPath:fe,hash:Ce,query:r===_S?GF(ne.query):ne.query||{}},we,{redirectedFrom:void 0,href:L})}function C(ne){return typeof ne=="string"?hy(n,ne,l.value.path):ln({},ne)}function S(ne,pe){if(u!==ne)return rc(8,{from:pe,to:ne})}function E(ne){return I(ne)}function k(ne){return E(ln(C(ne),{replace:!0}))}function x(ne){const pe=ne.matched[ne.matched.length-1];if(pe&&pe.redirect){const{redirect:oe}=pe;let we=typeof oe=="function"?oe(ne):oe;return typeof we=="string"&&(we=we.includes("?")||we.includes("#")?we=C(we):{path:we},we.params={}),ln({query:ne.query,hash:ne.hash,params:we.path!=null?{}:ne.params},we)}}function I(ne,pe){const oe=u=A(ne),we=l.value,Ce=ne.state,fe=ne.force,L=ne.replace===!0,W=x(oe);if(W)return I(ln(C(W),{state:typeof W=="object"?ln({},Ce,W.state):Ce,force:fe,replace:L}),pe||oe);const Q=oe;Q.redirectedFrom=pe;let me;return!fe&&vF(r,we,oe)&&(me=rc(16,{to:Q,from:we}),ce(we,we,!0,!1)),(me?Promise.resolve(me):T(Q,we)).catch(ge=>io(ge)?io(ge,2)?ge:V(ge):te(ge,Q,we)).then(ge=>{if(ge){if(io(ge,2))return I(ln({replace:L},C(ge.to),{state:typeof ge.to=="object"?ln({},Ce,ge.to.state):Ce,force:fe}),pe||Q)}else ge=N(Q,we,!0,L,Ce);return R(Q,we,ge),ge})}function b(ne,pe){const oe=S(ne,pe);return oe?Promise.reject(oe):Promise.resolve()}function _(ne){const pe=Se.values().next().value;return pe&&typeof pe.runWithContext=="function"?pe.runWithContext(ne):ne()}function T(ne,pe){let oe;const[we,Ce,fe]=r6(ne,pe);oe=fy(we.reverse(),"beforeRouteLeave",ne,pe);for(const W of we)W.leaveGuards.forEach(Q=>{oe.push(Xo(Q,ne,pe))});const L=b.bind(null,ne,pe);return oe.push(L),Y(oe).then(()=>{oe=[];for(const W of s.list())oe.push(Xo(W,ne,pe));return oe.push(L),Y(oe)}).then(()=>{oe=fy(Ce,"beforeRouteUpdate",ne,pe);for(const W of Ce)W.updateGuards.forEach(Q=>{oe.push(Xo(Q,ne,pe))});return oe.push(L),Y(oe)}).then(()=>{oe=[];for(const W of fe)if(W.beforeEnter)if(ws(W.beforeEnter))for(const Q of W.beforeEnter)oe.push(Xo(Q,ne,pe));else oe.push(Xo(W.beforeEnter,ne,pe));return oe.push(L),Y(oe)}).then(()=>(ne.matched.forEach(W=>W.enterCallbacks={}),oe=fy(fe,"beforeRouteEnter",ne,pe,_),oe.push(L),Y(oe))).then(()=>{oe=[];for(const W of o.list())oe.push(Xo(W,ne,pe));return oe.push(L),Y(oe)}).catch(W=>io(W,8)?W:Promise.reject(W))}function R(ne,pe,oe){a.list().forEach(we=>_(()=>we(ne,pe,oe)))}function N(ne,pe,oe,we,Ce){const fe=S(ne,pe);if(fe)return fe;const L=pe===Fo,W=fu?history.state:{};oe&&(we||L?i.replace(ne.fullPath,ln({scroll:L&&W&&W.scroll},Ce)):i.push(ne.fullPath,Ce)),l.value=ne,ce(ne,pe,oe,L),V()}let O;function j(){O||(O=i.listen((ne,pe,oe)=>{if(!he.listening)return;const we=A(ne),Ce=x(we);if(Ce){I(ln(Ce,{replace:!0}),we).catch(Fd);return}u=we;const fe=l.value;fu&&IF(hS(fe.fullPath,oe.delta),qg()),T(we,fe).catch(L=>io(L,12)?L:io(L,2)?(I(L.to,we).then(W=>{io(W,20)&&!oe.delta&&oe.type===gh.pop&&i.go(-1,!1)}).catch(Fd),Promise.reject()):(oe.delta&&i.go(-oe.delta,!1),te(L,we,fe))).then(L=>{L=L||N(we,fe,!1),L&&(oe.delta&&!io(L,8)?i.go(-oe.delta,!1):oe.type===gh.pop&&io(L,20)&&i.go(-1,!1)),R(we,fe,L)}).catch(Fd)}))}let U=nd(),$=nd(),B;function te(ne,pe,oe){V(ne);const we=$.list();return we.length?we.forEach(Ce=>Ce(ne,pe,oe)):console.error(ne),Promise.reject(ne)}function z(){return B&&l.value!==Fo?Promise.resolve():new Promise((ne,pe)=>{U.add([ne,pe])})}function V(ne){return B||(B=!ne,j(),U.list().forEach(([pe,oe])=>ne?oe(ne):pe()),U.reset()),ne}function ce(ne,pe,oe,we){const{scrollBehavior:Ce}=t;if(!fu||!Ce)return Promise.resolve();const fe=!oe&&CF(hS(ne.fullPath,0))||(we||!oe)&&history.state&&history.state.scroll||null;return ir().then(()=>Ce(ne,pe,fe)).then(L=>L&&SF(L)).catch(L=>te(L,ne,pe))}const le=ne=>i.go(ne);let ve;const Se=new Set,he={currentRoute:l,listening:!0,addRoute:p,removeRoute:m,clearRoutes:e.clearRoutes,hasRoute:y,getRoutes:g,resolve:A,options:t,push:E,replace:k,go:le,back:()=>le(-1),forward:()=>le(1),beforeEach:s.add,beforeResolve:o.add,afterEach:a.add,onError:$.add,isReady:z,install(ne){const pe=this;ne.component("RouterLink",JF),ne.component("RouterView",pR),ne.config.globalProperties.$router=pe,Object.defineProperty(ne.config.globalProperties,"$route",{enumerable:!0,get:()=>P(l)}),fu&&!ve&&l.value===Fo&&(ve=!0,E(i.location).catch(Ce=>{}));const oe={};for(const Ce in Fo)Object.defineProperty(oe,Ce,{get:()=>l.value[Ce],enumerable:!0});ne.provide(Bg,pe),ne.provide(rw,x_(oe)),ne.provide(Kb,l);const we=ne.unmount;Se.add(ne),ne.unmount=function(){Se.delete(ne),Se.size<1&&(u=Fo,O&&O(),O=null,l.value=Fo,ve=!1,B=!1),we()}}};function Y(ne){return ne.reduce((pe,oe)=>pe.then(()=>_(oe)),Promise.resolve())}return he}function r6(t,e){const n=[],r=[],i=[],s=Math.max(e.matched.length,t.matched.length);for(let o=0;o<s;o++){const a=e.matched[o];a&&(t.matched.find(u=>nc(u,a))?r.push(a):n.push(a));const l=t.matched[o];l&&(e.matched.find(u=>nc(u,l))||i.push(l))}return[n,r,i]}function df(){return pi(Bg)}function hf(t){return pi(rw)}const i6=xe({__name:"App",setup(t){return(e,n)=>(D(),H(Pe,null,[q(P(pR)),q(Z4)],64))}});var CS={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mR={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ge=function(t,e){if(!t)throw Pc(e)},Pc=function(t){return new Error("Firebase Database ("+mR.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gR=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},s6=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},jg={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,l=i+2<t.length,u=l?t[i+2]:0,c=s>>2,d=(s&3)<<4|a>>4;let h=(a&15)<<2|u>>6,p=u&63;l||(p=64,o||(h=64)),r.push(n[c],n[d],n[h],n[p])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(gR(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):s6(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const d=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||u==null||d==null)throw new o6;const h=s<<2|a>>4;if(r.push(h),u!==64){const p=a<<4&240|u>>2;if(r.push(p),d!==64){const m=u<<6&192|d;r.push(m)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class o6 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const vR=function(t){const e=gR(t);return jg.encodeByteArray(e,!0)},Sm=function(t){return vR(t).replace(/\./g,"")},Im=function(t){try{return jg.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a6(t){return yR(void 0,t)}function yR(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!l6(n)||(t[n]=yR(t[n],e[n]));return t}function l6(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bR(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u6=()=>bR().__FIREBASE_DEFAULTS__,c6=()=>{if(typeof process>"u"||typeof CS>"u")return;const t=CS.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},d6=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Im(t[1]);return e&&JSON.parse(e)},Hg=()=>{try{return u6()||c6()||d6()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},_R=t=>{var e,n;return(n=(e=Hg())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},wR=t=>{const e=_R(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},TR=()=>{var t;return(t=Hg())===null||t===void 0?void 0:t.config},ER=t=>{var e;return(e=Hg())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cl{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SR(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Sm(JSON.stringify(n)),Sm(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oi(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function iw(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(oi())}function h6(){var t;const e=(t=Hg())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function IR(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function CR(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function f6(){const t=oi();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function AR(){return mR.NODE_ADMIN===!0}function p6(){return!h6()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Wg(){try{return typeof indexedDB=="object"}catch{return!1}}function PR(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}function m6(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g6="FirebaseError";class Bi extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=g6,Object.setPrototypeOf(this,Bi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ma.prototype.create)}}class Ma{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?v6(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new Bi(i,a,r)}}function v6(t,e){return t.replace(y6,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const y6=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vh(t){return JSON.parse(t)}function Nr(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OR=function(t){let e={},n={},r={},i="";try{const s=t.split(".");e=vh(Im(s[0])||""),n=vh(Im(s[1])||""),i=s[2],r=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:r,signature:i}},b6=function(t){const e=OR(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},_6=function(t){const e=OR(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ro(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function ic(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function Gb(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Cm(t,e,n){const r={};for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=e.call(n,t[i],i,t));return r}function yh(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(AS(s)&&AS(o)){if(!yh(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function AS(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oc(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Td(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function Ed(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w6{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const r=this.W_;if(typeof e=="string")for(let d=0;d<16;d++)r[d]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let d=0;d<16;d++)r[d]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let d=16;d<80;d++){const h=r[d-3]^r[d-8]^r[d-14]^r[d-16];r[d]=(h<<1|h>>>31)&4294967295}let i=this.chain_[0],s=this.chain_[1],o=this.chain_[2],a=this.chain_[3],l=this.chain_[4],u,c;for(let d=0;d<80;d++){d<40?d<20?(u=a^s&(o^a),c=1518500249):(u=s^o^a,c=1859775393):d<60?(u=s&o|a&(s|o),c=2400959708):(u=s^o^a,c=3395469782);const h=(i<<5|i>>>27)+u+l+c+r[d]&4294967295;l=a,a=o,o=(s<<30|s>>>2)&4294967295,s=i,i=h}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+o&4294967295,this.chain_[3]=this.chain_[3]+a&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);const r=n-this.blockSize;let i=0;const s=this.buf_;let o=this.inbuf_;for(;i<n;){if(o===0)for(;i<=r;)this.compress_(e,i),i+=this.blockSize;if(typeof e=="string"){for(;i<n;)if(s[o]=e.charCodeAt(i),++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}else for(;i<n;)if(s[o]=e[i],++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}this.inbuf_=o,this.total_+=n}digest(){const e=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=n&255,n/=256;this.compress_(this.buf_);let r=0;for(let i=0;i<5;i++)for(let s=24;s>=0;s-=8)e[r]=this.chain_[i]>>s&255,++r;return e}}function T6(t,e){const n=new E6(t,e);return n.subscribe.bind(n)}class E6{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");S6(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=py),i.error===void 0&&(i.error=py),i.complete===void 0&&(i.complete=py);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function S6(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function py(){}function I6(t,e){return`${t} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C6=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);if(i>=55296&&i<=56319){const s=i-55296;r++,Ge(r<t.length,"Surrogate pair missing trail surrogate.");const o=t.charCodeAt(r)-56320;i=65536+(s<<10)+o}i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):i<65536?(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},zg=function(t){let e=0;for(let n=0;n<t.length;n++){const r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A6=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,t=>{const e=Math.random()*16|0;return(t==="x"?e:e&3|8).toString(16)})};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P6=1e3,O6=2,k6=4*60*60*1e3,R6=.5;function Yb(t,e=P6,n=O6){const r=e*Math.pow(n,t),i=Math.round(R6*r*(Math.random()-.5)*2);return Math.min(k6,r+i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zt(t){return t&&t._delegate?t._delegate:t}class mi{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xa="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x6{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new Cl;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(N6(e))try{this.getOrInitializeService({instanceIdentifier:Xa})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Xa){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Xa){return this.instances.has(e)}getOptions(e=Xa){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:D6(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Xa){return this.component?this.component.multipleInstances?e:Xa:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function D6(t){return t===Xa?void 0:t}function N6(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M6{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new x6(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Dt;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Dt||(Dt={}));const L6={debug:Dt.DEBUG,verbose:Dt.VERBOSE,info:Dt.INFO,warn:Dt.WARN,error:Dt.ERROR,silent:Dt.SILENT},V6=Dt.INFO,$6={[Dt.DEBUG]:"log",[Dt.VERBOSE]:"log",[Dt.INFO]:"info",[Dt.WARN]:"warn",[Dt.ERROR]:"error"},F6=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=$6[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class kc{constructor(e){this.name=e,this._logLevel=V6,this._logHandler=F6,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Dt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?L6[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Dt.DEBUG,...e),this._logHandler(this,Dt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Dt.VERBOSE,...e),this._logHandler(this,Dt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Dt.INFO,...e),this._logHandler(this,Dt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Dt.WARN,...e),this._logHandler(this,Dt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Dt.ERROR,...e),this._logHandler(this,Dt.ERROR,...e)}}const U6=(t,e)=>e.some(n=>t instanceof n);let PS,OS;function q6(){return PS||(PS=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function B6(){return OS||(OS=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const kR=new WeakMap,Qb=new WeakMap,RR=new WeakMap,my=new WeakMap,sw=new WeakMap;function j6(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(ha(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&kR.set(n,t)}).catch(()=>{}),sw.set(e,t),e}function H6(t){if(Qb.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});Qb.set(t,e)}let Xb={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Qb.get(t);if(e==="objectStoreNames")return t.objectStoreNames||RR.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ha(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function W6(t){Xb=t(Xb)}function z6(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(gy(this),e,...n);return RR.set(r,e.sort?e.sort():[e]),ha(r)}:B6().includes(t)?function(...e){return t.apply(gy(this),e),ha(kR.get(this))}:function(...e){return ha(t.apply(gy(this),e))}}function K6(t){return typeof t=="function"?z6(t):(t instanceof IDBTransaction&&H6(t),U6(t,q6())?new Proxy(t,Xb):t)}function ha(t){if(t instanceof IDBRequest)return j6(t);if(my.has(t))return my.get(t);const e=K6(t);return e!==t&&(my.set(t,e),sw.set(e,t)),e}const gy=t=>sw.get(t);function xR(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=ha(o);return r&&o.addEventListener("upgradeneeded",l=>{r(ha(o.result),l.oldVersion,l.newVersion,ha(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const G6=["get","getKey","getAll","getAllKeys","count"],Y6=["put","add","delete","clear"],vy=new Map;function kS(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(vy.get(e))return vy.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=Y6.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||G6.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),i&&l.done]))[0]};return vy.set(e,s),s}W6(t=>({...t,get:(e,n,r)=>kS(e,n)||t.get(e,n,r),has:(e,n)=>!!kS(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q6{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(X6(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function X6(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Jb="@firebase/app",RS="0.10.9";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const So=new kc("@firebase/app"),J6="@firebase/app-compat",Z6="@firebase/analytics-compat",eU="@firebase/analytics",tU="@firebase/app-check-compat",nU="@firebase/app-check",rU="@firebase/auth",iU="@firebase/auth-compat",sU="@firebase/database",oU="@firebase/database-compat",aU="@firebase/functions",lU="@firebase/functions-compat",uU="@firebase/installations",cU="@firebase/installations-compat",dU="@firebase/messaging",hU="@firebase/messaging-compat",fU="@firebase/performance",pU="@firebase/performance-compat",mU="@firebase/remote-config",gU="@firebase/remote-config-compat",vU="@firebase/storage",yU="@firebase/storage-compat",bU="@firebase/firestore",_U="@firebase/vertexai-preview",wU="@firebase/firestore-compat",TU="firebase",EU="10.13.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zb="[DEFAULT]",SU={[Jb]:"fire-core",[J6]:"fire-core-compat",[eU]:"fire-analytics",[Z6]:"fire-analytics-compat",[nU]:"fire-app-check",[tU]:"fire-app-check-compat",[rU]:"fire-auth",[iU]:"fire-auth-compat",[sU]:"fire-rtdb",[oU]:"fire-rtdb-compat",[aU]:"fire-fn",[lU]:"fire-fn-compat",[uU]:"fire-iid",[cU]:"fire-iid-compat",[dU]:"fire-fcm",[hU]:"fire-fcm-compat",[fU]:"fire-perf",[pU]:"fire-perf-compat",[mU]:"fire-rc",[gU]:"fire-rc-compat",[vU]:"fire-gcs",[yU]:"fire-gcs-compat",[bU]:"fire-fst",[wU]:"fire-fst-compat",[_U]:"fire-vertex","fire-js":"fire-js",[TU]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Am=new Map,IU=new Map,e0=new Map;function xS(t,e){try{t.container.addComponent(e)}catch(n){So.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Oi(t){const e=t.name;if(e0.has(e))return So.debug(`There were multiple attempts to register component ${e}.`),!1;e0.set(e,t);for(const n of Am.values())xS(n,t);for(const n of IU.values())xS(n,t);return!0}function Ys(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function fs(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CU={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},fa=new Ma("app","Firebase",CU);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AU{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new mi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw fa.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const La=EU;function DR(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Zb,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw fa.create("bad-app-name",{appName:String(i)});if(n||(n=TR()),!n)throw fa.create("no-options");const s=Am.get(i);if(s){if(yh(n,s.options)&&yh(r,s.config))return s;throw fa.create("duplicate-app",{appName:i})}const o=new M6(i);for(const l of e0.values())o.addComponent(l);const a=new AU(n,r,o);return Am.set(i,a),a}function Rc(t=Zb){const e=Am.get(t);if(!e&&t===Zb&&TR())return DR();if(!e)throw fa.create("no-app",{appName:t});return e}function Vr(t,e,n){var r;let i=(r=SU[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),So.warn(a.join(" "));return}Oi(new mi(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PU="firebase-heartbeat-database",OU=1,bh="firebase-heartbeat-store";let yy=null;function NR(){return yy||(yy=xR(PU,OU,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(bh)}catch(n){console.warn(n)}}}}).catch(t=>{throw fa.create("idb-open",{originalErrorMessage:t.message})})),yy}async function kU(t){try{const n=(await NR()).transaction(bh),r=await n.objectStore(bh).get(MR(t));return await n.done,r}catch(e){if(e instanceof Bi)So.warn(e.message);else{const n=fa.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});So.warn(n.message)}}}async function DS(t,e){try{const r=(await NR()).transaction(bh,"readwrite");await r.objectStore(bh).put(e,MR(t)),await r.done}catch(n){if(n instanceof Bi)So.warn(n.message);else{const r=fa.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});So.warn(r.message)}}}function MR(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RU=1024,xU=30*24*60*60*1e3;class DU{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new MU(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n,r;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=NS();return console.log("heartbeats",(e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats),((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((r=this._heartbeatsCache)===null||r===void 0?void 0:r.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(a=>a.date===o)?void 0:(this._heartbeatsCache.heartbeats.push({date:o,agent:s}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(a=>{const l=new Date(a.date).valueOf();return Date.now()-l<=xU}),this._storage.overwrite(this._heartbeatsCache))}catch(i){So.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=NS(),{heartbeatsToSend:r,unsentEntries:i}=NU(this._heartbeatsCache.heartbeats),s=Sm(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return So.warn(n),""}}}function NS(){return new Date().toISOString().substring(0,10)}function NU(t,e=RU){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),MS(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),MS(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class MU{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Wg()?PR().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await kU(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return DS(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return DS(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function MS(t){return Sm(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LU(t){Oi(new mi("platform-logger",e=>new Q6(e),"PRIVATE")),Oi(new mi("heartbeat",e=>new DU(e),"PRIVATE")),Vr(Jb,RS,t),Vr(Jb,RS,"esm2017"),Vr("fire-js","")}LU("");const LR="@firebase/installations",ow="0.6.8";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VR=1e4,$R=`w:${ow}`,FR="FIS_v2",VU="https://firebaseinstallations.googleapis.com/v1",$U=60*60*1e3,FU="installations",UU="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qU={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Al=new Ma(FU,UU,qU);function UR(t){return t instanceof Bi&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qR({projectId:t}){return`${VU}/projects/${t}/installations`}function BR(t){return{token:t.token,requestStatus:2,expiresIn:jU(t.expiresIn),creationTime:Date.now()}}async function jR(t,e){const r=(await e.json()).error;return Al.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function HR({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function BU(t,{refreshToken:e}){const n=HR(t);return n.append("Authorization",HU(e)),n}async function WR(t){const e=await t();return e.status>=500&&e.status<600?t():e}function jU(t){return Number(t.replace("s","000"))}function HU(t){return`${FR} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WU({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=qR(t),i=HR(t),s=e.getImmediate({optional:!0});if(s){const u=await s.getHeartbeatsHeader();u&&i.append("x-firebase-client",u)}const o={fid:n,authVersion:FR,appId:t.appId,sdkVersion:$R},a={method:"POST",headers:i,body:JSON.stringify(o)},l=await WR(()=>fetch(r,a));if(l.ok){const u=await l.json();return{fid:u.fid||n,registrationStatus:2,refreshToken:u.refreshToken,authToken:BR(u.authToken)}}else throw await jR("Create Installation",l)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zR(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zU(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KU=/^[cdef][\w-]{21}$/,t0="";function GU(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=YU(t);return KU.test(n)?n:t0}catch{return t0}}function YU(t){return zU(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kg(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KR=new Map;function GR(t,e){const n=Kg(t);YR(n,e),QU(n,e)}function YR(t,e){const n=KR.get(t);if(n)for(const r of n)r(e)}function QU(t,e){const n=XU();n&&n.postMessage({key:t,fid:e}),JU()}let ol=null;function XU(){return!ol&&"BroadcastChannel"in self&&(ol=new BroadcastChannel("[Firebase] FID Change"),ol.onmessage=t=>{YR(t.data.key,t.data.fid)}),ol}function JU(){KR.size===0&&ol&&(ol.close(),ol=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZU="firebase-installations-database",e5=1,Pl="firebase-installations-store";let by=null;function aw(){return by||(by=xR(ZU,e5,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Pl)}}})),by}async function Pm(t,e){const n=Kg(t),i=(await aw()).transaction(Pl,"readwrite"),s=i.objectStore(Pl),o=await s.get(n);return await s.put(e,n),await i.done,(!o||o.fid!==e.fid)&&GR(t,e.fid),e}async function QR(t){const e=Kg(t),r=(await aw()).transaction(Pl,"readwrite");await r.objectStore(Pl).delete(e),await r.done}async function Gg(t,e){const n=Kg(t),i=(await aw()).transaction(Pl,"readwrite"),s=i.objectStore(Pl),o=await s.get(n),a=e(o);return a===void 0?await s.delete(n):await s.put(a,n),await i.done,a&&(!o||o.fid!==a.fid)&&GR(t,a.fid),a}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lw(t){let e;const n=await Gg(t.appConfig,r=>{const i=t5(r),s=n5(t,i);return e=s.registrationPromise,s.installationEntry});return n.fid===t0?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function t5(t){const e=t||{fid:GU(),registrationStatus:0};return XR(e)}function n5(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const i=Promise.reject(Al.create("app-offline"));return{installationEntry:e,registrationPromise:i}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=r5(t,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:i5(t)}:{installationEntry:e}}async function r5(t,e){try{const n=await WU(t,e);return Pm(t.appConfig,n)}catch(n){throw UR(n)&&n.customData.serverCode===409?await QR(t.appConfig):await Pm(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function i5(t){let e=await LS(t.appConfig);for(;e.registrationStatus===1;)await zR(100),e=await LS(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await lw(t);return r||n}return e}function LS(t){return Gg(t,e=>{if(!e)throw Al.create("installation-not-found");return XR(e)})}function XR(t){return s5(t)?{fid:t.fid,registrationStatus:0}:t}function s5(t){return t.registrationStatus===1&&t.registrationTime+VR<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function o5({appConfig:t,heartbeatServiceProvider:e},n){const r=a5(t,n),i=BU(t,n),s=e.getImmediate({optional:!0});if(s){const u=await s.getHeartbeatsHeader();u&&i.append("x-firebase-client",u)}const o={installation:{sdkVersion:$R,appId:t.appId}},a={method:"POST",headers:i,body:JSON.stringify(o)},l=await WR(()=>fetch(r,a));if(l.ok){const u=await l.json();return BR(u)}else throw await jR("Generate Auth Token",l)}function a5(t,{fid:e}){return`${qR(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uw(t,e=!1){let n;const r=await Gg(t.appConfig,s=>{if(!JR(s))throw Al.create("not-registered");const o=s.authToken;if(!e&&c5(o))return s;if(o.requestStatus===1)return n=l5(t,e),s;{if(!navigator.onLine)throw Al.create("app-offline");const a=h5(s);return n=u5(t,a),a}});return n?await n:r.authToken}async function l5(t,e){let n=await VS(t.appConfig);for(;n.authToken.requestStatus===1;)await zR(100),n=await VS(t.appConfig);const r=n.authToken;return r.requestStatus===0?uw(t,e):r}function VS(t){return Gg(t,e=>{if(!JR(e))throw Al.create("not-registered");const n=e.authToken;return f5(n)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function u5(t,e){try{const n=await o5(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return await Pm(t.appConfig,r),n}catch(n){if(UR(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await QR(t.appConfig);else{const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await Pm(t.appConfig,r)}throw n}}function JR(t){return t!==void 0&&t.registrationStatus===2}function c5(t){return t.requestStatus===2&&!d5(t)}function d5(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+$U}function h5(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}function f5(t){return t.requestStatus===1&&t.requestTime+VR<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function p5(t){const e=t,{installationEntry:n,registrationPromise:r}=await lw(e);return r?r.catch(console.error):uw(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function m5(t,e=!1){const n=t;return await g5(n),(await uw(n,e)).token}async function g5(t){const{registrationPromise:e}=await lw(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v5(t){if(!t||!t.options)throw _y("App Configuration");if(!t.name)throw _y("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw _y(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function _y(t){return Al.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZR="installations",y5="installations-internal",b5=t=>{const e=t.getProvider("app").getImmediate(),n=v5(e),r=Ys(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},_5=t=>{const e=t.getProvider("app").getImmediate(),n=Ys(e,ZR).getImmediate();return{getId:()=>p5(n),getToken:i=>m5(n,i)}};function w5(){Oi(new mi(ZR,b5,"PUBLIC")),Oi(new mi(y5,_5,"PRIVATE"))}w5();Vr(LR,ow);Vr(LR,ow,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Om="analytics",T5="firebase_id",E5="origin",S5=60*1e3,I5="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",cw="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ci=new kc("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C5={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},Ui=new Ma("analytics","Analytics",C5);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A5(t){if(!t.startsWith(cw)){const e=Ui.create("invalid-gtag-resource",{gtagURL:t});return Ci.warn(e.message),""}return t}function ex(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function P5(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function O5(t,e){const n=P5("firebase-js-sdk-policy",{createScriptURL:A5}),r=document.createElement("script"),i=`${cw}?l=${t}&id=${e}`;r.src=n?n==null?void 0:n.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}function k5(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function R5(t,e,n,r,i,s){const o=r[i];try{if(o)await e[o];else{const l=(await ex(n)).find(u=>u.measurementId===i);l&&await e[l.appId]}}catch(a){Ci.error(a)}t("config",i,s)}async function x5(t,e,n,r,i){try{let s=[];if(i&&i.send_to){let o=i.send_to;Array.isArray(o)||(o=[o]);const a=await ex(n);for(const l of o){const u=a.find(d=>d.measurementId===l),c=u&&e[u.appId];if(c)s.push(c);else{s=[];break}}}s.length===0&&(s=Object.values(e)),await Promise.all(s),t("event",r,i||{})}catch(s){Ci.error(s)}}function D5(t,e,n,r){async function i(s,...o){try{if(s==="event"){const[a,l]=o;await x5(t,e,n,a,l)}else if(s==="config"){const[a,l]=o;await R5(t,e,n,r,a,l)}else if(s==="consent"){const[a,l]=o;t("consent",a,l)}else if(s==="get"){const[a,l,u]=o;t("get",a,l,u)}else if(s==="set"){const[a]=o;t("set",a)}else t(s,...o)}catch(a){Ci.error(a)}}return i}function N5(t,e,n,r,i){let s=function(...o){window[r].push(arguments)};return window[i]&&typeof window[i]=="function"&&(s=window[i]),window[i]=D5(s,t,e,n),{gtagCore:s,wrappedGtag:window[i]}}function M5(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(cw)&&n.src.includes(t))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L5=30,V5=1e3;class $5{constructor(e={},n=V5){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const tx=new $5;function F5(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function U5(t){var e;const{appId:n,apiKey:r}=t,i={method:"GET",headers:F5(r)},s=I5.replace("{app-id}",n),o=await fetch(s,i);if(o.status!==200&&o.status!==304){let a="";try{const l=await o.json();!((e=l.error)===null||e===void 0)&&e.message&&(a=l.error.message)}catch{}throw Ui.create("config-fetch-failed",{httpStatus:o.status,responseMessage:a})}return o.json()}async function q5(t,e=tx,n){const{appId:r,apiKey:i,measurementId:s}=t.options;if(!r)throw Ui.create("no-app-id");if(!i){if(s)return{measurementId:s,appId:r};throw Ui.create("no-api-key")}const o=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new H5;return setTimeout(async()=>{a.abort()},n!==void 0?n:S5),nx({appId:r,apiKey:i,measurementId:s},o,a,e)}async function nx(t,{throttleEndTimeMillis:e,backoffCount:n},r,i=tx){var s;const{appId:o,measurementId:a}=t;try{await B5(r,e)}catch(l){if(a)return Ci.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${l==null?void 0:l.message}]`),{appId:o,measurementId:a};throw l}try{const l=await U5(t);return i.deleteThrottleMetadata(o),l}catch(l){const u=l;if(!j5(u)){if(i.deleteThrottleMetadata(o),a)return Ci.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${u==null?void 0:u.message}]`),{appId:o,measurementId:a};throw l}const c=Number((s=u==null?void 0:u.customData)===null||s===void 0?void 0:s.httpStatus)===503?Yb(n,i.intervalMillis,L5):Yb(n,i.intervalMillis),d={throttleEndTimeMillis:Date.now()+c,backoffCount:n+1};return i.setThrottleMetadata(o,d),Ci.debug(`Calling attemptFetch again in ${c} millis`),nx(t,d,r,i)}}function B5(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(s),r(Ui.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function j5(t){if(!(t instanceof Bi)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class H5{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function W5(t,e,n,r,i){if(i&&i.global){t("event",n,r);return}else{const s=await e,o=Object.assign(Object.assign({},r),{send_to:s});t("event",n,o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function z5(){if(Wg())try{await PR()}catch(t){return Ci.warn(Ui.create("indexeddb-unavailable",{errorInfo:t==null?void 0:t.toString()}).message),!1}else return Ci.warn(Ui.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function K5(t,e,n,r,i,s,o){var a;const l=q5(t);l.then(p=>{n[p.measurementId]=p.appId,t.options.measurementId&&p.measurementId!==t.options.measurementId&&Ci.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${p.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(p=>Ci.error(p)),e.push(l);const u=z5().then(p=>{if(p)return r.getId()}),[c,d]=await Promise.all([l,u]);M5(s)||O5(s,c.measurementId),i("js",new Date);const h=(a=o==null?void 0:o.config)!==null&&a!==void 0?a:{};return h[E5]="firebase",h.update=!0,d!=null&&(h[T5]=d),i("config",c.measurementId,h),c.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G5{constructor(e){this.app=e}_delete(){return delete qd[this.app.options.appId],Promise.resolve()}}let qd={},$S=[];const FS={};let wy="dataLayer",Y5="gtag",US,rx,qS=!1;function Q5(){const t=[];if(IR()&&t.push("This is a browser extension environment."),m6()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,i)=>`(${i+1}) ${r}`).join(" "),n=Ui.create("invalid-analytics-context",{errorInfo:e});Ci.warn(n.message)}}function X5(t,e,n){Q5();const r=t.options.appId;if(!r)throw Ui.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)Ci.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Ui.create("no-api-key");if(qd[r]!=null)throw Ui.create("already-exists",{id:r});if(!qS){k5(wy);const{wrappedGtag:s,gtagCore:o}=N5(qd,$S,FS,wy,Y5);rx=s,US=o,qS=!0}return qd[r]=K5(t,$S,FS,e,US,wy,n),new G5(t)}function ix(t=Rc()){t=Zt(t);const e=Ys(t,Om);return e.isInitialized()?e.getImmediate():J5(t)}function J5(t,e={}){const n=Ys(t,Om);if(n.isInitialized()){const i=n.getImmediate();if(yh(e,n.getOptions()))return i;throw Ui.create("already-initialized")}return n.initialize({options:e})}function sx(t,e,n,r){t=Zt(t),W5(rx,qd[t.app.options.appId],e,n,r).catch(i=>Ci.error(i))}const BS="@firebase/analytics",jS="0.10.7";function Z5(){Oi(new mi(Om,(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();return X5(r,i,n)},"PUBLIC")),Oi(new mi("analytics-internal",t,"PRIVATE")),Vr(BS,jS),Vr(BS,jS,"esm2017");function t(e){try{const n=e.getProvider(Om).getImmediate();return{logEvent:(r,i,s)=>sx(n,r,i,s)}}catch(n){throw Ui.create("interop-component-reg-failed",{reason:n})}}}Z5();var eq="firebase",tq="10.13.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Vr(eq,tq,"app");/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n0=new Map,ox={activated:!1,tokenObservers:[]},nq={initialized:!1,enabled:!1};function br(t){return n0.get(t)||Object.assign({},ox)}function rq(t,e){return n0.set(t,e),n0.get(t)}function Yg(){return nq}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ax="https://content-firebaseappcheck.googleapis.com/v1",iq="exchangeRecaptchaV3Token",sq="exchangeDebugToken",HS={OFFSET_DURATION:5*60*1e3,RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:16*60*1e3},oq=24*60*60*1e3;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aq{constructor(e,n,r,i,s){if(this.operation=e,this.retryPolicy=n,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=s,this.pending=null,this.nextErrorWaitInterval=i,i>s)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}async process(e){this.stop();try{this.pending=new Cl,this.pending.promise.catch(n=>{}),await lq(this.getNextRun(e)),this.pending.resolve(),await this.pending.promise,this.pending=new Cl,this.pending.promise.catch(n=>{}),await this.operation(),this.pending.resolve(),await this.pending.promise,this.process(!0).catch(()=>{})}catch(n){this.retryPolicy(n)?this.process(!1).catch(()=>{}):this.stop()}}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n}}}function lq(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uq={"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"},Si=new Ma("appCheck","AppCheck",uq);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WS(t=!1){var e;return t?(e=self.grecaptcha)===null||e===void 0?void 0:e.enterprise:self.grecaptcha}function dw(t){if(!br(t).activated)throw Si.create("use-before-activation",{appName:t.name})}function lx(t){const e=Math.round(t/1e3),n=Math.floor(e/(3600*24)),r=Math.floor((e-n*3600*24)/3600),i=Math.floor((e-n*3600*24-r*3600)/60),s=e-n*3600*24-r*3600-i*60;let o="";return n&&(o+=dp(n)+"d:"),r&&(o+=dp(r)+"h:"),o+=dp(i)+"m:"+dp(s)+"s",o}function dp(t){return t===0?"00":t>=10?t.toString():"0"+t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hw({url:t,body:e},n){const r={"Content-Type":"application/json"},i=n.getImmediate({optional:!0});if(i){const d=await i.getHeartbeatsHeader();d&&(r["X-Firebase-Client"]=d)}const s={method:"POST",body:JSON.stringify(e),headers:r};let o;try{o=await fetch(t,s)}catch(d){throw Si.create("fetch-network-error",{originalErrorMessage:d==null?void 0:d.message})}if(o.status!==200)throw Si.create("fetch-status-error",{httpStatus:o.status});let a;try{a=await o.json()}catch(d){throw Si.create("fetch-parse-error",{originalErrorMessage:d==null?void 0:d.message})}const l=a.ttl.match(/^([\d.]+)(s)$/);if(!l||!l[2]||isNaN(Number(l[1])))throw Si.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${a.ttl}`});const u=Number(l[1])*1e3,c=Date.now();return{token:a.token,expireTimeMillis:c+u,issuedAtTimeMillis:c}}function cq(t,e){const{projectId:n,appId:r,apiKey:i}=t.options;return{url:`${ax}/projects/${n}/apps/${r}:${iq}?key=${i}`,body:{recaptcha_v3_token:e}}}function ux(t,e){const{projectId:n,appId:r,apiKey:i}=t.options;return{url:`${ax}/projects/${n}/apps/${r}:${sq}?key=${i}`,body:{debug_token:e}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dq="firebase-app-check-database",hq=1,_h="firebase-app-check-store",cx="debug-token";let hp=null;function dx(){return hp||(hp=new Promise((t,e)=>{try{const n=indexedDB.open(dq,hq);n.onsuccess=r=>{t(r.target.result)},n.onerror=r=>{var i;e(Si.create("storage-open",{originalErrorMessage:(i=r.target.error)===null||i===void 0?void 0:i.message}))},n.onupgradeneeded=r=>{const i=r.target.result;switch(r.oldVersion){case 0:i.createObjectStore(_h,{keyPath:"compositeKey"})}}}catch(n){e(Si.create("storage-open",{originalErrorMessage:n==null?void 0:n.message}))}}),hp)}function fq(t){return fx(px(t))}function pq(t,e){return hx(px(t),e)}function mq(t){return hx(cx,t)}function gq(){return fx(cx)}async function hx(t,e){const r=(await dx()).transaction(_h,"readwrite"),s=r.objectStore(_h).put({compositeKey:t,value:e});return new Promise((o,a)=>{s.onsuccess=l=>{o()},r.onerror=l=>{var u;a(Si.create("storage-set",{originalErrorMessage:(u=l.target.error)===null||u===void 0?void 0:u.message}))}})}async function fx(t){const n=(await dx()).transaction(_h,"readonly"),i=n.objectStore(_h).get(t);return new Promise((s,o)=>{i.onsuccess=a=>{const l=a.target.result;s(l?l.value:void 0)},n.onerror=a=>{var l;o(Si.create("storage-get",{originalErrorMessage:(l=a.target.error)===null||l===void 0?void 0:l.message}))}})}function px(t){return`${t.options.appId}-${t.name}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wh=new kc("@firebase/app-check");/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vq(t){if(Wg()){let e;try{e=await fq(t)}catch(n){wh.warn(`Failed to read token from IndexedDB. Error: ${n}`)}return e}}function Ty(t,e){return Wg()?pq(t,e).catch(n=>{wh.warn(`Failed to write token to IndexedDB. Error: ${n}`)}):Promise.resolve()}async function yq(){let t;try{t=await gq()}catch{}if(t)return t;{const e=A6();return mq(e).catch(n=>wh.warn(`Failed to persist debug token to IndexedDB. Error: ${n}`)),e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fw(){return Yg().enabled}async function pw(){const t=Yg();if(t.enabled&&t.token)return t.token.promise;throw Error(`
            Can't get debug token in production mode.
        `)}function bq(){const t=bR(),e=Yg();if(e.initialized=!0,typeof t.FIREBASE_APPCHECK_DEBUG_TOKEN!="string"&&t.FIREBASE_APPCHECK_DEBUG_TOKEN!==!0)return;e.enabled=!0;const n=new Cl;e.token=n,typeof t.FIREBASE_APPCHECK_DEBUG_TOKEN=="string"?n.resolve(t.FIREBASE_APPCHECK_DEBUG_TOKEN):n.resolve(yq())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _q={error:"UNKNOWN_ERROR"};function wq(t){return jg.encodeString(JSON.stringify(t),!1)}async function r0(t,e=!1){const n=t.app;dw(n);const r=br(n);let i=r.token,s;if(i&&!wu(i)&&(r.token=void 0,i=void 0),!i){const l=await r.cachedTokenPromise;l&&(wu(l)?i=l:await Ty(n,void 0))}if(!e&&i&&wu(i))return{token:i.token};let o=!1;if(fw()){r.exchangeTokenPromise||(r.exchangeTokenPromise=hw(ux(n,await pw()),t.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),o=!0);const l=await r.exchangeTokenPromise;return await Ty(n,l),r.token=l,{token:l.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),o=!0),i=await br(n).exchangeTokenPromise}catch(l){l.code==="appCheck/throttled"?wh.warn(l.message):wh.error(l),s=l}let a;return i?s?wu(i)?a={token:i.token,internalError:s}:a=KS(s):(a={token:i.token},r.token=i,await Ty(n,i)):a=KS(s),o&&vx(n,a),a}async function Tq(t){const e=t.app;dw(e);const{provider:n}=br(e);if(fw()){const r=await pw(),{token:i}=await hw(ux(e,r),t.heartbeatServiceProvider);return{token:i}}else{const{token:r}=await n.getToken();return{token:r}}}function mx(t,e,n,r){const{app:i}=t,s=br(i),o={next:n,error:r,type:e};if(s.tokenObservers=[...s.tokenObservers,o],s.token&&wu(s.token)){const a=s.token;Promise.resolve().then(()=>{n({token:a.token}),zS(t)}).catch(()=>{})}s.cachedTokenPromise.then(()=>zS(t))}function gx(t,e){const n=br(t),r=n.tokenObservers.filter(i=>i.next!==e);r.length===0&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),n.tokenObservers=r}function zS(t){const{app:e}=t,n=br(e);let r=n.tokenRefresher;r||(r=Eq(t),n.tokenRefresher=r),!r.isRunning()&&n.isTokenAutoRefreshEnabled&&r.start()}function Eq(t){const{app:e}=t;return new aq(async()=>{const n=br(e);let r;if(n.token?r=await r0(t,!0):r=await r0(t),r.error)throw r.error;if(r.internalError)throw r.internalError},()=>!0,()=>{const n=br(e);if(n.token){let r=n.token.issuedAtTimeMillis+(n.token.expireTimeMillis-n.token.issuedAtTimeMillis)*.5+3e5;const i=n.token.expireTimeMillis-5*60*1e3;return r=Math.min(r,i),Math.max(0,r-Date.now())}else return 0},HS.RETRIAL_MIN_WAIT,HS.RETRIAL_MAX_WAIT)}function vx(t,e){const n=br(t).tokenObservers;for(const r of n)try{r.type==="EXTERNAL"&&e.error!=null?r.error(e.error):r.next(e)}catch{}}function wu(t){return t.expireTimeMillis-Date.now()>0}function KS(t){return{token:wq(_q),error:t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sq{constructor(e,n){this.app=e,this.heartbeatServiceProvider=n}_delete(){const{tokenObservers:e}=br(this.app);for(const n of e)gx(this.app,n.next);return Promise.resolve()}}function Iq(t,e){return new Sq(t,e)}function Cq(t){return{getToken:e=>r0(t,e),getLimitedUseToken:()=>Tq(t),addTokenListener:e=>mx(t,"INTERNAL",e),removeTokenListener:e=>gx(t.app,e)}}const Aq="@firebase/app-check",Pq="0.8.7";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oq="https://www.google.com/recaptcha/api.js";function kq(t,e){const n=new Cl,r=br(t);r.reCAPTCHAState={initialized:n};const i=Rq(t),s=WS(!1);return s?GS(t,e,s,i,n):Nq(()=>{const o=WS(!1);if(!o)throw new Error("no recaptcha");GS(t,e,o,i,n)}),n.promise}function GS(t,e,n,r,i){n.ready(()=>{Dq(t,e,n,r),i.resolve(n)})}function Rq(t){const e=`fire_app_check_${t.name}`,n=document.createElement("div");return n.id=e,n.style.display="none",document.body.appendChild(n),e}async function xq(t){dw(t);const n=await br(t).reCAPTCHAState.initialized.promise;return new Promise((r,i)=>{const s=br(t).reCAPTCHAState;n.ready(()=>{r(n.execute(s.widgetId,{action:"fire_app_check"}))})})}function Dq(t,e,n,r){const i=n.render(r,{sitekey:e,size:"invisible",callback:()=>{br(t).reCAPTCHAState.succeeded=!0},"error-callback":()=>{br(t).reCAPTCHAState.succeeded=!1}}),s=br(t);s.reCAPTCHAState=Object.assign(Object.assign({},s.reCAPTCHAState),{widgetId:i})}function Nq(t){const e=document.createElement("script");e.src=Oq,e.onload=t,document.head.appendChild(e)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mw{constructor(e){this._siteKey=e,this._throttleData=null}async getToken(){var e,n,r;Lq(this._throttleData);const i=await xq(this._app).catch(o=>{throw Si.create("recaptcha-error")});if(!(!((e=br(this._app).reCAPTCHAState)===null||e===void 0)&&e.succeeded))throw Si.create("recaptcha-error");let s;try{s=await hw(cq(this._app,i),this._heartbeatServiceProvider)}catch(o){throw!((n=o.code)===null||n===void 0)&&n.includes("fetch-status-error")?(this._throttleData=Mq(Number((r=o.customData)===null||r===void 0?void 0:r.httpStatus),this._throttleData),Si.create("throttled",{time:lx(this._throttleData.allowRequestsAfter-Date.now()),httpStatus:this._throttleData.httpStatus})):o}return this._throttleData=null,s}initialize(e){this._app=e,this._heartbeatServiceProvider=Ys(e,"heartbeat"),kq(e,this._siteKey).catch(()=>{})}isEqual(e){return e instanceof mw?this._siteKey===e._siteKey:!1}}function Mq(t,e){if(t===404||t===403)return{backoffCount:1,allowRequestsAfter:Date.now()+oq,httpStatus:t};{const n=e?e.backoffCount:0,r=Yb(n,1e3,2);return{backoffCount:n+1,allowRequestsAfter:Date.now()+r,httpStatus:t}}}function Lq(t){if(t&&Date.now()-t.allowRequestsAfter<=0)throw Si.create("throttled",{time:lx(t.allowRequestsAfter-Date.now()),httpStatus:t.httpStatus})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vq(t=Rc(),e){t=Zt(t);const n=Ys(t,"app-check");if(Yg().initialized||bq(),fw()&&pw().then(i=>console.log(`App Check debug token: ${i}. You will need to add it to your app's App Check settings in the Firebase console for it to work.`)),n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(s.isTokenAutoRefreshEnabled===e.isTokenAutoRefreshEnabled&&s.provider.isEqual(e.provider))return i;throw Si.create("already-initialized",{appName:t.name})}const r=n.initialize({options:e});return $q(t,e.provider,e.isTokenAutoRefreshEnabled),br(t).isTokenAutoRefreshEnabled&&mx(r,"INTERNAL",()=>{}),r}function $q(t,e,n){const r=rq(t,Object.assign({},ox));r.activated=!0,r.provider=e,r.cachedTokenPromise=vq(t).then(i=>(i&&wu(i)&&(r.token=i,vx(t,{token:i.token})),i)),r.isTokenAutoRefreshEnabled=n===void 0?t.automaticDataCollectionEnabled:n,r.provider.initialize(t)}const Fq="app-check",YS="app-check-internal";function Uq(){Oi(new mi(Fq,t=>{const e=t.getProvider("app").getImmediate(),n=t.getProvider("heartbeat");return Iq(e,n)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,n)=>{t.getProvider(YS).initialize()})),Oi(new mi(YS,t=>{const e=t.getProvider("app-check").getImmediate();return Cq(e)},"PUBLIC").setInstantiationMode("EXPLICIT")),Vr(Aq,Pq)}Uq();const qq={apiKey:"AIzaSyAjt3RyE1KkK110jxZQUrm9kjfclWO126k",authDomain:"personal-website-c3482.firebaseapp.com",projectId:"personal-website-c3482",storageBucket:"personal-website-c3482.appspot.com",messagingSenderId:"110986644823",appId:"1:110986644823:web:4081c484521ba6b37bc212",measurementId:"G-PF7D6JKSC3"},Bq=t=>{Vq(t,{provider:new mw("6LdIOxQpAAAAAKwbiQMkZD5Fid1DmlsKvWxOIQA5"),isTokenAutoRefreshEnabled:!0})},jq=()=>{const t=DR(qq);return Bq(t),ix(t),t},yx=jq();var Hq=!1;/*!
 * pinia v2.2.2
 * (c) 2024 Eduardo San Martin Morote
 * @license MIT
 */let bx;const Qg=t=>bx=t,_x=Symbol();function i0(t){return t&&typeof t=="object"&&Object.prototype.toString.call(t)==="[object Object]"&&typeof t.toJSON!="function"}var Bd;(function(t){t.direct="direct",t.patchObject="patch object",t.patchFunction="patch function"})(Bd||(Bd={}));function Wq(){const t=Cg(!0),e=t.run(()=>ie({}));let n=[],r=[];const i=xg({install(s){Qg(i),i._a=s,s.provide(_x,i),s.config.globalProperties.$pinia=i,r.forEach(o=>n.push(o)),r=[]},use(s){return!this._a&&!Hq?r.push(s):n.push(s),this},_p:n,_a:null,_e:t,_s:new Map,state:e});return i}const wx=()=>{};function QS(t,e,n,r=wx){t.push(e);const i=()=>{const s=t.indexOf(e);s>-1&&(t.splice(s,1),r())};return!n&&sf()&&Ag(i),i}function nu(t,...e){t.slice().forEach(n=>{n(...e)})}const zq=t=>t(),XS=Symbol(),Ey=Symbol();function s0(t,e){t instanceof Map&&e instanceof Map?e.forEach((n,r)=>t.set(r,n)):t instanceof Set&&e instanceof Set&&e.forEach(t.add,t);for(const n in e){if(!e.hasOwnProperty(n))continue;const r=e[n],i=t[n];i0(i)&&i0(r)&&t.hasOwnProperty(n)&&!wn(r)&&!Ms(r)?t[n]=s0(i,r):t[n]=r}return t}const Kq=Symbol();function Gq(t){return!i0(t)||!t.hasOwnProperty(Kq)}const{assign:Ko}=Object;function Yq(t){return!!(wn(t)&&t.effect)}function Qq(t,e,n,r){const{state:i,actions:s,getters:o}=e,a=n.state.value[t];let l;function u(){a||(n.state.value[t]=i?i():{});const c=OO(n.state.value[t]);return Ko(c,s,Object.keys(o||{}).reduce((d,h)=>(d[h]=xg(ee(()=>{Qg(n);const p=n._s.get(t);return o[h].call(p,p)})),d),{}))}return l=Tx(t,u,e,n,r,!0),l}function Tx(t,e,n={},r,i,s){let o;const a=Ko({actions:{}},n),l={deep:!0};let u,c,d=[],h=[],p;const m=r.state.value[t];!s&&!m&&(r.state.value[t]={}),ie({});let g;function y(b){let _;u=c=!1,typeof b=="function"?(b(r.state.value[t]),_={type:Bd.patchFunction,storeId:t,events:p}):(s0(r.state.value[t],b),_={type:Bd.patchObject,payload:b,storeId:t,events:p});const T=g=Symbol();ir().then(()=>{g===T&&(u=!0)}),c=!0,nu(d,_,r.state.value[t])}const A=s?function(){const{state:_}=n,T=_?_():{};this.$patch(R=>{Ko(R,T)})}:wx;function C(){o.stop(),d=[],h=[],r._s.delete(t)}const S=(b,_="")=>{if(XS in b)return b[Ey]=_,b;const T=function(){Qg(r);const R=Array.from(arguments),N=[],O=[];function j(B){N.push(B)}function U(B){O.push(B)}nu(h,{args:R,name:T[Ey],store:k,after:j,onError:U});let $;try{$=b.apply(this&&this.$id===t?this:k,R)}catch(B){throw nu(O,B),B}return $ instanceof Promise?$.then(B=>(nu(N,B),B)).catch(B=>(nu(O,B),Promise.reject(B))):(nu(N,$),$)};return T[XS]=!0,T[Ey]=_,T},E={_p:r,$id:t,$onAction:QS.bind(null,h),$patch:y,$reset:A,$subscribe(b,_={}){const T=QS(d,b,_.detached,()=>R()),R=o.run(()=>cn(()=>r.state.value[t],N=>{(_.flush==="sync"?c:u)&&b({storeId:t,type:Bd.direct,events:p},N)},Ko({},l,_)));return T},$dispose:C},k=Pr(E);r._s.set(t,k);const I=(r._a&&r._a.runWithContext||zq)(()=>r._e.run(()=>(o=Cg()).run(()=>e({action:S}))));for(const b in I){const _=I[b];if(wn(_)&&!Yq(_)||Ms(_))s||(m&&Gq(_)&&(wn(_)?_.value=m[b]:s0(_,m[b])),r.state.value[t][b]=_);else if(typeof _=="function"){const T=S(_,b);I[b]=T,a.actions[b]=_}}return Ko(k,I),Ko(Lt(k),I),Object.defineProperty(k,"$state",{get:()=>r.state.value[t],set:b=>{y(_=>{Ko(_,b)})}}),r._p.forEach(b=>{Ko(k,o.run(()=>b({store:k,app:r._a,pinia:r,options:a})))}),m&&s&&n.hydrate&&n.hydrate(k.$state,m),u=!0,c=!0,k}function gw(t,e,n){let r,i;const s=typeof e=="function";typeof t=="string"?(r=t,i=s?n:e):(i=t,r=t.id);function o(a,l){const u=YO();return a=a||(u?pi(_x,null):null),a&&Qg(a),a=bx,a._s.has(r)||(s?Tx(r,e,i,a):Qq(r,i,a)),a._s.get(r)}return o.$id=r,o}function Rt(t){{t=Lt(t);const e={};for(const n in t){const r=t[n];(wn(r)||Ms(r))&&(e[n]=Ju(t,n))}return e}}const JS=(t,e)=>{const n=t.storage||sessionStorage,r=t.key||e.$id;if(t.paths){const i=t.paths.reduce((s,o)=>(s[o]=e.$state[o],s),{});n.setItem(r,JSON.stringify(i))}else n.setItem(r,JSON.stringify(e.$state))};var Xq=({options:t,store:e})=>{var n,r,i,s;if((n=t.persist)!=null&&n.enabled){const o=[{key:e.$id,storage:sessionStorage}],a=(i=(r=t.persist)==null?void 0:r.strategies)!=null&&i.length?(s=t.persist)==null?void 0:s.strategies:o;a.forEach(l=>{const u=l.storage||sessionStorage,c=l.key||e.$id,d=u.getItem(c);d&&(e.$patch(JSON.parse(d)),JS(l,e))}),e.$subscribe(()=>{a.forEach(l=>{JS(l,e)})})}};const Ex=Wq();Ex.use(Xq);const Dr=class Dr{constructor(e,n,r={},i,s){ro(this,"errorCode");this.errorCode=s,Dr.log(r.debug,n),r.route&&Wh.push({name:r.route}),z4({title:i??e,type:e.toLowerCase(),text:n},5e3)}};ro(Dr,"success",(e,n={})=>new Dr("Success",e,n)),ro(Dr,"update",(e,n={})=>new Dr("Warning",e,n,"Update")),ro(Dr,"warning",(e,n={})=>new Dr("Warning",e,n)),ro(Dr,"error",(e,n={})=>new Dr("Error",e,n)),ro(Dr,"generalError",(e,n,r)=>new Dr("Error",(n==null?void 0:n.message)||Sx,{debug:e},void 0,r)),ro(Dr,"firebaseError",(e,n)=>{Dr.log(e,n);let r;return n instanceof Bi&&Object.keys(fp).includes(n.code)?(r=n.code,n.message=fp[r]):n instanceof Error&&Object.keys(fp).includes(n.name)?(r=n.name,n.message=fp[r]):n.message=void 0,Dr.generalError(e,n,r)}),ro(Dr,"log",(e,n)=>{e&&console.log(n)});let Ze=Dr;const Sx="Something went wrong";var vw=(t=>(t.DEFAULT_ERROR="",t.AUTH_USER_NOT_FOUND="auth/user-not-found",t.AUTH_INVALID_EMAIL="auth/invalid-email",t.AUTH_EMAIL_ALREADY_IN_USE="auth/email-already-in-use",t.AUTH_WRONG_PASSWORD="auth/wrong-password",t.AUTH_TOO_MANY_REQUESTS="auth/too-many-requests",t.AUTH_WEAK_PASSWORD="auth/weak-password",t.AUTH_REQUIRES_RECENT_LOGIN="auth/requires-recent-login",t.PERMISSION_DENIED="permission-denied",t))(vw||{});const o0=t=>Object.values(vw).includes(t),fp={"":Sx,"auth/user-not-found":"Unknown user","auth/invalid-email":"Invalid e-mail address","auth/email-already-in-use":"E-mail already in use","auth/wrong-password":"Wrong password","auth/too-many-requests":"Temporarily blocked","auth/weak-password":"Weak password","auth/requires-recent-login":"You need to re-login to do this","permission-denied":"Not logged in or no permission"};var ZS=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var pl,Ix;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(I,b){function _(){}_.prototype=b.prototype,I.D=b.prototype,I.prototype=new _,I.prototype.constructor=I,I.C=function(T,R,N){for(var O=Array(arguments.length-2),j=2;j<arguments.length;j++)O[j-2]=arguments[j];return b.prototype[R].apply(T,O)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(I,b,_){_||(_=0);var T=Array(16);if(typeof b=="string")for(var R=0;16>R;++R)T[R]=b.charCodeAt(_++)|b.charCodeAt(_++)<<8|b.charCodeAt(_++)<<16|b.charCodeAt(_++)<<24;else for(R=0;16>R;++R)T[R]=b[_++]|b[_++]<<8|b[_++]<<16|b[_++]<<24;b=I.g[0],_=I.g[1],R=I.g[2];var N=I.g[3],O=b+(N^_&(R^N))+T[0]+3614090360&4294967295;b=_+(O<<7&4294967295|O>>>25),O=N+(R^b&(_^R))+T[1]+3905402710&4294967295,N=b+(O<<12&4294967295|O>>>20),O=R+(_^N&(b^_))+T[2]+606105819&4294967295,R=N+(O<<17&4294967295|O>>>15),O=_+(b^R&(N^b))+T[3]+3250441966&4294967295,_=R+(O<<22&4294967295|O>>>10),O=b+(N^_&(R^N))+T[4]+4118548399&4294967295,b=_+(O<<7&4294967295|O>>>25),O=N+(R^b&(_^R))+T[5]+1200080426&4294967295,N=b+(O<<12&4294967295|O>>>20),O=R+(_^N&(b^_))+T[6]+2821735955&4294967295,R=N+(O<<17&4294967295|O>>>15),O=_+(b^R&(N^b))+T[7]+4249261313&4294967295,_=R+(O<<22&4294967295|O>>>10),O=b+(N^_&(R^N))+T[8]+1770035416&4294967295,b=_+(O<<7&4294967295|O>>>25),O=N+(R^b&(_^R))+T[9]+2336552879&4294967295,N=b+(O<<12&4294967295|O>>>20),O=R+(_^N&(b^_))+T[10]+4294925233&4294967295,R=N+(O<<17&4294967295|O>>>15),O=_+(b^R&(N^b))+T[11]+2304563134&4294967295,_=R+(O<<22&4294967295|O>>>10),O=b+(N^_&(R^N))+T[12]+1804603682&4294967295,b=_+(O<<7&4294967295|O>>>25),O=N+(R^b&(_^R))+T[13]+4254626195&4294967295,N=b+(O<<12&4294967295|O>>>20),O=R+(_^N&(b^_))+T[14]+2792965006&4294967295,R=N+(O<<17&4294967295|O>>>15),O=_+(b^R&(N^b))+T[15]+1236535329&4294967295,_=R+(O<<22&4294967295|O>>>10),O=b+(R^N&(_^R))+T[1]+4129170786&4294967295,b=_+(O<<5&4294967295|O>>>27),O=N+(_^R&(b^_))+T[6]+3225465664&4294967295,N=b+(O<<9&4294967295|O>>>23),O=R+(b^_&(N^b))+T[11]+643717713&4294967295,R=N+(O<<14&4294967295|O>>>18),O=_+(N^b&(R^N))+T[0]+3921069994&4294967295,_=R+(O<<20&4294967295|O>>>12),O=b+(R^N&(_^R))+T[5]+3593408605&4294967295,b=_+(O<<5&4294967295|O>>>27),O=N+(_^R&(b^_))+T[10]+38016083&4294967295,N=b+(O<<9&4294967295|O>>>23),O=R+(b^_&(N^b))+T[15]+3634488961&4294967295,R=N+(O<<14&4294967295|O>>>18),O=_+(N^b&(R^N))+T[4]+3889429448&4294967295,_=R+(O<<20&4294967295|O>>>12),O=b+(R^N&(_^R))+T[9]+568446438&4294967295,b=_+(O<<5&4294967295|O>>>27),O=N+(_^R&(b^_))+T[14]+3275163606&4294967295,N=b+(O<<9&4294967295|O>>>23),O=R+(b^_&(N^b))+T[3]+4107603335&4294967295,R=N+(O<<14&4294967295|O>>>18),O=_+(N^b&(R^N))+T[8]+1163531501&4294967295,_=R+(O<<20&4294967295|O>>>12),O=b+(R^N&(_^R))+T[13]+2850285829&4294967295,b=_+(O<<5&4294967295|O>>>27),O=N+(_^R&(b^_))+T[2]+4243563512&4294967295,N=b+(O<<9&4294967295|O>>>23),O=R+(b^_&(N^b))+T[7]+1735328473&4294967295,R=N+(O<<14&4294967295|O>>>18),O=_+(N^b&(R^N))+T[12]+2368359562&4294967295,_=R+(O<<20&4294967295|O>>>12),O=b+(_^R^N)+T[5]+4294588738&4294967295,b=_+(O<<4&4294967295|O>>>28),O=N+(b^_^R)+T[8]+2272392833&4294967295,N=b+(O<<11&4294967295|O>>>21),O=R+(N^b^_)+T[11]+1839030562&4294967295,R=N+(O<<16&4294967295|O>>>16),O=_+(R^N^b)+T[14]+4259657740&4294967295,_=R+(O<<23&4294967295|O>>>9),O=b+(_^R^N)+T[1]+2763975236&4294967295,b=_+(O<<4&4294967295|O>>>28),O=N+(b^_^R)+T[4]+1272893353&4294967295,N=b+(O<<11&4294967295|O>>>21),O=R+(N^b^_)+T[7]+4139469664&4294967295,R=N+(O<<16&4294967295|O>>>16),O=_+(R^N^b)+T[10]+3200236656&4294967295,_=R+(O<<23&4294967295|O>>>9),O=b+(_^R^N)+T[13]+681279174&4294967295,b=_+(O<<4&4294967295|O>>>28),O=N+(b^_^R)+T[0]+3936430074&4294967295,N=b+(O<<11&4294967295|O>>>21),O=R+(N^b^_)+T[3]+3572445317&4294967295,R=N+(O<<16&4294967295|O>>>16),O=_+(R^N^b)+T[6]+76029189&4294967295,_=R+(O<<23&4294967295|O>>>9),O=b+(_^R^N)+T[9]+3654602809&4294967295,b=_+(O<<4&4294967295|O>>>28),O=N+(b^_^R)+T[12]+3873151461&4294967295,N=b+(O<<11&4294967295|O>>>21),O=R+(N^b^_)+T[15]+530742520&4294967295,R=N+(O<<16&4294967295|O>>>16),O=_+(R^N^b)+T[2]+3299628645&4294967295,_=R+(O<<23&4294967295|O>>>9),O=b+(R^(_|~N))+T[0]+4096336452&4294967295,b=_+(O<<6&4294967295|O>>>26),O=N+(_^(b|~R))+T[7]+1126891415&4294967295,N=b+(O<<10&4294967295|O>>>22),O=R+(b^(N|~_))+T[14]+2878612391&4294967295,R=N+(O<<15&4294967295|O>>>17),O=_+(N^(R|~b))+T[5]+4237533241&4294967295,_=R+(O<<21&4294967295|O>>>11),O=b+(R^(_|~N))+T[12]+1700485571&4294967295,b=_+(O<<6&4294967295|O>>>26),O=N+(_^(b|~R))+T[3]+2399980690&4294967295,N=b+(O<<10&4294967295|O>>>22),O=R+(b^(N|~_))+T[10]+4293915773&4294967295,R=N+(O<<15&4294967295|O>>>17),O=_+(N^(R|~b))+T[1]+2240044497&4294967295,_=R+(O<<21&4294967295|O>>>11),O=b+(R^(_|~N))+T[8]+1873313359&4294967295,b=_+(O<<6&4294967295|O>>>26),O=N+(_^(b|~R))+T[15]+4264355552&4294967295,N=b+(O<<10&4294967295|O>>>22),O=R+(b^(N|~_))+T[6]+2734768916&4294967295,R=N+(O<<15&4294967295|O>>>17),O=_+(N^(R|~b))+T[13]+1309151649&4294967295,_=R+(O<<21&4294967295|O>>>11),O=b+(R^(_|~N))+T[4]+4149444226&4294967295,b=_+(O<<6&4294967295|O>>>26),O=N+(_^(b|~R))+T[11]+3174756917&4294967295,N=b+(O<<10&4294967295|O>>>22),O=R+(b^(N|~_))+T[2]+718787259&4294967295,R=N+(O<<15&4294967295|O>>>17),O=_+(N^(R|~b))+T[9]+3951481745&4294967295,I.g[0]=I.g[0]+b&4294967295,I.g[1]=I.g[1]+(R+(O<<21&4294967295|O>>>11))&4294967295,I.g[2]=I.g[2]+R&4294967295,I.g[3]=I.g[3]+N&4294967295}r.prototype.u=function(I,b){b===void 0&&(b=I.length);for(var _=b-this.blockSize,T=this.B,R=this.h,N=0;N<b;){if(R==0)for(;N<=_;)i(this,I,N),N+=this.blockSize;if(typeof I=="string"){for(;N<b;)if(T[R++]=I.charCodeAt(N++),R==this.blockSize){i(this,T),R=0;break}}else for(;N<b;)if(T[R++]=I[N++],R==this.blockSize){i(this,T),R=0;break}}this.h=R,this.o+=b},r.prototype.v=function(){var I=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);I[0]=128;for(var b=1;b<I.length-8;++b)I[b]=0;var _=8*this.o;for(b=I.length-8;b<I.length;++b)I[b]=_&255,_/=256;for(this.u(I),I=Array(16),b=_=0;4>b;++b)for(var T=0;32>T;T+=8)I[_++]=this.g[b]>>>T&255;return I};function s(I,b){var _=a;return Object.prototype.hasOwnProperty.call(_,I)?_[I]:_[I]=b(I)}function o(I,b){this.h=b;for(var _=[],T=!0,R=I.length-1;0<=R;R--){var N=I[R]|0;T&&N==b||(_[R]=N,T=!1)}this.g=_}var a={};function l(I){return-128<=I&&128>I?s(I,function(b){return new o([b|0],0>b?-1:0)}):new o([I|0],0>I?-1:0)}function u(I){if(isNaN(I)||!isFinite(I))return d;if(0>I)return y(u(-I));for(var b=[],_=1,T=0;I>=_;T++)b[T]=I/_|0,_*=4294967296;return new o(b,0)}function c(I,b){if(I.length==0)throw Error("number format error: empty string");if(b=b||10,2>b||36<b)throw Error("radix out of range: "+b);if(I.charAt(0)=="-")return y(c(I.substring(1),b));if(0<=I.indexOf("-"))throw Error('number format error: interior "-" character');for(var _=u(Math.pow(b,8)),T=d,R=0;R<I.length;R+=8){var N=Math.min(8,I.length-R),O=parseInt(I.substring(R,R+N),b);8>N?(N=u(Math.pow(b,N)),T=T.j(N).add(u(O))):(T=T.j(_),T=T.add(u(O)))}return T}var d=l(0),h=l(1),p=l(16777216);t=o.prototype,t.m=function(){if(g(this))return-y(this).m();for(var I=0,b=1,_=0;_<this.g.length;_++){var T=this.i(_);I+=(0<=T?T:4294967296+T)*b,b*=4294967296}return I},t.toString=function(I){if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(m(this))return"0";if(g(this))return"-"+y(this).toString(I);for(var b=u(Math.pow(I,6)),_=this,T="";;){var R=E(_,b).g;_=A(_,R.j(b));var N=((0<_.g.length?_.g[0]:_.h)>>>0).toString(I);if(_=R,m(_))return N+T;for(;6>N.length;)N="0"+N;T=N+T}},t.i=function(I){return 0>I?0:I<this.g.length?this.g[I]:this.h};function m(I){if(I.h!=0)return!1;for(var b=0;b<I.g.length;b++)if(I.g[b]!=0)return!1;return!0}function g(I){return I.h==-1}t.l=function(I){return I=A(this,I),g(I)?-1:m(I)?0:1};function y(I){for(var b=I.g.length,_=[],T=0;T<b;T++)_[T]=~I.g[T];return new o(_,~I.h).add(h)}t.abs=function(){return g(this)?y(this):this},t.add=function(I){for(var b=Math.max(this.g.length,I.g.length),_=[],T=0,R=0;R<=b;R++){var N=T+(this.i(R)&65535)+(I.i(R)&65535),O=(N>>>16)+(this.i(R)>>>16)+(I.i(R)>>>16);T=O>>>16,N&=65535,O&=65535,_[R]=O<<16|N}return new o(_,_[_.length-1]&-2147483648?-1:0)};function A(I,b){return I.add(y(b))}t.j=function(I){if(m(this)||m(I))return d;if(g(this))return g(I)?y(this).j(y(I)):y(y(this).j(I));if(g(I))return y(this.j(y(I)));if(0>this.l(p)&&0>I.l(p))return u(this.m()*I.m());for(var b=this.g.length+I.g.length,_=[],T=0;T<2*b;T++)_[T]=0;for(T=0;T<this.g.length;T++)for(var R=0;R<I.g.length;R++){var N=this.i(T)>>>16,O=this.i(T)&65535,j=I.i(R)>>>16,U=I.i(R)&65535;_[2*T+2*R]+=O*U,C(_,2*T+2*R),_[2*T+2*R+1]+=N*U,C(_,2*T+2*R+1),_[2*T+2*R+1]+=O*j,C(_,2*T+2*R+1),_[2*T+2*R+2]+=N*j,C(_,2*T+2*R+2)}for(T=0;T<b;T++)_[T]=_[2*T+1]<<16|_[2*T];for(T=b;T<2*b;T++)_[T]=0;return new o(_,0)};function C(I,b){for(;(I[b]&65535)!=I[b];)I[b+1]+=I[b]>>>16,I[b]&=65535,b++}function S(I,b){this.g=I,this.h=b}function E(I,b){if(m(b))throw Error("division by zero");if(m(I))return new S(d,d);if(g(I))return b=E(y(I),b),new S(y(b.g),y(b.h));if(g(b))return b=E(I,y(b)),new S(y(b.g),b.h);if(30<I.g.length){if(g(I)||g(b))throw Error("slowDivide_ only works with positive integers.");for(var _=h,T=b;0>=T.l(I);)_=k(_),T=k(T);var R=x(_,1),N=x(T,1);for(T=x(T,2),_=x(_,2);!m(T);){var O=N.add(T);0>=O.l(I)&&(R=R.add(_),N=O),T=x(T,1),_=x(_,1)}return b=A(I,R.j(b)),new S(R,b)}for(R=d;0<=I.l(b);){for(_=Math.max(1,Math.floor(I.m()/b.m())),T=Math.ceil(Math.log(_)/Math.LN2),T=48>=T?1:Math.pow(2,T-48),N=u(_),O=N.j(b);g(O)||0<O.l(I);)_-=T,N=u(_),O=N.j(b);m(N)&&(N=h),R=R.add(N),I=A(I,O)}return new S(R,I)}t.A=function(I){return E(this,I).h},t.and=function(I){for(var b=Math.max(this.g.length,I.g.length),_=[],T=0;T<b;T++)_[T]=this.i(T)&I.i(T);return new o(_,this.h&I.h)},t.or=function(I){for(var b=Math.max(this.g.length,I.g.length),_=[],T=0;T<b;T++)_[T]=this.i(T)|I.i(T);return new o(_,this.h|I.h)},t.xor=function(I){for(var b=Math.max(this.g.length,I.g.length),_=[],T=0;T<b;T++)_[T]=this.i(T)^I.i(T);return new o(_,this.h^I.h)};function k(I){for(var b=I.g.length+1,_=[],T=0;T<b;T++)_[T]=I.i(T)<<1|I.i(T-1)>>>31;return new o(_,I.h)}function x(I,b){var _=b>>5;b%=32;for(var T=I.g.length-_,R=[],N=0;N<T;N++)R[N]=0<b?I.i(N+_)>>>b|I.i(N+_+1)<<32-b:I.i(N+_);return new o(R,I.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,Ix=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=u,o.fromString=c,pl=o}).apply(typeof ZS<"u"?ZS:typeof self<"u"?self:typeof window<"u"?window:{});var pp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Cx,Ax,Sd,Px,jp,a0,Ox,kx,Rx;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(f,w,M){return f==Array.prototype||f==Object.prototype||(f[w]=M.value),f};function n(f){f=[typeof globalThis=="object"&&globalThis,f,typeof window=="object"&&window,typeof self=="object"&&self,typeof pp=="object"&&pp];for(var w=0;w<f.length;++w){var M=f[w];if(M&&M.Math==Math)return M}throw Error("Cannot find global object")}var r=n(this);function i(f,w){if(w)e:{var M=r;f=f.split(".");for(var F=0;F<f.length-1;F++){var de=f[F];if(!(de in M))break e;M=M[de]}f=f[f.length-1],F=M[f],w=w(F),w!=F&&w!=null&&e(M,f,{configurable:!0,writable:!0,value:w})}}function s(f,w){f instanceof String&&(f+="");var M=0,F=!1,de={next:function(){if(!F&&M<f.length){var ye=M++;return{value:w(ye,f[ye]),done:!1}}return F=!0,{done:!0,value:void 0}}};return de[Symbol.iterator]=function(){return de},de}i("Array.prototype.values",function(f){return f||function(){return s(this,function(w,M){return M})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function l(f){var w=typeof f;return w=w!="object"?w:f?Array.isArray(f)?"array":w:"null",w=="array"||w=="object"&&typeof f.length=="number"}function u(f){var w=typeof f;return w=="object"&&f!=null||w=="function"}function c(f,w,M){return f.call.apply(f.bind,arguments)}function d(f,w,M){if(!f)throw Error();if(2<arguments.length){var F=Array.prototype.slice.call(arguments,2);return function(){var de=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(de,F),f.apply(w,de)}}return function(){return f.apply(w,arguments)}}function h(f,w,M){return h=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?c:d,h.apply(null,arguments)}function p(f,w){var M=Array.prototype.slice.call(arguments,1);return function(){var F=M.slice();return F.push.apply(F,arguments),f.apply(this,F)}}function m(f,w){function M(){}M.prototype=w.prototype,f.aa=w.prototype,f.prototype=new M,f.prototype.constructor=f,f.Qb=function(F,de,ye){for(var Be=Array(arguments.length-2),hn=2;hn<arguments.length;hn++)Be[hn-2]=arguments[hn];return w.prototype[de].apply(F,Be)}}function g(f){const w=f.length;if(0<w){const M=Array(w);for(let F=0;F<w;F++)M[F]=f[F];return M}return[]}function y(f,w){for(let M=1;M<arguments.length;M++){const F=arguments[M];if(l(F)){const de=f.length||0,ye=F.length||0;f.length=de+ye;for(let Be=0;Be<ye;Be++)f[de+Be]=F[Be]}else f.push(F)}}class A{constructor(w,M){this.i=w,this.j=M,this.h=0,this.g=null}get(){let w;return 0<this.h?(this.h--,w=this.g,this.g=w.next,w.next=null):w=this.i(),w}}function C(f){return/^[\s\xa0]*$/.test(f)}function S(){var f=a.navigator;return f&&(f=f.userAgent)?f:""}function E(f){return E[" "](f),f}E[" "]=function(){};var k=S().indexOf("Gecko")!=-1&&!(S().toLowerCase().indexOf("webkit")!=-1&&S().indexOf("Edge")==-1)&&!(S().indexOf("Trident")!=-1||S().indexOf("MSIE")!=-1)&&S().indexOf("Edge")==-1;function x(f,w,M){for(const F in f)w.call(M,f[F],F,f)}function I(f,w){for(const M in f)w.call(void 0,f[M],M,f)}function b(f){const w={};for(const M in f)w[M]=f[M];return w}const _="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function T(f,w){let M,F;for(let de=1;de<arguments.length;de++){F=arguments[de];for(M in F)f[M]=F[M];for(let ye=0;ye<_.length;ye++)M=_[ye],Object.prototype.hasOwnProperty.call(F,M)&&(f[M]=F[M])}}function R(f){var w=1;f=f.split(":");const M=[];for(;0<w&&f.length;)M.push(f.shift()),w--;return f.length&&M.push(f.join(":")),M}function N(f){a.setTimeout(()=>{throw f},0)}function O(){var f=z;let w=null;return f.g&&(w=f.g,f.g=f.g.next,f.g||(f.h=null),w.next=null),w}class j{constructor(){this.h=this.g=null}add(w,M){const F=U.get();F.set(w,M),this.h?this.h.next=F:this.g=F,this.h=F}}var U=new A(()=>new $,f=>f.reset());class ${constructor(){this.next=this.g=this.h=null}set(w,M){this.h=w,this.g=M,this.next=null}reset(){this.next=this.g=this.h=null}}let B,te=!1,z=new j,V=()=>{const f=a.Promise.resolve(void 0);B=()=>{f.then(ce)}};var ce=()=>{for(var f;f=O();){try{f.h.call(f.g)}catch(M){N(M)}var w=U;w.j(f),100>w.h&&(w.h++,f.next=w.g,w.g=f)}te=!1};function le(){this.s=this.s,this.C=this.C}le.prototype.s=!1,le.prototype.ma=function(){this.s||(this.s=!0,this.N())},le.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ve(f,w){this.type=f,this.g=this.target=w,this.defaultPrevented=!1}ve.prototype.h=function(){this.defaultPrevented=!0};var Se=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var f=!1,w=Object.defineProperty({},"passive",{get:function(){f=!0}});try{const M=()=>{};a.addEventListener("test",M,w),a.removeEventListener("test",M,w)}catch{}return f}();function he(f,w){if(ve.call(this,f?f.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,f){var M=this.type=f.type,F=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;if(this.target=f.target||f.srcElement,this.g=w,w=f.relatedTarget){if(k){e:{try{E(w.nodeName);var de=!0;break e}catch{}de=!1}de||(w=null)}}else M=="mouseover"?w=f.fromElement:M=="mouseout"&&(w=f.toElement);this.relatedTarget=w,F?(this.clientX=F.clientX!==void 0?F.clientX:F.pageX,this.clientY=F.clientY!==void 0?F.clientY:F.pageY,this.screenX=F.screenX||0,this.screenY=F.screenY||0):(this.clientX=f.clientX!==void 0?f.clientX:f.pageX,this.clientY=f.clientY!==void 0?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType=typeof f.pointerType=="string"?f.pointerType:Y[f.pointerType]||"",this.state=f.state,this.i=f,f.defaultPrevented&&he.aa.h.call(this)}}m(he,ve);var Y={2:"touch",3:"pen",4:"mouse"};he.prototype.h=function(){he.aa.h.call(this);var f=this.i;f.preventDefault?f.preventDefault():f.returnValue=!1};var ne="closure_listenable_"+(1e6*Math.random()|0),pe=0;function oe(f,w,M,F,de){this.listener=f,this.proxy=null,this.src=w,this.type=M,this.capture=!!F,this.ha=de,this.key=++pe,this.da=this.fa=!1}function we(f){f.da=!0,f.listener=null,f.proxy=null,f.src=null,f.ha=null}function Ce(f){this.src=f,this.g={},this.h=0}Ce.prototype.add=function(f,w,M,F,de){var ye=f.toString();f=this.g[ye],f||(f=this.g[ye]=[],this.h++);var Be=L(f,w,F,de);return-1<Be?(w=f[Be],M||(w.fa=!1)):(w=new oe(w,this.src,ye,!!F,de),w.fa=M,f.push(w)),w};function fe(f,w){var M=w.type;if(M in f.g){var F=f.g[M],de=Array.prototype.indexOf.call(F,w,void 0),ye;(ye=0<=de)&&Array.prototype.splice.call(F,de,1),ye&&(we(w),f.g[M].length==0&&(delete f.g[M],f.h--))}}function L(f,w,M,F){for(var de=0;de<f.length;++de){var ye=f[de];if(!ye.da&&ye.listener==w&&ye.capture==!!M&&ye.ha==F)return de}return-1}var W="closure_lm_"+(1e6*Math.random()|0),Q={};function me(f,w,M,F,de){if(F&&F.once)return $e(f,w,M,F,de);if(Array.isArray(w)){for(var ye=0;ye<w.length;ye++)me(f,w[ye],M,F,de);return null}return M=lt(M),f&&f[ne]?f.K(w,M,u(F)?!!F.capture:!!F,de):ge(f,w,M,!1,F,de)}function ge(f,w,M,F,de,ye){if(!w)throw Error("Invalid event type");var Be=u(de)?!!de.capture:!!de,hn=We(f);if(hn||(f[W]=hn=new Ce(f)),M=hn.add(w,M,F,Be,ye),M.proxy)return M;if(F=Ae(),M.proxy=F,F.src=f,F.listener=M,f.addEventListener)Se||(de=Be),de===void 0&&(de=!1),f.addEventListener(w.toString(),F,de);else if(f.attachEvent)f.attachEvent(Ie(w.toString()),F);else if(f.addListener&&f.removeListener)f.addListener(F);else throw Error("addEventListener and attachEvent are unavailable.");return M}function Ae(){function f(M){return w.call(f.src,f.listener,M)}const w=He;return f}function $e(f,w,M,F,de){if(Array.isArray(w)){for(var ye=0;ye<w.length;ye++)$e(f,w[ye],M,F,de);return null}return M=lt(M),f&&f[ne]?f.L(w,M,u(F)?!!F.capture:!!F,de):ge(f,w,M,!0,F,de)}function ke(f,w,M,F,de){if(Array.isArray(w))for(var ye=0;ye<w.length;ye++)ke(f,w[ye],M,F,de);else F=u(F)?!!F.capture:!!F,M=lt(M),f&&f[ne]?(f=f.i,w=String(w).toString(),w in f.g&&(ye=f.g[w],M=L(ye,M,F,de),-1<M&&(we(ye[M]),Array.prototype.splice.call(ye,M,1),ye.length==0&&(delete f.g[w],f.h--)))):f&&(f=We(f))&&(w=f.g[w.toString()],f=-1,w&&(f=L(w,M,F,de)),(M=-1<f?w[f]:null)&&De(M))}function De(f){if(typeof f!="number"&&f&&!f.da){var w=f.src;if(w&&w[ne])fe(w.i,f);else{var M=f.type,F=f.proxy;w.removeEventListener?w.removeEventListener(M,F,f.capture):w.detachEvent?w.detachEvent(Ie(M),F):w.addListener&&w.removeListener&&w.removeListener(F),(M=We(w))?(fe(M,f),M.h==0&&(M.src=null,w[W]=null)):we(f)}}}function Ie(f){return f in Q?Q[f]:Q[f]="on"+f}function He(f,w){if(f.da)f=!0;else{w=new he(w,this);var M=f.listener,F=f.ha||f.src;f.fa&&De(f),f=M.call(F,w)}return f}function We(f){return f=f[W],f instanceof Ce?f:null}var Xe="__closure_events_fn_"+(1e9*Math.random()>>>0);function lt(f){return typeof f=="function"?f:(f[Xe]||(f[Xe]=function(w){return f.handleEvent(w)}),f[Xe])}function tt(){le.call(this),this.i=new Ce(this),this.M=this,this.F=null}m(tt,le),tt.prototype[ne]=!0,tt.prototype.removeEventListener=function(f,w,M,F){ke(this,f,w,M,F)};function re(f,w){var M,F=f.F;if(F)for(M=[];F;F=F.F)M.push(F);if(f=f.M,F=w.type||w,typeof w=="string")w=new ve(w,f);else if(w instanceof ve)w.target=w.target||f;else{var de=w;w=new ve(F,f),T(w,de)}if(de=!0,M)for(var ye=M.length-1;0<=ye;ye--){var Be=w.g=M[ye];de=G(Be,F,!0,w)&&de}if(Be=w.g=f,de=G(Be,F,!0,w)&&de,de=G(Be,F,!1,w)&&de,M)for(ye=0;ye<M.length;ye++)Be=w.g=M[ye],de=G(Be,F,!1,w)&&de}tt.prototype.N=function(){if(tt.aa.N.call(this),this.i){var f=this.i,w;for(w in f.g){for(var M=f.g[w],F=0;F<M.length;F++)we(M[F]);delete f.g[w],f.h--}}this.F=null},tt.prototype.K=function(f,w,M,F){return this.i.add(String(f),w,!1,M,F)},tt.prototype.L=function(f,w,M,F){return this.i.add(String(f),w,!0,M,F)};function G(f,w,M,F){if(w=f.i.g[String(w)],!w)return!0;w=w.concat();for(var de=!0,ye=0;ye<w.length;++ye){var Be=w[ye];if(Be&&!Be.da&&Be.capture==M){var hn=Be.listener,Or=Be.ha||Be.src;Be.fa&&fe(f.i,Be),de=hn.call(Or,F)!==!1&&de}}return de&&!F.defaultPrevented}function Z(f,w,M){if(typeof f=="function")M&&(f=h(f,M));else if(f&&typeof f.handleEvent=="function")f=h(f.handleEvent,f);else throw Error("Invalid listener argument");return 2147483647<Number(w)?-1:a.setTimeout(f,w||0)}function ue(f){f.g=Z(()=>{f.g=null,f.i&&(f.i=!1,ue(f))},f.l);const w=f.h;f.h=null,f.m.apply(null,w)}class be extends le{constructor(w,M){super(),this.m=w,this.l=M,this.h=null,this.i=!1,this.g=null}j(w){this.h=arguments,this.g?this.i=!0:ue(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function qe(f){le.call(this),this.h=f,this.g={}}m(qe,le);var nt=[];function Te(f){x(f.g,function(w,M){this.g.hasOwnProperty(M)&&De(w)},f),f.g={}}qe.prototype.N=function(){qe.aa.N.call(this),Te(this)},qe.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ne=a.JSON.stringify,Ue=a.JSON.parse,rt=class{stringify(f){return a.JSON.stringify(f,void 0)}parse(f){return a.JSON.parse(f,void 0)}};function Ye(){}Ye.prototype.h=null;function ut(f){return f.h||(f.h=f.i())}function Pt(){}var It={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function _r(){ve.call(this,"d")}m(_r,ve);function qa(){ve.call(this,"c")}m(qa,ve);var eo={},Ba=null;function $f(){return Ba=Ba||new tt}eo.La="serverreachability";function NT(f){ve.call(this,eo.La,f)}m(NT,ve);function Bc(f){const w=$f();re(w,new NT(w))}eo.STAT_EVENT="statevent";function MT(f,w){ve.call(this,eo.STAT_EVENT,f),this.stat=w}m(MT,ve);function ai(f){const w=$f();re(w,new MT(w,f))}eo.Ma="timingevent";function LT(f,w){ve.call(this,eo.Ma,f),this.size=w}m(LT,ve);function jc(f,w){if(typeof f!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){f()},w)}function Hc(){this.g=!0}Hc.prototype.xa=function(){this.g=!1};function cV(f,w,M,F,de,ye){f.info(function(){if(f.g)if(ye)for(var Be="",hn=ye.split("&"),Or=0;Or<hn.length;Or++){var Qt=hn[Or].split("=");if(1<Qt.length){var qr=Qt[0];Qt=Qt[1];var Br=qr.split("_");Be=2<=Br.length&&Br[1]=="type"?Be+(qr+"="+Qt+"&"):Be+(qr+"=redacted&")}}else Be=null;else Be=ye;return"XMLHTTP REQ ("+F+") [attempt "+de+"]: "+w+`
`+M+`
`+Be})}function dV(f,w,M,F,de,ye,Be){f.info(function(){return"XMLHTTP RESP ("+F+") [ attempt "+de+"]: "+w+`
`+M+`
`+ye+" "+Be})}function Xl(f,w,M,F){f.info(function(){return"XMLHTTP TEXT ("+w+"): "+fV(f,M)+(F?" "+F:"")})}function hV(f,w){f.info(function(){return"TIMEOUT: "+w})}Hc.prototype.info=function(){};function fV(f,w){if(!f.g)return w;if(!w)return null;try{var M=JSON.parse(w);if(M){for(f=0;f<M.length;f++)if(Array.isArray(M[f])){var F=M[f];if(!(2>F.length)){var de=F[1];if(Array.isArray(de)&&!(1>de.length)){var ye=de[0];if(ye!="noop"&&ye!="stop"&&ye!="close")for(var Be=1;Be<de.length;Be++)de[Be]=""}}}}return Ne(M)}catch{return w}}var Ff={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},VT={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},jv;function Uf(){}m(Uf,Ye),Uf.prototype.g=function(){return new XMLHttpRequest},Uf.prototype.i=function(){return{}},jv=new Uf;function No(f,w,M,F){this.j=f,this.i=w,this.l=M,this.R=F||1,this.U=new qe(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new $T}function $T(){this.i=null,this.g="",this.h=!1}var FT={},Hv={};function Wv(f,w,M){f.L=1,f.v=Hf(to(w)),f.m=M,f.P=!0,UT(f,null)}function UT(f,w){f.F=Date.now(),qf(f),f.A=to(f.v);var M=f.A,F=f.R;Array.isArray(F)||(F=[String(F)]),eE(M.i,"t",F),f.C=0,M=f.j.J,f.h=new $T,f.g=yE(f.j,M?w:null,!f.m),0<f.O&&(f.M=new be(h(f.Y,f,f.g),f.O)),w=f.U,M=f.g,F=f.ca;var de="readystatechange";Array.isArray(de)||(de&&(nt[0]=de.toString()),de=nt);for(var ye=0;ye<de.length;ye++){var Be=me(M,de[ye],F||w.handleEvent,!1,w.h||w);if(!Be)break;w.g[Be.key]=Be}w=f.H?b(f.H):{},f.m?(f.u||(f.u="POST"),w["Content-Type"]="application/x-www-form-urlencoded",f.g.ea(f.A,f.u,f.m,w)):(f.u="GET",f.g.ea(f.A,f.u,null,w)),Bc(),cV(f.i,f.u,f.A,f.l,f.R,f.m)}No.prototype.ca=function(f){f=f.target;const w=this.M;w&&no(f)==3?w.j():this.Y(f)},No.prototype.Y=function(f){try{if(f==this.g)e:{const Br=no(this.g);var w=this.g.Ba();const eu=this.g.Z();if(!(3>Br)&&(Br!=3||this.g&&(this.h.h||this.g.oa()||aE(this.g)))){this.J||Br!=4||w==7||(w==8||0>=eu?Bc(3):Bc(2)),zv(this);var M=this.g.Z();this.X=M;t:if(qT(this)){var F=aE(this.g);f="";var de=F.length,ye=no(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){ja(this),Wc(this);var Be="";break t}this.h.i=new a.TextDecoder}for(w=0;w<de;w++)this.h.h=!0,f+=this.h.i.decode(F[w],{stream:!(ye&&w==de-1)});F.length=0,this.h.g+=f,this.C=0,Be=this.h.g}else Be=this.g.oa();if(this.o=M==200,dV(this.i,this.u,this.A,this.l,this.R,Br,M),this.o){if(this.T&&!this.K){t:{if(this.g){var hn,Or=this.g;if((hn=Or.g?Or.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!C(hn)){var Qt=hn;break t}}Qt=null}if(M=Qt)Xl(this.i,this.l,M,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Kv(this,M);else{this.o=!1,this.s=3,ai(12),ja(this),Wc(this);break e}}if(this.P){M=!0;let is;for(;!this.J&&this.C<Be.length;)if(is=pV(this,Be),is==Hv){Br==4&&(this.s=4,ai(14),M=!1),Xl(this.i,this.l,null,"[Incomplete Response]");break}else if(is==FT){this.s=4,ai(15),Xl(this.i,this.l,Be,"[Invalid Chunk]"),M=!1;break}else Xl(this.i,this.l,is,null),Kv(this,is);if(qT(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Br!=4||Be.length!=0||this.h.h||(this.s=1,ai(16),M=!1),this.o=this.o&&M,!M)Xl(this.i,this.l,Be,"[Invalid Chunked Response]"),ja(this),Wc(this);else if(0<Be.length&&!this.W){this.W=!0;var qr=this.j;qr.g==this&&qr.ba&&!qr.M&&(qr.j.info("Great, no buffering proxy detected. Bytes received: "+Be.length),Zv(qr),qr.M=!0,ai(11))}}else Xl(this.i,this.l,Be,null),Kv(this,Be);Br==4&&ja(this),this.o&&!this.J&&(Br==4?pE(this.j,this):(this.o=!1,qf(this)))}else RV(this.g),M==400&&0<Be.indexOf("Unknown SID")?(this.s=3,ai(12)):(this.s=0,ai(13)),ja(this),Wc(this)}}}catch{}finally{}};function qT(f){return f.g?f.u=="GET"&&f.L!=2&&f.j.Ca:!1}function pV(f,w){var M=f.C,F=w.indexOf(`
`,M);return F==-1?Hv:(M=Number(w.substring(M,F)),isNaN(M)?FT:(F+=1,F+M>w.length?Hv:(w=w.slice(F,F+M),f.C=F+M,w)))}No.prototype.cancel=function(){this.J=!0,ja(this)};function qf(f){f.S=Date.now()+f.I,BT(f,f.I)}function BT(f,w){if(f.B!=null)throw Error("WatchDog timer not null");f.B=jc(h(f.ba,f),w)}function zv(f){f.B&&(a.clearTimeout(f.B),f.B=null)}No.prototype.ba=function(){this.B=null;const f=Date.now();0<=f-this.S?(hV(this.i,this.A),this.L!=2&&(Bc(),ai(17)),ja(this),this.s=2,Wc(this)):BT(this,this.S-f)};function Wc(f){f.j.G==0||f.J||pE(f.j,f)}function ja(f){zv(f);var w=f.M;w&&typeof w.ma=="function"&&w.ma(),f.M=null,Te(f.U),f.g&&(w=f.g,f.g=null,w.abort(),w.ma())}function Kv(f,w){try{var M=f.j;if(M.G!=0&&(M.g==f||Gv(M.h,f))){if(!f.K&&Gv(M.h,f)&&M.G==3){try{var F=M.Da.g.parse(w)}catch{F=null}if(Array.isArray(F)&&F.length==3){var de=F;if(de[0]==0){e:if(!M.u){if(M.g)if(M.g.F+3e3<f.F)Yf(M),Kf(M);else break e;Jv(M),ai(18)}}else M.za=de[1],0<M.za-M.T&&37500>de[2]&&M.F&&M.v==0&&!M.C&&(M.C=jc(h(M.Za,M),6e3));if(1>=WT(M.h)&&M.ca){try{M.ca()}catch{}M.ca=void 0}}else Wa(M,11)}else if((f.K||M.g==f)&&Yf(M),!C(w))for(de=M.Da.g.parse(w),w=0;w<de.length;w++){let Qt=de[w];if(M.T=Qt[0],Qt=Qt[1],M.G==2)if(Qt[0]=="c"){M.K=Qt[1],M.ia=Qt[2];const qr=Qt[3];qr!=null&&(M.la=qr,M.j.info("VER="+M.la));const Br=Qt[4];Br!=null&&(M.Aa=Br,M.j.info("SVER="+M.Aa));const eu=Qt[5];eu!=null&&typeof eu=="number"&&0<eu&&(F=1.5*eu,M.L=F,M.j.info("backChannelRequestTimeoutMs_="+F)),F=M;const is=f.g;if(is){const Xf=is.g?is.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Xf){var ye=F.h;ye.g||Xf.indexOf("spdy")==-1&&Xf.indexOf("quic")==-1&&Xf.indexOf("h2")==-1||(ye.j=ye.l,ye.g=new Set,ye.h&&(Yv(ye,ye.h),ye.h=null))}if(F.D){const ey=is.g?is.g.getResponseHeader("X-HTTP-Session-Id"):null;ey&&(F.ya=ey,Tn(F.I,F.D,ey))}}M.G=3,M.l&&M.l.ua(),M.ba&&(M.R=Date.now()-f.F,M.j.info("Handshake RTT: "+M.R+"ms")),F=M;var Be=f;if(F.qa=vE(F,F.J?F.ia:null,F.W),Be.K){zT(F.h,Be);var hn=Be,Or=F.L;Or&&(hn.I=Or),hn.B&&(zv(hn),qf(hn)),F.g=Be}else hE(F);0<M.i.length&&Gf(M)}else Qt[0]!="stop"&&Qt[0]!="close"||Wa(M,7);else M.G==3&&(Qt[0]=="stop"||Qt[0]=="close"?Qt[0]=="stop"?Wa(M,7):Xv(M):Qt[0]!="noop"&&M.l&&M.l.ta(Qt),M.v=0)}}Bc(4)}catch{}}var mV=class{constructor(f,w){this.g=f,this.map=w}};function jT(f){this.l=f||10,a.PerformanceNavigationTiming?(f=a.performance.getEntriesByType("navigation"),f=0<f.length&&(f[0].nextHopProtocol=="hq"||f[0].nextHopProtocol=="h2")):f=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=f?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function HT(f){return f.h?!0:f.g?f.g.size>=f.j:!1}function WT(f){return f.h?1:f.g?f.g.size:0}function Gv(f,w){return f.h?f.h==w:f.g?f.g.has(w):!1}function Yv(f,w){f.g?f.g.add(w):f.h=w}function zT(f,w){f.h&&f.h==w?f.h=null:f.g&&f.g.has(w)&&f.g.delete(w)}jT.prototype.cancel=function(){if(this.i=KT(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const f of this.g.values())f.cancel();this.g.clear()}};function KT(f){if(f.h!=null)return f.i.concat(f.h.D);if(f.g!=null&&f.g.size!==0){let w=f.i;for(const M of f.g.values())w=w.concat(M.D);return w}return g(f.i)}function gV(f){if(f.V&&typeof f.V=="function")return f.V();if(typeof Map<"u"&&f instanceof Map||typeof Set<"u"&&f instanceof Set)return Array.from(f.values());if(typeof f=="string")return f.split("");if(l(f)){for(var w=[],M=f.length,F=0;F<M;F++)w.push(f[F]);return w}w=[],M=0;for(F in f)w[M++]=f[F];return w}function vV(f){if(f.na&&typeof f.na=="function")return f.na();if(!f.V||typeof f.V!="function"){if(typeof Map<"u"&&f instanceof Map)return Array.from(f.keys());if(!(typeof Set<"u"&&f instanceof Set)){if(l(f)||typeof f=="string"){var w=[];f=f.length;for(var M=0;M<f;M++)w.push(M);return w}w=[],M=0;for(const F in f)w[M++]=F;return w}}}function GT(f,w){if(f.forEach&&typeof f.forEach=="function")f.forEach(w,void 0);else if(l(f)||typeof f=="string")Array.prototype.forEach.call(f,w,void 0);else for(var M=vV(f),F=gV(f),de=F.length,ye=0;ye<de;ye++)w.call(void 0,F[ye],M&&M[ye],f)}var YT=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function yV(f,w){if(f){f=f.split("&");for(var M=0;M<f.length;M++){var F=f[M].indexOf("="),de=null;if(0<=F){var ye=f[M].substring(0,F);de=f[M].substring(F+1)}else ye=f[M];w(ye,de?decodeURIComponent(de.replace(/\+/g," ")):"")}}}function Ha(f){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,f instanceof Ha){this.h=f.h,Bf(this,f.j),this.o=f.o,this.g=f.g,jf(this,f.s),this.l=f.l;var w=f.i,M=new Gc;M.i=w.i,w.g&&(M.g=new Map(w.g),M.h=w.h),QT(this,M),this.m=f.m}else f&&(w=String(f).match(YT))?(this.h=!1,Bf(this,w[1]||"",!0),this.o=zc(w[2]||""),this.g=zc(w[3]||"",!0),jf(this,w[4]),this.l=zc(w[5]||"",!0),QT(this,w[6]||"",!0),this.m=zc(w[7]||"")):(this.h=!1,this.i=new Gc(null,this.h))}Ha.prototype.toString=function(){var f=[],w=this.j;w&&f.push(Kc(w,XT,!0),":");var M=this.g;return(M||w=="file")&&(f.push("//"),(w=this.o)&&f.push(Kc(w,XT,!0),"@"),f.push(encodeURIComponent(String(M)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),M=this.s,M!=null&&f.push(":",String(M))),(M=this.l)&&(this.g&&M.charAt(0)!="/"&&f.push("/"),f.push(Kc(M,M.charAt(0)=="/"?wV:_V,!0))),(M=this.i.toString())&&f.push("?",M),(M=this.m)&&f.push("#",Kc(M,EV)),f.join("")};function to(f){return new Ha(f)}function Bf(f,w,M){f.j=M?zc(w,!0):w,f.j&&(f.j=f.j.replace(/:$/,""))}function jf(f,w){if(w){if(w=Number(w),isNaN(w)||0>w)throw Error("Bad port number "+w);f.s=w}else f.s=null}function QT(f,w,M){w instanceof Gc?(f.i=w,SV(f.i,f.h)):(M||(w=Kc(w,TV)),f.i=new Gc(w,f.h))}function Tn(f,w,M){f.i.set(w,M)}function Hf(f){return Tn(f,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),f}function zc(f,w){return f?w?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function Kc(f,w,M){return typeof f=="string"?(f=encodeURI(f).replace(w,bV),M&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function bV(f){return f=f.charCodeAt(0),"%"+(f>>4&15).toString(16)+(f&15).toString(16)}var XT=/[#\/\?@]/g,_V=/[#\?:]/g,wV=/[#\?]/g,TV=/[#\?@]/g,EV=/#/g;function Gc(f,w){this.h=this.g=null,this.i=f||null,this.j=!!w}function Mo(f){f.g||(f.g=new Map,f.h=0,f.i&&yV(f.i,function(w,M){f.add(decodeURIComponent(w.replace(/\+/g," ")),M)}))}t=Gc.prototype,t.add=function(f,w){Mo(this),this.i=null,f=Jl(this,f);var M=this.g.get(f);return M||this.g.set(f,M=[]),M.push(w),this.h+=1,this};function JT(f,w){Mo(f),w=Jl(f,w),f.g.has(w)&&(f.i=null,f.h-=f.g.get(w).length,f.g.delete(w))}function ZT(f,w){return Mo(f),w=Jl(f,w),f.g.has(w)}t.forEach=function(f,w){Mo(this),this.g.forEach(function(M,F){M.forEach(function(de){f.call(w,de,F,this)},this)},this)},t.na=function(){Mo(this);const f=Array.from(this.g.values()),w=Array.from(this.g.keys()),M=[];for(let F=0;F<w.length;F++){const de=f[F];for(let ye=0;ye<de.length;ye++)M.push(w[F])}return M},t.V=function(f){Mo(this);let w=[];if(typeof f=="string")ZT(this,f)&&(w=w.concat(this.g.get(Jl(this,f))));else{f=Array.from(this.g.values());for(let M=0;M<f.length;M++)w=w.concat(f[M])}return w},t.set=function(f,w){return Mo(this),this.i=null,f=Jl(this,f),ZT(this,f)&&(this.h-=this.g.get(f).length),this.g.set(f,[w]),this.h+=1,this},t.get=function(f,w){return f?(f=this.V(f),0<f.length?String(f[0]):w):w};function eE(f,w,M){JT(f,w),0<M.length&&(f.i=null,f.g.set(Jl(f,w),g(M)),f.h+=M.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const f=[],w=Array.from(this.g.keys());for(var M=0;M<w.length;M++){var F=w[M];const ye=encodeURIComponent(String(F)),Be=this.V(F);for(F=0;F<Be.length;F++){var de=ye;Be[F]!==""&&(de+="="+encodeURIComponent(String(Be[F]))),f.push(de)}}return this.i=f.join("&")};function Jl(f,w){return w=String(w),f.j&&(w=w.toLowerCase()),w}function SV(f,w){w&&!f.j&&(Mo(f),f.i=null,f.g.forEach(function(M,F){var de=F.toLowerCase();F!=de&&(JT(this,F),eE(this,de,M))},f)),f.j=w}function IV(f,w){const M=new Hc;if(a.Image){const F=new Image;F.onload=p(Lo,M,"TestLoadImage: loaded",!0,w,F),F.onerror=p(Lo,M,"TestLoadImage: error",!1,w,F),F.onabort=p(Lo,M,"TestLoadImage: abort",!1,w,F),F.ontimeout=p(Lo,M,"TestLoadImage: timeout",!1,w,F),a.setTimeout(function(){F.ontimeout&&F.ontimeout()},1e4),F.src=f}else w(!1)}function CV(f,w){const M=new Hc,F=new AbortController,de=setTimeout(()=>{F.abort(),Lo(M,"TestPingServer: timeout",!1,w)},1e4);fetch(f,{signal:F.signal}).then(ye=>{clearTimeout(de),ye.ok?Lo(M,"TestPingServer: ok",!0,w):Lo(M,"TestPingServer: server error",!1,w)}).catch(()=>{clearTimeout(de),Lo(M,"TestPingServer: error",!1,w)})}function Lo(f,w,M,F,de){try{de&&(de.onload=null,de.onerror=null,de.onabort=null,de.ontimeout=null),F(M)}catch{}}function AV(){this.g=new rt}function PV(f,w,M){const F=M||"";try{GT(f,function(de,ye){let Be=de;u(de)&&(Be=Ne(de)),w.push(F+ye+"="+encodeURIComponent(Be))})}catch(de){throw w.push(F+"type="+encodeURIComponent("_badmap")),de}}function Yc(f){this.l=f.Ub||null,this.j=f.eb||!1}m(Yc,Ye),Yc.prototype.g=function(){return new Wf(this.l,this.j)},Yc.prototype.i=function(f){return function(){return f}}({});function Wf(f,w){tt.call(this),this.D=f,this.o=w,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}m(Wf,tt),t=Wf.prototype,t.open=function(f,w){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=f,this.A=w,this.readyState=1,Xc(this)},t.send=function(f){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const w={headers:this.u,method:this.B,credentials:this.m,cache:void 0};f&&(w.body=f),(this.D||a).fetch(new Request(this.A,w)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Qc(this)),this.readyState=0},t.Sa=function(f){if(this.g&&(this.l=f,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=f.headers,this.readyState=2,Xc(this)),this.g&&(this.readyState=3,Xc(this),this.g)))if(this.responseType==="arraybuffer")f.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in f){if(this.j=f.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;tE(this)}else f.text().then(this.Ra.bind(this),this.ga.bind(this))};function tE(f){f.j.read().then(f.Pa.bind(f)).catch(f.ga.bind(f))}t.Pa=function(f){if(this.g){if(this.o&&f.value)this.response.push(f.value);else if(!this.o){var w=f.value?f.value:new Uint8Array(0);(w=this.v.decode(w,{stream:!f.done}))&&(this.response=this.responseText+=w)}f.done?Qc(this):Xc(this),this.readyState==3&&tE(this)}},t.Ra=function(f){this.g&&(this.response=this.responseText=f,Qc(this))},t.Qa=function(f){this.g&&(this.response=f,Qc(this))},t.ga=function(){this.g&&Qc(this)};function Qc(f){f.readyState=4,f.l=null,f.j=null,f.v=null,Xc(f)}t.setRequestHeader=function(f,w){this.u.append(f,w)},t.getResponseHeader=function(f){return this.h&&this.h.get(f.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const f=[],w=this.h.entries();for(var M=w.next();!M.done;)M=M.value,f.push(M[0]+": "+M[1]),M=w.next();return f.join(`\r
`)};function Xc(f){f.onreadystatechange&&f.onreadystatechange.call(f)}Object.defineProperty(Wf.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(f){this.m=f?"include":"same-origin"}});function nE(f){let w="";return x(f,function(M,F){w+=F,w+=":",w+=M,w+=`\r
`}),w}function Qv(f,w,M){e:{for(F in M){var F=!1;break e}F=!0}F||(M=nE(M),typeof f=="string"?M!=null&&encodeURIComponent(String(M)):Tn(f,w,M))}function zn(f){tt.call(this),this.headers=new Map,this.o=f||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}m(zn,tt);var OV=/^https?$/i,kV=["POST","PUT"];t=zn.prototype,t.Ha=function(f){this.J=f},t.ea=function(f,w,M,F){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+f);w=w?w.toUpperCase():"GET",this.D=f,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():jv.g(),this.v=this.o?ut(this.o):ut(jv),this.g.onreadystatechange=h(this.Ea,this);try{this.B=!0,this.g.open(w,String(f),!0),this.B=!1}catch(ye){rE(this,ye);return}if(f=M||"",M=new Map(this.headers),F)if(Object.getPrototypeOf(F)===Object.prototype)for(var de in F)M.set(de,F[de]);else if(typeof F.keys=="function"&&typeof F.get=="function")for(const ye of F.keys())M.set(ye,F.get(ye));else throw Error("Unknown input type for opt_headers: "+String(F));F=Array.from(M.keys()).find(ye=>ye.toLowerCase()=="content-type"),de=a.FormData&&f instanceof a.FormData,!(0<=Array.prototype.indexOf.call(kV,w,void 0))||F||de||M.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ye,Be]of M)this.g.setRequestHeader(ye,Be);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{oE(this),this.u=!0,this.g.send(f),this.u=!1}catch(ye){rE(this,ye)}};function rE(f,w){f.h=!1,f.g&&(f.j=!0,f.g.abort(),f.j=!1),f.l=w,f.m=5,iE(f),zf(f)}function iE(f){f.A||(f.A=!0,re(f,"complete"),re(f,"error"))}t.abort=function(f){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=f||7,re(this,"complete"),re(this,"abort"),zf(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),zf(this,!0)),zn.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?sE(this):this.bb())},t.bb=function(){sE(this)};function sE(f){if(f.h&&typeof o<"u"&&(!f.v[1]||no(f)!=4||f.Z()!=2)){if(f.u&&no(f)==4)Z(f.Ea,0,f);else if(re(f,"readystatechange"),no(f)==4){f.h=!1;try{const Be=f.Z();e:switch(Be){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var w=!0;break e;default:w=!1}var M;if(!(M=w)){var F;if(F=Be===0){var de=String(f.D).match(YT)[1]||null;!de&&a.self&&a.self.location&&(de=a.self.location.protocol.slice(0,-1)),F=!OV.test(de?de.toLowerCase():"")}M=F}if(M)re(f,"complete"),re(f,"success");else{f.m=6;try{var ye=2<no(f)?f.g.statusText:""}catch{ye=""}f.l=ye+" ["+f.Z()+"]",iE(f)}}finally{zf(f)}}}}function zf(f,w){if(f.g){oE(f);const M=f.g,F=f.v[0]?()=>{}:null;f.g=null,f.v=null,w||re(f,"ready");try{M.onreadystatechange=F}catch{}}}function oE(f){f.I&&(a.clearTimeout(f.I),f.I=null)}t.isActive=function(){return!!this.g};function no(f){return f.g?f.g.readyState:0}t.Z=function(){try{return 2<no(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(f){if(this.g){var w=this.g.responseText;return f&&w.indexOf(f)==0&&(w=w.substring(f.length)),Ue(w)}};function aE(f){try{if(!f.g)return null;if("response"in f.g)return f.g.response;switch(f.H){case"":case"text":return f.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in f.g)return f.g.mozResponseArrayBuffer}return null}catch{return null}}function RV(f){const w={};f=(f.g&&2<=no(f)&&f.g.getAllResponseHeaders()||"").split(`\r
`);for(let F=0;F<f.length;F++){if(C(f[F]))continue;var M=R(f[F]);const de=M[0];if(M=M[1],typeof M!="string")continue;M=M.trim();const ye=w[de]||[];w[de]=ye,ye.push(M)}I(w,function(F){return F.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Jc(f,w,M){return M&&M.internalChannelParams&&M.internalChannelParams[f]||w}function lE(f){this.Aa=0,this.i=[],this.j=new Hc,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Jc("failFast",!1,f),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Jc("baseRetryDelayMs",5e3,f),this.cb=Jc("retryDelaySeedMs",1e4,f),this.Wa=Jc("forwardChannelMaxRetries",2,f),this.wa=Jc("forwardChannelRequestTimeoutMs",2e4,f),this.pa=f&&f.xmlHttpFactory||void 0,this.Xa=f&&f.Tb||void 0,this.Ca=f&&f.useFetchStreams||!1,this.L=void 0,this.J=f&&f.supportsCrossDomainXhr||!1,this.K="",this.h=new jT(f&&f.concurrentRequestLimit),this.Da=new AV,this.P=f&&f.fastHandshake||!1,this.O=f&&f.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=f&&f.Rb||!1,f&&f.xa&&this.j.xa(),f&&f.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&f&&f.detectBufferingProxy||!1,this.ja=void 0,f&&f.longPollingTimeout&&0<f.longPollingTimeout&&(this.ja=f.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=lE.prototype,t.la=8,t.G=1,t.connect=function(f,w,M,F){ai(0),this.W=f,this.H=w||{},M&&F!==void 0&&(this.H.OSID=M,this.H.OAID=F),this.F=this.X,this.I=vE(this,null,this.W),Gf(this)};function Xv(f){if(uE(f),f.G==3){var w=f.U++,M=to(f.I);if(Tn(M,"SID",f.K),Tn(M,"RID",w),Tn(M,"TYPE","terminate"),Zc(f,M),w=new No(f,f.j,w),w.L=2,w.v=Hf(to(M)),M=!1,a.navigator&&a.navigator.sendBeacon)try{M=a.navigator.sendBeacon(w.v.toString(),"")}catch{}!M&&a.Image&&(new Image().src=w.v,M=!0),M||(w.g=yE(w.j,null),w.g.ea(w.v)),w.F=Date.now(),qf(w)}gE(f)}function Kf(f){f.g&&(Zv(f),f.g.cancel(),f.g=null)}function uE(f){Kf(f),f.u&&(a.clearTimeout(f.u),f.u=null),Yf(f),f.h.cancel(),f.s&&(typeof f.s=="number"&&a.clearTimeout(f.s),f.s=null)}function Gf(f){if(!HT(f.h)&&!f.s){f.s=!0;var w=f.Ga;B||V(),te||(B(),te=!0),z.add(w,f),f.B=0}}function xV(f,w){return WT(f.h)>=f.h.j-(f.s?1:0)?!1:f.s?(f.i=w.D.concat(f.i),!0):f.G==1||f.G==2||f.B>=(f.Va?0:f.Wa)?!1:(f.s=jc(h(f.Ga,f,w),mE(f,f.B)),f.B++,!0)}t.Ga=function(f){if(this.s)if(this.s=null,this.G==1){if(!f){this.U=Math.floor(1e5*Math.random()),f=this.U++;const de=new No(this,this.j,f);let ye=this.o;if(this.S&&(ye?(ye=b(ye),T(ye,this.S)):ye=this.S),this.m!==null||this.O||(de.H=ye,ye=null),this.P)e:{for(var w=0,M=0;M<this.i.length;M++){t:{var F=this.i[M];if("__data__"in F.map&&(F=F.map.__data__,typeof F=="string")){F=F.length;break t}F=void 0}if(F===void 0)break;if(w+=F,4096<w){w=M;break e}if(w===4096||M===this.i.length-1){w=M+1;break e}}w=1e3}else w=1e3;w=dE(this,de,w),M=to(this.I),Tn(M,"RID",f),Tn(M,"CVER",22),this.D&&Tn(M,"X-HTTP-Session-Id",this.D),Zc(this,M),ye&&(this.O?w="headers="+encodeURIComponent(String(nE(ye)))+"&"+w:this.m&&Qv(M,this.m,ye)),Yv(this.h,de),this.Ua&&Tn(M,"TYPE","init"),this.P?(Tn(M,"$req",w),Tn(M,"SID","null"),de.T=!0,Wv(de,M,null)):Wv(de,M,w),this.G=2}}else this.G==3&&(f?cE(this,f):this.i.length==0||HT(this.h)||cE(this))};function cE(f,w){var M;w?M=w.l:M=f.U++;const F=to(f.I);Tn(F,"SID",f.K),Tn(F,"RID",M),Tn(F,"AID",f.T),Zc(f,F),f.m&&f.o&&Qv(F,f.m,f.o),M=new No(f,f.j,M,f.B+1),f.m===null&&(M.H=f.o),w&&(f.i=w.D.concat(f.i)),w=dE(f,M,1e3),M.I=Math.round(.5*f.wa)+Math.round(.5*f.wa*Math.random()),Yv(f.h,M),Wv(M,F,w)}function Zc(f,w){f.H&&x(f.H,function(M,F){Tn(w,F,M)}),f.l&&GT({},function(M,F){Tn(w,F,M)})}function dE(f,w,M){M=Math.min(f.i.length,M);var F=f.l?h(f.l.Na,f.l,f):null;e:{var de=f.i;let ye=-1;for(;;){const Be=["count="+M];ye==-1?0<M?(ye=de[0].g,Be.push("ofs="+ye)):ye=0:Be.push("ofs="+ye);let hn=!0;for(let Or=0;Or<M;Or++){let Qt=de[Or].g;const qr=de[Or].map;if(Qt-=ye,0>Qt)ye=Math.max(0,de[Or].g-100),hn=!1;else try{PV(qr,Be,"req"+Qt+"_")}catch{F&&F(qr)}}if(hn){F=Be.join("&");break e}}}return f=f.i.splice(0,M),w.D=f,F}function hE(f){if(!f.g&&!f.u){f.Y=1;var w=f.Fa;B||V(),te||(B(),te=!0),z.add(w,f),f.v=0}}function Jv(f){return f.g||f.u||3<=f.v?!1:(f.Y++,f.u=jc(h(f.Fa,f),mE(f,f.v)),f.v++,!0)}t.Fa=function(){if(this.u=null,fE(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var f=2*this.R;this.j.info("BP detection timer enabled: "+f),this.A=jc(h(this.ab,this),f)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ai(10),Kf(this),fE(this))};function Zv(f){f.A!=null&&(a.clearTimeout(f.A),f.A=null)}function fE(f){f.g=new No(f,f.j,"rpc",f.Y),f.m===null&&(f.g.H=f.o),f.g.O=0;var w=to(f.qa);Tn(w,"RID","rpc"),Tn(w,"SID",f.K),Tn(w,"AID",f.T),Tn(w,"CI",f.F?"0":"1"),!f.F&&f.ja&&Tn(w,"TO",f.ja),Tn(w,"TYPE","xmlhttp"),Zc(f,w),f.m&&f.o&&Qv(w,f.m,f.o),f.L&&(f.g.I=f.L);var M=f.g;f=f.ia,M.L=1,M.v=Hf(to(w)),M.m=null,M.P=!0,UT(M,f)}t.Za=function(){this.C!=null&&(this.C=null,Kf(this),Jv(this),ai(19))};function Yf(f){f.C!=null&&(a.clearTimeout(f.C),f.C=null)}function pE(f,w){var M=null;if(f.g==w){Yf(f),Zv(f),f.g=null;var F=2}else if(Gv(f.h,w))M=w.D,zT(f.h,w),F=1;else return;if(f.G!=0){if(w.o)if(F==1){M=w.m?w.m.length:0,w=Date.now()-w.F;var de=f.B;F=$f(),re(F,new LT(F,M)),Gf(f)}else hE(f);else if(de=w.s,de==3||de==0&&0<w.X||!(F==1&&xV(f,w)||F==2&&Jv(f)))switch(M&&0<M.length&&(w=f.h,w.i=w.i.concat(M)),de){case 1:Wa(f,5);break;case 4:Wa(f,10);break;case 3:Wa(f,6);break;default:Wa(f,2)}}}function mE(f,w){let M=f.Ta+Math.floor(Math.random()*f.cb);return f.isActive()||(M*=2),M*w}function Wa(f,w){if(f.j.info("Error code "+w),w==2){var M=h(f.fb,f),F=f.Xa;const de=!F;F=new Ha(F||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Bf(F,"https"),Hf(F),de?IV(F.toString(),M):CV(F.toString(),M)}else ai(2);f.G=0,f.l&&f.l.sa(w),gE(f),uE(f)}t.fb=function(f){f?(this.j.info("Successfully pinged google.com"),ai(2)):(this.j.info("Failed to ping google.com"),ai(1))};function gE(f){if(f.G=0,f.ka=[],f.l){const w=KT(f.h);(w.length!=0||f.i.length!=0)&&(y(f.ka,w),y(f.ka,f.i),f.h.i.length=0,g(f.i),f.i.length=0),f.l.ra()}}function vE(f,w,M){var F=M instanceof Ha?to(M):new Ha(M);if(F.g!="")w&&(F.g=w+"."+F.g),jf(F,F.s);else{var de=a.location;F=de.protocol,w=w?w+"."+de.hostname:de.hostname,de=+de.port;var ye=new Ha(null);F&&Bf(ye,F),w&&(ye.g=w),de&&jf(ye,de),M&&(ye.l=M),F=ye}return M=f.D,w=f.ya,M&&w&&Tn(F,M,w),Tn(F,"VER",f.la),Zc(f,F),F}function yE(f,w,M){if(w&&!f.J)throw Error("Can't create secondary domain capable XhrIo object.");return w=f.Ca&&!f.pa?new zn(new Yc({eb:M})):new zn(f.pa),w.Ha(f.J),w}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function bE(){}t=bE.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Qf(){}Qf.prototype.g=function(f,w){return new ki(f,w)};function ki(f,w){tt.call(this),this.g=new lE(w),this.l=f,this.h=w&&w.messageUrlParams||null,f=w&&w.messageHeaders||null,w&&w.clientProtocolHeaderRequired&&(f?f["X-Client-Protocol"]="webchannel":f={"X-Client-Protocol":"webchannel"}),this.g.o=f,f=w&&w.initMessageHeaders||null,w&&w.messageContentType&&(f?f["X-WebChannel-Content-Type"]=w.messageContentType:f={"X-WebChannel-Content-Type":w.messageContentType}),w&&w.va&&(f?f["X-WebChannel-Client-Profile"]=w.va:f={"X-WebChannel-Client-Profile":w.va}),this.g.S=f,(f=w&&w.Sb)&&!C(f)&&(this.g.m=f),this.v=w&&w.supportsCrossDomainXhr||!1,this.u=w&&w.sendRawJson||!1,(w=w&&w.httpSessionIdParam)&&!C(w)&&(this.g.D=w,f=this.h,f!==null&&w in f&&(f=this.h,w in f&&delete f[w])),this.j=new Zl(this)}m(ki,tt),ki.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},ki.prototype.close=function(){Xv(this.g)},ki.prototype.o=function(f){var w=this.g;if(typeof f=="string"){var M={};M.__data__=f,f=M}else this.u&&(M={},M.__data__=Ne(f),f=M);w.i.push(new mV(w.Ya++,f)),w.G==3&&Gf(w)},ki.prototype.N=function(){this.g.l=null,delete this.j,Xv(this.g),delete this.g,ki.aa.N.call(this)};function _E(f){_r.call(this),f.__headers__&&(this.headers=f.__headers__,this.statusCode=f.__status__,delete f.__headers__,delete f.__status__);var w=f.__sm__;if(w){e:{for(const M in w){f=M;break e}f=void 0}(this.i=f)&&(f=this.i,w=w!==null&&f in w?w[f]:void 0),this.data=w}else this.data=f}m(_E,_r);function wE(){qa.call(this),this.status=1}m(wE,qa);function Zl(f){this.g=f}m(Zl,bE),Zl.prototype.ua=function(){re(this.g,"a")},Zl.prototype.ta=function(f){re(this.g,new _E(f))},Zl.prototype.sa=function(f){re(this.g,new wE)},Zl.prototype.ra=function(){re(this.g,"b")},Qf.prototype.createWebChannel=Qf.prototype.g,ki.prototype.send=ki.prototype.o,ki.prototype.open=ki.prototype.m,ki.prototype.close=ki.prototype.close,Rx=function(){return new Qf},kx=function(){return $f()},Ox=eo,a0={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ff.NO_ERROR=0,Ff.TIMEOUT=8,Ff.HTTP_ERROR=6,jp=Ff,VT.COMPLETE="complete",Px=VT,Pt.EventType=It,It.OPEN="a",It.CLOSE="b",It.ERROR="c",It.MESSAGE="d",tt.prototype.listen=tt.prototype.K,Sd=Pt,Ax=Yc,zn.prototype.listenOnce=zn.prototype.L,zn.prototype.getLastError=zn.prototype.Ka,zn.prototype.getLastErrorCode=zn.prototype.Ba,zn.prototype.getStatus=zn.prototype.Z,zn.prototype.getResponseJson=zn.prototype.Oa,zn.prototype.getResponseText=zn.prototype.oa,zn.prototype.send=zn.prototype.ea,zn.prototype.setWithCredentials=zn.prototype.Ha,Cx=zn}).apply(typeof pp<"u"?pp:typeof self<"u"?self:typeof window<"u"?window:{});const eI="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zr{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}zr.UNAUTHENTICATED=new zr(null),zr.GOOGLE_CREDENTIALS=new zr("google-credentials-uid"),zr.FIRST_PARTY=new zr("first-party-uid"),zr.MOCK_USER=new zr("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let xc="10.13.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ol=new kc("@firebase/firestore");function rd(){return Ol.logLevel}function st(t,...e){if(Ol.logLevel<=Dt.DEBUG){const n=e.map(yw);Ol.debug(`Firestore (${xc}): ${t}`,...n)}}function Io(t,...e){if(Ol.logLevel<=Dt.ERROR){const n=e.map(yw);Ol.error(`Firestore (${xc}): ${t}`,...n)}}function sc(t,...e){if(Ol.logLevel<=Dt.WARN){const n=e.map(yw);Ol.warn(`Firestore (${xc}): ${t}`,...n)}}function yw(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yt(t="Unexpected state"){const e=`FIRESTORE (${xc}) INTERNAL ASSERTION FAILED: `+t;throw Io(e),new Error(e)}function mn(t,e){t||yt()}function Et(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ee={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ke extends Bi{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _o{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xx{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Jq{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(zr.UNAUTHENTICATED))}shutdown(){}}class Zq{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class e9{constructor(e){this.t=e,this.currentUser=zr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let s=new _o;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new _o,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{st("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(st("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new _o)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(st("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(mn(typeof r.accessToken=="string"),new xx(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return mn(e===null||typeof e=="string"),new zr(e)}}class t9{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=zr.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class n9{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new t9(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(zr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class r9{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class i9{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const r=s=>{s.error!=null&&st("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,st("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{st("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):st("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(mn(typeof n.token=="string"),this.R=n.token,new r9(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s9(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dx{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=s9(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function Jt(t,e){return t<e?-1:t>e?1:0}function oc(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ln{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Ke(Ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Ke(Ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new Ke(Ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ke(Ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Ln.fromMillis(Date.now())}static fromDate(e){return Ln.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Ln(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Jt(this.nanoseconds,e.nanoseconds):Jt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tt{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Tt(e)}static min(){return new Tt(new Ln(0,0))}static max(){return new Tt(new Ln(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Th{constructor(e,n,r){n===void 0?n=0:n>e.length&&yt(),r===void 0?r=e.length-n:r>e.length-n&&yt(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Th.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Th?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class yn extends Th{construct(e,n,r){return new yn(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Ke(Ee.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new yn(n)}static emptyPath(){return new yn([])}}const o9=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Mr extends Th{construct(e,n,r){return new Mr(e,n,r)}static isValidIdentifier(e){return o9.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Mr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Mr(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new Ke(Ee.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new Ke(Ee.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new Ke(Ee.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new Ke(Ee.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Mr(n)}static emptyPath(){return new Mr([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ht{constructor(e){this.path=e}static fromPath(e){return new ht(yn.fromString(e))}static fromName(e){return new ht(yn.fromString(e).popFirst(5))}static empty(){return new ht(yn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&yn.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return yn.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ht(new yn(e.slice()))}}function a9(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=Tt.fromTimestamp(r===1e9?new Ln(n+1,0):new Ln(n,r));return new Ca(i,ht.empty(),e)}function l9(t){return new Ca(t.readTime,t.key,-1)}class Ca{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Ca(Tt.min(),ht.empty(),-1)}static max(){return new Ca(Tt.max(),ht.empty(),-1)}}function u9(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ht.comparator(t.documentKey,e.documentKey),n!==0?n:Jt(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c9="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class d9{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ff(t){if(t.code!==Ee.FAILED_PRECONDITION||t.message!==c9)throw t;st("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oe{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&yt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new Oe((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof Oe?n:Oe.resolve(n)}catch(n){return Oe.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):Oe.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):Oe.reject(n)}static resolve(e){return new Oe((n,r)=>{n(e)})}static reject(e){return new Oe((n,r)=>{r(e)})}static waitFor(e){return new Oe((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},l=>r(l))}),o=!0,s===i&&n()})}static or(e){let n=Oe.resolve(!1);for(const r of e)n=n.next(i=>i?Oe.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new Oe((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const u=l;n(e[u]).next(c=>{o[u]=c,++a,a===s&&r(o)},c=>i(c))}})}static doWhile(e,n){return new Oe((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function h9(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function pf(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bw{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}bw.oe=-1;function Xg(t){return t==null}function km(t){return t===0&&1/t==-1/0}function f9(t){return typeof t=="number"&&Number.isInteger(t)&&!km(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tI(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Hl(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Nx(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let pr=class l0{constructor(e,n){this.comparator=e,this.root=n||pa.EMPTY}insert(e,n){return new l0(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,pa.BLACK,null,null))}remove(e){return new l0(this.comparator,this.root.remove(e,this.comparator).copy(null,null,pa.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new mp(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new mp(this.root,e,this.comparator,!1)}getReverseIterator(){return new mp(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new mp(this.root,e,this.comparator,!0)}},mp=class{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},pa=class oo{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??oo.RED,this.left=i??oo.EMPTY,this.right=s??oo.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new oo(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return oo.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return oo.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,oo.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,oo.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw yt();const e=this.left.check();if(e!==this.right.check())throw yt();return e+(this.isRed()?0:1)}};pa.EMPTY=null,pa.RED=!0,pa.BLACK=!1;pa.EMPTY=new class{constructor(){this.size=0}get key(){throw yt()}get value(){throw yt()}get color(){throw yt()}get left(){throw yt()}get right(){throw yt()}copy(e,n,r,i,s){return this}insert(e,n,r){return new pa(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $r{constructor(e){this.comparator=e,this.data=new pr(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new nI(this.data.getIterator())}getIteratorFrom(e){return new nI(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof $r)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new $r(this.comparator);return n.data=e,n}}class nI{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ni{constructor(e){this.fields=e,e.sort(Mr.comparator)}static empty(){return new Ni([])}unionWith(e){let n=new $r(Mr.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Ni(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return oc(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mx extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fr{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new Mx("Invalid base64 string: "+s):s}}(e);return new Fr(n)}static fromUint8Array(e){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new Fr(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Jt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Fr.EMPTY_BYTE_STRING=new Fr("");const p9=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Aa(t){if(mn(!!t),typeof t=="string"){let e=0;const n=p9.exec(t);if(mn(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Zn(t.seconds),nanos:Zn(t.nanos)}}function Zn(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function kl(t){return typeof t=="string"?Fr.fromBase64String(t):Fr.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jg(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function _w(t){const e=t.mapValue.fields.__previous_value__;return Jg(e)?_w(e):e}function Eh(t){const e=Aa(t.mapValue.fields.__local_write_time__.timestampValue);return new Ln(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m9{constructor(e,n,r,i,s,o,a,l,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=u}}class Sh{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Sh("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Sh&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gp={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Rl(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Jg(t)?4:v9(t)?9007199254740991:g9(t)?10:11:yt()}function zs(t,e){if(t===e)return!0;const n=Rl(t);if(n!==Rl(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Eh(t).isEqual(Eh(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=Aa(i.timestampValue),a=Aa(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return kl(i.bytesValue).isEqual(kl(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return Zn(i.geoPointValue.latitude)===Zn(s.geoPointValue.latitude)&&Zn(i.geoPointValue.longitude)===Zn(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return Zn(i.integerValue)===Zn(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=Zn(i.doubleValue),a=Zn(s.doubleValue);return o===a?km(o)===km(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return oc(t.arrayValue.values||[],e.arrayValue.values||[],zs);case 10:case 11:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(tI(o)!==tI(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!zs(o[l],a[l])))return!1;return!0}(t,e);default:return yt()}}function Ih(t,e){return(t.values||[]).find(n=>zs(n,e))!==void 0}function ac(t,e){if(t===e)return 0;const n=Rl(t),r=Rl(e);if(n!==r)return Jt(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Jt(t.booleanValue,e.booleanValue);case 2:return function(s,o){const a=Zn(s.integerValue||s.doubleValue),l=Zn(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return rI(t.timestampValue,e.timestampValue);case 4:return rI(Eh(t),Eh(e));case 5:return Jt(t.stringValue,e.stringValue);case 6:return function(s,o){const a=kl(s),l=kl(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const a=s.split("/"),l=o.split("/");for(let u=0;u<a.length&&u<l.length;u++){const c=Jt(a[u],l[u]);if(c!==0)return c}return Jt(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const a=Jt(Zn(s.latitude),Zn(o.latitude));return a!==0?a:Jt(Zn(s.longitude),Zn(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return iI(t.arrayValue,e.arrayValue);case 10:return function(s,o){var a,l,u,c;const d=s.fields||{},h=o.fields||{},p=(a=d.value)===null||a===void 0?void 0:a.arrayValue,m=(l=h.value)===null||l===void 0?void 0:l.arrayValue,g=Jt(((u=p==null?void 0:p.values)===null||u===void 0?void 0:u.length)||0,((c=m==null?void 0:m.values)===null||c===void 0?void 0:c.length)||0);return g!==0?g:iI(p,m)}(t.mapValue,e.mapValue);case 11:return function(s,o){if(s===gp.mapValue&&o===gp.mapValue)return 0;if(s===gp.mapValue)return 1;if(o===gp.mapValue)return-1;const a=s.fields||{},l=Object.keys(a),u=o.fields||{},c=Object.keys(u);l.sort(),c.sort();for(let d=0;d<l.length&&d<c.length;++d){const h=Jt(l[d],c[d]);if(h!==0)return h;const p=ac(a[l[d]],u[c[d]]);if(p!==0)return p}return Jt(l.length,c.length)}(t.mapValue,e.mapValue);default:throw yt()}}function rI(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Jt(t,e);const n=Aa(t),r=Aa(e),i=Jt(n.seconds,r.seconds);return i!==0?i:Jt(n.nanos,r.nanos)}function iI(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const s=ac(n[i],r[i]);if(s)return s}return Jt(n.length,r.length)}function lc(t){return u0(t)}function u0(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Aa(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return kl(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return ht.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=u0(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${u0(n.fields[o])}`;return i+"}"}(t.mapValue):yt()}function Rm(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function c0(t){return!!t&&"integerValue"in t}function ww(t){return!!t&&"arrayValue"in t}function sI(t){return!!t&&"nullValue"in t}function oI(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Hp(t){return!!t&&"mapValue"in t}function g9(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function jd(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Hl(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=jd(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=jd(t.arrayValue.values[n]);return e}return Object.assign({},t)}function v9(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ti{constructor(e){this.value=e}static empty(){return new Ti({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Hp(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=jd(n)}setAll(e){let n=Mr.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=jd(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());Hp(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return zs(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Hp(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Hl(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new Ti(jd(this.value))}}function Lx(t){const e=[];return Hl(t.fields,(n,r)=>{const i=new Mr([n]);if(Hp(r)){const s=Lx(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new Ni(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gr{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new Gr(e,0,Tt.min(),Tt.min(),Tt.min(),Ti.empty(),0)}static newFoundDocument(e,n,r,i){return new Gr(e,1,n,Tt.min(),r,i,0)}static newNoDocument(e,n){return new Gr(e,2,n,Tt.min(),Tt.min(),Ti.empty(),0)}static newUnknownDocument(e,n){return new Gr(e,3,n,Tt.min(),Tt.min(),Ti.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Tt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ti.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ti.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Tt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Gr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Gr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uc{constructor(e,n){this.position=e,this.inclusive=n}}function aI(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=ht.comparator(ht.fromName(o.referenceValue),n.key):r=ac(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function lI(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!zs(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ch{constructor(e,n="asc"){this.field=e,this.dir=n}}function y9(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vx{}class dr extends Vx{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new _9(e,n,r):n==="array-contains"?new E9(e,r):n==="in"?new S9(e,r):n==="not-in"?new I9(e,r):n==="array-contains-any"?new C9(e,r):new dr(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new w9(e,r):new T9(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(ac(n,this.value)):n!==null&&Rl(this.value)===Rl(n)&&this.matchesComparison(ac(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return yt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ts extends Vx{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new Ts(e,n)}matches(e){return $x(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function $x(t){return t.op==="and"}function Fx(t){return b9(t)&&$x(t)}function b9(t){for(const e of t.filters)if(e instanceof Ts)return!1;return!0}function d0(t){if(t instanceof dr)return t.field.canonicalString()+t.op.toString()+lc(t.value);if(Fx(t))return t.filters.map(e=>d0(e)).join(",");{const e=t.filters.map(n=>d0(n)).join(",");return`${t.op}(${e})`}}function Ux(t,e){return t instanceof dr?function(r,i){return i instanceof dr&&r.op===i.op&&r.field.isEqual(i.field)&&zs(r.value,i.value)}(t,e):t instanceof Ts?function(r,i){return i instanceof Ts&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&Ux(o,i.filters[a]),!0):!1}(t,e):void yt()}function qx(t){return t instanceof dr?function(n){return`${n.field.canonicalString()} ${n.op} ${lc(n.value)}`}(t):t instanceof Ts?function(n){return n.op.toString()+" {"+n.getFilters().map(qx).join(" ,")+"}"}(t):"Filter"}class _9 extends dr{constructor(e,n,r){super(e,n,r),this.key=ht.fromName(r.referenceValue)}matches(e){const n=ht.comparator(e.key,this.key);return this.matchesComparison(n)}}class w9 extends dr{constructor(e,n){super(e,"in",n),this.keys=Bx("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class T9 extends dr{constructor(e,n){super(e,"not-in",n),this.keys=Bx("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function Bx(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>ht.fromName(r.referenceValue))}class E9 extends dr{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return ww(n)&&Ih(n.arrayValue,this.value)}}class S9 extends dr{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Ih(this.value.arrayValue,n)}}class I9 extends dr{constructor(e,n){super(e,"not-in",n)}matches(e){if(Ih(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Ih(this.value.arrayValue,n)}}class C9 extends dr{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!ww(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Ih(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A9{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ue=null}}function uI(t,e=null,n=[],r=[],i=null,s=null,o=null){return new A9(t,e,n,r,i,s,o)}function Tw(t){const e=Et(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>d0(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),Xg(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>lc(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>lc(r)).join(",")),e.ue=n}return e.ue}function Ew(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!y9(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!Ux(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!lI(t.startAt,e.startAt)&&lI(t.endAt,e.endAt)}function h0(t){return ht.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wl{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function P9(t,e,n,r,i,s,o,a){return new Wl(t,e,n,r,i,s,o,a)}function Zg(t){return new Wl(t)}function cI(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function Sw(t){return t.collectionGroup!==null}function qu(t){const e=Et(t);if(e.ce===null){e.ce=[];const n=new Set;for(const s of e.explicitOrderBy)e.ce.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new $r(Mr.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.ce.push(new Ch(s,r))}),n.has(Mr.keyField().canonicalString())||e.ce.push(new Ch(Mr.keyField(),r))}return e.ce}function Vs(t){const e=Et(t);return e.le||(e.le=O9(e,qu(t))),e.le}function O9(t,e){if(t.limitType==="F")return uI(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new Ch(i.field,s)});const n=t.endAt?new uc(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new uc(t.startAt.position,t.startAt.inclusive):null;return uI(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function f0(t,e){const n=t.filters.concat([e]);return new Wl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function xm(t,e,n){return new Wl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function ev(t,e){return Ew(Vs(t),Vs(e))&&t.limitType===e.limitType}function jx(t){return`${Tw(Vs(t))}|lt:${t.limitType}`}function pu(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>qx(i)).join(", ")}]`),Xg(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>lc(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>lc(i)).join(",")),`Target(${r})`}(Vs(t))}; limitType=${t.limitType})`}function tv(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):ht.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of qu(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,a,l){const u=aI(o,a,l);return o.inclusive?u<=0:u<0}(r.startAt,qu(r),i)||r.endAt&&!function(o,a,l){const u=aI(o,a,l);return o.inclusive?u>=0:u>0}(r.endAt,qu(r),i))}(t,e)}function k9(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function Hx(t){return(e,n)=>{let r=!1;for(const i of qu(t)){const s=R9(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function R9(t,e,n){const r=t.field.isKeyField()?ht.comparator(e.key,n.key):function(s,o,a){const l=o.data.field(s),u=a.data.field(s);return l!==null&&u!==null?ac(l,u):yt()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return yt()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dc{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Hl(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return Nx(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x9=new pr(ht.comparator);function Co(){return x9}const Wx=new pr(ht.comparator);function Id(...t){let e=Wx;for(const n of t)e=e.insert(n.key,n);return e}function zx(t){let e=Wx;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function al(){return Hd()}function Kx(){return Hd()}function Hd(){return new Dc(t=>t.toString(),(t,e)=>t.isEqual(e))}const D9=new pr(ht.comparator),N9=new $r(ht.comparator);function Mt(...t){let e=N9;for(const n of t)e=e.add(n);return e}const M9=new $r(Jt);function L9(){return M9}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Iw(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:km(e)?"-0":e}}function Gx(t){return{integerValue:""+t}}function V9(t,e){return f9(e)?Gx(e):Iw(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nv{constructor(){this._=void 0}}function $9(t,e,n){return t instanceof Dm?function(i,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&Jg(s)&&(s=_w(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof Ah?Qx(t,e):t instanceof Ph?Xx(t,e):function(i,s){const o=Yx(i,s),a=dI(o)+dI(i.Pe);return c0(o)&&c0(i.Pe)?Gx(a):Iw(i.serializer,a)}(t,e)}function F9(t,e,n){return t instanceof Ah?Qx(t,e):t instanceof Ph?Xx(t,e):n}function Yx(t,e){return t instanceof Nm?function(r){return c0(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class Dm extends nv{}class Ah extends nv{constructor(e){super(),this.elements=e}}function Qx(t,e){const n=Jx(e);for(const r of t.elements)n.some(i=>zs(i,r))||n.push(r);return{arrayValue:{values:n}}}class Ph extends nv{constructor(e){super(),this.elements=e}}function Xx(t,e){let n=Jx(e);for(const r of t.elements)n=n.filter(i=>!zs(i,r));return{arrayValue:{values:n}}}class Nm extends nv{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function dI(t){return Zn(t.integerValue||t.doubleValue)}function Jx(t){return ww(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function U9(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Ah&&i instanceof Ah||r instanceof Ph&&i instanceof Ph?oc(r.elements,i.elements,zs):r instanceof Nm&&i instanceof Nm?zs(r.Pe,i.Pe):r instanceof Dm&&i instanceof Dm}(t.transform,e.transform)}class q9{constructor(e,n){this.version=e,this.transformResults=n}}class Xi{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Xi}static exists(e){return new Xi(void 0,e)}static updateTime(e){return new Xi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Wp(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class rv{}function Zx(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Cw(t.key,Xi.none()):new mf(t.key,t.data,Xi.none());{const n=t.data,r=Ti.empty();let i=new $r(Mr.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new Va(t.key,r,new Ni(i.toArray()),Xi.none())}}function B9(t,e,n){t instanceof mf?function(i,s,o){const a=i.value.clone(),l=fI(i.fieldTransforms,s,o.transformResults);a.setAll(l),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Va?function(i,s,o){if(!Wp(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=fI(i.fieldTransforms,s,o.transformResults),l=s.data;l.setAll(eD(i)),l.setAll(a),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Wd(t,e,n,r){return t instanceof mf?function(s,o,a,l){if(!Wp(s.precondition,o))return a;const u=s.value.clone(),c=pI(s.fieldTransforms,l,o);return u.setAll(c),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof Va?function(s,o,a,l){if(!Wp(s.precondition,o))return a;const u=pI(s.fieldTransforms,l,o),c=o.data;return c.setAll(eD(s)),c.setAll(u),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(d=>d.field))}(t,e,n,r):function(s,o,a){return Wp(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function j9(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=Yx(r.transform,i||null);s!=null&&(n===null&&(n=Ti.empty()),n.set(r.field,s))}return n||null}function hI(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&oc(r,i,(s,o)=>U9(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class mf extends rv{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Va extends rv{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function eD(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function fI(t,e,n){const r=new Map;mn(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,F9(o,a,n[i]))}return r}function pI(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,$9(s,o,e))}return r}class Cw extends rv{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class H9 extends rv{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W9{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&B9(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Wd(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Wd(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=Kx();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const l=Zx(o,a);l!==null&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(Tt.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Mt())}isEqual(e){return this.batchId===e.batchId&&oc(this.mutations,e.mutations,(n,r)=>hI(n,r))&&oc(this.baseMutations,e.baseMutations,(n,r)=>hI(n,r))}}class Aw{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){mn(e.mutations.length===r.length);let i=function(){return D9}();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new Aw(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z9{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K9{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var lr,Bt;function G9(t){switch(t){default:return yt();case Ee.CANCELLED:case Ee.UNKNOWN:case Ee.DEADLINE_EXCEEDED:case Ee.RESOURCE_EXHAUSTED:case Ee.INTERNAL:case Ee.UNAVAILABLE:case Ee.UNAUTHENTICATED:return!1;case Ee.INVALID_ARGUMENT:case Ee.NOT_FOUND:case Ee.ALREADY_EXISTS:case Ee.PERMISSION_DENIED:case Ee.FAILED_PRECONDITION:case Ee.ABORTED:case Ee.OUT_OF_RANGE:case Ee.UNIMPLEMENTED:case Ee.DATA_LOSS:return!0}}function tD(t){if(t===void 0)return Io("GRPC error has no .code"),Ee.UNKNOWN;switch(t){case lr.OK:return Ee.OK;case lr.CANCELLED:return Ee.CANCELLED;case lr.UNKNOWN:return Ee.UNKNOWN;case lr.DEADLINE_EXCEEDED:return Ee.DEADLINE_EXCEEDED;case lr.RESOURCE_EXHAUSTED:return Ee.RESOURCE_EXHAUSTED;case lr.INTERNAL:return Ee.INTERNAL;case lr.UNAVAILABLE:return Ee.UNAVAILABLE;case lr.UNAUTHENTICATED:return Ee.UNAUTHENTICATED;case lr.INVALID_ARGUMENT:return Ee.INVALID_ARGUMENT;case lr.NOT_FOUND:return Ee.NOT_FOUND;case lr.ALREADY_EXISTS:return Ee.ALREADY_EXISTS;case lr.PERMISSION_DENIED:return Ee.PERMISSION_DENIED;case lr.FAILED_PRECONDITION:return Ee.FAILED_PRECONDITION;case lr.ABORTED:return Ee.ABORTED;case lr.OUT_OF_RANGE:return Ee.OUT_OF_RANGE;case lr.UNIMPLEMENTED:return Ee.UNIMPLEMENTED;case lr.DATA_LOSS:return Ee.DATA_LOSS;default:return yt()}}(Bt=lr||(lr={}))[Bt.OK=0]="OK",Bt[Bt.CANCELLED=1]="CANCELLED",Bt[Bt.UNKNOWN=2]="UNKNOWN",Bt[Bt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Bt[Bt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Bt[Bt.NOT_FOUND=5]="NOT_FOUND",Bt[Bt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Bt[Bt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Bt[Bt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Bt[Bt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Bt[Bt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Bt[Bt.ABORTED=10]="ABORTED",Bt[Bt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Bt[Bt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Bt[Bt.INTERNAL=13]="INTERNAL",Bt[Bt.UNAVAILABLE=14]="UNAVAILABLE",Bt[Bt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y9(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q9=new pl([4294967295,4294967295],0);function mI(t){const e=Y9().encode(t),n=new Ix;return n.update(e),new Uint8Array(n.digest())}function gI(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new pl([n,r],0),new pl([i,s],0)]}class Pw{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Cd(`Invalid padding: ${n}`);if(r<0)throw new Cd(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Cd(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Cd(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=pl.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(pl.fromNumber(r)));return i.compare(Q9)===1&&(i=new pl([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=mI(e),[r,i]=gI(n);for(let s=0;s<this.hashCount;s++){const o=this.Ee(r,i,s);if(!this.de(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new Pw(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Ie===0)return;const n=mI(e),[r,i]=gI(n);for(let s=0;s<this.hashCount;s++){const o=this.Ee(r,i,s);this.Ae(o)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Cd extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iv{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,gf.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new iv(Tt.min(),i,new pr(Jt),Co(),Mt())}}class gf{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new gf(r,n,Mt(),Mt(),Mt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zp{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}}class nD{constructor(e,n){this.targetId=e,this.me=n}}class rD{constructor(e,n,r=Fr.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class vI{constructor(){this.fe=0,this.ge=bI(),this.pe=Fr.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Mt(),n=Mt(),r=Mt();return this.ge.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:yt()}}),new gf(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=bI()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,mn(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class X9{constructor(e){this.Le=e,this.Be=new Map,this.ke=Co(),this.qe=yI(),this.Qe=new pr(Jt)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:yt()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){const n=e.targetId,r=e.me.count,i=this.Je(n);if(i){const s=i.target;if(h0(s))if(r===0){const o=new ht(s.path);this.Ue(n,o,Gr.newNoDocument(o,Tt.min()))}else mn(r===1);else{const o=this.Ye(n);if(o!==r){const a=this.Ze(e),l=a?this.Xe(a,e,o):1;if(l!==0){this.je(n);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,u)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,a;try{o=kl(r).toUint8Array()}catch(l){if(l instanceof Mx)return sc("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new Pw(o,i,s)}catch(l){return sc(l instanceof Cd?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Ie===0?null:a}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.Le.tt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.Ue(n,s,null),i++)}),i}rt(e){const n=new Map;this.Be.forEach((s,o)=>{const a=this.Je(o);if(a){if(s.current&&h0(a.target)){const l=new ht(a.target.path);this.ke.get(l)!==null||this.it(o,l)||this.Ue(o,l,Gr.newNoDocument(l,e))}s.be&&(n.set(o,s.ve()),s.Ce())}});let r=Mt();this.qe.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const u=this.Je(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.ke.forEach((s,o)=>o.setReadTime(e));const i=new iv(e,n,this.Qe,this.ke,r);return this.ke=Co(),this.qe=yI(),this.Qe=new pr(Jt),i}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new vI,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new $r(Jt),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||st("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new vI),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function yI(){return new pr(ht.comparator)}function bI(){return new pr(ht.comparator)}const J9={asc:"ASCENDING",desc:"DESCENDING"},Z9={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},e8={and:"AND",or:"OR"};class t8{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function p0(t,e){return t.useProto3Json||Xg(e)?e:{value:e}}function Mm(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function iD(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function n8(t,e){return Mm(t,e.toTimestamp())}function $s(t){return mn(!!t),Tt.fromTimestamp(function(n){const r=Aa(n);return new Ln(r.seconds,r.nanos)}(t))}function Ow(t,e){return m0(t,e).canonicalString()}function m0(t,e){const n=function(i){return new yn(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function sD(t){const e=yn.fromString(t);return mn(cD(e)),e}function g0(t,e){return Ow(t.databaseId,e.path)}function Sy(t,e){const n=sD(e);if(n.get(1)!==t.databaseId.projectId)throw new Ke(Ee.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Ke(Ee.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ht(aD(n))}function oD(t,e){return Ow(t.databaseId,e)}function r8(t){const e=sD(t);return e.length===4?yn.emptyPath():aD(e)}function v0(t){return new yn(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function aD(t){return mn(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function _I(t,e,n){return{name:g0(t,e),fields:n.value.mapValue.fields}}function i8(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:yt()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(u,c){return u.useProto3Json?(mn(c===void 0||typeof c=="string"),Fr.fromBase64String(c||"")):(mn(c===void 0||c instanceof Buffer||c instanceof Uint8Array),Fr.fromUint8Array(c||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(u){const c=u.code===void 0?Ee.UNKNOWN:tD(u.code);return new Ke(c,u.message||"")}(o);n=new rD(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Sy(t,r.document.name),s=$s(r.document.updateTime),o=r.document.createTime?$s(r.document.createTime):Tt.min(),a=new Ti({mapValue:{fields:r.document.fields}}),l=Gr.newFoundDocument(i,s,o,a),u=r.targetIds||[],c=r.removedTargetIds||[];n=new zp(u,c,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Sy(t,r.document),s=r.readTime?$s(r.readTime):Tt.min(),o=Gr.newNoDocument(i,s),a=r.removedTargetIds||[];n=new zp([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Sy(t,r.document),s=r.removedTargetIds||[];n=new zp([],s,i,null)}else{if(!("filter"in e))return yt();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new K9(i,s),a=r.targetId;n=new nD(a,o)}}return n}function s8(t,e){let n;if(e instanceof mf)n={update:_I(t,e.key,e.value)};else if(e instanceof Cw)n={delete:g0(t,e.key)};else if(e instanceof Va)n={update:_I(t,e.key,e.data),updateMask:p8(e.fieldMask)};else{if(!(e instanceof H9))return yt();n={verify:g0(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const a=o.transform;if(a instanceof Dm)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Ah)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Ph)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Nm)return{fieldPath:o.field.canonicalString(),increment:a.Pe};throw yt()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:n8(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:yt()}(t,e.precondition)),n}function o8(t,e){return t&&t.length>0?(mn(e!==void 0),t.map(n=>function(i,s){let o=i.updateTime?$s(i.updateTime):$s(s);return o.isEqual(Tt.min())&&(o=$s(s)),new q9(o,i.transformResults||[])}(n,e))):[]}function a8(t,e){return{documents:[oD(t,e.path)]}}function l8(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=oD(t,i);const s=function(u){if(u.length!==0)return uD(Ts.create(u,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const o=function(u){if(u.length!==0)return u.map(c=>function(h){return{field:mu(h.field),direction:d8(h.dir)}}(c))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=p0(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{_t:n,parent:i}}function u8(t){let e=r8(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){mn(r===1);const c=n.from[0];c.allDescendants?i=c.collectionId:e=e.child(c.collectionId)}let s=[];n.where&&(s=function(d){const h=lD(d);return h instanceof Ts&&Fx(h)?h.getFilters():[h]}(n.where));let o=[];n.orderBy&&(o=function(d){return d.map(h=>function(m){return new Ch(gu(m.field),function(y){switch(y){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(m.direction))}(h))}(n.orderBy));let a=null;n.limit&&(a=function(d){let h;return h=typeof d=="object"?d.value:d,Xg(h)?null:h}(n.limit));let l=null;n.startAt&&(l=function(d){const h=!!d.before,p=d.values||[];return new uc(p,h)}(n.startAt));let u=null;return n.endAt&&(u=function(d){const h=!d.before,p=d.values||[];return new uc(p,h)}(n.endAt)),P9(e,i,o,s,a,"F",l,u)}function c8(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return yt()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function lD(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=gu(n.unaryFilter.field);return dr.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=gu(n.unaryFilter.field);return dr.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=gu(n.unaryFilter.field);return dr.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=gu(n.unaryFilter.field);return dr.create(o,"!=",{nullValue:"NULL_VALUE"});default:return yt()}}(t):t.fieldFilter!==void 0?function(n){return dr.create(gu(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return yt()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Ts.create(n.compositeFilter.filters.map(r=>lD(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return yt()}}(n.compositeFilter.op))}(t):yt()}function d8(t){return J9[t]}function h8(t){return Z9[t]}function f8(t){return e8[t]}function mu(t){return{fieldPath:t.canonicalString()}}function gu(t){return Mr.fromServerFormat(t.fieldPath)}function uD(t){return t instanceof dr?function(n){if(n.op==="=="){if(oI(n.value))return{unaryFilter:{field:mu(n.field),op:"IS_NAN"}};if(sI(n.value))return{unaryFilter:{field:mu(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(oI(n.value))return{unaryFilter:{field:mu(n.field),op:"IS_NOT_NAN"}};if(sI(n.value))return{unaryFilter:{field:mu(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:mu(n.field),op:h8(n.op),value:n.value}}}(t):t instanceof Ts?function(n){const r=n.getFilters().map(i=>uD(i));return r.length===1?r[0]:{compositeFilter:{op:f8(n.op),filters:r}}}(t):yt()}function p8(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function cD(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aa{constructor(e,n,r,i,s=Tt.min(),o=Tt.min(),a=Fr.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new aa(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new aa(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new aa(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new aa(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m8{constructor(e){this.ct=e}}function g8(t){const e=u8({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?xm(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v8{constructor(){this.un=new y8}addToCollectionParentIndex(e,n){return this.un.add(n),Oe.resolve()}getCollectionParents(e,n){return Oe.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return Oe.resolve()}deleteFieldIndex(e,n){return Oe.resolve()}deleteAllFieldIndexes(e){return Oe.resolve()}createTargetIndexes(e,n){return Oe.resolve()}getDocumentsMatchingTarget(e,n){return Oe.resolve(null)}getIndexType(e,n){return Oe.resolve(0)}getFieldIndexes(e,n){return Oe.resolve([])}getNextCollectionGroupToUpdate(e){return Oe.resolve(null)}getMinOffset(e,n){return Oe.resolve(Ca.min())}getMinOffsetFromCollectionGroup(e,n){return Oe.resolve(Ca.min())}updateCollectionGroup(e,n,r){return Oe.resolve()}updateIndexEntries(e,n){return Oe.resolve()}}class y8{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new $r(yn.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new $r(yn.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cc{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new cc(0)}static kn(){return new cc(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b8{constructor(){this.changes=new Dc(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Gr.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?Oe.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _8{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w8{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Wd(r.mutation,i,Ni.empty(),Ln.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Mt()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Mt()){const i=al();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=Id();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=al();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Mt()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=Co();const o=Hd(),a=function(){return Hd()}();return n.forEach((l,u)=>{const c=r.get(u.key);i.has(u.key)&&(c===void 0||c.mutation instanceof Va)?s=s.insert(u.key,u):c!==void 0?(o.set(u.key,c.mutation.getFieldMask()),Wd(c.mutation,u,c.mutation.getFieldMask(),Ln.now())):o.set(u.key,Ni.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((u,c)=>o.set(u,c)),n.forEach((u,c)=>{var d;return a.set(u,new _8(c,(d=o.get(u))!==null&&d!==void 0?d:null))}),a))}recalculateAndSaveOverlays(e,n){const r=Hd();let i=new pr((o,a)=>o-a),s=Mt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let c=r.get(l)||Ni.empty();c=a.applyToLocalView(u,c),r.set(l,c);const d=(i.get(a.batchId)||Mt()).add(l);i=i.insert(a.batchId,d)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,c=l.value,d=Kx();c.forEach(h=>{if(!s.has(h)){const p=Zx(n.get(h),r.get(h));p!==null&&d.set(h,p),s=s.add(h)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,d))}return Oe.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return ht.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):Sw(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):Oe.resolve(al());let a=-1,l=s;return o.next(u=>Oe.forEach(u,(c,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),s.get(c)?Oe.resolve():this.remoteDocumentCache.getEntry(e,c).next(h=>{l=l.insert(c,h)}))).next(()=>this.populateOverlays(e,u,s)).next(()=>this.computeViews(e,l,u,Mt())).next(c=>({batchId:a,changes:zx(c)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ht(n)).next(r=>{let i=Id();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let o=Id();return this.indexManager.getCollectionParents(e,s).next(a=>Oe.forEach(a,l=>{const u=function(d,h){return new Wl(h,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt)}(n,l.child(s));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(c=>{c.forEach((d,h)=>{o=o.insert(d,h)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((l,u)=>{const c=u.getKey();o.get(c)===null&&(o=o.insert(c,Gr.newInvalidDocument(c)))});let a=Id();return o.forEach((l,u)=>{const c=s.get(l);c!==void 0&&Wd(c.mutation,u,Ni.empty(),Ln.now()),tv(n,u)&&(a=a.insert(l,u))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T8{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return Oe.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:$s(i.createTime)}}(n)),Oe.resolve()}getNamedQuery(e,n){return Oe.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(i){return{name:i.name,query:g8(i.bundledQuery),readTime:$s(i.readTime)}}(n)),Oe.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E8{constructor(){this.overlays=new pr(ht.comparator),this.Ir=new Map}getOverlay(e,n){return Oe.resolve(this.overlays.get(n))}getOverlays(e,n){const r=al();return Oe.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.ht(e,n,s)}),Oe.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Ir.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Ir.delete(r)),Oe.resolve()}getOverlaysForCollection(e,n,r){const i=al(),s=n.length+1,o=new ht(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return Oe.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new pr((u,c)=>u-c);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let c=s.get(u.largestBatchId);c===null&&(c=al(),s=s.insert(u.largestBatchId,c)),c.set(u.getKey(),u)}}const a=al(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,c)=>a.set(u,c)),!(a.size()>=i)););return Oe.resolve(a)}ht(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new z9(n,r));let s=this.Ir.get(n);s===void 0&&(s=Mt(),this.Ir.set(n,s)),this.Ir.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S8{constructor(){this.sessionToken=Fr.EMPTY_BYTE_STRING}getSessionToken(e){return Oe.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,Oe.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kw{constructor(){this.Tr=new $r(Sr.Er),this.dr=new $r(Sr.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){const r=new Sr(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new Sr(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){const n=new ht(new yn([])),r=new Sr(n,e),i=new Sr(n,e+1),s=[];return this.dr.forEachInRange([r,i],o=>{this.Vr(o),s.push(o.key)}),s}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const n=new ht(new yn([])),r=new Sr(n,e),i=new Sr(n,e+1);let s=Mt();return this.dr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new Sr(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Sr{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return ht.comparator(e.key,n.key)||Jt(e.wr,n.wr)}static Ar(e,n){return Jt(e.wr,n.wr)||ht.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I8{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new $r(Sr.Er)}checkEmpty(e){return Oe.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new W9(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.br=this.br.add(new Sr(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return Oe.resolve(o)}lookupMutationBatch(e,n){return Oe.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.vr(r),s=i<0?0:i;return Oe.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return Oe.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return Oe.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Sr(n,0),i=new Sr(n,Number.POSITIVE_INFINITY),s=[];return this.br.forEachInRange([r,i],o=>{const a=this.Dr(o.wr);s.push(a)}),Oe.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new $r(Jt);return n.forEach(i=>{const s=new Sr(i,0),o=new Sr(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([s,o],a=>{r=r.add(a.wr)})}),Oe.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;ht.isDocumentKey(s)||(s=s.child(""));const o=new Sr(new ht(s),0);let a=new $r(Jt);return this.br.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(l.wr)),!0)},o),Oe.resolve(this.Cr(a))}Cr(e){const n=[];return e.forEach(r=>{const i=this.Dr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){mn(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return Oe.forEach(n.mutations,i=>{const s=new Sr(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){const r=new Sr(n,0),i=this.br.firstAfterOrEqual(r);return Oe.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,Oe.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C8{constructor(e){this.Mr=e,this.docs=function(){return new pr(ht.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return Oe.resolve(r?r.document.mutableCopy():Gr.newInvalidDocument(n))}getEntries(e,n){let r=Co();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Gr.newInvalidDocument(i))}),Oe.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=Co();const o=n.path,a=new ht(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:u,value:{document:c}}=l.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||u9(l9(c),r)<=0||(i.has(c.key)||tv(n,c))&&(s=s.insert(c.key,c.mutableCopy()))}return Oe.resolve(s)}getAllFromCollectionGroup(e,n,r,i){yt()}Or(e,n){return Oe.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new A8(this)}getSize(e){return Oe.resolve(this.size)}}class A8 extends b8{constructor(e){super(),this.cr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),Oe.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P8{constructor(e){this.persistence=e,this.Nr=new Dc(n=>Tw(n),Ew),this.lastRemoteSnapshotVersion=Tt.min(),this.highestTargetId=0,this.Lr=0,this.Br=new kw,this.targetCount=0,this.kr=cc.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,i)=>n(i)),Oe.resolve()}getLastRemoteSnapshotVersion(e){return Oe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Oe.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),Oe.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),Oe.resolve()}Kn(e){this.Nr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.kr=new cc(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,Oe.resolve()}updateTargetData(e,n){return this.Kn(n),Oe.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,Oe.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Nr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Nr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),Oe.waitFor(s).next(()=>i)}getTargetCount(e){return Oe.resolve(this.targetCount)}getTargetData(e,n){const r=this.Nr.get(n)||null;return Oe.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),Oe.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),Oe.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),Oe.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Br.yr(n);return Oe.resolve(r)}containsKey(e,n){return Oe.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O8{constructor(e,n){this.qr={},this.overlays={},this.Qr=new bw(0),this.Kr=!1,this.Kr=!0,this.$r=new S8,this.referenceDelegate=e(this),this.Ur=new P8(this),this.indexManager=new v8,this.remoteDocumentCache=function(i){return new C8(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new m8(n),this.Gr=new T8(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new E8,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new I8(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){st("MemoryPersistence","Starting transaction:",e);const i=new k8(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(s=>this.referenceDelegate.jr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Hr(e,n){return Oe.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}}class k8 extends d9{constructor(e){super(),this.currentSequenceNumber=e}}class Rw{constructor(e){this.persistence=e,this.Jr=new kw,this.Yr=null}static Zr(e){return new Rw(e)}get Xr(){if(this.Yr)return this.Yr;throw yt()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),Oe.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),Oe.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),Oe.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(i=>this.Xr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Xr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Oe.forEach(this.Xr,r=>{const i=ht.fromPath(r);return this.ei(e,i).next(s=>{s||n.removeEntry(i,Tt.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return Oe.or([()=>Oe.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xw{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=i}static Wi(e,n){let r=Mt(),i=Mt();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new xw(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R8{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x8{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return p6()?8:h9(oi())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.Yi(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Zi(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new R8;return this.Xi(e,n,o).next(a=>{if(s.result=a,this.zi)return this.es(e,n,o,a.size)})}).next(()=>s.result)}es(e,n,r,i){return r.documentReadCount<this.ji?(rd()<=Dt.DEBUG&&st("QueryEngine","SDK will not create cache indexes for query:",pu(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),Oe.resolve()):(rd()<=Dt.DEBUG&&st("QueryEngine","Query:",pu(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(rd()<=Dt.DEBUG&&st("QueryEngine","The SDK decides to create cache indexes for query:",pu(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Vs(n))):Oe.resolve())}Yi(e,n){if(cI(n))return Oe.resolve(null);let r=Vs(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=xm(n,null,"F"),r=Vs(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=Mt(...s);return this.Ji.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const u=this.ts(n,a);return this.ns(n,u,o,l.readTime)?this.Yi(e,xm(n,null,"F")):this.rs(e,u,n,l)}))})))}Zi(e,n,r,i){return cI(n)||i.isEqual(Tt.min())?Oe.resolve(null):this.Ji.getDocuments(e,r).next(s=>{const o=this.ts(n,s);return this.ns(n,o,r,i)?Oe.resolve(null):(rd()<=Dt.DEBUG&&st("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),pu(n)),this.rs(e,o,n,a9(i,-1)).next(a=>a))})}ts(e,n){let r=new $r(Hx(e));return n.forEach((i,s)=>{tv(e,s)&&(r=r.add(s))}),r}ns(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Xi(e,n,r){return rd()<=Dt.DEBUG&&st("QueryEngine","Using full collection scan to execute query:",pu(n)),this.Ji.getDocumentsMatchingQuery(e,n,Ca.min(),r)}rs(e,n,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D8{constructor(e,n,r,i){this.persistence=e,this.ss=n,this.serializer=i,this.os=new pr(Jt),this._s=new Dc(s=>Tw(s),Ew),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new w8(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}}function N8(t,e,n,r){return new D8(t,e,n,r)}async function dD(t,e){const n=Et(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let l=Mt();for(const u of i){o.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}for(const u of s){a.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}return n.localDocuments.getDocuments(r,l).next(u=>({hs:u,removedBatchIds:o,addedBatchIds:a}))})})}function M8(t,e){const n=Et(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.cs.newChangeBuffer({trackRemovals:!0});return function(a,l,u,c){const d=u.batch,h=d.keys();let p=Oe.resolve();return h.forEach(m=>{p=p.next(()=>c.getEntry(l,m)).next(g=>{const y=u.docVersions.get(m);mn(y!==null),g.version.compareTo(y)<0&&(d.applyToRemoteDocument(g,u),g.isValidDocument()&&(g.setReadTime(u.commitVersion),c.addEntry(g)))})}),p.next(()=>a.mutationQueue.removeMutationBatch(l,d))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=Mt();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(l=l.add(a.batch.mutations[u].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function hD(t){const e=Et(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function L8(t,e){const n=Et(t),r=e.snapshotVersion;let i=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.cs.newChangeBuffer({trackRemovals:!0});i=n.os;const a=[];e.targetChanges.forEach((c,d)=>{const h=i.get(d);if(!h)return;a.push(n.Ur.removeMatchingKeys(s,c.removedDocuments,d).next(()=>n.Ur.addMatchingKeys(s,c.addedDocuments,d)));let p=h.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(d)!==null?p=p.withResumeToken(Fr.EMPTY_BYTE_STRING,Tt.min()).withLastLimboFreeSnapshotVersion(Tt.min()):c.resumeToken.approximateByteSize()>0&&(p=p.withResumeToken(c.resumeToken,r)),i=i.insert(d,p),function(g,y,A){return g.resumeToken.approximateByteSize()===0||y.snapshotVersion.toMicroseconds()-g.snapshotVersion.toMicroseconds()>=3e8?!0:A.addedDocuments.size+A.modifiedDocuments.size+A.removedDocuments.size>0}(h,p,c)&&a.push(n.Ur.updateTargetData(s,p))});let l=Co(),u=Mt();if(e.documentUpdates.forEach(c=>{e.resolvedLimboDocuments.has(c)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,c))}),a.push(V8(s,o,e.documentUpdates).next(c=>{l=c.Ps,u=c.Is})),!r.isEqual(Tt.min())){const c=n.Ur.getLastRemoteSnapshotVersion(s).next(d=>n.Ur.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(c)}return Oe.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,u)).next(()=>l)}).then(s=>(n.os=i,s))}function V8(t,e,n){let r=Mt(),i=Mt();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=Co();return n.forEach((a,l)=>{const u=s.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(Tt.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):st("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{Ps:o,Is:i}})}function $8(t,e){const n=Et(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function F8(t,e){const n=Et(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ur.getTargetData(r,e).next(s=>s?(i=s,Oe.resolve(i)):n.Ur.allocateTargetId(r).next(o=>(i=new aa(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}async function y0(t,e,n){const r=Et(t),i=r.os.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!pf(o))throw o;st("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.os=r.os.remove(e),r._s.delete(i.target)}function wI(t,e,n){const r=Et(t);let i=Tt.min(),s=Mt();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,u,c){const d=Et(l),h=d._s.get(c);return h!==void 0?Oe.resolve(d.os.get(h)):d.Ur.getTargetData(u,c)}(r,o,Vs(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>r.ss.getDocumentsMatchingQuery(o,e,n?i:Tt.min(),n?s:Mt())).next(a=>(U8(r,k9(e),a),{documents:a,Ts:s})))}function U8(t,e,n){let r=t.us.get(e)||Tt.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.us.set(e,r)}class TI{constructor(){this.activeTargetIds=L9()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class q8{constructor(){this.so=new TI,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new TI,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B8{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EI{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){st("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){st("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let vp=null;function Iy(){return vp===null?vp=function(){return 268435456+Math.round(2147483648*Math.random())}():vp++,"0x"+vp.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j8={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H8{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jr="WebChannelConnection";class W8 extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${i}/databases/${s}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get Fo(){return!1}Mo(n,r,i,s,o){const a=Iy(),l=this.xo(n,r.toUriEncodedString());st("RestConnection",`Sending RPC '${n}' ${a}:`,l,i);const u={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(u,s,o),this.No(n,l,u,i).then(c=>(st("RestConnection",`Received RPC '${n}' ${a}: `,c),c),c=>{throw sc("RestConnection",`RPC '${n}' ${a} failed with error: `,c,"url: ",l,"request:",i),c})}Lo(n,r,i,s,o,a){return this.Mo(n,r,i,s,o)}Oo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+xc}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}xo(n,r){const i=j8[n];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,i){const s=Iy();return new Promise((o,a)=>{const l=new Cx;l.setWithCredentials(!0),l.listenOnce(Px.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case jp.NO_ERROR:const c=l.getResponseJson();st(jr,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(c)),o(c);break;case jp.TIMEOUT:st(jr,`RPC '${e}' ${s} timed out`),a(new Ke(Ee.DEADLINE_EXCEEDED,"Request time out"));break;case jp.HTTP_ERROR:const d=l.getStatus();if(st(jr,`RPC '${e}' ${s} failed with status:`,d,"response text:",l.getResponseText()),d>0){let h=l.getResponseJson();Array.isArray(h)&&(h=h[0]);const p=h==null?void 0:h.error;if(p&&p.status&&p.message){const m=function(y){const A=y.toLowerCase().replace(/_/g,"-");return Object.values(Ee).indexOf(A)>=0?A:Ee.UNKNOWN}(p.status);a(new Ke(m,p.message))}else a(new Ke(Ee.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new Ke(Ee.UNAVAILABLE,"Connection failed."));break;default:yt()}}finally{st(jr,`RPC '${e}' ${s} completed.`)}});const u=JSON.stringify(i);st(jr,`RPC '${e}' ${s} sending request:`,i),l.send(n,"POST",u,r,15)})}Bo(e,n,r){const i=Iy(),s=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=Rx(),a=kx(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.xmlHttpFactory=new Ax({})),this.Oo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const c=s.join("");st(jr,`Creating RPC '${e}' stream ${i}: ${c}`,l);const d=o.createWebChannel(c,l);let h=!1,p=!1;const m=new H8({Io:y=>{p?st(jr,`Not sending because RPC '${e}' stream ${i} is closed:`,y):(h||(st(jr,`Opening RPC '${e}' stream ${i} transport.`),d.open(),h=!0),st(jr,`RPC '${e}' stream ${i} sending:`,y),d.send(y))},To:()=>d.close()}),g=(y,A,C)=>{y.listen(A,S=>{try{C(S)}catch(E){setTimeout(()=>{throw E},0)}})};return g(d,Sd.EventType.OPEN,()=>{p||(st(jr,`RPC '${e}' stream ${i} transport opened.`),m.yo())}),g(d,Sd.EventType.CLOSE,()=>{p||(p=!0,st(jr,`RPC '${e}' stream ${i} transport closed`),m.So())}),g(d,Sd.EventType.ERROR,y=>{p||(p=!0,sc(jr,`RPC '${e}' stream ${i} transport errored:`,y),m.So(new Ke(Ee.UNAVAILABLE,"The operation could not be completed")))}),g(d,Sd.EventType.MESSAGE,y=>{var A;if(!p){const C=y.data[0];mn(!!C);const S=C,E=S.error||((A=S[0])===null||A===void 0?void 0:A.error);if(E){st(jr,`RPC '${e}' stream ${i} received error:`,E);const k=E.status;let x=function(_){const T=lr[_];if(T!==void 0)return tD(T)}(k),I=E.message;x===void 0&&(x=Ee.INTERNAL,I="Unknown error status: "+k+" with message "+E.message),p=!0,m.So(new Ke(x,I)),d.close()}else st(jr,`RPC '${e}' stream ${i} received:`,C),m.bo(C)}}),g(a,Ox.STAT_EVENT,y=>{y.stat===a0.PROXY?st(jr,`RPC '${e}' stream ${i} detected buffering proxy`):y.stat===a0.NOPROXY&&st(jr,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{m.wo()},0),m}}function Cy(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sv(t){return new t8(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fD{constructor(e,n,r=1e3,i=1.5,s=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=i,this.Qo=s,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,n-r);i>0&&st("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pD{constructor(e,n,r,i,s,o,a,l){this.ui=e,this.Ho=r,this.Jo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new fD(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===Ee.RESOURCE_EXHAUSTED?(Io(n.toString()),Io("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===Ee.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(n)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===n&&this.P_(r,i)},r=>{e(()=>{const i=new Ke(Ee.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,n){const r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return st("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(st("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class z8 extends pD{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const n=i8(this.serializer,e),r=function(s){if(!("targetChange"in s))return Tt.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?Tt.min():o.readTime?$s(o.readTime):Tt.min()}(e);return this.listener.d_(n,r)}A_(e){const n={};n.database=v0(this.serializer),n.addTarget=function(s,o){let a;const l=o.target;if(a=h0(l)?{documents:a8(s,l)}:{query:l8(s,l)._t},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=iD(s,o.resumeToken);const u=p0(s,o.expectedCount);u!==null&&(a.expectedCount=u)}else if(o.snapshotVersion.compareTo(Tt.min())>0){a.readTime=Mm(s,o.snapshotVersion.toTimestamp());const u=p0(s,o.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);const r=c8(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){const n={};n.database=v0(this.serializer),n.removeTarget=e,this.a_(n)}}class K8 extends pD{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return mn(!!e.streamToken),this.lastStreamToken=e.streamToken,mn(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){mn(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const n=o8(e.writeResults,e.commitTime),r=$s(e.commitTime);return this.listener.g_(r,n)}p_(){const e={};e.database=v0(this.serializer),this.a_(e)}m_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>s8(this.serializer,r))};this.a_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G8 extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new Ke(Ee.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Mo(e,m0(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===Ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Ke(Ee.UNKNOWN,s.toString())})}Lo(e,n,r,i,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Lo(e,m0(n,r),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===Ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Ke(Ee.UNKNOWN,o.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class Y8{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Io(n),this.D_=!1):st("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q8{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=s,this.k_._o(o=>{r.enqueueAndForget(async()=>{zl(this)&&(st("RemoteStore","Restarting streams for network reachability change."),await async function(l){const u=Et(l);u.L_.add(4),await vf(u),u.q_.set("Unknown"),u.L_.delete(4),await ov(u)}(this))})}),this.q_=new Y8(r,i)}}async function ov(t){if(zl(t))for(const e of t.B_)await e(!0)}async function vf(t){for(const e of t.B_)await e(!1)}function mD(t,e){const n=Et(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),Lw(n)?Mw(n):Nc(n).r_()&&Nw(n,e))}function Dw(t,e){const n=Et(t),r=Nc(n);n.N_.delete(e),r.r_()&&gD(n,e),n.N_.size===0&&(r.r_()?r.o_():zl(n)&&n.q_.set("Unknown"))}function Nw(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Tt.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Nc(t).A_(e)}function gD(t,e){t.Q_.xe(e),Nc(t).R_(e)}function Mw(t){t.Q_=new X9({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),Nc(t).start(),t.q_.v_()}function Lw(t){return zl(t)&&!Nc(t).n_()&&t.N_.size>0}function zl(t){return Et(t).L_.size===0}function vD(t){t.Q_=void 0}async function X8(t){t.q_.set("Online")}async function J8(t){t.N_.forEach((e,n)=>{Nw(t,e)})}async function Z8(t,e){vD(t),Lw(t)?(t.q_.M_(e),Mw(t)):t.q_.set("Unknown")}async function eB(t,e,n){if(t.q_.set("Online"),e instanceof rD&&e.state===2&&e.cause)try{await async function(i,s){const o=s.cause;for(const a of s.targetIds)i.N_.has(a)&&(await i.remoteSyncer.rejectListen(a,o),i.N_.delete(a),i.Q_.removeTarget(a))}(t,e)}catch(r){st("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Lm(t,r)}else if(e instanceof zp?t.Q_.Ke(e):e instanceof nD?t.Q_.He(e):t.Q_.We(e),!n.isEqual(Tt.min()))try{const r=await hD(t.localStore);n.compareTo(r)>=0&&await function(s,o){const a=s.Q_.rt(o);return a.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const c=s.N_.get(u);c&&s.N_.set(u,c.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,u)=>{const c=s.N_.get(l);if(!c)return;s.N_.set(l,c.withResumeToken(Fr.EMPTY_BYTE_STRING,c.snapshotVersion)),gD(s,l);const d=new aa(c.target,l,u,c.sequenceNumber);Nw(s,d)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){st("RemoteStore","Failed to raise snapshot:",r),await Lm(t,r)}}async function Lm(t,e,n){if(!pf(e))throw e;t.L_.add(1),await vf(t),t.q_.set("Offline"),n||(n=()=>hD(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{st("RemoteStore","Retrying IndexedDB access"),await n(),t.L_.delete(1),await ov(t)})}function yD(t,e){return e().catch(n=>Lm(t,n,e))}async function av(t){const e=Et(t),n=Pa(e);let r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;tB(e);)try{const i=await $8(e.localStore,r);if(i===null){e.O_.length===0&&n.o_();break}r=i.batchId,nB(e,i)}catch(i){await Lm(e,i)}bD(e)&&_D(e)}function tB(t){return zl(t)&&t.O_.length<10}function nB(t,e){t.O_.push(e);const n=Pa(t);n.r_()&&n.V_&&n.m_(e.mutations)}function bD(t){return zl(t)&&!Pa(t).n_()&&t.O_.length>0}function _D(t){Pa(t).start()}async function rB(t){Pa(t).p_()}async function iB(t){const e=Pa(t);for(const n of t.O_)e.m_(n.mutations)}async function sB(t,e,n){const r=t.O_.shift(),i=Aw.from(r,e,n);await yD(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await av(t)}async function oB(t,e){e&&Pa(t).V_&&await async function(r,i){if(function(o){return G9(o)&&o!==Ee.ABORTED}(i.code)){const s=r.O_.shift();Pa(r).s_(),await yD(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await av(r)}}(t,e),bD(t)&&_D(t)}async function SI(t,e){const n=Et(t);n.asyncQueue.verifyOperationInProgress(),st("RemoteStore","RemoteStore received new credentials");const r=zl(n);n.L_.add(3),await vf(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),await ov(n)}async function aB(t,e){const n=Et(t);e?(n.L_.delete(2),await ov(n)):e||(n.L_.add(2),await vf(n),n.q_.set("Unknown"))}function Nc(t){return t.K_||(t.K_=function(n,r,i){const s=Et(n);return s.w_(),new z8(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:X8.bind(null,t),Ro:J8.bind(null,t),mo:Z8.bind(null,t),d_:eB.bind(null,t)}),t.B_.push(async e=>{e?(t.K_.s_(),Lw(t)?Mw(t):t.q_.set("Unknown")):(await t.K_.stop(),vD(t))})),t.K_}function Pa(t){return t.U_||(t.U_=function(n,r,i){const s=Et(n);return s.w_(),new K8(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:rB.bind(null,t),mo:oB.bind(null,t),f_:iB.bind(null,t),g_:sB.bind(null,t)}),t.B_.push(async e=>{e?(t.U_.s_(),await av(t)):(await t.U_.stop(),t.O_.length>0&&(st("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))})),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vw{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new _o,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new Vw(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Ke(Ee.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function $w(t,e){if(Io("AsyncQueue",`${e}: ${t}`),pf(t))return new Ke(Ee.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bu{constructor(e){this.comparator=e?(n,r)=>e(n,r)||ht.comparator(n.key,r.key):(n,r)=>ht.comparator(n.key,r.key),this.keyedMap=Id(),this.sortedSet=new pr(this.comparator)}static emptySet(e){return new Bu(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Bu)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Bu;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class II{constructor(){this.W_=new pr(ht.comparator)}track(e){const n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):yt():this.W_=this.W_.insert(n,e)}G_(){const e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}}class dc{constructor(e,n,r,i,s,o,a,l,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new dc(e,n,Bu.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&ev(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lB{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class uB{constructor(){this.queries=CI(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){const i=Et(n),s=i.queries;i.queries=CI(),s.forEach((o,a)=>{for(const l of a.j_)l.onError(r)})})(this,new Ke(Ee.ABORTED,"Firestore shutting down"))}}function CI(){return new Dc(t=>jx(t),ev)}async function Fw(t,e){const n=Et(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.H_()&&e.J_()&&(r=2):(s=new lB,r=e.J_()?0:1);try{switch(r){case 0:s.z_=await n.onListen(i,!0);break;case 1:s.z_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(o){const a=$w(o,`Initialization of query '${pu(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,s),s.j_.push(e),e.Z_(n.onlineState),s.z_&&e.X_(s.z_)&&qw(n)}async function Uw(t,e){const n=Et(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const o=s.j_.indexOf(e);o>=0&&(s.j_.splice(o,1),s.j_.length===0?i=e.J_()?0:1:!s.H_()&&e.J_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function cB(t,e){const n=Et(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.j_)a.X_(i)&&(r=!0);o.z_=i}}r&&qw(n)}function dB(t,e,n){const r=Et(t),i=r.queries.get(e);if(i)for(const s of i.j_)s.onError(n);r.queries.delete(e)}function qw(t){t.Y_.forEach(e=>{e.next()})}var b0,AI;(AI=b0||(b0={})).ea="default",AI.Cache="cache";class Bw{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new dc(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;const r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=dc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==b0.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wD{constructor(e){this.key=e}}class TD{constructor(e){this.key=e}}class hB{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=Mt(),this.mutatedKeys=Mt(),this.Aa=Hx(e),this.Ra=new Bu(this.Aa)}get Va(){return this.Ta}ma(e,n){const r=n?n.fa:new II,i=n?n.Ra:this.Ra;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((c,d)=>{const h=i.get(c),p=tv(this.query,d)?d:null,m=!!h&&this.mutatedKeys.has(h.key),g=!!p&&(p.hasLocalMutations||this.mutatedKeys.has(p.key)&&p.hasCommittedMutations);let y=!1;h&&p?h.data.isEqual(p.data)?m!==g&&(r.track({type:3,doc:p}),y=!0):this.ga(h,p)||(r.track({type:2,doc:p}),y=!0,(l&&this.Aa(p,l)>0||u&&this.Aa(p,u)<0)&&(a=!0)):!h&&p?(r.track({type:0,doc:p}),y=!0):h&&!p&&(r.track({type:1,doc:h}),y=!0,(l||u)&&(a=!0)),y&&(p?(o=o.add(p),s=g?s.add(c):s.delete(c)):(o=o.delete(c),s=s.delete(c)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const c=this.query.limitType==="F"?o.last():o.first();o=o.delete(c.key),s=s.delete(c.key),r.track({type:1,doc:c})}return{Ra:o,fa:r,ns:a,mutatedKeys:s}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const o=e.fa.G_();o.sort((c,d)=>function(p,m){const g=y=>{switch(y){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return yt()}};return g(p)-g(m)}(c.type,d.type)||this.Aa(c.doc,d.doc)),this.pa(r),i=i!=null&&i;const a=n&&!i?this.ya():[],l=this.da.size===0&&this.current&&!i?1:0,u=l!==this.Ea;return this.Ea=l,o.length!==0||u?{snapshot:new dc(this.query,e.Ra,s,o,e.mutatedKeys,l===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new II,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=Mt(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});const n=[];return e.forEach(r=>{this.da.has(r)||n.push(new TD(r))}),this.da.forEach(r=>{e.has(r)||n.push(new wD(r))}),n}ba(e){this.Ta=e.Ts,this.da=Mt();const n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return dc.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class fB{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class pB{constructor(e){this.key=e,this.va=!1}}class mB{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Ca={},this.Fa=new Dc(a=>jx(a),ev),this.Ma=new Map,this.xa=new Set,this.Oa=new pr(ht.comparator),this.Na=new Map,this.La=new kw,this.Ba={},this.ka=new Map,this.qa=cc.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function gB(t,e,n=!0){const r=PD(t);let i;const s=r.Fa.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.Da()):i=await ED(r,e,n,!0),i}async function vB(t,e){const n=PD(t);await ED(n,e,!0,!1)}async function ED(t,e,n,r){const i=await F8(t.localStore,Vs(e)),s=i.targetId,o=n?t.sharedClientState.addLocalQueryTarget(s):"not-current";let a;return r&&(a=await yB(t,e,s,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&mD(t.remoteStore,i),a}async function yB(t,e,n,r,i){t.Ka=(d,h,p)=>async function(g,y,A,C){let S=y.view.ma(A);S.ns&&(S=await wI(g.localStore,y.query,!1).then(({documents:I})=>y.view.ma(I,S)));const E=C&&C.targetChanges.get(y.targetId),k=C&&C.targetMismatches.get(y.targetId)!=null,x=y.view.applyChanges(S,g.isPrimaryClient,E,k);return OI(g,y.targetId,x.wa),x.snapshot}(t,d,h,p);const s=await wI(t.localStore,e,!0),o=new hB(e,s.Ts),a=o.ma(s.documents),l=gf.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=o.applyChanges(a,t.isPrimaryClient,l);OI(t,n,u.wa);const c=new fB(e,n,o);return t.Fa.set(e,c),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),u.snapshot}async function bB(t,e,n){const r=Et(t),i=r.Fa.get(e),s=r.Ma.get(i.targetId);if(s.length>1)return r.Ma.set(i.targetId,s.filter(o=>!ev(o,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await y0(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&Dw(r.remoteStore,i.targetId),_0(r,i.targetId)}).catch(ff)):(_0(r,i.targetId),await y0(r.localStore,i.targetId,!0))}async function _B(t,e){const n=Et(t),r=n.Fa.get(e),i=n.Ma.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Dw(n.remoteStore,r.targetId))}async function wB(t,e,n){const r=PB(t);try{const i=await function(o,a){const l=Et(o),u=Ln.now(),c=a.reduce((p,m)=>p.add(m.key),Mt());let d,h;return l.persistence.runTransaction("Locally write mutations","readwrite",p=>{let m=Co(),g=Mt();return l.cs.getEntries(p,c).next(y=>{m=y,m.forEach((A,C)=>{C.isValidDocument()||(g=g.add(A))})}).next(()=>l.localDocuments.getOverlayedDocuments(p,m)).next(y=>{d=y;const A=[];for(const C of a){const S=j9(C,d.get(C.key).overlayedDocument);S!=null&&A.push(new Va(C.key,S,Lx(S.value.mapValue),Xi.exists(!0)))}return l.mutationQueue.addMutationBatch(p,u,A,a)}).next(y=>{h=y;const A=y.applyToLocalDocumentSet(d,g);return l.documentOverlayCache.saveOverlays(p,y.batchId,A)})}).then(()=>({batchId:h.batchId,changes:zx(d)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,l){let u=o.Ba[o.currentUser.toKey()];u||(u=new pr(Jt)),u=u.insert(a,l),o.Ba[o.currentUser.toKey()]=u}(r,i.batchId,n),await yf(r,i.changes),await av(r.remoteStore)}catch(i){const s=$w(i,"Failed to persist write");n.reject(s)}}async function SD(t,e){const n=Et(t);try{const r=await L8(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.Na.get(s);o&&(mn(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.va=!0:i.modifiedDocuments.size>0?mn(o.va):i.removedDocuments.size>0&&(mn(o.va),o.va=!1))}),await yf(n,r,e)}catch(r){await ff(r)}}function PI(t,e,n){const r=Et(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Fa.forEach((s,o)=>{const a=o.view.Z_(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){const l=Et(o);l.onlineState=a;let u=!1;l.queries.forEach((c,d)=>{for(const h of d.j_)h.Z_(a)&&(u=!0)}),u&&qw(l)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function TB(t,e,n){const r=Et(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Na.get(e),s=i&&i.key;if(s){let o=new pr(ht.comparator);o=o.insert(s,Gr.newNoDocument(s,Tt.min()));const a=Mt().add(s),l=new iv(Tt.min(),new Map,new pr(Jt),o,a);await SD(r,l),r.Oa=r.Oa.remove(s),r.Na.delete(e),jw(r)}else await y0(r.localStore,e,!1).then(()=>_0(r,e,n)).catch(ff)}async function EB(t,e){const n=Et(t),r=e.batch.batchId;try{const i=await M8(n.localStore,e);CD(n,r,null),ID(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await yf(n,i)}catch(i){await ff(i)}}async function SB(t,e,n){const r=Et(t);try{const i=await function(o,a){const l=Et(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let c;return l.mutationQueue.lookupMutationBatch(u,a).next(d=>(mn(d!==null),c=d.keys(),l.mutationQueue.removeMutationBatch(u,d))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,c,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,c)).next(()=>l.localDocuments.getDocuments(u,c))})}(r.localStore,e);CD(r,e,n),ID(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await yf(r,i)}catch(i){await ff(i)}}function ID(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function CD(t,e,n){const r=Et(t);let i=r.Ba[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function _0(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||AD(t,r)})}function AD(t,e){t.xa.delete(e.path.canonicalString());const n=t.Oa.get(e);n!==null&&(Dw(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),jw(t))}function OI(t,e,n){for(const r of n)r instanceof wD?(t.La.addReference(r.key,e),IB(t,r)):r instanceof TD?(st("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||AD(t,r.key)):yt()}function IB(t,e){const n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(st("SyncEngine","New document in limbo: "+n),t.xa.add(r),jw(t))}function jw(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const n=new ht(yn.fromString(e)),r=t.qa.next();t.Na.set(r,new pB(n)),t.Oa=t.Oa.insert(n,r),mD(t.remoteStore,new aa(Vs(Zg(n.path)),r,"TargetPurposeLimboResolution",bw.oe))}}async function yf(t,e,n){const r=Et(t),i=[],s=[],o=[];r.Fa.isEmpty()||(r.Fa.forEach((a,l)=>{o.push(r.Ka(l,e,n).then(u=>{var c;if((u||n)&&r.isPrimaryClient){const d=u?!u.fromCache:(c=n==null?void 0:n.targetChanges.get(l.targetId))===null||c===void 0?void 0:c.current;r.sharedClientState.updateQueryState(l.targetId,d?"current":"not-current")}if(u){i.push(u);const d=xw.Wi(l.targetId,u);s.push(d)}}))}),await Promise.all(o),r.Ca.d_(i),await async function(l,u){const c=Et(l);try{await c.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>Oe.forEach(u,h=>Oe.forEach(h.$i,p=>c.persistence.referenceDelegate.addReference(d,h.targetId,p)).next(()=>Oe.forEach(h.Ui,p=>c.persistence.referenceDelegate.removeReference(d,h.targetId,p)))))}catch(d){if(!pf(d))throw d;st("LocalStore","Failed to update sequence numbers: "+d)}for(const d of u){const h=d.targetId;if(!d.fromCache){const p=c.os.get(h),m=p.snapshotVersion,g=p.withLastLimboFreeSnapshotVersion(m);c.os=c.os.insert(h,g)}}}(r.localStore,s))}async function CB(t,e){const n=Et(t);if(!n.currentUser.isEqual(e)){st("SyncEngine","User change. New user:",e.toKey());const r=await dD(n.localStore,e);n.currentUser=e,function(s,o){s.ka.forEach(a=>{a.forEach(l=>{l.reject(new Ke(Ee.CANCELLED,o))})}),s.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await yf(n,r.hs)}}function AB(t,e){const n=Et(t),r=n.Na.get(e);if(r&&r.va)return Mt().add(r.key);{let i=Mt();const s=n.Ma.get(e);if(!s)return i;for(const o of s){const a=n.Fa.get(o);i=i.unionWith(a.view.Va)}return i}}function PD(t){const e=Et(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=SD.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=AB.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=TB.bind(null,e),e.Ca.d_=cB.bind(null,e.eventManager),e.Ca.$a=dB.bind(null,e.eventManager),e}function PB(t){const e=Et(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=EB.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=SB.bind(null,e),e}class kI{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=sv(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return N8(this.persistence,new x8,e.initialUser,this.serializer)}createPersistence(e){return new O8(Rw.Zr,this.serializer)}createSharedClientState(e){return new q8}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class OB{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>PI(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=CB.bind(null,this.syncEngine),await aB(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new uB}()}createDatastore(e){const n=sv(e.databaseInfo.databaseId),r=function(s){return new W8(s)}(e.databaseInfo);return function(s,o,a,l){return new G8(s,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,a){return new Q8(r,i,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>PI(this.syncEngine,n,0),function(){return EI.D()?new EI:new B8}())}createSyncEngine(e,n){return function(i,s,o,a,l,u,c){const d=new mB(i,s,o,a,l,u);return c&&(d.Qa=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const s=Et(i);st("RemoteStore","RemoteStore shutting down."),s.L_.add(5),await vf(s),s.k_.shutdown(),s.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hw{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ga(this.observer.next,e)}error(e){this.observer.error?this.Ga(this.observer.error,e):Io("Uncaught Error in snapshot listener:",e.toString())}za(){this.muted=!0}Ga(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kB{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=zr.UNAUTHENTICATED,this.clientId=Dx.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async s=>{st("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(st("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Ke(Ee.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new _o;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=$w(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Ay(t,e){t.asyncQueue.verifyOperationInProgress(),st("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await dD(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function RI(t,e){t.asyncQueue.verifyOperationInProgress();const n=await xB(t);st("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>SI(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>SI(e.remoteStore,i)),t._onlineComponents=e}function RB(t){return t.name==="FirebaseError"?t.code===Ee.FAILED_PRECONDITION||t.code===Ee.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function xB(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){st("FirestoreClient","Using user provided OfflineComponentProvider");try{await Ay(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!RB(n))throw n;sc("Error using user provided cache. Falling back to memory cache: "+n),await Ay(t,new kI)}}else st("FirestoreClient","Using default OfflineComponentProvider"),await Ay(t,new kI);return t._offlineComponents}async function OD(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(st("FirestoreClient","Using user provided OnlineComponentProvider"),await RI(t,t._uninitializedComponentsProvider._online)):(st("FirestoreClient","Using default OnlineComponentProvider"),await RI(t,new OB))),t._onlineComponents}function DB(t){return OD(t).then(e=>e.syncEngine)}async function Vm(t){const e=await OD(t),n=e.eventManager;return n.onListen=gB.bind(null,e.syncEngine),n.onUnlisten=bB.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=vB.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=_B.bind(null,e.syncEngine),n}function NB(t,e,n={}){const r=new _o;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,u){const c=new Hw({next:h=>{o.enqueueAndForget(()=>Uw(s,d));const p=h.docs.has(a);!p&&h.fromCache?u.reject(new Ke(Ee.UNAVAILABLE,"Failed to get document because the client is offline.")):p&&h.fromCache&&l&&l.source==="server"?u.reject(new Ke(Ee.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(h)},error:h=>u.reject(h)}),d=new Bw(Zg(a.path),c,{includeMetadataChanges:!0,_a:!0});return Fw(s,d)}(await Vm(t),t.asyncQueue,e,n,r)),r.promise}function MB(t,e,n={}){const r=new _o;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,u){const c=new Hw({next:h=>{o.enqueueAndForget(()=>Uw(s,d)),h.fromCache&&l.source==="server"?u.reject(new Ke(Ee.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(h)},error:h=>u.reject(h)}),d=new Bw(a,c,{includeMetadataChanges:!0,_a:!0});return Fw(s,d)}(await Vm(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kD(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xI=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RD(t,e,n){if(!n)throw new Ke(Ee.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function LB(t,e,n,r){if(e===!0&&r===!0)throw new Ke(Ee.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function DI(t){if(!ht.isDocumentKey(t))throw new Ke(Ee.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function NI(t){if(ht.isDocumentKey(t))throw new Ke(Ee.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function lv(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":yt()}function Ai(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Ke(Ee.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=lv(t);throw new Ke(Ee.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function VB(t,e){if(e<=0)throw new Ke(Ee.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MI{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new Ke(Ee.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new Ke(Ee.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}LB("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=kD((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new Ke(Ee.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new Ke(Ee.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new Ke(Ee.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class uv{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new MI({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Ke(Ee.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new Ke(Ee.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new MI(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new Jq;switch(r.type){case"firstParty":return new n9(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Ke(Ee.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=xI.get(n);r&&(st("ComponentProvider","Removing Datastore"),xI.delete(n),r.terminate())}(this),Promise.resolve()}}function $B(t,e,n,r={}){var i;const s=(t=Ai(t,uv))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&sc("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,l;if(typeof r.mockUserToken=="string")a=r.mockUserToken,l=zr.MOCK_USER;else{a=SR(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new Ke(Ee.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new zr(u)}t._authCredentials=new Zq(new xx(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qs{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Qs(this.firestore,e,this._query)}}class ii{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ma(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ii(this.firestore,e,this._key)}}class ma extends Qs{constructor(e,n,r){super(e,n,Zg(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ii(this.firestore,null,new ht(e))}withConverter(e){return new ma(this.firestore,e,this._path)}}function zi(t,e,...n){if(t=Zt(t),RD("collection","path",e),t instanceof uv){const r=yn.fromString(e,...n);return NI(r),new ma(t,null,r)}{if(!(t instanceof ii||t instanceof ma))throw new Ke(Ee.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(yn.fromString(e,...n));return NI(r),new ma(t.firestore,null,r)}}function Wt(t,e,...n){if(t=Zt(t),arguments.length===1&&(e=Dx.newId()),RD("doc","path",e),t instanceof uv){const r=yn.fromString(e,...n);return DI(r),new ii(t,null,new ht(r))}{if(!(t instanceof ii||t instanceof ma))throw new Ke(Ee.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(yn.fromString(e,...n));return DI(r),new ii(t.firestore,t instanceof ma?t.converter:null,new ht(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FB{constructor(){this.au=Promise.resolve(),this.uu=[],this.cu=!1,this.lu=[],this.hu=null,this.Pu=!1,this.Iu=!1,this.Tu=[],this.t_=new fD(this,"async_queue_retry"),this.Eu=()=>{const n=Cy();n&&st("AsyncQueue","Visibility state changed to "+n.visibilityState),this.t_.jo()};const e=Cy();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.Eu)}get isShuttingDown(){return this.cu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.du(),this.Au(e)}enterRestrictedMode(e){if(!this.cu){this.cu=!0,this.Iu=e||!1;const n=Cy();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Eu)}}enqueue(e){if(this.du(),this.cu)return new Promise(()=>{});const n=new _o;return this.Au(()=>this.cu&&this.Iu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.uu.push(e),this.Ru()))}async Ru(){if(this.uu.length!==0){try{await this.uu[0](),this.uu.shift(),this.t_.reset()}catch(e){if(!pf(e))throw e;st("AsyncQueue","Operation failed with retryable error: "+e)}this.uu.length>0&&this.t_.Go(()=>this.Ru())}}Au(e){const n=this.au.then(()=>(this.Pu=!0,e().catch(r=>{this.hu=r,this.Pu=!1;const i=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw Io("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.Pu=!1,r))));return this.au=n,n}enqueueAfterDelay(e,n,r){this.du(),this.Tu.indexOf(e)>-1&&(n=0);const i=Vw.createAndSchedule(this,e,n,r,s=>this.Vu(s));return this.lu.push(i),i}du(){this.hu&&yt()}verifyOperationInProgress(){}async mu(){let e;do e=this.au,await e;while(e!==this.au)}fu(e){for(const n of this.lu)if(n.timerId===e)return!0;return!1}gu(e){return this.mu().then(()=>{this.lu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.lu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.mu()})}pu(e){this.Tu.push(e)}Vu(e){const n=this.lu.indexOf(e);this.lu.splice(n,1)}}function LI(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const s of r)if(s in i&&typeof i[s]=="function")return!0;return!1}(t,["next","error","complete"])}class Ao extends uv{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=function(){return new FB}(),this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||xD(this),this._firestoreClient.terminate()}}function UB(t,e){const n=typeof t=="object"?t:Rc(),r=typeof t=="string"?t:e||"(default)",i=Ys(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=wR("firestore");s&&$B(i,...s)}return i}function cv(t){return t._firestoreClient||xD(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function xD(t){var e,n,r;const i=t._freezeSettings(),s=function(a,l,u,c){return new m9(a,l,u,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,kD(c.experimentalLongPollingOptions),c.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new kB(t._authCredentials,t._appCheckCredentials,t._queue,s),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hc{constructor(e){this._byteString=e}static fromBase64String(e){try{return new hc(Fr.fromBase64String(e))}catch(n){throw new Ke(Ee.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new hc(Fr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dv{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Ke(Ee.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Mr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ww{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zw{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Ke(Ee.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Ke(Ee.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Jt(this._lat,e._lat)||Jt(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kw{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qB=/^__.*__$/;class BB{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Va(e,this.data,this.fieldMask,n,this.fieldTransforms):new mf(e,this.data,n,this.fieldTransforms)}}class DD{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Va(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function ND(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw yt()}}class Gw{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.yu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get wu(){return this.settings.wu}Su(e){return new Gw(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}bu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Su({path:r,Du:!1});return i.vu(e),i}Cu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Su({path:r,Du:!1});return i.yu(),i}Fu(e){return this.Su({path:void 0,Du:!0})}Mu(e){return $m(e,this.settings.methodName,this.settings.xu||!1,this.path,this.settings.Ou)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}yu(){if(this.path)for(let e=0;e<this.path.length;e++)this.vu(this.path.get(e))}vu(e){if(e.length===0)throw this.Mu("Document fields must not be empty");if(ND(this.wu)&&qB.test(e))throw this.Mu('Document fields cannot begin and end with "__"')}}class jB{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||sv(e)}Nu(e,n,r,i=!1){return new Gw({wu:e,methodName:n,Ou:r,path:Mr.emptyPath(),Du:!1,xu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function bf(t){const e=t._freezeSettings(),n=sv(t._databaseId);return new jB(t._databaseId,!!e.ignoreUndefinedProperties,n)}function MD(t,e,n,r,i,s={}){const o=t.Nu(s.merge||s.mergeFields?2:0,e,n,i);Yw("Data must be an object, but it was:",o,r);const a=VD(r,o);let l,u;if(s.merge)l=new Ni(o.fieldMask),u=o.fieldTransforms;else if(s.mergeFields){const c=[];for(const d of s.mergeFields){const h=w0(e,d,n);if(!o.contains(h))throw new Ke(Ee.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);FD(c,h)||c.push(h)}l=new Ni(c),u=o.fieldTransforms.filter(d=>l.covers(d.field))}else l=null,u=o.fieldTransforms;return new BB(new Ti(a),l,u)}class hv extends Ww{_toFieldTransform(e){if(e.wu!==2)throw e.wu===1?e.Mu(`${this._methodName}() can only appear at the top level of your update data`):e.Mu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof hv}}function HB(t,e,n,r){const i=t.Nu(1,e,n);Yw("Data must be an object, but it was:",i,r);const s=[],o=Ti.empty();Hl(r,(l,u)=>{const c=Qw(e,l,n);u=Zt(u);const d=i.Cu(c);if(u instanceof hv)s.push(c);else{const h=_f(u,d);h!=null&&(s.push(c),o.set(c,h))}});const a=new Ni(s);return new DD(o,a,i.fieldTransforms)}function WB(t,e,n,r,i,s){const o=t.Nu(1,e,n),a=[w0(e,r,n)],l=[i];if(s.length%2!=0)throw new Ke(Ee.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<s.length;h+=2)a.push(w0(e,s[h])),l.push(s[h+1]);const u=[],c=Ti.empty();for(let h=a.length-1;h>=0;--h)if(!FD(u,a[h])){const p=a[h];let m=l[h];m=Zt(m);const g=o.Cu(p);if(m instanceof hv)u.push(p);else{const y=_f(m,g);y!=null&&(u.push(p),c.set(p,y))}}const d=new Ni(u);return new DD(c,d,o.fieldTransforms)}function LD(t,e,n,r=!1){return _f(n,t.Nu(r?4:3,e))}function _f(t,e){if($D(t=Zt(t)))return Yw("Unsupported field value:",e,t),VD(t,e);if(t instanceof Ww)return function(r,i){if(!ND(i.wu))throw i.Mu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Mu(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Du&&e.wu!==4)throw e.Mu("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const a of r){let l=_f(a,i.Fu(o));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=Zt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return V9(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=Ln.fromDate(r);return{timestampValue:Mm(i.serializer,s)}}if(r instanceof Ln){const s=new Ln(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Mm(i.serializer,s)}}if(r instanceof zw)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof hc)return{bytesValue:iD(i.serializer,r._byteString)};if(r instanceof ii){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Mu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:Ow(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Kw)return function(o,a){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:o.toArray().map(l=>{if(typeof l!="number")throw a.Mu("VectorValues must only contain numeric values.");return Iw(a.serializer,l)})}}}}}}(r,i);throw i.Mu(`Unsupported field value: ${lv(r)}`)}(t,e)}function VD(t,e){const n={};return Nx(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Hl(t,(r,i)=>{const s=_f(i,e.bu(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function $D(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Ln||t instanceof zw||t instanceof hc||t instanceof ii||t instanceof Ww||t instanceof Kw)}function Yw(t,e,n){if(!$D(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=lv(n);throw r==="an object"?e.Mu(t+" a custom object"):e.Mu(t+" "+r)}}function w0(t,e,n){if((e=Zt(e))instanceof dv)return e._internalPath;if(typeof e=="string")return Qw(t,e);throw $m("Field path arguments must be of type string or ",t,!1,void 0,n)}const zB=new RegExp("[~\\*/\\[\\]]");function Qw(t,e,n){if(e.search(zB)>=0)throw $m(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new dv(...e.split("."))._internalPath}catch{throw $m(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function $m(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new Ke(Ee.INVALID_ARGUMENT,a+t+l)}function FD(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xw{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new ii(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new KB(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(fv("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class KB extends Xw{data(){return super.data()}}function fv(t,e){return typeof e=="string"?Qw(t,e):e instanceof dv?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UD(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Ke(Ee.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Jw{}class pv extends Jw{}function T0(t,e,...n){let r=[];e instanceof Jw&&r.push(e),r=r.concat(n),function(s){const o=s.filter(l=>l instanceof Zw).length,a=s.filter(l=>l instanceof mv).length;if(o>1||o>0&&a>0)throw new Ke(Ee.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class mv extends pv{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new mv(e,n,r)}_apply(e){const n=this._parse(e);return qD(e._query,n),new Qs(e.firestore,e.converter,f0(e._query,n))}_parse(e){const n=bf(e.firestore);return function(s,o,a,l,u,c,d){let h;if(u.isKeyField()){if(c==="array-contains"||c==="array-contains-any")throw new Ke(Ee.INVALID_ARGUMENT,`Invalid Query. You can't perform '${c}' queries on documentId().`);if(c==="in"||c==="not-in"){FI(d,c);const p=[];for(const m of d)p.push($I(l,s,m));h={arrayValue:{values:p}}}else h=$I(l,s,d)}else c!=="in"&&c!=="not-in"&&c!=="array-contains-any"||FI(d,c),h=LD(a,o,d,c==="in"||c==="not-in");return dr.create(u,c,h)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Fm(t,e,n){const r=e,i=fv("where",t);return mv._create(i,r,n)}class Zw extends Jw{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Zw(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Ts.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,s){let o=i;const a=s.getFlattenedFilters();for(const l of a)qD(o,l),o=f0(o,l)}(e._query,n),new Qs(e.firestore,e.converter,f0(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class e1 extends pv{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new e1(e,n)}_apply(e){const n=function(i,s,o){if(i.startAt!==null)throw new Ke(Ee.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new Ke(Ee.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Ch(s,o)}(e._query,this._field,this._direction);return new Qs(e.firestore,e.converter,function(i,s){const o=i.explicitOrderBy.concat([s]);return new Wl(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}}function VI(t,e="asc"){const n=e,r=fv("orderBy",t);return e1._create(r,n)}class t1 extends pv{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new t1(e,n,r)}_apply(e){return new Qs(e.firestore,e.converter,xm(e._query,this._limit,this._limitType))}}function GB(t){return VB("limit",t),t1._create("limit",t,"F")}class n1 extends pv{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new n1(e,n,r)}_apply(e){const n=QB(e,this.type,this._docOrFields,this._inclusive);return new Qs(e.firestore,e.converter,function(i,s){return new Wl(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,s,i.endAt)}(e._query,n))}}function YB(...t){return n1._create("startAfter",t,!1)}function QB(t,e,n,r){if(n[0]=Zt(n[0]),n[0]instanceof Xw)return function(s,o,a,l,u){if(!l)throw new Ke(Ee.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${a}().`);const c=[];for(const d of qu(s))if(d.field.isKeyField())c.push(Rm(o,l.key));else{const h=l.data.field(d.field);if(Jg(h))throw new Ke(Ee.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+d.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(h===null){const p=d.field.canonicalString();throw new Ke(Ee.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${p}' (used as the orderBy) does not exist.`)}c.push(h)}return new uc(c,u)}(t._query,t.firestore._databaseId,e,n[0]._document,r);{const i=bf(t.firestore);return function(o,a,l,u,c,d){const h=o.explicitOrderBy;if(c.length>h.length)throw new Ke(Ee.INVALID_ARGUMENT,`Too many arguments provided to ${u}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const p=[];for(let m=0;m<c.length;m++){const g=c[m];if(h[m].field.isKeyField()){if(typeof g!="string")throw new Ke(Ee.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${u}(), but got a ${typeof g}`);if(!Sw(o)&&g.indexOf("/")!==-1)throw new Ke(Ee.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${u}() must be a plain document ID, but '${g}' contains a slash.`);const y=o.path.child(yn.fromString(g));if(!ht.isDocumentKey(y))throw new Ke(Ee.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${u}() must result in a valid document path, but '${y}' is not because it contains an odd number of segments.`);const A=new ht(y);p.push(Rm(a,A))}else{const y=LD(l,u,g);p.push(y)}}return new uc(p,d)}(t._query,t.firestore._databaseId,i,e,n,r)}}function $I(t,e,n){if(typeof(n=Zt(n))=="string"){if(n==="")throw new Ke(Ee.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Sw(e)&&n.indexOf("/")!==-1)throw new Ke(Ee.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(yn.fromString(n));if(!ht.isDocumentKey(r))throw new Ke(Ee.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Rm(t,new ht(r))}if(n instanceof ii)return Rm(t,n._key);throw new Ke(Ee.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${lv(n)}.`)}function FI(t,e){if(!Array.isArray(t)||t.length===0)throw new Ke(Ee.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function qD(t,e){const n=function(i,s){for(const o of i)for(const a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new Ke(Ee.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Ke(Ee.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class XB{convertValue(e,n="none"){switch(Rl(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Zn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(kl(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw yt()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Hl(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertVectorValue(e){var n,r,i;const s=(i=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(o=>Zn(o.doubleValue));return new Kw(s)}convertGeoPoint(e){return new zw(Zn(e.latitude),Zn(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=_w(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Eh(e));default:return null}}convertTimestamp(e){const n=Aa(e);return new Ln(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=yn.fromString(e);mn(cD(r));const i=new Sh(r.get(1),r.get(3)),s=new ht(r.popFirst(5));return i.isEqual(n)||Io(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BD(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ad{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class jD extends Xw{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Kp(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(fv("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Kp extends jD{data(e={}){return super.data(e)}}class HD{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Ad(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Kp(this._firestore,this._userDataWriter,r.key,r,new Ad(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Ke(Ee.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{const l=new Kp(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Ad(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{const l=new Kp(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Ad(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,c=-1;return a.type!==0&&(u=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),c=o.indexOf(a.doc.key)),{type:JB(a.type),doc:l,oldIndex:u,newIndex:c}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function JB(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return yt()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZB(t){t=Ai(t,ii);const e=Ai(t.firestore,Ao);return NB(cv(e),t._key).then(n=>WD(e,t,n))}class r1 extends XB{constructor(e){super(),this.firestore=e}convertBytes(e){return new hc(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new ii(this.firestore,null,n)}}function ej(t){t=Ai(t,Qs);const e=Ai(t.firestore,Ao),n=cv(e),r=new r1(e);return UD(t._query),MB(n,t._query).then(i=>new HD(e,r,t,i))}function tj(t,e,n){t=Ai(t,ii);const r=Ai(t.firestore,Ao),i=BD(t.converter,e,n);return gv(r,[MD(bf(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,Xi.none())])}function nj(t,e,n,...r){t=Ai(t,ii);const i=Ai(t.firestore,Ao),s=bf(i);let o;return o=typeof(e=Zt(e))=="string"||e instanceof dv?WB(s,"updateDoc",t._key,e,n,r):HB(s,"updateDoc",t._key,e),gv(i,[o.toMutation(t._key,Xi.exists(!0))])}function rj(t){return gv(Ai(t.firestore,Ao),[new Cw(t._key,Xi.none())])}function ij(t,e){const n=Ai(t.firestore,Ao),r=Wt(t),i=BD(t.converter,e);return gv(n,[MD(bf(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Xi.exists(!1))]).then(()=>r)}function Tu(t,...e){var n,r,i;t=Zt(t);let s={includeMetadataChanges:!1,source:"default"},o=0;typeof e[o]!="object"||LI(e[o])||(s=e[o],o++);const a={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if(LI(e[o])){const d=e[o];e[o]=(n=d.next)===null||n===void 0?void 0:n.bind(d),e[o+1]=(r=d.error)===null||r===void 0?void 0:r.bind(d),e[o+2]=(i=d.complete)===null||i===void 0?void 0:i.bind(d)}let l,u,c;if(t instanceof ii)u=Ai(t.firestore,Ao),c=Zg(t._key.path),l={next:d=>{e[o]&&e[o](WD(u,t,d))},error:e[o+1],complete:e[o+2]};else{const d=Ai(t,Qs);u=Ai(d.firestore,Ao),c=d._query;const h=new r1(u);l={next:p=>{e[o]&&e[o](new HD(u,h,d,p))},error:e[o+1],complete:e[o+2]},UD(t._query)}return function(h,p,m,g){const y=new Hw(g),A=new Bw(p,y,m);return h.asyncQueue.enqueueAndForget(async()=>Fw(await Vm(h),A)),()=>{y.za(),h.asyncQueue.enqueueAndForget(async()=>Uw(await Vm(h),A))}}(cv(u),c,a,l)}function gv(t,e){return function(r,i){const s=new _o;return r.asyncQueue.enqueueAndForget(async()=>wB(await DB(r),i,s)),s.promise}(cv(t),e)}function WD(t,e,n){const r=n.docs.get(e._key),i=new r1(t);return new jD(t,i,e._key,r,new Ad(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){xc=i})(La),Oi(new mi("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new Ao(new e9(r.getProvider("auth-internal")),new i9(r.getProvider("app-check-internal")),function(u,c){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new Ke(Ee.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Sh(u.options.projectId,c)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),Vr(eI,"4.7.0",e),Vr(eI,"4.7.0","esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zD="firebasestorage.googleapis.com",KD="storageBucket",sj=2*60*1e3,oj=10*60*1e3,aj=1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wn extends Bi{constructor(e,n,r=0){super(Py(e),`Firebase Storage: ${n} (${Py(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Wn.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Py(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Rn;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Rn||(Rn={}));function Py(t){return"storage/"+t}function i1(){const t="An unknown error occurred, please check the error payload for server response.";return new Wn(Rn.UNKNOWN,t)}function lj(t){return new Wn(Rn.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function uj(t){return new Wn(Rn.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function cj(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Wn(Rn.UNAUTHENTICATED,t)}function dj(){return new Wn(Rn.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function hj(t){return new Wn(Rn.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function GD(){return new Wn(Rn.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function YD(){return new Wn(Rn.CANCELED,"User canceled the upload/download.")}function fj(t){return new Wn(Rn.INVALID_URL,"Invalid URL '"+t+"'.")}function pj(t){return new Wn(Rn.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function mj(){return new Wn(Rn.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+KD+"' property when initializing the app?")}function QD(){return new Wn(Rn.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function gj(){return new Wn(Rn.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}function vj(){return new Wn(Rn.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function yj(t){return new Wn(Rn.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function E0(t){return new Wn(Rn.INVALID_ARGUMENT,t)}function XD(){return new Wn(Rn.APP_DELETED,"The Firebase app was deleted.")}function bj(t){return new Wn(Rn.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function zd(t,e){return new Wn(Rn.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function id(t){throw new Wn(Rn.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mi{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=Mi.makeFromUrl(e,n)}catch{return new Mi(e,"")}if(r.path==="")return r;throw pj(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function s(E){E.path.charAt(E.path.length-1)==="/"&&(E.path_=E.path_.slice(0,-1))}const o="(/(.*))?$",a=new RegExp("^gs://"+i+o,"i"),l={bucket:1,path:3};function u(E){E.path_=decodeURIComponent(E.path)}const c="v[A-Za-z0-9_]+",d=n.replace(/[.]/g,"\\."),h="(/([^?#]*).*)?$",p=new RegExp(`^https?://${d}/${c}/b/${i}/o${h}`,"i"),m={bucket:1,path:3},g=n===zD?"(?:storage.googleapis.com|storage.cloud.google.com)":n,y="([^?#]*)",A=new RegExp(`^https?://${g}/${i}/${y}`,"i"),S=[{regex:a,indices:l,postModify:s},{regex:p,indices:m,postModify:u},{regex:A,indices:{bucket:1,path:2},postModify:u}];for(let E=0;E<S.length;E++){const k=S[E],x=k.regex.exec(e);if(x){const I=x[k.indices.bucket];let b=x[k.indices.path];b||(b=""),r=new Mi(I,b),k.postModify(r);break}}if(r==null)throw fj(e);return r}}class _j{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wj(t,e,n){let r=1,i=null,s=null,o=!1,a=0;function l(){return a===2}let u=!1;function c(...y){u||(u=!0,e.apply(null,y))}function d(y){i=setTimeout(()=>{i=null,t(p,l())},y)}function h(){s&&clearTimeout(s)}function p(y,...A){if(u){h();return}if(y){h(),c.call(null,y,...A);return}if(l()||o){h(),c.call(null,y,...A);return}r<64&&(r*=2);let S;a===1?(a=2,S=0):S=(r+Math.random())*1e3,d(S)}let m=!1;function g(y){m||(m=!0,h(),!u&&(i!==null?(y||(a=2),clearTimeout(i),d(0)):y||(a=1)))}return d(0),s=setTimeout(()=>{o=!0,g(!0)},n),g}function Tj(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ej(t){return t!==void 0}function Sj(t){return typeof t=="function"}function Ij(t){return typeof t=="object"&&!Array.isArray(t)}function vv(t){return typeof t=="string"||t instanceof String}function UI(t){return s1()&&t instanceof Blob}function s1(){return typeof Blob<"u"}function qI(t,e,n,r){if(r<e)throw E0(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw E0(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mc(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function JD(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}var ml;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(ml||(ml={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZD(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,s=e.indexOf(t)!==-1;return n||i||s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cj{constructor(e,n,r,i,s,o,a,l,u,c,d,h=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=l,this.timeout_=u,this.progressCallback_=c,this.connectionFactory_=d,this.retry=h,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((p,m)=>{this.resolve_=p,this.reject_=m,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new yp(!1,null,!0));return}const s=this.connectionFactory_();this.pendingConnection_=s;const o=a=>{const l=a.loaded,u=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,u)};this.progressCallback_!==null&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(o),this.pendingConnection_=null;const a=s.getErrorCode()===ml.NO_ERROR,l=s.getStatus();if(!a||ZD(l,this.additionalRetryCodes_)&&this.retry){const c=s.getErrorCode()===ml.ABORT;r(!1,new yp(!1,null,c));return}const u=this.successCodes_.indexOf(l)!==-1;r(!0,new yp(u,s))})},n=(r,i)=>{const s=this.resolve_,o=this.reject_,a=i.connection;if(i.wasSuccessCode)try{const l=this.callback_(a,a.getResponse());Ej(l)?s(l):s()}catch(l){o(l)}else if(a!==null){const l=i1();l.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,l)):o(l)}else if(i.canceled){const l=this.appDelete_?XD():YD();o(l)}else{const l=GD();o(l)}};this.canceled_?n(!1,new yp(!1,null,!0)):this.backoffId_=wj(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&Tj(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class yp{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function Aj(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function Pj(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function Oj(t,e){e&&(t["X-Firebase-GMPID"]=e)}function kj(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function Rj(t,e,n,r,i,s,o=!0){const a=JD(t.urlParams),l=t.url+a,u=Object.assign({},t.headers);return Oj(u,e),Aj(u,n),Pj(u,s),kj(u,r),new Cj(l,t.method,u,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xj(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function Dj(...t){const e=xj();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(s1())return new Blob(t);throw new Wn(Rn.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function Nj(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mj(t){if(typeof atob>"u")throw yj("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xs={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Oy{constructor(e,n){this.data=e,this.contentType=n||null}}function Lj(t,e){switch(t){case xs.RAW:return new Oy(e2(e));case xs.BASE64:case xs.BASE64URL:return new Oy(t2(t,e));case xs.DATA_URL:return new Oy($j(e),Fj(e))}throw i1()}function e2(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const s=r,o=t.charCodeAt(++n);r=65536|(s&1023)<<10|o&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function Vj(t){let e;try{e=decodeURIComponent(t)}catch{throw zd(xs.DATA_URL,"Malformed data URL.")}return e2(e)}function t2(t,e){switch(t){case xs.BASE64:{const i=e.indexOf("-")!==-1,s=e.indexOf("_")!==-1;if(i||s)throw zd(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case xs.BASE64URL:{const i=e.indexOf("+")!==-1,s=e.indexOf("/")!==-1;if(i||s)throw zd(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=Mj(e)}catch(i){throw i.message.includes("polyfill")?i:zd(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class n2{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw zd(xs.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=Uj(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function $j(t){const e=new n2(t);return e.base64?t2(xs.BASE64,e.rest):Vj(e.rest)}function Fj(t){return new n2(t).contentType}function Uj(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ta{constructor(e,n){let r=0,i="";UI(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,n){if(UI(this.data_)){const r=this.data_,i=Nj(r,e,n);return i===null?null:new ta(i)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new ta(r,!0)}}static getBlob(...e){if(s1()){const n=e.map(r=>r instanceof ta?r.data_:r);return new ta(Dj.apply(null,n))}else{const n=e.map(o=>vv(o)?Lj(xs.RAW,o).data:o.data_);let r=0;n.forEach(o=>{r+=o.byteLength});const i=new Uint8Array(r);let s=0;return n.forEach(o=>{for(let a=0;a<o.length;a++)i[s++]=o[a]}),new ta(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r2(t){let e;try{e=JSON.parse(t)}catch{return null}return Ij(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qj(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function Bj(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function i2(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jj(t,e){return e}class li{constructor(e,n,r,i){this.server=e,this.local=n||e,this.writable=!!r,this.xform=i||jj}}let bp=null;function Hj(t){return!vv(t)||t.length<2?t:i2(t)}function s2(){if(bp)return bp;const t=[];t.push(new li("bucket")),t.push(new li("generation")),t.push(new li("metageneration")),t.push(new li("name","fullPath",!0));function e(s,o){return Hj(o)}const n=new li("name");n.xform=e,t.push(n);function r(s,o){return o!==void 0?Number(o):o}const i=new li("size");return i.xform=r,t.push(i),t.push(new li("timeCreated")),t.push(new li("updated")),t.push(new li("md5Hash",null,!0)),t.push(new li("cacheControl",null,!0)),t.push(new li("contentDisposition",null,!0)),t.push(new li("contentEncoding",null,!0)),t.push(new li("contentLanguage",null,!0)),t.push(new li("contentType",null,!0)),t.push(new li("metadata","customMetadata",!0)),bp=t,bp}function Wj(t,e){function n(){const r=t.bucket,i=t.fullPath,s=new Mi(r,i);return e._makeStorageReference(s)}Object.defineProperty(t,"ref",{get:n})}function zj(t,e,n){const r={};r.type="file";const i=n.length;for(let s=0;s<i;s++){const o=n[s];r[o.local]=o.xform(r,e[o.server])}return Wj(r,t),r}function o2(t,e,n){const r=r2(e);return r===null?null:zj(t,r,n)}function Kj(t,e,n,r){const i=r2(e);if(i===null||!vv(i.downloadTokens))return null;const s=i.downloadTokens;if(s.length===0)return null;const o=encodeURIComponent;return s.split(",").map(u=>{const c=t.bucket,d=t.fullPath,h="/b/"+o(c)+"/o/"+o(d),p=Mc(h,n,r),m=JD({alt:"media",token:u});return p+m})[0]}function a2(t,e){const n={},r=e.length;for(let i=0;i<r;i++){const s=e[i];s.writable&&(n[s.server]=t[s.local])}return JSON.stringify(n)}class Kl{constructor(e,n,r,i){this.url=e,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wo(t){if(!t)throw i1()}function o1(t,e){function n(r,i){const s=o2(t,i,e);return wo(s!==null),s}return n}function Gj(t,e){function n(r,i){const s=o2(t,i,e);return wo(s!==null),Kj(s,i,t.host,t._protocol)}return n}function wf(t){function e(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=dj():i=cj():n.getStatus()===402?i=uj(t.bucket):n.getStatus()===403?i=hj(t.path):i=r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}return e}function a1(t){const e=wf(t);function n(r,i){let s=e(r,i);return r.getStatus()===404&&(s=lj(t.path)),s.serverResponse=i.serverResponse,s}return n}function Yj(t,e,n){const r=e.fullServerUrl(),i=Mc(r,t.host,t._protocol),s="GET",o=t.maxOperationRetryTime,a=new Kl(i,s,o1(t,n),o);return a.errorHandler=a1(e),a}function Qj(t,e,n){const r=e.fullServerUrl(),i=Mc(r,t.host,t._protocol),s="GET",o=t.maxOperationRetryTime,a=new Kl(i,s,Gj(t,n),o);return a.errorHandler=a1(e),a}function Xj(t,e){const n=e.fullServerUrl(),r=Mc(n,t.host,t._protocol),i="DELETE",s=t.maxOperationRetryTime;function o(l,u){}const a=new Kl(r,i,o,s);return a.successCodes=[200,204],a.errorHandler=a1(e),a}function Jj(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function l2(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=Jj(null,e)),r}function Zj(t,e,n,r,i){const s=e.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};function a(){let S="";for(let E=0;E<2;E++)S=S+Math.random().toString().slice(2);return S}const l=a();o["Content-Type"]="multipart/related; boundary="+l;const u=l2(e,r,i),c=a2(u,n),d="--"+l+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+c+`\r
--`+l+`\r
Content-Type: `+u.contentType+`\r
\r
`,h=`\r
--`+l+"--",p=ta.getBlob(d,r,h);if(p===null)throw QD();const m={name:u.fullPath},g=Mc(s,t.host,t._protocol),y="POST",A=t.maxUploadRetryTime,C=new Kl(g,y,o1(t,n),A);return C.urlParams=m,C.headers=o,C.body=p.uploadData(),C.errorHandler=wf(e),C}class Um{constructor(e,n,r,i){this.current=e,this.total=n,this.finalized=!!r,this.metadata=i||null}}function l1(t,e){let n=null;try{n=t.getResponseHeader("X-Goog-Upload-Status")}catch{wo(!1)}return wo(!!n&&(e||["active"]).indexOf(n)!==-1),n}function e7(t,e,n,r,i){const s=e.bucketOnlyServerUrl(),o=l2(e,r,i),a={name:o.fullPath},l=Mc(s,t.host,t._protocol),u="POST",c={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${r.size()}`,"X-Goog-Upload-Header-Content-Type":o.contentType,"Content-Type":"application/json; charset=utf-8"},d=a2(o,n),h=t.maxUploadRetryTime;function p(g){l1(g);let y;try{y=g.getResponseHeader("X-Goog-Upload-URL")}catch{wo(!1)}return wo(vv(y)),y}const m=new Kl(l,u,p,h);return m.urlParams=a,m.headers=c,m.body=d,m.errorHandler=wf(e),m}function t7(t,e,n,r){const i={"X-Goog-Upload-Command":"query"};function s(u){const c=l1(u,["active","final"]);let d=null;try{d=u.getResponseHeader("X-Goog-Upload-Size-Received")}catch{wo(!1)}d||wo(!1);const h=Number(d);return wo(!isNaN(h)),new Um(h,r.size(),c==="final")}const o="POST",a=t.maxUploadRetryTime,l=new Kl(n,o,s,a);return l.headers=i,l.errorHandler=wf(e),l}const BI=256*1024;function n7(t,e,n,r,i,s,o,a){const l=new Um(0,0);if(o?(l.current=o.current,l.total=o.total):(l.current=0,l.total=r.size()),r.size()!==l.total)throw gj();const u=l.total-l.current;let c=u;i>0&&(c=Math.min(c,i));const d=l.current,h=d+c;let p="";c===0?p="finalize":u===c?p="upload, finalize":p="upload";const m={"X-Goog-Upload-Command":p,"X-Goog-Upload-Offset":`${l.current}`},g=r.slice(d,h);if(g===null)throw QD();function y(E,k){const x=l1(E,["active","final"]),I=l.current+c,b=r.size();let _;return x==="final"?_=o1(e,s)(E,k):_=null,new Um(I,b,x==="final",_)}const A="POST",C=e.maxUploadRetryTime,S=new Kl(n,A,y,C);return S.headers=m,S.body=g.uploadData(),S.progressCallback=a||null,S.errorHandler=wf(t),S}const bi={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function ky(t){switch(t){case"running":case"pausing":case"canceling":return bi.RUNNING;case"paused":return bi.PAUSED;case"success":return bi.SUCCESS;case"canceled":return bi.CANCELED;case"error":return bi.ERROR;default:return bi.ERROR}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r7{constructor(e,n,r){if(Sj(e)||n!=null||r!=null)this.next=e,this.error=n??void 0,this.complete=r??void 0;else{const s=e;this.next=s.next,this.error=s.error,this.complete=s.complete}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ru(t){return(...e)=>{Promise.resolve().then(()=>t(...e))}}class i7{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=ml.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=ml.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=ml.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,i){if(this.sent_)throw id("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),i!==void 0)for(const s in i)i.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,i[s].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw id("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw id("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw id("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw id("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class s7 extends i7{initXhr(){this.xhr_.responseType="text"}}function il(){return new s7}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o7{constructor(e,n,r=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=n,this._metadata=r,this._mappings=s2(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=i=>{if(this._request=void 0,this._chunkMultiplier=1,i._codeEquals(Rn.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const s=this.isExponentialBackoffExpired();if(ZD(i.status,[]))if(s)i=GD();else{this.sleepTime=Math.max(this.sleepTime*2,aj),this._needToFetchStatus=!0,this.completeTransitions_();return}this._error=i,this._transition("error")}},this._metadataErrorHandler=i=>{this._request=void 0,i._codeEquals(Rn.CANCELED)?this.completeTransitions_():(this._error=i,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((i,s)=>{this._resolve=i,this._reject=s,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const e=this._transferred;return n=>this._updateProgress(e+n)}_shouldDoResumable(e){return e.size()>256*1024}_start(){this._state==="running"&&this._request===void 0&&(this._resumable?this._uploadUrl===void 0?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([n,r])=>{switch(this._state){case"running":e(n,r);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused");break}})}_createResumable(){this._resolveToken((e,n)=>{const r=e7(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(r,il,e,n);this._request=i,i.getPromise().then(s=>{this._request=void 0,this._uploadUrl=s,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const e=this._uploadUrl;this._resolveToken((n,r)=>{const i=t7(this._ref.storage,this._ref._location,e,this._blob),s=this._ref.storage._makeRequest(i,il,n,r);this._request=s,s.getPromise().then(o=>{o=o,this._request=void 0,this._updateProgress(o.current),this._needToFetchStatus=!1,o.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const e=BI*this._chunkMultiplier,n=new Um(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((i,s)=>{let o;try{o=n7(this._ref._location,this._ref.storage,r,this._blob,e,this._mappings,n,this._makeProgressCallback())}catch(l){this._error=l,this._transition("error");return}const a=this._ref.storage._makeRequest(o,il,i,s,!1);this._request=a,a.getPromise().then(l=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(l.current),l.finalized?(this._metadata=l.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){BI*this._chunkMultiplier*2<32*1024*1024&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,n)=>{const r=Yj(this._ref.storage,this._ref._location,this._mappings),i=this._ref.storage._makeRequest(r,il,e,n);this._request=i,i.getPromise().then(s=>{this._request=void 0,this._metadata=s,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,n)=>{const r=Zj(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(r,il,e,n);this._request=i,i.getPromise().then(s=>{this._request=void 0,this._metadata=s,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){const n=this._transferred;this._transferred=e,this._transferred!==n&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,this._request!==void 0?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const n=this._state==="paused";this._state=e,n&&(this._notifyObservers(),this._start());break;case"paused":this._state=e,this._notifyObservers();break;case"canceled":this._error=YD(),this._state=e,this._notifyObservers();break;case"error":this._state=e,this._notifyObservers();break;case"success":this._state=e,this._notifyObservers();break}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start();break}}get snapshot(){const e=ky(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,n,r,i){const s=new r7(n||void 0,r||void 0,i||void 0);return this._addObserver(s),()=>{this._removeObserver(s)}}then(e,n){return this._promise.then(e,n)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const n=this._observers.indexOf(e);n!==-1&&this._observers.splice(n,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(n=>{this._notifyObserver(n)})}_finishPromise(){if(this._resolve!==void 0){let e=!0;switch(ky(this._state)){case bi.SUCCESS:ru(this._resolve.bind(null,this.snapshot))();break;case bi.CANCELED:case bi.ERROR:const n=this._reject;ru(n.bind(null,this._error))();break;default:e=!1;break}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(ky(this._state)){case bi.RUNNING:case bi.PAUSED:e.next&&ru(e.next.bind(e,this.snapshot))();break;case bi.SUCCESS:e.complete&&ru(e.complete.bind(e))();break;case bi.CANCELED:case bi.ERROR:e.error&&ru(e.error.bind(e,this._error))();break;default:e.error&&ru(e.error.bind(e,this._error))()}}resume(){const e=this._state==="paused"||this._state==="pausing";return e&&this._transition("running"),e}pause(){const e=this._state==="running";return e&&this._transition("pausing"),e}cancel(){const e=this._state==="running"||this._state==="pausing";return e&&this._transition("canceling"),e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xl{constructor(e,n){this._service=e,n instanceof Mi?this._location=n:this._location=Mi.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new xl(e,n)}get root(){const e=new Mi(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return i2(this._location.path)}get storage(){return this._service}get parent(){const e=qj(this._location.path);if(e===null)return null;const n=new Mi(this._location.bucket,e);return new xl(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw bj(e)}}function a7(t,e,n){return t._throwIfRoot("uploadBytesResumable"),new o7(t,new ta(e),n)}function l7(t){t._throwIfRoot("getDownloadURL");const e=Qj(t.storage,t._location,s2());return t.storage.makeRequestWithTokens(e,il).then(n=>{if(n===null)throw vj();return n})}function u7(t){t._throwIfRoot("deleteObject");const e=Xj(t.storage,t._location);return t.storage.makeRequestWithTokens(e,il)}function c7(t,e){const n=Bj(t._location.path,e),r=new Mi(t._location.bucket,n);return new xl(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d7(t){return/^[A-Za-z]+:\/\//.test(t)}function h7(t,e){return new xl(t,e)}function u2(t,e){if(t instanceof u1){const n=t;if(n._bucket==null)throw mj();const r=new xl(n,n._bucket);return e!=null?u2(r,e):r}else return e!==void 0?c7(t,e):t}function f7(t,e){if(e&&d7(e)){if(t instanceof u1)return h7(t,e);throw E0("To use ref(service, url), the first argument must be a Storage instance.")}else return u2(t,e)}function jI(t,e){const n=e==null?void 0:e[KD];return n==null?null:Mi.makeFromBucketSpec(n,t)}function p7(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:i}=r;i&&(t._overrideAuthToken=typeof i=="string"?i:SR(i,t.app.options.projectId))}class u1{constructor(e,n,r,i,s){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._bucket=null,this._host=zD,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=sj,this._maxUploadRetryTime=oj,this._requests=new Set,i!=null?this._bucket=Mi.makeFromBucketSpec(i,this._host):this._bucket=jI(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Mi.makeFromBucketSpec(this._url,e):this._bucket=jI(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){qI("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){qI("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new xl(this,e)}_makeRequest(e,n,r,i,s=!0){if(this._deleted)return new _j(XD());{const o=Rj(e,this._appId,r,i,n,this._firebaseVersion,s);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const HI="@firebase/storage",WI="0.13.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c2="storage";function m7(t,e,n){return t=Zt(t),a7(t,e,n)}function g7(t){return t=Zt(t),l7(t)}function v7(t){return t=Zt(t),u7(t)}function y7(t,e){return t=Zt(t),f7(t,e)}function b7(t=Rc(),e){t=Zt(t);const r=Ys(t,c2).getImmediate({identifier:e}),i=wR("storage");return i&&_7(r,...i),r}function _7(t,e,n,r={}){p7(t,e,n,r)}function w7(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new u1(n,r,i,e,La)}function T7(){Oi(new mi(c2,w7,"PUBLIC").setMultipleInstances(!0)),Vr(HI,WI,""),Vr(HI,WI,"esm2017")}T7();let _p;const E7=new Uint8Array(16);function S7(){if(!_p&&(_p=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!_p))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return _p(E7)}const Rr=[];for(let t=0;t<256;++t)Rr.push((t+256).toString(16).slice(1));function I7(t,e=0){return Rr[t[e+0]]+Rr[t[e+1]]+Rr[t[e+2]]+Rr[t[e+3]]+"-"+Rr[t[e+4]]+Rr[t[e+5]]+"-"+Rr[t[e+6]]+Rr[t[e+7]]+"-"+Rr[t[e+8]]+Rr[t[e+9]]+"-"+Rr[t[e+10]]+Rr[t[e+11]]+Rr[t[e+12]]+Rr[t[e+13]]+Rr[t[e+14]]+Rr[t[e+15]]}const C7=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),zI={randomUUID:C7};function c1(t,e,n){if(zI.randomUUID&&!e&&!t)return zI.randomUUID();t=t||{};const r=t.random||(t.rng||S7)();if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,e){n=n||0;for(let i=0;i<16;++i)e[n+i]=r[i];return e}return I7(r)}const d2=1e3,S0=d2*60,I0=S0*60,qm=I0*24,Bm=qm*365,h2=async t=>{const e=await ZB(t),n=e.data();return n?{id:e.id,...n}:null},Ga=async(t,e)=>{const n=await ej(e?T0(t,...e):t);return Promise.all(n.docs.map(r=>h2(r.ref)))},Ki=h2,A7=ij,jm=tj,uo=nj,Pd=rj,C0=t=>y7(b7(),t),KI=t=>t.sort((e,n)=>{const r=(n.order||0)-(e.order||0);return r!==0?r:e.date&&n.date?n.date.getTime()-e.date.getTime():0}),P7=(t,e,n,r)=>{setTimeout(()=>{t.forEach((i,s)=>{setTimeout(()=>{r(i)},s*n)})},e)},gs=(t,e)=>{if(!t||!e)return!1;for(const n in t){const r=t[n],i=e[n];if(r===void 0||i===void 0)return!1;if(r===null&&i===null)continue;if(Array.isArray(r)&&Array.isArray(i)){if(r.length!==i.length)return!1;const s=r.slice(),o=i.slice();if(s.some((a,l)=>!gs(a,o[l])||o.some((u,c)=>!gs(u,s[c]))))return!1}else if(r instanceof Date&&i instanceof Date){if(r.getTime()!==i.getTime())return!1}else if(typeof r=="object"){if(!gs(r,i))return!1}else if(r!==i)return!1}return!0},Oa=t=>{try{const e=Math.round((Date.now()-t.getTime())/1e3);if(e<30)return"Just now";if(e<60)return`${e} second${e!==1?"s":""} ago`;if(e<60*60){const n=Math.floor(e/60);return`${n} minute${n!==1?"s":""} ago`}else if(e<60*60*24){const n=Math.floor(e/3600);return`${n} hour${n!==1?"s":""} ago`}else{if(e<60*60*24*2)return"Yesterday";{const r=new Date().getTime()-t.getTime(),i=r/Bm,o=r%Bm/qm,a=i<=1?{month:"long",day:"numeric"}:{year:"numeric",month:"long",day:"numeric"},l=t.toLocaleDateString(void 0,a);if(o<=7){const u={weekday:"long"};return t.toLocaleDateString(void 0,u)}else return l}}}catch{return"Unknown"}},Gp=(t,e)=>{if(t){var n=t.getBoundingClientRect().top,r=n+window.scrollY-15;setTimeout(()=>{window.scrollTo({top:r,behavior:"smooth"})},e??1e3)}},cr=t=>{var n;const e=(n=t.originalEvent.currentTarget)==null?void 0:n.closest(".p-accordion");if(e){const r=e.children[t.index];r&&setTimeout(()=>{r.scrollIntoView({behavior:"smooth",block:"start"})},250)}},O7=()=>{var r;const t=document.createElement("div");t.style.visibility="hidden",t.style.overflow="scroll",document.body.appendChild(t);const e=document.createElement("div");t.appendChild(e);const n=t.offsetWidth-e.offsetWidth;return(r=t.parentNode)==null||r.removeChild(t),n},lo=t=>{var n;const e=!!((n=t==null?void 0:t.allowedUserIds)!=null&&n.length);return{isPrivate:e,visibility:e?"private":"public"}},Ja=t=>Array.isArray(t)?t:[t],k7=()=>{const t=document.activeElement;t instanceof HTMLElement&&t.blur()},A0=t=>t.join(", ").replace(/,([^,]*)$/," and$1"),f2=t=>{const e="&row&",n=";col;";return t.split(e).map(s=>s.split(n))},GI=t=>{const e="&row&",n=";col;";return t.map(s=>s.join(n)).join(e)},p2=()=>c1();function d1(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function m2(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const R7=m2,g2=new Ma("auth","Firebase",m2());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hm=new kc("@firebase/auth");function x7(t,...e){Hm.logLevel<=Dt.WARN&&Hm.warn(`Auth (${La}): ${t}`,...e)}function Yp(t,...e){Hm.logLevel<=Dt.ERROR&&Hm.error(`Auth (${La}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Es(t,...e){throw h1(t,...e)}function Fs(t,...e){return h1(t,...e)}function v2(t,e,n){const r=Object.assign(Object.assign({},R7()),{[e]:n});return new Ma("auth","Firebase",r).create(e,{appName:t.name})}function Us(t){return v2(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function h1(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return g2.create(t,...e)}function ft(t,e,...n){if(!t)throw h1(e,...n)}function fo(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Yp(e),new Error(e)}function Po(t,e){t||fo(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P0(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function D7(){return YI()==="http:"||YI()==="https:"}function YI(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N7(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(D7()||IR()||"connection"in navigator)?navigator.onLine:!0}function M7(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tf{constructor(e,n){this.shortDelay=e,this.longDelay=n,Po(n>e,"Short delay should be less than long delay!"),this.isMobile=iw()||CR()}get(){return N7()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f1(t,e){Po(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y2{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;fo("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;fo("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;fo("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L7={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V7=new Tf(3e4,6e4);function xo(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Xs(t,e,n,r,i={}){return b2(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const a=Oc(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode),y2.fetch()(_2(t,t.config.apiHost,n,a),Object.assign({method:e,headers:l,referrerPolicy:"no-referrer"},s))})}async function b2(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},L7),e);try{const i=new F7(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw wp(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,u]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw wp(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw wp(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw wp(t,"user-disabled",o);const c=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw v2(t,c,u);Es(t,c)}}catch(i){if(i instanceof Bi)throw i;Es(t,"network-request-failed",{message:String(i)})}}async function Ef(t,e,n,r,i={}){const s=await Xs(t,e,n,r,i);return"mfaPendingCredential"in s&&Es(t,"multi-factor-auth-required",{_serverResponse:s}),s}function _2(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?f1(t.config,i):`${t.config.apiScheme}://${i}`}function $7(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class F7{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Fs(this.auth,"network-request-failed")),V7.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function wp(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Fs(t,e,r);return i.customData._tokenResponse=n,i}function QI(t){return t!==void 0&&t.enterprise!==void 0}class U7{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return $7(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function q7(t,e){return Xs(t,"GET","/v2/recaptchaConfig",xo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function B7(t,e){return Xs(t,"POST","/v1/accounts:delete",e)}async function w2(t,e){return Xs(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kd(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function j7(t,e=!1){const n=Zt(t),r=await n.getIdToken(e),i=p1(r);ft(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:Kd(Ry(i.auth_time)),issuedAtTime:Kd(Ry(i.iat)),expirationTime:Kd(Ry(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function Ry(t){return Number(t)*1e3}function p1(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Yp("JWT malformed, contained fewer than 3 sections"),null;try{const i=Im(n);return i?JSON.parse(i):(Yp("Failed to decode base64 JWT payload"),null)}catch(i){return Yp("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function XI(t){const e=p1(t);return ft(e,"internal-error"),ft(typeof e.exp<"u","internal-error"),ft(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fc(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Bi&&H7(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function H7({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W7{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O0{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Kd(this.lastLoginAt),this.creationTime=Kd(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wm(t){var e;const n=t.auth,r=await t.getIdToken(),i=await fc(t,w2(n,{idToken:r}));ft(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?T2(s.providerUserInfo):[],a=K7(t.providerData,o),l=t.isAnonymous,u=!(t.email&&s.passwordHash)&&!(a!=null&&a.length),c=l?u:!1,d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new O0(s.createdAt,s.lastLoginAt),isAnonymous:c};Object.assign(t,d)}async function z7(t){const e=Zt(t);await Wm(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function K7(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function T2(t){return t.map(e=>{var{providerId:n}=e,r=d1(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function G7(t,e){const n=await b2(t,{},async()=>{const r=Oc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=_2(t,i,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",y2.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function Y7(t,e){return Xs(t,"POST","/v2/accounts:revokeToken",xo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ju{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ft(e.idToken,"internal-error"),ft(typeof e.idToken<"u","internal-error"),ft(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):XI(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ft(e.length!==0,"internal-error");const n=XI(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ft(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await G7(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new ju;return r&&(ft(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(ft(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(ft(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ju,this.toJSON())}_performRefresh(){return fo("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uo(t,e){ft(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class po{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=d1(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new W7(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new O0(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await fc(this,this.stsTokenManager.getToken(this.auth,e));return ft(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return j7(this,e)}reload(){return z7(this)}_assign(e){this!==e&&(ft(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new po(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){ft(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Wm(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(fs(this.auth.app))return Promise.reject(Us(this.auth));const e=await this.getIdToken();return await fc(this,B7(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,l,u,c;const d=(r=n.displayName)!==null&&r!==void 0?r:void 0,h=(i=n.email)!==null&&i!==void 0?i:void 0,p=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,m=(o=n.photoURL)!==null&&o!==void 0?o:void 0,g=(a=n.tenantId)!==null&&a!==void 0?a:void 0,y=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,A=(u=n.createdAt)!==null&&u!==void 0?u:void 0,C=(c=n.lastLoginAt)!==null&&c!==void 0?c:void 0,{uid:S,emailVerified:E,isAnonymous:k,providerData:x,stsTokenManager:I}=n;ft(S&&I,e,"internal-error");const b=ju.fromJSON(this.name,I);ft(typeof S=="string",e,"internal-error"),Uo(d,e.name),Uo(h,e.name),ft(typeof E=="boolean",e,"internal-error"),ft(typeof k=="boolean",e,"internal-error"),Uo(p,e.name),Uo(m,e.name),Uo(g,e.name),Uo(y,e.name),Uo(A,e.name),Uo(C,e.name);const _=new po({uid:S,auth:e,email:h,emailVerified:E,displayName:d,isAnonymous:k,photoURL:m,phoneNumber:p,tenantId:g,stsTokenManager:b,createdAt:A,lastLoginAt:C});return x&&Array.isArray(x)&&(_.providerData=x.map(T=>Object.assign({},T))),y&&(_._redirectEventId=y),_}static async _fromIdTokenResponse(e,n,r=!1){const i=new ju;i.updateFromServerResponse(n);const s=new po({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Wm(s),s}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];ft(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?T2(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),a=new ju;a.updateFromIdToken(r);const l=new po({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:o}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new O0(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(l,u),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JI=new Map;function mo(t){Po(t instanceof Function,"Expected a class definition");let e=JI.get(t);return e?(Po(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,JI.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E2{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}E2.type="NONE";const ZI=E2;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qp(t,e,n){return`firebase:${t}:${e}:${n}`}class Hu{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Qp(this.userKey,i.apiKey,s),this.fullPersistenceKey=Qp("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?po._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Hu(mo(ZI),e,r);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let s=i[0]||mo(ZI);const o=Qp(r,e.config.apiKey,e.name);let a=null;for(const u of n)try{const c=await u._get(o);if(c){const d=po._fromJSON(e,c);u!==s&&(a=d),s=u;break}}catch{}const l=i.filter(u=>u._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new Hu(s,e,r):(s=l[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async u=>{if(u!==s)try{await u._remove(o)}catch{}})),new Hu(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eC(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(A2(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(S2(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(O2(e))return"Blackberry";if(k2(e))return"Webos";if(I2(e))return"Safari";if((e.includes("chrome/")||C2(e))&&!e.includes("edge/"))return"Chrome";if(P2(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function S2(t=oi()){return/firefox\//i.test(t)}function I2(t=oi()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function C2(t=oi()){return/crios\//i.test(t)}function A2(t=oi()){return/iemobile/i.test(t)}function P2(t=oi()){return/android/i.test(t)}function O2(t=oi()){return/blackberry/i.test(t)}function k2(t=oi()){return/webos/i.test(t)}function m1(t=oi()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function Q7(t=oi()){var e;return m1(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function X7(){return f6()&&document.documentMode===10}function R2(t=oi()){return m1(t)||P2(t)||k2(t)||O2(t)||/windows phone/i.test(t)||A2(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x2(t,e=[]){let n;switch(t){case"Browser":n=eC(oi());break;case"Worker":n=`${eC(oi())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${La}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J7{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{const l=e(s);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Z7(t,e={}){return Xs(t,"GET","/v2/passwordPolicy",xo(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eH=6;class tH{constructor(e){var n,r,i,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:eH,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(s=l.containsUppercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nH{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new tC(this),this.idTokenSubscription=new tC(this),this.beforeStateQueue=new J7(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=g2,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=mo(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await Hu.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await w2(this,{idToken:e}),r=await po._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(fs(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(i=l.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return ft(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Wm(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=M7()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(fs(this.app))return Promise.reject(Us(this));const n=e?Zt(e):null;return n&&ft(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ft(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return fs(this.app)?Promise.reject(Us(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return fs(this.app)?Promise.reject(Us(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(mo(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Z7(this),n=new tH(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Ma("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await Y7(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&mo(e)||this._popupRedirectResolver;ft(n,this,"argument-error"),this.redirectPersistenceManager=await Hu.create(this,[mo(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(ft(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ft(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=x2(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&x7(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function $a(t){return Zt(t)}class tC{constructor(e){this.auth=e,this.observer=null,this.addObserver=T6(n=>this.observer=n)}get next(){return ft(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let yv={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function rH(t){yv=t}function D2(t){return yv.loadJS(t)}function iH(){return yv.recaptchaEnterpriseScript}function sH(){return yv.gapiScript}function oH(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const aH="recaptcha-enterprise",lH="NO_RECAPTCHA";class uH{constructor(e){this.type=aH,this.auth=$a(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,a)=>{q7(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const u=new U7(l);return s.tenantId==null?s._agentRecaptchaConfig=u:s._tenantRecaptchaConfigs[s.tenantId]=u,o(u.siteKey)}}).catch(l=>{a(l)})})}function i(s,o,a){const l=window.grecaptcha;QI(l)?l.enterprise.ready(()=>{l.enterprise.execute(s,{action:e}).then(u=>{o(u)}).catch(()=>{o(lH)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,o)=>{r(this.auth).then(a=>{if(!n&&QI(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let l=iH();l.length!==0&&(l+=a),D2(l).then(()=>{i(a,s,o)}).catch(u=>{o(u)})}}).catch(a=>{o(a)})})}}async function nC(t,e,n,r=!1){const i=new uH(t);let s;try{s=await i.verify(n)}catch{s=await i.verify(n,!0)}const o=Object.assign({},e);return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function zm(t,e,n,r){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=await nC(t,e,n,n==="getOobCode");return r(t,s)}else return r(t,e).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await nC(t,e,n,n==="getOobCode");return r(t,o)}else return Promise.reject(s)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N2(t,e){const n=Ys(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(yh(s,e??{}))return i;Es(i,"already-initialized")}return n.initialize({options:e})}function cH(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(mo);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function dH(t,e,n){const r=$a(t);ft(r._canInitEmulator,r,"emulator-config-failed"),ft(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!(n!=null&&n.disableWarnings),s=M2(e),{host:o,port:a}=hH(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||fH()}function M2(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function hH(t){const e=M2(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:rC(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:rC(o)}}}function rC(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function fH(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g1{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return fo("not implemented")}_getIdTokenResponse(e){return fo("not implemented")}_linkToIdToken(e,n){return fo("not implemented")}_getReauthenticationResolver(e){return fo("not implemented")}}async function pH(t,e){return Xs(t,"POST","/v1/accounts:update",e)}async function mH(t,e){return Xs(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gH(t,e){return Ef(t,"POST","/v1/accounts:signInWithPassword",xo(t,e))}async function vH(t,e){return Xs(t,"POST","/v1/accounts:sendOobCode",xo(t,e))}async function yH(t,e){return vH(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bH(t,e){return Ef(t,"POST","/v1/accounts:signInWithEmailLink",xo(t,e))}async function _H(t,e){return Ef(t,"POST","/v1/accounts:signInWithEmailLink",xo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oh extends g1{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new Oh(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Oh(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return zm(e,n,"signInWithPassword",gH);case"emailLink":return bH(e,{email:this._email,oobCode:this._password});default:Es(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return zm(e,r,"signUpPassword",mH);case"emailLink":return _H(e,{idToken:n,email:this._email,oobCode:this._password});default:Es(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wu(t,e){return Ef(t,"POST","/v1/accounts:signInWithIdp",xo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wH="http://localhost";class Dl extends g1{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Dl(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Es("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=d1(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new Dl(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return Wu(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Wu(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Wu(e,n)}buildRequest(){const e={requestUri:wH,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Oc(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TH(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function EH(t){const e=Td(Ed(t)).link,n=e?Td(Ed(e)).deep_link_id:null,r=Td(Ed(t)).deep_link_id;return(r?Td(Ed(r)).link:null)||r||n||e||t}class v1{constructor(e){var n,r,i,s,o,a;const l=Td(Ed(e)),u=(n=l.apiKey)!==null&&n!==void 0?n:null,c=(r=l.oobCode)!==null&&r!==void 0?r:null,d=TH((i=l.mode)!==null&&i!==void 0?i:null);ft(u&&c&&d,"argument-error"),this.apiKey=u,this.operation=d,this.code=c,this.continueUrl=(s=l.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=l.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=EH(e);try{return new v1(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ka{constructor(){this.providerId=ka.PROVIDER_ID}static credential(e,n){return Oh._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=v1.parseLink(n);return ft(r,"argument-error"),Oh._fromEmailAndCode(e,r.code,r.tenantId)}}ka.PROVIDER_ID="password";ka.EMAIL_PASSWORD_SIGN_IN_METHOD="password";ka.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L2{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sf extends L2{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class na extends Sf{constructor(){super("facebook.com")}static credential(e){return Dl._fromParams({providerId:na.PROVIDER_ID,signInMethod:na.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return na.credentialFromTaggedObject(e)}static credentialFromError(e){return na.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return na.credential(e.oauthAccessToken)}catch{return null}}}na.FACEBOOK_SIGN_IN_METHOD="facebook.com";na.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ra extends Sf{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Dl._fromParams({providerId:ra.PROVIDER_ID,signInMethod:ra.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return ra.credentialFromTaggedObject(e)}static credentialFromError(e){return ra.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return ra.credential(n,r)}catch{return null}}}ra.GOOGLE_SIGN_IN_METHOD="google.com";ra.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ia extends Sf{constructor(){super("github.com")}static credential(e){return Dl._fromParams({providerId:ia.PROVIDER_ID,signInMethod:ia.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ia.credentialFromTaggedObject(e)}static credentialFromError(e){return ia.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ia.credential(e.oauthAccessToken)}catch{return null}}}ia.GITHUB_SIGN_IN_METHOD="github.com";ia.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sa extends Sf{constructor(){super("twitter.com")}static credential(e,n){return Dl._fromParams({providerId:sa.PROVIDER_ID,signInMethod:sa.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return sa.credentialFromTaggedObject(e)}static credentialFromError(e){return sa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return sa.credential(n,r)}catch{return null}}}sa.TWITTER_SIGN_IN_METHOD="twitter.com";sa.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function SH(t,e){return Ef(t,"POST","/v1/accounts:signUp",xo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nl{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await po._fromIdTokenResponse(e,r,i),o=iC(r);return new Nl({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=iC(r);return new Nl({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function iC(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Km extends Bi{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Km.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Km(e,n,r,i)}}function V2(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Km._fromErrorAndOperation(t,s,e,r):s})}async function IH(t,e,n=!1){const r=await fc(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Nl._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $2(t,e,n=!1){const{auth:r}=t;if(fs(r.app))return Promise.reject(Us(r));const i="reauthenticate";try{const s=await fc(t,V2(r,i,e,t),n);ft(s.idToken,r,"internal-error");const o=p1(s.idToken);ft(o,r,"internal-error");const{sub:a}=o;return ft(t.uid===a,r,"user-mismatch"),Nl._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&Es(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function F2(t,e,n=!1){if(fs(t.app))return Promise.reject(Us(t));const r="signIn",i=await V2(t,r,e),s=await Nl._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function CH(t,e){return F2($a(t),e)}async function sC(t,e){return $2(Zt(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AH(t,e,n){var r;ft(((r=n.url)===null||r===void 0?void 0:r.length)>0,t,"invalid-continue-uri"),ft(typeof n.dynamicLinkDomain>"u"||n.dynamicLinkDomain.length>0,t,"invalid-dynamic-link-domain"),e.continueUrl=n.url,e.dynamicLinkDomain=n.dynamicLinkDomain,e.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(ft(n.iOS.bundleId.length>0,t,"missing-ios-bundle-id"),e.iOSBundleId=n.iOS.bundleId),n.android&&(ft(n.android.packageName.length>0,t,"missing-android-pkg-name"),e.androidInstallApp=n.android.installApp,e.androidMinimumVersionCode=n.android.minimumVersion,e.androidPackageName=n.android.packageName)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function U2(t){const e=$a(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function PH(t,e,n){const r=$a(t),i={requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"};n&&AH(r,i,n),await zm(r,i,"getOobCode",yH)}async function OH(t,e,n){if(fs(t.app))return Promise.reject(Us(t));const r=$a(t),o=await zm(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",SH).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&U2(t),l}),a=await Nl._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(a.user),a}function kH(t,e,n){return fs(t.app)?Promise.reject(Us(t)):CH(Zt(t),ka.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&U2(t),r})}function RH(t,e){const n=Zt(t);return fs(n.auth.app)?Promise.reject(Us(n.auth)):q2(n,e,null)}function xH(t,e){return q2(Zt(t),null,e)}async function q2(t,e,n){const{auth:r}=t,s={idToken:await t.getIdToken(),returnSecureToken:!0};e&&(s.email=e),n&&(s.password=n);const o=await fc(t,pH(r,s));await t._updateTokensIfNecessary(o,!0)}function B2(t,e,n,r){return Zt(t).onIdTokenChanged(e,n,r)}function DH(t,e,n){return Zt(t).beforeAuthStateChanged(e,n)}function NH(t){return Zt(t).signOut()}async function MH(t){return Zt(t).delete()}const Gm="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j2{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Gm,"1"),this.storage.removeItem(Gm),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LH=1e3,VH=10;class H2 extends j2{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=R2(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);X7()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,VH):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},LH)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}H2.type="LOCAL";const W2=H2;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z2 extends j2{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}z2.type="SESSION";const y1=z2;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $H(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bv{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new bv(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async u=>u(n.origin,s)),l=await $H(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}bv.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b1(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FH{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{const u=b1("",20);i.port1.start();const c=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(d){const h=d;if(h.data.eventId===u)switch(h.data.status){case"ack":clearTimeout(c),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(h.data.response);break;default:clearTimeout(c),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qs(){return window}function UH(t){qs().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K2(){return typeof qs().WorkerGlobalScope<"u"&&typeof qs().importScripts=="function"}async function qH(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function BH(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function jH(){return K2()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G2="firebaseLocalStorageDb",HH=1,Ym="firebaseLocalStorage",Y2="fbase_key";class If{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function _v(t,e){return t.transaction([Ym],e?"readwrite":"readonly").objectStore(Ym)}function WH(){const t=indexedDB.deleteDatabase(G2);return new If(t).toPromise()}function k0(){const t=indexedDB.open(G2,HH);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Ym,{keyPath:Y2})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Ym)?e(r):(r.close(),await WH(),e(await k0()))})})}async function oC(t,e,n){const r=_v(t,!0).put({[Y2]:e,value:n});return new If(r).toPromise()}async function zH(t,e){const n=_v(t,!1).get(e),r=await new If(n).toPromise();return r===void 0?null:r.value}function aC(t,e){const n=_v(t,!0).delete(e);return new If(n).toPromise()}const KH=800,GH=3;class Q2{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await k0(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>GH)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return K2()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=bv._getInstance(jH()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await qH(),!this.activeServiceWorker)return;this.sender=new FH(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||BH()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await k0();return await oC(e,Gm,"1"),await aC(e,Gm),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>oC(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>zH(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>aC(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=_v(i,!1).getAll();return new If(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),KH)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Q2.type="LOCAL";const X2=Q2;new Tf(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YH(t,e){return e?mo(e):(ft(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _1 extends g1{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Wu(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Wu(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Wu(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function QH(t){return F2(t.auth,new _1(t),t.bypassAuthState)}function XH(t){const{auth:e,user:n}=t;return ft(n,e,"internal-error"),$2(n,new _1(t),t.bypassAuthState)}async function JH(t){const{auth:e,user:n}=t;return ft(n,e,"internal-error"),IH(n,new _1(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J2{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return QH;case"linkViaPopup":case"linkViaRedirect":return JH;case"reauthViaPopup":case"reauthViaRedirect":return XH;default:Es(this.auth,"internal-error")}}resolve(e){Po(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Po(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZH=new Tf(2e3,1e4);class Eu extends J2{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,Eu.currentPopupAction&&Eu.currentPopupAction.cancel(),Eu.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ft(e,this.auth,"internal-error"),e}async onExecution(){Po(this.filter.length===1,"Popup operations only handle one event");const e=b1();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Fs(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Fs(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Eu.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Fs(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,ZH.get())};e()}}Eu.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eW="pendingRedirect",Xp=new Map;class tW extends J2{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Xp.get(this.auth._key());if(!e){try{const r=await nW(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Xp.set(this.auth._key(),e)}return this.bypassAuthState||Xp.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function nW(t,e){const n=sW(e),r=iW(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function rW(t,e){Xp.set(t._key(),e)}function iW(t){return mo(t._redirectPersistence)}function sW(t){return Qp(eW,t.config.apiKey,t.name)}async function oW(t,e,n=!1){if(fs(t.app))return Promise.reject(Us(t));const r=$a(t),i=YH(r,e),o=await new tW(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aW=10*60*1e3;class lW{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!uW(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!Z2(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Fs(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=aW&&this.cachedEventUids.clear(),this.cachedEventUids.has(lC(e))}saveEventToCache(e){this.cachedEventUids.add(lC(e)),this.lastProcessedEventTime=Date.now()}}function lC(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function Z2({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function uW(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Z2(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cW(t,e={}){return Xs(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dW=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,hW=/^https?/;async function fW(t){if(t.config.emulator)return;const{authorizedDomains:e}=await cW(t);for(const n of e)try{if(pW(n))return}catch{}Es(t,"unauthorized-domain")}function pW(t){const e=P0(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!hW.test(n))return!1;if(dW.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mW=new Tf(3e4,6e4);function uC(){const t=qs().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function gW(t){return new Promise((e,n)=>{var r,i,s;function o(){uC(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{uC(),n(Fs(t,"network-request-failed"))},timeout:mW.get()})}if(!((i=(r=qs().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=qs().gapi)===null||s===void 0)&&s.load)o();else{const a=oH("iframefcb");return qs()[a]=()=>{gapi.load?o():n(Fs(t,"network-request-failed"))},D2(`${sH()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw Jp=null,e})}let Jp=null;function vW(t){return Jp=Jp||gW(t),Jp}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yW=new Tf(5e3,15e3),bW="__/auth/iframe",_W="emulator/auth/iframe",wW={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},TW=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function EW(t){const e=t.config;ft(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?f1(e,_W):`https://${t.config.authDomain}/${bW}`,r={apiKey:e.apiKey,appName:t.name,v:La},i=TW.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${Oc(r).slice(1)}`}async function SW(t){const e=await vW(t),n=qs().gapi;return ft(n,t,"internal-error"),e.open({where:document.body,url:EW(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:wW,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=Fs(t,"network-request-failed"),a=qs().setTimeout(()=>{s(o)},yW.get());function l(){qs().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IW={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},CW=500,AW=600,PW="_blank",OW="http://localhost";class cC{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function kW(t,e,n,r=CW,i=AW){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},IW),{width:r.toString(),height:i.toString(),top:s,left:o}),u=oi().toLowerCase();n&&(a=C2(u)?PW:n),S2(u)&&(e=e||OW,l.scrollbars="yes");const c=Object.entries(l).reduce((h,[p,m])=>`${h}${p}=${m},`,"");if(Q7(u)&&a!=="_self")return RW(e||"",a),new cC(null);const d=window.open(e||"",a,c);ft(d,t,"popup-blocked");try{d.focus()}catch{}return new cC(d)}function RW(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xW="__/auth/handler",DW="emulator/auth/handler",NW=encodeURIComponent("fac");async function dC(t,e,n,r,i,s){ft(t.config.authDomain,t,"auth-domain-config-required"),ft(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:La,eventId:i};if(e instanceof L2){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",Gb(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[c,d]of Object.entries(s||{}))o[c]=d}if(e instanceof Sf){const c=e.getScopes().filter(d=>d!=="");c.length>0&&(o.scopes=c.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const c of Object.keys(a))a[c]===void 0&&delete a[c];const l=await t._getAppCheckToken(),u=l?`#${NW}=${encodeURIComponent(l)}`:"";return`${MW(t)}?${Oc(a).slice(1)}${u}`}function MW({config:t}){return t.emulator?f1(t,DW):`https://${t.authDomain}/${xW}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xy="webStorageSupport";class LW{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=y1,this._completeRedirectFn=oW,this._overrideRedirectResult=rW}async _openPopup(e,n,r,i){var s;Po((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await dC(e,n,r,P0(),i);return kW(e,o,b1())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await dC(e,n,r,P0(),i);return UH(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Po(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await SW(e),r=new lW(e);return n.register("authEvent",i=>(ft(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(xy,{type:xy},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[xy];o!==void 0&&n(!!o),Es(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=fW(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return R2()||I2()||m1()}}const eN=LW;var hC="@firebase/auth",fC="1.7.7";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VW{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ft(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $W(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function FW(t){Oi(new mi("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;ft(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:x2(t)},u=new nH(r,i,s,l);return cH(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Oi(new mi("auth-internal",e=>{const n=$a(e.getProvider("auth").getImmediate());return(r=>new VW(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Vr(hC,fC,$W(t)),Vr(hC,fC,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UW=5*60,qW=ER("authIdTokenMaxAge")||UW;let pC=null;const BW=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>qW)return;const i=n==null?void 0:n.token;pC!==i&&(pC=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function jW(t=Rc()){const e=Ys(t,"auth");if(e.isInitialized())return e.getImmediate();const n=N2(t,{popupRedirectResolver:eN,persistence:[X2,W2,y1]}),r=ER("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const o=BW(s.toString());DH(n,o,()=>o(n.currentUser)),B2(n,a=>o(a))}}const i=_R("auth");return i&&dH(n,`http://${i}`),n}function HW(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}rH({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=Fs("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",HW().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});FW("Browser");const tN=Symbol("firebaseApp");function nN(t){return ts()&&pi(tN,null)||Rc(t)}const Tp=new WeakMap;function WW(t,e){if(!Tp.has(t)){const n=Cg(!0);Tp.set(t,n);const{unmount:r}=e;e.unmount=()=>{r.call(e),n.stop(),Tp.delete(t)}}return Tp.get(t)}const zW=new WeakMap,Ep=new WeakMap;function KW(t){const e=nN(t);if(!Ep.has(e)){let n;const i=[new Promise(s=>{n=s}),s=>{Ep.set(e,s),n(s.value)}];Ep.set(e,i)}return Ep.get(e)}function GW(t,e){B2(e,n=>{const r=KW();t.value=n,Array.isArray(r)&&r[1](t)})}var mC={};const gC="@firebase/database",vC="1.0.7";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let rN="";function YW(t){rN=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QW{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Nr(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:vh(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XW{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return Ro(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iN=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new QW(e)}}catch{}return new XW},ll=iN("localStorage"),R0=iN("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zu=new kc("@firebase/database"),JW=function(){let t=1;return function(){return t++}}(),sN=function(t){const e=C6(t),n=new w6;n.update(e);const r=n.digest();return jg.encodeByteArray(r)},Cf=function(...t){let e="";for(let n=0;n<t.length;n++){const r=t[n];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?e+=Cf.apply(null,r):typeof r=="object"?e+=Nr(r):e+=r,e+=" "}return e};let gl=null,yC=!0;const ZW=function(t,e){Ge(!e||t===!0||t===!1,"Can't turn on custom loggers persistently."),t===!0?(zu.logLevel=Dt.VERBOSE,gl=zu.log.bind(zu),e&&R0.set("logging_enabled",!0)):typeof t=="function"?gl=t:(gl=null,R0.remove("logging_enabled"))},Yr=function(...t){if(yC===!0&&(yC=!1,gl===null&&R0.get("logging_enabled")===!0&&ZW(!0)),gl){const e=Cf.apply(null,t);gl(e)}},Af=function(t){return function(...e){Yr(t,...e)}},x0=function(...t){const e="FIREBASE INTERNAL ERROR: "+Cf(...t);zu.error(e)},Ml=function(...t){const e=`FIREBASE FATAL ERROR: ${Cf(...t)}`;throw zu.error(e),new Error(e)},qi=function(...t){const e="FIREBASE WARNING: "+Cf(...t);zu.warn(e)},ez=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&qi("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},oN=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},tz=function(t){if(document.readyState==="complete")t();else{let e=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},pc="[MIN_NAME]",Ll="[MAX_NAME]",Lc=function(t,e){if(t===e)return 0;if(t===pc||e===Ll)return-1;if(e===pc||t===Ll)return 1;{const n=bC(t),r=bC(e);return n!==null?r!==null?n-r===0?t.length-e.length:n-r:-1:r!==null?1:t<e?-1:1}},nz=function(t,e){return t===e?0:t<e?-1:1},sd=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+Nr(e))},w1=function(t){if(typeof t!="object"||t===null)return Nr(t);const e=[];for(const r in t)e.push(r);e.sort();let n="{";for(let r=0;r<e.length;r++)r!==0&&(n+=","),n+=Nr(e[r]),n+=":",n+=w1(t[e[r]]);return n+="}",n},aN=function(t,e){const n=t.length;if(n<=e)return[t];const r=[];for(let i=0;i<n;i+=e)i+e>n?r.push(t.substring(i,n)):r.push(t.substring(i,i+e));return r};function Ji(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const lN=function(t){Ge(!oN(t),"Invalid JSON number");const e=11,n=52,r=(1<<e-1)-1;let i,s,o,a,l;t===0?(s=0,o=0,i=1/t===-1/0?1:0):(i=t<0,t=Math.abs(t),t>=Math.pow(2,1-r)?(a=Math.min(Math.floor(Math.log(t)/Math.LN2),r),s=a+r,o=Math.round(t*Math.pow(2,n-a)-Math.pow(2,n))):(s=0,o=Math.round(t/Math.pow(2,1-r-n))));const u=[];for(l=n;l;l-=1)u.push(o%2?1:0),o=Math.floor(o/2);for(l=e;l;l-=1)u.push(s%2?1:0),s=Math.floor(s/2);u.push(i?1:0),u.reverse();const c=u.join("");let d="";for(l=0;l<64;l+=8){let h=parseInt(c.substr(l,8),2).toString(16);h.length===1&&(h="0"+h),d=d+h}return d.toLowerCase()},rz=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},iz=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"},sz=new RegExp("^-?(0*)\\d{1,10}$"),oz=-2147483648,az=2147483647,bC=function(t){if(sz.test(t)){const e=Number(t);if(e>=oz&&e<=az)return e}return null},Pf=function(t){try{t()}catch(e){setTimeout(()=>{const n=e.stack||"";throw qi("Exception was thrown by user callback.",n),e},Math.floor(0))}},lz=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Gd=function(t,e){const n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uz{constructor(e,n){this.appName_=e,this.appCheckProvider=n,this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(r=>this.appCheck=r)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){qi(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cz{constructor(e,n,r){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(Yr("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',qi(e)}}class D0{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}D0.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T1="5",uN="v",cN="s",dN="r",hN="f",fN=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,pN="ls",mN="p",N0="ac",gN="websocket",vN="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dz{constructor(e,n,r,i,s=!1,o="",a=!1,l=!1){this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=s,this.persistenceKey=o,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=l,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=ll.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&ll.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}}function hz(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function yN(t,e,n){Ge(typeof e=="string","typeof type must == string"),Ge(typeof n=="object","typeof params must == object");let r;if(e===gN)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===vN)r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);hz(t)&&(n.ns=t.namespace);const i=[];return Ji(n,(s,o)=>{i.push(s+"="+o)}),r+i.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fz{constructor(){this.counters_={}}incrementCounter(e,n=1){Ro(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return a6(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dy={},Ny={};function E1(t){const e=t.toString();return Dy[e]||(Dy[e]=new fz),Dy[e]}function pz(t,e){const n=t.toString();return Ny[n]||(Ny[n]=e()),Ny[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mz{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&Pf(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _C="start",gz="close",vz="pLPCommand",yz="pRTLPCB",bN="id",_N="pw",wN="ser",bz="cb",_z="seg",wz="ts",Tz="d",Ez="dframe",TN=1870,EN=30,Sz=TN-EN,Iz=25e3,Cz=3e4;class Su{constructor(e,n,r,i,s,o,a){this.connId=e,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.transportSessionId=o,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Af(e),this.stats_=E1(n),this.urlFn=l=>(this.appCheckToken&&(l[N0]=this.appCheckToken),yN(n,vN,l))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new mz(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(Cz)),tz(()=>{if(this.isClosed_)return;this.scriptTagHolder=new S1((...s)=>{const[o,a,l,u,c]=s;if(this.incrementIncomingBytes_(s),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,o===_C)this.id=a,this.password=l;else if(o===gz)a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+o)},(...s)=>{const[o,a]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(o,a)},()=>{this.onClosed_()},this.urlFn);const r={};r[_C]="t",r[wN]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[bz]=this.scriptTagHolder.uniqueCallbackIdentifier),r[uN]=T1,this.transportSessionId&&(r[cN]=this.transportSessionId),this.lastSessionId&&(r[pN]=this.lastSessionId),this.applicationId&&(r[mN]=this.applicationId),this.appCheckToken&&(r[N0]=this.appCheckToken),typeof location<"u"&&location.hostname&&fN.test(location.hostname)&&(r[dN]=hN);const i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Su.forceAllow_=!0}static forceDisallow(){Su.forceDisallow_=!0}static isAvailable(){return Su.forceAllow_?!0:!Su.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!rz()&&!iz()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=Nr(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=vR(n),i=aN(r,Sz);for(let s=0;s<i.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[s]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const r={};r[Ez]="t",r[bN]=e,r[_N]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=Nr(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class S1{constructor(e,n,r,i){this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=JW(),window[vz+this.uniqueCallbackIdentifier]=e,window[yz+this.uniqueCallbackIdentifier]=n,this.myIFrame=S1.createIFrame_();let s="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(s='<script>document.domain="'+document.domain+'";<\/script>');const o="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(a){Yr("frame writing exception"),a.stack&&Yr(a.stack),Yr(a)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||Yr("No IE domain setting required")}catch{const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[bN]=this.myID,e[_N]=this.myPW,e[wN]=this.currentSerial;let n=this.urlFn(e),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+EN+r.length<=TN;){const o=this.pendingSegs.shift();r=r+"&"+_z+i+"="+o.seg+"&"+wz+i+"="+o.ts+"&"+Tz+i+"="+o.d,i++}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,r){this.pendingSegs.push({seg:e,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},i=setTimeout(r,Math.floor(Iz)),s=()=>{clearTimeout(i),r()};this.addTag(e,s)}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const i=r.readyState;(!i||i==="loaded"||i==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{Yr("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Az=16384,Pz=45e3;let Qm=null;typeof MozWebSocket<"u"?Qm=MozWebSocket:typeof WebSocket<"u"&&(Qm=WebSocket);class ds{constructor(e,n,r,i,s,o,a){this.connId=e,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Af(this.connId),this.stats_=E1(n),this.connURL=ds.connectionURL_(n,o,a,i,r),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,r,i,s){const o={};return o[uN]=T1,typeof location<"u"&&location.hostname&&fN.test(location.hostname)&&(o[dN]=hN),n&&(o[cN]=n),r&&(o[pN]=r),i&&(o[N0]=i),s&&(o[mN]=s),yN(e,gN,o)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,ll.set("previous_websocket_failure",!0);try{let r;AR(),this.mySock=new Qm(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_()}}start(){}static forceDisallow(){ds.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(n);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&Qm!==null&&!ds.forceDisallow_}static previouslyFailed(){return ll.isInMemoryStorage||ll.get("previous_websocket_failure")===!0}markConnectionHealthy(){ll.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const r=vh(n);this.onMessage(r)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(Ge(this.frames===null,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const r=this.extractFrameCount_(n);r!==null&&this.appendFrame_(r)}}send(e){this.resetKeepAlive();const n=Nr(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=aN(n,Az);r.length>1&&this.sendString_(String(r.length));for(let i=0;i<r.length;i++)this.sendString_(r[i])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(Pz))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}ds.responsesRequiredToBeHealthy=2;ds.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kh{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[Su,ds]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const n=ds&&ds.isAvailable();let r=n&&!ds.previouslyFailed();if(e.webSocketOnly&&(n||qi("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[ds];else{const i=this.transports_=[];for(const s of kh.ALL_TRANSPORTS)s&&s.isAvailable()&&i.push(s);kh.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}kh.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oz=6e4,kz=5e3,Rz=10*1024,xz=100*1024,My="t",wC="d",Dz="s",TC="r",Nz="e",EC="o",SC="a",IC="n",CC="p",Mz="h";class Lz{constructor(e,n,r,i,s,o,a,l,u,c){this.id=e,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=s,this.onMessage_=o,this.onReady_=a,this.onDisconnect_=l,this.onKill_=u,this.lastSessionId=c,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Af("c:"+this.id+":"),this.transportManager_=new kh(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));const i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=Gd(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>xz?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>Rz?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){const n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(My in e){const n=e[My];n===SC?this.upgradeIfSecondaryHealthy_():n===TC?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===EC&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=sd("t",e),r=sd("d",e);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:CC,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:SC,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:IC,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=sd("t",e),r=sd("d",e);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=sd(My,e);if(wC in e){const r=e[wC];if(n===Mz){const i=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if(n===IC){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===Dz?this.onConnectionShutdown_(r):n===TC?this.onReset_(r):n===Nz?x0("Server Error: "+r):n===EC?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):x0("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,r=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),T1!==r&&qi("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),Gd(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(Oz))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Gd(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(kz))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:CC,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(ll.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SN{put(e,n,r,i){}merge(e,n,r,i){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,r){}onDisconnectMerge(e,n,r){}onDisconnectCancel(e,n){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IN{constructor(e){this.allowedEvents_=e,this.listeners_={},Ge(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,n)}}on(e,n,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:r});const i=this.getInitialEvent(e);i&&n.apply(r,i)}off(e,n,r){this.validateEventType_(e);const i=this.listeners_[e]||[];for(let s=0;s<i.length;s++)if(i[s].callback===n&&(!r||r===i[s].context)){i.splice(s,1);return}}validateEventType_(e){Ge(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xm extends IN{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!iw()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new Xm}getInitialEvent(e){return Ge(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AC=32,PC=768;class xn{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}}function un(){return new xn("")}function jt(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function Ra(t){return t.pieces_.length-t.pieceNum_}function An(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new xn(t.pieces_,e)}function CN(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function Vz(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function AN(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function PN(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new xn(e,0)}function Ar(t,e){const n=[];for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof xn)for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{const r=e.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&n.push(r[i])}return new xn(n,0)}function Ft(t){return t.pieceNum_>=t.pieces_.length}function Yi(t,e){const n=jt(t),r=jt(e);if(n===null)return e;if(n===r)return Yi(An(t),An(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function ON(t,e){if(Ra(t)!==Ra(e))return!1;for(let n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function ps(t,e){let n=t.pieceNum_,r=e.pieceNum_;if(Ra(t)>Ra(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}class $z{constructor(e,n){this.errorPrefix_=n,this.parts_=AN(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=zg(this.parts_[r]);kN(this)}}function Fz(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=zg(e),kN(t)}function Uz(t){const e=t.parts_.pop();t.byteLength_-=zg(e),t.parts_.length>0&&(t.byteLength_-=1)}function kN(t){if(t.byteLength_>PC)throw new Error(t.errorPrefix_+"has a key path longer than "+PC+" bytes ("+t.byteLength_+").");if(t.parts_.length>AC)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+AC+") or object contains a cycle "+Za(t))}function Za(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I1 extends IN{constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new I1}getInitialEvent(e){return Ge(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const od=1e3,qz=60*5*1e3,OC=30*1e3,Bz=1.3,jz=3e4,Hz="server_kill",kC=3;class To extends SN{constructor(e,n,r,i,s,o,a,l){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=r,this.onConnectStatus_=i,this.onServerInfoUpdate_=s,this.authTokenProvider_=o,this.appCheckTokenProvider_=a,this.authOverride_=l,this.id=To.nextPersistentConnectionId_++,this.log_=Af("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=od,this.maxReconnectDelay_=qz,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,l&&!AR())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");I1.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&Xm.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,r){const i=++this.requestNumber_,s={r:i,a:e,b:n};this.log_(Nr(s)),Ge(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(s),r&&(this.requestCBHash_[i]=r)}get(e){this.initConnection_();const n=new Cl,i={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:o=>{const a=o.d;o.s==="ok"?n.resolve(a):n.reject(a)}};this.outstandingGets_.push(i),this.outstandingGetCount_++;const s=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(s),n.promise}listen(e,n,r,i){this.initConnection_();const s=e._queryIdentifier,o=e._path.toString();this.log_("Listen called for "+o+" "+s),this.listens.has(o)||this.listens.set(o,new Map),Ge(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),Ge(!this.listens.get(o).has(s),"listen() called twice for same path/queryId.");const a={onComplete:i,hashFn:n,query:e,tag:r};this.listens.get(o).set(s,a),this.connected_&&this.sendListen_(a)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,r=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(r)})}sendListen_(e){const n=e.query,r=n._path.toString(),i=n._queryIdentifier;this.log_("Listen on "+r+" for "+i);const s={p:r},o="q";e.tag&&(s.q=n._queryObject,s.t=e.tag),s.h=e.hashFn(),this.sendRequest(o,s,a=>{const l=a.d,u=a.s;To.warnOnListenWarnings_(l,n),(this.listens.get(r)&&this.listens.get(r).get(i))===e&&(this.log_("listen response",a),u!=="ok"&&this.removeListen_(r,i),e.onComplete&&e.onComplete(u,l))})}static warnOnListenWarnings_(e,n){if(e&&typeof e=="object"&&Ro(e,"w")){const r=ic(e,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const i='".indexOn": "'+n._queryParams.getIndex().toString()+'"',s=n._path.toString();qi(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${i} at ${s} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||_6(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=OC)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=b6(e)?"auth":"gauth",r={cred:e};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(n,r,i=>{const s=i.s,o=i.d||"error";this.authToken_===e&&(s==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(s,o))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,r=e.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,r)})}unlisten(e,n){const r=e._path.toString(),i=e._queryIdentifier;this.log_("Unlisten called for "+r+" "+i),Ge(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,i)&&this.connected_&&this.sendUnlisten_(r,i,e._queryObject,n)}sendUnlisten_(e,n,r,i){this.log_("Unlisten on "+e+" for "+n);const s={p:e},o="n";i&&(s.q=r,s.t=i),this.sendRequest(o,s)}onDisconnectPut(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:r})}onDisconnectMerge(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:r})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,r,i){const s={p:n,d:r};this.log_("onDisconnect "+e,s),this.sendRequest(e,s,o=>{i&&setTimeout(()=>{i(o.s,o.d)},Math.floor(0))})}put(e,n,r,i){this.putInternal("p",e,n,r,i)}merge(e,n,r,i){this.putInternal("m",e,n,r,i)}putInternal(e,n,r,i,s){this.initConnection_();const o={p:n,d:r};s!==void 0&&(o.h=s),this.outstandingPuts_.push({action:e,request:o,onComplete:i}),this.outstandingPutCount_++;const a=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(a):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,i=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,s=>{this.log_(n+" response",s),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),i&&i(s.s,s.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,r=>{if(r.s!=="ok"){const s=r.d;this.log_("reportStats","Error sending stats: "+s)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+Nr(e));const n=e.r,r=this.requestCBHash_[n];r&&(delete this.requestCBHash_[n],r(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),e==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):e==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):e==="c"?this.onListenRevoked_(n.p,n.q):e==="ac"?this.onAuthRevoked_(n.s,n.d):e==="apc"?this.onAppCheckRevoked_(n.s,n.d):e==="sd"?this.onSecurityDebugPacket_(n):x0("Unrecognized action received from server: "+Nr(e)+`
Are you using the latest client?`)}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){Ge(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=od,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=od,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>jz&&(this.reconnectDelay_=od),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=new Date().getTime()-this.lastConnectionAttemptTime_;let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*Bz)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),i=this.id+":"+To.nextConnectionId_++,s=this.lastSessionId;let o=!1,a=null;const l=function(){a?a.close():(o=!0,r())},u=function(d){Ge(a,"sendRequest call when we're not connected not allowed."),a.sendRequest(d)};this.realtime_={close:l,sendRequest:u};const c=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[d,h]=await Promise.all([this.authTokenProvider_.getToken(c),this.appCheckTokenProvider_.getToken(c)]);o?Yr("getToken() completed but was canceled"):(Yr("getToken() completed. Creating connection."),this.authToken_=d&&d.accessToken,this.appCheckToken_=h&&h.token,a=new Lz(i,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,r,p=>{qi(p+" ("+this.repoInfo_.toString()+")"),this.interrupt(Hz)},s))}catch(d){this.log_("Failed to get token: "+d),o||(this.repoInfo_.nodeAdmin&&qi(d),l())}}}interrupt(e){Yr("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){Yr("Resuming connection for reason: "+e),delete this.interruptReasons_[e],Gb(this.interruptReasons_)&&(this.reconnectDelay_=od,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let r;n?r=n.map(s=>w1(s)).join("$"):r="default";const i=this.removeListen_(e,r);i&&i.onComplete&&i.onComplete("permission_denied")}removeListen_(e,n){const r=new xn(e).toString();let i;if(this.listens.has(r)){const s=this.listens.get(r);i=s.get(n),s.delete(n),s.size===0&&this.listens.delete(r)}else i=void 0;return i}onAuthRevoked_(e,n){Yr("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=kC&&(this.reconnectDelay_=OC,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){Yr("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=kC&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";e["sdk."+n+"."+rN.replace(/\./g,"-")]=1,iw()?e["framework.cordova"]=1:CR()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=Xm.getInstance().currentlyOnline();return Gb(this.interruptReasons_)&&e}}To.nextPersistentConnectionId_=0;To.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ht{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new Ht(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wv{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const r=new Ht(pc,e),i=new Ht(pc,n);return this.compare(r,i)!==0}minPost(){return Ht.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Sp;class RN extends wv{static get __EMPTY_NODE(){return Sp}static set __EMPTY_NODE(e){Sp=e}compare(e,n){return Lc(e.name,n.name)}isDefinedOn(e){throw Pc("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return Ht.MIN}maxPost(){return new Ht(Ll,Sp)}makePost(e,n){return Ge(typeof e=="string","KeyIndex indexValue must always be a string."),new Ht(e,Sp)}toString(){return".key"}}const Ku=new RN;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ip{constructor(e,n,r,i,s=null){this.isReverse_=i,this.resultGenerator_=s,this.nodeStack_=[];let o=1;for(;!e.isEmpty();)if(e=e,o=n?r(e.key,n):1,i&&(o*=-1),o<0)this.isReverse_?e=e.left:e=e.right;else if(o===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class Ir{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??Ir.RED,this.left=i??Ii.EMPTY_NODE,this.right=s??Ii.EMPTY_NODE}copy(e,n,r,i,s){return new Ir(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return s<0?i=i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i=i.copy(null,n,null,null,null):i=i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp_()}removeMin_(){if(this.left.isEmpty())return Ii.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let r,i;if(r=this,n(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),n(e,r.key)===0){if(r.right.isEmpty())return Ii.EMPTY_NODE;i=r.right.min_(),r=r.copy(i.key,i.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,Ir.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,Ir.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}Ir.RED=!0;Ir.BLACK=!1;class Wz{copy(e,n,r,i,s){return this}insert(e,n,r){return new Ir(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class Ii{constructor(e,n=Ii.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new Ii(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,Ir.BLACK,null,null))}remove(e){return new Ii(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Ir.BLACK,null,null))}get(e){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(e){let n,r=this.root_,i=null;for(;!r.isEmpty();)if(n=this.comparator_(e,r.key),n===0){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(i=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new Ip(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new Ip(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new Ip(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new Ip(this.root_,null,this.comparator_,!0,e)}}Ii.EMPTY_NODE=new Wz;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zz(t,e){return Lc(t.name,e.name)}function C1(t,e){return Lc(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let M0;function Kz(t){M0=t}const xN=function(t){return typeof t=="number"?"number:"+lN(t):"string:"+t},DN=function(t){if(t.isLeafNode()){const e=t.val();Ge(typeof e=="string"||typeof e=="number"||typeof e=="object"&&Ro(e,".sv"),"Priority must be a string or number.")}else Ge(t===M0||t.isEmpty(),"priority of unexpected type.");Ge(t===M0||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let RC;class Er{constructor(e,n=Er.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,Ge(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),DN(this.priorityNode_)}static set __childrenNodeConstructor(e){RC=e}static get __childrenNodeConstructor(){return RC}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new Er(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:Er.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return Ft(e)?this:jt(e)===".priority"?this.priorityNode_:Er.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:Er.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const r=jt(e);return r===null?n:n.isEmpty()&&r!==".priority"?this:(Ge(r!==".priority"||Ra(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,Er.__childrenNodeConstructor.EMPTY_NODE.updateChild(An(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+xN(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",n==="number"?e+=lN(this.value_):e+=this.value_,this.lazyHash_=sN(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===Er.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof Er.__childrenNodeConstructor?-1:(Ge(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,r=typeof this.value_,i=Er.VALUE_TYPE_ORDER.indexOf(n),s=Er.VALUE_TYPE_ORDER.indexOf(r);return Ge(i>=0,"Unknown leaf type: "+n),Ge(s>=0,"Unknown leaf type: "+r),i===s?r==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:s-i}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}Er.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let NN,MN;function Gz(t){NN=t}function Yz(t){MN=t}class Qz extends wv{compare(e,n){const r=e.node.getPriority(),i=n.node.getPriority(),s=r.compareTo(i);return s===0?Lc(e.name,n.name):s}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return Ht.MIN}maxPost(){return new Ht(Ll,new Er("[PRIORITY-POST]",MN))}makePost(e,n){const r=NN(e);return new Ht(n,new Er("[PRIORITY-POST]",r))}toString(){return".priority"}}const ei=new Qz;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xz=Math.log(2);class Jz{constructor(e){const n=s=>parseInt(Math.log(s)/Xz,10),r=s=>parseInt(Array(s+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;const i=r(this.count);this.bits_=e+1&i}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const Jm=function(t,e,n,r){t.sort(e);const i=function(l,u){const c=u-l;let d,h;if(c===0)return null;if(c===1)return d=t[l],h=n?n(d):d,new Ir(h,d.node,Ir.BLACK,null,null);{const p=parseInt(c/2,10)+l,m=i(l,p),g=i(p+1,u);return d=t[p],h=n?n(d):d,new Ir(h,d.node,Ir.BLACK,m,g)}},s=function(l){let u=null,c=null,d=t.length;const h=function(m,g){const y=d-m,A=d;d-=m;const C=i(y+1,A),S=t[y],E=n?n(S):S;p(new Ir(E,S.node,g,null,C))},p=function(m){u?(u.left=m,u=m):(c=m,u=m)};for(let m=0;m<l.count;++m){const g=l.nextBitIsOne(),y=Math.pow(2,l.count-(m+1));g?h(y,Ir.BLACK):(h(y,Ir.BLACK),h(y,Ir.RED))}return c},o=new Jz(t.length),a=s(o);return new Ii(r||e,a)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ly;const iu={};class go{constructor(e,n){this.indexes_=e,this.indexSet_=n}static get Default(){return Ge(iu&&ei,"ChildrenNode.ts has not been loaded"),Ly=Ly||new go({".priority":iu},{".priority":ei}),Ly}get(e){const n=ic(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof Ii?n:null}hasIndex(e){return Ro(this.indexSet_,e.toString())}addIndex(e,n){Ge(e!==Ku,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let i=!1;const s=n.getIterator(Ht.Wrap);let o=s.getNext();for(;o;)i=i||e.isDefinedOn(o.node),r.push(o),o=s.getNext();let a;i?a=Jm(r,e.getCompare()):a=iu;const l=e.toString(),u=Object.assign({},this.indexSet_);u[l]=e;const c=Object.assign({},this.indexes_);return c[l]=a,new go(c,u)}addToIndexes(e,n){const r=Cm(this.indexes_,(i,s)=>{const o=ic(this.indexSet_,s);if(Ge(o,"Missing index implementation for "+s),i===iu)if(o.isDefinedOn(e.node)){const a=[],l=n.getIterator(Ht.Wrap);let u=l.getNext();for(;u;)u.name!==e.name&&a.push(u),u=l.getNext();return a.push(e),Jm(a,o.getCompare())}else return iu;else{const a=n.get(e.name);let l=i;return a&&(l=l.remove(new Ht(e.name,a))),l.insert(e,e.node)}});return new go(r,this.indexSet_)}removeFromIndexes(e,n){const r=Cm(this.indexes_,i=>{if(i===iu)return i;{const s=n.get(e.name);return s?i.remove(new Ht(e.name,s)):i}});return new go(r,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ad;class on{constructor(e,n,r){this.children_=e,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&DN(this.priorityNode_),this.children_.isEmpty()&&Ge(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return ad||(ad=new on(new Ii(C1),null,go.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||ad}updatePriority(e){return this.children_.isEmpty()?this:new on(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const n=this.children_.get(e);return n===null?ad:n}}getChild(e){const n=jt(e);return n===null?this:this.getImmediateChild(n).getChild(An(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,n){if(Ge(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);{const r=new Ht(e,n);let i,s;n.isEmpty()?(i=this.children_.remove(e),s=this.indexMap_.removeFromIndexes(r,this.children_)):(i=this.children_.insert(e,n),s=this.indexMap_.addToIndexes(r,this.children_));const o=i.isEmpty()?ad:this.priorityNode_;return new on(i,o,s)}}updateChild(e,n){const r=jt(e);if(r===null)return n;{Ge(jt(e)!==".priority"||Ra(e)===1,".priority must be the last token in a path");const i=this.getImmediateChild(r).updateChild(An(e),n);return this.updateImmediateChild(r,i)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let r=0,i=0,s=!0;if(this.forEachChild(ei,(o,a)=>{n[o]=a.val(e),r++,s&&on.INTEGER_REGEXP_.test(o)?i=Math.max(i,Number(o)):s=!1}),!e&&s&&i<2*r){const o=[];for(const a in n)o[a]=n[a];return o}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+xN(this.getPriority().val())+":"),this.forEachChild(ei,(n,r)=>{const i=r.hash();i!==""&&(e+=":"+n+":"+i)}),this.lazyHash_=e===""?"":sN(e)}return this.lazyHash_}getPredecessorChildName(e,n,r){const i=this.resolveIndex_(r);if(i){const s=i.getPredecessorKey(new Ht(e,n));return s?s.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new Ht(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new Ht(n,this.children_.get(n)):null}forEachChild(e,n){const r=this.resolveIndex_(e);return r?r.inorderTraversal(i=>n(i.name,i.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getIteratorFrom(e,i=>i);{const i=this.children_.getIteratorFrom(e.name,Ht.Wrap);let s=i.peek();for(;s!=null&&n.compare(s,e)<0;)i.getNext(),s=i.peek();return i}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getReverseIteratorFrom(e,i=>i);{const i=this.children_.getReverseIteratorFrom(e.name,Ht.Wrap);let s=i.peek();for(;s!=null&&n.compare(s,e)>0;)i.getNext(),s=i.peek();return i}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===Of?-1:0}withIndex(e){if(e===Ku||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new on(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===Ku||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const r=this.getIterator(ei),i=n.getIterator(ei);let s=r.getNext(),o=i.getNext();for(;s&&o;){if(s.name!==o.name||!s.node.equals(o.node))return!1;s=r.getNext(),o=i.getNext()}return s===null&&o===null}else return!1;else return!1}}resolveIndex_(e){return e===Ku?null:this.indexMap_.get(e.toString())}}on.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class Zz extends on{constructor(){super(new Ii(C1),on.EMPTY_NODE,go.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return on.EMPTY_NODE}isEmpty(){return!1}}const Of=new Zz;Object.defineProperties(Ht,{MIN:{value:new Ht(pc,on.EMPTY_NODE)},MAX:{value:new Ht(Ll,Of)}});RN.__EMPTY_NODE=on.EMPTY_NODE;Er.__childrenNodeConstructor=on;Kz(Of);Yz(Of);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eK=!0;function Qr(t,e=null){if(t===null)return on.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),Ge(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const n=t;return new Er(n,Qr(e))}if(!(t instanceof Array)&&eK){const n=[];let r=!1;if(Ji(t,(o,a)=>{if(o.substring(0,1)!=="."){const l=Qr(a);l.isEmpty()||(r=r||!l.getPriority().isEmpty(),n.push(new Ht(o,l)))}}),n.length===0)return on.EMPTY_NODE;const s=Jm(n,zz,o=>o.name,C1);if(r){const o=Jm(n,ei.getCompare());return new on(s,Qr(e),new go({".priority":o},{".priority":ei}))}else return new on(s,Qr(e),go.Default)}else{let n=on.EMPTY_NODE;return Ji(t,(r,i)=>{if(Ro(t,r)&&r.substring(0,1)!=="."){const s=Qr(i);(s.isLeafNode()||!s.isEmpty())&&(n=n.updateImmediateChild(r,s))}}),n.updatePriority(Qr(e))}}Gz(Qr);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tK extends wv{constructor(e){super(),this.indexPath_=e,Ge(!Ft(e)&&jt(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const r=this.extractChild(e.node),i=this.extractChild(n.node),s=r.compareTo(i);return s===0?Lc(e.name,n.name):s}makePost(e,n){const r=Qr(e),i=on.EMPTY_NODE.updateChild(this.indexPath_,r);return new Ht(n,i)}maxPost(){const e=on.EMPTY_NODE.updateChild(this.indexPath_,Of);return new Ht(Ll,e)}toString(){return AN(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nK extends wv{compare(e,n){const r=e.node.compareTo(n.node);return r===0?Lc(e.name,n.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return Ht.MIN}maxPost(){return Ht.MAX}makePost(e,n){const r=Qr(e);return new Ht(n,r)}toString(){return".value"}}const rK=new nK;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iK(t){return{type:"value",snapshotNode:t}}function sK(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function oK(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function xC(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function aK(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A1{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=ei}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return Ge(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return Ge(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:pc}hasEnd(){return this.endSet_}getIndexEndValue(){return Ge(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return Ge(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Ll}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return Ge(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===ei}copy(){const e=new A1;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function DC(t){const e={};if(t.isDefault())return e;let n;if(t.index_===ei?n="$priority":t.index_===rK?n="$value":t.index_===Ku?n="$key":(Ge(t.index_ instanceof tK,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=Nr(n),t.startSet_){const r=t.startAfterSet_?"startAfter":"startAt";e[r]=Nr(t.indexStartValue_),t.startNameSet_&&(e[r]+=","+Nr(t.indexStartName_))}if(t.endSet_){const r=t.endBeforeSet_?"endBefore":"endAt";e[r]=Nr(t.indexEndValue_),t.endNameSet_&&(e[r]+=","+Nr(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function NC(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==ei&&(e.i=t.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zm extends SN{constructor(e,n,r,i){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=Af("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(Ge(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,n,r,i){const s=e._path.toString();this.log_("Listen called for "+s+" "+e._queryIdentifier);const o=Zm.getListenId_(e,r),a={};this.listens_[o]=a;const l=DC(e._queryParams);this.restRequest_(s+".json",l,(u,c)=>{let d=c;if(u===404&&(d=null,u=null),u===null&&this.onDataUpdate_(s,d,!1,r),ic(this.listens_,o)===a){let h;u?u===401?h="permission_denied":h="rest_error:"+u:h="ok",i(h,null)}})}unlisten(e,n){const r=Zm.getListenId_(e,n);delete this.listens_[r]}get(e){const n=DC(e._queryParams),r=e._path.toString(),i=new Cl;return this.restRequest_(r+".json",n,(s,o)=>{let a=o;s===404&&(a=null,s=null),s===null?(this.onDataUpdate_(r,a,!1,null),i.resolve(a)):i.reject(new Error(a))}),i.promise}refreshAuthToken(e){}restRequest_(e,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,s])=>{i&&i.accessToken&&(n.auth=i.accessToken),s&&s.token&&(n.ac=s.token);const o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+Oc(n);this.log_("Sending REST request for "+o);const a=new XMLHttpRequest;a.onreadystatechange=()=>{if(r&&a.readyState===4){this.log_("REST Response for "+o+" received. status:",a.status,"response:",a.responseText);let l=null;if(a.status>=200&&a.status<300){try{l=vh(a.responseText)}catch{qi("Failed to parse JSON response for "+o+": "+a.responseText)}r(null,l)}else a.status!==401&&a.status!==404&&qi("Got unsuccessful REST response for "+o+" Status: "+a.status),r(a.status);r=null}},a.open("GET",o,!0),a.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lK{constructor(){this.rootNode_=on.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eg(){return{value:null,children:new Map}}function LN(t,e,n){if(Ft(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{const r=jt(e);t.children.has(r)||t.children.set(r,eg());const i=t.children.get(r);e=An(e),LN(i,e,n)}}function L0(t,e,n){t.value!==null?n(e,t.value):uK(t,(r,i)=>{const s=new xn(e.toString()+"/"+r);L0(i,s,n)})}function uK(t,e){t.children.forEach((n,r)=>{e(r,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cK{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n=Object.assign({},e);return this.last_&&Ji(this.last_,(r,i)=>{n[r]=n[r]-i}),this.last_=e,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MC=10*1e3,dK=30*1e3,hK=5*60*1e3;class fK{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new cK(e);const r=MC+(dK-MC)*Math.random();Gd(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const e=this.statsListener_.get(),n={};let r=!1;Ji(e,(i,s)=>{s>0&&Ro(this.statsToReport_,i)&&(n[i]=s,r=!0)}),r&&this.server_.reportStats(n),Gd(this.reportStats_.bind(this),Math.floor(Math.random()*2*hK))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ds;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(Ds||(Ds={}));function VN(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function $N(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function FN(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tg{constructor(e,n,r){this.path=e,this.affectedTree=n,this.revert=r,this.type=Ds.ACK_USER_WRITE,this.source=VN()}operationForChild(e){if(Ft(this.path)){if(this.affectedTree.value!=null)return Ge(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new xn(e));return new tg(un(),n,this.revert)}}else return Ge(jt(this.path)===e,"operationForChild called for unrelated child."),new tg(An(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vl{constructor(e,n,r){this.source=e,this.path=n,this.snap=r,this.type=Ds.OVERWRITE}operationForChild(e){return Ft(this.path)?new Vl(this.source,un(),this.snap.getImmediateChild(e)):new Vl(this.source,An(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rh{constructor(e,n,r){this.source=e,this.path=n,this.children=r,this.type=Ds.MERGE}operationForChild(e){if(Ft(this.path)){const n=this.children.subtree(new xn(e));return n.isEmpty()?null:n.value?new Vl(this.source,un(),n.value):new Rh(this.source,un(),n)}else return Ge(jt(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new Rh(this.source,An(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P1{constructor(e,n,r){this.node_=e,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(Ft(e))return this.isFullyInitialized()&&!this.filtered_;const n=jt(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}function pK(t,e,n,r){const i=[],s=[];return e.forEach(o=>{o.type==="child_changed"&&t.index_.indexedValueChanged(o.oldSnap,o.snapshotNode)&&s.push(aK(o.childName,o.snapshotNode))}),ld(t,i,"child_removed",e,r,n),ld(t,i,"child_added",e,r,n),ld(t,i,"child_moved",s,r,n),ld(t,i,"child_changed",e,r,n),ld(t,i,"value",e,r,n),i}function ld(t,e,n,r,i,s){const o=r.filter(a=>a.type===n);o.sort((a,l)=>gK(t,a,l)),o.forEach(a=>{const l=mK(t,a,s);i.forEach(u=>{u.respondsTo(a.type)&&e.push(u.createEvent(l,t.query_))})})}function mK(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function gK(t,e,n){if(e.childName==null||n.childName==null)throw Pc("Should only compare child_ events.");const r=new Ht(e.childName,e.snapshotNode),i=new Ht(n.childName,n.snapshotNode);return t.index_.compare(r,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UN(t,e){return{eventCache:t,serverCache:e}}function Yd(t,e,n,r){return UN(new P1(e,n,r),t.serverCache)}function qN(t,e,n,r){return UN(t.eventCache,new P1(e,n,r))}function V0(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function $l(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Vy;const vK=()=>(Vy||(Vy=new Ii(nz)),Vy);class Cn{constructor(e,n=vK()){this.value=e,this.children=n}static fromObject(e){let n=new Cn(null);return Ji(e,(r,i)=>{n=n.set(new xn(r),i)}),n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:un(),value:this.value};if(Ft(e))return null;{const r=jt(e),i=this.children.get(r);if(i!==null){const s=i.findRootMostMatchingPathAndValue(An(e),n);return s!=null?{path:Ar(new xn(r),s.path),value:s.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(Ft(e))return this;{const n=jt(e),r=this.children.get(n);return r!==null?r.subtree(An(e)):new Cn(null)}}set(e,n){if(Ft(e))return new Cn(n,this.children);{const r=jt(e),s=(this.children.get(r)||new Cn(null)).set(An(e),n),o=this.children.insert(r,s);return new Cn(this.value,o)}}remove(e){if(Ft(e))return this.children.isEmpty()?new Cn(null):new Cn(null,this.children);{const n=jt(e),r=this.children.get(n);if(r){const i=r.remove(An(e));let s;return i.isEmpty()?s=this.children.remove(n):s=this.children.insert(n,i),this.value===null&&s.isEmpty()?new Cn(null):new Cn(this.value,s)}else return this}}get(e){if(Ft(e))return this.value;{const n=jt(e),r=this.children.get(n);return r?r.get(An(e)):null}}setTree(e,n){if(Ft(e))return n;{const r=jt(e),s=(this.children.get(r)||new Cn(null)).setTree(An(e),n);let o;return s.isEmpty()?o=this.children.remove(r):o=this.children.insert(r,s),new Cn(this.value,o)}}fold(e){return this.fold_(un(),e)}fold_(e,n){const r={};return this.children.inorderTraversal((i,s)=>{r[i]=s.fold_(Ar(e,i),n)}),n(e,this.value,r)}findOnPath(e,n){return this.findOnPath_(e,un(),n)}findOnPath_(e,n,r){const i=this.value?r(n,this.value):!1;if(i)return i;if(Ft(e))return null;{const s=jt(e),o=this.children.get(s);return o?o.findOnPath_(An(e),Ar(n,s),r):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,un(),n)}foreachOnPath_(e,n,r){if(Ft(e))return this;{this.value&&r(n,this.value);const i=jt(e),s=this.children.get(i);return s?s.foreachOnPath_(An(e),Ar(n,i),r):new Cn(null)}}foreach(e){this.foreach_(un(),e)}foreach_(e,n){this.children.inorderTraversal((r,i)=>{i.foreach_(Ar(e,r),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,r)=>{r.value&&e(n,r.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vs{constructor(e){this.writeTree_=e}static empty(){return new vs(new Cn(null))}}function Qd(t,e,n){if(Ft(e))return new vs(new Cn(n));{const r=t.writeTree_.findRootMostValueAndPath(e);if(r!=null){const i=r.path;let s=r.value;const o=Yi(i,e);return s=s.updateChild(o,n),new vs(t.writeTree_.set(i,s))}else{const i=new Cn(n),s=t.writeTree_.setTree(e,i);return new vs(s)}}}function LC(t,e,n){let r=t;return Ji(n,(i,s)=>{r=Qd(r,Ar(e,i),s)}),r}function VC(t,e){if(Ft(e))return vs.empty();{const n=t.writeTree_.setTree(e,new Cn(null));return new vs(n)}}function $0(t,e){return Gl(t,e)!=null}function Gl(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(Yi(n.path,e)):null}function $C(t){const e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(ei,(r,i)=>{e.push(new Ht(r,i))}):t.writeTree_.children.inorderTraversal((r,i)=>{i.value!=null&&e.push(new Ht(r,i.value))}),e}function ga(t,e){if(Ft(e))return t;{const n=Gl(t,e);return n!=null?new vs(new Cn(n)):new vs(t.writeTree_.subtree(e))}}function F0(t){return t.writeTree_.isEmpty()}function mc(t,e){return BN(un(),t.writeTree_,e)}function BN(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let r=null;return e.children.inorderTraversal((i,s)=>{i===".priority"?(Ge(s.value!==null,"Priority writes must always be leaf nodes"),r=s.value):n=BN(Ar(t,i),s,n)}),!n.getChild(t).isEmpty()&&r!==null&&(n=n.updateChild(Ar(t,".priority"),r)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jN(t,e){return GN(e,t)}function yK(t,e,n,r,i){Ge(r>t.lastWriteId,"Stacking an older write on top of newer ones"),i===void 0&&(i=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:i}),i&&(t.visibleWrites=Qd(t.visibleWrites,e,n)),t.lastWriteId=r}function bK(t,e){for(let n=0;n<t.allWrites.length;n++){const r=t.allWrites[n];if(r.writeId===e)return r}return null}function _K(t,e){const n=t.allWrites.findIndex(a=>a.writeId===e);Ge(n>=0,"removeWrite called with nonexistent writeId.");const r=t.allWrites[n];t.allWrites.splice(n,1);let i=r.visible,s=!1,o=t.allWrites.length-1;for(;i&&o>=0;){const a=t.allWrites[o];a.visible&&(o>=n&&wK(a,r.path)?i=!1:ps(r.path,a.path)&&(s=!0)),o--}if(i){if(s)return TK(t),!0;if(r.snap)t.visibleWrites=VC(t.visibleWrites,r.path);else{const a=r.children;Ji(a,l=>{t.visibleWrites=VC(t.visibleWrites,Ar(r.path,l))})}return!0}else return!1}function wK(t,e){if(t.snap)return ps(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&ps(Ar(t.path,n),e))return!0;return!1}function TK(t){t.visibleWrites=HN(t.allWrites,EK,un()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function EK(t){return t.visible}function HN(t,e,n){let r=vs.empty();for(let i=0;i<t.length;++i){const s=t[i];if(e(s)){const o=s.path;let a;if(s.snap)ps(n,o)?(a=Yi(n,o),r=Qd(r,a,s.snap)):ps(o,n)&&(a=Yi(o,n),r=Qd(r,un(),s.snap.getChild(a)));else if(s.children){if(ps(n,o))a=Yi(n,o),r=LC(r,a,s.children);else if(ps(o,n))if(a=Yi(o,n),Ft(a))r=LC(r,un(),s.children);else{const l=ic(s.children,jt(a));if(l){const u=l.getChild(An(a));r=Qd(r,un(),u)}}}else throw Pc("WriteRecord should have .snap or .children")}}return r}function WN(t,e,n,r,i){if(!r&&!i){const s=Gl(t.visibleWrites,e);if(s!=null)return s;{const o=ga(t.visibleWrites,e);if(F0(o))return n;if(n==null&&!$0(o,un()))return null;{const a=n||on.EMPTY_NODE;return mc(o,a)}}}else{const s=ga(t.visibleWrites,e);if(!i&&F0(s))return n;if(!i&&n==null&&!$0(s,un()))return null;{const o=function(u){return(u.visible||i)&&(!r||!~r.indexOf(u.writeId))&&(ps(u.path,e)||ps(e,u.path))},a=HN(t.allWrites,o,e),l=n||on.EMPTY_NODE;return mc(a,l)}}}function SK(t,e,n){let r=on.EMPTY_NODE;const i=Gl(t.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(ei,(s,o)=>{r=r.updateImmediateChild(s,o)}),r;if(n){const s=ga(t.visibleWrites,e);return n.forEachChild(ei,(o,a)=>{const l=mc(ga(s,new xn(o)),a);r=r.updateImmediateChild(o,l)}),$C(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}else{const s=ga(t.visibleWrites,e);return $C(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}}function IK(t,e,n,r,i){Ge(r||i,"Either existingEventSnap or existingServerSnap must exist");const s=Ar(e,n);if($0(t.visibleWrites,s))return null;{const o=ga(t.visibleWrites,s);return F0(o)?i.getChild(n):mc(o,i.getChild(n))}}function CK(t,e,n,r){const i=Ar(e,n),s=Gl(t.visibleWrites,i);if(s!=null)return s;if(r.isCompleteForChild(n)){const o=ga(t.visibleWrites,i);return mc(o,r.getNode().getImmediateChild(n))}else return null}function AK(t,e){return Gl(t.visibleWrites,e)}function PK(t,e,n,r,i,s,o){let a;const l=ga(t.visibleWrites,e),u=Gl(l,un());if(u!=null)a=u;else if(n!=null)a=mc(l,n);else return[];if(a=a.withIndex(o),!a.isEmpty()&&!a.isLeafNode()){const c=[],d=o.getCompare(),h=s?a.getReverseIteratorFrom(r,o):a.getIteratorFrom(r,o);let p=h.getNext();for(;p&&c.length<i;)d(p,r)!==0&&c.push(p),p=h.getNext();return c}else return[]}function OK(){return{visibleWrites:vs.empty(),allWrites:[],lastWriteId:-1}}function U0(t,e,n,r){return WN(t.writeTree,t.treePath,e,n,r)}function zN(t,e){return SK(t.writeTree,t.treePath,e)}function FC(t,e,n,r){return IK(t.writeTree,t.treePath,e,n,r)}function ng(t,e){return AK(t.writeTree,Ar(t.treePath,e))}function kK(t,e,n,r,i,s){return PK(t.writeTree,t.treePath,e,n,r,i,s)}function O1(t,e,n){return CK(t.writeTree,t.treePath,e,n)}function KN(t,e){return GN(Ar(t.treePath,e),t.writeTree)}function GN(t,e){return{treePath:t,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RK{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,r=e.childName;Ge(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),Ge(r!==".priority","Only non-priority child changes can be tracked.");const i=this.changeMap.get(r);if(i){const s=i.type;if(n==="child_added"&&s==="child_removed")this.changeMap.set(r,xC(r,e.snapshotNode,i.snapshotNode));else if(n==="child_removed"&&s==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&s==="child_changed")this.changeMap.set(r,oK(r,i.oldSnap));else if(n==="child_changed"&&s==="child_added")this.changeMap.set(r,sK(r,e.snapshotNode));else if(n==="child_changed"&&s==="child_changed")this.changeMap.set(r,xC(r,e.snapshotNode,i.oldSnap));else throw Pc("Illegal combination of changes: "+e+" occurred after "+i)}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xK{getCompleteChild(e){return null}getChildAfterChild(e,n,r){return null}}const YN=new xK;class k1{constructor(e,n,r=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const r=this.optCompleteServerCache_!=null?new P1(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return O1(this.writes_,e,r)}}getChildAfterChild(e,n,r){const i=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:$l(this.viewCache_),s=kK(this.writes_,i,n,1,r,e);return s.length===0?null:s[0]}}function DK(t,e){Ge(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),Ge(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function NK(t,e,n,r,i){const s=new RK;let o,a;if(n.type===Ds.OVERWRITE){const u=n;u.source.fromUser?o=q0(t,e,u.path,u.snap,r,i,s):(Ge(u.source.fromServer,"Unknown source."),a=u.source.tagged||e.serverCache.isFiltered()&&!Ft(u.path),o=rg(t,e,u.path,u.snap,r,i,a,s))}else if(n.type===Ds.MERGE){const u=n;u.source.fromUser?o=LK(t,e,u.path,u.children,r,i,s):(Ge(u.source.fromServer,"Unknown source."),a=u.source.tagged||e.serverCache.isFiltered(),o=B0(t,e,u.path,u.children,r,i,a,s))}else if(n.type===Ds.ACK_USER_WRITE){const u=n;u.revert?o=FK(t,e,u.path,r,i,s):o=VK(t,e,u.path,u.affectedTree,r,i,s)}else if(n.type===Ds.LISTEN_COMPLETE)o=$K(t,e,n.path,r,s);else throw Pc("Unknown operation type: "+n.type);const l=s.getChanges();return MK(e,o,l),{viewCache:o,changes:l}}function MK(t,e,n){const r=e.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),s=V0(t);(n.length>0||!t.eventCache.isFullyInitialized()||i&&!r.getNode().equals(s)||!r.getNode().getPriority().equals(s.getPriority()))&&n.push(iK(V0(e)))}}function QN(t,e,n,r,i,s){const o=e.eventCache;if(ng(r,n)!=null)return e;{let a,l;if(Ft(n))if(Ge(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const u=$l(e),c=u instanceof on?u:on.EMPTY_NODE,d=zN(r,c);a=t.filter.updateFullNode(e.eventCache.getNode(),d,s)}else{const u=U0(r,$l(e));a=t.filter.updateFullNode(e.eventCache.getNode(),u,s)}else{const u=jt(n);if(u===".priority"){Ge(Ra(n)===1,"Can't have a priority with additional path components");const c=o.getNode();l=e.serverCache.getNode();const d=FC(r,n,c,l);d!=null?a=t.filter.updatePriority(c,d):a=o.getNode()}else{const c=An(n);let d;if(o.isCompleteForChild(u)){l=e.serverCache.getNode();const h=FC(r,n,o.getNode(),l);h!=null?d=o.getNode().getImmediateChild(u).updateChild(c,h):d=o.getNode().getImmediateChild(u)}else d=O1(r,u,e.serverCache);d!=null?a=t.filter.updateChild(o.getNode(),u,d,c,i,s):a=o.getNode()}}return Yd(e,a,o.isFullyInitialized()||Ft(n),t.filter.filtersNodes())}}function rg(t,e,n,r,i,s,o,a){const l=e.serverCache;let u;const c=o?t.filter:t.filter.getIndexedFilter();if(Ft(n))u=c.updateFullNode(l.getNode(),r,null);else if(c.filtersNodes()&&!l.isFiltered()){const p=l.getNode().updateChild(n,r);u=c.updateFullNode(l.getNode(),p,null)}else{const p=jt(n);if(!l.isCompleteForPath(n)&&Ra(n)>1)return e;const m=An(n),y=l.getNode().getImmediateChild(p).updateChild(m,r);p===".priority"?u=c.updatePriority(l.getNode(),y):u=c.updateChild(l.getNode(),p,y,m,YN,null)}const d=qN(e,u,l.isFullyInitialized()||Ft(n),c.filtersNodes()),h=new k1(i,d,s);return QN(t,d,n,i,h,a)}function q0(t,e,n,r,i,s,o){const a=e.eventCache;let l,u;const c=new k1(i,e,s);if(Ft(n))u=t.filter.updateFullNode(e.eventCache.getNode(),r,o),l=Yd(e,u,!0,t.filter.filtersNodes());else{const d=jt(n);if(d===".priority")u=t.filter.updatePriority(e.eventCache.getNode(),r),l=Yd(e,u,a.isFullyInitialized(),a.isFiltered());else{const h=An(n),p=a.getNode().getImmediateChild(d);let m;if(Ft(h))m=r;else{const g=c.getCompleteChild(d);g!=null?CN(h)===".priority"&&g.getChild(PN(h)).isEmpty()?m=g:m=g.updateChild(h,r):m=on.EMPTY_NODE}if(p.equals(m))l=e;else{const g=t.filter.updateChild(a.getNode(),d,m,h,c,o);l=Yd(e,g,a.isFullyInitialized(),t.filter.filtersNodes())}}}return l}function UC(t,e){return t.eventCache.isCompleteForChild(e)}function LK(t,e,n,r,i,s,o){let a=e;return r.foreach((l,u)=>{const c=Ar(n,l);UC(e,jt(c))&&(a=q0(t,a,c,u,i,s,o))}),r.foreach((l,u)=>{const c=Ar(n,l);UC(e,jt(c))||(a=q0(t,a,c,u,i,s,o))}),a}function qC(t,e,n){return n.foreach((r,i)=>{e=e.updateChild(r,i)}),e}function B0(t,e,n,r,i,s,o,a){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let l=e,u;Ft(n)?u=r:u=new Cn(null).setTree(n,r);const c=e.serverCache.getNode();return u.children.inorderTraversal((d,h)=>{if(c.hasChild(d)){const p=e.serverCache.getNode().getImmediateChild(d),m=qC(t,p,h);l=rg(t,l,new xn(d),m,i,s,o,a)}}),u.children.inorderTraversal((d,h)=>{const p=!e.serverCache.isCompleteForChild(d)&&h.value===null;if(!c.hasChild(d)&&!p){const m=e.serverCache.getNode().getImmediateChild(d),g=qC(t,m,h);l=rg(t,l,new xn(d),g,i,s,o,a)}}),l}function VK(t,e,n,r,i,s,o){if(ng(i,n)!=null)return e;const a=e.serverCache.isFiltered(),l=e.serverCache;if(r.value!=null){if(Ft(n)&&l.isFullyInitialized()||l.isCompleteForPath(n))return rg(t,e,n,l.getNode().getChild(n),i,s,a,o);if(Ft(n)){let u=new Cn(null);return l.getNode().forEachChild(Ku,(c,d)=>{u=u.set(new xn(c),d)}),B0(t,e,n,u,i,s,a,o)}else return e}else{let u=new Cn(null);return r.foreach((c,d)=>{const h=Ar(n,c);l.isCompleteForPath(h)&&(u=u.set(c,l.getNode().getChild(h)))}),B0(t,e,n,u,i,s,a,o)}}function $K(t,e,n,r,i){const s=e.serverCache,o=qN(e,s.getNode(),s.isFullyInitialized()||Ft(n),s.isFiltered());return QN(t,o,n,r,YN,i)}function FK(t,e,n,r,i,s){let o;if(ng(r,n)!=null)return e;{const a=new k1(r,e,i),l=e.eventCache.getNode();let u;if(Ft(n)||jt(n)===".priority"){let c;if(e.serverCache.isFullyInitialized())c=U0(r,$l(e));else{const d=e.serverCache.getNode();Ge(d instanceof on,"serverChildren would be complete if leaf node"),c=zN(r,d)}c=c,u=t.filter.updateFullNode(l,c,s)}else{const c=jt(n);let d=O1(r,c,e.serverCache);d==null&&e.serverCache.isCompleteForChild(c)&&(d=l.getImmediateChild(c)),d!=null?u=t.filter.updateChild(l,c,d,An(n),a,s):e.eventCache.getNode().hasChild(c)?u=t.filter.updateChild(l,c,on.EMPTY_NODE,An(n),a,s):u=l,u.isEmpty()&&e.serverCache.isFullyInitialized()&&(o=U0(r,$l(e)),o.isLeafNode()&&(u=t.filter.updateFullNode(u,o,s)))}return o=e.serverCache.isFullyInitialized()||ng(r,un())!=null,Yd(e,u,o,t.filter.filtersNodes())}}function UK(t,e){const n=$l(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!Ft(e)&&!n.getImmediateChild(jt(e)).isEmpty())?n.getChild(e):null}function BC(t,e,n,r){e.type===Ds.MERGE&&e.source.queryId!==null&&(Ge($l(t.viewCache_),"We should always have a full cache before handling merges"),Ge(V0(t.viewCache_),"Missing event cache, even though we have a server cache"));const i=t.viewCache_,s=NK(t.processor_,i,e,n,r);return DK(t.processor_,s.viewCache),Ge(s.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=s.viewCache,qK(t,s.changes,s.viewCache.eventCache.getNode(),null)}function qK(t,e,n,r){const i=r?[r]:t.eventRegistrations_;return pK(t.eventGenerator_,e,n,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let jC;function BK(t){Ge(!jC,"__referenceConstructor has already been defined"),jC=t}function R1(t,e,n,r){const i=e.source.queryId;if(i!==null){const s=t.views.get(i);return Ge(s!=null,"SyncTree gave us an op for an invalid query."),BC(s,e,n,r)}else{let s=[];for(const o of t.views.values())s=s.concat(BC(o,e,n,r));return s}}function x1(t,e){let n=null;for(const r of t.views.values())n=n||UK(r,e);return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let HC;function jK(t){Ge(!HC,"__referenceConstructor has already been defined"),HC=t}class WC{constructor(e){this.listenProvider_=e,this.syncPointTree_=new Cn(null),this.pendingWriteTree_=OK(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function HK(t,e,n,r,i){return yK(t.pendingWriteTree_,e,n,r,i),i?Ev(t,new Vl(VN(),e,n)):[]}function Iu(t,e,n=!1){const r=bK(t.pendingWriteTree_,e);if(_K(t.pendingWriteTree_,e)){let s=new Cn(null);return r.snap!=null?s=s.set(un(),!0):Ji(r.children,o=>{s=s.set(new xn(o),!0)}),Ev(t,new tg(r.path,s,n))}else return[]}function Tv(t,e,n){return Ev(t,new Vl($N(),e,n))}function WK(t,e,n){const r=Cn.fromObject(n);return Ev(t,new Rh($N(),e,r))}function zK(t,e,n,r){const i=eM(t,r);if(i!=null){const s=tM(i),o=s.path,a=s.queryId,l=Yi(o,e),u=new Vl(FN(a),l,n);return nM(t,o,u)}else return[]}function KK(t,e,n,r){const i=eM(t,r);if(i){const s=tM(i),o=s.path,a=s.queryId,l=Yi(o,e),u=Cn.fromObject(n),c=new Rh(FN(a),l,u);return nM(t,o,c)}else return[]}function XN(t,e,n){const i=t.pendingWriteTree_,s=t.syncPointTree_.findOnPath(e,(o,a)=>{const l=Yi(o,e),u=x1(a,l);if(u)return u});return WN(i,e,s,n,!0)}function Ev(t,e){return JN(e,t.syncPointTree_,null,jN(t.pendingWriteTree_,un()))}function JN(t,e,n,r){if(Ft(t.path))return ZN(t,e,n,r);{const i=e.get(un());n==null&&i!=null&&(n=x1(i,un()));let s=[];const o=jt(t.path),a=t.operationForChild(o),l=e.children.get(o);if(l&&a){const u=n?n.getImmediateChild(o):null,c=KN(r,o);s=s.concat(JN(a,l,u,c))}return i&&(s=s.concat(R1(i,t,r,n))),s}}function ZN(t,e,n,r){const i=e.get(un());n==null&&i!=null&&(n=x1(i,un()));let s=[];return e.children.inorderTraversal((o,a)=>{const l=n?n.getImmediateChild(o):null,u=KN(r,o),c=t.operationForChild(o);c&&(s=s.concat(ZN(c,a,l,u)))}),i&&(s=s.concat(R1(i,t,r,n))),s}function eM(t,e){return t.tagToQueryMap.get(e)}function tM(t){const e=t.indexOf("$");return Ge(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new xn(t.substr(0,e))}}function nM(t,e,n){const r=t.syncPointTree_.get(e);Ge(r,"Missing sync point for query tag that we're tracking");const i=jN(t.pendingWriteTree_,e);return R1(r,n,i,null)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D1{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new D1(n)}node(){return this.node_}}class N1{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=Ar(this.path_,e);return new N1(this.syncTree_,n)}node(){return XN(this.syncTree_,this.path_)}}const GK=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},zC=function(t,e,n){if(!t||typeof t!="object")return t;if(Ge(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return YK(t[".sv"],e,n);if(typeof t[".sv"]=="object")return QK(t[".sv"],e);Ge(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},YK=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:Ge(!1,"Unexpected server value: "+t)}},QK=function(t,e,n){t.hasOwnProperty("increment")||Ge(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const r=t.increment;typeof r!="number"&&Ge(!1,"Unexpected increment value: "+r);const i=e.node();if(Ge(i!==null&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const o=i.getValue();return typeof o!="number"?r:o+r},XK=function(t,e,n,r){return M1(e,new N1(n,t),r)},JK=function(t,e,n){return M1(t,new D1(e),n)};function M1(t,e,n){const r=t.getPriority().val(),i=zC(r,e.getImmediateChild(".priority"),n);let s;if(t.isLeafNode()){const o=t,a=zC(o.getValue(),e,n);return a!==o.getValue()||i!==o.getPriority().val()?new Er(a,Qr(i)):t}else{const o=t;return s=o,i!==o.getPriority().val()&&(s=s.updatePriority(new Er(i))),o.forEachChild(ei,(a,l)=>{const u=M1(l,e.getImmediateChild(a),n);u!==l&&(s=s.updateImmediateChild(a,u))}),s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L1{constructor(e="",n=null,r={children:{},childCount:0}){this.name=e,this.parent=n,this.node=r}}function V1(t,e){let n=e instanceof xn?e:new xn(e),r=t,i=jt(n);for(;i!==null;){const s=ic(r.node.children,i)||{children:{},childCount:0};r=new L1(i,r,s),n=An(n),i=jt(n)}return r}function Vc(t){return t.node.value}function rM(t,e){t.node.value=e,j0(t)}function iM(t){return t.node.childCount>0}function ZK(t){return Vc(t)===void 0&&!iM(t)}function Sv(t,e){Ji(t.node.children,(n,r)=>{e(new L1(n,t,r))})}function sM(t,e,n,r){n&&!r&&e(t),Sv(t,i=>{sM(i,e,!0,r)}),n&&r&&e(t)}function eG(t,e,n){let r=n?t:t.parent;for(;r!==null;){if(e(r))return!0;r=r.parent}return!1}function kf(t){return new xn(t.parent===null?t.name:kf(t.parent)+"/"+t.name)}function j0(t){t.parent!==null&&tG(t.parent,t.name,t)}function tG(t,e,n){const r=ZK(n),i=Ro(t.node.children,e);r&&i?(delete t.node.children[e],t.node.childCount--,j0(t)):!r&&!i&&(t.node.children[e]=n.node,t.node.childCount++,j0(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nG=/[\[\].#$\/\u0000-\u001F\u007F]/,rG=/[\[\].#$\u0000-\u001F\u007F]/,$y=10*1024*1024,oM=function(t){return typeof t=="string"&&t.length!==0&&!nG.test(t)},iG=function(t){return typeof t=="string"&&t.length!==0&&!rG.test(t)},sG=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),iG(t)},aM=function(t,e,n){const r=n instanceof xn?new $z(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+Za(r));if(typeof e=="function")throw new Error(t+"contains a function "+Za(r)+" with contents = "+e.toString());if(oN(e))throw new Error(t+"contains "+e.toString()+" "+Za(r));if(typeof e=="string"&&e.length>$y/3&&zg(e)>$y)throw new Error(t+"contains a string greater than "+$y+" utf8 bytes "+Za(r)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let i=!1,s=!1;if(Ji(e,(o,a)=>{if(o===".value")i=!0;else if(o!==".priority"&&o!==".sv"&&(s=!0,!oM(o)))throw new Error(t+" contains an invalid key ("+o+") "+Za(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);Fz(r,o),aM(t,a,r),Uz(r)}),i&&s)throw new Error(t+' contains ".value" child '+Za(r)+" in addition to actual children.")}},oG=function(t,e){const n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!oM(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!sG(n))throw new Error(I6(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aG{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function lG(t,e){let n=null;for(let r=0;r<e.length;r++){const i=e[r],s=i.getPath();n!==null&&!ON(s,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:s}),n.events.push(i)}n&&t.eventLists_.push(n)}function Yl(t,e,n){lG(t,n),uG(t,r=>ps(r,e)||ps(e,r))}function uG(t,e){t.recursionDepth_++;let n=!0;for(let r=0;r<t.eventLists_.length;r++){const i=t.eventLists_[r];if(i){const s=i.path;e(s)?(cG(t.eventLists_[r]),t.eventLists_[r]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function cG(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(n!==null){t.events[e]=null;const r=n.getEventRunner();gl&&Yr("event: "+n.toString()),Pf(r)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dG="repo_interrupt",hG=25;class fG{constructor(e,n,r,i){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new aG,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=eg(),this.transactionQueueTree_=new L1,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function pG(t,e,n){if(t.stats_=E1(t.repoInfo_),t.forceRestClient_||lz())t.server_=new Zm(t.repoInfo_,(r,i,s,o)=>{KC(t,r,i,s,o)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>GC(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Nr(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}t.persistentConnection_=new To(t.repoInfo_,e,(r,i,s,o)=>{KC(t,r,i,s,o)},r=>{GC(t,r)},r=>{gG(t,r)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(r=>{t.server_.refreshAuthToken(r)}),t.appCheckProvider_.addTokenChangeListener(r=>{t.server_.refreshAppCheckToken(r.token)}),t.statsReporter_=pz(t.repoInfo_,()=>new fK(t.stats_,t.server_)),t.infoData_=new lK,t.infoSyncTree_=new WC({startListening:(r,i,s,o)=>{let a=[];const l=t.infoData_.getNode(r._path);return l.isEmpty()||(a=Tv(t.infoSyncTree_,r._path,l),setTimeout(()=>{o("ok")},0)),a},stopListening:()=>{}}),$1(t,"connected",!1),t.serverSyncTree_=new WC({startListening:(r,i,s,o)=>(t.server_.listen(r,s,i,(a,l)=>{const u=o(a,l);Yl(t.eventQueue_,r._path,u)}),[]),stopListening:(r,i)=>{t.server_.unlisten(r,i)}})}function mG(t){const n=t.infoData_.getNode(new xn(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function lM(t){return GK({timestamp:mG(t)})}function KC(t,e,n,r,i){t.dataUpdateCount++;const s=new xn(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let o=[];if(i)if(r){const l=Cm(n,u=>Qr(u));o=KK(t.serverSyncTree_,s,l,i)}else{const l=Qr(n);o=zK(t.serverSyncTree_,s,l,i)}else if(r){const l=Cm(n,u=>Qr(u));o=WK(t.serverSyncTree_,s,l)}else{const l=Qr(n);o=Tv(t.serverSyncTree_,s,l)}let a=s;o.length>0&&(a=U1(t,s)),Yl(t.eventQueue_,a,o)}function GC(t,e){$1(t,"connected",e),e===!1&&yG(t)}function gG(t,e){Ji(e,(n,r)=>{$1(t,n,r)})}function $1(t,e,n){const r=new xn("/.info/"+e),i=Qr(n);t.infoData_.updateSnapshot(r,i);const s=Tv(t.infoSyncTree_,r,i);Yl(t.eventQueue_,r,s)}function vG(t){return t.nextWriteId_++}function yG(t){uM(t,"onDisconnectEvents");const e=lM(t),n=eg();L0(t.onDisconnect_,un(),(i,s)=>{const o=XK(i,s,t.serverSyncTree_,e);LN(n,i,o)});let r=[];L0(n,un(),(i,s)=>{r=r.concat(Tv(t.serverSyncTree_,i,s));const o=TG(t,i);U1(t,o)}),t.onDisconnect_=eg(),Yl(t.eventQueue_,un(),r)}function bG(t){t.persistentConnection_&&t.persistentConnection_.interrupt(dG)}function uM(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),Yr(n,...e)}function cM(t,e,n){return XN(t.serverSyncTree_,e,n)||on.EMPTY_NODE}function F1(t,e=t.transactionQueueTree_){if(e||Iv(t,e),Vc(e)){const n=hM(t,e);Ge(n.length>0,"Sending zero length transaction queue"),n.every(i=>i.status===0)&&_G(t,kf(e),n)}else iM(e)&&Sv(e,n=>{F1(t,n)})}function _G(t,e,n){const r=n.map(u=>u.currentWriteId),i=cM(t,e,r);let s=i;const o=i.hash();for(let u=0;u<n.length;u++){const c=n[u];Ge(c.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),c.status=1,c.retryCount++;const d=Yi(e,c.path);s=s.updateChild(d,c.currentOutputSnapshotRaw)}const a=s.val(!0),l=e;t.server_.put(l.toString(),a,u=>{uM(t,"transaction put response",{path:l.toString(),status:u});let c=[];if(u==="ok"){const d=[];for(let h=0;h<n.length;h++)n[h].status=2,c=c.concat(Iu(t.serverSyncTree_,n[h].currentWriteId)),n[h].onComplete&&d.push(()=>n[h].onComplete(null,!0,n[h].currentOutputSnapshotResolved)),n[h].unwatcher();Iv(t,V1(t.transactionQueueTree_,e)),F1(t,t.transactionQueueTree_),Yl(t.eventQueue_,e,c);for(let h=0;h<d.length;h++)Pf(d[h])}else{if(u==="datastale")for(let d=0;d<n.length;d++)n[d].status===3?n[d].status=4:n[d].status=0;else{qi("transaction at "+l.toString()+" failed: "+u);for(let d=0;d<n.length;d++)n[d].status=4,n[d].abortReason=u}U1(t,e)}},o)}function U1(t,e){const n=dM(t,e),r=kf(n),i=hM(t,n);return wG(t,i,r),r}function wG(t,e,n){if(e.length===0)return;const r=[];let i=[];const o=e.filter(a=>a.status===0).map(a=>a.currentWriteId);for(let a=0;a<e.length;a++){const l=e[a],u=Yi(n,l.path);let c=!1,d;if(Ge(u!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),l.status===4)c=!0,d=l.abortReason,i=i.concat(Iu(t.serverSyncTree_,l.currentWriteId,!0));else if(l.status===0)if(l.retryCount>=hG)c=!0,d="maxretry",i=i.concat(Iu(t.serverSyncTree_,l.currentWriteId,!0));else{const h=cM(t,l.path,o);l.currentInputSnapshot=h;const p=e[a].update(h.val());if(p!==void 0){aM("transaction failed: Data returned ",p,l.path);let m=Qr(p);typeof p=="object"&&p!=null&&Ro(p,".priority")||(m=m.updatePriority(h.getPriority()));const y=l.currentWriteId,A=lM(t),C=JK(m,h,A);l.currentOutputSnapshotRaw=m,l.currentOutputSnapshotResolved=C,l.currentWriteId=vG(t),o.splice(o.indexOf(y),1),i=i.concat(HK(t.serverSyncTree_,l.path,C,l.currentWriteId,l.applyLocally)),i=i.concat(Iu(t.serverSyncTree_,y,!0))}else c=!0,d="nodata",i=i.concat(Iu(t.serverSyncTree_,l.currentWriteId,!0))}Yl(t.eventQueue_,n,i),i=[],c&&(e[a].status=2,function(h){setTimeout(h,Math.floor(0))}(e[a].unwatcher),e[a].onComplete&&(d==="nodata"?r.push(()=>e[a].onComplete(null,!1,e[a].currentInputSnapshot)):r.push(()=>e[a].onComplete(new Error(d),!1,null))))}Iv(t,t.transactionQueueTree_);for(let a=0;a<r.length;a++)Pf(r[a]);F1(t,t.transactionQueueTree_)}function dM(t,e){let n,r=t.transactionQueueTree_;for(n=jt(e);n!==null&&Vc(r)===void 0;)r=V1(r,n),e=An(e),n=jt(e);return r}function hM(t,e){const n=[];return fM(t,e,n),n.sort((r,i)=>r.order-i.order),n}function fM(t,e,n){const r=Vc(e);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);Sv(e,i=>{fM(t,i,n)})}function Iv(t,e){const n=Vc(e);if(n){let r=0;for(let i=0;i<n.length;i++)n[i].status!==2&&(n[r]=n[i],r++);n.length=r,rM(e,n.length>0?n:void 0)}Sv(e,r=>{Iv(t,r)})}function TG(t,e){const n=kf(dM(t,e)),r=V1(t.transactionQueueTree_,e);return eG(r,i=>{Fy(t,i)}),Fy(t,r),sM(r,i=>{Fy(t,i)}),n}function Fy(t,e){const n=Vc(e);if(n){const r=[];let i=[],s=-1;for(let o=0;o<n.length;o++)n[o].status===3||(n[o].status===1?(Ge(s===o-1,"All SENT items should be at beginning of queue."),s=o,n[o].status=3,n[o].abortReason="set"):(Ge(n[o].status===0,"Unexpected transaction status in abort"),n[o].unwatcher(),i=i.concat(Iu(t.serverSyncTree_,n[o].currentWriteId,!0)),n[o].onComplete&&r.push(n[o].onComplete.bind(null,new Error("set"),!1,null))));s===-1?rM(e,void 0):n.length=s+1,Yl(t.eventQueue_,kf(e),i);for(let o=0;o<r.length;o++)Pf(r[o])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EG(t){let e="";const n=t.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}e+="/"+i}return e}function SG(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const n of t.split("&")){if(n.length===0)continue;const r=n.split("=");r.length===2?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):qi(`Invalid query segment '${n}' in query '${t}'`)}return e}const YC=function(t,e){const n=IG(t),r=n.namespace;n.domain==="firebase.com"&&Ml(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&Ml("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||ez();const i=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new dz(n.host,n.secure,r,i,e,"",r!==n.subdomain),path:new xn(n.pathString)}},IG=function(t){let e="",n="",r="",i="",s="",o=!0,a="https",l=443;if(typeof t=="string"){let u=t.indexOf("//");u>=0&&(a=t.substring(0,u-1),t=t.substring(u+2));let c=t.indexOf("/");c===-1&&(c=t.length);let d=t.indexOf("?");d===-1&&(d=t.length),e=t.substring(0,Math.min(c,d)),c<d&&(i=EG(t.substring(c,d)));const h=SG(t.substring(Math.min(t.length,d)));u=e.indexOf(":"),u>=0?(o=a==="https"||a==="wss",l=parseInt(e.substring(u+1),10)):u=e.length;const p=e.slice(0,u);if(p.toLowerCase()==="localhost")n="localhost";else if(p.split(".").length<=2)n=p;else{const m=e.indexOf(".");r=e.substring(0,m).toLowerCase(),n=e.substring(m+1),s=r}"ns"in h&&(s=h.ns)}return{host:e,port:l,domain:n,subdomain:r,secure:o,scheme:a,pathString:i,namespace:s}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q1{constructor(e,n,r,i){this._repo=e,this._path=n,this._queryParams=r,this._orderByCalled=i}get key(){return Ft(this._path)?null:CN(this._path)}get ref(){return new $c(this._repo,this._path)}get _queryIdentifier(){const e=NC(this._queryParams),n=w1(e);return n==="{}"?"default":n}get _queryObject(){return NC(this._queryParams)}isEqual(e){if(e=Zt(e),!(e instanceof q1))return!1;const n=this._repo===e._repo,r=ON(this._path,e._path),i=this._queryIdentifier===e._queryIdentifier;return n&&r&&i}toJSON(){return this.toString()}toString(){return this._repo.toString()+Vz(this._path)}}class $c extends q1{constructor(e,n){super(e,n,new A1,!1)}get parent(){const e=PN(this._path);return e===null?null:new $c(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}BK($c);jK($c);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CG="FIREBASE_DATABASE_EMULATOR_HOST",H0={};let AG=!1;function PG(t,e,n,r,i){let s=r||t.options.databaseURL;s===void 0&&(t.options.projectId||Ml("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Yr("Using default host for project ",t.options.projectId),s=`${t.options.projectId}-default-rtdb.firebaseio.com`);let o=YC(s,i),a=o.repoInfo,l,u;typeof process<"u"&&mC&&(u=mC[CG]),u?(l=!0,s=`http://${u}?ns=${a.namespace}`,o=YC(s,i),a=o.repoInfo):l=!o.repoInfo.secure;const c=i&&l?new D0(D0.OWNER):new cz(t.name,t.options,e);oG("Invalid Firebase Database URL",o),Ft(o.path)||Ml("Database URL must point to the root of a Firebase Database (not including a child path).");const d=kG(a,t,c,new uz(t.name,n));return new RG(d,t)}function OG(t,e){const n=H0[e];(!n||n[t.key]!==t)&&Ml(`Database ${e}(${t.repoInfo_}) has already been deleted.`),bG(t),delete n[t.key]}function kG(t,e,n,r){let i=H0[e.name];i||(i={},H0[e.name]=i);let s=i[t.toURLString()];return s&&Ml("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new fG(t,AG,n,r),i[t.toURLString()]=s,s}class RG{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(pG(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new $c(this._repo,un())),this._rootInternal}_delete(){return this._rootInternal!==null&&(OG(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&Ml("Cannot call "+e+" on a deleted database.")}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xG(t){YW(La),Oi(new mi("database",(e,{instanceIdentifier:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),s=e.getProvider("app-check-internal");return PG(r,i,s,n)},"PUBLIC").setMultipleInstances(!0)),Vr(gC,vC,t),Vr(gC,vC,"esm2017")}To.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};To.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};xG();function pM(t){return UB(nN(t))}function DG(t){return MG({initialUser:t,dependencies:{popupRedirectResolver:eN,persistence:[X2,W2,y1]}})}const NG=Symbol("VueFireAuth");function MG({dependencies:t,initialUser:e}){return(n,r)=>{const[i,s]=LG(n,r,e,t);GW(i,s)}}function LG(t,e,n,r,i=N2(t,r)){const s=WW(t,e).run(()=>ie(n));return zW.set(t,s),e.provide(NG,i),[s,i]}function VG(t,{firebaseApp:e,modules:n=[]}){t.provide(tN,e);for(const r of n)r(e,t)}const mM={name:"Sander Derks",role:"Full-Stack Developer",service:"Software Development",location:{country:"The Netherlands",city:"Nijmegen"}},$G={avatarUrl:"/images/avatar-small.jpg",headerDescriptionGuest:["Loading"],headerDescriptionUser:["Loading"],blogDescriptionGuest:["Loading"],blogDescriptionUser:["Loading"],blogLoginGuest:"",dashboardDescription:["Loading"],privacyStatement:["Loading"],footerCopyright:"Sander Derks. All rights reserved."},FG=[{name:"",description:"Loading...",technologies:[],loading:!0},{name:"",description:"Loading...",technologies:[],loading:!0},{name:"",description:"Loading...",technologies:[],loading:!0},{name:"",description:"Loading...",technologies:[],loading:!0}],UG=[{id:"1",name:"Loading...",url:"#",loading:!0},{id:"2",name:"Loading...",url:"#",loading:!0},{id:"3",name:"Loading...",url:"#",loading:!0}],gM=[{value:"left",label:"Left"},{value:"center",label:"Center"},{value:"right",label:"Right"}];var Cr;(t=>{t.mapIncoming=async e=>{var n,r,i,s,o,a;return{...e,alignment:e.alignment??"center",date:e.date.toDate(),dateUpdated:((n=e.dateUpdated)==null?void 0:n.toDate())??null,datePinned:((r=e.datePinned)==null?void 0:r.toDate())??null,reactions:await Promise.all((await Promise.all(((i=e.reactions)==null?void 0:i.map(async l=>await Ki(l)))??[])).map(async l=>ig.mapIncoming(l,e.id)).filter(l=>!!l)),sections:((s=e.sections)==null?void 0:s.map(l=>{var u,c;return{...l,id:l.id??p2(),subTitle:l.subTitle??"",alignment:l.alignment??"center",countdown:((u=l.countdown)==null?void 0:u.toDate())??null,timer:((c=l.timer)==null?void 0:c.toDate())??null,coverImageUrl:l.coverImageUrl??"",bullets:l.bullets??[],table:l.table??""}}))??[],countdown:((o=e.countdown)==null?void 0:o.toDate())??null,timer:((a=e.timer)==null?void 0:a.toDate())??null,archived:e.archived??!1,table:e.table??""}},t.convert=e=>({title:e.title,description:e.description,descriptionFooter:e.descriptionFooter??"",alignment:e.alignment??"left",sections:e.sections??[],date:e.date,dateUpdated:e.dateUpdated,datePinned:e.datePinned,locked:e.locked??!1,colorPrimary:e.colorPrimary??"",colorSecondary:e.colorSecondary??"",colorTertiary:e.colorTertiary??"",opacityPrimary:e.opacityPrimary??"",opacitySecondary:e.opacitySecondary??"",opacityTertiary:e.opacityTertiary??"",coverImageUrl:e.coverImageUrl??"",allowedUserIds:e.allowedUserIds??[],countdown:e.countdown,timer:e.timer,archived:e.archived,table:e.table}),(e=>{e.convert=n=>({title:n.title,description:n.description,descriptionFooter:n.descriptionFooter,sections:n.sections,coverImageUrl:n.coverImageUrl,countdown:n.countdown,timer:n.timer,table:n.table}),e.instanceOf=n=>["title","description","descriptionFooter","sections","coverImageUrl","countdown","timer","table"].every(r=>r in n)})(t.Content||(t.Content={})),(e=>{e.convert=n=>({alignment:n.alignment,colorPrimary:n.colorPrimary,colorSecondary:n.colorSecondary,colorTertiary:n.colorTertiary,opacityPrimary:n.opacityPrimary,opacitySecondary:n.opacitySecondary,opacityTertiary:n.opacityTertiary}),e.instanceOf=n=>["alignment","colorPrimary","colorSecondary","colorTertiary","opacityPrimary","opacitySecondary","opacityTertiary"].every(r=>r in n)})(t.Styling||(t.Styling={})),(e=>{e.convert=n=>({locked:n.locked,allowedUserIds:n.allowedUserIds,archived:n.archived,datePinned:n.datePinned}),e.instanceOf=n=>["locked","archived","datePinned"].every(r=>r in n)})(t.Settings||(t.Settings={}))})(Cr||(Cr={}));var ig;(t=>{t.mapIncoming=async(e,n)=>{if(!e)return null;const r=await Ki(e.user);return r?{...e,user:r,postId:n,date:e.date.toDate()}:null},t.convert=e=>({userId:e.user.id,postId:e.postId,message:e.message,date:e.date})})(ig||(ig={}));var gc;(t=>{t.mapIncoming=async e=>{var n,r;return{...e,firstName:e.firstName??"",lastName:e.lastName??"",createdAt:(n=e.createdAt)==null?void 0:n.toDate(),lastLogin:(r=e.lastLogin)==null?void 0:r.toDate()}},t.convert=e=>({firstName:e.firstName,lastName:e.lastName})})(gc||(gc={}));var W0;(t=>{t.convert=e=>({displayName:e.displayName,avatar:e.avatar??""})})(W0||(W0={}));const sg=[{value:"bg-primary-900",label:"Default",background:"bg-primary-900",text:"text-white"},{value:"bg-red-700",label:"Important",background:"bg-red-700",text:"text-white"},{value:"bg-orange-500",label:"Orange",background:"bg-orange-500",text:"text-orange-900"},{value:"bg-yellow-900",label:"Amber",background:"bg-yellow-900",text:"text-yellow-500"},{value:"bg-yellow-500",label:"Yellow",background:"bg-yellow-500",text:"text-yellow-900"},{value:"bg-green-500",label:"Green",background:"bg-green-500",text:"text-green-900"},{value:"bg-cyan-500",label:"Aqua",background:"bg-cyan-500",text:"text-cyan-900"},{value:"bg-blue-600",label:"Blue",background:"bg-blue-600",text:"text-blue-900"},{value:"bg-purple-600",label:"Purple",background:"bg-purple-600",text:"text-purple-900"},{value:"bg-pink-600",label:"Pink",background:"bg-pink-600",text:"text-pink-900"},{value:"bg-gray-900",label:"Gray",background:"bg-gray-900",text:"text-white"}],qG=t=>sg.map((e,n)=>n===0?{value:"",label:"Match Primary",background:(t==null?void 0:t.background)||"bg-primary-900",text:(t==null?void 0:t.text)||"text-white"}:e),BG=sg.map((t,e)=>e===0?{value:"",label:"Default",background:"bg-primary-700",text:"text-white"}:t),Uy=[{value:"",label:"Default"},{value:"bg-opacity-10",label:"10"},{value:"bg-opacity-20",label:"20"},{value:"bg-opacity-30",label:"30"},{value:"bg-opacity-40",label:"40"},{value:"bg-opacity-50",label:"50"},{value:"bg-opacity-60",label:"60"},{value:"bg-opacity-70",label:"70"},{value:"bg-opacity-80",label:"80"},{value:"bg-opacity-90",label:"90"},{value:"bg-opacity-100",label:"100"}],tn=pM(),$t={content:zi(tn,"content"),projects:zi(tn,"projects"),menuItems:t=>zi(tn,t?"menuItemsPrivate":"menuItems"),menuItemsPrivate:zi(tn,"menuItemsPrivate"),blogPosts:t=>zi(tn,t?"blogPostsPrivate":"blogPosts"),blogPostsPrivate:zi(tn,"blogPostsPrivate"),blogReactions:t=>zi(tn,t?"blogReactionsPrivate":"blogReactions"),users:zi(tn,"users"),usersPublic:zi(tn,"usersPublic"),files:zi(tn,"files")},Fn=gw("main",{state:()=>({profile:mM,content:$G,menuItems:UG,projects:FG,blogPosts:{visibility:"public",data:{public:[],private:[],single:null},previousData:{public:[],private:[],single:null},isLastPage:!1,isLoading:{public:{fetch:!1,mutation:!1},private:{fetch:!1,mutation:!1}},isDatabaseCreationActive:!1,isDatabaseMutationActive:!1,isDatabaseDeletionActive:!1},blogReactions:{isDatabaseCreationActive:!1,isDatabaseDeletionActive:!1,unread:[]},users:[],publicUsers:[],isOnline:!0,debug:!1,isFetchAllLoading:!1}),getters:{filteredProjects:t=>t.projects.filter(e=>!e.loading),filteredMenuItems:t=>t.menuItems.filter(e=>!e.loading),visibleMenuItems:t=>t.menuItems.filter(e=>!e.invisible),allBlogPosts:t=>[...t.blogPosts.data.public,...t.blogPosts.data.private],visibleBlogPosts:t=>t.blogPosts.data[t.blogPosts.visibility],previousVisibleBlogPosts:t=>t.blogPosts.previousData[t.blogPosts.visibility],isBlogPostsFetchLoading:t=>t.blogPosts.isLoading.public.fetch||t.blogPosts.isLoading.private.fetch,isBlogPostsMutationLoading:t=>t.blogPosts.isLoading.public.mutation||t.blogPosts.isLoading.private.mutation,isBlogPostDatabaseActionActive:t=>t.blogPosts.isDatabaseCreationActive||t.blogPosts.isDatabaseMutationActive||t.blogPosts.isDatabaseDeletionActive||t.blogReactions.isDatabaseCreationActive||t.blogReactions.isDatabaseDeletionActive},actions:{async fetchAll(t,e){try{this.isFetchAllLoading||(this.isFetchAllLoading=!0,console.log("attempt to fetch all"),(this.debug||this.isOnline&&(!this.filteredMenuItems.length||e))&&(console.log("fetch all"),this.blogPosts.data={public:[],private:[],single:null},this.blogPosts.visibility="public",await Promise.all([this.fetchProjects(),this.fetchMenuItems(t),this.fetchBlogPosts(t),this.fetchContent(),this.fetchPublicUsers()]),sr().isOwner&&await this.fetchUsers()))}catch(n){Ze.firebaseError(this.debug,n)}finally{this.isFetchAllLoading=!1}},async fetchContent(){try{const t=await Ki(Wt(tn,$t.content.id,"production"));this.content={...this.content,...t||{}}}catch(t){Ze.firebaseError(this.debug,t)}},async fetchProjects(){try{const t=await Promise.all((await Ga($t.projects)).map(async e=>({...e,technologies:await Promise.all(e.technologies.map(async n=>await Ki(n)))})));this.projects=t.length?KI(t):this.projects}catch(t){Ze.firebaseError(this.debug,t)}},moveProject(t,e){const n=this.projects.splice(t,1)[0];this.projects.splice(e,0,n)},async fetchMenuItems(t){try{let e=await Ga($t.menuItems());if(t)try{e=e.concat(await Ga($t.menuItemsPrivate,[Fm("allowedUserIds","array-contains",Wt(tn,$t.usersPublic.id,t).id)]))}catch{}return this.menuItems=e.length?KI(e):this.menuItems,this.menuItems}catch(e){Ze.firebaseError(this.debug,e)}},async fetchBlogPosts(t,e={}){const n=e.visibility??this.blogPosts.visibility;e.loadingIndicator!==!1&&(this.blogPosts.isLoading[n].fetch=!0);try{const i=this.blogPosts.data[n][this.blogPosts.data[n].length-1],s=[VI("datePinned","desc"),VI("date","desc"),GB(e.amount||3)];this.visibleBlogPosts.length||(this.blogPosts.isLastPage=!1),e.amount&&e.loadingIndicator!==!1&&(this.blogPosts.data[n]=[]),!e.amount&&i&&s.push(YB(i.datePinned,i.date));var r=[];n==="private"&&t?r=await Ga($t.blogPostsPrivate,[Fm("allowedUserIds","array-contains",Wt(tn,$t.usersPublic.id,t).id),...s]):n==="public"&&(r=await Ga($t.blogPosts(!1),s));const o=await Promise.all(r.map(async a=>await Cr.mapIncoming(a)));if(e.amount)this.blogPosts.data[n]=o;else for(const a of o)this.blogPosts.data[n].push(a);o.length<3&&(this.blogPosts.isLastPage=!0)}catch(i){Ze.firebaseError(this.debug,i)}finally{this.blogPosts.isLoading[n].fetch=!1}},async fetchBlogPost(t,e,n={}){console.log("attempt to fetch single");const r=(e==null?void 0:e.visibility)??"public";n.loadingIndicator!==!1&&(this.blogPosts.isLoading[r].fetch=!0);try{var i=await Ki(Wt($t.blogPosts(!!(e!=null&&e.isPrivate)),t));return i||(i=await Ki(Wt($t.blogPostsPrivate,t))),i?(this.blogPosts.data.single=await Cr.mapIncoming(i),this.blogPosts.data.single):null}catch(s){return Ze.firebaseError(this.debug,s).errorCode??null}finally{this.blogPosts.isLoading[r].fetch=!1}},async fetchUsers(){try{const t=await Ga($t.users);this.users=await Promise.all(t.map(async e=>await gc.mapIncoming(e)))}catch(t){return Ze.firebaseError(this.debug,t),null}},async fetchPublicUsers(){try{this.publicUsers=await Ga($t.usersPublic)}catch(t){return Ze.firebaseError(this.debug,t),null}},async fetchPublicUser(t){try{return await Ki(Wt(tn,$t.usersPublic.id,t))}catch(e){return Ze.firebaseError(this.debug,e),null}},async allowedPublicUsers(t){try{return(await Promise.all(t.map(async n=>{const r=await this.fetchPublicUser(n);return r?{...r,displayName:r.displayName||"Anonymous"}:null}))).filter(Boolean)}catch{return[]}},setPreviousBlogPosts(){this.blogPosts.previousData.single=this.blogPosts.data.single,this.blogPosts.previousData[this.blogPosts.visibility]=this.visibleBlogPosts},checkBlogPostForUnreadReactions(t,e){const n=this.blogReactions.unread.length;if(t){let r;if(e?r=this.blogPosts.data.single:r=this.visibleBlogPosts.find(i=>i.id===t.id),r&&r.reactions.length!==t.reactions.length){const i=r.reactions.filter(s=>!t.reactions.some(o=>o.id===s.id));for(const s of i)this.blogReactions.unread.every(o=>o.id!==s.id)&&this.blogReactions.unread.push(s)}}e&&(n!==this.blogReactions.unread.length&&Ze.update("There are unread comments on this page"),this.setPreviousBlogPosts())},checkBlogPostsForUnreadReactions(){const t=this.blogReactions.unread.length;if(this.previousVisibleBlogPosts.length)for(const e of this.previousVisibleBlogPosts)this.checkBlogPostForUnreadReactions(e);t!==this.blogReactions.unread.length&&Ze.update("There are unread comments on this page"),this.setPreviousBlogPosts()},async createBlogPost(t,e,n,r={includeTime:!1,fetch:!0}){const i=lo(e);this.blogPosts.isLoading[i.visibility].mutation=!0,this.blogPosts.isDatabaseCreationActive=!0;try{return await jm(Wt(tn,$t.blogPosts(i.isPrivate).id,t),{...e,date:r!=null&&r.includeTime?e.date:Ln.now(),dateUpdated:r!=null&&r.includeTime?e.dateUpdated:null,countdown:e.countdown?Ln.fromDate(e.countdown):null,timer:e.timer?Ln.fromDate(e.timer):null}),this.blogPosts.visibility=i.visibility,r!=null&&r.fetch&&this.fetchBlogPosts(n,{amount:this.visibleBlogPosts.length+1}),Ze.success("Successfully created Post"),!0}catch(s){return Ze.firebaseError(this.debug,s),!1}finally{this.setPreviousBlogPosts(),this.blogPosts.isLoading[i.visibility].mutation=!1,this.blogPosts.isDatabaseCreationActive=!1}},async updateBlogPost(t,e,n,r){try{this.blogPosts.isDatabaseMutationActive=!0,this.blogPosts.isLoading[n.visibility].mutation=!0;const i=$t.blogPosts(n.isPrivate).id;let s="";if(Cr.Content.instanceOf(e)&&(await uo(Wt(tn,i,t),{...Cr.Content.convert(e),dateUpdated:Ln.now()}),s="content"),Cr.Styling.instanceOf(e)&&(await uo(Wt(tn,i,t),{...Cr.Styling.convert(e)}),s="styling"),Cr.Settings.instanceOf(e)&&(await uo(Wt(tn,i,t),{...Cr.Settings.convert(e)}),s="settings"),s==="content"||s==="styling"){let o=await this.fetchBlogPost(t,n);o0(o)&&(o=null),this.blogPosts.data[n.visibility]=this.blogPosts.data[n.visibility].map(a=>a.id===(o==null?void 0:o.id)?o:a)}else this.fetchBlogPosts(r,{amount:this.blogPosts.data[n.visibility].length});return s}catch(i){Ze.firebaseError(this.debug,i)}finally{this.setPreviousBlogPosts(),this.blogPosts.isLoading[n.visibility].mutation=!1,this.blogPosts.isDatabaseMutationActive=!1}},async toggleBlogPostVisibility(t,e,n,r,i){try{this.blogPosts.isDatabaseMutationActive=!0,this.blogPosts.isLoading[r].mutation=!0;const s=this.allBlogPosts.find(o=>o.id===t);if(await this.deleteBlogPost(t,{includeFiles:!1,includeReactions:!1}),s&&await this.createBlogPost(t,e,i,{includeTime:!0,fetch:!1})){let o;do this.blogPosts.data[r]=[],await this.fetchBlogPosts(i,{visibility:r}),o=this.allBlogPosts.find(a=>a.id===t);while(!o);if(this.blogPosts.visibility=r,o){for(const a of n)await this.deleteBlogReaction(a.id,s,{mutatePost:!1,fetch:!1})||Ze.error("Failed to delete old Reaction",{debug:this.debug}),await this.createBlogReaction(o,ig.convert(a),{includeTime:!0,fetch:!1})||Ze.error("Failed to re-create Reaction",{debug:this.debug});for(const a of this.getFilesOfPost(s)){const l=C0(a);await this.updateFileInfo(l.name,o)||Ze.error("Failed to move Image",{debug:this.debug})}return this.fetchBlogPosts(i,{amount:this.visibleBlogPosts.length}),!0}else return Ze.error("Failed to re-create Post",{debug:this.debug}),!1}else return Ze.error("Failed to re-create Post",{debug:this.debug}),!1}catch(s){return Ze.firebaseError(this.debug,s),!1}finally{this.setPreviousBlogPosts(),this.blogPosts.isLoading[r].mutation=!1,this.blogPosts.isDatabaseMutationActive=!1}},async deleteBlogPost(t,e={includeFiles:!0,includeReactions:!0}){try{this.blogPosts.isDatabaseDeletionActive=!0;const n=this.allBlogPosts.find(r=>r.id===t);if(n){e.includeReactions&&await this.deleteBlogReactionsOfBlogPost(n),e.includeFiles&&await this.deleteFilesOfBlogPost(n);const r=lo(n);return await Pd(Wt(tn,$t.blogPosts(r.isPrivate).id,t)),this.blogPosts.data[r.visibility]=this.blogPosts.data[r.visibility].filter(i=>i.id!==t),Ze.success("Successfully deleted Post"),!0}return!1}catch(n){return Ze.firebaseError(this.debug,n),!1}finally{this.setPreviousBlogPosts(),this.blogPosts.isDatabaseDeletionActive=!1}},async createBlogReaction(t,e,n={includeTime:!1,fetch:!0}){try{this.blogReactions.isDatabaseCreationActive=!0;const r=lo(t),i=Wt(tn,$t.blogPosts(r.isPrivate).id,t.id),s=await Ki(i);if(s){const o=await A7($t.blogReactions(r.isPrivate),{user:Wt(tn,$t.usersPublic.id,e.userId),message:e.message,date:n!=null&&n.includeTime?e.date:Ln.now(),post:i});if(await uo(Wt(tn,$t.blogPosts(r.isPrivate).id,s.id),{reactions:[...s.reactions??[],o]}),n!=null&&n.fetch){let a=await this.fetchBlogPost(s.id,r,{loadingIndicator:!1});o0(a)&&(a=null),this.blogPosts.data[r.visibility]=this.blogPosts.data[r.visibility].map(l=>l.id===s.id?a??l:l)}return Ze.success("Successfully created Reaction"),!0}return!1}catch(r){return Ze.firebaseError(this.debug,r),!1}finally{this.setPreviousBlogPosts(),this.blogReactions.isDatabaseCreationActive=!1}},async deleteBlogReaction(t,e,n={mutatePost:!0,fetch:!0}){var r;try{this.blogReactions.isDatabaseDeletionActive=!0;const i=lo(e);if(n.mutatePost){const s=Wt(tn,$t.blogPosts(i.isPrivate).id,e.id),o=await Ki(s);o&&await uo(s,{reactions:((r=o.reactions)==null?void 0:r.filter(a=>a.id!==t))??[]})}return await Pd(Wt(tn,$t.blogReactions(i.isPrivate).id,t)),n!=null&&n.fetch&&(e.reactions=e.reactions.filter(s=>s.id!==t),this.blogPosts.data[i.visibility]=this.blogPosts.data[i.visibility].map(s=>s.id===e.id?e:s)),Ze.success("Successfully deleted Reaction"),!0}catch(i){return Ze.firebaseError(this.debug,i),!1}finally{this.setPreviousBlogPosts(),this.blogReactions.isDatabaseDeletionActive=!1}},async deleteBlogReactionsOfBlogPost(t){try{this.blogReactions.isDatabaseDeletionActive=!0;const e=lo(t),n=(t==null?void 0:t.reactions)??[];for(const r of n)await Pd(Wt(tn,$t.blogReactions(e.isPrivate).id,r.id));return n.length&&Ze.success(`Successfully deleted ${n.length} Reaction${n.length!==1?"s":""}`),!0}catch(e){return Ze.firebaseError(this.debug,e),!1}finally{this.setPreviousBlogPosts(),this.blogReactions.isDatabaseDeletionActive=!1}},getFilesOfPost(t,e){var r,i;const n=[];if(t.coverImageUrl&&(!e||!e.coverImageUrl)&&n.push(t.coverImageUrl),t.sections.length)for(const[s,o]of t.sections.entries()){const a=(i=(r=e==null?void 0:e.sections)==null?void 0:r[s])==null?void 0:i.coverImageUrl,l=o.coverImageUrl;l&&(!e||!a)&&n.push(l)}return n},async fetchFileInfo(t){try{return await Ki(Wt(tn,$t.files.path,t))}catch(e){return Ze.firebaseError(this.debug,e),null}},async uploadFile(t,e,n,r,i,s,o){return await this.createFileInfo(t.name,r,i,s,o)&&await this.createFile(t,e,n)},async createFile(t,e,n){try{const r=m7(t,e);return r.on("state_changed",i=>{const s=i.bytesTransferred/i.totalBytes*100;n(s)}),await r,Ze.success("Successfully uploaded File"),!0}catch(r){return Ze.firebaseError(this.debug,r),!1}},async createFileInfo(t,e,n,r,i){try{let s;if(i){const o=lo(i);s=Wt(tn,$t.blogPosts(o.isPrivate).id,i.id)}return await jm(Wt(tn,$t.files.path,t),{name:e,owner:n,post:s??null,public:r??!1}),!0}catch(s){return Ze.firebaseError(this.debug,s),!1}},async updateFileInfo(t,e){try{let n;if(e){const r=lo(e);n=Wt(tn,$t.blogPosts(r.isPrivate).id,e.id)}return await uo(Wt(tn,$t.files.path,t),{post:n??null}),!0}catch(n){return Ze.firebaseError(this.debug,n),!1}},async deleteFile(t,e=!1){try{return await Pd(Wt(tn,$t.files.path,t.name)),await v7(t),e||Ze.success("Successfully deleted File"),!0}catch(n){return Ze.firebaseError(this.debug,n),!1}},async deleteFilesOfBlogPost(t,e){try{const n=this.getFilesOfPost(t,e);for(const r of n)await this.deleteFile(C0(r),!0);return n.length&&Ze.success(`Successfully deleted ${n.length} File${n.length!==1?"s":""}`),!0}catch(n){return Ze.firebaseError(this.debug,n),!1}},toggleOnline(){this.isOnline=!this.isOnline},toggleDebug(){this.debug=!this.debug}},persist:{enabled:!0}}),vu=jW(yx);vu.onAuthStateChanged(t=>{sr().fetchUser(t);const e=Fn();e.filteredMenuItems.length,e.$patch({blogPosts:{...e.blogPosts,data:{...e.blogPosts.data,private:[]}}}),e.fetchAll(t==null?void 0:t.uid,!0)});const Cs=pM(),qo={users:zi(Cs,"users"),usersPublic:zi(Cs,"usersPublic")},sr=gw("auth",{state:()=>({currentUser:null,publicUser:null,firebaseUser:vu.currentUser,isLoginLoading:!1,isMutationLoading:!1,isLogoutLoading:!1}),getters:{isOwner:t=>{var e;return((e=t.firebaseUser)==null?void 0:e.uid)==="wEaq28Vfx8aygJ6TUi0hDrNut1F2"}},actions:{async fetchUser(t){if(this.firebaseUser=t,t){this.publicUser=await Ki(Wt(Cs,qo.usersPublic.id,t.uid));const e=await Ki(Wt(Cs,qo.users.id,t.uid));e!=null&&(this.currentUser=await gc.mapIncoming(e))}},async login(t,e){try{this.isLoginLoading=!0;const{user:n}=await kH(vu,t,e);await this.updateUserLastLogin(n.uid),await this.fetchUser(n),Fn().fetchAll(n.uid,!0),Ze.success("Successfully logged in",{route:_n.DASHBOARD})}catch(n){Ze.firebaseError(!1,n)}finally{this.isLoginLoading=!1}},async register(t,e,n){try{this.isLoginLoading=!0;const{user:r}=await OH(vu,t,e);await jm(Wt(Cs,qo.users.id,r.uid),{firstName:n,createdAt:new Date}),await this.updatePublicUser({displayName:"Anonymous",avatar:""}),await this.fetchUser(r),Ze.success("Successfully created your account",{route:_n.DASHBOARD})}catch(r){Ze.firebaseError(!1,r)}finally{this.isLoginLoading=!1}},async updateMail(t,e){try{if(this.isLoginLoading=!0,this.firebaseUser&&this.firebaseUser.email){const n=ka.credential(this.firebaseUser.email,e);await sC(this.firebaseUser,n),await RH(this.firebaseUser,t),Ze.success("Successfully changed your e-mail")}}catch(n){Ze.firebaseError(!1,n)}finally{this.isLoginLoading=!1}},async updatePassword(t,e){try{if(this.isLoginLoading=!0,this.firebaseUser&&this.firebaseUser.email){const n=ka.credential(this.firebaseUser.email,e);await sC(this.firebaseUser,n),await xH(this.firebaseUser,t),Ze.success("Successfully changed your password")}}catch(n){Ze.firebaseError(!1,n)}finally{this.isLoginLoading=!1}},async resetPassword(t){try{await PH(vu,t),Ze.success("Successfully requested password reset")}catch(e){Ze.firebaseError(!1,e)}},async updateUser(t){try{this.isMutationLoading=!0,this.currentUser&&this.firebaseUser&&(gs(gc.convert(this.currentUser),t)?Ze.warning("Nothing changed in your details"):(await uo(Wt(Cs,qo.users.id,this.firebaseUser.uid),{firstName:t.firstName,lastName:t.lastName}),await this.fetchUser(this.firebaseUser),Ze.success("Successfully updated your profile")))}catch(e){Ze.firebaseError(!1,e)}finally{this.isMutationLoading=!1}},async updateUserLastLogin(t){try{await uo(Wt(Cs,qo.users.id,t),{lastLogin:new Date})}catch(e){Ze.firebaseError(!1,e)}},async updatePublicUser(t){try{this.isMutationLoading=!0,this.publicUser?gs(this.publicUser,t)?Ze.warning("Nothing changed in your public profile"):(await uo(Wt(Cs,qo.usersPublic.id,this.publicUser.id),{displayName:t.displayName,avatar:t.avatar}),await this.fetchUser(this.firebaseUser),Ze.success("Successfully updated your public profile")):this.firebaseUser?(await jm(Wt(Cs,qo.usersPublic.id,this.firebaseUser.uid),{displayName:t.displayName,avatar:t.avatar}),await this.fetchUser(this.firebaseUser),Ze.success("Successfully updated your public profile")):Ze.firebaseError(!1)}catch(e){Ze.firebaseError(!1,e)}finally{this.isMutationLoading=!1}},async logout(){try{this.isLogoutLoading=!0,await NH(vu),this.currentUser=null,this.publicUser=null,Fn().fetchAll(void 0,!0),Ze.success("Successfully logged out",{route:_n.HOME})}catch(t){Ze.firebaseError(!1,t)}finally{this.isLogoutLoading=!1}},async deleteAccount(){try{this.isLogoutLoading=!0,this.currentUser&&this.firebaseUser&&(await Pd(Wt(Cs,qo.users.id,this.firebaseUser.uid)),await MH(this.firebaseUser),this.currentUser=null,this.publicUser=null,Ze.success("Successfully deleted your account",{route:_n.HOME}))}catch(t){Ze.firebaseError(!1,t)}finally{this.isLogoutLoading=!1}}},persist:{enabled:!0}}),jG={class:"bg-black text-white shadow-md py-4"},HG={class:"container mx-auto text-center"},WG=xe({__name:"Footer",setup(t){const{content:e}=Rt(Fn());return(n,r)=>(D(),H("footer",jG,[v("div",HG,[v("p",null," "+Fe(new Date().getFullYear()+" "+P(e).footerCopyright),1)])]))}});function zG(t,e){return D(),H("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon"},[v("path",{"fill-rule":"evenodd",d:"M6 3.75A2.75 2.75 0 0 1 8.75 1h2.5A2.75 2.75 0 0 1 14 3.75v.443c.572.055 1.14.122 1.706.2C17.053 4.582 18 5.75 18 7.07v3.469c0 1.126-.694 2.191-1.83 2.54-1.952.599-4.024.921-6.17.921s-4.219-.322-6.17-.921C2.694 12.73 2 11.665 2 10.539V7.07c0-1.321.947-2.489 2.294-2.676A41.047 41.047 0 0 1 6 4.193V3.75Zm6.5 0v.325a41.622 41.622 0 0 0-5 0V3.75c0-.69.56-1.25 1.25-1.25h2.5c.69 0 1.25.56 1.25 1.25ZM10 10a1 1 0 0 0-1 1v.01a1 1 0 0 0 1 1h.01a1 1 0 0 0 1-1V11a1 1 0 0 0-1-1H10Z","clip-rule":"evenodd"}),v("path",{d:"M3 15.055v-.684c.126.053.255.1.39.142 2.092.642 4.313.987 6.61.987 2.297 0 4.518-.345 6.61-.987.135-.041.264-.089.39-.142v.684c0 1.347-.985 2.53-2.363 2.686a41.454 41.454 0 0 1-9.274 0C3.985 17.585 3 16.402 3 15.055Z"})])}function KG(t,e){return D(),H("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon"},[v("path",{"fill-rule":"evenodd",d:"m9.69 18.933.003.001C9.89 19.02 10 19 10 19s.11.02.308-.066l.002-.001.006-.003.018-.008a5.741 5.741 0 0 0 .281-.14c.186-.096.446-.24.757-.433.62-.384 1.445-.966 2.274-1.765C15.302 14.988 17 12.493 17 9A7 7 0 1 0 3 9c0 3.492 1.698 5.988 3.355 7.584a13.731 13.731 0 0 0 2.273 1.765 11.842 11.842 0 0 0 .976.544l.062.029.018.008.006.003ZM10 11.25a2.25 2.25 0 1 0 0-4.5 2.25 2.25 0 0 0 0 4.5Z","clip-rule":"evenodd"})])}const GG={class:"flex justify-between"},YG={class:"hidden sm:block w-full sm:min-w-fit"},QG=["src","alt"],XG={class:"w-fit sm:max-w-1/2"},JG={class:"text-title-primary"},ZG={class:"text-title-secondary"},eY={class:"text-title-tertiary absolute sm:relative mt-1 sm:mt-0 flex flex-col xl:flex-row xl:flex-wrap"},tY={class:"mt-2 flex items-center whitespace-nowrap me-6"},nY={class:"mt-2 flex items-center whitespace-nowrap"},rY={class:"sm:hidden min-w-fit mt-3"},iY=["src","alt"],QC=xe({__name:"HeaderContent",setup(t){const{profile:e,content:n}=Rt(Fn());return(r,i)=>{const s=On("RouterLink");return D(),H("div",GG,[v("div",YG,[q(s,{to:{name:P(_n).HOME}},{default:X(()=>[v("img",{class:"h-32 w-32 md:h-48 md:w-48 rounded-full animation-scale mb-4 cursor-pointer",src:P(n).avatarUrl,alt:P(e).name},null,8,QG)]),_:1},8,["to"])]),v("div",XG,[v("h1",JG,Fe(P(e).name),1),v("h2",ZG,Fe(P(e).service),1),v("div",eY,[v("div",tY,[q(P(zG),{class:"mr-1.5 h-5 w-5 text-neutral-400"}),K(" "+Fe(P(e).role),1)]),v("div",nY,[q(P(KG),{class:"mr-1.5 h-5 w-5 text-neutral-400"}),K(" "+Fe(P(e).location.city)+", "+Fe(P(e).location.country),1)])])]),v("div",rY,[q(s,{to:{name:P(_n).HOME}},{default:X(()=>[v("img",{class:"h-32 w-32 md:h-48 md:w-48 rounded-full animation-scale mb-4 cursor-pointer",src:P(n).avatarUrl,alt:P(e).name},null,8,iY)]),_:1},8,["to"])])])}}}),sY=["href"],oY=xe({__name:"ButtonWrapper",props:{class:{},activeClass:{},url:{},route:{}},setup(t){return(e,n)=>{const r=On("RouterLink");return e.route?(D(),ae(r,{key:0,class:Le([e.class,"!no-underline"]),"active-class":e.activeClass,to:{name:e.route}},{default:X(()=>[_e(e.$slots,"default")]),_:3},8,["class","active-class","to"])):e.url?(D(),H("a",{key:1,class:Le([e.class,"!no-underline"]),href:e.url},[_e(e.$slots,"default")],10,sY)):_e(e.$slots,"default",{key:2,class:Le(e.class)})}}});function qy(t,e){var n=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=B1(t))||e&&t&&typeof t.length=="number"){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(u){throw u},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var s=!0,o=!1,a;return{s:function(){n=n.call(t)},n:function(){var u=n.next();return s=u.done,u},e:function(u){o=!0,a=u},f:function(){try{!s&&n.return!=null&&n.return()}finally{if(o)throw a}}}}function aY(t){return cY(t)||uY(t)||B1(t)||lY()}function lY(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function uY(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function cY(t){if(Array.isArray(t))return z0(t)}function Xd(t){"@babel/helpers - typeof";return Xd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xd(t)}function By(t,e){return fY(t)||hY(t,e)||B1(t,e)||dY()}function dY(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function B1(t,e){if(t){if(typeof t=="string")return z0(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return z0(t,e)}}function z0(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function hY(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,a=[],l=!0,u=!1;try{if(s=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=s.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return a}}function fY(t){if(Array.isArray(t))return t}var ze={innerWidth:function(e){if(e){var n=e.offsetWidth,r=getComputedStyle(e);return n+=parseFloat(r.paddingLeft)+parseFloat(r.paddingRight),n}return 0},width:function(e){if(e){var n=e.offsetWidth,r=getComputedStyle(e);return n-=parseFloat(r.paddingLeft)+parseFloat(r.paddingRight),n}return 0},getWindowScrollTop:function(){var e=document.documentElement;return(window.pageYOffset||e.scrollTop)-(e.clientTop||0)},getWindowScrollLeft:function(){var e=document.documentElement;return(window.pageXOffset||e.scrollLeft)-(e.clientLeft||0)},getOuterWidth:function(e,n){if(e){var r=e.offsetWidth;if(n){var i=getComputedStyle(e);r+=parseFloat(i.marginLeft)+parseFloat(i.marginRight)}return r}return 0},getOuterHeight:function(e,n){if(e){var r=e.offsetHeight;if(n){var i=getComputedStyle(e);r+=parseFloat(i.marginTop)+parseFloat(i.marginBottom)}return r}return 0},getClientHeight:function(e,n){if(e){var r=e.clientHeight;if(n){var i=getComputedStyle(e);r+=parseFloat(i.marginTop)+parseFloat(i.marginBottom)}return r}return 0},getViewport:function(){var e=window,n=document,r=n.documentElement,i=n.getElementsByTagName("body")[0],s=e.innerWidth||r.clientWidth||i.clientWidth,o=e.innerHeight||r.clientHeight||i.clientHeight;return{width:s,height:o}},getOffset:function(e){if(e){var n=e.getBoundingClientRect();return{top:n.top+(window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0),left:n.left+(window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0)}}return{top:"auto",left:"auto"}},index:function(e){if(e)for(var n,r=(n=this.getParentNode(e))===null||n===void 0?void 0:n.childNodes,i=0,s=0;s<r.length;s++){if(r[s]===e)return i;r[s].nodeType===1&&i++}return-1},addMultipleClasses:function(e,n){var r=this;e&&n&&[n].flat().filter(Boolean).forEach(function(i){return i.split(" ").forEach(function(s){return r.addClass(e,s)})})},removeMultipleClasses:function(e,n){var r=this;e&&n&&[n].flat().filter(Boolean).forEach(function(i){return i.split(" ").forEach(function(s){return r.removeClass(e,s)})})},addClass:function(e,n){e&&n&&!this.hasClass(e,n)&&(e.classList?e.classList.add(n):e.className+=" "+n)},removeClass:function(e,n){e&&n&&(e.classList?e.classList.remove(n):e.className=e.className.replace(new RegExp("(^|\\b)"+n.split(" ").join("|")+"(\\b|$)","gi")," "))},hasClass:function(e,n){return e?e.classList?e.classList.contains(n):new RegExp("(^| )"+n+"( |$)","gi").test(e.className):!1},addStyles:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};e&&Object.entries(n).forEach(function(r){var i=By(r,2),s=i[0],o=i[1];return e.style[s]=o})},find:function(e,n){return this.isElement(e)?e.querySelectorAll(n):[]},findSingle:function(e,n){return this.isElement(e)?e.querySelector(n):null},createElement:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e){var r=document.createElement(e);this.setAttributes(r,n);for(var i=arguments.length,s=new Array(i>2?i-2:0),o=2;o<i;o++)s[o-2]=arguments[o];return r.append.apply(r,s),r}},setAttribute:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",r=arguments.length>2?arguments[2]:void 0;this.isElement(e)&&r!==null&&r!==void 0&&e.setAttribute(n,r)},setAttributes:function(e){var n=this,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.isElement(e)){var i=function s(o,a){var l,u,c=e!=null&&(l=e.$attrs)!==null&&l!==void 0&&l[o]?[e==null||(u=e.$attrs)===null||u===void 0?void 0:u[o]]:[];return[a].flat().reduce(function(d,h){if(h!=null){var p=Xd(h);if(p==="string"||p==="number")d.push(h);else if(p==="object"){var m=Array.isArray(h)?s(o,h):Object.entries(h).map(function(g){var y=By(g,2),A=y[0],C=y[1];return o==="style"&&(C||C===0)?"".concat(A.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),":").concat(C):C?A:void 0});d=m.length?d.concat(m.filter(function(g){return!!g})):d}}return d},c)};Object.entries(r).forEach(function(s){var o=By(s,2),a=o[0],l=o[1];if(l!=null){var u=a.match(/^on(.+)/);u?e.addEventListener(u[1].toLowerCase(),l):a==="p-bind"?n.setAttributes(e,l):(l=a==="class"?aY(new Set(i("class",l))).join(" ").trim():a==="style"?i("style",l).join(";").trim():l,(e.$attrs=e.$attrs||{})&&(e.$attrs[a]=l),e.setAttribute(a,l))}})}},getAttribute:function(e,n){if(this.isElement(e)){var r=e.getAttribute(n);return isNaN(r)?r==="true"||r==="false"?r==="true":r:+r}},isAttributeEquals:function(e,n,r){return this.isElement(e)?this.getAttribute(e,n)===r:!1},isAttributeNotEquals:function(e,n,r){return!this.isAttributeEquals(e,n,r)},getHeight:function(e){if(e){var n=e.offsetHeight,r=getComputedStyle(e);return n-=parseFloat(r.paddingTop)+parseFloat(r.paddingBottom)+parseFloat(r.borderTopWidth)+parseFloat(r.borderBottomWidth),n}return 0},getWidth:function(e){if(e){var n=e.offsetWidth,r=getComputedStyle(e);return n-=parseFloat(r.paddingLeft)+parseFloat(r.paddingRight)+parseFloat(r.borderLeftWidth)+parseFloat(r.borderRightWidth),n}return 0},absolutePosition:function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(e){var i=e.offsetParent?{width:e.offsetWidth,height:e.offsetHeight}:this.getHiddenElementDimensions(e),s=i.height,o=i.width,a=n.offsetHeight,l=n.offsetWidth,u=n.getBoundingClientRect(),c=this.getWindowScrollTop(),d=this.getWindowScrollLeft(),h=this.getViewport(),p,m,g="top";u.top+a+s>h.height?(p=u.top+c-s,g="bottom",p<0&&(p=c)):p=a+u.top+c,u.left+o>h.width?m=Math.max(0,u.left+d+l-o):m=u.left+d,e.style.top=p+"px",e.style.left=m+"px",e.style.transformOrigin=g,r&&(e.style.marginTop=g==="bottom"?"calc(var(--p-anchor-gutter) * -1)":"calc(var(--p-anchor-gutter))")}},relativePosition:function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(e){var i=e.offsetParent?{width:e.offsetWidth,height:e.offsetHeight}:this.getHiddenElementDimensions(e),s=n.offsetHeight,o=n.getBoundingClientRect(),a=this.getViewport(),l,u,c="top";o.top+s+i.height>a.height?(l=-1*i.height,c="bottom",o.top+l<0&&(l=-1*o.top)):l=s,i.width>a.width?u=o.left*-1:o.left+i.width>a.width?u=(o.left+i.width-a.width)*-1:u=0,e.style.top=l+"px",e.style.left=u+"px",e.style.transformOrigin=c,r&&(e.style.marginTop=c==="bottom"?"calc(var(--p-anchor-gutter) * -1)":"calc(var(--p-anchor-gutter))")}},nestedPosition:function(e,n){if(e){var r=e.parentElement,i=this.getOffset(r),s=this.getViewport(),o=e.offsetParent?e.offsetWidth:this.getHiddenElementOuterWidth(e),a=this.getOuterWidth(r.children[0]),l;parseInt(i.left,10)+a+o>s.width-this.calculateScrollbarWidth()?parseInt(i.left,10)<o?n%2===1?l=parseInt(i.left,10)?"-"+parseInt(i.left,10)+"px":"100%":n%2===0&&(l=s.width-o-this.calculateScrollbarWidth()+"px"):l="-100%":l="100%",e.style.top="0px",e.style.left=l}},getParentNode:function(e){var n=e==null?void 0:e.parentNode;return n&&n instanceof ShadowRoot&&n.host&&(n=n.host),n},getParents:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],r=this.getParentNode(e);return r===null?n:this.getParents(r,n.concat([r]))},getScrollableParents:function(e){var n=[];if(e){var r=this.getParents(e),i=/(auto|scroll)/,s=function(y){try{var A=window.getComputedStyle(y,null);return i.test(A.getPropertyValue("overflow"))||i.test(A.getPropertyValue("overflowX"))||i.test(A.getPropertyValue("overflowY"))}catch{return!1}},o=qy(r),a;try{for(o.s();!(a=o.n()).done;){var l=a.value,u=l.nodeType===1&&l.dataset.scrollselectors;if(u){var c=u.split(","),d=qy(c),h;try{for(d.s();!(h=d.n()).done;){var p=h.value,m=this.findSingle(l,p);m&&s(m)&&n.push(m)}}catch(g){d.e(g)}finally{d.f()}}l.nodeType!==9&&s(l)&&n.push(l)}}catch(g){o.e(g)}finally{o.f()}}return n},getHiddenElementOuterHeight:function(e){if(e){e.style.visibility="hidden",e.style.display="block";var n=e.offsetHeight;return e.style.display="none",e.style.visibility="visible",n}return 0},getHiddenElementOuterWidth:function(e){if(e){e.style.visibility="hidden",e.style.display="block";var n=e.offsetWidth;return e.style.display="none",e.style.visibility="visible",n}return 0},getHiddenElementDimensions:function(e){if(e){var n={};return e.style.visibility="hidden",e.style.display="block",n.width=e.offsetWidth,n.height=e.offsetHeight,e.style.display="none",e.style.visibility="visible",n}return 0},fadeIn:function(e,n){if(e){e.style.opacity=0;var r=+new Date,i=0,s=function o(){i=+e.style.opacity+(new Date().getTime()-r)/n,e.style.opacity=i,r=+new Date,+i<1&&(window.requestAnimationFrame&&requestAnimationFrame(o)||setTimeout(o,16))};s()}},fadeOut:function(e,n){if(e)var r=1,i=50,s=n,o=i/s,a=setInterval(function(){r-=o,r<=0&&(r=0,clearInterval(a)),e.style.opacity=r},i)},getUserAgent:function(){return navigator.userAgent},appendChild:function(e,n){if(this.isElement(n))n.appendChild(e);else if(n.el&&n.elElement)n.elElement.appendChild(e);else throw new Error("Cannot append "+n+" to "+e)},isElement:function(e){return(typeof HTMLElement>"u"?"undefined":Xd(HTMLElement))==="object"?e instanceof HTMLElement:e&&Xd(e)==="object"&&e!==null&&e.nodeType===1&&typeof e.nodeName=="string"},scrollInView:function(e,n){var r=getComputedStyle(e).getPropertyValue("borderTopWidth"),i=r?parseFloat(r):0,s=getComputedStyle(e).getPropertyValue("paddingTop"),o=s?parseFloat(s):0,a=e.getBoundingClientRect(),l=n.getBoundingClientRect(),u=l.top+document.body.scrollTop-(a.top+document.body.scrollTop)-i-o,c=e.scrollTop,d=e.clientHeight,h=this.getOuterHeight(n);u<0?e.scrollTop=c+u:u+h>d&&(e.scrollTop=c+u-d+h)},clearSelection:function(){if(window.getSelection)window.getSelection().empty?window.getSelection().empty():window.getSelection().removeAllRanges&&window.getSelection().rangeCount>0&&window.getSelection().getRangeAt(0).getClientRects().length>0&&window.getSelection().removeAllRanges();else if(document.selection&&document.selection.empty)try{document.selection.empty()}catch{}},getSelection:function(){return window.getSelection?window.getSelection().toString():document.getSelection?document.getSelection().toString():document.selection?document.selection.createRange().text:null},calculateScrollbarWidth:function(){if(this.calculatedScrollbarWidth!=null)return this.calculatedScrollbarWidth;var e=document.createElement("div");this.addStyles(e,{width:"100px",height:"100px",overflow:"scroll",position:"absolute",top:"-9999px"}),document.body.appendChild(e);var n=e.offsetWidth-e.clientWidth;return document.body.removeChild(e),this.calculatedScrollbarWidth=n,n},calculateBodyScrollbarWidth:function(){return window.innerWidth-document.documentElement.offsetWidth},getBrowser:function(){if(!this.browser){var e=this.resolveUserAgent();this.browser={},e.browser&&(this.browser[e.browser]=!0,this.browser.version=e.version),this.browser.chrome?this.browser.webkit=!0:this.browser.webkit&&(this.browser.safari=!0)}return this.browser},resolveUserAgent:function(){var e=navigator.userAgent.toLowerCase(),n=/(chrome)[ ]([\w.]+)/.exec(e)||/(webkit)[ ]([\w.]+)/.exec(e)||/(opera)(?:.*version|)[ ]([\w.]+)/.exec(e)||/(msie) ([\w.]+)/.exec(e)||e.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(e)||[];return{browser:n[1]||"",version:n[2]||"0"}},isVisible:function(e){return e&&e.offsetParent!=null},invokeElementMethod:function(e,n,r){e[n].apply(e,r)},isExist:function(e){return!!(e!==null&&typeof e<"u"&&e.nodeName&&this.getParentNode(e))},isClient:function(){return!!(typeof window<"u"&&window.document&&window.document.createElement)},focus:function(e,n){e&&document.activeElement!==e&&e.focus(n)},isFocusableElement:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";return this.isElement(e)?e.matches('button:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])'.concat(n,`,
                [href][clientHeight][clientWidth]:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])`).concat(n,`,
                input:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])`).concat(n,`,
                select:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])`).concat(n,`,
                textarea:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])`).concat(n,`,
                [tabIndex]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])`).concat(n,`,
                [contenteditable]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])`).concat(n)):!1},getFocusableElements:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",r=this.find(e,'button:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])'.concat(n,`,
                [href][clientHeight][clientWidth]:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])`).concat(n,`,
                input:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])`).concat(n,`,
                select:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])`).concat(n,`,
                textarea:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])`).concat(n,`,
                [tabIndex]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])`).concat(n,`,
                [contenteditable]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])`).concat(n)),i=[],s=qy(r),o;try{for(s.s();!(o=s.n()).done;){var a=o.value;getComputedStyle(a).display!="none"&&getComputedStyle(a).visibility!="hidden"&&i.push(a)}}catch(l){s.e(l)}finally{s.f()}return i},getFirstFocusableElement:function(e,n){var r=this.getFocusableElements(e,n);return r.length>0?r[0]:null},getLastFocusableElement:function(e,n){var r=this.getFocusableElements(e,n);return r.length>0?r[r.length-1]:null},getNextFocusableElement:function(e,n,r){var i=this.getFocusableElements(e,r),s=i.length>0?i.findIndex(function(a){return a===n}):-1,o=s>-1&&i.length>=s+1?s+1:-1;return o>-1?i[o]:null},getPreviousElementSibling:function(e,n){for(var r=e.previousElementSibling;r;){if(r.matches(n))return r;r=r.previousElementSibling}return null},getNextElementSibling:function(e,n){for(var r=e.nextElementSibling;r;){if(r.matches(n))return r;r=r.nextElementSibling}return null},isClickable:function(e){if(e){var n=e.nodeName,r=e.parentElement&&e.parentElement.nodeName;return n==="INPUT"||n==="TEXTAREA"||n==="BUTTON"||n==="A"||r==="INPUT"||r==="TEXTAREA"||r==="BUTTON"||r==="A"||!!e.closest(".p-button, .p-checkbox, .p-radiobutton")}return!1},applyStyle:function(e,n){if(typeof n=="string")e.style.cssText=n;else for(var r in n)e.style[r]=n[r]},isIOS:function(){return/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream},isAndroid:function(){return/(android)/i.test(navigator.userAgent)},isTouchDevice:function(){return"ontouchstart"in window||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0},hasCSSAnimation:function(e){if(e){var n=getComputedStyle(e),r=parseFloat(n.getPropertyValue("animation-duration")||"0");return r>0}return!1},hasCSSTransition:function(e){if(e){var n=getComputedStyle(e),r=parseFloat(n.getPropertyValue("transition-duration")||"0");return r>0}return!1},exportCSV:function(e,n){var r=new Blob([e],{type:"application/csv;charset=utf-8;"});if(window.navigator.msSaveOrOpenBlob)navigator.msSaveOrOpenBlob(r,n+".csv");else{var i=document.createElement("a");i.download!==void 0?(i.setAttribute("href",URL.createObjectURL(r)),i.setAttribute("download",n+".csv"),i.style.display="none",document.body.appendChild(i),i.click(),document.body.removeChild(i)):(e="data:text/csv;charset=utf-8,"+e,window.open(encodeURI(e)))}},blockBodyScroll:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"p-overflow-hidden";document.body.style.setProperty("--scrollbar-width",this.calculateBodyScrollbarWidth()+"px"),this.addClass(document.body,e)},unblockBodyScroll:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"p-overflow-hidden";document.body.style.removeProperty("--scrollbar-width"),this.removeClass(document.body,e)}};function xh(t){"@babel/helpers - typeof";return xh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xh(t)}function pY(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function XC(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,gY(r.key),r)}}function mY(t,e,n){return e&&XC(t.prototype,e),n&&XC(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function gY(t){var e=vY(t,"string");return xh(e)=="symbol"?e:String(e)}function vY(t,e){if(xh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(xh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var vM=function(){function t(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:function(){};pY(this,t),this.element=e,this.listener=n}return mY(t,[{key:"bindScrollListener",value:function(){this.scrollableParents=ze.getScrollableParents(this.element);for(var n=0;n<this.scrollableParents.length;n++)this.scrollableParents[n].addEventListener("scroll",this.listener)}},{key:"unbindScrollListener",value:function(){if(this.scrollableParents)for(var n=0;n<this.scrollableParents.length;n++)this.scrollableParents[n].removeEventListener("scroll",this.listener)}},{key:"destroy",value:function(){this.unbindScrollListener(),this.element=null,this.listener=null,this.scrollableParents=null}}]),t}();function yY(){var t=new Map;return{on:function(n,r){var i=t.get(n);i?i.push(r):i=[r],t.set(n,i)},off:function(n,r){var i=t.get(n);i&&i.splice(i.indexOf(r)>>>0,1)},emit:function(n,r){var i=t.get(n);i&&i.slice().map(function(s){s(r)})}}}function JC(t,e){return wY(t)||_Y(t,e)||j1(t,e)||bY()}function bY(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _Y(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,a=[],l=!0,u=!1;try{if(s=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=s.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return a}}function wY(t){if(Array.isArray(t))return t}function ZC(t){return SY(t)||EY(t)||j1(t)||TY()}function TY(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function EY(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function SY(t){if(Array.isArray(t))return K0(t)}function jy(t,e){var n=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=j1(t))||e&&t&&typeof t.length=="number"){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(u){throw u},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var s=!0,o=!1,a;return{s:function(){n=n.call(t)},n:function(){var u=n.next();return s=u.done,u},e:function(u){o=!0,a=u},f:function(){try{!s&&n.return!=null&&n.return()}finally{if(o)throw a}}}}function j1(t,e){if(t){if(typeof t=="string")return K0(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return K0(t,e)}}function K0(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Jd(t){"@babel/helpers - typeof";return Jd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jd(t)}var Me={equals:function(e,n,r){return r?this.resolveFieldData(e,r)===this.resolveFieldData(n,r):this.deepEquals(e,n)},deepEquals:function(e,n){if(e===n)return!0;if(e&&n&&Jd(e)=="object"&&Jd(n)=="object"){var r=Array.isArray(e),i=Array.isArray(n),s,o,a;if(r&&i){if(o=e.length,o!=n.length)return!1;for(s=o;s--!==0;)if(!this.deepEquals(e[s],n[s]))return!1;return!0}if(r!=i)return!1;var l=e instanceof Date,u=n instanceof Date;if(l!=u)return!1;if(l&&u)return e.getTime()==n.getTime();var c=e instanceof RegExp,d=n instanceof RegExp;if(c!=d)return!1;if(c&&d)return e.toString()==n.toString();var h=Object.keys(e);if(o=h.length,o!==Object.keys(n).length)return!1;for(s=o;s--!==0;)if(!Object.prototype.hasOwnProperty.call(n,h[s]))return!1;for(s=o;s--!==0;)if(a=h[s],!this.deepEquals(e[a],n[a]))return!1;return!0}return e!==e&&n!==n},resolveFieldData:function(e,n){if(!e||!n)return null;try{var r=e[n];if(this.isNotEmpty(r))return r}catch{}if(Object.keys(e).length){if(this.isFunction(n))return n(e);if(n.indexOf(".")===-1)return e[n];for(var i=n.split("."),s=e,o=0,a=i.length;o<a;++o){if(s==null)return null;s=s[i[o]]}return s}return null},getItemValue:function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return this.isFunction(e)?e.apply(void 0,r):e},filter:function(e,n,r){var i=[];if(e){var s=jy(e),o;try{for(s.s();!(o=s.n()).done;){var a=o.value,l=jy(n),u;try{for(l.s();!(u=l.n()).done;){var c=u.value;if(String(this.resolveFieldData(a,c)).toLowerCase().indexOf(r.toLowerCase())>-1){i.push(a);break}}}catch(d){l.e(d)}finally{l.f()}}}catch(d){s.e(d)}finally{s.f()}}return i},reorderArray:function(e,n,r){e&&n!==r&&(r>=e.length&&(r%=e.length,n%=e.length),e.splice(r,0,e.splice(n,1)[0]))},findIndexInList:function(e,n){var r=-1;if(n){for(var i=0;i<n.length;i++)if(n[i]===e){r=i;break}}return r},contains:function(e,n){if(e!=null&&n&&n.length){var r=jy(n),i;try{for(r.s();!(i=r.n()).done;){var s=i.value;if(this.equals(e,s))return!0}}catch(o){r.e(o)}finally{r.f()}}return!1},insertIntoOrderedArray:function(e,n,r,i){if(r.length>0){for(var s=!1,o=0;o<r.length;o++){var a=this.findIndexInList(r[o],i);if(a>n){r.splice(o,0,e),s=!0;break}}s||r.push(e)}else r.push(e)},removeAccents:function(e){return e&&e.search(/[\xC0-\xFF]/g)>-1&&(e=e.replace(/[\xC0-\xC5]/g,"A").replace(/[\xC6]/g,"AE").replace(/[\xC7]/g,"C").replace(/[\xC8-\xCB]/g,"E").replace(/[\xCC-\xCF]/g,"I").replace(/[\xD0]/g,"D").replace(/[\xD1]/g,"N").replace(/[\xD2-\xD6\xD8]/g,"O").replace(/[\xD9-\xDC]/g,"U").replace(/[\xDD]/g,"Y").replace(/[\xDE]/g,"P").replace(/[\xE0-\xE5]/g,"a").replace(/[\xE6]/g,"ae").replace(/[\xE7]/g,"c").replace(/[\xE8-\xEB]/g,"e").replace(/[\xEC-\xEF]/g,"i").replace(/[\xF1]/g,"n").replace(/[\xF2-\xF6\xF8]/g,"o").replace(/[\xF9-\xFC]/g,"u").replace(/[\xFE]/g,"p").replace(/[\xFD\xFF]/g,"y")),e},getVNodeProp:function(e,n){if(e){var r=e.props;if(r){var i=n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),s=Object.prototype.hasOwnProperty.call(r,i)?i:n;return e.type.extends.props[n].type===Boolean&&r[s]===""?!0:r[s]}}return null},toFlatCase:function(e){return this.isString(e)?e.replace(/(-|_)/g,"").toLowerCase():e},toKebabCase:function(e){return this.isString(e)?e.replace(/(_)/g,"-").replace(/[A-Z]/g,function(n,r){return r===0?n:"-"+n.toLowerCase()}).toLowerCase():e},toCapitalCase:function(e){return this.isString(e,{empty:!1})?e[0].toUpperCase()+e.slice(1):e},isEmpty:function(e){return e==null||e===""||Array.isArray(e)&&e.length===0||!(e instanceof Date)&&Jd(e)==="object"&&Object.keys(e).length===0},isNotEmpty:function(e){return!this.isEmpty(e)},isFunction:function(e){return!!(e&&e.constructor&&e.call&&e.apply)},isObject:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return e instanceof Object&&e.constructor===Object&&(n||Object.keys(e).length!==0)},isDate:function(e){return e instanceof Date&&e.constructor===Date},isArray:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return Array.isArray(e)&&(n||e.length!==0)},isString:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return typeof e=="string"&&(n||e!=="")},isPrintableCharacter:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return this.isNotEmpty(e)&&e.length===1&&e.match(/\S| /)},findLast:function(e,n){var r;if(this.isNotEmpty(e))try{r=e.findLast(n)}catch{r=ZC(e).reverse().find(n)}return r},findLastIndex:function(e,n){var r=-1;if(this.isNotEmpty(e))try{r=e.findLastIndex(n)}catch{r=e.lastIndexOf(ZC(e).reverse().find(n))}return r},sort:function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,i=arguments.length>3?arguments[3]:void 0,s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:1,o=this.compare(e,n,i,r),a=r;return(this.isEmpty(e)||this.isEmpty(n))&&(a=s===1?r:s),a*o},compare:function(e,n,r){var i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:1,s=-1,o=this.isEmpty(e),a=this.isEmpty(n);return o&&a?s=0:o?s=i:a?s=-i:typeof e=="string"&&typeof n=="string"?s=r(e,n):s=e<n?-1:e>n?1:0,s},localeComparator:function(){return new Intl.Collator(void 0,{numeric:!0}).compare},nestedKeys:function(){var e=this,n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";return Object.entries(n).reduce(function(i,s){var o=JC(s,2),a=o[0],l=o[1],u=r?"".concat(r,".").concat(a):a;return e.isObject(l)?i=i.concat(e.nestedKeys(l,u)):i.push(u),i},[])},stringify:function(e){var n=this,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:2,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,s=" ".repeat(i),o=" ".repeat(i+r);return this.isArray(e)?"["+e.map(function(a){return n.stringify(a,r,i+r)}).join(", ")+"]":this.isDate(e)?e.toISOString():this.isFunction(e)?e.toString():this.isObject(e)?`{
`+Object.entries(e).map(function(a){var l=JC(a,2),u=l[0],c=l[1];return"".concat(o).concat(u,": ").concat(n.stringify(c,r,i+r))}).join(`,
`)+`
`.concat(s)+"}":JSON.stringify(e)}},eA=0;function vc(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"pv_id_";return eA++,"".concat(t).concat(eA)}function IY(t){return OY(t)||PY(t)||AY(t)||CY()}function CY(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function AY(t,e){if(t){if(typeof t=="string")return G0(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return G0(t,e)}}function PY(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function OY(t){if(Array.isArray(t))return G0(t)}function G0(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function kY(){var t=[],e=function(a,l){var u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:999,c=i(a,l,u),d=c.value+(c.key===a?0:u)+1;return t.push({key:a,value:d}),d},n=function(a){t=t.filter(function(l){return l.value!==a})},r=function(a,l){return i(a,l).value},i=function(a,l){var u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;return IY(t).reverse().find(function(c){return l?!0:c.key===a})||{key:a,value:u}},s=function(a){return a&&parseInt(a.style.zIndex,10)||0};return{get:s,set:function(a,l,u){l&&(l.style.zIndex=String(e(a,!0,u)))},clear:function(a){a&&(n(s(a)),a.style.zIndex="")},getCurrent:function(a){return r(a,!0)}}}var Gu=kY();function Dh(t){"@babel/helpers - typeof";return Dh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Dh(t)}function tA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function nA(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?tA(Object(n),!0).forEach(function(r){RY(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):tA(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function RY(t,e,n){return e=xY(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function xY(t){var e=DY(t,"string");return Dh(e)=="symbol"?e:String(e)}function DY(t,e){if(Dh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Dh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function NY(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;ts()?Vt(t):e?t():ir(t)}var MY=0;function yM(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=ie(!1),r=ie(t),i=ie(null),s=ze.isClient()?window.document:void 0,o=e.document,a=o===void 0?s:o,l=e.immediate,u=l===void 0?!0:l,c=e.manual,d=c===void 0?!1:c,h=e.name,p=h===void 0?"style_".concat(++MY):h,m=e.id,g=m===void 0?void 0:m,y=e.media,A=y===void 0?void 0:y,C=e.nonce,S=C===void 0?void 0:C,E=e.props,k=E===void 0?{}:E,x=function(){},I=function(T){var R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(a){var N=nA(nA({},k),R),O=N.name||p,j=N.id||g,U=N.nonce||S;i.value=a.querySelector('style[data-primevue-style-id="'.concat(O,'"]'))||a.getElementById(j)||a.createElement("style"),i.value.isConnected||(r.value=T||t,ze.setAttributes(i.value,{type:"text/css",id:j,media:A,nonce:U}),a.head.appendChild(i.value),ze.setAttribute(i.value,"data-primevue-style-id",p),ze.setAttributes(i.value,N)),!n.value&&(x=cn(r,function($){i.value.textContent=$},{immediate:!0}),n.value=!0)}},b=function(){!a||!n.value||(x(),ze.isExist(i.value)&&a.head.removeChild(i.value),n.value=!1)};return u&&!d&&NY(I),{id:g,name:p,css:r,unload:b,load:I,isLoaded:kg(n)}}function Nh(t){"@babel/helpers - typeof";return Nh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nh(t)}function LY(t,e){return UY(t)||FY(t,e)||$Y(t,e)||VY()}function VY(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $Y(t,e){if(t){if(typeof t=="string")return rA(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return rA(t,e)}}function rA(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function FY(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,a=[],l=!0,u=!1;try{if(s=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=s.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return a}}function UY(t){if(Array.isArray(t))return t}function iA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Hy(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?iA(Object(n),!0).forEach(function(r){qY(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):iA(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function qY(t,e,n){return e=BY(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function BY(t){var e=jY(t,"string");return Nh(e)=="symbol"?e:String(e)}function jY(t,e){if(Nh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Nh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var HY=`
.p-hidden-accessible {
    border: 0;
    clip: rect(0 0 0 0);
    height: 1px;
    margin: -1px;
    overflow: hidden;
    padding: 0;
    position: absolute;
    width: 1px;
}

.p-hidden-accessible input,
.p-hidden-accessible select {
    transform: scale(0);
}

.p-overflow-hidden {
    overflow: hidden;
    padding-right: var(--scrollbar-width);
}
`,WY={},zY={},or={name:"base",css:HY,classes:WY,inlineStyles:zY,loadStyle:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return this.css?yM(this.css,Hy({name:this.name},e)):{}},getStyleSheet:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.css){var r=Object.entries(n).reduce(function(i,s){var o=LY(s,2),a=o[0],l=o[1];return i.push("".concat(a,'="').concat(l,'"'))&&i},[]).join(" ");return'<style type="text/css" data-primevue-style-id="'.concat(this.name,'" ').concat(r,">").concat(this.css).concat(e,"</style>")}return""},extend:function(e){return Hy(Hy({},this),{},{css:void 0},e)}},KY={root:function(e){var n=e.props,r=e.instance;return["p-badge p-component",{"p-badge-no-gutter":Me.isNotEmpty(n.value)&&String(n.value).length===1,"p-badge-dot":Me.isEmpty(n.value)&&!r.$slots.default,"p-badge-lg":n.size==="large","p-badge-xl":n.size==="xlarge","p-badge-info":n.severity==="info","p-badge-success":n.severity==="success","p-badge-warning":n.severity==="warning","p-badge-danger":n.severity==="danger","p-badge-secondary":n.severity==="secondary","p-badge-contrast":n.severity==="contrast"}]}},GY=or.extend({name:"badge",classes:KY});function Mh(t){"@babel/helpers - typeof";return Mh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Mh(t)}function sA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function YY(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?sA(Object(n),!0).forEach(function(r){QY(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):sA(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function QY(t,e,n){return e=XY(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function XY(t){var e=JY(t,"string");return Mh(e)=="symbol"?e:String(e)}function JY(t,e){if(Mh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Mh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Wy=or.extend({name:"common",loadGlobalStyle:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return yM(e,YY({name:"global"},n))}});function Lh(t){"@babel/helpers - typeof";return Lh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Lh(t)}function ZY(t){return wM(t)||eQ(t)||_M(t)||bM()}function eQ(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Cp(t,e){return wM(t)||tQ(t,e)||_M(t,e)||bM()}function bM(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _M(t,e){if(t){if(typeof t=="string")return oA(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return oA(t,e)}}function oA(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function tQ(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,a=[],l=!0,u=!1;try{if(s=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=s.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return a}}function wM(t){if(Array.isArray(t))return t}function aA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function En(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?aA(Object(n),!0).forEach(function(r){Zp(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):aA(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Zp(t,e,n){return e=nQ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function nQ(t){var e=rQ(t,"string");return Lh(e)=="symbol"?e:String(e)}function rQ(t,e){if(Lh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Lh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ur={name:"BaseComponent",props:{pt:{type:Object,default:void 0},ptOptions:{type:Object,default:void 0},unstyled:{type:Boolean,default:void 0}},inject:{$parentInstance:{default:void 0}},watch:{isUnstyled:{immediate:!0,handler:function(e){if(!e){var n,r;Wy.loadStyle({nonce:(n=this.$primevueConfig)===null||n===void 0||(n=n.csp)===null||n===void 0?void 0:n.nonce}),this.$options.style&&this.$style.loadStyle({nonce:(r=this.$primevueConfig)===null||r===void 0||(r=r.csp)===null||r===void 0?void 0:r.nonce})}}}},beforeCreate:function(){var e,n,r,i,s,o,a,l,u,c,d,h=(e=this.pt)===null||e===void 0?void 0:e._usept,p=h?(n=this.pt)===null||n===void 0||(n=n.originalValue)===null||n===void 0?void 0:n[this.$.type.name]:void 0,m=h?(r=this.pt)===null||r===void 0||(r=r.value)===null||r===void 0?void 0:r[this.$.type.name]:this.pt;(i=m||p)===null||i===void 0||(i=i.hooks)===null||i===void 0||(s=i.onBeforeCreate)===null||s===void 0||s.call(i);var g=(o=this.$primevueConfig)===null||o===void 0||(o=o.pt)===null||o===void 0?void 0:o._usept,y=g?(a=this.$primevue)===null||a===void 0||(a=a.config)===null||a===void 0||(a=a.pt)===null||a===void 0?void 0:a.originalValue:void 0,A=g?(l=this.$primevue)===null||l===void 0||(l=l.config)===null||l===void 0||(l=l.pt)===null||l===void 0?void 0:l.value:(u=this.$primevue)===null||u===void 0||(u=u.config)===null||u===void 0?void 0:u.pt;(c=A||y)===null||c===void 0||(c=c[this.$.type.name])===null||c===void 0||(c=c.hooks)===null||c===void 0||(d=c.onBeforeCreate)===null||d===void 0||d.call(c)},created:function(){this._hook("onCreated")},beforeMount:function(){var e;or.loadStyle({nonce:(e=this.$primevueConfig)===null||e===void 0||(e=e.csp)===null||e===void 0?void 0:e.nonce}),this._loadGlobalStyles(),this._hook("onBeforeMount")},mounted:function(){this._hook("onMounted")},beforeUpdate:function(){this._hook("onBeforeUpdate")},updated:function(){this._hook("onUpdated")},beforeUnmount:function(){this._hook("onBeforeUnmount")},unmounted:function(){this._hook("onUnmounted")},methods:{_hook:function(e){if(!this.$options.hostName){var n=this._usePT(this._getPT(this.pt,this.$.type.name),this._getOptionValue,"hooks.".concat(e)),r=this._useDefaultPT(this._getOptionValue,"hooks.".concat(e));n==null||n(),r==null||r()}},_mergeProps:function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return Me.isFunction(e)?e.apply(void 0,r):se.apply(void 0,r)},_loadGlobalStyles:function(){var e,n=this._useGlobalPT(this._getOptionValue,"global.css",this.$params);Me.isNotEmpty(n)&&Wy.loadGlobalStyle(n,{nonce:(e=this.$primevueConfig)===null||e===void 0||(e=e.csp)===null||e===void 0?void 0:e.nonce})},_getHostInstance:function(e){return e?this.$options.hostName?e.$.type.name===this.$options.hostName?e:this._getHostInstance(e.$parentInstance):e.$parentInstance:void 0},_getPropValue:function(e){var n;return this[e]||((n=this._getHostInstance(this))===null||n===void 0?void 0:n[e])},_getOptionValue:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=Me.toFlatCase(n).split("."),s=i.shift();return s?Me.isObject(e)?this._getOptionValue(Me.getItemValue(e[Object.keys(e).find(function(o){return Me.toFlatCase(o)===s})||""],r),i.join("."),r):void 0:Me.getItemValue(e,r)},_getPTValue:function(){var e,n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,o=/./g.test(r)&&!!i[r.split(".")[0]],a=this._getPropValue("ptOptions")||((e=this.$primevueConfig)===null||e===void 0?void 0:e.ptOptions)||{},l=a.mergeSections,u=l===void 0?!0:l,c=a.mergeProps,d=c===void 0?!1:c,h=s?o?this._useGlobalPT(this._getPTClassValue,r,i):this._useDefaultPT(this._getPTClassValue,r,i):void 0,p=o?void 0:this._getPTSelf(n,this._getPTClassValue,r,En(En({},i),{},{global:h||{}})),m=this._getPTDatasets(r);return u||!u&&p?d?this._mergeProps(d,h,p,m):En(En(En({},h),p),m):En(En({},p),m)},_getPTSelf:function(){for(var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return se(this._usePT.apply(this,[this._getPT(e,this.$name)].concat(r)),this._usePT.apply(this,[this.$_attrsPT].concat(r)))},_getPTDatasets:function(){var e,n,r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",i="data-pc-",s=r==="root"&&Me.isNotEmpty((e=this.pt)===null||e===void 0?void 0:e["data-pc-section"]);return r!=="transition"&&En(En({},r==="root"&&En(Zp({},"".concat(i,"name"),Me.toFlatCase(s?(n=this.pt)===null||n===void 0?void 0:n["data-pc-section"]:this.$.type.name)),s&&Zp({},"".concat(i,"extend"),Me.toFlatCase(this.$.type.name)))),{},Zp({},"".concat(i,"section"),Me.toFlatCase(r)))},_getPTClassValue:function(){var e=this._getOptionValue.apply(this,arguments);return Me.isString(e)||Me.isArray(e)?{class:e}:e},_getPT:function(e){var n=this,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",i=arguments.length>2?arguments[2]:void 0,s=function(a){var l,u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,c=i?i(a):a,d=Me.toFlatCase(r),h=Me.toFlatCase(n.$name);return(l=u?d!==h?c==null?void 0:c[d]:void 0:c==null?void 0:c[d])!==null&&l!==void 0?l:c};return e!=null&&e.hasOwnProperty("_usept")?{_usept:e._usept,originalValue:s(e.originalValue),value:s(e.value)}:s(e,!0)},_usePT:function(e,n,r,i){var s=function(g){return n(g,r,i)};if(e!=null&&e.hasOwnProperty("_usept")){var o,a=e._usept||((o=this.$primevueConfig)===null||o===void 0?void 0:o.ptOptions)||{},l=a.mergeSections,u=l===void 0?!0:l,c=a.mergeProps,d=c===void 0?!1:c,h=s(e.originalValue),p=s(e.value);return h===void 0&&p===void 0?void 0:Me.isString(p)?p:Me.isString(h)?h:u||!u&&p?d?this._mergeProps(d,h,p):En(En({},h),p):p}return s(e)},_useGlobalPT:function(e,n,r){return this._usePT(this.globalPT,e,n,r)},_useDefaultPT:function(e,n,r){return this._usePT(this.defaultPT,e,n,r)},ptm:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return this._getPTValue(this.pt,e,En(En({},this.$params),n))},ptmi:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return se(this.$_attrsNoPT,this.ptm(e,n))},ptmo:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this._getPTValue(e,n,En({instance:this},r),!1)},cx:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return this.isUnstyled?void 0:this._getOptionValue(this.$style.classes,e,En(En({},this.$params),n))},sx:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(n){var i=this._getOptionValue(this.$style.inlineStyles,e,En(En({},this.$params),r)),s=this._getOptionValue(Wy.inlineStyles,e,En(En({},this.$params),r));return[s,i]}}},computed:{globalPT:function(){var e,n=this;return this._getPT((e=this.$primevueConfig)===null||e===void 0?void 0:e.pt,void 0,function(r){return Me.getItemValue(r,{instance:n})})},defaultPT:function(){var e,n=this;return this._getPT((e=this.$primevueConfig)===null||e===void 0?void 0:e.pt,void 0,function(r){return n._getOptionValue(r,n.$name,En({},n.$params))||Me.getItemValue(r,En({},n.$params))})},isUnstyled:function(){var e;return this.unstyled!==void 0?this.unstyled:(e=this.$primevueConfig)===null||e===void 0?void 0:e.unstyled},$params:function(){var e=this._getHostInstance(this)||this.$parent;return{instance:this,props:this.$props,state:this.$data,attrs:this.$attrs,parent:{instance:e,props:e==null?void 0:e.$props,state:e==null?void 0:e.$data,attrs:e==null?void 0:e.$attrs},parentInstance:e}},$style:function(){return En(En({classes:void 0,inlineStyles:void 0,loadStyle:function(){},loadCustomStyle:function(){}},(this._getHostInstance(this)||{}).$style),this.$options.style)},$primevueConfig:function(){var e;return(e=this.$primevue)===null||e===void 0?void 0:e.config},$name:function(){return this.$options.hostName||this.$.type.name},$_attrsPT:function(){return Object.entries(this.$attrs||{}).filter(function(e){var n=Cp(e,1),r=n[0];return r==null?void 0:r.startsWith("pt:")}).reduce(function(e,n){var r=Cp(n,2),i=r[0],s=r[1],o=i.split(":"),a=ZY(o),l=a.slice(1);return l==null||l.reduce(function(u,c,d,h){return!u[c]&&(u[c]=d===h.length-1?s:{}),u[c]},e),e},{})},$_attrsNoPT:function(){return Object.entries(this.$attrs||{}).filter(function(e){var n=Cp(e,1),r=n[0];return!(r!=null&&r.startsWith("pt:"))}).reduce(function(e,n){var r=Cp(n,2),i=r[0],s=r[1];return e[i]=s,e},{})}}},iQ={name:"BaseBadge",extends:Ur,props:{value:{type:[String,Number],default:null},severity:{type:String,default:null},size:{type:String,default:null}},style:GY,provide:function(){return{$parentInstance:this}}},TM={name:"Badge",extends:iQ,inheritAttrs:!1};function sQ(t,e,n,r,i,s){return D(),H("span",se({class:t.cx("root")},t.ptmi("root")),[_e(t.$slots,"default",{},function(){return[K(Fe(t.value),1)]})],16)}TM.render=sQ;var oQ=`
.p-icon {
    display: inline-block;
}

.p-icon-spin {
    -webkit-animation: p-icon-spin 2s infinite linear;
    animation: p-icon-spin 2s infinite linear;
}

@-webkit-keyframes p-icon-spin {
    0% {
        -webkit-transform: rotate(0deg);
        transform: rotate(0deg);
    }
    100% {
        -webkit-transform: rotate(359deg);
        transform: rotate(359deg);
    }
}

@keyframes p-icon-spin {
    0% {
        -webkit-transform: rotate(0deg);
        transform: rotate(0deg);
    }
    100% {
        -webkit-transform: rotate(359deg);
        transform: rotate(359deg);
    }
}
`,aQ=or.extend({name:"baseicon",css:oQ});function Vh(t){"@babel/helpers - typeof";return Vh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vh(t)}function lA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function uA(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?lA(Object(n),!0).forEach(function(r){lQ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):lA(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function lQ(t,e,n){return e=uQ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function uQ(t){var e=cQ(t,"string");return Vh(e)=="symbol"?e:String(e)}function cQ(t,e){if(Vh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Vh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Fa={name:"BaseIcon",extends:Ur,props:{label:{type:String,default:void 0},spin:{type:Boolean,default:!1}},style:aQ,methods:{pti:function(){var e=Me.isEmpty(this.label);return uA(uA({},!this.isUnstyled&&{class:["p-icon",{"p-icon-spin":this.spin}]}),{},{role:e?void 0:"img","aria-label":e?void 0:this.label,"aria-hidden":e})}}},Rf={name:"SpinnerIcon",extends:Fa},dQ=v("path",{d:"M6.99701 14C5.85441 13.999 4.72939 13.7186 3.72012 13.1832C2.71084 12.6478 1.84795 11.8737 1.20673 10.9284C0.565504 9.98305 0.165424 8.89526 0.041387 7.75989C-0.0826496 6.62453 0.073125 5.47607 0.495122 4.4147C0.917119 3.35333 1.59252 2.4113 2.46241 1.67077C3.33229 0.930247 4.37024 0.413729 5.4857 0.166275C6.60117 -0.0811796 7.76026 -0.0520535 8.86188 0.251112C9.9635 0.554278 10.9742 1.12227 11.8057 1.90555C11.915 2.01493 11.9764 2.16319 11.9764 2.31778C11.9764 2.47236 11.915 2.62062 11.8057 2.73C11.7521 2.78503 11.688 2.82877 11.6171 2.85864C11.5463 2.8885 11.4702 2.90389 11.3933 2.90389C11.3165 2.90389 11.2404 2.8885 11.1695 2.85864C11.0987 2.82877 11.0346 2.78503 10.9809 2.73C9.9998 1.81273 8.73246 1.26138 7.39226 1.16876C6.05206 1.07615 4.72086 1.44794 3.62279 2.22152C2.52471 2.99511 1.72683 4.12325 1.36345 5.41602C1.00008 6.70879 1.09342 8.08723 1.62775 9.31926C2.16209 10.5513 3.10478 11.5617 4.29713 12.1803C5.48947 12.7989 6.85865 12.988 8.17414 12.7157C9.48963 12.4435 10.6711 11.7264 11.5196 10.6854C12.3681 9.64432 12.8319 8.34282 12.8328 7C12.8328 6.84529 12.8943 6.69692 13.0038 6.58752C13.1132 6.47812 13.2616 6.41667 13.4164 6.41667C13.5712 6.41667 13.7196 6.47812 13.8291 6.58752C13.9385 6.69692 14 6.84529 14 7C14 8.85651 13.2622 10.637 11.9489 11.9497C10.6356 13.2625 8.85432 14 6.99701 14Z",fill:"currentColor"},null,-1),hQ=[dQ];function fQ(t,e,n,r,i,s){return D(),H("svg",se({width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t.pti()),hQ,16)}Rf.render=fQ;function $h(t){"@babel/helpers - typeof";return $h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$h(t)}function cA(t,e){return vQ(t)||gQ(t,e)||mQ(t,e)||pQ()}function pQ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mQ(t,e){if(t){if(typeof t=="string")return dA(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return dA(t,e)}}function dA(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function gQ(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,a=[],l=!0,u=!1;try{if(s=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=s.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return a}}function vQ(t){if(Array.isArray(t))return t}function hA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Un(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?hA(Object(n),!0).forEach(function(r){Y0(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):hA(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Y0(t,e,n){return e=yQ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function yQ(t){var e=bQ(t,"string");return $h(e)=="symbol"?e:String(e)}function bQ(t,e){if($h(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if($h(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Xt={_getMeta:function(){return[Me.isObject(arguments.length<=0?void 0:arguments[0])||arguments.length<=0?void 0:arguments[0],Me.getItemValue(Me.isObject(arguments.length<=0?void 0:arguments[0])?arguments.length<=0?void 0:arguments[0]:arguments.length<=1?void 0:arguments[1])]},_getConfig:function(e,n){var r,i,s;return(r=(e==null||(i=e.instance)===null||i===void 0?void 0:i.$primevue)||(n==null||(s=n.ctx)===null||s===void 0||(s=s.appContext)===null||s===void 0||(s=s.config)===null||s===void 0||(s=s.globalProperties)===null||s===void 0?void 0:s.$primevue))===null||r===void 0?void 0:r.config},_getOptionValue:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=Me.toFlatCase(n).split("."),s=i.shift();return s?Me.isObject(e)?Xt._getOptionValue(Me.getItemValue(e[Object.keys(e).find(function(o){return Me.toFlatCase(o)===s})||""],r),i.join("."),r):void 0:Me.getItemValue(e,r)},_getPTValue:function(){var e,n,r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"",o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,l=function(){var C=Xt._getOptionValue.apply(Xt,arguments);return Me.isString(C)||Me.isArray(C)?{class:C}:C},u=((e=r.binding)===null||e===void 0||(e=e.value)===null||e===void 0?void 0:e.ptOptions)||((n=r.$primevueConfig)===null||n===void 0?void 0:n.ptOptions)||{},c=u.mergeSections,d=c===void 0?!0:c,h=u.mergeProps,p=h===void 0?!1:h,m=a?Xt._useDefaultPT(r,r.defaultPT(),l,s,o):void 0,g=Xt._usePT(r,Xt._getPT(i,r.$name),l,s,Un(Un({},o),{},{global:m||{}})),y=Xt._getPTDatasets(r,s);return d||!d&&g?p?Xt._mergeProps(r,p,m,g,y):Un(Un(Un({},m),g),y):Un(Un({},g),y)},_getPTDatasets:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",r="data-pc-";return Un(Un({},n==="root"&&Y0({},"".concat(r,"name"),Me.toFlatCase(e.$name))),{},Y0({},"".concat(r,"section"),Me.toFlatCase(n)))},_getPT:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",r=arguments.length>2?arguments[2]:void 0,i=function(o){var a,l=r?r(o):o,u=Me.toFlatCase(n);return(a=l==null?void 0:l[u])!==null&&a!==void 0?a:l};return e!=null&&e.hasOwnProperty("_usept")?{_usept:e._usept,originalValue:i(e.originalValue),value:i(e.value)}:i(e)},_usePT:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0,r=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,s=arguments.length>4?arguments[4]:void 0,o=function(y){return r(y,i,s)};if(n!=null&&n.hasOwnProperty("_usept")){var a,l=n._usept||((a=e.$primevueConfig)===null||a===void 0?void 0:a.ptOptions)||{},u=l.mergeSections,c=u===void 0?!0:u,d=l.mergeProps,h=d===void 0?!1:d,p=o(n.originalValue),m=o(n.value);return p===void 0&&m===void 0?void 0:Me.isString(m)?m:Me.isString(p)?p:c||!c&&m?h?Xt._mergeProps(e,h,p,m):Un(Un({},p),m):m}return o(n)},_useDefaultPT:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,s=arguments.length>4?arguments[4]:void 0;return Xt._usePT(e,n,r,i,s)},_hook:function(e,n,r,i,s,o){var a,l,u="on".concat(Me.toCapitalCase(n)),c=Xt._getConfig(i,s),d=r==null?void 0:r.$instance,h=Xt._usePT(d,Xt._getPT(i==null||(a=i.value)===null||a===void 0?void 0:a.pt,e),Xt._getOptionValue,"hooks.".concat(u)),p=Xt._useDefaultPT(d,c==null||(l=c.pt)===null||l===void 0||(l=l.directives)===null||l===void 0?void 0:l[e],Xt._getOptionValue,"hooks.".concat(u)),m={el:r,binding:i,vnode:s,prevVnode:o};h==null||h(d,m),p==null||p(d,m)},_mergeProps:function(){for(var e=arguments.length>1?arguments[1]:void 0,n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];return Me.isFunction(e)?e.apply(void 0,r):se.apply(void 0,r)},_extend:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=function(s,o,a,l,u){var c,d;o._$instances=o._$instances||{};var h=Xt._getConfig(a,l),p=o._$instances[e]||{},m=Me.isEmpty(p)?Un(Un({},n),n==null?void 0:n.methods):{};o._$instances[e]=Un(Un({},p),{},{$name:e,$host:o,$binding:a,$modifiers:a==null?void 0:a.modifiers,$value:a==null?void 0:a.value,$el:p.$el||o||void 0,$style:Un({classes:void 0,inlineStyles:void 0,loadStyle:function(){}},n==null?void 0:n.style),$primevueConfig:h,defaultPT:function(){return Xt._getPT(h==null?void 0:h.pt,void 0,function(y){var A;return y==null||(A=y.directives)===null||A===void 0?void 0:A[e]})},isUnstyled:function(){var y,A;return((y=o.$instance)===null||y===void 0||(y=y.$binding)===null||y===void 0||(y=y.value)===null||y===void 0?void 0:y.unstyled)!==void 0?(A=o.$instance)===null||A===void 0||(A=A.$binding)===null||A===void 0||(A=A.value)===null||A===void 0?void 0:A.unstyled:h==null?void 0:h.unstyled},ptm:function(){var y,A=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",C=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Xt._getPTValue(o.$instance,(y=o.$instance)===null||y===void 0||(y=y.$binding)===null||y===void 0||(y=y.value)===null||y===void 0?void 0:y.pt,A,Un({},C))},ptmo:function(){var y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},A=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",C=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return Xt._getPTValue(o.$instance,y,A,C,!1)},cx:function(){var y,A,C=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",S=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return(y=o.$instance)!==null&&y!==void 0&&y.isUnstyled()?void 0:Xt._getOptionValue((A=o.$instance)===null||A===void 0||(A=A.$style)===null||A===void 0?void 0:A.classes,C,Un({},S))},sx:function(){var y,A=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",C=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,S=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return C?Xt._getOptionValue((y=o.$instance)===null||y===void 0||(y=y.$style)===null||y===void 0?void 0:y.inlineStyles,A,Un({},S)):void 0}},m),o.$instance=o._$instances[e],(c=(d=o.$instance)[s])===null||c===void 0||c.call(d,o,a,l,u),o["$".concat(e)]=o.$instance,Xt._hook(e,s,o,a,l,u)};return{created:function(s,o,a,l){r("created",s,o,a,l)},beforeMount:function(s,o,a,l){var u,c,d,h,p=Xt._getConfig(o,a);or.loadStyle({nonce:p==null||(u=p.csp)===null||u===void 0?void 0:u.nonce}),!((c=s.$instance)!==null&&c!==void 0&&c.isUnstyled())&&((d=s.$instance)===null||d===void 0||(d=d.$style)===null||d===void 0||d.loadStyle({nonce:p==null||(h=p.csp)===null||h===void 0?void 0:h.nonce})),r("beforeMount",s,o,a,l)},mounted:function(s,o,a,l){var u,c,d,h,p=Xt._getConfig(o,a);or.loadStyle({nonce:p==null||(u=p.csp)===null||u===void 0?void 0:u.nonce}),!((c=s.$instance)!==null&&c!==void 0&&c.isUnstyled())&&((d=s.$instance)===null||d===void 0||(d=d.$style)===null||d===void 0||d.loadStyle({nonce:p==null||(h=p.csp)===null||h===void 0?void 0:h.nonce})),r("mounted",s,o,a,l)},beforeUpdate:function(s,o,a,l){r("beforeUpdate",s,o,a,l)},updated:function(s,o,a,l){r("updated",s,o,a,l)},beforeUnmount:function(s,o,a,l){r("beforeUnmount",s,o,a,l)},unmounted:function(s,o,a,l){r("unmounted",s,o,a,l)}}},extend:function(){var e=Xt._getMeta.apply(Xt,arguments),n=cA(e,2),r=n[0],i=n[1];return Un({extend:function(){var o=Xt._getMeta.apply(Xt,arguments),a=cA(o,2),l=a[0],u=a[1];return Xt.extend(l,Un(Un(Un({},i),i==null?void 0:i.methods),u))}},Xt._extend(r,i))}},_Q={root:"p-ink"},wQ=or.extend({name:"ripple",classes:_Q}),TQ=Xt.extend({style:wQ});function EQ(t){return AQ(t)||CQ(t)||IQ(t)||SQ()}function SQ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function IQ(t,e){if(t){if(typeof t=="string")return Q0(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Q0(t,e)}}function CQ(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function AQ(t){if(Array.isArray(t))return Q0(t)}function Q0(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Cv=TQ.extend("ripple",{mounted:function(e){var n,r=e==null||(n=e.$instance)===null||n===void 0?void 0:n.$primevueConfig;r&&r.ripple&&(this.create(e),this.bindEvents(e),e.setAttribute("data-pd-ripple",!0))},unmounted:function(e){this.remove(e)},timeout:void 0,methods:{bindEvents:function(e){e.addEventListener("mousedown",this.onMouseDown.bind(this))},unbindEvents:function(e){e.removeEventListener("mousedown",this.onMouseDown.bind(this))},create:function(e){var n=ze.createElement("span",{role:"presentation","aria-hidden":!0,"data-p-ink":!0,"data-p-ink-active":!1,class:!this.isUnstyled()&&this.cx("root"),onAnimationEnd:this.onAnimationEnd.bind(this),"p-bind":this.ptm("root")});e.appendChild(n),this.$el=n},remove:function(e){var n=this.getInk(e);n&&(this.unbindEvents(e),n.removeEventListener("animationend",this.onAnimationEnd),n.remove())},onMouseDown:function(e){var n=this,r=e.currentTarget,i=this.getInk(r);if(!(!i||getComputedStyle(i,null).display==="none")){if(!this.isUnstyled()&&ze.removeClass(i,"p-ink-active"),i.setAttribute("data-p-ink-active","false"),!ze.getHeight(i)&&!ze.getWidth(i)){var s=Math.max(ze.getOuterWidth(r),ze.getOuterHeight(r));i.style.height=s+"px",i.style.width=s+"px"}var o=ze.getOffset(r),a=e.pageX-o.left+document.body.scrollTop-ze.getWidth(i)/2,l=e.pageY-o.top+document.body.scrollLeft-ze.getHeight(i)/2;i.style.top=l+"px",i.style.left=a+"px",!this.isUnstyled()&&ze.addClass(i,"p-ink-active"),i.setAttribute("data-p-ink-active","true"),this.timeout=setTimeout(function(){i&&(!n.isUnstyled()&&ze.removeClass(i,"p-ink-active"),i.setAttribute("data-p-ink-active","false"))},401)}},onAnimationEnd:function(e){this.timeout&&clearTimeout(this.timeout),!this.isUnstyled()&&ze.removeClass(e.currentTarget,"p-ink-active"),e.currentTarget.setAttribute("data-p-ink-active","false")},getInk:function(e){return e&&e.children?EQ(e.children).find(function(n){return ze.getAttribute(n,"data-pc-name")==="ripple"}):void 0}}});function Fh(t){"@babel/helpers - typeof";return Fh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fh(t)}function Bo(t,e,n){return e=PQ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function PQ(t){var e=OQ(t,"string");return Fh(e)=="symbol"?e:String(e)}function OQ(t,e){if(Fh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Fh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var kQ={root:function(e){var n=e.instance,r=e.props;return["p-button p-component",Bo(Bo(Bo(Bo(Bo(Bo(Bo(Bo({"p-button-icon-only":n.hasIcon&&!r.label&&!r.badge,"p-button-vertical":(r.iconPos==="top"||r.iconPos==="bottom")&&r.label,"p-disabled":n.$attrs.disabled||n.$attrs.disabled===""||r.loading,"p-button-loading":r.loading,"p-button-loading-label-only":r.loading&&!n.hasIcon&&r.label,"p-button-link":r.link},"p-button-".concat(r.severity),r.severity),"p-button-raised",r.raised),"p-button-rounded",r.rounded),"p-button-text",r.text),"p-button-outlined",r.outlined),"p-button-sm",r.size==="small"),"p-button-lg",r.size==="large"),"p-button-plain",r.plain)]},loadingIcon:"p-button-loading-icon pi-spin",icon:function(e){var n=e.props;return["p-button-icon",{"p-button-icon-left":n.iconPos==="left"&&n.label,"p-button-icon-right":n.iconPos==="right"&&n.label,"p-button-icon-top":n.iconPos==="top"&&n.label,"p-button-icon-bottom":n.iconPos==="bottom"&&n.label}]},label:"p-button-label"},RQ=or.extend({name:"button",classes:kQ}),xQ={name:"BaseButton",extends:Ur,props:{label:{type:String,default:null},icon:{type:String,default:null},iconPos:{type:String,default:"left"},iconClass:{type:String,default:null},badge:{type:String,default:null},badgeClass:{type:String,default:null},badgeSeverity:{type:String,default:null},loading:{type:Boolean,default:!1},loadingIcon:{type:String,default:void 0},link:{type:Boolean,default:!1},severity:{type:String,default:null},raised:{type:Boolean,default:!1},rounded:{type:Boolean,default:!1},text:{type:Boolean,default:!1},outlined:{type:Boolean,default:!1},size:{type:String,default:null},plain:{type:Boolean,default:!1}},style:RQ,provide:function(){return{$parentInstance:this}}},Cu={name:"Button",extends:xQ,inheritAttrs:!1,methods:{getPTOptions:function(e){var n=e==="root"?this.ptmi:this.ptm;return n(e,{context:{disabled:this.disabled}})}},computed:{disabled:function(){return this.$attrs.disabled||this.$attrs.disabled===""||this.loading},defaultAriaLabel:function(){return this.label?this.label+(this.badge?" "+this.badge:""):this.$attrs.ariaLabel},hasIcon:function(){return this.icon||this.$slots.icon}},components:{SpinnerIcon:Rf,Badge:TM},directives:{ripple:Cv}},DQ=["aria-label","disabled","data-p-severity"];function NQ(t,e,n,r,i,s){var o=On("SpinnerIcon"),a=On("Badge"),l=$g("ripple");return Fi((D(),H("button",se({class:t.cx("root"),type:"button","aria-label":s.defaultAriaLabel,disabled:s.disabled},s.getPTOptions("root"),{"data-p-severity":t.severity}),[_e(t.$slots,"default",{},function(){return[t.loading?_e(t.$slots,"loadingicon",{key:0,class:Le([t.cx("loadingIcon"),t.cx("icon")])},function(){return[t.loadingIcon?(D(),H("span",se({key:0,class:[t.cx("loadingIcon"),t.cx("icon"),t.loadingIcon]},t.ptm("loadingIcon")),null,16)):(D(),ae(o,se({key:1,class:[t.cx("loadingIcon"),t.cx("icon")],spin:""},t.ptm("loadingIcon")),null,16,["class"]))]}):_e(t.$slots,"icon",{key:1,class:Le([t.cx("icon")])},function(){return[t.icon?(D(),H("span",se({key:0,class:[t.cx("icon"),t.icon,t.iconClass]},t.ptm("icon")),null,16)):J("",!0)]}),v("span",se({class:t.cx("label")},t.ptm("label")),Fe(t.label||""),17),t.badge?(D(),ae(a,se({key:2,value:t.badge,class:t.badgeClass,severity:t.badgeSeverity,unstyled:t.unstyled},t.ptm("badge")),null,16,["value","class","severity","unstyled"])):J("",!0)]})],16,DQ)),[[l]])}Cu.render=NQ;const at=xe({__name:"CustomButton",props:{class:{},activeClass:{},label:{},url:{},route:{},type:{},style:{type:[Boolean,null,String,Object,Array]},action:{},icon:{},outlined:{type:Boolean},list:{type:Boolean},bold:{type:Boolean},loading:{type:Boolean},form:{}},emits:["click"],setup(t){const e=t,n=ee(()=>{switch(e.type){case"primary":return e.outlined?e.list?"button-outlined-list-primary":"button-outlined-primary":"button-primary";case"secondary":return e.outlined?e.list?"button-outlined-list-secondary":"button-outlined-secondary":"button-secondary";case"tertiary":return e.outlined?e.list?"button-outlined-list-tertiary":"button-outlined-tertiary":"button-tertiary";case"neutral":return e.outlined?"button-outlined-neutral":"button-neutral";case"danger":return e.outlined?e.list?"button-outlined-list-danger":"button-outlined-danger":"button-danger";case"green":return e.outlined?"button-outlined-green":"button-green";default:return e.outlined?e.list?"button-outlined-list-primary":"button-outlined-primary":"button-primary"}});return(r,i)=>(D(),ae(oY,{class:Le([n.value,"md:mt-0 py-2 px-4",r.list?"flex flex-column justify-center":"",...P(Ja)(e.class)]),activeClass:r.activeClass,url:r.url,route:r.route},{default:X(({class:s})=>[q(P(Cu),{class:Le(s),type:r.action??"button",form:r.form,label:r.label,style:tr(r.style),icon:r.icon,loading:r.loading,loadingIcon:"pi pi-sync",onClick:i[0]||(i[0]=kt(o=>r.$emit("click"),["stop"]))},{icon:X(()=>[_e(r.$slots,"icon")]),default:X(()=>[_e(r.$slots,"default")]),_:2},1032,["class","type","form","label","style","icon","loading"])]),_:3},8,["class","activeClass","url","route"]))}}),MQ=xe({__name:"NavigationDropDown",props:{isOpen:{type:Boolean},toggle:{type:Function}},setup(t){const e=sr(),{currentUser:n}=Rt(e),{visibleMenuItems:r}=Rt(Fn());return(i,s)=>(D(),H(Pe,null,[Fi(v("div",{class:"md:hidden w-screen h-screen z-10 bg-neutral-900 opacity-25 fixed top-1/2 start-1/2 transform -translate-x-1/2 -translate-y-1/2 animation",onClick:s[0]||(s[0]=(...o)=>i.toggle&&i.toggle(...o))},null,512),[[Ls,i.isOpen]]),Fi(v("div",{class:"md:hidden absolute z-20 w-3/4 start-1/2 transform -translate-x-1/2 mt-12 sm:mt-2 p-4 py-8 bg-neutral-900 border border-primary-600 rounded-primary",onClick:s[1]||(s[1]=(...o)=>i.toggle&&i.toggle(...o))},[(D(!0),H(Pe,null,dt(P(r),o=>(D(),ae(at,{class:"w-full text-lg rounded-none first:rounded-t-primary","active-class":"button-secondary",type:"secondary",outlined:"",list:"",url:o.url,route:o.route,loading:o.loading,label:o.name},null,8,["url","route","loading","label"]))),256)),P(n)?(D(),ae(at,{key:0,class:"w-full text-lg rounded-none first:rounded-t-primary","active-class":"button-tertiary",type:"secondary",outlined:"",list:"",route:P(_n).DASHBOARD,label:"Dashboard"},null,8,["route"])):J("",!0),P(n)?(D(),ae(at,{key:1,class:"w-full text-lg rounded-none rounded-b-primary first:rounded-b-primary",outlined:"",list:"",type:"danger",label:"Logout",onClick:P(e).logout},null,8,["onClick"])):(D(),ae(at,{key:2,class:"w-full text-lg rounded-none rounded-b-primary first:rounded-b-primary","active-class":"button-primary",type:"primary",outlined:"",list:"",route:P(_n).LOGIN,label:"Login"},null,8,["route"]))],512),[[Ls,i.isOpen]])],64))}}),LQ={key:0,class:Le(["flex items-center justify-between flex-wrap gap-3","sm:flex-col","lg:flex-row"])},VQ={key:0,class:"flex justify-between"},$Q=v("p",null,"Menu",-1),FQ=xe({__name:"NavigationMenu",setup(t){const e=sr(),{currentUser:n,isLogoutLoading:r}=Rt(e),{visibleMenuItems:i}=Rt(Fn()),s=ie(),o=ie(!1),a=ie(!1),l=ee(()=>o.value||a.value),u=()=>{o.value=!o.value,o.value&&ir(()=>{var c;(c=s.value)==null||c.scrollIntoView({behavior:"smooth",block:"center"})})};return(c,d)=>P(i).length?(D(),H("div",LQ,[(D(!0),H(Pe,null,dt(P(i),h=>(D(),ae(at,{class:"hidden sm:flex sm:w-full lg:w-auto grow justify-center","active-class":"button-secondary",type:"secondary",outlined:"",url:h.url,route:h.route,loading:h.loading,label:h.name},null,8,["url","route","loading","label"]))),256)),P(n)?J("",!0):(D(),ae(at,{key:0,class:"hidden sm:flex sm:w-full lg:w-auto grow justify-center","active-class":"button-primary",type:"primary",outlined:"",route:P(_n).LOGIN,label:"Login"},null,8,["route"])),P(n)?(D(),ae(at,{key:1,class:"hidden sm:flex sm:w-full lg:w-auto grow justify-center",type:"danger",outlined:"",loading:P(r),onClick:P(e).logout,label:"Logout"},null,8,["loading","onClick"])):J("",!0),v("div",{ref_key:"dropdown",ref:s,class:"dropdown absolute sm:hidden w-full left-0 top-5 flex justify-end"},[v("div",{class:"fixed w-full px-10",onMouseover:d[0]||(d[0]=h=>a.value=!0),onMouseleave:d[1]||(d[1]=h=>a.value=!1)},[v("div",{class:Le(["flex animation",o.value?"justify-center":"justify-end"])},[q(at,{class:Le(["bg-black bg-opacity-50",o.value?"w-full":"w-fit hover:w-full"]),outlined:"",icon:l.value?void 0:"pi pi-align-justify",onClick:u},{default:X(()=>[l.value?(D(),H("div",VQ,[v("i",{class:Le(["pi pi-angle-down animation place-self-center mr-2",{"rotate-180":o.value}])},null,2),$Q])):J("",!0)]),_:1},8,["class","icon"])],2)],32),q(MQ,{"is-open":o.value,toggle:()=>o.value=!o.value},null,8,["is-open","toggle"])],512)])):J("",!0)}}),UQ={class:Le(["z-10","sm:fixed sm:right-0 sm:mt-0 sm:top-5","md:absolute","lg:top-0 lg:right-auto","w-fit md:w-1/3","mb-8 py-8 bg-transparent text-neutral-300","sm:mt-8 sm:mb-0 sm:p-4 sm:bg-neutral-900 sm:bg-opacity-50 sm:rounded-primary sm:rounded-e-none","lg:px-8 lg:mt-0 lg:rounded-br-primary lg:rounded-t-none"])},qQ={key:0,class:"hidden sm:flex justify-center mb-4"},BQ={class:"hidden md:block w-4/5 space-y-2"},jQ={class:"hidden font-semibold text-base md:first:block lg:block first:font-bold first:text-lg"},HQ={class:"ms-3 flex items-center justify-center w-full md:w-3/5 lg:w-1/5"},WQ={key:1},zQ={class:"hidden lg:grid col-span-5 space-y-2 mb-5"},KQ={class:"font-semibold text-base first:font-bold first:text-lg"},GQ=xe({__name:"NavigationCard",setup(t){const e=hf(),{currentUser:n}=Rt(sr()),{content:r}=Rt(Fn());return(i,s)=>{const o=On("RouterLink");return D(),H("div",UQ,[P(n)?(D(),H("div",qQ,[v("div",BQ,[(D(!0),H(Pe,null,dt(P(r).headerDescriptionUser,a=>(D(),H("p",jQ,Fe(a.replace("%USER%",P(n).firstName+(P(n).lastName?" "+P(n).lastName:""))),1))),256))]),v("div",HQ,[q(o,{to:{name:P(_n).DASHBOARD}},{default:X(()=>[v("i",{class:Le(["pi pi-user px-2 py-1 border rounded-primary border-secondary-600 text-neutral-300 animation-scale",{"bg-secondary-600 bg-opacity-75":P(e).name===P(_n).DASHBOARD}]),style:{"font-size":"3rem"}},null,2)]),_:1},8,["to"])])])):(D(),H("div",WQ,[v("div",zQ,[(D(!0),H(Pe,null,dt(P(r).headerDescriptionGuest,a=>(D(),H("p",KQ,Fe(a),1))),256))])])),q(FQ)])}}}),YQ={class:"sm:flex sm:items-start sm:justify-between mb-20"},QQ={class:"w-full sm:w-1/3 lg:flex lg:justify-end"},XQ=xe({__name:"Header",setup(t){return(e,n)=>(D(),H("div",YQ,[q(QC,{class:"hidden sm:block"}),v("div",QQ,[q(GQ)]),q(QC,{class:"sm:hidden"})]))}}),JQ={class:"min-h-screen bg-gradient-to-b from-primary-900 to-black via-neutral-800"},ZQ={class:Le(["mx-0 sm:mx-16 xl:mx-60 px-5 pb-5 sm:p-14 rounded-b-primary","text-white bg-gradient-to-b from-transparent from-10% via-neutral-900 to-black","bg-opacity-50 border-opacity-100"])},Js=xe({__name:"Page",props:{scrollToContent:{type:Boolean,required:!1,default:!0}},setup(t){const e=t,n=hf(),r=ie(),i=()=>{e.scrollToContent&&Gp(r.value)};return cn(()=>n.fullPath,()=>{i()}),Vt(()=>{i()}),(s,o)=>(D(),H(Pe,null,[v("div",JQ,[v("div",ZQ,[v("header",null,[s.$slots.header?_e(s.$slots,"header",{key:0}):(D(),ae(XQ,{key:1}))]),v("main",null,[v("div",{ref_key:"content",ref:r},[_e(s.$slots,"content")],512)])])]),v("footer",null,[s.$slots.footer?_e(s.$slots,"footer",{key:0}):(D(),ae(WG,{key:1}))])],64))}});function eX(t){return sf()?(Ag(t),!0):!1}function X0(t){return typeof t=="function"?t():P(t)}const tX=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;function nX(t,e){var n;if(typeof t=="number")return t+e;const r=((n=t.match(/^-?\d+\.?\d*/))==null?void 0:n[0])||"",i=t.slice(r.length),s=Number.parseFloat(r)+e;return Number.isNaN(s)?t:s+i}const EM=tX?window:void 0;function rX(){const t=ie(!1),e=ts();return e&&Vt(()=>{t.value=!0},e),t}function iX(t){const e=rX();return ee(()=>(e.value,!!t()))}function ud(t,e={}){const{window:n=EM}=e,r=iX(()=>n&&"matchMedia"in n&&typeof n.matchMedia=="function");let i;const s=ie(!1),o=u=>{s.value=u.matches},a=()=>{i&&("removeEventListener"in i?i.removeEventListener("change",o):i.removeListener(o))},l=X_(()=>{r.value&&(a(),i=n.matchMedia(X0(t)),"addEventListener"in i?i.addEventListener("change",o):i.addListener(o),s.value=i.matches)});return eX(()=>{l(),a(),i=void 0}),s}const Fc={sm:640,md:768,lg:1024,xl:1280,"2xl":1536};function Uc(t,e={}){function n(c,d){let h=X0(t[X0(c)]);return d!=null&&(h=nX(h,d)),typeof h=="number"&&(h=`${h}px`),h}const{window:r=EM,strategy:i="min-width"}=e;function s(c){return r?r.matchMedia(c).matches:!1}const o=c=>ud(()=>`(min-width: ${n(c)})`,e),a=c=>ud(()=>`(max-width: ${n(c)})`,e),l=Object.keys(t).reduce((c,d)=>(Object.defineProperty(c,d,{get:()=>i==="min-width"?o(d):a(d),enumerable:!0,configurable:!0}),c),{});function u(){const c=Object.keys(t).map(d=>[d,o(d)]);return ee(()=>c.filter(([,d])=>d.value).map(([d])=>d))}return Object.assign(l,{greaterOrEqual:o,smallerOrEqual:a,greater(c){return ud(()=>`(min-width: ${n(c,.1)})`,e)},smaller(c){return ud(()=>`(max-width: ${n(c,-.1)})`,e)},between(c,d){return ud(()=>`(min-width: ${n(c)}) and (max-width: ${n(d,-.1)})`,e)},isGreater(c){return s(`(min-width: ${n(c,.1)})`)},isGreaterOrEqual(c){return s(`(min-width: ${n(c)})`)},isSmaller(c){return s(`(max-width: ${n(c,-.1)})`)},isSmallerOrEqual(c){return s(`(max-width: ${n(c)})`)},isInBetween(c,d){return s(`(min-width: ${n(c)}) and (max-width: ${n(d,-.1)})`)},current:u,active(){const c=u();return ee(()=>c.value.length===0?"":c.value.at(-1))}})}var sX={root:function(e){var n=e.props;return["p-tag p-component",{"p-tag-info":n.severity==="info","p-tag-success":n.severity==="success","p-tag-warning":n.severity==="warning","p-tag-danger":n.severity==="danger","p-tag-secondary":n.severity==="secondary","p-tag-contrast":n.severity==="contrast","p-tag-rounded":n.rounded}]},icon:"p-tag-icon",value:"p-tag-value"},oX=or.extend({name:"tag",classes:sX}),aX={name:"BaseTag",extends:Ur,props:{value:null,severity:null,rounded:Boolean,icon:String},style:oX,provide:function(){return{$parentInstance:this}}},J0={name:"Tag",extends:aX,inheritAttrs:!1};function lX(t,e,n,r,i,s){return D(),H("span",se({class:t.cx("root")},t.ptmi("root")),[t.$slots.icon?(D(),ae(Mn(t.$slots.icon),se({key:0,class:t.cx("icon")},t.ptm("icon")),null,16,["class"])):t.icon?(D(),H("span",se({key:1,class:[t.cx("icon"),t.icon]},t.ptm("icon")),null,16)):J("",!0),t.value||t.$slots.default?_e(t.$slots,"default",{key:2},function(){return[v("span",se({class:t.cx("value")},t.ptm("value")),Fe(t.value),17)]}):J("",!0)],16)}J0.render=lX;const uX={class:"flex flex-col"},cX={class:"flex justify-between"},dX={class:"xl:flex"},hX={key:0,class:"flex flex-wrap gap-x-2"},fX=["src"],pX=["src"],mX=["href"],gX={key:3,class:"flex flex-wrap gap-2"},vX={key:1,class:"flex gap-2"},yX=["src"],bX=["src"],_X={key:0,class:"xl:mt-2"},Pn=xe({__name:"Bubble",props:{title:{},subTitle:{},tags:{},url:{},route:{},description:{},avatar:{},avatarRoute:{},loading:{type:Boolean},clickable:{type:Boolean},isCollapsed:{type:Boolean},titleProps:{},subTitleProps:{},descriptionProps:{}},emits:["click"],setup(t,{emit:e}){const n=t,r=e,s=Uc(Fc).greaterOrEqual("md"),o=()=>{n.clickable&&r("click")};return(a,l)=>{var c,d,h;const u=On("RouterLink");return D(),H("div",{class:Le(["background-gray-light rounded-secondary p-5",{"md:p-10":!a.isCollapsed,"hover:bg-opacity-30":!!a.url,"animate-pulse":!!a.loading,"cursor-pointer":!!a.clickable&&!!a.isCollapsed}])},[v("div",{class:Le(["group/bubble flex justify-between",{"cursor-pointer":!!a.clickable&&!a.isCollapsed}]),onClick:o},[v("div",uX,[v("div",cX,[v("div",dX,[a.url||a.clickable?(D(),H("div",hX,[a.avatar?(D(),H(Pe,{key:0},[(c=a.avatarRoute)!=null&&c.name?(D(),ae(u,{key:0,to:a.avatarRoute},{default:X(()=>[v("img",{class:"rounded-full h-12 w-12",src:a.avatar},null,8,fX)]),_:1},8,["to"])):(D(),H("img",{key:1,class:"rounded-full h-12 w-12",src:a.avatar},null,8,pX))],64)):J("",!0),(d=a.route)!=null&&d.name?(D(),ae(u,{key:1,class:Le(["text-2xl font-bold mb-2",P(s)?"!no-underline group-hover/bubble:!underline":"!underline group-hover/bubble:!no-underline"]),to:a.route},{default:X(()=>[v("h2",null,Fe(a.title),1)]),_:1},8,["class","to"])):(D(),H("a",{key:2,class:Le(["text-2xl font-bold mb-2",P(s)?"!no-underline group-hover/bubble:!underline":"!underline group-hover/bubble:!no-underline"]),href:a.url},[v("h2",null,Fe(a.title),1)],10,mX)),a.tags?(D(),H("div",gX,[(D(!0),H(Pe,null,dt(a.tags,p=>(D(),ae(P(J0),{class:"h-fit p-2",value:p.value,severity:p.severity,rounded:p.rounded!==!1,icon:p.icon},null,8,["value","severity","rounded","icon"]))),256))])):J("",!0)])):a.title?(D(),H("div",vX,[a.avatar?(D(),H(Pe,{key:0},[(h=a.avatarRoute)!=null&&h.name?(D(),ae(u,{key:0,to:a.avatarRoute},{default:X(()=>[v("img",{class:"rounded-full h-12 w-12",src:a.avatar},null,8,yX)]),_:1},8,["to"])):(D(),H("img",{key:1,class:"rounded-full h-12 w-12",src:a.avatar},null,8,bX))],64)):J("",!0),v("h2",se({class:"text-2xl font-bold mb-2 xl:whitespace-nowrap"},a.titleProps),[K(Fe(a.title)+" ",1),a.tags?(D(!0),H(Pe,{key:0},dt(a.tags,p=>(D(),ae(P(J0),{class:"ms-2",value:p.value,severity:p.severity,rounded:p.rounded!==!1,icon:p.icon},null,8,["value","severity","rounded","icon"]))),256)):J("",!0)],16)])):J("",!0),a.subTitle?(D(),H("p",se({key:2,class:"text-sm text-neutral-300 mt-2 mb-2 xl:ms-2 xl:mt-2 xl:whitespace-nowrap"},a.subTitleProps),Fe(a.subTitle),17)):J("",!0)])]),a.description&&!a.isCollapsed?(D(),H("div",_X,[(D(!0),H(Pe,null,dt(Array.isArray(a.description)?a.description:[a.description],p=>(D(),H("p",se({class:"text-neutral-400 mb-2",ref_for:!0},a.descriptionProps),Fe(p),17))),256))])):J("",!0)]),_e(a.$slots,"right")],2),a.isCollapsed?J("",!0):_e(a.$slots,"default",{key:0})],2)}}}),cd=xe({__name:"CountdownNumber",props:{time:{},animate:{type:Boolean},direction:{}},setup(t){return(e,n)=>(D(),H("span",{class:Le({"animation ease-in animate-timer-up":e.animate&&e.direction==="up","animation ease-in animate-timer-down":e.animate&&e.direction==="down"})},Fe(e.time),3))}}),wX=(t,e)=>{const n=ie(0),r=E=>(e==="up"?E=Math.abs(E):E=Math.max(0,E),Math.floor(E)),i=ee(()=>r(n.value/Bm)),s=ee(()=>n.value%Bm),o=ee(()=>r(s.value/qm)),a=ee(()=>s.value%qm),l=ee(()=>r(a.value/I0)),u=ee(()=>a.value%I0),c=ee(()=>r(u.value/S0)),d=ee(()=>u.value%S0),h=ee(()=>r(d.value/d2)),p=ee(()=>i.value===0&&o.value===0&&l.value===0&&c.value===0&&h.value===0),m=ee(()=>i.value>0),g=ee(()=>i.value>0||o.value>0||p.value),y=ee(()=>i.value>0||o.value>0||l.value>0||p.value),A=ee(()=>i.value>0||o.value>0||l.value>0||c.value>0||p.value),C=ee(()=>i.value>0||o.value>0||l.value>0||c.value>0||h.value>0||p.value),S=()=>{n.value=t-new Date().getTime(),setTimeout(S,1e3)};return Vt(()=>{S()}),{years:i,days:o,hours:l,minutes:c,seconds:h,showYears:m,showDays:g,showHours:y,showMinutes:A,showSeconds:C}},TX=(t,e,n,r,i,s,o)=>{const a=ie(0),l=ee(()=>e.value===0&&n.value===0&&r.value===0&&i.value===0&&s.value===0),u=ee(()=>o==="down"?n.value===364:n.value===0),c=ee(()=>o==="down"?r.value===23:r.value===0),d=ee(()=>o==="down"?i.value===59:i.value===0),h=ee(()=>o==="down"?s.value===59:s.value===0),p=ee(()=>e.value>=0&&u.value&&c.value&&d.value&&h.value),m=ee(()=>n.value>=0&&c.value&&d.value&&h.value),g=ee(()=>r.value>=0&&d.value&&h.value),y=ee(()=>i.value>=0&&h.value),A=ee(()=>!l.value),C=()=>{a.value=t-new Date().getTime(),setTimeout(C,1e3)};return Vt(()=>{C()}),{animateYears:p,animateDays:m,animateHours:g,animateMinutes:y,animateSeconds:A}},EX={class:"grid grid-flow-col text-center"},SX={key:0,class:"flex flex-col py-2 px-1 sm:px-2 bg-neutral rounded-box text-neutral-content rounded-primary"},IX={class:"text-xl sm:text-3xl md:text-3xl lg:text-5xl font-mono font-bold sm:font-normal"},CX={key:1,class:"flex flex-col py-2 px-1 sm:px-2 bg-neutral rounded-box text-neutral-content rounded-primary"},AX={class:"text-xl sm:text-3xl md:text-3xl lg:text-5xl font-mono font-bold sm:font-normal"},PX={key:2,class:"flex flex-col py-2 px-1 sm:px-2 bg-neutral rounded-box text-neutral-content rounded-primary"},OX={class:"text-xl sm:text-3xl md:text-3xl lg:text-5xl font-mono font-bold sm:font-normal"},kX={key:3,class:"flex flex-col py-2 px-1 sm:px-2 bg-neutral rounded-box text-neutral-content rounded-primary"},RX={class:"text-xl sm:text-3xl md:text-3xl lg:text-5xl font-mono font-bold sm:font-normal"},xX={key:4,class:"flex flex-col py-2 px-1 sm:px-2 bg-neutral rounded-box text-neutral-content rounded-primary"},DX={class:"text-xl sm:text-3xl md:text-3xl lg:text-5xl font-mono font-bold sm:font-normal"},Jo=xe({__name:"Countdown",props:{time:{},direction:{},alignment:{}},setup(t){const e=t,{years:n,days:r,hours:i,minutes:s,seconds:o,showYears:a,showDays:l,showHours:u,showMinutes:c,showSeconds:d}=wX(e.time,e.direction),{animateYears:h,animateDays:p,animateHours:m,animateMinutes:g,animateSeconds:y}=TX(e.time,n,r,i,s,o,e.direction);return(A,C)=>(D(),H("div",{class:Le({block:!A.alignment,flex:!!A.alignment,"justify-start":A.alignment==="left","justify-center":A.alignment==="center","justify-end":A.alignment==="right"})},[v("div",EX,[P(a)?(D(),H("div",SX,[v("span",IX,[q(cd,{time:P(n),animate:P(h),direction:A.direction},null,8,["time","animate","direction"])]),K(" years ")])):J("",!0),P(l)?(D(),H("div",CX,[v("span",AX,[q(cd,{time:P(r),animate:P(p),direction:A.direction},null,8,["time","animate","direction"])]),K(" days ")])):J("",!0),P(u)?(D(),H("div",PX,[v("span",OX,[q(cd,{time:P(i),animate:P(m),direction:A.direction},null,8,["time","animate","direction"])]),K(" hrs ")])):J("",!0),P(c)?(D(),H("div",kX,[v("span",RX,[q(cd,{time:P(s),animate:P(g),direction:A.direction},null,8,["time","animate","direction"])]),K(" mins ")])):J("",!0),P(d)?(D(),H("div",xX,[v("span",DX,[q(cd,{time:P(o),animate:P(y),direction:A.direction},null,8,["time","animate","direction"])]),K(" secs ")])):J("",!0)])],2))}}),NX={key:0,class:"text-red-600"},Av=xe({__name:"ErrorMessage",props:{name:{},error:{}},setup(t){return(e,n)=>e.error?(D(),H("p",NX,Fe(e.error),1)):J("",!0)}});var Pv=(t=>(t.Required="Required",t.Numeric="Numeric",t.Min="Min",t.Max="Max",t.Email="Email",t.MinLength="MinLength",t.MaxLength="MaxLength",t.EqualTo="EqualTo",t))(Pv||{});const Nt={Required:{type:"Required",test:({value:t})=>!!t.length,error:()=>"Required"},Numeric:{type:"Numeric",test:({value:t})=>/^-?[0-9]\d*(\.\d+)?$/.test(t),error:()=>"Must be numeric"},Min:{type:"Min",test:({value:t,minValue:e})=>e?Number(t)>=e:!0,error:({minValue:t})=>`Must be at least ${t}`},Max:{type:"Max",test:({value:t,maxValue:e})=>e?Number(t)<=e:!0,error:({maxValue:t})=>`May not be more than ${t}`},Email:{type:"Email",test:({value:t})=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t),error:()=>"Must be an e-mail address"},MinLength:{type:"MinLength",test:({value:t,minLength:e})=>!t.length||t.length>=(e||3),error:({minLength:t})=>`Must be at least ${t} characters`},MaxLength:{type:"MaxLength",test:({value:t,maxLength:e})=>!t.length||t.length<=(e||50),error:({maxLength:t})=>`May not be more than ${t} characters`},EqualTo:{type:"EqualTo",test:({value:t,compare:e})=>!t.length||!e||t===e.value,error:()=>"Fields don't match",compareError:({compare:t})=>t?"Must be equal to "+(t==null?void 0:t.name):""}},SM=xe({__name:"DeleteButton",emits:["click"],setup(t,{emit:e}){return(n,r)=>(D(),ae(at,{class:"w-fit flex justify-center !rounded",type:"danger",outlined:"",icon:"pi pi-trash",onClick:r[0]||(r[0]=i=>n.$emit("click"))}))}}),MX={class:"m-4"},LX=["for"],VX={class:"flex"},ti=xe({__name:"TextField",props:{id:{},name:{},label:{},placeholder:{},modelValue:{},error:{},rules:{},inputProps:{},labelProps:{},minLength:{},maxLength:{},minValue:{},maxValue:{},compare:{},deleteButton:{type:Boolean}},emits:["update:modelValue","update:error","update:delete","click"],setup(t,{expose:e,emit:n}){const r=t,i=ee(()=>{const c=r.modelValue;return c?typeof c=="string"?c.endsWith("  ")?c.trim():c:typeof c=="number"?c||0:c||"":r.modelValue||""}),s=ee(()=>r.label?r.label+((r.rules??[]).some(c=>c.type===Pv.Required)?" *":""):void 0),o=ee(()=>r.name+(r.id?"."+r.id:"")),a=c=>{const d=c.target.value;u("update:modelValue",d),l(d)},l=async c=>{const d=c||i.value,h=r.rules||[];typeof r.minValue=="number"&&h.push(Nt.Min),typeof r.maxValue=="number"&&h.push(Nt.Max),typeof r.minLength=="number"&&h.push(Nt.MinLength),typeof r.maxLength=="number"&&h.push(Nt.MaxLength),r.compare&&h.push(Nt.EqualTo);const p={value:d.toString(),minValue:r.minValue,maxValue:r.maxValue,minLength:r.minLength,maxLength:r.maxLength,compare:r.compare},m=h.filter(g=>!g.test(p)).map(g=>{var y;return((y=g.compareError)==null?void 0:y.call(g,p))||g.error(p)})||[];u("update:error",m[0]||"")},u=n;return e({test:l}),(c,d)=>{var h,p;return D(),H("div",MX,[c.label?(D(),H("label",se({key:0,class:"block text-sm font-bold mb-2",for:o.value},c.labelProps),Fe(s.value),17,LX)):J("",!0),v("div",VX,[(D(),ae(Mn(((h=c.inputProps)==null?void 0:h.type)==="textarea"?"PrimeTextArea":"PrimeInputText"),se({id:o.value,ref:"input",value:i.value,class:"p-input",type:((p=c.inputProps)==null?void 0:p.type)||"text",placeholder:c.placeholder,invalid:!!c.error,onInput:a,onClick:d[0]||(d[0]=kt(m=>u("click"),["stop"]))},c.inputProps),null,16,["id","value","type","placeholder","invalid"])),c.deleteButton?(D(),ae(SM,{key:0,class:"h-fit",onClick:d[1]||(d[1]=m=>u("update:delete"))})):J("",!0)]),c.error?(D(),ae(Av,{key:1,name:c.name,error:c.error},null,8,["name","error"])):J("",!0)])}}}),$X={class:"flex flex-col gap-2"},fA=xe({__name:"BlogReaction",props:{post:{},reaction:{}},setup(t){const e=t,{publicUser:n,isOwner:r}=Rt(sr()),i=Fn(),{deleteBlogReaction:s}=i,{blogReactions:o}=Rt(i),a=ee(()=>o.value.unread.find(d=>d.id===e.reaction.id)),l=ee(()=>{const d=[];return a.value&&d.push({value:"Unread",severity:"warning",rounded:!1}),d}),u=ee(()=>n.value&&e.reaction.user.id===n.value.id||r.value),c=()=>{o.value.unread=o.value.unread.filter(d=>d.id!==e.reaction.id)};return(d,h)=>(D(),ae(Pn,{id:e.reaction.id,class:Le(["p-5 w-full md:w-3/4 xl:w-2/3",e.post.colorTertiary,e.post.opacityTertiary||"bg-opacity-50",{"border border-yellow-400":a.value},"!rounded-primary"]),titleProps:{class:"!text-base mt-1"},descriptionProps:{class:"text-white"},title:e.reaction.user.displayName||"Unknown user",subTitle:P(Oa)(new Date(e.reaction.date)),avatar:e.reaction.user.avatar,avatarRoute:P(r)?{name:P(_n).USER_DETAILS,params:{userId:e.reaction.user.id}}:void 0,description:e.reaction.message,tags:l.value},fr({_:2},[u.value||a.value?{name:"right",fn:X(()=>[v("div",$X,[u.value&&!e.post.locked?(D(),ae(at,{key:0,type:"danger",outlined:"",class:"h-fit",label:"Delete",onClick:h[0]||(h[0]=p=>P(s)(e.reaction.id,e.post))})):J("",!0),a.value?(D(),ae(at,{key:1,type:"tertiary",outlined:"",class:"h-fit",label:"Mark as read",onClick:c})):J("",!0)])]),key:"0"}:void 0]),1032,["id","class","title","subTitle","avatar","avatarRoute","description","tags"]))}}),FX={class:"grid justify-items-center p-5 gap-5"},UX=xe({__name:"BlogReactions",props:{post:{}},setup(t){const e=t,{publicUser:n}=Rt(sr()),r=Fn(),{content:i}=Rt(r),{createBlogReaction:s}=r,o=ie(),a=ie(!1),l=Pr({reaction:{value:"",error:""}}),u=ee(()=>[...e.post.reactions].reverse()),c=ee(()=>u.value.filter((m,g)=>g<3)),d=ee(()=>u.value.filter((m,g)=>g>=3)),h=ee(()=>e.post.locked||!n.value),p=async()=>{await o.value.test(),!l.reaction.error&&n.value&&await s(e.post,{userId:n.value.id,postId:e.post.id,message:l.reaction.value,date:new Date})&&(l.reaction.value=""),k7()};return(m,g)=>(D(),H("form",{action:"",onSubmit:kt(p,["prevent"])},[v("div",FX,[!P(n)||m.post.reactions.filter(y=>y.user.id===P(n).id).length<20?(D(),ae(Pn,{key:0,class:Le(["p-5 flex justify-center w-full md:w-3/4 xl:w-2/3","!rounded-primary",m.post.colorTertiary||"bg-secondary-700",m.post.opacityTertiary||"bg-opacity-25"])},{default:X(()=>[q(ti,{class:"w-5/6",id:m.post.id,inputProps:{class:["rounded-primary border-none !placeholder-gray-300",m.post.colorSecondary||m.post.colorPrimary||"bg-secondary-600",m.post.opacitySecondary||"!bg-opacity-20",h.value?"!bg-gray-900 !bg-opacity-50":"focus:!text-white focus:!placeholder-gray-200",{"cursor-pointer":!P(n)&&!m.post.locked}],disabled:h.value},ref_key:"reaction",ref:o,name:"reaction",placeholder:m.post.locked?"Locked for comments":P(n)?"Reply":P(i).blogLoginGuest,modelValue:l.reaction.value,"onUpdate:modelValue":g[0]||(g[0]=y=>l.reaction.value=y),error:l.reaction.error,"onUpdate:error":g[1]||(g[1]=y=>l.reaction.error=y),rules:[P(Nt).Required],onClick:g[2]||(g[2]=()=>!P(n)&&!m.post.locked?P(Wh).push({name:P(_n).LOGIN}):{})},null,8,["id","inputProps","placeholder","modelValue","error","rules"])]),_:1},8,["class"])):J("",!0),(D(!0),H(Pe,null,dt(c.value,y=>(D(),ae(fA,{post:m.post,reaction:y},null,8,["post","reaction"]))),256)),(D(!0),H(Pe,null,dt(d.value,y=>Fi((D(),ae(fA,{post:m.post,reaction:y},null,8,["post","reaction"])),[[Ls,a.value]])),256)),m.post.reactions.length>3?(D(),ae(at,{key:1,type:"primary",outlined:"",icon:a.value?"pi pi-angle-up":"pi pi-angle-down",label:a.value?"Hide older reactions":"View older reactions",onClick:g[3]||(g[3]=y=>a.value=!a.value)},null,8,["icon","label"])):J("",!0)])],32))}});var Ov={name:"ChevronDownIcon",extends:Fa},qX=v("path",{d:"M7.01744 10.398C6.91269 10.3985 6.8089 10.378 6.71215 10.3379C6.61541 10.2977 6.52766 10.2386 6.45405 10.1641L1.13907 4.84913C1.03306 4.69404 0.985221 4.5065 1.00399 4.31958C1.02276 4.13266 1.10693 3.95838 1.24166 3.82747C1.37639 3.69655 1.55301 3.61742 1.74039 3.60402C1.92777 3.59062 2.11386 3.64382 2.26584 3.75424L7.01744 8.47394L11.769 3.75424C11.9189 3.65709 12.097 3.61306 12.2748 3.62921C12.4527 3.64535 12.6199 3.72073 12.7498 3.84328C12.8797 3.96582 12.9647 4.12842 12.9912 4.30502C13.0177 4.48162 12.9841 4.662 12.8958 4.81724L7.58083 10.1322C7.50996 10.2125 7.42344 10.2775 7.32656 10.3232C7.22968 10.3689 7.12449 10.3944 7.01744 10.398Z",fill:"currentColor"},null,-1),BX=[qX];function jX(t,e,n,r,i,s){return D(),H("svg",se({width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t.pti()),BX,16)}Ov.render=jX;var IM={name:"ChevronRightIcon",extends:Fa},HX=v("path",{d:"M4.38708 13C4.28408 13.0005 4.18203 12.9804 4.08691 12.9409C3.99178 12.9014 3.9055 12.8433 3.83313 12.7701C3.68634 12.6231 3.60388 12.4238 3.60388 12.2161C3.60388 12.0084 3.68634 11.8091 3.83313 11.6622L8.50507 6.99022L3.83313 2.31827C3.69467 2.16968 3.61928 1.97313 3.62287 1.77005C3.62645 1.56698 3.70872 1.37322 3.85234 1.22959C3.99596 1.08597 4.18972 1.00371 4.3928 1.00012C4.59588 0.996539 4.79242 1.07192 4.94102 1.21039L10.1669 6.43628C10.3137 6.58325 10.3962 6.78249 10.3962 6.99022C10.3962 7.19795 10.3137 7.39718 10.1669 7.54416L4.94102 12.7701C4.86865 12.8433 4.78237 12.9014 4.68724 12.9409C4.59212 12.9804 4.49007 13.0005 4.38708 13Z",fill:"currentColor"},null,-1),WX=[HX];function zX(t,e,n,r,i,s){return D(),H("svg",se({width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t.pti()),WX,16)}IM.render=zX;var KX={root:"p-accordion p-component",tab:{root:function(e){var n=e.instance,r=e.index;return["p-accordion-tab",{"p-accordion-tab-active":n.isTabActive(r)}]},header:function(e){var n=e.instance,r=e.tab,i=e.index;return["p-accordion-header",{"p-highlight":n.isTabActive(i),"p-disabled":n.getTabProp(r,"disabled")}]},headerAction:"p-accordion-header-link p-accordion-header-action",headerIcon:"p-accordion-toggle-icon",headerTitle:"p-accordion-header-text",toggleableContent:"p-toggleable-content",content:"p-accordion-content"}},GX=or.extend({name:"accordion",classes:KX}),YX={name:"BaseAccordion",extends:Ur,props:{multiple:{type:Boolean,default:!1},activeIndex:{type:[Number,Array],default:null},lazy:{type:Boolean,default:!1},expandIcon:{type:String,default:void 0},collapseIcon:{type:String,default:void 0},tabindex:{type:Number,default:0},selectOnFocus:{type:Boolean,default:!1}},style:GX,provide:function(){return{$parentInstance:this}}},er={name:"Accordion",extends:YX,inheritAttrs:!1,emits:["update:activeIndex","tab-open","tab-close","tab-click"],data:function(){return{id:this.$attrs.id,d_activeIndex:this.activeIndex}},watch:{"$attrs.id":function(e){this.id=e||vc()},activeIndex:function(e){this.d_activeIndex=e}},mounted:function(){this.id=this.id||vc()},methods:{isAccordionTab:function(e){return e.type.name==="AccordionTab"},isTabActive:function(e){return this.multiple?this.d_activeIndex&&this.d_activeIndex.includes(e):this.d_activeIndex===e},getTabProp:function(e,n){return e.props?e.props[n]:void 0},getKey:function(e,n){return this.getTabProp(e,"header")||n},getTabHeaderActionId:function(e){return"".concat(this.id,"_").concat(e,"_header_action")},getTabContentId:function(e){return"".concat(this.id,"_").concat(e,"_content")},getTabPT:function(e,n,r){var i=this.tabs.length,s={props:e.props||{},parent:{instance:this,props:this.$props,state:this.$data},context:{index:r,count:i,first:r===0,last:r===i-1,active:this.isTabActive(r)}};return se(this.ptm("tab.".concat(n),{tab:s}),this.ptm("accordiontab.".concat(n),{accordiontab:s}),this.ptm("accordiontab.".concat(n),s),this.ptmo(this.getTabProp(e,"pt"),n,s))},onTabClick:function(e,n,r){this.changeActiveIndex(e,n,r),this.$emit("tab-click",{originalEvent:e,index:r})},onTabKeyDown:function(e,n,r){switch(e.code){case"ArrowDown":this.onTabArrowDownKey(e);break;case"ArrowUp":this.onTabArrowUpKey(e);break;case"Home":this.onTabHomeKey(e);break;case"End":this.onTabEndKey(e);break;case"Enter":case"NumpadEnter":case"Space":this.onTabEnterKey(e,n,r);break}},onTabArrowDownKey:function(e){var n=this.findNextHeaderAction(e.target.parentElement.parentElement);n?this.changeFocusedTab(e,n):this.onTabHomeKey(e),e.preventDefault()},onTabArrowUpKey:function(e){var n=this.findPrevHeaderAction(e.target.parentElement.parentElement);n?this.changeFocusedTab(e,n):this.onTabEndKey(e),e.preventDefault()},onTabHomeKey:function(e){var n=this.findFirstHeaderAction();this.changeFocusedTab(e,n),e.preventDefault()},onTabEndKey:function(e){var n=this.findLastHeaderAction();this.changeFocusedTab(e,n),e.preventDefault()},onTabEnterKey:function(e,n,r){this.changeActiveIndex(e,n,r),e.preventDefault()},findNextHeaderAction:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,r=n?e:e.nextElementSibling,i=ze.findSingle(r,'[data-pc-section="header"]');return i?ze.getAttribute(i,"data-p-disabled")?this.findNextHeaderAction(i.parentElement):ze.findSingle(i,'[data-pc-section="headeraction"]'):null},findPrevHeaderAction:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,r=n?e:e.previousElementSibling,i=ze.findSingle(r,'[data-pc-section="header"]');return i?ze.getAttribute(i,"data-p-disabled")?this.findPrevHeaderAction(i.parentElement):ze.findSingle(i,'[data-pc-section="headeraction"]'):null},findFirstHeaderAction:function(){return this.findNextHeaderAction(this.$el.firstElementChild,!0)},findLastHeaderAction:function(){return this.findPrevHeaderAction(this.$el.lastElementChild,!0)},changeActiveIndex:function(e,n,r){if(!this.getTabProp(n,"disabled")){var i=this.isTabActive(r),s=i?"tab-close":"tab-open";this.multiple?i?this.d_activeIndex=this.d_activeIndex.filter(function(o){return o!==r}):this.d_activeIndex?this.d_activeIndex.push(r):this.d_activeIndex=[r]:this.d_activeIndex=this.d_activeIndex===r?null:r,this.$emit("update:activeIndex",this.d_activeIndex),this.$emit(s,{originalEvent:e,index:r})}},changeFocusedTab:function(e,n){if(n&&(ze.focus(n),this.selectOnFocus)){var r=parseInt(n.parentElement.parentElement.dataset.pcIndex,10),i=this.tabs[r];this.changeActiveIndex(e,i,r)}}},computed:{tabs:function(){var e=this;return this.$slots.default().reduce(function(n,r){return e.isAccordionTab(r)?n.push(r):r.children&&r.children instanceof Array&&r.children.forEach(function(i){e.isAccordionTab(i)&&n.push(i)}),n},[])}},components:{ChevronDownIcon:Ov,ChevronRightIcon:IM},directives:{ripple:Cv}};function Uh(t){"@babel/helpers - typeof";return Uh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Uh(t)}function pA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function su(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?pA(Object(n),!0).forEach(function(r){QX(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):pA(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function QX(t,e,n){return e=XX(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function XX(t){var e=JX(t,"string");return Uh(e)=="symbol"?e:String(e)}function JX(t,e){if(Uh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Uh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ZX=["data-pc-index","data-p-active"],eJ=["data-p-highlight","data-p-disabled"],tJ=["id","tabindex","aria-disabled","aria-expanded","aria-controls","onClick","onKeydown"],nJ=["id","aria-labelledby"];function rJ(t,e,n,r,i,s){return D(),H("div",se({class:t.cx("root")},t.ptmi("root")),[(D(!0),H(Pe,null,dt(s.tabs,function(o,a){return D(),H("div",se({key:s.getKey(o,a),class:t.cx("tab.root",{tab:o,index:a})},s.getTabPT(o,"root",a),{"data-pc-name":"accordiontab","data-pc-index":a,"data-p-active":s.isTabActive(a)}),[v("div",se({style:s.getTabProp(o,"headerStyle"),class:[t.cx("tab.header",{tab:o,index:a}),s.getTabProp(o,"headerClass")]},su(su({},s.getTabProp(o,"headerProps")),s.getTabPT(o,"header",a)),{"data-p-highlight":s.isTabActive(a),"data-p-disabled":s.getTabProp(o,"disabled")}),[v("a",se({id:s.getTabHeaderActionId(a),class:t.cx("tab.headerAction"),tabindex:s.getTabProp(o,"disabled")?-1:t.tabindex,role:"button","aria-disabled":s.getTabProp(o,"disabled"),"aria-expanded":s.isTabActive(a),"aria-controls":s.getTabContentId(a),onClick:function(u){return s.onTabClick(u,o,a)},onKeydown:function(u){return s.onTabKeyDown(u,o,a)}},su(su({},s.getTabProp(o,"headeractionprops")),s.getTabPT(o,"headeraction",a))),[o.children&&o.children.headericon?(D(),ae(Mn(o.children.headericon),{key:0,isTabActive:s.isTabActive(a),active:s.isTabActive(a),index:a},null,8,["isTabActive","active","index"])):s.isTabActive(a)?(D(),ae(Mn(t.$slots.collapseicon?t.$slots.collapseicon:t.collapseIcon?"span":"ChevronDownIcon"),se({key:1,class:[t.cx("tab.headerIcon"),t.collapseIcon],"aria-hidden":"true"},s.getTabPT(o,"headericon",a)),null,16,["class"])):(D(),ae(Mn(t.$slots.expandicon?t.$slots.expandicon:t.expandIcon?"span":"ChevronRightIcon"),se({key:2,class:[t.cx("tab.headerIcon"),t.expandIcon],"aria-hidden":"true"},s.getTabPT(o,"headericon",a)),null,16,["class"])),o.props&&o.props.header?(D(),H("span",se({key:3,class:t.cx("tab.headerTitle")},s.getTabPT(o,"headertitle",a)),Fe(o.props.header),17)):J("",!0),o.children&&o.children.header?(D(),ae(Mn(o.children.header),{key:4})):J("",!0)],16,tJ)],16,eJ),q(ns,se({name:"p-toggleable-content"},s.getTabPT(o,"transition",a)),{default:X(function(){return[!t.lazy||s.isTabActive(a)?Fi((D(),H("div",se({key:0,id:s.getTabContentId(a),style:s.getTabProp(o,"contentStyle"),class:[t.cx("tab.toggleableContent"),s.getTabProp(o,"contentClass")],role:"region","aria-labelledby":s.getTabHeaderActionId(a)},su(su({},s.getTabProp(o,"contentProps")),s.getTabPT(o,"toggleablecontent",a))),[v("div",se({class:t.cx("tab.content")},s.getTabPT(o,"content",a)),[(D(),ae(Mn(o)))],16)],16,nJ)),[[Ls,t.lazy?!0:s.isTabActive(a)]]):J("",!0)]}),_:2},1040)],16,ZX)}),128))],16)}er.render=rJ;var iJ={},sJ={name:"BaseAccordionTab",extends:Ur,props:{header:null,headerStyle:null,headerClass:null,headerProps:null,headerActionProps:null,contentStyle:null,contentClass:null,contentProps:null,disabled:Boolean},style:iJ,provide:function(){return{$parentInstance:this}}},Ve={name:"AccordionTab",extends:sJ,inheritAttrs:!1};function oJ(t,e,n,r,i,s){return _e(t.$slots,"default")}Ve.render=oJ;var H1={name:"TimesCircleIcon",extends:Fa},aJ=v("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M7 14C5.61553 14 4.26215 13.5895 3.11101 12.8203C1.95987 12.0511 1.06266 10.9579 0.532846 9.67879C0.00303296 8.3997 -0.13559 6.99224 0.134506 5.63437C0.404603 4.2765 1.07129 3.02922 2.05026 2.05026C3.02922 1.07129 4.2765 0.404603 5.63437 0.134506C6.99224 -0.13559 8.3997 0.00303296 9.67879 0.532846C10.9579 1.06266 12.0511 1.95987 12.8203 3.11101C13.5895 4.26215 14 5.61553 14 7C14 8.85652 13.2625 10.637 11.9497 11.9497C10.637 13.2625 8.85652 14 7 14ZM7 1.16667C5.84628 1.16667 4.71846 1.50879 3.75918 2.14976C2.79989 2.79074 2.05222 3.70178 1.61071 4.76768C1.16919 5.83358 1.05367 7.00647 1.27876 8.13803C1.50384 9.26958 2.05941 10.309 2.87521 11.1248C3.69102 11.9406 4.73042 12.4962 5.86198 12.7212C6.99353 12.9463 8.16642 12.8308 9.23232 12.3893C10.2982 11.9478 11.2093 11.2001 11.8502 10.2408C12.4912 9.28154 12.8333 8.15373 12.8333 7C12.8333 5.45291 12.2188 3.96918 11.1248 2.87521C10.0308 1.78125 8.5471 1.16667 7 1.16667ZM4.66662 9.91668C4.58998 9.91704 4.51404 9.90209 4.44325 9.87271C4.37246 9.84333 4.30826 9.8001 4.2544 9.74557C4.14516 9.6362 4.0838 9.48793 4.0838 9.33335C4.0838 9.17876 4.14516 9.0305 4.2544 8.92113L6.17553 7L4.25443 5.07891C4.15139 4.96832 4.09529 4.82207 4.09796 4.67094C4.10063 4.51982 4.16185 4.37563 4.26872 4.26876C4.3756 4.16188 4.51979 4.10066 4.67091 4.09799C4.82204 4.09532 4.96829 4.15142 5.07887 4.25446L6.99997 6.17556L8.92106 4.25446C9.03164 4.15142 9.1779 4.09532 9.32903 4.09799C9.48015 4.10066 9.62434 4.16188 9.73121 4.26876C9.83809 4.37563 9.89931 4.51982 9.90198 4.67094C9.90464 4.82207 9.84855 4.96832 9.74551 5.07891L7.82441 7L9.74554 8.92113C9.85478 9.0305 9.91614 9.17876 9.91614 9.33335C9.91614 9.48793 9.85478 9.6362 9.74554 9.74557C9.69168 9.8001 9.62748 9.84333 9.55669 9.87271C9.4859 9.90209 9.40996 9.91704 9.33332 9.91668C9.25668 9.91704 9.18073 9.90209 9.10995 9.87271C9.03916 9.84333 8.97495 9.8001 8.9211 9.74557L6.99997 7.82444L5.07884 9.74557C5.02499 9.8001 4.96078 9.84333 4.88999 9.87271C4.81921 9.90209 4.74326 9.91704 4.66662 9.91668Z",fill:"currentColor"},null,-1),lJ=[aJ];function uJ(t,e,n,r,i,s){return D(),H("svg",se({width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t.pti()),lJ,16)}H1.render=uJ;var cJ={root:function(e){var n=e.props;return["p-chip p-component",{"p-chip-image":n.image!=null}]},icon:"p-chip-icon",label:"p-chip-text",removeIcon:"p-chip-remove-icon"},dJ=or.extend({name:"chip",classes:cJ}),hJ={name:"BaseChip",extends:Ur,props:{label:{type:String,default:null},icon:{type:String,default:null},image:{type:String,default:null},removable:{type:Boolean,default:!1},removeIcon:{type:String,default:void 0}},style:dJ,provide:function(){return{$parentInstance:this}}},W1={name:"Chip",extends:hJ,inheritAttrs:!1,emits:["remove"],data:function(){return{visible:!0}},methods:{onKeydown:function(e){(e.key==="Enter"||e.key==="Backspace")&&this.close(e)},close:function(e){this.visible=!1,this.$emit("remove",e)}},components:{TimesCircleIcon:H1}},fJ=["aria-label"],pJ=["src"];function mJ(t,e,n,r,i,s){return i.visible?(D(),H("div",se({key:0,class:t.cx("root"),"aria-label":t.label},t.ptmi("root")),[_e(t.$slots,"default",{},function(){return[t.image?(D(),H("img",se({key:0,src:t.image},t.ptm("image")),null,16,pJ)):t.$slots.icon?(D(),ae(Mn(t.$slots.icon),se({key:1,class:t.cx("icon")},t.ptm("icon")),null,16,["class"])):t.icon?(D(),H("span",se({key:2,class:[t.cx("icon"),t.icon]},t.ptm("icon")),null,16)):J("",!0),t.label?(D(),H("div",se({key:3,class:t.cx("label")},t.ptm("label")),Fe(t.label),17)):J("",!0)]}),t.removable?_e(t.$slots,"removeicon",{key:0,onClick:s.close,onKeydown:s.onKeydown,removeCallback:s.close,keydownCallback:s.onKeydown},function(){return[(D(),ae(Mn(t.removeIcon?"span":"TimesCircleIcon"),se({tabindex:"0",class:[t.cx("removeIcon"),t.removeIcon],onClick:s.close,onKeydown:s.onKeydown},t.ptm("removeIcon")),null,16,["class","onClick","onKeydown"]))]}):J("",!0)],16,fJ)):J("",!0)}W1.render=mJ;const gJ=xe({__name:"BlogPostBullets",props:{bullets:{},alignment:{}},setup(t){return(e,n)=>(D(),H("div",null,[v("div",{class:Le({block:!e.alignment,flex:!!e.alignment,"justify-start":e.alignment==="left","justify-center":e.alignment==="center","justify-end":e.alignment==="right"})},[v("ul",{class:Le(["list-disc",{"ms-5":e.alignment==="left"}])},[(D(!0),H(Pe,null,dt(e.bullets,r=>(D(),H("li",null,Fe(r),1))),256))],2)],2)]))}}),vJ={class:"ql-editor"},yJ=["innerHTML"],em=xe({__name:"BlogPostDescription",props:{description:{}},setup(t){return(e,n)=>(D(),H("div",vJ,[v("div",{innerHTML:e.description},null,8,yJ)]))}});/*!
 * Viewer.js v1.11.6
 * https://fengyuanchen.github.io/viewerjs
 *
 * Copyright 2015-present Chen Fengyuan
 * Released under the MIT license
 *
 * Date: 2023-09-17T03:16:38.052Z
 */function mA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function z1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?mA(Object(n),!0).forEach(function(r){wJ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):mA(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Z0(t){"@babel/helpers - typeof";return Z0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Z0(t)}function bJ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function gA(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,CM(r.key),r)}}function _J(t,e,n){return e&&gA(t.prototype,e),n&&gA(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function wJ(t,e,n){return e=CM(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function TJ(t,e){if(typeof t!="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function CM(t){var e=TJ(t,"string");return typeof e=="symbol"?e:String(e)}var vA={backdrop:!0,button:!0,navbar:!0,title:!0,toolbar:!0,className:"",container:"body",filter:null,fullscreen:!0,inheritedAttributes:["crossOrigin","decoding","isMap","loading","referrerPolicy","sizes","srcset","useMap"],initialCoverage:.9,initialViewIndex:0,inline:!1,interval:5e3,keyboard:!0,focus:!0,loading:!0,loop:!0,minWidth:200,minHeight:100,movable:!0,rotatable:!0,scalable:!0,zoomable:!0,zoomOnTouch:!0,zoomOnWheel:!0,slideOnTouch:!0,toggleOnDblclick:!0,tooltip:!0,transition:!0,zIndex:2015,zIndexInline:0,zoomRatio:.1,minZoomRatio:.01,maxZoomRatio:100,url:"src",ready:null,show:null,shown:null,hide:null,hidden:null,view:null,viewed:null,move:null,moved:null,rotate:null,rotated:null,scale:null,scaled:null,zoom:null,zoomed:null,play:null,stop:null},EJ='<div class="viewer-container" tabindex="-1" touch-action="none"><div class="viewer-canvas"></div><div class="viewer-footer"><div class="viewer-title"></div><div class="viewer-toolbar"></div><div class="viewer-navbar"><ul class="viewer-list" role="navigation"></ul></div></div><div class="viewer-tooltip" role="alert" aria-hidden="true"></div><div class="viewer-button" data-viewer-action="mix" role="button"></div><div class="viewer-player"></div></div>',kv=typeof window<"u"&&typeof window.document<"u",Oo=kv?window:{},Yu=kv&&Oo.document.documentElement?"ontouchstart"in Oo.document.documentElement:!1,K1=kv?"PointerEvent"in Oo:!1,Ct="viewer",tm="move",AM="switch",Od="zoom",Ap="".concat(Ct,"-active"),SJ="".concat(Ct,"-close"),nm="".concat(Ct,"-fade"),e_="".concat(Ct,"-fixed"),IJ="".concat(Ct,"-fullscreen"),yA="".concat(Ct,"-fullscreen-exit"),sl="".concat(Ct,"-hide"),CJ="".concat(Ct,"-hide-md-down"),AJ="".concat(Ct,"-hide-sm-down"),PJ="".concat(Ct,"-hide-xs-down"),Hi="".concat(Ct,"-in"),Zd="".concat(Ct,"-invisible"),Qu="".concat(Ct,"-loading"),OJ="".concat(Ct,"-move"),bA="".concat(Ct,"-open"),ou="".concat(Ct,"-show"),Yn="".concat(Ct,"-transition"),yc="click",t_="dblclick",_A="dragstart",wA="focusin",TA="keydown",Gi="load",vl="error",kJ=Yu?"touchend touchcancel":"mouseup",RJ=Yu?"touchmove":"mousemove",xJ=Yu?"touchstart":"mousedown",EA=K1?"pointerdown":xJ,SA=K1?"pointermove":RJ,IA=K1?"pointerup pointercancel":kJ,CA="resize",ls="transitionend",AA="wheel",PA="ready",OA="show",kA="shown",RA="hide",xA="hidden",DA="view",qh="viewed",NA="move",MA="moved",LA="rotate",VA="rotated",$A="scale",FA="scaled",UA="zoom",qA="zoomed",BA="play",jA="stop",og="".concat(Ct,"Action"),G1=/\s\s*/,Pp=["zoom-in","zoom-out","one-to-one","reset","prev","play","next","rotate-left","rotate-right","flip-horizontal","flip-vertical"];function Bh(t){return typeof t=="string"}var DJ=Number.isNaN||Oo.isNaN;function Bn(t){return typeof t=="number"&&!DJ(t)}function Au(t){return typeof t>"u"}function bc(t){return Z0(t)==="object"&&t!==null}var NJ=Object.prototype.hasOwnProperty;function Pu(t){if(!bc(t))return!1;try{var e=t.constructor,n=e.prototype;return e&&n&&NJ.call(n,"isPrototypeOf")}catch{return!1}}function fn(t){return typeof t=="function"}function bn(t,e){if(t&&fn(e))if(Array.isArray(t)||Bn(t.length)){var n=t.length,r;for(r=0;r<n&&e.call(t,t[r],r,t)!==!1;r+=1);}else bc(t)&&Object.keys(t).forEach(function(i){e.call(t,t[i],i,t)});return t}var Li=Object.assign||function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return bc(e)&&r.length>0&&r.forEach(function(s){bc(s)&&Object.keys(s).forEach(function(o){e[o]=s[o]})}),e},MJ=/^(?:width|height|left|top|marginLeft|marginTop)$/;function ms(t,e){var n=t.style;bn(e,function(r,i){MJ.test(i)&&Bn(r)&&(r+="px"),n[i]=r})}function LJ(t){return Bh(t)?t.replace(/&(?!amp;|quot;|#39;|lt;|gt;)/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;"):t}function yu(t,e){return!t||!e?!1:t.classList?t.classList.contains(e):t.className.indexOf(e)>-1}function vt(t,e){if(!(!t||!e)){if(Bn(t.length)){bn(t,function(r){vt(r,e)});return}if(t.classList){t.classList.add(e);return}var n=t.className.trim();n?n.indexOf(e)<0&&(t.className="".concat(n," ").concat(e)):t.className=e}}function en(t,e){if(!(!t||!e)){if(Bn(t.length)){bn(t,function(n){en(n,e)});return}if(t.classList){t.classList.remove(e);return}t.className.indexOf(e)>=0&&(t.className=t.className.replace(e,""))}}function jh(t,e,n){if(e){if(Bn(t.length)){bn(t,function(r){jh(r,e,n)});return}n?vt(t,e):en(t,e)}}var VJ=/([a-z\d])([A-Z])/g;function Y1(t){return t.replace(VJ,"$1-$2").toLowerCase()}function Ou(t,e){return bc(t[e])?t[e]:t.dataset?t.dataset[e]:t.getAttribute("data-".concat(Y1(e)))}function n_(t,e,n){bc(n)?t[e]=n:t.dataset?t.dataset[e]=n:t.setAttribute("data-".concat(Y1(e)),n)}var PM=function(){var t=!1;if(kv){var e=!1,n=function(){},r=Object.defineProperty({},"once",{get:function(){return t=!0,e},set:function(s){e=s}});Oo.addEventListener("test",n,r),Oo.removeEventListener("test",n,r)}return t}();function pn(t,e,n){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},i=n;e.trim().split(G1).forEach(function(s){if(!PM){var o=t.listeners;o&&o[s]&&o[s][n]&&(i=o[s][n],delete o[s][n],Object.keys(o[s]).length===0&&delete o[s],Object.keys(o).length===0&&delete t.listeners)}t.removeEventListener(s,i,r)})}function wt(t,e,n){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},i=n;e.trim().split(G1).forEach(function(s){if(r.once&&!PM){var o=t.listeners,a=o===void 0?{}:o;i=function(){delete a[s][n],t.removeEventListener(s,i,r);for(var u=arguments.length,c=new Array(u),d=0;d<u;d++)c[d]=arguments[d];n.apply(t,c)},a[s]||(a[s]={}),a[s][n]&&t.removeEventListener(s,a[s][n],r),a[s][n]=i,t.listeners=a}t.addEventListener(s,i,r)})}function Jn(t,e,n,r){var i;return fn(Event)&&fn(CustomEvent)?i=new CustomEvent(e,z1({bubbles:!0,cancelable:!0,detail:n},r)):(i=document.createEvent("CustomEvent"),i.initCustomEvent(e,!0,!0,n)),t.dispatchEvent(i)}function $J(t){var e=t.getBoundingClientRect();return{left:e.left+(window.pageXOffset-document.documentElement.clientLeft),top:e.top+(window.pageYOffset-document.documentElement.clientTop)}}function rm(t){var e=t.rotate,n=t.scaleX,r=t.scaleY,i=t.translateX,s=t.translateY,o=[];Bn(i)&&i!==0&&o.push("translateX(".concat(i,"px)")),Bn(s)&&s!==0&&o.push("translateY(".concat(s,"px)")),Bn(e)&&e!==0&&o.push("rotate(".concat(e,"deg)")),Bn(n)&&n!==1&&o.push("scaleX(".concat(n,")")),Bn(r)&&r!==1&&o.push("scaleY(".concat(r,")"));var a=o.length?o.join(" "):"none";return{WebkitTransform:a,msTransform:a,transform:a}}function FJ(t){return Bh(t)?decodeURIComponent(t.replace(/^.*\//,"").replace(/[?&#].*$/,"")):""}var zy=Oo.navigator&&/Version\/\d+(\.\d+)+?\s+Safari/i.test(Oo.navigator.userAgent);function OM(t,e,n){var r=document.createElement("img");if(t.naturalWidth&&!zy)return n(t.naturalWidth,t.naturalHeight),r;var i=document.body||document.documentElement;return r.onload=function(){n(r.width,r.height),zy||i.removeChild(r)},bn(e.inheritedAttributes,function(s){var o=t.getAttribute(s);o!==null&&r.setAttribute(s,o)}),r.src=t.src,zy||(r.style.cssText="left:0;max-height:none!important;max-width:none!important;min-height:0!important;min-width:0!important;opacity:0;position:absolute;top:0;z-index:-1;",i.appendChild(r)),r}function Op(t){switch(t){case 2:return PJ;case 3:return AJ;case 4:return CJ;default:return""}}function UJ(t){var e=z1({},t),n=[];return bn(t,function(r,i){delete e[i],bn(e,function(s){var o=Math.abs(r.startX-s.startX),a=Math.abs(r.startY-s.startY),l=Math.abs(r.endX-s.endX),u=Math.abs(r.endY-s.endY),c=Math.sqrt(o*o+a*a),d=Math.sqrt(l*l+u*u),h=(d-c)/c;n.push(h)})}),n.sort(function(r,i){return Math.abs(r)<Math.abs(i)}),n[0]}function kp(t,e){var n=t.pageX,r=t.pageY,i={endX:n,endY:r};return e?i:z1({timeStamp:Date.now(),startX:n,startY:r},i)}function qJ(t){var e=0,n=0,r=0;return bn(t,function(i){var s=i.startX,o=i.startY;e+=s,n+=o,r+=1}),e/=r,n/=r,{pageX:e,pageY:n}}var BJ={render:function(){this.initContainer(),this.initViewer(),this.initList(),this.renderViewer()},initBody:function(){var e=this.element.ownerDocument,n=e.body||e.documentElement;this.body=n,this.scrollbarWidth=window.innerWidth-e.documentElement.clientWidth,this.initialBodyPaddingRight=n.style.paddingRight,this.initialBodyComputedPaddingRight=window.getComputedStyle(n).paddingRight},initContainer:function(){this.containerData={width:window.innerWidth,height:window.innerHeight}},initViewer:function(){var e=this.options,n=this.parent,r;e.inline&&(r={width:Math.max(n.offsetWidth,e.minWidth),height:Math.max(n.offsetHeight,e.minHeight)},this.parentData=r),(this.fulled||!r)&&(r=this.containerData),this.viewerData=Li({},r)},renderViewer:function(){this.options.inline&&!this.fulled&&ms(this.viewer,this.viewerData)},initList:function(){var e=this,n=this.element,r=this.options,i=this.list,s=[];i.innerHTML="",bn(this.images,function(o,a){var l=o.src,u=o.alt||FJ(l),c=e.getImageURL(o);if(l||c){var d=document.createElement("li"),h=document.createElement("img");bn(r.inheritedAttributes,function(p){var m=o.getAttribute(p);m!==null&&h.setAttribute(p,m)}),r.navbar&&(h.src=l||c),h.alt=u,h.setAttribute("data-original-url",c||l),d.setAttribute("data-index",a),d.setAttribute("data-viewer-action","view"),d.setAttribute("role","button"),r.keyboard&&d.setAttribute("tabindex",0),d.appendChild(h),i.appendChild(d),s.push(d)}}),this.items=s,bn(s,function(o){var a=o.firstElementChild,l,u;n_(a,"filled",!0),r.loading&&vt(o,Qu),wt(a,Gi,l=function(d){pn(a,vl,u),r.loading&&en(o,Qu),e.loadImage(d)},{once:!0}),wt(a,vl,u=function(){pn(a,Gi,l),r.loading&&en(o,Qu)},{once:!0})}),r.transition&&wt(n,qh,function(){vt(i,Yn)},{once:!0})},renderList:function(){var e=this.index,n=this.items[e];if(n){var r=n.nextElementSibling,i=parseInt(window.getComputedStyle(r||n).marginLeft,10),s=n.offsetWidth,o=s+i;ms(this.list,Li({width:o*this.length-i},rm({translateX:(this.viewerData.width-s)/2-o*e})))}},resetList:function(){var e=this.list;e.innerHTML="",en(e,Yn),ms(e,rm({translateX:0}))},initImage:function(e){var n=this,r=this.options,i=this.image,s=this.viewerData,o=this.footer.offsetHeight,a=s.width,l=Math.max(s.height-o,o),u=this.imageData||{},c;this.imageInitializing={abort:function(){c.onload=null}},c=OM(i,r,function(d,h){var p=d/h,m=Math.max(0,Math.min(1,r.initialCoverage)),g=a,y=l;n.imageInitializing=!1,l*p>a?y=a/p:g=l*p,m=Bn(m)?m:.9,g=Math.min(g*m,d),y=Math.min(y*m,h);var A=(a-g)/2,C=(l-y)/2,S={left:A,top:C,x:A,y:C,width:g,height:y,oldRatio:1,ratio:g/d,aspectRatio:p,naturalWidth:d,naturalHeight:h},E=Li({},S);r.rotatable&&(S.rotate=u.rotate||0,E.rotate=0),r.scalable&&(S.scaleX=u.scaleX||1,S.scaleY=u.scaleY||1,E.scaleX=1,E.scaleY=1),n.imageData=S,n.initialImageData=E,e&&e()})},renderImage:function(e){var n=this,r=this.image,i=this.imageData;if(ms(r,Li({width:i.width,height:i.height,marginLeft:i.x,marginTop:i.y},rm(i))),e)if((this.viewing||this.moving||this.rotating||this.scaling||this.zooming)&&this.options.transition&&yu(r,Yn)){var s=function(){n.imageRendering=!1,e()};this.imageRendering={abort:function(){pn(r,ls,s)}},wt(r,ls,s,{once:!0})}else e()},resetImage:function(){var e=this.image;e&&(this.viewing&&this.viewing.abort(),e.parentNode.removeChild(e),this.image=null,this.title.innerHTML="")}},jJ={bind:function(){var e=this.options,n=this.viewer,r=this.canvas,i=this.element.ownerDocument;wt(n,yc,this.onClick=this.click.bind(this)),wt(n,_A,this.onDragStart=this.dragstart.bind(this)),wt(r,EA,this.onPointerDown=this.pointerdown.bind(this)),wt(i,SA,this.onPointerMove=this.pointermove.bind(this)),wt(i,IA,this.onPointerUp=this.pointerup.bind(this)),wt(i,TA,this.onKeyDown=this.keydown.bind(this)),wt(window,CA,this.onResize=this.resize.bind(this)),e.zoomable&&e.zoomOnWheel&&wt(n,AA,this.onWheel=this.wheel.bind(this),{passive:!1,capture:!0}),e.toggleOnDblclick&&wt(r,t_,this.onDblclick=this.dblclick.bind(this))},unbind:function(){var e=this.options,n=this.viewer,r=this.canvas,i=this.element.ownerDocument;pn(n,yc,this.onClick),pn(n,_A,this.onDragStart),pn(r,EA,this.onPointerDown),pn(i,SA,this.onPointerMove),pn(i,IA,this.onPointerUp),pn(i,TA,this.onKeyDown),pn(window,CA,this.onResize),e.zoomable&&e.zoomOnWheel&&pn(n,AA,this.onWheel,{passive:!1,capture:!0}),e.toggleOnDblclick&&pn(r,t_,this.onDblclick)}},HJ={click:function(e){var n=this.options,r=this.imageData,i=e.target,s=Ou(i,og);switch(!s&&i.localName==="img"&&i.parentElement.localName==="li"&&(i=i.parentElement,s=Ou(i,og)),Yu&&e.isTrusted&&i===this.canvas&&clearTimeout(this.clickCanvasTimeout),s){case"mix":this.played?this.stop():n.inline?this.fulled?this.exit():this.full():this.hide();break;case"hide":this.pointerMoved||this.hide();break;case"view":this.view(Ou(i,"index"));break;case"zoom-in":this.zoom(.1,!0);break;case"zoom-out":this.zoom(-.1,!0);break;case"one-to-one":this.toggle();break;case"reset":this.reset();break;case"prev":this.prev(n.loop);break;case"play":this.play(n.fullscreen);break;case"next":this.next(n.loop);break;case"rotate-left":this.rotate(-90);break;case"rotate-right":this.rotate(90);break;case"flip-horizontal":this.scaleX(-r.scaleX||-1);break;case"flip-vertical":this.scaleY(-r.scaleY||-1);break;default:this.played&&this.stop()}},dblclick:function(e){e.preventDefault(),this.viewed&&e.target===this.image&&(Yu&&e.isTrusted&&clearTimeout(this.doubleClickImageTimeout),this.toggle(e.isTrusted?e:e.detail&&e.detail.originalEvent))},load:function(){var e=this;this.timeout&&(clearTimeout(this.timeout),this.timeout=!1);var n=this.element,r=this.options,i=this.image,s=this.index,o=this.viewerData;en(i,Zd),r.loading&&en(this.canvas,Qu),i.style.cssText="height:0;"+"margin-left:".concat(o.width/2,"px;")+"margin-top:".concat(o.height/2,"px;")+"max-width:none!important;position:relative;width:0;",this.initImage(function(){jh(i,OJ,r.movable),jh(i,Yn,r.transition),e.renderImage(function(){e.viewed=!0,e.viewing=!1,fn(r.viewed)&&wt(n,qh,r.viewed,{once:!0}),Jn(n,qh,{originalImage:e.images[s],index:s,image:i},{cancelable:!1})})})},loadImage:function(e){var n=e.target,r=n.parentNode,i=r.offsetWidth||30,s=r.offsetHeight||50,o=!!Ou(n,"filled");OM(n,this.options,function(a,l){var u=a/l,c=i,d=s;s*u>i?o?c=s*u:d=i/u:o?d=i/u:c=s*u,ms(n,Li({width:c,height:d},rm({translateX:(i-c)/2,translateY:(s-d)/2})))})},keydown:function(e){var n=this.options;if(n.keyboard){var r=e.keyCode||e.which||e.charCode;switch(r){case 13:this.viewer.contains(e.target)&&this.click(e);break}if(this.fulled)switch(r){case 27:this.played?this.stop():n.inline?this.fulled&&this.exit():this.hide();break;case 32:this.played&&this.stop();break;case 37:this.played&&this.playing?this.playing.prev():this.prev(n.loop);break;case 38:e.preventDefault(),this.zoom(n.zoomRatio,!0);break;case 39:this.played&&this.playing?this.playing.next():this.next(n.loop);break;case 40:e.preventDefault(),this.zoom(-n.zoomRatio,!0);break;case 48:case 49:e.ctrlKey&&(e.preventDefault(),this.toggle());break}}},dragstart:function(e){e.target.localName==="img"&&e.preventDefault()},pointerdown:function(e){var n=this.options,r=this.pointers,i=e.buttons,s=e.button;if(this.pointerMoved=!1,!(!this.viewed||this.showing||this.viewing||this.hiding||(e.type==="mousedown"||e.type==="pointerdown"&&e.pointerType==="mouse")&&(Bn(i)&&i!==1||Bn(s)&&s!==0||e.ctrlKey))){e.preventDefault(),e.changedTouches?bn(e.changedTouches,function(a){r[a.identifier]=kp(a)}):r[e.pointerId||0]=kp(e);var o=n.movable?tm:!1;n.zoomOnTouch&&n.zoomable&&Object.keys(r).length>1?o=Od:n.slideOnTouch&&(e.pointerType==="touch"||e.type==="touchstart")&&this.isSwitchable()&&(o=AM),n.transition&&(o===tm||o===Od)&&en(this.image,Yn),this.action=o}},pointermove:function(e){var n=this.pointers,r=this.action;!this.viewed||!r||(e.preventDefault(),e.changedTouches?bn(e.changedTouches,function(i){Li(n[i.identifier]||{},kp(i,!0))}):Li(n[e.pointerId||0]||{},kp(e,!0)),this.change(e))},pointerup:function(e){var n=this,r=this.options,i=this.action,s=this.pointers,o;e.changedTouches?bn(e.changedTouches,function(a){o=s[a.identifier],delete s[a.identifier]}):(o=s[e.pointerId||0],delete s[e.pointerId||0]),i&&(e.preventDefault(),r.transition&&(i===tm||i===Od)&&vt(this.image,Yn),this.action=!1,Yu&&i!==Od&&o&&Date.now()-o.timeStamp<500&&(clearTimeout(this.clickCanvasTimeout),clearTimeout(this.doubleClickImageTimeout),r.toggleOnDblclick&&this.viewed&&e.target===this.image?this.imageClicked?(this.imageClicked=!1,this.doubleClickImageTimeout=setTimeout(function(){Jn(n.image,t_,{originalEvent:e})},50)):(this.imageClicked=!0,this.doubleClickImageTimeout=setTimeout(function(){n.imageClicked=!1},500)):(this.imageClicked=!1,r.backdrop&&r.backdrop!=="static"&&e.target===this.canvas&&(this.clickCanvasTimeout=setTimeout(function(){Jn(n.canvas,yc,{originalEvent:e})},50)))))},resize:function(){var e=this;if(!(!this.isShown||this.hiding)&&(this.fulled&&(this.close(),this.initBody(),this.open()),this.initContainer(),this.initViewer(),this.renderViewer(),this.renderList(),this.viewed&&this.initImage(function(){e.renderImage()}),this.played)){if(this.options.fullscreen&&this.fulled&&!(document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement)){this.stop();return}bn(this.player.getElementsByTagName("img"),function(n){wt(n,Gi,e.loadImage.bind(e),{once:!0}),Jn(n,Gi)})}},wheel:function(e){var n=this;if(this.viewed&&(e.preventDefault(),!this.wheeling)){this.wheeling=!0,setTimeout(function(){n.wheeling=!1},50);var r=Number(this.options.zoomRatio)||.1,i=1;e.deltaY?i=e.deltaY>0?1:-1:e.wheelDelta?i=-e.wheelDelta/120:e.detail&&(i=e.detail>0?1:-1),this.zoom(-i*r,!0,null,e)}}},WJ={show:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,n=this.element,r=this.options;if(r.inline||this.showing||this.isShown||this.showing)return this;if(!this.ready)return this.build(),this.ready&&this.show(e),this;if(fn(r.show)&&wt(n,OA,r.show,{once:!0}),Jn(n,OA)===!1||!this.ready)return this;this.hiding&&this.transitioning.abort(),this.showing=!0,this.open();var i=this.viewer;if(en(i,sl),i.setAttribute("role","dialog"),i.setAttribute("aria-labelledby",this.title.id),i.setAttribute("aria-modal",!0),i.removeAttribute("aria-hidden"),r.transition&&!e){var s=this.shown.bind(this);this.transitioning={abort:function(){pn(i,ls,s),en(i,Hi)}},vt(i,Yn),i.initialOffsetWidth=i.offsetWidth,wt(i,ls,s,{once:!0}),vt(i,Hi)}else vt(i,Hi),this.shown();return this},hide:function(){var e=this,n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,r=this.element,i=this.options;if(i.inline||this.hiding||!(this.isShown||this.showing))return this;if(fn(i.hide)&&wt(r,RA,i.hide,{once:!0}),Jn(r,RA)===!1)return this;this.showing&&this.transitioning.abort(),this.hiding=!0,this.played?this.stop():this.viewing&&this.viewing.abort();var s=this.viewer,o=this.image,a=function(){en(s,Hi),e.hidden()};if(i.transition&&!n){var l=function c(d){d&&d.target===s&&(pn(s,ls,c),e.hidden())},u=function(){yu(s,Yn)?(wt(s,ls,l),en(s,Hi)):a()};this.transitioning={abort:function(){e.viewed&&yu(o,Yn)?pn(o,ls,u):yu(s,Yn)&&pn(s,ls,l)}},this.viewed&&yu(o,Yn)?(wt(o,ls,u,{once:!0}),this.zoomTo(0,!1,null,null,!0)):u()}else a();return this},view:function(){var e=this,n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.options.initialViewIndex;if(n=Number(n)||0,this.hiding||this.played||n<0||n>=this.length||this.viewed&&n===this.index)return this;if(!this.isShown)return this.index=n,this.show();this.viewing&&this.viewing.abort();var r=this.element,i=this.options,s=this.title,o=this.canvas,a=this.items[n],l=a.querySelector("img"),u=Ou(l,"originalUrl"),c=l.getAttribute("alt"),d=document.createElement("img");if(bn(i.inheritedAttributes,function(y){var A=l.getAttribute(y);A!==null&&d.setAttribute(y,A)}),d.src=u,d.alt=c,fn(i.view)&&wt(r,DA,i.view,{once:!0}),Jn(r,DA,{originalImage:this.images[n],index:n,image:d})===!1||!this.isShown||this.hiding||this.played)return this;var h=this.items[this.index];h&&(en(h,Ap),h.removeAttribute("aria-selected")),vt(a,Ap),a.setAttribute("aria-selected",!0),i.focus&&a.focus(),this.image=d,this.viewed=!1,this.index=n,this.imageData={},vt(d,Zd),i.loading&&vt(o,Qu),o.innerHTML="",o.appendChild(d),this.renderList(),s.innerHTML="";var p=function(){var A=e.imageData,C=Array.isArray(i.title)?i.title[1]:i.title;s.innerHTML=LJ(fn(C)?C.call(e,d,A):"".concat(c," (").concat(A.naturalWidth,"  ").concat(A.naturalHeight,")"))},m,g;return wt(r,qh,p,{once:!0}),this.viewing={abort:function(){pn(r,qh,p),d.complete?e.imageRendering?e.imageRendering.abort():e.imageInitializing&&e.imageInitializing.abort():(d.src="",pn(d,Gi,m),e.timeout&&clearTimeout(e.timeout))}},d.complete?this.load():(wt(d,Gi,m=function(){pn(d,vl,g),e.load()},{once:!0}),wt(d,vl,g=function(){pn(d,Gi,m),e.timeout&&(clearTimeout(e.timeout),e.timeout=!1),en(d,Zd),i.loading&&en(e.canvas,Qu)},{once:!0}),this.timeout&&clearTimeout(this.timeout),this.timeout=setTimeout(function(){en(d,Zd),e.timeout=!1},1e3)),this},prev:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,n=this.index-1;return n<0&&(n=e?this.length-1:0),this.view(n),this},next:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,n=this.length-1,r=this.index+1;return r>n&&(r=e?0:n),this.view(r),this},move:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e,r=this.imageData;return this.moveTo(Au(e)?e:r.x+Number(e),Au(n)?n:r.y+Number(n)),this},moveTo:function(e){var n=this,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,s=this.element,o=this.options,a=this.imageData;if(e=Number(e),r=Number(r),this.viewed&&!this.played&&o.movable){var l=a.x,u=a.y,c=!1;if(Bn(e)?c=!0:e=l,Bn(r)?c=!0:r=u,c){if(fn(o.move)&&wt(s,NA,o.move,{once:!0}),Jn(s,NA,{x:e,y:r,oldX:l,oldY:u,originalEvent:i})===!1)return this;a.x=e,a.y=r,a.left=e,a.top=r,this.moving=!0,this.renderImage(function(){n.moving=!1,fn(o.moved)&&wt(s,MA,o.moved,{once:!0}),Jn(s,MA,{x:e,y:r,oldX:l,oldY:u,originalEvent:i},{cancelable:!1})})}}return this},rotate:function(e){return this.rotateTo((this.imageData.rotate||0)+Number(e)),this},rotateTo:function(e){var n=this,r=this.element,i=this.options,s=this.imageData;if(e=Number(e),Bn(e)&&this.viewed&&!this.played&&i.rotatable){var o=s.rotate;if(fn(i.rotate)&&wt(r,LA,i.rotate,{once:!0}),Jn(r,LA,{degree:e,oldDegree:o})===!1)return this;s.rotate=e,this.rotating=!0,this.renderImage(function(){n.rotating=!1,fn(i.rotated)&&wt(r,VA,i.rotated,{once:!0}),Jn(r,VA,{degree:e,oldDegree:o},{cancelable:!1})})}return this},scaleX:function(e){return this.scale(e,this.imageData.scaleY),this},scaleY:function(e){return this.scale(this.imageData.scaleX,e),this},scale:function(e){var n=this,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e,i=this.element,s=this.options,o=this.imageData;if(e=Number(e),r=Number(r),this.viewed&&!this.played&&s.scalable){var a=o.scaleX,l=o.scaleY,u=!1;if(Bn(e)?u=!0:e=a,Bn(r)?u=!0:r=l,u){if(fn(s.scale)&&wt(i,$A,s.scale,{once:!0}),Jn(i,$A,{scaleX:e,scaleY:r,oldScaleX:a,oldScaleY:l})===!1)return this;o.scaleX=e,o.scaleY=r,this.scaling=!0,this.renderImage(function(){n.scaling=!1,fn(s.scaled)&&wt(i,FA,s.scaled,{once:!0}),Jn(i,FA,{scaleX:e,scaleY:r,oldScaleX:a,oldScaleY:l},{cancelable:!1})})}}return this},zoom:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null,s=this.imageData;return e=Number(e),e<0?e=1/(1-e):e=1+e,this.zoomTo(s.width*e/s.naturalWidth,n,r,i),this},zoomTo:function(e){var n=this,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null,o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1,a=this.element,l=this.options,u=this.pointers,c=this.imageData,d=c.x,h=c.y,p=c.width,m=c.height,g=c.naturalWidth,y=c.naturalHeight;if(e=Math.max(0,e),Bn(e)&&this.viewed&&!this.played&&(o||l.zoomable)){if(!o){var A=Math.max(.01,l.minZoomRatio),C=Math.min(100,l.maxZoomRatio);e=Math.min(Math.max(e,A),C)}if(s)switch(s.type){case"wheel":l.zoomRatio>=.055&&e>.95&&e<1.05&&(e=1);break;case"pointermove":case"touchmove":case"mousemove":e>.99&&e<1.01&&(e=1);break}var S=g*e,E=y*e,k=S-p,x=E-m,I=c.ratio;if(fn(l.zoom)&&wt(a,UA,l.zoom,{once:!0}),Jn(a,UA,{ratio:e,oldRatio:I,originalEvent:s})===!1)return this;if(this.zooming=!0,s){var b=$J(this.viewer),_=u&&Object.keys(u).length>0?qJ(u):{pageX:s.pageX,pageY:s.pageY};c.x-=k*((_.pageX-b.left-d)/p),c.y-=x*((_.pageY-b.top-h)/m)}else Pu(i)&&Bn(i.x)&&Bn(i.y)?(c.x-=k*((i.x-d)/p),c.y-=x*((i.y-h)/m)):(c.x-=k/2,c.y-=x/2);c.left=c.x,c.top=c.y,c.width=S,c.height=E,c.oldRatio=I,c.ratio=e,this.renderImage(function(){n.zooming=!1,fn(l.zoomed)&&wt(a,qA,l.zoomed,{once:!0}),Jn(a,qA,{ratio:e,oldRatio:I,originalEvent:s},{cancelable:!1})}),r&&this.tooltip()}return this},play:function(){var e=this,n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;if(!this.isShown||this.played)return this;var r=this.element,i=this.options;if(fn(i.play)&&wt(r,BA,i.play,{once:!0}),Jn(r,BA)===!1)return this;var s=this.player,o=this.loadImage.bind(this),a=[],l=0,u=0;if(this.played=!0,this.onLoadWhenPlay=o,n&&this.requestFullscreen(n),vt(s,ou),bn(this.items,function(h,p){var m=h.querySelector("img"),g=document.createElement("img");g.src=Ou(m,"originalUrl"),g.alt=m.getAttribute("alt"),g.referrerPolicy=m.referrerPolicy,l+=1,vt(g,nm),jh(g,Yn,i.transition),yu(h,Ap)&&(vt(g,Hi),u=p),a.push(g),wt(g,Gi,o,{once:!0}),s.appendChild(g)}),Bn(i.interval)&&i.interval>0){var c=function h(){clearTimeout(e.playing.timeout),en(a[u],Hi),u-=1,u=u>=0?u:l-1,vt(a[u],Hi),e.playing.timeout=setTimeout(h,i.interval)},d=function h(){clearTimeout(e.playing.timeout),en(a[u],Hi),u+=1,u=u<l?u:0,vt(a[u],Hi),e.playing.timeout=setTimeout(h,i.interval)};l>1&&(this.playing={prev:c,next:d,timeout:setTimeout(d,i.interval)})}return this},stop:function(){var e=this;if(!this.played)return this;var n=this.element,r=this.options;if(fn(r.stop)&&wt(n,jA,r.stop,{once:!0}),Jn(n,jA)===!1)return this;var i=this.player;return clearTimeout(this.playing.timeout),this.playing=!1,this.played=!1,bn(i.getElementsByTagName("img"),function(s){pn(s,Gi,e.onLoadWhenPlay)}),en(i,ou),i.innerHTML="",this.exitFullscreen(),this},full:function(){var e=this,n=this.options,r=this.viewer,i=this.image,s=this.list;return!this.isShown||this.played||this.fulled||!n.inline?this:(this.fulled=!0,this.open(),vt(this.button,yA),n.transition&&(en(s,Yn),this.viewed&&en(i,Yn)),vt(r,e_),r.setAttribute("role","dialog"),r.setAttribute("aria-labelledby",this.title.id),r.setAttribute("aria-modal",!0),r.removeAttribute("style"),ms(r,{zIndex:n.zIndex}),n.focus&&this.enforceFocus(),this.initContainer(),this.viewerData=Li({},this.containerData),this.renderList(),this.viewed&&this.initImage(function(){e.renderImage(function(){n.transition&&setTimeout(function(){vt(i,Yn),vt(s,Yn)},0)})}),this)},exit:function(){var e=this,n=this.options,r=this.viewer,i=this.image,s=this.list;return!this.isShown||this.played||!this.fulled||!n.inline?this:(this.fulled=!1,this.close(),en(this.button,yA),n.transition&&(en(s,Yn),this.viewed&&en(i,Yn)),n.focus&&this.clearEnforceFocus(),r.removeAttribute("role"),r.removeAttribute("aria-labelledby"),r.removeAttribute("aria-modal"),en(r,e_),ms(r,{zIndex:n.zIndexInline}),this.viewerData=Li({},this.parentData),this.renderViewer(),this.renderList(),this.viewed&&this.initImage(function(){e.renderImage(function(){n.transition&&setTimeout(function(){vt(i,Yn),vt(s,Yn)},0)})}),this)},tooltip:function(){var e=this,n=this.options,r=this.tooltipBox,i=this.imageData;return!this.viewed||this.played||!n.tooltip?this:(r.textContent="".concat(Math.round(i.ratio*100),"%"),this.tooltipping?clearTimeout(this.tooltipping):n.transition?(this.fading&&Jn(r,ls),vt(r,ou),vt(r,nm),vt(r,Yn),r.removeAttribute("aria-hidden"),r.initialOffsetWidth=r.offsetWidth,vt(r,Hi)):(vt(r,ou),r.removeAttribute("aria-hidden")),this.tooltipping=setTimeout(function(){n.transition?(wt(r,ls,function(){en(r,ou),en(r,nm),en(r,Yn),r.setAttribute("aria-hidden",!0),e.fading=!1},{once:!0}),en(r,Hi),e.fading=!0):(en(r,ou),r.setAttribute("aria-hidden",!0)),e.tooltipping=!1},1e3),this)},toggle:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;return this.imageData.ratio===1?this.zoomTo(this.imageData.oldRatio,!0,null,e):this.zoomTo(1,!0,null,e),this},reset:function(){return this.viewed&&!this.played&&(this.imageData=Li({},this.initialImageData),this.renderImage()),this},update:function(){var e=this,n=this.element,r=this.options,i=this.isImg;if(i&&!n.parentNode)return this.destroy();var s=[];if(bn(i?[n]:n.querySelectorAll("img"),function(u){fn(r.filter)?r.filter.call(e,u)&&s.push(u):e.getImageURL(u)&&s.push(u)}),!s.length)return this;if(this.images=s,this.length=s.length,this.ready){var o=[];if(bn(this.items,function(u,c){var d=u.querySelector("img"),h=s[c];h&&d?(h.src!==d.src||h.alt!==d.alt)&&o.push(c):o.push(c)}),ms(this.list,{width:"auto"}),this.initList(),this.isShown)if(this.length){if(this.viewed){var a=o.indexOf(this.index);if(a>=0)this.viewed=!1,this.view(Math.max(Math.min(this.index-a,this.length-1),0));else{var l=this.items[this.index];vt(l,Ap),l.setAttribute("aria-selected",!0)}}}else this.image=null,this.viewed=!1,this.index=0,this.imageData={},this.canvas.innerHTML="",this.title.innerHTML=""}else this.build();return this},destroy:function(){var e=this.element,n=this.options;return e[Ct]?(this.destroyed=!0,this.ready?(this.played&&this.stop(),n.inline?(this.fulled&&this.exit(),this.unbind()):this.isShown?(this.viewing&&(this.imageRendering?this.imageRendering.abort():this.imageInitializing&&this.imageInitializing.abort()),this.hiding&&this.transitioning.abort(),this.hidden()):this.showing&&(this.transitioning.abort(),this.hidden()),this.ready=!1,this.viewer.parentNode.removeChild(this.viewer)):n.inline&&(this.delaying?this.delaying.abort():this.initializing&&this.initializing.abort()),n.inline||pn(e,yc,this.onStart),e[Ct]=void 0,this):this}},zJ={getImageURL:function(e){var n=this.options.url;return Bh(n)?n=e.getAttribute(n):fn(n)?n=n.call(this,e):n="",n},enforceFocus:function(){var e=this;this.clearEnforceFocus(),wt(document,wA,this.onFocusin=function(n){var r=e.viewer,i=n.target;if(!(i===document||i===r||r.contains(i))){for(;i;){if(i.getAttribute("tabindex")!==null||i.getAttribute("aria-modal")==="true")return;i=i.parentElement}r.focus()}})},clearEnforceFocus:function(){this.onFocusin&&(pn(document,wA,this.onFocusin),this.onFocusin=null)},open:function(){var e=this.body;vt(e,bA),this.scrollbarWidth>0&&(e.style.paddingRight="".concat(this.scrollbarWidth+(parseFloat(this.initialBodyComputedPaddingRight)||0),"px"))},close:function(){var e=this.body;en(e,bA),this.scrollbarWidth>0&&(e.style.paddingRight=this.initialBodyPaddingRight)},shown:function(){var e=this.element,n=this.options,r=this.viewer;this.fulled=!0,this.isShown=!0,this.render(),this.bind(),this.showing=!1,n.focus&&(r.focus(),this.enforceFocus()),fn(n.shown)&&wt(e,kA,n.shown,{once:!0}),Jn(e,kA)!==!1&&this.ready&&this.isShown&&!this.hiding&&this.view(this.index)},hidden:function(){var e=this.element,n=this.options,r=this.viewer;n.fucus&&this.clearEnforceFocus(),this.close(),this.unbind(),vt(r,sl),r.removeAttribute("role"),r.removeAttribute("aria-labelledby"),r.removeAttribute("aria-modal"),r.setAttribute("aria-hidden",!0),this.resetList(),this.resetImage(),this.fulled=!1,this.viewed=!1,this.isShown=!1,this.hiding=!1,this.destroyed||(fn(n.hidden)&&wt(e,xA,n.hidden,{once:!0}),Jn(e,xA,null,{cancelable:!1}))},requestFullscreen:function(e){var n=this.element.ownerDocument;if(this.fulled&&!(n.fullscreenElement||n.webkitFullscreenElement||n.mozFullScreenElement||n.msFullscreenElement)){var r=n.documentElement;r.requestFullscreen?Pu(e)?r.requestFullscreen(e):r.requestFullscreen():r.webkitRequestFullscreen?r.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT):r.mozRequestFullScreen?r.mozRequestFullScreen():r.msRequestFullscreen&&r.msRequestFullscreen()}},exitFullscreen:function(){var e=this.element.ownerDocument;this.fulled&&(e.fullscreenElement||e.webkitFullscreenElement||e.mozFullScreenElement||e.msFullscreenElement)&&(e.exitFullscreen?e.exitFullscreen():e.webkitExitFullscreen?e.webkitExitFullscreen():e.mozCancelFullScreen?e.mozCancelFullScreen():e.msExitFullscreen&&e.msExitFullscreen())},change:function(e){var n=this.options,r=this.pointers,i=r[Object.keys(r)[0]];if(i){var s=i.endX-i.startX,o=i.endY-i.startY;switch(this.action){case tm:(s!==0||o!==0)&&(this.pointerMoved=!0,this.move(s,o,e));break;case Od:this.zoom(UJ(r),!1,null,e);break;case AM:{this.action="switched";var a=Math.abs(s);a>1&&a>Math.abs(o)&&(this.pointers={},s>1?this.prev(n.loop):s<-1&&this.next(n.loop));break}}bn(r,function(l){l.startX=l.endX,l.startY=l.endY})}},isSwitchable:function(){var e=this.imageData,n=this.viewerData;return this.length>1&&e.x>=0&&e.y>=0&&e.width<=n.width&&e.height<=n.height}},KJ=Oo.Viewer,GJ=function(t){return function(){return t+=1,t}}(-1),_c=function(){function t(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(bJ(this,t),!e||e.nodeType!==1)throw new Error("The first argument is required and must be an element.");this.element=e,this.options=Li({},vA,Pu(n)&&n),this.action=!1,this.fading=!1,this.fulled=!1,this.hiding=!1,this.imageClicked=!1,this.imageData={},this.index=this.options.initialViewIndex,this.isImg=!1,this.isShown=!1,this.length=0,this.moving=!1,this.played=!1,this.playing=!1,this.pointers={},this.ready=!1,this.rotating=!1,this.scaling=!1,this.showing=!1,this.timeout=!1,this.tooltipping=!1,this.viewed=!1,this.viewing=!1,this.wheeling=!1,this.zooming=!1,this.pointerMoved=!1,this.id=GJ(),this.init()}return _J(t,[{key:"init",value:function(){var n=this,r=this.element,i=this.options;if(!r[Ct]){r[Ct]=this,i.focus&&!i.keyboard&&(i.focus=!1);var s=r.localName==="img",o=[];if(bn(s?[r]:r.querySelectorAll("img"),function(u){fn(i.filter)?i.filter.call(n,u)&&o.push(u):n.getImageURL(u)&&o.push(u)}),this.isImg=s,this.length=o.length,this.images=o,this.initBody(),Au(document.createElement(Ct).style.transition)&&(i.transition=!1),i.inline){var a=0,l=function(){if(a+=1,a===n.length){var c;n.initializing=!1,n.delaying={abort:function(){clearTimeout(c)}},c=setTimeout(function(){n.delaying=!1,n.build()},0)}};this.initializing={abort:function(){bn(o,function(c){c.complete||(pn(c,Gi,l),pn(c,vl,l))})}},bn(o,function(u){if(u.complete)l();else{var c,d;wt(u,Gi,c=function(){pn(u,vl,d),l()},{once:!0}),wt(u,vl,d=function(){pn(u,Gi,c),l()},{once:!0})}})}else wt(r,yc,this.onStart=function(u){var c=u.target;c.localName==="img"&&(!fn(i.filter)||i.filter.call(n,c))&&n.view(n.images.indexOf(c))})}}},{key:"build",value:function(){if(!this.ready){var n=this.element,r=this.options,i=n.parentNode,s=document.createElement("div");s.innerHTML=EJ;var o=s.querySelector(".".concat(Ct,"-container")),a=o.querySelector(".".concat(Ct,"-title")),l=o.querySelector(".".concat(Ct,"-toolbar")),u=o.querySelector(".".concat(Ct,"-navbar")),c=o.querySelector(".".concat(Ct,"-button")),d=o.querySelector(".".concat(Ct,"-canvas"));if(this.parent=i,this.viewer=o,this.title=a,this.toolbar=l,this.navbar=u,this.button=c,this.canvas=d,this.footer=o.querySelector(".".concat(Ct,"-footer")),this.tooltipBox=o.querySelector(".".concat(Ct,"-tooltip")),this.player=o.querySelector(".".concat(Ct,"-player")),this.list=o.querySelector(".".concat(Ct,"-list")),o.id="".concat(Ct).concat(this.id),a.id="".concat(Ct,"Title").concat(this.id),vt(a,r.title?Op(Array.isArray(r.title)?r.title[0]:r.title):sl),vt(u,r.navbar?Op(r.navbar):sl),jh(c,sl,!r.button),r.keyboard&&c.setAttribute("tabindex",0),r.backdrop&&(vt(o,"".concat(Ct,"-backdrop")),!r.inline&&r.backdrop!=="static"&&n_(d,og,"hide")),Bh(r.className)&&r.className&&r.className.split(G1).forEach(function(S){vt(o,S)}),r.toolbar){var h=document.createElement("ul"),p=Pu(r.toolbar),m=Pp.slice(0,3),g=Pp.slice(7,9),y=Pp.slice(9);p||vt(l,Op(r.toolbar)),bn(p?r.toolbar:Pp,function(S,E){var k=p&&Pu(S),x=p?Y1(E):S,I=k&&!Au(S.show)?S.show:S;if(!(!I||!r.zoomable&&m.indexOf(x)!==-1||!r.rotatable&&g.indexOf(x)!==-1||!r.scalable&&y.indexOf(x)!==-1)){var b=k&&!Au(S.size)?S.size:S,_=k&&!Au(S.click)?S.click:S,T=document.createElement("li");r.keyboard&&T.setAttribute("tabindex",0),T.setAttribute("role","button"),vt(T,"".concat(Ct,"-").concat(x)),fn(_)||n_(T,og,x),Bn(I)&&vt(T,Op(I)),["small","large"].indexOf(b)!==-1?vt(T,"".concat(Ct,"-").concat(b)):x==="play"&&vt(T,"".concat(Ct,"-large")),fn(_)&&wt(T,yc,_),h.appendChild(T)}}),l.appendChild(h)}else vt(l,sl);if(!r.rotatable){var A=l.querySelectorAll('li[class*="rotate"]');vt(A,Zd),bn(A,function(S){l.appendChild(S)})}if(r.inline)vt(c,IJ),ms(o,{zIndex:r.zIndexInline}),window.getComputedStyle(i).position==="static"&&ms(i,{position:"relative"}),i.insertBefore(o,n.nextSibling);else{vt(c,SJ),vt(o,e_),vt(o,nm),vt(o,sl),ms(o,{zIndex:r.zIndex});var C=r.container;Bh(C)&&(C=n.ownerDocument.querySelector(C)),C||(C=this.body),C.appendChild(o)}if(r.inline&&(this.render(),this.bind(),this.isShown=!0),this.ready=!0,fn(r.ready)&&wt(n,PA,r.ready,{once:!0}),Jn(n,PA)===!1){this.ready=!1;return}this.ready&&r.inline&&this.view(this.index)}}}],[{key:"noConflict",value:function(){return window.Viewer=KJ,t}},{key:"setDefaults",value:function(n){Li(vA,Pu(n)&&n)}}]),t}();Li(_c.prototype,BJ,jJ,HJ,WJ,zJ);var YJ=typeof global=="object"&&global&&global.Object===Object&&global;const kM=YJ;var QJ=typeof self=="object"&&self&&self.Object===Object&&self,XJ=kM||QJ||Function("return this")();const Rv=XJ;var JJ=Rv.Symbol;const ag=JJ;var RM=Object.prototype,ZJ=RM.hasOwnProperty,eZ=RM.toString,dd=ag?ag.toStringTag:void 0;function tZ(t){var e=ZJ.call(t,dd),n=t[dd];try{t[dd]=void 0;var r=!0}catch{}var i=eZ.call(t);return r&&(e?t[dd]=n:delete t[dd]),i}var nZ=Object.prototype,rZ=nZ.toString;function iZ(t){return rZ.call(t)}var sZ="[object Null]",oZ="[object Undefined]",HA=ag?ag.toStringTag:void 0;function xv(t){return t==null?t===void 0?oZ:sZ:HA&&HA in Object(t)?tZ(t):iZ(t)}function Dv(t){return t!=null&&typeof t=="object"}var aZ="[object Symbol]";function lZ(t){return typeof t=="symbol"||Dv(t)&&xv(t)==aZ}var uZ=Array.isArray;const cZ=uZ;var dZ=/\s/;function hZ(t){for(var e=t.length;e--&&dZ.test(t.charAt(e)););return e}var fZ=/^\s+/;function pZ(t){return t&&t.slice(0,hZ(t)+1).replace(fZ,"")}function Fl(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var WA=NaN,mZ=/^[-+]0x[0-9a-f]+$/i,gZ=/^0b[01]+$/i,vZ=/^0o[0-7]+$/i,yZ=parseInt;function zA(t){if(typeof t=="number")return t;if(lZ(t))return WA;if(Fl(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=Fl(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=pZ(t);var n=gZ.test(t);return n||vZ.test(t)?yZ(t.slice(2),n?2:8):mZ.test(t)?WA:+t}function xM(t){return t}var bZ="[object AsyncFunction]",_Z="[object Function]",wZ="[object GeneratorFunction]",TZ="[object Proxy]";function DM(t){if(!Fl(t))return!1;var e=xv(t);return e==_Z||e==wZ||e==bZ||e==TZ}var EZ=Rv["__core-js_shared__"];const Ky=EZ;var KA=function(){var t=/[^.]+$/.exec(Ky&&Ky.keys&&Ky.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function SZ(t){return!!KA&&KA in t}var IZ=Function.prototype,CZ=IZ.toString;function AZ(t){if(t!=null){try{return CZ.call(t)}catch{}try{return t+""}catch{}}return""}var PZ=/[\\^$.*+?()[\]{}|]/g,OZ=/^\[object .+?Constructor\]$/,kZ=Function.prototype,RZ=Object.prototype,xZ=kZ.toString,DZ=RZ.hasOwnProperty,NZ=RegExp("^"+xZ.call(DZ).replace(PZ,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function MZ(t){if(!Fl(t)||SZ(t))return!1;var e=DM(t)?NZ:OZ;return e.test(AZ(t))}function LZ(t,e){return t==null?void 0:t[e]}function VZ(t,e){var n=LZ(t,e);return MZ(n)?n:void 0}function $Z(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}var FZ=800,UZ=16,qZ=Date.now;function BZ(t){var e=0,n=0;return function(){var r=qZ(),i=UZ-(r-n);if(n=r,i>0){if(++e>=FZ)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}function jZ(t){return function(){return t}}var HZ=function(){try{var t=VZ(Object,"defineProperty");return t({},"",{}),t}catch{}}();const lg=HZ;var WZ=lg?function(t,e){return lg(t,"toString",{configurable:!0,enumerable:!1,value:jZ(e),writable:!0})}:xM;const zZ=WZ;var KZ=BZ(zZ);const GZ=KZ;var YZ=9007199254740991,QZ=/^(?:0|[1-9]\d*)$/;function NM(t,e){var n=typeof t;return e=e??YZ,!!e&&(n=="number"||n!="symbol"&&QZ.test(t))&&t>-1&&t%1==0&&t<e}function MM(t,e,n){e=="__proto__"&&lg?lg(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}function Q1(t,e){return t===e||t!==t&&e!==e}var XZ=Object.prototype,JZ=XZ.hasOwnProperty;function LM(t,e,n){var r=t[e];(!(JZ.call(t,e)&&Q1(r,n))||n===void 0&&!(e in t))&&MM(t,e,n)}function ZZ(t,e,n,r){var i=!n;n||(n={});for(var s=-1,o=e.length;++s<o;){var a=e[s],l=r?r(n[a],t[a],a,n,t):void 0;l===void 0&&(l=t[a]),i?MM(n,a,l):LM(n,a,l)}return n}var GA=Math.max;function eee(t,e,n){return e=GA(e===void 0?t.length-1:e,0),function(){for(var r=arguments,i=-1,s=GA(r.length-e,0),o=Array(s);++i<s;)o[i]=r[e+i];i=-1;for(var a=Array(e+1);++i<e;)a[i]=r[i];return a[e]=n(o),$Z(t,this,a)}}function VM(t,e){return GZ(eee(t,e,xM),t+"")}var tee=9007199254740991;function $M(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=tee}function Nv(t){return t!=null&&$M(t.length)&&!DM(t)}function FM(t,e,n){if(!Fl(n))return!1;var r=typeof e;return(r=="number"?Nv(n)&&NM(e,n.length):r=="string"&&e in n)?Q1(n[e],t):!1}function nee(t){return VM(function(e,n){var r=-1,i=n.length,s=i>1?n[i-1]:void 0,o=i>2?n[2]:void 0;for(s=t.length>3&&typeof s=="function"?(i--,s):void 0,o&&FM(n[0],n[1],o)&&(s=i<3?void 0:s,i=1),e=Object(e);++r<i;){var a=n[r];a&&t(e,a,r,s)}return e})}var ree=Object.prototype;function X1(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||ree;return t===n}function iee(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var see="[object Arguments]";function YA(t){return Dv(t)&&xv(t)==see}var UM=Object.prototype,oee=UM.hasOwnProperty,aee=UM.propertyIsEnumerable,lee=YA(function(){return arguments}())?YA:function(t){return Dv(t)&&oee.call(t,"callee")&&!aee.call(t,"callee")};const uee=lee;function cee(){return!1}var qM=typeof exports=="object"&&exports&&!exports.nodeType&&exports,QA=qM&&typeof module=="object"&&module&&!module.nodeType&&module,dee=QA&&QA.exports===qM,XA=dee?Rv.Buffer:void 0,hee=XA?XA.isBuffer:void 0,fee=hee||cee;const pee=fee;var mee="[object Arguments]",gee="[object Array]",vee="[object Boolean]",yee="[object Date]",bee="[object Error]",_ee="[object Function]",wee="[object Map]",Tee="[object Number]",Eee="[object Object]",See="[object RegExp]",Iee="[object Set]",Cee="[object String]",Aee="[object WeakMap]",Pee="[object ArrayBuffer]",Oee="[object DataView]",kee="[object Float32Array]",Ree="[object Float64Array]",xee="[object Int8Array]",Dee="[object Int16Array]",Nee="[object Int32Array]",Mee="[object Uint8Array]",Lee="[object Uint8ClampedArray]",Vee="[object Uint16Array]",$ee="[object Uint32Array]",In={};In[kee]=In[Ree]=In[xee]=In[Dee]=In[Nee]=In[Mee]=In[Lee]=In[Vee]=In[$ee]=!0;In[mee]=In[gee]=In[Pee]=In[vee]=In[Oee]=In[yee]=In[bee]=In[_ee]=In[wee]=In[Tee]=In[Eee]=In[See]=In[Iee]=In[Cee]=In[Aee]=!1;function Fee(t){return Dv(t)&&$M(t.length)&&!!In[xv(t)]}function Uee(t){return function(e){return t(e)}}var BM=typeof exports=="object"&&exports&&!exports.nodeType&&exports,eh=BM&&typeof module=="object"&&module&&!module.nodeType&&module,qee=eh&&eh.exports===BM,Gy=qee&&kM.process,Bee=function(){try{var t=eh&&eh.require&&eh.require("util").types;return t||Gy&&Gy.binding&&Gy.binding("util")}catch{}}();const JA=Bee;var ZA=JA&&JA.isTypedArray,jee=ZA?Uee(ZA):Fee;const Hee=jee;var Wee=Object.prototype,zee=Wee.hasOwnProperty;function jM(t,e){var n=cZ(t),r=!n&&uee(t),i=!n&&!r&&pee(t),s=!n&&!r&&!i&&Hee(t),o=n||r||i||s,a=o?iee(t.length,String):[],l=a.length;for(var u in t)(e||zee.call(t,u))&&!(o&&(u=="length"||i&&(u=="offset"||u=="parent")||s&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||NM(u,l)))&&a.push(u);return a}function Kee(t,e){return function(n){return t(e(n))}}var Gee=Kee(Object.keys,Object);const Yee=Gee;var Qee=Object.prototype,Xee=Qee.hasOwnProperty;function Jee(t){if(!X1(t))return Yee(t);var e=[];for(var n in Object(t))Xee.call(t,n)&&n!="constructor"&&e.push(n);return e}function Zee(t){return Nv(t)?jM(t):Jee(t)}var ete=Object.prototype,tte=ete.hasOwnProperty,nte=nee(function(t,e){if(X1(e)||Nv(e)){ZZ(e,Zee(e),t);return}for(var n in e)tte.call(e,n)&&LM(t,n,e[n])});const rte=nte;function ite(t){var e=[];if(t!=null)for(var n in Object(t))e.push(n);return e}var ste=Object.prototype,ote=ste.hasOwnProperty;function ate(t){if(!Fl(t))return ite(t);var e=X1(t),n=[];for(var r in t)r=="constructor"&&(e||!ote.call(t,r))||n.push(r);return n}function lte(t){return Nv(t)?jM(t,!0):ate(t)}var ute=function(){return Rv.Date.now()};const Yy=ute;var cte="Expected a function",dte=Math.max,hte=Math.min;function fte(t,e,n){var r,i,s,o,a,l,u=0,c=!1,d=!1,h=!0;if(typeof t!="function")throw new TypeError(cte);e=zA(e)||0,Fl(n)&&(c=!!n.leading,d="maxWait"in n,s=d?dte(zA(n.maxWait)||0,e):s,h="trailing"in n?!!n.trailing:h);function p(x){var I=r,b=i;return r=i=void 0,u=x,o=t.apply(b,I),o}function m(x){return u=x,a=setTimeout(A,e),c?p(x):o}function g(x){var I=x-l,b=x-u,_=e-I;return d?hte(_,s-b):_}function y(x){var I=x-l,b=x-u;return l===void 0||I>=e||I<0||d&&b>=s}function A(){var x=Yy();if(y(x))return C(x);a=setTimeout(A,g(x))}function C(x){return a=void 0,h&&r?p(x):(r=i=void 0,o)}function S(){a!==void 0&&clearTimeout(a),u=0,r=l=i=a=void 0}function E(){return a===void 0?o:C(Yy())}function k(){var x=Yy(),I=y(x);if(r=arguments,i=this,l=x,I){if(a===void 0)return m(l);if(d)return clearTimeout(a),a=setTimeout(A,e),p(l)}return a===void 0&&(a=setTimeout(A,e)),o}return k.cancel=S,k.flush=E,k}var HM=Object.prototype,pte=HM.hasOwnProperty,mte=VM(function(t,e){t=Object(t);var n=-1,r=e.length,i=r>2?e[2]:void 0;for(i&&FM(e[0],e[1],i)&&(r=1);++n<r;)for(var s=e[n],o=lte(s),a=-1,l=o.length;++a<l;){var u=o[a],c=t[u];(c===void 0||Q1(c,HM[u])&&!pte.call(t,u))&&(t[u]=s[u])}return t});const gte=mte,vte=({images:t=[],options:e})=>{e=rte(e,{inline:!1});const n=document.createElement("div"),r=Sl("div",{style:{display:"none"},class:["__viewer-token"]},t.map(a=>Sl("img",typeof a=="string"?{src:a}:a)));Il(r,n);const i=n.firstElementChild;document.body.appendChild(i);const s=new _c(i,e),o=s.destroy.bind(s);return s.destroy=function(){return o(),Il(null,n),s},s.show(),i.addEventListener("hidden",function(){this.viewer===s&&s.destroy()}),s},yte=({name:t="viewer",debug:e=!1}={})=>{async function n(c,d,h=!1,p=!1){await ir(),!(p&&!r(c))&&(h||!c[`$${t}`]?(o(c),c[`$${t}`]=new _c(c,d),u("Viewer created")):(c[`$${t}`].update(),u("Viewer updated")))}function r(c){const d=c.innerHTML.match(/<img([\w\W]+?)[\\/]?>/g),h=d?d.join(""):void 0;return c.__viewerImageDiffCache===h?(u("Element change detected, but image(s) has not changed"),!1):(u("Image change detected"),c.__viewerImageDiffCache=h,!0)}function i(c,d,h,p){a(c);const m=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver;if(!m){u("Observer not supported");return}const g=new m(A=>{A.forEach(C=>{u(`Viewer mutation:${C.type}`),h(c,d,p,!0)})}),y={attributes:!0,childList:!0,characterData:!0,subtree:!0};g.observe(c,y),c.__viewerMutationObserver=g,u("Observer created")}function s(c,d,h,p){c.__viewerUnwatch=cn(()=>d.value,(m,g)=>{u("Change detected by watcher: ",d.value),p(c,m,!0,!1)},{deep:!0}),u("Watcher created, expression: ",d.value)}function o(c){!c[`$${t}`]||(c[`$${t}`].destroy(),delete c[`$${t}`],u("Viewer destroyed"))}function a(c){!c.__viewerMutationObserver||(c.__viewerMutationObserver.disconnect(),delete c.__viewerMutationObserver,u("observer destroyed"))}function l(c){!c.__viewerUnwatch||(c.__viewerUnwatch(),delete c.__viewerUnwatch,u("Watcher destroyed"))}function u(...c){e&&console.log(...c)}return{mounted(c,d,h){u("Viewer bind");const p=fte(n,50);p(c,d.value),s(c,d,h,p),d.modifiers.static||i(c,d.value,p,d.modifiers.rebuild)},unmounted(c){u("Viewer unbind"),a(c),l(c),o(c)}}},bte=xe({name:"Viewer",props:{images:{type:Array,default:()=>[]},rebuild:{type:Boolean,default:!1},trigger:{type:Object,default:null},options:{type:Object,default:()=>null}},emits:["inited"],setup(t,{emit:e}){let n;const r=ie();function i(){n=new _c(r.value,t.options),e("inited",n)}function s(){n&&n.destroy()}function o(){s(),i()}function a(){n?(n.update(),e("inited",n)):i()}function l(){t.rebuild?o():a()}const u={deep:!0};return cn(()=>t.images,()=>{ir(()=>{l()})},u),cn(()=>t.trigger,()=>{ir(()=>{l()})},u),cn(()=>t.options,()=>{ir(()=>{o()})},u),Vt(()=>i()),Gs(()=>s()),{root:r,createViewer:i,rebuildViewer:o,updateViewer:a,destroyViewer:s}}}),_te=(t,e)=>{const n=t.__vccOpts||t;for(const[r,i]of e)n[r]=i;return n},wte={ref:"root"};function Tte(t,e,n,r,i,s){return D(),H("div",wte,[_e(t.$slots,"default",{images:t.images,options:t.options})],512)}const WM=_te(bte,[["render",Tte]]),Ete={install(t,{name:e="viewer",debug:n=!1,defaultOptions:r}={}){r&&_c.setDefaults(r),t.config.globalProperties[`$${e}Api`]=vte,t.component(e,gte(WM,{name:e})),t.directive(e,yte({name:e,debug:n}))},setDefaults(t){_c.setDefaults(t)}};var Ste={root:{position:"relative"}},Ite={root:function(e){var n=e.props;return["p-skeleton p-component",{"p-skeleton-circle":n.shape==="circle","p-skeleton-none":n.animation==="none"}]}},Cte=or.extend({name:"skeleton",classes:Ite,inlineStyles:Ste}),Ate={name:"BaseSkeleton",extends:Ur,props:{shape:{type:String,default:"rectangle"},size:{type:String,default:null},width:{type:String,default:"100%"},height:{type:String,default:"1rem"},borderRadius:{type:String,default:null},animation:{type:String,default:"wave"}},style:Cte,provide:function(){return{$parentInstance:this}}},zM={name:"Skeleton",extends:Ate,inheritAttrs:!1,computed:{containerStyle:function(){return this.size?{width:this.size,height:this.size,borderRadius:this.borderRadius}:{width:this.width,height:this.height,borderRadius:this.borderRadius}}}};function Pte(t,e,n,r,i,s){return D(),H("div",se({class:t.cx("root"),style:[t.sx("root"),s.containerStyle],"aria-hidden":"true"},t.ptmi("root")),null,16)}zM.render=Pte;const Ote=["src"],va=xe({__name:"Image",props:{src:{},imageClass:{}},setup(t){const e=t,r=Uc(Fc).greaterOrEqual("md"),i=ie(!1);return Vt(()=>{const s=new Image;s.src=e.src,s.onload=()=>{i.value=!0}}),(s,o)=>i.value?(D(),ae(P(WM),{key:0,class:"cursor-pointer"},{default:X(()=>[v("img",{class:Le(s.imageClass),src:s.src,style:tr({maxWidth:s.imageClass?void 0:P(r)?"25vw":"100%"})},null,14,Ote)]),_:1})):(D(),ae(P(zM),{key:1,class:"mt-5 background-gray-light",width:"200px",height:"200px"}))}}),r_=xe({__name:"BlogPostImage",props:{coverImageUrl:{},post:{},maxHeight:{},maxWidth:{},alignment:{},thumb:{type:Boolean}},setup(t){const e=t,n=Uc(Fc),r=n.greaterOrEqual("sm"),i=n.greaterOrEqual("md"),s=ie(0),o=ie(0),a=ee(()=>s.value>o.value),l=ee(()=>s.value>o.value*1.5),u=ee(()=>o.value>s.value),c=ee(()=>o.value>s.value*1.5),d=ee(()=>i.value?"60%":r.value?"80%":e.maxHeight?e.maxHeight:a.value&&c.value?"80%":"100%"),h=ee(()=>i.value?"60%":r.value?"80%":e.maxWidth?e.maxWidth:u.value&&l.value?"80%":"100%");return Vt(()=>{const p=new Image;p.src=e.coverImageUrl,p.onload=()=>{s.value=p.height,o.value=p.width}}),(p,m)=>{var g,y;return D(),H("div",{class:Le({flex:!0,"justify-start":p.alignment==="left","justify-center":p.alignment===void 0||p.alignment==="center","justify-end":p.alignment==="right"})},[q(Pn,{class:Le(["!p-0 md:!p-3 my-5",p.thumb?"w-full":"w-fit xl:!p-5 border border-white md:border-none !rounded-none md:!rounded-primary",(g=p.post)==null?void 0:g.colorTertiary,((y=p.post)==null?void 0:y.opacityTertiary)||"bg-opacity-50"]),style:tr({maxHeight:d.value,maxWidth:h.value})},{default:X(()=>[p.thumb?(D(),H("div",{key:0,class:"h-[20vh] inset-0 rounded-primary",style:tr({backgroundImage:`url(${p.coverImageUrl})`,backgroundSize:"cover"})},null,4)):(D(),ae(va,{key:1,src:p.coverImageUrl,"image-class":"cover-image md:rounded-primary"},null,8,["src"]))]),_:1},8,["class","style"])],2)}}}),kte={class:"flex flex-wrap justify-end h-fit gap-3"},ug=xe({__name:"BlogPostMutationButtons",emits:["editClicked","deleteClicked"],setup(t){return(e,n)=>(D(),H("div",kte,[q(at,{class:"min-w-80",label:"Edit",onClick:n[0]||(n[0]=r=>e.$emit("editClicked"))}),q(at,{class:"min-w-80",type:"danger",outlined:"",label:"Delete",onClick:n[1]||(n[1]=r=>e.$emit("deleteClicked"))})]))}}),cg=xe({__name:"BlogPostSectionTitle",props:{class:{},alignment:{},isExpandable:{type:Boolean},isExpanded:{type:Boolean},isSubTitle:{type:Boolean}},emits:["click"],setup(t){const e=t;return(n,r)=>(D(),H("div",{class:Le(["font-bold",{"text-lg md:text-2xl":!n.isSubTitle},{"hover:underline cursor-pointer":n.isExpandable},e.class])},[v("div",{class:Le({block:!n.alignment,flex:!!n.alignment,"justify-start":n.alignment==="left","justify-center":n.alignment==="center","justify-end":n.alignment==="right"})},[v("span",{class:"flex",onClick:r[0]||(r[0]=i=>n.$emit("click"))},[n.isExpandable&&n.alignment==="right"?(D(),H("i",{key:0,class:Le(["pi pi-angle-down animation",{"rotate-180":n.isExpanded}])},null,2)):J("",!0),_e(n.$slots,"default"),n.isExpandable&&(n.alignment==="left"||n.alignment==="center")?(D(),H("i",{key:1,class:Le(["pi pi-angle-down animation",{"rotate-180":n.isExpanded}])},null,2)):J("",!0)])],2)],2))}}),Rte={class:"table w-full md:w-3/4 border border-white border-collapse"},xte={class:"table-row-group"},Dte={key:0,class:"table-row border border-white"},eP=xe({__name:"BlogPostTable",props:{table:{},alignment:{}},setup(t){const e=t,n=ee(()=>f2(e.table));return(r,i)=>(D(),H("div",{class:Le(["my-8 flex",{"justify-start":r.alignment==="left","justify-center":r.alignment==="center"||!r.alignment,"justify-end":r.alignment==="right"}])},[v("div",Rte,[v("div",xte,[(D(!0),H(Pe,null,dt(n.value,(s,o)=>(D(),H(Pe,{key:o},[s.every(a=>!a)?J("",!0):(D(),H("div",Dte,[(D(!0),H(Pe,null,dt(s,(a,l)=>(D(),H(Pe,{key:l},[l!==0||!n.value.every(u=>!u.length||!u[0])?(D(),H("div",{key:0,class:Le(["table-cell border border-white text-center",{"font-bold":o===0||l===0}])},Fe(a),3)):J("",!0)],64))),128))]))],64))),128))])])],2))}}),Nte={class:"flex gap-3"},Mte={class:"flex justify-between h-fit mt-2 gap-2"},Lte={class:"flex flex-wrap gap-3"},Vte={class:"w-full"},$te={class:"w-full"},KM=xe({__name:"BlogPost",props:{post:{}},emits:["editClicked","deleteClicked"],setup(t){const e=t,n=df(),r=Fn(),{fetchBlogPost:i,checkBlogPostForUnreadReactions:s}=r,{blogPosts:o,publicUsers:a,isBlogPostDatabaseActionActive:l}=Rt(r),{firebaseUser:u,isOwner:c}=Rt(sr());let d=[];const h=ie(),p=ie(e.post.archived),m=ee(()=>{var k;return(k=e.post.allowedUserIds)!=null&&k.length?a.value.filter(x=>{var I;return(I=e.post.allowedUserIds)==null?void 0:I.includes(x.id)}):[]}),g=ee(()=>{const k=Oa(new Date(e.post.date)),x=e.post.dateUpdated?Oa(new Date(e.post.dateUpdated)):"";return k+` - updated ${x}`}),y=ee(()=>{const k=[];return e.post.datePinned&&k.push({value:"Pinned",severity:"success",rounded:!1}),e.post.locked&&k.push({value:"Locked",severity:"danger",rounded:!1,icon:"pi pi-lock"}),e.post.archived&&k.push({value:"Archived",severity:"warning",rounded:!1,icon:"pi pi-file-excel"}),k}),A=ee(()=>e.post.sections.map(k=>({...k,isExpandable:C(k)}))),C=k=>!!k.description||!!k.coverImageUrl||!!k.bullets.length||!!k.table,S=()=>{const k=document.createElement("textarea"),{protocol:x,hostname:I,port:b}=window.location,_=`${x}//${I}`+(I==="localhost"?`:${b}`:"");k.value=`${_}#${lT.BLOG.path}/${e.post.id}`,document.body.appendChild(k),k.select(),document.execCommand("copy"),document.body.removeChild(k),Ze.success("Copied link!")},E=k=>{k.metadata.hasPendingWrites||l.value||(clearTimeout(h.value),h.value=setTimeout(async()=>{await i(e.post.id,void 0,{loadingIndicator:!1}),s(o.value.previousData.single,!0)},200))};return Vt(async()=>{if(n.currentRoute.value.name!==_n.BLOG){const k=lo(e.post),x=$t.blogPosts(k.isPrivate),I=$t.blogReactions(k.isPrivate),b=Wt(x,e.post.id),_=T0(x,Fm("id","==",e.post.id)),T=T0(I,Fm("post","==",b));d.push(Tu(_,E)),d.push(Tu(T,E))}}),Gs(()=>{clearTimeout(h.value),d.forEach(k=>{k()})}),(k,x)=>(D(),ae(Pn,{id:k.post.id,class:Le([{"min-h-[90vh]":!p.value},"border-4 border-transparent","!rounded-primary",k.post.colorSecondary||k.post.colorPrimary||"bg-secondary-900",k.post.opacitySecondary||"bg-opacity-50"]),title:k.post.title,subTitle:g.value,tags:y.value,loading:k.post.loading,isCollapsed:p.value,clickable:"",onClick:x[4]||(x[4]=I=>p.value=!p.value)},{right:X(()=>[v("div",Nte,[p.value?P(c)?(D(),ae(ug,{key:1,onEditClicked:x[0]||(x[0]=I=>k.$emit("editClicked")),onDeleteClicked:x[1]||(x[1]=I=>k.$emit("deleteClicked"))})):J("",!0):(D(),ae(at,{key:0,class:"border-none h-fit",type:"neutral",icon:"pi pi-copy",onClick:S}))])]),default:X(()=>{var I;return[v("div",Mte,[v("div",Lte,[(D(!0),H(Pe,null,dt(m.value,b=>{var _;return D(),ae(P(W1),{class:"h-fit !p-0 !px-4 !py-1 bg-red-800 bg-opacity-50",icon:"pi pi-user",label:b.id===((_=P(u))==null?void 0:_.uid)?"You":b.displayName,rounded:""},null,8,["label"])}),256))]),P(c)?(D(),H("div",{key:0,class:Le(["flex justify-end ms-5",(I=k.post.allowedUserIds)!=null&&I.length?"flex-col md:flex-row":"flex-row"])},[q(ug,{onEditClicked:x[2]||(x[2]=b=>k.$emit("editClicked")),onDeleteClicked:x[3]||(x[3]=b=>k.$emit("deleteClicked"))})],2)):J("",!0)]),q(Pn,{class:Le(["z-10 min-h-[125px] md:min-h-[160px] p-5 mt-5",k.post.colorPrimary,k.post.opacityPrimary||"bg-opacity-50"])},{default:X(()=>[v("div",{class:Le(["flex relative",k.post.countdown||k.post.alignment==="center"?"flex justify-between":""])},[v("div",Vte,[k.post.countdown?(D(),ae(Jo,{key:0,time:new Date(k.post.countdown).getTime(),direction:"down",alignment:k.post.alignment},null,8,["time","alignment"])):J("",!0),k.post.timer?(D(),ae(Jo,{key:1,time:new Date(k.post.timer).getTime(),direction:"up",alignment:k.post.alignment},null,8,["time","alignment"])):J("",!0),k.post.description?(D(),ae(em,{key:2,description:k.post.description},null,8,["description"])):J("",!0)])],2),k.post.coverImageUrl?(D(),ae(r_,{key:0,post:k.post,"cover-image-url":k.post.coverImageUrl},null,8,["post","cover-image-url"])):J("",!0),k.post.descriptionFooter?(D(),ae(em,{key:1,class:"mb-5",description:k.post.descriptionFooter},null,8,["description"])):J("",!0),k.post.table?(D(),ae(eP,{key:2,table:k.post.table},null,8,["table"])):J("",!0),q(P(er),{onTabOpen:P(cr)},{default:X(()=>[(D(!0),H(Pe,null,dt(A.value,b=>(D(),ae(P(Ve),{disabled:!b.isExpandable,pt:{headerAction:{class:["px-0 bg-transparent",b.isExpandable?void 0:"cursor-auto"]},headerIcon:{class:{invisible:!b.isExpandable}}}},fr({header:X(()=>[v("div",$te,[b.title?(D(),ae(cg,{key:0,alignment:b.alignment},{default:X(()=>[K(Fe(b.title),1)]),_:2},1032,["alignment"])):J("",!0),b.subTitle?(D(),ae(cg,{key:1,alignment:b.alignment,"is-sub-title":""},{default:X(()=>[K(Fe(b.subTitle),1)]),_:2},1032,["alignment"])):J("",!0),b.isExpandable?J("",!0):(D(),H(Pe,{key:2},[b.countdown?(D(),ae(Jo,{key:0,time:new Date(b.countdown).getTime(),direction:"down",alignment:b.alignment},null,8,["time","alignment"])):J("",!0),b.timer?(D(),ae(Jo,{key:1,time:new Date(b.timer).getTime(),direction:"up",alignment:b.alignment},null,8,["time","alignment"])):J("",!0)],64))])]),default:X(()=>[b.description?(D(),ae(em,{key:0,description:b.description,alignment:b.alignment},null,8,["description","alignment"])):J("",!0),b.coverImageUrl?(D(),ae(r_,{key:1,post:k.post,"cover-image-url":b.coverImageUrl,alignment:b.alignment,"max-height":"30%"},null,8,["post","cover-image-url","alignment"])):J("",!0),q(gJ,{bullets:b.bullets,alignment:b.alignment},null,8,["bullets","alignment"]),b.isExpandable?(D(),H(Pe,{key:2},[b.countdown?(D(),ae(Jo,{key:0,time:new Date(b.countdown).getTime(),direction:"down",alignment:b.alignment},null,8,["time","alignment"])):J("",!0),b.timer?(D(),ae(Jo,{key:1,time:new Date(b.timer).getTime(),direction:"up",alignment:b.alignment},null,8,["time","alignment"])):J("",!0)],64)):J("",!0),b.table?(D(),ae(eP,{key:3,table:b.table,alignment:b.alignment},null,8,["table","alignment"])):J("",!0)]),_:2},[b.isExpandable?void 0:{name:"headericon",fn:X(()=>[]),key:"0"}]),1032,["disabled","pt"]))),256))]),_:1},8,["onTabOpen"])]),_:1},8,["class"]),q(UX,{post:k.post},null,8,["post"])]}),_:1},8,["id","class","title","subTitle","tags","loading","isCollapsed"]))}}),Fte={key:0,class:"flex justify-center mt-5"},Ute={class:"grid grid-cols-6 mb-5 gap-5"},qte=xe({__name:"BlogDetails",emits:["createClicked","editClicked","deleteClicked"],setup(t){const e=hf(),n=df(),{firebaseUser:r}=Rt(sr()),i=Fn(),{fetchBlogPost:s}=i,{blogPosts:o,blogReactions:a,isBlogPostsFetchLoading:l}=Rt(i),u=ee(()=>e.params.postId);return Vt(async()=>{var c;if(a.value.unread=[],u.value)if(((c=o.value.data.single)==null?void 0:c.id)!==u.value){const d=await s(u.value);if(o0(d)&&d===vw.PERMISSION_DENIED&&!r.value){n.push({name:_n.LOGIN,params:{redirect:JSON.stringify({name:_n.BLOG_DETAILS,params:{postId:u.value}})}});return}}else o.value.data.single}),(c,d)=>P(l)?(D(),H("div",Fte,[q(at,{class:"w-full md:w-1/2 xl:w-1/4",outlined:"",loading:"",label:"Loading..."})])):(D(),H(Pe,{key:1},[v("div",Ute,[q(at,{class:"col-span-full md:col-start-2 md:col-span-4 lg:col-start-3 lg:col-span-2",type:"tertiary",route:P(_n).BLOG,label:"All Posts"},null,8,["route"])]),P(o).data.single?(D(),ae(KM,{key:0,post:P(o).data.single,onEditClicked:d[0]||(d[0]=h=>c.$emit("editClicked",P(o).data.single)),onDeleteClicked:d[1]||(d[1]=h=>c.$emit("deleteClicked",P(o).data.single))},null,8,["post"])):J("",!0)],64))}});var Bte={root:"p-card p-component",header:"p-card-header",body:"p-card-body",caption:"p-card-caption",title:"p-card-title",subtitle:"p-card-subtitle",content:"p-card-content",footer:"p-card-footer"},jte=or.extend({name:"card",classes:Bte}),Hte={name:"BaseCard",extends:Ur,style:jte},GM={name:"Card",extends:Hte,inheritAttrs:!1};function Wte(t,e,n,r,i,s){return D(),H("div",se({class:t.cx("root")},t.ptmi("root")),[t.$slots.header?(D(),H("div",se({key:0,class:t.cx("header")},t.ptm("header")),[_e(t.$slots,"header")],16)):J("",!0),v("div",se({class:t.cx("body")},t.ptm("body")),[t.$slots.title||t.$slots.subtitle?(D(),H("div",se({key:0,class:t.cx("caption")},t.ptm("caption")),[t.$slots.title?(D(),H("div",se({key:0,class:t.cx("title")},t.ptm("title")),[_e(t.$slots,"title")],16)):J("",!0),t.$slots.subtitle?(D(),H("div",se({key:1,class:t.cx("subtitle")},t.ptm("subtitle")),[_e(t.$slots,"subtitle")],16)):J("",!0)],16)):J("",!0),v("div",se({class:t.cx("content")},t.ptm("content")),[_e(t.$slots,"content")],16),t.$slots.footer?(D(),H("div",se({key:1,class:t.cx("footer")},t.ptm("footer")),[_e(t.$slots,"footer")],16)):J("",!0)],16)],16)}GM.render=Wte;const zte={class:"flex gap-3"},Kte={class:"min-h-[50vh] flex flex-col"},Gte={class:"flex justify-between h-fit mt-2 gap-2"},Yte={class:"flex flex-wrap gap-3"},Qte={class:"relative mt-5 min-h-[20vh] max-h-screen flex flex-col justify-end"},Xte=v("div",{class:"absolute inset-0 rounded-secondary bg-gradient-to-t from-neutral-500 to-transparent"},null,-1),Jte={class:"relative min-h-[20vh] max-h-full flex-grow"},Zte={class:"w-full"},ene={key:3,class:"w-full"},tne={class:"flex justify-center"},nne={class:"flex justify-center mt-3"},rne=xe({__name:"BlogPostOverview",props:{post:{}},emits:["editClicked","deleteClicked"],setup(t){const e=t,{publicUsers:n}=Rt(Fn()),{firebaseUser:r,isOwner:i}=Rt(sr()),s=ie(e.post.archived),o=ee(()=>{var d;return(d=e.post.allowedUserIds)!=null&&d.length?n.value.filter(h=>{var p;return(p=e.post.allowedUserIds)==null?void 0:p.includes(h.id)}):[]}),a=ee(()=>{const d=Oa(new Date(e.post.date)),h=e.post.dateUpdated?Oa(new Date(e.post.dateUpdated)):"";return d+` - updated ${h}`}),l=ee(()=>{const d=[];return e.post.datePinned&&d.push({value:"Pinned",severity:"success",rounded:!1}),e.post.locked&&d.push({value:"Locked",severity:"danger",rounded:!1,icon:"pi pi-lock"}),e.post.archived&&d.push({value:"Archived",severity:"warning",rounded:!1,icon:"pi pi-file-excel"}),d}),u=ee(()=>e.post.sections.length?e.post.sections[0]:null),c=()=>{const d=document.createElement("textarea"),{protocol:h,hostname:p,port:m}=window.location,g=`${h}//${p}`+(p==="localhost"?`:${m}`:"");d.value=`${g}#${lT.BLOG.path}/${e.post.id}`,document.body.appendChild(d),d.select(),document.execCommand("copy"),document.body.removeChild(d),Ze.success("Copied link!")};return(d,h)=>(D(),ae(Pn,{id:d.post.id,class:Le([{"min-h-[50vh]":!s.value},"border-4 border-transparent","!rounded-primary",d.post.colorSecondary||d.post.colorPrimary||"bg-secondary-900",d.post.opacitySecondary||"bg-opacity-50"]),title:d.post.title,subTitle:a.value,tags:l.value,loading:d.post.loading,isCollapsed:s.value,clickable:"",onClick:h[6]||(h[6]=p=>s.value=!s.value)},{right:X(()=>[v("div",zte,[s.value?P(i)?(D(),ae(ug,{key:1,onEditClicked:h[0]||(h[0]=p=>d.$emit("editClicked")),onDeleteClicked:h[1]||(h[1]=p=>d.$emit("deleteClicked"))})):J("",!0):(D(),ae(at,{key:0,class:"border-none h-fit",type:"neutral",icon:"pi pi-copy",onClick:c}))])]),default:X(()=>{var p;return[v("div",Kte,[v("div",Gte,[v("div",Yte,[(D(!0),H(Pe,null,dt(o.value,m=>{var g;return D(),ae(P(W1),{class:"h-fit !p-0 !px-4 !py-1 bg-red-800 bg-opacity-50",icon:"pi pi-user",label:m.id===((g=P(r))==null?void 0:g.uid)?"You":m.displayName,rounded:""},null,8,["label"])}),256))]),P(i)?(D(),H("div",{key:0,class:Le(["flex justify-end ms-5",(p=d.post.allowedUserIds)!=null&&p.length?"flex-col md:flex-row":"flex-row"])},[q(ug,{onEditClicked:h[2]||(h[2]=m=>d.$emit("editClicked")),onDeleteClicked:h[3]||(h[3]=m=>d.$emit("deleteClicked"))})],2)):J("",!0)]),v("div",Qte,[Xte,v("div",Jte,[q(P(GM),{class:Le(["z-10 min-h-[20vh] p-5 text-neutral-300",d.post.colorPrimary,d.post.opacityPrimary||"bg-opacity-50"])},{header:X(()=>[d.post.coverImageUrl?(D(),ae(r_,{key:0,post:d.post,"cover-image-url":d.post.coverImageUrl,thumb:""},null,8,["post","cover-image-url"])):J("",!0)]),content:X(()=>[v("div",{class:Le(["flex relative",d.post.countdown||d.post.alignment==="center"?"flex justify-between":""])},[v("div",Zte,[d.post.countdown?(D(),ae(Jo,{key:0,time:new Date(d.post.countdown).getTime(),direction:"down",alignment:d.post.alignment},null,8,["time","alignment"])):J("",!0),d.post.timer?(D(),ae(Jo,{key:1,time:new Date(d.post.timer).getTime(),direction:"up",alignment:d.post.alignment},null,8,["time","alignment"])):J("",!0),d.post.description?(D(),ae(em,{key:2,description:d.post.description.substring(0,50)+(d.post.description.length>=50?"...":"")},null,8,["description"])):u.value?(D(),H("div",ene,[u.value.title?(D(),ae(cg,{key:0,alignment:u.value.alignment},{default:X(()=>[K(Fe(u.value.subTitle?u.value.title:`${u.value.title}...`),1)]),_:1},8,["alignment"])):J("",!0),u.value.subTitle?(D(),ae(cg,{key:1,alignment:u.value.alignment,"is-sub-title":""},{default:X(()=>[K(Fe(u.value.subTitle)+"... ",1)]),_:1},8,["alignment"])):J("",!0)])):J("",!0)])],2)]),footer:X(()=>[v("div",tne,[q(at,{class:"w-full md:w-1/2",type:"neutral",label:"Read more",onClick:h[4]||(h[4]=m=>P(Wh).push({name:P(_n).BLOG_DETAILS,params:{postId:d.post.id}}))})]),v("div",nne,[v("p",{class:Le(d.post.reactions.length?"text-yellow-400 cursor-pointer":"text-neutral-200"),onClick:h[5]||(h[5]=m=>P(Wh).push({name:P(_n).BLOG_DETAILS,params:{postId:d.post.id}}))},Fe(d.post.reactions.length)+" replies ",3)])]),_:1},8,["class"])])])])]}),_:1},8,["id","class","title","subTitle","tags","loading","isCollapsed"]))}}),ine={key:0,class:"grid grid-cols-6 mb-5 gap-5"},sne={key:1,class:"grid grid-cols-6 lg:hidden mb-5"},one={class:"grid gap-4 md:gap-10 xl:gap-20"},ane={key:2,class:"flex justify-center mt-5"},lne=xe({__name:"BlogPosts",emits:["createClicked","editClicked","deleteClicked"],setup(t){const e=Fn(),{fetchBlogPosts:n,checkBlogPostsForUnreadReactions:r}=e,{blogPosts:i,visibleBlogPosts:s,blogReactions:o,isBlogPostDatabaseActionActive:a,isBlogPostsFetchLoading:l}=Rt(e),{isOwner:u,firebaseUser:c}=Rt(sr());let d=[];const h=ie(),p=ie(),m=ie(),g=ie(),y=async S=>{var E;i.value.visibility!==S&&(i.value.data[S].length||await n((E=c.value)==null?void 0:E.uid,{visibility:S}),i.value.visibility=S,i.value.isLastPage=!1,Gp(h.value))},A=async()=>{var E;const S=s.value.length;await n((E=c.value)==null?void 0:E.uid),s.value[S]&&Gp(p.value[S])},C=S=>{S.metadata.hasPendingWrites||a.value||(clearTimeout(g.value),g.value=setTimeout(async()=>{var E;await n((E=c.value)==null?void 0:E.uid,{amount:s.value.length,loadingIndicator:!1}),r()},200))};return Vt(()=>{o.value.unread=[],d.push(Tu($t.blogPosts(!1),C)),d.push(Tu($t.blogReactions(!1),C)),c.value?(d.push(Tu($t.blogPosts(!0),C)),d.push(Tu($t.blogReactions(!0),C)),i.value.visibility="private"):i.value.visibility!=="public"&&(i.value.visibility="public")}),Gs(()=>{clearTimeout(g.value),d.forEach(S=>{S()})}),cn(()=>{var S;return(S=p.value)==null?void 0:S.length},()=>{var S;if((S=p.value)!=null&&S.length&&m.value){const E=s.value.find(k=>k.id===m.value);if(E){const k=s.value.indexOf(E);Gp(p.value[k]),m.value=void 0}}}),(S,E)=>(D(),H("div",{ref_key:"container",ref:h},[P(c)?(D(),H("div",ine,[q(at,{class:"hidden lg:block col-span-2",type:"secondary",outlined:P(i).visibility!=="public",loading:P(i).isLoading.public.fetch,label:"Public Posts",onClick:E[0]||(E[0]=k=>y("public"))},null,8,["outlined","loading"]),P(u)?(D(),ae(at,{key:0,class:"col-span-full md:col-start-2 md:col-span-4 lg:col-start-3 lg:col-span-2",type:"tertiary",label:"New Post",onClick:E[1]||(E[1]=k=>S.$emit("createClicked"))})):J("",!0),q(at,{class:"hidden lg:block col-start-5 col-span-2",type:"secondary",outlined:P(i).visibility!=="private",loading:P(i).isLoading.private.fetch,label:"Private Posts",onClick:E[2]||(E[2]=k=>y("private"))},null,8,["outlined","loading"])])):J("",!0),P(c)?(D(),H("div",sne,[q(at,{class:"col-span-3 md:col-start-2 md:col-span-2 rounded-r-none",type:"secondary",outlined:P(i).visibility!=="public",loading:P(i).isLoading.public.fetch,label:"Public Posts",onClick:E[3]||(E[3]=k=>y("public"))},null,8,["outlined","loading"]),q(at,{class:"col-span-3 md:col-start-4 md:col-span-2 rounded-l-none",type:"secondary",outlined:P(i).visibility!=="private",loading:P(i).isLoading.private.fetch,label:"Private Posts",onClick:E[4]||(E[4]=k=>y("private"))},null,8,["outlined","loading"])])):J("",!0),v("div",one,[P(s).length?(D(!0),H(Pe,{key:0},dt(P(s),(k,x)=>(D(),H("div",{key:k.id,ref_for:!0,ref_key:"posts",ref:p},[x===0?(D(),ae(KM,{key:0,post:k,onEditClicked:I=>S.$emit("editClicked",k),onDeleteClicked:I=>S.$emit("deleteClicked",k)},null,8,["post","onEditClicked","onDeleteClicked"])):(D(),ae(rne,{key:1,post:k,onEditClicked:I=>S.$emit("editClicked",k),onDeleteClicked:I=>S.$emit("deleteClicked",k)},null,8,["post","onEditClicked","onDeleteClicked"]))]))),128)):P(l)?J("",!0):(D(),ae(Pn,{key:1,class:"!bg-red-900 !bg-opacity-40 !rounded-primary",title:"No posts"}))]),P(i).isLastPage?J("",!0):(D(),H("div",ane,[q(at,{class:"w-full md:w-1/2 xl:w-1/4",outlined:"",loading:P(s).length>0&&P(l),label:"Load more posts",onClick:A},null,8,["loading"])]))],512))}}),une={key:0,class:"fixed z-10 inset-0 flex items-center justify-center overflow-auto"},cne={class:"relative w-full md:w-3/4 lg:w-1/2 max-h-screen"},dne={class:"bg-neutral-800 border border-neutral-500 rounded-primary p-5"},hne={class:"sm:p-8"},fne={class:"text-title-secondary"},pne={class:"mt-4 text-neutral-300"},mne={class:"my-2"},gne={class:"grid grid-cols-4 mt-10 gap-3"},J1=xe({__name:"Dialog",props:{isOpen:{type:Boolean},title:{},description:{},confirmText:{},confirmLoading:{type:Boolean},confirmProps:{}},emits:["confirm","cancel"],setup(t){const e=t;return af(()=>{document.body.style.overflow=""}),cn(()=>e.isOpen,()=>{e.isOpen?(document.body.style.overflow="hidden",document.body.style.marginRight=`${O7()}px`):(document.body.style.marginRight="",document.body.style.overflow="")}),(n,r)=>n.isOpen?(D(),H("div",une,[v("div",{class:"fixed inset-0 bg-neutral-900 opacity-50 animation",onClick:r[0]||(r[0]=i=>n.$emit("cancel"))}),v("div",cne,[v("div",dne,[v("div",hne,[v("h3",fne,Fe(n.title),1),v("div",pne,[(D(!0),H(Pe,null,dt(Array.isArray(n.description)?[...n.description]:[n.description],i=>(D(),H("p",mne,Fe(i),1))),256))]),_e(n.$slots,"default")]),v("div",gne,[q(at,{class:Le(["col-span-full",n.confirmText?"md:col-span-2":""]),outlined:"",label:"Cancel",onClick:r[1]||(r[1]=i=>n.$emit("cancel"))},null,8,["class"]),n.confirmText?(D(),ae(at,se({key:0,class:"col-span-full md:col-span-2 md:col-start-3",loading:n.confirmLoading},n.confirmProps,{label:n.confirmText,onClick:r[2]||(r[2]=i=>n.$emit("confirm"))}),null,16,["loading","label"])):J("",!0)])])])])):J("",!0)}}),Qy=t=>(t==null?void 0:t.id)??c1(),Xy=t=>{var e;return{date:(t==null?void 0:t.date)||new Date,dateUpdated:(t==null?void 0:t.dateUpdated)||new Date,title:(t==null?void 0:t.title)??"",description:(t==null?void 0:t.description)??"",descriptionFooter:(t==null?void 0:t.descriptionFooter)??"",coverImageUrl:(t==null?void 0:t.coverImageUrl)??"",timer:(t==null?void 0:t.timer)??null,countdown:(t==null?void 0:t.countdown)??null,table:(t==null?void 0:t.table)??"",sections:((e=t==null?void 0:t.sections)==null?void 0:e.slice().map(n=>({...n,bullets:n.bullets.slice()})))??[],alignment:(t==null?void 0:t.alignment)??"center",colorPrimary:(t==null?void 0:t.colorPrimary)??"",colorSecondary:(t==null?void 0:t.colorSecondary)??"",colorTertiary:(t==null?void 0:t.colorTertiary)??"",opacityPrimary:(t==null?void 0:t.opacityPrimary)??"",opacitySecondary:(t==null?void 0:t.opacitySecondary)??"",opacityTertiary:(t==null?void 0:t.opacityTertiary)??"",locked:(t==null?void 0:t.locked)??!1,allowedUserIds:(t==null?void 0:t.allowedUserIds)??[],archived:(t==null?void 0:t.archived)??!1,datePinned:(t==null?void 0:t.datePinned)??null}},xf=gw("blogPostDialog",{state:()=>({isOpen:!1,blogPostOriginal:null,blogPostMutationId:Qy(null),blogPostMutation:Xy(null),blogPostMutationChanges:{hasContentChanges:!1,hasStylingChanges:!1,hasSettingsChanges:!1}}),getters:{blogPostOriginalMutation:t=>t.blogPostOriginal?Cr.convert(t.blogPostOriginal):null,hasBlogPostMutationContentChanges:t=>t.blogPostMutationChanges.hasContentChanges,hasBlogPostMutationStylingChanges:t=>t.blogPostMutationChanges.hasStylingChanges,hasBlogPostMutationSettingsChanges:t=>t.blogPostMutationChanges.hasSettingsChanges},actions:{openWith(t){this.blogPostOriginal=t,this.blogPostMutationId=Qy(t),this.blogPostMutation=Xy(t),this.isOpen=!0},close(){this.isOpen=!1,this.blogPostOriginal=null,this.blogPostMutationId=Qy(null),this.blogPostMutation=Xy(null)},getBlogPostMutationContent(){return Cr.Content.convert(this.blogPostMutation)},getBlogPostMutationStyling(){return Cr.Styling.convert(this.blogPostMutation)},getBlogPostMutationSettings(){return Cr.Settings.convert(this.blogPostMutation)},async isMutationEqual(){this.blogPostOriginalMutation&&(this.blogPostMutationChanges.hasContentChanges=!gs(Cr.Content.convert(this.blogPostOriginalMutation),this.getBlogPostMutationContent()),this.blogPostMutationChanges.hasStylingChanges=!gs(Cr.Styling.convert(this.blogPostOriginalMutation),this.getBlogPostMutationStyling()),this.blogPostMutationChanges.hasSettingsChanges=!gs(Cr.Settings.convert(this.blogPostOriginalMutation),this.getBlogPostMutationSettings()))}}}),vne={class:"m-4"},yne=["for"],dg=xe({__name:"DateField",props:{id:{},name:{},label:{},modelValue:{},labelProps:{}},emits:["update:modelValue","update:error"],setup(t,{expose:e,emit:n}){const r=t,i=ee({get:()=>r.modelValue,set:l=>{a("update:modelValue",l)}}),s=ee(()=>r.name+(r.id!==void 0?"."+r.id:"")),o=()=>{},a=n;return e({test:o}),(l,u)=>{const c=On("VueDatePicker");return D(),H("div",vne,[l.label?(D(),H("label",se({key:0,class:"block text-sm font-bold mb-2",for:"dp-input-"+s.value},l.labelProps),Fe(l.label),17,yne)):J("",!0),q(c,{uid:s.value,class:"p-input px-5",modelValue:i.value,"onUpdate:modelValue":u[0]||(u[0]=d=>i.value=d),dark:""},null,8,["uid","modelValue"])])}}}),bne={class:"m-4"},_ne=["for"],wne={class:"table w-full"},Tne={class:"table-header-group"},Ene={key:0,class:"table-row"},Sne={class:"table-cell"},Ine={class:"table-cell"},Cne={class:"table-row-group"},Ane={key:0,class:"table-cell"},Pne={key:1,class:"table-cell"},One={key:2,class:"table-cell"},kne={class:"table-footer-group"},Rne={class:"table-row"},xne={class:"table-cell"},YM=xe({__name:"TableField",props:{id:{},name:{},label:{},modelValue:{},labelProps:{}},emits:["update:modelValue","update:error"],setup(t,{emit:e}){const n=t,r=e,s=Uc(Fc).greaterOrEqual("md"),o=ee({get:()=>f2(n.modelValue),set:g=>{r("update:modelValue",GI(g))}}),a=ee(()=>n.name+(n.id?"."+n.id:"")),l=ee(()=>{var g;return s.value&&((g=o.value[0])==null?void 0:g.length)<3}),u=(g,y,A)=>{const C=[...o.value];C[g][y]=A,r("update:modelValue",GI(C))},c=()=>{const g=o.value;if(g.length){const y=g[0];y.length?o.value=[...g,y.map(()=>"")]:o.value=[...g,[""]]}else o.value=[[""]]},d=()=>{o.value=o.value.slice(0,-1)},h=()=>{o.value=o.value.map(g=>[...g,""])},p=()=>{o.value=o.value.map(g=>g.slice(0,-1))},m=(g,y)=>g===y.length-1;return(g,y)=>(D(),H("div",bne,[g.label?(D(),H("label",se({key:0,class:"block text-sm font-bold mb-2",for:a.value},g.labelProps),Fe(g.label),17,_ne)):J("",!0),v("div",wne,[v("div",Tne,[o.value.length&&o.value[0].length>1?(D(),H("div",Ene,[(D(!0),H(Pe,null,dt(o.value[0].slice(0,-1),A=>(D(),H("div",Sne))),256)),v("div",Ine,[o.value.length&&o.value[0].length?(D(),ae(P(Cu),{key:0,class:"md:text-start text-nowrap",icon:"pi pi-times",label:l.value?"Remove column":void 0,onClick:p},null,8,["label"])):J("",!0)])])):J("",!0)]),v("div",Cne,[(D(!0),H(Pe,null,dt(o.value,(A,C)=>(D(),H("div",{key:C,class:"table-row"},[(D(!0),H(Pe,null,dt(A,(S,E)=>(D(),ae(ti,{class:"table-cell !m-0",key:E,name:`${g.name}.${C}.${E}`,modelValue:S,placeholder:C===0||E===0?"header":"cell","onUpdate:modelValue":k=>u(C,E,k.toString())},null,8,["name","modelValue","placeholder","onUpdate:modelValue"]))),128)),C===0?(D(),H("div",Ane,[q(P(Cu),{class:"md:text-start text-nowrap",icon:"pi pi-plus",label:l.value?"Add column":void 0,onClick:h},null,8,["label"])])):m(C,o.value)&&o.value.length>1?(D(),H("div",Pne,[q(P(Cu),{class:"md:text-start text-nowrap",icon:"pi pi-times",label:l.value?"Remove row":void 0,onClick:d},null,8,["label"])])):(D(),H("div",One))]))),128))]),v("div",kne,[v("div",Rne,[v("div",xne,[q(P(Cu),{class:"md:text-start text-nowrap",icon:"pi pi-plus",label:l.value?"Add row":void 0,onClick:c},null,8,["label"])])])])])]))}}),Dne={class:"m-4"},Nne=["for"],Mne={class:"flex justify-between gap-1"},Lne=["id","disabled"],Vne={key:2},$ne={class:"flex justify-center"},Fne=["src"],Z1=xe({__name:"FileUpload",props:{id:{},name:{},label:{},modelValue:{},error:{},isPublic:{type:Boolean},blogPost:{},imageProps:{},imageContainerProps:{}},emits:["update:modelValue","update:error"],setup(t,{expose:e,emit:n}){const r=t,{firebaseUser:i}=Rt(sr()),{fetchFileInfo:s,uploadFile:o,deleteFile:a}=Fn(),l=ie(),u=ie(null),c=ie(0),d=ee(()=>C0(r.modelValue||"uploads/"+c1())),h=ee(()=>d.value.name),p=ie(),m=ie(""),g=E=>{const k=E.target;k.files&&k.files.length>0&&(u.value=k.files[0],m.value=u.value.name,y())},y=async()=>{var E,k;u.value&&((E=i.value)!=null&&E.uid)&&await o(d.value,u.value,x=>c.value=x,m.value,(k=i.value)==null?void 0:k.uid,r.isPublic,r.blogPost)&&(S("update:modelValue",await g7(d.value)),u.value=null,c.value=0)},A=async()=>{await a(d.value)?(window.URL.revokeObjectURL(r.modelValue),l.value.value=null,S("update:modelValue","")):S("update:error","Failed to delete File reference")},C=()=>{};cn(()=>r.modelValue,async()=>{var E;p.value=r.modelValue?await s(h.value):void 0,m.value=((E=p.value)==null?void 0:E.name)??""},{immediate:!0});const S=n;return e({test:C}),(E,k)=>(D(),H("div",Dne,[E.label?(D(),H("label",{key:0,class:"block text-sm font-bold mb-2",for:`${E.id}`},Fe(E.label),9,Nne)):J("",!0),v("div",Mne,[v("input",{id:`${E.id}`,ref_key:"fileUpload",ref:l,type:"file",accept:"image/*",onChange:g,class:"p-input",disabled:!!p.value},null,40,Lne),E.modelValue?(D(),ae(SM,{key:0,onClick:A})):J("",!0)]),E.error?(D(),ae(Av,{key:1,name:E.name,error:E.error},null,8,["name","error"])):J("",!0),c.value>0?(D(),H("div",Vne,"Uploading: "+Fe(c.value.toFixed(2))+"%",1)):J("",!0),v("div",$ne,[v("div",Vn(hr(E.imageContainerProps)),[p.value?(D(),H("img",se({key:0,class:"p-input-file mt-4 w-full min-w-25 md:max-w-fit",src:E.modelValue},E.imageProps),null,16,Fne)):J("",!0)],16)])]))}}),Une="modulepreload",qne=function(t,e){return new URL(t,e).href},tP={},Bne=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){const s=document.getElementsByTagName("link");i=Promise.all(n.map(o=>{if(o=qne(o,r),o in tP)return;tP[o]=!0;const a=o.endsWith(".css"),l=a?'[rel="stylesheet"]':"";if(!!r)for(let d=s.length-1;d>=0;d--){const h=s[d];if(h.href===o&&(!a||h.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${o}"]${l}`))return;const c=document.createElement("link");if(c.rel=a?"stylesheet":Une,a||(c.as="script",c.crossOrigin=""),c.href=o,document.head.appendChild(c),a)return new Promise((d,h)=>{c.addEventListener("load",d),c.addEventListener("error",()=>h(new Error(`Unable to preload CSS for ${o}`)))})}))}return i.then(()=>e()).catch(s=>{const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=s,window.dispatchEvent(o),!o.defaultPrevented)throw s})};var jne=`
/*!
* Quill Editor v1.3.3
* https://quilljs.com/
* Copyright (c) 2014, Jason Chen
* Copyright (c) 2013, salesforce.com
*/
.ql-container {
    box-sizing: border-box;
    font-family: Helvetica, Arial, sans-serif;
    font-size: 13px;
    height: 100%;
    margin: 0px;
    position: relative;
}
.ql-container.ql-disabled .ql-tooltip {
    visibility: hidden;
}
.ql-container.ql-disabled .ql-editor ul[data-checked] > li::before {
    pointer-events: none;
}
.ql-clipboard {
    left: -100000px;
    height: 1px;
    overflow-y: hidden;
    position: absolute;
    top: 50%;
}
.ql-clipboard p {
    margin: 0;
    padding: 0;
}
.ql-editor {
    box-sizing: border-box;
    line-height: 1.42;
    height: 100%;
    outline: none;
    overflow-y: auto;
    padding: 12px 15px;
    tab-size: 4;
    -moz-tab-size: 4;
    text-align: left;
    white-space: pre-wrap;
    word-wrap: break-word;
}
.ql-editor > * {
    cursor: text;
}
.ql-editor p,
.ql-editor ol,
.ql-editor ul,
.ql-editor pre,
.ql-editor blockquote,
.ql-editor h1,
.ql-editor h2,
.ql-editor h3,
.ql-editor h4,
.ql-editor h5,
.ql-editor h6 {
    margin: 0;
    padding: 0;
    counter-reset: list-1 list-2 list-3 list-4 list-5 list-6 list-7 list-8 list-9;
}
.ql-editor ol,
.ql-editor ul {
    padding-left: 1.5rem;
}
.ql-editor ol > li,
.ql-editor ul > li {
    list-style-type: none;
}
.ql-editor ul > li::before {
    content: '\\2022';
}
.ql-editor ul[data-checked='true'],
.ql-editor ul[data-checked='false'] {
    pointer-events: none;
}
.ql-editor ul[data-checked='true'] > li *,
.ql-editor ul[data-checked='false'] > li * {
    pointer-events: all;
}
.ql-editor ul[data-checked='true'] > li::before,
.ql-editor ul[data-checked='false'] > li::before {
    color: #777;
    cursor: pointer;
    pointer-events: all;
}
.ql-editor ul[data-checked='true'] > li::before {
    content: '\\2611';
}
.ql-editor ul[data-checked='false'] > li::before {
    content: '\\2610';
}
.ql-editor li::before {
    display: inline-block;
    white-space: nowrap;
    width: 1.2rem;
}
.ql-editor li:not(.ql-direction-rtl)::before {
    margin-left: -1.5rem;
    margin-right: 0.3rem;
    text-align: right;
}
.ql-editor li.ql-direction-rtl::before {
    margin-left: 0.3rem;
    margin-right: -1.5rem;
}
.ql-editor ol li:not(.ql-direction-rtl),
.ql-editor ul li:not(.ql-direction-rtl) {
    padding-left: 1.5rem;
}
.ql-editor ol li.ql-direction-rtl,
.ql-editor ul li.ql-direction-rtl {
    padding-right: 1.5rem;
}
.ql-editor ol li {
    counter-reset: list-1 list-2 list-3 list-4 list-5 list-6 list-7 list-8 list-9;
    counter-increment: list-0;
}
.ql-editor ol li:before {
    content: counter(list-0, decimal) '. ';
}
.ql-editor ol li.ql-indent-1 {
    counter-increment: list-1;
}
.ql-editor ol li.ql-indent-1:before {
    content: counter(list-1, lower-alpha) '. ';
}
.ql-editor ol li.ql-indent-1 {
    counter-reset: list-2 list-3 list-4 list-5 list-6 list-7 list-8 list-9;
}
.ql-editor ol li.ql-indent-2 {
    counter-increment: list-2;
}
.ql-editor ol li.ql-indent-2:before {
    content: counter(list-2, lower-roman) '. ';
}
.ql-editor ol li.ql-indent-2 {
    counter-reset: list-3 list-4 list-5 list-6 list-7 list-8 list-9;
}
.ql-editor ol li.ql-indent-3 {
    counter-increment: list-3;
}
.ql-editor ol li.ql-indent-3:before {
    content: counter(list-3, decimal) '. ';
}
.ql-editor ol li.ql-indent-3 {
    counter-reset: list-4 list-5 list-6 list-7 list-8 list-9;
}
.ql-editor ol li.ql-indent-4 {
    counter-increment: list-4;
}
.ql-editor ol li.ql-indent-4:before {
    content: counter(list-4, lower-alpha) '. ';
}
.ql-editor ol li.ql-indent-4 {
    counter-reset: list-5 list-6 list-7 list-8 list-9;
}
.ql-editor ol li.ql-indent-5 {
    counter-increment: list-5;
}
.ql-editor ol li.ql-indent-5:before {
    content: counter(list-5, lower-roman) '. ';
}
.ql-editor ol li.ql-indent-5 {
    counter-reset: list-6 list-7 list-8 list-9;
}
.ql-editor ol li.ql-indent-6 {
    counter-increment: list-6;
}
.ql-editor ol li.ql-indent-6:before {
    content: counter(list-6, decimal) '. ';
}
.ql-editor ol li.ql-indent-6 {
    counter-reset: list-7 list-8 list-9;
}
.ql-editor ol li.ql-indent-7 {
    counter-increment: list-7;
}
.ql-editor ol li.ql-indent-7:before {
    content: counter(list-7, lower-alpha) '. ';
}
.ql-editor ol li.ql-indent-7 {
    counter-reset: list-8 list-9;
}
.ql-editor ol li.ql-indent-8 {
    counter-increment: list-8;
}
.ql-editor ol li.ql-indent-8:before {
    content: counter(list-8, lower-roman) '. ';
}
.ql-editor ol li.ql-indent-8 {
    counter-reset: list-9;
}
.ql-editor ol li.ql-indent-9 {
    counter-increment: list-9;
}
.ql-editor ol li.ql-indent-9:before {
    content: counter(list-9, decimal) '. ';
}
.ql-editor .ql-indent-1:not(.ql-direction-rtl) {
    padding-left: 3rem;
}
.ql-editor li.ql-indent-1:not(.ql-direction-rtl) {
    padding-left: 4.5rem;
}
.ql-editor .ql-indent-1.ql-direction-rtl.ql-align-right {
    padding-right: 3rem;
}
.ql-editor li.ql-indent-1.ql-direction-rtl.ql-align-right {
    padding-right: 4.5rem;
}
.ql-editor .ql-indent-2:not(.ql-direction-rtl) {
    padding-left: 6rem;
}
.ql-editor li.ql-indent-2:not(.ql-direction-rtl) {
    padding-left: 7.5rem;
}
.ql-editor .ql-indent-2.ql-direction-rtl.ql-align-right {
    padding-right: 6rem;
}
.ql-editor li.ql-indent-2.ql-direction-rtl.ql-align-right {
    padding-right: 7.5rem;
}
.ql-editor .ql-indent-3:not(.ql-direction-rtl) {
    padding-left: 9rem;
}
.ql-editor li.ql-indent-3:not(.ql-direction-rtl) {
    padding-left: 10.5rem;
}
.ql-editor .ql-indent-3.ql-direction-rtl.ql-align-right {
    padding-right: 9rem;
}
.ql-editor li.ql-indent-3.ql-direction-rtl.ql-align-right {
    padding-right: 10.5rem;
}
.ql-editor .ql-indent-4:not(.ql-direction-rtl) {
    padding-left: 12rem;
}
.ql-editor li.ql-indent-4:not(.ql-direction-rtl) {
    padding-left: 13.5rem;
}
.ql-editor .ql-indent-4.ql-direction-rtl.ql-align-right {
    padding-right: 12rem;
}
.ql-editor li.ql-indent-4.ql-direction-rtl.ql-align-right {
    padding-right: 13.5rem;
}
.ql-editor .ql-indent-5:not(.ql-direction-rtl) {
    padding-left: 15rem;
}
.ql-editor li.ql-indent-5:not(.ql-direction-rtl) {
    padding-left: 16.5rem;
}
.ql-editor .ql-indent-5.ql-direction-rtl.ql-align-right {
    padding-right: 15rem;
}
.ql-editor li.ql-indent-5.ql-direction-rtl.ql-align-right {
    padding-right: 16.5rem;
}
.ql-editor .ql-indent-6:not(.ql-direction-rtl) {
    padding-left: 18rem;
}
.ql-editor li.ql-indent-6:not(.ql-direction-rtl) {
    padding-left: 19.5rem;
}
.ql-editor .ql-indent-6.ql-direction-rtl.ql-align-right {
    padding-right: 18rem;
}
.ql-editor li.ql-indent-6.ql-direction-rtl.ql-align-right {
    padding-right: 19.5rem;
}
.ql-editor .ql-indent-7:not(.ql-direction-rtl) {
    padding-left: 21rem;
}
.ql-editor li.ql-indent-7:not(.ql-direction-rtl) {
    padding-left: 22.5rem;
}
.ql-editor .ql-indent-7.ql-direction-rtl.ql-align-right {
    padding-right: 21rem;
}
.ql-editor li.ql-indent-7.ql-direction-rtl.ql-align-right {
    padding-right: 22.5rem;
}
.ql-editor .ql-indent-8:not(.ql-direction-rtl) {
    padding-left: 24rem;
}
.ql-editor li.ql-indent-8:not(.ql-direction-rtl) {
    padding-left: 25.5rem;
}
.ql-editor .ql-indent-8.ql-direction-rtl.ql-align-right {
    padding-right: 24rem;
}
.ql-editor li.ql-indent-8.ql-direction-rtl.ql-align-right {
    padding-right: 25.5rem;
}
.ql-editor .ql-indent-9:not(.ql-direction-rtl) {
    padding-left: 27rem;
}
.ql-editor li.ql-indent-9:not(.ql-direction-rtl) {
    padding-left: 28.5rem;
}
.ql-editor .ql-indent-9.ql-direction-rtl.ql-align-right {
    padding-right: 27rem;
}
.ql-editor li.ql-indent-9.ql-direction-rtl.ql-align-right {
    padding-right: 28.5rem;
}
.ql-editor .ql-video {
    display: block;
    max-width: 100%;
}
.ql-editor .ql-video.ql-align-center {
    margin: 0 auto;
}
.ql-editor .ql-video.ql-align-right {
    margin: 0 0 0 auto;
}
.ql-editor .ql-bg-black {
    background-color: #000;
}
.ql-editor .ql-bg-red {
    background-color: #e60000;
}
.ql-editor .ql-bg-orange {
    background-color: #f90;
}
.ql-editor .ql-bg-yellow {
    background-color: #ff0;
}
.ql-editor .ql-bg-green {
    background-color: #008a00;
}
.ql-editor .ql-bg-blue {
    background-color: #06c;
}
.ql-editor .ql-bg-purple {
    background-color: #93f;
}
.ql-editor .ql-color-white {
    color: #fff;
}
.ql-editor .ql-color-red {
    color: #e60000;
}
.ql-editor .ql-color-orange {
    color: #f90;
}
.ql-editor .ql-color-yellow {
    color: #ff0;
}
.ql-editor .ql-color-green {
    color: #008a00;
}
.ql-editor .ql-color-blue {
    color: #06c;
}
.ql-editor .ql-color-purple {
    color: #93f;
}
.ql-editor .ql-font-serif {
    font-family: Georgia, Times New Roman, serif;
}
.ql-editor .ql-font-monospace {
    font-family: Monaco, Courier New, monospace;
}
.ql-editor .ql-size-small {
    font-size: 0.75rem;
}
.ql-editor .ql-size-large {
    font-size: 1.5rem;
}
.ql-editor .ql-size-huge {
    font-size: 2.5rem;
}
.ql-editor .ql-direction-rtl {
    direction: rtl;
    text-align: inherit;
}
.ql-editor .ql-align-center {
    text-align: center;
}
.ql-editor .ql-align-justify {
    text-align: justify;
}
.ql-editor .ql-align-right {
    text-align: right;
}
.ql-editor.ql-blank::before {
    color: rgba(0, 0, 0, 0.6);
    content: attr(data-placeholder);
    font-style: italic;
    left: 15px;
    pointer-events: none;
    position: absolute;
    right: 15px;
}
.ql-snow.ql-toolbar:after,
.ql-snow .ql-toolbar:after {
    clear: both;
    content: '';
    display: table;
}
.ql-snow.ql-toolbar button,
.ql-snow .ql-toolbar button {
    background: none;
    border: none;
    cursor: pointer;
    display: inline-block;
    float: left;
    height: 24px;
    padding: 3px 5px;
    width: 28px;
}
.ql-snow.ql-toolbar button svg,
.ql-snow .ql-toolbar button svg {
    float: left;
    height: 100%;
}
.ql-snow.ql-toolbar button:active:hover,
.ql-snow .ql-toolbar button:active:hover {
    outline: none;
}
.ql-snow.ql-toolbar input.ql-image[type='file'],
.ql-snow .ql-toolbar input.ql-image[type='file'] {
    display: none;
}
.ql-snow.ql-toolbar button:hover,
.ql-snow .ql-toolbar button:hover,
.ql-snow.ql-toolbar button:focus,
.ql-snow .ql-toolbar button:focus,
.ql-snow.ql-toolbar button.ql-active,
.ql-snow .ql-toolbar button.ql-active,
.ql-snow.ql-toolbar .ql-picker-label:hover,
.ql-snow .ql-toolbar .ql-picker-label:hover,
.ql-snow.ql-toolbar .ql-picker-label.ql-active,
.ql-snow .ql-toolbar .ql-picker-label.ql-active,
.ql-snow.ql-toolbar .ql-picker-item:hover,
.ql-snow .ql-toolbar .ql-picker-item:hover,
.ql-snow.ql-toolbar .ql-picker-item.ql-selected,
.ql-snow .ql-toolbar .ql-picker-item.ql-selected {
    color: #06c;
}
.ql-snow.ql-toolbar button:hover .ql-fill,
.ql-snow .ql-toolbar button:hover .ql-fill,
.ql-snow.ql-toolbar button:focus .ql-fill,
.ql-snow .ql-toolbar button:focus .ql-fill,
.ql-snow.ql-toolbar button.ql-active .ql-fill,
.ql-snow .ql-toolbar button.ql-active .ql-fill,
.ql-snow.ql-toolbar .ql-picker-label:hover .ql-fill,
.ql-snow .ql-toolbar .ql-picker-label:hover .ql-fill,
.ql-snow.ql-toolbar .ql-picker-label.ql-active .ql-fill,
.ql-snow .ql-toolbar .ql-picker-label.ql-active .ql-fill,
.ql-snow.ql-toolbar .ql-picker-item:hover .ql-fill,
.ql-snow .ql-toolbar .ql-picker-item:hover .ql-fill,
.ql-snow.ql-toolbar .ql-picker-item.ql-selected .ql-fill,
.ql-snow .ql-toolbar .ql-picker-item.ql-selected .ql-fill,
.ql-snow.ql-toolbar button:hover .ql-stroke.ql-fill,
.ql-snow .ql-toolbar button:hover .ql-stroke.ql-fill,
.ql-snow.ql-toolbar button:focus .ql-stroke.ql-fill,
.ql-snow .ql-toolbar button:focus .ql-stroke.ql-fill,
.ql-snow.ql-toolbar button.ql-active .ql-stroke.ql-fill,
.ql-snow .ql-toolbar button.ql-active .ql-stroke.ql-fill,
.ql-snow.ql-toolbar .ql-picker-label:hover .ql-stroke.ql-fill,
.ql-snow .ql-toolbar .ql-picker-label:hover .ql-stroke.ql-fill,
.ql-snow.ql-toolbar .ql-picker-label.ql-active .ql-stroke.ql-fill,
.ql-snow .ql-toolbar .ql-picker-label.ql-active .ql-stroke.ql-fill,
.ql-snow.ql-toolbar .ql-picker-item:hover .ql-stroke.ql-fill,
.ql-snow .ql-toolbar .ql-picker-item:hover .ql-stroke.ql-fill,
.ql-snow.ql-toolbar .ql-picker-item.ql-selected .ql-stroke.ql-fill,
.ql-snow .ql-toolbar .ql-picker-item.ql-selected .ql-stroke.ql-fill {
    fill: #06c;
}
.ql-snow.ql-toolbar button:hover .ql-stroke,
.ql-snow .ql-toolbar button:hover .ql-stroke,
.ql-snow.ql-toolbar button:focus .ql-stroke,
.ql-snow .ql-toolbar button:focus .ql-stroke,
.ql-snow.ql-toolbar button.ql-active .ql-stroke,
.ql-snow .ql-toolbar button.ql-active .ql-stroke,
.ql-snow.ql-toolbar .ql-picker-label:hover .ql-stroke,
.ql-snow .ql-toolbar .ql-picker-label:hover .ql-stroke,
.ql-snow.ql-toolbar .ql-picker-label.ql-active .ql-stroke,
.ql-snow .ql-toolbar .ql-picker-label.ql-active .ql-stroke,
.ql-snow.ql-toolbar .ql-picker-item:hover .ql-stroke,
.ql-snow .ql-toolbar .ql-picker-item:hover .ql-stroke,
.ql-snow.ql-toolbar .ql-picker-item.ql-selected .ql-stroke,
.ql-snow .ql-toolbar .ql-picker-item.ql-selected .ql-stroke,
.ql-snow.ql-toolbar button:hover .ql-stroke-miter,
.ql-snow .ql-toolbar button:hover .ql-stroke-miter,
.ql-snow.ql-toolbar button:focus .ql-stroke-miter,
.ql-snow .ql-toolbar button:focus .ql-stroke-miter,
.ql-snow.ql-toolbar button.ql-active .ql-stroke-miter,
.ql-snow .ql-toolbar button.ql-active .ql-stroke-miter,
.ql-snow.ql-toolbar .ql-picker-label:hover .ql-stroke-miter,
.ql-snow .ql-toolbar .ql-picker-label:hover .ql-stroke-miter,
.ql-snow.ql-toolbar .ql-picker-label.ql-active .ql-stroke-miter,
.ql-snow .ql-toolbar .ql-picker-label.ql-active .ql-stroke-miter,
.ql-snow.ql-toolbar .ql-picker-item:hover .ql-stroke-miter,
.ql-snow .ql-toolbar .ql-picker-item:hover .ql-stroke-miter,
.ql-snow.ql-toolbar .ql-picker-item.ql-selected .ql-stroke-miter,
.ql-snow .ql-toolbar .ql-picker-item.ql-selected .ql-stroke-miter {
    stroke: #06c;
}
@media (pointer: coarse) {
    .ql-snow.ql-toolbar button:hover:not(.ql-active),
    .ql-snow .ql-toolbar button:hover:not(.ql-active) {
        color: #444;
    }
    .ql-snow.ql-toolbar button:hover:not(.ql-active) .ql-fill,
    .ql-snow .ql-toolbar button:hover:not(.ql-active) .ql-fill,
    .ql-snow.ql-toolbar button:hover:not(.ql-active) .ql-stroke.ql-fill,
    .ql-snow .ql-toolbar button:hover:not(.ql-active) .ql-stroke.ql-fill {
        fill: #444;
    }
    .ql-snow.ql-toolbar button:hover:not(.ql-active) .ql-stroke,
    .ql-snow .ql-toolbar button:hover:not(.ql-active) .ql-stroke,
    .ql-snow.ql-toolbar button:hover:not(.ql-active) .ql-stroke-miter,
    .ql-snow .ql-toolbar button:hover:not(.ql-active) .ql-stroke-miter {
        stroke: #444;
    }
}
.ql-snow {
    box-sizing: border-box;
}
.ql-snow * {
    box-sizing: border-box;
}
.ql-snow .ql-hidden {
    display: none;
}
.ql-snow .ql-out-bottom,
.ql-snow .ql-out-top {
    visibility: hidden;
}
.ql-snow .ql-tooltip {
    position: absolute;
    transform: translateY(10px);
}
.ql-snow .ql-tooltip a {
    cursor: pointer;
    text-decoration: none;
}
.ql-snow .ql-tooltip.ql-flip {
    transform: translateY(-10px);
}
.ql-snow .ql-formats {
    display: inline-block;
    vertical-align: middle;
}
.ql-snow .ql-formats:after {
    clear: both;
    content: '';
    display: table;
}
.ql-snow .ql-stroke {
    fill: none;
    stroke: #444;
    stroke-linecap: round;
    stroke-linejoin: round;
    stroke-width: 2;
}
.ql-snow .ql-stroke-miter {
    fill: none;
    stroke: #444;
    stroke-miterlimit: 10;
    stroke-width: 2;
}
.ql-snow .ql-fill,
.ql-snow .ql-stroke.ql-fill {
    fill: #444;
}
.ql-snow .ql-empty {
    fill: none;
}
.ql-snow .ql-even {
    fill-rule: evenodd;
}
.ql-snow .ql-thin,
.ql-snow .ql-stroke.ql-thin {
    stroke-width: 1;
}
.ql-snow .ql-transparent {
    opacity: 0.4;
}
.ql-snow .ql-direction svg:last-child {
    display: none;
}
.ql-snow .ql-direction.ql-active svg:last-child {
    display: inline;
}
.ql-snow .ql-direction.ql-active svg:first-child {
    display: none;
}
.ql-snow .ql-editor h1 {
    font-size: 2rem;
}
.ql-snow .ql-editor h2 {
    font-size: 1.5rem;
}
.ql-snow .ql-editor h3 {
    font-size: 1.17rem;
}
.ql-snow .ql-editor h4 {
    font-size: 1rem;
}
.ql-snow .ql-editor h5 {
    font-size: 0.83rem;
}
.ql-snow .ql-editor h6 {
    font-size: 0.67rem;
}
.ql-snow .ql-editor a {
    text-decoration: underline;
}
.ql-snow .ql-editor blockquote {
    border-left: 4px solid #ccc;
    margin-bottom: 5px;
    margin-top: 5px;
    padding-left: 16px;
}
.ql-snow .ql-editor code,
.ql-snow .ql-editor pre {
    background-color: #f0f0f0;
    border-radius: 3px;
}
.ql-snow .ql-editor pre {
    white-space: pre-wrap;
    margin-bottom: 5px;
    margin-top: 5px;
    padding: 5px 10px;
}
.ql-snow .ql-editor code {
    font-size: 85%;
    padding: 2px 4px;
}
.ql-snow .ql-editor pre.ql-syntax {
    background-color: #23241f;
    color: #f8f8f2;
    overflow: visible;
}
.ql-snow .ql-editor img {
    max-width: 100%;
}
.ql-snow .ql-picker {
    color: #444;
    display: inline-block;
    float: left;
    font-size: 14px;
    font-weight: 500;
    height: 24px;
    position: relative;
    vertical-align: middle;
}
.ql-snow .ql-picker-label {
    cursor: pointer;
    display: inline-block;
    height: 100%;
    padding-left: 8px;
    padding-right: 2px;
    position: relative;
    width: 100%;
}
.ql-snow .ql-picker-label::before {
    display: inline-block;
    line-height: 22px;
}
.ql-snow .ql-picker-options {
    background-color: #fff;
    display: none;
    min-width: 100%;
    padding: 4px 8px;
    position: absolute;
    white-space: nowrap;
}
.ql-snow .ql-picker-options .ql-picker-item {
    cursor: pointer;
    display: block;
    padding-bottom: 5px;
    padding-top: 5px;
}
.ql-snow .ql-picker.ql-expanded .ql-picker-label {
    color: #ccc;
    z-index: 2;
}
.ql-snow .ql-picker.ql-expanded .ql-picker-label .ql-fill {
    fill: #ccc;
}
.ql-snow .ql-picker.ql-expanded .ql-picker-label .ql-stroke {
    stroke: #ccc;
}
.ql-snow .ql-picker.ql-expanded .ql-picker-options {
    display: block;
    margin-top: -1px;
    top: 100%;
    z-index: 1;
}
.ql-snow .ql-color-picker,
.ql-snow .ql-icon-picker {
    width: 28px;
}
.ql-snow .ql-color-picker .ql-picker-label,
.ql-snow .ql-icon-picker .ql-picker-label {
    padding: 2px 4px;
}
.ql-snow .ql-color-picker .ql-picker-label svg,
.ql-snow .ql-icon-picker .ql-picker-label svg {
    right: 4px;
}
.ql-snow .ql-icon-picker .ql-picker-options {
    padding: 4px 0px;
}
.ql-snow .ql-icon-picker .ql-picker-item {
    height: 24px;
    width: 24px;
    padding: 2px 4px;
}
.ql-snow .ql-color-picker .ql-picker-options {
    padding: 3px 5px;
    width: 152px;
}
.ql-snow .ql-color-picker .ql-picker-item {
    border: 1px solid transparent;
    float: left;
    height: 16px;
    margin: 2px;
    padding: 0px;
    width: 16px;
}
.ql-snow .ql-picker:not(.ql-color-picker):not(.ql-icon-picker) svg {
    position: absolute;
    margin-top: -9px;
    right: 0;
    top: 50%;
    width: 18px;
}
.ql-snow .ql-picker.ql-header .ql-picker-label[data-label]:not([data-label=''])::before,
.ql-snow .ql-picker.ql-font .ql-picker-label[data-label]:not([data-label=''])::before,
.ql-snow .ql-picker.ql-size .ql-picker-label[data-label]:not([data-label=''])::before,
.ql-snow .ql-picker.ql-header .ql-picker-item[data-label]:not([data-label=''])::before,
.ql-snow .ql-picker.ql-font .ql-picker-item[data-label]:not([data-label=''])::before,
.ql-snow .ql-picker.ql-size .ql-picker-item[data-label]:not([data-label=''])::before {
    content: attr(data-label);
}
.ql-snow .ql-picker.ql-header {
    width: 98px;
}
.ql-snow .ql-picker.ql-header .ql-picker-label::before,
.ql-snow .ql-picker.ql-header .ql-picker-item::before {
    content: 'Normal';
}
.ql-snow .ql-picker.ql-header .ql-picker-label[data-value='1']::before,
.ql-snow .ql-picker.ql-header .ql-picker-item[data-value='1']::before {
    content: 'Heading 1';
}
.ql-snow .ql-picker.ql-header .ql-picker-label[data-value='2']::before,
.ql-snow .ql-picker.ql-header .ql-picker-item[data-value='2']::before {
    content: 'Heading 2';
}
.ql-snow .ql-picker.ql-header .ql-picker-label[data-value='3']::before,
.ql-snow .ql-picker.ql-header .ql-picker-item[data-value='3']::before {
    content: 'Heading 3';
}
.ql-snow .ql-picker.ql-header .ql-picker-label[data-value='4']::before,
.ql-snow .ql-picker.ql-header .ql-picker-item[data-value='4']::before {
    content: 'Heading 4';
}
.ql-snow .ql-picker.ql-header .ql-picker-label[data-value='5']::before,
.ql-snow .ql-picker.ql-header .ql-picker-item[data-value='5']::before {
    content: 'Heading 5';
}
.ql-snow .ql-picker.ql-header .ql-picker-label[data-value='6']::before,
.ql-snow .ql-picker.ql-header .ql-picker-item[data-value='6']::before {
    content: 'Heading 6';
}
.ql-snow .ql-picker.ql-header .ql-picker-item[data-value='1']::before {
    font-size: 2rem;
}
.ql-snow .ql-picker.ql-header .ql-picker-item[data-value='2']::before {
    font-size: 1.5rem;
}
.ql-snow .ql-picker.ql-header .ql-picker-item[data-value='3']::before {
    font-size: 1.17rem;
}
.ql-snow .ql-picker.ql-header .ql-picker-item[data-value='4']::before {
    font-size: 1rem;
}
.ql-snow .ql-picker.ql-header .ql-picker-item[data-value='5']::before {
    font-size: 0.83rem;
}
.ql-snow .ql-picker.ql-header .ql-picker-item[data-value='6']::before {
    font-size: 0.67rem;
}
.ql-snow .ql-picker.ql-font {
    width: 108px;
}
.ql-snow .ql-picker.ql-font .ql-picker-label::before,
.ql-snow .ql-picker.ql-font .ql-picker-item::before {
    content: 'Sans Serif';
}
.ql-snow .ql-picker.ql-font .ql-picker-label[data-value='serif']::before,
.ql-snow .ql-picker.ql-font .ql-picker-item[data-value='serif']::before {
    content: 'Serif';
}
.ql-snow .ql-picker.ql-font .ql-picker-label[data-value='monospace']::before,
.ql-snow .ql-picker.ql-font .ql-picker-item[data-value='monospace']::before {
    content: 'Monospace';
}
.ql-snow .ql-picker.ql-font .ql-picker-item[data-value='serif']::before {
    font-family: Georgia, Times New Roman, serif;
}
.ql-snow .ql-picker.ql-font .ql-picker-item[data-value='monospace']::before {
    font-family: Monaco, Courier New, monospace;
}
.ql-snow .ql-picker.ql-size {
    width: 98px;
}
.ql-snow .ql-picker.ql-size .ql-picker-label::before,
.ql-snow .ql-picker.ql-size .ql-picker-item::before {
    content: 'Normal';
}
.ql-snow .ql-picker.ql-size .ql-picker-label[data-value='small']::before,
.ql-snow .ql-picker.ql-size .ql-picker-item[data-value='small']::before {
    content: 'Small';
}
.ql-snow .ql-picker.ql-size .ql-picker-label[data-value='large']::before,
.ql-snow .ql-picker.ql-size .ql-picker-item[data-value='large']::before {
    content: 'Large';
}
.ql-snow .ql-picker.ql-size .ql-picker-label[data-value='huge']::before,
.ql-snow .ql-picker.ql-size .ql-picker-item[data-value='huge']::before {
    content: 'Huge';
}
.ql-snow .ql-picker.ql-size .ql-picker-item[data-value='small']::before {
    font-size: 10px;
}
.ql-snow .ql-picker.ql-size .ql-picker-item[data-value='large']::before {
    font-size: 18px;
}
.ql-snow .ql-picker.ql-size .ql-picker-item[data-value='huge']::before {
    font-size: 32px;
}
.ql-snow .ql-color-picker.ql-background .ql-picker-item {
    background-color: #fff;
}
.ql-snow .ql-color-picker.ql-color .ql-picker-item {
    background-color: #000;
}
.ql-toolbar.ql-snow {
    border: 1px solid #ccc;
    box-sizing: border-box;
    font-family: 'Helvetica Neue', 'Helvetica', 'Arial', sans-serif;
    padding: 8px;
}
.ql-toolbar.ql-snow .ql-formats {
    margin-right: 15px;
}
.ql-toolbar.ql-snow .ql-picker-label {
    border: 1px solid transparent;
}
.ql-toolbar.ql-snow .ql-picker-options {
    border: 1px solid transparent;
    box-shadow: rgba(0, 0, 0, 0.2) 0 2px 8px;
}
.ql-toolbar.ql-snow .ql-picker.ql-expanded .ql-picker-label {
    border-color: #ccc;
}
.ql-toolbar.ql-snow .ql-picker.ql-expanded .ql-picker-options {
    border-color: #ccc;
}
.ql-toolbar.ql-snow .ql-color-picker .ql-picker-item.ql-selected,
.ql-toolbar.ql-snow .ql-color-picker .ql-picker-item:hover {
    border-color: #000;
}
.ql-toolbar.ql-snow + .ql-container.ql-snow {
    border-top: 0px;
}
.ql-snow .ql-tooltip {
    background-color: #fff;
    border: 1px solid #ccc;
    box-shadow: 0px 0px 5px #ddd;
    color: #444;
    padding: 5px 12px;
    white-space: nowrap;
}
.ql-snow .ql-tooltip::before {
    content: 'Visit URL:';
    line-height: 26px;
    margin-right: 8px;
}
.ql-snow .ql-tooltip input[type='text'] {
    display: none;
    border: 1px solid #ccc;
    font-size: 13px;
    height: 26px;
    margin: 0px;
    padding: 3px 5px;
    width: 170px;
}
.ql-snow .ql-tooltip a.ql-preview {
    display: inline-block;
    max-width: 200px;
    overflow-x: hidden;
    text-overflow: ellipsis;
    vertical-align: top;
}
.ql-snow .ql-tooltip a.ql-action::after {
    border-right: 1px solid #ccc;
    content: 'Edit';
    margin-left: 16px;
    padding-right: 8px;
}
.ql-snow .ql-tooltip a.ql-remove::before {
    content: 'Remove';
    margin-left: 8px;
}
.ql-snow .ql-tooltip a {
    line-height: 26px;
}
.ql-snow .ql-tooltip.ql-editing a.ql-preview,
.ql-snow .ql-tooltip.ql-editing a.ql-remove {
    display: none;
}
.ql-snow .ql-tooltip.ql-editing input[type='text'] {
    display: inline-block;
}
.ql-snow .ql-tooltip.ql-editing a.ql-action::after {
    border-right: 0px;
    content: 'Save';
    padding-right: 0px;
}
.ql-snow .ql-tooltip[data-mode='link']::before {
    content: 'Enter link:';
}
.ql-snow .ql-tooltip[data-mode='formula']::before {
    content: 'Enter formula:';
}
.ql-snow .ql-tooltip[data-mode='video']::before {
    content: 'Enter video:';
}
.ql-snow a {
    color: #06c;
}
.ql-container.ql-snow {
    border: 1px solid #ccc;
}
`,Hne={root:"p-editor-container",toolbar:"p-editor-toolbar",content:"p-editor-content"},nP=or.extend({name:"editor",css:jne,classes:Hne}),Wne={name:"BaseEditor",extends:Ur,props:{modelValue:String,placeholder:String,readonly:Boolean,formats:Array,editorStyle:null,modules:null},style:nP,provide:function(){return{$parentInstance:this}},beforeMount:function(){var e;nP.loadStyle({nonce:(e=this.$primevue)===null||e===void 0||(e=e.config)===null||e===void 0||(e=e.csp)===null||e===void 0?void 0:e.nonce})}};function Hh(t){"@babel/helpers - typeof";return Hh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hh(t)}function rP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function zne(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?rP(Object(n),!0).forEach(function(r){Kne(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):rP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Kne(t,e,n){return e=Gne(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Gne(t){var e=Yne(t,"string");return Hh(e)=="symbol"?e:String(e)}function Yne(t,e){if(Hh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Hh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var iP=function(){try{return window.Quill}catch{return null}}(),QM={name:"Editor",extends:Wne,inheritAttrs:!1,emits:["update:modelValue","text-change","selection-change","load"],data:function(){return{reRenderColorKey:0}},quill:null,watch:{modelValue:function(e,n){e!==n&&this.quill&&!this.quill.hasFocus()&&(this.reRenderColorKey++,this.renderValue(e))},readonly:function(){this.handleReadOnlyChange()}},mounted:function(){var e=this,n={modules:zne({toolbar:this.$refs.toolbarElement},this.modules),readOnly:this.readonly,theme:"snow",formats:this.formats,placeholder:this.placeholder};iP?(this.quill=new iP(this.$refs.editorElement,n),this.initQuill(),this.handleLoad()):Bne(()=>import("./assets/quill-TCVaegbI.js"),__vite__mapDeps([]),import.meta.url).then(function(r){r&&ze.isExist(e.$refs.editorElement)&&(r.default?e.quill=new r.default(e.$refs.editorElement,n):e.quill=new r(e.$refs.editorElement,n),e.initQuill())}).then(function(){e.handleLoad()})},beforeUnmount:function(){this.quill=null},methods:{renderValue:function(e){this.quill&&(e?this.quill.setContents(this.quill.clipboard.convert(e)):this.quill.setText(""))},initQuill:function(){var e=this;this.renderValue(this.modelValue),this.quill.on("text-change",function(n,r,i){if(i==="user"){var s=e.$refs.editorElement.children[0].innerHTML,o=e.quill.getText().trim();s==="<p><br></p>"&&(s=""),e.$emit("update:modelValue",s),e.$emit("text-change",{htmlValue:s,textValue:o,delta:n,source:i,instance:e.quill})}}),this.quill.on("selection-change",function(n,r,i){var s=e.$refs.editorElement.children[0].innerHTML,o=e.quill.getText().trim();e.$emit("selection-change",{htmlValue:s,textValue:o,range:n,oldRange:r,source:i,instance:e.quill})})},handleLoad:function(){this.quill&&this.quill.getModule("toolbar")&&this.$emit("load",{instance:this.quill})},handleReadOnlyChange:function(){this.quill&&this.quill.enable(!this.readonly)}}};function Qne(t,e,n,r,i,s){return D(),H("div",se({class:t.cx("root")},t.ptmi("root")),[v("div",se({ref:"toolbarElement",class:t.cx("toolbar")},t.ptm("toolbar")),[_e(t.$slots,"toolbar",{},function(){return[v("span",se({class:"ql-formats"},t.ptm("formats")),[v("select",se({class:"ql-header",defaultValue:"0"},t.ptm("header")),[v("option",se({value:"1"},t.ptm("option")),"Heading",16),v("option",se({value:"2"},t.ptm("option")),"Subheading",16),v("option",se({value:"0"},t.ptm("option")),"Normal",16)],16),v("select",se({class:"ql-font"},t.ptm("font")),[v("option",Vn(hr(t.ptm("option"))),null,16),v("option",se({value:"serif"},t.ptm("option")),null,16),v("option",se({value:"monospace"},t.ptm("option")),null,16)],16)],16),v("span",se({class:"ql-formats"},t.ptm("formats")),[v("button",se({class:"ql-bold",type:"button"},t.ptm("bold")),null,16),v("button",se({class:"ql-italic",type:"button"},t.ptm("italic")),null,16),v("button",se({class:"ql-underline",type:"button"},t.ptm("underline")),null,16)],16),(D(),H("span",se({key:i.reRenderColorKey,class:"ql-formats"},t.ptm("formats")),[v("select",se({class:"ql-color"},t.ptm("color")),null,16),v("select",se({class:"ql-background"},t.ptm("background")),null,16)],16)),v("span",se({class:"ql-formats"},t.ptm("formats")),[v("button",se({class:"ql-list",value:"ordered",type:"button"},t.ptm("list")),null,16),v("button",se({class:"ql-list",value:"bullet",type:"button"},t.ptm("list")),null,16),v("select",se({class:"ql-align"},t.ptm("select")),[v("option",se({defaultValue:""},t.ptm("option")),null,16),v("option",se({value:"center"},t.ptm("option")),null,16),v("option",se({value:"right"},t.ptm("option")),null,16),v("option",se({value:"justify"},t.ptm("option")),null,16)],16)],16),v("span",se({class:"ql-formats"},t.ptm("formats")),[v("button",se({class:"ql-link",type:"button"},t.ptm("link")),null,16),v("button",se({class:"ql-image",type:"button"},t.ptm("image")),null,16),v("button",se({class:"ql-code-block",type:"button"},t.ptm("codeBlock")),null,16)],16),v("span",se({class:"ql-formats"},t.ptm("formats")),[v("button",se({class:"ql-clean",type:"button"},t.ptm("clean")),null,16)],16)]})],16),v("div",se({ref:"editorElement",class:t.cx("content"),style:t.editorStyle},t.ptm("content")),null,16)],16)}QM.render=Qne;const Xne={class:"m-4"},Jne=["for"],i_=xe({__name:"RichTextEditor",props:{id:{},name:{},label:{},placeholder:{},modelValue:{},error:{},rules:{},editorProps:{},labelProps:{},minLength:{},maxLength:{}},emits:["update:modelValue","update:error","click"],setup(t,{expose:e,emit:n}){const r=t,i=ee({get:()=>r.modelValue||"",set:c=>{u("update:modelValue",c),l(c)}}),s=ee(()=>r.label?r.label+((r.rules??[]).some(c=>c.type===Pv.Required)?" *":""):void 0),o=ee(()=>r.name+(r.id?"."+r.id:"")),a=({instance:c})=>{c.setContents(c.clipboard.convert({html:i.value}))},l=async c=>{const d=c||i.value,h=r.rules||[];typeof r.minLength=="number"&&h.push(Nt.MinLength),typeof r.maxLength=="number"&&h.push(Nt.MaxLength);const p={value:d,minLength:r.minLength,maxLength:r.maxLength},m=h.filter(g=>!g.test(p)).map(g=>{var y;return((y=g.compareError)==null?void 0:y.call(g,p))||g.error(p)})||[];u("update:error",m[0]||"")},u=n;return e({test:l}),(c,d)=>(D(),H("div",Xne,[c.label?(D(),H("label",se({key:0,class:"block text-sm font-bold mb-2",for:o.value},c.labelProps),Fe(s.value),17,Jne)):J("",!0),q(P(QM),se({id:o.value,placeholder:c.placeholder,modelValue:i.value,"onUpdate:modelValue":d[0]||(d[0]=h=>i.value=h),onLoad:a},c.editorProps),null,16,["id","placeholder","modelValue"]),c.error?(D(),ae(Av,{key:1,name:c.name,error:c.error},null,8,["name","error"])):J("",!0)]))}}),Zne={class:"m-4"},ere=["for"],Kr=xe({__name:"SelectField",props:{id:{},name:{},label:{},modelValue:{},placeholder:{},error:{},rules:{},options:{},multiple:{type:Boolean}},emits:["update:modelValue","update:arrayValue","update:error"],setup(t,{expose:e,emit:n}){const r=t,i=n,s=ee(()=>(r.rules??[]).some(p=>p.type===Pv.Required)),o=ee({get:()=>{if(r.multiple){const p=Array.isArray(r.modelValue)?r.modelValue:[];return p.length?p:s.value?r.options.length?[r.options[0].value]:[]:[]}else{const p=typeof r.modelValue=="string"||typeof r.modelValue=="number"?r.modelValue:"";return p||(r.options.length?r.options[0].value:"")}},set:p=>{i("update:modelValue",Ja(p)[0]),i("update:arrayValue",Ja(p))}}),a=ee(()=>r.label+(s.value?" *":"")),l=ee(()=>r.name+(r.id?"."+r.id:"")),u=ee(()=>r.options.find(({value:p})=>p===o.value)),c=ee(()=>{var p,m,g;return[((p=u.value)==null?void 0:p.background)??"bg-transparent",(m=u.value)!=null&&m.background?"bg-opacity-90":"bg-opacity-40",((g=u.value)==null?void 0:g.text)??"text-black"]}),d=ee(()=>Ja(o.value).map(p=>{var m;return(m=r.options.find(g=>g.value===p))==null?void 0:m.label}).join(", "));return Vt(()=>{s.value&&(i("update:modelValue",Ja(o.value)[0]),i("update:arrayValue",Ja(o.value)))}),e({test:async()=>{const p=r.rules||[];let m="";for(const g of Ja(o.value)){const y={value:g.toString()},A=p.filter(C=>!C.test(y)).map(C=>C.error(y))||[];if(A[0]){m=A[0];break}}i("update:error",m)}}),(p,m)=>(D(),H("div",Zne,[v("label",{class:"block text-sm font-bold mb-2",for:l.value},Fe(a.value),9,ere),v("div",null,[(D(),ae(Mn(p.multiple?"PrimeMultiSelect":"PrimeDropdown"),{inputId:l.value,modelValue:o.value,"onUpdate:modelValue":m[0]||(m[0]=g=>o.value=g),placeholder:p.placeholder??"No option selected",class:"w-full p-input p-0",multiple:p.multiple,options:p.options,optionValue:"value",pt:{trigger:{class:c.value}}},{value:X(({placeholder:g})=>{var y;return[v("span",{class:Le(["block w-full p-2",...c.value])},Fe((p.multiple?d.value:(y=u.value)==null?void 0:y.label)||g),3)]}),option:X(({option:g})=>[v("span",{class:Le(["w-full p-2",g.background,g.background?"bg-opacity-90":"bg-opacity-40",g.text])},Fe(g.label),3)]),_:1},8,["inputId","modelValue","placeholder","multiple","options","pt"]))]),p.error?(D(),ae(Av,{key:0,name:p.name,error:p.error},null,8,["name","error"])):J("",!0)]))}});var tre=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function nre(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function XM(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var JM={exports:{}};const rre=XM(q4);/**!
 * Sortable 1.14.0
 * @author	RubaXa   <trash@rubaxa.org>
 * @author	owenm    <owen23355@gmail.com>
 * @license MIT
 */function sP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ks(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?sP(Object(n),!0).forEach(function(r){ire(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):sP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function im(t){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?im=function(e){return typeof e}:im=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},im(t)}function ire(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Zi(){return Zi=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Zi.apply(this,arguments)}function sre(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function ore(t,e){if(t==null)return{};var n=sre(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function are(t){return lre(t)||ure(t)||cre(t)||dre()}function lre(t){if(Array.isArray(t))return s_(t)}function ure(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function cre(t,e){if(t){if(typeof t=="string")return s_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return s_(t,e)}}function s_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function dre(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var hre="1.14.0";function Eo(t){if(typeof window<"u"&&window.navigator)return!!navigator.userAgent.match(t)}var Do=Eo(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),Df=Eo(/Edge/i),oP=Eo(/firefox/i),th=Eo(/safari/i)&&!Eo(/chrome/i)&&!Eo(/android/i),ZM=Eo(/iP(ad|od|hone)/i),fre=Eo(/chrome/i)&&Eo(/android/i),eL={capture:!1,passive:!1};function xt(t,e,n){t.addEventListener(e,n,!Do&&eL)}function Ot(t,e,n){t.removeEventListener(e,n,!Do&&eL)}function hg(t,e){if(e){if(e[0]===">"&&(e=e.substring(1)),t)try{if(t.matches)return t.matches(e);if(t.msMatchesSelector)return t.msMatchesSelector(e);if(t.webkitMatchesSelector)return t.webkitMatchesSelector(e)}catch{return!1}return!1}}function pre(t){return t.host&&t!==document&&t.host.nodeType?t.host:t.parentNode}function us(t,e,n,r){if(t){n=n||document;do{if(e!=null&&(e[0]===">"?t.parentNode===n&&hg(t,e):hg(t,e))||r&&t===n)return t;if(t===n)break}while(t=pre(t))}return null}var aP=/\s+/g;function qn(t,e,n){if(t&&e)if(t.classList)t.classList[n?"add":"remove"](e);else{var r=(" "+t.className+" ").replace(aP," ").replace(" "+e+" "," ");t.className=(r+(n?" "+e:"")).replace(aP," ")}}function ot(t,e,n){var r=t&&t.style;if(r){if(n===void 0)return document.defaultView&&document.defaultView.getComputedStyle?n=document.defaultView.getComputedStyle(t,""):t.currentStyle&&(n=t.currentStyle),e===void 0?n:n[e];!(e in r)&&e.indexOf("webkit")===-1&&(e="-webkit-"+e),r[e]=n+(typeof n=="string"?"":"px")}}function yl(t,e){var n="";if(typeof t=="string")n=t;else do{var r=ot(t,"transform");r&&r!=="none"&&(n=r+" "+n)}while(!e&&(t=t.parentNode));var i=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return i&&new i(n)}function tL(t,e,n){if(t){var r=t.getElementsByTagName(e),i=0,s=r.length;if(n)for(;i<s;i++)n(r[i],i);return r}return[]}function Bs(){var t=document.scrollingElement;return t||document.documentElement}function Nn(t,e,n,r,i){if(!(!t.getBoundingClientRect&&t!==window)){var s,o,a,l,u,c,d;if(t!==window&&t.parentNode&&t!==Bs()?(s=t.getBoundingClientRect(),o=s.top,a=s.left,l=s.bottom,u=s.right,c=s.height,d=s.width):(o=0,a=0,l=window.innerHeight,u=window.innerWidth,c=window.innerHeight,d=window.innerWidth),(e||n)&&t!==window&&(i=i||t.parentNode,!Do))do if(i&&i.getBoundingClientRect&&(ot(i,"transform")!=="none"||n&&ot(i,"position")!=="static")){var h=i.getBoundingClientRect();o-=h.top+parseInt(ot(i,"border-top-width")),a-=h.left+parseInt(ot(i,"border-left-width")),l=o+s.height,u=a+s.width;break}while(i=i.parentNode);if(r&&t!==window){var p=yl(i||t),m=p&&p.a,g=p&&p.d;p&&(o/=g,a/=m,d/=m,c/=g,l=o+c,u=a+d)}return{top:o,left:a,bottom:l,right:u,width:d,height:c}}}function lP(t,e,n){for(var r=la(t,!0),i=Nn(t)[e];r;){var s=Nn(r)[n],o=void 0;if(n==="top"||n==="left"?o=i>=s:o=i<=s,!o)return r;if(r===Bs())break;r=la(r,!1)}return!1}function wc(t,e,n,r){for(var i=0,s=0,o=t.children;s<o.length;){if(o[s].style.display!=="none"&&o[s]!==gt.ghost&&(r||o[s]!==gt.dragged)&&us(o[s],n.draggable,t,!1)){if(i===e)return o[s];i++}s++}return null}function eT(t,e){for(var n=t.lastElementChild;n&&(n===gt.ghost||ot(n,"display")==="none"||e&&!hg(n,e));)n=n.previousElementSibling;return n||null}function Qn(t,e){var n=0;if(!t||!t.parentNode)return-1;for(;t=t.previousElementSibling;)t.nodeName.toUpperCase()!=="TEMPLATE"&&t!==gt.clone&&(!e||hg(t,e))&&n++;return n}function uP(t){var e=0,n=0,r=Bs();if(t)do{var i=yl(t),s=i.a,o=i.d;e+=t.scrollLeft*s,n+=t.scrollTop*o}while(t!==r&&(t=t.parentNode));return[e,n]}function mre(t,e){for(var n in t)if(t.hasOwnProperty(n)){for(var r in e)if(e.hasOwnProperty(r)&&e[r]===t[n][r])return Number(n)}return-1}function la(t,e){if(!t||!t.getBoundingClientRect)return Bs();var n=t,r=!1;do if(n.clientWidth<n.scrollWidth||n.clientHeight<n.scrollHeight){var i=ot(n);if(n.clientWidth<n.scrollWidth&&(i.overflowX=="auto"||i.overflowX=="scroll")||n.clientHeight<n.scrollHeight&&(i.overflowY=="auto"||i.overflowY=="scroll")){if(!n.getBoundingClientRect||n===document.body)return Bs();if(r||e)return n;r=!0}}while(n=n.parentNode);return Bs()}function gre(t,e){if(t&&e)for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}function Jy(t,e){return Math.round(t.top)===Math.round(e.top)&&Math.round(t.left)===Math.round(e.left)&&Math.round(t.height)===Math.round(e.height)&&Math.round(t.width)===Math.round(e.width)}var nh;function nL(t,e){return function(){if(!nh){var n=arguments,r=this;n.length===1?t.call(r,n[0]):t.apply(r,n),nh=setTimeout(function(){nh=void 0},e)}}}function vre(){clearTimeout(nh),nh=void 0}function rL(t,e,n){t.scrollLeft+=e,t.scrollTop+=n}function tT(t){var e=window.Polymer,n=window.jQuery||window.Zepto;return e&&e.dom?e.dom(t).cloneNode(!0):n?n(t).clone(!0)[0]:t.cloneNode(!0)}function cP(t,e){ot(t,"position","absolute"),ot(t,"top",e.top),ot(t,"left",e.left),ot(t,"width",e.width),ot(t,"height",e.height)}function Zy(t){ot(t,"position",""),ot(t,"top",""),ot(t,"left",""),ot(t,"width",""),ot(t,"height","")}var Jr="Sortable"+new Date().getTime();function yre(){var t=[],e;return{captureAnimationState:function(){if(t=[],!!this.options.animation){var r=[].slice.call(this.el.children);r.forEach(function(i){if(!(ot(i,"display")==="none"||i===gt.ghost)){t.push({target:i,rect:Nn(i)});var s=Ks({},t[t.length-1].rect);if(i.thisAnimationDuration){var o=yl(i,!0);o&&(s.top-=o.f,s.left-=o.e)}i.fromRect=s}})}},addAnimationState:function(r){t.push(r)},removeAnimationState:function(r){t.splice(mre(t,{target:r}),1)},animateAll:function(r){var i=this;if(!this.options.animation){clearTimeout(e),typeof r=="function"&&r();return}var s=!1,o=0;t.forEach(function(a){var l=0,u=a.target,c=u.fromRect,d=Nn(u),h=u.prevFromRect,p=u.prevToRect,m=a.rect,g=yl(u,!0);g&&(d.top-=g.f,d.left-=g.e),u.toRect=d,u.thisAnimationDuration&&Jy(h,d)&&!Jy(c,d)&&(m.top-d.top)/(m.left-d.left)===(c.top-d.top)/(c.left-d.left)&&(l=_re(m,h,p,i.options)),Jy(d,c)||(u.prevFromRect=c,u.prevToRect=d,l||(l=i.options.animation),i.animate(u,m,d,l)),l&&(s=!0,o=Math.max(o,l),clearTimeout(u.animationResetTimer),u.animationResetTimer=setTimeout(function(){u.animationTime=0,u.prevFromRect=null,u.fromRect=null,u.prevToRect=null,u.thisAnimationDuration=null},l),u.thisAnimationDuration=l)}),clearTimeout(e),s?e=setTimeout(function(){typeof r=="function"&&r()},o):typeof r=="function"&&r(),t=[]},animate:function(r,i,s,o){if(o){ot(r,"transition",""),ot(r,"transform","");var a=yl(this.el),l=a&&a.a,u=a&&a.d,c=(i.left-s.left)/(l||1),d=(i.top-s.top)/(u||1);r.animatingX=!!c,r.animatingY=!!d,ot(r,"transform","translate3d("+c+"px,"+d+"px,0)"),this.forRepaintDummy=bre(r),ot(r,"transition","transform "+o+"ms"+(this.options.easing?" "+this.options.easing:"")),ot(r,"transform","translate3d(0,0,0)"),typeof r.animated=="number"&&clearTimeout(r.animated),r.animated=setTimeout(function(){ot(r,"transition",""),ot(r,"transform",""),r.animated=!1,r.animatingX=!1,r.animatingY=!1},o)}}}}function bre(t){return t.offsetWidth}function _re(t,e,n,r){return Math.sqrt(Math.pow(e.top-t.top,2)+Math.pow(e.left-t.left,2))/Math.sqrt(Math.pow(e.top-n.top,2)+Math.pow(e.left-n.left,2))*r.animation}var au=[],eb={initializeByDefault:!0},Nf={mount:function(e){for(var n in eb)eb.hasOwnProperty(n)&&!(n in e)&&(e[n]=eb[n]);au.forEach(function(r){if(r.pluginName===e.pluginName)throw"Sortable: Cannot mount plugin ".concat(e.pluginName," more than once")}),au.push(e)},pluginEvent:function(e,n,r){var i=this;this.eventCanceled=!1,r.cancel=function(){i.eventCanceled=!0};var s=e+"Global";au.forEach(function(o){n[o.pluginName]&&(n[o.pluginName][s]&&n[o.pluginName][s](Ks({sortable:n},r)),n.options[o.pluginName]&&n[o.pluginName][e]&&n[o.pluginName][e](Ks({sortable:n},r)))})},initializePlugins:function(e,n,r,i){au.forEach(function(a){var l=a.pluginName;if(!(!e.options[l]&&!a.initializeByDefault)){var u=new a(e,n,e.options);u.sortable=e,u.options=e.options,e[l]=u,Zi(r,u.defaults)}});for(var s in e.options)if(e.options.hasOwnProperty(s)){var o=this.modifyOption(e,s,e.options[s]);typeof o<"u"&&(e.options[s]=o)}},getEventProperties:function(e,n){var r={};return au.forEach(function(i){typeof i.eventProperties=="function"&&Zi(r,i.eventProperties.call(n[i.pluginName],e))}),r},modifyOption:function(e,n,r){var i;return au.forEach(function(s){e[s.pluginName]&&s.optionListeners&&typeof s.optionListeners[n]=="function"&&(i=s.optionListeners[n].call(e[s.pluginName],r))}),i}};function kd(t){var e=t.sortable,n=t.rootEl,r=t.name,i=t.targetEl,s=t.cloneEl,o=t.toEl,a=t.fromEl,l=t.oldIndex,u=t.newIndex,c=t.oldDraggableIndex,d=t.newDraggableIndex,h=t.originalEvent,p=t.putSortable,m=t.extraEventProperties;if(e=e||n&&n[Jr],!!e){var g,y=e.options,A="on"+r.charAt(0).toUpperCase()+r.substr(1);window.CustomEvent&&!Do&&!Df?g=new CustomEvent(r,{bubbles:!0,cancelable:!0}):(g=document.createEvent("Event"),g.initEvent(r,!0,!0)),g.to=o||n,g.from=a||n,g.item=i||n,g.clone=s,g.oldIndex=l,g.newIndex=u,g.oldDraggableIndex=c,g.newDraggableIndex=d,g.originalEvent=h,g.pullMode=p?p.lastPutMode:void 0;var C=Ks(Ks({},m),Nf.getEventProperties(r,e));for(var S in C)g[S]=C[S];n&&n.dispatchEvent(g),y[A]&&y[A].call(e,g)}}var wre=["evt"],gi=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=r.evt,s=ore(r,wre);Nf.pluginEvent.bind(gt)(e,n,Ks({dragEl:je,parentEl:Kn,ghostEl:St,rootEl:Dn,nextEl:el,lastDownEl:sm,cloneEl:Gn,cloneHidden:oa,dragStarted:Rd,putSortable:xr,activeSortable:gt.active,originalEvent:i,oldIndex:ku,oldDraggableIndex:rh,newIndex:xi,newDraggableIndex:Zo,hideGhostForTarget:aL,unhideGhostForTarget:lL,cloneNowHidden:function(){oa=!0},cloneNowShown:function(){oa=!1},dispatchSortableEvent:function(a){di({sortable:n,name:a,originalEvent:i})}},s))};function di(t){kd(Ks({putSortable:xr,cloneEl:Gn,targetEl:je,rootEl:Dn,oldIndex:ku,oldDraggableIndex:rh,newIndex:xi,newDraggableIndex:Zo},t))}var je,Kn,St,Dn,el,sm,Gn,oa,ku,xi,rh,Zo,Rp,xr,bu=!1,fg=!1,pg=[],Ya,ss,tb,nb,dP,hP,Rd,lu,ih,sh=!1,xp=!1,om,Hr,rb=[],o_=!1,mg=[],Mv=typeof document<"u",Dp=ZM,fP=Df||Do?"cssFloat":"float",Tre=Mv&&!fre&&!ZM&&"draggable"in document.createElement("div"),iL=function(){if(Mv){if(Do)return!1;var t=document.createElement("x");return t.style.cssText="pointer-events:auto",t.style.pointerEvents==="auto"}}(),sL=function(e,n){var r=ot(e),i=parseInt(r.width)-parseInt(r.paddingLeft)-parseInt(r.paddingRight)-parseInt(r.borderLeftWidth)-parseInt(r.borderRightWidth),s=wc(e,0,n),o=wc(e,1,n),a=s&&ot(s),l=o&&ot(o),u=a&&parseInt(a.marginLeft)+parseInt(a.marginRight)+Nn(s).width,c=l&&parseInt(l.marginLeft)+parseInt(l.marginRight)+Nn(o).width;if(r.display==="flex")return r.flexDirection==="column"||r.flexDirection==="column-reverse"?"vertical":"horizontal";if(r.display==="grid")return r.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(s&&a.float&&a.float!=="none"){var d=a.float==="left"?"left":"right";return o&&(l.clear==="both"||l.clear===d)?"vertical":"horizontal"}return s&&(a.display==="block"||a.display==="flex"||a.display==="table"||a.display==="grid"||u>=i&&r[fP]==="none"||o&&r[fP]==="none"&&u+c>i)?"vertical":"horizontal"},Ere=function(e,n,r){var i=r?e.left:e.top,s=r?e.right:e.bottom,o=r?e.width:e.height,a=r?n.left:n.top,l=r?n.right:n.bottom,u=r?n.width:n.height;return i===a||s===l||i+o/2===a+u/2},Sre=function(e,n){var r;return pg.some(function(i){var s=i[Jr].options.emptyInsertThreshold;if(!(!s||eT(i))){var o=Nn(i),a=e>=o.left-s&&e<=o.right+s,l=n>=o.top-s&&n<=o.bottom+s;if(a&&l)return r=i}}),r},oL=function(e){function n(s,o){return function(a,l,u,c){var d=a.options.group.name&&l.options.group.name&&a.options.group.name===l.options.group.name;if(s==null&&(o||d))return!0;if(s==null||s===!1)return!1;if(o&&s==="clone")return s;if(typeof s=="function")return n(s(a,l,u,c),o)(a,l,u,c);var h=(o?a:l).options.group.name;return s===!0||typeof s=="string"&&s===h||s.join&&s.indexOf(h)>-1}}var r={},i=e.group;(!i||im(i)!="object")&&(i={name:i}),r.name=i.name,r.checkPull=n(i.pull,!0),r.checkPut=n(i.put),r.revertClone=i.revertClone,e.group=r},aL=function(){!iL&&St&&ot(St,"display","none")},lL=function(){!iL&&St&&ot(St,"display","")};Mv&&document.addEventListener("click",function(t){if(fg)return t.preventDefault(),t.stopPropagation&&t.stopPropagation(),t.stopImmediatePropagation&&t.stopImmediatePropagation(),fg=!1,!1},!0);var Qa=function(e){if(je){e=e.touches?e.touches[0]:e;var n=Sre(e.clientX,e.clientY);if(n){var r={};for(var i in e)e.hasOwnProperty(i)&&(r[i]=e[i]);r.target=r.rootEl=n,r.preventDefault=void 0,r.stopPropagation=void 0,n[Jr]._onDragOver(r)}}},Ire=function(e){je&&je.parentNode[Jr]._isOutsideThisEl(e.target)};function gt(t,e){if(!(t&&t.nodeType&&t.nodeType===1))throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(t));this.el=t,this.options=e=Zi({},e),t[Jr]=this;var n={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(t.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return sL(t,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(o,a){o.setData("Text",a.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:gt.supportPointer!==!1&&"PointerEvent"in window&&!th,emptyInsertThreshold:5};Nf.initializePlugins(this,t,n);for(var r in n)!(r in e)&&(e[r]=n[r]);oL(e);for(var i in this)i.charAt(0)==="_"&&typeof this[i]=="function"&&(this[i]=this[i].bind(this));this.nativeDraggable=e.forceFallback?!1:Tre,this.nativeDraggable&&(this.options.touchStartThreshold=1),e.supportPointer?xt(t,"pointerdown",this._onTapStart):(xt(t,"mousedown",this._onTapStart),xt(t,"touchstart",this._onTapStart)),this.nativeDraggable&&(xt(t,"dragover",this),xt(t,"dragenter",this)),pg.push(this.el),e.store&&e.store.get&&this.sort(e.store.get(this)||[]),Zi(this,yre())}gt.prototype={constructor:gt,_isOutsideThisEl:function(e){!this.el.contains(e)&&e!==this.el&&(lu=null)},_getDirection:function(e,n){return typeof this.options.direction=="function"?this.options.direction.call(this,e,n,je):this.options.direction},_onTapStart:function(e){if(e.cancelable){var n=this,r=this.el,i=this.options,s=i.preventOnFilter,o=e.type,a=e.touches&&e.touches[0]||e.pointerType&&e.pointerType==="touch"&&e,l=(a||e).target,u=e.target.shadowRoot&&(e.path&&e.path[0]||e.composedPath&&e.composedPath()[0])||l,c=i.filter;if(Dre(r),!je&&!(/mousedown|pointerdown/.test(o)&&e.button!==0||i.disabled)&&!u.isContentEditable&&!(!this.nativeDraggable&&th&&l&&l.tagName.toUpperCase()==="SELECT")&&(l=us(l,i.draggable,r,!1),!(l&&l.animated)&&sm!==l)){if(ku=Qn(l),rh=Qn(l,i.draggable),typeof c=="function"){if(c.call(this,e,l,this)){di({sortable:n,rootEl:u,name:"filter",targetEl:l,toEl:r,fromEl:r}),gi("filter",n,{evt:e}),s&&e.cancelable&&e.preventDefault();return}}else if(c&&(c=c.split(",").some(function(d){if(d=us(u,d.trim(),r,!1),d)return di({sortable:n,rootEl:d,name:"filter",targetEl:l,fromEl:r,toEl:r}),gi("filter",n,{evt:e}),!0}),c)){s&&e.cancelable&&e.preventDefault();return}i.handle&&!us(u,i.handle,r,!1)||this._prepareDragStart(e,a,l)}}},_prepareDragStart:function(e,n,r){var i=this,s=i.el,o=i.options,a=s.ownerDocument,l;if(r&&!je&&r.parentNode===s){var u=Nn(r);if(Dn=s,je=r,Kn=je.parentNode,el=je.nextSibling,sm=r,Rp=o.group,gt.dragged=je,Ya={target:je,clientX:(n||e).clientX,clientY:(n||e).clientY},dP=Ya.clientX-u.left,hP=Ya.clientY-u.top,this._lastX=(n||e).clientX,this._lastY=(n||e).clientY,je.style["will-change"]="all",l=function(){if(gi("delayEnded",i,{evt:e}),gt.eventCanceled){i._onDrop();return}i._disableDelayedDragEvents(),!oP&&i.nativeDraggable&&(je.draggable=!0),i._triggerDragStart(e,n),di({sortable:i,name:"choose",originalEvent:e}),qn(je,o.chosenClass,!0)},o.ignore.split(",").forEach(function(c){tL(je,c.trim(),ib)}),xt(a,"dragover",Qa),xt(a,"mousemove",Qa),xt(a,"touchmove",Qa),xt(a,"mouseup",i._onDrop),xt(a,"touchend",i._onDrop),xt(a,"touchcancel",i._onDrop),oP&&this.nativeDraggable&&(this.options.touchStartThreshold=4,je.draggable=!0),gi("delayStart",this,{evt:e}),o.delay&&(!o.delayOnTouchOnly||n)&&(!this.nativeDraggable||!(Df||Do))){if(gt.eventCanceled){this._onDrop();return}xt(a,"mouseup",i._disableDelayedDrag),xt(a,"touchend",i._disableDelayedDrag),xt(a,"touchcancel",i._disableDelayedDrag),xt(a,"mousemove",i._delayedDragTouchMoveHandler),xt(a,"touchmove",i._delayedDragTouchMoveHandler),o.supportPointer&&xt(a,"pointermove",i._delayedDragTouchMoveHandler),i._dragStartTimer=setTimeout(l,o.delay)}else l()}},_delayedDragTouchMoveHandler:function(e){var n=e.touches?e.touches[0]:e;Math.max(Math.abs(n.clientX-this._lastX),Math.abs(n.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){je&&ib(je),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var e=this.el.ownerDocument;Ot(e,"mouseup",this._disableDelayedDrag),Ot(e,"touchend",this._disableDelayedDrag),Ot(e,"touchcancel",this._disableDelayedDrag),Ot(e,"mousemove",this._delayedDragTouchMoveHandler),Ot(e,"touchmove",this._delayedDragTouchMoveHandler),Ot(e,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(e,n){n=n||e.pointerType=="touch"&&e,!this.nativeDraggable||n?this.options.supportPointer?xt(document,"pointermove",this._onTouchMove):n?xt(document,"touchmove",this._onTouchMove):xt(document,"mousemove",this._onTouchMove):(xt(je,"dragend",this),xt(Dn,"dragstart",this._onDragStart));try{document.selection?am(function(){document.selection.empty()}):window.getSelection().removeAllRanges()}catch{}},_dragStarted:function(e,n){if(bu=!1,Dn&&je){gi("dragStarted",this,{evt:n}),this.nativeDraggable&&xt(document,"dragover",Ire);var r=this.options;!e&&qn(je,r.dragClass,!1),qn(je,r.ghostClass,!0),gt.active=this,e&&this._appendGhost(),di({sortable:this,name:"start",originalEvent:n})}else this._nulling()},_emulateDragOver:function(){if(ss){this._lastX=ss.clientX,this._lastY=ss.clientY,aL();for(var e=document.elementFromPoint(ss.clientX,ss.clientY),n=e;e&&e.shadowRoot&&(e=e.shadowRoot.elementFromPoint(ss.clientX,ss.clientY),e!==n);)n=e;if(je.parentNode[Jr]._isOutsideThisEl(e),n)do{if(n[Jr]){var r=void 0;if(r=n[Jr]._onDragOver({clientX:ss.clientX,clientY:ss.clientY,target:e,rootEl:n}),r&&!this.options.dragoverBubble)break}e=n}while(n=n.parentNode);lL()}},_onTouchMove:function(e){if(Ya){var n=this.options,r=n.fallbackTolerance,i=n.fallbackOffset,s=e.touches?e.touches[0]:e,o=St&&yl(St,!0),a=St&&o&&o.a,l=St&&o&&o.d,u=Dp&&Hr&&uP(Hr),c=(s.clientX-Ya.clientX+i.x)/(a||1)+(u?u[0]-rb[0]:0)/(a||1),d=(s.clientY-Ya.clientY+i.y)/(l||1)+(u?u[1]-rb[1]:0)/(l||1);if(!gt.active&&!bu){if(r&&Math.max(Math.abs(s.clientX-this._lastX),Math.abs(s.clientY-this._lastY))<r)return;this._onDragStart(e,!0)}if(St){o?(o.e+=c-(tb||0),o.f+=d-(nb||0)):o={a:1,b:0,c:0,d:1,e:c,f:d};var h="matrix(".concat(o.a,",").concat(o.b,",").concat(o.c,",").concat(o.d,",").concat(o.e,",").concat(o.f,")");ot(St,"webkitTransform",h),ot(St,"mozTransform",h),ot(St,"msTransform",h),ot(St,"transform",h),tb=c,nb=d,ss=s}e.cancelable&&e.preventDefault()}},_appendGhost:function(){if(!St){var e=this.options.fallbackOnBody?document.body:Dn,n=Nn(je,!0,Dp,!0,e),r=this.options;if(Dp){for(Hr=e;ot(Hr,"position")==="static"&&ot(Hr,"transform")==="none"&&Hr!==document;)Hr=Hr.parentNode;Hr!==document.body&&Hr!==document.documentElement?(Hr===document&&(Hr=Bs()),n.top+=Hr.scrollTop,n.left+=Hr.scrollLeft):Hr=Bs(),rb=uP(Hr)}St=je.cloneNode(!0),qn(St,r.ghostClass,!1),qn(St,r.fallbackClass,!0),qn(St,r.dragClass,!0),ot(St,"transition",""),ot(St,"transform",""),ot(St,"box-sizing","border-box"),ot(St,"margin",0),ot(St,"top",n.top),ot(St,"left",n.left),ot(St,"width",n.width),ot(St,"height",n.height),ot(St,"opacity","0.8"),ot(St,"position",Dp?"absolute":"fixed"),ot(St,"zIndex","100000"),ot(St,"pointerEvents","none"),gt.ghost=St,e.appendChild(St),ot(St,"transform-origin",dP/parseInt(St.style.width)*100+"% "+hP/parseInt(St.style.height)*100+"%")}},_onDragStart:function(e,n){var r=this,i=e.dataTransfer,s=r.options;if(gi("dragStart",this,{evt:e}),gt.eventCanceled){this._onDrop();return}gi("setupClone",this),gt.eventCanceled||(Gn=tT(je),Gn.draggable=!1,Gn.style["will-change"]="",this._hideClone(),qn(Gn,this.options.chosenClass,!1),gt.clone=Gn),r.cloneId=am(function(){gi("clone",r),!gt.eventCanceled&&(r.options.removeCloneOnHide||Dn.insertBefore(Gn,je),r._hideClone(),di({sortable:r,name:"clone"}))}),!n&&qn(je,s.dragClass,!0),n?(fg=!0,r._loopId=setInterval(r._emulateDragOver,50)):(Ot(document,"mouseup",r._onDrop),Ot(document,"touchend",r._onDrop),Ot(document,"touchcancel",r._onDrop),i&&(i.effectAllowed="move",s.setData&&s.setData.call(r,i,je)),xt(document,"drop",r),ot(je,"transform","translateZ(0)")),bu=!0,r._dragStartId=am(r._dragStarted.bind(r,n,e)),xt(document,"selectstart",r),Rd=!0,th&&ot(document.body,"user-select","none")},_onDragOver:function(e){var n=this.el,r=e.target,i,s,o,a=this.options,l=a.group,u=gt.active,c=Rp===l,d=a.sort,h=xr||u,p,m=this,g=!1;if(o_)return;function y(te,z){gi(te,m,Ks({evt:e,isOwner:c,axis:p?"vertical":"horizontal",revert:o,dragRect:i,targetRect:s,canSort:d,fromSortable:h,target:r,completed:C,onMove:function(ce,le){return Np(Dn,n,je,i,ce,Nn(ce),e,le)},changed:S},z))}function A(){y("dragOverAnimationCapture"),m.captureAnimationState(),m!==h&&h.captureAnimationState()}function C(te){return y("dragOverCompleted",{insertion:te}),te&&(c?u._hideClone():u._showClone(m),m!==h&&(qn(je,xr?xr.options.ghostClass:u.options.ghostClass,!1),qn(je,a.ghostClass,!0)),xr!==m&&m!==gt.active?xr=m:m===gt.active&&xr&&(xr=null),h===m&&(m._ignoreWhileAnimating=r),m.animateAll(function(){y("dragOverAnimationComplete"),m._ignoreWhileAnimating=null}),m!==h&&(h.animateAll(),h._ignoreWhileAnimating=null)),(r===je&&!je.animated||r===n&&!r.animated)&&(lu=null),!a.dragoverBubble&&!e.rootEl&&r!==document&&(je.parentNode[Jr]._isOutsideThisEl(e.target),!te&&Qa(e)),!a.dragoverBubble&&e.stopPropagation&&e.stopPropagation(),g=!0}function S(){xi=Qn(je),Zo=Qn(je,a.draggable),di({sortable:m,name:"change",toEl:n,newIndex:xi,newDraggableIndex:Zo,originalEvent:e})}if(e.preventDefault!==void 0&&e.cancelable&&e.preventDefault(),r=us(r,a.draggable,n,!0),y("dragOver"),gt.eventCanceled)return g;if(je.contains(e.target)||r.animated&&r.animatingX&&r.animatingY||m._ignoreWhileAnimating===r)return C(!1);if(fg=!1,u&&!a.disabled&&(c?d||(o=Kn!==Dn):xr===this||(this.lastPutMode=Rp.checkPull(this,u,je,e))&&l.checkPut(this,u,je,e))){if(p=this._getDirection(e,r)==="vertical",i=Nn(je),y("dragOverValid"),gt.eventCanceled)return g;if(o)return Kn=Dn,A(),this._hideClone(),y("revert"),gt.eventCanceled||(el?Dn.insertBefore(je,el):Dn.appendChild(je)),C(!0);var E=eT(n,a.draggable);if(!E||Ore(e,p,this)&&!E.animated){if(E===je)return C(!1);if(E&&n===e.target&&(r=E),r&&(s=Nn(r)),Np(Dn,n,je,i,r,s,e,!!r)!==!1)return A(),n.appendChild(je),Kn=n,S(),C(!0)}else if(E&&Pre(e,p,this)){var k=wc(n,0,a,!0);if(k===je)return C(!1);if(r=k,s=Nn(r),Np(Dn,n,je,i,r,s,e,!1)!==!1)return A(),n.insertBefore(je,k),Kn=n,S(),C(!0)}else if(r.parentNode===n){s=Nn(r);var x=0,I,b=je.parentNode!==n,_=!Ere(je.animated&&je.toRect||i,r.animated&&r.toRect||s,p),T=p?"top":"left",R=lP(r,"top","top")||lP(je,"top","top"),N=R?R.scrollTop:void 0;lu!==r&&(I=s[T],sh=!1,xp=!_&&a.invertSwap||b),x=kre(e,r,s,p,_?1:a.swapThreshold,a.invertedSwapThreshold==null?a.swapThreshold:a.invertedSwapThreshold,xp,lu===r);var O;if(x!==0){var j=Qn(je);do j-=x,O=Kn.children[j];while(O&&(ot(O,"display")==="none"||O===St))}if(x===0||O===r)return C(!1);lu=r,ih=x;var U=r.nextElementSibling,$=!1;$=x===1;var B=Np(Dn,n,je,i,r,s,e,$);if(B!==!1)return(B===1||B===-1)&&($=B===1),o_=!0,setTimeout(Are,30),A(),$&&!U?n.appendChild(je):r.parentNode.insertBefore(je,$?U:r),R&&rL(R,0,N-R.scrollTop),Kn=je.parentNode,I!==void 0&&!xp&&(om=Math.abs(I-Nn(r)[T])),S(),C(!0)}if(n.contains(je))return C(!1)}return!1},_ignoreWhileAnimating:null,_offMoveEvents:function(){Ot(document,"mousemove",this._onTouchMove),Ot(document,"touchmove",this._onTouchMove),Ot(document,"pointermove",this._onTouchMove),Ot(document,"dragover",Qa),Ot(document,"mousemove",Qa),Ot(document,"touchmove",Qa)},_offUpEvents:function(){var e=this.el.ownerDocument;Ot(e,"mouseup",this._onDrop),Ot(e,"touchend",this._onDrop),Ot(e,"pointerup",this._onDrop),Ot(e,"touchcancel",this._onDrop),Ot(document,"selectstart",this)},_onDrop:function(e){var n=this.el,r=this.options;if(xi=Qn(je),Zo=Qn(je,r.draggable),gi("drop",this,{evt:e}),Kn=je&&je.parentNode,xi=Qn(je),Zo=Qn(je,r.draggable),gt.eventCanceled){this._nulling();return}bu=!1,xp=!1,sh=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),a_(this.cloneId),a_(this._dragStartId),this.nativeDraggable&&(Ot(document,"drop",this),Ot(n,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),th&&ot(document.body,"user-select",""),ot(je,"transform",""),e&&(Rd&&(e.cancelable&&e.preventDefault(),!r.dropBubble&&e.stopPropagation()),St&&St.parentNode&&St.parentNode.removeChild(St),(Dn===Kn||xr&&xr.lastPutMode!=="clone")&&Gn&&Gn.parentNode&&Gn.parentNode.removeChild(Gn),je&&(this.nativeDraggable&&Ot(je,"dragend",this),ib(je),je.style["will-change"]="",Rd&&!bu&&qn(je,xr?xr.options.ghostClass:this.options.ghostClass,!1),qn(je,this.options.chosenClass,!1),di({sortable:this,name:"unchoose",toEl:Kn,newIndex:null,newDraggableIndex:null,originalEvent:e}),Dn!==Kn?(xi>=0&&(di({rootEl:Kn,name:"add",toEl:Kn,fromEl:Dn,originalEvent:e}),di({sortable:this,name:"remove",toEl:Kn,originalEvent:e}),di({rootEl:Kn,name:"sort",toEl:Kn,fromEl:Dn,originalEvent:e}),di({sortable:this,name:"sort",toEl:Kn,originalEvent:e})),xr&&xr.save()):xi!==ku&&xi>=0&&(di({sortable:this,name:"update",toEl:Kn,originalEvent:e}),di({sortable:this,name:"sort",toEl:Kn,originalEvent:e})),gt.active&&((xi==null||xi===-1)&&(xi=ku,Zo=rh),di({sortable:this,name:"end",toEl:Kn,originalEvent:e}),this.save()))),this._nulling()},_nulling:function(){gi("nulling",this),Dn=je=Kn=St=el=Gn=sm=oa=Ya=ss=Rd=xi=Zo=ku=rh=lu=ih=xr=Rp=gt.dragged=gt.ghost=gt.clone=gt.active=null,mg.forEach(function(e){e.checked=!0}),mg.length=tb=nb=0},handleEvent:function(e){switch(e.type){case"drop":case"dragend":this._onDrop(e);break;case"dragenter":case"dragover":je&&(this._onDragOver(e),Cre(e));break;case"selectstart":e.preventDefault();break}},toArray:function(){for(var e=[],n,r=this.el.children,i=0,s=r.length,o=this.options;i<s;i++)n=r[i],us(n,o.draggable,this.el,!1)&&e.push(n.getAttribute(o.dataIdAttr)||xre(n));return e},sort:function(e,n){var r={},i=this.el;this.toArray().forEach(function(s,o){var a=i.children[o];us(a,this.options.draggable,i,!1)&&(r[s]=a)},this),n&&this.captureAnimationState(),e.forEach(function(s){r[s]&&(i.removeChild(r[s]),i.appendChild(r[s]))}),n&&this.animateAll()},save:function(){var e=this.options.store;e&&e.set&&e.set(this)},closest:function(e,n){return us(e,n||this.options.draggable,this.el,!1)},option:function(e,n){var r=this.options;if(n===void 0)return r[e];var i=Nf.modifyOption(this,e,n);typeof i<"u"?r[e]=i:r[e]=n,e==="group"&&oL(r)},destroy:function(){gi("destroy",this);var e=this.el;e[Jr]=null,Ot(e,"mousedown",this._onTapStart),Ot(e,"touchstart",this._onTapStart),Ot(e,"pointerdown",this._onTapStart),this.nativeDraggable&&(Ot(e,"dragover",this),Ot(e,"dragenter",this)),Array.prototype.forEach.call(e.querySelectorAll("[draggable]"),function(n){n.removeAttribute("draggable")}),this._onDrop(),this._disableDelayedDragEvents(),pg.splice(pg.indexOf(this.el),1),this.el=e=null},_hideClone:function(){if(!oa){if(gi("hideClone",this),gt.eventCanceled)return;ot(Gn,"display","none"),this.options.removeCloneOnHide&&Gn.parentNode&&Gn.parentNode.removeChild(Gn),oa=!0}},_showClone:function(e){if(e.lastPutMode!=="clone"){this._hideClone();return}if(oa){if(gi("showClone",this),gt.eventCanceled)return;je.parentNode==Dn&&!this.options.group.revertClone?Dn.insertBefore(Gn,je):el?Dn.insertBefore(Gn,el):Dn.appendChild(Gn),this.options.group.revertClone&&this.animate(je,Gn),ot(Gn,"display",""),oa=!1}}};function Cre(t){t.dataTransfer&&(t.dataTransfer.dropEffect="move"),t.cancelable&&t.preventDefault()}function Np(t,e,n,r,i,s,o,a){var l,u=t[Jr],c=u.options.onMove,d;return window.CustomEvent&&!Do&&!Df?l=new CustomEvent("move",{bubbles:!0,cancelable:!0}):(l=document.createEvent("Event"),l.initEvent("move",!0,!0)),l.to=e,l.from=t,l.dragged=n,l.draggedRect=r,l.related=i||e,l.relatedRect=s||Nn(e),l.willInsertAfter=a,l.originalEvent=o,t.dispatchEvent(l),c&&(d=c.call(u,l,o)),d}function ib(t){t.draggable=!1}function Are(){o_=!1}function Pre(t,e,n){var r=Nn(wc(n.el,0,n.options,!0)),i=10;return e?t.clientX<r.left-i||t.clientY<r.top&&t.clientX<r.right:t.clientY<r.top-i||t.clientY<r.bottom&&t.clientX<r.left}function Ore(t,e,n){var r=Nn(eT(n.el,n.options.draggable)),i=10;return e?t.clientX>r.right+i||t.clientX<=r.right&&t.clientY>r.bottom&&t.clientX>=r.left:t.clientX>r.right&&t.clientY>r.top||t.clientX<=r.right&&t.clientY>r.bottom+i}function kre(t,e,n,r,i,s,o,a){var l=r?t.clientY:t.clientX,u=r?n.height:n.width,c=r?n.top:n.left,d=r?n.bottom:n.right,h=!1;if(!o){if(a&&om<u*i){if(!sh&&(ih===1?l>c+u*s/2:l<d-u*s/2)&&(sh=!0),sh)h=!0;else if(ih===1?l<c+om:l>d-om)return-ih}else if(l>c+u*(1-i)/2&&l<d-u*(1-i)/2)return Rre(e)}return h=h||o,h&&(l<c+u*s/2||l>d-u*s/2)?l>c+u/2?1:-1:0}function Rre(t){return Qn(je)<Qn(t)?1:-1}function xre(t){for(var e=t.tagName+t.className+t.src+t.href+t.textContent,n=e.length,r=0;n--;)r+=e.charCodeAt(n);return r.toString(36)}function Dre(t){mg.length=0;for(var e=t.getElementsByTagName("input"),n=e.length;n--;){var r=e[n];r.checked&&mg.push(r)}}function am(t){return setTimeout(t,0)}function a_(t){return clearTimeout(t)}Mv&&xt(document,"touchmove",function(t){(gt.active||bu)&&t.cancelable&&t.preventDefault()});gt.utils={on:xt,off:Ot,css:ot,find:tL,is:function(e,n){return!!us(e,n,e,!1)},extend:gre,throttle:nL,closest:us,toggleClass:qn,clone:tT,index:Qn,nextTick:am,cancelNextTick:a_,detectDirection:sL,getChild:wc};gt.get=function(t){return t[Jr]};gt.mount=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];e[0].constructor===Array&&(e=e[0]),e.forEach(function(r){if(!r.prototype||!r.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(r));r.utils&&(gt.utils=Ks(Ks({},gt.utils),r.utils)),Nf.mount(r)})};gt.create=function(t,e){return new gt(t,e)};gt.version=hre;var ur=[],xd,l_,u_=!1,sb,ob,gg,Dd;function Nre(){function t(){this.defaults={scroll:!0,forceAutoScrollFallback:!1,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0};for(var e in this)e.charAt(0)==="_"&&typeof this[e]=="function"&&(this[e]=this[e].bind(this))}return t.prototype={dragStarted:function(n){var r=n.originalEvent;this.sortable.nativeDraggable?xt(document,"dragover",this._handleAutoScroll):this.options.supportPointer?xt(document,"pointermove",this._handleFallbackAutoScroll):r.touches?xt(document,"touchmove",this._handleFallbackAutoScroll):xt(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(n){var r=n.originalEvent;!this.options.dragOverBubble&&!r.rootEl&&this._handleAutoScroll(r)},drop:function(){this.sortable.nativeDraggable?Ot(document,"dragover",this._handleAutoScroll):(Ot(document,"pointermove",this._handleFallbackAutoScroll),Ot(document,"touchmove",this._handleFallbackAutoScroll),Ot(document,"mousemove",this._handleFallbackAutoScroll)),pP(),lm(),vre()},nulling:function(){gg=l_=xd=u_=Dd=sb=ob=null,ur.length=0},_handleFallbackAutoScroll:function(n){this._handleAutoScroll(n,!0)},_handleAutoScroll:function(n,r){var i=this,s=(n.touches?n.touches[0]:n).clientX,o=(n.touches?n.touches[0]:n).clientY,a=document.elementFromPoint(s,o);if(gg=n,r||this.options.forceAutoScrollFallback||Df||Do||th){ab(n,this.options,a,r);var l=la(a,!0);u_&&(!Dd||s!==sb||o!==ob)&&(Dd&&pP(),Dd=setInterval(function(){var u=la(document.elementFromPoint(s,o),!0);u!==l&&(l=u,lm()),ab(n,i.options,u,r)},10),sb=s,ob=o)}else{if(!this.options.bubbleScroll||la(a,!0)===Bs()){lm();return}ab(n,this.options,la(a,!1),!1)}}},Zi(t,{pluginName:"scroll",initializeByDefault:!0})}function lm(){ur.forEach(function(t){clearInterval(t.pid)}),ur=[]}function pP(){clearInterval(Dd)}var ab=nL(function(t,e,n,r){if(e.scroll){var i=(t.touches?t.touches[0]:t).clientX,s=(t.touches?t.touches[0]:t).clientY,o=e.scrollSensitivity,a=e.scrollSpeed,l=Bs(),u=!1,c;l_!==n&&(l_=n,lm(),xd=e.scroll,c=e.scrollFn,xd===!0&&(xd=la(n,!0)));var d=0,h=xd;do{var p=h,m=Nn(p),g=m.top,y=m.bottom,A=m.left,C=m.right,S=m.width,E=m.height,k=void 0,x=void 0,I=p.scrollWidth,b=p.scrollHeight,_=ot(p),T=p.scrollLeft,R=p.scrollTop;p===l?(k=S<I&&(_.overflowX==="auto"||_.overflowX==="scroll"||_.overflowX==="visible"),x=E<b&&(_.overflowY==="auto"||_.overflowY==="scroll"||_.overflowY==="visible")):(k=S<I&&(_.overflowX==="auto"||_.overflowX==="scroll"),x=E<b&&(_.overflowY==="auto"||_.overflowY==="scroll"));var N=k&&(Math.abs(C-i)<=o&&T+S<I)-(Math.abs(A-i)<=o&&!!T),O=x&&(Math.abs(y-s)<=o&&R+E<b)-(Math.abs(g-s)<=o&&!!R);if(!ur[d])for(var j=0;j<=d;j++)ur[j]||(ur[j]={});(ur[d].vx!=N||ur[d].vy!=O||ur[d].el!==p)&&(ur[d].el=p,ur[d].vx=N,ur[d].vy=O,clearInterval(ur[d].pid),(N!=0||O!=0)&&(u=!0,ur[d].pid=setInterval((function(){r&&this.layer===0&&gt.active._onTouchMove(gg);var U=ur[this.layer].vy?ur[this.layer].vy*a:0,$=ur[this.layer].vx?ur[this.layer].vx*a:0;typeof c=="function"&&c.call(gt.dragged.parentNode[Jr],$,U,t,gg,ur[this.layer].el)!=="continue"||rL(ur[this.layer].el,$,U)}).bind({layer:d}),24))),d++}while(e.bubbleScroll&&h!==l&&(h=la(h,!1)));u_=u}},30),uL=function(e){var n=e.originalEvent,r=e.putSortable,i=e.dragEl,s=e.activeSortable,o=e.dispatchSortableEvent,a=e.hideGhostForTarget,l=e.unhideGhostForTarget;if(n){var u=r||s;a();var c=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:n,d=document.elementFromPoint(c.clientX,c.clientY);l(),u&&!u.el.contains(d)&&(o("spill"),this.onSpill({dragEl:i,putSortable:r}))}};function nT(){}nT.prototype={startIndex:null,dragStart:function(e){var n=e.oldDraggableIndex;this.startIndex=n},onSpill:function(e){var n=e.dragEl,r=e.putSortable;this.sortable.captureAnimationState(),r&&r.captureAnimationState();var i=wc(this.sortable.el,this.startIndex,this.options);i?this.sortable.el.insertBefore(n,i):this.sortable.el.appendChild(n),this.sortable.animateAll(),r&&r.animateAll()},drop:uL};Zi(nT,{pluginName:"revertOnSpill"});function rT(){}rT.prototype={onSpill:function(e){var n=e.dragEl,r=e.putSortable,i=r||this.sortable;i.captureAnimationState(),n.parentNode&&n.parentNode.removeChild(n),i.animateAll()},drop:uL};Zi(rT,{pluginName:"removeOnSpill"});var Wi;function Mre(){function t(){this.defaults={swapClass:"sortable-swap-highlight"}}return t.prototype={dragStart:function(n){var r=n.dragEl;Wi=r},dragOverValid:function(n){var r=n.completed,i=n.target,s=n.onMove,o=n.activeSortable,a=n.changed,l=n.cancel;if(o.options.swap){var u=this.sortable.el,c=this.options;if(i&&i!==u){var d=Wi;s(i)!==!1?(qn(i,c.swapClass,!0),Wi=i):Wi=null,d&&d!==Wi&&qn(d,c.swapClass,!1)}a(),r(!0),l()}},drop:function(n){var r=n.activeSortable,i=n.putSortable,s=n.dragEl,o=i||this.sortable,a=this.options;Wi&&qn(Wi,a.swapClass,!1),Wi&&(a.swap||i&&i.options.swap)&&s!==Wi&&(o.captureAnimationState(),o!==r&&r.captureAnimationState(),Lre(s,Wi),o.animateAll(),o!==r&&r.animateAll())},nulling:function(){Wi=null}},Zi(t,{pluginName:"swap",eventProperties:function(){return{swapItem:Wi}}})}function Lre(t,e){var n=t.parentNode,r=e.parentNode,i,s;!n||!r||n.isEqualNode(e)||r.isEqualNode(t)||(i=Qn(t),s=Qn(e),n.isEqualNode(r)&&i<s&&s++,n.insertBefore(e,n.children[i]),r.insertBefore(t,r.children[s]))}var _t=[],Ri=[],hd,os,fd=!1,vi=!1,uu=!1,vn,pd,Mp;function Vre(){function t(e){for(var n in this)n.charAt(0)==="_"&&typeof this[n]=="function"&&(this[n]=this[n].bind(this));e.options.supportPointer?xt(document,"pointerup",this._deselectMultiDrag):(xt(document,"mouseup",this._deselectMultiDrag),xt(document,"touchend",this._deselectMultiDrag)),xt(document,"keydown",this._checkKeyDown),xt(document,"keyup",this._checkKeyUp),this.defaults={selectedClass:"sortable-selected",multiDragKey:null,setData:function(i,s){var o="";_t.length&&os===e?_t.forEach(function(a,l){o+=(l?", ":"")+a.textContent}):o=s.textContent,i.setData("Text",o)}}}return t.prototype={multiDragKeyDown:!1,isMultiDrag:!1,delayStartGlobal:function(n){var r=n.dragEl;vn=r},delayEnded:function(){this.isMultiDrag=~_t.indexOf(vn)},setupClone:function(n){var r=n.sortable,i=n.cancel;if(this.isMultiDrag){for(var s=0;s<_t.length;s++)Ri.push(tT(_t[s])),Ri[s].sortableIndex=_t[s].sortableIndex,Ri[s].draggable=!1,Ri[s].style["will-change"]="",qn(Ri[s],this.options.selectedClass,!1),_t[s]===vn&&qn(Ri[s],this.options.chosenClass,!1);r._hideClone(),i()}},clone:function(n){var r=n.sortable,i=n.rootEl,s=n.dispatchSortableEvent,o=n.cancel;this.isMultiDrag&&(this.options.removeCloneOnHide||_t.length&&os===r&&(mP(!0,i),s("clone"),o()))},showClone:function(n){var r=n.cloneNowShown,i=n.rootEl,s=n.cancel;this.isMultiDrag&&(mP(!1,i),Ri.forEach(function(o){ot(o,"display","")}),r(),Mp=!1,s())},hideClone:function(n){var r=this;n.sortable;var i=n.cloneNowHidden,s=n.cancel;this.isMultiDrag&&(Ri.forEach(function(o){ot(o,"display","none"),r.options.removeCloneOnHide&&o.parentNode&&o.parentNode.removeChild(o)}),i(),Mp=!0,s())},dragStartGlobal:function(n){n.sortable,!this.isMultiDrag&&os&&os.multiDrag._deselectMultiDrag(),_t.forEach(function(r){r.sortableIndex=Qn(r)}),_t=_t.sort(function(r,i){return r.sortableIndex-i.sortableIndex}),uu=!0},dragStarted:function(n){var r=this,i=n.sortable;if(this.isMultiDrag){if(this.options.sort&&(i.captureAnimationState(),this.options.animation)){_t.forEach(function(o){o!==vn&&ot(o,"position","absolute")});var s=Nn(vn,!1,!0,!0);_t.forEach(function(o){o!==vn&&cP(o,s)}),vi=!0,fd=!0}i.animateAll(function(){vi=!1,fd=!1,r.options.animation&&_t.forEach(function(o){Zy(o)}),r.options.sort&&Lp()})}},dragOver:function(n){var r=n.target,i=n.completed,s=n.cancel;vi&&~_t.indexOf(r)&&(i(!1),s())},revert:function(n){var r=n.fromSortable,i=n.rootEl,s=n.sortable,o=n.dragRect;_t.length>1&&(_t.forEach(function(a){s.addAnimationState({target:a,rect:vi?Nn(a):o}),Zy(a),a.fromRect=o,r.removeAnimationState(a)}),vi=!1,$re(!this.options.removeCloneOnHide,i))},dragOverCompleted:function(n){var r=n.sortable,i=n.isOwner,s=n.insertion,o=n.activeSortable,a=n.parentEl,l=n.putSortable,u=this.options;if(s){if(i&&o._hideClone(),fd=!1,u.animation&&_t.length>1&&(vi||!i&&!o.options.sort&&!l)){var c=Nn(vn,!1,!0,!0);_t.forEach(function(h){h!==vn&&(cP(h,c),a.appendChild(h))}),vi=!0}if(!i)if(vi||Lp(),_t.length>1){var d=Mp;o._showClone(r),o.options.animation&&!Mp&&d&&Ri.forEach(function(h){o.addAnimationState({target:h,rect:pd}),h.fromRect=pd,h.thisAnimationDuration=null})}else o._showClone(r)}},dragOverAnimationCapture:function(n){var r=n.dragRect,i=n.isOwner,s=n.activeSortable;if(_t.forEach(function(a){a.thisAnimationDuration=null}),s.options.animation&&!i&&s.multiDrag.isMultiDrag){pd=Zi({},r);var o=yl(vn,!0);pd.top-=o.f,pd.left-=o.e}},dragOverAnimationComplete:function(){vi&&(vi=!1,Lp())},drop:function(n){var r=n.originalEvent,i=n.rootEl,s=n.parentEl,o=n.sortable,a=n.dispatchSortableEvent,l=n.oldIndex,u=n.putSortable,c=u||this.sortable;if(r){var d=this.options,h=s.children;if(!uu)if(d.multiDragKey&&!this.multiDragKeyDown&&this._deselectMultiDrag(),qn(vn,d.selectedClass,!~_t.indexOf(vn)),~_t.indexOf(vn))_t.splice(_t.indexOf(vn),1),hd=null,kd({sortable:o,rootEl:i,name:"deselect",targetEl:vn,originalEvt:r});else{if(_t.push(vn),kd({sortable:o,rootEl:i,name:"select",targetEl:vn,originalEvt:r}),r.shiftKey&&hd&&o.el.contains(hd)){var p=Qn(hd),m=Qn(vn);if(~p&&~m&&p!==m){var g,y;for(m>p?(y=p,g=m):(y=m,g=p+1);y<g;y++)~_t.indexOf(h[y])||(qn(h[y],d.selectedClass,!0),_t.push(h[y]),kd({sortable:o,rootEl:i,name:"select",targetEl:h[y],originalEvt:r}))}}else hd=vn;os=c}if(uu&&this.isMultiDrag){if(vi=!1,(s[Jr].options.sort||s!==i)&&_t.length>1){var A=Nn(vn),C=Qn(vn,":not(."+this.options.selectedClass+")");if(!fd&&d.animation&&(vn.thisAnimationDuration=null),c.captureAnimationState(),!fd&&(d.animation&&(vn.fromRect=A,_t.forEach(function(E){if(E.thisAnimationDuration=null,E!==vn){var k=vi?Nn(E):A;E.fromRect=k,c.addAnimationState({target:E,rect:k})}})),Lp(),_t.forEach(function(E){h[C]?s.insertBefore(E,h[C]):s.appendChild(E),C++}),l===Qn(vn))){var S=!1;_t.forEach(function(E){if(E.sortableIndex!==Qn(E)){S=!0;return}}),S&&a("update")}_t.forEach(function(E){Zy(E)}),c.animateAll()}os=c}(i===s||u&&u.lastPutMode!=="clone")&&Ri.forEach(function(E){E.parentNode&&E.parentNode.removeChild(E)})}},nullingGlobal:function(){this.isMultiDrag=uu=!1,Ri.length=0},destroyGlobal:function(){this._deselectMultiDrag(),Ot(document,"pointerup",this._deselectMultiDrag),Ot(document,"mouseup",this._deselectMultiDrag),Ot(document,"touchend",this._deselectMultiDrag),Ot(document,"keydown",this._checkKeyDown),Ot(document,"keyup",this._checkKeyUp)},_deselectMultiDrag:function(n){if(!(typeof uu<"u"&&uu)&&os===this.sortable&&!(n&&us(n.target,this.options.draggable,this.sortable.el,!1))&&!(n&&n.button!==0))for(;_t.length;){var r=_t[0];qn(r,this.options.selectedClass,!1),_t.shift(),kd({sortable:this.sortable,rootEl:this.sortable.el,name:"deselect",targetEl:r,originalEvt:n})}},_checkKeyDown:function(n){n.key===this.options.multiDragKey&&(this.multiDragKeyDown=!0)},_checkKeyUp:function(n){n.key===this.options.multiDragKey&&(this.multiDragKeyDown=!1)}},Zi(t,{pluginName:"multiDrag",utils:{select:function(n){var r=n.parentNode[Jr];!r||!r.options.multiDrag||~_t.indexOf(n)||(os&&os!==r&&(os.multiDrag._deselectMultiDrag(),os=r),qn(n,r.options.selectedClass,!0),_t.push(n))},deselect:function(n){var r=n.parentNode[Jr],i=_t.indexOf(n);!r||!r.options.multiDrag||!~i||(qn(n,r.options.selectedClass,!1),_t.splice(i,1))}},eventProperties:function(){var n=this,r=[],i=[];return _t.forEach(function(s){r.push({multiDragElement:s,index:s.sortableIndex});var o;vi&&s!==vn?o=-1:vi?o=Qn(s,":not(."+n.options.selectedClass+")"):o=Qn(s),i.push({multiDragElement:s,index:o})}),{items:are(_t),clones:[].concat(Ri),oldIndicies:r,newIndicies:i}},optionListeners:{multiDragKey:function(n){return n=n.toLowerCase(),n==="ctrl"?n="Control":n.length>1&&(n=n.charAt(0).toUpperCase()+n.substr(1)),n}}})}function $re(t,e){_t.forEach(function(n,r){var i=e.children[n.sortableIndex+(t?Number(r):0)];i?e.insertBefore(n,i):e.appendChild(n)})}function mP(t,e){Ri.forEach(function(n,r){var i=e.children[n.sortableIndex+(t?Number(r):0)];i?e.insertBefore(n,i):e.appendChild(n)})}function Lp(){_t.forEach(function(t){t!==vn&&t.parentNode&&t.parentNode.removeChild(t)})}gt.mount(new Nre);gt.mount(rT,nT);const Fre=Object.freeze(Object.defineProperty({__proto__:null,MultiDrag:Vre,Sortable:gt,Swap:Mre,default:gt},Symbol.toStringTag,{value:"Module"})),Ure=XM(Fre);(function(t,e){(function(r,i){t.exports=i(rre,Ure)})(typeof self<"u"?self:tre,function(n,r){return function(i){var s={};function o(a){if(s[a])return s[a].exports;var l=s[a]={i:a,l:!1,exports:{}};return i[a].call(l.exports,l,l.exports,o),l.l=!0,l.exports}return o.m=i,o.c=s,o.d=function(a,l,u){o.o(a,l)||Object.defineProperty(a,l,{enumerable:!0,get:u})},o.r=function(a){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(a,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(a,"__esModule",{value:!0})},o.t=function(a,l){if(l&1&&(a=o(a)),l&8||l&4&&typeof a=="object"&&a&&a.__esModule)return a;var u=Object.create(null);if(o.r(u),Object.defineProperty(u,"default",{enumerable:!0,value:a}),l&2&&typeof a!="string")for(var c in a)o.d(u,c,(function(d){return a[d]}).bind(null,c));return u},o.n=function(a){var l=a&&a.__esModule?function(){return a.default}:function(){return a};return o.d(l,"a",l),l},o.o=function(a,l){return Object.prototype.hasOwnProperty.call(a,l)},o.p="",o(o.s="fb15")}({"00ee":function(i,s,o){var a=o("b622"),l=a("toStringTag"),u={};u[l]="z",i.exports=String(u)==="[object z]"},"0366":function(i,s,o){var a=o("1c0b");i.exports=function(l,u,c){if(a(l),u===void 0)return l;switch(c){case 0:return function(){return l.call(u)};case 1:return function(d){return l.call(u,d)};case 2:return function(d,h){return l.call(u,d,h)};case 3:return function(d,h,p){return l.call(u,d,h,p)}}return function(){return l.apply(u,arguments)}}},"057f":function(i,s,o){var a=o("fc6a"),l=o("241c").f,u={}.toString,c=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],d=function(h){try{return l(h)}catch{return c.slice()}};i.exports.f=function(p){return c&&u.call(p)=="[object Window]"?d(p):l(a(p))}},"06cf":function(i,s,o){var a=o("83ab"),l=o("d1e7"),u=o("5c6c"),c=o("fc6a"),d=o("c04e"),h=o("5135"),p=o("0cfb"),m=Object.getOwnPropertyDescriptor;s.f=a?m:function(y,A){if(y=c(y),A=d(A,!0),p)try{return m(y,A)}catch{}if(h(y,A))return u(!l.f.call(y,A),y[A])}},"0cfb":function(i,s,o){var a=o("83ab"),l=o("d039"),u=o("cc12");i.exports=!a&&!l(function(){return Object.defineProperty(u("div"),"a",{get:function(){return 7}}).a!=7})},"13d5":function(i,s,o){var a=o("23e7"),l=o("d58f").left,u=o("a640"),c=o("ae40"),d=u("reduce"),h=c("reduce",{1:0});a({target:"Array",proto:!0,forced:!d||!h},{reduce:function(m){return l(this,m,arguments.length,arguments.length>1?arguments[1]:void 0)}})},"14c3":function(i,s,o){var a=o("c6b6"),l=o("9263");i.exports=function(u,c){var d=u.exec;if(typeof d=="function"){var h=d.call(u,c);if(typeof h!="object")throw TypeError("RegExp exec method returned something other than an Object or null");return h}if(a(u)!=="RegExp")throw TypeError("RegExp#exec called on incompatible receiver");return l.call(u,c)}},"159b":function(i,s,o){var a=o("da84"),l=o("fdbc"),u=o("17c2"),c=o("9112");for(var d in l){var h=a[d],p=h&&h.prototype;if(p&&p.forEach!==u)try{c(p,"forEach",u)}catch{p.forEach=u}}},"17c2":function(i,s,o){var a=o("b727").forEach,l=o("a640"),u=o("ae40"),c=l("forEach"),d=u("forEach");i.exports=!c||!d?function(p){return a(this,p,arguments.length>1?arguments[1]:void 0)}:[].forEach},"1be4":function(i,s,o){var a=o("d066");i.exports=a("document","documentElement")},"1c0b":function(i,s){i.exports=function(o){if(typeof o!="function")throw TypeError(String(o)+" is not a function");return o}},"1c7e":function(i,s,o){var a=o("b622"),l=a("iterator"),u=!1;try{var c=0,d={next:function(){return{done:!!c++}},return:function(){u=!0}};d[l]=function(){return this},Array.from(d,function(){throw 2})}catch{}i.exports=function(h,p){if(!p&&!u)return!1;var m=!1;try{var g={};g[l]=function(){return{next:function(){return{done:m=!0}}}},h(g)}catch{}return m}},"1d80":function(i,s){i.exports=function(o){if(o==null)throw TypeError("Can't call method on "+o);return o}},"1dde":function(i,s,o){var a=o("d039"),l=o("b622"),u=o("2d00"),c=l("species");i.exports=function(d){return u>=51||!a(function(){var h=[],p=h.constructor={};return p[c]=function(){return{foo:1}},h[d](Boolean).foo!==1})}},"23cb":function(i,s,o){var a=o("a691"),l=Math.max,u=Math.min;i.exports=function(c,d){var h=a(c);return h<0?l(h+d,0):u(h,d)}},"23e7":function(i,s,o){var a=o("da84"),l=o("06cf").f,u=o("9112"),c=o("6eeb"),d=o("ce4e"),h=o("e893"),p=o("94ca");i.exports=function(m,g){var y=m.target,A=m.global,C=m.stat,S,E,k,x,I,b;if(A?E=a:C?E=a[y]||d(y,{}):E=(a[y]||{}).prototype,E)for(k in g){if(I=g[k],m.noTargetGet?(b=l(E,k),x=b&&b.value):x=E[k],S=p(A?k:y+(C?".":"#")+k,m.forced),!S&&x!==void 0){if(typeof I==typeof x)continue;h(I,x)}(m.sham||x&&x.sham)&&u(I,"sham",!0),c(E,k,I,m)}}},"241c":function(i,s,o){var a=o("ca84"),l=o("7839"),u=l.concat("length","prototype");s.f=Object.getOwnPropertyNames||function(d){return a(d,u)}},"25f0":function(i,s,o){var a=o("6eeb"),l=o("825a"),u=o("d039"),c=o("ad6d"),d="toString",h=RegExp.prototype,p=h[d],m=u(function(){return p.call({source:"a",flags:"b"})!="/a/b"}),g=p.name!=d;(m||g)&&a(RegExp.prototype,d,function(){var A=l(this),C=String(A.source),S=A.flags,E=String(S===void 0&&A instanceof RegExp&&!("flags"in h)?c.call(A):S);return"/"+C+"/"+E},{unsafe:!0})},"2ca0":function(i,s,o){var a=o("23e7"),l=o("06cf").f,u=o("50c4"),c=o("5a34"),d=o("1d80"),h=o("ab13"),p=o("c430"),m="".startsWith,g=Math.min,y=h("startsWith"),A=!p&&!y&&!!function(){var C=l(String.prototype,"startsWith");return C&&!C.writable}();a({target:"String",proto:!0,forced:!A&&!y},{startsWith:function(S){var E=String(d(this));c(S);var k=u(g(arguments.length>1?arguments[1]:void 0,E.length)),x=String(S);return m?m.call(E,x,k):E.slice(k,k+x.length)===x}})},"2d00":function(i,s,o){var a=o("da84"),l=o("342f"),u=a.process,c=u&&u.versions,d=c&&c.v8,h,p;d?(h=d.split("."),p=h[0]+h[1]):l&&(h=l.match(/Edge\/(\d+)/),(!h||h[1]>=74)&&(h=l.match(/Chrome\/(\d+)/),h&&(p=h[1]))),i.exports=p&&+p},"342f":function(i,s,o){var a=o("d066");i.exports=a("navigator","userAgent")||""},"35a1":function(i,s,o){var a=o("f5df"),l=o("3f8c"),u=o("b622"),c=u("iterator");i.exports=function(d){if(d!=null)return d[c]||d["@@iterator"]||l[a(d)]}},"37e8":function(i,s,o){var a=o("83ab"),l=o("9bf2"),u=o("825a"),c=o("df75");i.exports=a?Object.defineProperties:function(h,p){u(h);for(var m=c(p),g=m.length,y=0,A;g>y;)l.f(h,A=m[y++],p[A]);return h}},"3bbe":function(i,s,o){var a=o("861d");i.exports=function(l){if(!a(l)&&l!==null)throw TypeError("Can't set "+String(l)+" as a prototype");return l}},"3ca3":function(i,s,o){var a=o("6547").charAt,l=o("69f3"),u=o("7dd0"),c="String Iterator",d=l.set,h=l.getterFor(c);u(String,"String",function(p){d(this,{type:c,string:String(p),index:0})},function(){var m=h(this),g=m.string,y=m.index,A;return y>=g.length?{value:void 0,done:!0}:(A=a(g,y),m.index+=A.length,{value:A,done:!1})})},"3f8c":function(i,s){i.exports={}},4160:function(i,s,o){var a=o("23e7"),l=o("17c2");a({target:"Array",proto:!0,forced:[].forEach!=l},{forEach:l})},"428f":function(i,s,o){var a=o("da84");i.exports=a},"44ad":function(i,s,o){var a=o("d039"),l=o("c6b6"),u="".split;i.exports=a(function(){return!Object("z").propertyIsEnumerable(0)})?function(c){return l(c)=="String"?u.call(c,""):Object(c)}:Object},"44d2":function(i,s,o){var a=o("b622"),l=o("7c73"),u=o("9bf2"),c=a("unscopables"),d=Array.prototype;d[c]==null&&u.f(d,c,{configurable:!0,value:l(null)}),i.exports=function(h){d[c][h]=!0}},"44e7":function(i,s,o){var a=o("861d"),l=o("c6b6"),u=o("b622"),c=u("match");i.exports=function(d){var h;return a(d)&&((h=d[c])!==void 0?!!h:l(d)=="RegExp")}},4930:function(i,s,o){var a=o("d039");i.exports=!!Object.getOwnPropertySymbols&&!a(function(){return!String(Symbol())})},"4d64":function(i,s,o){var a=o("fc6a"),l=o("50c4"),u=o("23cb"),c=function(d){return function(h,p,m){var g=a(h),y=l(g.length),A=u(m,y),C;if(d&&p!=p){for(;y>A;)if(C=g[A++],C!=C)return!0}else for(;y>A;A++)if((d||A in g)&&g[A]===p)return d||A||0;return!d&&-1}};i.exports={includes:c(!0),indexOf:c(!1)}},"4de4":function(i,s,o){var a=o("23e7"),l=o("b727").filter,u=o("1dde"),c=o("ae40"),d=u("filter"),h=c("filter");a({target:"Array",proto:!0,forced:!d||!h},{filter:function(m){return l(this,m,arguments.length>1?arguments[1]:void 0)}})},"4df4":function(i,s,o){var a=o("0366"),l=o("7b0b"),u=o("9bdd"),c=o("e95a"),d=o("50c4"),h=o("8418"),p=o("35a1");i.exports=function(g){var y=l(g),A=typeof this=="function"?this:Array,C=arguments.length,S=C>1?arguments[1]:void 0,E=S!==void 0,k=p(y),x=0,I,b,_,T,R,N;if(E&&(S=a(S,C>2?arguments[2]:void 0,2)),k!=null&&!(A==Array&&c(k)))for(T=k.call(y),R=T.next,b=new A;!(_=R.call(T)).done;x++)N=E?u(T,S,[_.value,x],!0):_.value,h(b,x,N);else for(I=d(y.length),b=new A(I);I>x;x++)N=E?S(y[x],x):y[x],h(b,x,N);return b.length=x,b}},"4fad":function(i,s,o){var a=o("23e7"),l=o("6f53").entries;a({target:"Object",stat:!0},{entries:function(c){return l(c)}})},"50c4":function(i,s,o){var a=o("a691"),l=Math.min;i.exports=function(u){return u>0?l(a(u),9007199254740991):0}},5135:function(i,s){var o={}.hasOwnProperty;i.exports=function(a,l){return o.call(a,l)}},5319:function(i,s,o){var a=o("d784"),l=o("825a"),u=o("7b0b"),c=o("50c4"),d=o("a691"),h=o("1d80"),p=o("8aa5"),m=o("14c3"),g=Math.max,y=Math.min,A=Math.floor,C=/\$([$&'`]|\d\d?|<[^>]*>)/g,S=/\$([$&'`]|\d\d?)/g,E=function(k){return k===void 0?k:String(k)};a("replace",2,function(k,x,I,b){var _=b.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,T=b.REPLACE_KEEPS_$0,R=_?"$":"$0";return[function(j,U){var $=h(this),B=j==null?void 0:j[k];return B!==void 0?B.call(j,$,U):x.call(String($),j,U)},function(O,j){if(!_&&T||typeof j=="string"&&j.indexOf(R)===-1){var U=I(x,O,this,j);if(U.done)return U.value}var $=l(O),B=String(this),te=typeof j=="function";te||(j=String(j));var z=$.global;if(z){var V=$.unicode;$.lastIndex=0}for(var ce=[];;){var le=m($,B);if(le===null||(ce.push(le),!z))break;var ve=String(le[0]);ve===""&&($.lastIndex=p(B,c($.lastIndex),V))}for(var Se="",he=0,Y=0;Y<ce.length;Y++){le=ce[Y];for(var ne=String(le[0]),pe=g(y(d(le.index),B.length),0),oe=[],we=1;we<le.length;we++)oe.push(E(le[we]));var Ce=le.groups;if(te){var fe=[ne].concat(oe,pe,B);Ce!==void 0&&fe.push(Ce);var L=String(j.apply(void 0,fe))}else L=N(ne,B,pe,oe,Ce,j);pe>=he&&(Se+=B.slice(he,pe)+L,he=pe+ne.length)}return Se+B.slice(he)}];function N(O,j,U,$,B,te){var z=U+O.length,V=$.length,ce=S;return B!==void 0&&(B=u(B),ce=C),x.call(te,ce,function(le,ve){var Se;switch(ve.charAt(0)){case"$":return"$";case"&":return O;case"`":return j.slice(0,U);case"'":return j.slice(z);case"<":Se=B[ve.slice(1,-1)];break;default:var he=+ve;if(he===0)return le;if(he>V){var Y=A(he/10);return Y===0?le:Y<=V?$[Y-1]===void 0?ve.charAt(1):$[Y-1]+ve.charAt(1):le}Se=$[he-1]}return Se===void 0?"":Se})}})},5692:function(i,s,o){var a=o("c430"),l=o("c6cd");(i.exports=function(u,c){return l[u]||(l[u]=c!==void 0?c:{})})("versions",[]).push({version:"3.6.5",mode:a?"pure":"global",copyright:" 2020 Denis Pushkarev (zloirock.ru)"})},"56ef":function(i,s,o){var a=o("d066"),l=o("241c"),u=o("7418"),c=o("825a");i.exports=a("Reflect","ownKeys")||function(h){var p=l.f(c(h)),m=u.f;return m?p.concat(m(h)):p}},"5a34":function(i,s,o){var a=o("44e7");i.exports=function(l){if(a(l))throw TypeError("The method doesn't accept regular expressions");return l}},"5c6c":function(i,s){i.exports=function(o,a){return{enumerable:!(o&1),configurable:!(o&2),writable:!(o&4),value:a}}},"5db7":function(i,s,o){var a=o("23e7"),l=o("a2bf"),u=o("7b0b"),c=o("50c4"),d=o("1c0b"),h=o("65f0");a({target:"Array",proto:!0},{flatMap:function(m){var g=u(this),y=c(g.length),A;return d(m),A=h(g,0),A.length=l(A,g,g,y,0,1,m,arguments.length>1?arguments[1]:void 0),A}})},6547:function(i,s,o){var a=o("a691"),l=o("1d80"),u=function(c){return function(d,h){var p=String(l(d)),m=a(h),g=p.length,y,A;return m<0||m>=g?c?"":void 0:(y=p.charCodeAt(m),y<55296||y>56319||m+1===g||(A=p.charCodeAt(m+1))<56320||A>57343?c?p.charAt(m):y:c?p.slice(m,m+2):(y-55296<<10)+(A-56320)+65536)}};i.exports={codeAt:u(!1),charAt:u(!0)}},"65f0":function(i,s,o){var a=o("861d"),l=o("e8b5"),u=o("b622"),c=u("species");i.exports=function(d,h){var p;return l(d)&&(p=d.constructor,typeof p=="function"&&(p===Array||l(p.prototype))?p=void 0:a(p)&&(p=p[c],p===null&&(p=void 0))),new(p===void 0?Array:p)(h===0?0:h)}},"69f3":function(i,s,o){var a=o("7f9a"),l=o("da84"),u=o("861d"),c=o("9112"),d=o("5135"),h=o("f772"),p=o("d012"),m=l.WeakMap,g,y,A,C=function(_){return A(_)?y(_):g(_,{})},S=function(_){return function(T){var R;if(!u(T)||(R=y(T)).type!==_)throw TypeError("Incompatible receiver, "+_+" required");return R}};if(a){var E=new m,k=E.get,x=E.has,I=E.set;g=function(_,T){return I.call(E,_,T),T},y=function(_){return k.call(E,_)||{}},A=function(_){return x.call(E,_)}}else{var b=h("state");p[b]=!0,g=function(_,T){return c(_,b,T),T},y=function(_){return d(_,b)?_[b]:{}},A=function(_){return d(_,b)}}i.exports={set:g,get:y,has:A,enforce:C,getterFor:S}},"6eeb":function(i,s,o){var a=o("da84"),l=o("9112"),u=o("5135"),c=o("ce4e"),d=o("8925"),h=o("69f3"),p=h.get,m=h.enforce,g=String(String).split("String");(i.exports=function(y,A,C,S){var E=S?!!S.unsafe:!1,k=S?!!S.enumerable:!1,x=S?!!S.noTargetGet:!1;if(typeof C=="function"&&(typeof A=="string"&&!u(C,"name")&&l(C,"name",A),m(C).source=g.join(typeof A=="string"?A:"")),y===a){k?y[A]=C:c(A,C);return}else E?!x&&y[A]&&(k=!0):delete y[A];k?y[A]=C:l(y,A,C)})(Function.prototype,"toString",function(){return typeof this=="function"&&p(this).source||d(this)})},"6f53":function(i,s,o){var a=o("83ab"),l=o("df75"),u=o("fc6a"),c=o("d1e7").f,d=function(h){return function(p){for(var m=u(p),g=l(m),y=g.length,A=0,C=[],S;y>A;)S=g[A++],(!a||c.call(m,S))&&C.push(h?[S,m[S]]:m[S]);return C}};i.exports={entries:d(!0),values:d(!1)}},"73d9":function(i,s,o){var a=o("44d2");a("flatMap")},7418:function(i,s){s.f=Object.getOwnPropertySymbols},"746f":function(i,s,o){var a=o("428f"),l=o("5135"),u=o("e538"),c=o("9bf2").f;i.exports=function(d){var h=a.Symbol||(a.Symbol={});l(h,d)||c(h,d,{value:u.f(d)})}},7839:function(i,s){i.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},"7b0b":function(i,s,o){var a=o("1d80");i.exports=function(l){return Object(a(l))}},"7c73":function(i,s,o){var a=o("825a"),l=o("37e8"),u=o("7839"),c=o("d012"),d=o("1be4"),h=o("cc12"),p=o("f772"),m=">",g="<",y="prototype",A="script",C=p("IE_PROTO"),S=function(){},E=function(_){return g+A+m+_+g+"/"+A+m},k=function(_){_.write(E("")),_.close();var T=_.parentWindow.Object;return _=null,T},x=function(){var _=h("iframe"),T="java"+A+":",R;return _.style.display="none",d.appendChild(_),_.src=String(T),R=_.contentWindow.document,R.open(),R.write(E("document.F=Object")),R.close(),R.F},I,b=function(){try{I=document.domain&&new ActiveXObject("htmlfile")}catch{}b=I?k(I):x();for(var _=u.length;_--;)delete b[y][u[_]];return b()};c[C]=!0,i.exports=Object.create||function(T,R){var N;return T!==null?(S[y]=a(T),N=new S,S[y]=null,N[C]=T):N=b(),R===void 0?N:l(N,R)}},"7dd0":function(i,s,o){var a=o("23e7"),l=o("9ed3"),u=o("e163"),c=o("d2bb"),d=o("d44e"),h=o("9112"),p=o("6eeb"),m=o("b622"),g=o("c430"),y=o("3f8c"),A=o("ae93"),C=A.IteratorPrototype,S=A.BUGGY_SAFARI_ITERATORS,E=m("iterator"),k="keys",x="values",I="entries",b=function(){return this};i.exports=function(_,T,R,N,O,j,U){l(R,T,N);var $=function(Y){if(Y===O&&ce)return ce;if(!S&&Y in z)return z[Y];switch(Y){case k:return function(){return new R(this,Y)};case x:return function(){return new R(this,Y)};case I:return function(){return new R(this,Y)}}return function(){return new R(this)}},B=T+" Iterator",te=!1,z=_.prototype,V=z[E]||z["@@iterator"]||O&&z[O],ce=!S&&V||$(O),le=T=="Array"&&z.entries||V,ve,Se,he;if(le&&(ve=u(le.call(new _)),C!==Object.prototype&&ve.next&&(!g&&u(ve)!==C&&(c?c(ve,C):typeof ve[E]!="function"&&h(ve,E,b)),d(ve,B,!0,!0),g&&(y[B]=b))),O==x&&V&&V.name!==x&&(te=!0,ce=function(){return V.call(this)}),(!g||U)&&z[E]!==ce&&h(z,E,ce),y[T]=ce,O)if(Se={values:$(x),keys:j?ce:$(k),entries:$(I)},U)for(he in Se)(S||te||!(he in z))&&p(z,he,Se[he]);else a({target:T,proto:!0,forced:S||te},Se);return Se}},"7f9a":function(i,s,o){var a=o("da84"),l=o("8925"),u=a.WeakMap;i.exports=typeof u=="function"&&/native code/.test(l(u))},"825a":function(i,s,o){var a=o("861d");i.exports=function(l){if(!a(l))throw TypeError(String(l)+" is not an object");return l}},"83ab":function(i,s,o){var a=o("d039");i.exports=!a(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7})},8418:function(i,s,o){var a=o("c04e"),l=o("9bf2"),u=o("5c6c");i.exports=function(c,d,h){var p=a(d);p in c?l.f(c,p,u(0,h)):c[p]=h}},"861d":function(i,s){i.exports=function(o){return typeof o=="object"?o!==null:typeof o=="function"}},8875:function(i,s,o){var a,l,u;(function(c,d){l=[],a=d,u=typeof a=="function"?a.apply(s,l):a,u!==void 0&&(i.exports=u)})(typeof self<"u"?self:this,function(){function c(){var d=Object.getOwnPropertyDescriptor(document,"currentScript");if(!d&&"currentScript"in document&&document.currentScript||d&&d.get!==c&&document.currentScript)return document.currentScript;try{throw new Error}catch(I){var h=/.*at [^(]*\((.*):(.+):(.+)\)$/ig,p=/@([^@]*):(\d+):(\d+)\s*$/ig,m=h.exec(I.stack)||p.exec(I.stack),g=m&&m[1]||!1,y=m&&m[2]||!1,A=document.location.href.replace(document.location.hash,""),C,S,E,k=document.getElementsByTagName("script");g===A&&(C=document.documentElement.outerHTML,S=new RegExp("(?:[^\\n]+?\\n){0,"+(y-2)+"}[^<]*<script>([\\d\\D]*?)<\\/script>[\\d\\D]*","i"),E=C.replace(S,"$1").trim());for(var x=0;x<k.length;x++)if(k[x].readyState==="interactive"||k[x].src===g||g===A&&k[x].innerHTML&&k[x].innerHTML.trim()===E)return k[x];return null}}return c})},8925:function(i,s,o){var a=o("c6cd"),l=Function.toString;typeof a.inspectSource!="function"&&(a.inspectSource=function(u){return l.call(u)}),i.exports=a.inspectSource},"8aa5":function(i,s,o){var a=o("6547").charAt;i.exports=function(l,u,c){return u+(c?a(l,u).length:1)}},"8bbf":function(i,s){i.exports=n},"90e3":function(i,s){var o=0,a=Math.random();i.exports=function(l){return"Symbol("+String(l===void 0?"":l)+")_"+(++o+a).toString(36)}},9112:function(i,s,o){var a=o("83ab"),l=o("9bf2"),u=o("5c6c");i.exports=a?function(c,d,h){return l.f(c,d,u(1,h))}:function(c,d,h){return c[d]=h,c}},9263:function(i,s,o){var a=o("ad6d"),l=o("9f7f"),u=RegExp.prototype.exec,c=String.prototype.replace,d=u,h=function(){var y=/a/,A=/b*/g;return u.call(y,"a"),u.call(A,"a"),y.lastIndex!==0||A.lastIndex!==0}(),p=l.UNSUPPORTED_Y||l.BROKEN_CARET,m=/()??/.exec("")[1]!==void 0,g=h||m||p;g&&(d=function(A){var C=this,S,E,k,x,I=p&&C.sticky,b=a.call(C),_=C.source,T=0,R=A;return I&&(b=b.replace("y",""),b.indexOf("g")===-1&&(b+="g"),R=String(A).slice(C.lastIndex),C.lastIndex>0&&(!C.multiline||C.multiline&&A[C.lastIndex-1]!==`
`)&&(_="(?: "+_+")",R=" "+R,T++),E=new RegExp("^(?:"+_+")",b)),m&&(E=new RegExp("^"+_+"$(?!\\s)",b)),h&&(S=C.lastIndex),k=u.call(I?E:C,R),I?k?(k.input=k.input.slice(T),k[0]=k[0].slice(T),k.index=C.lastIndex,C.lastIndex+=k[0].length):C.lastIndex=0:h&&k&&(C.lastIndex=C.global?k.index+k[0].length:S),m&&k&&k.length>1&&c.call(k[0],E,function(){for(x=1;x<arguments.length-2;x++)arguments[x]===void 0&&(k[x]=void 0)}),k}),i.exports=d},"94ca":function(i,s,o){var a=o("d039"),l=/#|\.prototype\./,u=function(m,g){var y=d[c(m)];return y==p?!0:y==h?!1:typeof g=="function"?a(g):!!g},c=u.normalize=function(m){return String(m).replace(l,".").toLowerCase()},d=u.data={},h=u.NATIVE="N",p=u.POLYFILL="P";i.exports=u},"99af":function(i,s,o){var a=o("23e7"),l=o("d039"),u=o("e8b5"),c=o("861d"),d=o("7b0b"),h=o("50c4"),p=o("8418"),m=o("65f0"),g=o("1dde"),y=o("b622"),A=o("2d00"),C=y("isConcatSpreadable"),S=9007199254740991,E="Maximum allowed index exceeded",k=A>=51||!l(function(){var _=[];return _[C]=!1,_.concat()[0]!==_}),x=g("concat"),I=function(_){if(!c(_))return!1;var T=_[C];return T!==void 0?!!T:u(_)},b=!k||!x;a({target:"Array",proto:!0,forced:b},{concat:function(T){var R=d(this),N=m(R,0),O=0,j,U,$,B,te;for(j=-1,$=arguments.length;j<$;j++)if(te=j===-1?R:arguments[j],I(te)){if(B=h(te.length),O+B>S)throw TypeError(E);for(U=0;U<B;U++,O++)U in te&&p(N,O,te[U])}else{if(O>=S)throw TypeError(E);p(N,O++,te)}return N.length=O,N}})},"9bdd":function(i,s,o){var a=o("825a");i.exports=function(l,u,c,d){try{return d?u(a(c)[0],c[1]):u(c)}catch(p){var h=l.return;throw h!==void 0&&a(h.call(l)),p}}},"9bf2":function(i,s,o){var a=o("83ab"),l=o("0cfb"),u=o("825a"),c=o("c04e"),d=Object.defineProperty;s.f=a?d:function(p,m,g){if(u(p),m=c(m,!0),u(g),l)try{return d(p,m,g)}catch{}if("get"in g||"set"in g)throw TypeError("Accessors not supported");return"value"in g&&(p[m]=g.value),p}},"9ed3":function(i,s,o){var a=o("ae93").IteratorPrototype,l=o("7c73"),u=o("5c6c"),c=o("d44e"),d=o("3f8c"),h=function(){return this};i.exports=function(p,m,g){var y=m+" Iterator";return p.prototype=l(a,{next:u(1,g)}),c(p,y,!1,!0),d[y]=h,p}},"9f7f":function(i,s,o){var a=o("d039");function l(u,c){return RegExp(u,c)}s.UNSUPPORTED_Y=a(function(){var u=l("a","y");return u.lastIndex=2,u.exec("abcd")!=null}),s.BROKEN_CARET=a(function(){var u=l("^r","gy");return u.lastIndex=2,u.exec("str")!=null})},a2bf:function(i,s,o){var a=o("e8b5"),l=o("50c4"),u=o("0366"),c=function(d,h,p,m,g,y,A,C){for(var S=g,E=0,k=A?u(A,C,3):!1,x;E<m;){if(E in p){if(x=k?k(p[E],E,h):p[E],y>0&&a(x))S=c(d,h,x,l(x.length),S,y-1)-1;else{if(S>=9007199254740991)throw TypeError("Exceed the acceptable array length");d[S]=x}S++}E++}return S};i.exports=c},a352:function(i,s){i.exports=r},a434:function(i,s,o){var a=o("23e7"),l=o("23cb"),u=o("a691"),c=o("50c4"),d=o("7b0b"),h=o("65f0"),p=o("8418"),m=o("1dde"),g=o("ae40"),y=m("splice"),A=g("splice",{ACCESSORS:!0,0:0,1:2}),C=Math.max,S=Math.min,E=9007199254740991,k="Maximum allowed length exceeded";a({target:"Array",proto:!0,forced:!y||!A},{splice:function(I,b){var _=d(this),T=c(_.length),R=l(I,T),N=arguments.length,O,j,U,$,B,te;if(N===0?O=j=0:N===1?(O=0,j=T-R):(O=N-2,j=S(C(u(b),0),T-R)),T+O-j>E)throw TypeError(k);for(U=h(_,j),$=0;$<j;$++)B=R+$,B in _&&p(U,$,_[B]);if(U.length=j,O<j){for($=R;$<T-j;$++)B=$+j,te=$+O,B in _?_[te]=_[B]:delete _[te];for($=T;$>T-j+O;$--)delete _[$-1]}else if(O>j)for($=T-j;$>R;$--)B=$+j-1,te=$+O-1,B in _?_[te]=_[B]:delete _[te];for($=0;$<O;$++)_[$+R]=arguments[$+2];return _.length=T-j+O,U}})},a4d3:function(i,s,o){var a=o("23e7"),l=o("da84"),u=o("d066"),c=o("c430"),d=o("83ab"),h=o("4930"),p=o("fdbf"),m=o("d039"),g=o("5135"),y=o("e8b5"),A=o("861d"),C=o("825a"),S=o("7b0b"),E=o("fc6a"),k=o("c04e"),x=o("5c6c"),I=o("7c73"),b=o("df75"),_=o("241c"),T=o("057f"),R=o("7418"),N=o("06cf"),O=o("9bf2"),j=o("d1e7"),U=o("9112"),$=o("6eeb"),B=o("5692"),te=o("f772"),z=o("d012"),V=o("90e3"),ce=o("b622"),le=o("e538"),ve=o("746f"),Se=o("d44e"),he=o("69f3"),Y=o("b727").forEach,ne=te("hidden"),pe="Symbol",oe="prototype",we=ce("toPrimitive"),Ce=he.set,fe=he.getterFor(pe),L=Object[oe],W=l.Symbol,Q=u("JSON","stringify"),me=N.f,ge=O.f,Ae=T.f,$e=j.f,ke=B("symbols"),De=B("op-symbols"),Ie=B("string-to-symbol-registry"),He=B("symbol-to-string-registry"),We=B("wks"),Xe=l.QObject,lt=!Xe||!Xe[oe]||!Xe[oe].findChild,tt=d&&m(function(){return I(ge({},"a",{get:function(){return ge(this,"a",{value:7}).a}})).a!=7})?function(rt,Ye,ut){var Pt=me(L,Ye);Pt&&delete L[Ye],ge(rt,Ye,ut),Pt&&rt!==L&&ge(L,Ye,Pt)}:ge,re=function(rt,Ye){var ut=ke[rt]=I(W[oe]);return Ce(ut,{type:pe,tag:rt,description:Ye}),d||(ut.description=Ye),ut},G=p?function(rt){return typeof rt=="symbol"}:function(rt){return Object(rt)instanceof W},Z=function(Ye,ut,Pt){Ye===L&&Z(De,ut,Pt),C(Ye);var It=k(ut,!0);return C(Pt),g(ke,It)?(Pt.enumerable?(g(Ye,ne)&&Ye[ne][It]&&(Ye[ne][It]=!1),Pt=I(Pt,{enumerable:x(0,!1)})):(g(Ye,ne)||ge(Ye,ne,x(1,{})),Ye[ne][It]=!0),tt(Ye,It,Pt)):ge(Ye,It,Pt)},ue=function(Ye,ut){C(Ye);var Pt=E(ut),It=b(Pt).concat(Ne(Pt));return Y(It,function(_r){(!d||qe.call(Pt,_r))&&Z(Ye,_r,Pt[_r])}),Ye},be=function(Ye,ut){return ut===void 0?I(Ye):ue(I(Ye),ut)},qe=function(Ye){var ut=k(Ye,!0),Pt=$e.call(this,ut);return this===L&&g(ke,ut)&&!g(De,ut)?!1:Pt||!g(this,ut)||!g(ke,ut)||g(this,ne)&&this[ne][ut]?Pt:!0},nt=function(Ye,ut){var Pt=E(Ye),It=k(ut,!0);if(!(Pt===L&&g(ke,It)&&!g(De,It))){var _r=me(Pt,It);return _r&&g(ke,It)&&!(g(Pt,ne)&&Pt[ne][It])&&(_r.enumerable=!0),_r}},Te=function(Ye){var ut=Ae(E(Ye)),Pt=[];return Y(ut,function(It){!g(ke,It)&&!g(z,It)&&Pt.push(It)}),Pt},Ne=function(Ye){var ut=Ye===L,Pt=Ae(ut?De:E(Ye)),It=[];return Y(Pt,function(_r){g(ke,_r)&&(!ut||g(L,_r))&&It.push(ke[_r])}),It};if(h||(W=function(){if(this instanceof W)throw TypeError("Symbol is not a constructor");var Ye=!arguments.length||arguments[0]===void 0?void 0:String(arguments[0]),ut=V(Ye),Pt=function(It){this===L&&Pt.call(De,It),g(this,ne)&&g(this[ne],ut)&&(this[ne][ut]=!1),tt(this,ut,x(1,It))};return d&&lt&&tt(L,ut,{configurable:!0,set:Pt}),re(ut,Ye)},$(W[oe],"toString",function(){return fe(this).tag}),$(W,"withoutSetter",function(rt){return re(V(rt),rt)}),j.f=qe,O.f=Z,N.f=nt,_.f=T.f=Te,R.f=Ne,le.f=function(rt){return re(ce(rt),rt)},d&&(ge(W[oe],"description",{configurable:!0,get:function(){return fe(this).description}}),c||$(L,"propertyIsEnumerable",qe,{unsafe:!0}))),a({global:!0,wrap:!0,forced:!h,sham:!h},{Symbol:W}),Y(b(We),function(rt){ve(rt)}),a({target:pe,stat:!0,forced:!h},{for:function(rt){var Ye=String(rt);if(g(Ie,Ye))return Ie[Ye];var ut=W(Ye);return Ie[Ye]=ut,He[ut]=Ye,ut},keyFor:function(Ye){if(!G(Ye))throw TypeError(Ye+" is not a symbol");if(g(He,Ye))return He[Ye]},useSetter:function(){lt=!0},useSimple:function(){lt=!1}}),a({target:"Object",stat:!0,forced:!h,sham:!d},{create:be,defineProperty:Z,defineProperties:ue,getOwnPropertyDescriptor:nt}),a({target:"Object",stat:!0,forced:!h},{getOwnPropertyNames:Te,getOwnPropertySymbols:Ne}),a({target:"Object",stat:!0,forced:m(function(){R.f(1)})},{getOwnPropertySymbols:function(Ye){return R.f(S(Ye))}}),Q){var Ue=!h||m(function(){var rt=W();return Q([rt])!="[null]"||Q({a:rt})!="{}"||Q(Object(rt))!="{}"});a({target:"JSON",stat:!0,forced:Ue},{stringify:function(Ye,ut,Pt){for(var It=[Ye],_r=1,qa;arguments.length>_r;)It.push(arguments[_r++]);if(qa=ut,!(!A(ut)&&Ye===void 0||G(Ye)))return y(ut)||(ut=function(eo,Ba){if(typeof qa=="function"&&(Ba=qa.call(this,eo,Ba)),!G(Ba))return Ba}),It[1]=ut,Q.apply(null,It)}})}W[oe][we]||U(W[oe],we,W[oe].valueOf),Se(W,pe),z[ne]=!0},a630:function(i,s,o){var a=o("23e7"),l=o("4df4"),u=o("1c7e"),c=!u(function(d){Array.from(d)});a({target:"Array",stat:!0,forced:c},{from:l})},a640:function(i,s,o){var a=o("d039");i.exports=function(l,u){var c=[][l];return!!c&&a(function(){c.call(null,u||function(){throw 1},1)})}},a691:function(i,s){var o=Math.ceil,a=Math.floor;i.exports=function(l){return isNaN(l=+l)?0:(l>0?a:o)(l)}},ab13:function(i,s,o){var a=o("b622"),l=a("match");i.exports=function(u){var c=/./;try{"/./"[u](c)}catch{try{return c[l]=!1,"/./"[u](c)}catch{}}return!1}},ac1f:function(i,s,o){var a=o("23e7"),l=o("9263");a({target:"RegExp",proto:!0,forced:/./.exec!==l},{exec:l})},ad6d:function(i,s,o){var a=o("825a");i.exports=function(){var l=a(this),u="";return l.global&&(u+="g"),l.ignoreCase&&(u+="i"),l.multiline&&(u+="m"),l.dotAll&&(u+="s"),l.unicode&&(u+="u"),l.sticky&&(u+="y"),u}},ae40:function(i,s,o){var a=o("83ab"),l=o("d039"),u=o("5135"),c=Object.defineProperty,d={},h=function(p){throw p};i.exports=function(p,m){if(u(d,p))return d[p];m||(m={});var g=[][p],y=u(m,"ACCESSORS")?m.ACCESSORS:!1,A=u(m,0)?m[0]:h,C=u(m,1)?m[1]:void 0;return d[p]=!!g&&!l(function(){if(y&&!a)return!0;var S={length:-1};y?c(S,1,{enumerable:!0,get:h}):S[1]=1,g.call(S,A,C)})}},ae93:function(i,s,o){var a=o("e163"),l=o("9112"),u=o("5135"),c=o("b622"),d=o("c430"),h=c("iterator"),p=!1,m=function(){return this},g,y,A;[].keys&&(A=[].keys(),"next"in A?(y=a(a(A)),y!==Object.prototype&&(g=y)):p=!0),g==null&&(g={}),!d&&!u(g,h)&&l(g,h,m),i.exports={IteratorPrototype:g,BUGGY_SAFARI_ITERATORS:p}},b041:function(i,s,o){var a=o("00ee"),l=o("f5df");i.exports=a?{}.toString:function(){return"[object "+l(this)+"]"}},b0c0:function(i,s,o){var a=o("83ab"),l=o("9bf2").f,u=Function.prototype,c=u.toString,d=/^\s*function ([^ (]*)/,h="name";a&&!(h in u)&&l(u,h,{configurable:!0,get:function(){try{return c.call(this).match(d)[1]}catch{return""}}})},b622:function(i,s,o){var a=o("da84"),l=o("5692"),u=o("5135"),c=o("90e3"),d=o("4930"),h=o("fdbf"),p=l("wks"),m=a.Symbol,g=h?m:m&&m.withoutSetter||c;i.exports=function(y){return u(p,y)||(d&&u(m,y)?p[y]=m[y]:p[y]=g("Symbol."+y)),p[y]}},b64b:function(i,s,o){var a=o("23e7"),l=o("7b0b"),u=o("df75"),c=o("d039"),d=c(function(){u(1)});a({target:"Object",stat:!0,forced:d},{keys:function(p){return u(l(p))}})},b727:function(i,s,o){var a=o("0366"),l=o("44ad"),u=o("7b0b"),c=o("50c4"),d=o("65f0"),h=[].push,p=function(m){var g=m==1,y=m==2,A=m==3,C=m==4,S=m==6,E=m==5||S;return function(k,x,I,b){for(var _=u(k),T=l(_),R=a(x,I,3),N=c(T.length),O=0,j=b||d,U=g?j(k,N):y?j(k,0):void 0,$,B;N>O;O++)if((E||O in T)&&($=T[O],B=R($,O,_),m)){if(g)U[O]=B;else if(B)switch(m){case 3:return!0;case 5:return $;case 6:return O;case 2:h.call(U,$)}else if(C)return!1}return S?-1:A||C?C:U}};i.exports={forEach:p(0),map:p(1),filter:p(2),some:p(3),every:p(4),find:p(5),findIndex:p(6)}},c04e:function(i,s,o){var a=o("861d");i.exports=function(l,u){if(!a(l))return l;var c,d;if(u&&typeof(c=l.toString)=="function"&&!a(d=c.call(l))||typeof(c=l.valueOf)=="function"&&!a(d=c.call(l))||!u&&typeof(c=l.toString)=="function"&&!a(d=c.call(l)))return d;throw TypeError("Can't convert object to primitive value")}},c430:function(i,s){i.exports=!1},c6b6:function(i,s){var o={}.toString;i.exports=function(a){return o.call(a).slice(8,-1)}},c6cd:function(i,s,o){var a=o("da84"),l=o("ce4e"),u="__core-js_shared__",c=a[u]||l(u,{});i.exports=c},c740:function(i,s,o){var a=o("23e7"),l=o("b727").findIndex,u=o("44d2"),c=o("ae40"),d="findIndex",h=!0,p=c(d);d in[]&&Array(1)[d](function(){h=!1}),a({target:"Array",proto:!0,forced:h||!p},{findIndex:function(g){return l(this,g,arguments.length>1?arguments[1]:void 0)}}),u(d)},c8ba:function(i,s){var o;o=function(){return this}();try{o=o||new Function("return this")()}catch{typeof window=="object"&&(o=window)}i.exports=o},c975:function(i,s,o){var a=o("23e7"),l=o("4d64").indexOf,u=o("a640"),c=o("ae40"),d=[].indexOf,h=!!d&&1/[1].indexOf(1,-0)<0,p=u("indexOf"),m=c("indexOf",{ACCESSORS:!0,1:0});a({target:"Array",proto:!0,forced:h||!p||!m},{indexOf:function(y){return h?d.apply(this,arguments)||0:l(this,y,arguments.length>1?arguments[1]:void 0)}})},ca84:function(i,s,o){var a=o("5135"),l=o("fc6a"),u=o("4d64").indexOf,c=o("d012");i.exports=function(d,h){var p=l(d),m=0,g=[],y;for(y in p)!a(c,y)&&a(p,y)&&g.push(y);for(;h.length>m;)a(p,y=h[m++])&&(~u(g,y)||g.push(y));return g}},caad:function(i,s,o){var a=o("23e7"),l=o("4d64").includes,u=o("44d2"),c=o("ae40"),d=c("indexOf",{ACCESSORS:!0,1:0});a({target:"Array",proto:!0,forced:!d},{includes:function(p){return l(this,p,arguments.length>1?arguments[1]:void 0)}}),u("includes")},cc12:function(i,s,o){var a=o("da84"),l=o("861d"),u=a.document,c=l(u)&&l(u.createElement);i.exports=function(d){return c?u.createElement(d):{}}},ce4e:function(i,s,o){var a=o("da84"),l=o("9112");i.exports=function(u,c){try{l(a,u,c)}catch{a[u]=c}return c}},d012:function(i,s){i.exports={}},d039:function(i,s){i.exports=function(o){try{return!!o()}catch{return!0}}},d066:function(i,s,o){var a=o("428f"),l=o("da84"),u=function(c){return typeof c=="function"?c:void 0};i.exports=function(c,d){return arguments.length<2?u(a[c])||u(l[c]):a[c]&&a[c][d]||l[c]&&l[c][d]}},d1e7:function(i,s,o){var a={}.propertyIsEnumerable,l=Object.getOwnPropertyDescriptor,u=l&&!a.call({1:2},1);s.f=u?function(d){var h=l(this,d);return!!h&&h.enumerable}:a},d28b:function(i,s,o){var a=o("746f");a("iterator")},d2bb:function(i,s,o){var a=o("825a"),l=o("3bbe");i.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var u=!1,c={},d;try{d=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set,d.call(c,[]),u=c instanceof Array}catch{}return function(p,m){return a(p),l(m),u?d.call(p,m):p.__proto__=m,p}}():void 0)},d3b7:function(i,s,o){var a=o("00ee"),l=o("6eeb"),u=o("b041");a||l(Object.prototype,"toString",u,{unsafe:!0})},d44e:function(i,s,o){var a=o("9bf2").f,l=o("5135"),u=o("b622"),c=u("toStringTag");i.exports=function(d,h,p){d&&!l(d=p?d:d.prototype,c)&&a(d,c,{configurable:!0,value:h})}},d58f:function(i,s,o){var a=o("1c0b"),l=o("7b0b"),u=o("44ad"),c=o("50c4"),d=function(h){return function(p,m,g,y){a(m);var A=l(p),C=u(A),S=c(A.length),E=h?S-1:0,k=h?-1:1;if(g<2)for(;;){if(E in C){y=C[E],E+=k;break}if(E+=k,h?E<0:S<=E)throw TypeError("Reduce of empty array with no initial value")}for(;h?E>=0:S>E;E+=k)E in C&&(y=m(y,C[E],E,A));return y}};i.exports={left:d(!1),right:d(!0)}},d784:function(i,s,o){o("ac1f");var a=o("6eeb"),l=o("d039"),u=o("b622"),c=o("9263"),d=o("9112"),h=u("species"),p=!l(function(){var C=/./;return C.exec=function(){var S=[];return S.groups={a:"7"},S},"".replace(C,"$<a>")!=="7"}),m=function(){return"a".replace(/./,"$0")==="$0"}(),g=u("replace"),y=function(){return/./[g]?/./[g]("a","$0")==="":!1}(),A=!l(function(){var C=/(?:)/,S=C.exec;C.exec=function(){return S.apply(this,arguments)};var E="ab".split(C);return E.length!==2||E[0]!=="a"||E[1]!=="b"});i.exports=function(C,S,E,k){var x=u(C),I=!l(function(){var O={};return O[x]=function(){return 7},""[C](O)!=7}),b=I&&!l(function(){var O=!1,j=/a/;return C==="split"&&(j={},j.constructor={},j.constructor[h]=function(){return j},j.flags="",j[x]=/./[x]),j.exec=function(){return O=!0,null},j[x](""),!O});if(!I||!b||C==="replace"&&!(p&&m&&!y)||C==="split"&&!A){var _=/./[x],T=E(x,""[C],function(O,j,U,$,B){return j.exec===c?I&&!B?{done:!0,value:_.call(j,U,$)}:{done:!0,value:O.call(U,j,$)}:{done:!1}},{REPLACE_KEEPS_$0:m,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:y}),R=T[0],N=T[1];a(String.prototype,C,R),a(RegExp.prototype,x,S==2?function(O,j){return N.call(O,this,j)}:function(O){return N.call(O,this)})}k&&d(RegExp.prototype[x],"sham",!0)}},d81d:function(i,s,o){var a=o("23e7"),l=o("b727").map,u=o("1dde"),c=o("ae40"),d=u("map"),h=c("map");a({target:"Array",proto:!0,forced:!d||!h},{map:function(m){return l(this,m,arguments.length>1?arguments[1]:void 0)}})},da84:function(i,s,o){(function(a){var l=function(u){return u&&u.Math==Math&&u};i.exports=l(typeof globalThis=="object"&&globalThis)||l(typeof window=="object"&&window)||l(typeof self=="object"&&self)||l(typeof a=="object"&&a)||Function("return this")()}).call(this,o("c8ba"))},dbb4:function(i,s,o){var a=o("23e7"),l=o("83ab"),u=o("56ef"),c=o("fc6a"),d=o("06cf"),h=o("8418");a({target:"Object",stat:!0,sham:!l},{getOwnPropertyDescriptors:function(m){for(var g=c(m),y=d.f,A=u(g),C={},S=0,E,k;A.length>S;)k=y(g,E=A[S++]),k!==void 0&&h(C,E,k);return C}})},dbf1:function(i,s,o){(function(a){o.d(s,"a",function(){return u});function l(){return typeof window<"u"?window.console:a.console}var u=l()}).call(this,o("c8ba"))},ddb0:function(i,s,o){var a=o("da84"),l=o("fdbc"),u=o("e260"),c=o("9112"),d=o("b622"),h=d("iterator"),p=d("toStringTag"),m=u.values;for(var g in l){var y=a[g],A=y&&y.prototype;if(A){if(A[h]!==m)try{c(A,h,m)}catch{A[h]=m}if(A[p]||c(A,p,g),l[g]){for(var C in u)if(A[C]!==u[C])try{c(A,C,u[C])}catch{A[C]=u[C]}}}}},df75:function(i,s,o){var a=o("ca84"),l=o("7839");i.exports=Object.keys||function(c){return a(c,l)}},e01a:function(i,s,o){var a=o("23e7"),l=o("83ab"),u=o("da84"),c=o("5135"),d=o("861d"),h=o("9bf2").f,p=o("e893"),m=u.Symbol;if(l&&typeof m=="function"&&(!("description"in m.prototype)||m().description!==void 0)){var g={},y=function(){var x=arguments.length<1||arguments[0]===void 0?void 0:String(arguments[0]),I=this instanceof y?new m(x):x===void 0?m():m(x);return x===""&&(g[I]=!0),I};p(y,m);var A=y.prototype=m.prototype;A.constructor=y;var C=A.toString,S=String(m("test"))=="Symbol(test)",E=/^Symbol\((.*)\)[^)]+$/;h(A,"description",{configurable:!0,get:function(){var x=d(this)?this.valueOf():this,I=C.call(x);if(c(g,x))return"";var b=S?I.slice(7,-1):I.replace(E,"$1");return b===""?void 0:b}}),a({global:!0,forced:!0},{Symbol:y})}},e163:function(i,s,o){var a=o("5135"),l=o("7b0b"),u=o("f772"),c=o("e177"),d=u("IE_PROTO"),h=Object.prototype;i.exports=c?Object.getPrototypeOf:function(p){return p=l(p),a(p,d)?p[d]:typeof p.constructor=="function"&&p instanceof p.constructor?p.constructor.prototype:p instanceof Object?h:null}},e177:function(i,s,o){var a=o("d039");i.exports=!a(function(){function l(){}return l.prototype.constructor=null,Object.getPrototypeOf(new l)!==l.prototype})},e260:function(i,s,o){var a=o("fc6a"),l=o("44d2"),u=o("3f8c"),c=o("69f3"),d=o("7dd0"),h="Array Iterator",p=c.set,m=c.getterFor(h);i.exports=d(Array,"Array",function(g,y){p(this,{type:h,target:a(g),index:0,kind:y})},function(){var g=m(this),y=g.target,A=g.kind,C=g.index++;return!y||C>=y.length?(g.target=void 0,{value:void 0,done:!0}):A=="keys"?{value:C,done:!1}:A=="values"?{value:y[C],done:!1}:{value:[C,y[C]],done:!1}},"values"),u.Arguments=u.Array,l("keys"),l("values"),l("entries")},e439:function(i,s,o){var a=o("23e7"),l=o("d039"),u=o("fc6a"),c=o("06cf").f,d=o("83ab"),h=l(function(){c(1)}),p=!d||h;a({target:"Object",stat:!0,forced:p,sham:!d},{getOwnPropertyDescriptor:function(g,y){return c(u(g),y)}})},e538:function(i,s,o){var a=o("b622");s.f=a},e893:function(i,s,o){var a=o("5135"),l=o("56ef"),u=o("06cf"),c=o("9bf2");i.exports=function(d,h){for(var p=l(h),m=c.f,g=u.f,y=0;y<p.length;y++){var A=p[y];a(d,A)||m(d,A,g(h,A))}}},e8b5:function(i,s,o){var a=o("c6b6");i.exports=Array.isArray||function(u){return a(u)=="Array"}},e95a:function(i,s,o){var a=o("b622"),l=o("3f8c"),u=a("iterator"),c=Array.prototype;i.exports=function(d){return d!==void 0&&(l.Array===d||c[u]===d)}},f5df:function(i,s,o){var a=o("00ee"),l=o("c6b6"),u=o("b622"),c=u("toStringTag"),d=l(function(){return arguments}())=="Arguments",h=function(p,m){try{return p[m]}catch{}};i.exports=a?l:function(p){var m,g,y;return p===void 0?"Undefined":p===null?"Null":typeof(g=h(m=Object(p),c))=="string"?g:d?l(m):(y=l(m))=="Object"&&typeof m.callee=="function"?"Arguments":y}},f772:function(i,s,o){var a=o("5692"),l=o("90e3"),u=a("keys");i.exports=function(c){return u[c]||(u[c]=l(c))}},fb15:function(i,s,o){if(o.r(s),typeof window<"u"){var a=window.document.currentScript;{var l=o("8875");a=l(),"currentScript"in document||Object.defineProperty(document,"currentScript",{get:l})}var u=a&&a.src.match(/(.+\/)[^/]+\.js(\?.*)?$/);u&&(o.p=u[1])}o("99af"),o("4de4"),o("4160"),o("c975"),o("d81d"),o("a434"),o("159b"),o("a4d3"),o("e439"),o("dbb4"),o("b64b");function c(G,Z,ue){return Z in G?Object.defineProperty(G,Z,{value:ue,enumerable:!0,configurable:!0,writable:!0}):G[Z]=ue,G}function d(G,Z){var ue=Object.keys(G);if(Object.getOwnPropertySymbols){var be=Object.getOwnPropertySymbols(G);Z&&(be=be.filter(function(qe){return Object.getOwnPropertyDescriptor(G,qe).enumerable})),ue.push.apply(ue,be)}return ue}function h(G){for(var Z=1;Z<arguments.length;Z++){var ue=arguments[Z]!=null?arguments[Z]:{};Z%2?d(Object(ue),!0).forEach(function(be){c(G,be,ue[be])}):Object.getOwnPropertyDescriptors?Object.defineProperties(G,Object.getOwnPropertyDescriptors(ue)):d(Object(ue)).forEach(function(be){Object.defineProperty(G,be,Object.getOwnPropertyDescriptor(ue,be))})}return G}function p(G){if(Array.isArray(G))return G}o("e01a"),o("d28b"),o("e260"),o("d3b7"),o("3ca3"),o("ddb0");function m(G,Z){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(G)))){var ue=[],be=!0,qe=!1,nt=void 0;try{for(var Te=G[Symbol.iterator](),Ne;!(be=(Ne=Te.next()).done)&&(ue.push(Ne.value),!(Z&&ue.length===Z));be=!0);}catch(Ue){qe=!0,nt=Ue}finally{try{!be&&Te.return!=null&&Te.return()}finally{if(qe)throw nt}}return ue}}o("a630"),o("fb6a"),o("b0c0"),o("25f0");function g(G,Z){(Z==null||Z>G.length)&&(Z=G.length);for(var ue=0,be=new Array(Z);ue<Z;ue++)be[ue]=G[ue];return be}function y(G,Z){if(G){if(typeof G=="string")return g(G,Z);var ue=Object.prototype.toString.call(G).slice(8,-1);if(ue==="Object"&&G.constructor&&(ue=G.constructor.name),ue==="Map"||ue==="Set")return Array.from(G);if(ue==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(ue))return g(G,Z)}}function A(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function C(G,Z){return p(G)||m(G,Z)||y(G,Z)||A()}function S(G){if(Array.isArray(G))return g(G)}function E(G){if(typeof Symbol<"u"&&Symbol.iterator in Object(G))return Array.from(G)}function k(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function x(G){return S(G)||E(G)||y(G)||k()}var I=o("a352"),b=o.n(I);function _(G){G.parentElement!==null&&G.parentElement.removeChild(G)}function T(G,Z,ue){var be=ue===0?G.children[0]:G.children[ue-1].nextSibling;G.insertBefore(Z,be)}var R=o("dbf1");o("13d5"),o("4fad"),o("ac1f"),o("5319");function N(G){var Z=Object.create(null);return function(be){var qe=Z[be];return qe||(Z[be]=G(be))}}var O=/-(\w)/g,j=N(function(G){return G.replace(O,function(Z,ue){return ue.toUpperCase()})});o("5db7"),o("73d9");var U=["Start","Add","Remove","Update","End"],$=["Choose","Unchoose","Sort","Filter","Clone"],B=["Move"],te=[B,U,$].flatMap(function(G){return G}).map(function(G){return"on".concat(G)}),z={manage:B,manageAndEmit:U,emit:$};function V(G){return te.indexOf(G)!==-1}o("caad"),o("2ca0");var ce=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","label","legend","li","link","main","map","mark","math","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rb","rp","rt","rtc","ruby","s","samp","script","section","select","slot","small","source","span","strong","style","sub","summary","sup","svg","table","tbody","td","template","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr"];function le(G){return ce.includes(G)}function ve(G){return["transition-group","TransitionGroup"].includes(G)}function Se(G){return["id","class","role","style"].includes(G)||G.startsWith("data-")||G.startsWith("aria-")||G.startsWith("on")}function he(G){return G.reduce(function(Z,ue){var be=C(ue,2),qe=be[0],nt=be[1];return Z[qe]=nt,Z},{})}function Y(G){var Z=G.$attrs,ue=G.componentData,be=ue===void 0?{}:ue,qe=he(Object.entries(Z).filter(function(nt){var Te=C(nt,2),Ne=Te[0];return Te[1],Se(Ne)}));return h(h({},qe),be)}function ne(G){var Z=G.$attrs,ue=G.callBackBuilder,be=he(pe(Z));Object.entries(ue).forEach(function(nt){var Te=C(nt,2),Ne=Te[0],Ue=Te[1];z[Ne].forEach(function(rt){be["on".concat(rt)]=Ue(rt)})});var qe="[data-draggable]".concat(be.draggable||"");return h(h({},be),{},{draggable:qe})}function pe(G){return Object.entries(G).filter(function(Z){var ue=C(Z,2),be=ue[0];return ue[1],!Se(be)}).map(function(Z){var ue=C(Z,2),be=ue[0],qe=ue[1];return[j(be),qe]}).filter(function(Z){var ue=C(Z,2),be=ue[0];return ue[1],!V(be)})}o("c740");function oe(G,Z){if(!(G instanceof Z))throw new TypeError("Cannot call a class as a function")}function we(G,Z){for(var ue=0;ue<Z.length;ue++){var be=Z[ue];be.enumerable=be.enumerable||!1,be.configurable=!0,"value"in be&&(be.writable=!0),Object.defineProperty(G,be.key,be)}}function Ce(G,Z,ue){return Z&&we(G.prototype,Z),ue&&we(G,ue),G}var fe=function(Z){var ue=Z.el;return ue},L=function(Z,ue){return Z.__draggable_context=ue},W=function(Z){return Z.__draggable_context},Q=function(){function G(Z){var ue=Z.nodes,be=ue.header,qe=ue.default,nt=ue.footer,Te=Z.root,Ne=Z.realList;oe(this,G),this.defaultNodes=qe,this.children=[].concat(x(be),x(qe),x(nt)),this.externalComponent=Te.externalComponent,this.rootTransition=Te.transition,this.tag=Te.tag,this.realList=Ne}return Ce(G,[{key:"render",value:function(ue,be){var qe=this.tag,nt=this.children,Te=this._isRootComponent,Ne=Te?{default:function(){return nt}}:nt;return ue(qe,be,Ne)}},{key:"updated",value:function(){var ue=this.defaultNodes,be=this.realList;ue.forEach(function(qe,nt){L(fe(qe),{element:be[nt],index:nt})})}},{key:"getUnderlyingVm",value:function(ue){return W(ue)}},{key:"getVmIndexFromDomIndex",value:function(ue,be){var qe=this.defaultNodes,nt=qe.length,Te=be.children,Ne=Te.item(ue);if(Ne===null)return nt;var Ue=W(Ne);if(Ue)return Ue.index;if(nt===0)return 0;var rt=fe(qe[0]),Ye=x(Te).findIndex(function(ut){return ut===rt});return ue<Ye?0:nt}},{key:"_isRootComponent",get:function(){return this.externalComponent||this.rootTransition}}]),G}(),me=o("8bbf");function ge(G,Z){var ue=G[Z];return ue?ue():[]}function Ae(G){var Z=G.$slots,ue=G.realList,be=G.getKey,qe=ue||[],nt=["header","footer"].map(function(ut){return ge(Z,ut)}),Te=C(nt,2),Ne=Te[0],Ue=Te[1],rt=Z.item;if(!rt)throw new Error("draggable element must have an item slot");var Ye=qe.flatMap(function(ut,Pt){return rt({element:ut,index:Pt}).map(function(It){return It.key=be(ut),It.props=h(h({},It.props||{}),{},{"data-draggable":!0}),It})});if(Ye.length!==qe.length)throw new Error("Item slot must have only one child");return{header:Ne,footer:Ue,default:Ye}}function $e(G){var Z=ve(G),ue=!le(G)&&!Z;return{transition:Z,externalComponent:ue,tag:ue?Object(me.resolveComponent)(G):Z?me.TransitionGroup:G}}function ke(G){var Z=G.$slots,ue=G.tag,be=G.realList,qe=G.getKey,nt=Ae({$slots:Z,realList:be,getKey:qe}),Te=$e(ue);return new Q({nodes:nt,root:Te,realList:be})}function De(G,Z){var ue=this;Object(me.nextTick)(function(){return ue.$emit(G.toLowerCase(),Z)})}function Ie(G){var Z=this;return function(ue,be){if(Z.realList!==null)return Z["onDrag".concat(G)](ue,be)}}function He(G){var Z=this,ue=Ie.call(this,G);return function(be,qe){ue.call(Z,be,qe),De.call(Z,G,be)}}var We=null,Xe={list:{type:Array,required:!1,default:null},modelValue:{type:Array,required:!1,default:null},itemKey:{type:[String,Function],required:!0},clone:{type:Function,default:function(Z){return Z}},tag:{type:String,default:"div"},move:{type:Function,default:null},componentData:{type:Object,required:!1,default:null}},lt=["update:modelValue","change"].concat(x([].concat(x(z.manageAndEmit),x(z.emit)).map(function(G){return G.toLowerCase()}))),tt=Object(me.defineComponent)({name:"draggable",inheritAttrs:!1,props:Xe,emits:lt,data:function(){return{error:!1}},render:function(){try{this.error=!1;var Z=this.$slots,ue=this.$attrs,be=this.tag,qe=this.componentData,nt=this.realList,Te=this.getKey,Ne=ke({$slots:Z,tag:be,realList:nt,getKey:Te});this.componentStructure=Ne;var Ue=Y({$attrs:ue,componentData:qe});return Ne.render(me.h,Ue)}catch(rt){return this.error=!0,Object(me.h)("pre",{style:{color:"red"}},rt.stack)}},created:function(){this.list!==null&&this.modelValue!==null&&R.a.error("modelValue and list props are mutually exclusive! Please set one or another.")},mounted:function(){var Z=this;if(!this.error){var ue=this.$attrs,be=this.$el,qe=this.componentStructure;qe.updated();var nt=ne({$attrs:ue,callBackBuilder:{manageAndEmit:function(Ue){return He.call(Z,Ue)},emit:function(Ue){return De.bind(Z,Ue)},manage:function(Ue){return Ie.call(Z,Ue)}}}),Te=be.nodeType===1?be:be.parentElement;this._sortable=new b.a(Te,nt),this.targetDomElement=Te,Te.__draggable_component__=this}},updated:function(){this.componentStructure.updated()},beforeUnmount:function(){this._sortable!==void 0&&this._sortable.destroy()},computed:{realList:function(){var Z=this.list;return Z||this.modelValue},getKey:function(){var Z=this.itemKey;return typeof Z=="function"?Z:function(ue){return ue[Z]}}},watch:{$attrs:{handler:function(Z){var ue=this._sortable;ue&&pe(Z).forEach(function(be){var qe=C(be,2),nt=qe[0],Te=qe[1];ue.option(nt,Te)})},deep:!0}},methods:{getUnderlyingVm:function(Z){return this.componentStructure.getUnderlyingVm(Z)||null},getUnderlyingPotencialDraggableComponent:function(Z){return Z.__draggable_component__},emitChanges:function(Z){var ue=this;Object(me.nextTick)(function(){return ue.$emit("change",Z)})},alterList:function(Z){if(this.list){Z(this.list);return}var ue=x(this.modelValue);Z(ue),this.$emit("update:modelValue",ue)},spliceList:function(){var Z=arguments,ue=function(qe){return qe.splice.apply(qe,x(Z))};this.alterList(ue)},updatePosition:function(Z,ue){var be=function(nt){return nt.splice(ue,0,nt.splice(Z,1)[0])};this.alterList(be)},getRelatedContextFromMoveEvent:function(Z){var ue=Z.to,be=Z.related,qe=this.getUnderlyingPotencialDraggableComponent(ue);if(!qe)return{component:qe};var nt=qe.realList,Te={list:nt,component:qe};if(ue!==be&&nt){var Ne=qe.getUnderlyingVm(be)||{};return h(h({},Ne),Te)}return Te},getVmIndexFromDomIndex:function(Z){return this.componentStructure.getVmIndexFromDomIndex(Z,this.targetDomElement)},onDragStart:function(Z){this.context=this.getUnderlyingVm(Z.item),Z.item._underlying_vm_=this.clone(this.context.element),We=Z.item},onDragAdd:function(Z){var ue=Z.item._underlying_vm_;if(ue!==void 0){_(Z.item);var be=this.getVmIndexFromDomIndex(Z.newIndex);this.spliceList(be,0,ue);var qe={element:ue,newIndex:be};this.emitChanges({added:qe})}},onDragRemove:function(Z){if(T(this.$el,Z.item,Z.oldIndex),Z.pullMode==="clone"){_(Z.clone);return}var ue=this.context,be=ue.index,qe=ue.element;this.spliceList(be,1);var nt={element:qe,oldIndex:be};this.emitChanges({removed:nt})},onDragUpdate:function(Z){_(Z.item),T(Z.from,Z.item,Z.oldIndex);var ue=this.context.index,be=this.getVmIndexFromDomIndex(Z.newIndex);this.updatePosition(ue,be);var qe={element:this.context.element,oldIndex:ue,newIndex:be};this.emitChanges({moved:qe})},computeFutureIndex:function(Z,ue){if(!Z.element)return 0;var be=x(ue.to.children).filter(function(Ne){return Ne.style.display!=="none"}),qe=be.indexOf(ue.related),nt=Z.component.getVmIndexFromDomIndex(qe),Te=be.indexOf(We)!==-1;return Te||!ue.willInsertAfter?nt:nt+1},onDragMove:function(Z,ue){var be=this.move,qe=this.realList;if(!be||!qe)return!0;var nt=this.getRelatedContextFromMoveEvent(Z),Te=this.computeFutureIndex(nt,Z),Ne=h(h({},this.context),{},{futureIndex:Te}),Ue=h(h({},Z),{},{relatedContext:nt,draggedContext:Ne});return be(Ue,ue)},onDragEnd:function(){We=null}}}),re=tt;s.default=re},fb6a:function(i,s,o){var a=o("23e7"),l=o("861d"),u=o("e8b5"),c=o("23cb"),d=o("50c4"),h=o("fc6a"),p=o("8418"),m=o("b622"),g=o("1dde"),y=o("ae40"),A=g("slice"),C=y("slice",{ACCESSORS:!0,0:0,1:2}),S=m("species"),E=[].slice,k=Math.max;a({target:"Array",proto:!0,forced:!A||!C},{slice:function(I,b){var _=h(this),T=d(_.length),R=c(I,T),N=c(b===void 0?T:b,T),O,j,U;if(u(_)&&(O=_.constructor,typeof O=="function"&&(O===Array||u(O.prototype))?O=void 0:l(O)&&(O=O[S],O===null&&(O=void 0)),O===Array||O===void 0))return E.call(_,R,N);for(j=new(O===void 0?Array:O)(k(N-R,0)),U=0;R<N;R++,U++)R in _&&p(j,U,_[R]);return j.length=U,j}})},fc6a:function(i,s,o){var a=o("44ad"),l=o("1d80");i.exports=function(u){return a(l(u))}},fdbc:function(i,s){i.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},fdbf:function(i,s,o){var a=o("4930");i.exports=a&&!Symbol.sham&&typeof Symbol.iterator=="symbol"}}).default})})(JM);var qre=JM.exports;const iT=nre(qre),Bre={key:0,class:"mb-5 p-4 border-y"},jre={class:"flex"},Hre=v("i",{class:"drag-handle pi pi-arrows-v place-self-center hover:cursor-pointer"},null,-1),Wre=xe({__name:"StringListField",props:{id:{},name:{},label:{},placeholder:{},modelValue:{}},emits:["update:modelValue","update:error"],setup(t,{expose:e,emit:n}){const r=t,i=n,s=ie(""),o=ee({get:()=>r.modelValue.slice(),set:h=>{i("update:modelValue",h),s.value=""}}),a=ee(()=>r.name+(r.id?"."+r.id:"")),l=(h,p)=>{const m=o.value.slice();m.splice(h,1,p),o.value=m},u=()=>{s.value.length&&(o.value=[...o.value,s.value])},c=h=>{const p=o.value.slice();p.splice(h,1),o.value=p};return e({test:()=>{}}),(h,p)=>(D(),H("div",null,[q(ti,{id:a.value,name:h.name,label:h.label,modelValue:s.value,"onUpdate:modelValue":p[0]||(p[0]=m=>s.value=m),max:200,placeholder:h.placeholder,onKeydown:p[1]||(p[1]=bt(m=>u(),["enter"]))},null,8,["id","name","label","modelValue","placeholder"]),o.value.length?(D(),H("div",Bre,[q(P(iT),{modelValue:o.value,"onUpdate:modelValue":p[2]||(p[2]=m=>o.value=m),itemKey:"index",handle:".drag-handle"},{item:X(({element:m,index:g})=>[v("div",jre,[Hre,q(ti,{class:"w-full",id:`${h.name}.${g}`,name:h.name,"model-value":m,max:200,"delete-button":"","onUpdate:modelValue":y=>l(g,y.toString()),"onUpdate:delete":y=>c(g)},null,8,["id","name","model-value","onUpdate:modelValue","onUpdate:delete"])])]),_:1},8,["modelValue"])])):J("",!0)]))}}),zre={class:"md:px-5"},Kre={class:"flex justify-center"},Gre={key:0},Yre={class:"mt-3 flex justify-evenly font-bold"},Qre=xe({__name:"BlogPostContentSectionDialogSection",props:{section:{}},emits:["error","delete"],setup(t,{expose:e,emit:n}){const r=n,s=Uc(Fc).greaterOrEqual("sm"),o=ie(!1),a=ie(),l=ie(),u=ie(),c=ie(),d=ie(),h=ie(),p=ie(),m=ie(),g=ie(),y=ie(),A=ie(),C=ie(),S=ie(),E=ie(!1),k=ie(!1),x=ie(!1),I=ee(()=>[g.value,y.value,A.value,C.value,S.value,E.value,k.value,x.value].some(R=>!!R)),b=ee(()=>s.value?"View more options":"View more"),_=ee(()=>s.value?"Hide more options":"View less");return e({test:async()=>{var R,N,O,j,U,$,B,te;await Promise.all([(R=a.value)==null?void 0:R.test(),(N=l.value)==null?void 0:N.test(),(O=u.value)==null?void 0:O.test(),(j=d.value)==null?void 0:j.test(),(U=c.value)==null?void 0:U.test(),($=h.value)==null?void 0:$.test(),(B=p.value)==null?void 0:B.test(),(te=m.value)==null?void 0:te.test()]),r("error",I.value)}}),(R,N)=>(D(),H("div",zre,[q(ti,{class:"mt-0 pt-5",ref_key:"title",ref:a,id:R.section.id,name:"title",label:"Section Title",modelValue:R.section.title,"onUpdate:modelValue":N[0]||(N[0]=O=>R.section.title=O),error:g.value,"onUpdate:error":N[1]||(N[1]=O=>g.value=O),max:50},null,8,["id","modelValue","error"]),q(ti,{ref_key:"subTitle",ref:l,id:R.section.id,name:"subTitle",label:"Section Subtitle",modelValue:R.section.subTitle,"onUpdate:modelValue":N[2]||(N[2]=O=>R.section.subTitle=O),error:y.value,"onUpdate:error":N[3]||(N[3]=O=>y.value=O),max:200},null,8,["id","modelValue","error"]),q(i_,{ref_key:"description",ref:u,id:R.section.id,name:"description",label:"Section Description",modelValue:R.section.description,"onUpdate:modelValue":N[4]||(N[4]=O=>R.section.description=O),error:A.value,"onUpdate:error":N[5]||(N[5]=O=>A.value=O),"max-length":1e4},null,8,["id","modelValue","error"]),v("div",Kre,[q(at,{class:"w-full sm:w-2/3 xl:w-2/3 text-nowrap",type:"primary",outlined:"",icon:o.value?"pi pi-angle-up":"pi pi-angle-down",label:o.value?_.value:b.value,onClick:N[6]||(N[6]=O=>o.value=!o.value)},null,8,["icon","label"])]),o.value?(D(),H("div",Gre,[q(Kr,{ref_key:"alignment",ref:c,id:R.section.id,name:"alignment",label:"Alignment",modelValue:R.section.alignment,"onUpdate:modelValue":N[7]||(N[7]=O=>R.section.alignment=O),error:S.value,"onUpdate:error":N[8]||(N[8]=O=>S.value=O),options:P(gM),rules:[P(Nt).Required]},null,8,["id","modelValue","error","options","rules"]),q(Z1,{ref_key:"coverImageUrl",ref:d,id:R.section.id,name:"coverImageUrl",label:"Cover image",modelValue:R.section.coverImageUrl,"onUpdate:modelValue":N[9]||(N[9]=O=>R.section.coverImageUrl=O),error:C.value,"onUpdate:error":N[10]||(N[10]=O=>C.value=O)},null,8,["id","modelValue","error"]),q(dg,{ref_key:"countdown",ref:h,id:R.section.id,name:"countdown",label:"Countdown",modelValue:R.section.countdown,"onUpdate:modelValue":N[11]||(N[11]=O=>R.section.countdown=O),error:E.value,"onUpdate:error":N[12]||(N[12]=O=>E.value=O)},null,8,["id","modelValue","error"]),q(dg,{ref_key:"timer",ref:p,id:R.section.id,name:"timer",label:"Timer",modelValue:R.section.timer,"onUpdate:modelValue":N[13]||(N[13]=O=>R.section.timer=O),error:k.value,"onUpdate:error":N[14]||(N[14]=O=>k.value=O)},null,8,["id","modelValue","error"]),q(Wre,{ref_key:"bullets",ref:m,id:R.section.id,name:"bullets",label:"Section Bullets",placeholder:"New bullet...",modelValue:R.section.bullets,"onUpdate:modelValue":N[15]||(N[15]=O=>R.section.bullets=O)},null,8,["id","modelValue"]),q(YM,{id:R.section.id,name:"table",label:"Table",modelValue:R.section.table,"onUpdate:modelValue":N[16]||(N[16]=O=>R.section.table=O)},null,8,["id","modelValue"])])):J("",!0),v("div",Yre,[q(at,{class:"w-full sm:w-2/3 md:w-1/2 xl:w-2/3",type:"danger",outlined:"",label:"Delete",onClick:N[17]||(N[17]=O=>R.$emit("delete"))})])]))}}),Xre={class:"flex gap-5"},Jre=v("i",{class:"pi pi-arrows-v place-self-center hover:cursor-pointer"},null,-1),Zre={class:"mt-3 flex justify-center"},eie=xe({__name:"BlogPostContentDialogSection",emits:["update:selected","error"],setup(t,{expose:e,emit:n}){const r=n,i=xf(),{blogPostOriginal:s,blogPostMutation:o,isOpen:a}=Rt(i),l=ie(),u=ie(),c=ie(),d=ie(),h=ie(),p=ie(),m=ie([]),g=ie(),y=ie(),A=ie(),C=ie(),S=ie(),E=ie(!1),k=ie(!1),x=ie({}),I=ee(()=>[y.value,A.value,C.value,S.value,E.value,k.value,Object.values(x.value).some(N=>N)].some(N=>!!N)),b=()=>{o.value.sections.push({id:p2(),title:"",subTitle:"",description:"",alignment:"left",coverImageUrl:"",countdown:null,timer:null,table:"",bullets:[]})},_=N=>{const O=o.value.sections.slice(),j=O.findIndex(U=>U.id===N);O.splice(j,1),i.blogPostMutation.sections=O},T=(N,O)=>{x.value[O]=N};return e({test:async()=>{for(const N of m.value)await N.test();await Promise.all([l.value.test(),u.value.test(),c.value.test(),h.value.test(),p.value.test()]),r("error",I.value),x.value={}}}),(N,O)=>(D(),H(Pe,null,[q(ti,{ref_key:"title",ref:l,name:"title",label:"Title",placeholder:"Amazing Post",modelValue:P(o).title,"onUpdate:modelValue":O[0]||(O[0]=j=>P(o).title=j),error:y.value,"onUpdate:error":O[1]||(O[1]=j=>y.value=j),rules:[P(Nt).Required],"min-length":3,"max-length":50},null,8,["modelValue","error","rules"]),q(i_,{ref_key:"description",ref:u,name:"description",label:"Description",placeholder:"Something about my post...",modelValue:P(o).description,"onUpdate:modelValue":O[2]||(O[2]=j=>P(o).description=j),error:A.value,"onUpdate:error":O[3]||(O[3]=j=>A.value=j),"max-length":1e4},null,8,["modelValue","error"]),q(Z1,{ref_key:"coverImageUrl",ref:d,id:"coverImageUrl",name:"coverImageUrl",label:"Cover image",modelValue:P(o).coverImageUrl,"onUpdate:modelValue":O[4]||(O[4]=j=>P(o).coverImageUrl=j),error:S.value,"onUpdate:error":O[5]||(O[5]=j=>S.value=j),"blog-post":P(s)??void 0},null,8,["modelValue","error","blog-post"]),P(a)?(D(),ae(P(er),{key:0,onTabOpen:P(cr)},{default:X(()=>[q(P(Ve),{header:"Other content"},{default:X(()=>[q(i_,{ref_key:"descriptionFooter",ref:c,name:"descriptionFooter",label:"Footer",placeholder:"Some beautiful ending...",modelValue:P(o).descriptionFooter,"onUpdate:modelValue":O[6]||(O[6]=j=>P(o).descriptionFooter=j),error:C.value,"onUpdate:error":O[7]||(O[7]=j=>C.value=j),"max-length":1e4},null,8,["modelValue","error"]),q(dg,{ref_key:"countdown",ref:h,name:"countdown",label:"Countdown",modelValue:P(o).countdown,"onUpdate:modelValue":O[8]||(O[8]=j=>P(o).countdown=j),error:E.value,"onUpdate:error":O[9]||(O[9]=j=>E.value=j)},null,8,["modelValue","error"]),q(dg,{ref_key:"timer",ref:p,name:"timer",label:"Timer",modelValue:P(o).timer,"onUpdate:modelValue":O[10]||(O[10]=j=>P(o).timer=j),error:k.value,"onUpdate:error":O[11]||(O[11]=j=>k.value=j)},null,8,["modelValue","error"]),q(YM,{name:"table",label:"Table",modelValue:P(o).table,"onUpdate:modelValue":O[12]||(O[12]=j=>P(o).table=j)},null,8,["modelValue"])]),_:1}),q(P(Ve),{header:"Sections"},{default:X(()=>[q(P(iT),{ref_key:"draggable",ref:g,modelValue:P(o).sections,"onUpdate:modelValue":O[13]||(O[13]=j=>P(o).sections=j),itemKey:j=>j.id,handle:".drag-handle"},{item:X(({element:j})=>[P(a)?(D(),ae(P(er),{key:0,onTabOpen:P(cr)},{default:X(()=>[q(P(Ve),{pt:{header:{class:"drag-handle"},toggleableContent:{class:"background-gray-dark rounded-t-primary rounded-b-primary"}}},{header:X(()=>[v("div",Xre,[Jre,v("p",null,Fe(j.title||"New section"),1)])]),default:X(()=>[q(Qre,{ref:U=>{m.value[j.id]=U},section:j,"is-open":P(a),onDelete:U=>_(j.id),onError:U=>T(U,j.id)},null,8,["section","is-open","onDelete","onError"])]),_:2},1024)]),_:2},1032,["onTabOpen"])):J("",!0)]),_:1},8,["modelValue","itemKey"]),v("div",Zre,[q(at,{class:"w-1/2",type:"green",label:"Add Section",onClick:b})])]),_:1})]),_:1},8,["onTabOpen"])):J("",!0)],64))}});var tie={root:{position:"relative"}},nie={root:function(e){var n=e.instance,r=e.props;return["p-inputswitch p-component",{"p-highlight":n.checked,"p-disabled":r.disabled,"p-invalid":r.invalid}]},input:"p-inputswitch-input",slider:"p-inputswitch-slider"},rie=or.extend({name:"inputswitch",classes:nie,inlineStyles:tie}),iie={name:"BaseInputSwitch",extends:Ur,props:{modelValue:{type:null,default:!1},trueValue:{type:null,default:!0},falseValue:{type:null,default:!1},invalid:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},tabindex:{type:Number,default:null},inputId:{type:String,default:null},inputClass:{type:[String,Object],default:null},inputStyle:{type:Object,default:null},ariaLabelledby:{type:String,default:null},ariaLabel:{type:String,default:null}},style:rie,provide:function(){return{$parentInstance:this}}},cL={name:"InputSwitch",extends:iie,inheritAttrs:!1,emits:["update:modelValue","change","focus","blur"],methods:{getPTOptions:function(e){var n=e==="root"?this.ptmi:this.ptm;return n(e,{context:{checked:this.checked,disabled:this.disabled}})},onChange:function(e){if(!this.disabled&&!this.readonly){var n=this.checked?this.falseValue:this.trueValue;this.$emit("update:modelValue",n),this.$emit("change",e)}},onFocus:function(e){this.$emit("focus",e)},onBlur:function(e){this.$emit("blur",e)}},computed:{checked:function(){return this.modelValue===this.trueValue}}},sie=["data-p-highlight","data-p-disabled"],oie=["id","checked","tabindex","disabled","readonly","aria-checked","aria-labelledby","aria-label","aria-invalid"];function aie(t,e,n,r,i,s){return D(),H("div",se({class:t.cx("root"),style:t.sx("root")},s.getPTOptions("root"),{"data-p-highlight":s.checked,"data-p-disabled":t.disabled}),[v("input",se({id:t.inputId,type:"checkbox",role:"switch",class:[t.cx("input"),t.inputClass],style:t.inputStyle,checked:s.checked,tabindex:t.tabindex,disabled:t.disabled,readonly:t.readonly,"aria-checked":s.checked,"aria-labelledby":t.ariaLabelledby,"aria-label":t.ariaLabel,"aria-invalid":t.invalid||void 0,onFocus:e[0]||(e[0]=function(){return s.onFocus&&s.onFocus.apply(s,arguments)}),onBlur:e[1]||(e[1]=function(){return s.onBlur&&s.onBlur.apply(s,arguments)}),onChange:e[2]||(e[2]=function(){return s.onChange&&s.onChange.apply(s,arguments)})},s.getPTOptions("input")),null,16,oie),v("span",se({class:t.cx("slider")},s.getPTOptions("slider")),null,16)],16,sie)}cL.render=aie;const lie={class:"m-4"},uie=["for"],oh=xe({__name:"SwitchField",props:{id:{},name:{},label:{},modelValue:{type:Boolean},labelProps:{}},emits:["update:modelValue","update:error"],setup(t,{expose:e,emit:n}){const r=t,i=ee({get:()=>r.modelValue,set:l=>{a("update:modelValue",l)}}),s=ee(()=>r.name+(r.id?"."+r.id:"")),o=async l=>{},a=n;return e({test:o}),(l,u)=>(D(),H("div",lie,[l.label?(D(),H("label",se({key:0,class:"block text-sm font-bold mb-2",for:s.value},l.labelProps),Fe(l.label),17,uie)):J("",!0),v("div",{class:"p-input cursor-pointer flex align-middle",onClick:u[1]||(u[1]=kt(c=>i.value=!i.value,["prevent"]))},[q(P(cL),{inputId:s.value,ref:"input",modelValue:i.value,"onUpdate:modelValue":u[0]||(u[0]=c=>i.value=c),pt:{slider:{class:i.value?"bg-primary-500":void 0}}},null,8,["inputId","modelValue","pt"])])]))}}),cie=xe({__name:"BlogPostSettingsDialogSection",emits:["error"],setup(t,{expose:e,emit:n}){const r=n,{firebaseUser:i,publicUser:s}=Rt(sr()),o=Fn(),{allowedPublicUsers:a}=o,{publicUsers:l}=Rt(o),u=xf(),{blogPostMutation:c}=Rt(u),d=ie(),h=ie(),p=ie(),m=ie(),g=ee({get(){return!!c.value.datePinned},set(_){c.value.datePinned=_?new Date:null}}),y=ie(),A=ie(),C=ie(),S=ie(),E=ee(()=>[y.value,A.value,C.value,S.value].some(_=>!!_)),k=ee(()=>l.value.map(({id:_,displayName:T})=>({value:_,label:T}))),x=ie([]),I=_=>{c.value.allowedUserIds=_},b=async()=>{c.value.allowedUserIds.length&&!x.value.length&&(y.value="Invalid user ID's"),await Promise.all([h.value.test(),p.value.test(),m.value.test()]),r("error",E.value)};return cn(()=>c.value.allowedUserIds,async _=>{x.value=await a(_)},{immediate:!0}),e({test:b}),(_,T)=>(D(),H(Pe,null,[q(Kr,{ref_key:"allowedUsers",ref:d,name:"allowedUserIds",label:"Allowed users",placeholder:"This post is public","model-value":P(c).allowedUserIds,error:y.value,"onUpdate:error":T[0]||(T[0]=R=>y.value=R),"onUpdate:arrayValue":I,options:[{value:P(i).uid,label:P(s).displayName},...k.value.filter(({value:R})=>{var N;return R!==((N=P(i))==null?void 0:N.uid)})],multiple:""},null,8,["model-value","error","options"]),q(oh,{ref_key:"pinned",ref:m,name:"pinned",label:"Pinned",modelValue:g.value,"onUpdate:modelValue":T[1]||(T[1]=R=>g.value=R)},null,8,["modelValue"]),q(oh,{ref_key:"locked",ref:h,name:"locked",label:"Locked for commenting",modelValue:P(c).locked,"onUpdate:modelValue":T[2]||(T[2]=R=>P(c).locked=R)},null,8,["modelValue"]),q(oh,{ref_key:"archived",ref:p,name:"archived",label:"Archived",modelValue:P(c).archived,"onUpdate:modelValue":T[3]||(T[3]=R=>P(c).archived=R)},null,8,["modelValue"])],64))}}),die=xe({__name:"BlogPostStylingDialogSection",emits:["error"],setup(t,{expose:e,emit:n}){const r=n,i=xf(),{blogPostMutation:s}=Rt(i),o=ie(),a=ie(),l=ie(),u=ie(),c=ie(),d=ie(),h=ie(),p=ie(),m=ie(),g=ie(),y=ie(),A=ie(),C=ie(),S=ie(),E=ee(()=>[p.value,m.value,g.value,y.value,A.value,C.value,S.value].some(I=>!!I)),k=ee(()=>qG(sg.find(I=>I.value===s.value.colorPrimary)));return e({test:async()=>{await Promise.all([o.value.test(),a.value.test(),l.value.test(),u.value.test(),c.value.test(),d.value.test(),h.value.test()]),r("error",E.value)}}),(I,b)=>(D(),H(Pe,null,[q(Kr,{ref_key:"alignment",ref:o,name:"alignment",label:"Alignment",modelValue:P(s).alignment,"onUpdate:modelValue":b[0]||(b[0]=_=>P(s).alignment=_),error:p.value,"onUpdate:error":b[1]||(b[1]=_=>p.value=_),options:P(gM),rules:[P(Nt).Required]},null,8,["modelValue","error","options","rules"]),q(Kr,{ref_key:"colorPrimary",ref:a,name:"colorPrimary",label:"Primary Style",modelValue:P(s).colorPrimary,"onUpdate:modelValue":b[2]||(b[2]=_=>P(s).colorPrimary=_),error:m.value,"onUpdate:error":b[3]||(b[3]=_=>m.value=_),options:P(sg),rules:[P(Nt).Required]},null,8,["modelValue","error","options","rules"]),q(Kr,{ref_key:"opacityPrimary",ref:c,name:"opacityPrimary",label:"Primary Opacity",modelValue:P(s).opacityPrimary,"onUpdate:modelValue":b[4]||(b[4]=_=>P(s).opacityPrimary=_),error:A.value,"onUpdate:error":b[5]||(b[5]=_=>A.value=_),options:P(Uy)},null,8,["modelValue","error","options"]),q(Kr,{ref_key:"colorSecondary",ref:l,name:"colorSecondary",label:"Secondary Style",modelValue:P(s).colorSecondary,"onUpdate:modelValue":b[6]||(b[6]=_=>P(s).colorSecondary=_),error:g.value,"onUpdate:error":b[7]||(b[7]=_=>g.value=_),options:k.value},null,8,["modelValue","error","options"]),q(Kr,{ref_key:"opacitySecondary",ref:d,name:"opacitySecondary",label:"Secondary Opacity",modelValue:P(s).opacitySecondary,"onUpdate:modelValue":b[8]||(b[8]=_=>P(s).opacitySecondary=_),error:C.value,"onUpdate:error":b[9]||(b[9]=_=>C.value=_),options:P(Uy)},null,8,["modelValue","error","options"]),q(Kr,{ref_key:"colorTertiary",ref:u,name:"colorTertiary",label:"Tertiary Style",modelValue:P(s).colorTertiary,"onUpdate:modelValue":b[10]||(b[10]=_=>P(s).colorTertiary=_),error:y.value,"onUpdate:error":b[11]||(b[11]=_=>y.value=_),options:P(BG)},null,8,["modelValue","error","options"]),q(Kr,{ref_key:"opacityTertiary",ref:h,name:"opacityTertiary",label:"Tertiary Opacity",modelValue:P(s).opacityTertiary,"onUpdate:modelValue":b[12]||(b[12]=_=>P(s).opacityTertiary=_),error:S.value,"onUpdate:error":b[13]||(b[13]=_=>S.value=_),options:P(Uy)},null,8,["modelValue","error","options"])],64))}}),hie=xe({__name:"BlogPostDialog",emits:["scroll-to-updated"],setup(t,{emit:e}){const n=e,{firebaseUser:r}=Rt(sr()),i=Fn(),{createBlogPost:s,updateBlogPost:o,deleteFilesOfBlogPost:a,toggleBlogPostVisibility:l,isBlogPostsMutationLoading:u}=i,c=xf(),{getBlogPostMutationContent:d,getBlogPostMutationStyling:h,getBlogPostMutationSettings:p}=c,{isOpen:m,blogPostOriginal:g,blogPostMutationId:y,blogPostMutation:A,hasBlogPostMutationContentChanges:C,hasBlogPostMutationStylingChanges:S,hasBlogPostMutationSettingsChanges:E}=Rt(c),k=ie(),x=ie(),I=ie(),b=ie(),_=ie(!1),T=ie(!1),R=ie(!1),N=ee(()=>{var B,te,z,V,ce,le;return!!((te=(B=g.value)==null?void 0:B.allowedUserIds)!=null&&te.length)&&!((z=p().allowedUserIds)!=null&&z.length)||!((ce=(V=g.value)==null?void 0:V.allowedUserIds)!=null&&ce.length)&&!!((le=p().allowedUserIds)!=null&&le.length)}),O=ee(()=>{const B=[];return C.value&&B.push("Content"),S.value&&B.push("Styling"),E.value&&B.push("Settings"),B.length?"Update "+A0(B):void 0}),j=ee(()=>lo(g.value)),U=async()=>{var B,te,z,V,ce;if(await Promise.all([x.value.test(),I.value.test(),b.value.test()]),!(_.value||T.value||R.value))if(!g.value)await s(y.value,A.value,(B=r.value)==null?void 0:B.uid)&&(c.close(),n("scroll-to-updated",y.value));else if(N.value){const le=y.value;c.isOpen=!1,await l(le,Cr.convert(A.value),g.value.reactions,A.value.allowedUserIds.length?"private":"public",(te=r.value)==null?void 0:te.uid)&&(c.close(),Ze.success("Successfully updated Post Visibility"),n("scroll-to-updated",le))}else{const le=y.value;let ve=[];C.value&&ve.push(await o(le,d(),j.value,(z=r.value)==null?void 0:z.uid)),S.value&&ve.push(await o(le,h(),j.value,(V=r.value)==null?void 0:V.uid)),E.value&&(ve.push(await o(le,p(),j.value,(ce=r.value)==null?void 0:ce.uid)),n("scroll-to-updated",le)),ve=ve.filter(Se=>typeof Se=="string"),ve.length&&(Ze.success(`Successfully updated Post ${A0(ve)}`),c.close())}},$=async()=>{a(A.value,g.value??void 0),c.close()};return cn(A,()=>{c.isMutationEqual()},{deep:!0}),(B,te)=>(D(),ae(J1,{isOpen:P(m),title:P(g)?"Update Post":"Create Post",description:P(g)?"Update this post":"Create a new post","confirm-text":P(g)?O.value:"Create","confirm-loading":P(u),onConfirm:U,onCancel:$},{default:X(()=>[v("form",{ref_key:"dialog",ref:k,class:"pt-6 mb-4 xl:px-16"},[P(m)?(D(),ae(P(er),{key:0,"active-index":0,onTabOpen:P(cr)},{default:X(()=>[q(P(Ve),{header:"Content"},{default:X(()=>[q(eie,{ref_key:"content",ref:x,onError:te[0]||(te[0]=z=>_.value=z)},null,512)]),_:1}),q(P(Ve),{header:"Styling"},{default:X(()=>[q(die,{ref_key:"styling",ref:I,onError:te[1]||(te[1]=z=>T.value=z)},null,512)]),_:1}),q(P(Ve),{header:"Settings"},{default:X(()=>[q(cie,{ref_key:"settings",ref:b,onError:te[2]||(te[2]=z=>R.value=z)},null,512)]),_:1})]),_:1},8,["onTabOpen"])):J("",!0)],512)]),_:1},8,["isOpen","title","description","confirm-text","confirm-loading"]))}}),fie={class:"grid mt-10 md:mt-15"},pie={class:"grid justify-center"},mie={class:"text-lg md:text-xl text-white"},gie=["innerHTML"],vie={class:"grid my-5 xl:px-20"},yie=xe({__name:"Blog",setup(t){const{publicUser:e}=Rt(sr()),n=Fn(),{deleteBlogPost:r}=n,{menuItems:i,content:s}=Rt(n),o=df(),a=xf(),l=ie(null),u=ie(),c=ie(!1),d=ie(o.currentRoute.value.params.postId),h=ee(()=>{var A;return e.value?[...s.value.blogDescriptionUser.map(C=>C.replace("%USER%",e.value.displayName||"Unknown user")),...((A=i.value.find(C=>C.id==="nfNQM4SMESU2VOkJtcgY"))==null?void 0:A.description)||[]]:s.value.blogDescriptionGuest}),p=()=>{a.openWith(null)},m=A=>{a.openWith(A)},g=A=>{l.value=A,c.value=!0},y=async A=>{await r(A)&&(c.value=!1,l.value=null)};return cn(o.currentRoute,A=>{d.value=A.params.postId}),(A,C)=>(D(),ae(Js,null,{content:X(()=>[v("div",fie,[v("div",pie,[(D(!0),H(Pe,null,dt(h.value,S=>(D(),H("h1",mie,[v("span",{innerHTML:S},null,8,gie)]))),256))]),v("div",vie,[d.value?(D(),ae(qte,{key:0,onEditClicked:m,onDeleteClicked:g})):(D(),ae(lne,{key:1,onCreateClicked:p,onEditClicked:m,onDeleteClicked:g})),q(hie,{onScrollToUpdated:C[0]||(C[0]=S=>u.value=S)}),l.value?(D(),ae(J1,{key:2,title:"Delete Post",isOpen:c.value,description:[` Are you sure you want to delete this post called ' ${l.value.title}'?`,"This cannot be undone."],"confirm-text":"Confirm","confirm-props":{type:"danger",outlined:!0},onConfirm:C[1]||(C[1]=S=>y(l.value.id)),onCancel:C[2]||(C[2]=S=>c.value=!1)},null,8,["isOpen","description"])):J("",!0)])])]),_:1}))}}),gP=xe({__name:"Blog",setup(t){return(e,n)=>(D(),ae(yie))}}),bie={class:"flex flex-col items-center content-center"},_ie=xe({__name:"CatCalc",setup(t){const e=Pr({calculator:{value:"average",error:""},catWeigth:{value:"",error:""},catAge:{value:"",error:""},catGender:{value:"male",error:""},catSize:{value:"",error:""},catFoodDry:{value:"",error:""},catFoodWet:{value:"",error:""},catFoodSnax:{value:"",error:""},catFoodSnaxPercentage:{value:"5",error:""}}),n=[{value:"average",label:"Average"},{value:"nvwa",label:"NVWA"},{value:"royalcanin",label:"Royal Canin"},{value:"petsplace",label:"Pets Place"},{value:"rawz",label:"RAWZ"},{value:"petcube",label:"Petcube"}],r=[{value:"default",label:"Adult healthy",rerIndex:1.4},{value:"lazy",label:"Adult lazy",rerIndex:1},{value:"castrated",label:"Adult castrated",rerIndex:1.2},{value:"underweight",label:"Adult underfed",rerIndex:1.8},{value:"overweight",label:"Adult overfed",rerIndex:.8},{value:"kitten0.4",label:"Kitten 0-4 months",rerIndex:2.5},{value:"kitten1",label:"Kitten 4-12 months",rerIndex:2}],i=[{value:"male",label:"Male"},{value:"female",label:"Female"}],s=ee(()=>[{value:"35",label:"Small (<25cm)",factor:e.catGender.value==="male"?.9:.75},{value:"40",label:"Average (25-30cm)",factor:e.catGender.value==="male"?1:.9},{value:"45",label:"Big (30-35cm)",factor:e.catGender.value==="male"?1.125:1},{value:"65",label:"Pretty damn big (35-40cm)",factor:e.catGender.value==="male"?1.6:1.4},{value:"90",label:"Massive (>40cm)",factor:e.catGender.value==="male"?2.25:2}]),o={nvwa:[{weight:0,calories:0},{weight:1,calories:200},{weight:2,calories:200},{weight:3,calories:240},{weight:4,calories:280},{weight:5,calories:320},{weight:6,calories:360},{weight:7,calories:400},{weight:8,calories:440},{weight:9,calories:480},{weight:10,calories:520}],royalcanin:[{weight:0,calories:0},{weight:1,calories:225},{weight:2,calories:225},{weight:3,calories:275},{weight:4,calories:325},{weight:5,calories:375},{weight:6,calories:425},{weight:7,calories:475},{weight:8,calories:525},{weight:9,calories:575},{weight:10,calories:625}],petsplace:[{weight:0,calories:0},{weight:.5,calories:39},{weight:.9,calories:65},{weight:1.4,calories:88},{weight:1.8,calories:110},{weight:2.3,calories:130},{weight:2.7,calories:149},{weight:3.2,calories:167},{weight:3.6,calories:184},{weight:4.1,calories:200},{weight:4.5,calories:218},{weight:5,calories:234},{weight:5.5,calories:250},{weight:5.9,calories:265},{weight:6.4,calories:280},{weight:6.8,calories:295},{weight:7.3,calories:310},{weight:7.7,calories:324},{weight:8.2,calories:339},{weight:8.6,calories:353},{weight:9.1,calories:366},{weight:11.4,calories:433}],rawz:[{weight:0,calories:0},{weight:1,calories:183},{weight:2.268,calories:183},{weight:3.402,calories:245},{weight:4.536,calories:303},{weight:5.67,calories:362},{weight:6.804,calories:413},{weight:7.938,calories:462},{weight:9.072,calories:513}],petcube:[{weight:.45,calories:40},{weight:.9,calories:65},{weight:2.3,calories:140},{weight:3.15,calories:166},{weight:4.5,calories:250},{weight:6.8,calories:325},{weight:9.1,calories:400},{weight:11.25,calories:450}],average:[]},a=(k,x)=>{const b=o[k].sort((O,j)=>O.weight-j.weight);let _=b[b.length-2].weight,T=b[b.length-2].calories,R=b[b.length-1].weight,N=b[b.length-1].calories;for(let O=0;O<b.length-1;O++)if(x>=b[O].weight&&x<=b[O+1].weight){_=b[O].weight,T=b[O].calories,R=b[O+1].weight,N=b[O+1].calories;break}return{x1:_,y1:T,x2:R,y2:N}},l=(k,x)=>{const{x1:I,y1:b,x2:_,y2:T}=a(k,x);return b+(x-I)*(T-b)/(_-I)},u=()=>{const k=new Map;for(const b of Object.values(o).filter(_=>_!==o.average))for(const{weight:_,calories:T}of b)k.has(_)||k.set(_,{sum:0,count:0}),k.get(_).sum+=T,k.get(_).count++;return[0,1,2,3,4,5,6,7,8,9,10].filter(b=>k.has(b)).map(b=>({weight:b,calories:k.get(b).sum/k.get(b).count}))};o.average=u();const c=[{value:"default",label:"Average (340kcal)",calories:340},{value:"yarrah",label:"Yarrah Chicken (362kcal)",calories:361.5},{value:"yarrah_sterilized",label:"Yarrah Chicken sterilized (353kcal)",calories:353}],d=[{value:"",label:"None",calories:0},{value:"default",label:"Average (85kcal)",calories:85}],h=[{value:"",label:"None",calories:0},{value:"default",label:"Average (2kcal)",calories:2},{value:"yarrah",label:"Yarrah Mini Snack (2kcal)",calories:2},{value:"catstick",label:"Vitakraft Cat Stick (12kcal)",calories:12},{value:"milk_average",label:"Milk Average (40kcal/50ml)",calories:40},{value:"dried_fish",label:"Dried Fish (8kcal)",calories:8}],p=ee(()=>l(e.calculator.value,Number(e.catWeigth.value))),m=ee(()=>{var k;return p.value*(((k=r.find(x=>x.value===e.catAge.value))==null?void 0:k.rerIndex)??1)}),g=ee(()=>{var k;return m.value*(((k=s.value.find(x=>x.value===e.catSize.value))==null?void 0:k.factor)??1)}),y=ee(()=>{const k=h.find(x=>x.value===e.catFoodSnax.value);return k!=null&&k.calories?g.value*(Number(e.catFoodSnaxPercentage.value)/100)/k.calories:void 0}),A=ee(()=>g.value*(1-Number(y.value?e.catFoodSnaxPercentage.value:0)/100)),C=ee(()=>{const k=d.find(x=>x.value===e.catFoodWet.value);return k!=null&&k.calories?A.value/4/k.calories*100:void 0}),S=ee(()=>A.value/4*(C.value?3:4)),E=ee(()=>{var k;return S.value/(((k=c.find(x=>x.value===e.catFoodDry.value))==null?void 0:k.calories)??c[0].calories)*100});return(k,x)=>(D(),ae(Js,null,{content:X(()=>[q(Pn,{class:"!bg-cyan-800 !bg-opacity-50 my-5 !rounded-secondary",title:"Cat Calculator",description:"Do a Cat Calculation!"},{default:X(()=>{var I;return[v("div",bie,[q(Kr,{class:"w-3/4 md:w-1/2",name:"calculator",label:"Calculation based on",modelValue:e.calculator.value,"onUpdate:modelValue":x[0]||(x[0]=b=>e.calculator.value=b),error:e.calculator.error,"onUpdate:error":x[1]||(x[1]=b=>e.calculator.error=b),options:n,rules:[P(Nt).Required]},null,8,["modelValue","error","rules"]),q(ti,{class:"w-3/4 md:w-1/2",name:"catWeigth",label:"Cat Weight (kg)",modelValue:e.catWeigth.value,"onUpdate:modelValue":x[2]||(x[2]=b=>e.catWeigth.value=b),error:e.catWeigth.error,"onUpdate:error":x[3]||(x[3]=b=>e.catWeigth.error=b),rules:[P(Nt).Required,P(Nt).Numeric],"min-value":1,"max-value":10,"input-props":{type:"number"}},null,8,["modelValue","error","rules"]),q(Kr,{class:"w-3/4 md:w-1/2",name:"catAge",label:"Cat Age",modelValue:e.catAge.value,"onUpdate:modelValue":x[4]||(x[4]=b=>e.catAge.value=b),error:e.catAge.error,"onUpdate:error":x[5]||(x[5]=b=>e.catAge.error=b),options:r,rules:[P(Nt).Required]},null,8,["modelValue","error","rules"]),q(Kr,{class:"w-3/4 md:w-1/2",name:"catGender",label:"Cat Gender",modelValue:e.catGender.value,"onUpdate:modelValue":x[6]||(x[6]=b=>e.catGender.value=b),error:e.catGender.error,"onUpdate:error":x[7]||(x[7]=b=>e.catGender.error=b),options:i,rules:[P(Nt).Required]},null,8,["modelValue","error","rules"]),q(Kr,{class:"w-3/4 md:w-1/2",name:"catSize",label:"Cat Shoulder Height",modelValue:e.catSize.value,"onUpdate:modelValue":x[8]||(x[8]=b=>e.catSize.value=b),error:e.catSize.error,"onUpdate:error":x[9]||(x[9]=b=>e.catSize.error=b),options:s.value,rules:[P(Nt).Required]},null,8,["modelValue","error","options","rules"]),q(Pn,{class:"w-full md:w-2/3 my-5 border border-neutral-400 !rounded-primary",description:"Required energy per day: "+g.value.toFixed(1)+" kcal"},null,8,["description"]),q(Kr,{class:"w-3/4 md:w-1/2",name:"catFoodDry",label:"Dry Food",modelValue:e.catFoodDry.value,"onUpdate:modelValue":x[10]||(x[10]=b=>e.catFoodDry.value=b),error:e.catFoodDry.error,"onUpdate:error":x[11]||(x[11]=b=>e.catFoodDry.error=b),options:c,rules:[P(Nt).Required]},null,8,["modelValue","error","rules"]),q(Kr,{class:"w-3/4 md:w-1/2",name:"catFoodWet",label:"Wet Food (25%)",modelValue:e.catFoodWet.value,"onUpdate:modelValue":x[12]||(x[12]=b=>e.catFoodWet.value=b),error:e.catFoodWet.error,"onUpdate:error":x[13]||(x[13]=b=>e.catFoodWet.error=b),options:d,rules:[P(Nt).Required]},null,8,["modelValue","error","rules"]),q(Kr,{class:"w-3/4 md:w-1/2",name:"catFoodSnax",label:"Snacks",modelValue:e.catFoodSnax.value,"onUpdate:modelValue":x[14]||(x[14]=b=>e.catFoodSnax.value=b),error:e.catFoodSnax.error,"onUpdate:error":x[15]||(x[15]=b=>e.catFoodSnax.error=b),options:h,rules:[P(Nt).Required]},null,8,["modelValue","error","rules"]),e.catFoodSnax.value?(D(),ae(ti,{key:0,class:"w-3/4 md:w-1/2",name:"catFoodSnaxPercentage",label:"Snacks Percentage",modelValue:e.catFoodSnaxPercentage.value,"onUpdate:modelValue":x[16]||(x[16]=b=>e.catFoodSnaxPercentage.value=b),error:e.catFoodSnaxPercentage.error,"onUpdate:error":x[17]||(x[17]=b=>e.catFoodSnaxPercentage.error=b),rules:[P(Nt).Required,P(Nt).Numeric],"min-value":1,"max-value":10,"input-props":{type:"number"}},null,8,["modelValue","error","rules"])):J("",!0),q(Pn,{class:"w-full md:w-2/3 my-5 border border-neutral-400 bg-primary-600 bg-opacity-25 !rounded-primary",title:"Result","sub-title":"Based on constants from "+((I=n.find(b=>b.value===e.calculator.value))==null?void 0:I.label),description:["Required dry food per day: "+E.value.toFixed(1)+" g","","","Required dry food per meal: "+(E.value/(C.value?2:3)).toFixed(1)+" g",...C.value?["Required wet food per day: "+C.value.toFixed(1)+" g"]:[],...y.value?["Allowed snacks per day: "+y.value.toFixed(y.value<1?1:0)+" snacks"]:[],"","","","^ Mogu approved!"]},null,8,["sub-title","description"])])]}),_:1})]),_:1}))}}),wie=xe({__name:"CatCalc",setup(t){return(e,n)=>(D(),ae(_ie))}}),Tie=""+new URL("images/customvoting/customvoting2.jpg",import.meta.url).href,sT=(t,e)=>{const n=t.__vccOpts||t;for(const[r,i]of e)n[r]=i;return n},Eie={},Sie={class:"overflow-x-auto"},Iie=Ik('<table class="min-w-full"><tbody><tr><td class="px-6 py-4 whitespace-nowrap"><code class="text-red-500">/vote</code><br><p class="text-neutral-300">shows you the votelinks</p><em>permission: customvoting.vote</em></td></tr><tr><td class="px-6 py-4 whitespace-nowrap"><code class="text-red-500">/fakevote [player] [website]</code><br><p class="text-neutral-300">do a test or fake vote</p><em>permission: customvoting.fakevote</em></td></tr><tr><td class="px-6 py-4 whitespace-nowrap"><code class="text-red-500">/setvotes &lt;amount&gt; [player]</code><br><p class="text-neutral-300">change someone&#39;s votes</p><em>permission: customvoting.votes.set</em></td></tr><tr><td class="px-6 py-4 whitespace-nowrap"><code class="text-red-500">/clearmonthlyvotes [player]</code><br><p class="text-neutral-300">reset someone&#39;s period votes</p><em>permission: customvoting.monthly</em></td></tr><tr><td class="px-6 py-4 whitespace-nowrap"><code class="text-red-500">/votes [player]</code><br><p class="text-neutral-300">displays your or someone&#39;s current votes</p><em>permission: customvoting.votes[.others]</em></td></tr><tr><td class="px-6 py-4 whitespace-nowrap"><code class="text-red-500">/votetop</code><br><p class="text-neutral-300">displays the top voters</p><em>permission: customvoting.votetop</em></td></tr><tr><td class="px-6 py-4 whitespace-nowrap"><code class="text-red-500">/voteparty start | create</code><br><p class="text-neutral-300">start the vote party or receive the vote party chest</p><em>permission: customvoting.voteparty</em></td></tr><tr><td class="px-6 py-4 whitespace-nowrap"><code class="text-red-500">/votesettings</code><br><p class="text-neutral-300">a GUI based vote editor</p><em>permission: customvoting.settings</em></td></tr><tr><td class="px-6 py-4 whitespace-nowrap"><code class="text-red-500">/votereload [cache]</code><br><p class="text-neutral-300">reload the configuration (and cache)</p><em>permission: customvoting.reload</em></td></tr><tr><td class="px-6 py-4 whitespace-nowrap"><code class="text-red-500">/createtop &lt;top&gt;</code><br><p class="text-neutral-300">create an NPC for this top voter!</p><em>permission: customvoting.createtop</em></td></tr><tr><td class="px-6 py-4 whitespace-nowrap"><code class="text-red-500">/deletetop &lt;top&gt;</code><br><p class="text-neutral-300">delete the NPC of this top voter</p><em>permission: customvoting.deletetop</em></td></tr><tr><td class="px-6 py-4 whitespace-nowrap"><code class="text-red-500">/givecratekey &lt;player&gt; &lt;crateID&gt;</code><br><p class="text-neutral-300">give a crate key to a player</p><em>permission: customvoting.givekey</em></td></tr></tbody></table>',1),Cie=[Iie];function Aie(t,e){return D(),H("div",Sie,Cie)}const Pie=sT(Eie,[["render",Aie]]),Oie=v("br",null,null,-1),kie=v("br",null,null,-1),Rie=v("ul",null,[v("li",null,"English/English"),v("li",null,"Deutsch/German"),v("li",null,"Nederlands/Dutch")],-1),xie=v("br",null,null,-1),Die=v("br",null,null,-1),Nie=v("ul",null,[v("li",null,"All Votes"),v("li",null,"Monthly Votes"),v("li",null,"Weekly Votes"),v("li",null,"Daily Votes")],-1),Mie={class:"flex justify-center m-5"},Lie=v("br",null,null,-1),Vie=v("br",null,null,-1),$ie=v("ul",null,[v("li",null,"Blacklist"),v("li",null,"Whitelist")],-1),Fie=v("br",null,null,-1),Uie=v("br",null,null,-1),qie=v("br",null,null,-1),Bie=v("br",null,null,-1),jie=v("br",null,null,-1),Hie=v("br",null,null,-1),Wie=v("br",null,null,-1),zie=v("b",null,"settings.yml",-1),Kie=v("br",null,null,-1),Gie=v("br",null,null,-1),Yie=v("br",null,null,-1),Qie=v("br",null,null,-1),Xie=v("br",null,null,-1),Jie=v("i",null,"sd_master92",-1),Zie=v("i",null,".sd_master92",-1),ese=xe({__name:"General",setup(t){return(e,n)=>(D(),ae(P(er),{onTabOpen:P(cr)},{default:X(()=>[q(P(Ve),{header:"Language"},{default:X(()=>[K(" Change the plugin language "),Oie,kie,K(" Options: "),Rie]),_:1}),q(P(Ve),{header:"Vote Top Sorting"},{default:X(()=>[K(" Change who is the top voter of the moment "),xie,Die,K(" Options: "),Nie,v("div",Mie,[q(va,{src:"/images/customvoting/vote_top.png"})])]),_:1}),q(P(Ve),{header:"Sound Effects"},{default:X(()=>[K(" Enable/disable sound effects (from CustomVoting) ")]),_:1}),q(P(Ve),{header:"Firework"},{default:X(()=>[K(" Enable/disable firework effects ")]),_:1}),q(P(Ve),{header:"World Exclusion"},{default:X(()=>[K(" Enable/disable players from receiving rewards in specific worlds ")]),_:1}),q(P(Ve),{header:"World Exclusion Setting (NEW!)",pt:{header:{class:"text-yellow-500"}}},{default:X(()=>[K(" Change what happens with the 'World Exclusion' list "),Lie,Vie,K(" Options: "),$ie]),_:1}),q(P(Ve),{header:"Danger Zone"},{default:X(()=>[K(" Settings you shouldn't touch without knowing what it does "),q(P(er),{class:"mt-3",onTabOpen:P(cr)},{default:X(()=>[q(P(Ve),{header:"UUID Storage"},{default:X(()=>[K(" Enable/disable UUID Storage "),Fie,K(" Turn on if: you are running a cracked (non-premium) Minecraft server "),Uie,qie,K(" This settings means that your players will be identified by their playername. It is adviced to password protect these kind of servers, to prevent duplicate playernames from joining your server. ")]),_:1}),q(P(Ve),{header:"Database"},{default:X(()=>[K(" Enable/disable the usage of a database instead of data files "),Bie,jie,K(" Useful if you want to share your CustomVoting data across multiple subservers. "),Hie,Wie,K(" Restart or reload the server after changing. Note that you need to setup your database connection in the "),zie,K(" file. ")]),_:1}),q(P(Ve),{header:"Merge duplicates"},{default:X(()=>[K(" Merge playerfiles that are duplicate "),Kie,Gie,K(" This command is dangerous, as it deleted playerfiles or database rows from players who have the same username. ")]),_:1}),q(P(Ve),{header:"Prefix Support"},{default:X(()=>[K(" Enable prefix support for player usernames "),Yie,Qie,K(" This setting is required when you're hosting a server with software that adds a prefix in front of your player's usernames. "),Xie,K(" For example Gesyer adds a dot in front of a username: "),Jie,K(" will become "),Zie]),_:1})]),_:1},8,["onTabOpen"])]),_:1}),q(P(Ve),{header:"Process Vote Delay"},{default:X(()=>[K(" Delay the rewards from being given after a player has voted ")]),_:1})]),_:1},8,["onTabOpen"]))}}),tse={class:"flex justify-center m-5"},nse=v("br",null,null,-1),rse=v("br",null,null,-1),ise=v("ul",null,[v("li",null,"All Items"),v("li",null,"Random Item")],-1),sse=v("br",null,null,-1),ose=v("br",null,null,-1),ase=v("b",null,"Vault",-1),lse=v("b",null,"EssentialsX",-1),use=v("br",null,null,-1),cse=v("br",null,null,-1),dse=v("br",null,null,-1),hse=v("br",null,null,-1),fse=v("b",null,"/votesettings",-1),pse=v("i",null,"forbidden_commands",-1),mse=v("b",null,"settings.yml",-1),gse={class:"flex justify-center m-5"},vse=v("br",null,null,-1),yse=v("br",null,null,-1),bse=v("ul",null,[v("li",null,"All Items"),v("li",null,"Random Item")],-1),_se=v("br",null,null,-1),wse=v("br",null,null,-1),Tse=v("b",null,"Vault",-1),Ese=v("b",null,"EssentialsX",-1),Sse=v("br",null,null,-1),Ise=v("br",null,null,-1),Cse=v("br",null,null,-1),Ase=v("br",null,null,-1),Pse=v("b",null,"/votesettings",-1),Ose=v("i",null,"forbidden_commands",-1),kse=v("b",null,"settings.yml",-1),Rse=v("b",null,"Power Rewards",-1),xse=v("br",null,null,-1),Dse=v("br",null,null,-1),Nse=v("b",null,"Vault",-1),Mse=v("b",null,"LuckPerms",-1),Lse=v("b",null,"Power Rewards",-1),Vse=v("br",null,null,-1),$se=v("br",null,null,-1),Fse=v("b",null,"Enabled Groups",-1),Use=v("br",null,null,-1),qse=v("br",null,null,-1),Bse=v("b",null,"/votesettings",-1),jse=v("i",null,"forbidden_commands",-1),Hse=v("b",null,"settings.yml",-1),Wse=v("br",null,null,-1),zse=v("br",null,null,-1),Kse=v("b",null,"/votesettings",-1),Gse=v("i",null,"forbidden_commands",-1),Yse=v("b",null,"settings.yml",-1),Qse=v("br",null,null,-1),Xse=v("br",null,null,-1),Jse=v("b",null,"Vault",-1),Zse=v("b",null,"LuckPerms",-1),eoe=v("br",null,null,-1),toe=v("br",null,null,-1),noe=v("b",null,"/votesettings",-1),roe=v("i",null,"forbidden_commands",-1),ioe=v("b",null,"settings.yml",-1),soe=v("br",null,null,-1),ooe=v("br",null,null,-1),aoe=v("b",null,"Vault",-1),loe=v("b",null,"LuckPerms",-1),uoe=v("b",null,"Vote Party",-1),coe=v("br",null,null,-1),doe=v("br",null,null,-1),hoe=v("ul",null,[v("li",null,[K(" Random Chest at a Time"),v("br"),v("i",null,[K("The items drop out of your "),v("b",null,"Vote Party"),K(" chests one by one, in random order")])]),v("br"),v("li",null,[K(" All Chests at Once"),v("br"),v("i",null,[K("The items drop out of your "),v("b",null,"Vote Party"),K(" chests one by one, concurrently")])]),v("br"),v("li",null,[K(" One Chest at a Time"),v("br"),v("i",null,[K("The items drop out of your "),v("b",null,"Vote Party"),K(" chests one by one, in sequence")])]),v("br"),v("li",null,[K(" Add To Inventory"),v("br"),v("i",null,[K("The items from your "),v("b",null,"Vote Party"),K(" chests are given in your players' inventories one by one, in a random order ")])]),v("br"),v("li",null,[K(" Explode Chests"),v("br"),v("i",null,[K("The items drop out of your "),v("b",null,"Vote Party"),K(" one chest at a time, in random order")])]),v("br"),v("li",null,[K(" Scary"),v("br"),v("i",null,[K("Similar to the "),v("b",null,"Explode Chests"),K(" variant, but a little scarrier")])]),v("br"),v("li",null,[K(" Pig Hunt"),v("br"),v("i",null,"This time, your chests run away! Kill the pigs to receive the rewards.")]),v("br"),v("li",null,[K(" Locked Crates"),v("br"),v("i",null,"The chests can be claimed by a single player. Fun as a hide-and-seek variant!")]),v("br"),v("li",null,"Randomly (one of the above)")],-1),foe=v("b",null,"Vote Party",-1),poe=v("br",null,null,-1),moe=v("br",null,null,-1),goe=v("b",null,"/votesettings",-1),voe=v("i",null,"forbidden_commands",-1),yoe=v("b",null,"settings.yml",-1),boe=v("b",null,"Vote Party",-1),_oe=v("br",null,null,-1),woe=v("br",null,null,-1),Toe=v("b",null,"Vote Party",-1),Eoe=v("i",null,"Pig Hunt",-1),Soe=v("b",null,"Vote Party",-1),Ioe=v("i",null,"Pig Hunt",-1),Coe=v("b",null,"Crate",-1),Aoe=v("b",null,"Crate",-1),Poe=v("br",null,null,-1),Ooe=v("br",null,null,-1),koe=v("br",null,null,-1),Roe=v("br",null,null,-1),xoe=v("br",null,null,-1),Doe=v("br",null,null,-1),Noe=v("ul",null,[v("li",null,"50%"),v("li",null,"25%"),v("li",null,"10%"),v("li",null,"5%"),v("li",null,"1%"),v("li",null,"No prize (9%)")],-1),Moe=v("b",null,"Crate",-1),Loe=xe({__name:"Rewards",setup(t){return(e,n)=>(D(),ae(P(er),{onTabOpen:P(cr)},{default:X(()=>[q(P(Ve),{header:"Vote Rewards"},{default:X(()=>[K(" Default rewards for your players "),q(P(er),{class:"mt-3",onTabOpen:P(cr)},{default:X(()=>[q(P(Ve),{header:"Item Rewards"},{default:X(()=>[K(" Place items in this inventory to set as item rewards "),v("div",tse,[q(va,{src:"/images/customvoting/item_rewards.png"})])]),_:1}),q(P(Ve),{header:"Item Reward Type"},{default:X(()=>[K(" Define how many items a player receives "),nse,rse,K(" Options: "),ise]),_:1}),q(P(Ve),{header:"Money Reward"},{default:X(()=>[K(" Define how much ingame currency a player receives "),sse,ose,K(" This requires "),ase,K(" and a Vault-supported currency plugin to be setup. E.g. "),lse,K(". ")]),_:1}),q(P(Ve),{header:"XP Reward"},{default:X(()=>[K(" Define how much Minecraft experience a player receives ")]),_:1}),q(P(Ve),{header:"Double Rewards (NEW!)",pt:{header:{class:"text-yellow-500"}}},{default:X(()=>[K(" Setup days with double rewards "),use,cse]),_:1}),q(P(Ve),{header:"Command Rewards"},{default:X(()=>[K(" You can choose what commands need to be run when a player has voted "),dse,hse,K(" Keep in mind that this feature can be abused by moderators who have access to the "),fse,K(" command. For this reason it is possible to setup "),pse,K(" in the "),mse,K(". ")]),_:1})]),_:1},8,["onTabOpen"])]),_:1}),q(P(Ve),{header:"Power Rewards"},{default:X(()=>[K(" Alternative vote rewards for VIP's "),q(P(er),{class:"mt-3",onTabOpen:P(cr)},{default:X(()=>[q(P(Ve),{header:"Item Rewards"},{default:X(()=>[K(" Place items in this inventory to set as item rewards "),v("div",gse,[q(va,{src:"/images/customvoting/item_rewards.png"})])]),_:1}),q(P(Ve),{header:"Item Reward Type"},{default:X(()=>[K(" Define how many items a player receives "),vse,yse,K(" Options: "),bse]),_:1}),q(P(Ve),{header:"Money Reward"},{default:X(()=>[K(" Define how much ingame currency a player receives "),_se,wse,K(" This requires "),Tse,K(" and a Vault-supported currency plugin to be setup. E.g. "),Ese,K(". ")]),_:1}),q(P(Ve),{header:"XP Reward"},{default:X(()=>[K(" Define how much Minecraft experience a player receives ")]),_:1}),q(P(Ve),{header:"Double Rewards (NEW!)",pt:{header:{class:"text-yellow-500"}}},{default:X(()=>[K(" Setup days with double rewards "),Sse,Ise]),_:1}),q(P(Ve),{header:"Command Rewards"},{default:X(()=>[K(" You can choose what commands need to be run when a player has voted "),Cse,Ase,K(" Keep in mind that this feature can be abused by moderators who have access to the "),Pse,K(" command. For this reason it is possible to setup "),Ose,K(" in the "),kse,K(". ")]),_:1}),q(P(Ve),{header:"Enabled Groups"},{default:X(()=>[K(" What permission-groups have access to the "),Rse,K("? "),xse,Dse,K(" This only works in combination with "),Nse,K(" and a Vault-supported permissions plugin. E.g. "),Mse,K(". ")]),_:1}),q(P(Ve),{header:"Enabled Users"},{default:X(()=>[K(" Who has access to the "),Lse,K("? "),Vse,$se,K(" This setting overrides the "),Fse,K(" setting. ")]),_:1})]),_:1},8,["onTabOpen"])]),_:1}),q(P(Ve),{header:"Lucky Rewards"},{default:X(()=>[K(" Rewards for lucky players "),q(P(er),{class:"mt-3",onTabOpen:P(cr)},{default:X(()=>[q(P(Ve),{header:"Lucky Vote"},{default:X(()=>[K(" Enable/disable lucky voting ")]),_:1}),q(P(Ve),{header:"Item Rewards"},{default:X(()=>[K(" Place items in this inventory to set as item rewards ")]),_:1}),q(P(Ve),{header:"Chance"},{default:X(()=>[K(" Set the chance percentage (%) for receiving a lucky reward ")]),_:1}),q(P(Ve),{header:"Command Rewards (NEW!)",pt:{header:{class:"text-yellow-500"}}},{default:X(()=>[K(" You can choose what commands need to be run when a player has voted "),Use,qse,K(" Keep in mind that this feature can be abused by moderators who have access to the "),Bse,K(" command. For this reason it is possible to setup "),jse,K(" in the "),Hse,K(". ")]),_:1})]),_:1},8,["onTabOpen"])]),_:1}),q(P(Ve),{header:"Milestones"},{default:X(()=>[K(" Rewards given when a player reaches a certain amount of votes "),q(P(er),{class:"mt-3",onTabOpen:P(cr)},{default:X(()=>[q(P(Ve),{header:"Item Rewards"},{default:X(()=>[K(" Place items in this inventory to set as item rewards ")]),_:1}),q(P(Ve),{header:"Command Rewards"},{default:X(()=>[K(" You can choose what commands need to be run when a player has voted "),Wse,zse,K(" Keep in mind that this feature can be abused by moderators who have access to the "),Kse,K(" command. For this reason it is possible to setup "),Gse,K(" in the "),Yse,K(". ")]),_:1}),q(P(Ve),{header:"Permission Rewards"},{default:X(()=>[K(" Define what permissions are given to a player after voting"),Qse,Xse,K(" This only works in combination with "),Jse,K(" and a Vault-supported permissions plugin. E.g. "),Zse,K(". ")]),_:1})]),_:1},8,["onTabOpen"])]),_:1}),q(P(Ve),{header:"Streaks"},{default:X(()=>[K(" Rewards given when a player votes x days in a row "),q(P(er),{class:"mt-3",onTabOpen:P(cr)},{default:X(()=>[q(P(Ve),{header:"Require Consecutive Streak"},{default:X(()=>[K(" Does the player need to vote every day, or can the player continue his streak on a later moment as well? ")]),_:1}),q(P(Ve),{header:"Item Rewards"},{default:X(()=>[K(" Place items in this inventory to set as item rewards ")]),_:1}),q(P(Ve),{header:"Command Rewards"},{default:X(()=>[K(" You can choose what commands need to be run when a player has voted "),eoe,toe,K(" Keep in mind that this feature can be abused by moderators who have access to the "),noe,K(" command. For this reason it is possible to setup "),roe,K(" in the "),ioe,K(". ")]),_:1}),q(P(Ve),{header:"Permission Rewards"},{default:X(()=>[K(" Define what permissions are given to a player after voting"),soe,ooe,K(" This only works in combination with "),aoe,K(" and a Vault-supported permissions plugin. E.g. "),loe,K(". ")]),_:1})]),_:1},8,["onTabOpen"])]),_:1}),q(P(Ve),{header:"Vote Party"},{default:X(()=>[K(" Chests with possibilities "),q(P(er),{class:"mt-3",onTabOpen:P(cr)},{default:X(()=>[q(P(Ve),{header:"Vote Party"},{default:X(()=>[K(" Enable/disable the "),uoe]),_:1}),q(P(Ve),{header:"Party Type"},{default:X(()=>[K(" What type of party do you want to organize? "),coe,doe,K(" Options: "),hoe]),_:1}),q(P(Ve),{header:"Vote Party Commands"},{default:X(()=>[K(" You can choose what commands need to be run when the "),foe,K(" has started "),poe,moe,K(" Keep in mind that this feature can be abused by moderators who have access to the "),goe,K(" command. For this reason it is possible to setup "),voe,K(" in the "),yoe,K(". ")]),_:1}),q(P(Ve),{header:"Votes Required"},{default:X(()=>[K(" The amount of votes on your server that are required to start the "),boe,_oe,woe,K(" The count resets once the party has started. ")]),_:1}),q(P(Ve),{header:"Chests"},{default:X(()=>[K(" Place items in this inventory to set as item rewards ")]),_:1}),q(P(Ve),{header:"Pig Hunt Health"},{default:X(()=>[K(" The amount of lives a pig has in the "),Toe,K(" type "),Eoe]),_:1}),q(P(Ve),{header:"Pig Hunt Max-Damage"},{default:X(()=>[K(" The amount of lives a pig can take from a player in the "),Soe,K(" type "),Ioe]),_:1})]),_:1},8,["onTabOpen"])]),_:1}),q(P(Ve),{header:"Crates"},{default:X(()=>[K(" Special chest that give the player one item after opening it "),q(P(er),{class:"mt-3",onTabOpen:P(cr)},{default:X(()=>[q(P(Ve),{header:"Change Name"},{default:X(()=>[K(" Change the name of this "),Coe]),_:1}),q(P(Ve),{header:"Get Key/Crate"},{default:X(()=>[K(" You will be given a "),Aoe,K(" key "),Poe,Ooe,K(" This key can be used to set the crate location, or to open a crate. ")]),_:1}),q(P(Ve),{header:"Item Rewards"},{default:X(()=>[K(" Place items in this inventory to set as item rewards "),koe,Roe,K(" Note the chance percentage of each inventory. "),xoe,Doe,K(" Options: "),Noe]),_:1}),q(P(Ve),{header:"Always Reward"},{default:X(()=>[K(" Is it possible that a player receives no reward? ")]),_:1}),q(P(Ve),{header:"Allow Crate Close"},{default:X(()=>[K(" Can the "),Moe,K(" animation be skipped? ")]),_:1})]),_:1},8,["onTabOpen"])]),_:1})]),_:1},8,["onTabOpen"]))}}),Voe=v("br",null,null,-1),$oe=v("br",null,null,-1),Foe=v("b",null,"Vote Top",-1),Uoe=v("br",null,null,-1),qoe=v("br",null,null,-1),Boe=v("i",null,"disabled_worlds",-1),joe=v("b",null,"settings.yml",-1),Hoe=v("br",null,null,-1),Woe=v("br",null,null,-1),zoe=v("b",null,"Vote Site",-1),Koe=v("br",null,null,-1),Goe=v("br",null,null,-1),Yoe=v("ul",null,[v("li",null,[K(" Right Click"),v("br"),v("i",null,[K("Edit a "),v("b",null,"Vote Site"),K(" - the editor will open")])]),v("li",null,[K(" Left Click (with an item)"),v("br"),v("i",null,[K("Change a "),v("b",null,"Vote Site"),K("'s type")])]),v("li",null,[K(" Drag"),v("br"),v("i",null,[K("Move a "),v("b",null,"Vote Site"),K(" to another position")])]),v("li",null,[K(" Cursor Click"),v("br"),v("i",null,[K("Disable a "),v("b",null,"Vote Site")])])],-1),Qoe=v("br",null,null,-1),Xoe=v("br",null,null,-1),Joe=v("b",null,"/vote",-1),Zoe={class:"flex justify-center m-5"},eae={class:"flex justify-center m-5"},tae=v("br",null,null,-1),nae=v("br",null,null,-1),rae=v("i",null,"vote_command_override",-1),iae=v("b",null,"messages.yml",-1),sae=v("b",null,"Vote Site Inventory",-1),oae=v("br",null,null,-1),aae=v("br",null,null,-1),lae=v("b",null,"/votes",-1),uae={class:"flex justify-center m-5"},cae=xe({__name:"Messages",setup(t){return(e,n)=>(D(),ae(P(er),{onTabOpen:P(cr)},{default:X(()=>[q(P(Ve),{header:"Vote Broadcast"},{default:X(()=>[K(" Toggle the 'player has voted' message ")]),_:1}),q(P(Ve),{header:"Milestone Broadcast"},{default:X(()=>[K(" Toggle the 'player has reached milestone x' message ")]),_:1}),q(P(Ve),{header:"Streak Broadcast"},{default:X(()=>[K(" Toggle the 'player hit votestreak x' message ")]),_:1}),q(P(Ve),{header:"Vote Party Votes Broadcast"},{default:X(()=>[K(" Toggle the 'x votes left until the Vote Party' message ")]),_:1}),q(P(Ve),{header:"Vote Party Count Broadcast"},{default:X(()=>[K(" Toggle the 'Vote Party starting in x seconds' message ")]),_:1}),q(P(Ve),{header:"Vote Party Count Ending Broadcast"},{default:X(()=>[K(" Toggle the 'Vote Party starting in x' message ")]),_:1}),q(P(Ve),{header:"Break Armorstand Message"},{default:X(()=>[K(" Toggle the 'don't break me' message"),Voe,$oe,K(" This message is triggered if a player tries to break a "),Foe,K(". ")]),_:1}),q(P(Ve),{header:"Disabled World Message"},{default:X(()=>[K(" Toggle the 'you can't vote in this world' message"),Uoe,qoe,K(" This message is triggered if a player tries to vote in a world that is disabled in "),Boe,K(" in the "),joe,K(". ")]),_:1}),q(P(Ve),{header:"Hourly Vote Reminder"},{default:X(()=>[K(" Toggle the 'you haven't voted yet' message ")]),_:1}),q(P(Ve),{header:"Vote Sites"},{default:X(()=>[K(" Here you can configure your server's vote sites "),Hoe,Woe,K(" Note: a "),zoe,K(" become available after voting a first time. "),Koe,Goe,K(" Actions: "),Yoe]),_:1}),q(P(Ve),{header:"Vote Site Inventory"},{default:X(()=>[K(" Whether a player sees your vote sites in an inventory/GUI, or as a text message "),Qoe,Xoe,K(" This action is triggered with "),Joe,K(". "),v("div",Zoe,[q(va,{src:"/images/customvoting/vote_command_gui.png"})]),v("div",eae,[q(va,{src:"/images/customvoting/vote_command_chat.png"})])]),_:1}),q(P(Ve),{header:"Vote Command Override"},{default:X(()=>[K(" Show auto-generated vote sites to the player or use your own message? "),tae,nae,K(" Your own message can be setup at "),rae,K(" in the "),iae,K(". This option is only available if "),sae,K(" is disabled. ")]),_:1}),q(P(Ve),{header:"Vote Dashboard"},{default:X(()=>[K(" Whether a player sees their vote stats in an inventory/GUI, or as a text message "),oae,aae,K(" This action is triggered with "),lae,K(". "),v("div",uae,[q(va,{src:"/images/customvoting/vote_dashboard.png"})])]),_:1})]),_:1},8,["onTabOpen"]))}}),dae=v("br",null,null,-1),hae=v("br",null,null,-1),fae=v("a",{href:"https://discord.gg/v3qmJu7jWD",target:"_blank"}," Discord server ",-1),pae=v("br",null,null,-1),mae=v("br",null,null,-1),gae=v("br",null,null,-1),vae=v("br",null,null,-1),yae=v("ul",null,[v("li",null,"sd_master92"),v("li",null,"Dutchbeard"),v("li",null,"Smirren"),v("li",null,"King_Tom_94")],-1),bae=v("b",null,"CustomVoting",-1),_ae=v("br",null,null,-1),wae=v("br",null,null,-1),Tae=v("span",{class:"text-green-500"},"Green",-1),Eae=v("span",{class:"text-red-500"},"red",-1),Sae=v("b",null,"CustomVoting",-1),Iae=v("b",null,"CustomVoting",-1),Cae=xe({__name:"Support",setup(t){return(e,n)=>(D(),ae(P(er),{onTabOpen:P(cr)},{default:X(()=>[q(P(Ve),{header:"Up to date?"},{default:X(()=>[K(" Whether or not this plugin is up to date "),dae,hae,K(" The current version is also shown. ")]),_:1}),q(P(Ve),{header:"Ingame Updates"},{default:X(()=>[K(" Will operators receive a message about an available update from time to time? ")]),_:1}),q(P(Ve),{header:"Discord"},{default:X(()=>[K(" A link to the "),fae,pae,mae,K(" Here you are welcome to ask for support ")]),_:1}),q(P(Ve),{header:"Supporters"},{default:X(()=>[K(" Who made this plugin possible, and who bought me a coffee? "),gae,vae,yae]),_:1}),q(P(Ve),{header:"Player Info"},{default:X(()=>[K(" View all voting statistics about your players ")]),_:1}),q(P(Ve),{header:"Statistics"},{default:X(()=>[q(P(er),{onTabOpen:P(cr)},{default:X(()=>[q(P(Ve),{header:"Top vote sites"},{default:X(()=>[K(" A list of the most popular voting sites of "),bae,K(" users at this moment "),_ae,wae,Tae,K(" sites have been setup on your own server, "),Eae,K(" sites have not yet been setup. ")]),_:1}),q(P(Ve),{header:"Minecraft Version"},{default:X(()=>[K(" A list of the most popular Minecraft versions of "),Sae,K(" users at this moment ")]),_:1}),q(P(Ve),{header:"Country"},{default:X(()=>[K(" A list of the most popular countries of "),Iae,K(" users at this moment ")]),_:1})]),_:1},8,["onTabOpen"])]),_:1})]),_:1},8,["onTabOpen"]))}}),Aae=xe({__name:"VoteSettings",setup(t){return(e,n)=>(D(),ae(P(er),{onTabOpen:P(cr)},{default:X(()=>[q(P(Ve),{header:"General"},{default:X(()=>[q(ese)]),_:1}),q(P(Ve),{header:"Rewards"},{default:X(()=>[q(Loe)]),_:1}),q(P(Ve),{header:"Messages"},{default:X(()=>[q(cae)]),_:1}),q(P(Ve),{header:"Support"},{default:X(()=>[q(Cae)]),_:1})]),_:1},8,["onTabOpen"]))}}),gn=t=>($_("data-v-fb538480"),t=t(),F_(),t),Pae={class:"flex flex-wrap"},Oae={class:"w-full md:w-fit"},kae=gn(()=>v("img",{class:"w-32 h-32 md:w-48 md:h-48 rounded-full animation-scale my-4 cursor-pointer",src:Tie,alt:"customvoting"},null,-1)),Rae=gn(()=>v("div",{class:"w-full md:w-fit md:ms-10 flex justify-start"},[v("div",{class:"place-self-center"},[v("h1",{class:"text-title-primary"},"CustomVoting"),v("h2",{class:"text-title-tertiary"},"Everything you need to setup voting for your server.")])],-1)),xae={class:"flex justify-center"},Dae=gn(()=>v("p",{class:"mt-3 description-with-bolds text-neutral-200"},[K(" The main focus of this plugin is being "),v("b",null,"easy to setup"),K(" and "),v("b",null,"not"),K(" being "),v("b",null,"overcomplicated"),K(" to use, but still being "),v("b",null,"highly customizable"),K("! ")],-1)),Nae={class:"flex justify-center"},Mae={class:"ms-10 mt-10 w-full xl:w-2/3"},Lae=gn(()=>v("h3",{class:"text-title-secondary mb-2"},"Contents",-1)),Vae=gn(()=>v("b",null,"/votesettings",-1)),$ae=[Vae],Fae={class:"flex justify-center"},Uae={class:"flex"},qae={class:"w-full md:w-1/2"},Bae={class:"mt-3 flex flex-wrap gap-1 md:gap-2 font-bold"},jae={class:"mt-3 flex flex-wrap gap-1 md:gap-2 font-bold"},Hae={class:"flex justify-center"},Wae={class:"w-full md:w-1/2 mt-10 flex justify-center flex-wrap gap-1 md:gap-2 font-bold"},zae={class:"flex justify-end"},Kae={class:"w-full md:w-1/2 mt-10 flex justify-end flex-wrap gap-1 md:gap-2 font-bold"},Gae={class:"flex justify-center"},Yae={class:"mt-3"},Qae={class:"flex justify-center m-5"},Xae={class:"flex justify-center"},Jae=gn(()=>v("div",{class:"mt-3"},[K(" Requirements "),v("br"),v("br"),v("ul",null,[v("li",null,[v("span",{class:"text-green-500"},[v("b",null,"Minecraft")]),K(" 1.14 or higher ")]),v("li",null,[v("span",{class:"text-cyan-400"},[v("b",null,"NuVotifier")]),K(" or "),v("span",{class:"text-cyan-400"},[v("b",null,"Votifier")])])])],-1)),Zae={class:"mt-10"},ele=gn(()=>v("br",null,null,-1)),tle=gn(()=>v("br",null,null,-1)),nle=gn(()=>v("li",null,[v("b",{class:"text-orange-400"},"PlaceholderAPI")],-1)),rle=gn(()=>v("div",{class:""},[v("p",null,[K("%CV_SERVER_VOTES% "),v("span",{class:"text-neutral-400"},"// total server votes")]),v("p",null,[K("%CV_PLAYER_VOTES% "),v("span",{class:"text-neutral-400"},"// your votes")]),v("p",null,[K("%CV_PLAYER_VOTES_MONTHLY% "),v("span",{class:"text-neutral-400"},"// your monthly votes")]),v("p",null,[K("%CV_PLAYER_VOTES_WEEKLY% "),v("span",{class:"text-neutral-400"},"// your weekly votes")]),v("p",null,[K("%CV_PLAYER_VOTES_DAILY% "),v("span",{class:"text-neutral-400"},"// your daily votes")]),v("p",null,[K("%CV_PLAYER_STREAK_DAILY% "),v("span",{class:"text-neutral-400"},"// your streak days")]),v("br"),v("p",null,[K("%CV_PLAYER_VOTES_1% "),v("span",{class:"text-neutral-400"},"// top voter 1's votes")]),v("p",null,[K("%CV_PLAYER_VOTES_1_NAME% "),v("span",{class:"text-neutral-400"},"// top voter 1's name")]),v("p",null,[K(" %CV_PLAYER_VOTES_1_MONTHLY% "),v("span",{class:"text-neutral-400"},"// top voter 1's monthly votes")]),v("p",null,[K(" %CV_PLAYER_VOTES_1_WEEKLY% "),v("span",{class:"text-neutral-400"},"// top voter 1's weekly votes")]),v("p",null,[K("%CV_PLAYER_VOTES_1_DAILY% "),v("span",{class:"text-neutral-400"},"// top voter 1's daily votes")]),v("p",{class:"text-neutral-300"},"You can use as many numbers as you like"),v("p",{class:"text-neutral-300"}," The top voters are sorted by month or all-time according to your 'Monthly Period' setting. (Default is all-time) "),v("br"),v("p",null,[K(" %CV_VOTE_PARTY_TOTAL% "),v("span",{class:"text-neutral-400"},"// total of votes required for a voteparty.")]),v("p",null,[K("%CV_VOTE_PARTY_CURRENT% "),v("span",{class:"text-neutral-400"},"// votes current period.")]),v("p",null,[K(" %CV_VOTE_PARTY_UNTIL% "),v("span",{class:"text-neutral-400"},"// votes left until the voteparty.")])],-1)),ile=gn(()=>v("li",null,[v("b",{class:"text-orange-400"},"Vault")],-1)),sle=gn(()=>v("i",null,"Connect with a Vault-supported currency or permissions plugin",-1)),ole=gn(()=>v("br",null,null,-1)),ale=gn(()=>v("br",null,null,-1)),lle=gn(()=>v("li",null,[v("b",{class:"text-orange-400"},"Citizens")],-1)),ule=gn(()=>v("i",null,"Showcase your top voters with reallife NPC's!",-1)),cle=gn(()=>v("br",null,null,-1)),dle=gn(()=>v("br",null,null,-1)),hle=gn(()=>v("li",null,[v("b",{class:"text-orange-400"},"Multiverse-Core")],-1)),fle=gn(()=>v("i",null,"Disable players from voting in certain custom worlds.",-1)),ple={class:"flex justify-center"},mle=gn(()=>v("p",{class:"mt-3"},[K(" Reference: "),v("a",{href:"https://github.com/sanderderks/CustomVoting/blob/master/src/main/resources/plugin.yml",target:"_blank"}," plugin.yml ")],-1)),gle={class:"flex justify-center"},vle=gn(()=>v("div",{class:"flex md:justify-center md:text-center mb-15"},[v("div",null,[v("h4",{class:"w-full text-title-tertiary text-primary-500"},"Basic Setup"),v("ol",{class:"w-full mt-3"},[v("li",{class:"mb-3"},[K(" Download and install "),v("a",{href:"https://www.spigotmc.org/resources/nuvotifier.13449/",target:"_blank"},[v("b",null,"(Nu)Votifier")])]),v("li",{class:"mb-3"},[v("a",{href:"https://minestatus.net/tools/votifier",target:"_blank"},[v("b",null,"Test")]),K(" NuVotifier ")]),v("li",{class:"mb-3"},[K(" Download and install "),v("a",{href:"https://www.spigotmc.org/resources/customvoting-1-14-1-20.28103/",target:"_blank"},[v("b",null,"CustomVoting")])]),v("li",null,"Vote from your favorite website"),v("i",null,[K("You should now see a "),v("b",null,"Vote Site"),K(" when you open "),v("b",null,"/votes")])])])],-1)),yle=gn(()=>v("div",{class:"mt-3 mb-20 flex flex-wrap justify-between"},[v("div",{class:"w-full md:w-1/2 md:text-center"},[v("h4",{class:"text-title-tertiary text-primary-500"},"Single Server"),v("ol",{class:"mt-3",start:"5"},[v("li",{class:"mb-3"},[K("Customize in "),v("b",null,"/votesettings"),K(", enjoy!")])])]),v("div",{class:"w-full md:w-1/2 md:text-center"},[v("h4",{class:"text-title-tertiary text-primary-500"},"Server Network"),v("ol",{class:"mt-3",start:"5"},[v("li",{class:"mb-3"},[K("Configure "),v("b",null,"NuVotifier"),K(" to be a vote forwarder to your subservers")]),v("li",{class:"mb-3"},[K("Connect to your database at "),v("i",null,"database"),K(" in "),v("b",null,"settings.yml")]),v("li",{class:"mb-3"},[K("Customize in "),v("b",null,"/votesettings"),K(", enjoy!")])])])],-1)),ble=gn(()=>v("p",{class:"mt-3"},[K(" Settings: "),v("a",{href:"https://github.com/sanderderks/CustomVoting/blob/master/src/main/resources/settings.yml",target:"_blank"}," settings.yml ")],-1)),_le=gn(()=>v("p",{class:"mt-3"},[K(" Messages and placeholders: "),v("a",{href:"https://github.com/sanderderks/CustomVoting/blob/master/src/main/resources/messages.yml",target:"_blank"}," messages.yml "),v("br"),v("i",{class:"text-neutral-300"},[K(" Supports the usage of Minecraft-& and "),v("a",{href:"https://www.spigotmc.org/resources/customvoting-1-14-1-20.28103/update?update=545483",target:"_blank"}," HEX "),K(" color codes. "),v("br"),K(" For example: "),v("span",{class:"text-green-500"},"&2Test"),K(" or "),v("span",{class:"text-orange-500"},"&#bf921fTest")])],-1)),wle={class:"flex justify-center"},Tle=gn(()=>v("div",{class:"mt-10 flex flex-col gap-5"},[v("div",null,[K(" Download "),v("b",null,"CustomVoting"),K(" on "),v("a",{class:"text-yellow-400",href:"https://www.spigotmc.org/resources/customvoting-1-14-1-20.28103/",target:"_blank"},[v("b",null," SpigotMC ")]),v("br"),v("i",{class:"text-neutral-500"}," Are you enjoying my plugin? Please leave a review! ")]),v("div",null,[K(" Find support on our "),v("a",{class:"text-blue-400",href:"https://discord.gg/v3qmJu7jWD",target:"_blank"},[v("b",null," Discord ")]),K(" server "),v("br"),v("i",{class:"text-neutral-500"}," Note that responses may take up to 7 days. This chat is most active in the weekends. ")]),v("div",null,[K(" CustomVoting uses server data collection! "),v("br"),K(" Find us on "),v("a",{class:"text-cyan-500",href:"https://bstats.org/plugin/bukkit/CustomVoting/13544",target:"_blank"},[v("b",null," BStats ")]),v("br"),v("i",{class:"text-neutral-500"},"This is completely optional and configured in your plugins/PluginMetrics folder.")]),v("div",null,[v("b",null,"CustomVoting"),K(" is open source. "),v("br"),K(" Find out more on "),v("a",{class:"text-fuchsia-500",href:"https://github.com/sanderderks/CustomVoting",target:"_blank"},[v("b",null," GitHub ")]),v("br"),v("i",{class:"text-neutral-500"},"Open source means you can view and edit the source code.")])],-1)),Ele={class:"flex justify-center"},Sle=gn(()=>v("p",{class:"text-neutral-300"},[K(" Are you unable to live your life without this plugin? "),v("br"),K(" Consider a donation to show your appreciation and motivate further development: "),v("a",{href:"https://www.paypal.com/donate/?hosted_button_id=75EUKGW7K54JY"},[v("b",null,"PayPal")])],-1)),Ile=xe({__name:"CustomVoting",setup(t){const e=n=>{const r=document.getElementById(n);r==null||r.scrollIntoView({behavior:"smooth",block:"center"})};return(n,r)=>{const i=On("RouterLink");return D(),ae(Js,{"scroll-to-content":!1},{header:X(()=>[v("div",Pae,[v("div",Oae,[q(i,{to:{name:P(_n).HOME}},{default:X(()=>[kae]),_:1},8,["to"])]),Rae])]),content:X(()=>[v("div",xae,[q(Pn,{class:"!bg-yellow-700 !bg-opacity-50 my-5 w-full xl:w-2/3",title:"About",description:"CustomVoting is a Minecraft plugin to reward your players for voting for your server.","description-props":{class:"!text-neutral-200"}},{default:X(()=>[Dae]),_:1})]),v("div",Nae,[v("div",Mae,[Lae,v("ul",null,[v("li",null,[v("a",{class:"hover:cursor-pointer",onClick:r[0]||(r[0]=s=>e("features"))}," Features ")]),v("li",null,[v("a",{class:"hover:cursor-pointer",onClick:r[1]||(r[1]=s=>e("votesettings"))},$ae)]),v("li",null,[v("a",{class:"hover:cursor-pointer",onClick:r[2]||(r[2]=s=>e("requirements"))}," Requirements & Hooks ")]),v("li",null,[v("a",{class:"hover:cursor-pointer",onClick:r[3]||(r[3]=s=>e("commands"))}," Commands & Permissions")]),v("li",null,[v("a",{class:"hover:cursor-pointer",onClick:r[4]||(r[4]=s=>e("setup"))}," Setup & Configuration")]),v("li",null,[v("a",{class:"hover:cursor-pointer",onClick:r[5]||(r[5]=s=>e("support"))}," Support & Information")]),v("li",null,[v("a",{class:"hover:cursor-pointer",onClick:r[6]||(r[6]=s=>e("love"))}," Footnotes")])])])]),v("div",Fae,[q(Pn,{id:"features",class:"my-5 mt-20 w-full xl:w-2/3",title:"Features"},{default:X(()=>[v("div",Uae,[v("div",qae,[v("div",Bae,[q(at,{label:"Items"}),q(at,{class:"bg-sky-500",label:"Money"}),q(at,{class:"bg-blue-300 text-neutral-700 hover:text-white",label:"Experience"}),q(at,{class:"bg-cyan-600",label:"Commands"}),q(at,{class:"bg-blue-600",label:"Permissions"})]),v("div",jae,[q(at,{class:"bg-purple-600",label:"VIP Rewards"}),q(at,{class:"bg-purple-400 text-neutral-700 hover:text-white",label:"Lucky Rewards"}),q(at,{class:"bg-purple-800",label:"Milestones"}),q(at,{class:"bg-fuchsia-400 text-neutral-700 hover:text-white",label:"Streaks"}),q(at,{class:"bg-purple-900",label:"Crates"})])])]),v("div",Hae,[v("div",Wae,[q(at,{class:"bg-green-400 text-neutral-700 hover:text-white",label:"Vote Party"}),q(at,{class:"bg-yellow-300 text-neutral-700 hover:text-white",label:"Pig Hunt"}),q(at,{class:"bg-amber-500 text-neutral-700 hover:text-white",label:"Fireworks"}),q(at,{class:"bg-orange-400 text-neutral-700 hover:text-white",label:"Vote Top Skulls"}),q(at,{class:"bg-lime-500 text-neutral-700 hover:text-white",label:"NPC's"})])]),v("div",zae,[v("div",Kae,[q(at,{class:"bg-red-400 text-neutral-700 hover:text-white",label:"Offline Support"}),q(at,{class:"bg-pink-300 text-neutral-700 hover:text-white",label:"Monthly Reset"}),q(at,{class:"bg-pink-700",label:"PlaceholderAPI"}),q(at,{class:"bg-red-400 text-neutral-700 hover:text-white",label:"Vault"}),q(at,{class:"bg-red-700",label:"NuVotifier"})])])]),_:1})]),v("div",Gae,[q(Pn,{id:"votesettings",class:"my-5 mt-20 w-full xl:w-2/3",title:"/votesettings",description:"The main command of CustomVoting"},{default:X(()=>[v("div",Yae,[q(Aae)]),v("div",Qae,[q(va,{src:"/images/customvoting/votesettings1.png"})])]),_:1})]),v("div",Xae,[q(Pn,{id:"requirements",class:"my-5 mt-20 w-full xl:w-2/3",title:"Requirements & Hooks",description:"What do you need to use CustomVoting - and what works together with it?"},{default:X(()=>[Jae,v("div",Zae,[K(" Hooks: "),ele,tle,v("ul",null,[nle,q(P(er),{class:"mt-3",onTabOpen:P(cr)},{default:X(()=>[q(P(Ve),{header:"What are the placeholders?"},{default:X(()=>[rle]),_:1})]),_:1},8,["onTabOpen"]),ile,sle,ole,ale,lle,ule,cle,dle,hle,fle])])]),_:1})]),v("div",ple,[q(Pn,{id:"commands",class:"my-5 mt-20 w-full xl:w-2/3",title:"Commands & Permissions"},{default:X(()=>[q(P(er),{class:"mt-3",onTabOpen:P(cr)},{default:X(()=>[q(P(Ve),{header:"Show/hide"},{default:X(()=>[q(Pie)]),_:1})]),_:1},8,["onTabOpen"]),mle]),_:1})]),v("div",gle,[q(Pn,{id:"setup",class:"my-5 mt-20 w-full xl:w-2/3",title:"Setup & Configuration"},{default:X(()=>[vle,yle,ble,_le]),_:1})]),v("div",wle,[q(Pn,{id:"support",class:"my-5 mt-20 w-full xl:w-2/3",title:"Support & Information",description:"Can I help you with anything?"},{default:X(()=>[Tle]),_:1})]),v("div",Ele,[q(Pn,{id:"love",class:"my-5 mt-20 w-full xl:w-2/3 bg-pink-700 bg-opacity-75",title:"Thank you <3"},{default:X(()=>[Sle]),_:1})])]),_:1})}}}),Cle=sT(Ile,[["__scopeId","data-v-fb538480"]]),Ale=xe({__name:"CustomVoting",setup(t){return(e,n)=>(D(),ae(Cle))}}),Ple={class:"flex flex-col lg:justify-center lg:items-center py-10 text-md text-neutral-400"},Ole={class:"m-1 lg:w-4/5"},oT=xe({__name:"Privacy",setup(t){const{content:e}=Rt(Fn());return(n,r)=>(D(),H("div",Ple,[(D(!0),H(Pe,null,dt(P(e).privacyStatement,i=>(D(),H("p",Ole,Fe(i),1))),256))]))}}),aT=xe({__name:"EmailField",props:{id:{},name:{},label:{},rules:{},modelValue:{},error:{}},emits:["update:modelValue","update:error"],setup(t,{expose:e,emit:n}){const r=t,i=ie(),s=ee({get:()=>r.modelValue,set:l=>{a("update:modelValue",l)}}),o=ee({get:()=>r.error,set:l=>{a("update:error",l??"")}}),a=n;return e({test:async()=>await i.value.test()}),(l,u)=>(D(),ae(ti,{ref_key:"email",ref:i,id:l.id,name:l.name,label:l.label,placeholder:"someone@example.com","input-props":{type:"email",autocomplete:"on"},modelValue:s.value,"onUpdate:modelValue":u[0]||(u[0]=c=>s.value=c),error:o.value,"onUpdate:error":u[1]||(u[1]=c=>o.value=c),rules:[...l.rules,P(Nt).Email]},null,8,["id","name","label","modelValue","error","rules"]))}}),Ru=xe({__name:"PasswordField",props:{id:{},name:{},label:{},placeholder:{},rules:{},modelValue:{},error:{},min:{},max:{},compare:{}},emits:["update:modelValue","update:error"],setup(t,{expose:e,emit:n}){const r=t,i=ie(),s=ee({get:()=>r.modelValue,set:l=>{a("update:modelValue",l)}}),o=ee({get:()=>r.error,set:l=>{a("update:error",l??"")}}),a=n;return e({test:async()=>i.value.test()}),(l,u)=>(D(),ae(ti,{ref_key:"password",ref:i,id:l.id,name:l.name,label:l.label,placeholder:"******","input-props":{type:"password",autocomplete:"on"},modelValue:s.value,"onUpdate:modelValue":u[0]||(u[0]=c=>s.value=c),error:o.value,"onUpdate:error":u[1]||(u[1]=c=>o.value=c),rules:l.rules,"min-length":l.min,"max-length":l.max,compare:l.compare},null,8,["id","name","label","modelValue","error","rules","min-length","max-length","compare"]))}}),kle={class:"flex flex-wrap pt-6 pb-8 mb-4"},Rle={class:"basis-full lg:basis-1/2"},xle={class:"flex gap-3 mt-10 flex-wrap"},Dle={class:"basis-full lg:basis-1/2"},Nle={key:0,class:"basis-full lg:basis-1/2 flex gap-3 mt-10 flex-wrap"},Mle={class:"flex flex-col items-center content-center"},Lle=xe({__name:"Dashboard",setup(t){const n=Uc(Fc).greaterOrEqual("md"),r=sr(),{currentUser:i,firebaseUser:s,publicUser:o,isOwner:a,isMutationLoading:l}=Rt(r),u=Fn(),{fetchAll:c}=u,{content:d,isOnline:h,debug:p}=Rt(u),m=ie(!1),g=ie(),y=ie(),A=ie(),C=ie(),S=ie(),E=ie(),k=ie(),x=ie(),I=Pr({firstName:{value:"",error:""},lastName:{value:"",error:""},displayName:{value:"",error:""},email:{value:"",error:""},newPassword:{value:"",error:""},currentPassword:{value:"",error:""},repeatPassword:{value:"",error:""},avatar:{value:"",error:""}}),b=ee(()=>({firstName:I.firstName.value,lastName:I.lastName.value})),_=ee(()=>({displayName:I.displayName.value,avatar:I.avatar.value})),T=ee(()=>!!i.value&&!gs(gc.convert(i.value),b.value)),R=ee(()=>!!o.value&&!gs(W0.convert(o.value),_.value)),N=ee(()=>{var U;return I.email.value!==((U=s.value)==null?void 0:U.email)}),O=ee(()=>{const U=[];return T.value&&U.push("Details"),R.value&&U.push("Public Profile"),N.value&&U.push("E-mail"),I.newPassword.value&&U.push("Password"),U.length?"Save "+A0(U):void 0}),j=async()=>{var U;Object.keys(I).forEach($=>I[$].error=""),I.newPassword.value&&(await Promise.all([S.value.test(),E.value.test(),k.value.test()]),!I.newPassword.error&&!I.currentPassword.error&&!I.repeatPassword.error&&(await r.updatePassword(I.newPassword.value,I.currentPassword.value),I.newPassword.value="",I.currentPassword.value="")),R.value&&(await A.value.test(),!I.displayName.error&&!I.avatar.error&&r.updatePublicUser({displayName:I.displayName.value,avatar:I.avatar.value})),N.value&&(await Promise.all([C.value.test(),E.value.test()]),!I.email.error&&!I.currentPassword.error&&(await r.updateMail(I.email.value,I.currentPassword.value),I.currentPassword.value="")),gs(i.value,b.value)||(await Promise.all([g.value.test(),y.value.test()]),!I.firstName.error&&!I.lastName.error&&r.updateUser({firstName:I.firstName.value,lastName:I.lastName.value})),await c((U=s.value)==null?void 0:U.uid,!0)};return X_(()=>{var U,$,B,te,z;I.firstName.value=((U=i.value)==null?void 0:U.firstName)||"",I.lastName.value=(($=i.value)==null?void 0:$.lastName)||"",I.displayName.value=((B=o.value)==null?void 0:B.displayName)||"",I.email.value=((te=s.value)==null?void 0:te.email)||"",I.avatar.value=((z=o.value)==null?void 0:z.avatar)||""}),(U,$)=>(D(),ae(Js,null,{content:X(()=>[P(i)&&P(s)?(D(),ae(Pn,{key:0,class:"!bg-secondary-500 !bg-opacity-35 my-5",title:"Welcome "+P(i).firstName+(P(i).lastName?" "+P(i).lastName:""),description:P(d).dashboardDescription},{default:X(()=>[v("div",kle,[v("div",Rle,[v("form",{id:"accountForm",onSubmit:$[19]||($[19]=kt(B=>j(),["prevent"]))},[q(ti,{name:"accountType",label:"Account Type","model-value":P(a)?"Owner":"Member","input-props":{disabled:!0}},null,8,["model-value"]),q(ti,{ref_key:"firstName",ref:g,name:"firstName",label:"First Name",placeholder:"Someone",modelValue:I.firstName.value,"onUpdate:modelValue":$[0]||($[0]=B=>I.firstName.value=B),error:I.firstName.error,"onUpdate:error":$[1]||($[1]=B=>I.firstName.error=B),rules:[P(Nt).Required],"min-length":3,"max-length":50},null,8,["modelValue","error","rules"]),q(ti,{ref_key:"lastName",ref:y,name:"lastName",label:"Last Name",modelValue:I.lastName.value,"onUpdate:modelValue":$[2]||($[2]=B=>I.lastName.value=B),error:I.lastName.error,"onUpdate:error":$[3]||($[3]=B=>I.lastName.error=B),"min-length":3,"max-length":50},null,8,["modelValue","error"]),q(ti,{ref_key:"displayName",ref:A,name:"displayName",label:"Public Username",modelValue:I.displayName.value,"onUpdate:modelValue":$[4]||($[4]=B=>I.displayName.value=B),error:I.displayName.error,"onUpdate:error":$[5]||($[5]=B=>I.displayName.error=B),rules:[P(Nt).MinLength],"min-length":3,"max-length":50},null,8,["modelValue","error","rules"]),q(aT,{ref_key:"email",ref:C,name:"email",label:"E-mail",modelValue:I.email.value,"onUpdate:modelValue":$[6]||($[6]=B=>I.email.value=B),error:I.email.error,"onUpdate:error":$[7]||($[7]=B=>I.email.error=B),rules:[P(Nt).Required]},null,8,["modelValue","error","rules"]),N.value?(D(),ae(Ru,{key:0,ref_key:"currentPassword",ref:E,name:"currentPassword",label:"Current Password",modelValue:I.currentPassword.value,"onUpdate:modelValue":$[8]||($[8]=B=>I.currentPassword.value=B),error:I.currentPassword.error,"onUpdate:error":$[9]||($[9]=B=>I.currentPassword.error=B),rules:[P(Nt).Required]},null,8,["modelValue","error","rules"])):J("",!0),q(Ru,{ref_key:"newPassword",ref:S,name:"newPassword",label:"New Password",modelValue:I.newPassword.value,"onUpdate:modelValue":$[10]||($[10]=B=>I.newPassword.value=B),error:I.newPassword.error,"onUpdate:error":$[11]||($[11]=B=>I.newPassword.error=B),min:6,max:50},null,8,["modelValue","error"]),I.newPassword.value?(D(),ae(Ru,{key:1,ref_key:"repeatPassword",ref:k,name:"repeatPassword",label:"Repeat New Password",modelValue:I.repeatPassword.value,"onUpdate:modelValue":$[12]||($[12]=B=>I.repeatPassword.value=B),error:I.repeatPassword.error,"onUpdate:error":$[13]||($[13]=B=>I.repeatPassword.error=B),rules:[P(Nt).Required],compare:{value:I.newPassword.value,name:"New Password"}},null,8,["modelValue","error","rules","compare"])):J("",!0),I.newPassword.value&&!N.value?(D(),ae(Ru,{key:2,ref_key:"currentPassword",ref:E,name:"currentPassword",label:"Current Password",modelValue:I.currentPassword.value,"onUpdate:modelValue":$[14]||($[14]=B=>I.currentPassword.value=B),error:I.currentPassword.error,"onUpdate:error":$[15]||($[15]=B=>I.currentPassword.error=B),rules:[P(Nt).Required]},null,8,["modelValue","error","rules"])):J("",!0),v("div",xle,[O.value?(D(),ae(at,{key:0,class:"w-full",action:"submit",loading:P(l),label:O.value},null,8,["loading","label"])):J("",!0),P(a)?J("",!0):(D(),ae(at,{key:1,class:"w-full",type:"danger",outlined:"",label:"Delete account",onClick:$[16]||($[16]=B=>m.value=!0)}))]),P(a)?(D(),ae(oh,{key:3,name:"isOnline",label:"Online",modelValue:P(h),"onUpdate:modelValue":$[17]||($[17]=B=>wn(h)?h.value=B:null)},null,8,["modelValue"])):J("",!0),P(a)?(D(),ae(oh,{key:4,name:"debug",label:"Debug",modelValue:P(p),"onUpdate:modelValue":$[18]||($[18]=B=>wn(p)?p.value=B:null)},null,8,["modelValue"])):J("",!0)],32)]),v("div",Dle,[q(Z1,{ref_key:"avatar",ref:x,id:"avatar",name:"avatar",label:"Public Avatar",modelValue:I.avatar.value,"onUpdate:modelValue":$[20]||($[20]=B=>I.avatar.value=B),error:I.avatar.error,"onUpdate:error":$[21]||($[21]=B=>I.avatar.error=B),"is-public":"","image-props":{class:"rounded-full"},"image-container-props":{class:"!h-64 !w-64"}},null,8,["modelValue","error"])]),P(n)?J("",!0):(D(),H("div",Nle,[O.value?(D(),ae(at,{key:0,class:"w-full",action:"submit",form:"accountForm",loading:P(l),label:O.value},null,8,["loading","label"])):J("",!0),P(a)?J("",!0):(D(),ae(at,{key:1,class:"w-full",type:"danger",outlined:"",label:"Delete account",onClick:$[22]||($[22]=B=>m.value=!0)}))]))]),v("div",Mle,[q(oT)])]),_:1},8,["title","description"])):J("",!0),q(J1,{title:"Delete Account",isOpen:m.value,description:["Are you sure you want to delete your account?","This cannot be undone."],"confirm-text":"Confirm","confirm-props":{type:"danger",outlined:!0},onConfirm:$[23]||($[23]=B=>P(r).deleteAccount()),onCancel:$[24]||($[24]=B=>m.value=!1)},null,8,["isOpen"])]),_:1}))}}),Vle=xe({__name:"Dashboard",setup(t){return(e,n)=>(D(),ae(Lle))}}),$le=t=>($_("data-v-006f3eb7"),t=t(),F_(),t),Fle=$le(()=>v("h3",{class:"text-title-secondary"},"My Work",-1)),Ule=xe({__name:"Projects",setup(t){const e=Fn(),{moveProject:n}=e,{projects:r}=Rt(e),i=o=>{o.moved&&n(o.moved.oldIndex,o.moved.newIndex)},s=()=>{ir(()=>{const o=document.querySelectorAll(".transition-opacity");o.forEach(a=>{a.classList.replace("opacity-100","opacity-0")}),P7(Array.from(o),500,300,a=>{a.classList.replace("opacity-0","opacity-100")})})};return cn(()=>r.value,(o,a)=>{o>a&&s()}),Vt(()=>{s()}),(o,a)=>(D(),H(Pe,null,[Fle,q(P(iT),{class:"grid grid-cols-1 gap-4 my-5 sm:grid-cols-2 xl:grid-cols-3 cursor-pointer select-none","model-value":P(r),"item-key":"index",onChange:i,animation:150,delay:50},{item:X(({element:l})=>[q(Pn,{class:"border-4 border-transparent opacity-100 transition-opacity duration-1000 ease-in",title:l.name,url:l.url,route:{name:l.route},description:l.description,loading:l.loading},{default:X(()=>[(D(!0),H(Pe,null,dt(l.technologies,u=>(D(),ae(at,{class:"rounded-secondary m-1 md:mt-2 font-bold",style:tr({backgroundColor:u.color}),label:u.name},null,8,["style","label"]))),256))]),_:2},1032,["title","url","route","description","loading"])]),_:1},8,["model-value"])],64))}}),qle=sT(Ule,[["__scopeId","data-v-006f3eb7"]]),Ble={class:"grid mt-20"},jle=xe({__name:"Home",setup(t){return(e,n)=>(D(),ae(Js,{"scroll-to-content":!1},{content:X(()=>[v("div",Ble,[q(qle)])]),_:1}))}}),Hle=xe({__name:"Home",setup(t){return(e,n)=>(D(),ae(jle))}}),Wle={class:"flex flex-col items-center content-center"},zle={class:"grid grid-cols-4 mt-10 gap-3"},Kle=xe({__name:"Login",setup(t){const e=hf(),n=ee(()=>e.params.redirect?JSON.parse(e.params.redirect):void 0),r=sr(),{isLoginLoading:i,firebaseUser:s}=Rt(r),o=df(),{initEmail:a,initPassword:l}=o.currentRoute.value.query,u=ie(),c=ie(),d=Pr({email:{value:(a==null?void 0:a.toString())||"",error:""},password:{value:(l==null?void 0:l.toString())||"",error:""}}),h=async()=>{Object.keys(d).forEach(m=>d[m].error=""),await Promise.all([u.value.test(),c.value.test()]),!d.email.error&&!d.password.error&&(await r.login(d.email.value,d.password.value),s.value&&n.value&&o.push(n.value))},p=async()=>{await u.value.test(),d.email.error||r.resetPassword(d.email.value)};return Vt(()=>{o.replace({query:void 0})}),(m,g)=>{const y=On("RouterLink");return D(),ae(Js,null,{content:X(()=>[q(Pn,{class:"!bg-primary-800 !bg-opacity-50 my-5",title:"Login",description:"Please login using your e-mail and password."},{default:X(()=>[v("div",Wle,[v("form",{class:"w-full lg:w-1/2 xl:w-1/3 px-8 pt-6 pb-8 mb-4",onSubmit:g[4]||(g[4]=kt(A=>h(),["prevent"]))},[q(aT,{ref_key:"email",ref:u,name:"email",label:"E-mail",modelValue:d.email.value,"onUpdate:modelValue":g[0]||(g[0]=A=>d.email.value=A),error:d.email.error,"onUpdate:error":g[1]||(g[1]=A=>d.email.error=A),rules:[P(Nt).Required]},null,8,["modelValue","error","rules"]),q(Ru,{ref_key:"password",ref:c,name:"password",label:"Password",modelValue:d.password.value,"onUpdate:modelValue":g[2]||(g[2]=A=>d.password.value=A),error:d.password.error,"onUpdate:error":g[3]||(g[3]=A=>d.password.error=A),rules:[P(Nt).Required]},null,8,["modelValue","error","rules"]),v("div",zle,[q(at,{class:"col-span-full md:col-span-2",action:"submit",loading:P(i),label:"Login"},null,8,["loading"]),q(y,{class:"col-span-full md:col-span-2",to:{name:P(_n).REGISTER,query:{initEmail:d.email.value,initPassword:d.password.value}}},{default:X(()=>[q(at,{class:"w-full",outlined:"",label:"Register"})]),_:1},8,["to"]),q(at,{class:"col-span-full md:col-span-2 md:col-start-3",outlined:"",label:"Forgot Password",onClick:p})])],32),q(oT)])]),_:1})]),_:1})}}}),Gle=xe({__name:"Login",setup(t){return(e,n)=>(D(),ae(Kle))}}),Yle=xe({__name:"NotFound",setup(t){return(e,n)=>(D(),ae(Js,{"scroll-to-content":!1},{content:X(()=>[q(Pn,{class:"!bg-red-800 !bg-opacity-50 !rounded-primary my-5",title:"Not found.",description:"Where are you going?"})]),_:1}))}}),Qle=xe({__name:"NotFound",setup(t){return(e,n)=>(D(),ae(Yle))}}),Xle={class:"flex flex-wrap pt-6 pb-8 mb-4"},Jle={class:"table-auto text-left border-separate border-spacing-x-5"},Zle={key:0},eue=v("th",null,"Last name",-1),tue={key:1},nue=v("th",null,"First name",-1),rue={key:2},iue=v("th",null,"Created at",-1),sue={key:3},oue=v("th",null,"Last login",-1),aue=xe({__name:"Profile",setup(t){const e=hf(),n=Fn(),{users:r,publicUsers:i}=Rt(n),s=ee(()=>e.params.userId),o=ee(()=>r.value.find(l=>l.id===s.value)),a=ee(()=>i.value.find(l=>l.id===s.value));return(l,u)=>(D(),ae(Js,null,{content:X(()=>[a.value?(D(),ae(Pn,{key:0,class:"!bg-secondary-500 !bg-opacity-35 my-5",title:a.value.displayName,description:o.value?void 0:"No other information about this user.",avatar:a.value.avatar},{default:X(()=>{var c,d,h,p;return[v("div",Xle,[v("table",Jle,[v("tbody",null,[(c=o.value)!=null&&c.lastName?(D(),H("tr",Zle,[eue,v("td",null,Fe(o.value.lastName),1)])):J("",!0),(d=o.value)!=null&&d.firstName?(D(),H("tr",tue,[nue,v("td",null,Fe(o.value.firstName),1)])):J("",!0),(h=o.value)!=null&&h.createdAt?(D(),H("tr",rue,[iue,v("td",null,Fe(P(Oa)(o.value.createdAt)),1)])):J("",!0),(p=o.value)!=null&&p.lastLogin?(D(),H("tr",sue,[oue,v("td",null,Fe(P(Oa)(o.value.lastLogin)),1)])):J("",!0)])])])]}),_:1},8,["title","description","avatar"])):J("",!0)]),_:1}))}}),lue=xe({__name:"Profile",setup(t){return(e,n)=>(D(),ae(aue))}}),uue={class:"pt-6 pb-8 mb-4"},cue={class:"block table-auto overflow-x-auto text-left"},due=v("thead",null,[v("tr",null,[v("th",{class:"border px-2"}),v("th",{class:"border px-2"},"Displayname"),v("th",{class:"border px-2"},"First name"),v("th",{class:"border px-2"},"Last name"),v("th",{class:"border px-2"},"Last login")])],-1),hue={class:"h-12"},fue={class:"border p-1"},pue=["src"],mue={class:"border px-2"},gue={class:"border px-2"},vue={class:"border px-2"},yue={class:"border px-2"},bue=xe({__name:"Profiles",setup(t){const e=Fn(),{users:n,publicUsers:r}=Rt(e),i=ee(()=>n.value.map(o=>({displayName:"",...o,...r.value.find(a=>a.id===o.id)}))),s=ee(()=>i.value.sort((o,a)=>{var l,u;try{return(((l=o.lastLogin)==null?void 0:l.getTime())??0)-(((u=a.lastLogin)==null?void 0:u.getTime())??0)}catch{return 0}}));return(o,a)=>{const l=On("RouterLink");return D(),ae(Js,null,{content:X(()=>[q(Pn,{class:"!bg-primary-500 !bg-opacity-35 my-5",title:"Profiles"},{default:X(()=>[v("div",uue,[v("table",cue,[due,v("tbody",null,[(D(!0),H(Pe,null,dt(s.value,u=>(D(),H("tr",hue,[v("td",fue,[u.avatar?(D(),ae(l,{key:0,to:{name:P(_n).USER_DETAILS,params:{userId:u.id}}},{default:X(()=>[v("img",{class:"rounded-full h-12 w-12 min-w-12",src:u.avatar},null,8,pue)]),_:2},1032,["to"])):J("",!0)]),v("td",mue,[q(l,{to:{name:P(_n).USER_DETAILS,params:{userId:u.id}}},{default:X(()=>[K(Fe(u.displayName),1)]),_:2},1032,["to"])]),v("td",gue,Fe(u==null?void 0:u.firstName),1),v("td",vue,Fe(u==null?void 0:u.lastName),1),v("td",yue,Fe(u!=null&&u.lastLogin?P(Oa)(u.lastLogin):""),1)]))),256))])])])]),_:1})]),_:1})}}}),_ue=xe({__name:"Profiles",setup(t){return(e,n)=>(D(),ae(bue))}}),wue={class:"flex flex-col items-center content-center"},Tue={class:"grid grid-cols-2 mt-10 gap-3"},Eue=xe({__name:"Register",setup(t){const e=sr(),{isLoginLoading:n}=Rt(e),r=df(),{initEmail:i,initPassword:s}=r.currentRoute.value.query,o=ie(),a=ie(),l=ie(),u=Pr({email:{value:(i==null?void 0:i.toString())||"",error:""},password:{value:(s==null?void 0:s.toString())||"",error:""},firstName:{value:"",error:""}}),c=async()=>{Object.keys(u).forEach(d=>u[d].error=""),await Promise.all([o.value.test(),a.value.test(),l.value.test()]),!u.email.error&&!u.password.error&&!u.firstName.error&&e.register(u.email.value,u.password.value,u.firstName.value)};return Vt(()=>{r.replace({query:void 0})}),(d,h)=>{const p=On("RouterLink");return D(),ae(Js,null,{content:X(()=>[q(Pn,{class:"!bg-cyan-800 !bg-opacity-50 my-5",title:"Register",description:"Please register using your e-mail, password and first name."},{default:X(()=>[v("div",wue,[v("form",{class:"w-full lg:w-1/2 xl:w-1/3 px-8 pt-6 pb-8 mb-4",onSubmit:h[6]||(h[6]=kt(m=>c(),["prevent"]))},[q(ti,{ref_key:"firstName",ref:l,name:"firstName",label:"First Name",placeholder:"Someone",modelValue:u.firstName.value,"onUpdate:modelValue":h[0]||(h[0]=m=>u.firstName.value=m),error:u.firstName.error,"onUpdate:error":h[1]||(h[1]=m=>u.firstName.error=m),rules:[P(Nt).Required,P(Nt).MinLength],"min-length":3,"max-length":25},null,8,["modelValue","error","rules"]),q(aT,{ref_key:"email",ref:o,name:"email",label:"E-mail",modelValue:u.email.value,"onUpdate:modelValue":h[2]||(h[2]=m=>u.email.value=m),error:u.email.error,"onUpdate:error":h[3]||(h[3]=m=>u.email.error=m),rules:[P(Nt).Required]},null,8,["modelValue","error","rules"]),q(Ru,{ref_key:"password",ref:a,name:"password",label:"Password",modelValue:u.password.value,"onUpdate:modelValue":h[4]||(h[4]=m=>u.password.value=m),error:u.password.error,"onUpdate:error":h[5]||(h[5]=m=>u.password.error=m),rules:[P(Nt).Required]},null,8,["modelValue","error","rules"]),v("div",Tue,[q(at,{class:"col-span-full md:col-span-1",action:"submit",loading:P(n),label:"Register"},null,8,["loading"]),q(p,{to:{name:P(_n).LOGIN,query:{initEmail:u.email.value,initPassword:u.password.value}},class:"col-span-full md:col-span-1"},{default:X(()=>[q(at,{class:"w-full",outlined:"",label:"Login"})]),_:1},8,["to"])])],32),q(oT)])]),_:1})]),_:1})}}}),Sue=xe({__name:"Register",setup(t){return(e,n)=>(D(),ae(Eue))}});var _n=(t=>(t.HOME="home",t.LOGIN="login",t.REGISTER="register",t.DASHBOARD="dashboard",t.USER_OVERVIEW="users",t.USER_DETAILS="user-details",t.BLOG="blog",t.BLOG_DETAILS="blog-details",t.CUSTOM_VOTING="customvoting",t.CAT_CALC="cat-calc",t.NOT_FOUND="notfound",t))(_n||{});const lT={HOME:{path:"/",meta:{title:"Home"},component:Hle,beforeEnter:(t,e,n)=>{var i;const r=decodeURIComponent(((i=t.query.path)==null?void 0:i.toString())||"");if(r){const s=r.split("/")[0];Lv.getRoutes().find(o=>o.path.startsWith(`/${s}`))?n({path:r}):n({name:"notfound"})}else n()}},LOGIN:{path:"/login/:redirect?",meta:{title:"Login"},component:Gle,beforeEnter:(t,e,n)=>{sr().currentUser?n({name:"dashboard"}):n()}},REGISTER:{path:"/register",meta:{title:"Register"},component:Sue,beforeEnter:(t,e,n)=>{sr().currentUser?n({name:"dashboard"}):n()}},DASHBOARD:{path:"/dashboard",meta:{title:"Dashboard"},component:Vle},USER_OVERVIEW:{path:"/profiles",meta:{title:"Profiles"},component:_ue},USER_DETAILS:{path:"/profile/:userId",meta:{title:"Profile"},component:lue},BLOG:{path:"/blog",meta:{title:"Blog"},component:gP},BLOG_DETAILS:{path:"/blog/:postId",meta:{title:"Blog"},component:gP},CUSTOM_VOTING:{path:"/customvoting",meta:{title:"CustomVoting"},component:Ale},CAT_CALC:{path:"/cat-calc",meta:{title:"CatCalc"},component:wie},NOT_FOUND:{path:"/:pathMatch(.*)*",meta:{title:"404"},component:Qle}},Lv=n6({history:RF(),routes:Object.entries(lT).map(([t,e])=>({...e,name:_n[t]})),scrollBehavior(t,e,n){return n||((t.name==="login"||t.name==="register")&&(e.name==="login"||e.name==="register")?!1:{top:0})}}),vP=mM.name;Lv.beforeEach(async(t,e,n)=>{var r;if(t===e)n();else if(!t.name)n({name:"notfound"});else{const i=t.name;if(["home","login","register","dashboard","notfound"].includes(i))n();else{const o=await Fn().fetchMenuItems((r=sr().firebaseUser)==null?void 0:r.uid);(o==null?void 0:o.some(l=>l.route?i===l.route:l.url?t.path.startsWith(l.url):!1))?n():n({name:"notfound"})}}});Lv.beforeResolve(t=>{document.title=vP+" | "+t.meta.title||vP;const e=ix();sx(e,"screen_view",{screen_name:t.path})});const Wh=Lv;function es(t){"@babel/helpers - typeof";return es=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},es(t)}function pt(t){if(t===null||t===!0||t===!1)return NaN;var e=Number(t);return isNaN(e)?e:e<0?Math.ceil(e):Math.floor(e)}function et(t,e){if(e.length<t)throw new TypeError(t+" argument"+(t>1?"s":"")+" required, but only "+e.length+" present")}function ct(t){et(1,arguments);var e=Object.prototype.toString.call(t);return t instanceof Date||es(t)==="object"&&e==="[object Date]"?new Date(t.getTime()):typeof t=="number"||e==="[object Number]"?new Date(t):((typeof t=="string"||e==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}function ho(t,e){et(2,arguments);var n=ct(t),r=pt(e);return isNaN(r)?new Date(NaN):(r&&n.setDate(n.getDate()+r),n)}function ys(t,e){et(2,arguments);var n=ct(t),r=pt(e);if(isNaN(r))return new Date(NaN);if(!r)return n;var i=n.getDate(),s=new Date(n.getTime());s.setMonth(n.getMonth()+r+1,0);var o=s.getDate();return i>=o?s:(n.setFullYear(s.getFullYear(),s.getMonth(),i),n)}function dL(t,e){if(et(2,arguments),!e||es(e)!=="object")return new Date(NaN);var n=e.years?pt(e.years):0,r=e.months?pt(e.months):0,i=e.weeks?pt(e.weeks):0,s=e.days?pt(e.days):0,o=e.hours?pt(e.hours):0,a=e.minutes?pt(e.minutes):0,l=e.seconds?pt(e.seconds):0,u=ct(t),c=r||n?ys(u,r+n*12):u,d=s||i?ho(c,s+i*7):c,h=a+o*60,p=l+h*60,m=p*1e3,g=new Date(d.getTime()+m);return g}function Iue(t,e){et(2,arguments);var n=ct(t).getTime(),r=pt(e);return new Date(n+r)}var Cue={};function Zs(){return Cue}function Ul(t,e){var n,r,i,s,o,a,l,u;et(1,arguments);var c=Zs(),d=pt((n=(r=(i=(s=e==null?void 0:e.weekStartsOn)!==null&&s!==void 0?s:e==null||(o=e.locale)===null||o===void 0||(a=o.options)===null||a===void 0?void 0:a.weekStartsOn)!==null&&i!==void 0?i:c.weekStartsOn)!==null&&r!==void 0?r:(l=c.locale)===null||l===void 0||(u=l.options)===null||u===void 0?void 0:u.weekStartsOn)!==null&&n!==void 0?n:0);if(!(d>=0&&d<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var h=ct(t),p=h.getDay(),m=(p<d?7:0)+p-d;return h.setDate(h.getDate()-m),h.setHours(0,0,0,0),h}function vg(t){return et(1,arguments),Ul(t,{weekStartsOn:1})}function Aue(t){et(1,arguments);var e=ct(t),n=e.getFullYear(),r=new Date(0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);var i=vg(r),s=new Date(0);s.setFullYear(n,0,4),s.setHours(0,0,0,0);var o=vg(s);return e.getTime()>=i.getTime()?n+1:e.getTime()>=o.getTime()?n:n-1}function Pue(t){et(1,arguments);var e=Aue(t),n=new Date(0);n.setFullYear(e,0,4),n.setHours(0,0,0,0);var r=vg(n);return r}function yg(t){var e=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return e.setUTCFullYear(t.getFullYear()),t.getTime()-e.getTime()}function yP(t){et(1,arguments);var e=ct(t);return e.setHours(0,0,0,0),e}var Oue=864e5;function kue(t,e){et(2,arguments);var n=yP(t),r=yP(e),i=n.getTime()-yg(n),s=r.getTime()-yg(r);return Math.round((i-s)/Oue)}function Rue(t,e){et(2,arguments);var n=pt(e),r=n*3;return ys(t,r)}function uT(t,e){et(2,arguments);var n=pt(e);return ys(t,n*12)}var cT=6e4,dT=36e5,xue=1e3;function hL(t){return et(1,arguments),t instanceof Date||es(t)==="object"&&Object.prototype.toString.call(t)==="[object Date]"}function ah(t){if(et(1,arguments),!hL(t)&&typeof t!="number")return!1;var e=ct(t);return!isNaN(Number(e))}function bP(t){et(1,arguments);var e=ct(t),n=Math.floor(e.getMonth()/3)+1;return n}function fL(t,e){var n;et(1,arguments);var r=t||{},i=ct(r.start),s=ct(r.end),o=s.getTime();if(!(i.getTime()<=o))throw new RangeError("Invalid interval");var a=[],l=i;l.setHours(0,0,0,0);var u=Number((n=e==null?void 0:e.step)!==null&&n!==void 0?n:1);if(u<1||isNaN(u))throw new RangeError("`options.step` must be a number greater than 1");for(;l.getTime()<=o;)a.push(ct(l)),l.setDate(l.getDate()+u),l.setHours(0,0,0,0);return a}function zh(t){et(1,arguments);var e=ct(t),n=e.getMonth(),r=n-n%3;return e.setMonth(r,1),e.setHours(0,0,0,0),e}function Due(t){et(1,arguments);var e=t||{},n=ct(e.start),r=ct(e.end),i=r.getTime();if(!(n.getTime()<=i))throw new RangeError("Invalid interval");var s=zh(n),o=zh(r);i=o.getTime();for(var a=[],l=s;l.getTime()<=i;)a.push(ct(l)),l=Rue(l,1);return a}function Nue(t){et(1,arguments);var e=ct(t),n=e.getFullYear();return e.setFullYear(n+1,0,0),e.setHours(23,59,59,999),e}function Mue(t){et(1,arguments);var e=ct(t),n=new Date(0);return n.setFullYear(e.getFullYear(),0,1),n.setHours(0,0,0,0),n}function Lue(t,e){var n,r,i,s,o,a,l,u;et(1,arguments);var c=Zs(),d=pt((n=(r=(i=(s=e==null?void 0:e.weekStartsOn)!==null&&s!==void 0?s:e==null||(o=e.locale)===null||o===void 0||(a=o.options)===null||a===void 0?void 0:a.weekStartsOn)!==null&&i!==void 0?i:c.weekStartsOn)!==null&&r!==void 0?r:(l=c.locale)===null||l===void 0||(u=l.options)===null||u===void 0?void 0:u.weekStartsOn)!==null&&n!==void 0?n:0);if(!(d>=0&&d<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var h=ct(t),p=h.getDay(),m=(p<d?-7:0)+6-(p-d);return h.setDate(h.getDate()+m),h.setHours(23,59,59,999),h}function _P(t){et(1,arguments);var e=ct(t),n=e.getMonth(),r=n-n%3+3;return e.setMonth(r,0),e.setHours(23,59,59,999),e}function pL(t,e){et(2,arguments);var n=pt(e);return Iue(t,-n)}var Vue=864e5;function $ue(t){et(1,arguments);var e=ct(t),n=e.getTime();e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0);var r=e.getTime(),i=n-r;return Math.floor(i/Vue)+1}function Tc(t){et(1,arguments);var e=1,n=ct(t),r=n.getUTCDay(),i=(r<e?7:0)+r-e;return n.setUTCDate(n.getUTCDate()-i),n.setUTCHours(0,0,0,0),n}function mL(t){et(1,arguments);var e=ct(t),n=e.getUTCFullYear(),r=new Date(0);r.setUTCFullYear(n+1,0,4),r.setUTCHours(0,0,0,0);var i=Tc(r),s=new Date(0);s.setUTCFullYear(n,0,4),s.setUTCHours(0,0,0,0);var o=Tc(s);return e.getTime()>=i.getTime()?n+1:e.getTime()>=o.getTime()?n:n-1}function Fue(t){et(1,arguments);var e=mL(t),n=new Date(0);n.setUTCFullYear(e,0,4),n.setUTCHours(0,0,0,0);var r=Tc(n);return r}var Uue=6048e5;function gL(t){et(1,arguments);var e=ct(t),n=Tc(e).getTime()-Fue(e).getTime();return Math.round(n/Uue)+1}function ql(t,e){var n,r,i,s,o,a,l,u;et(1,arguments);var c=Zs(),d=pt((n=(r=(i=(s=e==null?void 0:e.weekStartsOn)!==null&&s!==void 0?s:e==null||(o=e.locale)===null||o===void 0||(a=o.options)===null||a===void 0?void 0:a.weekStartsOn)!==null&&i!==void 0?i:c.weekStartsOn)!==null&&r!==void 0?r:(l=c.locale)===null||l===void 0||(u=l.options)===null||u===void 0?void 0:u.weekStartsOn)!==null&&n!==void 0?n:0);if(!(d>=0&&d<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var h=ct(t),p=h.getUTCDay(),m=(p<d?7:0)+p-d;return h.setUTCDate(h.getUTCDate()-m),h.setUTCHours(0,0,0,0),h}function hT(t,e){var n,r,i,s,o,a,l,u;et(1,arguments);var c=ct(t),d=c.getUTCFullYear(),h=Zs(),p=pt((n=(r=(i=(s=e==null?void 0:e.firstWeekContainsDate)!==null&&s!==void 0?s:e==null||(o=e.locale)===null||o===void 0||(a=o.options)===null||a===void 0?void 0:a.firstWeekContainsDate)!==null&&i!==void 0?i:h.firstWeekContainsDate)!==null&&r!==void 0?r:(l=h.locale)===null||l===void 0||(u=l.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&n!==void 0?n:1);if(!(p>=1&&p<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var m=new Date(0);m.setUTCFullYear(d+1,0,p),m.setUTCHours(0,0,0,0);var g=ql(m,e),y=new Date(0);y.setUTCFullYear(d,0,p),y.setUTCHours(0,0,0,0);var A=ql(y,e);return c.getTime()>=g.getTime()?d+1:c.getTime()>=A.getTime()?d:d-1}function que(t,e){var n,r,i,s,o,a,l,u;et(1,arguments);var c=Zs(),d=pt((n=(r=(i=(s=e==null?void 0:e.firstWeekContainsDate)!==null&&s!==void 0?s:e==null||(o=e.locale)===null||o===void 0||(a=o.options)===null||a===void 0?void 0:a.firstWeekContainsDate)!==null&&i!==void 0?i:c.firstWeekContainsDate)!==null&&r!==void 0?r:(l=c.locale)===null||l===void 0||(u=l.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&n!==void 0?n:1),h=hT(t,e),p=new Date(0);p.setUTCFullYear(h,0,d),p.setUTCHours(0,0,0,0);var m=ql(p,e);return m}var Bue=6048e5;function vL(t,e){et(1,arguments);var n=ct(t),r=ql(n,e).getTime()-que(n,e).getTime();return Math.round(r/Bue)+1}function an(t,e){for(var n=t<0?"-":"",r=Math.abs(t).toString();r.length<e;)r="0"+r;return n+r}var jue={y:function(e,n){var r=e.getUTCFullYear(),i=r>0?r:1-r;return an(n==="yy"?i%100:i,n.length)},M:function(e,n){var r=e.getUTCMonth();return n==="M"?String(r+1):an(r+1,2)},d:function(e,n){return an(e.getUTCDate(),n.length)},a:function(e,n){var r=e.getUTCHours()/12>=1?"pm":"am";switch(n){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h:function(e,n){return an(e.getUTCHours()%12||12,n.length)},H:function(e,n){return an(e.getUTCHours(),n.length)},m:function(e,n){return an(e.getUTCMinutes(),n.length)},s:function(e,n){return an(e.getUTCSeconds(),n.length)},S:function(e,n){var r=n.length,i=e.getUTCMilliseconds(),s=Math.floor(i*Math.pow(10,r-3));return an(s,n.length)}};const jo=jue;var cu={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Hue={G:function(e,n,r){var i=e.getUTCFullYear()>0?1:0;switch(n){case"G":case"GG":case"GGG":return r.era(i,{width:"abbreviated"});case"GGGGG":return r.era(i,{width:"narrow"});case"GGGG":default:return r.era(i,{width:"wide"})}},y:function(e,n,r){if(n==="yo"){var i=e.getUTCFullYear(),s=i>0?i:1-i;return r.ordinalNumber(s,{unit:"year"})}return jo.y(e,n)},Y:function(e,n,r,i){var s=hT(e,i),o=s>0?s:1-s;if(n==="YY"){var a=o%100;return an(a,2)}return n==="Yo"?r.ordinalNumber(o,{unit:"year"}):an(o,n.length)},R:function(e,n){var r=mL(e);return an(r,n.length)},u:function(e,n){var r=e.getUTCFullYear();return an(r,n.length)},Q:function(e,n,r){var i=Math.ceil((e.getUTCMonth()+1)/3);switch(n){case"Q":return String(i);case"QQ":return an(i,2);case"Qo":return r.ordinalNumber(i,{unit:"quarter"});case"QQQ":return r.quarter(i,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(i,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(i,{width:"wide",context:"formatting"})}},q:function(e,n,r){var i=Math.ceil((e.getUTCMonth()+1)/3);switch(n){case"q":return String(i);case"qq":return an(i,2);case"qo":return r.ordinalNumber(i,{unit:"quarter"});case"qqq":return r.quarter(i,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(i,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(i,{width:"wide",context:"standalone"})}},M:function(e,n,r){var i=e.getUTCMonth();switch(n){case"M":case"MM":return jo.M(e,n);case"Mo":return r.ordinalNumber(i+1,{unit:"month"});case"MMM":return r.month(i,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(i,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(i,{width:"wide",context:"formatting"})}},L:function(e,n,r){var i=e.getUTCMonth();switch(n){case"L":return String(i+1);case"LL":return an(i+1,2);case"Lo":return r.ordinalNumber(i+1,{unit:"month"});case"LLL":return r.month(i,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(i,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(i,{width:"wide",context:"standalone"})}},w:function(e,n,r,i){var s=vL(e,i);return n==="wo"?r.ordinalNumber(s,{unit:"week"}):an(s,n.length)},I:function(e,n,r){var i=gL(e);return n==="Io"?r.ordinalNumber(i,{unit:"week"}):an(i,n.length)},d:function(e,n,r){return n==="do"?r.ordinalNumber(e.getUTCDate(),{unit:"date"}):jo.d(e,n)},D:function(e,n,r){var i=$ue(e);return n==="Do"?r.ordinalNumber(i,{unit:"dayOfYear"}):an(i,n.length)},E:function(e,n,r){var i=e.getUTCDay();switch(n){case"E":case"EE":case"EEE":return r.day(i,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(i,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(i,{width:"short",context:"formatting"});case"EEEE":default:return r.day(i,{width:"wide",context:"formatting"})}},e:function(e,n,r,i){var s=e.getUTCDay(),o=(s-i.weekStartsOn+8)%7||7;switch(n){case"e":return String(o);case"ee":return an(o,2);case"eo":return r.ordinalNumber(o,{unit:"day"});case"eee":return r.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(s,{width:"short",context:"formatting"});case"eeee":default:return r.day(s,{width:"wide",context:"formatting"})}},c:function(e,n,r,i){var s=e.getUTCDay(),o=(s-i.weekStartsOn+8)%7||7;switch(n){case"c":return String(o);case"cc":return an(o,n.length);case"co":return r.ordinalNumber(o,{unit:"day"});case"ccc":return r.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(s,{width:"narrow",context:"standalone"});case"cccccc":return r.day(s,{width:"short",context:"standalone"});case"cccc":default:return r.day(s,{width:"wide",context:"standalone"})}},i:function(e,n,r){var i=e.getUTCDay(),s=i===0?7:i;switch(n){case"i":return String(s);case"ii":return an(s,n.length);case"io":return r.ordinalNumber(s,{unit:"day"});case"iii":return r.day(i,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(i,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(i,{width:"short",context:"formatting"});case"iiii":default:return r.day(i,{width:"wide",context:"formatting"})}},a:function(e,n,r){var i=e.getUTCHours(),s=i/12>=1?"pm":"am";switch(n){case"a":case"aa":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(e,n,r){var i=e.getUTCHours(),s;switch(i===12?s=cu.noon:i===0?s=cu.midnight:s=i/12>=1?"pm":"am",n){case"b":case"bb":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(e,n,r){var i=e.getUTCHours(),s;switch(i>=17?s=cu.evening:i>=12?s=cu.afternoon:i>=4?s=cu.morning:s=cu.night,n){case"B":case"BB":case"BBB":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(e,n,r){if(n==="ho"){var i=e.getUTCHours()%12;return i===0&&(i=12),r.ordinalNumber(i,{unit:"hour"})}return jo.h(e,n)},H:function(e,n,r){return n==="Ho"?r.ordinalNumber(e.getUTCHours(),{unit:"hour"}):jo.H(e,n)},K:function(e,n,r){var i=e.getUTCHours()%12;return n==="Ko"?r.ordinalNumber(i,{unit:"hour"}):an(i,n.length)},k:function(e,n,r){var i=e.getUTCHours();return i===0&&(i=24),n==="ko"?r.ordinalNumber(i,{unit:"hour"}):an(i,n.length)},m:function(e,n,r){return n==="mo"?r.ordinalNumber(e.getUTCMinutes(),{unit:"minute"}):jo.m(e,n)},s:function(e,n,r){return n==="so"?r.ordinalNumber(e.getUTCSeconds(),{unit:"second"}):jo.s(e,n)},S:function(e,n){return jo.S(e,n)},X:function(e,n,r,i){var s=i._originalDate||e,o=s.getTimezoneOffset();if(o===0)return"Z";switch(n){case"X":return TP(o);case"XXXX":case"XX":return tl(o);case"XXXXX":case"XXX":default:return tl(o,":")}},x:function(e,n,r,i){var s=i._originalDate||e,o=s.getTimezoneOffset();switch(n){case"x":return TP(o);case"xxxx":case"xx":return tl(o);case"xxxxx":case"xxx":default:return tl(o,":")}},O:function(e,n,r,i){var s=i._originalDate||e,o=s.getTimezoneOffset();switch(n){case"O":case"OO":case"OOO":return"GMT"+wP(o,":");case"OOOO":default:return"GMT"+tl(o,":")}},z:function(e,n,r,i){var s=i._originalDate||e,o=s.getTimezoneOffset();switch(n){case"z":case"zz":case"zzz":return"GMT"+wP(o,":");case"zzzz":default:return"GMT"+tl(o,":")}},t:function(e,n,r,i){var s=i._originalDate||e,o=Math.floor(s.getTime()/1e3);return an(o,n.length)},T:function(e,n,r,i){var s=i._originalDate||e,o=s.getTime();return an(o,n.length)}};function wP(t,e){var n=t>0?"-":"+",r=Math.abs(t),i=Math.floor(r/60),s=r%60;if(s===0)return n+String(i);var o=e||"";return n+String(i)+o+an(s,2)}function TP(t,e){if(t%60===0){var n=t>0?"-":"+";return n+an(Math.abs(t)/60,2)}return tl(t,e)}function tl(t,e){var n=e||"",r=t>0?"-":"+",i=Math.abs(t),s=an(Math.floor(i/60),2),o=an(i%60,2);return r+s+n+o}var EP=function(e,n){switch(e){case"P":return n.date({width:"short"});case"PP":return n.date({width:"medium"});case"PPP":return n.date({width:"long"});case"PPPP":default:return n.date({width:"full"})}},yL=function(e,n){switch(e){case"p":return n.time({width:"short"});case"pp":return n.time({width:"medium"});case"ppp":return n.time({width:"long"});case"pppp":default:return n.time({width:"full"})}},Wue=function(e,n){var r=e.match(/(P+)(p+)?/)||[],i=r[1],s=r[2];if(!s)return EP(e,n);var o;switch(i){case"P":o=n.dateTime({width:"short"});break;case"PP":o=n.dateTime({width:"medium"});break;case"PPP":o=n.dateTime({width:"long"});break;case"PPPP":default:o=n.dateTime({width:"full"});break}return o.replace("{{date}}",EP(i,n)).replace("{{time}}",yL(s,n))},c_={p:yL,P:Wue},zue=["D","DD"],Kue=["YY","YYYY"];function bL(t){return zue.indexOf(t)!==-1}function _L(t){return Kue.indexOf(t)!==-1}function bg(t,e,n){if(t==="YYYY")throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(e,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(t==="YY")throw new RangeError("Use `yy` instead of `YY` (in `".concat(e,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(t==="D")throw new RangeError("Use `d` instead of `D` (in `".concat(e,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(t==="DD")throw new RangeError("Use `dd` instead of `DD` (in `".concat(e,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var Gue={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Yue=function(e,n,r){var i,s=Gue[e];return typeof s=="string"?i=s:n===1?i=s.one:i=s.other.replace("{{count}}",n.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+i:i+" ago":i};const Que=Yue;function lb(t){return function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.width?String(e.width):t.defaultWidth,r=t.formats[n]||t.formats[t.defaultWidth];return r}}var Xue={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Jue={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Zue={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},ece={date:lb({formats:Xue,defaultWidth:"full"}),time:lb({formats:Jue,defaultWidth:"full"}),dateTime:lb({formats:Zue,defaultWidth:"full"})};const tce=ece;var nce={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},rce=function(e,n,r,i){return nce[e]};const ice=rce;function md(t){return function(e,n){var r=n!=null&&n.context?String(n.context):"standalone",i;if(r==="formatting"&&t.formattingValues){var s=t.defaultFormattingWidth||t.defaultWidth,o=n!=null&&n.width?String(n.width):s;i=t.formattingValues[o]||t.formattingValues[s]}else{var a=t.defaultWidth,l=n!=null&&n.width?String(n.width):t.defaultWidth;i=t.values[l]||t.values[a]}var u=t.argumentCallback?t.argumentCallback(e):e;return i[u]}}var sce={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},oce={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},ace={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},lce={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},uce={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},cce={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},dce=function(e,n){var r=Number(e),i=r%100;if(i>20||i<10)switch(i%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},hce={ordinalNumber:dce,era:md({values:sce,defaultWidth:"wide"}),quarter:md({values:oce,defaultWidth:"wide",argumentCallback:function(e){return e-1}}),month:md({values:ace,defaultWidth:"wide"}),day:md({values:lce,defaultWidth:"wide"}),dayPeriod:md({values:uce,defaultWidth:"wide",formattingValues:cce,defaultFormattingWidth:"wide"})};const fce=hce;function gd(t){return function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=n.width,i=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],s=e.match(i);if(!s)return null;var o=s[0],a=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],l=Array.isArray(a)?mce(a,function(d){return d.test(o)}):pce(a,function(d){return d.test(o)}),u;u=t.valueCallback?t.valueCallback(l):l,u=n.valueCallback?n.valueCallback(u):u;var c=e.slice(o.length);return{value:u,rest:c}}}function pce(t,e){for(var n in t)if(t.hasOwnProperty(n)&&e(t[n]))return n}function mce(t,e){for(var n=0;n<t.length;n++)if(e(t[n]))return n}function gce(t){return function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=e.match(t.matchPattern);if(!r)return null;var i=r[0],s=e.match(t.parsePattern);if(!s)return null;var o=t.valueCallback?t.valueCallback(s[0]):s[0];o=n.valueCallback?n.valueCallback(o):o;var a=e.slice(i.length);return{value:o,rest:a}}}var vce=/^(\d+)(th|st|nd|rd)?/i,yce=/\d+/i,bce={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},_ce={any:[/^b/i,/^(a|c)/i]},wce={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Tce={any:[/1/i,/2/i,/3/i,/4/i]},Ece={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Sce={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Ice={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Cce={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Ace={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Pce={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Oce={ordinalNumber:gce({matchPattern:vce,parsePattern:yce,valueCallback:function(e){return parseInt(e,10)}}),era:gd({matchPatterns:bce,defaultMatchWidth:"wide",parsePatterns:_ce,defaultParseWidth:"any"}),quarter:gd({matchPatterns:wce,defaultMatchWidth:"wide",parsePatterns:Tce,defaultParseWidth:"any",valueCallback:function(e){return e+1}}),month:gd({matchPatterns:Ece,defaultMatchWidth:"wide",parsePatterns:Sce,defaultParseWidth:"any"}),day:gd({matchPatterns:Ice,defaultMatchWidth:"wide",parsePatterns:Cce,defaultParseWidth:"any"}),dayPeriod:gd({matchPatterns:Ace,defaultMatchWidth:"any",parsePatterns:Pce,defaultParseWidth:"any"})};const kce=Oce;var Rce={code:"en-US",formatDistance:Que,formatLong:tce,formatRelative:ice,localize:fce,match:kce,options:{weekStartsOn:0,firstWeekContainsDate:1}};const wL=Rce;var xce=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Dce=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Nce=/^'([^]*?)'?$/,Mce=/''/g,Lce=/[a-zA-Z]/;function ya(t,e,n){var r,i,s,o,a,l,u,c,d,h,p,m,g,y,A,C,S,E;et(2,arguments);var k=String(e),x=Zs(),I=(r=(i=n==null?void 0:n.locale)!==null&&i!==void 0?i:x.locale)!==null&&r!==void 0?r:wL,b=pt((s=(o=(a=(l=n==null?void 0:n.firstWeekContainsDate)!==null&&l!==void 0?l:n==null||(u=n.locale)===null||u===void 0||(c=u.options)===null||c===void 0?void 0:c.firstWeekContainsDate)!==null&&a!==void 0?a:x.firstWeekContainsDate)!==null&&o!==void 0?o:(d=x.locale)===null||d===void 0||(h=d.options)===null||h===void 0?void 0:h.firstWeekContainsDate)!==null&&s!==void 0?s:1);if(!(b>=1&&b<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var _=pt((p=(m=(g=(y=n==null?void 0:n.weekStartsOn)!==null&&y!==void 0?y:n==null||(A=n.locale)===null||A===void 0||(C=A.options)===null||C===void 0?void 0:C.weekStartsOn)!==null&&g!==void 0?g:x.weekStartsOn)!==null&&m!==void 0?m:(S=x.locale)===null||S===void 0||(E=S.options)===null||E===void 0?void 0:E.weekStartsOn)!==null&&p!==void 0?p:0);if(!(_>=0&&_<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!I.localize)throw new RangeError("locale must contain localize property");if(!I.formatLong)throw new RangeError("locale must contain formatLong property");var T=ct(t);if(!ah(T))throw new RangeError("Invalid time value");var R=yg(T),N=pL(T,R),O={firstWeekContainsDate:b,weekStartsOn:_,locale:I,_originalDate:T},j=k.match(Dce).map(function(U){var $=U[0];if($==="p"||$==="P"){var B=c_[$];return B(U,I.formatLong)}return U}).join("").match(xce).map(function(U){if(U==="''")return"'";var $=U[0];if($==="'")return Vce(U);var B=Hue[$];if(B)return!(n!=null&&n.useAdditionalWeekYearTokens)&&_L(U)&&bg(U,e,String(t)),!(n!=null&&n.useAdditionalDayOfYearTokens)&&bL(U)&&bg(U,e,String(t)),B(N,U,I.localize,O);if($.match(Lce))throw new RangeError("Format string contains an unescaped latin alphabet character `"+$+"`");return U}).join("");return j}function Vce(t){var e=t.match(Nce);return e?e[1].replace(Mce,"'"):t}function $ce(t,e){if(t==null)throw new TypeError("assign requires that input parameter not be null or undefined");for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}function Fce(t){et(1,arguments);var e=ct(t),n=e.getDay();return n}function Uce(t){et(1,arguments);var e=ct(t),n=e.getFullYear(),r=e.getMonth(),i=new Date(0);return i.setFullYear(n,r+1,0),i.setHours(0,0,0,0),i.getDate()}function bs(t){et(1,arguments);var e=ct(t),n=e.getHours();return n}var qce=6048e5;function Bce(t){et(1,arguments);var e=ct(t),n=vg(e).getTime()-Pue(e).getTime();return Math.round(n/qce)+1}function js(t){et(1,arguments);var e=ct(t),n=e.getMinutes();return n}function zt(t){et(1,arguments);var e=ct(t),n=e.getMonth();return n}function Ec(t){et(1,arguments);var e=ct(t),n=e.getSeconds();return n}function jce(t,e){var n,r,i,s,o,a,l,u;et(1,arguments);var c=ct(t),d=c.getFullYear(),h=Zs(),p=pt((n=(r=(i=(s=e==null?void 0:e.firstWeekContainsDate)!==null&&s!==void 0?s:e==null||(o=e.locale)===null||o===void 0||(a=o.options)===null||a===void 0?void 0:a.firstWeekContainsDate)!==null&&i!==void 0?i:h.firstWeekContainsDate)!==null&&r!==void 0?r:(l=h.locale)===null||l===void 0||(u=l.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&n!==void 0?n:1);if(!(p>=1&&p<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var m=new Date(0);m.setFullYear(d+1,0,p),m.setHours(0,0,0,0);var g=Ul(m,e),y=new Date(0);y.setFullYear(d,0,p),y.setHours(0,0,0,0);var A=Ul(y,e);return c.getTime()>=g.getTime()?d+1:c.getTime()>=A.getTime()?d:d-1}function Hce(t,e){var n,r,i,s,o,a,l,u;et(1,arguments);var c=Zs(),d=pt((n=(r=(i=(s=e==null?void 0:e.firstWeekContainsDate)!==null&&s!==void 0?s:e==null||(o=e.locale)===null||o===void 0||(a=o.options)===null||a===void 0?void 0:a.firstWeekContainsDate)!==null&&i!==void 0?i:c.firstWeekContainsDate)!==null&&r!==void 0?r:(l=c.locale)===null||l===void 0||(u=l.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&n!==void 0?n:1),h=jce(t,e),p=new Date(0);p.setFullYear(h,0,d),p.setHours(0,0,0,0);var m=Ul(p,e);return m}var Wce=6048e5;function zce(t,e){et(1,arguments);var n=ct(t),r=Ul(n,e).getTime()-Hce(n,e).getTime();return Math.round(r/Wce)+1}function At(t){return et(1,arguments),ct(t).getFullYear()}function Kh(t,e){et(2,arguments);var n=ct(t),r=ct(e);return n.getTime()>r.getTime()}function Gh(t,e){et(2,arguments);var n=ct(t),r=ct(e);return n.getTime()<r.getTime()}function xu(t,e){et(2,arguments);var n=ct(t),r=ct(e);return n.getTime()===r.getTime()}function SP(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function Kce(t,e){if(t){if(typeof t=="string")return SP(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?SP(t,e):void 0}}function IP(t,e){var n=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=Kce(t))||e&&t&&typeof t.length=="number"){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(u){throw u},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var s,o=!0,a=!1;return{s:function(){n=n.call(t)},n:function(){var u=n.next();return o=u.done,u},e:function(u){a=!0,s=u},f:function(){try{o||n.return==null||n.return()}finally{if(a)throw s}}}}function Je(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function d_(t,e){return d_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},d_(t,e)}function Gt(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&d_(t,e)}function _g(t){return _g=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},_g(t)}function TL(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(TL=function(){return!!t})()}function Gce(t,e){if(e&&(es(e)=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Je(t)}function Yt(t){var e=TL();return function(){var n,r=_g(t);if(e){var i=_g(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Gce(this,n)}}function Ut(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Yce(t,e){if(es(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(es(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function EL(t){var e=Yce(t,"string");return es(e)=="symbol"?e:e+""}function CP(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,EL(r.key),r)}}function qt(t,e,n){return e&&CP(t.prototype,e),n&&CP(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Qe(t,e,n){return(e=EL(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Qce=10,SL=function(){function t(){Ut(this,t),Qe(this,"priority",void 0),Qe(this,"subPriority",0)}return qt(t,[{key:"validate",value:function(n,r){return!0}}]),t}(),Xce=function(t){Gt(n,t);var e=Yt(n);function n(r,i,s,o,a){var l;return Ut(this,n),l=e.call(this),l.value=r,l.validateValue=i,l.setValue=s,l.priority=o,a&&(l.subPriority=a),l}return qt(n,[{key:"validate",value:function(i,s){return this.validateValue(i,this.value,s)}},{key:"set",value:function(i,s,o){return this.setValue(i,s,this.value,o)}}]),n}(SL),Jce=function(t){Gt(n,t);var e=Yt(n);function n(){var r;Ut(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Qe(Je(r),"priority",Qce),Qe(Je(r),"subPriority",-1),r}return qt(n,[{key:"set",value:function(i,s){if(s.timestampIsSet)return i;var o=new Date(0);return o.setFullYear(i.getUTCFullYear(),i.getUTCMonth(),i.getUTCDate()),o.setHours(i.getUTCHours(),i.getUTCMinutes(),i.getUTCSeconds(),i.getUTCMilliseconds()),o}}]),n}(SL),sn=function(){function t(){Ut(this,t),Qe(this,"incompatibleTokens",void 0),Qe(this,"priority",void 0),Qe(this,"subPriority",void 0)}return qt(t,[{key:"run",value:function(n,r,i,s){var o=this.parse(n,r,i,s);return o?{setter:new Xce(o.value,this.validate,this.set,this.priority,this.subPriority),rest:o.rest}:null}},{key:"validate",value:function(n,r,i){return!0}}]),t}(),Zce=function(t){Gt(n,t);var e=Yt(n);function n(){var r;Ut(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Qe(Je(r),"priority",140),Qe(Je(r),"incompatibleTokens",["R","u","t","T"]),r}return qt(n,[{key:"parse",value:function(i,s,o){switch(s){case"G":case"GG":case"GGG":return o.era(i,{width:"abbreviated"})||o.era(i,{width:"narrow"});case"GGGGG":return o.era(i,{width:"narrow"});case"GGGG":default:return o.era(i,{width:"wide"})||o.era(i,{width:"abbreviated"})||o.era(i,{width:"narrow"})}}},{key:"set",value:function(i,s,o){return s.era=o,i.setUTCFullYear(o,0,1),i.setUTCHours(0,0,0,0),i}}]),n}(sn),nr={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},ks={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function rr(t,e){return t&&{value:e(t.value),rest:t.rest}}function jn(t,e){var n=e.match(t);return n?{value:parseInt(n[0],10),rest:e.slice(n[0].length)}:null}function Rs(t,e){var n=e.match(t);if(!n)return null;if(n[0]==="Z")return{value:0,rest:e.slice(1)};var r=n[1]==="+"?1:-1,i=n[2]?parseInt(n[2],10):0,s=n[3]?parseInt(n[3],10):0,o=n[5]?parseInt(n[5],10):0;return{value:r*(i*dT+s*cT+o*xue),rest:e.slice(n[0].length)}}function IL(t){return jn(nr.anyDigitsSigned,t)}function Xn(t,e){switch(t){case 1:return jn(nr.singleDigit,e);case 2:return jn(nr.twoDigits,e);case 3:return jn(nr.threeDigits,e);case 4:return jn(nr.fourDigits,e);default:return jn(new RegExp("^\\d{1,"+t+"}"),e)}}function wg(t,e){switch(t){case 1:return jn(nr.singleDigitSigned,e);case 2:return jn(nr.twoDigitsSigned,e);case 3:return jn(nr.threeDigitsSigned,e);case 4:return jn(nr.fourDigitsSigned,e);default:return jn(new RegExp("^-?\\d{1,"+t+"}"),e)}}function fT(t){switch(t){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function CL(t,e){var n=e>0,r=n?e:1-e,i;if(r<=50)i=t||100;else{var s=r+50,o=Math.floor(s/100)*100,a=t>=s%100;i=t+o-(a?100:0)}return n?i:1-i}function AL(t){return t%400===0||t%4===0&&t%100!==0}var ede=function(t){Gt(n,t);var e=Yt(n);function n(){var r;Ut(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Qe(Je(r),"priority",130),Qe(Je(r),"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"]),r}return qt(n,[{key:"parse",value:function(i,s,o){var a=function(u){return{year:u,isTwoDigitYear:s==="yy"}};switch(s){case"y":return rr(Xn(4,i),a);case"yo":return rr(o.ordinalNumber(i,{unit:"year"}),a);default:return rr(Xn(s.length,i),a)}}},{key:"validate",value:function(i,s){return s.isTwoDigitYear||s.year>0}},{key:"set",value:function(i,s,o){var a=i.getUTCFullYear();if(o.isTwoDigitYear){var l=CL(o.year,a);return i.setUTCFullYear(l,0,1),i.setUTCHours(0,0,0,0),i}var u=!("era"in s)||s.era===1?o.year:1-o.year;return i.setUTCFullYear(u,0,1),i.setUTCHours(0,0,0,0),i}}]),n}(sn),tde=function(t){Gt(n,t);var e=Yt(n);function n(){var r;Ut(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Qe(Je(r),"priority",130),Qe(Je(r),"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"]),r}return qt(n,[{key:"parse",value:function(i,s,o){var a=function(u){return{year:u,isTwoDigitYear:s==="YY"}};switch(s){case"Y":return rr(Xn(4,i),a);case"Yo":return rr(o.ordinalNumber(i,{unit:"year"}),a);default:return rr(Xn(s.length,i),a)}}},{key:"validate",value:function(i,s){return s.isTwoDigitYear||s.year>0}},{key:"set",value:function(i,s,o,a){var l=hT(i,a);if(o.isTwoDigitYear){var u=CL(o.year,l);return i.setUTCFullYear(u,0,a.firstWeekContainsDate),i.setUTCHours(0,0,0,0),ql(i,a)}var c=!("era"in s)||s.era===1?o.year:1-o.year;return i.setUTCFullYear(c,0,a.firstWeekContainsDate),i.setUTCHours(0,0,0,0),ql(i,a)}}]),n}(sn),nde=function(t){Gt(n,t);var e=Yt(n);function n(){var r;Ut(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Qe(Je(r),"priority",130),Qe(Je(r),"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"]),r}return qt(n,[{key:"parse",value:function(i,s){return wg(s==="R"?4:s.length,i)}},{key:"set",value:function(i,s,o){var a=new Date(0);return a.setUTCFullYear(o,0,4),a.setUTCHours(0,0,0,0),Tc(a)}}]),n}(sn),rde=function(t){Gt(n,t);var e=Yt(n);function n(){var r;Ut(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Qe(Je(r),"priority",130),Qe(Je(r),"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"]),r}return qt(n,[{key:"parse",value:function(i,s){return wg(s==="u"?4:s.length,i)}},{key:"set",value:function(i,s,o){return i.setUTCFullYear(o,0,1),i.setUTCHours(0,0,0,0),i}}]),n}(sn),ide=function(t){Gt(n,t);var e=Yt(n);function n(){var r;Ut(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Qe(Je(r),"priority",120),Qe(Je(r),"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"]),r}return qt(n,[{key:"parse",value:function(i,s,o){switch(s){case"Q":case"QQ":return Xn(s.length,i);case"Qo":return o.ordinalNumber(i,{unit:"quarter"});case"QQQ":return o.quarter(i,{width:"abbreviated",context:"formatting"})||o.quarter(i,{width:"narrow",context:"formatting"});case"QQQQQ":return o.quarter(i,{width:"narrow",context:"formatting"});case"QQQQ":default:return o.quarter(i,{width:"wide",context:"formatting"})||o.quarter(i,{width:"abbreviated",context:"formatting"})||o.quarter(i,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(i,s){return s>=1&&s<=4}},{key:"set",value:function(i,s,o){return i.setUTCMonth((o-1)*3,1),i.setUTCHours(0,0,0,0),i}}]),n}(sn),sde=function(t){Gt(n,t);var e=Yt(n);function n(){var r;Ut(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Qe(Je(r),"priority",120),Qe(Je(r),"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"]),r}return qt(n,[{key:"parse",value:function(i,s,o){switch(s){case"q":case"qq":return Xn(s.length,i);case"qo":return o.ordinalNumber(i,{unit:"quarter"});case"qqq":return o.quarter(i,{width:"abbreviated",context:"standalone"})||o.quarter(i,{width:"narrow",context:"standalone"});case"qqqqq":return o.quarter(i,{width:"narrow",context:"standalone"});case"qqqq":default:return o.quarter(i,{width:"wide",context:"standalone"})||o.quarter(i,{width:"abbreviated",context:"standalone"})||o.quarter(i,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(i,s){return s>=1&&s<=4}},{key:"set",value:function(i,s,o){return i.setUTCMonth((o-1)*3,1),i.setUTCHours(0,0,0,0),i}}]),n}(sn),ode=function(t){Gt(n,t);var e=Yt(n);function n(){var r;Ut(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Qe(Je(r),"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]),Qe(Je(r),"priority",110),r}return qt(n,[{key:"parse",value:function(i,s,o){var a=function(u){return u-1};switch(s){case"M":return rr(jn(nr.month,i),a);case"MM":return rr(Xn(2,i),a);case"Mo":return rr(o.ordinalNumber(i,{unit:"month"}),a);case"MMM":return o.month(i,{width:"abbreviated",context:"formatting"})||o.month(i,{width:"narrow",context:"formatting"});case"MMMMM":return o.month(i,{width:"narrow",context:"formatting"});case"MMMM":default:return o.month(i,{width:"wide",context:"formatting"})||o.month(i,{width:"abbreviated",context:"formatting"})||o.month(i,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(i,s){return s>=0&&s<=11}},{key:"set",value:function(i,s,o){return i.setUTCMonth(o,1),i.setUTCHours(0,0,0,0),i}}]),n}(sn),ade=function(t){Gt(n,t);var e=Yt(n);function n(){var r;Ut(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Qe(Je(r),"priority",110),Qe(Je(r),"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"]),r}return qt(n,[{key:"parse",value:function(i,s,o){var a=function(u){return u-1};switch(s){case"L":return rr(jn(nr.month,i),a);case"LL":return rr(Xn(2,i),a);case"Lo":return rr(o.ordinalNumber(i,{unit:"month"}),a);case"LLL":return o.month(i,{width:"abbreviated",context:"standalone"})||o.month(i,{width:"narrow",context:"standalone"});case"LLLLL":return o.month(i,{width:"narrow",context:"standalone"});case"LLLL":default:return o.month(i,{width:"wide",context:"standalone"})||o.month(i,{width:"abbreviated",context:"standalone"})||o.month(i,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(i,s){return s>=0&&s<=11}},{key:"set",value:function(i,s,o){return i.setUTCMonth(o,1),i.setUTCHours(0,0,0,0),i}}]),n}(sn);function lde(t,e,n){et(2,arguments);var r=ct(t),i=pt(e),s=vL(r,n)-i;return r.setUTCDate(r.getUTCDate()-s*7),r}var ude=function(t){Gt(n,t);var e=Yt(n);function n(){var r;Ut(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Qe(Je(r),"priority",100),Qe(Je(r),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"]),r}return qt(n,[{key:"parse",value:function(i,s,o){switch(s){case"w":return jn(nr.week,i);case"wo":return o.ordinalNumber(i,{unit:"week"});default:return Xn(s.length,i)}}},{key:"validate",value:function(i,s){return s>=1&&s<=53}},{key:"set",value:function(i,s,o,a){return ql(lde(i,o,a),a)}}]),n}(sn);function cde(t,e){et(2,arguments);var n=ct(t),r=pt(e),i=gL(n)-r;return n.setUTCDate(n.getUTCDate()-i*7),n}var dde=function(t){Gt(n,t);var e=Yt(n);function n(){var r;Ut(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Qe(Je(r),"priority",100),Qe(Je(r),"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"]),r}return qt(n,[{key:"parse",value:function(i,s,o){switch(s){case"I":return jn(nr.week,i);case"Io":return o.ordinalNumber(i,{unit:"week"});default:return Xn(s.length,i)}}},{key:"validate",value:function(i,s){return s>=1&&s<=53}},{key:"set",value:function(i,s,o){return Tc(cde(i,o))}}]),n}(sn),hde=[31,28,31,30,31,30,31,31,30,31,30,31],fde=[31,29,31,30,31,30,31,31,30,31,30,31],pde=function(t){Gt(n,t);var e=Yt(n);function n(){var r;Ut(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Qe(Je(r),"priority",90),Qe(Je(r),"subPriority",1),Qe(Je(r),"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"]),r}return qt(n,[{key:"parse",value:function(i,s,o){switch(s){case"d":return jn(nr.date,i);case"do":return o.ordinalNumber(i,{unit:"date"});default:return Xn(s.length,i)}}},{key:"validate",value:function(i,s){var o=i.getUTCFullYear(),a=AL(o),l=i.getUTCMonth();return a?s>=1&&s<=fde[l]:s>=1&&s<=hde[l]}},{key:"set",value:function(i,s,o){return i.setUTCDate(o),i.setUTCHours(0,0,0,0),i}}]),n}(sn),mde=function(t){Gt(n,t);var e=Yt(n);function n(){var r;Ut(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Qe(Je(r),"priority",90),Qe(Je(r),"subpriority",1),Qe(Je(r),"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"]),r}return qt(n,[{key:"parse",value:function(i,s,o){switch(s){case"D":case"DD":return jn(nr.dayOfYear,i);case"Do":return o.ordinalNumber(i,{unit:"date"});default:return Xn(s.length,i)}}},{key:"validate",value:function(i,s){var o=i.getUTCFullYear(),a=AL(o);return a?s>=1&&s<=366:s>=1&&s<=365}},{key:"set",value:function(i,s,o){return i.setUTCMonth(0,o),i.setUTCHours(0,0,0,0),i}}]),n}(sn);function pT(t,e,n){var r,i,s,o,a,l,u,c;et(2,arguments);var d=Zs(),h=pt((r=(i=(s=(o=n==null?void 0:n.weekStartsOn)!==null&&o!==void 0?o:n==null||(a=n.locale)===null||a===void 0||(l=a.options)===null||l===void 0?void 0:l.weekStartsOn)!==null&&s!==void 0?s:d.weekStartsOn)!==null&&i!==void 0?i:(u=d.locale)===null||u===void 0||(c=u.options)===null||c===void 0?void 0:c.weekStartsOn)!==null&&r!==void 0?r:0);if(!(h>=0&&h<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var p=ct(t),m=pt(e),g=p.getUTCDay(),y=m%7,A=(y+7)%7,C=(A<h?7:0)+m-g;return p.setUTCDate(p.getUTCDate()+C),p}var gde=function(t){Gt(n,t);var e=Yt(n);function n(){var r;Ut(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Qe(Je(r),"priority",90),Qe(Je(r),"incompatibleTokens",["D","i","e","c","t","T"]),r}return qt(n,[{key:"parse",value:function(i,s,o){switch(s){case"E":case"EE":case"EEE":return o.day(i,{width:"abbreviated",context:"formatting"})||o.day(i,{width:"short",context:"formatting"})||o.day(i,{width:"narrow",context:"formatting"});case"EEEEE":return o.day(i,{width:"narrow",context:"formatting"});case"EEEEEE":return o.day(i,{width:"short",context:"formatting"})||o.day(i,{width:"narrow",context:"formatting"});case"EEEE":default:return o.day(i,{width:"wide",context:"formatting"})||o.day(i,{width:"abbreviated",context:"formatting"})||o.day(i,{width:"short",context:"formatting"})||o.day(i,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(i,s){return s>=0&&s<=6}},{key:"set",value:function(i,s,o,a){return i=pT(i,o,a),i.setUTCHours(0,0,0,0),i}}]),n}(sn),vde=function(t){Gt(n,t);var e=Yt(n);function n(){var r;Ut(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Qe(Je(r),"priority",90),Qe(Je(r),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"]),r}return qt(n,[{key:"parse",value:function(i,s,o,a){var l=function(c){var d=Math.floor((c-1)/7)*7;return(c+a.weekStartsOn+6)%7+d};switch(s){case"e":case"ee":return rr(Xn(s.length,i),l);case"eo":return rr(o.ordinalNumber(i,{unit:"day"}),l);case"eee":return o.day(i,{width:"abbreviated",context:"formatting"})||o.day(i,{width:"short",context:"formatting"})||o.day(i,{width:"narrow",context:"formatting"});case"eeeee":return o.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return o.day(i,{width:"short",context:"formatting"})||o.day(i,{width:"narrow",context:"formatting"});case"eeee":default:return o.day(i,{width:"wide",context:"formatting"})||o.day(i,{width:"abbreviated",context:"formatting"})||o.day(i,{width:"short",context:"formatting"})||o.day(i,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(i,s){return s>=0&&s<=6}},{key:"set",value:function(i,s,o,a){return i=pT(i,o,a),i.setUTCHours(0,0,0,0),i}}]),n}(sn),yde=function(t){Gt(n,t);var e=Yt(n);function n(){var r;Ut(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Qe(Je(r),"priority",90),Qe(Je(r),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"]),r}return qt(n,[{key:"parse",value:function(i,s,o,a){var l=function(c){var d=Math.floor((c-1)/7)*7;return(c+a.weekStartsOn+6)%7+d};switch(s){case"c":case"cc":return rr(Xn(s.length,i),l);case"co":return rr(o.ordinalNumber(i,{unit:"day"}),l);case"ccc":return o.day(i,{width:"abbreviated",context:"standalone"})||o.day(i,{width:"short",context:"standalone"})||o.day(i,{width:"narrow",context:"standalone"});case"ccccc":return o.day(i,{width:"narrow",context:"standalone"});case"cccccc":return o.day(i,{width:"short",context:"standalone"})||o.day(i,{width:"narrow",context:"standalone"});case"cccc":default:return o.day(i,{width:"wide",context:"standalone"})||o.day(i,{width:"abbreviated",context:"standalone"})||o.day(i,{width:"short",context:"standalone"})||o.day(i,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(i,s){return s>=0&&s<=6}},{key:"set",value:function(i,s,o,a){return i=pT(i,o,a),i.setUTCHours(0,0,0,0),i}}]),n}(sn);function bde(t,e){et(2,arguments);var n=pt(e);n%7===0&&(n=n-7);var r=1,i=ct(t),s=i.getUTCDay(),o=n%7,a=(o+7)%7,l=(a<r?7:0)+n-s;return i.setUTCDate(i.getUTCDate()+l),i}var _de=function(t){Gt(n,t);var e=Yt(n);function n(){var r;Ut(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Qe(Je(r),"priority",90),Qe(Je(r),"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"]),r}return qt(n,[{key:"parse",value:function(i,s,o){var a=function(u){return u===0?7:u};switch(s){case"i":case"ii":return Xn(s.length,i);case"io":return o.ordinalNumber(i,{unit:"day"});case"iii":return rr(o.day(i,{width:"abbreviated",context:"formatting"})||o.day(i,{width:"short",context:"formatting"})||o.day(i,{width:"narrow",context:"formatting"}),a);case"iiiii":return rr(o.day(i,{width:"narrow",context:"formatting"}),a);case"iiiiii":return rr(o.day(i,{width:"short",context:"formatting"})||o.day(i,{width:"narrow",context:"formatting"}),a);case"iiii":default:return rr(o.day(i,{width:"wide",context:"formatting"})||o.day(i,{width:"abbreviated",context:"formatting"})||o.day(i,{width:"short",context:"formatting"})||o.day(i,{width:"narrow",context:"formatting"}),a)}}},{key:"validate",value:function(i,s){return s>=1&&s<=7}},{key:"set",value:function(i,s,o){return i=bde(i,o),i.setUTCHours(0,0,0,0),i}}]),n}(sn),wde=function(t){Gt(n,t);var e=Yt(n);function n(){var r;Ut(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Qe(Je(r),"priority",80),Qe(Je(r),"incompatibleTokens",["b","B","H","k","t","T"]),r}return qt(n,[{key:"parse",value:function(i,s,o){switch(s){case"a":case"aa":case"aaa":return o.dayPeriod(i,{width:"abbreviated",context:"formatting"})||o.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaaa":return o.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return o.dayPeriod(i,{width:"wide",context:"formatting"})||o.dayPeriod(i,{width:"abbreviated",context:"formatting"})||o.dayPeriod(i,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(i,s,o){return i.setUTCHours(fT(o),0,0,0),i}}]),n}(sn),Tde=function(t){Gt(n,t);var e=Yt(n);function n(){var r;Ut(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Qe(Je(r),"priority",80),Qe(Je(r),"incompatibleTokens",["a","B","H","k","t","T"]),r}return qt(n,[{key:"parse",value:function(i,s,o){switch(s){case"b":case"bb":case"bbb":return o.dayPeriod(i,{width:"abbreviated",context:"formatting"})||o.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbbb":return o.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return o.dayPeriod(i,{width:"wide",context:"formatting"})||o.dayPeriod(i,{width:"abbreviated",context:"formatting"})||o.dayPeriod(i,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(i,s,o){return i.setUTCHours(fT(o),0,0,0),i}}]),n}(sn),Ede=function(t){Gt(n,t);var e=Yt(n);function n(){var r;Ut(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Qe(Je(r),"priority",80),Qe(Je(r),"incompatibleTokens",["a","b","t","T"]),r}return qt(n,[{key:"parse",value:function(i,s,o){switch(s){case"B":case"BB":case"BBB":return o.dayPeriod(i,{width:"abbreviated",context:"formatting"})||o.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBBB":return o.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return o.dayPeriod(i,{width:"wide",context:"formatting"})||o.dayPeriod(i,{width:"abbreviated",context:"formatting"})||o.dayPeriod(i,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(i,s,o){return i.setUTCHours(fT(o),0,0,0),i}}]),n}(sn),Sde=function(t){Gt(n,t);var e=Yt(n);function n(){var r;Ut(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Qe(Je(r),"priority",70),Qe(Je(r),"incompatibleTokens",["H","K","k","t","T"]),r}return qt(n,[{key:"parse",value:function(i,s,o){switch(s){case"h":return jn(nr.hour12h,i);case"ho":return o.ordinalNumber(i,{unit:"hour"});default:return Xn(s.length,i)}}},{key:"validate",value:function(i,s){return s>=1&&s<=12}},{key:"set",value:function(i,s,o){var a=i.getUTCHours()>=12;return a&&o<12?i.setUTCHours(o+12,0,0,0):!a&&o===12?i.setUTCHours(0,0,0,0):i.setUTCHours(o,0,0,0),i}}]),n}(sn),Ide=function(t){Gt(n,t);var e=Yt(n);function n(){var r;Ut(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Qe(Je(r),"priority",70),Qe(Je(r),"incompatibleTokens",["a","b","h","K","k","t","T"]),r}return qt(n,[{key:"parse",value:function(i,s,o){switch(s){case"H":return jn(nr.hour23h,i);case"Ho":return o.ordinalNumber(i,{unit:"hour"});default:return Xn(s.length,i)}}},{key:"validate",value:function(i,s){return s>=0&&s<=23}},{key:"set",value:function(i,s,o){return i.setUTCHours(o,0,0,0),i}}]),n}(sn),Cde=function(t){Gt(n,t);var e=Yt(n);function n(){var r;Ut(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Qe(Je(r),"priority",70),Qe(Je(r),"incompatibleTokens",["h","H","k","t","T"]),r}return qt(n,[{key:"parse",value:function(i,s,o){switch(s){case"K":return jn(nr.hour11h,i);case"Ko":return o.ordinalNumber(i,{unit:"hour"});default:return Xn(s.length,i)}}},{key:"validate",value:function(i,s){return s>=0&&s<=11}},{key:"set",value:function(i,s,o){var a=i.getUTCHours()>=12;return a&&o<12?i.setUTCHours(o+12,0,0,0):i.setUTCHours(o,0,0,0),i}}]),n}(sn),Ade=function(t){Gt(n,t);var e=Yt(n);function n(){var r;Ut(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Qe(Je(r),"priority",70),Qe(Je(r),"incompatibleTokens",["a","b","h","H","K","t","T"]),r}return qt(n,[{key:"parse",value:function(i,s,o){switch(s){case"k":return jn(nr.hour24h,i);case"ko":return o.ordinalNumber(i,{unit:"hour"});default:return Xn(s.length,i)}}},{key:"validate",value:function(i,s){return s>=1&&s<=24}},{key:"set",value:function(i,s,o){var a=o<=24?o%24:o;return i.setUTCHours(a,0,0,0),i}}]),n}(sn),Pde=function(t){Gt(n,t);var e=Yt(n);function n(){var r;Ut(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Qe(Je(r),"priority",60),Qe(Je(r),"incompatibleTokens",["t","T"]),r}return qt(n,[{key:"parse",value:function(i,s,o){switch(s){case"m":return jn(nr.minute,i);case"mo":return o.ordinalNumber(i,{unit:"minute"});default:return Xn(s.length,i)}}},{key:"validate",value:function(i,s){return s>=0&&s<=59}},{key:"set",value:function(i,s,o){return i.setUTCMinutes(o,0,0),i}}]),n}(sn),Ode=function(t){Gt(n,t);var e=Yt(n);function n(){var r;Ut(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Qe(Je(r),"priority",50),Qe(Je(r),"incompatibleTokens",["t","T"]),r}return qt(n,[{key:"parse",value:function(i,s,o){switch(s){case"s":return jn(nr.second,i);case"so":return o.ordinalNumber(i,{unit:"second"});default:return Xn(s.length,i)}}},{key:"validate",value:function(i,s){return s>=0&&s<=59}},{key:"set",value:function(i,s,o){return i.setUTCSeconds(o,0),i}}]),n}(sn),kde=function(t){Gt(n,t);var e=Yt(n);function n(){var r;Ut(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Qe(Je(r),"priority",30),Qe(Je(r),"incompatibleTokens",["t","T"]),r}return qt(n,[{key:"parse",value:function(i,s){var o=function(l){return Math.floor(l*Math.pow(10,-s.length+3))};return rr(Xn(s.length,i),o)}},{key:"set",value:function(i,s,o){return i.setUTCMilliseconds(o),i}}]),n}(sn),Rde=function(t){Gt(n,t);var e=Yt(n);function n(){var r;Ut(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Qe(Je(r),"priority",10),Qe(Je(r),"incompatibleTokens",["t","T","x"]),r}return qt(n,[{key:"parse",value:function(i,s){switch(s){case"X":return Rs(ks.basicOptionalMinutes,i);case"XX":return Rs(ks.basic,i);case"XXXX":return Rs(ks.basicOptionalSeconds,i);case"XXXXX":return Rs(ks.extendedOptionalSeconds,i);case"XXX":default:return Rs(ks.extended,i)}}},{key:"set",value:function(i,s,o){return s.timestampIsSet?i:new Date(i.getTime()-o)}}]),n}(sn),xde=function(t){Gt(n,t);var e=Yt(n);function n(){var r;Ut(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Qe(Je(r),"priority",10),Qe(Je(r),"incompatibleTokens",["t","T","X"]),r}return qt(n,[{key:"parse",value:function(i,s){switch(s){case"x":return Rs(ks.basicOptionalMinutes,i);case"xx":return Rs(ks.basic,i);case"xxxx":return Rs(ks.basicOptionalSeconds,i);case"xxxxx":return Rs(ks.extendedOptionalSeconds,i);case"xxx":default:return Rs(ks.extended,i)}}},{key:"set",value:function(i,s,o){return s.timestampIsSet?i:new Date(i.getTime()-o)}}]),n}(sn),Dde=function(t){Gt(n,t);var e=Yt(n);function n(){var r;Ut(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Qe(Je(r),"priority",40),Qe(Je(r),"incompatibleTokens","*"),r}return qt(n,[{key:"parse",value:function(i){return IL(i)}},{key:"set",value:function(i,s,o){return[new Date(o*1e3),{timestampIsSet:!0}]}}]),n}(sn),Nde=function(t){Gt(n,t);var e=Yt(n);function n(){var r;Ut(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Qe(Je(r),"priority",20),Qe(Je(r),"incompatibleTokens","*"),r}return qt(n,[{key:"parse",value:function(i){return IL(i)}},{key:"set",value:function(i,s,o){return[new Date(o),{timestampIsSet:!0}]}}]),n}(sn),Mde={G:new Zce,y:new ede,Y:new tde,R:new nde,u:new rde,Q:new ide,q:new sde,M:new ode,L:new ade,w:new ude,I:new dde,d:new pde,D:new mde,E:new gde,e:new vde,c:new yde,i:new _de,a:new wde,b:new Tde,B:new Ede,h:new Sde,H:new Ide,K:new Cde,k:new Ade,m:new Pde,s:new Ode,S:new kde,X:new Rde,x:new xde,t:new Dde,T:new Nde},Lde=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Vde=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,$de=/^'([^]*?)'?$/,Fde=/''/g,Ude=/\S/,qde=/[a-zA-Z]/;function h_(t,e,n,r){var i,s,o,a,l,u,c,d,h,p,m,g,y,A,C,S,E,k;et(3,arguments);var x=String(t),I=String(e),b=Zs(),_=(i=(s=r==null?void 0:r.locale)!==null&&s!==void 0?s:b.locale)!==null&&i!==void 0?i:wL;if(!_.match)throw new RangeError("locale must contain match property");var T=pt((o=(a=(l=(u=r==null?void 0:r.firstWeekContainsDate)!==null&&u!==void 0?u:r==null||(c=r.locale)===null||c===void 0||(d=c.options)===null||d===void 0?void 0:d.firstWeekContainsDate)!==null&&l!==void 0?l:b.firstWeekContainsDate)!==null&&a!==void 0?a:(h=b.locale)===null||h===void 0||(p=h.options)===null||p===void 0?void 0:p.firstWeekContainsDate)!==null&&o!==void 0?o:1);if(!(T>=1&&T<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var R=pt((m=(g=(y=(A=r==null?void 0:r.weekStartsOn)!==null&&A!==void 0?A:r==null||(C=r.locale)===null||C===void 0||(S=C.options)===null||S===void 0?void 0:S.weekStartsOn)!==null&&y!==void 0?y:b.weekStartsOn)!==null&&g!==void 0?g:(E=b.locale)===null||E===void 0||(k=E.options)===null||k===void 0?void 0:k.weekStartsOn)!==null&&m!==void 0?m:0);if(!(R>=0&&R<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(I==="")return x===""?ct(n):new Date(NaN);var N={firstWeekContainsDate:T,weekStartsOn:R,locale:_},O=[new Jce],j=I.match(Vde).map(function(pe){var oe=pe[0];if(oe in c_){var we=c_[oe];return we(pe,_.formatLong)}return pe}).join("").match(Lde),U=[],$=IP(j),B;try{var te=function(){var oe=B.value;!(r!=null&&r.useAdditionalWeekYearTokens)&&_L(oe)&&bg(oe,I,t),!(r!=null&&r.useAdditionalDayOfYearTokens)&&bL(oe)&&bg(oe,I,t);var we=oe[0],Ce=Mde[we];if(Ce){var fe=Ce.incompatibleTokens;if(Array.isArray(fe)){var L=U.find(function(Q){return fe.includes(Q.token)||Q.token===we});if(L)throw new RangeError("The format string mustn't contain `".concat(L.fullToken,"` and `").concat(oe,"` at the same time"))}else if(Ce.incompatibleTokens==="*"&&U.length>0)throw new RangeError("The format string mustn't contain `".concat(oe,"` and any other token at the same time"));U.push({token:we,fullToken:oe});var W=Ce.run(x,oe,_.match,N);if(!W)return{v:new Date(NaN)};O.push(W.setter),x=W.rest}else{if(we.match(qde))throw new RangeError("Format string contains an unescaped latin alphabet character `"+we+"`");if(oe==="''"?oe="'":we==="'"&&(oe=Bde(oe)),x.indexOf(oe)===0)x=x.slice(oe.length);else return{v:new Date(NaN)}}};for($.s();!(B=$.n()).done;){var z=te();if(es(z)==="object")return z.v}}catch(pe){$.e(pe)}finally{$.f()}if(x.length>0&&Ude.test(x))return new Date(NaN);var V=O.map(function(pe){return pe.priority}).sort(function(pe,oe){return oe-pe}).filter(function(pe,oe,we){return we.indexOf(pe)===oe}).map(function(pe){return O.filter(function(oe){return oe.priority===pe}).sort(function(oe,we){return we.subPriority-oe.subPriority})}).map(function(pe){return pe[0]}),ce=ct(n);if(isNaN(ce.getTime()))return new Date(NaN);var le=pL(ce,yg(ce)),ve={},Se=IP(V),he;try{for(Se.s();!(he=Se.n()).done;){var Y=he.value;if(!Y.validate(le,N))return new Date(NaN);var ne=Y.set(le,ve,N);Array.isArray(ne)?(le=ne[0],$ce(ve,ne[1])):le=ne}}catch(pe){Se.e(pe)}finally{Se.f()}return le}function Bde(t){return t.match($de)[1].replace(Fde,"'")}function AP(t,e){et(2,arguments);var n=zh(t),r=zh(e);return n.getTime()===r.getTime()}function jde(t,e){et(2,arguments);var n=pt(e);return ho(t,-n)}function Hde(t,e){var n;et(1,arguments);var r=pt((n=e==null?void 0:e.additionalDigits)!==null&&n!==void 0?n:2);if(r!==2&&r!==1&&r!==0)throw new RangeError("additionalDigits must be 0, 1 or 2");if(!(typeof t=="string"||Object.prototype.toString.call(t)==="[object String]"))return new Date(NaN);var i=Gde(t),s;if(i.date){var o=Yde(i.date,r);s=Qde(o.restDateString,o.year)}if(!s||isNaN(s.getTime()))return new Date(NaN);var a=s.getTime(),l=0,u;if(i.time&&(l=Xde(i.time),isNaN(l)))return new Date(NaN);if(i.timezone){if(u=Jde(i.timezone),isNaN(u))return new Date(NaN)}else{var c=new Date(a+l),d=new Date(0);return d.setFullYear(c.getUTCFullYear(),c.getUTCMonth(),c.getUTCDate()),d.setHours(c.getUTCHours(),c.getUTCMinutes(),c.getUTCSeconds(),c.getUTCMilliseconds()),d}return new Date(a+l+u)}var Vp={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},Wde=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,zde=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,Kde=/^([+-])(\d{2})(?::?(\d{2}))?$/;function Gde(t){var e={},n=t.split(Vp.dateTimeDelimiter),r;if(n.length>2)return e;if(/:/.test(n[0])?r=n[0]:(e.date=n[0],r=n[1],Vp.timeZoneDelimiter.test(e.date)&&(e.date=t.split(Vp.timeZoneDelimiter)[0],r=t.substr(e.date.length,t.length))),r){var i=Vp.timezone.exec(r);i?(e.time=r.replace(i[1],""),e.timezone=i[1]):e.time=r}return e}function Yde(t,e){var n=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+e)+"})|(\\d{2}|[+-]\\d{"+(2+e)+"})$)"),r=t.match(n);if(!r)return{year:NaN,restDateString:""};var i=r[1]?parseInt(r[1]):null,s=r[2]?parseInt(r[2]):null;return{year:s===null?i:s*100,restDateString:t.slice((r[1]||r[2]).length)}}function Qde(t,e){if(e===null)return new Date(NaN);var n=t.match(Wde);if(!n)return new Date(NaN);var r=!!n[4],i=vd(n[1]),s=vd(n[2])-1,o=vd(n[3]),a=vd(n[4]),l=vd(n[5])-1;if(r)return rhe(e,a,l)?Zde(e,a,l):new Date(NaN);var u=new Date(0);return!the(e,s,o)||!nhe(e,i)?new Date(NaN):(u.setUTCFullYear(e,s,Math.max(i,o)),u)}function vd(t){return t?parseInt(t):1}function Xde(t){var e=t.match(zde);if(!e)return NaN;var n=ub(e[1]),r=ub(e[2]),i=ub(e[3]);return ihe(n,r,i)?n*dT+r*cT+i*1e3:NaN}function ub(t){return t&&parseFloat(t.replace(",","."))||0}function Jde(t){if(t==="Z")return 0;var e=t.match(Kde);if(!e)return 0;var n=e[1]==="+"?-1:1,r=parseInt(e[2]),i=e[3]&&parseInt(e[3])||0;return she(r,i)?n*(r*dT+i*cT):NaN}function Zde(t,e,n){var r=new Date(0);r.setUTCFullYear(t,0,4);var i=r.getUTCDay()||7,s=(e-1)*7+n+1-i;return r.setUTCDate(r.getUTCDate()+s),r}var ehe=[31,null,31,30,31,30,31,31,30,31,30,31];function PL(t){return t%400===0||t%4===0&&t%100!==0}function the(t,e,n){return e>=0&&e<=11&&n>=1&&n<=(ehe[e]||(PL(t)?29:28))}function nhe(t,e){return e>=1&&e<=(PL(t)?366:365)}function rhe(t,e,n){return e>=1&&e<=53&&n>=0&&n<=6}function ihe(t,e,n){return t===24?e===0&&n===0:n>=0&&n<60&&e>=0&&e<60&&t>=0&&t<25}function she(t,e){return e>=0&&e<=59}function OL(t,e){et(2,arguments);var n=ct(t),r=pt(e),i=n.getFullYear(),s=n.getDate(),o=new Date(0);o.setFullYear(i,r,15),o.setHours(0,0,0,0);var a=Uce(o);return n.setMonth(r,Math.min(s,a)),n}function kn(t,e){if(et(2,arguments),es(e)!=="object"||e===null)throw new RangeError("values parameter must be an object");var n=ct(t);return isNaN(n.getTime())?new Date(NaN):(e.year!=null&&n.setFullYear(e.year),e.month!=null&&(n=OL(n,e.month)),e.date!=null&&n.setDate(pt(e.date)),e.hours!=null&&n.setHours(pt(e.hours)),e.minutes!=null&&n.setMinutes(pt(e.minutes)),e.seconds!=null&&n.setSeconds(pt(e.seconds)),e.milliseconds!=null&&n.setMilliseconds(pt(e.milliseconds)),n)}function kL(t,e){et(2,arguments);var n=ct(t),r=pt(e);return n.setHours(r),n}function mT(t,e){et(2,arguments);var n=ct(t),r=pt(e);return n.setMilliseconds(r),n}function RL(t,e){et(2,arguments);var n=ct(t),r=pt(e);return n.setMinutes(r),n}function gT(t,e){et(2,arguments);var n=ct(t),r=pt(e);return n.setSeconds(r),n}function Ns(t,e){et(2,arguments);var n=ct(t),r=pt(e);return isNaN(n.getTime())?new Date(NaN):(n.setFullYear(r),n)}function Sc(t,e){et(2,arguments);var n=pt(e);return ys(t,-n)}function ohe(t,e){if(et(2,arguments),!e||es(e)!=="object")return new Date(NaN);var n=e.years?pt(e.years):0,r=e.months?pt(e.months):0,i=e.weeks?pt(e.weeks):0,s=e.days?pt(e.days):0,o=e.hours?pt(e.hours):0,a=e.minutes?pt(e.minutes):0,l=e.seconds?pt(e.seconds):0,u=Sc(t,r+n*12),c=jde(u,s+i*7),d=a+o*60,h=l+d*60,p=h*1e3,m=new Date(c.getTime()-p);return m}function xL(t,e){et(2,arguments);var n=pt(e);return uT(t,-n)}function qc(){return D(),H("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[v("path",{d:"M29.333 8c0-2.208-1.792-4-4-4h-18.667c-2.208 0-4 1.792-4 4v18.667c0 2.208 1.792 4 4 4h18.667c2.208 0 4-1.792 4-4v-18.667zM26.667 8v18.667c0 0.736-0.597 1.333-1.333 1.333 0 0-18.667 0-18.667 0-0.736 0-1.333-0.597-1.333-1.333 0 0 0-18.667 0-18.667 0-0.736 0.597-1.333 1.333-1.333 0 0 18.667 0 18.667 0 0.736 0 1.333 0.597 1.333 1.333z"}),v("path",{d:"M20 2.667v5.333c0 0.736 0.597 1.333 1.333 1.333s1.333-0.597 1.333-1.333v-5.333c0-0.736-0.597-1.333-1.333-1.333s-1.333 0.597-1.333 1.333z"}),v("path",{d:"M9.333 2.667v5.333c0 0.736 0.597 1.333 1.333 1.333s1.333-0.597 1.333-1.333v-5.333c0-0.736-0.597-1.333-1.333-1.333s-1.333 0.597-1.333 1.333z"}),v("path",{d:"M4 14.667h24c0.736 0 1.333-0.597 1.333-1.333s-0.597-1.333-1.333-1.333h-24c-0.736 0-1.333 0.597-1.333 1.333s0.597 1.333 1.333 1.333z"})])}qc.compatConfig={MODE:3};function DL(){return D(),H("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[v("path",{d:"M23.057 7.057l-16 16c-0.52 0.52-0.52 1.365 0 1.885s1.365 0.52 1.885 0l16-16c0.52-0.52 0.52-1.365 0-1.885s-1.365-0.52-1.885 0z"}),v("path",{d:"M7.057 8.943l16 16c0.52 0.52 1.365 0.52 1.885 0s0.52-1.365 0-1.885l-16-16c-0.52-0.52-1.365-0.52-1.885 0s-0.52 1.365 0 1.885z"})])}DL.compatConfig={MODE:3};function vT(){return D(),H("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[v("path",{d:"M20.943 23.057l-7.057-7.057c0 0 7.057-7.057 7.057-7.057 0.52-0.52 0.52-1.365 0-1.885s-1.365-0.52-1.885 0l-8 8c-0.521 0.521-0.521 1.365 0 1.885l8 8c0.52 0.52 1.365 0.52 1.885 0s0.52-1.365 0-1.885z"})])}vT.compatConfig={MODE:3};function yT(){return D(),H("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[v("path",{d:"M12.943 24.943l8-8c0.521-0.521 0.521-1.365 0-1.885l-8-8c-0.52-0.52-1.365-0.52-1.885 0s-0.52 1.365 0 1.885l7.057 7.057c0 0-7.057 7.057-7.057 7.057-0.52 0.52-0.52 1.365 0 1.885s1.365 0.52 1.885 0z"})])}yT.compatConfig={MODE:3};function bT(){return D(),H("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[v("path",{d:"M16 1.333c-8.095 0-14.667 6.572-14.667 14.667s6.572 14.667 14.667 14.667c8.095 0 14.667-6.572 14.667-14.667s-6.572-14.667-14.667-14.667zM16 4c6.623 0 12 5.377 12 12s-5.377 12-12 12c-6.623 0-12-5.377-12-12s5.377-12 12-12z"}),v("path",{d:"M14.667 8v8c0 0.505 0.285 0.967 0.737 1.193l5.333 2.667c0.658 0.329 1.46 0.062 1.789-0.596s0.062-1.46-0.596-1.789l-4.596-2.298c0 0 0-7.176 0-7.176 0-0.736-0.597-1.333-1.333-1.333s-1.333 0.597-1.333 1.333z"})])}bT.compatConfig={MODE:3};function _T(){return D(),H("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[v("path",{d:"M24.943 19.057l-8-8c-0.521-0.521-1.365-0.521-1.885 0l-8 8c-0.52 0.52-0.52 1.365 0 1.885s1.365 0.52 1.885 0l7.057-7.057c0 0 7.057 7.057 7.057 7.057 0.52 0.52 1.365 0.52 1.885 0s0.52-1.365 0-1.885z"})])}_T.compatConfig={MODE:3};function wT(){return D(),H("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[v("path",{d:"M7.057 12.943l8 8c0.521 0.521 1.365 0.521 1.885 0l8-8c0.52-0.52 0.52-1.365 0-1.885s-1.365-0.52-1.885 0l-7.057 7.057c0 0-7.057-7.057-7.057-7.057-0.52-0.52-1.365-0.52-1.885 0s-0.52 1.365 0 1.885z"})])}wT.compatConfig={MODE:3};function TT(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var NL={exports:{}};(function(t){function e(n){return n&&n.__esModule?n:{default:n}}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports})(NL);var ahe=NL.exports,f_={exports:{}};(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=n;function n(r){if(r===null||r===!0||r===!1)return NaN;var i=Number(r);return isNaN(i)?i:i<0?Math.ceil(i):Math.floor(i)}t.exports=e.default})(f_,f_.exports);var lhe=f_.exports;const uhe=TT(lhe);var p_={exports:{}};(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=n;function n(r){var i=new Date(Date.UTC(r.getFullYear(),r.getMonth(),r.getDate(),r.getHours(),r.getMinutes(),r.getSeconds(),r.getMilliseconds()));return i.setUTCFullYear(r.getFullYear()),r.getTime()-i.getTime()}t.exports=e.default})(p_,p_.exports);var che=p_.exports;const PP=TT(che);function dhe(t,e){var n=mhe(e);return n.formatToParts?fhe(n,t):phe(n,t)}var hhe={year:0,month:1,day:2,hour:3,minute:4,second:5};function fhe(t,e){try{for(var n=t.formatToParts(e),r=[],i=0;i<n.length;i++){var s=hhe[n[i].type];s>=0&&(r[s]=parseInt(n[i].value,10))}return r}catch(o){if(o instanceof RangeError)return[NaN];throw o}}function phe(t,e){var n=t.format(e).replace(/\u200E/g,""),r=/(\d+)\/(\d+)\/(\d+),? (\d+):(\d+):(\d+)/.exec(n);return[r[3],r[1],r[2],r[4],r[5],r[6]]}var cb={};function mhe(t){if(!cb[t]){var e=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:"America/New_York",year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}).format(new Date("2014-06-25T04:00:00.123Z")),n=e==="06/25/2014, 00:00:00"||e==="06/25/2014 00:00:00";cb[t]=n?new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:t,year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}):new Intl.DateTimeFormat("en-US",{hourCycle:"h23",timeZone:t,year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"})}return cb[t]}function ET(t,e,n,r,i,s,o){var a=new Date(0);return a.setUTCFullYear(t,e,n),a.setUTCHours(r,i,s,o),a}var OP=36e5,ghe=6e4,db={timezone:/([Z+-].*)$/,timezoneZ:/^(Z)$/,timezoneHH:/^([+-]\d{2})$/,timezoneHHMM:/^([+-]\d{2}):?(\d{2})$/};function ST(t,e,n){var r,i;if(t===""||(r=db.timezoneZ.exec(t),r))return 0;var s;if(r=db.timezoneHH.exec(t),r)return s=parseInt(r[1],10),kP(s)?-(s*OP):NaN;if(r=db.timezoneHHMM.exec(t),r){s=parseInt(r[1],10);var o=parseInt(r[2],10);return kP(s,o)?(i=Math.abs(s)*OP+o*ghe,s>0?-i:i):NaN}if(bhe(t)){e=new Date(e||Date.now());var a=n?e:vhe(e),l=m_(a,t),u=n?l:yhe(e,l,t);return-u}return NaN}function vhe(t){return ET(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds())}function m_(t,e){var n=dhe(t,e),r=ET(n[0],n[1]-1,n[2],n[3]%24,n[4],n[5],0).getTime(),i=t.getTime(),s=i%1e3;return i-=s>=0?s:1e3+s,r-i}function yhe(t,e,n){var r=t.getTime(),i=r-e,s=m_(new Date(i),n);if(e===s)return e;i-=s-e;var o=m_(new Date(i),n);return s===o?s:Math.max(s,o)}function kP(t,e){return-23<=t&&t<=23&&(e==null||0<=e&&e<=59)}var RP={};function bhe(t){if(RP[t])return!0;try{return new Intl.DateTimeFormat(void 0,{timeZone:t}),RP[t]=!0,!0}catch{return!1}}var ML=/(Z|[+-]\d{2}(?::?\d{2})?| UTC| [a-zA-Z]+\/[a-zA-Z_]+(?:\/[a-zA-Z_]+)?)$/,hb=36e5,xP=6e4,_he=2,fi={dateTimePattern:/^([0-9W+-]+)(T| )(.*)/,datePattern:/^([0-9W+-]+)(.*)/,plainTime:/:/,YY:/^(\d{2})$/,YYY:[/^([+-]\d{2})$/,/^([+-]\d{3})$/,/^([+-]\d{4})$/],YYYY:/^(\d{4})/,YYYYY:[/^([+-]\d{4})/,/^([+-]\d{5})/,/^([+-]\d{6})/],MM:/^-(\d{2})$/,DDD:/^-?(\d{3})$/,MMDD:/^-?(\d{2})-?(\d{2})$/,Www:/^-?W(\d{2})$/,WwwD:/^-?W(\d{2})-?(\d{1})$/,HH:/^(\d{2}([.,]\d*)?)$/,HHMM:/^(\d{2}):?(\d{2}([.,]\d*)?)$/,HHMMSS:/^(\d{2}):?(\d{2}):?(\d{2}([.,]\d*)?)$/,timeZone:ML};function g_(t,e){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");if(t===null)return new Date(NaN);var n=e||{},r=n.additionalDigits==null?_he:uhe(n.additionalDigits);if(r!==2&&r!==1&&r!==0)throw new RangeError("additionalDigits must be 0, 1 or 2");if(t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]")return new Date(t.getTime());if(typeof t=="number"||Object.prototype.toString.call(t)==="[object Number]")return new Date(t);if(!(typeof t=="string"||Object.prototype.toString.call(t)==="[object String]"))return new Date(NaN);var i=whe(t),s=The(i.date,r),o=s.year,a=s.restDateString,l=Ehe(a,o);if(isNaN(l))return new Date(NaN);if(l){var u=l.getTime(),c=0,d;if(i.time&&(c=She(i.time),isNaN(c)))return new Date(NaN);if(i.timeZone||n.timeZone){if(d=ST(i.timeZone||n.timeZone,new Date(u+c)),isNaN(d))return new Date(NaN)}else d=PP(new Date(u+c)),d=PP(new Date(u+c+d));return new Date(u+c+d)}else return new Date(NaN)}function whe(t){var e={},n=fi.dateTimePattern.exec(t),r;if(n?(e.date=n[1],r=n[3]):(n=fi.datePattern.exec(t),n?(e.date=n[1],r=n[2]):(e.date=null,r=t)),r){var i=fi.timeZone.exec(r);i?(e.time=r.replace(i[1],""),e.timeZone=i[1].trim()):e.time=r}return e}function The(t,e){var n=fi.YYY[e],r=fi.YYYYY[e],i;if(i=fi.YYYY.exec(t)||r.exec(t),i){var s=i[1];return{year:parseInt(s,10),restDateString:t.slice(s.length)}}if(i=fi.YY.exec(t)||n.exec(t),i){var o=i[1];return{year:parseInt(o,10)*100,restDateString:t.slice(o.length)}}return{year:null}}function Ehe(t,e){if(e===null)return null;var n,r,i,s;if(t.length===0)return r=new Date(0),r.setUTCFullYear(e),r;if(n=fi.MM.exec(t),n)return r=new Date(0),i=parseInt(n[1],10)-1,NP(e,i)?(r.setUTCFullYear(e,i),r):new Date(NaN);if(n=fi.DDD.exec(t),n){r=new Date(0);var o=parseInt(n[1],10);return Ahe(e,o)?(r.setUTCFullYear(e,0,o),r):new Date(NaN)}if(n=fi.MMDD.exec(t),n){r=new Date(0),i=parseInt(n[1],10)-1;var a=parseInt(n[2],10);return NP(e,i,a)?(r.setUTCFullYear(e,i,a),r):new Date(NaN)}if(n=fi.Www.exec(t),n)return s=parseInt(n[1],10)-1,MP(e,s)?DP(e,s):new Date(NaN);if(n=fi.WwwD.exec(t),n){s=parseInt(n[1],10)-1;var l=parseInt(n[2],10)-1;return MP(e,s,l)?DP(e,s,l):new Date(NaN)}return null}function She(t){var e,n,r;if(e=fi.HH.exec(t),e)return n=parseFloat(e[1].replace(",",".")),fb(n)?n%24*hb:NaN;if(e=fi.HHMM.exec(t),e)return n=parseInt(e[1],10),r=parseFloat(e[2].replace(",",".")),fb(n,r)?n%24*hb+r*xP:NaN;if(e=fi.HHMMSS.exec(t),e){n=parseInt(e[1],10),r=parseInt(e[2],10);var i=parseFloat(e[3].replace(",","."));return fb(n,r,i)?n%24*hb+r*xP+i*1e3:NaN}return null}function DP(t,e,n){e=e||0,n=n||0;var r=new Date(0);r.setUTCFullYear(t,0,4);var i=r.getUTCDay()||7,s=e*7+n+1-i;return r.setUTCDate(r.getUTCDate()+s),r}var Ihe=[31,28,31,30,31,30,31,31,30,31,30,31],Che=[31,29,31,30,31,30,31,31,30,31,30,31];function LL(t){return t%400===0||t%4===0&&t%100!==0}function NP(t,e,n){if(e<0||e>11)return!1;if(n!=null){if(n<1)return!1;var r=LL(t);if(r&&n>Che[e]||!r&&n>Ihe[e])return!1}return!0}function Ahe(t,e){if(e<1)return!1;var n=LL(t);return!(n&&e>366||!n&&e>365)}function MP(t,e,n){return!(e<0||e>52||n!=null&&(n<0||n>6))}function fb(t,e,n){return!(t!=null&&(t<0||t>=25)||e!=null&&(e<0||e>=60)||n!=null&&(n<0||n>=60))}var v_={exports:{}},y_={exports:{}};(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=n;function n(r,i){if(r==null)throw new TypeError("assign requires that input parameter not be null or undefined");for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(r[s]=i[s]);return r}t.exports=e.default})(y_,y_.exports);var Phe=y_.exports;(function(t,e){var n=ahe.default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=i;var r=n(Phe);function i(s){return(0,r.default)({},s)}t.exports=e.default})(v_,v_.exports);var Ohe=v_.exports;const khe=TT(Ohe);function Rhe(t,e,n){var r=g_(t,n),i=ST(e,r,!0),s=new Date(r.getTime()-i),o=new Date(0);return o.setFullYear(s.getUTCFullYear(),s.getUTCMonth(),s.getUTCDate()),o.setHours(s.getUTCHours(),s.getUTCMinutes(),s.getUTCSeconds(),s.getUTCMilliseconds()),o}function xhe(t,e,n){if(typeof t=="string"&&!t.match(ML)){var r=khe(n);return r.timeZone=e,g_(t,r)}var i=g_(t,n),s=ET(i.getFullYear(),i.getMonth(),i.getDate(),i.getHours(),i.getMinutes(),i.getSeconds(),i.getMilliseconds()).getTime(),o=ST(e,new Date(s));return new Date(s+o)}function LP(t){return e=>new Intl.DateTimeFormat(t,{weekday:"short",timeZone:"UTC"}).format(new Date(`2017-01-0${e}T00:00:00+00:00`)).slice(0,2)}function Dhe(t){return e=>ya(new Date(`2017-01-0${e}T00:00:00+00:00`),"EEEEEE",{locale:t})}const Nhe=(t,e,n)=>{const r=[1,2,3,4,5,6,7];let i;if(t!==null)try{i=r.map(Dhe(t))}catch{i=r.map(LP(e))}else i=r.map(LP(e));const s=i.slice(0,n),o=i.slice(n+1,i.length);return[i[n]].concat(...o).concat(...s)},IT=(t,e)=>{const n=[];for(let r=+t[0];r<=+t[1];r++)n.push({value:+r,text:`${r}`});return e?n.reverse():n},VL=(t,e,n)=>{const r=[1,2,3,4,5,6,7,8,9,10,11,12].map(s=>{const o=s<10?`0${s}`:s;return new Date(`2017-${o}-01T00:00:00+00:00`)});if(t!==null)try{const s=n==="long"?"MMMM":"MMM";return r.map((o,a)=>{const l=ya(o,s,{locale:t});return{text:l.charAt(0).toUpperCase()+l.substring(1),value:a}})}catch{}const i=new Intl.DateTimeFormat(e,{month:n,timeZone:"UTC"});return r.map((s,o)=>{const a=i.format(s);return{text:a.charAt(0).toUpperCase()+a.substring(1),value:o}})},Mhe=t=>[12,1,2,3,4,5,6,7,8,9,10,11,12,1,2,3,4,5,6,7,8,9,10,11][t],vr=t=>{const e=P(t);return e!=null&&e.$el?e==null?void 0:e.$el:e},Lhe=t=>Object.assign({type:"dot"},t),$L=t=>Array.isArray(t)?!!t[0]&&!!t[1]:!1,Tg={prop:t=>`"${t}" prop must be enabled!`,dateArr:t=>`You need to use array as "model-value" binding in order to support "${t}"`},wr=t=>t,VP=t=>t===0?t:!t||isNaN(+t)?null:+t,$P=t=>t===null,Vhe=t=>{if(t)return[...t.querySelectorAll("input, button, select, textarea, a[href]")][0]},$he=t=>{const e=[],n=r=>r.filter(i=>i);for(let r=0;r<t.length;r+=3){const i=[t[r],t[r+1],t[r+2]];e.push(n(i))}return e},Yh=(t,e,n)=>{const r=n!=null,i=e!=null;if(!r&&!i)return!1;const s=+n,o=+e;return r&&i?+t>s||+t<o:r?+t>s:i?+t<o:!1},Ic=(t,e)=>$he(t).map(n=>n.map(r=>{const{active:i,disabled:s,isBetween:o,highlighted:a}=e(r);return{...r,active:i,disabled:s,className:{dp__overlay_cell_active:i,dp__overlay_cell:!i,dp__overlay_cell_disabled:s,dp__overlay_cell_pad:!0,dp__overlay_cell_active_disabled:s&&i,dp__cell_in_between:o,"dp--highlighted":a}}})),ba=(t,e,n=!1)=>{t&&e.allowStopPropagation&&(n&&t.stopImmediatePropagation(),t.stopPropagation())},Fhe=()=>["a[href]","area[href]","input:not([disabled]):not([type='hidden'])","select:not([disabled])","textarea:not([disabled])","button:not([disabled])","[tabindex]:not([tabindex='-1'])","[data-datepicker-instance]"].join(", ");function Uhe(t,e){let n=[...document.querySelectorAll(Fhe())];n=n.filter(i=>!t.contains(i)||i.hasAttribute("data-datepicker-instance"));const r=n.indexOf(t);if(r>=0&&(e?r-1>=0:r+1<=n.length))return n[r+(e?-1:1)]}const qhe=(t,e)=>{let n;return function(...r){clearTimeout(n),n=setTimeout(()=>{t(...r)},e)}},FP=(t,e,n,r,i)=>{const s=h_(t,e.slice(0,t.length),new Date);return ah(s)&&hL(s)?r||i?s:kn(s,{hours:+n.hours,minutes:+(n==null?void 0:n.minutes),seconds:+(n==null?void 0:n.seconds),milliseconds:0}):null},Bhe=(t,e,n,r,i)=>{const s=Array.isArray(n)?n[0]:n;if(typeof e=="string")return FP(t,e,s,r,i);if(Array.isArray(e)){let o=null;for(const a of e)if(o=FP(t,a,s,r,i),o)break;return o}return typeof e=="function"?e(t):null},Re=t=>t?new Date(t):new Date,jhe=(t,e,n)=>{if(e){const i=(t.getMonth()+1).toString().padStart(2,"0"),s=t.getDate().toString().padStart(2,"0"),o=t.getHours().toString().padStart(2,"0"),a=t.getMinutes().toString().padStart(2,"0"),l=n?t.getSeconds().toString().padStart(2,"0"):"00";return`${t.getFullYear()}-${i}-${s}T${o}:${a}:${l}.000Z`}const r=Date.UTC(t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate(),t.getUTCHours(),t.getUTCMinutes(),t.getUTCSeconds());return new Date(r).toISOString()},si=t=>{let e=Re(JSON.parse(JSON.stringify(t)));return e=kL(e,0),e=RL(e,0),e=gT(e,0),e=mT(e,0),e},_a=(t,e,n,r)=>{let i=t?Re(t):Re();return(e||e===0)&&(i=kL(i,+e)),(n||n===0)&&(i=RL(i,+n)),(r||r===0)&&(i=gT(i,+r)),mT(i,0)},Lr=(t,e)=>!t||!e?!1:Gh(si(t),si(e)),nn=(t,e)=>!t||!e?!1:xu(si(t),si(e)),ni=(t,e)=>!t||!e?!1:Kh(si(t),si(e)),Vv=(t,e,n)=>t!=null&&t[0]&&t!=null&&t[1]?ni(n,t[0])&&Lr(n,t[1]):t!=null&&t[0]&&e?ni(n,t[0])&&Lr(n,e)||Lr(n,t[0])&&ni(n,e):!1,hs=t=>{const e=kn(new Date(t),{date:1});return si(e)},pb=(t,e,n)=>e&&(n||n===0)?Object.fromEntries(["hours","minutes","seconds"].map(r=>r===e?[r,n]:[r,isNaN(+t[r])?void 0:+t[r]])):{hours:isNaN(+t.hours)?void 0:+t.hours,minutes:isNaN(+t.minutes)?void 0:+t.minutes,seconds:isNaN(+t.seconds)?void 0:+t.seconds},bl=t=>({hours:bs(t),minutes:js(t),seconds:Ec(t)}),FL=(t,e)=>{if(e){const n=At(Re(e));if(n>t)return 12;if(n===t)return zt(Re(e))}},UL=(t,e)=>{if(e){const n=At(Re(e));return n<t?-1:n===t?zt(Re(e)):void 0}},Cc=t=>{if(t)return At(Re(t))},_s=(t,e)=>e?Rhe(t,e):t,qL=(t,e)=>e?xhe(t,e):t,Hhe=t=>t instanceof Date?t:Hde(t),BL=(t,e)=>{const n=ni(t,e)?e:t,r=ni(e,t)?e:t;return fL({start:n,end:r})},Whe=t=>{const e=ys(t,1);return{month:zt(e),year:At(e)}},um=(t,e,n)=>{const r=Ul(_s(t,e),{weekStartsOn:+n}),i=Lue(_s(t,e),{weekStartsOn:+n});return[r,i]},jL=(t,e)=>{const n={hours:bs(Re()),minutes:js(Re()),seconds:e?Ec(Re()):0};return Object.assign(n,t)},ua=(t,e,n)=>[kn(Re(t),{date:1}),kn(Re(),{month:e,year:n,date:1})],vo=(t,e,n)=>{let r=t?Re(t):Re();return(e||e===0)&&(r=OL(r,e)),n&&(r=Ns(r,n)),r},HL=(t,e,n,r,i)=>{if(!r||i&&!e||!i&&!n)return!1;const s=i?ys(t,1):Sc(t,1),o=[zt(s),At(s)];return i?!Khe(...o,e):!zhe(...o,n)},zhe=(t,e,n)=>Lr(...ua(n,t,e))||nn(...ua(n,t,e)),Khe=(t,e,n)=>ni(...ua(n,t,e))||nn(...ua(n,t,e)),WL=(t,e,n,r,i,s,o)=>{if(typeof e=="function"&&!o)return e(t);const a=n?{locale:n}:void 0;return Array.isArray(t)?`${ya(t[0],s,a)}${i&&!t[1]?"":r}${t[1]?ya(t[1],s,a):""}`:ya(t,s,a)},du=t=>{if(t)return null;throw new Error(Tg.prop("partial-range"))},$p=(t,e)=>{if(e)return t();throw new Error(Tg.prop("range"))},b_=t=>Array.isArray(t)?ah(t[0])&&(t[1]?ah(t[1]):!0):t?ah(t):!1,Ghe=(t,e)=>kn(e??Re(),{hours:+t.hours||0,minutes:+t.minutes||0,seconds:+t.seconds||0}),mb=(t,e,n,r)=>{if(!t)return!0;if(r){const i=n==="max"?Gh(t,e):Kh(t,e),s={seconds:0,milliseconds:0};return i||xu(kn(t,s),kn(e,s))}return n==="max"?t.getTime()<=e.getTime():t.getTime()>=e.getTime()},gb=(t,e,n)=>t?Ghe(t,e):Re(n??e),UP=(t,e,n,r,i)=>{if(Array.isArray(r)){const o=gb(t,r[0],e),a=gb(t,r[1],e);return mb(r[0],o,n,!!e)&&mb(r[1],a,n,!!e)&&i}const s=gb(t,r,e);return mb(r,s,n,!!e)&&i},vb=t=>kn(Re(),bl(t)),Yhe=(t,e)=>Array.isArray(t)?t.map(n=>Re(n)).filter(n=>At(Re(n))===e).map(n=>zt(n)):[],zL=(t,e,n)=>typeof t=="function"?t({month:e,year:n}):!!t.months.find(r=>r.month===e&&r.year===n),CT=(t,e)=>typeof t=="function"?t(e):t.years.includes(e),yd=Pr({menuFocused:!1,shiftKeyInMenu:!1}),KL=()=>{const t=n=>{yd.menuFocused=n},e=n=>{yd.shiftKeyInMenu!==n&&(yd.shiftKeyInMenu=n)};return{control:ee(()=>({shiftKeyInMenu:yd.shiftKeyInMenu,menuFocused:yd.menuFocused})),setMenuFocused:t,setShiftKey:e}},Sn=Pr({monthYear:[],calendar:[],time:[],actionRow:[],selectionGrid:[],timePicker:{0:[],1:[]},monthPicker:[]}),yb=ie(null),Fp=ie(!1),bb=ie(!1),_b=ie(!1),wb=ie(!1),ui=ie(0),kr=ie(0),Ua=()=>{const t=ee(()=>Fp.value?[...Sn.selectionGrid,Sn.actionRow].filter(d=>d.length):bb.value?[...Sn.timePicker[0],...Sn.timePicker[1],wb.value?[]:[yb.value],Sn.actionRow].filter(d=>d.length):_b.value?[...Sn.monthPicker,Sn.actionRow]:[Sn.monthYear,...Sn.calendar,Sn.time,Sn.actionRow].filter(d=>d.length)),e=d=>{ui.value=d?ui.value+1:ui.value-1;let h=null;t.value[kr.value]&&(h=t.value[kr.value][ui.value]),h||(ui.value=d?ui.value-1:ui.value+1)},n=d=>{kr.value===0&&!d||kr.value===t.value.length&&d||(kr.value=d?kr.value+1:kr.value-1,t.value[kr.value]?t.value[kr.value]&&!t.value[kr.value][ui.value]&&ui.value!==0&&(ui.value=t.value[kr.value].length-1):kr.value=d?kr.value-1:kr.value+1)},r=d=>{let h=null;t.value[kr.value]&&(h=t.value[kr.value][ui.value]),h?h.focus({preventScroll:!Fp.value}):ui.value=d?ui.value-1:ui.value+1},i=()=>{e(!0),r(!0)},s=()=>{e(!1),r(!1)},o=()=>{n(!1),r(!0)},a=()=>{n(!0),r(!0)},l=(d,h)=>{Sn[h]=d},u=(d,h)=>{Sn[h]=d},c=()=>{ui.value=0,kr.value=0};return{buildMatrix:l,buildMultiLevelMatrix:u,setTimePickerBackRef:d=>{yb.value=d},setSelectionGrid:d=>{Fp.value=d,c(),d||(Sn.selectionGrid=[])},setTimePicker:(d,h=!1)=>{bb.value=d,wb.value=h,c(),d||(Sn.timePicker[0]=[],Sn.timePicker[1]=[])},setTimePickerElements:(d,h=0)=>{Sn.timePicker[h]=d},arrowRight:i,arrowLeft:s,arrowUp:o,arrowDown:a,clearArrowNav:()=>{Sn.monthYear=[],Sn.calendar=[],Sn.time=[],Sn.actionRow=[],Sn.selectionGrid=[],Sn.timePicker[0]=[],Sn.timePicker[1]=[],Fp.value=!1,bb.value=!1,wb.value=!1,_b.value=!1,c(),yb.value=null},setMonthPicker:d=>{_b.value=d,c()},refSets:Sn}},qP=t=>({menuAppearTop:"dp-menu-appear-top",menuAppearBottom:"dp-menu-appear-bottom",open:"dp-slide-down",close:"dp-slide-up",next:"calendar-next",previous:"calendar-prev",vNext:"dp-slide-up",vPrevious:"dp-slide-down",...t??{}}),Qhe=t=>({toggleOverlay:"Toggle overlay",menu:"Datepicker menu",input:"Datepicker input",calendarWrap:"Calendar wrapper",calendarDays:"Calendar days",openTimePicker:"Open time picker",closeTimePicker:"Close time Picker",incrementValue:e=>`Increment ${e}`,decrementValue:e=>`Decrement ${e}`,openTpOverlay:e=>`Open ${e} overlay`,amPmButton:"Switch AM/PM mode",openYearsOverlay:"Open years overlay",openMonthsOverlay:"Open months overlay",nextMonth:"Next month",prevMonth:"Previous month",nextYear:"Next year",prevYear:"Previous year",day:()=>"",...t??{}}),BP=t=>t?typeof t=="boolean"?t?2:0:+t>=2?+t:2:0,Xhe=t=>{const e=typeof t=="object"&&t,n={static:!0,solo:!1};if(!t)return{...n,count:BP(!1)};const r=e?t:{},i=e?r.count??!0:t,s=BP(i);return Object.assign(n,r,{count:s})},Jhe=(t,e,n)=>t||(typeof n=="string"?n:e),Zhe=t=>typeof t=="boolean"?t?qP({}):!1:qP(t),efe=t=>{const e={enterSubmit:!0,tabSubmit:!0,openMenu:!0,selectOnFocus:!1,rangeSeparator:" - "};return typeof t=="object"?{...e,...t??{},enabled:!0}:{...e,enabled:t}},tfe=t=>({months:[],years:[],times:{hours:[],minutes:[],seconds:[]},...t??{}}),nfe=t=>({showSelect:!0,showCancel:!0,showNow:!1,showPreview:!0,...t??{}}),rfe=t=>{const e={input:!1};return typeof t=="object"?{...e,...t??{},enabled:!0}:{enabled:t,...e}},ife=t=>({allowStopPropagation:!0,closeOnScroll:!1,modeHeight:255,allowPreventDefault:!1,closeOnClearValue:!0,closeOnAutoApply:!0,noSwipe:!1,keepActionRow:!1,onClickOutside:void 0,tabOutClosesMenu:!0,...t??{}}),sfe=(t,e,n)=>{const r={dates:Array.isArray(t)?t.map(i=>Re(i)):[],years:[],months:[],quarters:[],weeks:[],weekdays:e,options:{highlightDisabled:n}};return typeof t=="function"?t:{...r,...t??{}}},ofe=t=>typeof t=="object"?{type:t.type,hideOnOffsetDates:t.hideOnOffsetDates??!1}:{type:t,hideOnOffsetDates:!1},ar=t=>{const e=()=>{const A=t.enableSeconds?":ss":"";return t.is24?`HH:mm${A}`:`hh:mm${A} aa`},n=()=>t.format?t.format:t.monthPicker?"MM/yyyy":t.timePicker?e():t.weekPicker?"MM/dd/yyyy":t.yearPicker?"yyyy":t.quarterPicker?"QQQ/yyyy":t.enableTimePicker?`MM/dd/yyyy, ${e()}`:"MM/dd/yyyy",r=A=>jL(A,t.enableSeconds),i=()=>t.range?t.startTime&&Array.isArray(t.startTime)?[r(t.startTime[0]),r(t.startTime[1])]:null:t.startTime&&!Array.isArray(t.startTime)?r(t.startTime):null,s=ee(()=>Xhe(t.multiCalendars)),o=ee(()=>i()),a=ee(()=>Qhe(t.ariaLabels)),l=ee(()=>tfe(t.filters)),u=ee(()=>Zhe(t.transitions)),c=ee(()=>nfe(t.actionRow)),d=ee(()=>Jhe(t.previewFormat,t.format,n())),h=ee(()=>efe(t.textInput)),p=ee(()=>rfe(t.inline)),m=ee(()=>ife(t.config)),g=ee(()=>sfe(t.highlight,t.highlightWeekDays,t.highlightDisabledDays)),y=ee(()=>ofe(t.weekNumbers));return{defaultedTransitions:u,defaultedMultiCalendars:s,defaultedStartTime:o,defaultedAriaLabels:a,defaultedFilters:l,defaultedActionRow:c,defaultedPreviewFormat:d,defaultedTextInput:h,defaultedInline:p,defaultedConfig:m,defaultedHighlight:g,defaultedWeekNumbers:y,getDefaultPattern:n,getDefaultStartTime:i}},afe=(t,e,n)=>{const r=ie(),{defaultedTextInput:i,getDefaultPattern:s}=ar(e),o=ie(""),a=Ju(e,"format");cn(r,()=>{t("internal-model-change",r.value)}),cn(a,()=>{j()});const l=V=>qL(V,e.timezone),u=V=>_s(V,e.timezone),c=(V,ce,le=!1)=>WL(V,e.format,e.formatLocale,i.value.rangeSeparator,e.modelAuto,ce??s(),le),d=V=>V?e.modelType?$(V):{hours:bs(V),minutes:js(V),seconds:e.enableSeconds?Ec(V):0}:null,h=V=>e.modelType?$(V):{month:zt(V),year:At(V)},p=V=>Array.isArray(V)?e.multiDates?V.map(ce=>m(ce,Ns(Re(),ce))):$p(()=>[Ns(Re(),V[0]),V[1]?Ns(Re(),V[1]):du(e.partialRange)],e.range):Ns(Re(),+V),m=(V,ce)=>(typeof V=="string"||typeof V=="number")&&e.modelType?U(V):ce,g=V=>Array.isArray(V)?[m(V[0],_a(null,+V[0].hours,+V[0].minutes,V[0].seconds)),m(V[1],_a(null,+V[1].hours,+V[1].minutes,V[1].seconds))]:m(V,_a(null,V.hours,V.minutes,V.seconds)),y=V=>Array.isArray(V)?e.multiDates?V.map(ce=>m(ce,vo(null,+ce.month,+ce.year))):$p(()=>[m(V[0],vo(null,+V[0].month,+V[0].year)),m(V[1],V[1]?vo(null,+V[1].month,+V[1].year):du(e.partialRange))],e.range):m(V,vo(null,+V.month,+V.year)),A=V=>{if(Array.isArray(V))return V.map(ce=>U(ce));throw new Error(Tg.dateArr("multi-dates"))},C=V=>{if(Array.isArray(V))return[Re(V[0]),Re(V[1])];throw new Error(Tg.dateArr("week-picker"))},S=V=>e.modelAuto?Array.isArray(V)?[U(V[0]),U(V[1])]:e.autoApply?[U(V)]:[U(V),null]:Array.isArray(V)?$p(()=>[U(V[0]),V[1]?U(V[1]):du(e.partialRange)],e.range):U(V),E=()=>{Array.isArray(r.value)&&e.range&&r.value.length===1&&r.value.push(du(e.partialRange))},k=()=>{const V=r.value;return[$(V[0]),V[1]?$(V[1]):du(e.partialRange)]},x=()=>r.value[1]?k():$(wr(r.value[0])),I=()=>(r.value||[]).map(V=>$(V)),b=()=>(E(),e.modelAuto?x():e.multiDates?I():Array.isArray(r.value)?$p(()=>k(),e.range):$(wr(r.value))),_=V=>!V||Array.isArray(V)&&!V.length?null:e.timePicker?g(wr(V)):e.monthPicker?y(wr(V)):e.yearPicker?p(wr(V)):e.multiDates?A(wr(V)):e.weekPicker?C(wr(V)):S(wr(V)),T=V=>{const ce=_(V);b_(wr(ce))?(r.value=wr(ce),j()):(r.value=null,o.value="")},R=()=>{const V=ce=>ya(ce,i.value.format);return`${V(r.value[0])} ${i.value.rangeSeparator} ${r.value[1]?V(r.value[1]):""}`},N=()=>n.value&&r.value?Array.isArray(r.value)?R():ya(r.value,i.value.format):c(r.value),O=()=>r.value?e.multiDates?r.value.map(V=>c(V)).join("; "):i.value.enabled&&typeof i.value.format=="string"?N():c(r.value):"",j=()=>{!e.format||typeof e.format=="string"||i.value.enabled&&typeof i.value.format=="string"?o.value=O():o.value=e.format(r.value)},U=V=>{if(e.utc){const ce=new Date(V);return e.utc==="preserve"?new Date(ce.getTime()+ce.getTimezoneOffset()*6e4):ce}return e.modelType?e.modelType==="date"||e.modelType==="timestamp"?u(new Date(V)):e.modelType==="format"&&(typeof e.format=="string"||!e.format)?h_(V,s(),new Date):u(h_(V,e.modelType,new Date)):u(new Date(V))},$=V=>V?e.utc?jhe(V,e.utc==="preserve",e.enableSeconds):e.modelType?e.modelType==="timestamp"?+l(V):e.modelType==="format"&&(typeof e.format=="string"||!e.format)?c(l(V)):c(l(V),e.modelType,!0):l(V):"",B=(V,ce=!1)=>{if(t("update:model-value",V),e.emitTimezone&&ce){const le=Array.isArray(V)?V.map(ve=>_s(wr(ve)),e.emitTimezone):_s(wr(V),e.emitTimezone);t("update:model-timezone-value",le)}},te=V=>Array.isArray(r.value)?e.multiDates?r.value.map(ce=>V(ce)):[V(r.value[0]),r.value[1]?V(r.value[1]):du(e.partialRange)]:V(wr(r.value)),z=V=>B(wr(te(V)));return{inputValue:o,internalModelValue:r,checkBeforeEmit:()=>r.value?e.range?e.partialRange?r.value.length>=1:r.value.length===2:!!r.value:!1,parseExternalModelValue:T,formatInputValue:j,emitModelValue:()=>(j(),e.monthPicker?z(h):e.timePicker?z(d):e.yearPicker?z(At):e.weekPicker?B(r.value.map(V=>$(V)),!0):B(b(),!0))}},lfe=(t,e)=>{const{defaultedFilters:n}=ar(t),{validateMonthYearInRange:r}=Ql(t),i=(u,c)=>{let d=u;return n.value.months.includes(zt(d))?(d=c?ys(u,1):Sc(u,1),i(d,c)):d},s=(u,c)=>{let d=u;return n.value.years.includes(At(d))?(d=c?uT(u,1):xL(u,1),s(d,c)):d},o=(u,c=!1)=>{const d=kn(new Date,{month:t.month,year:t.year});let h=u?ys(d,1):Sc(d,1);t.disableYearSelect&&(h=Ns(h,t.year));let p=zt(h),m=At(h);n.value.months.includes(p)&&(h=i(h,u),p=zt(h),m=At(h)),n.value.years.includes(m)&&(h=s(h,u),m=At(h)),r(p,m,u,t.preventMinMaxNavigation)&&a(p,m,c)},a=(u,c,d)=>{e("update-month-year",{month:u,year:c,fromNav:d})},l=ee(()=>u=>HL(kn(new Date,{month:t.month,year:t.year}),t.maxDate,t.minDate,t.preventMinMaxNavigation,u));return{handleMonthYearChange:o,isDisabled:l,updateMonthYear:a}};var _u=(t=>(t.center="center",t.left="left",t.right="right",t))(_u||{}),as=(t=>(t.month="month",t.year="year",t))(as||{}),nl=(t=>(t.top="top",t.bottom="bottom",t))(nl||{}),_l=(t=>(t.header="header",t.calendar="calendar",t.timePicker="timePicker",t))(_l||{}),Ps=(t=>(t.month="month",t.year="year",t.calendar="calendar",t.time="time",t.minutes="minutes",t.hours="hours",t.seconds="seconds",t))(Ps||{});const ufe=({menuRef:t,menuRefInner:e,inputRef:n,pickerWrapperRef:r,inline:i,emit:s,props:o,slots:a})=>{const l=ie({}),u=ie(!1),c=ie({top:"0",left:"0"}),d=ie(!1),h=Ju(o,"teleportCenter");cn(h,()=>{c.value=JSON.parse(JSON.stringify({})),E()});const p=U=>{if(o.teleport){const $=U.getBoundingClientRect();return{left:$.left+window.scrollX,top:$.top+window.scrollY}}return{top:0,left:0}},m=(U,$)=>{c.value.left=`${U+$-l.value.width}px`},g=U=>{c.value.left=`${U}px`},y=(U,$)=>{o.position===_u.left&&g(U),o.position===_u.right&&m(U,$),o.position===_u.center&&(c.value.left=`${U+$/2-l.value.width/2}px`)},A=U=>{const{width:$,height:B}=U.getBoundingClientRect(),{top:te,left:z}=o.altPosition?o.altPosition(U):p(U);return{top:+te,left:+z,width:$,height:B}},C=()=>{c.value.left="50%",c.value.top="50%",c.value.transform="translate(-50%, -50%)",c.value.position="fixed",delete c.value.opacity},S=()=>{const U=vr(n),{top:$,left:B,transform:te}=o.altPosition(U);c.value={top:`${$}px`,left:`${B}px`,transform:te??""}},E=(U=!0)=>{var $;if(!i.value.enabled){if(h.value)return C();if(o.altPosition!==null)return S();if(U){const B=o.teleport?($=e.value)==null?void 0:$.$el:t.value;B&&(l.value=B.getBoundingClientRect()),s("recalculate-position")}return R()}},k=({inputEl:U,left:$,width:B})=>{window.screen.width>768&&!u.value&&y($,B),b(U)},x=U=>{const{top:$,left:B,height:te,width:z}=A(U);c.value.top=`${te+$+ +o.offset}px`,d.value=!1,u.value||(c.value.left=`${B+z/2-l.value.width/2}px`),k({inputEl:U,left:B,width:z})},I=U=>{const{top:$,left:B,width:te}=A(U);c.value.top=`${$-+o.offset-l.value.height}px`,d.value=!0,k({inputEl:U,left:B,width:te})},b=U=>{if(o.autoPosition){const{left:$,width:B}=A(U),{left:te,right:z}=l.value;if(!u.value){if(Math.abs(te)!==Math.abs(z)){if(te<=0)return u.value=!0,g($);if(z>=document.documentElement.clientWidth)return u.value=!0,m($,B)}return y($,B)}}},_=()=>{const U=vr(n);if(U){const{height:$}=l.value,{top:B,height:te}=U.getBoundingClientRect(),z=window.innerHeight-B-te,V=B;return $<=z?nl.bottom:$>z&&$<=V?nl.top:z>=V?nl.bottom:nl.top}return nl.bottom},T=U=>_()===nl.bottom?x(U):I(U),R=()=>{const U=vr(n);if(U)return o.autoPosition?T(U):x(U)},N=function(U){if(U){const $=U.scrollHeight>U.clientHeight,B=window.getComputedStyle(U).overflowY.indexOf("hidden")!==-1;return $&&!B}return!0},O=function(U){return!U||U===document.body||U.nodeType===Node.DOCUMENT_FRAGMENT_NODE?window:N(U)?U:O(U.parentNode)},j=U=>{if(U)switch(o.position){case _u.left:return{left:0,transform:"translateX(0)"};case _u.right:return{left:`${U.width}px`,transform:"translateX(-100%)"};default:return{left:`${U.width/2}px`,transform:"translateX(-50%)"}}return{}};return{openOnTop:d,menuStyle:c,xCorrect:u,setMenuPosition:E,getScrollableParent:O,shadowRender:(U,$)=>{var B,te,z;const V=document.createElement("div"),ce=(B=vr(n))==null?void 0:B.getBoundingClientRect();V.setAttribute("id","dp--temp-container");const le=(te=r.value)!=null&&te.clientWidth?r.value:document.body;le.append(V);const ve=j(ce),Se=Sl(U,{...$,shadow:!0,style:{opacity:0,position:"absolute",...ve}},Object.fromEntries(Object.keys(a).filter(he=>["right-sidebar","left-sidebar"].includes(he)).map(he=>[he,a[he]])));Il(Se,V),l.value=(z=Se.el)==null?void 0:z.getBoundingClientRect(),Il(null,V),le.removeChild(V)}}},Ho=[{name:"clock-icon",use:["time","calendar","shared"]},{name:"arrow-left",use:["month-year","calendar","shared","year-mode"]},{name:"arrow-right",use:["month-year","calendar","shared","year-mode"]},{name:"arrow-up",use:["time","calendar","month-year","shared"]},{name:"arrow-down",use:["time","calendar","month-year","shared"]},{name:"calendar-icon",use:["month-year","time","calendar","shared","year-mode"]},{name:"day",use:["calendar","shared"]},{name:"month-overlay-value",use:["calendar","month-year","shared"]},{name:"year-overlay-value",use:["calendar","month-year","shared","year-mode"]},{name:"year-overlay",use:["month-year","shared"]},{name:"month-overlay",use:["month-year","shared"]},{name:"month-overlay-header",use:["month-year","shared"]},{name:"year-overlay-header",use:["month-year","shared"]},{name:"hours-overlay-value",use:["calendar","time","shared"]},{name:"minutes-overlay-value",use:["calendar","time","shared"]},{name:"seconds-overlay-value",use:["calendar","time","shared"]},{name:"hours",use:["calendar","time","shared"]},{name:"minutes",use:["calendar","time","shared"]},{name:"month",use:["calendar","month-year","shared"]},{name:"year",use:["calendar","month-year","shared","year-mode"]},{name:"action-buttons",use:["action"]},{name:"action-preview",use:["action"]},{name:"calendar-header",use:["calendar","shared"]},{name:"marker-tooltip",use:["calendar","shared"]},{name:"action-extra",use:["menu"]},{name:"time-picker-overlay",use:["calendar","time","shared"]},{name:"am-pm-button",use:["calendar","time","shared"]},{name:"left-sidebar",use:["menu"]},{name:"right-sidebar",use:["menu"]},{name:"month-year",use:["month-year","shared"]},{name:"time-picker",use:["menu","shared"]},{name:"action-row",use:["action"]},{name:"marker",use:["calendar","shared"]},{name:"quarter",use:["shared"]}],cfe=[{name:"trigger"},{name:"input-icon"},{name:"clear-icon"},{name:"dp-input"}],dfe={all:()=>Ho,monthYear:()=>Ho.filter(t=>t.use.includes("month-year")),input:()=>cfe,timePicker:()=>Ho.filter(t=>t.use.includes("time")),action:()=>Ho.filter(t=>t.use.includes("action")),calendar:()=>Ho.filter(t=>t.use.includes("calendar")),menu:()=>Ho.filter(t=>t.use.includes("menu")),shared:()=>Ho.filter(t=>t.use.includes("shared")),yearMode:()=>Ho.filter(t=>t.use.includes("year-mode"))},Vi=(t,e,n)=>{const r=[];return dfe[e]().forEach(i=>{t[i.name]&&r.push(i.name)}),n!=null&&n.length&&n.forEach(i=>{i.slot&&r.push(i.slot)}),r},Mf=t=>{const e=ee(()=>r=>t.value?r?t.value.open:t.value.close:""),n=ee(()=>r=>t.value?r?t.value.menuAppearTop:t.value.menuAppearBottom:"");return{transitionName:e,showTransition:!!t.value,menuTransition:n}},Lf=(t,e)=>{const n=Re(_s(new Date,t.timezone)),r=ie([{month:zt(n),year:At(n)}]),i=Pr({hours:t.range?[bs(n),bs(n)]:bs(n),minutes:t.range?[js(n),js(n)]:js(n),seconds:t.range?[0,0]:0}),s=ee({get:()=>t.internalModelValue,set:l=>{!t.readonly&&!t.disabled&&e("update:internal-model-value",l)}}),o=ee(()=>l=>r.value[l]?r.value[l].month:0),a=ee(()=>l=>r.value[l]?r.value[l].year:0);return{calendars:r,time:i,modelValue:s,month:o,year:a}},hfe=(t,e)=>{const{defaultedMultiCalendars:n,defaultedHighlight:r}=ar(e),{isDisabled:i,matchDate:s}=Ql(e),o=ie(null),a=ie(Re(_s(new Date,e.timezone))),l=z=>{!z.current&&e.hideOffsetDates||(o.value=z.value)},u=()=>{o.value=null},c=z=>Array.isArray(t.value)&&e.range&&t.value[0]&&o.value?z?ni(o.value,t.value[0]):Lr(o.value,t.value[0]):!0,d=(z,V)=>{const ce=()=>t.value?V?t.value[0]||null:t.value[1]:null,le=t.value&&Array.isArray(t.value)?ce():null;return nn(Re(z.value),le)},h=z=>{const V=Array.isArray(t.value)?t.value[0]:null;return z?!Lr(o.value??null,V):!0},p=(z,V=!0)=>(e.range||e.weekPicker)&&Array.isArray(t.value)&&t.value.length===2?e.hideOffsetDates&&!z.current?!1:nn(Re(z.value),t.value[V?0:1]):e.range?d(z,V)&&h(V)||nn(z.value,Array.isArray(t.value)?t.value[0]:null)&&c(V):!1,m=(z,V,ce)=>Array.isArray(t.value)&&t.value[0]&&t.value.length===1?z?!1:ce?ni(t.value[0],V.value):Lr(t.value[0],V.value):!1,g=z=>!t.value||e.hideOffsetDates&&!z.current?!1:e.range?e.modelAuto&&Array.isArray(t.value)?nn(z.value,t.value[0]?t.value[0]:a.value):!1:e.multiDates&&Array.isArray(t.value)?t.value.some(V=>nn(V,z.value)):nn(z.value,t.value?t.value:a.value),y=z=>{if(e.autoRange||e.weekPicker){if(o.value){if(e.hideOffsetDates&&!z.current)return!1;const V=ho(o.value,+e.autoRange),ce=um(Re(o.value),e.timezone,e.weekStart);return e.weekPicker?nn(ce[1],Re(z.value)):nn(V,Re(z.value))}return!1}return!1},A=z=>{if(e.autoRange||e.weekPicker){if(o.value){const V=ho(o.value,+e.autoRange);if(e.hideOffsetDates&&!z.current)return!1;const ce=um(Re(o.value),e.timezone,e.weekStart);return e.weekPicker?ni(z.value,ce[0])&&Lr(z.value,ce[1]):ni(z.value,o.value)&&Lr(z.value,V)}return!1}return!1},C=z=>{if(e.autoRange||e.weekPicker){if(o.value){if(e.hideOffsetDates&&!z.current)return!1;const V=um(Re(o.value),e.timezone,e.weekStart);return e.weekPicker?nn(V[0],z.value):nn(o.value,z.value)}return!1}return!1},S=z=>Vv(t.value,o.value,z.value),E=()=>e.modelAuto&&Array.isArray(e.internalModelValue)?!!e.internalModelValue[0]:!1,k=()=>e.modelAuto?$L(e.internalModelValue):!0,x=z=>{if(Array.isArray(t.value)&&t.value.length||e.weekPicker)return!1;const V=e.range?!p(z)&&!p(z,!1):!0;return!i(z.value)&&!g(z)&&!(!z.current&&e.hideOffsetDates)&&V},I=z=>e.range?e.modelAuto?E()&&g(z):!1:g(z),b=z=>{var V;return r.value?typeof r.value=="function"?r.value(z.value):s(z.value,(V=e.arrMapValues)!=null&&V.highlightedDates?e.arrMapValues.highlightedDates:r.value.dates):!1},_=z=>{const V=i(z.value);return V&&(typeof r.value=="function"?!r.value(z.value,V):!r.value.options.highlightDisabled)},T=z=>{var V;return typeof r.value=="function"?r.value(z.value):(V=r.value.weekdays)==null?void 0:V.includes(z.value.getDay())},R=z=>(e.range||e.weekPicker)&&(!(n.value.count>0)||z.current)&&k()&&!(!z.current&&e.hideOffsetDates)&&!g(z)?S(z):!1,N=z=>{const{isRangeStart:V,isRangeEnd:ce}=U(z),le=e.range?V||ce:!1;return{dp__cell_offset:!z.current,dp__pointer:!e.disabled&&!(!z.current&&e.hideOffsetDates)&&!i(z.value),dp__cell_disabled:i(z.value),dp__cell_highlight:!_(z)&&(b(z)||T(z))&&!I(z)&&!le&&!C(z)&&!(R(z)&&e.weekPicker)&&!ce,dp__cell_highlight_active:!_(z)&&(b(z)||T(z))&&I(z),dp__today:!e.noToday&&nn(z.value,a.value)&&z.current}},O=z=>({dp__active_date:I(z),dp__date_hover:x(z)}),j=z=>({...$(z),...B(z),dp__range_between_week:R(z)&&e.weekPicker}),U=z=>{const V=n.value.count>0?z.current&&p(z)&&k():p(z)&&k(),ce=n.value.count>0?z.current&&p(z,!1)&&k():p(z,!1)&&k();return{isRangeStart:V,isRangeEnd:ce}},$=z=>{const{isRangeStart:V,isRangeEnd:ce}=U(z);return{dp__range_start:V,dp__range_end:ce,dp__range_between:R(z)&&!e.weekPicker,dp__date_hover_start:m(x(z),z,!0),dp__date_hover_end:m(x(z),z,!1)}},B=z=>({...$(z),dp__cell_auto_range:A(z),dp__cell_auto_range_start:C(z),dp__cell_auto_range_end:y(z)}),te=z=>e.range?e.autoRange?B(z):e.modelAuto?{...O(z),...$(z)}:$(z):e.weekPicker?j(z):O(z);return{setHoverDate:l,clearHoverDate:u,getDayClassData:z=>e.hideOffsetDates&&!z.current?{}:{...N(z),...te(z),[e.dayClass?e.dayClass(z.value):""]:!0,[e.calendarCellClassName]:!!e.calendarCellClassName}}},Ql=t=>{const{defaultedFilters:e,defaultedHighlight:n}=ar(t),r=()=>{if(t.timezone)return t.timezone;if(t.utc)return"UTC"},i=T=>{const R=si(s(Re(T))).toISOString(),[N]=R.split("T");return N},s=T=>t.utc==="preserve"?qL(T,r()):_s(T,r()),o=T=>{var R;const N=t.maxDate?ni(T,s(Re(t.maxDate))):!1,O=t.minDate?Lr(T,s(Re(t.minDate))):!1,j=c(s(T),(R=t.arrMapValues)!=null&&R.disabledDates?t.arrMapValues.disabledDates:t.disabledDates),U=e.value.months.map(V=>+V).includes(zt(T)),$=t.disabledWeekDays.length?t.disabledWeekDays.some(V=>+V===Fce(T)):!1,B=h(T),te=At(T),z=te<+t.yearRange[0]||te>+t.yearRange[1];return!(N||O||j||U||z||$||B)},a=(T,R)=>Lr(...ua(t.minDate,T,R))||nn(...ua(t.minDate,T,R)),l=(T,R)=>ni(...ua(t.maxDate,T,R))||nn(...ua(t.maxDate,T,R)),u=(T,R,N)=>{let O=!1;return t.maxDate&&N&&l(T,R)&&(O=!0),t.minDate&&!N&&a(T,R)&&(O=!0),O},c=(T,R)=>T?R instanceof Map?!!R.get(i(T)):Array.isArray(R)?R.some(N=>nn(s(Re(N)),T)):R?R(Re(JSON.parse(JSON.stringify(T)))):!1:!0,d=(T,R,N,O)=>{let j=!1;return O?t.minDate&&t.maxDate?j=u(T,R,N):(t.minDate&&a(T,R)||t.maxDate&&l(T,R))&&(j=!0):j=!0,j},h=T=>{var R,N,O,j,U;return Array.isArray(t.allowedDates)&&!((R=t.allowedDates)!=null&&R.length)?!0:(N=t.arrMapValues)!=null&&N.allowedDates?!c(T,(O=t.arrMapValues)==null?void 0:O.allowedDates):(j=t.allowedDates)!=null&&j.length?!((U=t.allowedDates)!=null&&U.some($=>nn(si($),s(si(T))))):!1},p=T=>!o(T),m=T=>t.noDisabledRange?!fL({start:T[0],end:T[1]}).some(R=>p(R)):!0,g=(T,R,N=0)=>{if(Array.isArray(R)&&R[N]){const O=kue(T,R[N]),j=BL(R[N],T),U=j.length===1?0:j.filter(B=>p(B)).length,$=Math.abs(O)-U;if(t.minRange&&t.maxRange)return $>=+t.minRange&&$<=+t.maxRange;if(t.minRange)return $>=+t.minRange;if(t.maxRange)return $<=+t.maxRange}return!0},y=T=>new Map(T.map(R=>[i(R),!0])),A=T=>Array.isArray(T)&&T.length>0,C=()=>{const T={disabledDates:null,allowedDates:null,highlightedDates:null};return A(t.allowedDates)&&(T.allowedDates=y(t.allowedDates)),typeof n.value!="function"&&A(n.value.dates)&&(T.highlightedDates=y(n.value.dates)),A(t.disabledDates)&&(T.disabledDates=y(t.disabledDates)),T},S=()=>!t.enableTimePicker||t.monthPicker||t.yearPicker||t.ignoreTimeValidation,E=T=>Array.isArray(T)?[T[0]?vb(T[0]):null,T[1]?vb(T[1]):null]:vb(T),k=(T,R,N)=>T.find(O=>+O.hours===bs(R)&&O.minutes==="*"?!0:+O.minutes===js(R)&&+O.hours===bs(R))&&N,x=(T,R,N)=>{const[O,j]=T,[U,$]=R;return!k(O,U,N)&&!k(j,$,N)&&N},I=(T,R)=>{const N=Array.isArray(R)?R:[R];return Array.isArray(t.disabledTimes)?Array.isArray(t.disabledTimes[0])?x(t.disabledTimes,N,T):!N.some(O=>k(t.disabledTimes,O,T)):T},b=(T,R)=>{const N=Array.isArray(R)?[bl(R[0]),R[1]?bl(R[1]):void 0]:bl(R),O=!t.disabledTimes(N);return T&&O},_=(T,R)=>t.disabledTimes?Array.isArray(t.disabledTimes)?I(R,T):b(R,T):R;return{isDisabled:p,validateDate:o,validateMonthYearInRange:d,isDateRangeAllowed:m,checkMinMaxRange:g,matchDate:c,mapDatesArrToMap:C,isValidTime:T=>{let R=!0;if(!T||S())return!0;const N=!t.minDate&&!t.maxDate?E(T):T;return(t.maxTime||t.maxDate)&&(R=UP(t.maxTime,t.maxDate,"max",wr(N),R)),(t.minTime||t.minDate)&&(R=UP(t.minTime,t.minDate,"min",wr(N),R)),_(T,R)}}},$v=()=>{const t=ee(()=>(r,i)=>r==null?void 0:r.includes(i)),e=ee(()=>(r,i)=>r.count?r.solo?!0:i===0:!0),n=ee(()=>(r,i)=>r.count?r.solo?!0:i===r.count-1:!0);return{hideNavigationButtons:t,showLeftIcon:e,showRightIcon:n}},ffe=(t,e,n)=>{const r=ie(0),i=Pr({[_l.timePicker]:!t.enableTimePicker||t.timePicker||t.monthPicker,[_l.calendar]:!1,[_l.header]:!1}),s=ee(()=>t.monthPicker),o=d=>{var h;if((h=t.flow)!=null&&h.length){if(!d&&s.value)return c();i[d]=!0,Object.keys(i).filter(p=>!i[p]).length||c()}},a=()=>{var d;(d=t.flow)!=null&&d.length&&r.value!==-1&&(r.value+=1,e("flow-step",r.value),c())},l=()=>{r.value=-1},u=(d,h,...p)=>{t.flow[r.value]===d&&n.value&&n.value[h](...p)},c=()=>{u(Ps.month,"toggleMonthPicker",!0),u(Ps.year,"toggleYearPicker",!0),u(Ps.calendar,"toggleTimePicker",!1,!0),u(Ps.time,"toggleTimePicker",!0,!0);const d=t.flow[r.value];(d===Ps.hours||d===Ps.minutes||d===Ps.seconds)&&u(d,"toggleTimePicker",!0,!0,d)};return{childMount:o,updateFlowStep:a,resetFlow:l,flowStep:r}},Fv={multiCalendars:{type:[Boolean,Number,String,Object],default:void 0},modelValue:{type:[String,Date,Array,Object,Number],default:null},modelType:{type:String,default:null},position:{type:String,default:"center"},dark:{type:Boolean,default:!1},format:{type:[String,Function],default:()=>null},autoPosition:{type:Boolean,default:!0},altPosition:{type:Function,default:null},transitions:{type:[Boolean,Object],default:!0},formatLocale:{type:Object,default:null},utc:{type:[Boolean,String],default:!1},ariaLabels:{type:Object,default:()=>({})},offset:{type:[Number,String],default:10},hideNavigation:{type:Array,default:()=>[]},timezone:{type:String,default:null},emitTimezone:{type:String,default:null},vertical:{type:Boolean,default:!1},disableMonthYearSelect:{type:Boolean,default:!1},disableYearSelect:{type:Boolean,default:!1},menuClassName:{type:String,default:null},dayClass:{type:Function,default:null},yearRange:{type:Array,default:()=>[1900,2100]},calendarCellClassName:{type:String,default:null},enableTimePicker:{type:Boolean,default:!0},autoApply:{type:Boolean,default:!1},disabledDates:{type:[Array,Function],default:()=>[]},monthNameFormat:{type:String,default:"short"},startDate:{type:[Date,String],default:null},startTime:{type:[Object,Array],default:null},hideOffsetDates:{type:Boolean,default:!1},autoRange:{type:[Number,String],default:null},noToday:{type:Boolean,default:!1},disabledWeekDays:{type:Array,default:()=>[]},allowedDates:{type:Array,default:null},nowButtonLabel:{type:String,default:"Now"},markers:{type:Array,default:()=>[]},escClose:{type:Boolean,default:!0},spaceConfirm:{type:Boolean,default:!0},monthChangeOnArrows:{type:Boolean,default:!0},presetDates:{type:Array,default:()=>[]},flow:{type:Array,default:()=>[]},partialFlow:{type:Boolean,default:!1},preventMinMaxNavigation:{type:Boolean,default:!1},minRange:{type:[Number,String],default:null},maxRange:{type:[Number,String],default:null},multiDatesLimit:{type:[Number,String],default:null},reverseYears:{type:Boolean,default:!1},weekPicker:{type:Boolean,default:!1},filters:{type:Object,default:()=>({})},arrowNavigation:{type:Boolean,default:!1},disableTimeRangeValidation:{type:Boolean,default:!1},highlight:{type:[Array,Function,Object],default:null},highlightWeekDays:{type:Array,default:null},highlightDisabledDays:{type:Boolean,default:!1},teleport:{type:[String,Boolean,Object],default:null},teleportCenter:{type:Boolean,default:!1},locale:{type:String,default:"en-Us"},weekNumName:{type:String,default:"W"},weekStart:{type:[Number,String],default:1},weekNumbers:{type:[String,Function,Object],default:null},calendarClassName:{type:String,default:null},monthChangeOnScroll:{type:[Boolean,String],default:!0},dayNames:{type:[Function,Array],default:null},monthPicker:{type:Boolean,default:!1},customProps:{type:Object,default:null},yearPicker:{type:Boolean,default:!1},modelAuto:{type:Boolean,default:!1},selectText:{type:String,default:"Select"},cancelText:{type:String,default:"Cancel"},previewFormat:{type:[String,Function],default:()=>""},multiDates:{type:Boolean,default:!1},partialRange:{type:Boolean,default:!0},ignoreTimeValidation:{type:Boolean,default:!1},minDate:{type:[Date,String],default:null},maxDate:{type:[Date,String],default:null},minTime:{type:Object,default:null},maxTime:{type:Object,default:null},name:{type:String,default:null},placeholder:{type:String,default:""},hideInputIcon:{type:Boolean,default:!1},clearable:{type:Boolean,default:!0},state:{type:Boolean,default:null},required:{type:Boolean,default:!1},autocomplete:{type:String,default:"off"},inputClassName:{type:String,default:null},fixedStart:{type:Boolean,default:!1},fixedEnd:{type:Boolean,default:!1},timePicker:{type:Boolean,default:!1},enableSeconds:{type:Boolean,default:!1},is24:{type:Boolean,default:!0},noHoursOverlay:{type:Boolean,default:!1},noMinutesOverlay:{type:Boolean,default:!1},noSecondsOverlay:{type:Boolean,default:!1},hoursGridIncrement:{type:[String,Number],default:1},minutesGridIncrement:{type:[String,Number],default:5},secondsGridIncrement:{type:[String,Number],default:5},hoursIncrement:{type:[Number,String],default:1},minutesIncrement:{type:[Number,String],default:1},secondsIncrement:{type:[Number,String],default:1},range:{type:Boolean,default:!1},uid:{type:String,default:null},disabled:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},inline:{type:[Boolean,Object],default:!1},textInput:{type:[Boolean,Object],default:!1},noDisabledRange:{type:Boolean,default:!1},sixWeeks:{type:[Boolean,String],default:!1},actionRow:{type:Object,default:()=>({})},focusStartDate:{type:Boolean,default:!1},disabledTimes:{type:[Function,Array],default:void 0},showLastInRange:{type:Boolean,default:!0},timePickerInline:{type:Boolean,default:!1},calendar:{type:Function,default:null},config:{type:Object,default:void 0},quarterPicker:{type:Boolean,default:!1},yearFirst:{type:Boolean,default:!1}},Ss={...Fv,shadow:{type:Boolean,default:!1},flowStep:{type:Number,default:0},internalModelValue:{type:[Date,Array],default:null},arrMapValues:{type:Object,default:()=>({})},noOverlayFocus:{type:Boolean,default:!1}},pfe={key:1,class:"dp__input_wrap"},mfe=["id","name","inputmode","placeholder","disabled","readonly","required","value","autocomplete","aria-label","aria-disabled","aria-invalid"],gfe={key:2,class:"dp__clear_icon"},vfe=xe({compatConfig:{MODE:3},__name:"DatepickerInput",props:{isMenuOpen:{type:Boolean,default:!1},inputValue:{type:String,default:""},...Fv},emits:["clear","open","update:input-value","set-input-date","close","select-date","set-empty-date","toggle","focus-prev","focus","blur","real-blur"],setup(t,{expose:e,emit:n}){const r=n,i=t,{defaultedTextInput:s,defaultedAriaLabels:o,defaultedInline:a,defaultedConfig:l,getDefaultPattern:u,getDefaultStartTime:c}=ar(i),{checkMinMaxRange:d}=Ql(i),h=ie(),p=ie(null),m=ie(!1),g=ie(!1),y=ee(()=>({dp__pointer:!i.disabled&&!i.readonly&&!s.value.enabled,dp__disabled:i.disabled,dp__input_readonly:!s.value.enabled,dp__input:!0,dp__input_icon_pad:!i.hideInputIcon,dp__input_valid:!!i.state,dp__input_invalid:i.state===!1,dp__input_focus:m.value||i.isMenuOpen,dp__input_reg:!s.value.enabled,[i.inputClassName]:!!i.inputClassName})),A=()=>{r("set-input-date",null),i.autoApply&&(r("set-empty-date"),h.value=null)},C=j=>{const U=c();return Bhe(j,s.value.format??u(),U??jL({},i.enableSeconds),i.inputValue,g.value)},S=j=>{const{rangeSeparator:U}=s.value,[$,B]=j.split(`${U}`);if($){const te=C($.trim()),z=B?C(B.trim()):null,V=te&&z?[te,z]:[te];d(z,V,0)&&(h.value=te?V:null)}},E=()=>{g.value=!0},k=j=>{if(i.range)S(j);else if(i.multiDates){const U=j.split(";");h.value=U.map($=>C($.trim())).filter($=>$)}else h.value=C(j)},x=j=>{var U;const $=typeof j=="string"?j:(U=j.target)==null?void 0:U.value;$!==""?(s.value.openMenu&&!i.isMenuOpen&&r("open"),k($),r("set-input-date",h.value)):A(),g.value=!1,r("update:input-value",$)},I=j=>{s.value.enabled?(k(j.target.value),s.value.enterSubmit&&b_(h.value)&&i.inputValue!==""?(r("set-input-date",h.value,!0),h.value=null):s.value.enterSubmit&&i.inputValue===""&&(h.value=null,r("clear"))):T(j)},b=j=>{s.value.enabled&&s.value.tabSubmit&&k(j.target.value),s.value.tabSubmit&&b_(h.value)&&i.inputValue!==""?(r("set-input-date",h.value,!0,!0),h.value=null):s.value.tabSubmit&&i.inputValue===""&&(h.value=null,r("clear",!0))},_=()=>{var j;m.value=!0,r("focus"),s.value.enabled&&s.value.selectOnFocus&&((j=p.value)==null||j.select())},T=j=>{j.preventDefault(),ba(j,l.value,!0),s.value.enabled&&s.value.openMenu&&!a.value.input&&!i.isMenuOpen?r("open"):s.value.enabled||r("toggle")},R=()=>{r("real-blur"),m.value=!1,(!i.isMenuOpen||a.value.enabled&&a.value.input)&&r("blur"),i.autoApply&&s.value.enabled&&h.value&&!i.isMenuOpen&&(r("set-input-date",h.value),r("select-date"),h.value=null)},N=j=>{ba(j,l.value,!0),r("clear")},O=j=>{if(!s.value.enabled){if(j.code==="Tab")return;j.preventDefault()}};return e({focusInput:()=>{var j;(j=p.value)==null||j.focus({preventScroll:!0})},setParsedDate:j=>{h.value=j}}),(j,U)=>{var $;return D(),H("div",{onClick:T},[j.$slots.trigger&&!j.$slots["dp-input"]&&!P(a).enabled?_e(j.$slots,"trigger",{key:0}):J("",!0),!j.$slots.trigger&&(!P(a).enabled||P(a).input)?(D(),H("div",pfe,[j.$slots["dp-input"]&&!j.$slots.trigger&&!P(a).enabled?_e(j.$slots,"dp-input",{key:0,value:t.inputValue,isMenuOpen:t.isMenuOpen,onInput:x,onEnter:I,onTab:b,onClear:N,onBlur:R,onKeypress:O,onPaste:E,openMenu:()=>j.$emit("open"),closeMenu:()=>j.$emit("close"),toggleMenu:()=>j.$emit("toggle")}):J("",!0),j.$slots["dp-input"]?J("",!0):(D(),H("input",{key:1,id:j.uid?`dp-input-${j.uid}`:void 0,ref_key:"inputRef",ref:p,name:j.name,class:Le(y.value),inputmode:P(s).enabled?"text":"none",placeholder:j.placeholder,disabled:j.disabled,readonly:j.readonly,required:j.required,value:t.inputValue,autocomplete:j.autocomplete,"aria-label":($=P(o))==null?void 0:$.input,"aria-disabled":j.disabled||void 0,"aria-invalid":j.state===!1?!0:void 0,onInput:x,onKeydown:[bt(I,["enter"]),bt(b,["tab"]),O],onBlur:R,onFocus:_,onKeypress:O,onPaste:E},null,42,mfe)),v("div",{onClick:U[2]||(U[2]=B=>r("toggle"))},[j.$slots["input-icon"]&&!j.hideInputIcon?(D(),H("span",{key:0,class:"dp__input_icon",onClick:U[0]||(U[0]=B=>r("toggle"))},[_e(j.$slots,"input-icon")])):J("",!0),!j.$slots["input-icon"]&&!j.hideInputIcon&&!j.$slots["dp-input"]?(D(),ae(P(qc),{key:1,class:"dp__input_icon dp__input_icons",onClick:U[1]||(U[1]=B=>r("toggle"))})):J("",!0)]),j.$slots["clear-icon"]&&t.inputValue&&j.clearable&&!j.disabled&&!j.readonly?(D(),H("span",gfe,[_e(j.$slots,"clear-icon",{clear:N})])):J("",!0),j.clearable&&!j.$slots["clear-icon"]&&t.inputValue&&!j.disabled&&!j.readonly?(D(),ae(P(DL),{key:3,class:"dp__clear_icon dp__input_icons",onClick:U[3]||(U[3]=kt(B=>N(B),["prevent"]))})):J("",!0)])):J("",!0)])}}}),yfe=["title"],bfe={class:"dp__action_buttons"},_fe=["disabled"],wfe=xe({compatConfig:{MODE:3},__name:"ActionRow",props:{menuMount:{type:Boolean,default:!1},calendarWidth:{type:Number,default:0},...Ss},emits:["close-picker","select-date","select-now","invalid-select"],setup(t,{emit:e}){const n=e,r=t,{defaultedActionRow:i,defaultedPreviewFormat:s,defaultedMultiCalendars:o,defaultedTextInput:a,defaultedInline:l,getDefaultPattern:u}=ar(r),{isValidTime:c}=Ql(r),{buildMatrix:d}=Ua(),h=ie(null),p=ie(null);Vt(()=>{r.arrowNavigation&&d([vr(h),vr(p)],"actionRow")});const m=ee(()=>r.range&&!r.partialRange&&r.internalModelValue?r.internalModelValue.length===2:!0),g=ee(()=>!y.value||!A.value||!m.value),y=ee(()=>!r.enableTimePicker||r.ignoreTimeValidation?!0:c(r.internalModelValue)),A=ee(()=>r.monthPicker?r.range&&Array.isArray(r.internalModelValue)?!r.internalModelValue.filter(T=>!b(T)).length:b(r.internalModelValue):!0),C=()=>{const T=s.value;return r.timePicker||r.monthPicker,T(wr(r.internalModelValue))},S=()=>{const T=r.internalModelValue;return o.value.count>0?`${E(T[0])} - ${E(T[1])}`:[E(T[0]),E(T[1])]},E=T=>WL(T,s.value,r.formatLocale,a.value.rangeSeparator,r.modelAuto,u()),k=ee(()=>!r.internalModelValue||!r.menuMount?"":typeof s.value=="string"?Array.isArray(r.internalModelValue)?r.internalModelValue.length===2&&r.internalModelValue[1]?S():r.multiDates?r.internalModelValue.map(T=>`${E(T)}`):r.modelAuto?`${E(r.internalModelValue[0])}`:`${E(r.internalModelValue[0])} -`:E(r.internalModelValue):C()),x=()=>r.multiDates?"; ":" - ",I=ee(()=>Array.isArray(k.value)?k.value.join(x()):k.value),b=T=>{if(!r.monthPicker)return!0;let R=!0;const N=Re(hs(T));if(r.minDate&&r.maxDate){const O=Re(hs(r.minDate)),j=Re(hs(r.maxDate));return ni(N,O)&&Lr(N,j)||nn(N,O)||nn(N,j)}if(r.minDate){const O=Re(hs(r.minDate));R=ni(N,O)||nn(N,O)}if(r.maxDate){const O=Re(hs(r.maxDate));R=Lr(N,O)||nn(N,O)}return R},_=()=>{y.value&&A.value&&m.value?n("select-date"):n("invalid-select")};return(T,R)=>(D(),H("div",{class:"dp__action_row",style:tr(t.calendarWidth?{width:`${t.calendarWidth}px`}:{})},[T.$slots["action-row"]?_e(T.$slots,"action-row",Vn(se({key:0},{internalModelValue:T.internalModelValue,disabled:g.value,selectDate:()=>T.$emit("select-date"),closePicker:()=>T.$emit("close-picker")}))):(D(),H(Pe,{key:1},[P(i).showPreview?(D(),H("div",{key:0,class:"dp__selection_preview",title:I.value},[T.$slots["action-preview"]?_e(T.$slots,"action-preview",{key:0,value:T.internalModelValue}):J("",!0),T.$slots["action-preview"]?J("",!0):(D(),H(Pe,{key:1},[K(Fe(I.value),1)],64))],8,yfe)):J("",!0),v("div",bfe,[T.$slots["action-buttons"]?_e(T.$slots,"action-buttons",{key:0,value:T.internalModelValue}):J("",!0),T.$slots["action-buttons"]?J("",!0):(D(),H(Pe,{key:1},[!P(l).enabled&&P(i).showCancel?(D(),H("button",{key:0,ref_key:"cancelButtonRef",ref:h,type:"button",class:"dp__action_button dp__action_cancel",onClick:R[0]||(R[0]=N=>T.$emit("close-picker")),onKeydown:[R[1]||(R[1]=bt(N=>T.$emit("close-picker"),["enter"])),R[2]||(R[2]=bt(N=>T.$emit("close-picker"),["space"]))]},Fe(T.cancelText),545)):J("",!0),P(i).showNow?(D(),H("button",{key:1,ref_key:"cancelButtonRef",ref:h,type:"button",class:"dp__action_button dp__action_cancel",onClick:R[3]||(R[3]=N=>T.$emit("select-now")),onKeydown:[R[4]||(R[4]=bt(N=>T.$emit("select-now"),["enter"])),R[5]||(R[5]=bt(N=>T.$emit("select-now"),["space"]))]},Fe(T.nowButtonLabel),545)):J("",!0),P(i).showSelect?(D(),H("button",{key:2,ref_key:"selectButtonRef",ref:p,type:"button",class:"dp__action_button dp__action_select",disabled:g.value,onKeydown:[bt(_,["enter"]),bt(_,["space"])],onClick:_},Fe(T.selectText),41,_fe)):J("",!0)],64))])],64))],4))}}),Tfe=["onKeydown"],Efe={class:"dp__selection_grid_header"},Sfe=["aria-selected","aria-disabled","onClick","onKeydown","onMouseover"],Ife=["aria-label"],Vf=xe({__name:"SelectionOverlay",props:{items:{},type:{},isLast:{type:Boolean},arrowNavigation:{type:Boolean},skipButtonRef:{type:Boolean},headerRefs:{},hideNavigation:{},escClose:{type:Boolean},useRelative:{type:Boolean},height:{},textInput:{type:[Boolean,Object]},config:{},noOverlayFocus:{type:Boolean},focusValue:{}},emits:["selected","toggle","reset-flow","hover-value"],setup(t,{expose:e,emit:n}){const{setSelectionGrid:r,buildMultiLevelMatrix:i,setMonthPicker:s}=Ua(),o=n,a=t,{defaultedAriaLabels:l,defaultedTextInput:u,defaultedConfig:c}=ar(a),{hideNavigationButtons:d}=$v(),h=ie(!1),p=ie(null),m=ie(null),g=ie([]),y=ie(),A=ie(null),C=ie(0),S=ie(null);j_(()=>{p.value=null}),Vt(()=>{ir().then(()=>R()),a.noOverlayFocus||k(),E(!0)}),Gs(()=>E(!1));const E=z=>{var V;a.arrowNavigation&&((V=a.headerRefs)!=null&&V.length?s(z):r(z))},k=()=>{var z;const V=vr(m);V&&(u.value.enabled||(p.value?(z=p.value)==null||z.focus({preventScroll:!0}):V.focus({preventScroll:!0})),h.value=V.clientHeight<V.scrollHeight)},x=ee(()=>({dp__overlay:!0,"dp--overlay-absolute":!a.useRelative,"dp--overlay-relative":a.useRelative})),I=ee(()=>a.useRelative?{height:`${a.height}px`,width:"260px"}:void 0),b=ee(()=>({dp__overlay_col:!0})),_=ee(()=>({dp__btn:!0,dp__button:!0,dp__overlay_action:!0,dp__over_action_scroll:h.value,dp__button_bottom:a.isLast})),T=ee(()=>{var z,V;return{dp__overlay_container:!0,dp__container_flex:((z=a.items)==null?void 0:z.length)<=6,dp__container_block:((V=a.items)==null?void 0:V.length)>6}});cn(()=>a.items,()=>R(),{deep:!0});const R=()=>{ir().then(()=>{const z=vr(p),V=vr(m),ce=vr(A),le=vr(S),ve=ce?ce.getBoundingClientRect().height:0;V&&(V.getBoundingClientRect().height?C.value=V.getBoundingClientRect().height-ve:C.value=c.value.modeHeight-ve),z&&le&&(le.scrollTop=z.offsetTop-le.offsetTop-(C.value/2-z.getBoundingClientRect().height)-ve)})},N=z=>{z.disabled||o("selected",z.value)},O=()=>{o("toggle"),o("reset-flow")},j=()=>{a.escClose&&O()},U=(z,V,ce,le)=>{z&&((V.active||V.value===a.focusValue)&&(p.value=z),a.arrowNavigation&&(Array.isArray(g.value[ce])?g.value[ce][le]=z:g.value[ce]=[z],$()))},$=()=>{var z,V;const ce=(z=a.headerRefs)!=null&&z.length?[a.headerRefs].concat(g.value):g.value.concat([a.skipButtonRef?[]:[A.value]]);i(wr(ce),(V=a.headerRefs)!=null&&V.length?"monthPicker":"selectionGrid")},B=z=>{a.arrowNavigation||ba(z,c.value,!0)},te=z=>{y.value=z,o("hover-value",z)};return e({focusGrid:k}),(z,V)=>{var ce;return D(),H("div",{ref_key:"gridWrapRef",ref:m,class:Le(x.value),style:tr(I.value),role:"dialog",tabindex:"0",onKeydown:[bt(kt(j,["prevent"]),["esc"]),V[0]||(V[0]=bt(kt(le=>B(le),["prevent"]),["left"])),V[1]||(V[1]=bt(kt(le=>B(le),["prevent"]),["up"])),V[2]||(V[2]=bt(kt(le=>B(le),["prevent"]),["down"])),V[3]||(V[3]=bt(kt(le=>B(le),["prevent"]),["right"]))]},[v("div",{ref_key:"containerRef",ref:S,class:Le(T.value),role:"grid",style:tr({height:`${C.value}px`})},[v("div",Efe,[_e(z.$slots,"header")]),z.$slots.overlay?_e(z.$slots,"overlay",{key:0}):(D(!0),H(Pe,{key:1},dt(z.items,(le,ve)=>(D(),H("div",{key:ve,class:Le(["dp__overlay_row",{dp__flex_row:z.items.length>=3}]),role:"row"},[(D(!0),H(Pe,null,dt(le,(Se,he)=>(D(),H("div",{key:Se.value,ref_for:!0,ref:Y=>U(Y,Se,ve,he),role:"gridcell",class:Le(b.value),"aria-selected":Se.active,"aria-disabled":Se.disabled||void 0,tabindex:"0",onClick:Y=>N(Se),onKeydown:[bt(kt(Y=>N(Se),["prevent"]),["enter"]),bt(kt(Y=>N(Se),["prevent"]),["space"])],onMouseover:Y=>te(Se.value)},[v("div",{class:Le(Se.className)},[z.$slots.item?_e(z.$slots,"item",{key:0,item:Se}):J("",!0),z.$slots.item?J("",!0):(D(),H(Pe,{key:1},[K(Fe(Se.text),1)],64))],2)],42,Sfe))),128))],2))),128))],6),z.$slots["button-icon"]?Fi((D(),H("button",{key:0,ref_key:"toggleButton",ref:A,type:"button","aria-label":(ce=P(l))==null?void 0:ce.toggleOverlay,class:Le(_.value),tabindex:"0",onClick:O,onKeydown:[bt(O,["enter"]),bt(O,["tab"])]},[_e(z.$slots,"button-icon")],42,Ife)),[[Ls,!P(d)(z.hideNavigation,z.type)]]):J("",!0)],46,Tfe)}}}),Uv=xe({__name:"InstanceWrap",props:{multiCalendars:{},stretch:{type:Boolean}},setup(t){const e=t,n=ee(()=>e.multiCalendars>0?[...Array(e.multiCalendars).keys()]:[0]),r=ee(()=>({dp__instance_calendar:e.multiCalendars>0}));return(i,s)=>(D(),H("div",{class:Le({dp__menu_inner:!i.stretch,"dp--menu--inner-stretched":i.stretch,dp__flex_display:i.multiCalendars>0})},[(D(!0),H(Pe,null,dt(n.value,(o,a)=>(D(),H("div",{key:o,class:Le(r.value)},[_e(i.$slots,"default",{instance:o,index:a})],2))),128))],2))}}),Cfe=["aria-label","aria-disabled"],lh=xe({compatConfig:{MODE:3},__name:"ArrowBtn",props:{ariaLabel:{},disabled:{type:Boolean}},emits:["activate","set-ref"],setup(t,{emit:e}){const n=e,r=ie(null);return Vt(()=>n("set-ref",r)),(i,s)=>(D(),H("button",{ref_key:"elRef",ref:r,type:"button",class:"dp__btn dp--arrow-btn-nav",tabindex:"0","aria-label":i.ariaLabel,"aria-disabled":i.disabled||void 0,onClick:s[0]||(s[0]=o=>i.$emit("activate")),onKeydown:[s[1]||(s[1]=bt(kt(o=>i.$emit("activate"),["prevent"]),["enter"])),s[2]||(s[2]=bt(kt(o=>i.$emit("activate"),["prevent"]),["space"]))]},[v("span",{class:Le(["dp__inner_nav",{dp__inner_nav_disabled:i.disabled}])},[_e(i.$slots,"default")],2)],40,Cfe))}}),Afe={class:"dp--year-mode-picker"},Pfe=["aria-label"],GL=xe({__name:"YearModePicker",props:{...Ss,showYearPicker:{type:Boolean,default:!1},items:{type:Array,default:()=>[]},instance:{type:Number,default:0},year:{type:Number,default:0},isDisabled:{type:Function,default:()=>!1}},emits:["toggle-year-picker","year-select","handle-year"],setup(t,{emit:e}){const n=e,r=t,{showRightIcon:i,showLeftIcon:s}=$v(),{defaultedConfig:o,defaultedMultiCalendars:a,defaultedAriaLabels:l,defaultedTransitions:u}=ar(r),{showTransition:c,transitionName:d}=Mf(u),h=(g=!1,y)=>{n("toggle-year-picker",{flow:g,show:y})},p=g=>{n("year-select",g)},m=(g=!1)=>{n("handle-year",g)};return(g,y)=>{var A,C,S;return D(),H("div",Afe,[P(s)(P(a),t.instance)?(D(),ae(lh,{key:0,ref:"mpPrevIconRef","aria-label":(A=P(l))==null?void 0:A.prevYear,disabled:t.isDisabled(!1),onActivate:y[0]||(y[0]=E=>m(!1))},{default:X(()=>[g.$slots["arrow-left"]?_e(g.$slots,"arrow-left",{key:0}):J("",!0),g.$slots["arrow-left"]?J("",!0):(D(),ae(P(vT),{key:1}))]),_:3},8,["aria-label","disabled"])):J("",!0),v("button",{ref:"mpYearButtonRef",class:"dp__btn dp--year-select",type:"button","aria-label":(C=P(l))==null?void 0:C.openYearsOverlay,onClick:y[1]||(y[1]=()=>h(!1)),onKeydown:y[2]||(y[2]=bt(()=>h(!1),["enter"]))},[g.$slots.year?_e(g.$slots,"year",{key:0,year:t.year}):J("",!0),g.$slots.year?J("",!0):(D(),H(Pe,{key:1},[K(Fe(t.year),1)],64))],40,Pfe),P(i)(P(a),t.instance)?(D(),ae(lh,{key:1,ref:"mpNextIconRef","aria-label":(S=P(l))==null?void 0:S.nextYear,disabled:t.isDisabled(!0),onActivate:y[3]||(y[3]=E=>m(!0))},{default:X(()=>[g.$slots["arrow-right"]?_e(g.$slots,"arrow-right",{key:0}):J("",!0),g.$slots["arrow-right"]?J("",!0):(D(),ae(P(yT),{key:1}))]),_:3},8,["aria-label","disabled"])):J("",!0),q(ns,{name:P(d)(t.showYearPicker),css:P(c)},{default:X(()=>[t.showYearPicker?(D(),ae(Vf,{key:0,items:t.items,"text-input":g.textInput,"esc-close":g.escClose,config:g.config,"is-last":g.autoApply&&!P(o).keepActionRow,"hide-navigation":g.hideNavigation,type:"year",onToggle:h,onSelected:y[4]||(y[4]=E=>p(E))},fr({"button-icon":X(()=>[g.$slots["calendar-icon"]?_e(g.$slots,"calendar-icon",{key:0}):J("",!0),g.$slots["calendar-icon"]?J("",!0):(D(),ae(P(qc),{key:1}))]),_:2},[g.$slots["year-overlay-value"]?{name:"item",fn:X(({item:E})=>[_e(g.$slots,"year-overlay-value",{text:E.text,value:E.value})]),key:"0"}:void 0]),1032,["items","text-input","esc-close","config","is-last","hide-navigation"])):J("",!0)]),_:3},8,["name","css"])])}}}),AT=(t,e,n)=>{if(e.value&&Array.isArray(e.value))if(e.value.some(r=>nn(t,r))){const r=e.value.filter(i=>!nn(i,t));e.value=r.length?r:null}else(n&&+n>e.value.length||!n)&&e.value.push(t);else e.value=[t]},PT=(t,e,n)=>{let r=t.value?t.value.slice():[];return r.length===2&&r[1]!==null&&(r=[]),r.length?Lr(e,r[0])?(r.unshift(e),n("range-start",r[0]),n("range-start",r[1])):(r[1]=e,n("range-end",e)):(r=[e],n("range-start",e)),t.value=r,r},qv=(t,e,n,r)=>{t[0]&&t[1]&&n&&e("auto-apply"),t[0]&&!t[1]&&r&&n&&e("auto-apply")},YL=t=>{Array.isArray(t.value)&&t.value.length<=2&&t.range?t.modelValue.value=t.value.map(e=>_s(Re(e),t.timezone)):Array.isArray(t.value)||(t.modelValue.value=_s(Re(t.value),t.timezone))},QL=({multiCalendars:t,highlight:e,calendars:n,modelValue:r,props:i,year:s,month:o,emit:a})=>{const l=ee(()=>IT(i.yearRange,i.reverseYears)),u=ie([!1]),c=ee(()=>(E,k)=>{const x=kn(hs(new Date),{month:o.value(E),year:s.value(E)});return HL(x,i.maxDate,i.minDate,i.preventMinMaxNavigation,k)}),d=()=>{for(let E=0;E<t.value.count;E++)if(E===0)n.value[E]=n.value[0];else{const k=kn(Re(),n.value[E-1]);n.value[E]={month:zt(k),year:At(uT(k,1))}}},h=E=>{if(!E)return d();const k=kn(Re(),n.value[E]);return n.value[0].year=At(xL(k,t.value.count-1)),d()},p=E=>i.focusStartDate?E[0]:E[1]?E[1]:E[0],m=()=>{if(r.value){const E=Array.isArray(r.value)?p(r.value):r.value;n.value[0]={month:zt(E),year:At(E)}}};Vt(()=>{m(),t.value.count&&d()});const g=(E,k)=>{n.value[k].year=E,t.value.count&&!t.value.solo&&h(k)},y=ee(()=>E=>Ic(l.value,k=>{const x=s.value(E)===k.value,I=Yh(k.value,Cc(i.minDate),Cc(i.maxDate)),b=CT(e.value,k.value);return{active:x,disabled:I,highlighted:b}})),A=(E,k)=>{g(E,k),S(k)},C=(E,k=!1)=>{if(!c.value(E,k)){const x=k?s.value(E)+1:s.value(E)-1;g(x,E)}},S=(E,k=!1,x)=>{k||a("reset-flow"),x!==void 0?u.value[E]=x:u.value[E]=!u.value[E],u.value||a("overlay-closed")};return{isDisabled:c,groupedYears:y,showYearPicker:u,selectYear:g,toggleYearPicker:S,handleYearSelect:A,handleYear:C}},Ofe=(t,e)=>{const{defaultedMultiCalendars:n,defaultedAriaLabels:r,defaultedTransitions:i,defaultedConfig:s,defaultedHighlight:o}=ar(t),{modelValue:a,year:l,month:u,calendars:c}=Lf(t,e),d=ee(()=>VL(t.formatLocale,t.locale,t.monthNameFormat)),h=ie(null),{selectYear:p,groupedYears:m,showYearPicker:g,toggleYearPicker:y,handleYearSelect:A,handleYear:C,isDisabled:S}=QL({modelValue:a,multiCalendars:n,highlight:o,calendars:c,year:l,month:u,props:t,emit:e});Vt(()=>{t.startDate&&(a.value&&t.focusStartDate||!a.value)&&p(At(Re(t.startDate)),0)});const E=B=>B?{month:zt(B),year:At(B)}:{month:null,year:null},k=()=>a.value?Array.isArray(a.value)?a.value.map(B=>E(B)):E(a.value):E(),x=(B,te)=>{const z=c.value[B],V=k();return Array.isArray(V)?V.some(ce=>ce.year===(z==null?void 0:z.year)&&ce.month===te):(z==null?void 0:z.year)===V.year&&te===V.month},I=(B,te,z)=>{var V,ce;const le=k();return Array.isArray(le)?l.value(te)===((V=le[z])==null?void 0:V.year)&&B===((ce=le[z])==null?void 0:ce.month):!1},b=(B,te)=>{if(t.range){const z=k();if(Array.isArray(a.value)&&Array.isArray(z)){const V=I(B,te,0)||I(B,te,1),ce=vo(hs(Re()),B,l.value(te));return Vv(a.value,h.value,ce)&&!V}return!1}return!1},_=ee(()=>B=>Ic(d.value,te=>{const z=x(B,te.value),V=Yh(te.value,FL(l.value(B),t.minDate),UL(l.value(B),t.maxDate))||Yhe(t.disabledDates,l.value(B)).includes(te.value),ce=b(te.value,B),le=zL(o.value,te.value,l.value(B));return{active:z,disabled:V,isBetween:ce,highlighted:le}})),T=(B,te)=>vo(hs(Re()),B,l.value(te)),R=(B,te)=>{const z=a.value?a.value:hs(new Date);a.value=vo(z,B,l.value(te)),e("auto-apply")},N=(B,te)=>{const z=PT(a,T(B,te),e);qv(z,e,t.autoApply,t.modelAuto)},O=(B,te)=>{AT(T(B,te),a,t.multiDatesLimit),e("auto-apply",!0)},j=(B,te)=>(c.value[te].month=B,$(te,c.value[te].year,B),t.multiDates?O(B,te):t.range?N(B,te):R(B,te)),U=(B,te)=>{p(B,te),$(te,B,null)},$=(B,te,z)=>{let V=z;if(!V&&V!==0){const ce=k();V=Array.isArray(ce)?ce[B].month:ce.month}e("update-month-year",{instance:B,year:te,month:V})};return{groupedMonths:_,groupedYears:m,year:l,isDisabled:S,defaultedMultiCalendars:n,defaultedAriaLabels:r,defaultedTransitions:i,defaultedConfig:s,showYearPicker:g,modelValue:a,presetDate:(B,te)=>{YL({value:B,modelValue:a,range:t.range,timezone:te?void 0:t.timezone}),e("auto-apply")},setHoverDate:(B,te)=>{h.value=T(B,te)},selectMonth:j,selectYear:U,toggleYearPicker:y,handleYearSelect:A,handleYear:C,getModelMonthYear:k}},kfe=xe({compatConfig:{MODE:3},__name:"MonthPicker",props:{...Ss},emits:["update:internal-model-value","overlay-closed","reset-flow","range-start","range-end","auto-apply","update-month-year","mount"],setup(t,{expose:e,emit:n}){const r=n,i=Na(),s=Vi(i,"yearMode"),o=t;Vt(()=>{o.shadow||r("mount",null)});const{groupedMonths:a,groupedYears:l,year:u,isDisabled:c,defaultedMultiCalendars:d,defaultedConfig:h,showYearPicker:p,modelValue:m,presetDate:g,setHoverDate:y,selectMonth:A,selectYear:C,toggleYearPicker:S,handleYearSelect:E,handleYear:k,getModelMonthYear:x}=Ofe(o,r);return e({getSidebarProps:()=>({modelValue:m,year:u,getModelMonthYear:x,selectMonth:A,selectYear:C,handleYear:k}),presetDate:g,toggleYearPicker:I=>S(0,I)}),(I,b)=>(D(),ae(Uv,{"multi-calendars":P(d).count,stretch:""},{default:X(({instance:_})=>[I.$slots["month-year"]?_e(I.$slots,"month-year",Vn(se({key:0},{year:P(u),months:P(a)(_),years:P(l)(_),selectMonth:P(A),selectYear:P(C),instance:_}))):(D(),ae(Vf,{key:1,items:P(a)(_),"arrow-navigation":I.arrowNavigation,"is-last":I.autoApply&&!P(h).keepActionRow,"esc-close":I.escClose,height:P(h).modeHeight,config:I.config,"no-overlay-focus":!!(I.noOverlayFocus||I.textInput),"use-relative":"",type:"month",onSelected:T=>P(A)(T,_),onHoverValue:T=>P(y)(T,_)},{header:X(()=>[q(GL,se(I.$props,{items:P(l)(_),instance:_,"show-year-picker":P(p)[_],year:P(u)(_),"is-disabled":T=>P(c)(_,T),onHandleYear:T=>P(k)(_,T),onYearSelect:T=>P(E)(T,_),onToggleYearPicker:T=>P(S)(_,T==null?void 0:T.flow,T==null?void 0:T.show)}),fr({_:2},[dt(P(s),(T,R)=>({name:T,fn:X(N=>[_e(I.$slots,T,Vn(hr(N)))])}))]),1040,["items","instance","show-year-picker","year","is-disabled","onHandleYear","onYearSelect","onToggleYearPicker"])]),_:2},1032,["items","arrow-navigation","is-last","esc-close","height","config","no-overlay-focus","onSelected","onHoverValue"]))]),_:3},8,["multi-calendars"]))}}),Rfe=(t,e)=>{const{modelValue:n}=Lf(t,e),r=ie(null),{defaultedHighlight:i,defaultedFilters:s}=ar(t),o=ie();Vt(()=>{t.startDate&&(n.value&&t.focusStartDate||!n.value)&&(o.value=At(Re(t.startDate)))});const a=d=>Array.isArray(n.value)?n.value.some(h=>At(h)===d):n.value?At(n.value)===d:!1,l=d=>t.range&&Array.isArray(n.value)?Vv(n.value,r.value,c(d)):!1,u=ee(()=>Ic(IT(t.yearRange,t.reverseYears),d=>{const h=a(d.value),p=Yh(d.value,Cc(t.minDate),Cc(t.maxDate))||s.value.years.includes(d.value),m=l(d.value)&&!h,g=CT(i.value,d.value);return{active:h,disabled:p,isBetween:m,highlighted:g}})),c=d=>Ns(hs(new Date),d);return{groupedYears:u,modelValue:n,focusYear:o,setHoverValue:d=>{r.value=Ns(hs(new Date),d)},selectYear:d=>{var h;if(t.multiDates)return n.value?Array.isArray(n.value)&&(((h=n.value)==null?void 0:h.map(p=>At(p))).includes(d)?n.value=n.value.filter(p=>At(p)!==d):n.value.push(Ns(si(Re()),d))):n.value=[Ns(si(Re()),d)],e("auto-apply",!0);if(t.range){const p=PT(n,c(d),e);return qv(p,e,t.autoApply,t.modelAuto)}n.value=c(d),e("auto-apply")}}},xfe=xe({compatConfig:{MODE:3},__name:"YearPicker",props:{...Ss},emits:["update:internal-model-value","reset-flow","range-start","range-end","auto-apply"],setup(t,{expose:e,emit:n}){const r=n,i=t,{groupedYears:s,modelValue:o,focusYear:a,selectYear:l,setHoverValue:u}=Rfe(i,r),{defaultedConfig:c}=ar(i);return e({getSidebarProps:()=>({modelValue:o,selectYear:l})}),(d,h)=>(D(),H("div",null,[d.$slots["month-year"]?_e(d.$slots,"month-year",Vn(se({key:0},{years:P(s),selectYear:P(l)}))):(D(),ae(Vf,{key:1,items:P(s),"is-last":d.autoApply&&!P(c).keepActionRow,height:P(c).modeHeight,config:d.config,"no-overlay-focus":!!(d.noOverlayFocus||d.textInput),"focus-value":P(a),type:"year","use-relative":"",onSelected:P(l),onHoverValue:P(u)},fr({_:2},[d.$slots["year-overlay-value"]?{name:"item",fn:X(({item:p})=>[_e(d.$slots,"year-overlay-value",{text:p.text,value:p.value})]),key:"0"}:void 0]),1032,["items","is-last","height","config","no-overlay-focus","focus-value","onSelected","onHoverValue"]))]))}}),Dfe={key:0,class:"dp__time_input"},Nfe=["aria-label","onKeydown","onClick"],Mfe=v("span",{class:"dp__tp_inline_btn_bar dp__tp_btn_in_l"},null,-1),Lfe=v("span",{class:"dp__tp_inline_btn_bar dp__tp_btn_in_r"},null,-1),Vfe=["aria-label","disabled","onKeydown","onClick"],$fe=["aria-label","onKeydown","onClick"],Ffe=v("span",{class:"dp__tp_inline_btn_bar dp__tp_btn_in_l"},null,-1),Ufe=v("span",{class:"dp__tp_inline_btn_bar dp__tp_btn_in_r"},null,-1),qfe={key:0},Bfe=["aria-label","onKeydown"],jfe=xe({compatConfig:{MODE:3},__name:"TimeInput",props:{hours:{type:Number,default:0},minutes:{type:Number,default:0},seconds:{type:Number,default:0},closeTimePickerBtn:{type:Object,default:null},order:{type:Number,default:0},disabledTimesConfig:{type:Function,default:null},validateTime:{type:Function,default:()=>!1},...Ss},emits:["set-hours","set-minutes","update:hours","update:minutes","update:seconds","reset-flow","mounted","overlay-closed","am-pm-change"],setup(t,{expose:e,emit:n}){const r=n,i=t,{setTimePickerElements:s,setTimePickerBackRef:o}=Ua(),{defaultedAriaLabels:a,defaultedTransitions:l,defaultedFilters:u,defaultedConfig:c}=ar(i),{transitionName:d,showTransition:h}=Mf(l),p=Pr({hours:!1,minutes:!1,seconds:!1}),m=ie("AM"),g=ie(null),y=ie([]);Vt(()=>{r("mounted")});const A=Y=>kn(new Date,{hours:Y.hours,minutes:Y.minutes,seconds:i.enableSeconds?Y.seconds:0,milliseconds:0}),C=ee(()=>Y=>j(Y,i[Y])||E(Y,i[Y])),S=ee(()=>({hours:i.hours,minutes:i.minutes,seconds:i.seconds})),E=(Y,ne)=>i.range&&!i.disableTimeRangeValidation?!i.validateTime(Y,ne):!1,k=(Y,ne)=>{if(i.range&&!i.disableTimeRangeValidation){const pe=ne?+i[`${Y}Increment`]:-+i[`${Y}Increment`],oe=i[Y]+pe;return!i.validateTime(Y,oe)}return!1},x=ee(()=>Y=>!$(+i[Y]+ +i[`${Y}Increment`],Y)||k(Y,!0)),I=ee(()=>Y=>!$(+i[Y]-+i[`${Y}Increment`],Y)||k(Y,!1)),b=(Y,ne)=>dL(kn(Re(),Y),ne),_=(Y,ne)=>ohe(kn(Re(),Y),ne),T=ee(()=>({dp__time_col:!0,dp__time_col_block:!i.timePickerInline,dp__time_col_reg_block:!i.enableSeconds&&i.is24&&!i.timePickerInline,dp__time_col_reg_inline:!i.enableSeconds&&i.is24&&i.timePickerInline,dp__time_col_reg_with_button:!i.enableSeconds&&!i.is24,dp__time_col_sec:i.enableSeconds&&i.is24,dp__time_col_sec_with_button:i.enableSeconds&&!i.is24})),R=ee(()=>{const Y=[{type:"hours"},{type:"",separator:!0},{type:"minutes"}];return i.enableSeconds?Y.concat([{type:"",separator:!0},{type:"seconds"}]):Y}),N=ee(()=>R.value.filter(Y=>!Y.separator)),O=ee(()=>Y=>{if(Y==="hours"){const ne=ce(+i.hours);return{text:ne<10?`0${ne}`:`${ne}`,value:ne}}return{text:i[Y]<10?`0${i[Y]}`:`${i[Y]}`,value:i[Y]}}),j=(Y,ne)=>{var pe;if(!i.disabledTimesConfig)return!1;const oe=i.disabledTimesConfig(i.order,Y==="hours"?ne:void 0);return oe[Y]?!!((pe=oe[Y])!=null&&pe.includes(ne)):!0},U=Y=>{const ne=i.is24?24:12,pe=Y==="hours"?ne:60,oe=+i[`${Y}GridIncrement`],we=Y==="hours"&&!i.is24?oe:0,Ce=[];for(let fe=we;fe<pe;fe+=oe)Ce.push({value:fe,text:fe<10?`0${fe}`:`${fe}`});return Y==="hours"&&!i.is24&&Ce.push({value:0,text:"12"}),Ic(Ce,fe=>({active:!1,disabled:u.value.times[Y].includes(fe.value)||!$(fe.value,Y)||j(Y,fe.value)||E(Y,fe.value)}))},$=(Y,ne)=>{const pe=i.minTime?A(pb(i.minTime)):null,oe=i.maxTime?A(pb(i.maxTime)):null,we=A(pb(S.value,ne,Y));return pe&&oe?(Gh(we,oe)||xu(we,oe))&&(Kh(we,pe)||xu(we,pe)):pe?Kh(we,pe)||xu(we,pe):oe?Gh(we,oe)||xu(we,oe):!0},B=Y=>i[`no${Y[0].toUpperCase()+Y.slice(1)}Overlay`],te=Y=>{B(Y)||(p[Y]=!p[Y],p[Y]||r("overlay-closed"))},z=Y=>Y==="hours"?bs:Y==="minutes"?js:Ec,V=(Y,ne=!0)=>{const pe=ne?b:_,oe=ne?+i[`${Y}Increment`]:-+i[`${Y}Increment`];$(+i[Y]+oe,Y)&&r(`update:${Y}`,z(Y)(pe({[Y]:+i[Y]},{[Y]:+i[`${Y}Increment`]})))},ce=Y=>i.is24?Y:(Y>=12?m.value="PM":m.value="AM",Mhe(Y)),le=()=>{m.value==="PM"?(m.value="AM",r("update:hours",i.hours-12)):(m.value="PM",r("update:hours",i.hours+12)),r("am-pm-change",m.value)},ve=Y=>{p[Y]=!0},Se=(Y,ne,pe)=>{if(Y&&i.arrowNavigation){Array.isArray(y.value[ne])?y.value[ne][pe]=Y:y.value[ne]=[Y];const oe=y.value.reduce((we,Ce)=>Ce.map((fe,L)=>[...we[L]||[],Ce[L]]),[]);o(i.closeTimePickerBtn),g.value&&(oe[1]=oe[1].concat(g.value)),s(oe,i.order)}},he=(Y,ne)=>(te(Y),Y==="hours"&&!i.is24?r(`update:${Y}`,m.value==="PM"?ne+12:ne):r(`update:${Y}`,ne));return e({openChildCmp:ve}),(Y,ne)=>{var pe;return Y.disabled?J("",!0):(D(),H("div",Dfe,[(D(!0),H(Pe,null,dt(R.value,(oe,we)=>{var Ce,fe,L;return D(),H("div",{key:we,class:Le(T.value)},[oe.separator?(D(),H(Pe,{key:0},[K(" : ")],64)):(D(),H(Pe,{key:1},[v("button",{ref_for:!0,ref:W=>Se(W,we,0),type:"button",class:Le({dp__btn:!0,dp__inc_dec_button:!Y.timePickerInline,dp__inc_dec_button_inline:Y.timePickerInline,dp__tp_inline_btn_top:Y.timePickerInline,dp__inc_dec_button_disabled:x.value(oe.type)}),"aria-label":(Ce=P(a))==null?void 0:Ce.incrementValue(oe.type),tabindex:"0",onKeydown:[bt(kt(W=>V(oe.type),["prevent"]),["enter"]),bt(kt(W=>V(oe.type),["prevent"]),["space"])],onClick:W=>V(oe.type)},[i.timePickerInline?(D(),H(Pe,{key:1},[Mfe,Lfe],64)):(D(),H(Pe,{key:0},[Y.$slots["arrow-up"]?_e(Y.$slots,"arrow-up",{key:0}):J("",!0),Y.$slots["arrow-up"]?J("",!0):(D(),ae(P(_T),{key:1}))],64))],42,Nfe),v("button",{ref_for:!0,ref:W=>Se(W,we,1),type:"button","aria-label":(fe=P(a))==null?void 0:fe.openTpOverlay(oe.type),class:Le({dp__time_display:!0,dp__time_display_block:!Y.timePickerInline,dp__time_display_inline:Y.timePickerInline,"dp--time-invalid":C.value(oe.type),"dp--time-overlay-btn":!C.value(oe.type)}),disabled:B(oe.type),tabindex:"0",onKeydown:[bt(kt(W=>te(oe.type),["prevent"]),["enter"]),bt(kt(W=>te(oe.type),["prevent"]),["space"])],onClick:W=>te(oe.type)},[Y.$slots[oe.type]?_e(Y.$slots,oe.type,{key:0,text:O.value(oe.type).text,value:O.value(oe.type).value}):J("",!0),Y.$slots[oe.type]?J("",!0):(D(),H(Pe,{key:1},[K(Fe(O.value(oe.type).text),1)],64))],42,Vfe),v("button",{ref_for:!0,ref:W=>Se(W,we,2),type:"button",class:Le({dp__btn:!0,dp__inc_dec_button:!Y.timePickerInline,dp__inc_dec_button_inline:Y.timePickerInline,dp__tp_inline_btn_bottom:Y.timePickerInline,dp__inc_dec_button_disabled:I.value(oe.type)}),"aria-label":(L=P(a))==null?void 0:L.decrementValue(oe.type),tabindex:"0",onKeydown:[bt(kt(W=>V(oe.type,!1),["prevent"]),["enter"]),bt(kt(W=>V(oe.type,!1),["prevent"]),["space"])],onClick:W=>V(oe.type,!1)},[i.timePickerInline?(D(),H(Pe,{key:1},[Ffe,Ufe],64)):(D(),H(Pe,{key:0},[Y.$slots["arrow-down"]?_e(Y.$slots,"arrow-down",{key:0}):J("",!0),Y.$slots["arrow-down"]?J("",!0):(D(),ae(P(wT),{key:1}))],64))],42,$fe)],64))],2)}),128)),Y.is24?J("",!0):(D(),H("div",qfe,[Y.$slots["am-pm-button"]?_e(Y.$slots,"am-pm-button",{key:0,toggle:le,value:m.value}):J("",!0),Y.$slots["am-pm-button"]?J("",!0):(D(),H("button",{key:1,ref_key:"amPmButton",ref:g,type:"button",class:"dp__pm_am_button",role:"button","aria-label":(pe=P(a))==null?void 0:pe.amPmButton,tabindex:"0",onClick:le,onKeydown:[bt(kt(le,["prevent"]),["enter"]),bt(kt(le,["prevent"]),["space"])]},Fe(m.value),41,Bfe))])),(D(!0),H(Pe,null,dt(N.value,(oe,we)=>(D(),ae(ns,{key:we,name:P(d)(p[oe.type]),css:P(h)},{default:X(()=>[p[oe.type]?(D(),ae(Vf,{key:0,items:U(oe.type),"is-last":Y.autoApply&&!P(c).keepActionRow,"esc-close":Y.escClose,type:oe.type,"text-input":Y.textInput,config:Y.config,"arrow-navigation":Y.arrowNavigation,onSelected:Ce=>he(oe.type,Ce),onToggle:Ce=>te(oe.type),onResetFlow:ne[0]||(ne[0]=Ce=>Y.$emit("reset-flow"))},fr({"button-icon":X(()=>[Y.$slots["clock-icon"]?_e(Y.$slots,"clock-icon",{key:0}):J("",!0),Y.$slots["clock-icon"]?J("",!0):(D(),ae(Mn(Y.timePickerInline?P(qc):P(bT)),{key:1}))]),_:2},[Y.$slots[`${oe.type}-overlay-value`]?{name:"item",fn:X(({item:Ce})=>[_e(Y.$slots,`${oe.type}-overlay-value`,{text:Ce.text,value:Ce.value})]),key:"0"}:void 0]),1032,["items","is-last","esc-close","type","text-input","config","arrow-navigation","onSelected","onToggle"])):J("",!0)]),_:2},1032,["name","css"]))),128))]))}}}),Hfe={class:"dp--tp-wrap"},Wfe=["aria-label","tabindex"],zfe=["tabindex"],Kfe=["aria-label"],XL=xe({compatConfig:{MODE:3},__name:"TimePicker",props:{hours:{type:[Number,Array],default:0},minutes:{type:[Number,Array],default:0},seconds:{type:[Number,Array],default:0},disabledTimesConfig:{type:Function,default:null},validateTime:{type:Function,default:()=>!1},...Ss},emits:["update:hours","update:minutes","update:seconds","mount","reset-flow","overlay-opened","overlay-closed","am-pm-change"],setup(t,{expose:e,emit:n}){const r=n,i=t,{buildMatrix:s,setTimePicker:o}=Ua(),a=Na(),{defaultedTransitions:l,defaultedAriaLabels:u,defaultedTextInput:c,defaultedConfig:d}=ar(i),{transitionName:h,showTransition:p}=Mf(l),{hideNavigationButtons:m}=$v(),g=ie(null),y=ie(null),A=ie([]),C=ie(null);Vt(()=>{r("mount"),!i.timePicker&&i.arrowNavigation?s([vr(g.value)],"time"):o(!0,i.timePicker)});const S=ee(()=>i.range&&i.modelAuto?$L(i.internalModelValue):!0),E=ie(!1),k=U=>({hours:Array.isArray(i.hours)?i.hours[U]:i.hours,minutes:Array.isArray(i.minutes)?i.minutes[U]:i.minutes,seconds:Array.isArray(i.seconds)?i.seconds[U]:i.seconds}),x=ee(()=>{const U=[];if(i.range)for(let $=0;$<2;$++)U.push(k($));else U.push(k(0));return U}),I=(U,$=!1,B="")=>{$||r("reset-flow"),E.value=U,r(U?"overlay-opened":"overlay-closed"),i.arrowNavigation&&o(U),ir(()=>{B!==""&&A.value[0]&&A.value[0].openChildCmp(B)})},b=ee(()=>({dp__btn:!0,dp__button:!0,dp__button_bottom:i.autoApply&&!d.value.keepActionRow})),_=Vi(a,"timePicker"),T=(U,$,B)=>i.range?$===0?[U,x.value[1][B]]:[x.value[0][B],U]:U,R=U=>{r("update:hours",U)},N=U=>{r("update:minutes",U)},O=U=>{r("update:seconds",U)},j=()=>{if(C.value&&!c.value.enabled&&!i.noOverlayFocus){const U=Vhe(C.value);U&&U.focus({preventScroll:!0})}};return e({toggleTimePicker:I}),(U,$)=>{var B;return D(),H("div",Hfe,[!U.timePicker&&!U.timePickerInline?Fi((D(),H("button",{key:0,ref_key:"openTimePickerBtn",ref:g,type:"button",class:Le(b.value),"aria-label":(B=P(u))==null?void 0:B.openTimePicker,tabindex:U.noOverlayFocus?void 0:0,onKeydown:[$[0]||($[0]=bt(te=>I(!0),["enter"])),$[1]||($[1]=bt(te=>I(!0),["space"]))],onClick:$[2]||($[2]=te=>I(!0))},[U.$slots["clock-icon"]?_e(U.$slots,"clock-icon",{key:0}):J("",!0),U.$slots["clock-icon"]?J("",!0):(D(),ae(P(bT),{key:1}))],42,Wfe)),[[Ls,!P(m)(U.hideNavigation,"time")]]):J("",!0),q(ns,{name:P(h)(E.value),css:P(p)&&!U.timePickerInline},{default:X(()=>{var te;return[E.value||U.timePicker||U.timePickerInline?(D(),H("div",{key:0,ref_key:"overlayRef",ref:C,class:Le({dp__overlay:!U.timePickerInline,"dp--overlay-absolute":!i.timePicker&&!U.timePickerInline,"dp--overlay-relative":i.timePicker}),style:tr(U.timePicker?{height:`${P(d).modeHeight}px`}:void 0),tabindex:U.timePickerInline?void 0:0},[v("div",{class:Le(U.timePickerInline?"dp__time_picker_inline_container":"dp__overlay_container dp__container_flex dp__time_picker_overlay_container"),style:{display:"flex"}},[U.$slots["time-picker-overlay"]?_e(U.$slots,"time-picker-overlay",{key:0,hours:t.hours,minutes:t.minutes,seconds:t.seconds,setHours:R,setMinutes:N,setSeconds:O}):J("",!0),U.$slots["time-picker-overlay"]?J("",!0):(D(),H("div",{key:1,class:Le(U.timePickerInline?"dp__flex":"dp__overlay_row dp__flex_row")},[(D(!0),H(Pe,null,dt(x.value,(z,V)=>Fi((D(),ae(jfe,se({key:V},{...U.$props,order:V,hours:z.hours,minutes:z.minutes,seconds:z.seconds,closeTimePickerBtn:y.value,disabledTimesConfig:t.disabledTimesConfig,disabled:V===0?U.fixedStart:U.fixedEnd},{ref_for:!0,ref_key:"timeInputRefs",ref:A,"validate-time":(ce,le)=>t.validateTime(ce,T(le,V,ce)),"onUpdate:hours":ce=>R(T(ce,V,"hours")),"onUpdate:minutes":ce=>N(T(ce,V,"minutes")),"onUpdate:seconds":ce=>O(T(ce,V,"seconds")),onMounted:j,onOverlayClosed:j,onAmPmChange:$[3]||($[3]=ce=>U.$emit("am-pm-change",ce))}),fr({_:2},[dt(P(_),(ce,le)=>({name:ce,fn:X(ve=>[_e(U.$slots,ce,Vn(hr(ve)))])}))]),1040,["validate-time","onUpdate:hours","onUpdate:minutes","onUpdate:seconds"])),[[Ls,V===0?!0:S.value]])),128))],2)),!U.timePicker&&!U.timePickerInline?Fi((D(),H("button",{key:2,ref_key:"closeTimePickerBtn",ref:y,type:"button",class:Le(b.value),"aria-label":(te=P(u))==null?void 0:te.closeTimePicker,tabindex:"0",onKeydown:[$[4]||($[4]=bt(z=>I(!1),["enter"])),$[5]||($[5]=bt(z=>I(!1),["space"]))],onClick:$[6]||($[6]=z=>I(!1))},[U.$slots["calendar-icon"]?_e(U.$slots,"calendar-icon",{key:0}):J("",!0),U.$slots["calendar-icon"]?J("",!0):(D(),ae(P(qc),{key:1}))],42,Kfe)),[[Ls,!P(m)(U.hideNavigation,"time")]]):J("",!0)],2)],14,zfe)):J("",!0)]}),_:3},8,["name","css"])])}}}),JL=(t,e,n,r)=>{const i=(A,C)=>Array.isArray(e[A])?e[A][C]:e[A],s=A=>t.enableSeconds?Array.isArray(e.seconds)?e.seconds[A]:e.seconds:0,o=(A,C)=>A?C!==void 0?_a(A,i("hours",C),i("minutes",C),s(C)):_a(A,e.hours,e.minutes,s()):gT(Re(),s(C)),a=(A,C)=>{e[A]=C},l=(A,C)=>{const S=Object.fromEntries(Object.keys(e).map(E=>E===A?[E,C]:[E,e[E]].slice()));if(t.range&&!t.disableTimeRangeValidation){const E=x=>n.value?_a(n.value[x],S.hours[x],S.minutes[x],S.seconds[x]):null,k=x=>mT(n.value[x],0);return!(nn(E(0),E(1))&&(Kh(E(0),k(1))||Gh(E(1),k(0))))}return!0},u=(A,C)=>{l(A,C)&&(a(A,C),r&&r())},c=A=>{u("hours",A)},d=A=>{u("minutes",A)},h=A=>{u("seconds",A)},p=(A,C,S,E)=>{C&&c(A),!C&&!S&&d(A),S&&h(A),n.value&&E(n.value)},m=A=>{if(A){const C=Array.isArray(A),S=C?[+A[0].hours,+A[1].hours]:+A.hours,E=C?[+A[0].minutes,+A[1].minutes]:+A.minutes,k=C?[+A[0].seconds,+A[1].seconds]:+A.seconds;a("hours",S),a("minutes",E),t.enableSeconds&&a("seconds",k)}},g=(A,C)=>{const S={hours:Array.isArray(e.hours)?e.hours[A]:e.hours,disabledArr:[]};return(C||C===0)&&(S.hours=C),Array.isArray(t.disabledTimes)&&(S.disabledArr=t.range&&Array.isArray(t.disabledTimes[A])?t.disabledTimes[A]:t.disabledTimes),S},y=ee(()=>(A,C)=>{var S;if(Array.isArray(t.disabledTimes)){const{disabledArr:E,hours:k}=g(A,C),x=E.filter(I=>+I.hours===k);return((S=x[0])==null?void 0:S.minutes)==="*"?{hours:[k],minutes:void 0,seconds:void 0}:{hours:[],minutes:(x==null?void 0:x.map(I=>+I.minutes))??[],seconds:(x==null?void 0:x.map(I=>I.seconds?+I.seconds:void 0))??[]}}return{hours:[],minutes:[],seconds:[]}});return{setTime:a,updateHours:c,updateMinutes:d,updateSeconds:h,getSetDateTime:o,updateTimeValues:p,getSecondsValue:s,assignStartTime:m,validateTime:l,disabledTimesConfig:y}},Gfe=(t,e)=>{const{modelValue:n,time:r}=Lf(t,e),{defaultedStartTime:i}=ar(t),{updateTimeValues:s,getSetDateTime:o,setTime:a,assignStartTime:l,disabledTimesConfig:u,validateTime:c}=JL(t,r,n),d=C=>{const{hours:S,minutes:E,seconds:k}=C;return{hours:+S,minutes:+E,seconds:k?+k:0}},h=()=>{if(t.startTime){if(Array.isArray(t.startTime)){const S=d(t.startTime[0]),E=d(t.startTime[1]);return[kn(Re(),S),kn(Re(),E)]}const C=d(t.startTime);return kn(Re(),C)}return t.range?[null,null]:null},p=()=>{if(t.range){const[C,S]=h();n.value=[o(C,0),o(S,1)]}else n.value=o(h())},m=C=>Array.isArray(C)?[bl(Re(C[0])),bl(Re(C[1]))]:[bl(C??Re())],g=(C,S,E)=>{a("hours",C),a("minutes",S),a("seconds",t.enableSeconds?E:0)},y=()=>{const[C,S]=m(n.value);return t.range?g([C.hours,S.hours],[C.minutes,S.minutes],[C.seconds,S.minutes]):g(C.hours,C.minutes,C.seconds)};Vt(()=>{if(!t.shadow)return l(i.value),n.value?y():p()});const A=()=>{Array.isArray(n.value)?n.value=n.value.map((C,S)=>C&&o(C,S)):n.value=o(n.value),e("time-update")};return{modelValue:n,time:r,disabledTimesConfig:u,updateTime:(C,S=!0,E=!1)=>{s(C,S,E,A)},validateTime:c}},Yfe=xe({compatConfig:{MODE:3},__name:"TimePickerSolo",props:{...Ss},emits:["update:internal-model-value","time-update","am-pm-change"],setup(t,{expose:e,emit:n}){const r=n,i=t,s=Na(),o=Vi(s,"timePicker"),{time:a,modelValue:l,disabledTimesConfig:u,updateTime:c,validateTime:d}=Gfe(i,r);return e({getSidebarProps:()=>({modelValue:l,time:a,updateTime:c})}),(h,p)=>(D(),ae(Uv,{"multi-calendars":0,stretch:""},{default:X(()=>[q(XL,se(h.$props,{hours:P(a).hours,minutes:P(a).minutes,seconds:P(a).seconds,"internal-model-value":h.internalModelValue,"disabled-times-config":P(u),"validate-time":P(d),"onUpdate:hours":p[0]||(p[0]=m=>P(c)(m)),"onUpdate:minutes":p[1]||(p[1]=m=>P(c)(m,!1)),"onUpdate:seconds":p[2]||(p[2]=m=>P(c)(m,!1,!0)),onAmPmChange:p[3]||(p[3]=m=>h.$emit("am-pm-change",m))}),fr({_:2},[dt(P(o),(m,g)=>({name:m,fn:X(y=>[_e(h.$slots,m,Vn(hr(y)))])}))]),1040,["hours","minutes","seconds","internal-model-value","disabled-times-config","validate-time"])]),_:3}))}}),Qfe={class:"dp__month_year_row"},Xfe=["aria-label","onClick","onKeydown"],Jfe=xe({compatConfig:{MODE:3},__name:"DpHeader",props:{month:{type:Number,default:0},year:{type:Number,default:0},instance:{type:Number,default:0},years:{type:Array,default:()=>[]},months:{type:Array,default:()=>[]},...Ss},emits:["update-month-year","mount","reset-flow","overlay-closed"],setup(t,{expose:e,emit:n}){const r=n,i=t,{defaultedTransitions:s,defaultedAriaLabels:o,defaultedMultiCalendars:a,defaultedFilters:l,defaultedConfig:u,defaultedHighlight:c}=ar(i),{transitionName:d,showTransition:h}=Mf(s),{buildMatrix:p}=Ua(),{handleMonthYearChange:m,isDisabled:g,updateMonthYear:y}=lfe(i,r),{showLeftIcon:A,showRightIcon:C}=$v(),S=ie(!1),E=ie(!1),k=ie([null,null,null,null]);Vt(()=>{r("mount")});const x=V=>({get:()=>i[V],set:ce=>{const le=V===as.month?as.year:as.month;r("update-month-year",{[V]:ce,[le]:i[le]}),V===as.month?j(!0):U(!0)}}),I=ee(x(as.month)),b=ee(x(as.year)),_=ee(()=>V=>({month:i.month,year:i.year,items:V===as.month?i.months:i.years,instance:i.instance,updateMonthYear:y,toggle:V===as.month?j:U})),T=ee(()=>i.months.find(ce=>ce.value===i.month)||{text:"",value:0}),R=ee(()=>Ic(i.months,V=>{const ce=i.month===V.value,le=Yh(V.value,FL(i.year,i.minDate),UL(i.year,i.maxDate))||l.value.months.includes(V.value),ve=zL(c.value,V.value,i.year);return{active:ce,disabled:le,highlighted:ve}})),N=ee(()=>Ic(i.years,V=>{const ce=i.year===V.value,le=Yh(V.value,Cc(i.minDate),Cc(i.maxDate))||l.value.years.includes(V.value),ve=CT(c.value,V.value);return{active:ce,disabled:le,highlighted:ve}})),O=(V,ce)=>{ce!==void 0?V.value=ce:V.value=!V.value,V.value||r("overlay-closed")},j=(V=!1,ce)=>{$(V),O(S,ce)},U=(V=!1,ce)=>{$(V),O(E,ce)},$=V=>{V||r("reset-flow")},B=(V,ce)=>{i.arrowNavigation&&(k.value[ce]=vr(V),p(k.value,"monthYear"))},te=ee(()=>{var V,ce;return[{type:as.month,index:1,toggle:j,modelValue:I.value,updateModelValue:le=>I.value=le,text:T.value.text,showSelectionGrid:S.value,items:R.value,ariaLabel:(V=o.value)==null?void 0:V.openMonthsOverlay},{type:as.year,index:2,toggle:U,modelValue:b.value,updateModelValue:le=>b.value=le,text:i.year,showSelectionGrid:E.value,items:N.value,ariaLabel:(ce=o.value)==null?void 0:ce.openYearsOverlay}]}),z=ee(()=>i.disableYearSelect?[te.value[0]]:i.yearFirst?[...te.value].reverse():te.value);return e({toggleMonthPicker:j,toggleYearPicker:U,handleMonthYearChange:m}),(V,ce)=>{var le,ve,Se;return D(),H("div",Qfe,[V.$slots["month-year"]?_e(V.$slots,"month-year",Vn(se({key:0},{month:t.month,year:t.year,months:t.months,years:t.years,updateMonthYear:P(y),handleMonthYearChange:P(m),instance:t.instance}))):(D(),H(Pe,{key:1},[P(A)(P(a),t.instance)&&!V.vertical?(D(),ae(lh,{key:0,"aria-label":(le=P(o))==null?void 0:le.prevMonth,disabled:P(g)(!1),onActivate:ce[0]||(ce[0]=he=>P(m)(!1,!0)),onSetRef:ce[1]||(ce[1]=he=>B(he,0))},{default:X(()=>[V.$slots["arrow-left"]?_e(V.$slots,"arrow-left",{key:0}):J("",!0),V.$slots["arrow-left"]?J("",!0):(D(),ae(P(vT),{key:1}))]),_:3},8,["aria-label","disabled"])):J("",!0),v("div",{class:Le(["dp__month_year_wrap",{dp__year_disable_select:V.disableYearSelect}])},[(D(!0),H(Pe,null,dt(z.value,(he,Y)=>(D(),H(Pe,{key:he.type},[v("button",{ref_for:!0,ref:ne=>B(ne,Y+1),type:"button",class:"dp__btn dp__month_year_select",tabindex:"0","aria-label":he.ariaLabel,onClick:he.toggle,onKeydown:[bt(kt(he.toggle,["prevent"]),["enter"]),bt(kt(he.toggle,["prevent"]),["space"])]},[V.$slots[he.type]?_e(V.$slots,he.type,{key:0,text:he.text,value:i[he.type]}):J("",!0),V.$slots[he.type]?J("",!0):(D(),H(Pe,{key:1},[K(Fe(he.text),1)],64))],40,Xfe),q(ns,{name:P(d)(he.showSelectionGrid),css:P(h)},{default:X(()=>[he.showSelectionGrid?(D(),ae(Vf,{key:0,items:he.items,"arrow-navigation":V.arrowNavigation,"hide-navigation":V.hideNavigation,"is-last":V.autoApply&&!P(u).keepActionRow,"skip-button-ref":!1,config:V.config,type:he.type,"header-refs":[],"esc-close":V.escClose,"text-input":V.textInput,onSelected:he.updateModelValue,onToggle:he.toggle},fr({"button-icon":X(()=>[V.$slots["calendar-icon"]?_e(V.$slots,"calendar-icon",{key:0}):J("",!0),V.$slots["calendar-icon"]?J("",!0):(D(),ae(P(qc),{key:1}))]),_:2},[V.$slots[`${he.type}-overlay-value`]?{name:"item",fn:X(({item:ne})=>[_e(V.$slots,`${he.type}-overlay-value`,{text:ne.text,value:ne.value})]),key:"0"}:void 0,V.$slots[`${he.type}-overlay`]?{name:"overlay",fn:X(()=>[_e(V.$slots,`${he.type}-overlay`,Vn(hr(_.value(he.type))))]),key:"1"}:void 0,V.$slots[`${he.type}-overlay-header`]?{name:"header",fn:X(()=>[_e(V.$slots,`${he.type}-overlay-header`,{toggle:he.toggle})]),key:"2"}:void 0]),1032,["items","arrow-navigation","hide-navigation","is-last","config","type","esc-close","text-input","onSelected","onToggle"])):J("",!0)]),_:2},1032,["name","css"])],64))),128))],2),P(A)(P(a),t.instance)&&V.vertical?(D(),ae(lh,{key:1,"aria-label":(ve=P(o))==null?void 0:ve.prevMonth,disabled:P(g)(!1),onActivate:ce[2]||(ce[2]=he=>P(m)(!1,!0))},{default:X(()=>[V.$slots["arrow-up"]?_e(V.$slots,"arrow-up",{key:0}):J("",!0),V.$slots["arrow-up"]?J("",!0):(D(),ae(P(_T),{key:1}))]),_:3},8,["aria-label","disabled"])):J("",!0),P(C)(P(a),t.instance)?(D(),ae(lh,{key:2,ref:"rightIcon",disabled:P(g)(!0),"aria-label":(Se=P(o))==null?void 0:Se.nextMonth,onActivate:ce[3]||(ce[3]=he=>P(m)(!0,!0)),onSetRef:ce[4]||(ce[4]=he=>B(he,V.disableYearSelect?2:3))},{default:X(()=>[V.$slots[V.vertical?"arrow-down":"arrow-right"]?_e(V.$slots,V.vertical?"arrow-down":"arrow-right",{key:0}):J("",!0),V.$slots[V.vertical?"arrow-down":"arrow-right"]?J("",!0):(D(),ae(Mn(V.vertical?P(wT):P(yT)),{key:1}))]),_:3},8,["disabled","aria-label"])):J("",!0)],64))])}}}),Zfe=["aria-label"],epe={class:"dp__calendar_header",role:"row"},tpe={key:0,class:"dp__calendar_header_item",role:"gridcell"},npe=v("div",{class:"dp__calendar_header_separator"},null,-1),rpe=["aria-label"],ipe={key:0,role:"gridcell",class:"dp__calendar_item dp__week_num"},spe={class:"dp__cell_inner"},ope=["id","aria-selected","aria-disabled","aria-label","onClick","onKeydown","onMouseenter","onMouseleave"],ape=xe({compatConfig:{MODE:3},__name:"DpCalendar",props:{mappedDates:{type:Array,default:()=>[]},instance:{type:Number,default:0},month:{type:Number,default:0},year:{type:Number,default:0},...Ss},emits:["select-date","set-hover-date","handle-scroll","mount","handle-swipe","handle-space","tooltip-open","tooltip-close"],setup(t,{expose:e,emit:n}){const r=n,i=t,{buildMultiLevelMatrix:s}=Ua(),{defaultedTransitions:o,defaultedConfig:a,defaultedAriaLabels:l,defaultedMultiCalendars:u,defaultedWeekNumbers:c}=ar(i),d=ie(null),h=ie({bottom:"",left:"",transform:""}),p=ie([]),m=ie(null),g=ie(!0),y=ie(""),A=ie({startX:0,endX:0,startY:0,endY:0}),C=ie([]),S=ie({left:"50%"}),E=ee(()=>i.calendar?i.calendar(i.mappedDates):i.mappedDates),k=ee(()=>i.dayNames?Array.isArray(i.dayNames)?i.dayNames:i.dayNames(i.locale,+i.weekStart):Nhe(i.formatLocale,i.locale,+i.weekStart));Vt(()=>{r("mount",{cmp:"calendar",refs:p}),a.value.noSwipe||m.value&&(m.value.addEventListener("touchstart",U,{passive:!1}),m.value.addEventListener("touchend",$,{passive:!1}),m.value.addEventListener("touchmove",B,{passive:!1})),i.monthChangeOnScroll&&m.value&&m.value.addEventListener("wheel",V,{passive:!1})});const x=he=>he?i.vertical?"vNext":"next":i.vertical?"vPrevious":"previous",I=(he,Y)=>{if(i.transitions){const ne=si(vo(Re(),i.month,i.year));y.value=ni(si(vo(Re(),he,Y)),ne)?o.value[x(!0)]:o.value[x(!1)],g.value=!1,ir(()=>{g.value=!0})}},b=ee(()=>({[i.calendarClassName]:!!i.calendarClassName})),_=ee(()=>he=>{const Y=Lhe(he);return{dp__marker_dot:Y.type==="dot",dp__marker_line:Y.type==="line"}}),T=ee(()=>he=>nn(he,d.value)),R=ee(()=>({dp__calendar:!0,dp__calendar_next:u.value.count>0&&i.instance!==0})),N=ee(()=>he=>i.hideOffsetDates?he.current:!0),O=async(he,Y,ne)=>{var pe,oe;if(r("set-hover-date",he),(oe=(pe=he.marker)==null?void 0:pe.tooltip)!=null&&oe.length){const we=vr(p.value[Y][ne]);if(we){const{width:Ce,height:fe}=we.getBoundingClientRect();d.value=he.value;let L={left:`${Ce/2}px`},W=-50;if(await ir(),C.value[0]){const{left:Q,width:me}=C.value[0].getBoundingClientRect();Q<0&&(L={left:"0"},W=0,S.value.left=`${Ce/2}px`),window.innerWidth<Q+me&&(L={right:"0"},W=0,S.value.left=`${me-Ce/2}px`)}h.value={bottom:`${fe}px`,...L,transform:`translateX(${W}%)`},r("tooltip-open",he.marker)}}},j=he=>{d.value&&(d.value=null,h.value=JSON.parse(JSON.stringify({bottom:"",left:"",transform:""})),r("tooltip-close",he.marker))},U=he=>{A.value.startX=he.changedTouches[0].screenX,A.value.startY=he.changedTouches[0].screenY},$=he=>{A.value.endX=he.changedTouches[0].screenX,A.value.endY=he.changedTouches[0].screenY,te()},B=he=>{i.vertical&&!i.inline&&he.preventDefault()},te=()=>{const he=i.vertical?"Y":"X";Math.abs(A.value[`start${he}`]-A.value[`end${he}`])>10&&r("handle-swipe",A.value[`start${he}`]>A.value[`end${he}`]?"right":"left")},z=(he,Y,ne)=>{he&&(Array.isArray(p.value[Y])?p.value[Y][ne]=he:p.value[Y]=[he]),i.arrowNavigation&&s(p.value,"calendar")},V=he=>{i.monthChangeOnScroll&&(he.preventDefault(),r("handle-scroll",he))},ce=he=>c.value.type==="local"?zce(he.value,{weekStartsOn:+i.weekStart}):c.value.type==="iso"?Bce(he.value):typeof c.value.type=="function"?c.value.type(he.value):"",le=he=>{const Y=he[0];return c.value.hideOnOffsetDates?he.some(ne=>ne.current)?ce(Y):"":ce(Y)},ve=(he,Y)=>{ba(he,a.value),r("select-date",Y)},Se=he=>{ba(he,a.value)};return e({triggerTransition:I}),(he,Y)=>{var ne;return D(),H("div",{class:Le(R.value)},[v("div",{ref_key:"calendarWrapRef",ref:m,role:"grid",class:Le(b.value),"aria-label":(ne=P(l))==null?void 0:ne.calendarWrap},[(D(),H(Pe,{key:0},[v("div",epe,[he.weekNumbers?(D(),H("div",tpe,Fe(he.weekNumName),1)):J("",!0),(D(!0),H(Pe,null,dt(k.value,(pe,oe)=>(D(),H("div",{key:oe,class:"dp__calendar_header_item",role:"gridcell"},[he.$slots["calendar-header"]?_e(he.$slots,"calendar-header",{key:0,day:pe,index:oe}):J("",!0),he.$slots["calendar-header"]?J("",!0):(D(),H(Pe,{key:1},[K(Fe(pe),1)],64))]))),128))]),npe,q(ns,{name:y.value,css:!!he.transitions},{default:X(()=>{var pe;return[g.value?(D(),H("div",{key:0,class:"dp__calendar",role:"rowgroup","aria-label":((pe=P(l))==null?void 0:pe.calendarDays)||void 0},[(D(!0),H(Pe,null,dt(E.value,(oe,we)=>(D(),H("div",{key:we,class:"dp__calendar_row",role:"row"},[he.weekNumbers?(D(),H("div",ipe,[v("div",spe,Fe(le(oe.days)),1)])):J("",!0),(D(!0),H(Pe,null,dt(oe.days,(Ce,fe)=>{var L,W,Q;return D(),H("div",{id:Ce.value.toISOString().split("T")[0],ref_for:!0,ref:me=>z(me,we,fe),key:fe+we,role:"gridcell",class:"dp__calendar_item","aria-selected":Ce.classData.dp__active_date||Ce.classData.dp__range_start||Ce.classData.dp__range_start,"aria-disabled":Ce.classData.dp__cell_disabled||void 0,"aria-label":(W=(L=P(l))==null?void 0:L.day)==null?void 0:W.call(L,Ce),tabindex:"0",onClick:kt(me=>ve(me,Ce),["prevent"]),onKeydown:[bt(me=>he.$emit("select-date",Ce),["enter"]),bt(me=>he.$emit("handle-space",Ce),["space"])],onMouseenter:me=>O(Ce,we,fe),onMouseleave:me=>j(Ce)},[v("div",{class:Le(["dp__cell_inner",Ce.classData])},[he.$slots.day&&N.value(Ce)?_e(he.$slots,"day",{key:0,day:+Ce.text,date:Ce.value}):J("",!0),he.$slots.day?J("",!0):(D(),H(Pe,{key:1},[K(Fe(Ce.text),1)],64)),Ce.marker&&N.value(Ce)?(D(),H(Pe,{key:2},[he.$slots.marker?_e(he.$slots,"marker",{key:0,marker:Ce.marker,day:+Ce.text,date:Ce.value}):(D(),H("div",{key:1,class:Le(_.value(Ce.marker)),style:tr(Ce.marker.color?{backgroundColor:Ce.marker.color}:{})},null,6))],64)):J("",!0),T.value(Ce.value)?(D(),H("div",{key:3,ref_for:!0,ref_key:"activeTooltip",ref:C,class:"dp__marker_tooltip",style:tr(h.value)},[(Q=Ce.marker)!=null&&Q.tooltip?(D(),H("div",{key:0,class:"dp__tooltip_content",onClick:Se},[(D(!0),H(Pe,null,dt(Ce.marker.tooltip,(me,ge)=>(D(),H("div",{key:ge,class:"dp__tooltip_text"},[he.$slots["marker-tooltip"]?_e(he.$slots,"marker-tooltip",{key:0,tooltip:me,day:Ce.value}):J("",!0),he.$slots["marker-tooltip"]?J("",!0):(D(),H(Pe,{key:1},[v("div",{class:"dp__tooltip_mark",style:tr(me.color?{backgroundColor:me.color}:{})},null,4),v("div",null,Fe(me.text),1)],64))]))),128)),v("div",{class:"dp__arrow_bottom_tp",style:tr(S.value)},null,4)])):J("",!0)],4)):J("",!0)],2)],40,ope)}),128))]))),128))],8,rpe)):J("",!0)]}),_:3},8,["name","css"])],64))],10,Zfe)],2)}}}),jP=t=>Array.isArray(t),lpe=(t,e,n,r)=>{const i=ie([]),{modelValue:s,calendars:o,time:a}=Lf(t,e),{defaultedMultiCalendars:l,defaultedStartTime:u}=ar(t),{validateMonthYearInRange:c,isDisabled:d,isDateRangeAllowed:h,checkMinMaxRange:p}=Ql(t),{updateTimeValues:m,getSetDateTime:g,setTime:y,assignStartTime:A,validateTime:C,disabledTimesConfig:S}=JL(t,a,s,r),E=ee(()=>re=>o.value[re]?o.value[re].month:0),k=ee(()=>re=>o.value[re]?o.value[re].year:0),x=(re,G,Z)=>{var ue,be;o.value[re]||(o.value[re]={month:0,year:0}),o.value[re].month=$P(G)?(ue=o.value[re])==null?void 0:ue.month:G,o.value[re].year=$P(Z)?(be=o.value[re])==null?void 0:be.year:Z},I=()=>{t.autoApply&&e("select-date")};cn(s,(re,G)=>{JSON.stringify(re)!==JSON.stringify(G)&&T()}),Vt(()=>{t.shadow||(s.value||(V(),u.value&&A(u.value)),T(!0),t.focusStartDate&&t.startDate&&V())});const b=ee(()=>{var re;return(re=t.flow)!=null&&re.length&&!t.partialFlow?t.flowStep===t.flow.length:!0}),_=()=>{t.autoApply&&b.value&&e("auto-apply",t.partialFlow)},T=(re=!1)=>{if(s.value)return Array.isArray(s.value)?(i.value=s.value,$(re)):N(s.value,re);if(l.value.count&&re&&!t.startDate)return R(Re(),re)},R=(re,G=!1)=>{if((!l.value.count||!l.value.static||G)&&x(0,zt(re),At(re)),l.value.count&&(!l.value.solo||!s.value))for(let Z=1;Z<l.value.count;Z++){const ue=kn(Re(),{month:E.value(Z-1),year:k.value(Z-1)}),be=dL(ue,{months:1});o.value[Z]={month:zt(be),year:At(be)}}},N=(re,G)=>{R(re),y("hours",bs(re)),y("minutes",js(re)),y("seconds",Ec(re)),l.value.count&&G&&z()},O=re=>{if(l.value.count){if(l.value.solo)return 0;const G=zt(re[0]),Z=zt(re[1]);return Math.abs(Z-G)<l.value.count?0:1}return 1},j=(re,G)=>{re[1]&&t.showLastInRange?R(re[O(re)],G):R(re[0],G);const Z=(ue,be)=>[ue(re[0]),re[1]?ue(re[1]):a[be][1]];y("hours",Z(bs,"hours")),y("minutes",Z(js,"minutes")),y("seconds",Z(Ec,"seconds"))},U=(re,G)=>{if((t.range||t.weekPicker)&&!t.multiDates)return j(re,G);if(t.multiDates&&G){const Z=re[re.length-1];return N(Z,G)}},$=re=>{const G=s.value;U(G,re),l.value.count&&l.value.solo&&z()},B=(re,G)=>{const Z=kn(Re(),{month:E.value(G),year:k.value(G)}),ue=re<0?ys(Z,1):Sc(Z,1);c(zt(ue),At(ue),re<0,t.preventMinMaxNavigation)&&(x(G,zt(ue),At(ue)),e("update-month-year",{instance:G,month:zt(ue),year:At(ue)}),l.value.count&&!l.value.solo&&te(G),n())},te=re=>{for(let G=re-1;G>=0;G--){const Z=Sc(kn(Re(),{month:E.value(G+1),year:k.value(G+1)}),1);x(G,zt(Z),At(Z))}for(let G=re+1;G<=l.value.count-1;G++){const Z=ys(kn(Re(),{month:E.value(G-1),year:k.value(G-1)}),1);x(G,zt(Z),At(Z))}},z=()=>{if(Array.isArray(s.value)&&s.value.length===2){const re=Re(Re(s.value[1]?s.value[1]:ys(s.value[0],1))),[G,Z]=[zt(s.value[0]),At(s.value[0])],[ue,be]=[zt(s.value[1]),At(s.value[1])];(G!==ue||G===ue&&Z!==be)&&l.value.solo&&x(1,zt(re),At(re))}else s.value&&!Array.isArray(s.value)&&(x(0,zt(s.value),At(s.value)),R(Re()))},V=()=>{t.startDate&&(x(0,zt(Re(t.startDate)),At(Re(t.startDate))),l.value.count&&te(0))},ce=qhe((re,G)=>{t.monthChangeOnScroll&&B(t.monthChangeOnScroll!=="inverse"?-re.deltaY:re.deltaY,G)},50),le=(re,G,Z=!1)=>{t.monthChangeOnArrows&&t.vertical===Z&&ve(re,G)},ve=(re,G)=>{B(re==="right"?-1:1,G)},Se=re=>t.markers.find(G=>nn(Hhe(re.value),_s(Re(G.date),t.timezone))),he=(re,G)=>{switch(t.sixWeeks===!0?"append":t.sixWeeks){case"prepend":return[!0,!1];case"center":return[re==0,!0];case"fair":return[re==0||G>re,!0];case"append":return[!1,!1];default:return[!1,!1]}},Y=(re,G,Z,ue)=>{if(t.sixWeeks&&re.length<6){const be=6-re.length,qe=(G.getDay()+7-ue)%7,nt=6-(Z.getDay()+7-ue)%7,[Te,Ne]=he(qe,nt);for(let Ue=1;Ue<=be;Ue++)if(Ne?!!(Ue%2)==Te:Te){const rt=re[0].days[0],Ye=ne(ho(rt.value,-7),zt(G));re.unshift({days:Ye})}else{const rt=re[re.length-1],Ye=rt.days[rt.days.length-1],ut=ne(ho(Ye.value,1),zt(G));re.push({days:ut})}}return re},ne=(re,G)=>{const Z=Re(re),ue=[];for(let be=0;be<7;be++){const qe=ho(Z,be),nt=zt(qe)!==G;ue.push({text:t.hideOffsetDates&&nt?"":qe.getDate(),value:qe,current:!nt,classData:{}})}return ue},pe=(re,G)=>{const Z=[],ue=new Date(G,re),be=new Date(G,re+1,0),qe=t.weekStart,nt=Ul(ue,{weekStartsOn:qe}),Te=Ne=>{const Ue=ne(Ne,re);if(Z.push({days:Ue}),!Z[Z.length-1].days.some(rt=>nn(si(rt.value),si(be)))){const rt=ho(Ne,7);Te(rt)}};return Te(nt),Y(Z,ue,be,qe)},oe=re=>(s.value=um(Re(re.value),t.timezone,t.weekStart),e("date-update",re.value),_()),we=re=>{const G=_a(Re(re.value),a.hours,a.minutes,Ae());e("date-update",G),t.multiDates?AT(G,s,t.multiDatesLimit):s.value=G,r(),ir().then(()=>{_()})},Ce=re=>t.noDisabledRange?BL(i.value[0],re).some(G=>d(G)):!1,fe=()=>{i.value=s.value?s.value.slice():[],i.value.length===2&&!(t.fixedStart||t.fixedEnd)&&(i.value=[])},L=(re,G)=>{const Z=[Re(re.value),ho(Re(re.value),+t.autoRange)];h(Z)?(G&&W(re.value),i.value=Z):e("invalid-date",re.value)},W=re=>{const G=zt(Re(re)),Z=At(Re(re));if(x(0,G,Z),l.value.count>0)for(let ue=1;ue<l.value.count;ue++){const be=Whe(kn(Re(re),{year:E.value(ue-1),month:k.value(ue-1)}));x(ue,be.month,be.year)}},Q=re=>Array.isArray(s.value)&&s.value.length===2?t.fixedStart&&(ni(re,s.value[0])||nn(re,s.value[0]))?[s.value[0],re]:t.fixedEnd&&(Lr(re,s.value[1])||nn(re,s.value[1]))?[re,s.value[1]]:(e("invalid-fixed-range",re),s.value):[],me=re=>{if(Ce(re.value)||!p(re.value,s.value,t.fixedStart?0:1))return e("invalid-date",re.value);i.value=Q(Re(re.value))},ge=(re,G)=>{if(fe(),t.autoRange)return L(re,G);if(t.fixedStart||t.fixedEnd)return me(re);i.value[0]?p(Re(re.value),s.value)&&!Ce(re.value)?Lr(Re(re.value),Re(i.value[0]))?(i.value.unshift(Re(re.value)),e("range-end",i.value[0])):(i.value[1]=Re(re.value),e("range-end",i.value[1])):(t.autoApply&&e("auto-apply-invalid",re.value),e("invalid-date",re.value)):(i.value[0]=Re(re.value),e("range-start",i.value[0]))},Ae=(re=!0)=>t.enableSeconds?Array.isArray(a.seconds)?re?a.seconds[0]:a.seconds[1]:a.seconds:0,$e=re=>{i.value[re]=_a(i.value[re],a.hours[re],a.minutes[re],Ae(re!==1))},ke=()=>{var re,G;i.value[0]&&i.value[1]&&+((re=i.value)==null?void 0:re[0])>+((G=i.value)==null?void 0:G[1])&&(i.value.reverse(),e("range-start",i.value[0]),e("range-end",i.value[1]))},De=()=>{i.value.length&&(i.value[0]&&!i.value[1]?$e(0):($e(0),$e(1),r()),ke(),s.value=i.value.slice(),qv(i.value,e,t.autoApply,t.modelAuto))},Ie=(re,G=!1)=>{if(d(re.value)||!re.current&&t.hideOffsetDates)return e("invalid-date",re.value);if(t.weekPicker)return oe(re);if(!t.range)return we(re);jP(a.hours)&&jP(a.minutes)&&!t.multiDates&&(ge(re,G),De())},He=(re,G)=>{var Z;x(re,G.month,G.year),l.value.count&&!l.value.solo&&te(re),e("update-month-year",{instance:re,month:G.month,year:G.year}),n(l.value.solo?re:void 0);const ue=(Z=t.flow)!=null&&Z.length?t.flow[t.flowStep]:void 0;!G.fromNav&&(ue===Ps.month||ue===Ps.year)&&r()},We=(re,G)=>{YL({value:re,modelValue:s,range:t.range,timezone:G?void 0:t.timezone}),I(),t.multiCalendars&&ir().then(()=>T(!0))},Xe=()=>{t.range?s.value&&Array.isArray(s.value)&&s.value[0]?s.value=Lr(Re(),s.value[0])?[Re(),s.value[0]]:[s.value[0],Re()]:s.value=[Re()]:s.value=Re(),I()},lt=()=>{if(Array.isArray(s.value))if(t.multiDates){const re=tt();s.value[s.value.length-1]=g(re)}else s.value=s.value.map((re,G)=>re&&g(re,G));else s.value=g(s.value);e("time-update")},tt=()=>Array.isArray(s.value)&&s.value.length?s.value[s.value.length-1]:null;return{calendars:o,modelValue:s,month:E,year:k,time:a,disabledTimesConfig:S,validateTime:C,getCalendarDays:pe,getMarker:Se,handleScroll:ce,handleSwipe:ve,handleArrow:le,selectDate:Ie,updateMonthYear:He,presetDate:We,selectCurrentDate:Xe,updateTime:(re,G=!0,Z=!1)=>{m(re,G,Z,lt)}}},upe={key:0},cpe=xe({__name:"DatePicker",props:{...Ss},emits:["tooltip-open","tooltip-close","mount","update:internal-model-value","update-flow-step","reset-flow","auto-apply","focus-menu","select-date","range-start","range-end","invalid-fixed-range","time-update","am-pm-change","time-picker-open","time-picker-close","recalculate-position","update-month-year","auto-apply-invalid","date-update","invalid-date"],setup(t,{expose:e,emit:n}){const r=n,i=t,{calendars:s,month:o,year:a,modelValue:l,time:u,disabledTimesConfig:c,validateTime:d,getCalendarDays:h,getMarker:p,handleArrow:m,handleScroll:g,handleSwipe:y,selectDate:A,updateMonthYear:C,presetDate:S,selectCurrentDate:E,updateTime:k}=lpe(i,r,z,V),x=Na(),{setHoverDate:I,getDayClassData:b,clearHoverDate:_}=hfe(l,i),{defaultedMultiCalendars:T}=ar(i),R=ie([]),N=ie([]),O=ie(null),j=Vi(x,"calendar"),U=Vi(x,"monthYear"),$=Vi(x,"timePicker"),B=le=>{i.shadow||r("mount",le)};cn(s,()=>{i.shadow||setTimeout(()=>{r("recalculate-position")},0)},{deep:!0});const te=ee(()=>le=>h(o.value(le),a.value(le)).map(ve=>({...ve,days:ve.days.map(Se=>(Se.marker=p(Se),Se.classData=b(Se),Se))})));function z(le){var ve;le||le===0?(ve=N.value[le])==null||ve.triggerTransition(o.value(le),a.value(le)):N.value.forEach((Se,he)=>Se.triggerTransition(o.value(he),a.value(he)))}function V(){r("update-flow-step")}const ce=(le,ve=!1)=>{A(le,ve),i.spaceConfirm&&r("select-date")};return e({clearHoverDate:_,presetDate:S,selectCurrentDate:E,toggleMonthPicker:(le,ve,Se=0)=>{var he;(he=R.value[Se])==null||he.toggleMonthPicker(le,ve)},toggleYearPicker:(le,ve,Se=0)=>{var he;(he=R.value[Se])==null||he.toggleYearPicker(le,ve)},toggleTimePicker:(le,ve,Se)=>{var he;(he=O.value)==null||he.toggleTimePicker(le,ve,Se)},handleArrow:m,updateMonthYear:C,getSidebarProps:()=>({modelValue:l,month:o,year:a,time:u,updateTime:k,updateMonthYear:C,selectDate:A,presetDate:S})}),(le,ve)=>(D(),H(Pe,null,[q(Uv,{"multi-calendars":P(T).count},{default:X(({instance:Se,index:he})=>[le.disableMonthYearSelect?J("",!0):(D(),ae(Jfe,se({key:0,ref:Y=>{Y&&(R.value[he]=Y)},months:P(VL)(le.formatLocale,le.locale,le.monthNameFormat),years:P(IT)(le.yearRange,le.reverseYears),month:P(o)(Se),year:P(a)(Se),instance:Se},le.$props,{onMount:ve[0]||(ve[0]=Y=>B(P(_l).header)),onResetFlow:ve[1]||(ve[1]=Y=>le.$emit("reset-flow")),onUpdateMonthYear:Y=>P(C)(Se,Y),onOverlayClosed:ve[2]||(ve[2]=Y=>le.$emit("focus-menu"))}),fr({_:2},[dt(P(U),(Y,ne)=>({name:Y,fn:X(pe=>[_e(le.$slots,Y,Vn(hr(pe)))])}))]),1040,["months","years","month","year","instance","onUpdateMonthYear"])),q(ape,se({ref:Y=>{Y&&(N.value[he]=Y)},"mapped-dates":te.value(Se),month:P(o)(Se),year:P(a)(Se),instance:Se},le.$props,{onSelectDate:Y=>P(A)(Y,Se!==1),onHandleSpace:Y=>ce(Y,Se!==1),onSetHoverDate:ve[3]||(ve[3]=Y=>P(I)(Y)),onHandleScroll:Y=>P(g)(Y,Se),onHandleSwipe:Y=>P(y)(Y,Se),onMount:ve[4]||(ve[4]=Y=>B(P(_l).calendar)),onResetFlow:ve[5]||(ve[5]=Y=>le.$emit("reset-flow")),onTooltipOpen:ve[6]||(ve[6]=Y=>le.$emit("tooltip-open",Y)),onTooltipClose:ve[7]||(ve[7]=Y=>le.$emit("tooltip-close",Y))}),fr({_:2},[dt(P(j),(Y,ne)=>({name:Y,fn:X(pe=>[_e(le.$slots,Y,Vn(hr({...pe})))])}))]),1040,["mapped-dates","month","year","instance","onSelectDate","onHandleSpace","onHandleScroll","onHandleSwipe"])]),_:3},8,["multi-calendars"]),le.enableTimePicker?(D(),H("div",upe,[le.$slots["time-picker"]?_e(le.$slots,"time-picker",Vn(se({key:0},{time:P(u),updateTime:P(k)}))):(D(),ae(XL,se({key:1,ref_key:"timePickerRef",ref:O},le.$props,{hours:P(u).hours,minutes:P(u).minutes,seconds:P(u).seconds,"internal-model-value":le.internalModelValue,"disabled-times-config":P(c),"validate-time":P(d),onMount:ve[8]||(ve[8]=Se=>B(P(_l).timePicker)),"onUpdate:hours":ve[9]||(ve[9]=Se=>P(k)(Se)),"onUpdate:minutes":ve[10]||(ve[10]=Se=>P(k)(Se,!1)),"onUpdate:seconds":ve[11]||(ve[11]=Se=>P(k)(Se,!1,!0)),onResetFlow:ve[12]||(ve[12]=Se=>le.$emit("reset-flow")),onOverlayClosed:ve[13]||(ve[13]=Se=>le.$emit("time-picker-close")),onOverlayOpened:ve[14]||(ve[14]=Se=>le.$emit("time-picker-open",Se)),onAmPmChange:ve[15]||(ve[15]=Se=>le.$emit("am-pm-change",Se))}),fr({_:2},[dt(P($),(Se,he)=>({name:Se,fn:X(Y=>[_e(le.$slots,Se,Vn(hr(Y)))])}))]),1040,["hours","minutes","seconds","internal-model-value","disabled-times-config","validate-time"]))])):J("",!0)],64))}}),dpe=(t,e)=>{const n=ie(),{defaultedMultiCalendars:r,defaultedConfig:i,defaultedHighlight:s}=ar(t),{modelValue:o,year:a,month:l,calendars:u}=Lf(t,e),{isDisabled:c}=Ql(t),{selectYear:d,groupedYears:h,showYearPicker:p,isDisabled:m,toggleYearPicker:g,handleYearSelect:y,handleYear:A}=QL({modelValue:o,multiCalendars:r,highlight:s,calendars:u,month:l,year:a,props:t,emit:e}),C=(_,T)=>[_,T].map(R=>ya(R,"MMMM",{locale:t.formatLocale})).join("-"),S=ee(()=>_=>o.value?Array.isArray(o.value)?o.value.some(T=>AP(_,T)):AP(o.value,_):!1),E=_=>{if(t.range){if(Array.isArray(o.value)){const T=nn(_,o.value[0])||nn(_,o.value[1]);return Vv(o.value,n.value,_)&&!T}return!1}return!1},k=ee(()=>_=>{const T=kn(new Date,{year:a.value(_)});return Due({start:Mue(T),end:Nue(T)}).map(R=>{const N=zh(R),O=_P(R),j=c(R),U=E(N),$=typeof s.value=="function"?s.value({quarter:bP(N),year:At(N)}):!!s.value.quarters.find(B=>B.quarter===bP(N)&&B.year===At(N));return{text:C(N,O),value:N,active:S.value(N),highlighted:$,disabled:j,isBetween:U}})}),x=_=>{AT(_,o,t.multiDatesLimit),e("auto-apply",!0)},I=_=>{const T=PT(o,_,e);qv(T,e,t.autoApply,t.modelAuto)},b=_=>{o.value=_,e("auto-apply")};return{defaultedConfig:i,defaultedMultiCalendars:r,groupedYears:h,year:a,isDisabled:m,quarters:k,showYearPicker:p,modelValue:o,setHoverDate:_=>{n.value=_},selectYear:d,selectQuarter:(_,T,R)=>{if(!R)return u.value[T].month=zt(_P(_)),t.multiDates?x(_):t.range?I(_):b(_)},toggleYearPicker:g,handleYearSelect:y,handleYear:A}},hpe={class:"dp--quarter-items"},fpe=["disabled","onClick","onMouseover"],ppe=xe({compatConfig:{MODE:3},__name:"QuarterPicker",props:{...Ss},emits:["update:internal-model-value","reset-flow","overlay-closed","auto-apply","range-start","range-end"],setup(t,{expose:e,emit:n}){const r=n,i=t,s=Na(),o=Vi(s,"yearMode"),{defaultedMultiCalendars:a,defaultedConfig:l,groupedYears:u,year:c,isDisabled:d,quarters:h,modelValue:p,showYearPicker:m,setHoverDate:g,selectQuarter:y,toggleYearPicker:A,handleYearSelect:C,handleYear:S}=dpe(i,r);return e({getSidebarProps:()=>({modelValue:p,year:c,selectQuarter:y,handleYearSelect:C,handleYear:S})}),(E,k)=>(D(),ae(Uv,{"multi-calendars":P(a).count,stretch:""},{default:X(({instance:x})=>[v("div",{class:"dp-quarter-picker-wrap",style:tr({minHeight:`${P(l).modeHeight}px`})},[v("div",null,[q(GL,se(E.$props,{items:P(u)(x),instance:x,"show-year-picker":P(m)[x],year:P(c)(x),"is-disabled":I=>P(d)(x,I),onHandleYear:I=>P(S)(x,I),onYearSelect:I=>P(C)(I,x),onToggleYearPicker:I=>P(A)(x,I==null?void 0:I.flow,I==null?void 0:I.show)}),fr({_:2},[dt(P(o),(I,b)=>({name:I,fn:X(_=>[_e(E.$slots,I,Vn(hr(_)))])}))]),1040,["items","instance","show-year-picker","year","is-disabled","onHandleYear","onYearSelect","onToggleYearPicker"])]),v("div",hpe,[(D(!0),H(Pe,null,dt(P(h)(x),(I,b)=>(D(),H("div",{key:b},[v("button",{type:"button",class:Le(["dp--qr-btn",{"dp--qr-btn-active":I.active,"dp--qr-btn-between":I.isBetween,"dp--qr-btn-disabled":I.disabled,"dp--highlighted":I.highlighted}]),disabled:I.disabled,onClick:_=>P(y)(I.value,x,I.disabled),onMouseover:_=>P(g)(I.value)},[E.$slots.quarter?_e(E.$slots,"quarter",{key:0,value:I.value,text:I.text}):(D(),H(Pe,{key:1},[K(Fe(I.text),1)],64))],42,fpe)]))),128))])],4)]),_:3},8,["multi-calendars"]))}}),mpe=["id"],gpe={key:0,class:"dp__sidebar_left"},vpe={key:1,class:"dp--preset-dates"},ype=["onClick","onKeydown"],bpe={key:2,class:"dp__sidebar_right"},_pe={key:3,class:"dp__action_extra"},HP=xe({compatConfig:{MODE:3},__name:"DatepickerMenu",props:{...Fv,shadow:{type:Boolean,default:!1},openOnTop:{type:Boolean,default:!1},internalModelValue:{type:[Date,Array],default:null},arrMapValues:{type:Object,default:()=>({})},noOverlayFocus:{type:Boolean,default:!1}},emits:["close-picker","select-date","auto-apply","time-update","flow-step","update-month-year","invalid-select","update:internal-model-value","recalculate-position","invalid-fixed-range","tooltip-open","tooltip-close","time-picker-open","time-picker-close","am-pm-change","range-start","range-end","auto-apply-invalid","date-update","invalid-date"],setup(t,{expose:e,emit:n}){const r=n,i=t,s=ee(()=>{const{openOnTop:fe,...L}=i;return{...L,flowStep:b.value,noOverlayFocus:i.noOverlayFocus}}),{setMenuFocused:o,setShiftKey:a,control:l}=KL(),u=Na(),{defaultedTextInput:c,defaultedInline:d,defaultedConfig:h}=ar(i),p=ie(null),m=ie(0),g=ie(null),y=ie(null),A=ie(!1),C=ie(null);Vt(()=>{if(!i.shadow){A.value=!0,S(),window.addEventListener("resize",S);const fe=vr(g);if(fe&&!c.value.enabled&&!d.value.enabled&&(o(!0),O()),fe){const L=W=>{h.value.allowPreventDefault&&W.preventDefault(),ba(W,h.value,!0)};fe.addEventListener("pointerdown",L),fe.addEventListener("mousedown",L)}}}),Gs(()=>{window.removeEventListener("resize",S)});const S=()=>{const fe=vr(y);fe&&(m.value=fe.getBoundingClientRect().width)},{arrowRight:E,arrowLeft:k,arrowDown:x,arrowUp:I}=Ua(),{flowStep:b,updateFlowStep:_,childMount:T,resetFlow:R}=ffe(i,r,C),N=ee(()=>i.monthPicker?kfe:i.yearPicker?xfe:i.timePicker?Yfe:i.quarterPicker?ppe:cpe),O=()=>{const fe=vr(g);fe&&fe.focus({preventScroll:!0})},j=ee(()=>{var fe;return((fe=C.value)==null?void 0:fe.getSidebarProps())||{}}),U=()=>{i.openOnTop&&r("recalculate-position")},$=Vi(u,"action"),B=ee(()=>i.monthPicker||i.yearPicker?Vi(u,"monthYear"):i.timePicker?Vi(u,"timePicker"):Vi(u,"shared")),te=ee(()=>i.openOnTop?"dp__arrow_bottom":"dp__arrow_top"),z=ee(()=>({dp__menu_disabled:i.disabled,dp__menu_readonly:i.readonly})),V=ee(()=>({dp__menu:!0,dp__menu_index:!d.value.enabled,dp__relative:d.value.enabled,[i.menuClassName]:!!i.menuClassName})),ce=fe=>{ba(fe,h.value,!0)},le=()=>{i.escClose&&r("close-picker")},ve=fe=>{if(i.arrowNavigation){if(fe==="up")return I();if(fe==="down")return x();if(fe==="left")return k();if(fe==="right")return E()}else fe==="left"||fe==="up"?pe("handleArrow","left",0,fe==="up"):pe("handleArrow","right",0,fe==="down")},Se=fe=>{a(fe.shiftKey),!i.disableMonthYearSelect&&fe.code==="Tab"&&fe.target.classList.contains("dp__menu")&&l.value.shiftKeyInMenu&&(fe.preventDefault(),ba(fe,h.value,!0),r("close-picker"))},he=()=>{O(),r("time-picker-close")},Y=fe=>{var L,W,Q;(L=C.value)==null||L.toggleTimePicker(!1,!1),(W=C.value)==null||W.toggleMonthPicker(!1,!1,fe),(Q=C.value)==null||Q.toggleYearPicker(!1,!1,fe)},ne=(fe,L=0)=>{var W,Q,me;return fe==="month"?(W=C.value)==null?void 0:W.toggleMonthPicker(!1,!0,L):fe==="year"?(Q=C.value)==null?void 0:Q.toggleYearPicker(!1,!0,L):fe==="time"?(me=C.value)==null?void 0:me.toggleTimePicker(!0,!1):Y(L)},pe=(fe,...L)=>{var W,Q;(W=C.value)!=null&&W[fe]&&((Q=C.value)==null||Q[fe](...L))},oe=()=>{pe("selectCurrentDate")},we=(fe,L)=>{pe("presetDate",fe,L)},Ce=()=>{pe("clearHoverDate")};return e({updateMonthYear:(fe,L)=>{pe("updateMonthYear",fe,L)},switchView:ne}),(fe,L)=>{var W;return D(),H("div",{id:fe.uid?`dp-menu-${fe.uid}`:void 0,ref_key:"dpMenuRef",ref:g,tabindex:"0",role:"dialog",class:Le(V.value),onMouseleave:Ce,onClick:ce,onKeydown:[bt(le,["esc"]),L[18]||(L[18]=bt(kt(Q=>ve("left"),["prevent"]),["left"])),L[19]||(L[19]=bt(kt(Q=>ve("up"),["prevent"]),["up"])),L[20]||(L[20]=bt(kt(Q=>ve("down"),["prevent"]),["down"])),L[21]||(L[21]=bt(kt(Q=>ve("right"),["prevent"]),["right"])),Se]},[(fe.disabled||fe.readonly)&&P(d).enabled?(D(),H("div",{key:0,class:Le(z.value)},null,2)):J("",!0),!P(d).enabled&&!fe.teleportCenter?(D(),H("div",{key:1,class:Le(te.value)},null,2)):J("",!0),v("div",{ref_key:"innerMenuRef",ref:y,class:Le({dp__menu_content_wrapper:((W=fe.presetDates)==null?void 0:W.length)||!!fe.$slots["left-sidebar"]||!!fe.$slots["right-sidebar"]}),style:tr({"--dp-menu-width":`${m.value}px`})},[fe.$slots["left-sidebar"]?(D(),H("div",gpe,[_e(fe.$slots,"left-sidebar",Vn(hr(j.value)))])):J("",!0),fe.presetDates.length?(D(),H("div",vpe,[(D(!0),H(Pe,null,dt(fe.presetDates,(Q,me)=>(D(),H(Pe,{key:me},[Q.slot?_e(fe.$slots,Q.slot,{key:0,presetDate:we,label:Q.label,value:Q.value}):(D(),H("button",{key:1,type:"button",style:tr(Q.style||{}),class:"dp__btn dp--preset-range",onClick:kt(ge=>we(Q.value,Q.noTz),["prevent"]),onKeydown:[bt(kt(ge=>we(Q.value,Q.noTz),["prevent"]),["enter"]),bt(kt(ge=>we(Q.value,Q.noTz),["prevent"]),["space"])]},Fe(Q.label),45,ype))],64))),128))])):J("",!0),v("div",{ref_key:"calendarWrapperRef",ref:p,class:"dp__instance_calendar",role:"document"},[(D(),ae(Mn(N.value),se({ref_key:"dynCmpRef",ref:C},s.value,{"flow-step":P(b),onMount:P(T),onUpdateFlowStep:P(_),onResetFlow:P(R),onFocusMenu:O,onSelectDate:L[0]||(L[0]=Q=>fe.$emit("select-date")),onDateUpdate:L[1]||(L[1]=Q=>fe.$emit("date-update",Q)),onTooltipOpen:L[2]||(L[2]=Q=>fe.$emit("tooltip-open",Q)),onTooltipClose:L[3]||(L[3]=Q=>fe.$emit("tooltip-close",Q)),onAutoApply:L[4]||(L[4]=Q=>fe.$emit("auto-apply",Q)),onRangeStart:L[5]||(L[5]=Q=>fe.$emit("range-start",Q)),onRangeEnd:L[6]||(L[6]=Q=>fe.$emit("range-end",Q)),onInvalidFixedRange:L[7]||(L[7]=Q=>fe.$emit("invalid-fixed-range",Q)),onTimeUpdate:L[8]||(L[8]=Q=>fe.$emit("time-update")),onAmPmChange:L[9]||(L[9]=Q=>fe.$emit("am-pm-change",Q)),onTimePickerOpen:L[10]||(L[10]=Q=>fe.$emit("time-picker-open",Q)),onTimePickerClose:he,onRecalculatePosition:U,onUpdateMonthYear:L[11]||(L[11]=Q=>fe.$emit("update-month-year",Q)),onAutoApplyInvalid:L[12]||(L[12]=Q=>fe.$emit("auto-apply-invalid",Q)),onInvalidDate:L[13]||(L[13]=Q=>fe.$emit("invalid-date",Q)),"onUpdate:internalModelValue":L[14]||(L[14]=Q=>fe.$emit("update:internal-model-value",Q))}),fr({_:2},[dt(B.value,(Q,me)=>({name:Q,fn:X(ge=>[_e(fe.$slots,Q,Vn(hr({...ge})))])}))]),1040,["flow-step","onMount","onUpdateFlowStep","onResetFlow"]))],512),fe.$slots["right-sidebar"]?(D(),H("div",bpe,[_e(fe.$slots,"right-sidebar",Vn(hr(j.value)))])):J("",!0),fe.$slots["action-extra"]?(D(),H("div",_pe,[fe.$slots["action-extra"]?_e(fe.$slots,"action-extra",{key:0,selectCurrentDate:oe}):J("",!0)])):J("",!0)],6),!fe.autoApply||P(h).keepActionRow?(D(),ae(wfe,se({key:2,"menu-mount":A.value},s.value,{"calendar-width":m.value,onClosePicker:L[15]||(L[15]=Q=>fe.$emit("close-picker")),onSelectDate:L[16]||(L[16]=Q=>fe.$emit("select-date")),onInvalidSelect:L[17]||(L[17]=Q=>fe.$emit("invalid-select")),onSelectNow:oe}),fr({_:2},[dt(P($),(Q,me)=>({name:Q,fn:X(ge=>[_e(fe.$slots,Q,Vn(hr({...ge})))])}))]),1040,["menu-mount","calendar-width"])):J("",!0)],42,mpe)}}}),wpe=typeof window<"u"?window:void 0,Tb=()=>{},Tpe=t=>sf()?(Ag(t),!0):!1,Epe=(t,e,n,r)=>{if(!t)return Tb;let i=Tb;const s=cn(()=>P(t),a=>{i(),a&&(a.addEventListener(e,n,r),i=()=>{a.removeEventListener(e,n,r),i=Tb})},{immediate:!0,flush:"post"}),o=()=>{s(),i()};return Tpe(o),o},Spe=(t,e,n,r={})=>{const{window:i=wpe,event:s="pointerdown"}=r;return i?Epe(i,s,o=>{const a=vr(t),l=vr(e);!a||!l||a===o.target||o.composedPath().includes(a)||o.composedPath().includes(l)||n(o)},{passive:!0}):void 0},Ipe=xe({compatConfig:{MODE:3},__name:"VueDatePicker",props:{...Fv},emits:["update:model-value","update:model-timezone-value","text-submit","closed","cleared","open","focus","blur","internal-model-change","recalculate-position","flow-step","update-month-year","invalid-select","invalid-fixed-range","tooltip-open","tooltip-close","time-picker-open","time-picker-close","am-pm-change","range-start","range-end","date-update","invalid-date"],setup(t,{expose:e,emit:n}){const r=n,i=t,s=Na(),o=ie(!1),a=Ju(i,"modelValue"),l=Ju(i,"timezone"),u=ie(null),c=ie(null),d=ie(null),h=ie(!1),p=ie(null),m=ie(!1),g=ie(!1),{setMenuFocused:y,setShiftKey:A}=KL(),{clearArrowNav:C}=Ua(),{mapDatesArrToMap:S,validateDate:E,isValidTime:k}=Ql(i),{defaultedTransitions:x,defaultedTextInput:I,defaultedInline:b,defaultedConfig:_}=ar(i),{menuTransition:T,showTransition:R}=Mf(x);Vt(()=>{ve(i.modelValue),ir().then(()=>{if(!b.value.enabled){const Te=z(p.value);Te==null||Te.addEventListener("scroll",fe),window==null||window.addEventListener("resize",L)}}),b.value.enabled&&(o.value=!0),window==null||window.addEventListener("keyup",W),window==null||window.addEventListener("keydown",Q)});const N=ee(()=>S());Gs(()=>{if(!b.value.enabled){const Te=z(p.value);Te==null||Te.removeEventListener("scroll",fe),window==null||window.removeEventListener("resize",L)}window==null||window.removeEventListener("keyup",W),window==null||window.removeEventListener("keydown",Q)});const O=Vi(s,"all",i.presetDates),j=Vi(s,"input");cn([a,l],()=>{ve(a.value)},{deep:!0});const{openOnTop:U,menuStyle:$,xCorrect:B,setMenuPosition:te,getScrollableParent:z,shadowRender:V}=ufe({menuRef:u,menuRefInner:c,inputRef:d,pickerWrapperRef:p,inline:b,emit:r,props:i,slots:s}),{inputValue:ce,internalModelValue:le,parseExternalModelValue:ve,emitModelValue:Se,formatInputValue:he,checkBeforeEmit:Y}=afe(r,i,h),ne=ee(()=>({dp__main:!0,dp__theme_dark:i.dark,dp__theme_light:!i.dark,dp__flex_display:b.value.enabled,dp__flex_display_with_input:b.value.input})),pe=ee(()=>i.dark?"dp__theme_dark":"dp__theme_light"),oe=ee(()=>({to:typeof i.teleport=="boolean"?"body":i.teleport,disabled:!i.teleport||b.value.enabled})),we=ee(()=>({class:"dp__outer_menu_wrap"})),Ce=ee(()=>b.value.enabled&&(i.timePicker||i.monthPicker||i.yearPicker||i.quarterPicker)),fe=()=>{o.value&&(_.value.closeOnScroll?We():te())},L=()=>{o.value&&te()},W=Te=>{Te.key==="Tab"&&!b.value.enabled&&!i.teleport&&_.value.tabOutClosesMenu&&(p.value.contains(document.activeElement)||We()),g.value=Te.shiftKey},Q=Te=>{g.value=Te.shiftKey},me=()=>{!i.disabled&&!i.readonly&&(V(HP,i),te(!1),o.value=!0,o.value&&r("open"),o.value||He(),ve(i.modelValue))},ge=()=>{var Te;ce.value="",He(),(Te=d.value)==null||Te.setParsedDate(null),r("update:model-value",null),r("update:model-timezone-value",null),r("cleared"),_.value.closeOnClearValue&&We()},Ae=()=>{const Te=le.value;return!Te||!Array.isArray(Te)&&E(Te)?!0:Array.isArray(Te)?i.multiDates||Te.length===2&&E(Te[0])&&E(Te[1])?!0:i.partialRange&&!i.timePicker?E(Te[0]):!1:!1},$e=()=>{Y()&&Ae()?(Se(),We()):r("invalid-select",le.value)},ke=Te=>{De(),Se(),_.value.closeOnAutoApply&&!Te&&We()},De=()=>{d.value&&I.value.enabled&&d.value.setParsedDate(le.value)},Ie=(Te=!1)=>{i.autoApply&&k(le.value)&&Ae()&&(i.range&&Array.isArray(le.value)?(i.partialRange||le.value.length===2)&&ke(Te):ke(Te))},He=()=>{I.value.enabled||(le.value=null)},We=()=>{b.value.enabled||(o.value&&(o.value=!1,B.value=!1,y(!1),A(!1),C(),r("closed"),ce.value&&ve(a.value)),He(),r("blur"))},Xe=(Te,Ne,Ue=!1)=>{if(!Te){le.value=null;return}const rt=Array.isArray(Te)?!Te.some(ut=>!E(ut)):E(Te),Ye=k(Te);rt&&Ye&&(le.value=Te,Ne&&(m.value=Ue,$e(),r("text-submit")))},lt=()=>{i.autoApply&&k(le.value)&&Se(),De()},tt=()=>o.value?We():me(),re=Te=>{le.value=Te},G=()=>{I.value.enabled&&(h.value=!0,he()),r("focus")},Z=()=>{if(I.value.enabled&&(h.value=!1,ve(i.modelValue),m.value)){const Te=Uhe(p.value,g.value);Te==null||Te.focus()}r("blur")},ue=Te=>{c.value&&c.value.updateMonthYear(0,{month:VP(Te.month),year:VP(Te.year)})},be=Te=>{ve(Te??i.modelValue)},qe=(Te,Ne)=>{var Ue;(Ue=c.value)==null||Ue.switchView(Te,Ne)},nt=Te=>_.value.onClickOutside?_.value.onClickOutside(Te):We();return Spe(u,d,()=>nt(Ae)),e({closeMenu:We,selectDate:$e,clearValue:ge,openMenu:me,onScroll:fe,formatInputValue:he,updateInternalModelValue:re,setMonthYear:ue,parseModel:be,switchView:qe,toggleMenu:tt}),(Te,Ne)=>(D(),H("div",{ref_key:"pickerWrapperRef",ref:p,class:Le(ne.value),"data-datepicker-instance":""},[q(vfe,se({ref_key:"inputRef",ref:d,"input-value":P(ce),"onUpdate:inputValue":Ne[0]||(Ne[0]=Ue=>wn(ce)?ce.value=Ue:null),"is-menu-open":o.value},Te.$props,{onClear:ge,onOpen:me,onSetInputDate:Xe,onSetEmptyDate:P(Se),onSelectDate:$e,onToggle:tt,onClose:We,onFocus:G,onBlur:Z,onRealBlur:Ne[1]||(Ne[1]=Ue=>h.value=!1)}),fr({_:2},[dt(P(j),(Ue,rt)=>({name:Ue,fn:X(Ye=>[_e(Te.$slots,Ue,Vn(hr(Ye)))])}))]),1040,["input-value","is-menu-open","onSetEmptyDate"]),q(Y_,Vn(hr(oe.value)),{default:X(()=>[q(ns,{name:P(T)(P(U)),css:P(R)&&!P(b).enabled},{default:X(()=>[o.value?(D(),H("div",se({key:0,ref_key:"dpWrapMenuRef",ref:u},we.value,{class:{"dp--menu-wrapper":!P(b).enabled},style:P(b).enabled?void 0:P($)}),[q(HP,se({ref_key:"dpMenuRef",ref:c},Te.$props,{"internal-model-value":P(le),"onUpdate:internalModelValue":Ne[2]||(Ne[2]=Ue=>wn(le)?le.value=Ue:null),class:{[pe.value]:!0,"dp--menu-wrapper":Te.teleport},"open-on-top":P(U),"arr-map-values":N.value,"no-overlay-focus":Ce.value,onClosePicker:We,onSelectDate:$e,onAutoApply:Ie,onTimeUpdate:lt,onFlowStep:Ne[3]||(Ne[3]=Ue=>Te.$emit("flow-step",Ue)),onUpdateMonthYear:Ne[4]||(Ne[4]=Ue=>Te.$emit("update-month-year",Ue)),onInvalidSelect:Ne[5]||(Ne[5]=Ue=>Te.$emit("invalid-select",P(le))),onAutoApplyInvalid:Ne[6]||(Ne[6]=Ue=>Te.$emit("invalid-select",Ue)),onInvalidFixedRange:Ne[7]||(Ne[7]=Ue=>Te.$emit("invalid-fixed-range",Ue)),onRecalculatePosition:P(te),onTooltipOpen:Ne[8]||(Ne[8]=Ue=>Te.$emit("tooltip-open",Ue)),onTooltipClose:Ne[9]||(Ne[9]=Ue=>Te.$emit("tooltip-close",Ue)),onTimePickerOpen:Ne[10]||(Ne[10]=Ue=>Te.$emit("time-picker-open",Ue)),onTimePickerClose:Ne[11]||(Ne[11]=Ue=>Te.$emit("time-picker-close",Ue)),onAmPmChange:Ne[12]||(Ne[12]=Ue=>Te.$emit("am-pm-change",Ue)),onRangeStart:Ne[13]||(Ne[13]=Ue=>Te.$emit("range-start",Ue)),onRangeEnd:Ne[14]||(Ne[14]=Ue=>Te.$emit("range-end",Ue)),onDateUpdate:Ne[15]||(Ne[15]=Ue=>Te.$emit("date-update",Ue)),onInvalidDate:Ne[16]||(Ne[16]=Ue=>Te.$emit("invalid-date",Ue))}),fr({_:2},[dt(P(O),(Ue,rt)=>({name:Ue,fn:X(Ye=>[_e(Te.$slots,Ue,Vn(hr({...Ye})))])}))]),1040,["internal-model-value","class","open-on-top","arr-map-values","no-overlay-focus","onRecalculatePosition"])],16)):J("",!0)]),_:3},8,["name","css"])]),_:3},16)],2))}}),OT=(()=>{const t=Ipe;return t.install=e=>{e.component("Vue3DatePicker",t)},t})(),Cpe=Object.freeze(Object.defineProperty({__proto__:null,default:OT},Symbol.toStringTag,{value:"Module"}));Object.entries(Cpe).forEach(([t,e])=>{t!=="default"&&(OT[t]=e)});var Wr={STARTS_WITH:"startsWith",CONTAINS:"contains",NOT_CONTAINS:"notContains",ENDS_WITH:"endsWith",EQUALS:"equals",NOT_EQUALS:"notEquals",IN:"in",LESS_THAN:"lt",LESS_THAN_OR_EQUAL_TO:"lte",GREATER_THAN:"gt",GREATER_THAN_OR_EQUAL_TO:"gte",BETWEEN:"between",DATE_IS:"dateIs",DATE_IS_NOT:"dateIsNot",DATE_BEFORE:"dateBefore",DATE_AFTER:"dateAfter"};function WP(t,e){var n=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=Ape(t))||e&&t&&typeof t.length=="number"){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(u){throw u},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var s=!0,o=!1,a;return{s:function(){n=n.call(t)},n:function(){var u=n.next();return s=u.done,u},e:function(u){o=!0,a=u},f:function(){try{!s&&n.return!=null&&n.return()}finally{if(o)throw a}}}}function Ape(t,e){if(t){if(typeof t=="string")return zP(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return zP(t,e)}}function zP(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var ZL={filter:function(e,n,r,i,s){var o=[];if(!e)return o;var a=WP(e),l;try{for(a.s();!(l=a.n()).done;){var u=l.value;if(typeof u=="string"){if(this.filters[i](u,r,s)){o.push(u);continue}}else{var c=WP(n),d;try{for(c.s();!(d=c.n()).done;){var h=d.value,p=Me.resolveFieldData(u,h);if(this.filters[i](p,r,s)){o.push(u);break}}}catch(m){c.e(m)}finally{c.f()}}}}catch(m){a.e(m)}finally{a.f()}return o},filters:{startsWith:function(e,n,r){if(n==null||n==="")return!0;if(e==null)return!1;var i=Me.removeAccents(n.toString()).toLocaleLowerCase(r),s=Me.removeAccents(e.toString()).toLocaleLowerCase(r);return s.slice(0,i.length)===i},contains:function(e,n,r){if(n==null||n==="")return!0;if(e==null)return!1;var i=Me.removeAccents(n.toString()).toLocaleLowerCase(r),s=Me.removeAccents(e.toString()).toLocaleLowerCase(r);return s.indexOf(i)!==-1},notContains:function(e,n,r){if(n==null||n==="")return!0;if(e==null)return!1;var i=Me.removeAccents(n.toString()).toLocaleLowerCase(r),s=Me.removeAccents(e.toString()).toLocaleLowerCase(r);return s.indexOf(i)===-1},endsWith:function(e,n,r){if(n==null||n==="")return!0;if(e==null)return!1;var i=Me.removeAccents(n.toString()).toLocaleLowerCase(r),s=Me.removeAccents(e.toString()).toLocaleLowerCase(r);return s.indexOf(i,s.length-i.length)!==-1},equals:function(e,n,r){return n==null||n===""?!0:e==null?!1:e.getTime&&n.getTime?e.getTime()===n.getTime():Me.removeAccents(e.toString()).toLocaleLowerCase(r)==Me.removeAccents(n.toString()).toLocaleLowerCase(r)},notEquals:function(e,n,r){return n==null||n===""?!1:e==null?!0:e.getTime&&n.getTime?e.getTime()!==n.getTime():Me.removeAccents(e.toString()).toLocaleLowerCase(r)!=Me.removeAccents(n.toString()).toLocaleLowerCase(r)},in:function(e,n){if(n==null||n.length===0)return!0;for(var r=0;r<n.length;r++)if(Me.equals(e,n[r]))return!0;return!1},between:function(e,n){return n==null||n[0]==null||n[1]==null?!0:e==null?!1:e.getTime?n[0].getTime()<=e.getTime()&&e.getTime()<=n[1].getTime():n[0]<=e&&e<=n[1]},lt:function(e,n){return n==null?!0:e==null?!1:e.getTime&&n.getTime?e.getTime()<n.getTime():e<n},lte:function(e,n){return n==null?!0:e==null?!1:e.getTime&&n.getTime?e.getTime()<=n.getTime():e<=n},gt:function(e,n){return n==null?!0:e==null?!1:e.getTime&&n.getTime?e.getTime()>n.getTime():e>n},gte:function(e,n){return n==null?!0:e==null?!1:e.getTime&&n.getTime?e.getTime()>=n.getTime():e>=n},dateIs:function(e,n){return n==null?!0:e==null?!1:e.toDateString()===n.toDateString()},dateIsNot:function(e,n){return n==null?!0:e==null?!1:e.toDateString()!==n.toDateString()},dateBefore:function(e,n){return n==null?!0:e==null?!1:e.getTime()<n.getTime()},dateAfter:function(e,n){return n==null?!0:e==null?!1:e.getTime()>n.getTime()}},register:function(e,n){this.filters[e]=n}};function Qh(t){"@babel/helpers - typeof";return Qh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qh(t)}function KP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Eb(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?KP(Object(n),!0).forEach(function(r){Ppe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):KP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ppe(t,e,n){return e=Ope(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ope(t){var e=kpe(t,"string");return Qh(e)=="symbol"?e:String(e)}function kpe(t,e){if(Qh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Qh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var GP={ripple:!1,inputStyle:null,locale:{startsWith:"Starts with",contains:"Contains",notContains:"Not contains",endsWith:"Ends with",equals:"Equals",notEquals:"Not equals",noFilter:"No Filter",lt:"Less than",lte:"Less than or equal to",gt:"Greater than",gte:"Greater than or equal to",dateIs:"Date is",dateIsNot:"Date is not",dateBefore:"Date is before",dateAfter:"Date is after",clear:"Clear",apply:"Apply",matchAll:"Match All",matchAny:"Match Any",addRule:"Add Rule",removeRule:"Remove Rule",accept:"Yes",reject:"No",choose:"Choose",upload:"Upload",cancel:"Cancel",completed:"Completed",pending:"Pending",fileSizeTypes:["B","KB","MB","GB","TB","PB","EB","ZB","YB"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],chooseYear:"Choose Year",chooseMonth:"Choose Month",chooseDate:"Choose Date",prevDecade:"Previous Decade",nextDecade:"Next Decade",prevYear:"Previous Year",nextYear:"Next Year",prevMonth:"Previous Month",nextMonth:"Next Month",prevHour:"Previous Hour",nextHour:"Next Hour",prevMinute:"Previous Minute",nextMinute:"Next Minute",prevSecond:"Previous Second",nextSecond:"Next Second",am:"am",pm:"pm",today:"Today",weekHeader:"Wk",firstDayOfWeek:0,showMonthAfterYear:!1,dateFormat:"mm/dd/yy",weak:"Weak",medium:"Medium",strong:"Strong",passwordPrompt:"Enter a password",emptyFilterMessage:"No results found",searchMessage:"{0} results are available",selectionMessage:"{0} items selected",emptySelectionMessage:"No selected item",emptySearchMessage:"No results found",emptyMessage:"No available options",aria:{trueLabel:"True",falseLabel:"False",nullLabel:"Not Selected",star:"1 star",stars:"{star} stars",selectAll:"All items selected",unselectAll:"All items unselected",close:"Close",previous:"Previous",next:"Next",navigation:"Navigation",scrollTop:"Scroll Top",moveTop:"Move Top",moveUp:"Move Up",moveDown:"Move Down",moveBottom:"Move Bottom",moveToTarget:"Move to Target",moveToSource:"Move to Source",moveAllToTarget:"Move All to Target",moveAllToSource:"Move All to Source",pageLabel:"Page {page}",firstPageLabel:"First Page",lastPageLabel:"Last Page",nextPageLabel:"Next Page",prevPageLabel:"Previous Page",rowsPerPageLabel:"Rows per page",jumpToPageDropdownLabel:"Jump to Page Dropdown",jumpToPageInputLabel:"Jump to Page Input",selectRow:"Row Selected",unselectRow:"Row Unselected",expandRow:"Row Expanded",collapseRow:"Row Collapsed",showFilterMenu:"Show Filter Menu",hideFilterMenu:"Hide Filter Menu",filterOperator:"Filter Operator",filterConstraint:"Filter Constraint",editRow:"Row Edit",saveEdit:"Save Edit",cancelEdit:"Cancel Edit",listView:"List View",gridView:"Grid View",slide:"Slide",slideNumber:"{slideNumber}",zoomImage:"Zoom Image",zoomIn:"Zoom In",zoomOut:"Zoom Out",rotateRight:"Rotate Right",rotateLeft:"Rotate Left",listLabel:"Option List"}},filterMatchModeOptions:{text:[Wr.STARTS_WITH,Wr.CONTAINS,Wr.NOT_CONTAINS,Wr.ENDS_WITH,Wr.EQUALS,Wr.NOT_EQUALS],numeric:[Wr.EQUALS,Wr.NOT_EQUALS,Wr.LESS_THAN,Wr.LESS_THAN_OR_EQUAL_TO,Wr.GREATER_THAN,Wr.GREATER_THAN_OR_EQUAL_TO],date:[Wr.DATE_IS,Wr.DATE_IS_NOT,Wr.DATE_BEFORE,Wr.DATE_AFTER]},zIndex:{modal:1100,overlay:1e3,menu:1e3,tooltip:1100},pt:void 0,ptOptions:{mergeSections:!0,mergeProps:!1},unstyled:!1,csp:{nonce:void 0}},Rpe=Symbol();function xpe(t,e,n,r){if(t!==e){var i=document.getElementById(n),s=i.cloneNode(!0),o=i.getAttribute("href").replace(t,e);s.setAttribute("id",n+"-clone"),s.setAttribute("href",o),s.addEventListener("load",function(){i.remove(),s.setAttribute("id",n),r&&r()}),i.parentNode&&i.parentNode.insertBefore(s,i.nextSibling)}}var Dpe={install:function(e,n){var r=n?Eb(Eb({},GP),n):Eb({},GP),i={config:Pr(r),changeTheme:xpe};e.config.globalProperties.$primevue=i,e.provide(Rpe,i)}},eV={name:"BlankIcon",extends:Fa},Npe=v("rect",{width:"1",height:"1",fill:"currentColor","fill-opacity":"0"},null,-1),Mpe=[Npe];function Lpe(t,e,n,r,i,s){return D(),H("svg",se({width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t.pti()),Mpe,16)}eV.render=Lpe;var Bv={name:"CheckIcon",extends:Fa},Vpe=v("path",{d:"M4.86199 11.5948C4.78717 11.5923 4.71366 11.5745 4.64596 11.5426C4.57826 11.5107 4.51779 11.4652 4.46827 11.4091L0.753985 7.69483C0.683167 7.64891 0.623706 7.58751 0.580092 7.51525C0.536478 7.44299 0.509851 7.36177 0.502221 7.27771C0.49459 7.19366 0.506156 7.10897 0.536046 7.03004C0.565935 6.95111 0.613367 6.88 0.674759 6.82208C0.736151 6.76416 0.8099 6.72095 0.890436 6.69571C0.970973 6.67046 1.05619 6.66385 1.13966 6.67635C1.22313 6.68886 1.30266 6.72017 1.37226 6.76792C1.44186 6.81567 1.4997 6.8786 1.54141 6.95197L4.86199 10.2503L12.6397 2.49483C12.7444 2.42694 12.8689 2.39617 12.9932 2.40745C13.1174 2.41873 13.2343 2.47141 13.3251 2.55705C13.4159 2.64268 13.4753 2.75632 13.4938 2.87973C13.5123 3.00315 13.4888 3.1292 13.4271 3.23768L5.2557 11.4091C5.20618 11.4652 5.14571 11.5107 5.07801 11.5426C5.01031 11.5745 4.9368 11.5923 4.86199 11.5948Z",fill:"currentColor"},null,-1),$pe=[Vpe];function Fpe(t,e,n,r,i,s){return D(),H("svg",se({width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t.pti()),$pe,16)}Bv.render=Fpe;var kT={name:"SearchIcon",extends:Fa},Upe=v("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M2.67602 11.0265C3.6661 11.688 4.83011 12.0411 6.02086 12.0411C6.81149 12.0411 7.59438 11.8854 8.32483 11.5828C8.87005 11.357 9.37808 11.0526 9.83317 10.6803L12.9769 13.8241C13.0323 13.8801 13.0983 13.9245 13.171 13.9548C13.2438 13.985 13.3219 14.0003 13.4007 14C13.4795 14.0003 13.5575 13.985 13.6303 13.9548C13.7031 13.9245 13.7691 13.8801 13.8244 13.8241C13.9367 13.7116 13.9998 13.5592 13.9998 13.4003C13.9998 13.2414 13.9367 13.089 13.8244 12.9765L10.6807 9.8328C11.053 9.37773 11.3573 8.86972 11.5831 8.32452C11.8857 7.59408 12.0414 6.81119 12.0414 6.02056C12.0414 4.8298 11.6883 3.66579 11.0268 2.67572C10.3652 1.68564 9.42494 0.913972 8.32483 0.45829C7.22472 0.00260857 6.01418 -0.116618 4.84631 0.115686C3.67844 0.34799 2.60568 0.921393 1.76369 1.76338C0.921698 2.60537 0.348296 3.67813 0.115991 4.84601C-0.116313 6.01388 0.00291375 7.22441 0.458595 8.32452C0.914277 9.42464 1.68595 10.3649 2.67602 11.0265ZM3.35565 2.0158C4.14456 1.48867 5.07206 1.20731 6.02086 1.20731C7.29317 1.20731 8.51338 1.71274 9.41304 2.6124C10.3127 3.51206 10.8181 4.73226 10.8181 6.00457C10.8181 6.95337 10.5368 7.88088 10.0096 8.66978C9.48251 9.45868 8.73328 10.0736 7.85669 10.4367C6.98011 10.7997 6.01554 10.8947 5.08496 10.7096C4.15439 10.5245 3.2996 10.0676 2.62869 9.39674C1.95778 8.72583 1.50089 7.87104 1.31579 6.94046C1.13068 6.00989 1.22568 5.04532 1.58878 4.16874C1.95187 3.29215 2.56675 2.54292 3.35565 2.0158Z",fill:"currentColor"},null,-1),qpe=[Upe];function Bpe(t,e,n,r,i,s){return D(),H("svg",se({width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t.pti()),qpe,16)}kT.render=Bpe;var RT={name:"TimesIcon",extends:Fa},jpe=v("path",{d:"M8.01186 7.00933L12.27 2.75116C12.341 2.68501 12.398 2.60524 12.4375 2.51661C12.4769 2.42798 12.4982 2.3323 12.4999 2.23529C12.5016 2.13827 12.4838 2.0419 12.4474 1.95194C12.4111 1.86197 12.357 1.78024 12.2884 1.71163C12.2198 1.64302 12.138 1.58893 12.0481 1.55259C11.9581 1.51625 11.8617 1.4984 11.7647 1.50011C11.6677 1.50182 11.572 1.52306 11.4834 1.56255C11.3948 1.60204 11.315 1.65898 11.2488 1.72997L6.99067 5.98814L2.7325 1.72997C2.59553 1.60234 2.41437 1.53286 2.22718 1.53616C2.03999 1.53946 1.8614 1.61529 1.72901 1.74767C1.59663 1.88006 1.5208 2.05865 1.5175 2.24584C1.5142 2.43303 1.58368 2.61419 1.71131 2.75116L5.96948 7.00933L1.71131 11.2675C1.576 11.403 1.5 11.5866 1.5 11.7781C1.5 11.9696 1.576 12.1532 1.71131 12.2887C1.84679 12.424 2.03043 12.5 2.2219 12.5C2.41338 12.5 2.59702 12.424 2.7325 12.2887L6.99067 8.03052L11.2488 12.2887C11.3843 12.424 11.568 12.5 11.7594 12.5C11.9509 12.5 12.1346 12.424 12.27 12.2887C12.4053 12.1532 12.4813 11.9696 12.4813 11.7781C12.4813 11.5866 12.4053 11.403 12.27 11.2675L8.01186 7.00933Z",fill:"currentColor"},null,-1),Hpe=[jpe];function Wpe(t,e,n,r,i,s){return D(),H("svg",se({width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t.pti()),Hpe,16)}RT.render=Wpe;var tV=yY(),xT={name:"Portal",props:{appendTo:{type:[String,Object],default:"body"},disabled:{type:Boolean,default:!1}},data:function(){return{mounted:!1}},mounted:function(){this.mounted=ze.isClient()},computed:{inline:function(){return this.disabled||this.appendTo==="self"}}};function zpe(t,e,n,r,i,s){return s.inline?_e(t.$slots,"default",{key:0}):i.mounted?(D(),ae(Y_,{key:1,to:n.appendTo},[_e(t.$slots,"default")],8,["to"])):J("",!0)}xT.render=zpe;var Kpe=`
@layer primevue {
    .p-virtualscroller {
        position: relative;
        overflow: auto;
        contain: strict;
        transform: translateZ(0);
        will-change: scroll-position;
        outline: 0 none;
    }

    .p-virtualscroller-content {
        position: absolute;
        top: 0;
        left: 0;
        /* contain: content; */
        min-height: 100%;
        min-width: 100%;
        will-change: transform;
    }

    .p-virtualscroller-spacer {
        position: absolute;
        top: 0;
        left: 0;
        height: 1px;
        width: 1px;
        transform-origin: 0 0;
        pointer-events: none;
    }

    .p-virtualscroller .p-virtualscroller-loader {
        position: sticky;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
    }

    .p-virtualscroller-loader.p-component-overlay {
        display: flex;
        align-items: center;
        justify-content: center;
    }

    .p-virtualscroller-loading-icon {
        font-size: 2rem;
    }

    .p-virtualscroller-loading-icon.p-icon {
        width: 2rem;
        height: 2rem;
    }

    .p-virtualscroller-horizontal > .p-virtualscroller-content {
        display: flex;
    }

    /* Inline */
    .p-virtualscroller-inline .p-virtualscroller-content {
        position: static;
    }
}
`,YP=or.extend({name:"virtualscroller",css:Kpe}),Gpe={name:"BaseVirtualScroller",extends:Ur,props:{id:{type:String,default:null},style:null,class:null,items:{type:Array,default:null},itemSize:{type:[Number,Array],default:0},scrollHeight:null,scrollWidth:null,orientation:{type:String,default:"vertical"},numToleratedItems:{type:Number,default:null},delay:{type:Number,default:0},resizeDelay:{type:Number,default:10},lazy:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},loaderDisabled:{type:Boolean,default:!1},columns:{type:Array,default:null},loading:{type:Boolean,default:!1},showSpacer:{type:Boolean,default:!0},showLoader:{type:Boolean,default:!1},tabindex:{type:Number,default:0},inline:{type:Boolean,default:!1},step:{type:Number,default:0},appendOnly:{type:Boolean,default:!1},autoSize:{type:Boolean,default:!1}},style:YP,provide:function(){return{$parentInstance:this}},beforeMount:function(){var e;YP.loadStyle({nonce:(e=this.$primevueConfig)===null||e===void 0||(e=e.csp)===null||e===void 0?void 0:e.nonce})}};function Xh(t){"@babel/helpers - typeof";return Xh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xh(t)}function QP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function bd(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?QP(Object(n),!0).forEach(function(r){nV(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):QP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function nV(t,e,n){return e=Ype(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ype(t){var e=Qpe(t,"string");return Xh(e)=="symbol"?e:String(e)}function Qpe(t,e){if(Xh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Xh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var DT={name:"VirtualScroller",extends:Gpe,inheritAttrs:!1,emits:["update:numToleratedItems","scroll","scroll-index-change","lazy-load"],data:function(){var e=this.isBoth();return{first:e?{rows:0,cols:0}:0,last:e?{rows:0,cols:0}:0,page:e?{rows:0,cols:0}:0,numItemsInViewport:e?{rows:0,cols:0}:0,lastScrollPos:e?{top:0,left:0}:0,d_numToleratedItems:this.numToleratedItems,d_loading:this.loading,loaderArr:[],spacerStyle:{},contentStyle:{}}},element:null,content:null,lastScrollPos:null,scrollTimeout:null,resizeTimeout:null,defaultWidth:0,defaultHeight:0,defaultContentWidth:0,defaultContentHeight:0,isRangeChanged:!1,lazyLoadState:{},resizeListener:null,initialized:!1,watch:{numToleratedItems:function(e){this.d_numToleratedItems=e},loading:function(e,n){this.lazy&&e!==n&&e!==this.d_loading&&(this.d_loading=e)},items:function(e,n){(!n||n.length!==(e||[]).length)&&(this.init(),this.calculateAutoSize())},itemSize:function(){this.init(),this.calculateAutoSize()},orientation:function(){this.lastScrollPos=this.isBoth()?{top:0,left:0}:0},scrollHeight:function(){this.init(),this.calculateAutoSize()},scrollWidth:function(){this.init(),this.calculateAutoSize()}},mounted:function(){this.viewInit(),this.lastScrollPos=this.isBoth()?{top:0,left:0}:0,this.lazyLoadState=this.lazyLoadState||{}},updated:function(){!this.initialized&&this.viewInit()},unmounted:function(){this.unbindResizeListener(),this.initialized=!1},methods:{viewInit:function(){ze.isVisible(this.element)&&(this.setContentEl(this.content),this.init(),this.calculateAutoSize(),this.bindResizeListener(),this.defaultWidth=ze.getWidth(this.element),this.defaultHeight=ze.getHeight(this.element),this.defaultContentWidth=ze.getWidth(this.content),this.defaultContentHeight=ze.getHeight(this.content),this.initialized=!0)},init:function(){this.disabled||(this.setSize(),this.calculateOptions(),this.setSpacerSize())},isVertical:function(){return this.orientation==="vertical"},isHorizontal:function(){return this.orientation==="horizontal"},isBoth:function(){return this.orientation==="both"},scrollTo:function(e){this.element&&this.element.scrollTo(e)},scrollToIndex:function(e){var n=this,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"auto",i=this.isBoth(),s=this.isHorizontal(),o=i?e.every(function(I){return I>-1}):e>-1;if(o){var a=this.first,l=this.element,u=l.scrollTop,c=u===void 0?0:u,d=l.scrollLeft,h=d===void 0?0:d,p=this.calculateNumItems(),m=p.numToleratedItems,g=this.getContentPosition(),y=this.itemSize,A=function(){var b=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,_=arguments.length>1?arguments[1]:void 0;return b<=_?0:b},C=function(b,_,T){return b*_+T},S=function(){var b=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,_=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return n.scrollTo({left:b,top:_,behavior:r})},E=i?{rows:0,cols:0}:0,k=!1,x=!1;i?(E={rows:A(e[0],m[0]),cols:A(e[1],m[1])},S(C(E.cols,y[1],g.left),C(E.rows,y[0],g.top)),x=this.lastScrollPos.top!==c||this.lastScrollPos.left!==h,k=E.rows!==a.rows||E.cols!==a.cols):(E=A(e,m),s?S(C(E,y,g.left),c):S(h,C(E,y,g.top)),x=this.lastScrollPos!==(s?h:c),k=E!==a),this.isRangeChanged=k,x&&(this.first=E)}},scrollInView:function(e,n){var r=this,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"auto";if(n){var s=this.isBoth(),o=this.isHorizontal(),a=s?e.every(function(y){return y>-1}):e>-1;if(a){var l=this.getRenderedRange(),u=l.first,c=l.viewport,d=function(){var A=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,C=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return r.scrollTo({left:A,top:C,behavior:i})},h=n==="to-start",p=n==="to-end";if(h){if(s)c.first.rows-u.rows>e[0]?d(c.first.cols*this.itemSize[1],(c.first.rows-1)*this.itemSize[0]):c.first.cols-u.cols>e[1]&&d((c.first.cols-1)*this.itemSize[1],c.first.rows*this.itemSize[0]);else if(c.first-u>e){var m=(c.first-1)*this.itemSize;o?d(m,0):d(0,m)}}else if(p){if(s)c.last.rows-u.rows<=e[0]+1?d(c.first.cols*this.itemSize[1],(c.first.rows+1)*this.itemSize[0]):c.last.cols-u.cols<=e[1]+1&&d((c.first.cols+1)*this.itemSize[1],c.first.rows*this.itemSize[0]);else if(c.last-u<=e+1){var g=(c.first+1)*this.itemSize;o?d(g,0):d(0,g)}}}}else this.scrollToIndex(e,i)},getRenderedRange:function(){var e=function(d,h){return Math.floor(d/(h||d))},n=this.first,r=0;if(this.element){var i=this.isBoth(),s=this.isHorizontal(),o=this.element,a=o.scrollTop,l=o.scrollLeft;if(i)n={rows:e(a,this.itemSize[0]),cols:e(l,this.itemSize[1])},r={rows:n.rows+this.numItemsInViewport.rows,cols:n.cols+this.numItemsInViewport.cols};else{var u=s?l:a;n=e(u,this.itemSize),r=n+this.numItemsInViewport}}return{first:this.first,last:this.last,viewport:{first:n,last:r}}},calculateNumItems:function(){var e=this.isBoth(),n=this.isHorizontal(),r=this.itemSize,i=this.getContentPosition(),s=this.element?this.element.offsetWidth-i.left:0,o=this.element?this.element.offsetHeight-i.top:0,a=function(h,p){return Math.ceil(h/(p||h))},l=function(h){return Math.ceil(h/2)},u=e?{rows:a(o,r[0]),cols:a(s,r[1])}:a(n?s:o,r),c=this.d_numToleratedItems||(e?[l(u.rows),l(u.cols)]:l(u));return{numItemsInViewport:u,numToleratedItems:c}},calculateOptions:function(){var e=this,n=this.isBoth(),r=this.first,i=this.calculateNumItems(),s=i.numItemsInViewport,o=i.numToleratedItems,a=function(c,d,h){var p=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;return e.getLast(c+d+(c<h?2:3)*h,p)},l=n?{rows:a(r.rows,s.rows,o[0]),cols:a(r.cols,s.cols,o[1],!0)}:a(r,s,o);this.last=l,this.numItemsInViewport=s,this.d_numToleratedItems=o,this.$emit("update:numToleratedItems",this.d_numToleratedItems),this.showLoader&&(this.loaderArr=n?Array.from({length:s.rows}).map(function(){return Array.from({length:s.cols})}):Array.from({length:s})),this.lazy&&Promise.resolve().then(function(){var u;e.lazyLoadState={first:e.step?n?{rows:0,cols:r.cols}:0:r,last:Math.min(e.step?e.step:l,((u=e.items)===null||u===void 0?void 0:u.length)||0)},e.$emit("lazy-load",e.lazyLoadState)})},calculateAutoSize:function(){var e=this;this.autoSize&&!this.d_loading&&Promise.resolve().then(function(){if(e.content){var n=e.isBoth(),r=e.isHorizontal(),i=e.isVertical();e.content.style.minHeight=e.content.style.minWidth="auto",e.content.style.position="relative",e.element.style.contain="none";var s=[ze.getWidth(e.element),ze.getHeight(e.element)],o=s[0],a=s[1];(n||r)&&(e.element.style.width=o<e.defaultWidth?o+"px":e.scrollWidth||e.defaultWidth+"px"),(n||i)&&(e.element.style.height=a<e.defaultHeight?a+"px":e.scrollHeight||e.defaultHeight+"px"),e.content.style.minHeight=e.content.style.minWidth="",e.content.style.position="",e.element.style.contain=""}})},getLast:function(){var e,n,r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,i=arguments.length>1?arguments[1]:void 0;return this.items?Math.min(i?((e=this.columns||this.items[0])===null||e===void 0?void 0:e.length)||0:((n=this.items)===null||n===void 0?void 0:n.length)||0,r):0},getContentPosition:function(){if(this.content){var e=getComputedStyle(this.content),n=parseFloat(e.paddingLeft)+Math.max(parseFloat(e.left)||0,0),r=parseFloat(e.paddingRight)+Math.max(parseFloat(e.right)||0,0),i=parseFloat(e.paddingTop)+Math.max(parseFloat(e.top)||0,0),s=parseFloat(e.paddingBottom)+Math.max(parseFloat(e.bottom)||0,0);return{left:n,right:r,top:i,bottom:s,x:n+r,y:i+s}}return{left:0,right:0,top:0,bottom:0,x:0,y:0}},setSize:function(){var e=this;if(this.element){var n=this.isBoth(),r=this.isHorizontal(),i=this.element.parentElement,s=this.scrollWidth||"".concat(this.element.offsetWidth||i.offsetWidth,"px"),o=this.scrollHeight||"".concat(this.element.offsetHeight||i.offsetHeight,"px"),a=function(u,c){return e.element.style[u]=c};n||r?(a("height",o),a("width",s)):a("height",o)}},setSpacerSize:function(){var e=this,n=this.items;if(n){var r=this.isBoth(),i=this.isHorizontal(),s=this.getContentPosition(),o=function(l,u,c){var d=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;return e.spacerStyle=bd(bd({},e.spacerStyle),nV({},"".concat(l),(u||[]).length*c+d+"px"))};r?(o("height",n,this.itemSize[0],s.y),o("width",this.columns||n[1],this.itemSize[1],s.x)):i?o("width",this.columns||n,this.itemSize,s.x):o("height",n,this.itemSize,s.y)}},setContentPosition:function(e){var n=this;if(this.content&&!this.appendOnly){var r=this.isBoth(),i=this.isHorizontal(),s=e?e.first:this.first,o=function(c,d){return c*d},a=function(){var c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return n.contentStyle=bd(bd({},n.contentStyle),{transform:"translate3d(".concat(c,"px, ").concat(d,"px, 0)")})};if(r)a(o(s.cols,this.itemSize[1]),o(s.rows,this.itemSize[0]));else{var l=o(s,this.itemSize);i?a(l,0):a(0,l)}}},onScrollPositionChange:function(e){var n=this,r=e.target,i=this.isBoth(),s=this.isHorizontal(),o=this.getContentPosition(),a=function(R,N){return R?R>N?R-N:R:0},l=function(R,N){return Math.floor(R/(N||R))},u=function(R,N,O,j,U,$){return R<=U?U:$?O-j-U:N+U-1},c=function(R,N,O,j,U,$,B){return R<=$?0:Math.max(0,B?R<N?O:R-$:R>N?O:R-2*$)},d=function(R,N,O,j,U,$){var B=N+j+2*U;return R>=U&&(B+=U+1),n.getLast(B,$)},h=a(r.scrollTop,o.top),p=a(r.scrollLeft,o.left),m=i?{rows:0,cols:0}:0,g=this.last,y=!1,A=this.lastScrollPos;if(i){var C=this.lastScrollPos.top<=h,S=this.lastScrollPos.left<=p;if(!this.appendOnly||this.appendOnly&&(C||S)){var E={rows:l(h,this.itemSize[0]),cols:l(p,this.itemSize[1])},k={rows:u(E.rows,this.first.rows,this.last.rows,this.numItemsInViewport.rows,this.d_numToleratedItems[0],C),cols:u(E.cols,this.first.cols,this.last.cols,this.numItemsInViewport.cols,this.d_numToleratedItems[1],S)};m={rows:c(E.rows,k.rows,this.first.rows,this.last.rows,this.numItemsInViewport.rows,this.d_numToleratedItems[0],C),cols:c(E.cols,k.cols,this.first.cols,this.last.cols,this.numItemsInViewport.cols,this.d_numToleratedItems[1],S)},g={rows:d(E.rows,m.rows,this.last.rows,this.numItemsInViewport.rows,this.d_numToleratedItems[0]),cols:d(E.cols,m.cols,this.last.cols,this.numItemsInViewport.cols,this.d_numToleratedItems[1],!0)},y=m.rows!==this.first.rows||g.rows!==this.last.rows||m.cols!==this.first.cols||g.cols!==this.last.cols||this.isRangeChanged,A={top:h,left:p}}}else{var x=s?p:h,I=this.lastScrollPos<=x;if(!this.appendOnly||this.appendOnly&&I){var b=l(x,this.itemSize),_=u(b,this.first,this.last,this.numItemsInViewport,this.d_numToleratedItems,I);m=c(b,_,this.first,this.last,this.numItemsInViewport,this.d_numToleratedItems,I),g=d(b,m,this.last,this.numItemsInViewport,this.d_numToleratedItems),y=m!==this.first||g!==this.last||this.isRangeChanged,A=x}}return{first:m,last:g,isRangeChanged:y,scrollPos:A}},onScrollChange:function(e){var n=this.onScrollPositionChange(e),r=n.first,i=n.last,s=n.isRangeChanged,o=n.scrollPos;if(s){var a={first:r,last:i};if(this.setContentPosition(a),this.first=r,this.last=i,this.lastScrollPos=o,this.$emit("scroll-index-change",a),this.lazy&&this.isPageChanged(r)){var l,u,c={first:this.step?Math.min(this.getPageByFirst(r)*this.step,(((l=this.items)===null||l===void 0?void 0:l.length)||0)-this.step):r,last:Math.min(this.step?(this.getPageByFirst(r)+1)*this.step:i,((u=this.items)===null||u===void 0?void 0:u.length)||0)},d=this.lazyLoadState.first!==c.first||this.lazyLoadState.last!==c.last;d&&this.$emit("lazy-load",c),this.lazyLoadState=c}}},onScroll:function(e){var n=this;if(this.$emit("scroll",e),this.delay){if(this.scrollTimeout&&clearTimeout(this.scrollTimeout),this.isPageChanged()){if(!this.d_loading&&this.showLoader){var r=this.onScrollPositionChange(e),i=r.isRangeChanged,s=i||(this.step?this.isPageChanged():!1);s&&(this.d_loading=!0)}this.scrollTimeout=setTimeout(function(){n.onScrollChange(e),n.d_loading&&n.showLoader&&(!n.lazy||n.loading===void 0)&&(n.d_loading=!1,n.page=n.getPageByFirst())},this.delay)}}else this.onScrollChange(e)},onResize:function(){var e=this;this.resizeTimeout&&clearTimeout(this.resizeTimeout),this.resizeTimeout=setTimeout(function(){if(ze.isVisible(e.element)){var n=e.isBoth(),r=e.isVertical(),i=e.isHorizontal(),s=[ze.getWidth(e.element),ze.getHeight(e.element)],o=s[0],a=s[1],l=o!==e.defaultWidth,u=a!==e.defaultHeight,c=n?l||u:i?l:r?u:!1;c&&(e.d_numToleratedItems=e.numToleratedItems,e.defaultWidth=o,e.defaultHeight=a,e.defaultContentWidth=ze.getWidth(e.content),e.defaultContentHeight=ze.getHeight(e.content),e.init())}},this.resizeDelay)},bindResizeListener:function(){this.resizeListener||(this.resizeListener=this.onResize.bind(this),window.addEventListener("resize",this.resizeListener),window.addEventListener("orientationchange",this.resizeListener))},unbindResizeListener:function(){this.resizeListener&&(window.removeEventListener("resize",this.resizeListener),window.removeEventListener("orientationchange",this.resizeListener),this.resizeListener=null)},getOptions:function(e){var n=(this.items||[]).length,r=this.isBoth()?this.first.rows+e:this.first+e;return{index:r,count:n,first:r===0,last:r===n-1,even:r%2===0,odd:r%2!==0}},getLoaderOptions:function(e,n){var r=this.loaderArr.length;return bd({index:e,count:r,first:e===0,last:e===r-1,even:e%2===0,odd:e%2!==0},n)},getPageByFirst:function(e){return Math.floor(((e??this.first)+this.d_numToleratedItems*4)/(this.step||1))},isPageChanged:function(e){return this.step?this.page!==this.getPageByFirst(e??this.first):!0},setContentEl:function(e){this.content=e||this.content||ze.findSingle(this.element,'[data-pc-section="content"]')},elementRef:function(e){this.element=e},contentRef:function(e){this.content=e}},computed:{containerClass:function(){return["p-virtualscroller",this.class,{"p-virtualscroller-inline":this.inline,"p-virtualscroller-both p-both-scroll":this.isBoth(),"p-virtualscroller-horizontal p-horizontal-scroll":this.isHorizontal()}]},contentClass:function(){return["p-virtualscroller-content",{"p-virtualscroller-loading":this.d_loading}]},loaderClass:function(){return["p-virtualscroller-loader",{"p-component-overlay":!this.$slots.loader}]},loadedItems:function(){var e=this;return this.items&&!this.d_loading?this.isBoth()?this.items.slice(this.appendOnly?0:this.first.rows,this.last.rows).map(function(n){return e.columns?n:n.slice(e.appendOnly?0:e.first.cols,e.last.cols)}):this.isHorizontal()&&this.columns?this.items:this.items.slice(this.appendOnly?0:this.first,this.last):[]},loadedRows:function(){return this.d_loading?this.loaderDisabled?this.loaderArr:[]:this.loadedItems},loadedColumns:function(){if(this.columns){var e=this.isBoth(),n=this.isHorizontal();if(e||n)return this.d_loading&&this.loaderDisabled?e?this.loaderArr[0]:this.loaderArr:this.columns.slice(e?this.first.cols:this.first,e?this.last.cols:this.last)}return this.columns}},components:{SpinnerIcon:Rf}},Xpe=["tabindex"];function Jpe(t,e,n,r,i,s){var o=On("SpinnerIcon");return t.disabled?(D(),H(Pe,{key:1},[_e(t.$slots,"default"),_e(t.$slots,"content",{items:t.items,rows:t.items,columns:s.loadedColumns})],64)):(D(),H("div",se({key:0,ref:s.elementRef,class:s.containerClass,tabindex:t.tabindex,style:t.style,onScroll:e[0]||(e[0]=function(){return s.onScroll&&s.onScroll.apply(s,arguments)})},t.ptmi("root")),[_e(t.$slots,"content",{styleClass:s.contentClass,items:s.loadedItems,getItemOptions:s.getOptions,loading:i.d_loading,getLoaderOptions:s.getLoaderOptions,itemSize:t.itemSize,rows:s.loadedRows,columns:s.loadedColumns,contentRef:s.contentRef,spacerStyle:i.spacerStyle,contentStyle:i.contentStyle,vertical:s.isVertical(),horizontal:s.isHorizontal(),both:s.isBoth()},function(){return[v("div",se({ref:s.contentRef,class:s.contentClass,style:i.contentStyle},t.ptm("content")),[(D(!0),H(Pe,null,dt(s.loadedItems,function(a,l){return _e(t.$slots,"item",{key:l,item:a,options:s.getOptions(l)})}),128))],16)]}),t.showSpacer?(D(),H("div",se({key:0,class:"p-virtualscroller-spacer",style:i.spacerStyle},t.ptm("spacer")),null,16)):J("",!0),!t.loaderDisabled&&t.showLoader&&i.d_loading?(D(),H("div",se({key:1,class:s.loaderClass},t.ptm("loader")),[t.$slots&&t.$slots.loader?(D(!0),H(Pe,{key:0},dt(i.loaderArr,function(a,l){return _e(t.$slots,"loader",{key:l,options:s.getLoaderOptions(l,s.isBoth()&&{numCols:t.d_numItemsInViewport.cols})})}),128)):J("",!0),_e(t.$slots,"loadingicon",{},function(){return[q(o,se({spin:"",class:"p-virtualscroller-loading-icon"},t.ptm("loadingIcon")),null,16)]})],16)):J("",!0)],16,Xpe))}DT.render=Jpe;var Zpe={root:function(e){var n=e.instance,r=e.props,i=e.state;return["p-dropdown p-component p-inputwrapper",{"p-disabled":r.disabled,"p-invalid":r.invalid,"p-variant-filled":r.variant?r.variant==="filled":n.$primevue.config.inputStyle==="filled","p-dropdown-clearable":r.showClear,"p-focus":i.focused,"p-inputwrapper-filled":n.hasSelectedOption,"p-inputwrapper-focus":i.focused||i.overlayVisible,"p-overlay-open":i.overlayVisible}]},input:function(e){var n,r=e.instance,i=e.props;return["p-dropdown-label p-inputtext",{"p-placeholder":!i.editable&&r.label===i.placeholder,"p-dropdown-label-empty":!i.editable&&!r.$slots.value&&(r.label==="p-emptylabel"||((n=r.label)===null||n===void 0?void 0:n.length)===0)}]},clearIcon:"p-dropdown-clear-icon",trigger:"p-dropdown-trigger",loadingicon:"p-dropdown-trigger-icon",dropdownIcon:"p-dropdown-trigger-icon",panel:function(e){e.props;var n=e.instance;return["p-dropdown-panel p-component",{"p-ripple-disabled":n.$primevue.config.ripple===!1}]},header:"p-dropdown-header",filterContainer:"p-dropdown-filter-container",filterInput:function(e){var n=e.props,r=e.instance;return["p-dropdown-filter p-inputtext p-component",{"p-variant-filled":n.variant?n.variant==="filled":r.$primevue.config.inputStyle==="filled"}]},filterIcon:"p-dropdown-filter-icon",wrapper:"p-dropdown-items-wrapper",list:"p-dropdown-items",itemGroup:"p-dropdown-item-group",itemGroupLabel:"p-dropdown-item-group-label",item:function(e){var n=e.instance,r=e.props,i=e.state,s=e.option,o=e.focusedOption;return["p-dropdown-item",{"p-highlight":n.isSelected(s)&&r.highlightOnSelect,"p-focus":i.focusedOptionIndex===o,"p-disabled":n.isOptionDisabled(s)}]},itemLabel:"p-dropdown-item-label",checkIcon:"p-dropdown-check-icon",blankIcon:"p-dropdown-blank-icon",emptyMessage:"p-dropdown-empty-message"},eme=or.extend({name:"dropdown",classes:Zpe}),tme={name:"BaseDropdown",extends:Ur,props:{modelValue:null,options:Array,optionLabel:[String,Function],optionValue:[String,Function],optionDisabled:[String,Function],optionGroupLabel:[String,Function],optionGroupChildren:[String,Function],scrollHeight:{type:String,default:"200px"},filter:Boolean,filterPlaceholder:String,filterLocale:String,filterMatchMode:{type:String,default:"contains"},filterFields:{type:Array,default:null},editable:Boolean,placeholder:{type:String,default:null},variant:{type:String,default:null},invalid:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},dataKey:null,showClear:{type:Boolean,default:!1},inputId:{type:String,default:null},inputClass:{type:[String,Object],default:null},inputStyle:{type:Object,default:null},inputProps:{type:null,default:null},panelClass:{type:[String,Object],default:null},panelStyle:{type:Object,default:null},panelProps:{type:null,default:null},filterInputProps:{type:null,default:null},clearIconProps:{type:null,default:null},appendTo:{type:[String,Object],default:"body"},loading:{type:Boolean,default:!1},clearIcon:{type:String,default:void 0},dropdownIcon:{type:String,default:void 0},filterIcon:{type:String,default:void 0},loadingIcon:{type:String,default:void 0},resetFilterOnHide:{type:Boolean,default:!1},resetFilterOnClear:{type:Boolean,default:!1},virtualScrollerOptions:{type:Object,default:null},autoOptionFocus:{type:Boolean,default:!1},autoFilterFocus:{type:Boolean,default:!1},selectOnFocus:{type:Boolean,default:!1},focusOnHover:{type:Boolean,default:!0},highlightOnSelect:{type:Boolean,default:!0},checkmark:{type:Boolean,default:!1},filterMessage:{type:String,default:null},selectionMessage:{type:String,default:null},emptySelectionMessage:{type:String,default:null},emptyFilterMessage:{type:String,default:null},emptyMessage:{type:String,default:null},tabindex:{type:Number,default:0},ariaLabel:{type:String,default:null},ariaLabelledby:{type:String,default:null}},style:eme,provide:function(){return{$parentInstance:this}}};function Jh(t){"@babel/helpers - typeof";return Jh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jh(t)}function nme(t){return ome(t)||sme(t)||ime(t)||rme()}function rme(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ime(t,e){if(t){if(typeof t=="string")return __(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return __(t,e)}}function sme(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function ome(t){if(Array.isArray(t))return __(t)}function __(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function XP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function JP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?XP(Object(n),!0).forEach(function(r){rV(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):XP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function rV(t,e,n){return e=ame(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ame(t){var e=lme(t,"string");return Jh(e)=="symbol"?e:String(e)}function lme(t,e){if(Jh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Jh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var iV={name:"Dropdown",extends:tme,inheritAttrs:!1,emits:["update:modelValue","change","focus","blur","before-show","before-hide","show","hide","filter"],outsideClickListener:null,scrollHandler:null,resizeListener:null,labelClickListener:null,overlay:null,list:null,virtualScroller:null,searchTimeout:null,searchValue:null,isModelValueChanged:!1,data:function(){return{id:this.$attrs.id,clicked:!1,focused:!1,focusedOptionIndex:-1,filterValue:null,overlayVisible:!1}},watch:{"$attrs.id":function(e){this.id=e||vc()},modelValue:function(){this.isModelValueChanged=!0},options:function(){this.autoUpdateModel()}},mounted:function(){this.id=this.id||vc(),this.autoUpdateModel(),this.bindLabelClickListener()},updated:function(){this.overlayVisible&&this.isModelValueChanged&&this.scrollInView(this.findSelectedOptionIndex()),this.isModelValueChanged=!1},beforeUnmount:function(){this.unbindOutsideClickListener(),this.unbindResizeListener(),this.unbindLabelClickListener(),this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null),this.overlay&&(Gu.clear(this.overlay),this.overlay=null)},methods:{getOptionIndex:function(e,n){return this.virtualScrollerDisabled?e:n&&n(e).index},getOptionLabel:function(e){return this.optionLabel?Me.resolveFieldData(e,this.optionLabel):e},getOptionValue:function(e){return this.optionValue?Me.resolveFieldData(e,this.optionValue):e},getOptionRenderKey:function(e,n){return(this.dataKey?Me.resolveFieldData(e,this.dataKey):this.getOptionLabel(e))+"_"+n},getPTItemOptions:function(e,n,r,i){return this.ptm(i,{context:{option:e,index:r,selected:this.isSelected(e),focused:this.focusedOptionIndex===this.getOptionIndex(r,n),disabled:this.isOptionDisabled(e)}})},isOptionDisabled:function(e){return this.optionDisabled?Me.resolveFieldData(e,this.optionDisabled):!1},isOptionGroup:function(e){return this.optionGroupLabel&&e.optionGroup&&e.group},getOptionGroupLabel:function(e){return Me.resolveFieldData(e,this.optionGroupLabel)},getOptionGroupChildren:function(e){return Me.resolveFieldData(e,this.optionGroupChildren)},getAriaPosInset:function(e){var n=this;return(this.optionGroupLabel?e-this.visibleOptions.slice(0,e).filter(function(r){return n.isOptionGroup(r)}).length:e)+1},show:function(e){this.$emit("before-show"),this.overlayVisible=!0,this.focusedOptionIndex=this.focusedOptionIndex!==-1?this.focusedOptionIndex:this.autoOptionFocus?this.findFirstFocusedOptionIndex():this.editable?-1:this.findSelectedOptionIndex(),e&&ze.focus(this.$refs.focusInput)},hide:function(e){var n=this,r=function(){n.$emit("before-hide"),n.overlayVisible=!1,n.clicked=!1,n.focusedOptionIndex=-1,n.searchValue="",n.resetFilterOnHide&&(n.filterValue=null),e&&ze.focus(n.$refs.focusInput)};setTimeout(function(){r()},0)},onFocus:function(e){this.disabled||(this.focused=!0,this.overlayVisible&&(this.focusedOptionIndex=this.focusedOptionIndex!==-1?this.focusedOptionIndex:this.autoOptionFocus?this.findFirstFocusedOptionIndex():this.editable?-1:this.findSelectedOptionIndex(),this.scrollInView(this.focusedOptionIndex)),this.$emit("focus",e))},onBlur:function(e){this.focused=!1,this.focusedOptionIndex=-1,this.searchValue="",this.$emit("blur",e)},onKeyDown:function(e){if(this.disabled||ze.isAndroid()){e.preventDefault();return}var n=e.metaKey||e.ctrlKey;switch(e.code){case"ArrowDown":this.onArrowDownKey(e);break;case"ArrowUp":this.onArrowUpKey(e,this.editable);break;case"ArrowLeft":case"ArrowRight":this.onArrowLeftKey(e,this.editable);break;case"Home":this.onHomeKey(e,this.editable);break;case"End":this.onEndKey(e,this.editable);break;case"PageDown":this.onPageDownKey(e);break;case"PageUp":this.onPageUpKey(e);break;case"Space":this.onSpaceKey(e,this.editable);break;case"Enter":case"NumpadEnter":this.onEnterKey(e);break;case"Escape":this.onEscapeKey(e);break;case"Tab":this.onTabKey(e);break;case"Backspace":this.onBackspaceKey(e,this.editable);break;case"ShiftLeft":case"ShiftRight":break;default:!n&&Me.isPrintableCharacter(e.key)&&(!this.overlayVisible&&this.show(),!this.editable&&this.searchOptions(e,e.key));break}this.clicked=!1},onEditableInput:function(e){var n=e.target.value;this.searchValue="";var r=this.searchOptions(e,n);!r&&(this.focusedOptionIndex=-1),this.updateModel(e,n),!this.overlayVisible&&Me.isNotEmpty(n)&&this.show()},onContainerClick:function(e){this.disabled||this.loading||e.target.tagName==="INPUT"||e.target.getAttribute("data-pc-section")==="clearicon"||e.target.closest('[data-pc-section="clearicon"]')||((!this.overlay||!this.overlay.contains(e.target))&&(this.overlayVisible?this.hide(!0):this.show(!0)),this.clicked=!0)},onClearClick:function(e){this.updateModel(e,null),this.resetFilterOnClear&&(this.filterValue=null)},onFirstHiddenFocus:function(e){var n=e.relatedTarget===this.$refs.focusInput?ze.getFirstFocusableElement(this.overlay,':not([data-p-hidden-focusable="true"])'):this.$refs.focusInput;ze.focus(n)},onLastHiddenFocus:function(e){var n=e.relatedTarget===this.$refs.focusInput?ze.getLastFocusableElement(this.overlay,':not([data-p-hidden-focusable="true"])'):this.$refs.focusInput;ze.focus(n)},onOptionSelect:function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,i=this.getOptionValue(n);this.updateModel(e,i),r&&this.hide(!0)},onOptionMouseMove:function(e,n){this.focusOnHover&&this.changeFocusedOptionIndex(e,n)},onFilterChange:function(e){var n=e.target.value;this.filterValue=n,this.focusedOptionIndex=-1,this.$emit("filter",{originalEvent:e,value:n}),!this.virtualScrollerDisabled&&this.virtualScroller.scrollToIndex(0)},onFilterKeyDown:function(e){switch(e.code){case"ArrowDown":this.onArrowDownKey(e);break;case"ArrowUp":this.onArrowUpKey(e,!0);break;case"ArrowLeft":case"ArrowRight":this.onArrowLeftKey(e,!0);break;case"Home":this.onHomeKey(e,!0);break;case"End":this.onEndKey(e,!0);break;case"Enter":case"NumpadEnter":this.onEnterKey(e);break;case"Escape":this.onEscapeKey(e);break;case"Tab":this.onTabKey(e,!0);break}},onFilterBlur:function(){this.focusedOptionIndex=-1},onFilterUpdated:function(){this.overlayVisible&&this.alignOverlay()},onOverlayClick:function(e){tV.emit("overlay-click",{originalEvent:e,target:this.$el})},onOverlayKeyDown:function(e){switch(e.code){case"Escape":this.onEscapeKey(e);break}},onArrowDownKey:function(e){if(!this.overlayVisible)this.show(),this.editable&&this.changeFocusedOptionIndex(e,this.findSelectedOptionIndex());else{var n=this.focusedOptionIndex!==-1?this.findNextOptionIndex(this.focusedOptionIndex):this.clicked?this.findFirstOptionIndex():this.findFirstFocusedOptionIndex();this.changeFocusedOptionIndex(e,n)}e.preventDefault()},onArrowUpKey:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(e.altKey&&!n)this.focusedOptionIndex!==-1&&this.onOptionSelect(e,this.visibleOptions[this.focusedOptionIndex]),this.overlayVisible&&this.hide(),e.preventDefault();else{var r=this.focusedOptionIndex!==-1?this.findPrevOptionIndex(this.focusedOptionIndex):this.clicked?this.findLastOptionIndex():this.findLastFocusedOptionIndex();this.changeFocusedOptionIndex(e,r),!this.overlayVisible&&this.show(),e.preventDefault()}},onArrowLeftKey:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;n&&(this.focusedOptionIndex=-1)},onHomeKey:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(n){var r=e.currentTarget;e.shiftKey?r.setSelectionRange(0,e.target.selectionStart):(r.setSelectionRange(0,0),this.focusedOptionIndex=-1)}else this.changeFocusedOptionIndex(e,this.findFirstOptionIndex()),!this.overlayVisible&&this.show();e.preventDefault()},onEndKey:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(n){var r=e.currentTarget;if(e.shiftKey)r.setSelectionRange(e.target.selectionStart,r.value.length);else{var i=r.value.length;r.setSelectionRange(i,i),this.focusedOptionIndex=-1}}else this.changeFocusedOptionIndex(e,this.findLastOptionIndex()),!this.overlayVisible&&this.show();e.preventDefault()},onPageUpKey:function(e){this.scrollInView(0),e.preventDefault()},onPageDownKey:function(e){this.scrollInView(this.visibleOptions.length-1),e.preventDefault()},onEnterKey:function(e){this.overlayVisible?(this.focusedOptionIndex!==-1&&this.onOptionSelect(e,this.visibleOptions[this.focusedOptionIndex]),this.hide()):(this.focusedOptionIndex=-1,this.onArrowDownKey(e)),e.preventDefault()},onSpaceKey:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;!n&&this.onEnterKey(e)},onEscapeKey:function(e){this.overlayVisible&&this.hide(!0),e.preventDefault(),e.stopPropagation()},onTabKey:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;n||(this.overlayVisible&&this.hasFocusableElements()?(ze.focus(this.$refs.firstHiddenFocusableElementOnOverlay),e.preventDefault()):(this.focusedOptionIndex!==-1&&this.onOptionSelect(e,this.visibleOptions[this.focusedOptionIndex]),this.overlayVisible&&this.hide(this.filter)))},onBackspaceKey:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;n&&!this.overlayVisible&&this.show()},onOverlayEnter:function(e){Gu.set("overlay",e,this.$primevue.config.zIndex.overlay),ze.addStyles(e,{position:"absolute",top:"0",left:"0"}),this.alignOverlay(),this.scrollInView(),this.autoFilterFocus&&ze.focus(this.$refs.filterInput)},onOverlayAfterEnter:function(){this.bindOutsideClickListener(),this.bindScrollListener(),this.bindResizeListener(),this.$emit("show")},onOverlayLeave:function(){this.unbindOutsideClickListener(),this.unbindScrollListener(),this.unbindResizeListener(),this.$emit("hide"),this.overlay=null},onOverlayAfterLeave:function(e){Gu.clear(e)},alignOverlay:function(){this.appendTo==="self"?ze.relativePosition(this.overlay,this.$el):(this.overlay.style.minWidth=ze.getOuterWidth(this.$el)+"px",ze.absolutePosition(this.overlay,this.$el))},bindOutsideClickListener:function(){var e=this;this.outsideClickListener||(this.outsideClickListener=function(n){e.overlayVisible&&e.overlay&&!e.$el.contains(n.target)&&!e.overlay.contains(n.target)&&e.hide()},document.addEventListener("click",this.outsideClickListener))},unbindOutsideClickListener:function(){this.outsideClickListener&&(document.removeEventListener("click",this.outsideClickListener),this.outsideClickListener=null)},bindScrollListener:function(){var e=this;this.scrollHandler||(this.scrollHandler=new vM(this.$refs.container,function(){e.overlayVisible&&e.hide()})),this.scrollHandler.bindScrollListener()},unbindScrollListener:function(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()},bindResizeListener:function(){var e=this;this.resizeListener||(this.resizeListener=function(){e.overlayVisible&&!ze.isTouchDevice()&&e.hide()},window.addEventListener("resize",this.resizeListener))},unbindResizeListener:function(){this.resizeListener&&(window.removeEventListener("resize",this.resizeListener),this.resizeListener=null)},bindLabelClickListener:function(){var e=this;if(!this.editable&&!this.labelClickListener){var n=document.querySelector('label[for="'.concat(this.inputId,'"]'));n&&ze.isVisible(n)&&(this.labelClickListener=function(){ze.focus(e.$refs.focusInput)},n.addEventListener("click",this.labelClickListener))}},unbindLabelClickListener:function(){if(this.labelClickListener){var e=document.querySelector('label[for="'.concat(this.inputId,'"]'));e&&ze.isVisible(e)&&e.removeEventListener("click",this.labelClickListener)}},hasFocusableElements:function(){return ze.getFocusableElements(this.overlay,':not([data-p-hidden-focusable="true"])').length>0},isOptionMatched:function(e){var n;return this.isValidOption(e)&&((n=this.getOptionLabel(e))===null||n===void 0?void 0:n.toLocaleLowerCase(this.filterLocale).startsWith(this.searchValue.toLocaleLowerCase(this.filterLocale)))},isValidOption:function(e){return Me.isNotEmpty(e)&&!(this.isOptionDisabled(e)||this.isOptionGroup(e))},isValidSelectedOption:function(e){return this.isValidOption(e)&&this.isSelected(e)},isSelected:function(e){return this.isValidOption(e)&&Me.equals(this.modelValue,this.getOptionValue(e),this.equalityKey)},findFirstOptionIndex:function(){var e=this;return this.visibleOptions.findIndex(function(n){return e.isValidOption(n)})},findLastOptionIndex:function(){var e=this;return Me.findLastIndex(this.visibleOptions,function(n){return e.isValidOption(n)})},findNextOptionIndex:function(e){var n=this,r=e<this.visibleOptions.length-1?this.visibleOptions.slice(e+1).findIndex(function(i){return n.isValidOption(i)}):-1;return r>-1?r+e+1:e},findPrevOptionIndex:function(e){var n=this,r=e>0?Me.findLastIndex(this.visibleOptions.slice(0,e),function(i){return n.isValidOption(i)}):-1;return r>-1?r:e},findSelectedOptionIndex:function(){var e=this;return this.hasSelectedOption?this.visibleOptions.findIndex(function(n){return e.isValidSelectedOption(n)}):-1},findFirstFocusedOptionIndex:function(){var e=this.findSelectedOptionIndex();return e<0?this.findFirstOptionIndex():e},findLastFocusedOptionIndex:function(){var e=this.findSelectedOptionIndex();return e<0?this.findLastOptionIndex():e},searchOptions:function(e,n){var r=this;this.searchValue=(this.searchValue||"")+n;var i=-1,s=!1;return Me.isNotEmpty(this.searchValue)&&(this.focusedOptionIndex!==-1?(i=this.visibleOptions.slice(this.focusedOptionIndex).findIndex(function(o){return r.isOptionMatched(o)}),i=i===-1?this.visibleOptions.slice(0,this.focusedOptionIndex).findIndex(function(o){return r.isOptionMatched(o)}):i+this.focusedOptionIndex):i=this.visibleOptions.findIndex(function(o){return r.isOptionMatched(o)}),i!==-1&&(s=!0),i===-1&&this.focusedOptionIndex===-1&&(i=this.findFirstFocusedOptionIndex()),i!==-1&&this.changeFocusedOptionIndex(e,i)),this.searchTimeout&&clearTimeout(this.searchTimeout),this.searchTimeout=setTimeout(function(){r.searchValue="",r.searchTimeout=null},500),s},changeFocusedOptionIndex:function(e,n){this.focusedOptionIndex!==n&&(this.focusedOptionIndex=n,this.scrollInView(),this.selectOnFocus&&this.onOptionSelect(e,this.visibleOptions[n],!1))},scrollInView:function(){var e=this,n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:-1;this.$nextTick(function(){var r=n!==-1?"".concat(e.id,"_").concat(n):e.focusedOptionId,i=ze.findSingle(e.list,'li[id="'.concat(r,'"]'));i?i.scrollIntoView&&i.scrollIntoView({block:"nearest"}):e.virtualScrollerDisabled||e.virtualScroller&&e.virtualScroller.scrollToIndex(n!==-1?n:e.focusedOptionIndex)})},autoUpdateModel:function(){this.selectOnFocus&&this.autoOptionFocus&&!this.hasSelectedOption&&(this.focusedOptionIndex=this.findFirstFocusedOptionIndex(),this.onOptionSelect(null,this.visibleOptions[this.focusedOptionIndex],!1))},updateModel:function(e,n){this.$emit("update:modelValue",n),this.$emit("change",{originalEvent:e,value:n})},flatOptions:function(e){var n=this;return(e||[]).reduce(function(r,i,s){r.push({optionGroup:i,group:!0,index:s});var o=n.getOptionGroupChildren(i);return o&&o.forEach(function(a){return r.push(a)}),r},[])},overlayRef:function(e){this.overlay=e},listRef:function(e,n){this.list=e,n&&n(e)},virtualScrollerRef:function(e){this.virtualScroller=e}},computed:{visibleOptions:function(){var e=this,n=this.optionGroupLabel?this.flatOptions(this.options):this.options||[];if(this.filterValue){var r=ZL.filter(n,this.searchFields,this.filterValue,this.filterMatchMode,this.filterLocale);if(this.optionGroupLabel){var i=this.options||[],s=[];return i.forEach(function(o){var a=e.getOptionGroupChildren(o),l=a.filter(function(u){return r.includes(u)});l.length>0&&s.push(JP(JP({},o),{},rV({},typeof e.optionGroupChildren=="string"?e.optionGroupChildren:"items",nme(l))))}),this.flatOptions(s)}return r}return n},hasSelectedOption:function(){return Me.isNotEmpty(this.modelValue)},label:function(){var e=this.findSelectedOptionIndex();return e!==-1?this.getOptionLabel(this.visibleOptions[e]):this.placeholder||"p-emptylabel"},editableInputValue:function(){var e=this.findSelectedOptionIndex();return e!==-1?this.getOptionLabel(this.visibleOptions[e]):this.modelValue||""},equalityKey:function(){return this.optionValue?null:this.dataKey},searchFields:function(){return this.filterFields||[this.optionLabel]},filterResultMessageText:function(){return Me.isNotEmpty(this.visibleOptions)?this.filterMessageText.replaceAll("{0}",this.visibleOptions.length):this.emptyFilterMessageText},filterMessageText:function(){return this.filterMessage||this.$primevue.config.locale.searchMessage||""},emptyFilterMessageText:function(){return this.emptyFilterMessage||this.$primevue.config.locale.emptySearchMessage||this.$primevue.config.locale.emptyFilterMessage||""},emptyMessageText:function(){return this.emptyMessage||this.$primevue.config.locale.emptyMessage||""},selectionMessageText:function(){return this.selectionMessage||this.$primevue.config.locale.selectionMessage||""},emptySelectionMessageText:function(){return this.emptySelectionMessage||this.$primevue.config.locale.emptySelectionMessage||""},selectedMessageText:function(){return this.hasSelectedOption?this.selectionMessageText.replaceAll("{0}","1"):this.emptySelectionMessageText},listAriaLabel:function(){return this.$primevue.config.locale.aria?this.$primevue.config.locale.aria.listLabel:void 0},focusedOptionId:function(){return this.focusedOptionIndex!==-1?"".concat(this.id,"_").concat(this.focusedOptionIndex):null},ariaSetSize:function(){var e=this;return this.visibleOptions.filter(function(n){return!e.isOptionGroup(n)}).length},virtualScrollerDisabled:function(){return!this.virtualScrollerOptions}},directives:{ripple:Cv},components:{VirtualScroller:DT,Portal:xT,TimesIcon:RT,ChevronDownIcon:Ov,SpinnerIcon:Rf,SearchIcon:kT,CheckIcon:Bv,BlankIcon:eV}};function Zh(t){"@babel/helpers - typeof";return Zh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zh(t)}function ZP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Is(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ZP(Object(n),!0).forEach(function(r){ume(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ZP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ume(t,e,n){return e=cme(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function cme(t){var e=dme(t,"string");return Zh(e)=="symbol"?e:String(e)}function dme(t,e){if(Zh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Zh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var hme=["id"],fme=["id","value","placeholder","tabindex","disabled","aria-label","aria-labelledby","aria-expanded","aria-controls","aria-activedescendant","aria-invalid"],pme=["id","tabindex","aria-label","aria-labelledby","aria-expanded","aria-controls","aria-activedescendant","aria-disabled"],mme=["value","placeholder","aria-owns","aria-activedescendant"],gme=["id","aria-label"],vme=["id"],yme=["id","aria-label","aria-selected","aria-disabled","aria-setsize","aria-posinset","onClick","onMousemove","data-p-highlight","data-p-focused","data-p-disabled"];function bme(t,e,n,r,i,s){var o=On("SpinnerIcon"),a=On("CheckIcon"),l=On("BlankIcon"),u=On("VirtualScroller"),c=On("Portal"),d=$g("ripple");return D(),H("div",se({ref:"container",id:i.id,class:t.cx("root"),onClick:e[16]||(e[16]=function(){return s.onContainerClick&&s.onContainerClick.apply(s,arguments)})},t.ptmi("root")),[t.editable?(D(),H("input",se({key:0,ref:"focusInput",id:t.inputId,type:"text",class:[t.cx("input"),t.inputClass],style:t.inputStyle,value:s.editableInputValue,placeholder:t.placeholder,tabindex:t.disabled?-1:t.tabindex,disabled:t.disabled,autocomplete:"off",role:"combobox","aria-label":t.ariaLabel,"aria-labelledby":t.ariaLabelledby,"aria-haspopup":"listbox","aria-expanded":i.overlayVisible,"aria-controls":i.id+"_list","aria-activedescendant":i.focused?s.focusedOptionId:void 0,"aria-invalid":t.invalid||void 0,onFocus:e[0]||(e[0]=function(){return s.onFocus&&s.onFocus.apply(s,arguments)}),onBlur:e[1]||(e[1]=function(){return s.onBlur&&s.onBlur.apply(s,arguments)}),onKeydown:e[2]||(e[2]=function(){return s.onKeyDown&&s.onKeyDown.apply(s,arguments)}),onInput:e[3]||(e[3]=function(){return s.onEditableInput&&s.onEditableInput.apply(s,arguments)})},Is(Is({},t.inputProps),t.ptm("input"))),null,16,fme)):(D(),H("span",se({key:1,ref:"focusInput",id:t.inputId,class:[t.cx("input"),t.inputClass],style:t.inputStyle,tabindex:t.disabled?-1:t.tabindex,role:"combobox","aria-label":t.ariaLabel||(s.label==="p-emptylabel"?void 0:s.label),"aria-labelledby":t.ariaLabelledby,"aria-haspopup":"listbox","aria-expanded":i.overlayVisible,"aria-controls":i.id+"_list","aria-activedescendant":i.focused?s.focusedOptionId:void 0,"aria-disabled":t.disabled,onFocus:e[4]||(e[4]=function(){return s.onFocus&&s.onFocus.apply(s,arguments)}),onBlur:e[5]||(e[5]=function(){return s.onBlur&&s.onBlur.apply(s,arguments)}),onKeydown:e[6]||(e[6]=function(){return s.onKeyDown&&s.onKeyDown.apply(s,arguments)})},Is(Is({},t.inputProps),t.ptm("input"))),[_e(t.$slots,"value",{value:t.modelValue,placeholder:t.placeholder},function(){return[K(Fe(s.label==="p-emptylabel"?"":s.label||"empty"),1)]})],16,pme)),t.showClear&&t.modelValue!=null?_e(t.$slots,"clearicon",{key:2,class:Le(t.cx("clearIcon")),onClick:s.onClearClick,clearCallback:s.onClearClick},function(){return[(D(),ae(Mn(t.clearIcon?"i":"TimesIcon"),se({ref:"clearIcon",class:[t.cx("clearIcon"),t.clearIcon],onClick:s.onClearClick},Is(Is({},t.clearIconProps),t.ptm("clearIcon")),{"data-pc-section":"clearicon"}),null,16,["class","onClick"]))]}):J("",!0),v("div",se({class:t.cx("trigger")},t.ptm("trigger")),[t.loading?_e(t.$slots,"loadingicon",{key:0,class:Le(t.cx("loadingIcon"))},function(){return[t.loadingIcon?(D(),H("span",se({key:0,class:[t.cx("loadingIcon"),"pi-spin",t.loadingIcon],"aria-hidden":"true"},t.ptm("loadingIcon")),null,16)):(D(),ae(o,se({key:1,class:t.cx("loadingIcon"),spin:"","aria-hidden":"true"},t.ptm("loadingIcon")),null,16,["class"]))]}):_e(t.$slots,"dropdownicon",{key:1,class:Le(t.cx("dropdownIcon"))},function(){return[(D(),ae(Mn(t.dropdownIcon?"span":"ChevronDownIcon"),se({class:[t.cx("dropdownIcon"),t.dropdownIcon],"aria-hidden":"true"},t.ptm("dropdownIcon")),null,16,["class"]))]})],16),q(c,{appendTo:t.appendTo},{default:X(function(){return[q(ns,se({name:"p-connected-overlay",onEnter:s.onOverlayEnter,onAfterEnter:s.onOverlayAfterEnter,onLeave:s.onOverlayLeave,onAfterLeave:s.onOverlayAfterLeave},t.ptm("transition")),{default:X(function(){return[i.overlayVisible?(D(),H("div",se({key:0,ref:s.overlayRef,class:[t.cx("panel"),t.panelClass],style:t.panelStyle,onClick:e[14]||(e[14]=function(){return s.onOverlayClick&&s.onOverlayClick.apply(s,arguments)}),onKeydown:e[15]||(e[15]=function(){return s.onOverlayKeyDown&&s.onOverlayKeyDown.apply(s,arguments)})},Is(Is({},t.panelProps),t.ptm("panel"))),[v("span",se({ref:"firstHiddenFocusableElementOnOverlay",role:"presentation","aria-hidden":"true",class:"p-hidden-accessible p-hidden-focusable",tabindex:0,onFocus:e[7]||(e[7]=function(){return s.onFirstHiddenFocus&&s.onFirstHiddenFocus.apply(s,arguments)})},t.ptm("hiddenFirstFocusableEl"),{"data-p-hidden-accessible":!0,"data-p-hidden-focusable":!0}),null,16),_e(t.$slots,"header",{value:t.modelValue,options:s.visibleOptions}),t.filter?(D(),H("div",se({key:0,class:t.cx("header")},t.ptm("header")),[v("div",se({class:t.cx("filterContainer")},t.ptm("filterContainer")),[v("input",se({ref:"filterInput",type:"text",value:i.filterValue,onVnodeMounted:e[8]||(e[8]=function(){return s.onFilterUpdated&&s.onFilterUpdated.apply(s,arguments)}),onVnodeUpdated:e[9]||(e[9]=function(){return s.onFilterUpdated&&s.onFilterUpdated.apply(s,arguments)}),class:t.cx("filterInput"),placeholder:t.filterPlaceholder,role:"searchbox",autocomplete:"off","aria-owns":i.id+"_list","aria-activedescendant":s.focusedOptionId,onKeydown:e[10]||(e[10]=function(){return s.onFilterKeyDown&&s.onFilterKeyDown.apply(s,arguments)}),onBlur:e[11]||(e[11]=function(){return s.onFilterBlur&&s.onFilterBlur.apply(s,arguments)}),onInput:e[12]||(e[12]=function(){return s.onFilterChange&&s.onFilterChange.apply(s,arguments)})},Is(Is({},t.filterInputProps),t.ptm("filterInput"))),null,16,mme),_e(t.$slots,"filtericon",{class:Le(t.cx("filterIcon"))},function(){return[(D(),ae(Mn(t.filterIcon?"span":"SearchIcon"),se({class:[t.cx("filterIcon"),t.filterIcon]},t.ptm("filterIcon")),null,16,["class"]))]})],16),v("span",se({role:"status","aria-live":"polite",class:"p-hidden-accessible"},t.ptm("hiddenFilterResult"),{"data-p-hidden-accessible":!0}),Fe(s.filterResultMessageText),17)],16)):J("",!0),v("div",se({class:t.cx("wrapper"),style:{"max-height":s.virtualScrollerDisabled?t.scrollHeight:""}},t.ptm("wrapper")),[q(u,se({ref:s.virtualScrollerRef},t.virtualScrollerOptions,{items:s.visibleOptions,style:{height:t.scrollHeight},tabindex:-1,disabled:s.virtualScrollerDisabled,pt:t.ptm("virtualScroller")}),fr({content:X(function(h){var p=h.styleClass,m=h.contentRef,g=h.items,y=h.getItemOptions,A=h.contentStyle,C=h.itemSize;return[v("ul",se({ref:function(E){return s.listRef(E,m)},id:i.id+"_list",class:[t.cx("list"),p],style:A,role:"listbox","aria-label":s.listAriaLabel},t.ptm("list")),[(D(!0),H(Pe,null,dt(g,function(S,E){return D(),H(Pe,{key:s.getOptionRenderKey(S,s.getOptionIndex(E,y))},[s.isOptionGroup(S)?(D(),H("li",se({key:0,id:i.id+"_"+s.getOptionIndex(E,y),style:{height:C?C+"px":void 0},class:t.cx("itemGroup"),role:"option"},t.ptm("itemGroup")),[_e(t.$slots,"optiongroup",{option:S.optionGroup,index:s.getOptionIndex(E,y)},function(){return[v("span",se({class:t.cx("itemGroupLabel")},t.ptm("itemGroupLabel")),Fe(s.getOptionGroupLabel(S.optionGroup)),17)]})],16,vme)):Fi((D(),H("li",se({key:1,id:i.id+"_"+s.getOptionIndex(E,y),class:t.cx("item",{option:S,focusedOption:s.getOptionIndex(E,y)}),style:{height:C?C+"px":void 0},role:"option","aria-label":s.getOptionLabel(S),"aria-selected":s.isSelected(S),"aria-disabled":s.isOptionDisabled(S),"aria-setsize":s.ariaSetSize,"aria-posinset":s.getAriaPosInset(s.getOptionIndex(E,y)),onClick:function(x){return s.onOptionSelect(x,S)},onMousemove:function(x){return s.onOptionMouseMove(x,s.getOptionIndex(E,y))},"data-p-highlight":s.isSelected(S),"data-p-focused":i.focusedOptionIndex===s.getOptionIndex(E,y),"data-p-disabled":s.isOptionDisabled(S)},s.getPTItemOptions(S,y,E,"item")),[t.checkmark?(D(),H(Pe,{key:0},[s.isSelected(S)?(D(),ae(a,se({key:0,class:t.cx("checkIcon")},t.ptm("checkIcon")),null,16,["class"])):(D(),ae(l,se({key:1,class:t.cx("blankIcon")},t.ptm("blankIcon")),null,16,["class"]))],64)):J("",!0),_e(t.$slots,"option",{option:S,index:s.getOptionIndex(E,y)},function(){return[v("span",se({class:t.cx("itemLabel")},t.ptm("itemLabel")),Fe(s.getOptionLabel(S)),17)]})],16,yme)),[[d]])],64)}),128)),i.filterValue&&(!g||g&&g.length===0)?(D(),H("li",se({key:0,class:t.cx("emptyMessage"),role:"option"},t.ptm("emptyMessage"),{"data-p-hidden-accessible":!0}),[_e(t.$slots,"emptyfilter",{},function(){return[K(Fe(s.emptyFilterMessageText),1)]})],16)):!t.options||t.options&&t.options.length===0?(D(),H("li",se({key:1,class:t.cx("emptyMessage"),role:"option"},t.ptm("emptyMessage"),{"data-p-hidden-accessible":!0}),[_e(t.$slots,"empty",{},function(){return[K(Fe(s.emptyMessageText),1)]})],16)):J("",!0)],16,gme)]}),_:2},[t.$slots.loader?{name:"loader",fn:X(function(h){var p=h.options;return[_e(t.$slots,"loader",{options:p})]}),key:"0"}:void 0]),1040,["items","style","disabled","pt"])],16),_e(t.$slots,"footer",{value:t.modelValue,options:s.visibleOptions}),!t.options||t.options&&t.options.length===0?(D(),H("span",se({key:1,role:"status","aria-live":"polite",class:"p-hidden-accessible"},t.ptm("hiddenEmptyMessage"),{"data-p-hidden-accessible":!0}),Fe(s.emptyMessageText),17)):J("",!0),v("span",se({role:"status","aria-live":"polite",class:"p-hidden-accessible"},t.ptm("hiddenSelectedMessage"),{"data-p-hidden-accessible":!0}),Fe(s.selectedMessageText),17),v("span",se({ref:"lastHiddenFocusableElementOnOverlay",role:"presentation","aria-hidden":"true",class:"p-hidden-accessible p-hidden-focusable",tabindex:0,onFocus:e[13]||(e[13]=function(){return s.onLastHiddenFocus&&s.onLastHiddenFocus.apply(s,arguments)})},t.ptm("hiddenLastFocusableEl"),{"data-p-hidden-accessible":!0,"data-p-hidden-focusable":!0}),null,16)],16)):J("",!0)]}),_:3},16,["onEnter","onAfterEnter","onLeave","onAfterLeave"])]}),_:3},8,["appendTo"])],16,hme)}iV.render=bme;var _me={root:function(e){var n=e.instance,r=e.props;return["p-inputtext p-component",{"p-filled":n.filled,"p-inputtext-sm":r.size==="small","p-inputtext-lg":r.size==="large","p-invalid":r.invalid,"p-variant-filled":r.variant?r.variant==="filled":n.$primevue.config.inputStyle==="filled"}]}},wme=or.extend({name:"inputtext",classes:_me}),Tme={name:"BaseInputText",extends:Ur,props:{modelValue:null,size:{type:String,default:null},invalid:{type:Boolean,default:!1},variant:{type:String,default:null}},style:wme,provide:function(){return{$parentInstance:this}}},sV={name:"InputText",extends:Tme,inheritAttrs:!1,emits:["update:modelValue"],methods:{getPTOptions:function(e){var n=e==="root"?this.ptmi:this.ptm;return n(e,{context:{filled:this.filled,disabled:this.$attrs.disabled||this.$attrs.disabled===""}})},onInput:function(e){this.$emit("update:modelValue",e.target.value)}},computed:{filled:function(){return this.modelValue!=null&&this.modelValue.toString().length>0}}},Eme=["value","aria-invalid"];function Sme(t,e,n,r,i,s){return D(),H("input",se({class:t.cx("root"),value:t.modelValue,"aria-invalid":t.invalid||void 0,onInput:e[0]||(e[0]=function(){return s.onInput&&s.onInput.apply(s,arguments)})},s.getPTOptions("root")),null,16,Eme)}sV.render=Sme;var Ime={root:function(e){var n=e.instance,r=e.props;return["p-checkbox p-component",{"p-highlight":n.checked,"p-disabled":r.disabled,"p-invalid":r.invalid,"p-variant-filled":r.variant?r.variant==="filled":n.$primevue.config.inputStyle==="filled"}]},box:"p-checkbox-box",input:"p-checkbox-input",icon:"p-checkbox-icon"},Cme=or.extend({name:"checkbox",classes:Ime}),Ame={name:"BaseCheckbox",extends:Ur,props:{value:null,modelValue:null,binary:Boolean,name:{type:String,default:null},trueValue:{type:null,default:!0},falseValue:{type:null,default:!1},variant:{type:String,default:null},invalid:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},required:{type:Boolean,default:!1},tabindex:{type:Number,default:null},inputId:{type:String,default:null},inputClass:{type:[String,Object],default:null},inputStyle:{type:Object,default:null},ariaLabelledby:{type:String,default:null},ariaLabel:{type:String,default:null}},style:Cme,provide:function(){return{$parentInstance:this}}};function Pme(t){return xme(t)||Rme(t)||kme(t)||Ome()}function Ome(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function kme(t,e){if(t){if(typeof t=="string")return w_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return w_(t,e)}}function Rme(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function xme(t){if(Array.isArray(t))return w_(t)}function w_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var oV={name:"Checkbox",extends:Ame,inheritAttrs:!1,emits:["update:modelValue","change","focus","blur"],methods:{getPTOptions:function(e){var n=e==="root"?this.ptmi:this.ptm;return n(e,{context:{checked:this.checked,disabled:this.disabled}})},onChange:function(e){var n=this;if(!this.disabled&&!this.readonly){var r;this.binary?r=this.checked?this.falseValue:this.trueValue:this.checked?r=this.modelValue.filter(function(i){return!Me.equals(i,n.value)}):r=this.modelValue?[].concat(Pme(this.modelValue),[this.value]):[this.value],this.$emit("update:modelValue",r),this.$emit("change",e)}},onFocus:function(e){this.$emit("focus",e)},onBlur:function(e){this.$emit("blur",e)}},computed:{checked:function(){return this.binary?this.modelValue===this.trueValue:Me.contains(this.value,this.modelValue)}},components:{CheckIcon:Bv}},Dme=["data-p-highlight","data-p-disabled"],Nme=["id","value","name","checked","tabindex","disabled","readonly","required","aria-labelledby","aria-label","aria-invalid"];function Mme(t,e,n,r,i,s){var o=On("CheckIcon");return D(),H("div",se({class:t.cx("root")},s.getPTOptions("root"),{"data-p-highlight":s.checked,"data-p-disabled":t.disabled}),[v("input",se({id:t.inputId,type:"checkbox",class:[t.cx("input"),t.inputClass],style:t.inputStyle,value:t.value,name:t.name,checked:s.checked,tabindex:t.tabindex,disabled:t.disabled,readonly:t.readonly,required:t.required,"aria-labelledby":t.ariaLabelledby,"aria-label":t.ariaLabel,"aria-invalid":t.invalid||void 0,onFocus:e[0]||(e[0]=function(){return s.onFocus&&s.onFocus.apply(s,arguments)}),onBlur:e[1]||(e[1]=function(){return s.onBlur&&s.onBlur.apply(s,arguments)}),onChange:e[2]||(e[2]=function(){return s.onChange&&s.onChange.apply(s,arguments)})},s.getPTOptions("input")),null,16,Nme),v("div",se({class:t.cx("box")},s.getPTOptions("box")),[_e(t.$slots,"icon",{checked:s.checked,class:Le(t.cx("icon"))},function(){return[s.checked?(D(),ae(o,se({key:0,class:t.cx("icon")},s.getPTOptions("icon")),null,16,["class"])):J("",!0)]})],16)],16,Dme)}oV.render=Mme;var Lme={root:function(e){var n=e.props;return{position:n.appendTo==="self"?"relative":void 0}}},Vme={root:function(e){var n=e.instance,r=e.props;return["p-multiselect p-component p-inputwrapper",{"p-multiselect-chip":r.display==="chip","p-disabled":r.disabled,"p-invalid":r.invalid,"p-variant-filled":r.variant?r.variant==="filled":n.$primevue.config.inputStyle==="filled","p-focus":n.focused,"p-inputwrapper-filled":r.modelValue&&r.modelValue.length,"p-inputwrapper-focus":n.focused||n.overlayVisible,"p-overlay-open":n.overlayVisible}]},labelContainer:"p-multiselect-label-container",label:function(e){var n=e.instance,r=e.props;return["p-multiselect-label",{"p-placeholder":n.label===r.placeholder,"p-multiselect-label-empty":!r.placeholder&&(!r.modelValue||r.modelValue.length===0)}]},token:"p-multiselect-token",tokenLabel:"p-multiselect-token-label",removeTokenIcon:"p-multiselect-token-icon",trigger:"p-multiselect-trigger",loadingIcon:"p-multiselect-trigger-icon",dropdownIcon:"p-multiselect-trigger-icon",panel:function(e){e.props;var n=e.instance;return["p-multiselect-panel p-component",{"p-ripple-disabled":n.$primevue.config.ripple===!1}]},header:"p-multiselect-header",filterContainer:"p-multiselect-filter-container",filterInput:function(e){var n=e.props,r=e.instance;return["p-multiselect-filter p-inputtext p-component",{"p-variant-filled":n.variant?n.variant==="filled":r.$primevue.config.inputStyle==="filled"}]},filterIcon:"p-multiselect-filter-icon",closeButton:"p-multiselect-close p-link",closeIcon:"p-multiselect-close-icon",wrapper:"p-multiselect-items-wrapper",list:"p-multiselect-items p-component",itemGroup:"p-multiselect-item-group",item:function(e){var n=e.instance,r=e.option,i=e.index,s=e.getItemOptions,o=e.props;return["p-multiselect-item",{"p-highlight":n.isSelected(r)&&o.highlightOnSelect,"p-focus":n.focusedOptionIndex===n.getOptionIndex(i,s),"p-disabled":n.isOptionDisabled(r)}]},emptyMessage:"p-multiselect-empty-message"},$me=or.extend({name:"multiselect",classes:Vme,inlineStyles:Lme}),Fme={name:"BaseMultiSelect",extends:Ur,props:{modelValue:null,options:Array,optionLabel:null,optionValue:null,optionDisabled:null,optionGroupLabel:null,optionGroupChildren:null,scrollHeight:{type:String,default:"200px"},placeholder:String,variant:{type:String,default:null},invalid:{type:Boolean,default:!1},disabled:Boolean,inputId:{type:String,default:null},inputProps:{type:null,default:null},panelClass:{type:String,default:null},panelStyle:{type:null,default:null},panelProps:{type:null,default:null},filterInputProps:{type:null,default:null},closeButtonProps:{type:null,default:null},dataKey:null,filter:Boolean,filterPlaceholder:String,filterLocale:String,filterMatchMode:{type:String,default:"contains"},filterFields:{type:Array,default:null},appendTo:{type:[String,Object],default:"body"},display:{type:String,default:"comma"},selectedItemsLabel:{type:String,default:"{0} items selected"},maxSelectedLabels:{type:Number,default:null},selectionLimit:{type:Number,default:null},showToggleAll:{type:Boolean,default:!0},loading:{type:Boolean,default:!1},checkboxIcon:{type:String,default:void 0},closeIcon:{type:String,default:void 0},dropdownIcon:{type:String,default:void 0},filterIcon:{type:String,default:void 0},loadingIcon:{type:String,default:void 0},removeTokenIcon:{type:String,default:void 0},selectAll:{type:Boolean,default:null},resetFilterOnHide:{type:Boolean,default:!1},virtualScrollerOptions:{type:Object,default:null},autoOptionFocus:{type:Boolean,default:!1},autoFilterFocus:{type:Boolean,default:!1},focusOnHover:{type:Boolean,default:!0},highlightOnSelect:{type:Boolean,default:!1},filterMessage:{type:String,default:null},selectionMessage:{type:String,default:null},emptySelectionMessage:{type:String,default:null},emptyFilterMessage:{type:String,default:null},emptyMessage:{type:String,default:null},tabindex:{type:Number,default:0},ariaLabel:{type:String,default:null},ariaLabelledby:{type:String,default:null}},style:$me,provide:function(){return{$parentInstance:this}}};function ef(t){"@babel/helpers - typeof";return ef=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ef(t)}function eO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function tO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?eO(Object(n),!0).forEach(function(r){aV(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):eO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function aV(t,e,n){return e=Ume(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ume(t){var e=qme(t,"string");return ef(e)=="symbol"?e:String(e)}function qme(t,e){if(ef(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(ef(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function nO(t){return Wme(t)||Hme(t)||jme(t)||Bme()}function Bme(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function jme(t,e){if(t){if(typeof t=="string")return T_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return T_(t,e)}}function Hme(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Wme(t){if(Array.isArray(t))return T_(t)}function T_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var lV={name:"MultiSelect",extends:Fme,inheritAttrs:!1,emits:["update:modelValue","change","focus","blur","before-show","before-hide","show","hide","filter","selectall-change"],outsideClickListener:null,scrollHandler:null,resizeListener:null,overlay:null,list:null,virtualScroller:null,startRangeIndex:-1,searchTimeout:null,searchValue:"",selectOnFocus:!1,data:function(){return{id:this.$attrs.id,clicked:!1,focused:!1,focusedOptionIndex:-1,filterValue:null,overlayVisible:!1}},watch:{"$attrs.id":function(e){this.id=e||vc()},options:function(){this.autoUpdateModel()}},mounted:function(){this.id=this.id||vc(),this.autoUpdateModel()},beforeUnmount:function(){this.unbindOutsideClickListener(),this.unbindResizeListener(),this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null),this.overlay&&(Gu.clear(this.overlay),this.overlay=null)},methods:{getOptionIndex:function(e,n){return this.virtualScrollerDisabled?e:n&&n(e).index},getOptionLabel:function(e){return this.optionLabel?Me.resolveFieldData(e,this.optionLabel):e},getOptionValue:function(e){return this.optionValue?Me.resolveFieldData(e,this.optionValue):e},getOptionRenderKey:function(e,n){return this.dataKey?Me.resolveFieldData(e,this.dataKey):this.getOptionLabel(e)+"_".concat(n)},getHeaderCheckboxPTOptions:function(e){return this.ptm(e,{context:{selected:this.allSelected}})},getCheckboxPTOptions:function(e,n,r,i){return this.ptm(i,{context:{selected:this.isSelected(e),focused:this.focusedOptionIndex===this.getOptionIndex(r,n),disabled:this.isOptionDisabled(e)}})},isOptionDisabled:function(e){return this.maxSelectionLimitReached&&!this.isSelected(e)?!0:this.optionDisabled?Me.resolveFieldData(e,this.optionDisabled):!1},isOptionGroup:function(e){return this.optionGroupLabel&&e.optionGroup&&e.group},getOptionGroupLabel:function(e){return Me.resolveFieldData(e,this.optionGroupLabel)},getOptionGroupChildren:function(e){return Me.resolveFieldData(e,this.optionGroupChildren)},getAriaPosInset:function(e){var n=this;return(this.optionGroupLabel?e-this.visibleOptions.slice(0,e).filter(function(r){return n.isOptionGroup(r)}).length:e)+1},show:function(e){this.$emit("before-show"),this.overlayVisible=!0,this.focusedOptionIndex=this.focusedOptionIndex!==-1?this.focusedOptionIndex:this.autoOptionFocus?this.findFirstFocusedOptionIndex():this.findSelectedOptionIndex(),e&&ze.focus(this.$refs.focusInput)},hide:function(e){var n=this,r=function(){n.$emit("before-hide"),n.overlayVisible=!1,n.clicked=!1,n.focusedOptionIndex=-1,n.searchValue="",n.resetFilterOnHide&&(n.filterValue=null),e&&ze.focus(n.$refs.focusInput)};setTimeout(function(){r()},0)},onFocus:function(e){this.disabled||(this.focused=!0,this.overlayVisible&&(this.focusedOptionIndex=this.focusedOptionIndex!==-1?this.focusedOptionIndex:this.autoOptionFocus?this.findFirstFocusedOptionIndex():this.findSelectedOptionIndex(),this.scrollInView(this.focusedOptionIndex)),this.$emit("focus",e))},onBlur:function(e){this.clicked=!1,this.focused=!1,this.focusedOptionIndex=-1,this.searchValue="",this.$emit("blur",e)},onKeyDown:function(e){var n=this;if(this.disabled){e.preventDefault();return}var r=e.metaKey||e.ctrlKey;switch(e.code){case"ArrowDown":this.onArrowDownKey(e);break;case"ArrowUp":this.onArrowUpKey(e);break;case"Home":this.onHomeKey(e);break;case"End":this.onEndKey(e);break;case"PageDown":this.onPageDownKey(e);break;case"PageUp":this.onPageUpKey(e);break;case"Enter":case"NumpadEnter":case"Space":this.onEnterKey(e);break;case"Escape":this.onEscapeKey(e);break;case"Tab":this.onTabKey(e);break;case"ShiftLeft":case"ShiftRight":this.onShiftKey(e);break;default:if(e.code==="KeyA"&&r){var i=this.visibleOptions.filter(function(s){return n.isValidOption(s)}).map(function(s){return n.getOptionValue(s)});this.updateModel(e,i),e.preventDefault();break}!r&&Me.isPrintableCharacter(e.key)&&(!this.overlayVisible&&this.show(),this.searchOptions(e),e.preventDefault());break}this.clicked=!1},onContainerClick:function(e){this.disabled||this.loading||((!this.overlay||!this.overlay.contains(e.target))&&(this.overlayVisible?this.hide(!0):this.show(!0)),this.clicked=!0)},onFirstHiddenFocus:function(e){var n=e.relatedTarget===this.$refs.focusInput?ze.getFirstFocusableElement(this.overlay,':not([data-p-hidden-focusable="true"])'):this.$refs.focusInput;ze.focus(n)},onLastHiddenFocus:function(e){var n=e.relatedTarget===this.$refs.focusInput?ze.getLastFocusableElement(this.overlay,':not([data-p-hidden-focusable="true"])'):this.$refs.focusInput;ze.focus(n)},onCloseClick:function(){this.hide(!0)},onOptionSelect:function(e,n){var r=this,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:-1,s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!(this.disabled||this.isOptionDisabled(n))){var o=this.isSelected(n),a=null;o?a=this.modelValue.filter(function(l){return!Me.equals(l,r.getOptionValue(n),r.equalityKey)}):a=[].concat(nO(this.modelValue||[]),[this.getOptionValue(n)]),this.updateModel(e,a),i!==-1&&(this.focusedOptionIndex=i),s&&ze.focus(this.$refs.focusInput)}},onOptionMouseMove:function(e,n){this.focusOnHover&&this.changeFocusedOptionIndex(e,n)},onOptionSelectRange:function(e){var n=this,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:-1,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:-1;if(r===-1&&(r=this.findNearestSelectedOptionIndex(i,!0)),i===-1&&(i=this.findNearestSelectedOptionIndex(r)),r!==-1&&i!==-1){var s=Math.min(r,i),o=Math.max(r,i),a=this.visibleOptions.slice(s,o+1).filter(function(l){return n.isValidOption(l)}).map(function(l){return n.getOptionValue(l)});this.updateModel(e,a)}},onFilterChange:function(e){var n=e.target.value;this.filterValue=n,this.focusedOptionIndex=-1,this.$emit("filter",{originalEvent:e,value:n}),!this.virtualScrollerDisabled&&this.virtualScroller.scrollToIndex(0)},onFilterKeyDown:function(e){switch(e.code){case"ArrowDown":this.onArrowDownKey(e);break;case"ArrowUp":this.onArrowUpKey(e,!0);break;case"ArrowLeft":case"ArrowRight":this.onArrowLeftKey(e,!0);break;case"Home":this.onHomeKey(e,!0);break;case"End":this.onEndKey(e,!0);break;case"Enter":case"NumpadEnter":this.onEnterKey(e);break;case"Escape":this.onEscapeKey(e);break;case"Tab":this.onTabKey(e,!0);break}},onFilterBlur:function(){this.focusedOptionIndex=-1},onFilterUpdated:function(){this.overlayVisible&&this.alignOverlay()},onOverlayClick:function(e){tV.emit("overlay-click",{originalEvent:e,target:this.$el})},onOverlayKeyDown:function(e){switch(e.code){case"Escape":this.onEscapeKey(e);break}},onArrowDownKey:function(e){if(!this.overlayVisible)this.show();else{var n=this.focusedOptionIndex!==-1?this.findNextOptionIndex(this.focusedOptionIndex):this.clicked?this.findFirstOptionIndex():this.findFirstFocusedOptionIndex();e.shiftKey&&this.onOptionSelectRange(e,this.startRangeIndex,n),this.changeFocusedOptionIndex(e,n)}e.preventDefault()},onArrowUpKey:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(e.altKey&&!n)this.focusedOptionIndex!==-1&&this.onOptionSelect(e,this.visibleOptions[this.focusedOptionIndex]),this.overlayVisible&&this.hide(),e.preventDefault();else{var r=this.focusedOptionIndex!==-1?this.findPrevOptionIndex(this.focusedOptionIndex):this.clicked?this.findLastOptionIndex():this.findLastFocusedOptionIndex();e.shiftKey&&this.onOptionSelectRange(e,r,this.startRangeIndex),this.changeFocusedOptionIndex(e,r),!this.overlayVisible&&this.show(),e.preventDefault()}},onArrowLeftKey:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;n&&(this.focusedOptionIndex=-1)},onHomeKey:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(n){var r=e.currentTarget;e.shiftKey?r.setSelectionRange(0,e.target.selectionStart):(r.setSelectionRange(0,0),this.focusedOptionIndex=-1)}else{var i=e.metaKey||e.ctrlKey,s=this.findFirstOptionIndex();e.shiftKey&&i&&this.onOptionSelectRange(e,s,this.startRangeIndex),this.changeFocusedOptionIndex(e,s),!this.overlayVisible&&this.show()}e.preventDefault()},onEndKey:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(n){var r=e.currentTarget;if(e.shiftKey)r.setSelectionRange(e.target.selectionStart,r.value.length);else{var i=r.value.length;r.setSelectionRange(i,i),this.focusedOptionIndex=-1}}else{var s=e.metaKey||e.ctrlKey,o=this.findLastOptionIndex();e.shiftKey&&s&&this.onOptionSelectRange(e,this.startRangeIndex,o),this.changeFocusedOptionIndex(e,o),!this.overlayVisible&&this.show()}e.preventDefault()},onPageUpKey:function(e){this.scrollInView(0),e.preventDefault()},onPageDownKey:function(e){this.scrollInView(this.visibleOptions.length-1),e.preventDefault()},onEnterKey:function(e){this.overlayVisible?this.focusedOptionIndex!==-1&&(e.shiftKey?this.onOptionSelectRange(e,this.focusedOptionIndex):this.onOptionSelect(e,this.visibleOptions[this.focusedOptionIndex])):(this.focusedOptionIndex=-1,this.onArrowDownKey(e)),e.preventDefault()},onEscapeKey:function(e){this.overlayVisible&&this.hide(!0),e.preventDefault()},onTabKey:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;n||(this.overlayVisible&&this.hasFocusableElements()?(ze.focus(e.shiftKey?this.$refs.lastHiddenFocusableElementOnOverlay:this.$refs.firstHiddenFocusableElementOnOverlay),e.preventDefault()):(this.focusedOptionIndex!==-1&&this.onOptionSelect(e,this.visibleOptions[this.focusedOptionIndex]),this.overlayVisible&&this.hide(this.filter)))},onShiftKey:function(){this.startRangeIndex=this.focusedOptionIndex},onOverlayEnter:function(e){Gu.set("overlay",e,this.$primevue.config.zIndex.overlay),ze.addStyles(e,{position:"absolute",top:"0",left:"0"}),this.alignOverlay(),this.scrollInView(),this.autoFilterFocus&&ze.focus(this.$refs.filterInput)},onOverlayAfterEnter:function(){this.bindOutsideClickListener(),this.bindScrollListener(),this.bindResizeListener(),this.$emit("show")},onOverlayLeave:function(){this.unbindOutsideClickListener(),this.unbindScrollListener(),this.unbindResizeListener(),this.$emit("hide"),this.overlay=null},onOverlayAfterLeave:function(e){Gu.clear(e)},alignOverlay:function(){this.appendTo==="self"?ze.relativePosition(this.overlay,this.$el):(this.overlay.style.minWidth=ze.getOuterWidth(this.$el)+"px",ze.absolutePosition(this.overlay,this.$el))},bindOutsideClickListener:function(){var e=this;this.outsideClickListener||(this.outsideClickListener=function(n){e.overlayVisible&&e.isOutsideClicked(n)&&e.hide()},document.addEventListener("click",this.outsideClickListener))},unbindOutsideClickListener:function(){this.outsideClickListener&&(document.removeEventListener("click",this.outsideClickListener),this.outsideClickListener=null)},bindScrollListener:function(){var e=this;this.scrollHandler||(this.scrollHandler=new vM(this.$refs.container,function(){e.overlayVisible&&e.hide()})),this.scrollHandler.bindScrollListener()},unbindScrollListener:function(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()},bindResizeListener:function(){var e=this;this.resizeListener||(this.resizeListener=function(){e.overlayVisible&&!ze.isTouchDevice()&&e.hide()},window.addEventListener("resize",this.resizeListener))},unbindResizeListener:function(){this.resizeListener&&(window.removeEventListener("resize",this.resizeListener),this.resizeListener=null)},isOutsideClicked:function(e){return!(this.$el.isSameNode(e.target)||this.$el.contains(e.target)||this.overlay&&this.overlay.contains(e.target))},getLabelByValue:function(e){var n=this,r=this.optionGroupLabel?this.flatOptions(this.options):this.options||[],i=r.find(function(s){return!n.isOptionGroup(s)&&Me.equals(n.getOptionValue(s),e,n.equalityKey)});return i?this.getOptionLabel(i):null},getSelectedItemsLabel:function(){var e=/{(.*?)}/,n=this.selectedItemsLabel||this.$primevue.config.locale.selectionMessage;return e.test(n)?n.replace(n.match(e)[0],this.modelValue.length+""):n},onToggleAll:function(e){var n=this;if(this.selectAll!==null)this.$emit("selectall-change",{originalEvent:e,checked:!this.allSelected});else{var r=this.allSelected?[]:this.visibleOptions.filter(function(i){return n.isValidOption(i)}).map(function(i){return n.getOptionValue(i)});this.updateModel(e,r)}},removeOption:function(e,n){var r=this,i=this.modelValue.filter(function(s){return!Me.equals(s,n,r.equalityKey)});this.updateModel(e,i)},clearFilter:function(){this.filterValue=null},hasFocusableElements:function(){return ze.getFocusableElements(this.overlay,':not([data-p-hidden-focusable="true"])').length>0},isOptionMatched:function(e){var n;return this.isValidOption(e)&&((n=this.getOptionLabel(e))===null||n===void 0?void 0:n.toLocaleLowerCase(this.filterLocale).startsWith(this.searchValue.toLocaleLowerCase(this.filterLocale)))},isValidOption:function(e){return Me.isNotEmpty(e)&&!(this.isOptionDisabled(e)||this.isOptionGroup(e))},isValidSelectedOption:function(e){return this.isValidOption(e)&&this.isSelected(e)},isEquals:function(e,n){return Me.equals(e,n,this.equalityKey)},isSelected:function(e){var n=this,r=this.getOptionValue(e);return(this.modelValue||[]).some(function(i){return n.isEquals(i,r)})},findFirstOptionIndex:function(){var e=this;return this.visibleOptions.findIndex(function(n){return e.isValidOption(n)})},findLastOptionIndex:function(){var e=this;return Me.findLastIndex(this.visibleOptions,function(n){return e.isValidOption(n)})},findNextOptionIndex:function(e){var n=this,r=e<this.visibleOptions.length-1?this.visibleOptions.slice(e+1).findIndex(function(i){return n.isValidOption(i)}):-1;return r>-1?r+e+1:e},findPrevOptionIndex:function(e){var n=this,r=e>0?Me.findLastIndex(this.visibleOptions.slice(0,e),function(i){return n.isValidOption(i)}):-1;return r>-1?r:e},findSelectedOptionIndex:function(){var e=this;if(this.hasSelectedOption){for(var n=function(){var o=e.modelValue[i],a=e.visibleOptions.findIndex(function(l){return e.isValidSelectedOption(l)&&e.isEquals(o,e.getOptionValue(l))});if(a>-1)return{v:a}},r,i=this.modelValue.length-1;i>=0;i--)if(r=n(),r)return r.v}return-1},findFirstSelectedOptionIndex:function(){var e=this;return this.hasSelectedOption?this.visibleOptions.findIndex(function(n){return e.isValidSelectedOption(n)}):-1},findLastSelectedOptionIndex:function(){var e=this;return this.hasSelectedOption?Me.findLastIndex(this.visibleOptions,function(n){return e.isValidSelectedOption(n)}):-1},findNextSelectedOptionIndex:function(e){var n=this,r=this.hasSelectedOption&&e<this.visibleOptions.length-1?this.visibleOptions.slice(e+1).findIndex(function(i){return n.isValidSelectedOption(i)}):-1;return r>-1?r+e+1:-1},findPrevSelectedOptionIndex:function(e){var n=this,r=this.hasSelectedOption&&e>0?Me.findLastIndex(this.visibleOptions.slice(0,e),function(i){return n.isValidSelectedOption(i)}):-1;return r>-1?r:-1},findNearestSelectedOptionIndex:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,r=-1;return this.hasSelectedOption&&(n?(r=this.findPrevSelectedOptionIndex(e),r=r===-1?this.findNextSelectedOptionIndex(e):r):(r=this.findNextSelectedOptionIndex(e),r=r===-1?this.findPrevSelectedOptionIndex(e):r)),r>-1?r:e},findFirstFocusedOptionIndex:function(){var e=this.findSelectedOptionIndex();return e<0?this.findFirstOptionIndex():e},findLastFocusedOptionIndex:function(){var e=this.findSelectedOptionIndex();return e<0?this.findLastOptionIndex():e},searchOptions:function(e){var n=this;this.searchValue=(this.searchValue||"")+e.key;var r=-1;Me.isNotEmpty(this.searchValue)&&(this.focusedOptionIndex!==-1?(r=this.visibleOptions.slice(this.focusedOptionIndex).findIndex(function(i){return n.isOptionMatched(i)}),r=r===-1?this.visibleOptions.slice(0,this.focusedOptionIndex).findIndex(function(i){return n.isOptionMatched(i)}):r+this.focusedOptionIndex):r=this.visibleOptions.findIndex(function(i){return n.isOptionMatched(i)}),r===-1&&this.focusedOptionIndex===-1&&(r=this.findFirstFocusedOptionIndex()),r!==-1&&this.changeFocusedOptionIndex(e,r)),this.searchTimeout&&clearTimeout(this.searchTimeout),this.searchTimeout=setTimeout(function(){n.searchValue="",n.searchTimeout=null},500)},changeFocusedOptionIndex:function(e,n){this.focusedOptionIndex!==n&&(this.focusedOptionIndex=n,this.scrollInView(),this.selectOnFocus&&this.onOptionSelect(e,this.visibleOptions[n]))},scrollInView:function(){var e=this,n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:-1;this.$nextTick(function(){var r=n!==-1?"".concat(e.id,"_").concat(n):e.focusedOptionId,i=ze.findSingle(e.list,'li[id="'.concat(r,'"]'));i?i.scrollIntoView&&i.scrollIntoView({block:"nearest",inline:"nearest"}):e.virtualScrollerDisabled||e.virtualScroller&&e.virtualScroller.scrollToIndex(n!==-1?n:e.focusedOptionIndex)})},autoUpdateModel:function(){if(this.selectOnFocus&&this.autoOptionFocus&&!this.hasSelectedOption){this.focusedOptionIndex=this.findFirstFocusedOptionIndex();var e=this.getOptionValue(this.visibleOptions[this.focusedOptionIndex]);this.updateModel(null,[e])}},updateModel:function(e,n){this.$emit("update:modelValue",n),this.$emit("change",{originalEvent:e,value:n})},flatOptions:function(e){var n=this;return(e||[]).reduce(function(r,i,s){r.push({optionGroup:i,group:!0,index:s});var o=n.getOptionGroupChildren(i);return o&&o.forEach(function(a){return r.push(a)}),r},[])},overlayRef:function(e){this.overlay=e},listRef:function(e,n){this.list=e,n&&n(e)},virtualScrollerRef:function(e){this.virtualScroller=e}},computed:{visibleOptions:function(){var e=this,n=this.optionGroupLabel?this.flatOptions(this.options):this.options||[];if(this.filterValue){var r=ZL.filter(n,this.searchFields,this.filterValue,this.filterMatchMode,this.filterLocale);if(this.optionGroupLabel){var i=this.options||[],s=[];return i.forEach(function(o){var a=e.getOptionGroupChildren(o),l=a.filter(function(u){return r.includes(u)});l.length>0&&s.push(tO(tO({},o),{},aV({},typeof e.optionGroupChildren=="string"?e.optionGroupChildren:"items",nO(l))))}),this.flatOptions(s)}return r}return n},label:function(){var e;if(this.modelValue&&this.modelValue.length){if(Me.isNotEmpty(this.maxSelectedLabels)&&this.modelValue.length>this.maxSelectedLabels)return this.getSelectedItemsLabel();e="";for(var n=0;n<this.modelValue.length;n++)n!==0&&(e+=", "),e+=this.getLabelByValue(this.modelValue[n])}else e=this.placeholder;return e},chipSelectedItems:function(){return Me.isNotEmpty(this.maxSelectedLabels)&&this.modelValue&&this.modelValue.length>this.maxSelectedLabels?this.modelValue.slice(0,this.maxSelectedLabels):this.modelValue},allSelected:function(){var e=this;return this.selectAll!==null?this.selectAll:Me.isNotEmpty(this.visibleOptions)&&this.visibleOptions.every(function(n){return e.isOptionGroup(n)||e.isOptionDisabled(n)||e.isSelected(n)})},hasSelectedOption:function(){return Me.isNotEmpty(this.modelValue)},equalityKey:function(){return this.optionValue?null:this.dataKey},searchFields:function(){return this.filterFields||[this.optionLabel]},maxSelectionLimitReached:function(){return this.selectionLimit&&this.modelValue&&this.modelValue.length===this.selectionLimit},filterResultMessageText:function(){return Me.isNotEmpty(this.visibleOptions)?this.filterMessageText.replaceAll("{0}",this.visibleOptions.length):this.emptyFilterMessageText},filterMessageText:function(){return this.filterMessage||this.$primevue.config.locale.searchMessage||""},emptyFilterMessageText:function(){return this.emptyFilterMessage||this.$primevue.config.locale.emptySearchMessage||this.$primevue.config.locale.emptyFilterMessage||""},emptyMessageText:function(){return this.emptyMessage||this.$primevue.config.locale.emptyMessage||""},selectionMessageText:function(){return this.selectionMessage||this.$primevue.config.locale.selectionMessage||""},emptySelectionMessageText:function(){return this.emptySelectionMessage||this.$primevue.config.locale.emptySelectionMessage||""},selectedMessageText:function(){return this.hasSelectedOption?this.selectionMessageText.replaceAll("{0}",this.modelValue.length):this.emptySelectionMessageText},focusedOptionId:function(){return this.focusedOptionIndex!==-1?"".concat(this.id,"_").concat(this.focusedOptionIndex):null},ariaSetSize:function(){var e=this;return this.visibleOptions.filter(function(n){return!e.isOptionGroup(n)}).length},toggleAllAriaLabel:function(){return this.$primevue.config.locale.aria?this.$primevue.config.locale.aria[this.allSelected?"selectAll":"unselectAll"]:void 0},closeAriaLabel:function(){return this.$primevue.config.locale.aria?this.$primevue.config.locale.aria.close:void 0},listAriaLabel:function(){return this.$primevue.config.locale.aria?this.$primevue.config.locale.aria.listLabel:void 0},virtualScrollerDisabled:function(){return!this.virtualScrollerOptions}},directives:{ripple:Cv},components:{Checkbox:oV,VirtualScroller:DT,Portal:xT,TimesIcon:RT,SearchIcon:kT,TimesCircleIcon:H1,ChevronDownIcon:Ov,SpinnerIcon:Rf,CheckIcon:Bv}};function tf(t){"@babel/helpers - typeof";return tf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tf(t)}function rO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Wo(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?rO(Object(n),!0).forEach(function(r){E_(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):rO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function E_(t,e,n){return e=zme(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function zme(t){var e=Kme(t,"string");return tf(e)=="symbol"?e:String(e)}function Kme(t,e){if(tf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(tf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Gme=["id","disabled","placeholder","tabindex","aria-label","aria-labelledby","aria-expanded","aria-controls","aria-activedescendant","aria-invalid"],Yme=["onClick"],Qme=["value","placeholder","aria-owns","aria-activedescendant"],Xme=["aria-label"],Jme=["id","aria-label"],Zme=["id"],ege=["id","aria-label","aria-selected","aria-disabled","aria-setsize","aria-posinset","onClick","onMousemove","data-p-highlight","data-p-focused","data-p-disabled"];function tge(t,e,n,r,i,s){var o=On("TimesCircleIcon"),a=On("SpinnerIcon"),l=On("Checkbox"),u=On("VirtualScroller"),c=On("Portal"),d=$g("ripple");return D(),H("div",se({ref:"container",class:t.cx("root"),style:t.sx("root"),onClick:e[13]||(e[13]=function(){return s.onContainerClick&&s.onContainerClick.apply(s,arguments)})},t.ptmi("root")),[v("div",se({class:"p-hidden-accessible"},t.ptm("hiddenInputWrapper"),{"data-p-hidden-accessible":!0}),[v("input",se({ref:"focusInput",id:t.inputId,type:"text",readonly:"",disabled:t.disabled,placeholder:t.placeholder,tabindex:t.disabled?-1:t.tabindex,role:"combobox","aria-label":t.ariaLabel,"aria-labelledby":t.ariaLabelledby,"aria-haspopup":"listbox","aria-expanded":i.overlayVisible,"aria-controls":i.id+"_list","aria-activedescendant":i.focused?s.focusedOptionId:void 0,"aria-invalid":t.invalid||void 0,onFocus:e[0]||(e[0]=function(){return s.onFocus&&s.onFocus.apply(s,arguments)}),onBlur:e[1]||(e[1]=function(){return s.onBlur&&s.onBlur.apply(s,arguments)}),onKeydown:e[2]||(e[2]=function(){return s.onKeyDown&&s.onKeyDown.apply(s,arguments)})},Wo(Wo({},t.inputProps),t.ptm("hiddenInput"))),null,16,Gme)],16),v("div",se({class:t.cx("labelContainer")},t.ptm("labelContainer")),[v("div",se({class:t.cx("label")},t.ptm("label")),[_e(t.$slots,"value",{value:t.modelValue,placeholder:t.placeholder},function(){return[t.display==="comma"?(D(),H(Pe,{key:0},[K(Fe(s.label||"empty"),1)],64)):t.display==="chip"?(D(),H(Pe,{key:1},[(D(!0),H(Pe,null,dt(s.chipSelectedItems,function(h){return D(),H("div",se({key:s.getLabelByValue(h),class:t.cx("token")},t.ptm("token")),[_e(t.$slots,"chip",{value:h},function(){return[v("span",se({class:t.cx("tokenLabel")},t.ptm("tokenLabel")),Fe(s.getLabelByValue(h)),17)]}),t.disabled?J("",!0):_e(t.$slots,"removetokenicon",{key:0,class:Le(t.cx("removeTokenIcon")),item:h,onClick:function(m){return s.removeOption(m,h)},removeCallback:function(m){return s.removeOption(m,h)}},function(){return[t.removeTokenIcon?(D(),H("span",se({key:0,class:[t.cx("removeTokenIcon"),t.removeTokenIcon],onClick:kt(function(p){return s.removeOption(p,h)},["stop"])},t.ptm("removeTokenIcon")),null,16,Yme)):(D(),ae(o,se({key:1,class:t.cx("removeTokenIcon"),onClick:kt(function(p){return s.removeOption(p,h)},["stop"])},t.ptm("removeTokenIcon")),null,16,["class","onClick"]))]})],16)}),128)),!t.modelValue||t.modelValue.length===0?(D(),H(Pe,{key:0},[K(Fe(t.placeholder||"empty"),1)],64)):J("",!0)],64)):J("",!0)]})],16)],16),v("div",se({class:t.cx("trigger")},t.ptm("trigger")),[t.loading?_e(t.$slots,"loadingicon",{key:0,class:Le(t.cx("loadingIcon"))},function(){return[t.loadingIcon?(D(),H("span",se({key:0,class:[t.cx("loadingIcon"),"pi-spin",t.loadingIcon],"aria-hidden":"true"},t.ptm("loadingIcon")),null,16)):(D(),ae(a,se({key:1,class:t.cx("loadingIcon"),spin:"","aria-hidden":"true"},t.ptm("loadingIcon")),null,16,["class"]))]}):_e(t.$slots,"dropdownicon",{key:1,class:Le(t.cx("dropdownIcon"))},function(){return[(D(),ae(Mn(t.dropdownIcon?"span":"ChevronDownIcon"),se({class:[t.cx("dropdownIcon"),t.dropdownIcon],"aria-hidden":"true"},t.ptm("dropdownIcon")),null,16,["class"]))]})],16),q(c,{appendTo:t.appendTo},{default:X(function(){return[q(ns,se({name:"p-connected-overlay",onEnter:s.onOverlayEnter,onAfterEnter:s.onOverlayAfterEnter,onLeave:s.onOverlayLeave,onAfterLeave:s.onOverlayAfterLeave},t.ptm("transition")),{default:X(function(){return[i.overlayVisible?(D(),H("div",se({key:0,ref:s.overlayRef,style:t.panelStyle,class:[t.cx("panel"),t.panelClass],onClick:e[11]||(e[11]=function(){return s.onOverlayClick&&s.onOverlayClick.apply(s,arguments)}),onKeydown:e[12]||(e[12]=function(){return s.onOverlayKeyDown&&s.onOverlayKeyDown.apply(s,arguments)})},Wo(Wo({},t.panelProps),t.ptm("panel"))),[v("span",se({ref:"firstHiddenFocusableElementOnOverlay",role:"presentation","aria-hidden":"true",class:"p-hidden-accessible p-hidden-focusable",tabindex:0,onFocus:e[3]||(e[3]=function(){return s.onFirstHiddenFocus&&s.onFirstHiddenFocus.apply(s,arguments)})},t.ptm("hiddenFirstFocusableEl"),{"data-p-hidden-accessible":!0,"data-p-hidden-focusable":!0}),null,16),_e(t.$slots,"header",{value:t.modelValue,options:s.visibleOptions}),t.showToggleAll&&t.selectionLimit==null||t.filter?(D(),H("div",se({key:0,class:t.cx("header")},t.ptm("header")),[t.showToggleAll&&t.selectionLimit==null?(D(),ae(l,{key:0,modelValue:s.allSelected,binary:!0,disabled:t.disabled,variant:t.variant,"aria-label":s.toggleAllAriaLabel,onChange:s.onToggleAll,unstyled:t.unstyled,pt:s.getHeaderCheckboxPTOptions("headerCheckbox")},{icon:X(function(h){return[t.$slots.headercheckboxicon?(D(),ae(Mn(t.$slots.headercheckboxicon),{key:0,checked:h.checked,class:Le(h.class)},null,8,["checked","class"])):h.checked?(D(),ae(Mn(t.checkboxIcon?"span":"CheckIcon"),se({key:1,class:[h.class,E_({},t.checkboxIcon,h.checked)]},s.getHeaderCheckboxPTOptions("headerCheckbox.icon")),null,16,["class"])):J("",!0)]}),_:1},8,["modelValue","disabled","variant","aria-label","onChange","unstyled","pt"])):J("",!0),t.filter?(D(),H("div",se({key:1,class:t.cx("filterContainer")},t.ptm("filterContainer")),[v("input",se({ref:"filterInput",type:"text",value:i.filterValue,onVnodeMounted:e[4]||(e[4]=function(){return s.onFilterUpdated&&s.onFilterUpdated.apply(s,arguments)}),onVnodeUpdated:e[5]||(e[5]=function(){return s.onFilterUpdated&&s.onFilterUpdated.apply(s,arguments)}),class:t.cx("filterInput"),placeholder:t.filterPlaceholder,role:"searchbox",autocomplete:"off","aria-owns":i.id+"_list","aria-activedescendant":s.focusedOptionId,onKeydown:e[6]||(e[6]=function(){return s.onFilterKeyDown&&s.onFilterKeyDown.apply(s,arguments)}),onBlur:e[7]||(e[7]=function(){return s.onFilterBlur&&s.onFilterBlur.apply(s,arguments)}),onInput:e[8]||(e[8]=function(){return s.onFilterChange&&s.onFilterChange.apply(s,arguments)})},Wo(Wo({},t.filterInputProps),t.ptm("filterInput"))),null,16,Qme),_e(t.$slots,"filtericon",{class:Le(t.cx("filterIcon"))},function(){return[(D(),ae(Mn(t.filterIcon?"span":"SearchIcon"),se({class:[t.cx("filterIcon"),t.filterIcon]},t.ptm("filterIcon")),null,16,["class"]))]})],16)):J("",!0),t.filter?(D(),H("span",se({key:2,role:"status","aria-live":"polite",class:"p-hidden-accessible"},t.ptm("hiddenFilterResult"),{"data-p-hidden-accessible":!0}),Fe(s.filterResultMessageText),17)):J("",!0),Fi((D(),H("button",se({class:t.cx("closeButton"),"aria-label":s.closeAriaLabel,onClick:e[9]||(e[9]=function(){return s.onCloseClick&&s.onCloseClick.apply(s,arguments)}),type:"button"},Wo(Wo({},t.closeButtonProps),t.ptm("closeButton"))),[_e(t.$slots,"closeicon",{class:Le(t.cx("closeIcon"))},function(){return[(D(),ae(Mn(t.closeIcon?"span":"TimesIcon"),se({class:[t.cx("closeIcon"),t.closeIcon]},t.ptm("closeIcon")),null,16,["class"]))]})],16,Xme)),[[d]])],16)):J("",!0),v("div",se({class:t.cx("wrapper"),style:{"max-height":s.virtualScrollerDisabled?t.scrollHeight:""}},t.ptm("wrapper")),[q(u,se({ref:s.virtualScrollerRef},t.virtualScrollerOptions,{items:s.visibleOptions,style:{height:t.scrollHeight},tabindex:-1,disabled:s.virtualScrollerDisabled,pt:t.ptm("virtualScroller")}),fr({content:X(function(h){var p=h.styleClass,m=h.contentRef,g=h.items,y=h.getItemOptions,A=h.contentStyle,C=h.itemSize;return[v("ul",se({ref:function(E){return s.listRef(E,m)},id:i.id+"_list",class:[t.cx("list"),p],style:A,role:"listbox","aria-multiselectable":"true","aria-label":s.listAriaLabel},t.ptm("list")),[(D(!0),H(Pe,null,dt(g,function(S,E){return D(),H(Pe,{key:s.getOptionRenderKey(S,s.getOptionIndex(E,y))},[s.isOptionGroup(S)?(D(),H("li",se({key:0,id:i.id+"_"+s.getOptionIndex(E,y),style:{height:C?C+"px":void 0},class:t.cx("itemGroup"),role:"option"},t.ptm("itemGroup")),[_e(t.$slots,"optiongroup",{option:S.optionGroup,index:s.getOptionIndex(E,y)},function(){return[K(Fe(s.getOptionGroupLabel(S.optionGroup)),1)]})],16,Zme)):Fi((D(),H("li",se({key:1,id:i.id+"_"+s.getOptionIndex(E,y),style:{height:C?C+"px":void 0},class:t.cx("item",{option:S,index:E,getItemOptions:y}),role:"option","aria-label":s.getOptionLabel(S),"aria-selected":s.isSelected(S),"aria-disabled":s.isOptionDisabled(S),"aria-setsize":s.ariaSetSize,"aria-posinset":s.getAriaPosInset(s.getOptionIndex(E,y)),onClick:function(x){return s.onOptionSelect(x,S,s.getOptionIndex(E,y),!0)},onMousemove:function(x){return s.onOptionMouseMove(x,s.getOptionIndex(E,y))}},s.getCheckboxPTOptions(S,y,E,"item"),{"data-p-highlight":s.isSelected(S),"data-p-focused":i.focusedOptionIndex===s.getOptionIndex(E,y),"data-p-disabled":s.isOptionDisabled(S)}),[q(l,{modelValue:s.isSelected(S),binary:!0,tabindex:-1,variant:t.variant,unstyled:t.unstyled,pt:s.getCheckboxPTOptions(S,y,E,"itemCheckbox")},{icon:X(function(k){return[t.$slots.itemcheckboxicon?(D(),ae(Mn(t.$slots.itemcheckboxicon),{key:0,checked:k.checked,class:Le(k.class)},null,8,["checked","class"])):k.checked?(D(),ae(Mn(t.checkboxIcon?"span":"CheckIcon"),se({key:1,class:[k.class,E_({},t.checkboxIcon,k.checked)]},s.getCheckboxPTOptions(S,y,E,"itemCheckbox.icon")),null,16,["class"])):J("",!0)]}),_:2},1032,["modelValue","variant","unstyled","pt"]),_e(t.$slots,"option",{option:S,index:s.getOptionIndex(E,y)},function(){return[v("span",Vn(hr(t.ptm("option"))),Fe(s.getOptionLabel(S)),17)]})],16,ege)),[[d]])],64)}),128)),i.filterValue&&(!g||g&&g.length===0)?(D(),H("li",se({key:0,class:t.cx("emptyMessage"),role:"option"},t.ptm("emptyMessage")),[_e(t.$slots,"emptyfilter",{},function(){return[K(Fe(s.emptyFilterMessageText),1)]})],16)):!t.options||t.options&&t.options.length===0?(D(),H("li",se({key:1,class:t.cx("emptyMessage"),role:"option"},t.ptm("emptyMessage")),[_e(t.$slots,"empty",{},function(){return[K(Fe(s.emptyMessageText),1)]})],16)):J("",!0)],16,Jme)]}),_:2},[t.$slots.loader?{name:"loader",fn:X(function(h){var p=h.options;return[_e(t.$slots,"loader",{options:p})]}),key:"0"}:void 0]),1040,["items","style","disabled","pt"])],16),_e(t.$slots,"footer",{value:t.modelValue,options:s.visibleOptions}),!t.options||t.options&&t.options.length===0?(D(),H("span",se({key:1,role:"status","aria-live":"polite",class:"p-hidden-accessible"},t.ptm("hiddenEmptyMessage"),{"data-p-hidden-accessible":!0}),Fe(s.emptyMessageText),17)):J("",!0),v("span",se({role:"status","aria-live":"polite",class:"p-hidden-accessible"},t.ptm("hiddenSelectedMessage"),{"data-p-hidden-accessible":!0}),Fe(s.selectedMessageText),17),v("span",se({ref:"lastHiddenFocusableElementOnOverlay",role:"presentation","aria-hidden":"true",class:"p-hidden-accessible p-hidden-focusable",tabindex:0,onFocus:e[10]||(e[10]=function(){return s.onLastHiddenFocus&&s.onLastHiddenFocus.apply(s,arguments)})},t.ptm("hiddenLastFocusableEl"),{"data-p-hidden-accessible":!0,"data-p-hidden-focusable":!0}),null,16)],16)):J("",!0)]}),_:3},16,["onEnter","onAfterEnter","onLeave","onAfterLeave"])]}),_:3},8,["appendTo"])],16)}lV.render=tge;var nge={root:function(e){var n=e.instance,r=e.props;return["p-inputtextarea p-inputtext p-component",{"p-filled":n.filled,"p-inputtextarea-resizable ":r.autoResize,"p-invalid":r.invalid,"p-variant-filled":r.variant?r.variant==="filled":n.$primevue.config.inputStyle==="filled"}]}},rge=or.extend({name:"textarea",classes:nge}),ige={name:"BaseTextarea",extends:Ur,props:{modelValue:null,autoResize:Boolean,invalid:{type:Boolean,default:!1},variant:{type:String,default:null}},style:rge,provide:function(){return{$parentInstance:this}}},uV={name:"Textarea",extends:ige,inheritAttrs:!1,emits:["update:modelValue"],mounted:function(){this.$el.offsetParent&&this.autoResize&&this.resize()},updated:function(){this.$el.offsetParent&&this.autoResize&&this.resize()},methods:{resize:function(){this.$el.style.height="auto",this.$el.style.height=this.$el.scrollHeight+"px",parseFloat(this.$el.style.height)>=parseFloat(this.$el.style.maxHeight)?(this.$el.style.overflowY="scroll",this.$el.style.height=this.$el.style.maxHeight):this.$el.style.overflow="hidden"},onInput:function(e){this.autoResize&&this.resize(),this.$emit("update:modelValue",e.target.value)}},computed:{filled:function(){return this.modelValue!=null&&this.modelValue.toString().length>0},ptmParams:function(){return{context:{disabled:this.$attrs.disabled||this.$attrs.disabled===""}}}}},sge=["value","aria-invalid"];function oge(t,e,n,r,i,s){return D(),H("textarea",se({class:t.cx("root"),value:t.modelValue,"aria-invalid":t.invalid||void 0,onInput:e[0]||(e[0]=function(){return s.onInput&&s.onInput.apply(s,arguments)})},t.ptmi("root",s.ptmParams)),null,16,sge)}uV.render=oge;const rs=Jk(i6);rs.use(Wh);rs.use(VG,{firebaseApp:yx,modules:[DG()]});rs.use(Ex);rs.use(W4);rs.use(Ete);rs.use(Dpe);rs.component("VueDatePicker",OT);rs.component("PrimeInputText",sV);rs.component("PrimeTextArea",uV);rs.component("PrimeDropdown",iV);rs.component("PrimeMultiSelect",lV);rs.mount("#app");export{tre as c,nre as g};
function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = []
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}
