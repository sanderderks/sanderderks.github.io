var kV=Object.defineProperty;var RV=(t,e,n)=>e in t?kV(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var Lo=(t,e,n)=>(RV(t,typeof e!="symbol"?e+"":e,n),n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();/**
* @vue/shared v3.4.38
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function gg(t,e){const n=new Set(t.split(","));return e?r=>n.has(r.toLowerCase()):r=>n.has(r)}const rn={},Ru=[],Ei=()=>{},xV=()=>!1,tf=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),v_=t=>t.startsWith("onUpdate:"),Bn=Object.assign,y_=(t,e)=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},DV=Object.prototype.hasOwnProperty,zt=(t,e)=>DV.call(t,e),it=Array.isArray,xu=t=>Cc(t)==="[object Map]",Ul=t=>Cc(t)==="[object Set]",pE=t=>Cc(t)==="[object Date]",NV=t=>Cc(t)==="[object RegExp]",mt=t=>typeof t=="function",Vn=t=>typeof t=="string",Hs=t=>typeof t=="symbol",cn=t=>t!==null&&typeof t=="object",b_=t=>(cn(t)||mt(t))&&mt(t.then)&&mt(t.catch),ZP=Object.prototype.toString,Cc=t=>ZP.call(t),MV=t=>Cc(t).slice(8,-1),eO=t=>Cc(t)==="[object Object]",__=t=>Vn(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,Du=gg(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),vg=t=>{const e=Object.create(null);return n=>e[n]||(e[n]=t(n))},LV=/-(\w)/g,ni=vg(t=>t.replace(LV,(e,n)=>n?n.toUpperCase():"")),VV=/\B([A-Z])/g,wi=vg(t=>t.replace(VV,"-$1").toLowerCase()),nf=vg(t=>t.charAt(0).toUpperCase()+t.slice(1)),Nd=vg(t=>t?`on${nf(t)}`:""),hi=(t,e)=>!Object.is(t,e),Nu=(t,...e)=>{for(let n=0;n<t.length;n++)t[n](...e)},tO=(t,e,n,r=!1)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,writable:r,value:n})},om=t=>{const e=parseFloat(t);return isNaN(e)?t:e},am=t=>{const e=Vn(t)?Number(t):NaN;return isNaN(e)?t:e};let mE;const nO=()=>mE||(mE=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{}),$V="Infinity,undefined,NaN,isFinite,isNaN,parseFloat,parseInt,decodeURI,decodeURIComponent,encodeURI,encodeURIComponent,Math,Number,Date,Array,Object,Boolean,String,RegExp,Map,Set,JSON,Intl,BigInt,console,Error",FV=gg($V);function ur(t){if(it(t)){const e={};for(let n=0;n<t.length;n++){const r=t[n],i=Vn(r)?jV(r):ur(r);if(i)for(const s in i)e[s]=i[s]}return e}else if(Vn(t)||cn(t))return t}const UV=/;(?![^(]*\))/g,qV=/:([^]+)/,BV=/\/\*[^]*?\*\//g;function jV(t){const e={};return t.replace(BV,"").split(UV).forEach(n=>{if(n){const r=n.split(qV);r.length>1&&(e[r[0].trim()]=r[1].trim())}}),e}function $e(t){let e="";if(Vn(t))e=t;else if(it(t))for(let n=0;n<t.length;n++){const r=$e(t[n]);r&&(e+=r+" ")}else if(cn(t))for(const n in t)t[n]&&(e+=n+" ");return e.trim()}function Ln(t){if(!t)return null;let{class:e,style:n}=t;return e&&!Vn(e)&&(t.class=$e(e)),n&&(t.style=ur(n)),t}const HV="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",WV=gg(HV);function rO(t){return!!t||t===""}function zV(t,e){if(t.length!==e.length)return!1;let n=!0;for(let r=0;n&&r<t.length;r++)n=_a(t[r],e[r]);return n}function _a(t,e){if(t===e)return!0;let n=pE(t),r=pE(e);if(n||r)return n&&r?t.getTime()===e.getTime():!1;if(n=Hs(t),r=Hs(e),n||r)return t===e;if(n=it(t),r=it(e),n||r)return n&&r?zV(t,e):!1;if(n=cn(t),r=cn(e),n||r){if(!n||!r)return!1;const i=Object.keys(t).length,s=Object.keys(e).length;if(i!==s)return!1;for(const o in t){const a=t.hasOwnProperty(o),l=e.hasOwnProperty(o);if(a&&!l||!a&&l||!_a(t[o],e[o]))return!1}}return String(t)===String(e)}function yg(t,e){return t.findIndex(n=>_a(n,e))}const iO=t=>!!(t&&t.__v_isRef===!0),Fe=t=>Vn(t)?t:t==null?"":it(t)||cn(t)&&(t.toString===ZP||!mt(t.toString))?iO(t)?Fe(t.value):JSON.stringify(t,sO,2):String(t),sO=(t,e)=>iO(e)?sO(t,e.value):xu(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((n,[r,i],s)=>(n[Gv(r,s)+" =>"]=i,n),{})}:Ul(e)?{[`Set(${e.size})`]:[...e.values()].map(n=>Gv(n))}:Hs(e)?Gv(e):cn(e)&&!it(e)&&!eO(e)?String(e):e,Gv=(t,e="")=>{var n;return Hs(t)?`Symbol(${(n=t.description)!=null?n:e})`:t};/**
* @vue/reactivity v3.4.38
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Di;class w_{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this.parent=Di,!e&&Di&&(this.index=(Di.scopes||(Di.scopes=[])).push(this)-1)}get active(){return this._active}run(e){if(this._active){const n=Di;try{return Di=this,e()}finally{Di=n}}}on(){Di=this}off(){Di=this.parent}stop(e){if(this._active){let n,r;for(n=0,r=this.effects.length;n<r;n++)this.effects[n].stop();for(n=0,r=this.cleanups.length;n<r;n++)this.cleanups[n]();if(this.scopes)for(n=0,r=this.scopes.length;n<r;n++)this.scopes[n].stop(!0);if(!this.detached&&this.parent&&!e){const i=this.parent.scopes.pop();i&&i!==this&&(this.parent.scopes[this.index]=i,i.index=this.index)}this.parent=void 0,this._active=!1}}}function bg(t){return new w_(t)}function oO(t,e=Di){e&&e.active&&e.effects.push(t)}function rf(){return Di}function _g(t){Di&&Di.cleanups.push(t)}let al;class Yu{constructor(e,n,r,i){this.fn=e,this.trigger=n,this.scheduler=r,this.active=!0,this.deps=[],this._dirtyLevel=4,this._trackId=0,this._runnings=0,this._shouldSchedule=!1,this._depsLength=0,oO(this,i)}get dirty(){if(this._dirtyLevel===2||this._dirtyLevel===3){this._dirtyLevel=1,ka();for(let e=0;e<this._depsLength;e++){const n=this.deps[e];if(n.computed&&(KV(n.computed),this._dirtyLevel>=4))break}this._dirtyLevel===1&&(this._dirtyLevel=0),Ra()}return this._dirtyLevel>=4}set dirty(e){this._dirtyLevel=e?4:0}run(){if(this._dirtyLevel=0,!this.active)return this.fn();let e=ua,n=al;try{return ua=!0,al=this,this._runnings++,gE(this),this.fn()}finally{vE(this),this._runnings--,al=n,ua=e}}stop(){this.active&&(gE(this),vE(this),this.onStop&&this.onStop(),this.active=!1)}}function KV(t){return t.value}function gE(t){t._trackId++,t._depsLength=0}function vE(t){if(t.deps.length>t._depsLength){for(let e=t._depsLength;e<t.deps.length;e++)aO(t.deps[e],t);t.deps.length=t._depsLength}}function aO(t,e){const n=t.get(e);n!==void 0&&e._trackId!==n&&(t.delete(e),t.size===0&&t.cleanup())}function GV(t,e){t.effect instanceof Yu&&(t=t.effect.fn);const n=new Yu(t,Ei,()=>{n.dirty&&n.run()});e&&(Bn(n,e),e.scope&&oO(n,e.scope)),(!e||!e.lazy)&&n.run();const r=n.run.bind(n);return r.effect=n,r}function YV(t){t.effect.stop()}let ua=!0,bb=0;const lO=[];function ka(){lO.push(ua),ua=!1}function Ra(){const t=lO.pop();ua=t===void 0?!0:t}function T_(){bb++}function E_(){for(bb--;!bb&&_b.length;)_b.shift()()}function uO(t,e,n){if(e.get(t)!==t._trackId){e.set(t,t._trackId);const r=t.deps[t._depsLength];r!==e?(r&&aO(r,t),t.deps[t._depsLength++]=e):t._depsLength++}}const _b=[];function cO(t,e,n){T_();for(const r of t.keys()){let i;r._dirtyLevel<e&&(i??(i=t.get(r)===r._trackId))&&(r._shouldSchedule||(r._shouldSchedule=r._dirtyLevel===0),r._dirtyLevel=e),r._shouldSchedule&&(i??(i=t.get(r)===r._trackId))&&(r.trigger(),(!r._runnings||r.allowRecurse)&&r._dirtyLevel!==2&&(r._shouldSchedule=!1,r.scheduler&&_b.push(r.scheduler)))}E_()}const dO=(t,e)=>{const n=new Map;return n.cleanup=t,n.computed=e,n},lm=new WeakMap,ll=Symbol(""),wb=Symbol("");function Pi(t,e,n){if(ua&&al){let r=lm.get(t);r||lm.set(t,r=new Map);let i=r.get(n);i||r.set(n,i=dO(()=>r.delete(n))),uO(al,i)}}function vo(t,e,n,r,i,s){const o=lm.get(t);if(!o)return;let a=[];if(e==="clear")a=[...o.values()];else if(n==="length"&&it(t)){const l=Number(r);o.forEach((u,c)=>{(c==="length"||!Hs(c)&&c>=l)&&a.push(u)})}else switch(n!==void 0&&a.push(o.get(n)),e){case"add":it(t)?__(n)&&a.push(o.get("length")):(a.push(o.get(ll)),xu(t)&&a.push(o.get(wb)));break;case"delete":it(t)||(a.push(o.get(ll)),xu(t)&&a.push(o.get(wb)));break;case"set":xu(t)&&a.push(o.get(ll));break}T_();for(const l of a)l&&cO(l,4);E_()}function XV(t,e){const n=lm.get(t);return n&&n.get(e)}const QV=gg("__proto__,__v_isRef,__isVue"),hO=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(Hs)),yE=JV();function JV(){const t={};return["includes","indexOf","lastIndexOf"].forEach(e=>{t[e]=function(...n){const r=Mt(this);for(let s=0,o=this.length;s<o;s++)Pi(r,"get",s+"");const i=r[e](...n);return i===-1||i===!1?r[e](...n.map(Mt)):i}}),["push","pop","shift","unshift","splice"].forEach(e=>{t[e]=function(...n){ka(),T_();const r=Mt(this)[e].apply(this,n);return E_(),Ra(),r}}),t}function ZV(t){Hs(t)||(t=String(t));const e=Mt(this);return Pi(e,"has",t),e.hasOwnProperty(t)}class fO{constructor(e=!1,n=!1){this._isReadonly=e,this._isShallow=n}get(e,n,r){const i=this._isReadonly,s=this._isShallow;if(n==="__v_isReactive")return!i;if(n==="__v_isReadonly")return i;if(n==="__v_isShallow")return s;if(n==="__v_raw")return r===(i?s?bO:yO:s?vO:gO).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(r)?e:void 0;const o=it(e);if(!i){if(o&&zt(yE,n))return Reflect.get(yE,n,r);if(n==="hasOwnProperty")return ZV}const a=Reflect.get(e,n,r);return(Hs(n)?hO.has(n):QV(n))||(i||Pi(e,"get",n),s)?a:_n(a)?o&&__(n)?a:a.value:cn(a)?i?Eg(a):Pr(a):a}}class pO extends fO{constructor(e=!1){super(!1,e)}set(e,n,r,i){let s=e[n];if(!this._isShallow){const l=wa(s);if(!bl(r)&&!wa(r)&&(s=Mt(s),r=Mt(r)),!it(e)&&_n(s)&&!_n(r))return l?!1:(s.value=r,!0)}const o=it(e)&&__(n)?Number(n)<e.length:zt(e,n),a=Reflect.set(e,n,r,i);return e===Mt(i)&&(o?hi(r,s)&&vo(e,"set",n,r):vo(e,"add",n,r)),a}deleteProperty(e,n){const r=zt(e,n);e[n];const i=Reflect.deleteProperty(e,n);return i&&r&&vo(e,"delete",n,void 0),i}has(e,n){const r=Reflect.has(e,n);return(!Hs(n)||!hO.has(n))&&Pi(e,"has",n),r}ownKeys(e){return Pi(e,"iterate",it(e)?"length":ll),Reflect.ownKeys(e)}}class mO extends fO{constructor(e=!1){super(!0,e)}set(e,n){return!0}deleteProperty(e,n){return!0}}const e$=new pO,t$=new mO,n$=new pO(!0),r$=new mO(!0),S_=t=>t,wg=t=>Reflect.getPrototypeOf(t);function Xf(t,e,n=!1,r=!1){t=t.__v_raw;const i=Mt(t),s=Mt(e);n||(hi(e,s)&&Pi(i,"get",e),Pi(i,"get",s));const{has:o}=wg(i),a=r?S_:n?A_:uh;if(o.call(i,e))return a(t.get(e));if(o.call(i,s))return a(t.get(s));t!==i&&t.get(e)}function Qf(t,e=!1){const n=this.__v_raw,r=Mt(n),i=Mt(t);return e||(hi(t,i)&&Pi(r,"has",t),Pi(r,"has",i)),t===i?n.has(t):n.has(t)||n.has(i)}function Jf(t,e=!1){return t=t.__v_raw,!e&&Pi(Mt(t),"iterate",ll),Reflect.get(t,"size",t)}function bE(t,e=!1){!e&&!bl(t)&&!wa(t)&&(t=Mt(t));const n=Mt(this);return wg(n).has.call(n,t)||(n.add(t),vo(n,"add",t,t)),this}function _E(t,e,n=!1){!n&&!bl(e)&&!wa(e)&&(e=Mt(e));const r=Mt(this),{has:i,get:s}=wg(r);let o=i.call(r,t);o||(t=Mt(t),o=i.call(r,t));const a=s.call(r,t);return r.set(t,e),o?hi(e,a)&&vo(r,"set",t,e):vo(r,"add",t,e),this}function wE(t){const e=Mt(this),{has:n,get:r}=wg(e);let i=n.call(e,t);i||(t=Mt(t),i=n.call(e,t)),r&&r.call(e,t);const s=e.delete(t);return i&&vo(e,"delete",t,void 0),s}function TE(){const t=Mt(this),e=t.size!==0,n=t.clear();return e&&vo(t,"clear",void 0,void 0),n}function Zf(t,e){return function(r,i){const s=this,o=s.__v_raw,a=Mt(o),l=e?S_:t?A_:uh;return!t&&Pi(a,"iterate",ll),o.forEach((u,c)=>r.call(i,l(u),l(c),s))}}function ep(t,e,n){return function(...r){const i=this.__v_raw,s=Mt(i),o=xu(s),a=t==="entries"||t===Symbol.iterator&&o,l=t==="keys"&&o,u=i[t](...r),c=n?S_:e?A_:uh;return!e&&Pi(s,"iterate",l?wb:ll),{next(){const{value:d,done:h}=u.next();return h?{value:d,done:h}:{value:a?[c(d[0]),c(d[1])]:c(d),done:h}},[Symbol.iterator](){return this}}}}function Vo(t){return function(...e){return t==="delete"?!1:t==="clear"?void 0:this}}function i$(){const t={get(s){return Xf(this,s)},get size(){return Jf(this)},has:Qf,add:bE,set:_E,delete:wE,clear:TE,forEach:Zf(!1,!1)},e={get(s){return Xf(this,s,!1,!0)},get size(){return Jf(this)},has:Qf,add(s){return bE.call(this,s,!0)},set(s,o){return _E.call(this,s,o,!0)},delete:wE,clear:TE,forEach:Zf(!1,!0)},n={get(s){return Xf(this,s,!0)},get size(){return Jf(this,!0)},has(s){return Qf.call(this,s,!0)},add:Vo("add"),set:Vo("set"),delete:Vo("delete"),clear:Vo("clear"),forEach:Zf(!0,!1)},r={get(s){return Xf(this,s,!0,!0)},get size(){return Jf(this,!0)},has(s){return Qf.call(this,s,!0)},add:Vo("add"),set:Vo("set"),delete:Vo("delete"),clear:Vo("clear"),forEach:Zf(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(s=>{t[s]=ep(s,!1,!1),n[s]=ep(s,!0,!1),e[s]=ep(s,!1,!0),r[s]=ep(s,!0,!0)}),[t,n,e,r]}const[s$,o$,a$,l$]=i$();function Tg(t,e){const n=e?t?l$:a$:t?o$:s$;return(r,i,s)=>i==="__v_isReactive"?!t:i==="__v_isReadonly"?t:i==="__v_raw"?r:Reflect.get(zt(n,i)&&i in r?n:r,i,s)}const u$={get:Tg(!1,!1)},c$={get:Tg(!1,!0)},d$={get:Tg(!0,!1)},h$={get:Tg(!0,!0)},gO=new WeakMap,vO=new WeakMap,yO=new WeakMap,bO=new WeakMap;function f$(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function p$(t){return t.__v_skip||!Object.isExtensible(t)?0:f$(MV(t))}function Pr(t){return wa(t)?t:Sg(t,!1,e$,u$,gO)}function I_(t){return Sg(t,!1,n$,c$,vO)}function Eg(t){return Sg(t,!0,t$,d$,yO)}function m$(t){return Sg(t,!0,r$,h$,bO)}function Sg(t,e,n,r,i){if(!cn(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const s=i.get(t);if(s)return s;const o=p$(t);if(o===0)return t;const a=new Proxy(t,o===2?r:n);return i.set(t,a),a}function Ms(t){return wa(t)?Ms(t.__v_raw):!!(t&&t.__v_isReactive)}function wa(t){return!!(t&&t.__v_isReadonly)}function bl(t){return!!(t&&t.__v_isShallow)}function C_(t){return t?!!t.__v_raw:!1}function Mt(t){const e=t&&t.__v_raw;return e?Mt(e):t}function Ig(t){return Object.isExtensible(t)&&tO(t,"__v_skip",!0),t}const uh=t=>cn(t)?Pr(t):t,A_=t=>cn(t)?Eg(t):t;class _O{constructor(e,n,r,i){this.getter=e,this._setter=n,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this.effect=new Yu(()=>e(this._value),()=>Mu(this,this.effect._dirtyLevel===2?2:3)),this.effect.computed=this,this.effect.active=this._cacheable=!i,this.__v_isReadonly=r}get value(){const e=Mt(this);return(!e._cacheable||e.effect.dirty)&&hi(e._value,e._value=e.effect.run())&&Mu(e,4),P_(e),e.effect._dirtyLevel>=2&&Mu(e,2),e._value}set value(e){this._setter(e)}get _dirty(){return this.effect.dirty}set _dirty(e){this.effect.dirty=e}}function g$(t,e,n=!1){let r,i;const s=mt(t);return s?(r=t,i=Ei):(r=t.get,i=t.set),new _O(r,i,s||!i,n)}function P_(t){var e;ua&&al&&(t=Mt(t),uO(al,(e=t.dep)!=null?e:t.dep=dO(()=>t.dep=void 0,t instanceof _O?t:void 0)))}function Mu(t,e=4,n,r){t=Mt(t);const i=t.dep;i&&cO(i,e)}function _n(t){return!!(t&&t.__v_isRef===!0)}function ie(t){return TO(t,!1)}function wO(t){return TO(t,!0)}function TO(t,e){return _n(t)?t:new v$(t,e)}class v${constructor(e,n){this.__v_isShallow=n,this.dep=void 0,this.__v_isRef=!0,this._rawValue=n?e:Mt(e),this._value=n?e:uh(e)}get value(){return P_(this),this._value}set value(e){const n=this.__v_isShallow||bl(e)||wa(e);e=n?e:Mt(e),hi(e,this._rawValue)&&(this._rawValue,this._rawValue=e,this._value=n?e:uh(e),Mu(this,4))}}function y$(t){Mu(t,4)}function A(t){return _n(t)?t.value:t}function b$(t){return mt(t)?t():A(t)}const _$={get:(t,e,n)=>A(Reflect.get(t,e,n)),set:(t,e,n,r)=>{const i=t[e];return _n(i)&&!_n(n)?(i.value=n,!0):Reflect.set(t,e,n,r)}};function O_(t){return Ms(t)?t:new Proxy(t,_$)}class w${constructor(e){this.dep=void 0,this.__v_isRef=!0;const{get:n,set:r}=e(()=>P_(this),()=>Mu(this));this._get=n,this._set=r}get value(){return this._get()}set value(e){this._set(e)}}function EO(t){return new w$(t)}function SO(t){const e=it(t)?new Array(t.length):{};for(const n in t)e[n]=IO(t,n);return e}class T${constructor(e,n,r){this._object=e,this._key=n,this._defaultValue=r,this.__v_isRef=!0}get value(){const e=this._object[this._key];return e===void 0?this._defaultValue:e}set value(e){this._object[this._key]=e}get dep(){return XV(Mt(this._object),this._key)}}class E${constructor(e){this._getter=e,this.__v_isRef=!0,this.__v_isReadonly=!0}get value(){return this._getter()}}function Xu(t,e,n){return _n(t)?t:mt(t)?new E$(t):cn(t)&&arguments.length>1?IO(t,e,n):ie(t)}function IO(t,e,n){const r=t[e];return _n(r)?r:new T$(t,e,n)}const S$={GET:"get",HAS:"has",ITERATE:"iterate"},I$={SET:"set",ADD:"add",DELETE:"delete",CLEAR:"clear"};/**
* @vue/runtime-core v3.4.38
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function C$(t,e){}const A$={SETUP_FUNCTION:0,0:"SETUP_FUNCTION",RENDER_FUNCTION:1,1:"RENDER_FUNCTION",WATCH_GETTER:2,2:"WATCH_GETTER",WATCH_CALLBACK:3,3:"WATCH_CALLBACK",WATCH_CLEANUP:4,4:"WATCH_CLEANUP",NATIVE_EVENT_HANDLER:5,5:"NATIVE_EVENT_HANDLER",COMPONENT_EVENT_HANDLER:6,6:"COMPONENT_EVENT_HANDLER",VNODE_HOOK:7,7:"VNODE_HOOK",DIRECTIVE_HOOK:8,8:"DIRECTIVE_HOOK",TRANSITION_HOOK:9,9:"TRANSITION_HOOK",APP_ERROR_HANDLER:10,10:"APP_ERROR_HANDLER",APP_WARN_HANDLER:11,11:"APP_WARN_HANDLER",FUNCTION_REF:12,12:"FUNCTION_REF",ASYNC_COMPONENT_LOADER:13,13:"ASYNC_COMPONENT_LOADER",SCHEDULER:14,14:"SCHEDULER",COMPONENT_UPDATE:15,15:"COMPONENT_UPDATE"},P$={sp:"serverPrefetch hook",bc:"beforeCreate hook",c:"created hook",bm:"beforeMount hook",m:"mounted hook",bu:"beforeUpdate hook",u:"updated",bum:"beforeUnmount hook",um:"unmounted hook",a:"activated hook",da:"deactivated hook",ec:"errorCaptured hook",rtc:"renderTracked hook",rtg:"renderTriggered hook",0:"setup function",1:"render function",2:"watcher getter",3:"watcher callback",4:"watcher cleanup function",5:"native event handler",6:"component event handler",7:"vnode hook",8:"directive hook",9:"transition hook",10:"app errorHandler",11:"app warnHandler",12:"ref function",13:"async component loader",14:"scheduler flush",15:"component update"};function yo(t,e,n,r){try{return r?t(...r):t()}catch(i){ql(i,e,n)}}function $i(t,e,n,r){if(mt(t)){const i=yo(t,e,n,r);return i&&b_(i)&&i.catch(s=>{ql(s,e,n)}),i}if(it(t)){const i=[];for(let s=0;s<t.length;s++)i.push($i(t[s],e,n,r));return i}}function ql(t,e,n,r=!0){const i=e?e.vnode:null;if(e){let s=e.parent;const o=e.proxy,a=`https://vuejs.org/error-reference/#runtime-${n}`;for(;s;){const u=s.ec;if(u){for(let c=0;c<u.length;c++)if(u[c](t,o,a)===!1)return}s=s.parent}const l=e.appContext.config.errorHandler;if(l){ka(),yo(l,null,10,[t,o,a]),Ra();return}}O$(t,n,i,r)}function O$(t,e,n,r=!0){console.error(t)}let ch=!1,Tb=!1;const Xr=[];let Os=0;const Lu=[];let Go=null,tl=0;const CO=Promise.resolve();let k_=null;function rr(t){const e=k_||CO;return t?e.then(this?t.bind(this):t):e}function k$(t){let e=Os+1,n=Xr.length;for(;e<n;){const r=e+n>>>1,i=Xr[r],s=dh(i);s<t||s===t&&i.pre?e=r+1:n=r}return e}function Cg(t){(!Xr.length||!Xr.includes(t,ch&&t.allowRecurse?Os+1:Os))&&(t.id==null?Xr.push(t):Xr.splice(k$(t.id),0,t),AO())}function AO(){!ch&&!Tb&&(Tb=!0,k_=CO.then(PO))}function R$(t){const e=Xr.indexOf(t);e>Os&&Xr.splice(e,1)}function um(t){it(t)?Lu.push(...t):(!Go||!Go.includes(t,t.allowRecurse?tl+1:tl))&&Lu.push(t),AO()}function EE(t,e,n=ch?Os+1:0){for(;n<Xr.length;n++){const r=Xr[n];if(r&&r.pre){if(t&&r.id!==t.uid)continue;Xr.splice(n,1),n--,r()}}}function cm(t){if(Lu.length){const e=[...new Set(Lu)].sort((n,r)=>dh(n)-dh(r));if(Lu.length=0,Go){Go.push(...e);return}for(Go=e,tl=0;tl<Go.length;tl++){const n=Go[tl];n.active!==!1&&n()}Go=null,tl=0}}const dh=t=>t.id==null?1/0:t.id,x$=(t,e)=>{const n=dh(t)-dh(e);if(n===0){if(t.pre&&!e.pre)return-1;if(e.pre&&!t.pre)return 1}return n};function PO(t){Tb=!1,ch=!0,Xr.sort(x$);try{for(Os=0;Os<Xr.length;Os++){const e=Xr[Os];e&&e.active!==!1&&yo(e,e.i,e.i?15:14)}}finally{Os=0,Xr.length=0,cm(),ch=!1,k_=null,(Xr.length||Lu.length)&&PO()}}let du,tp=[];function OO(t,e){var n,r;du=t,du?(du.enabled=!0,tp.forEach(({event:i,args:s})=>du.emit(i,...s)),tp=[]):typeof window<"u"&&window.HTMLElement&&!((r=(n=window.navigator)==null?void 0:n.userAgent)!=null&&r.includes("jsdom"))?((e.__VUE_DEVTOOLS_HOOK_REPLAY__=e.__VUE_DEVTOOLS_HOOK_REPLAY__||[]).push(s=>{OO(s,e)}),setTimeout(()=>{du||(e.__VUE_DEVTOOLS_HOOK_REPLAY__=null,tp=[])},3e3)):tp=[]}let vr=null,Ag=null;function hh(t){const e=vr;return vr=t,Ag=t&&t.type.__scopeId||null,e}function R_(t){Ag=t}function x_(){Ag=null}const D$=t=>J;function J(t,e=vr,n){if(!e||t._n)return t;const r=(...i)=>{r._d&&Rb(-1);const s=hh(e);let o;try{o=t(...i)}finally{hh(s),r._d&&Rb(1)}return o};return r._n=!0,r._c=!0,r._d=!0,r}function Fi(t,e){if(vr===null)return t;const n=uf(vr),r=t.dirs||(t.dirs=[]);for(let i=0;i<e.length;i++){let[s,o,a,l=rn]=e[i];s&&(mt(s)&&(s={mounted:s,updated:s}),s.deep&&Zo(o),r.push({dir:s,instance:n,value:o,oldValue:void 0,arg:a,modifiers:l}))}return t}function As(t,e,n,r){const i=t.dirs,s=e&&e.dirs;for(let o=0;o<i.length;o++){const a=i[o];s&&(a.oldValue=s[o].value);let l=a.dir[r];l&&(ka(),$i(l,n,8,[t.el,a,t,e]),Ra())}}const Yo=Symbol("_leaveCb"),np=Symbol("_enterCb");function D_(){const t={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return $t(()=>{t.isMounted=!0}),of(()=>{t.isUnmounting=!0}),t}const ji=[Function,Array],N_={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:ji,onEnter:ji,onAfterEnter:ji,onEnterCancelled:ji,onBeforeLeave:ji,onLeave:ji,onAfterLeave:ji,onLeaveCancelled:ji,onBeforeAppear:ji,onAppear:ji,onAfterAppear:ji,onAppearCancelled:ji},kO=t=>{const e=t.subTree;return e.component?kO(e.component):e},N$={name:"BaseTransition",props:N_,setup(t,{slots:e}){const n=ts(),r=D_();return()=>{const i=e.default&&Pg(e.default(),!0);if(!i||!i.length)return;let s=i[0];if(i.length>1){for(const h of i)if(h.type!==pr){s=h;break}}const o=Mt(t),{mode:a}=o;if(r.isLeaving)return Yv(s);const l=SE(s);if(!l)return Yv(s);let u=Qu(l,o,r,n,h=>u=h);Ta(l,u);const c=n.subTree,d=c&&SE(c);if(d&&d.type!==pr&&!cs(l,d)&&kO(n).type!==pr){const h=Qu(d,o,r,n);if(Ta(d,h),a==="out-in"&&l.type!==pr)return r.isLeaving=!0,h.afterLeave=()=>{r.isLeaving=!1,n.update.active!==!1&&(n.effect.dirty=!0,n.update())},Yv(s);a==="in-out"&&l.type!==pr&&(h.delayLeave=(p,m,g)=>{const y=xO(r,d);y[String(d.key)]=d,p[Yo]=()=>{m(),p[Yo]=void 0,delete u.delayedLeave},u.delayedLeave=g})}return s}}},RO=N$;function xO(t,e){const{leavingVNodes:n}=t;let r=n.get(e.type);return r||(r=Object.create(null),n.set(e.type,r)),r}function Qu(t,e,n,r,i){const{appear:s,mode:o,persisted:a=!1,onBeforeEnter:l,onEnter:u,onAfterEnter:c,onEnterCancelled:d,onBeforeLeave:h,onLeave:p,onAfterLeave:m,onLeaveCancelled:g,onBeforeAppear:y,onAppear:P,onAfterAppear:I,onAppearCancelled:S}=e,T=String(t.key),M=xO(n,t),R=(b,w)=>{b&&$i(b,r,9,w)},C=(b,w)=>{const k=w[1];R(b,w),it(b)?b.every(x=>x.length<=1)&&k():b.length<=1&&k()},E={mode:o,persisted:a,beforeEnter(b){let w=l;if(!n.isMounted)if(s)w=y||l;else return;b[Yo]&&b[Yo](!0);const k=M[T];k&&cs(t,k)&&k.el[Yo]&&k.el[Yo](),R(w,[b])},enter(b){let w=u,k=c,x=d;if(!n.isMounted)if(s)w=P||u,k=I||c,x=S||d;else return;let O=!1;const j=b[np]=U=>{O||(O=!0,U?R(x,[b]):R(k,[b]),E.delayedLeave&&E.delayedLeave(),b[np]=void 0)};w?C(w,[b,j]):j()},leave(b,w){const k=String(t.key);if(b[np]&&b[np](!0),n.isUnmounting)return w();R(h,[b]);let x=!1;const O=b[Yo]=j=>{x||(x=!0,w(),j?R(g,[b]):R(m,[b]),b[Yo]=void 0,M[k]===t&&delete M[k])};M[k]=t,p?C(p,[b,O]):O()},clone(b){const w=Qu(b,e,n,r,i);return i&&i(w),w}};return E}function Yv(t){if(sf(t))return t=Ws(t),t.children=null,t}function SE(t){if(!sf(t))return t;const{shapeFlag:e,children:n}=t;if(n){if(e&16)return n[0];if(e&32&&mt(n.default))return n.default()}}function Ta(t,e){t.shapeFlag&6&&t.component?Ta(t.component.subTree,e):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function Pg(t,e=!1,n){let r=[],i=0;for(let s=0;s<t.length;s++){let o=t[s];const a=n==null?o.key:String(n)+String(o.key!=null?o.key:s);o.type===Pe?(o.patchFlag&128&&i++,r=r.concat(Pg(o.children,e,a))):(e||o.type!==pr)&&r.push(a!=null?Ws(o,{key:a}):o)}if(i>1)for(let s=0;s<r.length;s++)r[s].patchFlag=-2;return r}/*! #__NO_SIDE_EFFECTS__ */function xe(t,e){return mt(t)?Bn({name:t.name},e,{setup:t}):t}const ul=t=>!!t.type.__asyncLoader;/*! #__NO_SIDE_EFFECTS__ */function M$(t){mt(t)&&(t={loader:t});const{loader:e,loadingComponent:n,errorComponent:r,delay:i=200,timeout:s,suspensible:o=!0,onError:a}=t;let l=null,u,c=0;const d=()=>(c++,l=null,h()),h=()=>{let p;return l||(p=l=e().catch(m=>{if(m=m instanceof Error?m:new Error(String(m)),a)return new Promise((g,y)=>{a(m,()=>g(d()),()=>y(m),c+1)});throw m}).then(m=>p!==l&&l?l:(m&&(m.__esModule||m[Symbol.toStringTag]==="Module")&&(m=m.default),u=m,m)))};return xe({name:"AsyncComponentWrapper",__asyncLoader:h,get __asyncResolved(){return u},setup(){const p=mr;if(u)return()=>Xv(u,p);const m=I=>{l=null,ql(I,p,13,!r)};if(o&&p.suspense||lf)return h().then(I=>()=>Xv(I,p)).catch(I=>(m(I),()=>r?B(r,{error:I}):null));const g=ie(!1),y=ie(),P=ie(!!i);return i&&setTimeout(()=>{P.value=!1},i),s!=null&&setTimeout(()=>{if(!g.value&&!y.value){const I=new Error(`Async component timed out after ${s}ms.`);m(I),y.value=I}},s),h().then(()=>{g.value=!0,p.parent&&sf(p.parent.vnode)&&(p.parent.effect.dirty=!0,Cg(p.parent.update))}).catch(I=>{m(I),y.value=I}),()=>{if(g.value&&u)return Xv(u,p);if(y.value&&r)return B(r,{error:y.value});if(n&&!P.value)return B(n)}}})}function Xv(t,e){const{ref:n,props:r,children:i,ce:s}=e.vnode,o=B(t,r,i);return o.ref=n,o.ce=s,delete e.vnode.ce,o}const sf=t=>t.type.__isKeepAlive,L$={name:"KeepAlive",__isKeepAlive:!0,props:{include:[String,RegExp,Array],exclude:[String,RegExp,Array],max:[String,Number]},setup(t,{slots:e}){const n=ts(),r=n.ctx;if(!r.renderer)return()=>{const I=e.default&&e.default();return I&&I.length===1?I[0]:I};const i=new Map,s=new Set;let o=null;const a=n.suspense,{renderer:{p:l,m:u,um:c,o:{createElement:d}}}=r,h=d("div");r.activate=(I,S,T,M,R)=>{const C=I.component;u(I,S,T,0,a),l(C.vnode,I,S,T,C,a,M,I.slotScopeIds,R),Tr(()=>{C.isDeactivated=!1,C.a&&Nu(C.a);const E=I.props&&I.props.onVnodeMounted;E&&yi(E,C.parent,I)},a)},r.deactivate=I=>{const S=I.component;fm(S.m),fm(S.a),u(I,h,null,1,a),Tr(()=>{S.da&&Nu(S.da);const T=I.props&&I.props.onVnodeUnmounted;T&&yi(T,S.parent,I),S.isDeactivated=!0},a)};function p(I){Qv(I),c(I,n,a,!0)}function m(I){i.forEach((S,T)=>{const M=Lb(S.type);M&&(!I||!I(M))&&g(T)})}function g(I){const S=i.get(I);S&&(!o||!cs(S,o))?p(S):o&&Qv(o),i.delete(I),s.delete(I)}pn(()=>[t.include,t.exclude],([I,S])=>{I&&m(T=>bd(I,T)),S&&m(T=>!bd(S,T))},{flush:"post",deep:!0});let y=null;const P=()=>{y!=null&&(Ob(n.subTree.type)?Tr(()=>{i.set(y,rp(n.subTree))},n.subTree.suspense):i.set(y,rp(n.subTree)))};return $t(P),kg(P),of(()=>{i.forEach(I=>{const{subTree:S,suspense:T}=n,M=rp(S);if(I.type===M.type&&I.key===M.key){Qv(M);const R=M.component.da;R&&Tr(R,T);return}p(I)})}),()=>{if(y=null,!e.default)return null;const I=e.default(),S=I[0];if(I.length>1)return o=null,I;if(!Ea(S)||!(S.shapeFlag&4)&&!(S.shapeFlag&128))return o=null,S;let T=rp(S);if(T.type===pr)return o=null,T;const M=T.type,R=Lb(ul(T)?T.type.__asyncResolved||{}:M),{include:C,exclude:E,max:b}=t;if(C&&(!R||!bd(C,R))||E&&R&&bd(E,R))return o=T,S;const w=T.key==null?M:T.key,k=i.get(w);return T.el&&(T=Ws(T),S.shapeFlag&128&&(S.ssContent=T)),y=w,k?(T.el=k.el,T.component=k.component,T.transition&&Ta(T,T.transition),T.shapeFlag|=512,s.delete(w),s.add(w)):(s.add(w),b&&s.size>parseInt(b,10)&&g(s.values().next().value)),T.shapeFlag|=256,o=T,Ob(S.type)?S:T}}},V$=L$;function bd(t,e){return it(t)?t.some(n=>bd(n,e)):Vn(t)?t.split(",").includes(e):NV(t)?t.test(e):!1}function DO(t,e){MO(t,"a",e)}function NO(t,e){MO(t,"da",e)}function MO(t,e,n=mr){const r=t.__wdc||(t.__wdc=()=>{let i=n;for(;i;){if(i.isDeactivated)return;i=i.parent}return t()});if(Og(e,r,n),n){let i=n.parent;for(;i&&i.parent;)sf(i.parent.vnode)&&$$(r,e,n,i),i=i.parent}}function $$(t,e,n,r){const i=Og(e,t,r,!0);Gs(()=>{y_(r[e],i)},n)}function Qv(t){t.shapeFlag&=-257,t.shapeFlag&=-513}function rp(t){return t.shapeFlag&128?t.ssContent:t}function Og(t,e,n=mr,r=!1){if(n){const i=n[t]||(n[t]=[]),s=e.__weh||(e.__weh=(...o)=>{ka();const a=wl(n),l=$i(e,n,t,o);return a(),Ra(),l});return r?i.unshift(s):i.push(s),s}}const Oo=t=>(e,n=mr)=>{(!lf||t==="sp")&&Og(t,(...r)=>e(...r),n)},M_=Oo("bm"),$t=Oo("m"),L_=Oo("bu"),kg=Oo("u"),of=Oo("bum"),Gs=Oo("um"),LO=Oo("sp"),VO=Oo("rtg"),$O=Oo("rtc");function FO(t,e=mr){Og("ec",t,e)}const V_="components",F$="directives";function An(t,e){return $_(V_,t,!0,e)||t}const UO=Symbol.for("v-ndc");function Nn(t){return Vn(t)?$_(V_,t,!1)||t:t||UO}function Rg(t){return $_(F$,t)}function $_(t,e,n=!0,r=!1){const i=vr||mr;if(i){const s=i.type;if(t===V_){const a=Lb(s,!1);if(a&&(a===e||a===ni(e)||a===nf(ni(e))))return s}const o=IE(i[t]||s[t],e)||IE(i.appContext[t],e);return!o&&r?s:o}}function IE(t,e){return t&&(t[e]||t[ni(e)]||t[nf(ni(e))])}function ht(t,e,n,r){let i;const s=n&&n[r];if(it(t)||Vn(t)){i=new Array(t.length);for(let o=0,a=t.length;o<a;o++)i[o]=e(t[o],o,void 0,s&&s[o])}else if(typeof t=="number"){i=new Array(t);for(let o=0;o<t;o++)i[o]=e(o+1,o,void 0,s&&s[o])}else if(cn(t))if(t[Symbol.iterator])i=Array.from(t,(o,a)=>e(o,a,void 0,s&&s[a]));else{const o=Object.keys(t);i=new Array(o.length);for(let a=0,l=o.length;a<l;a++){const u=o[a];i[a]=e(t[u],u,a,s&&s[a])}}else i=[];return n&&(n[r]=i),i}function dr(t,e){for(let n=0;n<e.length;n++){const r=e[n];if(it(r))for(let i=0;i<r.length;i++)t[r[i].name]=r[i].fn;else r&&(t[r.name]=r.key?(...i)=>{const s=r.fn(...i);return s&&(s.key=r.key),s}:r.fn)}return t}function Te(t,e,n={},r,i){if(vr.isCE||vr.parent&&ul(vr.parent)&&vr.parent.isCE)return e!=="default"&&(n.name=e),B("slot",n,r&&r());let s=t[e];s&&s._c&&(s._d=!1),N();const o=s&&F_(s(n)),a=ce(Pe,{key:(n.key||o&&o.key||`_${e}`)+(!o&&r?"_fb":"")},o||(r?r():[]),o&&t._===1?64:-2);return!i&&a.scopeId&&(a.slotScopeIds=[a.scopeId+"-s"]),s&&s._c&&(s._d=!0),a}function F_(t){return t.some(e=>Ea(e)?!(e.type===pr||e.type===Pe&&!F_(e.children)):!0)?t:null}function U$(t,e){const n={};for(const r in t)n[e&&/[A-Z]/.test(r)?`on:${r}`:Nd(r)]=t[r];return n}const Eb=t=>t?Tk(t)?uf(t):Eb(t.parent):null,Md=Bn(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>Eb(t.parent),$root:t=>Eb(t.root),$emit:t=>t.emit,$options:t=>U_(t),$forceUpdate:t=>t.f||(t.f=()=>{t.effect.dirty=!0,Cg(t.update)}),$nextTick:t=>t.n||(t.n=rr.bind(t.proxy)),$watch:t=>_3.bind(t)}),Jv=(t,e)=>t!==rn&&!t.__isScriptSetup&&zt(t,e),Sb={get({_:t},e){if(e==="__v_skip")return!0;const{ctx:n,setupState:r,data:i,props:s,accessCache:o,type:a,appContext:l}=t;let u;if(e[0]!=="$"){const p=o[e];if(p!==void 0)switch(p){case 1:return r[e];case 2:return i[e];case 4:return n[e];case 3:return s[e]}else{if(Jv(r,e))return o[e]=1,r[e];if(i!==rn&&zt(i,e))return o[e]=2,i[e];if((u=t.propsOptions[0])&&zt(u,e))return o[e]=3,s[e];if(n!==rn&&zt(n,e))return o[e]=4,n[e];Ib&&(o[e]=0)}}const c=Md[e];let d,h;if(c)return e==="$attrs"&&Pi(t.attrs,"get",""),c(t);if((d=a.__cssModules)&&(d=d[e]))return d;if(n!==rn&&zt(n,e))return o[e]=4,n[e];if(h=l.config.globalProperties,zt(h,e))return h[e]},set({_:t},e,n){const{data:r,setupState:i,ctx:s}=t;return Jv(i,e)?(i[e]=n,!0):r!==rn&&zt(r,e)?(r[e]=n,!0):zt(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(s[e]=n,!0)},has({_:{data:t,setupState:e,accessCache:n,ctx:r,appContext:i,propsOptions:s}},o){let a;return!!n[o]||t!==rn&&zt(t,o)||Jv(e,o)||(a=s[0])&&zt(a,o)||zt(r,o)||zt(Md,o)||zt(i.config.globalProperties,o)},defineProperty(t,e,n){return n.get!=null?t._.accessCache[e]=0:zt(n,"value")&&this.set(t,e,n.value,null),Reflect.defineProperty(t,e,n)}},q$=Bn({},Sb,{get(t,e){if(e!==Symbol.unscopables)return Sb.get(t,e,t)},has(t,e){return e[0]!=="_"&&!FV(e)}});function B$(){return null}function j$(){return null}function H$(t){}function W$(t){}function z$(){return null}function K$(){}function G$(t,e){return null}function xa(){return qO().slots}function Y$(){return qO().attrs}function qO(){const t=ts();return t.setupContext||(t.setupContext=Ik(t))}function fh(t){return it(t)?t.reduce((e,n)=>(e[n]=null,e),{}):t}function X$(t,e){const n=fh(t);for(const r in e){if(r.startsWith("__skip"))continue;let i=n[r];i?it(i)||mt(i)?i=n[r]={type:i,default:e[r]}:i.default=e[r]:i===null&&(i=n[r]={default:e[r]}),i&&e[`__skip_${r}`]&&(i.skipFactory=!0)}return n}function Q$(t,e){return!t||!e?t||e:it(t)&&it(e)?t.concat(e):Bn({},fh(t),fh(e))}function J$(t,e){const n={};for(const r in t)e.includes(r)||Object.defineProperty(n,r,{enumerable:!0,get:()=>t[r]});return n}function Z$(t){const e=ts();let n=t();return Db(),b_(n)&&(n=n.catch(r=>{throw wl(e),r})),[n,()=>wl(e)]}let Ib=!0;function e3(t){const e=U_(t),n=t.proxy,r=t.ctx;Ib=!1,e.beforeCreate&&CE(e.beforeCreate,t,"bc");const{data:i,computed:s,methods:o,watch:a,provide:l,inject:u,created:c,beforeMount:d,mounted:h,beforeUpdate:p,updated:m,activated:g,deactivated:y,beforeDestroy:P,beforeUnmount:I,destroyed:S,unmounted:T,render:M,renderTracked:R,renderTriggered:C,errorCaptured:E,serverPrefetch:b,expose:w,inheritAttrs:k,components:x,directives:O,filters:j}=e;if(u&&t3(u,r,null),o)for(const q in o){const te=o[q];mt(te)&&(r[q]=te.bind(n))}if(i){const q=i.call(n,n);cn(q)&&(t.data=Pr(q))}if(Ib=!0,s)for(const q in s){const te=s[q],z=mt(te)?te.bind(n,n):mt(te.get)?te.get.bind(n,n):Ei,V=!mt(te)&&mt(te.set)?te.set.bind(n):Ei,ue=ee({get:z,set:V});Object.defineProperty(r,q,{enumerable:!0,configurable:!0,get:()=>ue.value,set:oe=>ue.value=oe})}if(a)for(const q in a)BO(a[q],r,n,q);if(l){const q=mt(l)?l.call(n):l;Reflect.ownKeys(q).forEach(te=>{Vu(te,q[te])})}c&&CE(c,t,"c");function $(q,te){it(te)?te.forEach(z=>q(z.bind(n))):te&&q(te.bind(n))}if($(M_,d),$($t,h),$(L_,p),$(kg,m),$(DO,g),$(NO,y),$(FO,E),$($O,R),$(VO,C),$(of,I),$(Gs,T),$(LO,b),it(w))if(w.length){const q=t.exposed||(t.exposed={});w.forEach(te=>{Object.defineProperty(q,te,{get:()=>n[te],set:z=>n[te]=z})})}else t.exposed||(t.exposed={});M&&t.render===Ei&&(t.render=M),k!=null&&(t.inheritAttrs=k),x&&(t.components=x),O&&(t.directives=O)}function t3(t,e,n=Ei){it(t)&&(t=Cb(t));for(const r in t){const i=t[r];let s;cn(i)?"default"in i?s=pi(i.from||r,i.default,!0):s=pi(i.from||r):s=pi(i),_n(s)?Object.defineProperty(e,r,{enumerable:!0,configurable:!0,get:()=>s.value,set:o=>s.value=o}):e[r]=s}}function CE(t,e,n){$i(it(t)?t.map(r=>r.bind(e.proxy)):t.bind(e.proxy),e,n)}function BO(t,e,n,r){const i=r.includes(".")?hk(n,r):()=>n[r];if(Vn(t)){const s=e[t];mt(s)&&pn(i,s)}else if(mt(t))pn(i,t.bind(n));else if(cn(t))if(it(t))t.forEach(s=>BO(s,e,n,r));else{const s=mt(t.handler)?t.handler.bind(n):e[t.handler];mt(s)&&pn(i,s,t)}}function U_(t){const e=t.type,{mixins:n,extends:r}=e,{mixins:i,optionsCache:s,config:{optionMergeStrategies:o}}=t.appContext,a=s.get(e);let l;return a?l=a:!i.length&&!n&&!r?l=e:(l={},i.length&&i.forEach(u=>dm(l,u,o,!0)),dm(l,e,o)),cn(e)&&s.set(e,l),l}function dm(t,e,n,r=!1){const{mixins:i,extends:s}=e;s&&dm(t,s,n,!0),i&&i.forEach(o=>dm(t,o,n,!0));for(const o in e)if(!(r&&o==="expose")){const a=n3[o]||n&&n[o];t[o]=a?a(t[o],e[o]):e[o]}return t}const n3={data:AE,props:PE,emits:PE,methods:_d,computed:_d,beforeCreate:ci,created:ci,beforeMount:ci,mounted:ci,beforeUpdate:ci,updated:ci,beforeDestroy:ci,beforeUnmount:ci,destroyed:ci,unmounted:ci,activated:ci,deactivated:ci,errorCaptured:ci,serverPrefetch:ci,components:_d,directives:_d,watch:i3,provide:AE,inject:r3};function AE(t,e){return e?t?function(){return Bn(mt(t)?t.call(this,this):t,mt(e)?e.call(this,this):e)}:e:t}function r3(t,e){return _d(Cb(t),Cb(e))}function Cb(t){if(it(t)){const e={};for(let n=0;n<t.length;n++)e[t[n]]=t[n];return e}return t}function ci(t,e){return t?[...new Set([].concat(t,e))]:e}function _d(t,e){return t?Bn(Object.create(null),t,e):e}function PE(t,e){return t?it(t)&&it(e)?[...new Set([...t,...e])]:Bn(Object.create(null),fh(t),fh(e??{})):e}function i3(t,e){if(!t)return e;if(!e)return t;const n=Bn(Object.create(null),t);for(const r in e)n[r]=ci(t[r],e[r]);return n}function jO(){return{app:null,config:{isNativeTag:xV,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let s3=0;function o3(t,e){return function(r,i=null){mt(r)||(r=Bn({},r)),i!=null&&!cn(i)&&(i=null);const s=jO(),o=new WeakSet;let a=!1;const l=s.app={_uid:s3++,_component:r,_props:i,_container:null,_context:s,_instance:null,version:Ak,get config(){return s.config},set config(u){},use(u,...c){return o.has(u)||(u&&mt(u.install)?(o.add(u),u.install(l,...c)):mt(u)&&(o.add(u),u(l,...c))),l},mixin(u){return s.mixins.includes(u)||s.mixins.push(u),l},component(u,c){return c?(s.components[u]=c,l):s.components[u]},directive(u,c){return c?(s.directives[u]=c,l):s.directives[u]},mount(u,c,d){if(!a){const h=B(r,i);return h.appContext=s,d===!0?d="svg":d===!1&&(d=void 0),c&&e?e(h,u):t(h,u,d),a=!0,l._container=u,u.__vue_app__=l,uf(h.component)}},unmount(){a&&(t(null,l._container),delete l._container.__vue_app__)},provide(u,c){return s.provides[u]=c,l},runWithContext(u){const c=cl;cl=l;try{return u()}finally{cl=c}}};return l}}let cl=null;function Vu(t,e){if(mr){let n=mr.provides;const r=mr.parent&&mr.parent.provides;r===n&&(n=mr.provides=Object.create(r)),n[t]=e}}function pi(t,e,n=!1){const r=mr||vr;if(r||cl){const i=cl?cl._context.provides:r?r.parent==null?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:void 0;if(i&&t in i)return i[t];if(arguments.length>1)return n&&mt(e)?e.call(r&&r.proxy):e}}function HO(){return!!(mr||vr||cl)}const WO={},zO=()=>Object.create(WO),KO=t=>Object.getPrototypeOf(t)===WO;function a3(t,e,n,r=!1){const i={},s=zO();t.propsDefaults=Object.create(null),GO(t,e,i,s);for(const o in t.propsOptions[0])o in i||(i[o]=void 0);n?t.props=r?i:I_(i):t.type.props?t.props=i:t.props=s,t.attrs=s}function l3(t,e,n,r){const{props:i,attrs:s,vnode:{patchFlag:o}}=t,a=Mt(i),[l]=t.propsOptions;let u=!1;if((r||o>0)&&!(o&16)){if(o&8){const c=t.vnode.dynamicProps;for(let d=0;d<c.length;d++){let h=c[d];if(xg(t.emitsOptions,h))continue;const p=e[h];if(l)if(zt(s,h))p!==s[h]&&(s[h]=p,u=!0);else{const m=ni(h);i[m]=Ab(l,a,m,p,t,!1)}else p!==s[h]&&(s[h]=p,u=!0)}}}else{GO(t,e,i,s)&&(u=!0);let c;for(const d in a)(!e||!zt(e,d)&&((c=wi(d))===d||!zt(e,c)))&&(l?n&&(n[d]!==void 0||n[c]!==void 0)&&(i[d]=Ab(l,a,d,void 0,t,!0)):delete i[d]);if(s!==a)for(const d in s)(!e||!zt(e,d))&&(delete s[d],u=!0)}u&&vo(t.attrs,"set","")}function GO(t,e,n,r){const[i,s]=t.propsOptions;let o=!1,a;if(e)for(let l in e){if(Du(l))continue;const u=e[l];let c;i&&zt(i,c=ni(l))?!s||!s.includes(c)?n[c]=u:(a||(a={}))[c]=u:xg(t.emitsOptions,l)||(!(l in r)||u!==r[l])&&(r[l]=u,o=!0)}if(s){const l=Mt(n),u=a||rn;for(let c=0;c<s.length;c++){const d=s[c];n[d]=Ab(i,l,d,u[d],t,!zt(u,d))}}return o}function Ab(t,e,n,r,i,s){const o=t[n];if(o!=null){const a=zt(o,"default");if(a&&r===void 0){const l=o.default;if(o.type!==Function&&!o.skipFactory&&mt(l)){const{propsDefaults:u}=i;if(n in u)r=u[n];else{const c=wl(i);r=u[n]=l.call(null,e),c()}}else r=l}o[0]&&(s&&!a?r=!1:o[1]&&(r===""||r===wi(n))&&(r=!0))}return r}const u3=new WeakMap;function YO(t,e,n=!1){const r=n?u3:e.propsCache,i=r.get(t);if(i)return i;const s=t.props,o={},a=[];let l=!1;if(!mt(t)){const c=d=>{l=!0;const[h,p]=YO(d,e,!0);Bn(o,h),p&&a.push(...p)};!n&&e.mixins.length&&e.mixins.forEach(c),t.extends&&c(t.extends),t.mixins&&t.mixins.forEach(c)}if(!s&&!l)return cn(t)&&r.set(t,Ru),Ru;if(it(s))for(let c=0;c<s.length;c++){const d=ni(s[c]);OE(d)&&(o[d]=rn)}else if(s)for(const c in s){const d=ni(c);if(OE(d)){const h=s[c],p=o[d]=it(h)||mt(h)?{type:h}:Bn({},h),m=p.type;let g=!1,y=!0;if(it(m))for(let P=0;P<m.length;++P){const I=m[P],S=mt(I)&&I.name;if(S==="Boolean"){g=!0;break}else S==="String"&&(y=!1)}else g=mt(m)&&m.name==="Boolean";p[0]=g,p[1]=y,(g||zt(p,"default"))&&a.push(d)}}const u=[o,a];return cn(t)&&r.set(t,u),u}function OE(t){return t[0]!=="$"&&!Du(t)}const XO=t=>t[0]==="_"||t==="$stable",q_=t=>it(t)?t.map(_i):[_i(t)],c3=(t,e,n)=>{if(e._n)return e;const r=J((...i)=>q_(e(...i)),n);return r._c=!1,r},QO=(t,e,n)=>{const r=t._ctx;for(const i in t){if(XO(i))continue;const s=t[i];if(mt(s))e[i]=c3(i,s,r);else if(s!=null){const o=q_(s);e[i]=()=>o}}},JO=(t,e)=>{const n=q_(e);t.slots.default=()=>n},ZO=(t,e,n)=>{for(const r in e)(n||r!=="_")&&(t[r]=e[r])},d3=(t,e,n)=>{const r=t.slots=zO();if(t.vnode.shapeFlag&32){const i=e._;i?(ZO(r,e,n),n&&tO(r,"_",i,!0)):QO(e,r)}else e&&JO(t,e)},h3=(t,e,n)=>{const{vnode:r,slots:i}=t;let s=!0,o=rn;if(r.shapeFlag&32){const a=e._;a?n&&a===1?s=!1:ZO(i,e,n):(s=!e.$stable,QO(e,i)),o=e}else e&&(JO(t,e),o={default:1});if(s)for(const a in i)!XO(a)&&o[a]==null&&delete i[a]};function hm(t,e,n,r,i=!1){if(it(t)){t.forEach((h,p)=>hm(h,e&&(it(e)?e[p]:e),n,r,i));return}if(ul(r)&&!i)return;const s=r.shapeFlag&4?uf(r.component):r.el,o=i?null:s,{i:a,r:l}=t,u=e&&e.r,c=a.refs===rn?a.refs={}:a.refs,d=a.setupState;if(u!=null&&u!==l&&(Vn(u)?(c[u]=null,zt(d,u)&&(d[u]=null)):_n(u)&&(u.value=null)),mt(l))yo(l,a,12,[o,c]);else{const h=Vn(l),p=_n(l);if(h||p){const m=()=>{if(t.f){const g=h?zt(d,l)?d[l]:c[l]:l.value;i?it(g)&&y_(g,s):it(g)?g.includes(s)||g.push(s):h?(c[l]=[s],zt(d,l)&&(d[l]=c[l])):(l.value=[s],t.k&&(c[t.k]=l.value))}else h?(c[l]=o,zt(d,l)&&(d[l]=o)):p&&(l.value=o,t.k&&(c[t.k]=o))};o?(m.id=-1,Tr(m,n)):m()}}}const ek=Symbol("_vte"),f3=t=>t.__isTeleport,Ld=t=>t&&(t.disabled||t.disabled===""),kE=t=>typeof SVGElement<"u"&&t instanceof SVGElement,RE=t=>typeof MathMLElement=="function"&&t instanceof MathMLElement,Pb=(t,e)=>{const n=t&&t.to;return Vn(n)?e?e(n):null:n},p3={name:"Teleport",__isTeleport:!0,process(t,e,n,r,i,s,o,a,l,u){const{mc:c,pc:d,pbc:h,o:{insert:p,querySelector:m,createText:g,createComment:y}}=u,P=Ld(e.props);let{shapeFlag:I,children:S,dynamicChildren:T}=e;if(t==null){const M=e.el=g(""),R=e.anchor=g("");p(M,n,r),p(R,n,r);const C=e.target=Pb(e.props,m),E=nk(C,e,g,p);C&&(o==="svg"||kE(C)?o="svg":(o==="mathml"||RE(C))&&(o="mathml"));const b=(w,k)=>{I&16&&c(S,w,k,i,s,o,a,l)};P?b(n,R):C&&b(C,E)}else{e.el=t.el,e.targetStart=t.targetStart;const M=e.anchor=t.anchor,R=e.target=t.target,C=e.targetAnchor=t.targetAnchor,E=Ld(t.props),b=E?n:R,w=E?M:C;if(o==="svg"||kE(R)?o="svg":(o==="mathml"||RE(R))&&(o="mathml"),T?(h(t.dynamicChildren,T,b,i,s,o,a),j_(t,e,!0)):l||d(t,e,b,w,i,s,o,a,!1),P)E?e.props&&t.props&&e.props.to!==t.props.to&&(e.props.to=t.props.to):ip(e,n,M,u,1);else if((e.props&&e.props.to)!==(t.props&&t.props.to)){const k=e.target=Pb(e.props,m);k&&ip(e,k,null,u,0)}else E&&ip(e,R,C,u,1)}tk(e)},remove(t,e,n,{um:r,o:{remove:i}},s){const{shapeFlag:o,children:a,anchor:l,targetStart:u,targetAnchor:c,target:d,props:h}=t;if(d&&(i(u),i(c)),s&&i(l),o&16){const p=s||!Ld(h);for(let m=0;m<a.length;m++){const g=a[m];r(g,e,n,p,!!g.dynamicChildren)}}},move:ip,hydrate:m3};function ip(t,e,n,{o:{insert:r},m:i},s=2){s===0&&r(t.targetAnchor,e,n);const{el:o,anchor:a,shapeFlag:l,children:u,props:c}=t,d=s===2;if(d&&r(o,e,n),(!d||Ld(c))&&l&16)for(let h=0;h<u.length;h++)i(u[h],e,n,2);d&&r(a,e,n)}function m3(t,e,n,r,i,s,{o:{nextSibling:o,parentNode:a,querySelector:l,insert:u,createText:c}},d){const h=e.target=Pb(e.props,l);if(h){const p=h._lpa||h.firstChild;if(e.shapeFlag&16)if(Ld(e.props))e.anchor=d(o(t),e,a(t),n,r,i,s),e.targetStart=p,e.targetAnchor=p&&o(p);else{e.anchor=o(t);let m=p;for(;m;){if(m&&m.nodeType===8){if(m.data==="teleport start anchor")e.targetStart=m;else if(m.data==="teleport anchor"){e.targetAnchor=m,h._lpa=e.targetAnchor&&o(e.targetAnchor);break}}m=o(m)}e.targetAnchor||nk(h,e,c,u),d(p&&o(p),e,h,n,r,i,s)}tk(e)}return e.anchor&&o(e.anchor)}const B_=p3;function tk(t){const e=t.ctx;if(e&&e.ut){let n=t.children[0].el;for(;n&&n!==t.targetAnchor;)n.nodeType===1&&n.setAttribute("data-v-owner",e.uid),n=n.nextSibling;e.ut()}}function nk(t,e,n,r){const i=e.targetStart=n(""),s=e.targetAnchor=n("");return i[ek]=s,t&&(r(i,t),r(s,t)),s}let xE=!1;const Zl=()=>{xE||(console.error("Hydration completed but contains mismatches."),xE=!0)},g3=t=>t.namespaceURI.includes("svg")&&t.tagName!=="foreignObject",v3=t=>t.namespaceURI.includes("MathML"),sp=t=>{if(g3(t))return"svg";if(v3(t))return"mathml"},op=t=>t.nodeType===8;function y3(t){const{mt:e,p:n,o:{patchProp:r,createText:i,nextSibling:s,parentNode:o,remove:a,insert:l,createComment:u}}=t,c=(S,T)=>{if(!T.hasChildNodes()){n(null,S,T),cm(),T._vnode=S;return}d(T.firstChild,S,null,null,null),cm(),T._vnode=S},d=(S,T,M,R,C,E=!1)=>{E=E||!!T.dynamicChildren;const b=op(S)&&S.data==="[",w=()=>g(S,T,M,R,C,b),{type:k,ref:x,shapeFlag:O,patchFlag:j}=T;let U=S.nodeType;T.el=S,j===-2&&(E=!1,T.dynamicChildren=null);let $=null;switch(k){case ca:U!==3?T.children===""?(l(T.el=i(""),o(S),S),$=S):$=w():(S.data!==T.children&&(Zl(),S.data=T.children),$=s(S));break;case pr:I(S)?($=s(S),P(T.el=S.content.firstChild,S,M)):U!==8||b?$=w():$=s(S);break;case dl:if(b&&(S=s(S),U=S.nodeType),U===1||U===3){$=S;const q=!T.children.length;for(let te=0;te<T.staticCount;te++)q&&(T.children+=$.nodeType===1?$.outerHTML:$.data),te===T.staticCount-1&&(T.anchor=$),$=s($);return b?s($):$}else w();break;case Pe:b?$=m(S,T,M,R,C,E):$=w();break;default:if(O&1)(U!==1||T.type.toLowerCase()!==S.tagName.toLowerCase())&&!I(S)?$=w():$=h(S,T,M,R,C,E);else if(O&6){T.slotScopeIds=C;const q=o(S);if(b?$=y(S):op(S)&&S.data==="teleport start"?$=y(S,S.data,"teleport end"):$=s(S),e(T,q,null,M,R,sp(q),E),ul(T)){let te;b?(te=B(Pe),te.anchor=$?$.previousSibling:q.lastChild):te=S.nodeType===3?K(""):B("div"),te.el=S,T.component.subTree=te}}else O&64?U!==8?$=w():$=T.type.hydrate(S,T,M,R,C,E,t,p):O&128&&($=T.type.hydrate(S,T,M,R,sp(o(S)),C,E,t,d))}return x!=null&&hm(x,null,R,T),$},h=(S,T,M,R,C,E)=>{E=E||!!T.dynamicChildren;const{type:b,props:w,patchFlag:k,shapeFlag:x,dirs:O,transition:j}=T,U=b==="input"||b==="option";if(U||k!==-1){O&&As(T,null,M,"created");let $=!1;if(I(S)){$=ok(R,j)&&M&&M.vnode.props&&M.vnode.props.appear;const te=S.content.firstChild;$&&j.beforeEnter(te),P(te,S,M),T.el=S=te}if(x&16&&!(w&&(w.innerHTML||w.textContent))){let te=p(S.firstChild,T,S,M,R,C,E);for(;te;){Zl();const z=te;te=te.nextSibling,a(z)}}else x&8&&S.textContent!==T.children&&(Zl(),S.textContent=T.children);if(w){if(U||!E||k&48){const te=S.tagName.includes("-");for(const z in w)(U&&(z.endsWith("value")||z==="indeterminate")||tf(z)&&!Du(z)||z[0]==="."||te)&&r(S,z,null,w[z],void 0,M)}else if(w.onClick)r(S,"onClick",null,w.onClick,void 0,M);else if(k&4&&Ms(w.style))for(const te in w.style)w.style[te]}let q;(q=w&&w.onVnodeBeforeMount)&&yi(q,M,T),O&&As(T,null,M,"beforeMount"),((q=w&&w.onVnodeMounted)||O||$)&&gk(()=>{q&&yi(q,M,T),$&&j.enter(S),O&&As(T,null,M,"mounted")},R)}return S.nextSibling},p=(S,T,M,R,C,E,b)=>{b=b||!!T.dynamicChildren;const w=T.children,k=w.length;for(let x=0;x<k;x++){const O=b?w[x]:w[x]=_i(w[x]),j=O.type===ca;if(S){if(j&&!b){let U=w[x+1];U&&(U=_i(U)).type===ca&&(l(i(S.data.slice(O.children.length)),M,s(S)),S.data=O.children)}S=d(S,O,R,C,E,b)}else j&&!O.children?l(O.el=i(""),M):(Zl(),n(null,O,M,null,R,C,sp(M),E))}return S},m=(S,T,M,R,C,E)=>{const{slotScopeIds:b}=T;b&&(C=C?C.concat(b):b);const w=o(S),k=p(s(S),T,w,M,R,C,E);return k&&op(k)&&k.data==="]"?s(T.anchor=k):(Zl(),l(T.anchor=u("]"),w,k),k)},g=(S,T,M,R,C,E)=>{if(Zl(),T.el=null,E){const k=y(S);for(;;){const x=s(S);if(x&&x!==k)a(x);else break}}const b=s(S),w=o(S);return a(S),n(null,T,w,b,M,R,sp(w),C),b},y=(S,T="[",M="]")=>{let R=0;for(;S;)if(S=s(S),S&&op(S)&&(S.data===T&&R++,S.data===M)){if(R===0)return s(S);R--}return S},P=(S,T,M)=>{const R=T.parentNode;R&&R.replaceChild(S,T);let C=M;for(;C;)C.vnode.el===T&&(C.vnode.el=C.subTree.el=S),C=C.parent},I=S=>S.nodeType===1&&S.tagName.toLowerCase()==="template";return[c,d]}const Tr=gk;function rk(t){return sk(t)}function ik(t){return sk(t,y3)}function sk(t,e){const n=nO();n.__VUE__=!0;const{insert:r,remove:i,patchProp:s,createElement:o,createText:a,createComment:l,setText:u,setElementText:c,parentNode:d,nextSibling:h,setScopeId:p=Ei,insertStaticContent:m}=t,g=(L,H,X,me=null,ge=null,Ae=null,Ve=void 0,ke=null,De=!!H.dynamicChildren)=>{if(L===H)return;L&&!cs(L,H)&&(me=ne(L),oe(L,ge,Ae,!0),L=null),H.patchFlag===-2&&(De=!1,H.dynamicChildren=null);const{type:Ie,ref:He,shapeFlag:We}=H;switch(Ie){case ca:y(L,H,X,me);break;case pr:P(L,H,X,me);break;case dl:L==null&&I(H,X,me,Ve);break;case Pe:x(L,H,X,me,ge,Ae,Ve,ke,De);break;default:We&1?M(L,H,X,me,ge,Ae,Ve,ke,De):We&6?O(L,H,X,me,ge,Ae,Ve,ke,De):(We&64||We&128)&&Ie.process(L,H,X,me,ge,Ae,Ve,ke,De,_e)}He!=null&&ge&&hm(He,L&&L.ref,Ae,H||L,!H)},y=(L,H,X,me)=>{if(L==null)r(H.el=a(H.children),X,me);else{const ge=H.el=L.el;H.children!==L.children&&u(ge,H.children)}},P=(L,H,X,me)=>{L==null?r(H.el=l(H.children||""),X,me):H.el=L.el},I=(L,H,X,me)=>{[L.el,L.anchor]=m(L.children,H,X,me,L.el,L.anchor)},S=({el:L,anchor:H},X,me)=>{let ge;for(;L&&L!==H;)ge=h(L),r(L,X,me),L=ge;r(H,X,me)},T=({el:L,anchor:H})=>{let X;for(;L&&L!==H;)X=h(L),i(L),L=X;i(H)},M=(L,H,X,me,ge,Ae,Ve,ke,De)=>{H.type==="svg"?Ve="svg":H.type==="math"&&(Ve="mathml"),L==null?R(H,X,me,ge,Ae,Ve,ke,De):b(L,H,ge,Ae,Ve,ke,De)},R=(L,H,X,me,ge,Ae,Ve,ke)=>{let De,Ie;const{props:He,shapeFlag:We,transition:Qe,dirs:lt}=L;if(De=L.el=o(L.type,Ae,He&&He.is,He),We&8?c(De,L.children):We&16&&E(L.children,De,null,me,ge,Zv(L,Ae),Ve,ke),lt&&As(L,null,me,"created"),C(De,L,L.scopeId,Ve,me),He){for(const re in He)re!=="value"&&!Du(re)&&s(De,re,null,He[re],Ae,me);"value"in He&&s(De,"value",null,He.value,Ae),(Ie=He.onVnodeBeforeMount)&&yi(Ie,me,L)}lt&&As(L,null,me,"beforeMount");const et=ok(ge,Qe);et&&Qe.beforeEnter(De),r(De,H,X),((Ie=He&&He.onVnodeMounted)||et||lt)&&Tr(()=>{Ie&&yi(Ie,me,L),et&&Qe.enter(De),lt&&As(L,null,me,"mounted")},ge)},C=(L,H,X,me,ge)=>{if(X&&p(L,X),me)for(let Ae=0;Ae<me.length;Ae++)p(L,me[Ae]);if(ge){let Ae=ge.subTree;if(H===Ae){const Ve=ge.vnode;C(L,Ve,Ve.scopeId,Ve.slotScopeIds,ge.parent)}}},E=(L,H,X,me,ge,Ae,Ve,ke,De=0)=>{for(let Ie=De;Ie<L.length;Ie++){const He=L[Ie]=ke?Xo(L[Ie]):_i(L[Ie]);g(null,He,H,X,me,ge,Ae,Ve,ke)}},b=(L,H,X,me,ge,Ae,Ve)=>{const ke=H.el=L.el;let{patchFlag:De,dynamicChildren:Ie,dirs:He}=H;De|=L.patchFlag&16;const We=L.props||rn,Qe=H.props||rn;let lt;if(X&&Ha(X,!1),(lt=Qe.onVnodeBeforeUpdate)&&yi(lt,X,H,L),He&&As(H,L,X,"beforeUpdate"),X&&Ha(X,!0),(We.innerHTML&&Qe.innerHTML==null||We.textContent&&Qe.textContent==null)&&c(ke,""),Ie?w(L.dynamicChildren,Ie,ke,X,me,Zv(H,ge),Ae):Ve||te(L,H,ke,null,X,me,Zv(H,ge),Ae,!1),De>0){if(De&16)k(ke,We,Qe,X,ge);else if(De&2&&We.class!==Qe.class&&s(ke,"class",null,Qe.class,ge),De&4&&s(ke,"style",We.style,Qe.style,ge),De&8){const et=H.dynamicProps;for(let re=0;re<et.length;re++){const G=et[re],Q=We[G],ae=Qe[G];(ae!==Q||G==="value")&&s(ke,G,Q,ae,ge,X)}}De&1&&L.children!==H.children&&c(ke,H.children)}else!Ve&&Ie==null&&k(ke,We,Qe,X,ge);((lt=Qe.onVnodeUpdated)||He)&&Tr(()=>{lt&&yi(lt,X,H,L),He&&As(H,L,X,"updated")},me)},w=(L,H,X,me,ge,Ae,Ve)=>{for(let ke=0;ke<H.length;ke++){const De=L[ke],Ie=H[ke],He=De.el&&(De.type===Pe||!cs(De,Ie)||De.shapeFlag&70)?d(De.el):X;g(De,Ie,He,null,me,ge,Ae,Ve,!0)}},k=(L,H,X,me,ge)=>{if(H!==X){if(H!==rn)for(const Ae in H)!Du(Ae)&&!(Ae in X)&&s(L,Ae,H[Ae],null,ge,me);for(const Ae in X){if(Du(Ae))continue;const Ve=X[Ae],ke=H[Ae];Ve!==ke&&Ae!=="value"&&s(L,Ae,ke,Ve,ge,me)}"value"in X&&s(L,"value",H.value,X.value,ge)}},x=(L,H,X,me,ge,Ae,Ve,ke,De)=>{const Ie=H.el=L?L.el:a(""),He=H.anchor=L?L.anchor:a("");let{patchFlag:We,dynamicChildren:Qe,slotScopeIds:lt}=H;lt&&(ke=ke?ke.concat(lt):lt),L==null?(r(Ie,X,me),r(He,X,me),E(H.children||[],X,He,ge,Ae,Ve,ke,De)):We>0&&We&64&&Qe&&L.dynamicChildren?(w(L.dynamicChildren,Qe,X,ge,Ae,Ve,ke),(H.key!=null||ge&&H===ge.subTree)&&j_(L,H,!0)):te(L,H,X,He,ge,Ae,Ve,ke,De)},O=(L,H,X,me,ge,Ae,Ve,ke,De)=>{H.slotScopeIds=ke,L==null?H.shapeFlag&512?ge.ctx.activate(H,X,me,Ve,De):j(H,X,me,ge,Ae,Ve,De):U(L,H,De)},j=(L,H,X,me,ge,Ae,Ve)=>{const ke=L.component=wk(L,me,ge);if(sf(L)&&(ke.ctx.renderer=_e),Ek(ke,!1,Ve),ke.asyncDep){if(ge&&ge.registerDep(ke,$,Ve),!L.el){const De=ke.subTree=B(pr);P(null,De,H,X)}}else $(ke,L,H,X,ge,Ae,Ve)},U=(L,H,X)=>{const me=H.component=L.component;if(C3(L,H,X))if(me.asyncDep&&!me.asyncResolved){q(me,H,X);return}else me.next=H,R$(me.update),me.effect.dirty=!0,me.update();else H.el=L.el,me.vnode=H},$=(L,H,X,me,ge,Ae,Ve)=>{const ke=()=>{if(L.isMounted){let{next:He,bu:We,u:Qe,parent:lt,vnode:et}=L;{const be=ak(L);if(be){He&&(He.el=et.el,q(L,He,Ve)),be.asyncDep.then(()=>{L.isUnmounted||ke()});return}}let re=He,G;Ha(L,!1),He?(He.el=et.el,q(L,He,Ve)):He=et,We&&Nu(We),(G=He.props&&He.props.onVnodeBeforeUpdate)&&yi(G,lt,He,et),Ha(L,!0);const Q=Vp(L),ae=L.subTree;L.subTree=Q,g(ae,Q,d(ae.el),ne(ae),L,ge,Ae),He.el=Q.el,re===null&&W_(L,Q.el),Qe&&Tr(Qe,ge),(G=He.props&&He.props.onVnodeUpdated)&&Tr(()=>yi(G,lt,He,et),ge)}else{let He;const{el:We,props:Qe}=H,{bm:lt,m:et,parent:re}=L,G=ul(H);if(Ha(L,!1),lt&&Nu(lt),!G&&(He=Qe&&Qe.onVnodeBeforeMount)&&yi(He,re,H),Ha(L,!0),We&&fe){const Q=()=>{L.subTree=Vp(L),fe(We,L.subTree,L,ge,null)};G?H.type.__asyncLoader().then(()=>!L.isUnmounted&&Q()):Q()}else{const Q=L.subTree=Vp(L);g(null,Q,X,me,L,ge,Ae),H.el=Q.el}if(et&&Tr(et,ge),!G&&(He=Qe&&Qe.onVnodeMounted)){const Q=H;Tr(()=>yi(He,re,Q),ge)}(H.shapeFlag&256||re&&ul(re.vnode)&&re.vnode.shapeFlag&256)&&L.a&&Tr(L.a,ge),L.isMounted=!0,H=X=me=null}},De=L.effect=new Yu(ke,Ei,()=>Cg(Ie),L.scope),Ie=L.update=()=>{De.dirty&&De.run()};Ie.i=L,Ie.id=L.uid,Ha(L,!0),Ie()},q=(L,H,X)=>{H.component=L;const me=L.vnode.props;L.vnode=H,L.next=null,l3(L,H.props,me,X),h3(L,H.children,X),ka(),EE(L),Ra()},te=(L,H,X,me,ge,Ae,Ve,ke,De=!1)=>{const Ie=L&&L.children,He=L?L.shapeFlag:0,We=H.children,{patchFlag:Qe,shapeFlag:lt}=H;if(Qe>0){if(Qe&128){V(Ie,We,X,me,ge,Ae,Ve,ke,De);return}else if(Qe&256){z(Ie,We,X,me,ge,Ae,Ve,ke,De);return}}lt&8?(He&16&&Y(Ie,ge,Ae),We!==Ie&&c(X,We)):He&16?lt&16?V(Ie,We,X,me,ge,Ae,Ve,ke,De):Y(Ie,ge,Ae,!0):(He&8&&c(X,""),lt&16&&E(We,X,me,ge,Ae,Ve,ke,De))},z=(L,H,X,me,ge,Ae,Ve,ke,De)=>{L=L||Ru,H=H||Ru;const Ie=L.length,He=H.length,We=Math.min(Ie,He);let Qe;for(Qe=0;Qe<We;Qe++){const lt=H[Qe]=De?Xo(H[Qe]):_i(H[Qe]);g(L[Qe],lt,X,null,ge,Ae,Ve,ke,De)}Ie>He?Y(L,ge,Ae,!0,!1,We):E(H,X,me,ge,Ae,Ve,ke,De,We)},V=(L,H,X,me,ge,Ae,Ve,ke,De)=>{let Ie=0;const He=H.length;let We=L.length-1,Qe=He-1;for(;Ie<=We&&Ie<=Qe;){const lt=L[Ie],et=H[Ie]=De?Xo(H[Ie]):_i(H[Ie]);if(cs(lt,et))g(lt,et,X,null,ge,Ae,Ve,ke,De);else break;Ie++}for(;Ie<=We&&Ie<=Qe;){const lt=L[We],et=H[Qe]=De?Xo(H[Qe]):_i(H[Qe]);if(cs(lt,et))g(lt,et,X,null,ge,Ae,Ve,ke,De);else break;We--,Qe--}if(Ie>We){if(Ie<=Qe){const lt=Qe+1,et=lt<He?H[lt].el:me;for(;Ie<=Qe;)g(null,H[Ie]=De?Xo(H[Ie]):_i(H[Ie]),X,et,ge,Ae,Ve,ke,De),Ie++}}else if(Ie>Qe)for(;Ie<=We;)oe(L[Ie],ge,Ae,!0),Ie++;else{const lt=Ie,et=Ie,re=new Map;for(Ie=et;Ie<=Qe;Ie++){const Ne=H[Ie]=De?Xo(H[Ie]):_i(H[Ie]);Ne.key!=null&&re.set(Ne.key,Ie)}let G,Q=0;const ae=Qe-et+1;let be=!1,qe=0;const tt=new Array(ae);for(Ie=0;Ie<ae;Ie++)tt[Ie]=0;for(Ie=lt;Ie<=We;Ie++){const Ne=L[Ie];if(Q>=ae){oe(Ne,ge,Ae,!0);continue}let Ue;if(Ne.key!=null)Ue=re.get(Ne.key);else for(G=et;G<=Qe;G++)if(tt[G-et]===0&&cs(Ne,H[G])){Ue=G;break}Ue===void 0?oe(Ne,ge,Ae,!0):(tt[Ue-et]=Ie+1,Ue>=qe?qe=Ue:be=!0,g(Ne,H[Ue],X,null,ge,Ae,Ve,ke,De),Q++)}const we=be?b3(tt):Ru;for(G=we.length-1,Ie=ae-1;Ie>=0;Ie--){const Ne=et+Ie,Ue=H[Ne],rt=Ne+1<He?H[Ne+1].el:me;tt[Ie]===0?g(null,Ue,X,rt,ge,Ae,Ve,ke,De):be&&(G<0||Ie!==we[G]?ue(Ue,X,rt,2):G--)}}},ue=(L,H,X,me,ge=null)=>{const{el:Ae,type:Ve,transition:ke,children:De,shapeFlag:Ie}=L;if(Ie&6){ue(L.component.subTree,H,X,me);return}if(Ie&128){L.suspense.move(H,X,me);return}if(Ie&64){Ve.move(L,H,X,_e);return}if(Ve===Pe){r(Ae,H,X);for(let We=0;We<De.length;We++)ue(De[We],H,X,me);r(L.anchor,H,X);return}if(Ve===dl){S(L,H,X);return}if(me!==2&&Ie&1&&ke)if(me===0)ke.beforeEnter(Ae),r(Ae,H,X),Tr(()=>ke.enter(Ae),ge);else{const{leave:We,delayLeave:Qe,afterLeave:lt}=ke,et=()=>r(Ae,H,X),re=()=>{We(Ae,()=>{et(),lt&&lt()})};Qe?Qe(Ae,et,re):re()}else r(Ae,H,X)},oe=(L,H,X,me=!1,ge=!1)=>{const{type:Ae,props:Ve,ref:ke,children:De,dynamicChildren:Ie,shapeFlag:He,patchFlag:We,dirs:Qe,cacheIndex:lt}=L;if(We===-2&&(ge=!1),ke!=null&&hm(ke,null,X,L,!0),lt!=null&&(H.renderCache[lt]=void 0),He&256){H.ctx.deactivate(L);return}const et=He&1&&Qe,re=!ul(L);let G;if(re&&(G=Ve&&Ve.onVnodeBeforeUnmount)&&yi(G,H,L),He&6)he(L.component,X,me);else{if(He&128){L.suspense.unmount(X,me);return}et&&As(L,null,H,"beforeUnmount"),He&64?L.type.remove(L,H,X,_e,me):Ie&&!Ie.hasOnce&&(Ae!==Pe||We>0&&We&64)?Y(Ie,H,X,!1,!0):(Ae===Pe&&We&384||!ge&&He&16)&&Y(De,H,X),me&&ve(L)}(re&&(G=Ve&&Ve.onVnodeUnmounted)||et)&&Tr(()=>{G&&yi(G,H,L),et&&As(L,null,H,"unmounted")},X)},ve=L=>{const{type:H,el:X,anchor:me,transition:ge}=L;if(H===Pe){Se(X,me);return}if(H===dl){T(L);return}const Ae=()=>{i(X),ge&&!ge.persisted&&ge.afterLeave&&ge.afterLeave()};if(L.shapeFlag&1&&ge&&!ge.persisted){const{leave:Ve,delayLeave:ke}=ge,De=()=>Ve(X,Ae);ke?ke(L.el,Ae,De):De()}else Ae()},Se=(L,H)=>{let X;for(;L!==H;)X=h(L),i(L),L=X;i(H)},he=(L,H,X)=>{const{bum:me,scope:ge,update:Ae,subTree:Ve,um:ke,m:De,a:Ie}=L;fm(De),fm(Ie),me&&Nu(me),ge.stop(),Ae&&(Ae.active=!1,oe(Ve,L,H,X)),ke&&Tr(ke,H),Tr(()=>{L.isUnmounted=!0},H),H&&H.pendingBranch&&!H.isUnmounted&&L.asyncDep&&!L.asyncResolved&&L.suspenseId===H.pendingId&&(H.deps--,H.deps===0&&H.resolve())},Y=(L,H,X,me=!1,ge=!1,Ae=0)=>{for(let Ve=Ae;Ve<L.length;Ve++)oe(L[Ve],H,X,me,ge)},ne=L=>{if(L.shapeFlag&6)return ne(L.component.subTree);if(L.shapeFlag&128)return L.suspense.next();const H=h(L.anchor||L.el),X=H&&H[ek];return X?h(X):H};let pe=!1;const se=(L,H,X)=>{L==null?H._vnode&&oe(H._vnode,null,null,!0):g(H._vnode||null,L,H,null,null,null,X),H._vnode=L,pe||(pe=!0,EE(),cm(),pe=!1)},_e={p:g,um:oe,m:ue,r:ve,mt:j,mc:E,pc:te,pbc:w,n:ne,o:t};let Ce,fe;return e&&([Ce,fe]=e(_e)),{render:se,hydrate:Ce,createApp:o3(se,Ce)}}function Zv({type:t,props:e},n){return n==="svg"&&t==="foreignObject"||n==="mathml"&&t==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:n}function Ha({effect:t,update:e},n){t.allowRecurse=e.allowRecurse=n}function ok(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function j_(t,e,n=!1){const r=t.children,i=e.children;if(it(r)&&it(i))for(let s=0;s<r.length;s++){const o=r[s];let a=i[s];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=i[s]=Xo(i[s]),a.el=o.el),!n&&a.patchFlag!==-2&&j_(o,a)),a.type===ca&&(a.el=o.el)}}function b3(t){const e=t.slice(),n=[0];let r,i,s,o,a;const l=t.length;for(r=0;r<l;r++){const u=t[r];if(u!==0){if(i=n[n.length-1],t[i]<u){e[r]=i,n.push(r);continue}for(s=0,o=n.length-1;s<o;)a=s+o>>1,t[n[a]]<u?s=a+1:o=a;u<t[n[s]]&&(s>0&&(e[r]=n[s-1]),n[s]=r)}}for(s=n.length,o=n[s-1];s-- >0;)n[s]=o,o=e[o];return n}function ak(t){const e=t.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:ak(e)}function fm(t){if(t)for(let e=0;e<t.length;e++)t[e].active=!1}const lk=Symbol.for("v-scx"),uk=()=>pi(lk);function H_(t,e){return af(t,null,e)}function ck(t,e){return af(t,null,{flush:"post"})}function dk(t,e){return af(t,null,{flush:"sync"})}const ap={};function pn(t,e,n){return af(t,e,n)}function af(t,e,{immediate:n,deep:r,flush:i,once:s,onTrack:o,onTrigger:a}=rn){if(e&&s){const R=e;e=(...C)=>{R(...C),M()}}const l=mr,u=R=>r===!0?R:Zo(R,r===!1?1:void 0);let c,d=!1,h=!1;if(_n(t)?(c=()=>t.value,d=bl(t)):Ms(t)?(c=()=>u(t),d=!0):it(t)?(h=!0,d=t.some(R=>Ms(R)||bl(R)),c=()=>t.map(R=>{if(_n(R))return R.value;if(Ms(R))return u(R);if(mt(R))return yo(R,l,2)})):mt(t)?e?c=()=>yo(t,l,2):c=()=>(p&&p(),$i(t,l,3,[m])):c=Ei,e&&r){const R=c;c=()=>Zo(R())}let p,m=R=>{p=S.onStop=()=>{yo(R,l,4),p=S.onStop=void 0}},g;if(lf)if(m=Ei,e?n&&$i(e,l,3,[c(),h?[]:void 0,m]):c(),i==="sync"){const R=uk();g=R.__watcherHandles||(R.__watcherHandles=[])}else return Ei;let y=h?new Array(t.length).fill(ap):ap;const P=()=>{if(!(!S.active||!S.dirty))if(e){const R=S.run();(r||d||(h?R.some((C,E)=>hi(C,y[E])):hi(R,y)))&&(p&&p(),$i(e,l,3,[R,y===ap?void 0:h&&y[0]===ap?[]:y,m]),y=R)}else S.run()};P.allowRecurse=!!e;let I;i==="sync"?I=P:i==="post"?I=()=>Tr(P,l&&l.suspense):(P.pre=!0,l&&(P.id=l.uid),I=()=>Cg(P));const S=new Yu(c,Ei,I),T=rf(),M=()=>{S.stop(),T&&y_(T.effects,S)};return e?n?P():y=S.run():i==="post"?Tr(S.run.bind(S),l&&l.suspense):S.run(),g&&g.push(M),M}function _3(t,e,n){const r=this.proxy,i=Vn(t)?t.includes(".")?hk(r,t):()=>r[t]:t.bind(r,r);let s;mt(e)?s=e:(s=e.handler,n=e);const o=wl(this),a=af(i,s.bind(r),n);return o(),a}function hk(t,e){const n=e.split(".");return()=>{let r=t;for(let i=0;i<n.length&&r;i++)r=r[n[i]];return r}}function Zo(t,e=1/0,n){if(e<=0||!cn(t)||t.__v_skip||(n=n||new Set,n.has(t)))return t;if(n.add(t),e--,_n(t))Zo(t.value,e,n);else if(it(t))for(let r=0;r<t.length;r++)Zo(t[r],e,n);else if(Ul(t)||xu(t))t.forEach(r=>{Zo(r,e,n)});else if(eO(t)){for(const r in t)Zo(t[r],e,n);for(const r of Object.getOwnPropertySymbols(t))Object.prototype.propertyIsEnumerable.call(t,r)&&Zo(t[r],e,n)}return t}function w3(t,e,n=rn){const r=ts(),i=ni(e),s=wi(e),o=fk(t,e),a=EO((l,u)=>{let c,d=rn,h;return dk(()=>{const p=t[e];hi(c,p)&&(c=p,u())}),{get(){return l(),n.get?n.get(c):c},set(p){const m=n.set?n.set(p):p;if(!hi(m,c)&&!(d!==rn&&hi(p,d)))return;const g=r.vnode.props;g&&(e in g||i in g||s in g)&&(`onUpdate:${e}`in g||`onUpdate:${i}`in g||`onUpdate:${s}`in g)||(c=p,u()),r.emit(`update:${e}`,m),hi(p,m)&&hi(p,d)&&!hi(m,h)&&u(),d=p,h=m}}});return a[Symbol.iterator]=()=>{let l=0;return{next(){return l<2?{value:l++?o||rn:a,done:!1}:{done:!0}}}},a}const fk=(t,e)=>e==="modelValue"||e==="model-value"?t.modelModifiers:t[`${e}Modifiers`]||t[`${ni(e)}Modifiers`]||t[`${wi(e)}Modifiers`];function T3(t,e,...n){if(t.isUnmounted)return;const r=t.vnode.props||rn;let i=n;const s=e.startsWith("update:"),o=s&&fk(r,e.slice(7));o&&(o.trim&&(i=n.map(c=>Vn(c)?c.trim():c)),o.number&&(i=n.map(om)));let a,l=r[a=Nd(e)]||r[a=Nd(ni(e))];!l&&s&&(l=r[a=Nd(wi(e))]),l&&$i(l,t,6,i);const u=r[a+"Once"];if(u){if(!t.emitted)t.emitted={};else if(t.emitted[a])return;t.emitted[a]=!0,$i(u,t,6,i)}}function pk(t,e,n=!1){const r=e.emitsCache,i=r.get(t);if(i!==void 0)return i;const s=t.emits;let o={},a=!1;if(!mt(t)){const l=u=>{const c=pk(u,e,!0);c&&(a=!0,Bn(o,c))};!n&&e.mixins.length&&e.mixins.forEach(l),t.extends&&l(t.extends),t.mixins&&t.mixins.forEach(l)}return!s&&!a?(cn(t)&&r.set(t,null),null):(it(s)?s.forEach(l=>o[l]=null):Bn(o,s),cn(t)&&r.set(t,o),o)}function xg(t,e){return!t||!tf(e)?!1:(e=e.slice(2).replace(/Once$/,""),zt(t,e[0].toLowerCase()+e.slice(1))||zt(t,wi(e))||zt(t,e))}function Vp(t){const{type:e,vnode:n,proxy:r,withProxy:i,propsOptions:[s],slots:o,attrs:a,emit:l,render:u,renderCache:c,props:d,data:h,setupState:p,ctx:m,inheritAttrs:g}=t,y=hh(t);let P,I;try{if(n.shapeFlag&4){const T=i||r,M=T;P=_i(u.call(M,T,c,d,p,h,m)),I=a}else{const T=e;P=_i(T.length>1?T(d,{attrs:a,slots:o,emit:l}):T(d,null)),I=e.props?a:S3(a)}}catch(T){Vd.length=0,ql(T,t,1),P=B(pr)}let S=P;if(I&&g!==!1){const T=Object.keys(I),{shapeFlag:M}=S;T.length&&M&7&&(s&&T.some(v_)&&(I=I3(I,s)),S=Ws(S,I,!1,!0))}return n.dirs&&(S=Ws(S,null,!1,!0),S.dirs=S.dirs?S.dirs.concat(n.dirs):n.dirs),n.transition&&(S.transition=n.transition),P=S,hh(y),P}function E3(t,e=!0){let n;for(let r=0;r<t.length;r++){const i=t[r];if(Ea(i)){if(i.type!==pr||i.children==="v-if"){if(n)return;n=i}}else return}return n}const S3=t=>{let e;for(const n in t)(n==="class"||n==="style"||tf(n))&&((e||(e={}))[n]=t[n]);return e},I3=(t,e)=>{const n={};for(const r in t)(!v_(r)||!(r.slice(9)in e))&&(n[r]=t[r]);return n};function C3(t,e,n){const{props:r,children:i,component:s}=t,{props:o,children:a,patchFlag:l}=e,u=s.emitsOptions;if(e.dirs||e.transition)return!0;if(n&&l>=0){if(l&1024)return!0;if(l&16)return r?DE(r,o,u):!!o;if(l&8){const c=e.dynamicProps;for(let d=0;d<c.length;d++){const h=c[d];if(o[h]!==r[h]&&!xg(u,h))return!0}}}else return(i||a)&&(!a||!a.$stable)?!0:r===o?!1:r?o?DE(r,o,u):!0:!!o;return!1}function DE(t,e,n){const r=Object.keys(e);if(r.length!==Object.keys(t).length)return!0;for(let i=0;i<r.length;i++){const s=r[i];if(e[s]!==t[s]&&!xg(n,s))return!0}return!1}function W_({vnode:t,parent:e},n){for(;e;){const r=e.subTree;if(r.suspense&&r.suspense.activeBranch===t&&(r.el=t.el),r===t)(t=e.vnode).el=n,e=e.parent;else break}}const Ob=t=>t.__isSuspense;let kb=0;const A3={name:"Suspense",__isSuspense:!0,process(t,e,n,r,i,s,o,a,l,u){if(t==null)O3(e,n,r,i,s,o,a,l,u);else{if(s&&s.deps>0&&!t.suspense.isInFallback){e.suspense=t.suspense,e.suspense.vnode=e,e.el=t.el;return}k3(t,e,n,r,i,o,a,l,u)}},hydrate:R3,normalize:x3},P3=A3;function ph(t,e){const n=t.props&&t.props[e];mt(n)&&n()}function O3(t,e,n,r,i,s,o,a,l){const{p:u,o:{createElement:c}}=l,d=c("div"),h=t.suspense=mk(t,i,r,e,d,n,s,o,a,l);u(null,h.pendingBranch=t.ssContent,d,null,r,h,s,o),h.deps>0?(ph(t,"onPending"),ph(t,"onFallback"),u(null,t.ssFallback,e,n,r,null,s,o),$u(h,t.ssFallback)):h.resolve(!1,!0)}function k3(t,e,n,r,i,s,o,a,{p:l,um:u,o:{createElement:c}}){const d=e.suspense=t.suspense;d.vnode=e,e.el=t.el;const h=e.ssContent,p=e.ssFallback,{activeBranch:m,pendingBranch:g,isInFallback:y,isHydrating:P}=d;if(g)d.pendingBranch=h,cs(h,g)?(l(g,h,d.hiddenContainer,null,i,d,s,o,a),d.deps<=0?d.resolve():y&&(P||(l(m,p,n,r,i,null,s,o,a),$u(d,p)))):(d.pendingId=kb++,P?(d.isHydrating=!1,d.activeBranch=g):u(g,i,d),d.deps=0,d.effects.length=0,d.hiddenContainer=c("div"),y?(l(null,h,d.hiddenContainer,null,i,d,s,o,a),d.deps<=0?d.resolve():(l(m,p,n,r,i,null,s,o,a),$u(d,p))):m&&cs(h,m)?(l(m,h,n,r,i,d,s,o,a),d.resolve(!0)):(l(null,h,d.hiddenContainer,null,i,d,s,o,a),d.deps<=0&&d.resolve()));else if(m&&cs(h,m))l(m,h,n,r,i,d,s,o,a),$u(d,h);else if(ph(e,"onPending"),d.pendingBranch=h,h.shapeFlag&512?d.pendingId=h.component.suspenseId:d.pendingId=kb++,l(null,h,d.hiddenContainer,null,i,d,s,o,a),d.deps<=0)d.resolve();else{const{timeout:I,pendingId:S}=d;I>0?setTimeout(()=>{d.pendingId===S&&d.fallback(p)},I):I===0&&d.fallback(p)}}function mk(t,e,n,r,i,s,o,a,l,u,c=!1){const{p:d,m:h,um:p,n:m,o:{parentNode:g,remove:y}}=u;let P;const I=D3(t);I&&e&&e.pendingBranch&&(P=e.pendingId,e.deps++);const S=t.props?am(t.props.timeout):void 0,T=s,M={vnode:t,parent:e,parentComponent:n,namespace:o,container:r,hiddenContainer:i,deps:0,pendingId:kb++,timeout:typeof S=="number"?S:-1,activeBranch:null,pendingBranch:null,isInFallback:!c,isHydrating:c,isUnmounted:!1,effects:[],resolve(R=!1,C=!1){const{vnode:E,activeBranch:b,pendingBranch:w,pendingId:k,effects:x,parentComponent:O,container:j}=M;let U=!1;M.isHydrating?M.isHydrating=!1:R||(U=b&&w.transition&&w.transition.mode==="out-in",U&&(b.transition.afterLeave=()=>{k===M.pendingId&&(h(w,j,s===T?m(b):s,0),um(x))}),b&&(g(b.el)!==M.hiddenContainer&&(s=m(b)),p(b,O,M,!0)),U||h(w,j,s,0)),$u(M,w),M.pendingBranch=null,M.isInFallback=!1;let $=M.parent,q=!1;for(;$;){if($.pendingBranch){$.effects.push(...x),q=!0;break}$=$.parent}!q&&!U&&um(x),M.effects=[],I&&e&&e.pendingBranch&&P===e.pendingId&&(e.deps--,e.deps===0&&!C&&e.resolve()),ph(E,"onResolve")},fallback(R){if(!M.pendingBranch)return;const{vnode:C,activeBranch:E,parentComponent:b,container:w,namespace:k}=M;ph(C,"onFallback");const x=m(E),O=()=>{M.isInFallback&&(d(null,R,w,x,b,null,k,a,l),$u(M,R))},j=R.transition&&R.transition.mode==="out-in";j&&(E.transition.afterLeave=O),M.isInFallback=!0,p(E,b,null,!0),j||O()},move(R,C,E){M.activeBranch&&h(M.activeBranch,R,C,E),M.container=R},next(){return M.activeBranch&&m(M.activeBranch)},registerDep(R,C,E){const b=!!M.pendingBranch;b&&M.deps++;const w=R.vnode.el;R.asyncDep.catch(k=>{ql(k,R,0)}).then(k=>{if(R.isUnmounted||M.isUnmounted||M.pendingId!==R.suspenseId)return;R.asyncResolved=!0;const{vnode:x}=R;Nb(R,k,!1),w&&(x.el=w);const O=!w&&R.subTree.el;C(R,x,g(w||R.subTree.el),w?null:m(R.subTree),M,o,E),O&&y(O),W_(R,x.el),b&&--M.deps===0&&M.resolve()})},unmount(R,C){M.isUnmounted=!0,M.activeBranch&&p(M.activeBranch,n,R,C),M.pendingBranch&&p(M.pendingBranch,n,R,C)}};return M}function R3(t,e,n,r,i,s,o,a,l){const u=e.suspense=mk(e,r,n,t.parentNode,document.createElement("div"),null,i,s,o,a,!0),c=l(t,u.pendingBranch=e.ssContent,n,u,s,o);return u.deps===0&&u.resolve(!1,!0),c}function x3(t){const{shapeFlag:e,children:n}=t,r=e&32;t.ssContent=NE(r?n.default:n),t.ssFallback=r?NE(n.fallback):B(pr)}function NE(t){let e;if(mt(t)){const n=_l&&t._c;n&&(t._d=!1,N()),t=t(),n&&(t._d=!0,e=Jr,vk())}return it(t)&&(t=E3(t)),t=_i(t),e&&!t.dynamicChildren&&(t.dynamicChildren=e.filter(n=>n!==t)),t}function gk(t,e){e&&e.pendingBranch?it(t)?e.effects.push(...t):e.effects.push(t):um(t)}function $u(t,e){t.activeBranch=e;const{vnode:n,parentComponent:r}=t;let i=e.el;for(;!i&&e.component;)e=e.component.subTree,i=e.el;n.el=i,r&&r.subTree===n&&(r.vnode.el=i,W_(r,i))}function D3(t){const e=t.props&&t.props.suspensible;return e!=null&&e!==!1}const Pe=Symbol.for("v-fgt"),ca=Symbol.for("v-txt"),pr=Symbol.for("v-cmt"),dl=Symbol.for("v-stc"),Vd=[];let Jr=null;function N(t=!1){Vd.push(Jr=t?null:[])}function vk(){Vd.pop(),Jr=Vd[Vd.length-1]||null}let _l=1;function Rb(t){_l+=t,t<0&&Jr&&(Jr.hasOnce=!0)}function yk(t){return t.dynamicChildren=_l>0?Jr||Ru:null,vk(),_l>0&&Jr&&Jr.push(t),t}function W(t,e,n,r,i,s){return yk(v(t,e,n,r,i,s,!0))}function ce(t,e,n,r,i){return yk(B(t,e,n,r,i,!0))}function Ea(t){return t?t.__v_isVNode===!0:!1}function cs(t,e){return t.type===e.type&&t.key===e.key}function N3(t){}const bk=({key:t})=>t??null,$p=({ref:t,ref_key:e,ref_for:n})=>(typeof t=="number"&&(t=""+t),t!=null?Vn(t)||_n(t)||mt(t)?{i:vr,r:t,k:e,f:!!n}:t:null);function v(t,e=null,n=null,r=0,i=null,s=t===Pe?0:1,o=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&bk(e),ref:e&&$p(e),scopeId:Ag,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:s,patchFlag:r,dynamicProps:i,dynamicChildren:null,appContext:null,ctx:vr};return a?(z_(l,n),s&128&&t.normalize(l)):n&&(l.shapeFlag|=Vn(n)?8:16),_l>0&&!o&&Jr&&(l.patchFlag>0||s&6)&&l.patchFlag!==32&&Jr.push(l),l}const B=M3;function M3(t,e=null,n=null,r=0,i=null,s=!1){if((!t||t===UO)&&(t=pr),Ea(t)){const a=Ws(t,e,!0);return n&&z_(a,n),_l>0&&!s&&Jr&&(a.shapeFlag&6?Jr[Jr.indexOf(t)]=a:Jr.push(a)),a.patchFlag=-2,a}if(B3(t)&&(t=t.__vccOpts),e){e=cr(e);let{class:a,style:l}=e;a&&!Vn(a)&&(e.class=$e(a)),cn(l)&&(C_(l)&&!it(l)&&(l=Bn({},l)),e.style=ur(l))}const o=Vn(t)?1:Ob(t)?128:f3(t)?64:cn(t)?4:mt(t)?2:0;return v(t,e,n,r,i,o,s,!0)}function cr(t){return t?C_(t)||KO(t)?Bn({},t):t:null}function Ws(t,e,n=!1,r=!1){const{props:i,ref:s,patchFlag:o,children:a,transition:l}=t,u=e?le(i||{},e):i,c={__v_isVNode:!0,__v_skip:!0,type:t.type,props:u,key:u&&bk(u),ref:e&&e.ref?n&&s?it(s)?s.concat($p(e)):[s,$p(e)]:$p(e):s,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:a,target:t.target,targetStart:t.targetStart,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==Pe?o===-1?16:o|16:o,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:l,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&Ws(t.ssContent),ssFallback:t.ssFallback&&Ws(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce};return l&&r&&Ta(c,l.clone(c)),c}function K(t=" ",e=0){return B(ca,null,t,e)}function _k(t,e){const n=B(dl,null,t);return n.staticCount=e,n}function Z(t="",e=!1){return e?(N(),ce(pr,null,t)):B(pr,null,t)}function _i(t){return t==null||typeof t=="boolean"?B(pr):it(t)?B(Pe,null,t.slice()):typeof t=="object"?Xo(t):B(ca,null,String(t))}function Xo(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:Ws(t)}function z_(t,e){let n=0;const{shapeFlag:r}=t;if(e==null)e=null;else if(it(e))n=16;else if(typeof e=="object")if(r&65){const i=e.default;i&&(i._c&&(i._d=!1),z_(t,i()),i._c&&(i._d=!0));return}else{n=32;const i=e._;!i&&!KO(e)?e._ctx=vr:i===3&&vr&&(vr.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else mt(e)?(e={default:e,_ctx:vr},n=32):(e=String(e),r&64?(n=16,e=[K(e)]):n=8);t.children=e,t.shapeFlag|=n}function le(...t){const e={};for(let n=0;n<t.length;n++){const r=t[n];for(const i in r)if(i==="class")e.class!==r.class&&(e.class=$e([e.class,r.class]));else if(i==="style")e.style=ur([e.style,r.style]);else if(tf(i)){const s=e[i],o=r[i];o&&s!==o&&!(it(s)&&s.includes(o))&&(e[i]=s?[].concat(s,o):o)}else i!==""&&(e[i]=r[i])}return e}function yi(t,e,n,r=null){$i(t,e,7,[n,r])}const L3=jO();let V3=0;function wk(t,e,n){const r=t.type,i=(e?e.appContext:t.appContext)||L3,s={uid:V3++,vnode:t,type:r,parent:e,appContext:i,root:null,next:null,subTree:null,effect:null,update:null,scope:new w_(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(i.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:YO(r,i),emitsOptions:pk(r,i),emit:null,emitted:null,propsDefaults:rn,inheritAttrs:r.inheritAttrs,ctx:rn,data:rn,props:rn,attrs:rn,slots:rn,refs:rn,setupState:rn,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return s.ctx={_:s},s.root=e?e.root:s,s.emit=T3.bind(null,s),t.ce&&t.ce(s),s}let mr=null;const ts=()=>mr||vr;let pm,xb;{const t=nO(),e=(n,r)=>{let i;return(i=t[n])||(i=t[n]=[]),i.push(r),s=>{i.length>1?i.forEach(o=>o(s)):i[0](s)}};pm=e("__VUE_INSTANCE_SETTERS__",n=>mr=n),xb=e("__VUE_SSR_SETTERS__",n=>lf=n)}const wl=t=>{const e=mr;return pm(t),t.scope.on(),()=>{t.scope.off(),pm(e)}},Db=()=>{mr&&mr.scope.off(),pm(null)};function Tk(t){return t.vnode.shapeFlag&4}let lf=!1;function Ek(t,e=!1,n=!1){e&&xb(e);const{props:r,children:i}=t.vnode,s=Tk(t);a3(t,r,s,e),d3(t,i,n);const o=s?$3(t,e):void 0;return e&&xb(!1),o}function $3(t,e){const n=t.type;t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,Sb);const{setup:r}=n;if(r){const i=t.setupContext=r.length>1?Ik(t):null,s=wl(t);ka();const o=yo(r,t,0,[t.props,i]);if(Ra(),s(),b_(o)){if(o.then(Db,Db),e)return o.then(a=>{Nb(t,a,e)}).catch(a=>{ql(a,t,0)});t.asyncDep=o}else Nb(t,o,e)}else Sk(t,e)}function Nb(t,e,n){mt(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:cn(e)&&(t.setupState=O_(e)),Sk(t,n)}let mm,Mb;function F3(t){mm=t,Mb=e=>{e.render._rc&&(e.withProxy=new Proxy(e.ctx,q$))}}const U3=()=>!mm;function Sk(t,e,n){const r=t.type;if(!t.render){if(!e&&mm&&!r.render){const i=r.template||U_(t).template;if(i){const{isCustomElement:s,compilerOptions:o}=t.appContext.config,{delimiters:a,compilerOptions:l}=r,u=Bn(Bn({isCustomElement:s,delimiters:a},o),l);r.render=mm(i,u)}}t.render=r.render||Ei,Mb&&Mb(t)}{const i=wl(t);ka();try{e3(t)}finally{Ra(),i()}}}const q3={get(t,e){return Pi(t,"get",""),t[e]}};function Ik(t){const e=n=>{t.exposed=n||{}};return{attrs:new Proxy(t.attrs,q3),slots:t.slots,emit:t.emit,expose:e}}function uf(t){return t.exposed?t.exposeProxy||(t.exposeProxy=new Proxy(O_(Ig(t.exposed)),{get(e,n){if(n in e)return e[n];if(n in Md)return Md[n](t)},has(e,n){return n in e||n in Md}})):t.proxy}function Lb(t,e=!0){return mt(t)?t.displayName||t.name:t.name||e&&t.__name}function B3(t){return mt(t)&&"__vccOpts"in t}const ee=(t,e)=>g$(t,e,lf);function Tl(t,e,n){const r=arguments.length;return r===2?cn(e)&&!it(e)?Ea(e)?B(t,null,[e]):B(t,e):B(t,null,e):(r>3?n=Array.prototype.slice.call(arguments,2):r===3&&Ea(n)&&(n=[n]),B(t,e,n))}function j3(){}function H3(t,e,n,r){const i=n[r];if(i&&Ck(i,t))return i;const s=e();return s.memo=t.slice(),s.cacheIndex=r,n[r]=s}function Ck(t,e){const n=t.memo;if(n.length!=e.length)return!1;for(let r=0;r<n.length;r++)if(hi(n[r],e[r]))return!1;return _l>0&&Jr&&Jr.push(t),!0}const Ak="3.4.38",W3=Ei,z3=P$,K3=du,G3=OO,Y3={createComponentInstance:wk,setupComponent:Ek,renderComponentRoot:Vp,setCurrentRenderingInstance:hh,isVNode:Ea,normalizeVNode:_i,getComponentPublicInstance:uf,ensureValidVNode:F_},X3=Y3,Q3=null,J3=null,Z3=null;/**
* @vue/runtime-dom v3.4.38
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const e4="http://www.w3.org/2000/svg",t4="http://www.w3.org/1998/Math/MathML",oo=typeof document<"u"?document:null,ME=oo&&oo.createElement("template"),n4={insert:(t,e,n)=>{e.insertBefore(t,n||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,n,r)=>{const i=e==="svg"?oo.createElementNS(e4,t):e==="mathml"?oo.createElementNS(t4,t):n?oo.createElement(t,{is:n}):oo.createElement(t);return t==="select"&&r&&r.multiple!=null&&i.setAttribute("multiple",r.multiple),i},createText:t=>oo.createTextNode(t),createComment:t=>oo.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>oo.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,n,r,i,s){const o=n?n.previousSibling:e.lastChild;if(i&&(i===s||i.nextSibling))for(;e.insertBefore(i.cloneNode(!0),n),!(i===s||!(i=i.nextSibling)););else{ME.innerHTML=r==="svg"?`<svg>${t}</svg>`:r==="mathml"?`<math>${t}</math>`:t;const a=ME.content;if(r==="svg"||r==="mathml"){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}e.insertBefore(a,n)}return[o?o.nextSibling:e.firstChild,n?n.previousSibling:e.lastChild]}},$o="transition",Zc="animation",Ju=Symbol("_vtc"),ns=(t,{slots:e})=>Tl(RO,Ok(t),e);ns.displayName="Transition";const Pk={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},r4=ns.props=Bn({},N_,Pk),Wa=(t,e=[])=>{it(t)?t.forEach(n=>n(...e)):t&&t(...e)},LE=t=>t?it(t)?t.some(e=>e.length>1):t.length>1:!1;function Ok(t){const e={};for(const x in t)x in Pk||(e[x]=t[x]);if(t.css===!1)return e;const{name:n="v",type:r,duration:i,enterFromClass:s=`${n}-enter-from`,enterActiveClass:o=`${n}-enter-active`,enterToClass:a=`${n}-enter-to`,appearFromClass:l=s,appearActiveClass:u=o,appearToClass:c=a,leaveFromClass:d=`${n}-leave-from`,leaveActiveClass:h=`${n}-leave-active`,leaveToClass:p=`${n}-leave-to`}=t,m=i4(i),g=m&&m[0],y=m&&m[1],{onBeforeEnter:P,onEnter:I,onEnterCancelled:S,onLeave:T,onLeaveCancelled:M,onBeforeAppear:R=P,onAppear:C=I,onAppearCancelled:E=S}=e,b=(x,O,j)=>{zo(x,O?c:a),zo(x,O?u:o),j&&j()},w=(x,O)=>{x._isLeaving=!1,zo(x,d),zo(x,p),zo(x,h),O&&O()},k=x=>(O,j)=>{const U=x?C:I,$=()=>b(O,x,j);Wa(U,[O,$]),VE(()=>{zo(O,x?l:s),io(O,x?c:a),LE(U)||$E(O,r,g,$)})};return Bn(e,{onBeforeEnter(x){Wa(P,[x]),io(x,s),io(x,o)},onBeforeAppear(x){Wa(R,[x]),io(x,l),io(x,u)},onEnter:k(!1),onAppear:k(!0),onLeave(x,O){x._isLeaving=!0;const j=()=>w(x,O);io(x,d),io(x,h),Rk(),VE(()=>{x._isLeaving&&(zo(x,d),io(x,p),LE(T)||$E(x,r,y,j))}),Wa(T,[x,j])},onEnterCancelled(x){b(x,!1),Wa(S,[x])},onAppearCancelled(x){b(x,!0),Wa(E,[x])},onLeaveCancelled(x){w(x),Wa(M,[x])}})}function i4(t){if(t==null)return null;if(cn(t))return[ey(t.enter),ey(t.leave)];{const e=ey(t);return[e,e]}}function ey(t){return am(t)}function io(t,e){e.split(/\s+/).forEach(n=>n&&t.classList.add(n)),(t[Ju]||(t[Ju]=new Set)).add(e)}function zo(t,e){e.split(/\s+/).forEach(r=>r&&t.classList.remove(r));const n=t[Ju];n&&(n.delete(e),n.size||(t[Ju]=void 0))}function VE(t){requestAnimationFrame(()=>{requestAnimationFrame(t)})}let s4=0;function $E(t,e,n,r){const i=t._endId=++s4,s=()=>{i===t._endId&&r()};if(n)return setTimeout(s,n);const{type:o,timeout:a,propCount:l}=kk(t,e);if(!o)return r();const u=o+"end";let c=0;const d=()=>{t.removeEventListener(u,h),s()},h=p=>{p.target===t&&++c>=l&&d()};setTimeout(()=>{c<l&&d()},a+1),t.addEventListener(u,h)}function kk(t,e){const n=window.getComputedStyle(t),r=m=>(n[m]||"").split(", "),i=r(`${$o}Delay`),s=r(`${$o}Duration`),o=FE(i,s),a=r(`${Zc}Delay`),l=r(`${Zc}Duration`),u=FE(a,l);let c=null,d=0,h=0;e===$o?o>0&&(c=$o,d=o,h=s.length):e===Zc?u>0&&(c=Zc,d=u,h=l.length):(d=Math.max(o,u),c=d>0?o>u?$o:Zc:null,h=c?c===$o?s.length:l.length:0);const p=c===$o&&/\b(transform|all)(,|$)/.test(r(`${$o}Property`).toString());return{type:c,timeout:d,propCount:h,hasTransform:p}}function FE(t,e){for(;t.length<e.length;)t=t.concat(t);return Math.max(...e.map((n,r)=>UE(n)+UE(t[r])))}function UE(t){return t==="auto"?0:Number(t.slice(0,-1).replace(",","."))*1e3}function Rk(){return document.body.offsetHeight}function o4(t,e,n){const r=t[Ju];r&&(e=(e?[e,...r]:[...r]).join(" ")),e==null?t.removeAttribute("class"):n?t.setAttribute("class",e):t.className=e}const gm=Symbol("_vod"),xk=Symbol("_vsh"),Ls={beforeMount(t,{value:e},{transition:n}){t[gm]=t.style.display==="none"?"":t.style.display,n&&e?n.beforeEnter(t):ed(t,e)},mounted(t,{value:e},{transition:n}){n&&e&&n.enter(t)},updated(t,{value:e,oldValue:n},{transition:r}){!e!=!n&&(r?e?(r.beforeEnter(t),ed(t,!0),r.enter(t)):r.leave(t,()=>{ed(t,!1)}):ed(t,e))},beforeUnmount(t,{value:e}){ed(t,e)}};function ed(t,e){t.style.display=e?t[gm]:"none",t[xk]=!e}function a4(){Ls.getSSRProps=({value:t})=>{if(!t)return{style:{display:"none"}}}}const Dk=Symbol("");function l4(t){const e=ts();if(!e)return;const n=e.ut=(i=t(e.proxy))=>{Array.from(document.querySelectorAll(`[data-v-owner="${e.uid}"]`)).forEach(s=>$b(s,i))},r=()=>{const i=t(e.proxy);Vb(e.subTree,i),n(i)};M_(()=>{ck(r)}),$t(()=>{const i=new MutationObserver(r);i.observe(e.subTree.el.parentNode,{childList:!0}),Gs(()=>i.disconnect())})}function Vb(t,e){if(t.shapeFlag&128){const n=t.suspense;t=n.activeBranch,n.pendingBranch&&!n.isHydrating&&n.effects.push(()=>{Vb(n.activeBranch,e)})}for(;t.component;)t=t.component.subTree;if(t.shapeFlag&1&&t.el)$b(t.el,e);else if(t.type===Pe)t.children.forEach(n=>Vb(n,e));else if(t.type===dl){let{el:n,anchor:r}=t;for(;n&&($b(n,e),n!==r);)n=n.nextSibling}}function $b(t,e){if(t.nodeType===1){const n=t.style;let r="";for(const i in e)n.setProperty(`--${i}`,e[i]),r+=`--${i}: ${e[i]};`;n[Dk]=r}}const u4=/(^|;)\s*display\s*:/;function c4(t,e,n){const r=t.style,i=Vn(n);let s=!1;if(n&&!i){if(e)if(Vn(e))for(const o of e.split(";")){const a=o.slice(0,o.indexOf(":")).trim();n[a]==null&&Fp(r,a,"")}else for(const o in e)n[o]==null&&Fp(r,o,"");for(const o in n)o==="display"&&(s=!0),Fp(r,o,n[o])}else if(i){if(e!==n){const o=r[Dk];o&&(n+=";"+o),r.cssText=n,s=u4.test(n)}}else e&&t.removeAttribute("style");gm in t&&(t[gm]=s?r.display:"",t[xk]&&(r.display="none"))}const qE=/\s*!important$/;function Fp(t,e,n){if(it(n))n.forEach(r=>Fp(t,e,r));else if(n==null&&(n=""),e.startsWith("--"))t.setProperty(e,n);else{const r=d4(t,e);qE.test(n)?t.setProperty(wi(r),n.replace(qE,""),"important"):t[r]=n}}const BE=["Webkit","Moz","ms"],ty={};function d4(t,e){const n=ty[e];if(n)return n;let r=ni(e);if(r!=="filter"&&r in t)return ty[e]=r;r=nf(r);for(let i=0;i<BE.length;i++){const s=BE[i]+r;if(s in t)return ty[e]=s}return e}const jE="http://www.w3.org/1999/xlink";function HE(t,e,n,r,i,s=WV(e)){r&&e.startsWith("xlink:")?n==null?t.removeAttributeNS(jE,e.slice(6,e.length)):t.setAttributeNS(jE,e,n):n==null||s&&!rO(n)?t.removeAttribute(e):t.setAttribute(e,s?"":Hs(n)?String(n):n)}function h4(t,e,n,r){if(e==="innerHTML"||e==="textContent"){if(n==null)return;t[e]=n;return}const i=t.tagName;if(e==="value"&&i!=="PROGRESS"&&!i.includes("-")){const o=i==="OPTION"?t.getAttribute("value")||"":t.value,a=n==null?"":String(n);(o!==a||!("_value"in t))&&(t.value=a),n==null&&t.removeAttribute(e),t._value=n;return}let s=!1;if(n===""||n==null){const o=typeof t[e];o==="boolean"?n=rO(n):n==null&&o==="string"?(n="",s=!0):o==="number"&&(n=0,s=!0)}try{t[e]=n}catch{}s&&t.removeAttribute(e)}function uo(t,e,n,r){t.addEventListener(e,n,r)}function f4(t,e,n,r){t.removeEventListener(e,n,r)}const WE=Symbol("_vei");function p4(t,e,n,r,i=null){const s=t[WE]||(t[WE]={}),o=s[e];if(r&&o)o.value=r;else{const[a,l]=m4(e);if(r){const u=s[e]=y4(r,i);uo(t,a,u,l)}else o&&(f4(t,a,o,l),s[e]=void 0)}}const zE=/(?:Once|Passive|Capture)$/;function m4(t){let e;if(zE.test(t)){e={};let r;for(;r=t.match(zE);)t=t.slice(0,t.length-r[0].length),e[r[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):wi(t.slice(2)),e]}let ny=0;const g4=Promise.resolve(),v4=()=>ny||(g4.then(()=>ny=0),ny=Date.now());function y4(t,e){const n=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=n.attached)return;$i(b4(r,n.value),e,5,[r])};return n.value=t,n.attached=v4(),n}function b4(t,e){if(it(e)){const n=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{n.call(t),t._stopped=!0},e.map(r=>i=>!i._stopped&&r&&r(i))}else return e}const KE=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,_4=(t,e,n,r,i,s)=>{const o=i==="svg";e==="class"?o4(t,r,o):e==="style"?c4(t,n,r):tf(e)?v_(e)||p4(t,e,n,r,s):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):w4(t,e,r,o))?(h4(t,e,r),!t.tagName.includes("-")&&(e==="value"||e==="checked"||e==="selected")&&HE(t,e,r,o,s,e!=="value")):(e==="true-value"?t._trueValue=r:e==="false-value"&&(t._falseValue=r),HE(t,e,r,o))};function w4(t,e,n,r){if(r)return!!(e==="innerHTML"||e==="textContent"||e in t&&KE(e)&&mt(n));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const i=t.tagName;if(i==="IMG"||i==="VIDEO"||i==="CANVAS"||i==="SOURCE")return!1}return KE(e)&&Vn(n)?!1:e in t}/*! #__NO_SIDE_EFFECTS__ */function Nk(t,e,n){const r=xe(t,e);class i extends Dg{constructor(o){super(r,o,n)}}return i.def=r,i}/*! #__NO_SIDE_EFFECTS__ */const T4=(t,e)=>Nk(t,e,zk),E4=typeof HTMLElement<"u"?HTMLElement:class{};class Dg extends E4{constructor(e,n={},r){super(),this._def=e,this._props=n,this._instance=null,this._connected=!1,this._resolved=!1,this._numberProps=null,this._ob=null,this.shadowRoot&&r?r(this._createVNode(),this.shadowRoot):(this.attachShadow({mode:"open"}),this._def.__asyncLoader||this._resolveProps(this._def))}connectedCallback(){this._connected=!0,this._instance||(this._resolved?this._update():this._resolveDef())}disconnectedCallback(){this._connected=!1,rr(()=>{this._connected||(this._ob&&(this._ob.disconnect(),this._ob=null),El(null,this.shadowRoot),this._instance=null)})}_resolveDef(){this._resolved=!0;for(let r=0;r<this.attributes.length;r++)this._setAttr(this.attributes[r].name);this._ob=new MutationObserver(r=>{for(const i of r)this._setAttr(i.attributeName)}),this._ob.observe(this,{attributes:!0});const e=(r,i=!1)=>{const{props:s,styles:o}=r;let a;if(s&&!it(s))for(const l in s){const u=s[l];(u===Number||u&&u.type===Number)&&(l in this._props&&(this._props[l]=am(this._props[l])),(a||(a=Object.create(null)))[ni(l)]=!0)}this._numberProps=a,i&&this._resolveProps(r),this._applyStyles(o),this._update()},n=this._def.__asyncLoader;n?n().then(r=>e(r,!0)):e(this._def)}_resolveProps(e){const{props:n}=e,r=it(n)?n:Object.keys(n||{});for(const i of Object.keys(this))i[0]!=="_"&&r.includes(i)&&this._setProp(i,this[i],!0,!1);for(const i of r.map(ni))Object.defineProperty(this,i,{get(){return this._getProp(i)},set(s){this._setProp(i,s)}})}_setAttr(e){let n=this.hasAttribute(e)?this.getAttribute(e):void 0;const r=ni(e);this._numberProps&&this._numberProps[r]&&(n=am(n)),this._setProp(r,n,!1)}_getProp(e){return this._props[e]}_setProp(e,n,r=!0,i=!0){n!==this._props[e]&&(this._props[e]=n,i&&this._instance&&this._update(),r&&(n===!0?this.setAttribute(wi(e),""):typeof n=="string"||typeof n=="number"?this.setAttribute(wi(e),n+""):n||this.removeAttribute(wi(e))))}_update(){El(this._createVNode(),this.shadowRoot)}_createVNode(){const e=B(this._def,Bn({},this._props));return this._instance||(e.ce=n=>{this._instance=n,n.isCE=!0;const r=(s,o)=>{this.dispatchEvent(new CustomEvent(s,{detail:o}))};n.emit=(s,...o)=>{r(s,o),wi(s)!==s&&r(wi(s),o)};let i=this;for(;i=i&&(i.parentNode||i.host);)if(i instanceof Dg){n.parent=i._instance,n.provides=i._instance.provides;break}}),e}_applyStyles(e){e&&e.forEach(n=>{const r=document.createElement("style");r.textContent=n,this.shadowRoot.appendChild(r)})}}function S4(t="$style"){{const e=ts();if(!e)return rn;const n=e.type.__cssModules;if(!n)return rn;const r=n[t];return r||rn}}const Mk=new WeakMap,Lk=new WeakMap,vm=Symbol("_moveCb"),GE=Symbol("_enterCb"),Vk={name:"TransitionGroup",props:Bn({},r4,{tag:String,moveClass:String}),setup(t,{slots:e}){const n=ts(),r=D_();let i,s;return kg(()=>{if(!i.length)return;const o=t.moveClass||`${t.name||"v"}-move`;if(!O4(i[0].el,n.vnode.el,o))return;i.forEach(C4),i.forEach(A4);const a=i.filter(P4);Rk(),a.forEach(l=>{const u=l.el,c=u.style;io(u,o),c.transform=c.webkitTransform=c.transitionDuration="";const d=u[vm]=h=>{h&&h.target!==u||(!h||/transform$/.test(h.propertyName))&&(u.removeEventListener("transitionend",d),u[vm]=null,zo(u,o))};u.addEventListener("transitionend",d)})}),()=>{const o=Mt(t),a=Ok(o);let l=o.tag||Pe;if(i=[],s)for(let u=0;u<s.length;u++){const c=s[u];c.el&&c.el instanceof Element&&(i.push(c),Ta(c,Qu(c,a,r,n)),Mk.set(c,c.el.getBoundingClientRect()))}s=e.default?Pg(e.default()):[];for(let u=0;u<s.length;u++){const c=s[u];c.key!=null&&Ta(c,Qu(c,a,r,n))}return B(l,null,s)}}},I4=t=>delete t.mode;Vk.props;const $k=Vk;function C4(t){const e=t.el;e[vm]&&e[vm](),e[GE]&&e[GE]()}function A4(t){Lk.set(t,t.el.getBoundingClientRect())}function P4(t){const e=Mk.get(t),n=Lk.get(t),r=e.left-n.left,i=e.top-n.top;if(r||i){const s=t.el.style;return s.transform=s.webkitTransform=`translate(${r}px,${i}px)`,s.transitionDuration="0s",t}}function O4(t,e,n){const r=t.cloneNode(),i=t[Ju];i&&i.forEach(a=>{a.split(/\s+/).forEach(l=>l&&r.classList.remove(l))}),n.split(/\s+/).forEach(a=>a&&r.classList.add(a)),r.style.display="none";const s=e.nodeType===1?e:e.parentNode;s.appendChild(r);const{hasTransform:o}=kk(r);return s.removeChild(r),o}const Sa=t=>{const e=t.props["onUpdate:modelValue"]||!1;return it(e)?n=>Nu(e,n):e};function k4(t){t.target.composing=!0}function YE(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const Xi=Symbol("_assign"),ym={created(t,{modifiers:{lazy:e,trim:n,number:r}},i){t[Xi]=Sa(i);const s=r||i.props&&i.props.type==="number";uo(t,e?"change":"input",o=>{if(o.target.composing)return;let a=t.value;n&&(a=a.trim()),s&&(a=om(a)),t[Xi](a)}),n&&uo(t,"change",()=>{t.value=t.value.trim()}),e||(uo(t,"compositionstart",k4),uo(t,"compositionend",YE),uo(t,"change",YE))},mounted(t,{value:e}){t.value=e??""},beforeUpdate(t,{value:e,oldValue:n,modifiers:{lazy:r,trim:i,number:s}},o){if(t[Xi]=Sa(o),t.composing)return;const a=(s||t.type==="number")&&!/^0\d/.test(t.value)?om(t.value):t.value,l=e??"";a!==l&&(document.activeElement===t&&t.type!=="range"&&(r&&e===n||i&&t.value.trim()===l)||(t.value=l))}},K_={deep:!0,created(t,e,n){t[Xi]=Sa(n),uo(t,"change",()=>{const r=t._modelValue,i=Zu(t),s=t.checked,o=t[Xi];if(it(r)){const a=yg(r,i),l=a!==-1;if(s&&!l)o(r.concat(i));else if(!s&&l){const u=[...r];u.splice(a,1),o(u)}}else if(Ul(r)){const a=new Set(r);s?a.add(i):a.delete(i),o(a)}else o(Uk(t,s))})},mounted:XE,beforeUpdate(t,e,n){t[Xi]=Sa(n),XE(t,e,n)}};function XE(t,{value:e,oldValue:n},r){t._modelValue=e,it(e)?t.checked=yg(e,r.props.value)>-1:Ul(e)?t.checked=e.has(r.props.value):e!==n&&(t.checked=_a(e,Uk(t,!0)))}const G_={created(t,{value:e},n){t.checked=_a(e,n.props.value),t[Xi]=Sa(n),uo(t,"change",()=>{t[Xi](Zu(t))})},beforeUpdate(t,{value:e,oldValue:n},r){t[Xi]=Sa(r),e!==n&&(t.checked=_a(e,r.props.value))}},Fk={deep:!0,created(t,{value:e,modifiers:{number:n}},r){const i=Ul(e);uo(t,"change",()=>{const s=Array.prototype.filter.call(t.options,o=>o.selected).map(o=>n?om(Zu(o)):Zu(o));t[Xi](t.multiple?i?new Set(s):s:s[0]),t._assigning=!0,rr(()=>{t._assigning=!1})}),t[Xi]=Sa(r)},mounted(t,{value:e,modifiers:{number:n}}){QE(t,e)},beforeUpdate(t,e,n){t[Xi]=Sa(n)},updated(t,{value:e,modifiers:{number:n}}){t._assigning||QE(t,e)}};function QE(t,e,n){const r=t.multiple,i=it(e);if(!(r&&!i&&!Ul(e))){for(let s=0,o=t.options.length;s<o;s++){const a=t.options[s],l=Zu(a);if(r)if(i){const u=typeof l;u==="string"||u==="number"?a.selected=e.some(c=>String(c)===String(l)):a.selected=yg(e,l)>-1}else a.selected=e.has(l);else if(_a(Zu(a),e)){t.selectedIndex!==s&&(t.selectedIndex=s);return}}!r&&t.selectedIndex!==-1&&(t.selectedIndex=-1)}}function Zu(t){return"_value"in t?t._value:t.value}function Uk(t,e){const n=e?"_trueValue":"_falseValue";return n in t?t[n]:e}const qk={created(t,e,n){lp(t,e,n,null,"created")},mounted(t,e,n){lp(t,e,n,null,"mounted")},beforeUpdate(t,e,n,r){lp(t,e,n,r,"beforeUpdate")},updated(t,e,n,r){lp(t,e,n,r,"updated")}};function Bk(t,e){switch(t){case"SELECT":return Fk;case"TEXTAREA":return ym;default:switch(e){case"checkbox":return K_;case"radio":return G_;default:return ym}}}function lp(t,e,n,r,i){const o=Bk(t.tagName,n.props&&n.props.type)[i];o&&o(t,e,n,r)}function R4(){ym.getSSRProps=({value:t})=>({value:t}),G_.getSSRProps=({value:t},e)=>{if(e.props&&_a(e.props.value,t))return{checked:!0}},K_.getSSRProps=({value:t},e)=>{if(it(t)){if(e.props&&yg(t,e.props.value)>-1)return{checked:!0}}else if(Ul(t)){if(e.props&&t.has(e.props.value))return{checked:!0}}else if(t)return{checked:!0}},qk.getSSRProps=(t,e)=>{if(typeof e.type!="string")return;const n=Bk(e.type.toUpperCase(),e.props&&e.props.type);if(n.getSSRProps)return n.getSSRProps(t,e)}}const x4=["ctrl","shift","alt","meta"],D4={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,e)=>x4.some(n=>t[`${n}Key`]&&!e.includes(n))},kt=(t,e)=>{const n=t._withMods||(t._withMods={}),r=e.join(".");return n[r]||(n[r]=(i,...s)=>{for(let o=0;o<e.length;o++){const a=D4[e[o]];if(a&&a(i,e))return}return t(i,...s)})},N4={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},bt=(t,e)=>{const n=t._withKeys||(t._withKeys={}),r=e.join(".");return n[r]||(n[r]=i=>{if(!("key"in i))return;const s=wi(i.key);if(e.some(o=>o===s||N4[o]===s))return t(i)})},jk=Bn({patchProp:_4},n4);let $d,JE=!1;function Hk(){return $d||($d=rk(jk))}function Wk(){return $d=JE?$d:ik(jk),JE=!0,$d}const El=(...t)=>{Hk().render(...t)},zk=(...t)=>{Wk().hydrate(...t)},Kk=(...t)=>{const e=Hk().createApp(...t),{mount:n}=e;return e.mount=r=>{const i=Yk(r);if(!i)return;const s=e._component;!mt(s)&&!s.render&&!s.template&&(s.template=i.innerHTML),i.innerHTML="";const o=n(i,!1,Gk(i));return i instanceof Element&&(i.removeAttribute("v-cloak"),i.setAttribute("data-v-app","")),o},e},M4=(...t)=>{const e=Wk().createApp(...t),{mount:n}=e;return e.mount=r=>{const i=Yk(r);if(i)return n(i,!0,Gk(i))},e};function Gk(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function Yk(t){return Vn(t)?document.querySelector(t):t}let ZE=!1;const L4=()=>{ZE||(ZE=!0,R4(),a4())};/**
* vue v3.4.38
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const V4=()=>{},$4=Object.freeze(Object.defineProperty({__proto__:null,BaseTransition:RO,BaseTransitionPropsValidators:N_,Comment:pr,DeprecationTypes:Z3,EffectScope:w_,ErrorCodes:A$,ErrorTypeStrings:z3,Fragment:Pe,KeepAlive:V$,ReactiveEffect:Yu,Static:dl,Suspense:P3,Teleport:B_,Text:ca,TrackOpTypes:S$,Transition:ns,TransitionGroup:$k,TriggerOpTypes:I$,VueElement:Dg,assertNumber:C$,callWithAsyncErrorHandling:$i,callWithErrorHandling:yo,camelize:ni,capitalize:nf,cloneVNode:Ws,compatUtils:J3,compile:V4,computed:ee,createApp:Kk,createBlock:ce,createCommentVNode:Z,createElementBlock:W,createElementVNode:v,createHydrationRenderer:ik,createPropsRestProxy:J$,createRenderer:rk,createSSRApp:M4,createSlots:dr,createStaticVNode:_k,createTextVNode:K,createVNode:B,customRef:EO,defineAsyncComponent:M$,defineComponent:xe,defineCustomElement:Nk,defineEmits:j$,defineExpose:H$,defineModel:K$,defineOptions:W$,defineProps:B$,defineSSRCustomElement:T4,defineSlots:z$,devtools:K3,effect:GV,effectScope:bg,getCurrentInstance:ts,getCurrentScope:rf,getTransitionRawChildren:Pg,guardReactiveProps:cr,h:Tl,handleError:ql,hasInjectionContext:HO,hydrate:zk,initCustomFormatter:j3,initDirectivesForSSR:L4,inject:pi,isMemoSame:Ck,isProxy:C_,isReactive:Ms,isReadonly:wa,isRef:_n,isRuntimeOnly:U3,isShallow:bl,isVNode:Ea,markRaw:Ig,mergeDefaults:X$,mergeModels:Q$,mergeProps:le,nextTick:rr,normalizeClass:$e,normalizeProps:Ln,normalizeStyle:ur,onActivated:DO,onBeforeMount:M_,onBeforeUnmount:of,onBeforeUpdate:L_,onDeactivated:NO,onErrorCaptured:FO,onMounted:$t,onRenderTracked:$O,onRenderTriggered:VO,onScopeDispose:_g,onServerPrefetch:LO,onUnmounted:Gs,onUpdated:kg,openBlock:N,popScopeId:x_,provide:Vu,proxyRefs:O_,pushScopeId:R_,queuePostFlushCb:um,reactive:Pr,readonly:Eg,ref:ie,registerRuntimeCompiler:F3,render:El,renderList:ht,renderSlot:Te,resolveComponent:An,resolveDirective:Rg,resolveDynamicComponent:Nn,resolveFilter:Q3,resolveTransitionHooks:Qu,setBlockTracking:Rb,setDevtoolsHook:G3,setTransitionHooks:Ta,shallowReactive:I_,shallowReadonly:m$,shallowRef:wO,ssrContextKey:lk,ssrUtils:X3,stop:YV,toDisplayString:Fe,toHandlerKey:Nd,toHandlers:U$,toRaw:Mt,toRef:Xu,toRefs:SO,toValue:b$,transformVNodeArgs:N3,triggerRef:y$,unref:A,useAttrs:Y$,useCssModule:S4,useCssVars:l4,useModel:w3,useSSRContext:uk,useSlots:xa,useTransitionState:D_,vModelCheckbox:K_,vModelDynamic:qk,vModelRadio:G_,vModelSelect:Fk,vModelText:ym,vShow:Ls,version:Ak,warn:W3,watch:pn,watchEffect:H_,watchPostEffect:ck,watchSyncEffect:dk,withAsyncContext:Z$,withCtx:J,withDefaults:G$,withDirectives:Fi,withKeys:bt,withMemo:H3,withModifiers:kt,withScopeId:D$},Symbol.toStringTag,{value:"Module"}));function F4(t){return{all:t=t||new Map,on:function(e,n){var r=t.get(e);r?r.push(n):t.set(e,[n])},off:function(e,n){var r=t.get(e);r&&(n?r.splice(r.indexOf(n)>>>0,1):t.set(e,[]))},emit:function(e,n){var r=t.get(e);r&&r.slice().map(function(i){i(n)}),(r=t.get("*"))&&r.slice().map(function(i){i(e,n)})}}}const bm=F4();let eS=0;const U4=()=>{const t=eS;return eS+=1,t},Xk=()=>(t,e)=>{const n={...t,id:U4(),group:t.group||""};return bm.emit("notify",{notification:n,timeout:e}),()=>bm.emit("close",n.id)},Qk="context",Fb=xe({__name:"Notification",props:{maxNotifications:{default:10},enter:{default:""},enterFrom:{default:""},enterTo:{default:""},leave:{default:""},leaveFrom:{default:""},leaveTo:{default:""},move:{default:""},moveDelay:{default:""}},emits:["close"],setup(t,{emit:e}){const n=t,r=pi(Qk),i=Pr({notifications:[],timeouts:{}}),s=ee(()=>i.notifications.filter(h=>h.group===r.group)),o=ee(()=>r.position==="bottom"?[...s.value]:[...s.value].reverse()),a=(h,p)=>{i.timeouts[h]=window.setTimeout(()=>{p!==-1&&l(h)},Math.max(p||3e3,0))},l=h=>{i.notifications.splice(i.notifications.findIndex(p=>p.id===h),1),clearTimeout(i.timeouts[h])},u=({notification:h,timeout:p})=>{i.notifications.length!==n.maxNotifications&&(i.notifications.push(h),a(h.id,p))},c=h=>{e("close"),l(h)},d=(h,p,m)=>{p?clearTimeout(i.timeouts[h]):a(h,m)};return $t(()=>{bm.on("notify",u),bm.on("close",l)}),(h,p)=>(N(),ce($k,{"enter-active-class":A(s).length>1?[n.enter,n.moveDelay].join(" "):n.enter,"enter-from-class":n.enterFrom,"enter-to-class":n.enterTo,"leave-active-class":n.leave,"leave-from-class":n.leaveFrom,"leave-to-class":n.leaveTo,"move-class":n.move},{default:J(()=>[Te(h.$slots,"default",{notifications:A(o),close:c,hovering:d})]),_:3},8,["enter-active-class","enter-from-class","enter-to-class","leave-active-class","leave-from-class","leave-to-class","move-class"]))}}),tS=xe({__name:"NotificationGroup",props:{group:{default:""},position:{default:"top"}},setup(t){const e=t;return Vu(Qk,{group:e.group,position:e.position}),(n,r)=>Te(n.$slots,"default",{group:t.group})}});function q4(t){t.config.globalProperties.$notify=Xk(),t.component("Notification",Fb),t.component("NotificationGroup",tS),t.component("notification",Fb),t.component("notificationGroup",tS)}const B4={install:q4},j4=Xk(),H4={class:"px-4 py-2 -mx-3"},W4={class:"mx-3"},z4={class:"font-semibold text-white"},K4={class:"text-sm text-gray-100"},ry=xe({__name:"Notification",props:{type:{},color:{}},setup(t){return(e,n)=>(N(),ce(A(Fb),{enter:"transform ease-out duration-300 transition","enter-from":"translate-y-2 opacity-0 sm:translate-y-0 sm:translate-x-4","enter-to":"translate-y-0 opacity-100 sm:translate-x-0",leave:"transition ease-in duration-500","leave-from":"opacity-100","leave-to":"opacity-0",move:"transition duration-500","move-delay":"delay-300"},{default:J(({notifications:r})=>[(N(!0),W(Pe,null,ht(r,i=>(N(),W("div",{key:i.id},[i.type===e.type?(N(),W("div",{key:0,class:$e("flex w-full max-w-sm mx-auto mt-4 overflow-hidden bg-opacity-75 rounded-primary shadow-md "+e.color)},[v("div",H4,[v("div",W4,[v("span",z4,Fe(i.title),1),v("p",K4,Fe(i.text),1)])])],2)):Z("",!0)]))),128))]),_:1}))}}),G4={class:"fixed inset-0 flex items-end justify-center p-6 px-4 py-6 pointer-events-none"},Y4={class:"w-full max-w-sm"},X4=xe({__name:"NotificationGroup",setup(t){return(e,n)=>{const r=An("NotificationGroup",!0);return N(),ce(r,null,{default:J(()=>[v("div",G4,[v("div",Y4,[B(ry,{type:"error",color:"bg-red-800"}),B(ry,{type:"warning",color:"bg-yellow-800"}),B(ry,{type:"success",color:"bg-green-800"})])])]),_:1})}}});/*!
  * vue-router v4.4.3
  * (c) 2024 Eduardo San Martin Morote
  * @license MIT
  */const hu=typeof document<"u";function Q4(t){return t.__esModule||t[Symbol.toStringTag]==="Module"}const ln=Object.assign;function iy(t,e){const n={};for(const r in e){const i=e[r];n[r]=ws(i)?i.map(t):t(i)}return n}const Fd=()=>{},ws=Array.isArray,Jk=/#/g,J4=/&/g,Z4=/\//g,eF=/=/g,tF=/\?/g,Zk=/\+/g,nF=/%5B/g,rF=/%5D/g,eR=/%5E/g,iF=/%60/g,tR=/%7B/g,sF=/%7C/g,nR=/%7D/g,oF=/%20/g;function Y_(t){return encodeURI(""+t).replace(sF,"|").replace(nF,"[").replace(rF,"]")}function aF(t){return Y_(t).replace(tR,"{").replace(nR,"}").replace(eR,"^")}function Ub(t){return Y_(t).replace(Zk,"%2B").replace(oF,"+").replace(Jk,"%23").replace(J4,"%26").replace(iF,"`").replace(tR,"{").replace(nR,"}").replace(eR,"^")}function lF(t){return Ub(t).replace(eF,"%3D")}function uF(t){return Y_(t).replace(Jk,"%23").replace(tF,"%3F")}function cF(t){return t==null?"":uF(t).replace(Z4,"%2F")}function mh(t){try{return decodeURIComponent(""+t)}catch{}return""+t}const dF=/\/$/,hF=t=>t.replace(dF,"");function sy(t,e,n="/"){let r,i={},s="",o="";const a=e.indexOf("#");let l=e.indexOf("?");return a<l&&a>=0&&(l=-1),l>-1&&(r=e.slice(0,l),s=e.slice(l+1,a>-1?a:e.length),i=t(s)),a>-1&&(r=r||e.slice(0,a),o=e.slice(a,e.length)),r=gF(r??e,n),{fullPath:r+(s&&"?")+s+o,path:r,query:i,hash:mh(o)}}function fF(t,e){const n=e.query?t(e.query):"";return e.path+(n&&"?")+n+(e.hash||"")}function nS(t,e){return!e||!t.toLowerCase().startsWith(e.toLowerCase())?t:t.slice(e.length)||"/"}function pF(t,e,n){const r=e.matched.length-1,i=n.matched.length-1;return r>-1&&r===i&&ec(e.matched[r],n.matched[i])&&rR(e.params,n.params)&&t(e.query)===t(n.query)&&e.hash===n.hash}function ec(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function rR(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(!mF(t[n],e[n]))return!1;return!0}function mF(t,e){return ws(t)?rS(t,e):ws(e)?rS(e,t):t===e}function rS(t,e){return ws(e)?t.length===e.length&&t.every((n,r)=>n===e[r]):t.length===1&&t[0]===e}function gF(t,e){if(t.startsWith("/"))return t;if(!t)return e;const n=e.split("/"),r=t.split("/"),i=r[r.length-1];(i===".."||i===".")&&r.push("");let s=n.length-1,o,a;for(o=0;o<r.length;o++)if(a=r[o],a!==".")if(a==="..")s>1&&s--;else break;return n.slice(0,s).join("/")+"/"+r.slice(o).join("/")}const Fo={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};var gh;(function(t){t.pop="pop",t.push="push"})(gh||(gh={}));var Ud;(function(t){t.back="back",t.forward="forward",t.unknown=""})(Ud||(Ud={}));function vF(t){if(!t)if(hu){const e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),hF(t)}const yF=/^[^#]+#/;function bF(t,e){return t.replace(yF,"#")+e}function _F(t,e){const n=document.documentElement.getBoundingClientRect(),r=t.getBoundingClientRect();return{behavior:e.behavior,left:r.left-n.left-(e.left||0),top:r.top-n.top-(e.top||0)}}const Ng=()=>({left:window.scrollX,top:window.scrollY});function wF(t){let e;if("el"in t){const n=t.el,r=typeof n=="string"&&n.startsWith("#"),i=typeof n=="string"?r?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!i)return;e=_F(i,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.scrollX,e.top!=null?e.top:window.scrollY)}function iS(t,e){return(history.state?history.state.position-e:-1)+t}const qb=new Map;function TF(t,e){qb.set(t,e)}function EF(t){const e=qb.get(t);return qb.delete(t),e}let SF=()=>location.protocol+"//"+location.host;function iR(t,e){const{pathname:n,search:r,hash:i}=e,s=t.indexOf("#");if(s>-1){let a=i.includes(t.slice(s))?t.slice(s).length:1,l=i.slice(a);return l[0]!=="/"&&(l="/"+l),nS(l,"")}return nS(n,t)+r+i}function IF(t,e,n,r){let i=[],s=[],o=null;const a=({state:h})=>{const p=iR(t,location),m=n.value,g=e.value;let y=0;if(h){if(n.value=p,e.value=h,o&&o===m){o=null;return}y=g?h.position-g.position:0}else r(p);i.forEach(P=>{P(n.value,m,{delta:y,type:gh.pop,direction:y?y>0?Ud.forward:Ud.back:Ud.unknown})})};function l(){o=n.value}function u(h){i.push(h);const p=()=>{const m=i.indexOf(h);m>-1&&i.splice(m,1)};return s.push(p),p}function c(){const{history:h}=window;h.state&&h.replaceState(ln({},h.state,{scroll:Ng()}),"")}function d(){for(const h of s)h();s=[],window.removeEventListener("popstate",a),window.removeEventListener("beforeunload",c)}return window.addEventListener("popstate",a),window.addEventListener("beforeunload",c,{passive:!0}),{pauseListeners:l,listen:u,destroy:d}}function sS(t,e,n,r=!1,i=!1){return{back:t,current:e,forward:n,replaced:r,position:window.history.length,scroll:i?Ng():null}}function CF(t){const{history:e,location:n}=window,r={value:iR(t,n)},i={value:e.state};i.value||s(r.value,{back:null,current:r.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function s(l,u,c){const d=t.indexOf("#"),h=d>-1?(n.host&&document.querySelector("base")?t:t.slice(d))+l:SF()+t+l;try{e[c?"replaceState":"pushState"](u,"",h),i.value=u}catch(p){console.error(p),n[c?"replace":"assign"](h)}}function o(l,u){const c=ln({},e.state,sS(i.value.back,l,i.value.forward,!0),u,{position:i.value.position});s(l,c,!0),r.value=l}function a(l,u){const c=ln({},i.value,e.state,{forward:l,scroll:Ng()});s(c.current,c,!0);const d=ln({},sS(r.value,l,null),{position:c.position+1},u);s(l,d,!1),r.value=l}return{location:r,state:i,push:a,replace:o}}function AF(t){t=vF(t);const e=CF(t),n=IF(t,e.state,e.location,e.replace);function r(s,o=!0){o||n.pauseListeners(),history.go(s)}const i=ln({location:"",base:t,go:r,createHref:bF.bind(null,t)},e,n);return Object.defineProperty(i,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(i,"state",{enumerable:!0,get:()=>e.state.value}),i}function PF(t){return t=location.host?t||location.pathname+location.search:"",t.includes("#")||(t+="#"),AF(t)}function OF(t){return typeof t=="string"||t&&typeof t=="object"}function sR(t){return typeof t=="string"||typeof t=="symbol"}const oR=Symbol("");var oS;(function(t){t[t.aborted=4]="aborted",t[t.cancelled=8]="cancelled",t[t.duplicated=16]="duplicated"})(oS||(oS={}));function tc(t,e){return ln(new Error,{type:t,[oR]:!0},e)}function ro(t,e){return t instanceof Error&&oR in t&&(e==null||!!(t.type&e))}const aS="[^/]+?",kF={sensitive:!1,strict:!1,start:!0,end:!0},RF=/[.+*?^${}()[\]/\\]/g;function xF(t,e){const n=ln({},kF,e),r=[];let i=n.start?"^":"";const s=[];for(const u of t){const c=u.length?[]:[90];n.strict&&!u.length&&(i+="/");for(let d=0;d<u.length;d++){const h=u[d];let p=40+(n.sensitive?.25:0);if(h.type===0)d||(i+="/"),i+=h.value.replace(RF,"\\$&"),p+=40;else if(h.type===1){const{value:m,repeatable:g,optional:y,regexp:P}=h;s.push({name:m,repeatable:g,optional:y});const I=P||aS;if(I!==aS){p+=10;try{new RegExp(`(${I})`)}catch(T){throw new Error(`Invalid custom RegExp for param "${m}" (${I}): `+T.message)}}let S=g?`((?:${I})(?:/(?:${I}))*)`:`(${I})`;d||(S=y&&u.length<2?`(?:/${S})`:"/"+S),y&&(S+="?"),i+=S,p+=20,y&&(p+=-8),g&&(p+=-20),I===".*"&&(p+=-50)}c.push(p)}r.push(c)}if(n.strict&&n.end){const u=r.length-1;r[u][r[u].length-1]+=.7000000000000001}n.strict||(i+="/?"),n.end?i+="$":n.strict&&(i+="(?:/|$)");const o=new RegExp(i,n.sensitive?"":"i");function a(u){const c=u.match(o),d={};if(!c)return null;for(let h=1;h<c.length;h++){const p=c[h]||"",m=s[h-1];d[m.name]=p&&m.repeatable?p.split("/"):p}return d}function l(u){let c="",d=!1;for(const h of t){(!d||!c.endsWith("/"))&&(c+="/"),d=!1;for(const p of h)if(p.type===0)c+=p.value;else if(p.type===1){const{value:m,repeatable:g,optional:y}=p,P=m in u?u[m]:"";if(ws(P)&&!g)throw new Error(`Provided param "${m}" is an array but it is not repeatable (* or + modifiers)`);const I=ws(P)?P.join("/"):P;if(!I)if(y)h.length<2&&(c.endsWith("/")?c=c.slice(0,-1):d=!0);else throw new Error(`Missing required param "${m}"`);c+=I}}return c||"/"}return{re:o,score:r,keys:s,parse:a,stringify:l}}function DF(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=e[n]-t[n];if(r)return r;n++}return t.length<e.length?t.length===1&&t[0]===80?-1:1:t.length>e.length?e.length===1&&e[0]===80?1:-1:0}function aR(t,e){let n=0;const r=t.score,i=e.score;for(;n<r.length&&n<i.length;){const s=DF(r[n],i[n]);if(s)return s;n++}if(Math.abs(i.length-r.length)===1){if(lS(r))return 1;if(lS(i))return-1}return i.length-r.length}function lS(t){const e=t[t.length-1];return t.length>0&&e[e.length-1]<0}const NF={type:0,value:""},MF=/[a-zA-Z0-9_]/;function LF(t){if(!t)return[[]];if(t==="/")return[[NF]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(p){throw new Error(`ERR (${n})/"${u}": ${p}`)}let n=0,r=n;const i=[];let s;function o(){s&&i.push(s),s=[]}let a=0,l,u="",c="";function d(){u&&(n===0?s.push({type:0,value:u}):n===1||n===2||n===3?(s.length>1&&(l==="*"||l==="+")&&e(`A repeatable param (${u}) must be alone in its segment. eg: '/:ids+.`),s.push({type:1,value:u,regexp:c,repeatable:l==="*"||l==="+",optional:l==="*"||l==="?"})):e("Invalid state to consume buffer"),u="")}function h(){u+=l}for(;a<t.length;){if(l=t[a++],l==="\\"&&n!==2){r=n,n=4;continue}switch(n){case 0:l==="/"?(u&&d(),o()):l===":"?(d(),n=1):h();break;case 4:h(),n=r;break;case 1:l==="("?n=2:MF.test(l)?h():(d(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&a--);break;case 2:l===")"?c[c.length-1]=="\\"?c=c.slice(0,-1)+l:n=3:c+=l;break;case 3:d(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&a--,c="";break;default:e("Unknown state");break}}return n===2&&e(`Unfinished custom RegExp for param "${u}"`),d(),o(),i}function VF(t,e,n){const r=xF(LF(t.path),n),i=ln(r,{record:t,parent:e,children:[],alias:[]});return e&&!i.record.aliasOf==!e.record.aliasOf&&e.children.push(i),i}function $F(t,e){const n=[],r=new Map;e=dS({strict:!1,end:!0,sensitive:!1},e);function i(d){return r.get(d)}function s(d,h,p){const m=!p,g=FF(d);g.aliasOf=p&&p.record;const y=dS(e,d),P=[g];if("alias"in d){const T=typeof d.alias=="string"?[d.alias]:d.alias;for(const M of T)P.push(ln({},g,{components:p?p.record.components:g.components,path:M,aliasOf:p?p.record:g}))}let I,S;for(const T of P){const{path:M}=T;if(h&&M[0]!=="/"){const R=h.record.path,C=R[R.length-1]==="/"?"":"/";T.path=h.record.path+(M&&C+M)}if(I=VF(T,h,y),p?p.alias.push(I):(S=S||I,S!==I&&S.alias.push(I),m&&d.name&&!cS(I)&&o(d.name)),lR(I)&&l(I),g.children){const R=g.children;for(let C=0;C<R.length;C++)s(R[C],I,p&&p.children[C])}p=p||I}return S?()=>{o(S)}:Fd}function o(d){if(sR(d)){const h=r.get(d);h&&(r.delete(d),n.splice(n.indexOf(h),1),h.children.forEach(o),h.alias.forEach(o))}else{const h=n.indexOf(d);h>-1&&(n.splice(h,1),d.record.name&&r.delete(d.record.name),d.children.forEach(o),d.alias.forEach(o))}}function a(){return n}function l(d){const h=BF(d,n);n.splice(h,0,d),d.record.name&&!cS(d)&&r.set(d.record.name,d)}function u(d,h){let p,m={},g,y;if("name"in d&&d.name){if(p=r.get(d.name),!p)throw tc(1,{location:d});y=p.record.name,m=ln(uS(h.params,p.keys.filter(S=>!S.optional).concat(p.parent?p.parent.keys.filter(S=>S.optional):[]).map(S=>S.name)),d.params&&uS(d.params,p.keys.map(S=>S.name))),g=p.stringify(m)}else if(d.path!=null)g=d.path,p=n.find(S=>S.re.test(g)),p&&(m=p.parse(g),y=p.record.name);else{if(p=h.name?r.get(h.name):n.find(S=>S.re.test(h.path)),!p)throw tc(1,{location:d,currentLocation:h});y=p.record.name,m=ln({},h.params,d.params),g=p.stringify(m)}const P=[];let I=p;for(;I;)P.unshift(I.record),I=I.parent;return{name:y,path:g,params:m,matched:P,meta:qF(P)}}t.forEach(d=>s(d));function c(){n.length=0,r.clear()}return{addRoute:s,resolve:u,removeRoute:o,clearRoutes:c,getRoutes:a,getRecordMatcher:i}}function uS(t,e){const n={};for(const r of e)r in t&&(n[r]=t[r]);return n}function FF(t){return{path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:void 0,beforeEnter:t.beforeEnter,props:UF(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}}}function UF(t){const e={},n=t.props||!1;if("component"in t)e.default=n;else for(const r in t.components)e[r]=typeof n=="object"?n[r]:n;return e}function cS(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function qF(t){return t.reduce((e,n)=>ln(e,n.meta),{})}function dS(t,e){const n={};for(const r in t)n[r]=r in e?e[r]:t[r];return n}function BF(t,e){let n=0,r=e.length;for(;n!==r;){const s=n+r>>1;aR(t,e[s])<0?r=s:n=s+1}const i=jF(t);return i&&(r=e.lastIndexOf(i,r-1)),r}function jF(t){let e=t;for(;e=e.parent;)if(lR(e)&&aR(t,e)===0)return e}function lR({record:t}){return!!(t.name||t.components&&Object.keys(t.components).length||t.redirect)}function HF(t){const e={};if(t===""||t==="?")return e;const r=(t[0]==="?"?t.slice(1):t).split("&");for(let i=0;i<r.length;++i){const s=r[i].replace(Zk," "),o=s.indexOf("="),a=mh(o<0?s:s.slice(0,o)),l=o<0?null:mh(s.slice(o+1));if(a in e){let u=e[a];ws(u)||(u=e[a]=[u]),u.push(l)}else e[a]=l}return e}function hS(t){let e="";for(let n in t){const r=t[n];if(n=lF(n),r==null){r!==void 0&&(e+=(e.length?"&":"")+n);continue}(ws(r)?r.map(s=>s&&Ub(s)):[r&&Ub(r)]).forEach(s=>{s!==void 0&&(e+=(e.length?"&":"")+n,s!=null&&(e+="="+s))})}return e}function WF(t){const e={};for(const n in t){const r=t[n];r!==void 0&&(e[n]=ws(r)?r.map(i=>i==null?null:""+i):r==null?r:""+r)}return e}const zF=Symbol(""),fS=Symbol(""),Mg=Symbol(""),X_=Symbol(""),Bb=Symbol("");function td(){let t=[];function e(r){return t.push(r),()=>{const i=t.indexOf(r);i>-1&&t.splice(i,1)}}function n(){t=[]}return{add:e,list:()=>t.slice(),reset:n}}function Qo(t,e,n,r,i,s=o=>o()){const o=r&&(r.enterCallbacks[i]=r.enterCallbacks[i]||[]);return()=>new Promise((a,l)=>{const u=h=>{h===!1?l(tc(4,{from:n,to:e})):h instanceof Error?l(h):OF(h)?l(tc(2,{from:e,to:h})):(o&&r.enterCallbacks[i]===o&&typeof h=="function"&&o.push(h),a())},c=s(()=>t.call(r&&r.instances[i],e,n,u));let d=Promise.resolve(c);t.length<3&&(d=d.then(u)),d.catch(h=>l(h))})}function oy(t,e,n,r,i=s=>s()){const s=[];for(const o of t)for(const a in o.components){let l=o.components[a];if(!(e!=="beforeRouteEnter"&&!o.instances[a]))if(KF(l)){const c=(l.__vccOpts||l)[e];c&&s.push(Qo(c,n,r,o,a,i))}else{let u=l();s.push(()=>u.then(c=>{if(!c)return Promise.reject(new Error(`Couldn't resolve component "${a}" at "${o.path}"`));const d=Q4(c)?c.default:c;o.components[a]=d;const p=(d.__vccOpts||d)[e];return p&&Qo(p,n,r,o,a,i)()}))}}return s}function KF(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function pS(t){const e=pi(Mg),n=pi(X_),r=ee(()=>{const l=A(t.to);return e.resolve(l)}),i=ee(()=>{const{matched:l}=r.value,{length:u}=l,c=l[u-1],d=n.matched;if(!c||!d.length)return-1;const h=d.findIndex(ec.bind(null,c));if(h>-1)return h;const p=mS(l[u-2]);return u>1&&mS(c)===p&&d[d.length-1].path!==p?d.findIndex(ec.bind(null,l[u-2])):h}),s=ee(()=>i.value>-1&&QF(n.params,r.value.params)),o=ee(()=>i.value>-1&&i.value===n.matched.length-1&&rR(n.params,r.value.params));function a(l={}){return XF(l)?e[A(t.replace)?"replace":"push"](A(t.to)).catch(Fd):Promise.resolve()}return{route:r,href:ee(()=>r.value.href),isActive:s,isExactActive:o,navigate:a}}const GF=xe({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:pS,setup(t,{slots:e}){const n=Pr(pS(t)),{options:r}=pi(Mg),i=ee(()=>({[gS(t.activeClass,r.linkActiveClass,"router-link-active")]:n.isActive,[gS(t.exactActiveClass,r.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const s=e.default&&e.default(n);return t.custom?s:Tl("a",{"aria-current":n.isExactActive?t.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:i.value},s)}}}),YF=GF;function XF(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function QF(t,e){for(const n in e){const r=e[n],i=t[n];if(typeof r=="string"){if(r!==i)return!1}else if(!ws(i)||i.length!==r.length||r.some((s,o)=>s!==i[o]))return!1}return!0}function mS(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const gS=(t,e,n)=>t??e??n,JF=xe({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:e,slots:n}){const r=pi(Bb),i=ee(()=>t.route||r.value),s=pi(fS,0),o=ee(()=>{let u=A(s);const{matched:c}=i.value;let d;for(;(d=c[u])&&!d.components;)u++;return u}),a=ee(()=>i.value.matched[o.value]);Vu(fS,ee(()=>o.value+1)),Vu(zF,a),Vu(Bb,i);const l=ie();return pn(()=>[l.value,a.value,t.name],([u,c,d],[h,p,m])=>{c&&(c.instances[d]=u,p&&p!==c&&u&&u===h&&(c.leaveGuards.size||(c.leaveGuards=p.leaveGuards),c.updateGuards.size||(c.updateGuards=p.updateGuards))),u&&c&&(!p||!ec(c,p)||!h)&&(c.enterCallbacks[d]||[]).forEach(g=>g(u))},{flush:"post"}),()=>{const u=i.value,c=t.name,d=a.value,h=d&&d.components[c];if(!h)return vS(n.default,{Component:h,route:u});const p=d.props[c],m=p?p===!0?u.params:typeof p=="function"?p(u):p:null,y=Tl(h,ln({},m,e,{onVnodeUnmounted:P=>{P.component.isUnmounted&&(d.instances[c]=null)},ref:l}));return vS(n.default,{Component:y,route:u})||y}}});function vS(t,e){if(!t)return null;const n=t(e);return n.length===1?n[0]:n}const uR=JF;function ZF(t){const e=$F(t.routes,t),n=t.parseQuery||HF,r=t.stringifyQuery||hS,i=t.history,s=td(),o=td(),a=td(),l=wO(Fo);let u=Fo;hu&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const c=iy.bind(null,ne=>""+ne),d=iy.bind(null,cF),h=iy.bind(null,mh);function p(ne,pe){let se,_e;return sR(ne)?(se=e.getRecordMatcher(ne),_e=pe):_e=ne,e.addRoute(_e,se)}function m(ne){const pe=e.getRecordMatcher(ne);pe&&e.removeRoute(pe)}function g(){return e.getRoutes().map(ne=>ne.record)}function y(ne){return!!e.getRecordMatcher(ne)}function P(ne,pe){if(pe=ln({},pe||l.value),typeof ne=="string"){const H=sy(n,ne,pe.path),X=e.resolve({path:H.path},pe),me=i.createHref(H.fullPath);return ln(H,X,{params:h(X.params),hash:mh(H.hash),redirectedFrom:void 0,href:me})}let se;if(ne.path!=null)se=ln({},ne,{path:sy(n,ne.path,pe.path).path});else{const H=ln({},ne.params);for(const X in H)H[X]==null&&delete H[X];se=ln({},ne,{params:d(H)}),pe.params=d(pe.params)}const _e=e.resolve(se,pe),Ce=ne.hash||"";_e.params=c(h(_e.params));const fe=fF(r,ln({},ne,{hash:aF(Ce),path:_e.path})),L=i.createHref(fe);return ln({fullPath:fe,hash:Ce,query:r===hS?WF(ne.query):ne.query||{}},_e,{redirectedFrom:void 0,href:L})}function I(ne){return typeof ne=="string"?sy(n,ne,l.value.path):ln({},ne)}function S(ne,pe){if(u!==ne)return tc(8,{from:pe,to:ne})}function T(ne){return C(ne)}function M(ne){return T(ln(I(ne),{replace:!0}))}function R(ne){const pe=ne.matched[ne.matched.length-1];if(pe&&pe.redirect){const{redirect:se}=pe;let _e=typeof se=="function"?se(ne):se;return typeof _e=="string"&&(_e=_e.includes("?")||_e.includes("#")?_e=I(_e):{path:_e},_e.params={}),ln({query:ne.query,hash:ne.hash,params:_e.path!=null?{}:ne.params},_e)}}function C(ne,pe){const se=u=P(ne),_e=l.value,Ce=ne.state,fe=ne.force,L=ne.replace===!0,H=R(se);if(H)return C(ln(I(H),{state:typeof H=="object"?ln({},Ce,H.state):Ce,force:fe,replace:L}),pe||se);const X=se;X.redirectedFrom=pe;let me;return!fe&&pF(r,_e,se)&&(me=tc(16,{to:X,from:_e}),ue(_e,_e,!0,!1)),(me?Promise.resolve(me):w(X,_e)).catch(ge=>ro(ge)?ro(ge,2)?ge:V(ge):te(ge,X,_e)).then(ge=>{if(ge){if(ro(ge,2))return C(ln({replace:L},I(ge.to),{state:typeof ge.to=="object"?ln({},Ce,ge.to.state):Ce,force:fe}),pe||X)}else ge=x(X,_e,!0,L,Ce);return k(X,_e,ge),ge})}function E(ne,pe){const se=S(ne,pe);return se?Promise.reject(se):Promise.resolve()}function b(ne){const pe=Se.values().next().value;return pe&&typeof pe.runWithContext=="function"?pe.runWithContext(ne):ne()}function w(ne,pe){let se;const[_e,Ce,fe]=e6(ne,pe);se=oy(_e.reverse(),"beforeRouteLeave",ne,pe);for(const H of _e)H.leaveGuards.forEach(X=>{se.push(Qo(X,ne,pe))});const L=E.bind(null,ne,pe);return se.push(L),Y(se).then(()=>{se=[];for(const H of s.list())se.push(Qo(H,ne,pe));return se.push(L),Y(se)}).then(()=>{se=oy(Ce,"beforeRouteUpdate",ne,pe);for(const H of Ce)H.updateGuards.forEach(X=>{se.push(Qo(X,ne,pe))});return se.push(L),Y(se)}).then(()=>{se=[];for(const H of fe)if(H.beforeEnter)if(ws(H.beforeEnter))for(const X of H.beforeEnter)se.push(Qo(X,ne,pe));else se.push(Qo(H.beforeEnter,ne,pe));return se.push(L),Y(se)}).then(()=>(ne.matched.forEach(H=>H.enterCallbacks={}),se=oy(fe,"beforeRouteEnter",ne,pe,b),se.push(L),Y(se))).then(()=>{se=[];for(const H of o.list())se.push(Qo(H,ne,pe));return se.push(L),Y(se)}).catch(H=>ro(H,8)?H:Promise.reject(H))}function k(ne,pe,se){a.list().forEach(_e=>b(()=>_e(ne,pe,se)))}function x(ne,pe,se,_e,Ce){const fe=S(ne,pe);if(fe)return fe;const L=pe===Fo,H=hu?history.state:{};se&&(_e||L?i.replace(ne.fullPath,ln({scroll:L&&H&&H.scroll},Ce)):i.push(ne.fullPath,Ce)),l.value=ne,ue(ne,pe,se,L),V()}let O;function j(){O||(O=i.listen((ne,pe,se)=>{if(!he.listening)return;const _e=P(ne),Ce=R(_e);if(Ce){C(ln(Ce,{replace:!0}),_e).catch(Fd);return}u=_e;const fe=l.value;hu&&TF(iS(fe.fullPath,se.delta),Ng()),w(_e,fe).catch(L=>ro(L,12)?L:ro(L,2)?(C(L.to,_e).then(H=>{ro(H,20)&&!se.delta&&se.type===gh.pop&&i.go(-1,!1)}).catch(Fd),Promise.reject()):(se.delta&&i.go(-se.delta,!1),te(L,_e,fe))).then(L=>{L=L||x(_e,fe,!1),L&&(se.delta&&!ro(L,8)?i.go(-se.delta,!1):se.type===gh.pop&&ro(L,20)&&i.go(-1,!1)),k(_e,fe,L)}).catch(Fd)}))}let U=td(),$=td(),q;function te(ne,pe,se){V(ne);const _e=$.list();return _e.length?_e.forEach(Ce=>Ce(ne,pe,se)):console.error(ne),Promise.reject(ne)}function z(){return q&&l.value!==Fo?Promise.resolve():new Promise((ne,pe)=>{U.add([ne,pe])})}function V(ne){return q||(q=!ne,j(),U.list().forEach(([pe,se])=>ne?se(ne):pe()),U.reset()),ne}function ue(ne,pe,se,_e){const{scrollBehavior:Ce}=t;if(!hu||!Ce)return Promise.resolve();const fe=!se&&EF(iS(ne.fullPath,0))||(_e||!se)&&history.state&&history.state.scroll||null;return rr().then(()=>Ce(ne,pe,fe)).then(L=>L&&wF(L)).catch(L=>te(L,ne,pe))}const oe=ne=>i.go(ne);let ve;const Se=new Set,he={currentRoute:l,listening:!0,addRoute:p,removeRoute:m,clearRoutes:e.clearRoutes,hasRoute:y,getRoutes:g,resolve:P,options:t,push:T,replace:M,go:oe,back:()=>oe(-1),forward:()=>oe(1),beforeEach:s.add,beforeResolve:o.add,afterEach:a.add,onError:$.add,isReady:z,install(ne){const pe=this;ne.component("RouterLink",YF),ne.component("RouterView",uR),ne.config.globalProperties.$router=pe,Object.defineProperty(ne.config.globalProperties,"$route",{enumerable:!0,get:()=>A(l)}),hu&&!ve&&l.value===Fo&&(ve=!0,T(i.location).catch(Ce=>{}));const se={};for(const Ce in Fo)Object.defineProperty(se,Ce,{get:()=>l.value[Ce],enumerable:!0});ne.provide(Mg,pe),ne.provide(X_,I_(se)),ne.provide(Bb,l);const _e=ne.unmount;Se.add(ne),ne.unmount=function(){Se.delete(ne),Se.size<1&&(u=Fo,O&&O(),O=null,l.value=Fo,ve=!1,q=!1),_e()}}};function Y(ne){return ne.reduce((pe,se)=>pe.then(()=>b(se)),Promise.resolve())}return he}function e6(t,e){const n=[],r=[],i=[],s=Math.max(e.matched.length,t.matched.length);for(let o=0;o<s;o++){const a=e.matched[o];a&&(t.matched.find(u=>ec(u,a))?r.push(a):n.push(a));const l=t.matched[o];l&&(e.matched.find(u=>ec(u,l))||i.push(l))}return[n,r,i]}function Q_(){return pi(Mg)}function cf(t){return pi(X_)}const t6=xe({__name:"App",setup(t){return(e,n)=>(N(),W(Pe,null,[B(A(uR)),B(X4)],64))}});var yS={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cR={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ge=function(t,e){if(!t)throw Ac(e)},Ac=function(t){return new Error("Firebase Database ("+cR.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dR=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},n6=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},Lg={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,l=i+2<t.length,u=l?t[i+2]:0,c=s>>2,d=(s&3)<<4|a>>4;let h=(a&15)<<2|u>>6,p=u&63;l||(p=64,o||(h=64)),r.push(n[c],n[d],n[h],n[p])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(dR(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):n6(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const d=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||u==null||d==null)throw new r6;const h=s<<2|a>>4;if(r.push(h),u!==64){const p=a<<4&240|u>>2;if(r.push(p),d!==64){const m=u<<6&192|d;r.push(m)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class r6 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const hR=function(t){const e=dR(t);return Lg.encodeByteArray(e,!0)},_m=function(t){return hR(t).replace(/\./g,"")},wm=function(t){try{return Lg.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i6(t){return fR(void 0,t)}function fR(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!s6(n)||(t[n]=fR(t[n],e[n]));return t}function s6(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pR(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o6=()=>pR().__FIREBASE_DEFAULTS__,a6=()=>{if(typeof process>"u"||typeof yS>"u")return;const t=yS.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},l6=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&wm(t[1]);return e&&JSON.parse(e)},Vg=()=>{try{return o6()||a6()||l6()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},mR=t=>{var e,n;return(n=(e=Vg())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},gR=t=>{const e=mR(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},vR=()=>{var t;return(t=Vg())===null||t===void 0?void 0:t.config},yR=t=>{var e;return(e=Vg())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sl{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bR(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[_m(JSON.stringify(n)),_m(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function si(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function J_(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(si())}function u6(){var t;const e=(t=Vg())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function _R(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function wR(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function c6(){const t=si();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function TR(){return cR.NODE_ADMIN===!0}function d6(){return!u6()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function $g(){try{return typeof indexedDB=="object"}catch{return!1}}function ER(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}function h6(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f6="FirebaseError";class Bi extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=f6,Object.setPrototypeOf(this,Bi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Da.prototype.create)}}class Da{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?p6(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new Bi(i,a,r)}}function p6(t,e){return t.replace(m6,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const m6=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vh(t){return JSON.parse(t)}function Nr(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SR=function(t){let e={},n={},r={},i="";try{const s=t.split(".");e=vh(wm(s[0])||""),n=vh(wm(s[1])||""),i=s[2],r=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:r,signature:i}},g6=function(t){const e=SR(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},v6=function(t){const e=SR(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ko(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function nc(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function jb(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Tm(t,e,n){const r={};for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=e.call(n,t[i],i,t));return r}function yh(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(bS(s)&&bS(o)){if(!yh(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function bS(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pc(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function wd(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function Td(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y6{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const r=this.W_;if(typeof e=="string")for(let d=0;d<16;d++)r[d]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let d=0;d<16;d++)r[d]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let d=16;d<80;d++){const h=r[d-3]^r[d-8]^r[d-14]^r[d-16];r[d]=(h<<1|h>>>31)&4294967295}let i=this.chain_[0],s=this.chain_[1],o=this.chain_[2],a=this.chain_[3],l=this.chain_[4],u,c;for(let d=0;d<80;d++){d<40?d<20?(u=a^s&(o^a),c=1518500249):(u=s^o^a,c=1859775393):d<60?(u=s&o|a&(s|o),c=2400959708):(u=s^o^a,c=3395469782);const h=(i<<5|i>>>27)+u+l+c+r[d]&4294967295;l=a,a=o,o=(s<<30|s>>>2)&4294967295,s=i,i=h}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+o&4294967295,this.chain_[3]=this.chain_[3]+a&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);const r=n-this.blockSize;let i=0;const s=this.buf_;let o=this.inbuf_;for(;i<n;){if(o===0)for(;i<=r;)this.compress_(e,i),i+=this.blockSize;if(typeof e=="string"){for(;i<n;)if(s[o]=e.charCodeAt(i),++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}else for(;i<n;)if(s[o]=e[i],++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}this.inbuf_=o,this.total_+=n}digest(){const e=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=n&255,n/=256;this.compress_(this.buf_);let r=0;for(let i=0;i<5;i++)for(let s=24;s>=0;s-=8)e[r]=this.chain_[i]>>s&255,++r;return e}}function b6(t,e){const n=new _6(t,e);return n.subscribe.bind(n)}class _6{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");w6(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=ay),i.error===void 0&&(i.error=ay),i.complete===void 0&&(i.complete=ay);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function w6(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function ay(){}function T6(t,e){return`${t} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E6=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);if(i>=55296&&i<=56319){const s=i-55296;r++,Ge(r<t.length,"Surrogate pair missing trail surrogate.");const o=t.charCodeAt(r)-56320;i=65536+(s<<10)+o}i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):i<65536?(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},Fg=function(t){let e=0;for(let n=0;n<t.length;n++){const r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S6=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,t=>{const e=Math.random()*16|0;return(t==="x"?e:e&3|8).toString(16)})};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I6=1e3,C6=2,A6=4*60*60*1e3,P6=.5;function Hb(t,e=I6,n=C6){const r=e*Math.pow(n,t),i=Math.round(P6*r*(Math.random()-.5)*2);return Math.min(A6,r+i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zt(t){return t&&t._delegate?t._delegate:t}class mi{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ya="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O6{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new Sl;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(R6(e))try{this.getOrInitializeService({instanceIdentifier:Ya})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Ya){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ya){return this.instances.has(e)}getOptions(e=Ya){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:k6(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Ya){return this.component?this.component.multipleInstances?e:Ya:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function k6(t){return t===Ya?void 0:t}function R6(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x6{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new O6(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xt;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(xt||(xt={}));const D6={debug:xt.DEBUG,verbose:xt.VERBOSE,info:xt.INFO,warn:xt.WARN,error:xt.ERROR,silent:xt.SILENT},N6=xt.INFO,M6={[xt.DEBUG]:"log",[xt.VERBOSE]:"log",[xt.INFO]:"info",[xt.WARN]:"warn",[xt.ERROR]:"error"},L6=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=M6[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Oc{constructor(e){this.name=e,this._logLevel=N6,this._logHandler=L6,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in xt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?D6[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,xt.DEBUG,...e),this._logHandler(this,xt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,xt.VERBOSE,...e),this._logHandler(this,xt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,xt.INFO,...e),this._logHandler(this,xt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,xt.WARN,...e),this._logHandler(this,xt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,xt.ERROR,...e),this._logHandler(this,xt.ERROR,...e)}}const V6=(t,e)=>e.some(n=>t instanceof n);let _S,wS;function $6(){return _S||(_S=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function F6(){return wS||(wS=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const IR=new WeakMap,Wb=new WeakMap,CR=new WeakMap,ly=new WeakMap,Z_=new WeakMap;function U6(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(da(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&IR.set(n,t)}).catch(()=>{}),Z_.set(e,t),e}function q6(t){if(Wb.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});Wb.set(t,e)}let zb={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Wb.get(t);if(e==="objectStoreNames")return t.objectStoreNames||CR.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return da(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function B6(t){zb=t(zb)}function j6(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(uy(this),e,...n);return CR.set(r,e.sort?e.sort():[e]),da(r)}:F6().includes(t)?function(...e){return t.apply(uy(this),e),da(IR.get(this))}:function(...e){return da(t.apply(uy(this),e))}}function H6(t){return typeof t=="function"?j6(t):(t instanceof IDBTransaction&&q6(t),V6(t,$6())?new Proxy(t,zb):t)}function da(t){if(t instanceof IDBRequest)return U6(t);if(ly.has(t))return ly.get(t);const e=H6(t);return e!==t&&(ly.set(t,e),Z_.set(e,t)),e}const uy=t=>Z_.get(t);function AR(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=da(o);return r&&o.addEventListener("upgradeneeded",l=>{r(da(o.result),l.oldVersion,l.newVersion,da(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const W6=["get","getKey","getAll","getAllKeys","count"],z6=["put","add","delete","clear"],cy=new Map;function TS(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(cy.get(e))return cy.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=z6.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||W6.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),i&&l.done]))[0]};return cy.set(e,s),s}B6(t=>({...t,get:(e,n,r)=>TS(e,n)||t.get(e,n,r),has:(e,n)=>!!TS(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K6{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(G6(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function G6(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Kb="@firebase/app",ES="0.10.9";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eo=new Oc("@firebase/app"),Y6="@firebase/app-compat",X6="@firebase/analytics-compat",Q6="@firebase/analytics",J6="@firebase/app-check-compat",Z6="@firebase/app-check",eU="@firebase/auth",tU="@firebase/auth-compat",nU="@firebase/database",rU="@firebase/database-compat",iU="@firebase/functions",sU="@firebase/functions-compat",oU="@firebase/installations",aU="@firebase/installations-compat",lU="@firebase/messaging",uU="@firebase/messaging-compat",cU="@firebase/performance",dU="@firebase/performance-compat",hU="@firebase/remote-config",fU="@firebase/remote-config-compat",pU="@firebase/storage",mU="@firebase/storage-compat",gU="@firebase/firestore",vU="@firebase/vertexai-preview",yU="@firebase/firestore-compat",bU="firebase",_U="10.13.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gb="[DEFAULT]",wU={[Kb]:"fire-core",[Y6]:"fire-core-compat",[Q6]:"fire-analytics",[X6]:"fire-analytics-compat",[Z6]:"fire-app-check",[J6]:"fire-app-check-compat",[eU]:"fire-auth",[tU]:"fire-auth-compat",[nU]:"fire-rtdb",[rU]:"fire-rtdb-compat",[iU]:"fire-fn",[sU]:"fire-fn-compat",[oU]:"fire-iid",[aU]:"fire-iid-compat",[lU]:"fire-fcm",[uU]:"fire-fcm-compat",[cU]:"fire-perf",[dU]:"fire-perf-compat",[hU]:"fire-rc",[fU]:"fire-rc-compat",[pU]:"fire-gcs",[mU]:"fire-gcs-compat",[gU]:"fire-fst",[yU]:"fire-fst-compat",[vU]:"fire-vertex","fire-js":"fire-js",[bU]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Em=new Map,TU=new Map,Yb=new Map;function SS(t,e){try{t.container.addComponent(e)}catch(n){Eo.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Oi(t){const e=t.name;if(Yb.has(e))return Eo.debug(`There were multiple attempts to register component ${e}.`),!1;Yb.set(e,t);for(const n of Em.values())SS(n,t);for(const n of TU.values())SS(n,t);return!0}function Ys(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function fs(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EU={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ha=new Da("app","Firebase",EU);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SU{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new mi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ha.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Na=_U;function PR(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Gb,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw ha.create("bad-app-name",{appName:String(i)});if(n||(n=vR()),!n)throw ha.create("no-options");const s=Em.get(i);if(s){if(yh(n,s.options)&&yh(r,s.config))return s;throw ha.create("duplicate-app",{appName:i})}const o=new x6(i);for(const l of Yb.values())o.addComponent(l);const a=new SU(n,r,o);return Em.set(i,a),a}function kc(t=Gb){const e=Em.get(t);if(!e&&t===Gb&&vR())return PR();if(!e)throw ha.create("no-app",{appName:t});return e}function Vr(t,e,n){var r;let i=(r=wU[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Eo.warn(a.join(" "));return}Oi(new mi(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IU="firebase-heartbeat-database",CU=1,bh="firebase-heartbeat-store";let dy=null;function OR(){return dy||(dy=AR(IU,CU,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(bh)}catch(n){console.warn(n)}}}}).catch(t=>{throw ha.create("idb-open",{originalErrorMessage:t.message})})),dy}async function AU(t){try{const n=(await OR()).transaction(bh),r=await n.objectStore(bh).get(kR(t));return await n.done,r}catch(e){if(e instanceof Bi)Eo.warn(e.message);else{const n=ha.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Eo.warn(n.message)}}}async function IS(t,e){try{const r=(await OR()).transaction(bh,"readwrite");await r.objectStore(bh).put(e,kR(t)),await r.done}catch(n){if(n instanceof Bi)Eo.warn(n.message);else{const r=ha.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Eo.warn(r.message)}}}function kR(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PU=1024,OU=30*24*60*60*1e3;class kU{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new xU(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n,r;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=CS();return console.log("heartbeats",(e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats),((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((r=this._heartbeatsCache)===null||r===void 0?void 0:r.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(a=>a.date===o)?void 0:(this._heartbeatsCache.heartbeats.push({date:o,agent:s}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(a=>{const l=new Date(a.date).valueOf();return Date.now()-l<=OU}),this._storage.overwrite(this._heartbeatsCache))}catch(i){Eo.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=CS(),{heartbeatsToSend:r,unsentEntries:i}=RU(this._heartbeatsCache.heartbeats),s=_m(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return Eo.warn(n),""}}}function CS(){return new Date().toISOString().substring(0,10)}function RU(t,e=PU){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),AS(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),AS(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class xU{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return $g()?ER().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await AU(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return IS(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return IS(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function AS(t){return _m(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DU(t){Oi(new mi("platform-logger",e=>new K6(e),"PRIVATE")),Oi(new mi("heartbeat",e=>new kU(e),"PRIVATE")),Vr(Kb,ES,t),Vr(Kb,ES,"esm2017"),Vr("fire-js","")}DU("");const RR="@firebase/installations",ew="0.6.8";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xR=1e4,DR=`w:${ew}`,NR="FIS_v2",NU="https://firebaseinstallations.googleapis.com/v1",MU=60*60*1e3,LU="installations",VU="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $U={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Il=new Da(LU,VU,$U);function MR(t){return t instanceof Bi&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LR({projectId:t}){return`${NU}/projects/${t}/installations`}function VR(t){return{token:t.token,requestStatus:2,expiresIn:UU(t.expiresIn),creationTime:Date.now()}}async function $R(t,e){const r=(await e.json()).error;return Il.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function FR({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function FU(t,{refreshToken:e}){const n=FR(t);return n.append("Authorization",qU(e)),n}async function UR(t){const e=await t();return e.status>=500&&e.status<600?t():e}function UU(t){return Number(t.replace("s","000"))}function qU(t){return`${NR} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function BU({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=LR(t),i=FR(t),s=e.getImmediate({optional:!0});if(s){const u=await s.getHeartbeatsHeader();u&&i.append("x-firebase-client",u)}const o={fid:n,authVersion:NR,appId:t.appId,sdkVersion:DR},a={method:"POST",headers:i,body:JSON.stringify(o)},l=await UR(()=>fetch(r,a));if(l.ok){const u=await l.json();return{fid:u.fid||n,registrationStatus:2,refreshToken:u.refreshToken,authToken:VR(u.authToken)}}else throw await $R("Create Installation",l)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qR(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jU(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HU=/^[cdef][\w-]{21}$/,Xb="";function WU(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=zU(t);return HU.test(n)?n:Xb}catch{return Xb}}function zU(t){return jU(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ug(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BR=new Map;function jR(t,e){const n=Ug(t);HR(n,e),KU(n,e)}function HR(t,e){const n=BR.get(t);if(n)for(const r of n)r(e)}function KU(t,e){const n=GU();n&&n.postMessage({key:t,fid:e}),YU()}let il=null;function GU(){return!il&&"BroadcastChannel"in self&&(il=new BroadcastChannel("[Firebase] FID Change"),il.onmessage=t=>{HR(t.data.key,t.data.fid)}),il}function YU(){BR.size===0&&il&&(il.close(),il=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XU="firebase-installations-database",QU=1,Cl="firebase-installations-store";let hy=null;function tw(){return hy||(hy=AR(XU,QU,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Cl)}}})),hy}async function Sm(t,e){const n=Ug(t),i=(await tw()).transaction(Cl,"readwrite"),s=i.objectStore(Cl),o=await s.get(n);return await s.put(e,n),await i.done,(!o||o.fid!==e.fid)&&jR(t,e.fid),e}async function WR(t){const e=Ug(t),r=(await tw()).transaction(Cl,"readwrite");await r.objectStore(Cl).delete(e),await r.done}async function qg(t,e){const n=Ug(t),i=(await tw()).transaction(Cl,"readwrite"),s=i.objectStore(Cl),o=await s.get(n),a=e(o);return a===void 0?await s.delete(n):await s.put(a,n),await i.done,a&&(!o||o.fid!==a.fid)&&jR(t,a.fid),a}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nw(t){let e;const n=await qg(t.appConfig,r=>{const i=JU(r),s=ZU(t,i);return e=s.registrationPromise,s.installationEntry});return n.fid===Xb?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function JU(t){const e=t||{fid:WU(),registrationStatus:0};return zR(e)}function ZU(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const i=Promise.reject(Il.create("app-offline"));return{installationEntry:e,registrationPromise:i}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=e5(t,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:t5(t)}:{installationEntry:e}}async function e5(t,e){try{const n=await BU(t,e);return Sm(t.appConfig,n)}catch(n){throw MR(n)&&n.customData.serverCode===409?await WR(t.appConfig):await Sm(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function t5(t){let e=await PS(t.appConfig);for(;e.registrationStatus===1;)await qR(100),e=await PS(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await nw(t);return r||n}return e}function PS(t){return qg(t,e=>{if(!e)throw Il.create("installation-not-found");return zR(e)})}function zR(t){return n5(t)?{fid:t.fid,registrationStatus:0}:t}function n5(t){return t.registrationStatus===1&&t.registrationTime+xR<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function r5({appConfig:t,heartbeatServiceProvider:e},n){const r=i5(t,n),i=FU(t,n),s=e.getImmediate({optional:!0});if(s){const u=await s.getHeartbeatsHeader();u&&i.append("x-firebase-client",u)}const o={installation:{sdkVersion:DR,appId:t.appId}},a={method:"POST",headers:i,body:JSON.stringify(o)},l=await UR(()=>fetch(r,a));if(l.ok){const u=await l.json();return VR(u)}else throw await $R("Generate Auth Token",l)}function i5(t,{fid:e}){return`${LR(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rw(t,e=!1){let n;const r=await qg(t.appConfig,s=>{if(!KR(s))throw Il.create("not-registered");const o=s.authToken;if(!e&&a5(o))return s;if(o.requestStatus===1)return n=s5(t,e),s;{if(!navigator.onLine)throw Il.create("app-offline");const a=u5(s);return n=o5(t,a),a}});return n?await n:r.authToken}async function s5(t,e){let n=await OS(t.appConfig);for(;n.authToken.requestStatus===1;)await qR(100),n=await OS(t.appConfig);const r=n.authToken;return r.requestStatus===0?rw(t,e):r}function OS(t){return qg(t,e=>{if(!KR(e))throw Il.create("not-registered");const n=e.authToken;return c5(n)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function o5(t,e){try{const n=await r5(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return await Sm(t.appConfig,r),n}catch(n){if(MR(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await WR(t.appConfig);else{const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await Sm(t.appConfig,r)}throw n}}function KR(t){return t!==void 0&&t.registrationStatus===2}function a5(t){return t.requestStatus===2&&!l5(t)}function l5(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+MU}function u5(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}function c5(t){return t.requestStatus===1&&t.requestTime+xR<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function d5(t){const e=t,{installationEntry:n,registrationPromise:r}=await nw(e);return r?r.catch(console.error):rw(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function h5(t,e=!1){const n=t;return await f5(n),(await rw(n,e)).token}async function f5(t){const{registrationPromise:e}=await nw(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p5(t){if(!t||!t.options)throw fy("App Configuration");if(!t.name)throw fy("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw fy(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function fy(t){return Il.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GR="installations",m5="installations-internal",g5=t=>{const e=t.getProvider("app").getImmediate(),n=p5(e),r=Ys(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},v5=t=>{const e=t.getProvider("app").getImmediate(),n=Ys(e,GR).getImmediate();return{getId:()=>d5(n),getToken:i=>h5(n,i)}};function y5(){Oi(new mi(GR,g5,"PUBLIC")),Oi(new mi(m5,v5,"PRIVATE"))}y5();Vr(RR,ew);Vr(RR,ew,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Im="analytics",b5="firebase_id",_5="origin",w5=60*1e3,T5="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",iw="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ci=new Oc("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E5={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},Ui=new Da("analytics","Analytics",E5);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S5(t){if(!t.startsWith(iw)){const e=Ui.create("invalid-gtag-resource",{gtagURL:t});return Ci.warn(e.message),""}return t}function YR(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function I5(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function C5(t,e){const n=I5("firebase-js-sdk-policy",{createScriptURL:S5}),r=document.createElement("script"),i=`${iw}?l=${t}&id=${e}`;r.src=n?n==null?void 0:n.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}function A5(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function P5(t,e,n,r,i,s){const o=r[i];try{if(o)await e[o];else{const l=(await YR(n)).find(u=>u.measurementId===i);l&&await e[l.appId]}}catch(a){Ci.error(a)}t("config",i,s)}async function O5(t,e,n,r,i){try{let s=[];if(i&&i.send_to){let o=i.send_to;Array.isArray(o)||(o=[o]);const a=await YR(n);for(const l of o){const u=a.find(d=>d.measurementId===l),c=u&&e[u.appId];if(c)s.push(c);else{s=[];break}}}s.length===0&&(s=Object.values(e)),await Promise.all(s),t("event",r,i||{})}catch(s){Ci.error(s)}}function k5(t,e,n,r){async function i(s,...o){try{if(s==="event"){const[a,l]=o;await O5(t,e,n,a,l)}else if(s==="config"){const[a,l]=o;await P5(t,e,n,r,a,l)}else if(s==="consent"){const[a,l]=o;t("consent",a,l)}else if(s==="get"){const[a,l,u]=o;t("get",a,l,u)}else if(s==="set"){const[a]=o;t("set",a)}else t(s,...o)}catch(a){Ci.error(a)}}return i}function R5(t,e,n,r,i){let s=function(...o){window[r].push(arguments)};return window[i]&&typeof window[i]=="function"&&(s=window[i]),window[i]=k5(s,t,e,n),{gtagCore:s,wrappedGtag:window[i]}}function x5(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(iw)&&n.src.includes(t))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D5=30,N5=1e3;class M5{constructor(e={},n=N5){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const XR=new M5;function L5(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function V5(t){var e;const{appId:n,apiKey:r}=t,i={method:"GET",headers:L5(r)},s=T5.replace("{app-id}",n),o=await fetch(s,i);if(o.status!==200&&o.status!==304){let a="";try{const l=await o.json();!((e=l.error)===null||e===void 0)&&e.message&&(a=l.error.message)}catch{}throw Ui.create("config-fetch-failed",{httpStatus:o.status,responseMessage:a})}return o.json()}async function $5(t,e=XR,n){const{appId:r,apiKey:i,measurementId:s}=t.options;if(!r)throw Ui.create("no-app-id");if(!i){if(s)return{measurementId:s,appId:r};throw Ui.create("no-api-key")}const o=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new q5;return setTimeout(async()=>{a.abort()},n!==void 0?n:w5),QR({appId:r,apiKey:i,measurementId:s},o,a,e)}async function QR(t,{throttleEndTimeMillis:e,backoffCount:n},r,i=XR){var s;const{appId:o,measurementId:a}=t;try{await F5(r,e)}catch(l){if(a)return Ci.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${l==null?void 0:l.message}]`),{appId:o,measurementId:a};throw l}try{const l=await V5(t);return i.deleteThrottleMetadata(o),l}catch(l){const u=l;if(!U5(u)){if(i.deleteThrottleMetadata(o),a)return Ci.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${u==null?void 0:u.message}]`),{appId:o,measurementId:a};throw l}const c=Number((s=u==null?void 0:u.customData)===null||s===void 0?void 0:s.httpStatus)===503?Hb(n,i.intervalMillis,D5):Hb(n,i.intervalMillis),d={throttleEndTimeMillis:Date.now()+c,backoffCount:n+1};return i.setThrottleMetadata(o,d),Ci.debug(`Calling attemptFetch again in ${c} millis`),QR(t,d,r,i)}}function F5(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(s),r(Ui.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function U5(t){if(!(t instanceof Bi)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class q5{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function B5(t,e,n,r,i){if(i&&i.global){t("event",n,r);return}else{const s=await e,o=Object.assign(Object.assign({},r),{send_to:s});t("event",n,o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function j5(){if($g())try{await ER()}catch(t){return Ci.warn(Ui.create("indexeddb-unavailable",{errorInfo:t==null?void 0:t.toString()}).message),!1}else return Ci.warn(Ui.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function H5(t,e,n,r,i,s,o){var a;const l=$5(t);l.then(p=>{n[p.measurementId]=p.appId,t.options.measurementId&&p.measurementId!==t.options.measurementId&&Ci.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${p.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(p=>Ci.error(p)),e.push(l);const u=j5().then(p=>{if(p)return r.getId()}),[c,d]=await Promise.all([l,u]);x5(s)||C5(s,c.measurementId),i("js",new Date);const h=(a=o==null?void 0:o.config)!==null&&a!==void 0?a:{};return h[_5]="firebase",h.update=!0,d!=null&&(h[b5]=d),i("config",c.measurementId,h),c.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W5{constructor(e){this.app=e}_delete(){return delete qd[this.app.options.appId],Promise.resolve()}}let qd={},kS=[];const RS={};let py="dataLayer",z5="gtag",xS,JR,DS=!1;function K5(){const t=[];if(_R()&&t.push("This is a browser extension environment."),h6()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,i)=>`(${i+1}) ${r}`).join(" "),n=Ui.create("invalid-analytics-context",{errorInfo:e});Ci.warn(n.message)}}function G5(t,e,n){K5();const r=t.options.appId;if(!r)throw Ui.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)Ci.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Ui.create("no-api-key");if(qd[r]!=null)throw Ui.create("already-exists",{id:r});if(!DS){A5(py);const{wrappedGtag:s,gtagCore:o}=R5(qd,kS,RS,py,z5);JR=s,xS=o,DS=!0}return qd[r]=H5(t,kS,RS,e,xS,py,n),new W5(t)}function ZR(t=kc()){t=Zt(t);const e=Ys(t,Im);return e.isInitialized()?e.getImmediate():Y5(t)}function Y5(t,e={}){const n=Ys(t,Im);if(n.isInitialized()){const i=n.getImmediate();if(yh(e,n.getOptions()))return i;throw Ui.create("already-initialized")}return n.initialize({options:e})}function ex(t,e,n,r){t=Zt(t),B5(JR,qd[t.app.options.appId],e,n,r).catch(i=>Ci.error(i))}const NS="@firebase/analytics",MS="0.10.7";function X5(){Oi(new mi(Im,(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();return G5(r,i,n)},"PUBLIC")),Oi(new mi("analytics-internal",t,"PRIVATE")),Vr(NS,MS),Vr(NS,MS,"esm2017");function t(e){try{const n=e.getProvider(Im).getImmediate();return{logEvent:(r,i,s)=>ex(n,r,i,s)}}catch(n){throw Ui.create("interop-component-reg-failed",{reason:n})}}}X5();var Q5="firebase",J5="10.13.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Vr(Q5,J5,"app");/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qb=new Map,tx={activated:!1,tokenObservers:[]},Z5={initialized:!1,enabled:!1};function yr(t){return Qb.get(t)||Object.assign({},tx)}function eq(t,e){return Qb.set(t,e),Qb.get(t)}function Bg(){return Z5}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nx="https://content-firebaseappcheck.googleapis.com/v1",tq="exchangeRecaptchaV3Token",nq="exchangeDebugToken",LS={OFFSET_DURATION:5*60*1e3,RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:16*60*1e3},rq=24*60*60*1e3;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iq{constructor(e,n,r,i,s){if(this.operation=e,this.retryPolicy=n,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=s,this.pending=null,this.nextErrorWaitInterval=i,i>s)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}async process(e){this.stop();try{this.pending=new Sl,this.pending.promise.catch(n=>{}),await sq(this.getNextRun(e)),this.pending.resolve(),await this.pending.promise,this.pending=new Sl,this.pending.promise.catch(n=>{}),await this.operation(),this.pending.resolve(),await this.pending.promise,this.process(!0).catch(()=>{})}catch(n){this.retryPolicy(n)?this.process(!1).catch(()=>{}):this.stop()}}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n}}}function sq(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oq={"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"},Si=new Da("appCheck","AppCheck",oq);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VS(t=!1){var e;return t?(e=self.grecaptcha)===null||e===void 0?void 0:e.enterprise:self.grecaptcha}function sw(t){if(!yr(t).activated)throw Si.create("use-before-activation",{appName:t.name})}function rx(t){const e=Math.round(t/1e3),n=Math.floor(e/(3600*24)),r=Math.floor((e-n*3600*24)/3600),i=Math.floor((e-n*3600*24-r*3600)/60),s=e-n*3600*24-r*3600-i*60;let o="";return n&&(o+=up(n)+"d:"),r&&(o+=up(r)+"h:"),o+=up(i)+"m:"+up(s)+"s",o}function up(t){return t===0?"00":t>=10?t.toString():"0"+t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ow({url:t,body:e},n){const r={"Content-Type":"application/json"},i=n.getImmediate({optional:!0});if(i){const d=await i.getHeartbeatsHeader();d&&(r["X-Firebase-Client"]=d)}const s={method:"POST",body:JSON.stringify(e),headers:r};let o;try{o=await fetch(t,s)}catch(d){throw Si.create("fetch-network-error",{originalErrorMessage:d==null?void 0:d.message})}if(o.status!==200)throw Si.create("fetch-status-error",{httpStatus:o.status});let a;try{a=await o.json()}catch(d){throw Si.create("fetch-parse-error",{originalErrorMessage:d==null?void 0:d.message})}const l=a.ttl.match(/^([\d.]+)(s)$/);if(!l||!l[2]||isNaN(Number(l[1])))throw Si.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${a.ttl}`});const u=Number(l[1])*1e3,c=Date.now();return{token:a.token,expireTimeMillis:c+u,issuedAtTimeMillis:c}}function aq(t,e){const{projectId:n,appId:r,apiKey:i}=t.options;return{url:`${nx}/projects/${n}/apps/${r}:${tq}?key=${i}`,body:{recaptcha_v3_token:e}}}function ix(t,e){const{projectId:n,appId:r,apiKey:i}=t.options;return{url:`${nx}/projects/${n}/apps/${r}:${nq}?key=${i}`,body:{debug_token:e}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lq="firebase-app-check-database",uq=1,_h="firebase-app-check-store",sx="debug-token";let cp=null;function ox(){return cp||(cp=new Promise((t,e)=>{try{const n=indexedDB.open(lq,uq);n.onsuccess=r=>{t(r.target.result)},n.onerror=r=>{var i;e(Si.create("storage-open",{originalErrorMessage:(i=r.target.error)===null||i===void 0?void 0:i.message}))},n.onupgradeneeded=r=>{const i=r.target.result;switch(r.oldVersion){case 0:i.createObjectStore(_h,{keyPath:"compositeKey"})}}}catch(n){e(Si.create("storage-open",{originalErrorMessage:n==null?void 0:n.message}))}}),cp)}function cq(t){return lx(ux(t))}function dq(t,e){return ax(ux(t),e)}function hq(t){return ax(sx,t)}function fq(){return lx(sx)}async function ax(t,e){const r=(await ox()).transaction(_h,"readwrite"),s=r.objectStore(_h).put({compositeKey:t,value:e});return new Promise((o,a)=>{s.onsuccess=l=>{o()},r.onerror=l=>{var u;a(Si.create("storage-set",{originalErrorMessage:(u=l.target.error)===null||u===void 0?void 0:u.message}))}})}async function lx(t){const n=(await ox()).transaction(_h,"readonly"),i=n.objectStore(_h).get(t);return new Promise((s,o)=>{i.onsuccess=a=>{const l=a.target.result;s(l?l.value:void 0)},n.onerror=a=>{var l;o(Si.create("storage-get",{originalErrorMessage:(l=a.target.error)===null||l===void 0?void 0:l.message}))}})}function ux(t){return`${t.options.appId}-${t.name}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wh=new Oc("@firebase/app-check");/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pq(t){if($g()){let e;try{e=await cq(t)}catch(n){wh.warn(`Failed to read token from IndexedDB. Error: ${n}`)}return e}}function my(t,e){return $g()?dq(t,e).catch(n=>{wh.warn(`Failed to write token to IndexedDB. Error: ${n}`)}):Promise.resolve()}async function mq(){let t;try{t=await fq()}catch{}if(t)return t;{const e=S6();return hq(e).catch(n=>wh.warn(`Failed to persist debug token to IndexedDB. Error: ${n}`)),e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aw(){return Bg().enabled}async function lw(){const t=Bg();if(t.enabled&&t.token)return t.token.promise;throw Error(`
            Can't get debug token in production mode.
        `)}function gq(){const t=pR(),e=Bg();if(e.initialized=!0,typeof t.FIREBASE_APPCHECK_DEBUG_TOKEN!="string"&&t.FIREBASE_APPCHECK_DEBUG_TOKEN!==!0)return;e.enabled=!0;const n=new Sl;e.token=n,typeof t.FIREBASE_APPCHECK_DEBUG_TOKEN=="string"?n.resolve(t.FIREBASE_APPCHECK_DEBUG_TOKEN):n.resolve(mq())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vq={error:"UNKNOWN_ERROR"};function yq(t){return Lg.encodeString(JSON.stringify(t),!1)}async function Jb(t,e=!1){const n=t.app;sw(n);const r=yr(n);let i=r.token,s;if(i&&!_u(i)&&(r.token=void 0,i=void 0),!i){const l=await r.cachedTokenPromise;l&&(_u(l)?i=l:await my(n,void 0))}if(!e&&i&&_u(i))return{token:i.token};let o=!1;if(aw()){r.exchangeTokenPromise||(r.exchangeTokenPromise=ow(ix(n,await lw()),t.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),o=!0);const l=await r.exchangeTokenPromise;return await my(n,l),r.token=l,{token:l.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),o=!0),i=await yr(n).exchangeTokenPromise}catch(l){l.code==="appCheck/throttled"?wh.warn(l.message):wh.error(l),s=l}let a;return i?s?_u(i)?a={token:i.token,internalError:s}:a=FS(s):(a={token:i.token},r.token=i,await my(n,i)):a=FS(s),o&&hx(n,a),a}async function bq(t){const e=t.app;sw(e);const{provider:n}=yr(e);if(aw()){const r=await lw(),{token:i}=await ow(ix(e,r),t.heartbeatServiceProvider);return{token:i}}else{const{token:r}=await n.getToken();return{token:r}}}function cx(t,e,n,r){const{app:i}=t,s=yr(i),o={next:n,error:r,type:e};if(s.tokenObservers=[...s.tokenObservers,o],s.token&&_u(s.token)){const a=s.token;Promise.resolve().then(()=>{n({token:a.token}),$S(t)}).catch(()=>{})}s.cachedTokenPromise.then(()=>$S(t))}function dx(t,e){const n=yr(t),r=n.tokenObservers.filter(i=>i.next!==e);r.length===0&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),n.tokenObservers=r}function $S(t){const{app:e}=t,n=yr(e);let r=n.tokenRefresher;r||(r=_q(t),n.tokenRefresher=r),!r.isRunning()&&n.isTokenAutoRefreshEnabled&&r.start()}function _q(t){const{app:e}=t;return new iq(async()=>{const n=yr(e);let r;if(n.token?r=await Jb(t,!0):r=await Jb(t),r.error)throw r.error;if(r.internalError)throw r.internalError},()=>!0,()=>{const n=yr(e);if(n.token){let r=n.token.issuedAtTimeMillis+(n.token.expireTimeMillis-n.token.issuedAtTimeMillis)*.5+3e5;const i=n.token.expireTimeMillis-5*60*1e3;return r=Math.min(r,i),Math.max(0,r-Date.now())}else return 0},LS.RETRIAL_MIN_WAIT,LS.RETRIAL_MAX_WAIT)}function hx(t,e){const n=yr(t).tokenObservers;for(const r of n)try{r.type==="EXTERNAL"&&e.error!=null?r.error(e.error):r.next(e)}catch{}}function _u(t){return t.expireTimeMillis-Date.now()>0}function FS(t){return{token:yq(vq),error:t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wq{constructor(e,n){this.app=e,this.heartbeatServiceProvider=n}_delete(){const{tokenObservers:e}=yr(this.app);for(const n of e)dx(this.app,n.next);return Promise.resolve()}}function Tq(t,e){return new wq(t,e)}function Eq(t){return{getToken:e=>Jb(t,e),getLimitedUseToken:()=>bq(t),addTokenListener:e=>cx(t,"INTERNAL",e),removeTokenListener:e=>dx(t.app,e)}}const Sq="@firebase/app-check",Iq="0.8.7";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cq="https://www.google.com/recaptcha/api.js";function Aq(t,e){const n=new Sl,r=yr(t);r.reCAPTCHAState={initialized:n};const i=Pq(t),s=VS(!1);return s?US(t,e,s,i,n):Rq(()=>{const o=VS(!1);if(!o)throw new Error("no recaptcha");US(t,e,o,i,n)}),n.promise}function US(t,e,n,r,i){n.ready(()=>{kq(t,e,n,r),i.resolve(n)})}function Pq(t){const e=`fire_app_check_${t.name}`,n=document.createElement("div");return n.id=e,n.style.display="none",document.body.appendChild(n),e}async function Oq(t){sw(t);const n=await yr(t).reCAPTCHAState.initialized.promise;return new Promise((r,i)=>{const s=yr(t).reCAPTCHAState;n.ready(()=>{r(n.execute(s.widgetId,{action:"fire_app_check"}))})})}function kq(t,e,n,r){const i=n.render(r,{sitekey:e,size:"invisible",callback:()=>{yr(t).reCAPTCHAState.succeeded=!0},"error-callback":()=>{yr(t).reCAPTCHAState.succeeded=!1}}),s=yr(t);s.reCAPTCHAState=Object.assign(Object.assign({},s.reCAPTCHAState),{widgetId:i})}function Rq(t){const e=document.createElement("script");e.src=Cq,e.onload=t,document.head.appendChild(e)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uw{constructor(e){this._siteKey=e,this._throttleData=null}async getToken(){var e,n,r;Dq(this._throttleData);const i=await Oq(this._app).catch(o=>{throw Si.create("recaptcha-error")});if(!(!((e=yr(this._app).reCAPTCHAState)===null||e===void 0)&&e.succeeded))throw Si.create("recaptcha-error");let s;try{s=await ow(aq(this._app,i),this._heartbeatServiceProvider)}catch(o){throw!((n=o.code)===null||n===void 0)&&n.includes("fetch-status-error")?(this._throttleData=xq(Number((r=o.customData)===null||r===void 0?void 0:r.httpStatus),this._throttleData),Si.create("throttled",{time:rx(this._throttleData.allowRequestsAfter-Date.now()),httpStatus:this._throttleData.httpStatus})):o}return this._throttleData=null,s}initialize(e){this._app=e,this._heartbeatServiceProvider=Ys(e,"heartbeat"),Aq(e,this._siteKey).catch(()=>{})}isEqual(e){return e instanceof uw?this._siteKey===e._siteKey:!1}}function xq(t,e){if(t===404||t===403)return{backoffCount:1,allowRequestsAfter:Date.now()+rq,httpStatus:t};{const n=e?e.backoffCount:0,r=Hb(n,1e3,2);return{backoffCount:n+1,allowRequestsAfter:Date.now()+r,httpStatus:t}}}function Dq(t){if(t&&Date.now()-t.allowRequestsAfter<=0)throw Si.create("throttled",{time:rx(t.allowRequestsAfter-Date.now()),httpStatus:t.httpStatus})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nq(t=kc(),e){t=Zt(t);const n=Ys(t,"app-check");if(Bg().initialized||gq(),aw()&&lw().then(i=>console.log(`App Check debug token: ${i}. You will need to add it to your app's App Check settings in the Firebase console for it to work.`)),n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(s.isTokenAutoRefreshEnabled===e.isTokenAutoRefreshEnabled&&s.provider.isEqual(e.provider))return i;throw Si.create("already-initialized",{appName:t.name})}const r=n.initialize({options:e});return Mq(t,e.provider,e.isTokenAutoRefreshEnabled),yr(t).isTokenAutoRefreshEnabled&&cx(r,"INTERNAL",()=>{}),r}function Mq(t,e,n){const r=eq(t,Object.assign({},tx));r.activated=!0,r.provider=e,r.cachedTokenPromise=pq(t).then(i=>(i&&_u(i)&&(r.token=i,hx(t,{token:i.token})),i)),r.isTokenAutoRefreshEnabled=n===void 0?t.automaticDataCollectionEnabled:n,r.provider.initialize(t)}const Lq="app-check",qS="app-check-internal";function Vq(){Oi(new mi(Lq,t=>{const e=t.getProvider("app").getImmediate(),n=t.getProvider("heartbeat");return Tq(e,n)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,n)=>{t.getProvider(qS).initialize()})),Oi(new mi(qS,t=>{const e=t.getProvider("app-check").getImmediate();return Eq(e)},"PUBLIC").setInstantiationMode("EXPLICIT")),Vr(Sq,Iq)}Vq();const $q={apiKey:"AIzaSyAjt3RyE1KkK110jxZQUrm9kjfclWO126k",authDomain:"personal-website-c3482.firebaseapp.com",projectId:"personal-website-c3482",storageBucket:"personal-website-c3482.appspot.com",messagingSenderId:"110986644823",appId:"1:110986644823:web:4081c484521ba6b37bc212",measurementId:"G-PF7D6JKSC3"},Fq=t=>{Nq(t,{provider:new uw("6LdIOxQpAAAAAKwbiQMkZD5Fid1DmlsKvWxOIQA5"),isTokenAutoRefreshEnabled:!0})},Uq=()=>{const t=PR($q);return Fq(t),ZR(t),t},fx=Uq();var qq=!1;/*!
 * pinia v2.2.2
 * (c) 2024 Eduardo San Martin Morote
 * @license MIT
 */let px;const jg=t=>px=t,mx=Symbol();function Zb(t){return t&&typeof t=="object"&&Object.prototype.toString.call(t)==="[object Object]"&&typeof t.toJSON!="function"}var Bd;(function(t){t.direct="direct",t.patchObject="patch object",t.patchFunction="patch function"})(Bd||(Bd={}));function Bq(){const t=bg(!0),e=t.run(()=>ie({}));let n=[],r=[];const i=Ig({install(s){jg(i),i._a=s,s.provide(mx,i),s.config.globalProperties.$pinia=i,r.forEach(o=>n.push(o)),r=[]},use(s){return!this._a&&!qq?r.push(s):n.push(s),this},_p:n,_a:null,_e:t,_s:new Map,state:e});return i}const gx=()=>{};function BS(t,e,n,r=gx){t.push(e);const i=()=>{const s=t.indexOf(e);s>-1&&(t.splice(s,1),r())};return!n&&rf()&&_g(i),i}function eu(t,...e){t.slice().forEach(n=>{n(...e)})}const jq=t=>t(),jS=Symbol(),gy=Symbol();function e0(t,e){t instanceof Map&&e instanceof Map?e.forEach((n,r)=>t.set(r,n)):t instanceof Set&&e instanceof Set&&e.forEach(t.add,t);for(const n in e){if(!e.hasOwnProperty(n))continue;const r=e[n],i=t[n];Zb(i)&&Zb(r)&&t.hasOwnProperty(n)&&!_n(r)&&!Ms(r)?t[n]=e0(i,r):t[n]=r}return t}const Hq=Symbol();function Wq(t){return!Zb(t)||!t.hasOwnProperty(Hq)}const{assign:Ko}=Object;function zq(t){return!!(_n(t)&&t.effect)}function Kq(t,e,n,r){const{state:i,actions:s,getters:o}=e,a=n.state.value[t];let l;function u(){a||(n.state.value[t]=i?i():{});const c=SO(n.state.value[t]);return Ko(c,s,Object.keys(o||{}).reduce((d,h)=>(d[h]=Ig(ee(()=>{jg(n);const p=n._s.get(t);return o[h].call(p,p)})),d),{}))}return l=vx(t,u,e,n,r,!0),l}function vx(t,e,n={},r,i,s){let o;const a=Ko({actions:{}},n),l={deep:!0};let u,c,d=[],h=[],p;const m=r.state.value[t];!s&&!m&&(r.state.value[t]={}),ie({});let g;function y(E){let b;u=c=!1,typeof E=="function"?(E(r.state.value[t]),b={type:Bd.patchFunction,storeId:t,events:p}):(e0(r.state.value[t],E),b={type:Bd.patchObject,payload:E,storeId:t,events:p});const w=g=Symbol();rr().then(()=>{g===w&&(u=!0)}),c=!0,eu(d,b,r.state.value[t])}const P=s?function(){const{state:b}=n,w=b?b():{};this.$patch(k=>{Ko(k,w)})}:gx;function I(){o.stop(),d=[],h=[],r._s.delete(t)}const S=(E,b="")=>{if(jS in E)return E[gy]=b,E;const w=function(){jg(r);const k=Array.from(arguments),x=[],O=[];function j(q){x.push(q)}function U(q){O.push(q)}eu(h,{args:k,name:w[gy],store:M,after:j,onError:U});let $;try{$=E.apply(this&&this.$id===t?this:M,k)}catch(q){throw eu(O,q),q}return $ instanceof Promise?$.then(q=>(eu(x,q),q)).catch(q=>(eu(O,q),Promise.reject(q))):(eu(x,$),$)};return w[jS]=!0,w[gy]=b,w},T={_p:r,$id:t,$onAction:BS.bind(null,h),$patch:y,$reset:P,$subscribe(E,b={}){const w=BS(d,E,b.detached,()=>k()),k=o.run(()=>pn(()=>r.state.value[t],x=>{(b.flush==="sync"?c:u)&&E({storeId:t,type:Bd.direct,events:p},x)},Ko({},l,b)));return w},$dispose:I},M=Pr(T);r._s.set(t,M);const C=(r._a&&r._a.runWithContext||jq)(()=>r._e.run(()=>(o=bg()).run(()=>e({action:S}))));for(const E in C){const b=C[E];if(_n(b)&&!zq(b)||Ms(b))s||(m&&Wq(b)&&(_n(b)?b.value=m[E]:e0(b,m[E])),r.state.value[t][E]=b);else if(typeof b=="function"){const w=S(b,E);C[E]=w,a.actions[E]=b}}return Ko(M,C),Ko(Mt(M),C),Object.defineProperty(M,"$state",{get:()=>r.state.value[t],set:E=>{y(b=>{Ko(b,E)})}}),r._p.forEach(E=>{Ko(M,o.run(()=>E({store:M,app:r._a,pinia:r,options:a})))}),m&&s&&n.hydrate&&n.hydrate(M.$state,m),u=!0,c=!0,M}function cw(t,e,n){let r,i;const s=typeof e=="function";typeof t=="string"?(r=t,i=s?n:e):(i=t,r=t.id);function o(a,l){const u=HO();return a=a||(u?pi(mx,null):null),a&&jg(a),a=px,a._s.has(r)||(s?vx(r,e,i,a):Kq(r,i,a)),a._s.get(r)}return o.$id=r,o}function Vt(t){{t=Mt(t);const e={};for(const n in t){const r=t[n];(_n(r)||Ms(r))&&(e[n]=Xu(t,n))}return e}}const HS=(t,e)=>{const n=t.storage||sessionStorage,r=t.key||e.$id;if(t.paths){const i=t.paths.reduce((s,o)=>(s[o]=e.$state[o],s),{});n.setItem(r,JSON.stringify(i))}else n.setItem(r,JSON.stringify(e.$state))};var Gq=({options:t,store:e})=>{var n,r,i,s;if((n=t.persist)!=null&&n.enabled){const o=[{key:e.$id,storage:sessionStorage}],a=(i=(r=t.persist)==null?void 0:r.strategies)!=null&&i.length?(s=t.persist)==null?void 0:s.strategies:o;a.forEach(l=>{const u=l.storage||sessionStorage,c=l.key||e.$id,d=u.getItem(c);d&&(e.$patch(JSON.parse(d)),HS(l,e))}),e.$subscribe(()=>{a.forEach(l=>{HS(l,e)})})}};const yx=Bq();yx.use(Gq);const Dr=class Dr{constructor(e,n,r={},i){Dr.log(r.debug,n),r.route&&eT.push({name:r.route}),j4({title:i??e,type:e.toLowerCase(),text:n},5e3)}};Lo(Dr,"success",(e,n={})=>new Dr("Success",e,n)),Lo(Dr,"update",(e,n={})=>new Dr("Warning",e,n,"Update")),Lo(Dr,"warning",(e,n={})=>new Dr("Warning",e,n)),Lo(Dr,"error",(e,n={})=>new Dr("Error",e,n)),Lo(Dr,"generalError",(e,n)=>new Dr("Error",(n==null?void 0:n.message)||bx,{debug:e})),Lo(Dr,"firebaseError",(e,n)=>(Dr.log(e,n),n instanceof Bi?n.message=vy[n.code]:n instanceof Error&&Object.keys(vy).includes(n.name)?n.message=vy[n.name]:n=void 0,Dr.generalError(e,n))),Lo(Dr,"log",(e,n)=>{e&&console.log(n)});let nt=Dr;const bx="Something went wrong",vy={"":bx,"auth/user-not-found":"Unknown user","auth/invalid-email":"Invalid e-mail address","auth/email-already-in-use":"E-mail already in use","auth/wrong-password":"Wrong password","auth/too-many-requests":"Temporarily blocked","auth/weak-password":"Weak password","auth/requires-recent-login":"You need to re-login to do this","permission-denied":"Not logged in or no permission"};var WS=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var hl,_x;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(C,E){function b(){}b.prototype=E.prototype,C.D=E.prototype,C.prototype=new b,C.prototype.constructor=C,C.C=function(w,k,x){for(var O=Array(arguments.length-2),j=2;j<arguments.length;j++)O[j-2]=arguments[j];return E.prototype[k].apply(w,O)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(C,E,b){b||(b=0);var w=Array(16);if(typeof E=="string")for(var k=0;16>k;++k)w[k]=E.charCodeAt(b++)|E.charCodeAt(b++)<<8|E.charCodeAt(b++)<<16|E.charCodeAt(b++)<<24;else for(k=0;16>k;++k)w[k]=E[b++]|E[b++]<<8|E[b++]<<16|E[b++]<<24;E=C.g[0],b=C.g[1],k=C.g[2];var x=C.g[3],O=E+(x^b&(k^x))+w[0]+3614090360&4294967295;E=b+(O<<7&4294967295|O>>>25),O=x+(k^E&(b^k))+w[1]+3905402710&4294967295,x=E+(O<<12&4294967295|O>>>20),O=k+(b^x&(E^b))+w[2]+606105819&4294967295,k=x+(O<<17&4294967295|O>>>15),O=b+(E^k&(x^E))+w[3]+3250441966&4294967295,b=k+(O<<22&4294967295|O>>>10),O=E+(x^b&(k^x))+w[4]+4118548399&4294967295,E=b+(O<<7&4294967295|O>>>25),O=x+(k^E&(b^k))+w[5]+1200080426&4294967295,x=E+(O<<12&4294967295|O>>>20),O=k+(b^x&(E^b))+w[6]+2821735955&4294967295,k=x+(O<<17&4294967295|O>>>15),O=b+(E^k&(x^E))+w[7]+4249261313&4294967295,b=k+(O<<22&4294967295|O>>>10),O=E+(x^b&(k^x))+w[8]+1770035416&4294967295,E=b+(O<<7&4294967295|O>>>25),O=x+(k^E&(b^k))+w[9]+2336552879&4294967295,x=E+(O<<12&4294967295|O>>>20),O=k+(b^x&(E^b))+w[10]+4294925233&4294967295,k=x+(O<<17&4294967295|O>>>15),O=b+(E^k&(x^E))+w[11]+2304563134&4294967295,b=k+(O<<22&4294967295|O>>>10),O=E+(x^b&(k^x))+w[12]+1804603682&4294967295,E=b+(O<<7&4294967295|O>>>25),O=x+(k^E&(b^k))+w[13]+4254626195&4294967295,x=E+(O<<12&4294967295|O>>>20),O=k+(b^x&(E^b))+w[14]+2792965006&4294967295,k=x+(O<<17&4294967295|O>>>15),O=b+(E^k&(x^E))+w[15]+1236535329&4294967295,b=k+(O<<22&4294967295|O>>>10),O=E+(k^x&(b^k))+w[1]+4129170786&4294967295,E=b+(O<<5&4294967295|O>>>27),O=x+(b^k&(E^b))+w[6]+3225465664&4294967295,x=E+(O<<9&4294967295|O>>>23),O=k+(E^b&(x^E))+w[11]+643717713&4294967295,k=x+(O<<14&4294967295|O>>>18),O=b+(x^E&(k^x))+w[0]+3921069994&4294967295,b=k+(O<<20&4294967295|O>>>12),O=E+(k^x&(b^k))+w[5]+3593408605&4294967295,E=b+(O<<5&4294967295|O>>>27),O=x+(b^k&(E^b))+w[10]+38016083&4294967295,x=E+(O<<9&4294967295|O>>>23),O=k+(E^b&(x^E))+w[15]+3634488961&4294967295,k=x+(O<<14&4294967295|O>>>18),O=b+(x^E&(k^x))+w[4]+3889429448&4294967295,b=k+(O<<20&4294967295|O>>>12),O=E+(k^x&(b^k))+w[9]+568446438&4294967295,E=b+(O<<5&4294967295|O>>>27),O=x+(b^k&(E^b))+w[14]+3275163606&4294967295,x=E+(O<<9&4294967295|O>>>23),O=k+(E^b&(x^E))+w[3]+4107603335&4294967295,k=x+(O<<14&4294967295|O>>>18),O=b+(x^E&(k^x))+w[8]+1163531501&4294967295,b=k+(O<<20&4294967295|O>>>12),O=E+(k^x&(b^k))+w[13]+2850285829&4294967295,E=b+(O<<5&4294967295|O>>>27),O=x+(b^k&(E^b))+w[2]+4243563512&4294967295,x=E+(O<<9&4294967295|O>>>23),O=k+(E^b&(x^E))+w[7]+1735328473&4294967295,k=x+(O<<14&4294967295|O>>>18),O=b+(x^E&(k^x))+w[12]+2368359562&4294967295,b=k+(O<<20&4294967295|O>>>12),O=E+(b^k^x)+w[5]+4294588738&4294967295,E=b+(O<<4&4294967295|O>>>28),O=x+(E^b^k)+w[8]+2272392833&4294967295,x=E+(O<<11&4294967295|O>>>21),O=k+(x^E^b)+w[11]+1839030562&4294967295,k=x+(O<<16&4294967295|O>>>16),O=b+(k^x^E)+w[14]+4259657740&4294967295,b=k+(O<<23&4294967295|O>>>9),O=E+(b^k^x)+w[1]+2763975236&4294967295,E=b+(O<<4&4294967295|O>>>28),O=x+(E^b^k)+w[4]+1272893353&4294967295,x=E+(O<<11&4294967295|O>>>21),O=k+(x^E^b)+w[7]+4139469664&4294967295,k=x+(O<<16&4294967295|O>>>16),O=b+(k^x^E)+w[10]+3200236656&4294967295,b=k+(O<<23&4294967295|O>>>9),O=E+(b^k^x)+w[13]+681279174&4294967295,E=b+(O<<4&4294967295|O>>>28),O=x+(E^b^k)+w[0]+3936430074&4294967295,x=E+(O<<11&4294967295|O>>>21),O=k+(x^E^b)+w[3]+3572445317&4294967295,k=x+(O<<16&4294967295|O>>>16),O=b+(k^x^E)+w[6]+76029189&4294967295,b=k+(O<<23&4294967295|O>>>9),O=E+(b^k^x)+w[9]+3654602809&4294967295,E=b+(O<<4&4294967295|O>>>28),O=x+(E^b^k)+w[12]+3873151461&4294967295,x=E+(O<<11&4294967295|O>>>21),O=k+(x^E^b)+w[15]+530742520&4294967295,k=x+(O<<16&4294967295|O>>>16),O=b+(k^x^E)+w[2]+3299628645&4294967295,b=k+(O<<23&4294967295|O>>>9),O=E+(k^(b|~x))+w[0]+4096336452&4294967295,E=b+(O<<6&4294967295|O>>>26),O=x+(b^(E|~k))+w[7]+1126891415&4294967295,x=E+(O<<10&4294967295|O>>>22),O=k+(E^(x|~b))+w[14]+2878612391&4294967295,k=x+(O<<15&4294967295|O>>>17),O=b+(x^(k|~E))+w[5]+4237533241&4294967295,b=k+(O<<21&4294967295|O>>>11),O=E+(k^(b|~x))+w[12]+1700485571&4294967295,E=b+(O<<6&4294967295|O>>>26),O=x+(b^(E|~k))+w[3]+2399980690&4294967295,x=E+(O<<10&4294967295|O>>>22),O=k+(E^(x|~b))+w[10]+4293915773&4294967295,k=x+(O<<15&4294967295|O>>>17),O=b+(x^(k|~E))+w[1]+2240044497&4294967295,b=k+(O<<21&4294967295|O>>>11),O=E+(k^(b|~x))+w[8]+1873313359&4294967295,E=b+(O<<6&4294967295|O>>>26),O=x+(b^(E|~k))+w[15]+4264355552&4294967295,x=E+(O<<10&4294967295|O>>>22),O=k+(E^(x|~b))+w[6]+2734768916&4294967295,k=x+(O<<15&4294967295|O>>>17),O=b+(x^(k|~E))+w[13]+1309151649&4294967295,b=k+(O<<21&4294967295|O>>>11),O=E+(k^(b|~x))+w[4]+4149444226&4294967295,E=b+(O<<6&4294967295|O>>>26),O=x+(b^(E|~k))+w[11]+3174756917&4294967295,x=E+(O<<10&4294967295|O>>>22),O=k+(E^(x|~b))+w[2]+718787259&4294967295,k=x+(O<<15&4294967295|O>>>17),O=b+(x^(k|~E))+w[9]+3951481745&4294967295,C.g[0]=C.g[0]+E&4294967295,C.g[1]=C.g[1]+(k+(O<<21&4294967295|O>>>11))&4294967295,C.g[2]=C.g[2]+k&4294967295,C.g[3]=C.g[3]+x&4294967295}r.prototype.u=function(C,E){E===void 0&&(E=C.length);for(var b=E-this.blockSize,w=this.B,k=this.h,x=0;x<E;){if(k==0)for(;x<=b;)i(this,C,x),x+=this.blockSize;if(typeof C=="string"){for(;x<E;)if(w[k++]=C.charCodeAt(x++),k==this.blockSize){i(this,w),k=0;break}}else for(;x<E;)if(w[k++]=C[x++],k==this.blockSize){i(this,w),k=0;break}}this.h=k,this.o+=E},r.prototype.v=function(){var C=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);C[0]=128;for(var E=1;E<C.length-8;++E)C[E]=0;var b=8*this.o;for(E=C.length-8;E<C.length;++E)C[E]=b&255,b/=256;for(this.u(C),C=Array(16),E=b=0;4>E;++E)for(var w=0;32>w;w+=8)C[b++]=this.g[E]>>>w&255;return C};function s(C,E){var b=a;return Object.prototype.hasOwnProperty.call(b,C)?b[C]:b[C]=E(C)}function o(C,E){this.h=E;for(var b=[],w=!0,k=C.length-1;0<=k;k--){var x=C[k]|0;w&&x==E||(b[k]=x,w=!1)}this.g=b}var a={};function l(C){return-128<=C&&128>C?s(C,function(E){return new o([E|0],0>E?-1:0)}):new o([C|0],0>C?-1:0)}function u(C){if(isNaN(C)||!isFinite(C))return d;if(0>C)return y(u(-C));for(var E=[],b=1,w=0;C>=b;w++)E[w]=C/b|0,b*=4294967296;return new o(E,0)}function c(C,E){if(C.length==0)throw Error("number format error: empty string");if(E=E||10,2>E||36<E)throw Error("radix out of range: "+E);if(C.charAt(0)=="-")return y(c(C.substring(1),E));if(0<=C.indexOf("-"))throw Error('number format error: interior "-" character');for(var b=u(Math.pow(E,8)),w=d,k=0;k<C.length;k+=8){var x=Math.min(8,C.length-k),O=parseInt(C.substring(k,k+x),E);8>x?(x=u(Math.pow(E,x)),w=w.j(x).add(u(O))):(w=w.j(b),w=w.add(u(O)))}return w}var d=l(0),h=l(1),p=l(16777216);t=o.prototype,t.m=function(){if(g(this))return-y(this).m();for(var C=0,E=1,b=0;b<this.g.length;b++){var w=this.i(b);C+=(0<=w?w:4294967296+w)*E,E*=4294967296}return C},t.toString=function(C){if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(m(this))return"0";if(g(this))return"-"+y(this).toString(C);for(var E=u(Math.pow(C,6)),b=this,w="";;){var k=T(b,E).g;b=P(b,k.j(E));var x=((0<b.g.length?b.g[0]:b.h)>>>0).toString(C);if(b=k,m(b))return x+w;for(;6>x.length;)x="0"+x;w=x+w}},t.i=function(C){return 0>C?0:C<this.g.length?this.g[C]:this.h};function m(C){if(C.h!=0)return!1;for(var E=0;E<C.g.length;E++)if(C.g[E]!=0)return!1;return!0}function g(C){return C.h==-1}t.l=function(C){return C=P(this,C),g(C)?-1:m(C)?0:1};function y(C){for(var E=C.g.length,b=[],w=0;w<E;w++)b[w]=~C.g[w];return new o(b,~C.h).add(h)}t.abs=function(){return g(this)?y(this):this},t.add=function(C){for(var E=Math.max(this.g.length,C.g.length),b=[],w=0,k=0;k<=E;k++){var x=w+(this.i(k)&65535)+(C.i(k)&65535),O=(x>>>16)+(this.i(k)>>>16)+(C.i(k)>>>16);w=O>>>16,x&=65535,O&=65535,b[k]=O<<16|x}return new o(b,b[b.length-1]&-2147483648?-1:0)};function P(C,E){return C.add(y(E))}t.j=function(C){if(m(this)||m(C))return d;if(g(this))return g(C)?y(this).j(y(C)):y(y(this).j(C));if(g(C))return y(this.j(y(C)));if(0>this.l(p)&&0>C.l(p))return u(this.m()*C.m());for(var E=this.g.length+C.g.length,b=[],w=0;w<2*E;w++)b[w]=0;for(w=0;w<this.g.length;w++)for(var k=0;k<C.g.length;k++){var x=this.i(w)>>>16,O=this.i(w)&65535,j=C.i(k)>>>16,U=C.i(k)&65535;b[2*w+2*k]+=O*U,I(b,2*w+2*k),b[2*w+2*k+1]+=x*U,I(b,2*w+2*k+1),b[2*w+2*k+1]+=O*j,I(b,2*w+2*k+1),b[2*w+2*k+2]+=x*j,I(b,2*w+2*k+2)}for(w=0;w<E;w++)b[w]=b[2*w+1]<<16|b[2*w];for(w=E;w<2*E;w++)b[w]=0;return new o(b,0)};function I(C,E){for(;(C[E]&65535)!=C[E];)C[E+1]+=C[E]>>>16,C[E]&=65535,E++}function S(C,E){this.g=C,this.h=E}function T(C,E){if(m(E))throw Error("division by zero");if(m(C))return new S(d,d);if(g(C))return E=T(y(C),E),new S(y(E.g),y(E.h));if(g(E))return E=T(C,y(E)),new S(y(E.g),E.h);if(30<C.g.length){if(g(C)||g(E))throw Error("slowDivide_ only works with positive integers.");for(var b=h,w=E;0>=w.l(C);)b=M(b),w=M(w);var k=R(b,1),x=R(w,1);for(w=R(w,2),b=R(b,2);!m(w);){var O=x.add(w);0>=O.l(C)&&(k=k.add(b),x=O),w=R(w,1),b=R(b,1)}return E=P(C,k.j(E)),new S(k,E)}for(k=d;0<=C.l(E);){for(b=Math.max(1,Math.floor(C.m()/E.m())),w=Math.ceil(Math.log(b)/Math.LN2),w=48>=w?1:Math.pow(2,w-48),x=u(b),O=x.j(E);g(O)||0<O.l(C);)b-=w,x=u(b),O=x.j(E);m(x)&&(x=h),k=k.add(x),C=P(C,O)}return new S(k,C)}t.A=function(C){return T(this,C).h},t.and=function(C){for(var E=Math.max(this.g.length,C.g.length),b=[],w=0;w<E;w++)b[w]=this.i(w)&C.i(w);return new o(b,this.h&C.h)},t.or=function(C){for(var E=Math.max(this.g.length,C.g.length),b=[],w=0;w<E;w++)b[w]=this.i(w)|C.i(w);return new o(b,this.h|C.h)},t.xor=function(C){for(var E=Math.max(this.g.length,C.g.length),b=[],w=0;w<E;w++)b[w]=this.i(w)^C.i(w);return new o(b,this.h^C.h)};function M(C){for(var E=C.g.length+1,b=[],w=0;w<E;w++)b[w]=C.i(w)<<1|C.i(w-1)>>>31;return new o(b,C.h)}function R(C,E){var b=E>>5;E%=32;for(var w=C.g.length-b,k=[],x=0;x<w;x++)k[x]=0<E?C.i(x+b)>>>E|C.i(x+b+1)<<32-E:C.i(x+b);return new o(k,C.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,_x=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=u,o.fromString=c,hl=o}).apply(typeof WS<"u"?WS:typeof self<"u"?self:typeof window<"u"?window:{});var dp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var wx,Tx,Ed,Ex,Up,t0,Sx,Ix,Cx;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(f,_,D){return f==Array.prototype||f==Object.prototype||(f[_]=D.value),f};function n(f){f=[typeof globalThis=="object"&&globalThis,f,typeof window=="object"&&window,typeof self=="object"&&self,typeof dp=="object"&&dp];for(var _=0;_<f.length;++_){var D=f[_];if(D&&D.Math==Math)return D}throw Error("Cannot find global object")}var r=n(this);function i(f,_){if(_)e:{var D=r;f=f.split(".");for(var F=0;F<f.length-1;F++){var de=f[F];if(!(de in D))break e;D=D[de]}f=f[f.length-1],F=D[f],_=_(F),_!=F&&_!=null&&e(D,f,{configurable:!0,writable:!0,value:_})}}function s(f,_){f instanceof String&&(f+="");var D=0,F=!1,de={next:function(){if(!F&&D<f.length){var ye=D++;return{value:_(ye,f[ye]),done:!1}}return F=!0,{done:!0,value:void 0}}};return de[Symbol.iterator]=function(){return de},de}i("Array.prototype.values",function(f){return f||function(){return s(this,function(_,D){return D})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function l(f){var _=typeof f;return _=_!="object"?_:f?Array.isArray(f)?"array":_:"null",_=="array"||_=="object"&&typeof f.length=="number"}function u(f){var _=typeof f;return _=="object"&&f!=null||_=="function"}function c(f,_,D){return f.call.apply(f.bind,arguments)}function d(f,_,D){if(!f)throw Error();if(2<arguments.length){var F=Array.prototype.slice.call(arguments,2);return function(){var de=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(de,F),f.apply(_,de)}}return function(){return f.apply(_,arguments)}}function h(f,_,D){return h=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?c:d,h.apply(null,arguments)}function p(f,_){var D=Array.prototype.slice.call(arguments,1);return function(){var F=D.slice();return F.push.apply(F,arguments),f.apply(this,F)}}function m(f,_){function D(){}D.prototype=_.prototype,f.aa=_.prototype,f.prototype=new D,f.prototype.constructor=f,f.Qb=function(F,de,ye){for(var Be=Array(arguments.length-2),dn=2;dn<arguments.length;dn++)Be[dn-2]=arguments[dn];return _.prototype[de].apply(F,Be)}}function g(f){const _=f.length;if(0<_){const D=Array(_);for(let F=0;F<_;F++)D[F]=f[F];return D}return[]}function y(f,_){for(let D=1;D<arguments.length;D++){const F=arguments[D];if(l(F)){const de=f.length||0,ye=F.length||0;f.length=de+ye;for(let Be=0;Be<ye;Be++)f[de+Be]=F[Be]}else f.push(F)}}class P{constructor(_,D){this.i=_,this.j=D,this.h=0,this.g=null}get(){let _;return 0<this.h?(this.h--,_=this.g,this.g=_.next,_.next=null):_=this.i(),_}}function I(f){return/^[\s\xa0]*$/.test(f)}function S(){var f=a.navigator;return f&&(f=f.userAgent)?f:""}function T(f){return T[" "](f),f}T[" "]=function(){};var M=S().indexOf("Gecko")!=-1&&!(S().toLowerCase().indexOf("webkit")!=-1&&S().indexOf("Edge")==-1)&&!(S().indexOf("Trident")!=-1||S().indexOf("MSIE")!=-1)&&S().indexOf("Edge")==-1;function R(f,_,D){for(const F in f)_.call(D,f[F],F,f)}function C(f,_){for(const D in f)_.call(void 0,f[D],D,f)}function E(f){const _={};for(const D in f)_[D]=f[D];return _}const b="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function w(f,_){let D,F;for(let de=1;de<arguments.length;de++){F=arguments[de];for(D in F)f[D]=F[D];for(let ye=0;ye<b.length;ye++)D=b[ye],Object.prototype.hasOwnProperty.call(F,D)&&(f[D]=F[D])}}function k(f){var _=1;f=f.split(":");const D=[];for(;0<_&&f.length;)D.push(f.shift()),_--;return f.length&&D.push(f.join(":")),D}function x(f){a.setTimeout(()=>{throw f},0)}function O(){var f=z;let _=null;return f.g&&(_=f.g,f.g=f.g.next,f.g||(f.h=null),_.next=null),_}class j{constructor(){this.h=this.g=null}add(_,D){const F=U.get();F.set(_,D),this.h?this.h.next=F:this.g=F,this.h=F}}var U=new P(()=>new $,f=>f.reset());class ${constructor(){this.next=this.g=this.h=null}set(_,D){this.h=_,this.g=D,this.next=null}reset(){this.next=this.g=this.h=null}}let q,te=!1,z=new j,V=()=>{const f=a.Promise.resolve(void 0);q=()=>{f.then(ue)}};var ue=()=>{for(var f;f=O();){try{f.h.call(f.g)}catch(D){x(D)}var _=U;_.j(f),100>_.h&&(_.h++,f.next=_.g,_.g=f)}te=!1};function oe(){this.s=this.s,this.C=this.C}oe.prototype.s=!1,oe.prototype.ma=function(){this.s||(this.s=!0,this.N())},oe.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ve(f,_){this.type=f,this.g=this.target=_,this.defaultPrevented=!1}ve.prototype.h=function(){this.defaultPrevented=!0};var Se=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var f=!1,_=Object.defineProperty({},"passive",{get:function(){f=!0}});try{const D=()=>{};a.addEventListener("test",D,_),a.removeEventListener("test",D,_)}catch{}return f}();function he(f,_){if(ve.call(this,f?f.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,f){var D=this.type=f.type,F=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;if(this.target=f.target||f.srcElement,this.g=_,_=f.relatedTarget){if(M){e:{try{T(_.nodeName);var de=!0;break e}catch{}de=!1}de||(_=null)}}else D=="mouseover"?_=f.fromElement:D=="mouseout"&&(_=f.toElement);this.relatedTarget=_,F?(this.clientX=F.clientX!==void 0?F.clientX:F.pageX,this.clientY=F.clientY!==void 0?F.clientY:F.pageY,this.screenX=F.screenX||0,this.screenY=F.screenY||0):(this.clientX=f.clientX!==void 0?f.clientX:f.pageX,this.clientY=f.clientY!==void 0?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType=typeof f.pointerType=="string"?f.pointerType:Y[f.pointerType]||"",this.state=f.state,this.i=f,f.defaultPrevented&&he.aa.h.call(this)}}m(he,ve);var Y={2:"touch",3:"pen",4:"mouse"};he.prototype.h=function(){he.aa.h.call(this);var f=this.i;f.preventDefault?f.preventDefault():f.returnValue=!1};var ne="closure_listenable_"+(1e6*Math.random()|0),pe=0;function se(f,_,D,F,de){this.listener=f,this.proxy=null,this.src=_,this.type=D,this.capture=!!F,this.ha=de,this.key=++pe,this.da=this.fa=!1}function _e(f){f.da=!0,f.listener=null,f.proxy=null,f.src=null,f.ha=null}function Ce(f){this.src=f,this.g={},this.h=0}Ce.prototype.add=function(f,_,D,F,de){var ye=f.toString();f=this.g[ye],f||(f=this.g[ye]=[],this.h++);var Be=L(f,_,F,de);return-1<Be?(_=f[Be],D||(_.fa=!1)):(_=new se(_,this.src,ye,!!F,de),_.fa=D,f.push(_)),_};function fe(f,_){var D=_.type;if(D in f.g){var F=f.g[D],de=Array.prototype.indexOf.call(F,_,void 0),ye;(ye=0<=de)&&Array.prototype.splice.call(F,de,1),ye&&(_e(_),f.g[D].length==0&&(delete f.g[D],f.h--))}}function L(f,_,D,F){for(var de=0;de<f.length;++de){var ye=f[de];if(!ye.da&&ye.listener==_&&ye.capture==!!D&&ye.ha==F)return de}return-1}var H="closure_lm_"+(1e6*Math.random()|0),X={};function me(f,_,D,F,de){if(F&&F.once)return Ve(f,_,D,F,de);if(Array.isArray(_)){for(var ye=0;ye<_.length;ye++)me(f,_[ye],D,F,de);return null}return D=lt(D),f&&f[ne]?f.K(_,D,u(F)?!!F.capture:!!F,de):ge(f,_,D,!1,F,de)}function ge(f,_,D,F,de,ye){if(!_)throw Error("Invalid event type");var Be=u(de)?!!de.capture:!!de,dn=We(f);if(dn||(f[H]=dn=new Ce(f)),D=dn.add(_,D,F,Be,ye),D.proxy)return D;if(F=Ae(),D.proxy=F,F.src=f,F.listener=D,f.addEventListener)Se||(de=Be),de===void 0&&(de=!1),f.addEventListener(_.toString(),F,de);else if(f.attachEvent)f.attachEvent(Ie(_.toString()),F);else if(f.addListener&&f.removeListener)f.addListener(F);else throw Error("addEventListener and attachEvent are unavailable.");return D}function Ae(){function f(D){return _.call(f.src,f.listener,D)}const _=He;return f}function Ve(f,_,D,F,de){if(Array.isArray(_)){for(var ye=0;ye<_.length;ye++)Ve(f,_[ye],D,F,de);return null}return D=lt(D),f&&f[ne]?f.L(_,D,u(F)?!!F.capture:!!F,de):ge(f,_,D,!0,F,de)}function ke(f,_,D,F,de){if(Array.isArray(_))for(var ye=0;ye<_.length;ye++)ke(f,_[ye],D,F,de);else F=u(F)?!!F.capture:!!F,D=lt(D),f&&f[ne]?(f=f.i,_=String(_).toString(),_ in f.g&&(ye=f.g[_],D=L(ye,D,F,de),-1<D&&(_e(ye[D]),Array.prototype.splice.call(ye,D,1),ye.length==0&&(delete f.g[_],f.h--)))):f&&(f=We(f))&&(_=f.g[_.toString()],f=-1,_&&(f=L(_,D,F,de)),(D=-1<f?_[f]:null)&&De(D))}function De(f){if(typeof f!="number"&&f&&!f.da){var _=f.src;if(_&&_[ne])fe(_.i,f);else{var D=f.type,F=f.proxy;_.removeEventListener?_.removeEventListener(D,F,f.capture):_.detachEvent?_.detachEvent(Ie(D),F):_.addListener&&_.removeListener&&_.removeListener(F),(D=We(_))?(fe(D,f),D.h==0&&(D.src=null,_[H]=null)):_e(f)}}}function Ie(f){return f in X?X[f]:X[f]="on"+f}function He(f,_){if(f.da)f=!0;else{_=new he(_,this);var D=f.listener,F=f.ha||f.src;f.fa&&De(f),f=D.call(F,_)}return f}function We(f){return f=f[H],f instanceof Ce?f:null}var Qe="__closure_events_fn_"+(1e9*Math.random()>>>0);function lt(f){return typeof f=="function"?f:(f[Qe]||(f[Qe]=function(_){return f.handleEvent(_)}),f[Qe])}function et(){oe.call(this),this.i=new Ce(this),this.M=this,this.F=null}m(et,oe),et.prototype[ne]=!0,et.prototype.removeEventListener=function(f,_,D,F){ke(this,f,_,D,F)};function re(f,_){var D,F=f.F;if(F)for(D=[];F;F=F.F)D.push(F);if(f=f.M,F=_.type||_,typeof _=="string")_=new ve(_,f);else if(_ instanceof ve)_.target=_.target||f;else{var de=_;_=new ve(F,f),w(_,de)}if(de=!0,D)for(var ye=D.length-1;0<=ye;ye--){var Be=_.g=D[ye];de=G(Be,F,!0,_)&&de}if(Be=_.g=f,de=G(Be,F,!0,_)&&de,de=G(Be,F,!1,_)&&de,D)for(ye=0;ye<D.length;ye++)Be=_.g=D[ye],de=G(Be,F,!1,_)&&de}et.prototype.N=function(){if(et.aa.N.call(this),this.i){var f=this.i,_;for(_ in f.g){for(var D=f.g[_],F=0;F<D.length;F++)_e(D[F]);delete f.g[_],f.h--}}this.F=null},et.prototype.K=function(f,_,D,F){return this.i.add(String(f),_,!1,D,F)},et.prototype.L=function(f,_,D,F){return this.i.add(String(f),_,!0,D,F)};function G(f,_,D,F){if(_=f.i.g[String(_)],!_)return!0;_=_.concat();for(var de=!0,ye=0;ye<_.length;++ye){var Be=_[ye];if(Be&&!Be.da&&Be.capture==D){var dn=Be.listener,Or=Be.ha||Be.src;Be.fa&&fe(f.i,Be),de=dn.call(Or,F)!==!1&&de}}return de&&!F.defaultPrevented}function Q(f,_,D){if(typeof f=="function")D&&(f=h(f,D));else if(f&&typeof f.handleEvent=="function")f=h(f.handleEvent,f);else throw Error("Invalid listener argument");return 2147483647<Number(_)?-1:a.setTimeout(f,_||0)}function ae(f){f.g=Q(()=>{f.g=null,f.i&&(f.i=!1,ae(f))},f.l);const _=f.h;f.h=null,f.m.apply(null,_)}class be extends oe{constructor(_,D){super(),this.m=_,this.l=D,this.h=null,this.i=!1,this.g=null}j(_){this.h=arguments,this.g?this.i=!0:ae(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function qe(f){oe.call(this),this.h=f,this.g={}}m(qe,oe);var tt=[];function we(f){R(f.g,function(_,D){this.g.hasOwnProperty(D)&&De(_)},f),f.g={}}qe.prototype.N=function(){qe.aa.N.call(this),we(this)},qe.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ne=a.JSON.stringify,Ue=a.JSON.parse,rt=class{stringify(f){return a.JSON.stringify(f,void 0)}parse(f){return a.JSON.parse(f,void 0)}};function Ye(){}Ye.prototype.h=null;function ut(f){return f.h||(f.h=f.i())}function Pt(){}var It={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function _r(){ve.call(this,"d")}m(_r,ve);function Fa(){ve.call(this,"c")}m(Fa,ve);var eo={},Ua=null;function Lf(){return Ua=Ua||new et}eo.La="serverreachability";function CT(f){ve.call(this,eo.La,f)}m(CT,ve);function qc(f){const _=Lf();re(_,new CT(_))}eo.STAT_EVENT="statevent";function AT(f,_){ve.call(this,eo.STAT_EVENT,f),this.stat=_}m(AT,ve);function ai(f){const _=Lf();re(_,new AT(_,f))}eo.Ma="timingevent";function PT(f,_){ve.call(this,eo.Ma,f),this.size=_}m(PT,ve);function Bc(f,_){if(typeof f!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){f()},_)}function jc(){this.g=!0}jc.prototype.xa=function(){this.g=!1};function aV(f,_,D,F,de,ye){f.info(function(){if(f.g)if(ye)for(var Be="",dn=ye.split("&"),Or=0;Or<dn.length;Or++){var Yt=dn[Or].split("=");if(1<Yt.length){var Ur=Yt[0];Yt=Yt[1];var qr=Ur.split("_");Be=2<=qr.length&&qr[1]=="type"?Be+(Ur+"="+Yt+"&"):Be+(Ur+"=redacted&")}}else Be=null;else Be=ye;return"XMLHTTP REQ ("+F+") [attempt "+de+"]: "+_+`
`+D+`
`+Be})}function lV(f,_,D,F,de,ye,Be){f.info(function(){return"XMLHTTP RESP ("+F+") [ attempt "+de+"]: "+_+`
`+D+`
`+ye+" "+Be})}function Yl(f,_,D,F){f.info(function(){return"XMLHTTP TEXT ("+_+"): "+cV(f,D)+(F?" "+F:"")})}function uV(f,_){f.info(function(){return"TIMEOUT: "+_})}jc.prototype.info=function(){};function cV(f,_){if(!f.g)return _;if(!_)return null;try{var D=JSON.parse(_);if(D){for(f=0;f<D.length;f++)if(Array.isArray(D[f])){var F=D[f];if(!(2>F.length)){var de=F[1];if(Array.isArray(de)&&!(1>de.length)){var ye=de[0];if(ye!="noop"&&ye!="stop"&&ye!="close")for(var Be=1;Be<de.length;Be++)de[Be]=""}}}}return Ne(D)}catch{return _}}var Vf={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},OT={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Lv;function $f(){}m($f,Ye),$f.prototype.g=function(){return new XMLHttpRequest},$f.prototype.i=function(){return{}},Lv=new $f;function Do(f,_,D,F){this.j=f,this.i=_,this.l=D,this.R=F||1,this.U=new qe(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new kT}function kT(){this.i=null,this.g="",this.h=!1}var RT={},Vv={};function $v(f,_,D){f.L=1,f.v=Bf(to(_)),f.m=D,f.P=!0,xT(f,null)}function xT(f,_){f.F=Date.now(),Ff(f),f.A=to(f.v);var D=f.A,F=f.R;Array.isArray(F)||(F=[String(F)]),zT(D.i,"t",F),f.C=0,D=f.j.J,f.h=new kT,f.g=cE(f.j,D?_:null,!f.m),0<f.O&&(f.M=new be(h(f.Y,f,f.g),f.O)),_=f.U,D=f.g,F=f.ca;var de="readystatechange";Array.isArray(de)||(de&&(tt[0]=de.toString()),de=tt);for(var ye=0;ye<de.length;ye++){var Be=me(D,de[ye],F||_.handleEvent,!1,_.h||_);if(!Be)break;_.g[Be.key]=Be}_=f.H?E(f.H):{},f.m?(f.u||(f.u="POST"),_["Content-Type"]="application/x-www-form-urlencoded",f.g.ea(f.A,f.u,f.m,_)):(f.u="GET",f.g.ea(f.A,f.u,null,_)),qc(),aV(f.i,f.u,f.A,f.l,f.R,f.m)}Do.prototype.ca=function(f){f=f.target;const _=this.M;_&&no(f)==3?_.j():this.Y(f)},Do.prototype.Y=function(f){try{if(f==this.g)e:{const qr=no(this.g);var _=this.g.Ba();const Jl=this.g.Z();if(!(3>qr)&&(qr!=3||this.g&&(this.h.h||this.g.oa()||ZT(this.g)))){this.J||qr!=4||_==7||(_==8||0>=Jl?qc(3):qc(2)),Fv(this);var D=this.g.Z();this.X=D;t:if(DT(this)){var F=ZT(this.g);f="";var de=F.length,ye=no(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){qa(this),Hc(this);var Be="";break t}this.h.i=new a.TextDecoder}for(_=0;_<de;_++)this.h.h=!0,f+=this.h.i.decode(F[_],{stream:!(ye&&_==de-1)});F.length=0,this.h.g+=f,this.C=0,Be=this.h.g}else Be=this.g.oa();if(this.o=D==200,lV(this.i,this.u,this.A,this.l,this.R,qr,D),this.o){if(this.T&&!this.K){t:{if(this.g){var dn,Or=this.g;if((dn=Or.g?Or.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!I(dn)){var Yt=dn;break t}}Yt=null}if(D=Yt)Yl(this.i,this.l,D,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Uv(this,D);else{this.o=!1,this.s=3,ai(12),qa(this),Hc(this);break e}}if(this.P){D=!0;let is;for(;!this.J&&this.C<Be.length;)if(is=dV(this,Be),is==Vv){qr==4&&(this.s=4,ai(14),D=!1),Yl(this.i,this.l,null,"[Incomplete Response]");break}else if(is==RT){this.s=4,ai(15),Yl(this.i,this.l,Be,"[Invalid Chunk]"),D=!1;break}else Yl(this.i,this.l,is,null),Uv(this,is);if(DT(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),qr!=4||Be.length!=0||this.h.h||(this.s=1,ai(16),D=!1),this.o=this.o&&D,!D)Yl(this.i,this.l,Be,"[Invalid Chunked Response]"),qa(this),Hc(this);else if(0<Be.length&&!this.W){this.W=!0;var Ur=this.j;Ur.g==this&&Ur.ba&&!Ur.M&&(Ur.j.info("Great, no buffering proxy detected. Bytes received: "+Be.length),zv(Ur),Ur.M=!0,ai(11))}}else Yl(this.i,this.l,Be,null),Uv(this,Be);qr==4&&qa(this),this.o&&!this.J&&(qr==4?oE(this.j,this):(this.o=!1,Ff(this)))}else PV(this.g),D==400&&0<Be.indexOf("Unknown SID")?(this.s=3,ai(12)):(this.s=0,ai(13)),qa(this),Hc(this)}}}catch{}finally{}};function DT(f){return f.g?f.u=="GET"&&f.L!=2&&f.j.Ca:!1}function dV(f,_){var D=f.C,F=_.indexOf(`
`,D);return F==-1?Vv:(D=Number(_.substring(D,F)),isNaN(D)?RT:(F+=1,F+D>_.length?Vv:(_=_.slice(F,F+D),f.C=F+D,_)))}Do.prototype.cancel=function(){this.J=!0,qa(this)};function Ff(f){f.S=Date.now()+f.I,NT(f,f.I)}function NT(f,_){if(f.B!=null)throw Error("WatchDog timer not null");f.B=Bc(h(f.ba,f),_)}function Fv(f){f.B&&(a.clearTimeout(f.B),f.B=null)}Do.prototype.ba=function(){this.B=null;const f=Date.now();0<=f-this.S?(uV(this.i,this.A),this.L!=2&&(qc(),ai(17)),qa(this),this.s=2,Hc(this)):NT(this,this.S-f)};function Hc(f){f.j.G==0||f.J||oE(f.j,f)}function qa(f){Fv(f);var _=f.M;_&&typeof _.ma=="function"&&_.ma(),f.M=null,we(f.U),f.g&&(_=f.g,f.g=null,_.abort(),_.ma())}function Uv(f,_){try{var D=f.j;if(D.G!=0&&(D.g==f||qv(D.h,f))){if(!f.K&&qv(D.h,f)&&D.G==3){try{var F=D.Da.g.parse(_)}catch{F=null}if(Array.isArray(F)&&F.length==3){var de=F;if(de[0]==0){e:if(!D.u){if(D.g)if(D.g.F+3e3<f.F)Kf(D),Wf(D);else break e;Wv(D),ai(18)}}else D.za=de[1],0<D.za-D.T&&37500>de[2]&&D.F&&D.v==0&&!D.C&&(D.C=Bc(h(D.Za,D),6e3));if(1>=VT(D.h)&&D.ca){try{D.ca()}catch{}D.ca=void 0}}else ja(D,11)}else if((f.K||D.g==f)&&Kf(D),!I(_))for(de=D.Da.g.parse(_),_=0;_<de.length;_++){let Yt=de[_];if(D.T=Yt[0],Yt=Yt[1],D.G==2)if(Yt[0]=="c"){D.K=Yt[1],D.ia=Yt[2];const Ur=Yt[3];Ur!=null&&(D.la=Ur,D.j.info("VER="+D.la));const qr=Yt[4];qr!=null&&(D.Aa=qr,D.j.info("SVER="+D.Aa));const Jl=Yt[5];Jl!=null&&typeof Jl=="number"&&0<Jl&&(F=1.5*Jl,D.L=F,D.j.info("backChannelRequestTimeoutMs_="+F)),F=D;const is=f.g;if(is){const Yf=is.g?is.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Yf){var ye=F.h;ye.g||Yf.indexOf("spdy")==-1&&Yf.indexOf("quic")==-1&&Yf.indexOf("h2")==-1||(ye.j=ye.l,ye.g=new Set,ye.h&&(Bv(ye,ye.h),ye.h=null))}if(F.D){const Kv=is.g?is.g.getResponseHeader("X-HTTP-Session-Id"):null;Kv&&(F.ya=Kv,wn(F.I,F.D,Kv))}}D.G=3,D.l&&D.l.ua(),D.ba&&(D.R=Date.now()-f.F,D.j.info("Handshake RTT: "+D.R+"ms")),F=D;var Be=f;if(F.qa=uE(F,F.J?F.ia:null,F.W),Be.K){$T(F.h,Be);var dn=Be,Or=F.L;Or&&(dn.I=Or),dn.B&&(Fv(dn),Ff(dn)),F.g=Be}else iE(F);0<D.i.length&&zf(D)}else Yt[0]!="stop"&&Yt[0]!="close"||ja(D,7);else D.G==3&&(Yt[0]=="stop"||Yt[0]=="close"?Yt[0]=="stop"?ja(D,7):Hv(D):Yt[0]!="noop"&&D.l&&D.l.ta(Yt),D.v=0)}}qc(4)}catch{}}var hV=class{constructor(f,_){this.g=f,this.map=_}};function MT(f){this.l=f||10,a.PerformanceNavigationTiming?(f=a.performance.getEntriesByType("navigation"),f=0<f.length&&(f[0].nextHopProtocol=="hq"||f[0].nextHopProtocol=="h2")):f=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=f?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function LT(f){return f.h?!0:f.g?f.g.size>=f.j:!1}function VT(f){return f.h?1:f.g?f.g.size:0}function qv(f,_){return f.h?f.h==_:f.g?f.g.has(_):!1}function Bv(f,_){f.g?f.g.add(_):f.h=_}function $T(f,_){f.h&&f.h==_?f.h=null:f.g&&f.g.has(_)&&f.g.delete(_)}MT.prototype.cancel=function(){if(this.i=FT(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const f of this.g.values())f.cancel();this.g.clear()}};function FT(f){if(f.h!=null)return f.i.concat(f.h.D);if(f.g!=null&&f.g.size!==0){let _=f.i;for(const D of f.g.values())_=_.concat(D.D);return _}return g(f.i)}function fV(f){if(f.V&&typeof f.V=="function")return f.V();if(typeof Map<"u"&&f instanceof Map||typeof Set<"u"&&f instanceof Set)return Array.from(f.values());if(typeof f=="string")return f.split("");if(l(f)){for(var _=[],D=f.length,F=0;F<D;F++)_.push(f[F]);return _}_=[],D=0;for(F in f)_[D++]=f[F];return _}function pV(f){if(f.na&&typeof f.na=="function")return f.na();if(!f.V||typeof f.V!="function"){if(typeof Map<"u"&&f instanceof Map)return Array.from(f.keys());if(!(typeof Set<"u"&&f instanceof Set)){if(l(f)||typeof f=="string"){var _=[];f=f.length;for(var D=0;D<f;D++)_.push(D);return _}_=[],D=0;for(const F in f)_[D++]=F;return _}}}function UT(f,_){if(f.forEach&&typeof f.forEach=="function")f.forEach(_,void 0);else if(l(f)||typeof f=="string")Array.prototype.forEach.call(f,_,void 0);else for(var D=pV(f),F=fV(f),de=F.length,ye=0;ye<de;ye++)_.call(void 0,F[ye],D&&D[ye],f)}var qT=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function mV(f,_){if(f){f=f.split("&");for(var D=0;D<f.length;D++){var F=f[D].indexOf("="),de=null;if(0<=F){var ye=f[D].substring(0,F);de=f[D].substring(F+1)}else ye=f[D];_(ye,de?decodeURIComponent(de.replace(/\+/g," ")):"")}}}function Ba(f){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,f instanceof Ba){this.h=f.h,Uf(this,f.j),this.o=f.o,this.g=f.g,qf(this,f.s),this.l=f.l;var _=f.i,D=new Kc;D.i=_.i,_.g&&(D.g=new Map(_.g),D.h=_.h),BT(this,D),this.m=f.m}else f&&(_=String(f).match(qT))?(this.h=!1,Uf(this,_[1]||"",!0),this.o=Wc(_[2]||""),this.g=Wc(_[3]||"",!0),qf(this,_[4]),this.l=Wc(_[5]||"",!0),BT(this,_[6]||"",!0),this.m=Wc(_[7]||"")):(this.h=!1,this.i=new Kc(null,this.h))}Ba.prototype.toString=function(){var f=[],_=this.j;_&&f.push(zc(_,jT,!0),":");var D=this.g;return(D||_=="file")&&(f.push("//"),(_=this.o)&&f.push(zc(_,jT,!0),"@"),f.push(encodeURIComponent(String(D)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),D=this.s,D!=null&&f.push(":",String(D))),(D=this.l)&&(this.g&&D.charAt(0)!="/"&&f.push("/"),f.push(zc(D,D.charAt(0)=="/"?yV:vV,!0))),(D=this.i.toString())&&f.push("?",D),(D=this.m)&&f.push("#",zc(D,_V)),f.join("")};function to(f){return new Ba(f)}function Uf(f,_,D){f.j=D?Wc(_,!0):_,f.j&&(f.j=f.j.replace(/:$/,""))}function qf(f,_){if(_){if(_=Number(_),isNaN(_)||0>_)throw Error("Bad port number "+_);f.s=_}else f.s=null}function BT(f,_,D){_ instanceof Kc?(f.i=_,wV(f.i,f.h)):(D||(_=zc(_,bV)),f.i=new Kc(_,f.h))}function wn(f,_,D){f.i.set(_,D)}function Bf(f){return wn(f,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),f}function Wc(f,_){return f?_?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function zc(f,_,D){return typeof f=="string"?(f=encodeURI(f).replace(_,gV),D&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function gV(f){return f=f.charCodeAt(0),"%"+(f>>4&15).toString(16)+(f&15).toString(16)}var jT=/[#\/\?@]/g,vV=/[#\?:]/g,yV=/[#\?]/g,bV=/[#\?@]/g,_V=/#/g;function Kc(f,_){this.h=this.g=null,this.i=f||null,this.j=!!_}function No(f){f.g||(f.g=new Map,f.h=0,f.i&&mV(f.i,function(_,D){f.add(decodeURIComponent(_.replace(/\+/g," ")),D)}))}t=Kc.prototype,t.add=function(f,_){No(this),this.i=null,f=Xl(this,f);var D=this.g.get(f);return D||this.g.set(f,D=[]),D.push(_),this.h+=1,this};function HT(f,_){No(f),_=Xl(f,_),f.g.has(_)&&(f.i=null,f.h-=f.g.get(_).length,f.g.delete(_))}function WT(f,_){return No(f),_=Xl(f,_),f.g.has(_)}t.forEach=function(f,_){No(this),this.g.forEach(function(D,F){D.forEach(function(de){f.call(_,de,F,this)},this)},this)},t.na=function(){No(this);const f=Array.from(this.g.values()),_=Array.from(this.g.keys()),D=[];for(let F=0;F<_.length;F++){const de=f[F];for(let ye=0;ye<de.length;ye++)D.push(_[F])}return D},t.V=function(f){No(this);let _=[];if(typeof f=="string")WT(this,f)&&(_=_.concat(this.g.get(Xl(this,f))));else{f=Array.from(this.g.values());for(let D=0;D<f.length;D++)_=_.concat(f[D])}return _},t.set=function(f,_){return No(this),this.i=null,f=Xl(this,f),WT(this,f)&&(this.h-=this.g.get(f).length),this.g.set(f,[_]),this.h+=1,this},t.get=function(f,_){return f?(f=this.V(f),0<f.length?String(f[0]):_):_};function zT(f,_,D){HT(f,_),0<D.length&&(f.i=null,f.g.set(Xl(f,_),g(D)),f.h+=D.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const f=[],_=Array.from(this.g.keys());for(var D=0;D<_.length;D++){var F=_[D];const ye=encodeURIComponent(String(F)),Be=this.V(F);for(F=0;F<Be.length;F++){var de=ye;Be[F]!==""&&(de+="="+encodeURIComponent(String(Be[F]))),f.push(de)}}return this.i=f.join("&")};function Xl(f,_){return _=String(_),f.j&&(_=_.toLowerCase()),_}function wV(f,_){_&&!f.j&&(No(f),f.i=null,f.g.forEach(function(D,F){var de=F.toLowerCase();F!=de&&(HT(this,F),zT(this,de,D))},f)),f.j=_}function TV(f,_){const D=new jc;if(a.Image){const F=new Image;F.onload=p(Mo,D,"TestLoadImage: loaded",!0,_,F),F.onerror=p(Mo,D,"TestLoadImage: error",!1,_,F),F.onabort=p(Mo,D,"TestLoadImage: abort",!1,_,F),F.ontimeout=p(Mo,D,"TestLoadImage: timeout",!1,_,F),a.setTimeout(function(){F.ontimeout&&F.ontimeout()},1e4),F.src=f}else _(!1)}function EV(f,_){const D=new jc,F=new AbortController,de=setTimeout(()=>{F.abort(),Mo(D,"TestPingServer: timeout",!1,_)},1e4);fetch(f,{signal:F.signal}).then(ye=>{clearTimeout(de),ye.ok?Mo(D,"TestPingServer: ok",!0,_):Mo(D,"TestPingServer: server error",!1,_)}).catch(()=>{clearTimeout(de),Mo(D,"TestPingServer: error",!1,_)})}function Mo(f,_,D,F,de){try{de&&(de.onload=null,de.onerror=null,de.onabort=null,de.ontimeout=null),F(D)}catch{}}function SV(){this.g=new rt}function IV(f,_,D){const F=D||"";try{UT(f,function(de,ye){let Be=de;u(de)&&(Be=Ne(de)),_.push(F+ye+"="+encodeURIComponent(Be))})}catch(de){throw _.push(F+"type="+encodeURIComponent("_badmap")),de}}function Gc(f){this.l=f.Ub||null,this.j=f.eb||!1}m(Gc,Ye),Gc.prototype.g=function(){return new jf(this.l,this.j)},Gc.prototype.i=function(f){return function(){return f}}({});function jf(f,_){et.call(this),this.D=f,this.o=_,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}m(jf,et),t=jf.prototype,t.open=function(f,_){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=f,this.A=_,this.readyState=1,Xc(this)},t.send=function(f){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const _={headers:this.u,method:this.B,credentials:this.m,cache:void 0};f&&(_.body=f),(this.D||a).fetch(new Request(this.A,_)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Yc(this)),this.readyState=0},t.Sa=function(f){if(this.g&&(this.l=f,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=f.headers,this.readyState=2,Xc(this)),this.g&&(this.readyState=3,Xc(this),this.g)))if(this.responseType==="arraybuffer")f.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in f){if(this.j=f.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;KT(this)}else f.text().then(this.Ra.bind(this),this.ga.bind(this))};function KT(f){f.j.read().then(f.Pa.bind(f)).catch(f.ga.bind(f))}t.Pa=function(f){if(this.g){if(this.o&&f.value)this.response.push(f.value);else if(!this.o){var _=f.value?f.value:new Uint8Array(0);(_=this.v.decode(_,{stream:!f.done}))&&(this.response=this.responseText+=_)}f.done?Yc(this):Xc(this),this.readyState==3&&KT(this)}},t.Ra=function(f){this.g&&(this.response=this.responseText=f,Yc(this))},t.Qa=function(f){this.g&&(this.response=f,Yc(this))},t.ga=function(){this.g&&Yc(this)};function Yc(f){f.readyState=4,f.l=null,f.j=null,f.v=null,Xc(f)}t.setRequestHeader=function(f,_){this.u.append(f,_)},t.getResponseHeader=function(f){return this.h&&this.h.get(f.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const f=[],_=this.h.entries();for(var D=_.next();!D.done;)D=D.value,f.push(D[0]+": "+D[1]),D=_.next();return f.join(`\r
`)};function Xc(f){f.onreadystatechange&&f.onreadystatechange.call(f)}Object.defineProperty(jf.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(f){this.m=f?"include":"same-origin"}});function GT(f){let _="";return R(f,function(D,F){_+=F,_+=":",_+=D,_+=`\r
`}),_}function jv(f,_,D){e:{for(F in D){var F=!1;break e}F=!0}F||(D=GT(D),typeof f=="string"?D!=null&&encodeURIComponent(String(D)):wn(f,_,D))}function Wn(f){et.call(this),this.headers=new Map,this.o=f||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}m(Wn,et);var CV=/^https?$/i,AV=["POST","PUT"];t=Wn.prototype,t.Ha=function(f){this.J=f},t.ea=function(f,_,D,F){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+f);_=_?_.toUpperCase():"GET",this.D=f,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Lv.g(),this.v=this.o?ut(this.o):ut(Lv),this.g.onreadystatechange=h(this.Ea,this);try{this.B=!0,this.g.open(_,String(f),!0),this.B=!1}catch(ye){YT(this,ye);return}if(f=D||"",D=new Map(this.headers),F)if(Object.getPrototypeOf(F)===Object.prototype)for(var de in F)D.set(de,F[de]);else if(typeof F.keys=="function"&&typeof F.get=="function")for(const ye of F.keys())D.set(ye,F.get(ye));else throw Error("Unknown input type for opt_headers: "+String(F));F=Array.from(D.keys()).find(ye=>ye.toLowerCase()=="content-type"),de=a.FormData&&f instanceof a.FormData,!(0<=Array.prototype.indexOf.call(AV,_,void 0))||F||de||D.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ye,Be]of D)this.g.setRequestHeader(ye,Be);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{JT(this),this.u=!0,this.g.send(f),this.u=!1}catch(ye){YT(this,ye)}};function YT(f,_){f.h=!1,f.g&&(f.j=!0,f.g.abort(),f.j=!1),f.l=_,f.m=5,XT(f),Hf(f)}function XT(f){f.A||(f.A=!0,re(f,"complete"),re(f,"error"))}t.abort=function(f){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=f||7,re(this,"complete"),re(this,"abort"),Hf(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Hf(this,!0)),Wn.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?QT(this):this.bb())},t.bb=function(){QT(this)};function QT(f){if(f.h&&typeof o<"u"&&(!f.v[1]||no(f)!=4||f.Z()!=2)){if(f.u&&no(f)==4)Q(f.Ea,0,f);else if(re(f,"readystatechange"),no(f)==4){f.h=!1;try{const Be=f.Z();e:switch(Be){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var _=!0;break e;default:_=!1}var D;if(!(D=_)){var F;if(F=Be===0){var de=String(f.D).match(qT)[1]||null;!de&&a.self&&a.self.location&&(de=a.self.location.protocol.slice(0,-1)),F=!CV.test(de?de.toLowerCase():"")}D=F}if(D)re(f,"complete"),re(f,"success");else{f.m=6;try{var ye=2<no(f)?f.g.statusText:""}catch{ye=""}f.l=ye+" ["+f.Z()+"]",XT(f)}}finally{Hf(f)}}}}function Hf(f,_){if(f.g){JT(f);const D=f.g,F=f.v[0]?()=>{}:null;f.g=null,f.v=null,_||re(f,"ready");try{D.onreadystatechange=F}catch{}}}function JT(f){f.I&&(a.clearTimeout(f.I),f.I=null)}t.isActive=function(){return!!this.g};function no(f){return f.g?f.g.readyState:0}t.Z=function(){try{return 2<no(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(f){if(this.g){var _=this.g.responseText;return f&&_.indexOf(f)==0&&(_=_.substring(f.length)),Ue(_)}};function ZT(f){try{if(!f.g)return null;if("response"in f.g)return f.g.response;switch(f.H){case"":case"text":return f.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in f.g)return f.g.mozResponseArrayBuffer}return null}catch{return null}}function PV(f){const _={};f=(f.g&&2<=no(f)&&f.g.getAllResponseHeaders()||"").split(`\r
`);for(let F=0;F<f.length;F++){if(I(f[F]))continue;var D=k(f[F]);const de=D[0];if(D=D[1],typeof D!="string")continue;D=D.trim();const ye=_[de]||[];_[de]=ye,ye.push(D)}C(_,function(F){return F.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Qc(f,_,D){return D&&D.internalChannelParams&&D.internalChannelParams[f]||_}function eE(f){this.Aa=0,this.i=[],this.j=new jc,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Qc("failFast",!1,f),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Qc("baseRetryDelayMs",5e3,f),this.cb=Qc("retryDelaySeedMs",1e4,f),this.Wa=Qc("forwardChannelMaxRetries",2,f),this.wa=Qc("forwardChannelRequestTimeoutMs",2e4,f),this.pa=f&&f.xmlHttpFactory||void 0,this.Xa=f&&f.Tb||void 0,this.Ca=f&&f.useFetchStreams||!1,this.L=void 0,this.J=f&&f.supportsCrossDomainXhr||!1,this.K="",this.h=new MT(f&&f.concurrentRequestLimit),this.Da=new SV,this.P=f&&f.fastHandshake||!1,this.O=f&&f.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=f&&f.Rb||!1,f&&f.xa&&this.j.xa(),f&&f.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&f&&f.detectBufferingProxy||!1,this.ja=void 0,f&&f.longPollingTimeout&&0<f.longPollingTimeout&&(this.ja=f.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=eE.prototype,t.la=8,t.G=1,t.connect=function(f,_,D,F){ai(0),this.W=f,this.H=_||{},D&&F!==void 0&&(this.H.OSID=D,this.H.OAID=F),this.F=this.X,this.I=uE(this,null,this.W),zf(this)};function Hv(f){if(tE(f),f.G==3){var _=f.U++,D=to(f.I);if(wn(D,"SID",f.K),wn(D,"RID",_),wn(D,"TYPE","terminate"),Jc(f,D),_=new Do(f,f.j,_),_.L=2,_.v=Bf(to(D)),D=!1,a.navigator&&a.navigator.sendBeacon)try{D=a.navigator.sendBeacon(_.v.toString(),"")}catch{}!D&&a.Image&&(new Image().src=_.v,D=!0),D||(_.g=cE(_.j,null),_.g.ea(_.v)),_.F=Date.now(),Ff(_)}lE(f)}function Wf(f){f.g&&(zv(f),f.g.cancel(),f.g=null)}function tE(f){Wf(f),f.u&&(a.clearTimeout(f.u),f.u=null),Kf(f),f.h.cancel(),f.s&&(typeof f.s=="number"&&a.clearTimeout(f.s),f.s=null)}function zf(f){if(!LT(f.h)&&!f.s){f.s=!0;var _=f.Ga;q||V(),te||(q(),te=!0),z.add(_,f),f.B=0}}function OV(f,_){return VT(f.h)>=f.h.j-(f.s?1:0)?!1:f.s?(f.i=_.D.concat(f.i),!0):f.G==1||f.G==2||f.B>=(f.Va?0:f.Wa)?!1:(f.s=Bc(h(f.Ga,f,_),aE(f,f.B)),f.B++,!0)}t.Ga=function(f){if(this.s)if(this.s=null,this.G==1){if(!f){this.U=Math.floor(1e5*Math.random()),f=this.U++;const de=new Do(this,this.j,f);let ye=this.o;if(this.S&&(ye?(ye=E(ye),w(ye,this.S)):ye=this.S),this.m!==null||this.O||(de.H=ye,ye=null),this.P)e:{for(var _=0,D=0;D<this.i.length;D++){t:{var F=this.i[D];if("__data__"in F.map&&(F=F.map.__data__,typeof F=="string")){F=F.length;break t}F=void 0}if(F===void 0)break;if(_+=F,4096<_){_=D;break e}if(_===4096||D===this.i.length-1){_=D+1;break e}}_=1e3}else _=1e3;_=rE(this,de,_),D=to(this.I),wn(D,"RID",f),wn(D,"CVER",22),this.D&&wn(D,"X-HTTP-Session-Id",this.D),Jc(this,D),ye&&(this.O?_="headers="+encodeURIComponent(String(GT(ye)))+"&"+_:this.m&&jv(D,this.m,ye)),Bv(this.h,de),this.Ua&&wn(D,"TYPE","init"),this.P?(wn(D,"$req",_),wn(D,"SID","null"),de.T=!0,$v(de,D,null)):$v(de,D,_),this.G=2}}else this.G==3&&(f?nE(this,f):this.i.length==0||LT(this.h)||nE(this))};function nE(f,_){var D;_?D=_.l:D=f.U++;const F=to(f.I);wn(F,"SID",f.K),wn(F,"RID",D),wn(F,"AID",f.T),Jc(f,F),f.m&&f.o&&jv(F,f.m,f.o),D=new Do(f,f.j,D,f.B+1),f.m===null&&(D.H=f.o),_&&(f.i=_.D.concat(f.i)),_=rE(f,D,1e3),D.I=Math.round(.5*f.wa)+Math.round(.5*f.wa*Math.random()),Bv(f.h,D),$v(D,F,_)}function Jc(f,_){f.H&&R(f.H,function(D,F){wn(_,F,D)}),f.l&&UT({},function(D,F){wn(_,F,D)})}function rE(f,_,D){D=Math.min(f.i.length,D);var F=f.l?h(f.l.Na,f.l,f):null;e:{var de=f.i;let ye=-1;for(;;){const Be=["count="+D];ye==-1?0<D?(ye=de[0].g,Be.push("ofs="+ye)):ye=0:Be.push("ofs="+ye);let dn=!0;for(let Or=0;Or<D;Or++){let Yt=de[Or].g;const Ur=de[Or].map;if(Yt-=ye,0>Yt)ye=Math.max(0,de[Or].g-100),dn=!1;else try{IV(Ur,Be,"req"+Yt+"_")}catch{F&&F(Ur)}}if(dn){F=Be.join("&");break e}}}return f=f.i.splice(0,D),_.D=f,F}function iE(f){if(!f.g&&!f.u){f.Y=1;var _=f.Fa;q||V(),te||(q(),te=!0),z.add(_,f),f.v=0}}function Wv(f){return f.g||f.u||3<=f.v?!1:(f.Y++,f.u=Bc(h(f.Fa,f),aE(f,f.v)),f.v++,!0)}t.Fa=function(){if(this.u=null,sE(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var f=2*this.R;this.j.info("BP detection timer enabled: "+f),this.A=Bc(h(this.ab,this),f)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ai(10),Wf(this),sE(this))};function zv(f){f.A!=null&&(a.clearTimeout(f.A),f.A=null)}function sE(f){f.g=new Do(f,f.j,"rpc",f.Y),f.m===null&&(f.g.H=f.o),f.g.O=0;var _=to(f.qa);wn(_,"RID","rpc"),wn(_,"SID",f.K),wn(_,"AID",f.T),wn(_,"CI",f.F?"0":"1"),!f.F&&f.ja&&wn(_,"TO",f.ja),wn(_,"TYPE","xmlhttp"),Jc(f,_),f.m&&f.o&&jv(_,f.m,f.o),f.L&&(f.g.I=f.L);var D=f.g;f=f.ia,D.L=1,D.v=Bf(to(_)),D.m=null,D.P=!0,xT(D,f)}t.Za=function(){this.C!=null&&(this.C=null,Wf(this),Wv(this),ai(19))};function Kf(f){f.C!=null&&(a.clearTimeout(f.C),f.C=null)}function oE(f,_){var D=null;if(f.g==_){Kf(f),zv(f),f.g=null;var F=2}else if(qv(f.h,_))D=_.D,$T(f.h,_),F=1;else return;if(f.G!=0){if(_.o)if(F==1){D=_.m?_.m.length:0,_=Date.now()-_.F;var de=f.B;F=Lf(),re(F,new PT(F,D)),zf(f)}else iE(f);else if(de=_.s,de==3||de==0&&0<_.X||!(F==1&&OV(f,_)||F==2&&Wv(f)))switch(D&&0<D.length&&(_=f.h,_.i=_.i.concat(D)),de){case 1:ja(f,5);break;case 4:ja(f,10);break;case 3:ja(f,6);break;default:ja(f,2)}}}function aE(f,_){let D=f.Ta+Math.floor(Math.random()*f.cb);return f.isActive()||(D*=2),D*_}function ja(f,_){if(f.j.info("Error code "+_),_==2){var D=h(f.fb,f),F=f.Xa;const de=!F;F=new Ba(F||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Uf(F,"https"),Bf(F),de?TV(F.toString(),D):EV(F.toString(),D)}else ai(2);f.G=0,f.l&&f.l.sa(_),lE(f),tE(f)}t.fb=function(f){f?(this.j.info("Successfully pinged google.com"),ai(2)):(this.j.info("Failed to ping google.com"),ai(1))};function lE(f){if(f.G=0,f.ka=[],f.l){const _=FT(f.h);(_.length!=0||f.i.length!=0)&&(y(f.ka,_),y(f.ka,f.i),f.h.i.length=0,g(f.i),f.i.length=0),f.l.ra()}}function uE(f,_,D){var F=D instanceof Ba?to(D):new Ba(D);if(F.g!="")_&&(F.g=_+"."+F.g),qf(F,F.s);else{var de=a.location;F=de.protocol,_=_?_+"."+de.hostname:de.hostname,de=+de.port;var ye=new Ba(null);F&&Uf(ye,F),_&&(ye.g=_),de&&qf(ye,de),D&&(ye.l=D),F=ye}return D=f.D,_=f.ya,D&&_&&wn(F,D,_),wn(F,"VER",f.la),Jc(f,F),F}function cE(f,_,D){if(_&&!f.J)throw Error("Can't create secondary domain capable XhrIo object.");return _=f.Ca&&!f.pa?new Wn(new Gc({eb:D})):new Wn(f.pa),_.Ha(f.J),_}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function dE(){}t=dE.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Gf(){}Gf.prototype.g=function(f,_){return new ki(f,_)};function ki(f,_){et.call(this),this.g=new eE(_),this.l=f,this.h=_&&_.messageUrlParams||null,f=_&&_.messageHeaders||null,_&&_.clientProtocolHeaderRequired&&(f?f["X-Client-Protocol"]="webchannel":f={"X-Client-Protocol":"webchannel"}),this.g.o=f,f=_&&_.initMessageHeaders||null,_&&_.messageContentType&&(f?f["X-WebChannel-Content-Type"]=_.messageContentType:f={"X-WebChannel-Content-Type":_.messageContentType}),_&&_.va&&(f?f["X-WebChannel-Client-Profile"]=_.va:f={"X-WebChannel-Client-Profile":_.va}),this.g.S=f,(f=_&&_.Sb)&&!I(f)&&(this.g.m=f),this.v=_&&_.supportsCrossDomainXhr||!1,this.u=_&&_.sendRawJson||!1,(_=_&&_.httpSessionIdParam)&&!I(_)&&(this.g.D=_,f=this.h,f!==null&&_ in f&&(f=this.h,_ in f&&delete f[_])),this.j=new Ql(this)}m(ki,et),ki.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},ki.prototype.close=function(){Hv(this.g)},ki.prototype.o=function(f){var _=this.g;if(typeof f=="string"){var D={};D.__data__=f,f=D}else this.u&&(D={},D.__data__=Ne(f),f=D);_.i.push(new hV(_.Ya++,f)),_.G==3&&zf(_)},ki.prototype.N=function(){this.g.l=null,delete this.j,Hv(this.g),delete this.g,ki.aa.N.call(this)};function hE(f){_r.call(this),f.__headers__&&(this.headers=f.__headers__,this.statusCode=f.__status__,delete f.__headers__,delete f.__status__);var _=f.__sm__;if(_){e:{for(const D in _){f=D;break e}f=void 0}(this.i=f)&&(f=this.i,_=_!==null&&f in _?_[f]:void 0),this.data=_}else this.data=f}m(hE,_r);function fE(){Fa.call(this),this.status=1}m(fE,Fa);function Ql(f){this.g=f}m(Ql,dE),Ql.prototype.ua=function(){re(this.g,"a")},Ql.prototype.ta=function(f){re(this.g,new hE(f))},Ql.prototype.sa=function(f){re(this.g,new fE)},Ql.prototype.ra=function(){re(this.g,"b")},Gf.prototype.createWebChannel=Gf.prototype.g,ki.prototype.send=ki.prototype.o,ki.prototype.open=ki.prototype.m,ki.prototype.close=ki.prototype.close,Cx=function(){return new Gf},Ix=function(){return Lf()},Sx=eo,t0={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Vf.NO_ERROR=0,Vf.TIMEOUT=8,Vf.HTTP_ERROR=6,Up=Vf,OT.COMPLETE="complete",Ex=OT,Pt.EventType=It,It.OPEN="a",It.CLOSE="b",It.ERROR="c",It.MESSAGE="d",et.prototype.listen=et.prototype.K,Ed=Pt,Tx=Gc,Wn.prototype.listenOnce=Wn.prototype.L,Wn.prototype.getLastError=Wn.prototype.Ka,Wn.prototype.getLastErrorCode=Wn.prototype.Ba,Wn.prototype.getStatus=Wn.prototype.Z,Wn.prototype.getResponseJson=Wn.prototype.Oa,Wn.prototype.getResponseText=Wn.prototype.oa,Wn.prototype.send=Wn.prototype.ea,Wn.prototype.setWithCredentials=Wn.prototype.Ha,wx=Wn}).apply(typeof dp<"u"?dp:typeof self<"u"?self:typeof window<"u"?window:{});const zS="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wr{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Wr.UNAUTHENTICATED=new Wr(null),Wr.GOOGLE_CREDENTIALS=new Wr("google-credentials-uid"),Wr.FIRST_PARTY=new Wr("first-party-uid"),Wr.MOCK_USER=new Wr("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Rc="10.13.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Al=new Oc("@firebase/firestore");function nd(){return Al.logLevel}function st(t,...e){if(Al.logLevel<=xt.DEBUG){const n=e.map(dw);Al.debug(`Firestore (${Rc}): ${t}`,...n)}}function So(t,...e){if(Al.logLevel<=xt.ERROR){const n=e.map(dw);Al.error(`Firestore (${Rc}): ${t}`,...n)}}function rc(t,...e){if(Al.logLevel<=xt.WARN){const n=e.map(dw);Al.warn(`Firestore (${Rc}): ${t}`,...n)}}function dw(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yt(t="Unexpected state"){const e=`FIRESTORE (${Rc}) INTERNAL ASSERTION FAILED: `+t;throw So(e),new Error(e)}function mn(t,e){t||yt()}function Et(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ee={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ke extends Bi{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bo{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ax{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Yq{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Wr.UNAUTHENTICATED))}shutdown(){}}class Xq{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class Qq{constructor(e){this.t=e,this.currentUser=Wr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let s=new bo;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new bo,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{st("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(st("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new bo)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(st("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(mn(typeof r.accessToken=="string"),new Ax(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return mn(e===null||typeof e=="string"),new Wr(e)}}class Jq{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Wr.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class Zq{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new Jq(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Wr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class e9{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class t9{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const r=s=>{s.error!=null&&st("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,st("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{st("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):st("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(mn(typeof n.token=="string"),this.R=n.token,new e9(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n9(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Px{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=n9(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function Jt(t,e){return t<e?-1:t>e?1:0}function ic(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mn{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Ke(Ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Ke(Ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new Ke(Ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ke(Ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Mn.fromMillis(Date.now())}static fromDate(e){return Mn.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Mn(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Jt(this.nanoseconds,e.nanoseconds):Jt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tt{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Tt(e)}static min(){return new Tt(new Mn(0,0))}static max(){return new Tt(new Mn(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Th{constructor(e,n,r){n===void 0?n=0:n>e.length&&yt(),r===void 0?r=e.length-n:r>e.length-n&&yt(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Th.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Th?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class yn extends Th{construct(e,n,r){return new yn(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Ke(Ee.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new yn(n)}static emptyPath(){return new yn([])}}const r9=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Mr extends Th{construct(e,n,r){return new Mr(e,n,r)}static isValidIdentifier(e){return r9.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Mr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Mr(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new Ke(Ee.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new Ke(Ee.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new Ke(Ee.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new Ke(Ee.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Mr(n)}static emptyPath(){return new Mr([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dt{constructor(e){this.path=e}static fromPath(e){return new dt(yn.fromString(e))}static fromName(e){return new dt(yn.fromString(e).popFirst(5))}static empty(){return new dt(yn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&yn.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return yn.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new dt(new yn(e.slice()))}}function i9(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=Tt.fromTimestamp(r===1e9?new Mn(n+1,0):new Mn(n,r));return new Ia(i,dt.empty(),e)}function s9(t){return new Ia(t.readTime,t.key,-1)}class Ia{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Ia(Tt.min(),dt.empty(),-1)}static max(){return new Ia(Tt.max(),dt.empty(),-1)}}function o9(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=dt.comparator(t.documentKey,e.documentKey),n!==0?n:Jt(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a9="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class l9{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function df(t){if(t.code!==Ee.FAILED_PRECONDITION||t.message!==a9)throw t;st("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oe{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&yt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new Oe((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof Oe?n:Oe.resolve(n)}catch(n){return Oe.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):Oe.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):Oe.reject(n)}static resolve(e){return new Oe((n,r)=>{n(e)})}static reject(e){return new Oe((n,r)=>{r(e)})}static waitFor(e){return new Oe((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},l=>r(l))}),o=!0,s===i&&n()})}static or(e){let n=Oe.resolve(!1);for(const r of e)n=n.next(i=>i?Oe.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new Oe((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const u=l;n(e[u]).next(c=>{o[u]=c,++a,a===s&&r(o)},c=>i(c))}})}static doWhile(e,n){return new Oe((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function u9(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function hf(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hw{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}hw.oe=-1;function Hg(t){return t==null}function Cm(t){return t===0&&1/t==-1/0}function c9(t){return typeof t=="number"&&Number.isInteger(t)&&!Cm(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KS(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Bl(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Ox(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let hr=class n0{constructor(e,n){this.comparator=e,this.root=n||fa.EMPTY}insert(e,n){return new n0(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,fa.BLACK,null,null))}remove(e){return new n0(this.comparator,this.root.remove(e,this.comparator).copy(null,null,fa.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new hp(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new hp(this.root,e,this.comparator,!1)}getReverseIterator(){return new hp(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new hp(this.root,e,this.comparator,!0)}},hp=class{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},fa=class so{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??so.RED,this.left=i??so.EMPTY,this.right=s??so.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new so(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return so.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return so.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,so.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,so.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw yt();const e=this.left.check();if(e!==this.right.check())throw yt();return e+(this.isRed()?0:1)}};fa.EMPTY=null,fa.RED=!0,fa.BLACK=!1;fa.EMPTY=new class{constructor(){this.size=0}get key(){throw yt()}get value(){throw yt()}get color(){throw yt()}get left(){throw yt()}get right(){throw yt()}copy(e,n,r,i,s){return this}insert(e,n,r){return new fa(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $r{constructor(e){this.comparator=e,this.data=new hr(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new GS(this.data.getIterator())}getIteratorFrom(e){return new GS(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof $r)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new $r(this.comparator);return n.data=e,n}}class GS{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ni{constructor(e){this.fields=e,e.sort(Mr.comparator)}static empty(){return new Ni([])}unionWith(e){let n=new $r(Mr.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Ni(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return ic(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kx extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fr{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new kx("Invalid base64 string: "+s):s}}(e);return new Fr(n)}static fromUint8Array(e){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new Fr(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Jt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Fr.EMPTY_BYTE_STRING=new Fr("");const d9=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ca(t){if(mn(!!t),typeof t=="string"){let e=0;const n=d9.exec(t);if(mn(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Zn(t.seconds),nanos:Zn(t.nanos)}}function Zn(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Pl(t){return typeof t=="string"?Fr.fromBase64String(t):Fr.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wg(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function fw(t){const e=t.mapValue.fields.__previous_value__;return Wg(e)?fw(e):e}function Eh(t){const e=Ca(t.mapValue.fields.__local_write_time__.timestampValue);return new Mn(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h9{constructor(e,n,r,i,s,o,a,l,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=u}}class Sh{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Sh("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Sh&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fp={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Ol(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Wg(t)?4:p9(t)?9007199254740991:f9(t)?10:11:yt()}function zs(t,e){if(t===e)return!0;const n=Ol(t);if(n!==Ol(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Eh(t).isEqual(Eh(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=Ca(i.timestampValue),a=Ca(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return Pl(i.bytesValue).isEqual(Pl(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return Zn(i.geoPointValue.latitude)===Zn(s.geoPointValue.latitude)&&Zn(i.geoPointValue.longitude)===Zn(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return Zn(i.integerValue)===Zn(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=Zn(i.doubleValue),a=Zn(s.doubleValue);return o===a?Cm(o)===Cm(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return ic(t.arrayValue.values||[],e.arrayValue.values||[],zs);case 10:case 11:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(KS(o)!==KS(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!zs(o[l],a[l])))return!1;return!0}(t,e);default:return yt()}}function Ih(t,e){return(t.values||[]).find(n=>zs(n,e))!==void 0}function sc(t,e){if(t===e)return 0;const n=Ol(t),r=Ol(e);if(n!==r)return Jt(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Jt(t.booleanValue,e.booleanValue);case 2:return function(s,o){const a=Zn(s.integerValue||s.doubleValue),l=Zn(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return YS(t.timestampValue,e.timestampValue);case 4:return YS(Eh(t),Eh(e));case 5:return Jt(t.stringValue,e.stringValue);case 6:return function(s,o){const a=Pl(s),l=Pl(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const a=s.split("/"),l=o.split("/");for(let u=0;u<a.length&&u<l.length;u++){const c=Jt(a[u],l[u]);if(c!==0)return c}return Jt(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const a=Jt(Zn(s.latitude),Zn(o.latitude));return a!==0?a:Jt(Zn(s.longitude),Zn(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return XS(t.arrayValue,e.arrayValue);case 10:return function(s,o){var a,l,u,c;const d=s.fields||{},h=o.fields||{},p=(a=d.value)===null||a===void 0?void 0:a.arrayValue,m=(l=h.value)===null||l===void 0?void 0:l.arrayValue,g=Jt(((u=p==null?void 0:p.values)===null||u===void 0?void 0:u.length)||0,((c=m==null?void 0:m.values)===null||c===void 0?void 0:c.length)||0);return g!==0?g:XS(p,m)}(t.mapValue,e.mapValue);case 11:return function(s,o){if(s===fp.mapValue&&o===fp.mapValue)return 0;if(s===fp.mapValue)return 1;if(o===fp.mapValue)return-1;const a=s.fields||{},l=Object.keys(a),u=o.fields||{},c=Object.keys(u);l.sort(),c.sort();for(let d=0;d<l.length&&d<c.length;++d){const h=Jt(l[d],c[d]);if(h!==0)return h;const p=sc(a[l[d]],u[c[d]]);if(p!==0)return p}return Jt(l.length,c.length)}(t.mapValue,e.mapValue);default:throw yt()}}function YS(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Jt(t,e);const n=Ca(t),r=Ca(e),i=Jt(n.seconds,r.seconds);return i!==0?i:Jt(n.nanos,r.nanos)}function XS(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const s=sc(n[i],r[i]);if(s)return s}return Jt(n.length,r.length)}function oc(t){return r0(t)}function r0(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Ca(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Pl(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return dt.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=r0(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${r0(n.fields[o])}`;return i+"}"}(t.mapValue):yt()}function Am(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function i0(t){return!!t&&"integerValue"in t}function pw(t){return!!t&&"arrayValue"in t}function QS(t){return!!t&&"nullValue"in t}function JS(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function qp(t){return!!t&&"mapValue"in t}function f9(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function jd(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Bl(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=jd(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=jd(t.arrayValue.values[n]);return e}return Object.assign({},t)}function p9(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ti{constructor(e){this.value=e}static empty(){return new Ti({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!qp(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=jd(n)}setAll(e){let n=Mr.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=jd(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());qp(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return zs(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];qp(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Bl(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new Ti(jd(this.value))}}function Rx(t){const e=[];return Bl(t.fields,(n,r)=>{const i=new Mr([n]);if(qp(r)){const s=Rx(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new Ni(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kr{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new Kr(e,0,Tt.min(),Tt.min(),Tt.min(),Ti.empty(),0)}static newFoundDocument(e,n,r,i){return new Kr(e,1,n,Tt.min(),r,i,0)}static newNoDocument(e,n){return new Kr(e,2,n,Tt.min(),Tt.min(),Ti.empty(),0)}static newUnknownDocument(e,n){return new Kr(e,3,n,Tt.min(),Tt.min(),Ti.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Tt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ti.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ti.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Tt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Kr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Kr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ac{constructor(e,n){this.position=e,this.inclusive=n}}function ZS(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=dt.comparator(dt.fromName(o.referenceValue),n.key):r=sc(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function eI(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!zs(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ch{constructor(e,n="asc"){this.field=e,this.dir=n}}function m9(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xx{}class lr extends xx{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new v9(e,n,r):n==="array-contains"?new _9(e,r):n==="in"?new w9(e,r):n==="not-in"?new T9(e,r):n==="array-contains-any"?new E9(e,r):new lr(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new y9(e,r):new b9(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(sc(n,this.value)):n!==null&&Ol(this.value)===Ol(n)&&this.matchesComparison(sc(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return yt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ts extends xx{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new Ts(e,n)}matches(e){return Dx(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function Dx(t){return t.op==="and"}function Nx(t){return g9(t)&&Dx(t)}function g9(t){for(const e of t.filters)if(e instanceof Ts)return!1;return!0}function s0(t){if(t instanceof lr)return t.field.canonicalString()+t.op.toString()+oc(t.value);if(Nx(t))return t.filters.map(e=>s0(e)).join(",");{const e=t.filters.map(n=>s0(n)).join(",");return`${t.op}(${e})`}}function Mx(t,e){return t instanceof lr?function(r,i){return i instanceof lr&&r.op===i.op&&r.field.isEqual(i.field)&&zs(r.value,i.value)}(t,e):t instanceof Ts?function(r,i){return i instanceof Ts&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&Mx(o,i.filters[a]),!0):!1}(t,e):void yt()}function Lx(t){return t instanceof lr?function(n){return`${n.field.canonicalString()} ${n.op} ${oc(n.value)}`}(t):t instanceof Ts?function(n){return n.op.toString()+" {"+n.getFilters().map(Lx).join(" ,")+"}"}(t):"Filter"}class v9 extends lr{constructor(e,n,r){super(e,n,r),this.key=dt.fromName(r.referenceValue)}matches(e){const n=dt.comparator(e.key,this.key);return this.matchesComparison(n)}}class y9 extends lr{constructor(e,n){super(e,"in",n),this.keys=Vx("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class b9 extends lr{constructor(e,n){super(e,"not-in",n),this.keys=Vx("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function Vx(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>dt.fromName(r.referenceValue))}class _9 extends lr{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return pw(n)&&Ih(n.arrayValue,this.value)}}class w9 extends lr{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Ih(this.value.arrayValue,n)}}class T9 extends lr{constructor(e,n){super(e,"not-in",n)}matches(e){if(Ih(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Ih(this.value.arrayValue,n)}}class E9 extends lr{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!pw(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Ih(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S9{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ue=null}}function tI(t,e=null,n=[],r=[],i=null,s=null,o=null){return new S9(t,e,n,r,i,s,o)}function mw(t){const e=Et(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>s0(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),Hg(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>oc(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>oc(r)).join(",")),e.ue=n}return e.ue}function gw(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!m9(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!Mx(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!eI(t.startAt,e.startAt)&&eI(t.endAt,e.endAt)}function o0(t){return dt.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jl{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function I9(t,e,n,r,i,s,o,a){return new jl(t,e,n,r,i,s,o,a)}function zg(t){return new jl(t)}function nI(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function vw(t){return t.collectionGroup!==null}function Fu(t){const e=Et(t);if(e.ce===null){e.ce=[];const n=new Set;for(const s of e.explicitOrderBy)e.ce.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new $r(Mr.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.ce.push(new Ch(s,r))}),n.has(Mr.keyField().canonicalString())||e.ce.push(new Ch(Mr.keyField(),r))}return e.ce}function Vs(t){const e=Et(t);return e.le||(e.le=C9(e,Fu(t))),e.le}function C9(t,e){if(t.limitType==="F")return tI(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new Ch(i.field,s)});const n=t.endAt?new ac(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new ac(t.startAt.position,t.startAt.inclusive):null;return tI(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function a0(t,e){const n=t.filters.concat([e]);return new jl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Pm(t,e,n){return new jl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Kg(t,e){return gw(Vs(t),Vs(e))&&t.limitType===e.limitType}function $x(t){return`${mw(Vs(t))}|lt:${t.limitType}`}function fu(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>Lx(i)).join(", ")}]`),Hg(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>oc(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>oc(i)).join(",")),`Target(${r})`}(Vs(t))}; limitType=${t.limitType})`}function Gg(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):dt.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of Fu(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,a,l){const u=ZS(o,a,l);return o.inclusive?u<=0:u<0}(r.startAt,Fu(r),i)||r.endAt&&!function(o,a,l){const u=ZS(o,a,l);return o.inclusive?u>=0:u>0}(r.endAt,Fu(r),i))}(t,e)}function A9(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function Fx(t){return(e,n)=>{let r=!1;for(const i of Fu(t)){const s=P9(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function P9(t,e,n){const r=t.field.isKeyField()?dt.comparator(e.key,n.key):function(s,o,a){const l=o.data.field(s),u=a.data.field(s);return l!==null&&u!==null?sc(l,u):yt()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return yt()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xc{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Bl(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return Ox(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O9=new hr(dt.comparator);function Io(){return O9}const Ux=new hr(dt.comparator);function Sd(...t){let e=Ux;for(const n of t)e=e.insert(n.key,n);return e}function qx(t){let e=Ux;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function sl(){return Hd()}function Bx(){return Hd()}function Hd(){return new xc(t=>t.toString(),(t,e)=>t.isEqual(e))}const k9=new hr(dt.comparator),R9=new $r(dt.comparator);function Nt(...t){let e=R9;for(const n of t)e=e.add(n);return e}const x9=new $r(Jt);function D9(){return x9}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yw(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Cm(e)?"-0":e}}function jx(t){return{integerValue:""+t}}function N9(t,e){return c9(e)?jx(e):yw(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yg{constructor(){this._=void 0}}function M9(t,e,n){return t instanceof Om?function(i,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&Wg(s)&&(s=fw(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof Ah?Wx(t,e):t instanceof Ph?zx(t,e):function(i,s){const o=Hx(i,s),a=rI(o)+rI(i.Pe);return i0(o)&&i0(i.Pe)?jx(a):yw(i.serializer,a)}(t,e)}function L9(t,e,n){return t instanceof Ah?Wx(t,e):t instanceof Ph?zx(t,e):n}function Hx(t,e){return t instanceof km?function(r){return i0(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class Om extends Yg{}class Ah extends Yg{constructor(e){super(),this.elements=e}}function Wx(t,e){const n=Kx(e);for(const r of t.elements)n.some(i=>zs(i,r))||n.push(r);return{arrayValue:{values:n}}}class Ph extends Yg{constructor(e){super(),this.elements=e}}function zx(t,e){let n=Kx(e);for(const r of t.elements)n=n.filter(i=>!zs(i,r));return{arrayValue:{values:n}}}class km extends Yg{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function rI(t){return Zn(t.integerValue||t.doubleValue)}function Kx(t){return pw(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function V9(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Ah&&i instanceof Ah||r instanceof Ph&&i instanceof Ph?ic(r.elements,i.elements,zs):r instanceof km&&i instanceof km?zs(r.Pe,i.Pe):r instanceof Om&&i instanceof Om}(t.transform,e.transform)}class $9{constructor(e,n){this.version=e,this.transformResults=n}}class Qi{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Qi}static exists(e){return new Qi(void 0,e)}static updateTime(e){return new Qi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Bp(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Xg{}function Gx(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new bw(t.key,Qi.none()):new ff(t.key,t.data,Qi.none());{const n=t.data,r=Ti.empty();let i=new $r(Mr.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new Ma(t.key,r,new Ni(i.toArray()),Qi.none())}}function F9(t,e,n){t instanceof ff?function(i,s,o){const a=i.value.clone(),l=sI(i.fieldTransforms,s,o.transformResults);a.setAll(l),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Ma?function(i,s,o){if(!Bp(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=sI(i.fieldTransforms,s,o.transformResults),l=s.data;l.setAll(Yx(i)),l.setAll(a),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Wd(t,e,n,r){return t instanceof ff?function(s,o,a,l){if(!Bp(s.precondition,o))return a;const u=s.value.clone(),c=oI(s.fieldTransforms,l,o);return u.setAll(c),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof Ma?function(s,o,a,l){if(!Bp(s.precondition,o))return a;const u=oI(s.fieldTransforms,l,o),c=o.data;return c.setAll(Yx(s)),c.setAll(u),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(d=>d.field))}(t,e,n,r):function(s,o,a){return Bp(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function U9(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=Hx(r.transform,i||null);s!=null&&(n===null&&(n=Ti.empty()),n.set(r.field,s))}return n||null}function iI(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&ic(r,i,(s,o)=>V9(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class ff extends Xg{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Ma extends Xg{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function Yx(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function sI(t,e,n){const r=new Map;mn(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,L9(o,a,n[i]))}return r}function oI(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,M9(s,o,e))}return r}class bw extends Xg{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class q9 extends Xg{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B9{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&F9(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Wd(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Wd(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=Bx();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const l=Gx(o,a);l!==null&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(Tt.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Nt())}isEqual(e){return this.batchId===e.batchId&&ic(this.mutations,e.mutations,(n,r)=>iI(n,r))&&ic(this.baseMutations,e.baseMutations,(n,r)=>iI(n,r))}}class _w{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){mn(e.mutations.length===r.length);let i=function(){return k9}();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new _w(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j9{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H9{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var sr,qt;function W9(t){switch(t){default:return yt();case Ee.CANCELLED:case Ee.UNKNOWN:case Ee.DEADLINE_EXCEEDED:case Ee.RESOURCE_EXHAUSTED:case Ee.INTERNAL:case Ee.UNAVAILABLE:case Ee.UNAUTHENTICATED:return!1;case Ee.INVALID_ARGUMENT:case Ee.NOT_FOUND:case Ee.ALREADY_EXISTS:case Ee.PERMISSION_DENIED:case Ee.FAILED_PRECONDITION:case Ee.ABORTED:case Ee.OUT_OF_RANGE:case Ee.UNIMPLEMENTED:case Ee.DATA_LOSS:return!0}}function Xx(t){if(t===void 0)return So("GRPC error has no .code"),Ee.UNKNOWN;switch(t){case sr.OK:return Ee.OK;case sr.CANCELLED:return Ee.CANCELLED;case sr.UNKNOWN:return Ee.UNKNOWN;case sr.DEADLINE_EXCEEDED:return Ee.DEADLINE_EXCEEDED;case sr.RESOURCE_EXHAUSTED:return Ee.RESOURCE_EXHAUSTED;case sr.INTERNAL:return Ee.INTERNAL;case sr.UNAVAILABLE:return Ee.UNAVAILABLE;case sr.UNAUTHENTICATED:return Ee.UNAUTHENTICATED;case sr.INVALID_ARGUMENT:return Ee.INVALID_ARGUMENT;case sr.NOT_FOUND:return Ee.NOT_FOUND;case sr.ALREADY_EXISTS:return Ee.ALREADY_EXISTS;case sr.PERMISSION_DENIED:return Ee.PERMISSION_DENIED;case sr.FAILED_PRECONDITION:return Ee.FAILED_PRECONDITION;case sr.ABORTED:return Ee.ABORTED;case sr.OUT_OF_RANGE:return Ee.OUT_OF_RANGE;case sr.UNIMPLEMENTED:return Ee.UNIMPLEMENTED;case sr.DATA_LOSS:return Ee.DATA_LOSS;default:return yt()}}(qt=sr||(sr={}))[qt.OK=0]="OK",qt[qt.CANCELLED=1]="CANCELLED",qt[qt.UNKNOWN=2]="UNKNOWN",qt[qt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",qt[qt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",qt[qt.NOT_FOUND=5]="NOT_FOUND",qt[qt.ALREADY_EXISTS=6]="ALREADY_EXISTS",qt[qt.PERMISSION_DENIED=7]="PERMISSION_DENIED",qt[qt.UNAUTHENTICATED=16]="UNAUTHENTICATED",qt[qt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",qt[qt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",qt[qt.ABORTED=10]="ABORTED",qt[qt.OUT_OF_RANGE=11]="OUT_OF_RANGE",qt[qt.UNIMPLEMENTED=12]="UNIMPLEMENTED",qt[qt.INTERNAL=13]="INTERNAL",qt[qt.UNAVAILABLE=14]="UNAVAILABLE",qt[qt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z9(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K9=new hl([4294967295,4294967295],0);function aI(t){const e=z9().encode(t),n=new _x;return n.update(e),new Uint8Array(n.digest())}function lI(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new hl([n,r],0),new hl([i,s],0)]}class ww{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Id(`Invalid padding: ${n}`);if(r<0)throw new Id(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Id(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Id(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=hl.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(hl.fromNumber(r)));return i.compare(K9)===1&&(i=new hl([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=aI(e),[r,i]=lI(n);for(let s=0;s<this.hashCount;s++){const o=this.Ee(r,i,s);if(!this.de(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new ww(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Ie===0)return;const n=aI(e),[r,i]=lI(n);for(let s=0;s<this.hashCount;s++){const o=this.Ee(r,i,s);this.Ae(o)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Id extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qg{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,pf.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Qg(Tt.min(),i,new hr(Jt),Io(),Nt())}}class pf{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new pf(r,n,Nt(),Nt(),Nt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jp{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}}class Qx{constructor(e,n){this.targetId=e,this.me=n}}class Jx{constructor(e,n,r=Fr.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class uI{constructor(){this.fe=0,this.ge=dI(),this.pe=Fr.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Nt(),n=Nt(),r=Nt();return this.ge.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:yt()}}),new pf(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=dI()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,mn(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class G9{constructor(e){this.Le=e,this.Be=new Map,this.ke=Io(),this.qe=cI(),this.Qe=new hr(Jt)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:yt()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){const n=e.targetId,r=e.me.count,i=this.Je(n);if(i){const s=i.target;if(o0(s))if(r===0){const o=new dt(s.path);this.Ue(n,o,Kr.newNoDocument(o,Tt.min()))}else mn(r===1);else{const o=this.Ye(n);if(o!==r){const a=this.Ze(e),l=a?this.Xe(a,e,o):1;if(l!==0){this.je(n);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,u)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,a;try{o=Pl(r).toUint8Array()}catch(l){if(l instanceof kx)return rc("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new ww(o,i,s)}catch(l){return rc(l instanceof Id?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Ie===0?null:a}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.Le.tt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.Ue(n,s,null),i++)}),i}rt(e){const n=new Map;this.Be.forEach((s,o)=>{const a=this.Je(o);if(a){if(s.current&&o0(a.target)){const l=new dt(a.target.path);this.ke.get(l)!==null||this.it(o,l)||this.Ue(o,l,Kr.newNoDocument(l,e))}s.be&&(n.set(o,s.ve()),s.Ce())}});let r=Nt();this.qe.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const u=this.Je(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.ke.forEach((s,o)=>o.setReadTime(e));const i=new Qg(e,n,this.Qe,this.ke,r);return this.ke=Io(),this.qe=cI(),this.Qe=new hr(Jt),i}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new uI,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new $r(Jt),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||st("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new uI),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function cI(){return new hr(dt.comparator)}function dI(){return new hr(dt.comparator)}const Y9={asc:"ASCENDING",desc:"DESCENDING"},X9={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Q9={and:"AND",or:"OR"};class J9{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function l0(t,e){return t.useProto3Json||Hg(e)?e:{value:e}}function Rm(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Zx(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function Z9(t,e){return Rm(t,e.toTimestamp())}function $s(t){return mn(!!t),Tt.fromTimestamp(function(n){const r=Ca(n);return new Mn(r.seconds,r.nanos)}(t))}function Tw(t,e){return u0(t,e).canonicalString()}function u0(t,e){const n=function(i){return new yn(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function eD(t){const e=yn.fromString(t);return mn(sD(e)),e}function c0(t,e){return Tw(t.databaseId,e.path)}function yy(t,e){const n=eD(e);if(n.get(1)!==t.databaseId.projectId)throw new Ke(Ee.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Ke(Ee.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new dt(nD(n))}function tD(t,e){return Tw(t.databaseId,e)}function e8(t){const e=eD(t);return e.length===4?yn.emptyPath():nD(e)}function d0(t){return new yn(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function nD(t){return mn(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function hI(t,e,n){return{name:c0(t,e),fields:n.value.mapValue.fields}}function t8(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:yt()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(u,c){return u.useProto3Json?(mn(c===void 0||typeof c=="string"),Fr.fromBase64String(c||"")):(mn(c===void 0||c instanceof Buffer||c instanceof Uint8Array),Fr.fromUint8Array(c||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(u){const c=u.code===void 0?Ee.UNKNOWN:Xx(u.code);return new Ke(c,u.message||"")}(o);n=new Jx(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=yy(t,r.document.name),s=$s(r.document.updateTime),o=r.document.createTime?$s(r.document.createTime):Tt.min(),a=new Ti({mapValue:{fields:r.document.fields}}),l=Kr.newFoundDocument(i,s,o,a),u=r.targetIds||[],c=r.removedTargetIds||[];n=new jp(u,c,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=yy(t,r.document),s=r.readTime?$s(r.readTime):Tt.min(),o=Kr.newNoDocument(i,s),a=r.removedTargetIds||[];n=new jp([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=yy(t,r.document),s=r.removedTargetIds||[];n=new jp([],s,i,null)}else{if(!("filter"in e))return yt();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new H9(i,s),a=r.targetId;n=new Qx(a,o)}}return n}function n8(t,e){let n;if(e instanceof ff)n={update:hI(t,e.key,e.value)};else if(e instanceof bw)n={delete:c0(t,e.key)};else if(e instanceof Ma)n={update:hI(t,e.key,e.data),updateMask:d8(e.fieldMask)};else{if(!(e instanceof q9))return yt();n={verify:c0(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const a=o.transform;if(a instanceof Om)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Ah)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Ph)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof km)return{fieldPath:o.field.canonicalString(),increment:a.Pe};throw yt()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:Z9(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:yt()}(t,e.precondition)),n}function r8(t,e){return t&&t.length>0?(mn(e!==void 0),t.map(n=>function(i,s){let o=i.updateTime?$s(i.updateTime):$s(s);return o.isEqual(Tt.min())&&(o=$s(s)),new $9(o,i.transformResults||[])}(n,e))):[]}function i8(t,e){return{documents:[tD(t,e.path)]}}function s8(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=tD(t,i);const s=function(u){if(u.length!==0)return iD(Ts.create(u,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const o=function(u){if(u.length!==0)return u.map(c=>function(h){return{field:pu(h.field),direction:l8(h.dir)}}(c))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=l0(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{_t:n,parent:i}}function o8(t){let e=e8(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){mn(r===1);const c=n.from[0];c.allDescendants?i=c.collectionId:e=e.child(c.collectionId)}let s=[];n.where&&(s=function(d){const h=rD(d);return h instanceof Ts&&Nx(h)?h.getFilters():[h]}(n.where));let o=[];n.orderBy&&(o=function(d){return d.map(h=>function(m){return new Ch(mu(m.field),function(y){switch(y){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(m.direction))}(h))}(n.orderBy));let a=null;n.limit&&(a=function(d){let h;return h=typeof d=="object"?d.value:d,Hg(h)?null:h}(n.limit));let l=null;n.startAt&&(l=function(d){const h=!!d.before,p=d.values||[];return new ac(p,h)}(n.startAt));let u=null;return n.endAt&&(u=function(d){const h=!d.before,p=d.values||[];return new ac(p,h)}(n.endAt)),I9(e,i,o,s,a,"F",l,u)}function a8(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return yt()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function rD(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=mu(n.unaryFilter.field);return lr.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=mu(n.unaryFilter.field);return lr.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=mu(n.unaryFilter.field);return lr.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=mu(n.unaryFilter.field);return lr.create(o,"!=",{nullValue:"NULL_VALUE"});default:return yt()}}(t):t.fieldFilter!==void 0?function(n){return lr.create(mu(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return yt()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Ts.create(n.compositeFilter.filters.map(r=>rD(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return yt()}}(n.compositeFilter.op))}(t):yt()}function l8(t){return Y9[t]}function u8(t){return X9[t]}function c8(t){return Q9[t]}function pu(t){return{fieldPath:t.canonicalString()}}function mu(t){return Mr.fromServerFormat(t.fieldPath)}function iD(t){return t instanceof lr?function(n){if(n.op==="=="){if(JS(n.value))return{unaryFilter:{field:pu(n.field),op:"IS_NAN"}};if(QS(n.value))return{unaryFilter:{field:pu(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(JS(n.value))return{unaryFilter:{field:pu(n.field),op:"IS_NOT_NAN"}};if(QS(n.value))return{unaryFilter:{field:pu(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:pu(n.field),op:u8(n.op),value:n.value}}}(t):t instanceof Ts?function(n){const r=n.getFilters().map(i=>iD(i));return r.length===1?r[0]:{compositeFilter:{op:c8(n.op),filters:r}}}(t):yt()}function d8(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function sD(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oa{constructor(e,n,r,i,s=Tt.min(),o=Tt.min(),a=Fr.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new oa(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new oa(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new oa(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new oa(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h8{constructor(e){this.ct=e}}function f8(t){const e=o8({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Pm(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p8{constructor(){this.un=new m8}addToCollectionParentIndex(e,n){return this.un.add(n),Oe.resolve()}getCollectionParents(e,n){return Oe.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return Oe.resolve()}deleteFieldIndex(e,n){return Oe.resolve()}deleteAllFieldIndexes(e){return Oe.resolve()}createTargetIndexes(e,n){return Oe.resolve()}getDocumentsMatchingTarget(e,n){return Oe.resolve(null)}getIndexType(e,n){return Oe.resolve(0)}getFieldIndexes(e,n){return Oe.resolve([])}getNextCollectionGroupToUpdate(e){return Oe.resolve(null)}getMinOffset(e,n){return Oe.resolve(Ia.min())}getMinOffsetFromCollectionGroup(e,n){return Oe.resolve(Ia.min())}updateCollectionGroup(e,n,r){return Oe.resolve()}updateIndexEntries(e,n){return Oe.resolve()}}class m8{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new $r(yn.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new $r(yn.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lc{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new lc(0)}static kn(){return new lc(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g8{constructor(){this.changes=new xc(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Kr.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?Oe.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v8{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y8{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Wd(r.mutation,i,Ni.empty(),Mn.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Nt()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Nt()){const i=sl();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=Sd();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=sl();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Nt()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=Io();const o=Hd(),a=function(){return Hd()}();return n.forEach((l,u)=>{const c=r.get(u.key);i.has(u.key)&&(c===void 0||c.mutation instanceof Ma)?s=s.insert(u.key,u):c!==void 0?(o.set(u.key,c.mutation.getFieldMask()),Wd(c.mutation,u,c.mutation.getFieldMask(),Mn.now())):o.set(u.key,Ni.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((u,c)=>o.set(u,c)),n.forEach((u,c)=>{var d;return a.set(u,new v8(c,(d=o.get(u))!==null&&d!==void 0?d:null))}),a))}recalculateAndSaveOverlays(e,n){const r=Hd();let i=new hr((o,a)=>o-a),s=Nt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let c=r.get(l)||Ni.empty();c=a.applyToLocalView(u,c),r.set(l,c);const d=(i.get(a.batchId)||Nt()).add(l);i=i.insert(a.batchId,d)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,c=l.value,d=Bx();c.forEach(h=>{if(!s.has(h)){const p=Gx(n.get(h),r.get(h));p!==null&&d.set(h,p),s=s.add(h)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,d))}return Oe.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return dt.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):vw(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):Oe.resolve(sl());let a=-1,l=s;return o.next(u=>Oe.forEach(u,(c,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),s.get(c)?Oe.resolve():this.remoteDocumentCache.getEntry(e,c).next(h=>{l=l.insert(c,h)}))).next(()=>this.populateOverlays(e,u,s)).next(()=>this.computeViews(e,l,u,Nt())).next(c=>({batchId:a,changes:qx(c)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new dt(n)).next(r=>{let i=Sd();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let o=Sd();return this.indexManager.getCollectionParents(e,s).next(a=>Oe.forEach(a,l=>{const u=function(d,h){return new jl(h,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt)}(n,l.child(s));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(c=>{c.forEach((d,h)=>{o=o.insert(d,h)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((l,u)=>{const c=u.getKey();o.get(c)===null&&(o=o.insert(c,Kr.newInvalidDocument(c)))});let a=Sd();return o.forEach((l,u)=>{const c=s.get(l);c!==void 0&&Wd(c.mutation,u,Ni.empty(),Mn.now()),Gg(n,u)&&(a=a.insert(l,u))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b8{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return Oe.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:$s(i.createTime)}}(n)),Oe.resolve()}getNamedQuery(e,n){return Oe.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(i){return{name:i.name,query:f8(i.bundledQuery),readTime:$s(i.readTime)}}(n)),Oe.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _8{constructor(){this.overlays=new hr(dt.comparator),this.Ir=new Map}getOverlay(e,n){return Oe.resolve(this.overlays.get(n))}getOverlays(e,n){const r=sl();return Oe.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.ht(e,n,s)}),Oe.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Ir.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Ir.delete(r)),Oe.resolve()}getOverlaysForCollection(e,n,r){const i=sl(),s=n.length+1,o=new dt(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return Oe.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new hr((u,c)=>u-c);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let c=s.get(u.largestBatchId);c===null&&(c=sl(),s=s.insert(u.largestBatchId,c)),c.set(u.getKey(),u)}}const a=sl(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,c)=>a.set(u,c)),!(a.size()>=i)););return Oe.resolve(a)}ht(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new j9(n,r));let s=this.Ir.get(n);s===void 0&&(s=Nt(),this.Ir.set(n,s)),this.Ir.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w8{constructor(){this.sessionToken=Fr.EMPTY_BYTE_STRING}getSessionToken(e){return Oe.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,Oe.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ew{constructor(){this.Tr=new $r(Sr.Er),this.dr=new $r(Sr.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){const r=new Sr(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new Sr(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){const n=new dt(new yn([])),r=new Sr(n,e),i=new Sr(n,e+1),s=[];return this.dr.forEachInRange([r,i],o=>{this.Vr(o),s.push(o.key)}),s}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const n=new dt(new yn([])),r=new Sr(n,e),i=new Sr(n,e+1);let s=Nt();return this.dr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new Sr(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Sr{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return dt.comparator(e.key,n.key)||Jt(e.wr,n.wr)}static Ar(e,n){return Jt(e.wr,n.wr)||dt.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T8{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new $r(Sr.Er)}checkEmpty(e){return Oe.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new B9(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.br=this.br.add(new Sr(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return Oe.resolve(o)}lookupMutationBatch(e,n){return Oe.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.vr(r),s=i<0?0:i;return Oe.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return Oe.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return Oe.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Sr(n,0),i=new Sr(n,Number.POSITIVE_INFINITY),s=[];return this.br.forEachInRange([r,i],o=>{const a=this.Dr(o.wr);s.push(a)}),Oe.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new $r(Jt);return n.forEach(i=>{const s=new Sr(i,0),o=new Sr(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([s,o],a=>{r=r.add(a.wr)})}),Oe.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;dt.isDocumentKey(s)||(s=s.child(""));const o=new Sr(new dt(s),0);let a=new $r(Jt);return this.br.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(l.wr)),!0)},o),Oe.resolve(this.Cr(a))}Cr(e){const n=[];return e.forEach(r=>{const i=this.Dr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){mn(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return Oe.forEach(n.mutations,i=>{const s=new Sr(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){const r=new Sr(n,0),i=this.br.firstAfterOrEqual(r);return Oe.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,Oe.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E8{constructor(e){this.Mr=e,this.docs=function(){return new hr(dt.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return Oe.resolve(r?r.document.mutableCopy():Kr.newInvalidDocument(n))}getEntries(e,n){let r=Io();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Kr.newInvalidDocument(i))}),Oe.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=Io();const o=n.path,a=new dt(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:u,value:{document:c}}=l.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||o9(s9(c),r)<=0||(i.has(c.key)||Gg(n,c))&&(s=s.insert(c.key,c.mutableCopy()))}return Oe.resolve(s)}getAllFromCollectionGroup(e,n,r,i){yt()}Or(e,n){return Oe.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new S8(this)}getSize(e){return Oe.resolve(this.size)}}class S8 extends g8{constructor(e){super(),this.cr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),Oe.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I8{constructor(e){this.persistence=e,this.Nr=new xc(n=>mw(n),gw),this.lastRemoteSnapshotVersion=Tt.min(),this.highestTargetId=0,this.Lr=0,this.Br=new Ew,this.targetCount=0,this.kr=lc.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,i)=>n(i)),Oe.resolve()}getLastRemoteSnapshotVersion(e){return Oe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Oe.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),Oe.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),Oe.resolve()}Kn(e){this.Nr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.kr=new lc(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,Oe.resolve()}updateTargetData(e,n){return this.Kn(n),Oe.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,Oe.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Nr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Nr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),Oe.waitFor(s).next(()=>i)}getTargetCount(e){return Oe.resolve(this.targetCount)}getTargetData(e,n){const r=this.Nr.get(n)||null;return Oe.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),Oe.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),Oe.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),Oe.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Br.yr(n);return Oe.resolve(r)}containsKey(e,n){return Oe.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C8{constructor(e,n){this.qr={},this.overlays={},this.Qr=new hw(0),this.Kr=!1,this.Kr=!0,this.$r=new w8,this.referenceDelegate=e(this),this.Ur=new I8(this),this.indexManager=new p8,this.remoteDocumentCache=function(i){return new E8(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new h8(n),this.Gr=new b8(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new _8,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new T8(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){st("MemoryPersistence","Starting transaction:",e);const i=new A8(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(s=>this.referenceDelegate.jr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Hr(e,n){return Oe.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}}class A8 extends l9{constructor(e){super(),this.currentSequenceNumber=e}}class Sw{constructor(e){this.persistence=e,this.Jr=new Ew,this.Yr=null}static Zr(e){return new Sw(e)}get Xr(){if(this.Yr)return this.Yr;throw yt()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),Oe.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),Oe.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),Oe.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(i=>this.Xr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Xr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Oe.forEach(this.Xr,r=>{const i=dt.fromPath(r);return this.ei(e,i).next(s=>{s||n.removeEntry(i,Tt.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return Oe.or([()=>Oe.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iw{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=i}static Wi(e,n){let r=Nt(),i=Nt();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new Iw(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P8{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O8{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return d6()?8:u9(si())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.Yi(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Zi(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new P8;return this.Xi(e,n,o).next(a=>{if(s.result=a,this.zi)return this.es(e,n,o,a.size)})}).next(()=>s.result)}es(e,n,r,i){return r.documentReadCount<this.ji?(nd()<=xt.DEBUG&&st("QueryEngine","SDK will not create cache indexes for query:",fu(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),Oe.resolve()):(nd()<=xt.DEBUG&&st("QueryEngine","Query:",fu(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(nd()<=xt.DEBUG&&st("QueryEngine","The SDK decides to create cache indexes for query:",fu(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Vs(n))):Oe.resolve())}Yi(e,n){if(nI(n))return Oe.resolve(null);let r=Vs(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Pm(n,null,"F"),r=Vs(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=Nt(...s);return this.Ji.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const u=this.ts(n,a);return this.ns(n,u,o,l.readTime)?this.Yi(e,Pm(n,null,"F")):this.rs(e,u,n,l)}))})))}Zi(e,n,r,i){return nI(n)||i.isEqual(Tt.min())?Oe.resolve(null):this.Ji.getDocuments(e,r).next(s=>{const o=this.ts(n,s);return this.ns(n,o,r,i)?Oe.resolve(null):(nd()<=xt.DEBUG&&st("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),fu(n)),this.rs(e,o,n,i9(i,-1)).next(a=>a))})}ts(e,n){let r=new $r(Fx(e));return n.forEach((i,s)=>{Gg(e,s)&&(r=r.add(s))}),r}ns(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Xi(e,n,r){return nd()<=xt.DEBUG&&st("QueryEngine","Using full collection scan to execute query:",fu(n)),this.Ji.getDocumentsMatchingQuery(e,n,Ia.min(),r)}rs(e,n,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k8{constructor(e,n,r,i){this.persistence=e,this.ss=n,this.serializer=i,this.os=new hr(Jt),this._s=new xc(s=>mw(s),gw),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new y8(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}}function R8(t,e,n,r){return new k8(t,e,n,r)}async function oD(t,e){const n=Et(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let l=Nt();for(const u of i){o.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}for(const u of s){a.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}return n.localDocuments.getDocuments(r,l).next(u=>({hs:u,removedBatchIds:o,addedBatchIds:a}))})})}function x8(t,e){const n=Et(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.cs.newChangeBuffer({trackRemovals:!0});return function(a,l,u,c){const d=u.batch,h=d.keys();let p=Oe.resolve();return h.forEach(m=>{p=p.next(()=>c.getEntry(l,m)).next(g=>{const y=u.docVersions.get(m);mn(y!==null),g.version.compareTo(y)<0&&(d.applyToRemoteDocument(g,u),g.isValidDocument()&&(g.setReadTime(u.commitVersion),c.addEntry(g)))})}),p.next(()=>a.mutationQueue.removeMutationBatch(l,d))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=Nt();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(l=l.add(a.batch.mutations[u].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function aD(t){const e=Et(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function D8(t,e){const n=Et(t),r=e.snapshotVersion;let i=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.cs.newChangeBuffer({trackRemovals:!0});i=n.os;const a=[];e.targetChanges.forEach((c,d)=>{const h=i.get(d);if(!h)return;a.push(n.Ur.removeMatchingKeys(s,c.removedDocuments,d).next(()=>n.Ur.addMatchingKeys(s,c.addedDocuments,d)));let p=h.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(d)!==null?p=p.withResumeToken(Fr.EMPTY_BYTE_STRING,Tt.min()).withLastLimboFreeSnapshotVersion(Tt.min()):c.resumeToken.approximateByteSize()>0&&(p=p.withResumeToken(c.resumeToken,r)),i=i.insert(d,p),function(g,y,P){return g.resumeToken.approximateByteSize()===0||y.snapshotVersion.toMicroseconds()-g.snapshotVersion.toMicroseconds()>=3e8?!0:P.addedDocuments.size+P.modifiedDocuments.size+P.removedDocuments.size>0}(h,p,c)&&a.push(n.Ur.updateTargetData(s,p))});let l=Io(),u=Nt();if(e.documentUpdates.forEach(c=>{e.resolvedLimboDocuments.has(c)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,c))}),a.push(N8(s,o,e.documentUpdates).next(c=>{l=c.Ps,u=c.Is})),!r.isEqual(Tt.min())){const c=n.Ur.getLastRemoteSnapshotVersion(s).next(d=>n.Ur.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(c)}return Oe.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,u)).next(()=>l)}).then(s=>(n.os=i,s))}function N8(t,e,n){let r=Nt(),i=Nt();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=Io();return n.forEach((a,l)=>{const u=s.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(Tt.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):st("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{Ps:o,Is:i}})}function M8(t,e){const n=Et(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function L8(t,e){const n=Et(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ur.getTargetData(r,e).next(s=>s?(i=s,Oe.resolve(i)):n.Ur.allocateTargetId(r).next(o=>(i=new oa(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}async function h0(t,e,n){const r=Et(t),i=r.os.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!hf(o))throw o;st("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.os=r.os.remove(e),r._s.delete(i.target)}function fI(t,e,n){const r=Et(t);let i=Tt.min(),s=Nt();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,u,c){const d=Et(l),h=d._s.get(c);return h!==void 0?Oe.resolve(d.os.get(h)):d.Ur.getTargetData(u,c)}(r,o,Vs(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>r.ss.getDocumentsMatchingQuery(o,e,n?i:Tt.min(),n?s:Nt())).next(a=>(V8(r,A9(e),a),{documents:a,Ts:s})))}function V8(t,e,n){let r=t.us.get(e)||Tt.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.us.set(e,r)}class pI{constructor(){this.activeTargetIds=D9()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class $8{constructor(){this.so=new pI,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new pI,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F8{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mI{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){st("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){st("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let pp=null;function by(){return pp===null?pp=function(){return 268435456+Math.round(2147483648*Math.random())}():pp++,"0x"+pp.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U8={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q8{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Br="WebChannelConnection";class B8 extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${i}/databases/${s}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get Fo(){return!1}Mo(n,r,i,s,o){const a=by(),l=this.xo(n,r.toUriEncodedString());st("RestConnection",`Sending RPC '${n}' ${a}:`,l,i);const u={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(u,s,o),this.No(n,l,u,i).then(c=>(st("RestConnection",`Received RPC '${n}' ${a}: `,c),c),c=>{throw rc("RestConnection",`RPC '${n}' ${a} failed with error: `,c,"url: ",l,"request:",i),c})}Lo(n,r,i,s,o,a){return this.Mo(n,r,i,s,o)}Oo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Rc}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}xo(n,r){const i=U8[n];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,i){const s=by();return new Promise((o,a)=>{const l=new wx;l.setWithCredentials(!0),l.listenOnce(Ex.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case Up.NO_ERROR:const c=l.getResponseJson();st(Br,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(c)),o(c);break;case Up.TIMEOUT:st(Br,`RPC '${e}' ${s} timed out`),a(new Ke(Ee.DEADLINE_EXCEEDED,"Request time out"));break;case Up.HTTP_ERROR:const d=l.getStatus();if(st(Br,`RPC '${e}' ${s} failed with status:`,d,"response text:",l.getResponseText()),d>0){let h=l.getResponseJson();Array.isArray(h)&&(h=h[0]);const p=h==null?void 0:h.error;if(p&&p.status&&p.message){const m=function(y){const P=y.toLowerCase().replace(/_/g,"-");return Object.values(Ee).indexOf(P)>=0?P:Ee.UNKNOWN}(p.status);a(new Ke(m,p.message))}else a(new Ke(Ee.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new Ke(Ee.UNAVAILABLE,"Connection failed."));break;default:yt()}}finally{st(Br,`RPC '${e}' ${s} completed.`)}});const u=JSON.stringify(i);st(Br,`RPC '${e}' ${s} sending request:`,i),l.send(n,"POST",u,r,15)})}Bo(e,n,r){const i=by(),s=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=Cx(),a=Ix(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.xmlHttpFactory=new Tx({})),this.Oo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const c=s.join("");st(Br,`Creating RPC '${e}' stream ${i}: ${c}`,l);const d=o.createWebChannel(c,l);let h=!1,p=!1;const m=new q8({Io:y=>{p?st(Br,`Not sending because RPC '${e}' stream ${i} is closed:`,y):(h||(st(Br,`Opening RPC '${e}' stream ${i} transport.`),d.open(),h=!0),st(Br,`RPC '${e}' stream ${i} sending:`,y),d.send(y))},To:()=>d.close()}),g=(y,P,I)=>{y.listen(P,S=>{try{I(S)}catch(T){setTimeout(()=>{throw T},0)}})};return g(d,Ed.EventType.OPEN,()=>{p||(st(Br,`RPC '${e}' stream ${i} transport opened.`),m.yo())}),g(d,Ed.EventType.CLOSE,()=>{p||(p=!0,st(Br,`RPC '${e}' stream ${i} transport closed`),m.So())}),g(d,Ed.EventType.ERROR,y=>{p||(p=!0,rc(Br,`RPC '${e}' stream ${i} transport errored:`,y),m.So(new Ke(Ee.UNAVAILABLE,"The operation could not be completed")))}),g(d,Ed.EventType.MESSAGE,y=>{var P;if(!p){const I=y.data[0];mn(!!I);const S=I,T=S.error||((P=S[0])===null||P===void 0?void 0:P.error);if(T){st(Br,`RPC '${e}' stream ${i} received error:`,T);const M=T.status;let R=function(b){const w=sr[b];if(w!==void 0)return Xx(w)}(M),C=T.message;R===void 0&&(R=Ee.INTERNAL,C="Unknown error status: "+M+" with message "+T.message),p=!0,m.So(new Ke(R,C)),d.close()}else st(Br,`RPC '${e}' stream ${i} received:`,I),m.bo(I)}}),g(a,Sx.STAT_EVENT,y=>{y.stat===t0.PROXY?st(Br,`RPC '${e}' stream ${i} detected buffering proxy`):y.stat===t0.NOPROXY&&st(Br,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{m.wo()},0),m}}function _y(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jg(t){return new J9(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lD{constructor(e,n,r=1e3,i=1.5,s=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=i,this.Qo=s,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,n-r);i>0&&st("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uD{constructor(e,n,r,i,s,o,a,l){this.ui=e,this.Ho=r,this.Jo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new lD(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===Ee.RESOURCE_EXHAUSTED?(So(n.toString()),So("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===Ee.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(n)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===n&&this.P_(r,i)},r=>{e(()=>{const i=new Ke(Ee.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,n){const r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return st("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(st("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class j8 extends uD{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const n=t8(this.serializer,e),r=function(s){if(!("targetChange"in s))return Tt.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?Tt.min():o.readTime?$s(o.readTime):Tt.min()}(e);return this.listener.d_(n,r)}A_(e){const n={};n.database=d0(this.serializer),n.addTarget=function(s,o){let a;const l=o.target;if(a=o0(l)?{documents:i8(s,l)}:{query:s8(s,l)._t},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=Zx(s,o.resumeToken);const u=l0(s,o.expectedCount);u!==null&&(a.expectedCount=u)}else if(o.snapshotVersion.compareTo(Tt.min())>0){a.readTime=Rm(s,o.snapshotVersion.toTimestamp());const u=l0(s,o.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);const r=a8(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){const n={};n.database=d0(this.serializer),n.removeTarget=e,this.a_(n)}}class H8 extends uD{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return mn(!!e.streamToken),this.lastStreamToken=e.streamToken,mn(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){mn(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const n=r8(e.writeResults,e.commitTime),r=$s(e.commitTime);return this.listener.g_(r,n)}p_(){const e={};e.database=d0(this.serializer),this.a_(e)}m_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>n8(this.serializer,r))};this.a_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W8 extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new Ke(Ee.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Mo(e,u0(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===Ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Ke(Ee.UNKNOWN,s.toString())})}Lo(e,n,r,i,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Lo(e,u0(n,r),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===Ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Ke(Ee.UNKNOWN,o.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class z8{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(So(n),this.D_=!1):st("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K8{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=s,this.k_._o(o=>{r.enqueueAndForget(async()=>{Hl(this)&&(st("RemoteStore","Restarting streams for network reachability change."),await async function(l){const u=Et(l);u.L_.add(4),await mf(u),u.q_.set("Unknown"),u.L_.delete(4),await Zg(u)}(this))})}),this.q_=new z8(r,i)}}async function Zg(t){if(Hl(t))for(const e of t.B_)await e(!0)}async function mf(t){for(const e of t.B_)await e(!1)}function cD(t,e){const n=Et(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),Ow(n)?Pw(n):Dc(n).r_()&&Aw(n,e))}function Cw(t,e){const n=Et(t),r=Dc(n);n.N_.delete(e),r.r_()&&dD(n,e),n.N_.size===0&&(r.r_()?r.o_():Hl(n)&&n.q_.set("Unknown"))}function Aw(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Tt.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Dc(t).A_(e)}function dD(t,e){t.Q_.xe(e),Dc(t).R_(e)}function Pw(t){t.Q_=new G9({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),Dc(t).start(),t.q_.v_()}function Ow(t){return Hl(t)&&!Dc(t).n_()&&t.N_.size>0}function Hl(t){return Et(t).L_.size===0}function hD(t){t.Q_=void 0}async function G8(t){t.q_.set("Online")}async function Y8(t){t.N_.forEach((e,n)=>{Aw(t,e)})}async function X8(t,e){hD(t),Ow(t)?(t.q_.M_(e),Pw(t)):t.q_.set("Unknown")}async function Q8(t,e,n){if(t.q_.set("Online"),e instanceof Jx&&e.state===2&&e.cause)try{await async function(i,s){const o=s.cause;for(const a of s.targetIds)i.N_.has(a)&&(await i.remoteSyncer.rejectListen(a,o),i.N_.delete(a),i.Q_.removeTarget(a))}(t,e)}catch(r){st("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await xm(t,r)}else if(e instanceof jp?t.Q_.Ke(e):e instanceof Qx?t.Q_.He(e):t.Q_.We(e),!n.isEqual(Tt.min()))try{const r=await aD(t.localStore);n.compareTo(r)>=0&&await function(s,o){const a=s.Q_.rt(o);return a.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const c=s.N_.get(u);c&&s.N_.set(u,c.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,u)=>{const c=s.N_.get(l);if(!c)return;s.N_.set(l,c.withResumeToken(Fr.EMPTY_BYTE_STRING,c.snapshotVersion)),dD(s,l);const d=new oa(c.target,l,u,c.sequenceNumber);Aw(s,d)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){st("RemoteStore","Failed to raise snapshot:",r),await xm(t,r)}}async function xm(t,e,n){if(!hf(e))throw e;t.L_.add(1),await mf(t),t.q_.set("Offline"),n||(n=()=>aD(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{st("RemoteStore","Retrying IndexedDB access"),await n(),t.L_.delete(1),await Zg(t)})}function fD(t,e){return e().catch(n=>xm(t,n,e))}async function ev(t){const e=Et(t),n=Aa(e);let r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;J8(e);)try{const i=await M8(e.localStore,r);if(i===null){e.O_.length===0&&n.o_();break}r=i.batchId,Z8(e,i)}catch(i){await xm(e,i)}pD(e)&&mD(e)}function J8(t){return Hl(t)&&t.O_.length<10}function Z8(t,e){t.O_.push(e);const n=Aa(t);n.r_()&&n.V_&&n.m_(e.mutations)}function pD(t){return Hl(t)&&!Aa(t).n_()&&t.O_.length>0}function mD(t){Aa(t).start()}async function eB(t){Aa(t).p_()}async function tB(t){const e=Aa(t);for(const n of t.O_)e.m_(n.mutations)}async function nB(t,e,n){const r=t.O_.shift(),i=_w.from(r,e,n);await fD(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await ev(t)}async function rB(t,e){e&&Aa(t).V_&&await async function(r,i){if(function(o){return W9(o)&&o!==Ee.ABORTED}(i.code)){const s=r.O_.shift();Aa(r).s_(),await fD(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await ev(r)}}(t,e),pD(t)&&mD(t)}async function gI(t,e){const n=Et(t);n.asyncQueue.verifyOperationInProgress(),st("RemoteStore","RemoteStore received new credentials");const r=Hl(n);n.L_.add(3),await mf(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),await Zg(n)}async function iB(t,e){const n=Et(t);e?(n.L_.delete(2),await Zg(n)):e||(n.L_.add(2),await mf(n),n.q_.set("Unknown"))}function Dc(t){return t.K_||(t.K_=function(n,r,i){const s=Et(n);return s.w_(),new j8(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:G8.bind(null,t),Ro:Y8.bind(null,t),mo:X8.bind(null,t),d_:Q8.bind(null,t)}),t.B_.push(async e=>{e?(t.K_.s_(),Ow(t)?Pw(t):t.q_.set("Unknown")):(await t.K_.stop(),hD(t))})),t.K_}function Aa(t){return t.U_||(t.U_=function(n,r,i){const s=Et(n);return s.w_(),new H8(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:eB.bind(null,t),mo:rB.bind(null,t),f_:tB.bind(null,t),g_:nB.bind(null,t)}),t.B_.push(async e=>{e?(t.U_.s_(),await ev(t)):(await t.U_.stop(),t.O_.length>0&&(st("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))})),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kw{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new bo,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new kw(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Ke(Ee.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Rw(t,e){if(So("AsyncQueue",`${e}: ${t}`),hf(t))return new Ke(Ee.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uu{constructor(e){this.comparator=e?(n,r)=>e(n,r)||dt.comparator(n.key,r.key):(n,r)=>dt.comparator(n.key,r.key),this.keyedMap=Sd(),this.sortedSet=new hr(this.comparator)}static emptySet(e){return new Uu(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Uu)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Uu;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vI{constructor(){this.W_=new hr(dt.comparator)}track(e){const n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):yt():this.W_=this.W_.insert(n,e)}G_(){const e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}}class uc{constructor(e,n,r,i,s,o,a,l,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new uc(e,n,Uu.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Kg(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sB{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class oB{constructor(){this.queries=yI(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){const i=Et(n),s=i.queries;i.queries=yI(),s.forEach((o,a)=>{for(const l of a.j_)l.onError(r)})})(this,new Ke(Ee.ABORTED,"Firestore shutting down"))}}function yI(){return new xc(t=>$x(t),Kg)}async function xw(t,e){const n=Et(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.H_()&&e.J_()&&(r=2):(s=new sB,r=e.J_()?0:1);try{switch(r){case 0:s.z_=await n.onListen(i,!0);break;case 1:s.z_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(o){const a=Rw(o,`Initialization of query '${fu(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,s),s.j_.push(e),e.Z_(n.onlineState),s.z_&&e.X_(s.z_)&&Nw(n)}async function Dw(t,e){const n=Et(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const o=s.j_.indexOf(e);o>=0&&(s.j_.splice(o,1),s.j_.length===0?i=e.J_()?0:1:!s.H_()&&e.J_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function aB(t,e){const n=Et(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.j_)a.X_(i)&&(r=!0);o.z_=i}}r&&Nw(n)}function lB(t,e,n){const r=Et(t),i=r.queries.get(e);if(i)for(const s of i.j_)s.onError(n);r.queries.delete(e)}function Nw(t){t.Y_.forEach(e=>{e.next()})}var f0,bI;(bI=f0||(f0={})).ea="default",bI.Cache="cache";class Mw{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new uc(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;const r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=uc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==f0.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gD{constructor(e){this.key=e}}class vD{constructor(e){this.key=e}}class uB{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=Nt(),this.mutatedKeys=Nt(),this.Aa=Fx(e),this.Ra=new Uu(this.Aa)}get Va(){return this.Ta}ma(e,n){const r=n?n.fa:new vI,i=n?n.Ra:this.Ra;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((c,d)=>{const h=i.get(c),p=Gg(this.query,d)?d:null,m=!!h&&this.mutatedKeys.has(h.key),g=!!p&&(p.hasLocalMutations||this.mutatedKeys.has(p.key)&&p.hasCommittedMutations);let y=!1;h&&p?h.data.isEqual(p.data)?m!==g&&(r.track({type:3,doc:p}),y=!0):this.ga(h,p)||(r.track({type:2,doc:p}),y=!0,(l&&this.Aa(p,l)>0||u&&this.Aa(p,u)<0)&&(a=!0)):!h&&p?(r.track({type:0,doc:p}),y=!0):h&&!p&&(r.track({type:1,doc:h}),y=!0,(l||u)&&(a=!0)),y&&(p?(o=o.add(p),s=g?s.add(c):s.delete(c)):(o=o.delete(c),s=s.delete(c)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const c=this.query.limitType==="F"?o.last():o.first();o=o.delete(c.key),s=s.delete(c.key),r.track({type:1,doc:c})}return{Ra:o,fa:r,ns:a,mutatedKeys:s}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const o=e.fa.G_();o.sort((c,d)=>function(p,m){const g=y=>{switch(y){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return yt()}};return g(p)-g(m)}(c.type,d.type)||this.Aa(c.doc,d.doc)),this.pa(r),i=i!=null&&i;const a=n&&!i?this.ya():[],l=this.da.size===0&&this.current&&!i?1:0,u=l!==this.Ea;return this.Ea=l,o.length!==0||u?{snapshot:new uc(this.query,e.Ra,s,o,e.mutatedKeys,l===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new vI,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=Nt(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});const n=[];return e.forEach(r=>{this.da.has(r)||n.push(new vD(r))}),this.da.forEach(r=>{e.has(r)||n.push(new gD(r))}),n}ba(e){this.Ta=e.Ts,this.da=Nt();const n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return uc.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class cB{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class dB{constructor(e){this.key=e,this.va=!1}}class hB{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Ca={},this.Fa=new xc(a=>$x(a),Kg),this.Ma=new Map,this.xa=new Set,this.Oa=new hr(dt.comparator),this.Na=new Map,this.La=new Ew,this.Ba={},this.ka=new Map,this.qa=lc.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function fB(t,e,n=!0){const r=ED(t);let i;const s=r.Fa.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.Da()):i=await yD(r,e,n,!0),i}async function pB(t,e){const n=ED(t);await yD(n,e,!0,!1)}async function yD(t,e,n,r){const i=await L8(t.localStore,Vs(e)),s=i.targetId,o=n?t.sharedClientState.addLocalQueryTarget(s):"not-current";let a;return r&&(a=await mB(t,e,s,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&cD(t.remoteStore,i),a}async function mB(t,e,n,r,i){t.Ka=(d,h,p)=>async function(g,y,P,I){let S=y.view.ma(P);S.ns&&(S=await fI(g.localStore,y.query,!1).then(({documents:C})=>y.view.ma(C,S)));const T=I&&I.targetChanges.get(y.targetId),M=I&&I.targetMismatches.get(y.targetId)!=null,R=y.view.applyChanges(S,g.isPrimaryClient,T,M);return wI(g,y.targetId,R.wa),R.snapshot}(t,d,h,p);const s=await fI(t.localStore,e,!0),o=new uB(e,s.Ts),a=o.ma(s.documents),l=pf.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=o.applyChanges(a,t.isPrimaryClient,l);wI(t,n,u.wa);const c=new cB(e,n,o);return t.Fa.set(e,c),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),u.snapshot}async function gB(t,e,n){const r=Et(t),i=r.Fa.get(e),s=r.Ma.get(i.targetId);if(s.length>1)return r.Ma.set(i.targetId,s.filter(o=>!Kg(o,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await h0(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&Cw(r.remoteStore,i.targetId),p0(r,i.targetId)}).catch(df)):(p0(r,i.targetId),await h0(r.localStore,i.targetId,!0))}async function vB(t,e){const n=Et(t),r=n.Fa.get(e),i=n.Ma.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Cw(n.remoteStore,r.targetId))}async function yB(t,e,n){const r=IB(t);try{const i=await function(o,a){const l=Et(o),u=Mn.now(),c=a.reduce((p,m)=>p.add(m.key),Nt());let d,h;return l.persistence.runTransaction("Locally write mutations","readwrite",p=>{let m=Io(),g=Nt();return l.cs.getEntries(p,c).next(y=>{m=y,m.forEach((P,I)=>{I.isValidDocument()||(g=g.add(P))})}).next(()=>l.localDocuments.getOverlayedDocuments(p,m)).next(y=>{d=y;const P=[];for(const I of a){const S=U9(I,d.get(I.key).overlayedDocument);S!=null&&P.push(new Ma(I.key,S,Rx(S.value.mapValue),Qi.exists(!0)))}return l.mutationQueue.addMutationBatch(p,u,P,a)}).next(y=>{h=y;const P=y.applyToLocalDocumentSet(d,g);return l.documentOverlayCache.saveOverlays(p,y.batchId,P)})}).then(()=>({batchId:h.batchId,changes:qx(d)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,l){let u=o.Ba[o.currentUser.toKey()];u||(u=new hr(Jt)),u=u.insert(a,l),o.Ba[o.currentUser.toKey()]=u}(r,i.batchId,n),await gf(r,i.changes),await ev(r.remoteStore)}catch(i){const s=Rw(i,"Failed to persist write");n.reject(s)}}async function bD(t,e){const n=Et(t);try{const r=await D8(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.Na.get(s);o&&(mn(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.va=!0:i.modifiedDocuments.size>0?mn(o.va):i.removedDocuments.size>0&&(mn(o.va),o.va=!1))}),await gf(n,r,e)}catch(r){await df(r)}}function _I(t,e,n){const r=Et(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Fa.forEach((s,o)=>{const a=o.view.Z_(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){const l=Et(o);l.onlineState=a;let u=!1;l.queries.forEach((c,d)=>{for(const h of d.j_)h.Z_(a)&&(u=!0)}),u&&Nw(l)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function bB(t,e,n){const r=Et(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Na.get(e),s=i&&i.key;if(s){let o=new hr(dt.comparator);o=o.insert(s,Kr.newNoDocument(s,Tt.min()));const a=Nt().add(s),l=new Qg(Tt.min(),new Map,new hr(Jt),o,a);await bD(r,l),r.Oa=r.Oa.remove(s),r.Na.delete(e),Lw(r)}else await h0(r.localStore,e,!1).then(()=>p0(r,e,n)).catch(df)}async function _B(t,e){const n=Et(t),r=e.batch.batchId;try{const i=await x8(n.localStore,e);wD(n,r,null),_D(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await gf(n,i)}catch(i){await df(i)}}async function wB(t,e,n){const r=Et(t);try{const i=await function(o,a){const l=Et(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let c;return l.mutationQueue.lookupMutationBatch(u,a).next(d=>(mn(d!==null),c=d.keys(),l.mutationQueue.removeMutationBatch(u,d))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,c,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,c)).next(()=>l.localDocuments.getDocuments(u,c))})}(r.localStore,e);wD(r,e,n),_D(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await gf(r,i)}catch(i){await df(i)}}function _D(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function wD(t,e,n){const r=Et(t);let i=r.Ba[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function p0(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||TD(t,r)})}function TD(t,e){t.xa.delete(e.path.canonicalString());const n=t.Oa.get(e);n!==null&&(Cw(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),Lw(t))}function wI(t,e,n){for(const r of n)r instanceof gD?(t.La.addReference(r.key,e),TB(t,r)):r instanceof vD?(st("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||TD(t,r.key)):yt()}function TB(t,e){const n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(st("SyncEngine","New document in limbo: "+n),t.xa.add(r),Lw(t))}function Lw(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const n=new dt(yn.fromString(e)),r=t.qa.next();t.Na.set(r,new dB(n)),t.Oa=t.Oa.insert(n,r),cD(t.remoteStore,new oa(Vs(zg(n.path)),r,"TargetPurposeLimboResolution",hw.oe))}}async function gf(t,e,n){const r=Et(t),i=[],s=[],o=[];r.Fa.isEmpty()||(r.Fa.forEach((a,l)=>{o.push(r.Ka(l,e,n).then(u=>{var c;if((u||n)&&r.isPrimaryClient){const d=u?!u.fromCache:(c=n==null?void 0:n.targetChanges.get(l.targetId))===null||c===void 0?void 0:c.current;r.sharedClientState.updateQueryState(l.targetId,d?"current":"not-current")}if(u){i.push(u);const d=Iw.Wi(l.targetId,u);s.push(d)}}))}),await Promise.all(o),r.Ca.d_(i),await async function(l,u){const c=Et(l);try{await c.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>Oe.forEach(u,h=>Oe.forEach(h.$i,p=>c.persistence.referenceDelegate.addReference(d,h.targetId,p)).next(()=>Oe.forEach(h.Ui,p=>c.persistence.referenceDelegate.removeReference(d,h.targetId,p)))))}catch(d){if(!hf(d))throw d;st("LocalStore","Failed to update sequence numbers: "+d)}for(const d of u){const h=d.targetId;if(!d.fromCache){const p=c.os.get(h),m=p.snapshotVersion,g=p.withLastLimboFreeSnapshotVersion(m);c.os=c.os.insert(h,g)}}}(r.localStore,s))}async function EB(t,e){const n=Et(t);if(!n.currentUser.isEqual(e)){st("SyncEngine","User change. New user:",e.toKey());const r=await oD(n.localStore,e);n.currentUser=e,function(s,o){s.ka.forEach(a=>{a.forEach(l=>{l.reject(new Ke(Ee.CANCELLED,o))})}),s.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await gf(n,r.hs)}}function SB(t,e){const n=Et(t),r=n.Na.get(e);if(r&&r.va)return Nt().add(r.key);{let i=Nt();const s=n.Ma.get(e);if(!s)return i;for(const o of s){const a=n.Fa.get(o);i=i.unionWith(a.view.Va)}return i}}function ED(t){const e=Et(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=bD.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=SB.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=bB.bind(null,e),e.Ca.d_=aB.bind(null,e.eventManager),e.Ca.$a=lB.bind(null,e.eventManager),e}function IB(t){const e=Et(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=_B.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=wB.bind(null,e),e}class TI{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=Jg(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return R8(this.persistence,new O8,e.initialUser,this.serializer)}createPersistence(e){return new C8(Sw.Zr,this.serializer)}createSharedClientState(e){return new $8}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class CB{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>_I(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=EB.bind(null,this.syncEngine),await iB(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new oB}()}createDatastore(e){const n=Jg(e.databaseInfo.databaseId),r=function(s){return new B8(s)}(e.databaseInfo);return function(s,o,a,l){return new W8(s,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,a){return new K8(r,i,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>_I(this.syncEngine,n,0),function(){return mI.D()?new mI:new F8}())}createSyncEngine(e,n){return function(i,s,o,a,l,u,c){const d=new hB(i,s,o,a,l,u);return c&&(d.Qa=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const s=Et(i);st("RemoteStore","RemoteStore shutting down."),s.L_.add(5),await mf(s),s.k_.shutdown(),s.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vw{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ga(this.observer.next,e)}error(e){this.observer.error?this.Ga(this.observer.error,e):So("Uncaught Error in snapshot listener:",e.toString())}za(){this.muted=!0}Ga(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AB{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Wr.UNAUTHENTICATED,this.clientId=Px.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async s=>{st("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(st("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Ke(Ee.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new bo;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Rw(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function wy(t,e){t.asyncQueue.verifyOperationInProgress(),st("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await oD(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function EI(t,e){t.asyncQueue.verifyOperationInProgress();const n=await OB(t);st("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>gI(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>gI(e.remoteStore,i)),t._onlineComponents=e}function PB(t){return t.name==="FirebaseError"?t.code===Ee.FAILED_PRECONDITION||t.code===Ee.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function OB(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){st("FirestoreClient","Using user provided OfflineComponentProvider");try{await wy(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!PB(n))throw n;rc("Error using user provided cache. Falling back to memory cache: "+n),await wy(t,new TI)}}else st("FirestoreClient","Using default OfflineComponentProvider"),await wy(t,new TI);return t._offlineComponents}async function SD(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(st("FirestoreClient","Using user provided OnlineComponentProvider"),await EI(t,t._uninitializedComponentsProvider._online)):(st("FirestoreClient","Using default OnlineComponentProvider"),await EI(t,new CB))),t._onlineComponents}function kB(t){return SD(t).then(e=>e.syncEngine)}async function Dm(t){const e=await SD(t),n=e.eventManager;return n.onListen=fB.bind(null,e.syncEngine),n.onUnlisten=gB.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=pB.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=vB.bind(null,e.syncEngine),n}function RB(t,e,n={}){const r=new bo;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,u){const c=new Vw({next:h=>{o.enqueueAndForget(()=>Dw(s,d));const p=h.docs.has(a);!p&&h.fromCache?u.reject(new Ke(Ee.UNAVAILABLE,"Failed to get document because the client is offline.")):p&&h.fromCache&&l&&l.source==="server"?u.reject(new Ke(Ee.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(h)},error:h=>u.reject(h)}),d=new Mw(zg(a.path),c,{includeMetadataChanges:!0,_a:!0});return xw(s,d)}(await Dm(t),t.asyncQueue,e,n,r)),r.promise}function xB(t,e,n={}){const r=new bo;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,u){const c=new Vw({next:h=>{o.enqueueAndForget(()=>Dw(s,d)),h.fromCache&&l.source==="server"?u.reject(new Ke(Ee.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(h)},error:h=>u.reject(h)}),d=new Mw(a,c,{includeMetadataChanges:!0,_a:!0});return xw(s,d)}(await Dm(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ID(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SI=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CD(t,e,n){if(!n)throw new Ke(Ee.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function DB(t,e,n,r){if(e===!0&&r===!0)throw new Ke(Ee.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function II(t){if(!dt.isDocumentKey(t))throw new Ke(Ee.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function CI(t){if(dt.isDocumentKey(t))throw new Ke(Ee.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function tv(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":yt()}function Ai(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Ke(Ee.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=tv(t);throw new Ke(Ee.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function NB(t,e){if(e<=0)throw new Ke(Ee.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AI{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new Ke(Ee.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new Ke(Ee.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}DB("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=ID((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new Ke(Ee.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new Ke(Ee.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new Ke(Ee.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class nv{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new AI({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Ke(Ee.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new Ke(Ee.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new AI(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new Yq;switch(r.type){case"firstParty":return new Zq(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Ke(Ee.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=SI.get(n);r&&(st("ComponentProvider","Removing Datastore"),SI.delete(n),r.terminate())}(this),Promise.resolve()}}function MB(t,e,n,r={}){var i;const s=(t=Ai(t,nv))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&rc("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,l;if(typeof r.mockUserToken=="string")a=r.mockUserToken,l=Wr.MOCK_USER;else{a=bR(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new Ke(Ee.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new Wr(u)}t._authCredentials=new Xq(new Ax(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xs{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Xs(this.firestore,e,this._query)}}class ri{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new pa(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ri(this.firestore,e,this._key)}}class pa extends Xs{constructor(e,n,r){super(e,n,zg(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ri(this.firestore,null,new dt(e))}withConverter(e){return new pa(this.firestore,e,this._path)}}function zi(t,e,...n){if(t=Zt(t),CD("collection","path",e),t instanceof nv){const r=yn.fromString(e,...n);return CI(r),new pa(t,null,r)}{if(!(t instanceof ri||t instanceof pa))throw new Ke(Ee.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(yn.fromString(e,...n));return CI(r),new pa(t.firestore,null,r)}}function Qt(t,e,...n){if(t=Zt(t),arguments.length===1&&(e=Px.newId()),CD("doc","path",e),t instanceof nv){const r=yn.fromString(e,...n);return II(r),new ri(t,null,new dt(r))}{if(!(t instanceof ri||t instanceof pa))throw new Ke(Ee.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(yn.fromString(e,...n));return II(r),new ri(t.firestore,t instanceof pa?t.converter:null,new dt(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LB{constructor(){this.au=Promise.resolve(),this.uu=[],this.cu=!1,this.lu=[],this.hu=null,this.Pu=!1,this.Iu=!1,this.Tu=[],this.t_=new lD(this,"async_queue_retry"),this.Eu=()=>{const n=_y();n&&st("AsyncQueue","Visibility state changed to "+n.visibilityState),this.t_.jo()};const e=_y();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.Eu)}get isShuttingDown(){return this.cu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.du(),this.Au(e)}enterRestrictedMode(e){if(!this.cu){this.cu=!0,this.Iu=e||!1;const n=_y();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Eu)}}enqueue(e){if(this.du(),this.cu)return new Promise(()=>{});const n=new bo;return this.Au(()=>this.cu&&this.Iu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.uu.push(e),this.Ru()))}async Ru(){if(this.uu.length!==0){try{await this.uu[0](),this.uu.shift(),this.t_.reset()}catch(e){if(!hf(e))throw e;st("AsyncQueue","Operation failed with retryable error: "+e)}this.uu.length>0&&this.t_.Go(()=>this.Ru())}}Au(e){const n=this.au.then(()=>(this.Pu=!0,e().catch(r=>{this.hu=r,this.Pu=!1;const i=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw So("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.Pu=!1,r))));return this.au=n,n}enqueueAfterDelay(e,n,r){this.du(),this.Tu.indexOf(e)>-1&&(n=0);const i=kw.createAndSchedule(this,e,n,r,s=>this.Vu(s));return this.lu.push(i),i}du(){this.hu&&yt()}verifyOperationInProgress(){}async mu(){let e;do e=this.au,await e;while(e!==this.au)}fu(e){for(const n of this.lu)if(n.timerId===e)return!0;return!1}gu(e){return this.mu().then(()=>{this.lu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.lu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.mu()})}pu(e){this.Tu.push(e)}Vu(e){const n=this.lu.indexOf(e);this.lu.splice(n,1)}}function PI(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const s of r)if(s in i&&typeof i[s]=="function")return!0;return!1}(t,["next","error","complete"])}class Co extends nv{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=function(){return new LB}(),this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||AD(this),this._firestoreClient.terminate()}}function VB(t,e){const n=typeof t=="object"?t:kc(),r=typeof t=="string"?t:e||"(default)",i=Ys(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=gR("firestore");s&&MB(i,...s)}return i}function rv(t){return t._firestoreClient||AD(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function AD(t){var e,n,r;const i=t._freezeSettings(),s=function(a,l,u,c){return new h9(a,l,u,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,ID(c.experimentalLongPollingOptions),c.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new AB(t._authCredentials,t._appCheckCredentials,t._queue,s),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cc{constructor(e){this._byteString=e}static fromBase64String(e){try{return new cc(Fr.fromBase64String(e))}catch(n){throw new Ke(Ee.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new cc(Fr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iv{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Ke(Ee.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Mr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $w{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fw{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Ke(Ee.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Ke(Ee.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Jt(this._lat,e._lat)||Jt(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uw{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $B=/^__.*__$/;class FB{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Ma(e,this.data,this.fieldMask,n,this.fieldTransforms):new ff(e,this.data,n,this.fieldTransforms)}}class PD{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Ma(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function OD(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw yt()}}class qw{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.yu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get wu(){return this.settings.wu}Su(e){return new qw(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}bu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Su({path:r,Du:!1});return i.vu(e),i}Cu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Su({path:r,Du:!1});return i.yu(),i}Fu(e){return this.Su({path:void 0,Du:!0})}Mu(e){return Nm(e,this.settings.methodName,this.settings.xu||!1,this.path,this.settings.Ou)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}yu(){if(this.path)for(let e=0;e<this.path.length;e++)this.vu(this.path.get(e))}vu(e){if(e.length===0)throw this.Mu("Document fields must not be empty");if(OD(this.wu)&&$B.test(e))throw this.Mu('Document fields cannot begin and end with "__"')}}class UB{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Jg(e)}Nu(e,n,r,i=!1){return new qw({wu:e,methodName:n,Ou:r,path:Mr.emptyPath(),Du:!1,xu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function vf(t){const e=t._freezeSettings(),n=Jg(t._databaseId);return new UB(t._databaseId,!!e.ignoreUndefinedProperties,n)}function kD(t,e,n,r,i,s={}){const o=t.Nu(s.merge||s.mergeFields?2:0,e,n,i);Bw("Data must be an object, but it was:",o,r);const a=xD(r,o);let l,u;if(s.merge)l=new Ni(o.fieldMask),u=o.fieldTransforms;else if(s.mergeFields){const c=[];for(const d of s.mergeFields){const h=m0(e,d,n);if(!o.contains(h))throw new Ke(Ee.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);ND(c,h)||c.push(h)}l=new Ni(c),u=o.fieldTransforms.filter(d=>l.covers(d.field))}else l=null,u=o.fieldTransforms;return new FB(new Ti(a),l,u)}class sv extends $w{_toFieldTransform(e){if(e.wu!==2)throw e.wu===1?e.Mu(`${this._methodName}() can only appear at the top level of your update data`):e.Mu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof sv}}function qB(t,e,n,r){const i=t.Nu(1,e,n);Bw("Data must be an object, but it was:",i,r);const s=[],o=Ti.empty();Bl(r,(l,u)=>{const c=jw(e,l,n);u=Zt(u);const d=i.Cu(c);if(u instanceof sv)s.push(c);else{const h=yf(u,d);h!=null&&(s.push(c),o.set(c,h))}});const a=new Ni(s);return new PD(o,a,i.fieldTransforms)}function BB(t,e,n,r,i,s){const o=t.Nu(1,e,n),a=[m0(e,r,n)],l=[i];if(s.length%2!=0)throw new Ke(Ee.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<s.length;h+=2)a.push(m0(e,s[h])),l.push(s[h+1]);const u=[],c=Ti.empty();for(let h=a.length-1;h>=0;--h)if(!ND(u,a[h])){const p=a[h];let m=l[h];m=Zt(m);const g=o.Cu(p);if(m instanceof sv)u.push(p);else{const y=yf(m,g);y!=null&&(u.push(p),c.set(p,y))}}const d=new Ni(u);return new PD(c,d,o.fieldTransforms)}function RD(t,e,n,r=!1){return yf(n,t.Nu(r?4:3,e))}function yf(t,e){if(DD(t=Zt(t)))return Bw("Unsupported field value:",e,t),xD(t,e);if(t instanceof $w)return function(r,i){if(!OD(i.wu))throw i.Mu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Mu(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Du&&e.wu!==4)throw e.Mu("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const a of r){let l=yf(a,i.Fu(o));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=Zt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return N9(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=Mn.fromDate(r);return{timestampValue:Rm(i.serializer,s)}}if(r instanceof Mn){const s=new Mn(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Rm(i.serializer,s)}}if(r instanceof Fw)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof cc)return{bytesValue:Zx(i.serializer,r._byteString)};if(r instanceof ri){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Mu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:Tw(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Uw)return function(o,a){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:o.toArray().map(l=>{if(typeof l!="number")throw a.Mu("VectorValues must only contain numeric values.");return yw(a.serializer,l)})}}}}}}(r,i);throw i.Mu(`Unsupported field value: ${tv(r)}`)}(t,e)}function xD(t,e){const n={};return Ox(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Bl(t,(r,i)=>{const s=yf(i,e.bu(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function DD(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Mn||t instanceof Fw||t instanceof cc||t instanceof ri||t instanceof $w||t instanceof Uw)}function Bw(t,e,n){if(!DD(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=tv(n);throw r==="an object"?e.Mu(t+" a custom object"):e.Mu(t+" "+r)}}function m0(t,e,n){if((e=Zt(e))instanceof iv)return e._internalPath;if(typeof e=="string")return jw(t,e);throw Nm("Field path arguments must be of type string or ",t,!1,void 0,n)}const jB=new RegExp("[~\\*/\\[\\]]");function jw(t,e,n){if(e.search(jB)>=0)throw Nm(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new iv(...e.split("."))._internalPath}catch{throw Nm(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Nm(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new Ke(Ee.INVALID_ARGUMENT,a+t+l)}function ND(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hw{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new ri(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new HB(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(ov("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class HB extends Hw{data(){return super.data()}}function ov(t,e){return typeof e=="string"?jw(t,e):e instanceof iv?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MD(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Ke(Ee.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Ww{}class av extends Ww{}function LD(t,e,...n){let r=[];e instanceof Ww&&r.push(e),r=r.concat(n),function(s){const o=s.filter(l=>l instanceof zw).length,a=s.filter(l=>l instanceof lv).length;if(o>1||o>0&&a>0)throw new Ke(Ee.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class lv extends av{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new lv(e,n,r)}_apply(e){const n=this._parse(e);return VD(e._query,n),new Xs(e.firestore,e.converter,a0(e._query,n))}_parse(e){const n=vf(e.firestore);return function(s,o,a,l,u,c,d){let h;if(u.isKeyField()){if(c==="array-contains"||c==="array-contains-any")throw new Ke(Ee.INVALID_ARGUMENT,`Invalid Query. You can't perform '${c}' queries on documentId().`);if(c==="in"||c==="not-in"){RI(d,c);const p=[];for(const m of d)p.push(kI(l,s,m));h={arrayValue:{values:p}}}else h=kI(l,s,d)}else c!=="in"&&c!=="not-in"&&c!=="array-contains-any"||RI(d,c),h=RD(a,o,d,c==="in"||c==="not-in");return lr.create(u,c,h)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function g0(t,e,n){const r=e,i=ov("where",t);return lv._create(i,r,n)}class zw extends Ww{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new zw(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Ts.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,s){let o=i;const a=s.getFlattenedFilters();for(const l of a)VD(o,l),o=a0(o,l)}(e._query,n),new Xs(e.firestore,e.converter,a0(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Kw extends av{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new Kw(e,n)}_apply(e){const n=function(i,s,o){if(i.startAt!==null)throw new Ke(Ee.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new Ke(Ee.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Ch(s,o)}(e._query,this._field,this._direction);return new Xs(e.firestore,e.converter,function(i,s){const o=i.explicitOrderBy.concat([s]);return new jl(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}}function OI(t,e="asc"){const n=e,r=ov("orderBy",t);return Kw._create(r,n)}class Gw extends av{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new Gw(e,n,r)}_apply(e){return new Xs(e.firestore,e.converter,Pm(e._query,this._limit,this._limitType))}}function WB(t){return NB("limit",t),Gw._create("limit",t,"F")}class Yw extends av{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new Yw(e,n,r)}_apply(e){const n=KB(e,this.type,this._docOrFields,this._inclusive);return new Xs(e.firestore,e.converter,function(i,s){return new jl(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,s,i.endAt)}(e._query,n))}}function zB(...t){return Yw._create("startAfter",t,!1)}function KB(t,e,n,r){if(n[0]=Zt(n[0]),n[0]instanceof Hw)return function(s,o,a,l,u){if(!l)throw new Ke(Ee.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${a}().`);const c=[];for(const d of Fu(s))if(d.field.isKeyField())c.push(Am(o,l.key));else{const h=l.data.field(d.field);if(Wg(h))throw new Ke(Ee.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+d.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(h===null){const p=d.field.canonicalString();throw new Ke(Ee.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${p}' (used as the orderBy) does not exist.`)}c.push(h)}return new ac(c,u)}(t._query,t.firestore._databaseId,e,n[0]._document,r);{const i=vf(t.firestore);return function(o,a,l,u,c,d){const h=o.explicitOrderBy;if(c.length>h.length)throw new Ke(Ee.INVALID_ARGUMENT,`Too many arguments provided to ${u}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const p=[];for(let m=0;m<c.length;m++){const g=c[m];if(h[m].field.isKeyField()){if(typeof g!="string")throw new Ke(Ee.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${u}(), but got a ${typeof g}`);if(!vw(o)&&g.indexOf("/")!==-1)throw new Ke(Ee.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${u}() must be a plain document ID, but '${g}' contains a slash.`);const y=o.path.child(yn.fromString(g));if(!dt.isDocumentKey(y))throw new Ke(Ee.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${u}() must result in a valid document path, but '${y}' is not because it contains an odd number of segments.`);const P=new dt(y);p.push(Am(a,P))}else{const y=RD(l,u,g);p.push(y)}}return new ac(p,d)}(t._query,t.firestore._databaseId,i,e,n,r)}}function kI(t,e,n){if(typeof(n=Zt(n))=="string"){if(n==="")throw new Ke(Ee.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!vw(e)&&n.indexOf("/")!==-1)throw new Ke(Ee.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(yn.fromString(n));if(!dt.isDocumentKey(r))throw new Ke(Ee.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Am(t,new dt(r))}if(n instanceof ri)return Am(t,n._key);throw new Ke(Ee.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${tv(n)}.`)}function RI(t,e){if(!Array.isArray(t)||t.length===0)throw new Ke(Ee.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function VD(t,e){const n=function(i,s){for(const o of i)for(const a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new Ke(Ee.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Ke(Ee.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class GB{convertValue(e,n="none"){switch(Ol(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Zn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Pl(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw yt()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Bl(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertVectorValue(e){var n,r,i;const s=(i=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(o=>Zn(o.doubleValue));return new Uw(s)}convertGeoPoint(e){return new Fw(Zn(e.latitude),Zn(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=fw(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Eh(e));default:return null}}convertTimestamp(e){const n=Ca(e);return new Mn(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=yn.fromString(e);mn(sD(r));const i=new Sh(r.get(1),r.get(3)),s=new dt(r.popFirst(5));return i.isEqual(n)||So(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $D(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cd{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class FD extends Hw{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Hp(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(ov("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Hp extends FD{data(e={}){return super.data(e)}}class UD{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Cd(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Hp(this._firestore,this._userDataWriter,r.key,r,new Cd(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Ke(Ee.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{const l=new Hp(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Cd(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{const l=new Hp(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Cd(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,c=-1;return a.type!==0&&(u=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),c=o.indexOf(a.doc.key)),{type:YB(a.type),doc:l,oldIndex:u,newIndex:c}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function YB(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return yt()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XB(t){t=Ai(t,ri);const e=Ai(t.firestore,Co);return RB(rv(e),t._key).then(n=>qD(e,t,n))}class Xw extends GB{constructor(e){super(),this.firestore=e}convertBytes(e){return new cc(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new ri(this.firestore,null,n)}}function QB(t){t=Ai(t,Xs);const e=Ai(t.firestore,Co),n=rv(e),r=new Xw(e);return MD(t._query),xB(n,t._query).then(i=>new UD(e,r,t,i))}function JB(t,e,n){t=Ai(t,ri);const r=Ai(t.firestore,Co),i=$D(t.converter,e,n);return uv(r,[kD(vf(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,Qi.none())])}function ZB(t,e,n,...r){t=Ai(t,ri);const i=Ai(t.firestore,Co),s=vf(i);let o;return o=typeof(e=Zt(e))=="string"||e instanceof iv?BB(s,"updateDoc",t._key,e,n,r):qB(s,"updateDoc",t._key,e),uv(i,[o.toMutation(t._key,Qi.exists(!0))])}function ej(t){return uv(Ai(t.firestore,Co),[new bw(t._key,Qi.none())])}function tj(t,e){const n=Ai(t.firestore,Co),r=Qt(t),i=$D(t.converter,e);return uv(n,[kD(vf(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Qi.exists(!1))]).then(()=>r)}function Ad(t,...e){var n,r,i;t=Zt(t);let s={includeMetadataChanges:!1,source:"default"},o=0;typeof e[o]!="object"||PI(e[o])||(s=e[o],o++);const a={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if(PI(e[o])){const d=e[o];e[o]=(n=d.next)===null||n===void 0?void 0:n.bind(d),e[o+1]=(r=d.error)===null||r===void 0?void 0:r.bind(d),e[o+2]=(i=d.complete)===null||i===void 0?void 0:i.bind(d)}let l,u,c;if(t instanceof ri)u=Ai(t.firestore,Co),c=zg(t._key.path),l={next:d=>{e[o]&&e[o](qD(u,t,d))},error:e[o+1],complete:e[o+2]};else{const d=Ai(t,Xs);u=Ai(d.firestore,Co),c=d._query;const h=new Xw(u);l={next:p=>{e[o]&&e[o](new UD(u,h,d,p))},error:e[o+1],complete:e[o+2]},MD(t._query)}return function(h,p,m,g){const y=new Vw(g),P=new Mw(p,y,m);return h.asyncQueue.enqueueAndForget(async()=>xw(await Dm(h),P)),()=>{y.za(),h.asyncQueue.enqueueAndForget(async()=>Dw(await Dm(h),P))}}(rv(u),c,a,l)}function uv(t,e){return function(r,i){const s=new bo;return r.asyncQueue.enqueueAndForget(async()=>yB(await kB(r),i,s)),s.promise}(rv(t),e)}function qD(t,e,n){const r=n.docs.get(e._key),i=new Xw(t);return new FD(t,i,e._key,r,new Cd(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){Rc=i})(Na),Oi(new mi("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new Co(new Qq(r.getProvider("auth-internal")),new t9(r.getProvider("app-check-internal")),function(u,c){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new Ke(Ee.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Sh(u.options.projectId,c)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),Vr(zS,"4.7.0",e),Vr(zS,"4.7.0","esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BD="firebasestorage.googleapis.com",jD="storageBucket",nj=2*60*1e3,rj=10*60*1e3,ij=1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hn extends Bi{constructor(e,n,r=0){super(Ty(e),`Firebase Storage: ${n} (${Ty(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Hn.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Ty(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var On;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(On||(On={}));function Ty(t){return"storage/"+t}function Qw(){const t="An unknown error occurred, please check the error payload for server response.";return new Hn(On.UNKNOWN,t)}function sj(t){return new Hn(On.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function oj(t){return new Hn(On.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function aj(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Hn(On.UNAUTHENTICATED,t)}function lj(){return new Hn(On.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function uj(t){return new Hn(On.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function HD(){return new Hn(On.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function WD(){return new Hn(On.CANCELED,"User canceled the upload/download.")}function cj(t){return new Hn(On.INVALID_URL,"Invalid URL '"+t+"'.")}function dj(t){return new Hn(On.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function hj(){return new Hn(On.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+jD+"' property when initializing the app?")}function zD(){return new Hn(On.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function fj(){return new Hn(On.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}function pj(){return new Hn(On.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function mj(t){return new Hn(On.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function v0(t){return new Hn(On.INVALID_ARGUMENT,t)}function KD(){return new Hn(On.APP_DELETED,"The Firebase app was deleted.")}function gj(t){return new Hn(On.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function zd(t,e){return new Hn(On.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function rd(t){throw new Hn(On.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mi{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=Mi.makeFromUrl(e,n)}catch{return new Mi(e,"")}if(r.path==="")return r;throw dj(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function s(T){T.path.charAt(T.path.length-1)==="/"&&(T.path_=T.path_.slice(0,-1))}const o="(/(.*))?$",a=new RegExp("^gs://"+i+o,"i"),l={bucket:1,path:3};function u(T){T.path_=decodeURIComponent(T.path)}const c="v[A-Za-z0-9_]+",d=n.replace(/[.]/g,"\\."),h="(/([^?#]*).*)?$",p=new RegExp(`^https?://${d}/${c}/b/${i}/o${h}`,"i"),m={bucket:1,path:3},g=n===BD?"(?:storage.googleapis.com|storage.cloud.google.com)":n,y="([^?#]*)",P=new RegExp(`^https?://${g}/${i}/${y}`,"i"),S=[{regex:a,indices:l,postModify:s},{regex:p,indices:m,postModify:u},{regex:P,indices:{bucket:1,path:2},postModify:u}];for(let T=0;T<S.length;T++){const M=S[T],R=M.regex.exec(e);if(R){const C=R[M.indices.bucket];let E=R[M.indices.path];E||(E=""),r=new Mi(C,E),M.postModify(r);break}}if(r==null)throw cj(e);return r}}class vj{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yj(t,e,n){let r=1,i=null,s=null,o=!1,a=0;function l(){return a===2}let u=!1;function c(...y){u||(u=!0,e.apply(null,y))}function d(y){i=setTimeout(()=>{i=null,t(p,l())},y)}function h(){s&&clearTimeout(s)}function p(y,...P){if(u){h();return}if(y){h(),c.call(null,y,...P);return}if(l()||o){h(),c.call(null,y,...P);return}r<64&&(r*=2);let S;a===1?(a=2,S=0):S=(r+Math.random())*1e3,d(S)}let m=!1;function g(y){m||(m=!0,h(),!u&&(i!==null?(y||(a=2),clearTimeout(i),d(0)):y||(a=1)))}return d(0),s=setTimeout(()=>{o=!0,g(!0)},n),g}function bj(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _j(t){return t!==void 0}function wj(t){return typeof t=="function"}function Tj(t){return typeof t=="object"&&!Array.isArray(t)}function cv(t){return typeof t=="string"||t instanceof String}function xI(t){return Jw()&&t instanceof Blob}function Jw(){return typeof Blob<"u"}function DI(t,e,n,r){if(r<e)throw v0(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw v0(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nc(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function GD(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}var fl;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(fl||(fl={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YD(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,s=e.indexOf(t)!==-1;return n||i||s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ej{constructor(e,n,r,i,s,o,a,l,u,c,d,h=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=l,this.timeout_=u,this.progressCallback_=c,this.connectionFactory_=d,this.retry=h,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((p,m)=>{this.resolve_=p,this.reject_=m,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new mp(!1,null,!0));return}const s=this.connectionFactory_();this.pendingConnection_=s;const o=a=>{const l=a.loaded,u=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,u)};this.progressCallback_!==null&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(o),this.pendingConnection_=null;const a=s.getErrorCode()===fl.NO_ERROR,l=s.getStatus();if(!a||YD(l,this.additionalRetryCodes_)&&this.retry){const c=s.getErrorCode()===fl.ABORT;r(!1,new mp(!1,null,c));return}const u=this.successCodes_.indexOf(l)!==-1;r(!0,new mp(u,s))})},n=(r,i)=>{const s=this.resolve_,o=this.reject_,a=i.connection;if(i.wasSuccessCode)try{const l=this.callback_(a,a.getResponse());_j(l)?s(l):s()}catch(l){o(l)}else if(a!==null){const l=Qw();l.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,l)):o(l)}else if(i.canceled){const l=this.appDelete_?KD():WD();o(l)}else{const l=HD();o(l)}};this.canceled_?n(!1,new mp(!1,null,!0)):this.backoffId_=yj(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&bj(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class mp{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function Sj(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function Ij(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function Cj(t,e){e&&(t["X-Firebase-GMPID"]=e)}function Aj(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function Pj(t,e,n,r,i,s,o=!0){const a=GD(t.urlParams),l=t.url+a,u=Object.assign({},t.headers);return Cj(u,e),Sj(u,n),Ij(u,s),Aj(u,r),new Ej(l,t.method,u,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oj(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function kj(...t){const e=Oj();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(Jw())return new Blob(t);throw new Hn(On.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function Rj(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xj(t){if(typeof atob>"u")throw mj("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xs={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Ey{constructor(e,n){this.data=e,this.contentType=n||null}}function Dj(t,e){switch(t){case xs.RAW:return new Ey(XD(e));case xs.BASE64:case xs.BASE64URL:return new Ey(QD(t,e));case xs.DATA_URL:return new Ey(Mj(e),Lj(e))}throw Qw()}function XD(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const s=r,o=t.charCodeAt(++n);r=65536|(s&1023)<<10|o&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function Nj(t){let e;try{e=decodeURIComponent(t)}catch{throw zd(xs.DATA_URL,"Malformed data URL.")}return XD(e)}function QD(t,e){switch(t){case xs.BASE64:{const i=e.indexOf("-")!==-1,s=e.indexOf("_")!==-1;if(i||s)throw zd(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case xs.BASE64URL:{const i=e.indexOf("+")!==-1,s=e.indexOf("/")!==-1;if(i||s)throw zd(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=xj(e)}catch(i){throw i.message.includes("polyfill")?i:zd(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class JD{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw zd(xs.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=Vj(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function Mj(t){const e=new JD(t);return e.base64?QD(xs.BASE64,e.rest):Nj(e.rest)}function Lj(t){return new JD(t).contentType}function Vj(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ea{constructor(e,n){let r=0,i="";xI(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,n){if(xI(this.data_)){const r=this.data_,i=Rj(r,e,n);return i===null?null:new ea(i)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new ea(r,!0)}}static getBlob(...e){if(Jw()){const n=e.map(r=>r instanceof ea?r.data_:r);return new ea(kj.apply(null,n))}else{const n=e.map(o=>cv(o)?Dj(xs.RAW,o).data:o.data_);let r=0;n.forEach(o=>{r+=o.byteLength});const i=new Uint8Array(r);let s=0;return n.forEach(o=>{for(let a=0;a<o.length;a++)i[s++]=o[a]}),new ea(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZD(t){let e;try{e=JSON.parse(t)}catch{return null}return Tj(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $j(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function Fj(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function e2(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uj(t,e){return e}class li{constructor(e,n,r,i){this.server=e,this.local=n||e,this.writable=!!r,this.xform=i||Uj}}let gp=null;function qj(t){return!cv(t)||t.length<2?t:e2(t)}function t2(){if(gp)return gp;const t=[];t.push(new li("bucket")),t.push(new li("generation")),t.push(new li("metageneration")),t.push(new li("name","fullPath",!0));function e(s,o){return qj(o)}const n=new li("name");n.xform=e,t.push(n);function r(s,o){return o!==void 0?Number(o):o}const i=new li("size");return i.xform=r,t.push(i),t.push(new li("timeCreated")),t.push(new li("updated")),t.push(new li("md5Hash",null,!0)),t.push(new li("cacheControl",null,!0)),t.push(new li("contentDisposition",null,!0)),t.push(new li("contentEncoding",null,!0)),t.push(new li("contentLanguage",null,!0)),t.push(new li("contentType",null,!0)),t.push(new li("metadata","customMetadata",!0)),gp=t,gp}function Bj(t,e){function n(){const r=t.bucket,i=t.fullPath,s=new Mi(r,i);return e._makeStorageReference(s)}Object.defineProperty(t,"ref",{get:n})}function jj(t,e,n){const r={};r.type="file";const i=n.length;for(let s=0;s<i;s++){const o=n[s];r[o.local]=o.xform(r,e[o.server])}return Bj(r,t),r}function n2(t,e,n){const r=ZD(e);return r===null?null:jj(t,r,n)}function Hj(t,e,n,r){const i=ZD(e);if(i===null||!cv(i.downloadTokens))return null;const s=i.downloadTokens;if(s.length===0)return null;const o=encodeURIComponent;return s.split(",").map(u=>{const c=t.bucket,d=t.fullPath,h="/b/"+o(c)+"/o/"+o(d),p=Nc(h,n,r),m=GD({alt:"media",token:u});return p+m})[0]}function r2(t,e){const n={},r=e.length;for(let i=0;i<r;i++){const s=e[i];s.writable&&(n[s.server]=t[s.local])}return JSON.stringify(n)}class Wl{constructor(e,n,r,i){this.url=e,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _o(t){if(!t)throw Qw()}function Zw(t,e){function n(r,i){const s=n2(t,i,e);return _o(s!==null),s}return n}function Wj(t,e){function n(r,i){const s=n2(t,i,e);return _o(s!==null),Hj(s,i,t.host,t._protocol)}return n}function bf(t){function e(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=lj():i=aj():n.getStatus()===402?i=oj(t.bucket):n.getStatus()===403?i=uj(t.path):i=r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}return e}function e1(t){const e=bf(t);function n(r,i){let s=e(r,i);return r.getStatus()===404&&(s=sj(t.path)),s.serverResponse=i.serverResponse,s}return n}function zj(t,e,n){const r=e.fullServerUrl(),i=Nc(r,t.host,t._protocol),s="GET",o=t.maxOperationRetryTime,a=new Wl(i,s,Zw(t,n),o);return a.errorHandler=e1(e),a}function Kj(t,e,n){const r=e.fullServerUrl(),i=Nc(r,t.host,t._protocol),s="GET",o=t.maxOperationRetryTime,a=new Wl(i,s,Wj(t,n),o);return a.errorHandler=e1(e),a}function Gj(t,e){const n=e.fullServerUrl(),r=Nc(n,t.host,t._protocol),i="DELETE",s=t.maxOperationRetryTime;function o(l,u){}const a=new Wl(r,i,o,s);return a.successCodes=[200,204],a.errorHandler=e1(e),a}function Yj(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function i2(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=Yj(null,e)),r}function Xj(t,e,n,r,i){const s=e.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};function a(){let S="";for(let T=0;T<2;T++)S=S+Math.random().toString().slice(2);return S}const l=a();o["Content-Type"]="multipart/related; boundary="+l;const u=i2(e,r,i),c=r2(u,n),d="--"+l+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+c+`\r
--`+l+`\r
Content-Type: `+u.contentType+`\r
\r
`,h=`\r
--`+l+"--",p=ea.getBlob(d,r,h);if(p===null)throw zD();const m={name:u.fullPath},g=Nc(s,t.host,t._protocol),y="POST",P=t.maxUploadRetryTime,I=new Wl(g,y,Zw(t,n),P);return I.urlParams=m,I.headers=o,I.body=p.uploadData(),I.errorHandler=bf(e),I}class Mm{constructor(e,n,r,i){this.current=e,this.total=n,this.finalized=!!r,this.metadata=i||null}}function t1(t,e){let n=null;try{n=t.getResponseHeader("X-Goog-Upload-Status")}catch{_o(!1)}return _o(!!n&&(e||["active"]).indexOf(n)!==-1),n}function Qj(t,e,n,r,i){const s=e.bucketOnlyServerUrl(),o=i2(e,r,i),a={name:o.fullPath},l=Nc(s,t.host,t._protocol),u="POST",c={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${r.size()}`,"X-Goog-Upload-Header-Content-Type":o.contentType,"Content-Type":"application/json; charset=utf-8"},d=r2(o,n),h=t.maxUploadRetryTime;function p(g){t1(g);let y;try{y=g.getResponseHeader("X-Goog-Upload-URL")}catch{_o(!1)}return _o(cv(y)),y}const m=new Wl(l,u,p,h);return m.urlParams=a,m.headers=c,m.body=d,m.errorHandler=bf(e),m}function Jj(t,e,n,r){const i={"X-Goog-Upload-Command":"query"};function s(u){const c=t1(u,["active","final"]);let d=null;try{d=u.getResponseHeader("X-Goog-Upload-Size-Received")}catch{_o(!1)}d||_o(!1);const h=Number(d);return _o(!isNaN(h)),new Mm(h,r.size(),c==="final")}const o="POST",a=t.maxUploadRetryTime,l=new Wl(n,o,s,a);return l.headers=i,l.errorHandler=bf(e),l}const NI=256*1024;function Zj(t,e,n,r,i,s,o,a){const l=new Mm(0,0);if(o?(l.current=o.current,l.total=o.total):(l.current=0,l.total=r.size()),r.size()!==l.total)throw fj();const u=l.total-l.current;let c=u;i>0&&(c=Math.min(c,i));const d=l.current,h=d+c;let p="";c===0?p="finalize":u===c?p="upload, finalize":p="upload";const m={"X-Goog-Upload-Command":p,"X-Goog-Upload-Offset":`${l.current}`},g=r.slice(d,h);if(g===null)throw zD();function y(T,M){const R=t1(T,["active","final"]),C=l.current+c,E=r.size();let b;return R==="final"?b=Zw(e,s)(T,M):b=null,new Mm(C,E,R==="final",b)}const P="POST",I=e.maxUploadRetryTime,S=new Wl(n,P,y,I);return S.headers=m,S.body=g.uploadData(),S.progressCallback=a||null,S.errorHandler=bf(t),S}const bi={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function Sy(t){switch(t){case"running":case"pausing":case"canceling":return bi.RUNNING;case"paused":return bi.PAUSED;case"success":return bi.SUCCESS;case"canceled":return bi.CANCELED;case"error":return bi.ERROR;default:return bi.ERROR}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e7{constructor(e,n,r){if(wj(e)||n!=null||r!=null)this.next=e,this.error=n??void 0,this.complete=r??void 0;else{const s=e;this.next=s.next,this.error=s.error,this.complete=s.complete}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tu(t){return(...e)=>{Promise.resolve().then(()=>t(...e))}}class t7{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=fl.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=fl.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=fl.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,i){if(this.sent_)throw rd("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),i!==void 0)for(const s in i)i.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,i[s].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw rd("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw rd("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw rd("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw rd("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class n7 extends t7{initXhr(){this.xhr_.responseType="text"}}function nl(){return new n7}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r7{constructor(e,n,r=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=n,this._metadata=r,this._mappings=t2(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=i=>{if(this._request=void 0,this._chunkMultiplier=1,i._codeEquals(On.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const s=this.isExponentialBackoffExpired();if(YD(i.status,[]))if(s)i=HD();else{this.sleepTime=Math.max(this.sleepTime*2,ij),this._needToFetchStatus=!0,this.completeTransitions_();return}this._error=i,this._transition("error")}},this._metadataErrorHandler=i=>{this._request=void 0,i._codeEquals(On.CANCELED)?this.completeTransitions_():(this._error=i,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((i,s)=>{this._resolve=i,this._reject=s,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const e=this._transferred;return n=>this._updateProgress(e+n)}_shouldDoResumable(e){return e.size()>256*1024}_start(){this._state==="running"&&this._request===void 0&&(this._resumable?this._uploadUrl===void 0?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([n,r])=>{switch(this._state){case"running":e(n,r);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused");break}})}_createResumable(){this._resolveToken((e,n)=>{const r=Qj(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(r,nl,e,n);this._request=i,i.getPromise().then(s=>{this._request=void 0,this._uploadUrl=s,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const e=this._uploadUrl;this._resolveToken((n,r)=>{const i=Jj(this._ref.storage,this._ref._location,e,this._blob),s=this._ref.storage._makeRequest(i,nl,n,r);this._request=s,s.getPromise().then(o=>{o=o,this._request=void 0,this._updateProgress(o.current),this._needToFetchStatus=!1,o.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const e=NI*this._chunkMultiplier,n=new Mm(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((i,s)=>{let o;try{o=Zj(this._ref._location,this._ref.storage,r,this._blob,e,this._mappings,n,this._makeProgressCallback())}catch(l){this._error=l,this._transition("error");return}const a=this._ref.storage._makeRequest(o,nl,i,s,!1);this._request=a,a.getPromise().then(l=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(l.current),l.finalized?(this._metadata=l.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){NI*this._chunkMultiplier*2<32*1024*1024&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,n)=>{const r=zj(this._ref.storage,this._ref._location,this._mappings),i=this._ref.storage._makeRequest(r,nl,e,n);this._request=i,i.getPromise().then(s=>{this._request=void 0,this._metadata=s,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,n)=>{const r=Xj(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(r,nl,e,n);this._request=i,i.getPromise().then(s=>{this._request=void 0,this._metadata=s,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){const n=this._transferred;this._transferred=e,this._transferred!==n&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,this._request!==void 0?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const n=this._state==="paused";this._state=e,n&&(this._notifyObservers(),this._start());break;case"paused":this._state=e,this._notifyObservers();break;case"canceled":this._error=WD(),this._state=e,this._notifyObservers();break;case"error":this._state=e,this._notifyObservers();break;case"success":this._state=e,this._notifyObservers();break}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start();break}}get snapshot(){const e=Sy(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,n,r,i){const s=new e7(n||void 0,r||void 0,i||void 0);return this._addObserver(s),()=>{this._removeObserver(s)}}then(e,n){return this._promise.then(e,n)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const n=this._observers.indexOf(e);n!==-1&&this._observers.splice(n,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(n=>{this._notifyObserver(n)})}_finishPromise(){if(this._resolve!==void 0){let e=!0;switch(Sy(this._state)){case bi.SUCCESS:tu(this._resolve.bind(null,this.snapshot))();break;case bi.CANCELED:case bi.ERROR:const n=this._reject;tu(n.bind(null,this._error))();break;default:e=!1;break}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(Sy(this._state)){case bi.RUNNING:case bi.PAUSED:e.next&&tu(e.next.bind(e,this.snapshot))();break;case bi.SUCCESS:e.complete&&tu(e.complete.bind(e))();break;case bi.CANCELED:case bi.ERROR:e.error&&tu(e.error.bind(e,this._error))();break;default:e.error&&tu(e.error.bind(e,this._error))()}}resume(){const e=this._state==="paused"||this._state==="pausing";return e&&this._transition("running"),e}pause(){const e=this._state==="running";return e&&this._transition("pausing"),e}cancel(){const e=this._state==="running"||this._state==="pausing";return e&&this._transition("canceling"),e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kl{constructor(e,n){this._service=e,n instanceof Mi?this._location=n:this._location=Mi.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new kl(e,n)}get root(){const e=new Mi(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return e2(this._location.path)}get storage(){return this._service}get parent(){const e=$j(this._location.path);if(e===null)return null;const n=new Mi(this._location.bucket,e);return new kl(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw gj(e)}}function i7(t,e,n){return t._throwIfRoot("uploadBytesResumable"),new r7(t,new ea(e),n)}function s7(t){t._throwIfRoot("getDownloadURL");const e=Kj(t.storage,t._location,t2());return t.storage.makeRequestWithTokens(e,nl).then(n=>{if(n===null)throw pj();return n})}function o7(t){t._throwIfRoot("deleteObject");const e=Gj(t.storage,t._location);return t.storage.makeRequestWithTokens(e,nl)}function a7(t,e){const n=Fj(t._location.path,e),r=new Mi(t._location.bucket,n);return new kl(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l7(t){return/^[A-Za-z]+:\/\//.test(t)}function u7(t,e){return new kl(t,e)}function s2(t,e){if(t instanceof n1){const n=t;if(n._bucket==null)throw hj();const r=new kl(n,n._bucket);return e!=null?s2(r,e):r}else return e!==void 0?a7(t,e):t}function c7(t,e){if(e&&l7(e)){if(t instanceof n1)return u7(t,e);throw v0("To use ref(service, url), the first argument must be a Storage instance.")}else return s2(t,e)}function MI(t,e){const n=e==null?void 0:e[jD];return n==null?null:Mi.makeFromBucketSpec(n,t)}function d7(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:i}=r;i&&(t._overrideAuthToken=typeof i=="string"?i:bR(i,t.app.options.projectId))}class n1{constructor(e,n,r,i,s){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._bucket=null,this._host=BD,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=nj,this._maxUploadRetryTime=rj,this._requests=new Set,i!=null?this._bucket=Mi.makeFromBucketSpec(i,this._host):this._bucket=MI(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Mi.makeFromBucketSpec(this._url,e):this._bucket=MI(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){DI("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){DI("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new kl(this,e)}_makeRequest(e,n,r,i,s=!0){if(this._deleted)return new vj(KD());{const o=Pj(e,this._appId,r,i,n,this._firebaseVersion,s);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const LI="@firebase/storage",VI="0.13.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o2="storage";function h7(t,e,n){return t=Zt(t),i7(t,e,n)}function f7(t){return t=Zt(t),s7(t)}function p7(t){return t=Zt(t),o7(t)}function m7(t,e){return t=Zt(t),c7(t,e)}function g7(t=kc(),e){t=Zt(t);const r=Ys(t,o2).getImmediate({identifier:e}),i=gR("storage");return i&&v7(r,...i),r}function v7(t,e,n,r={}){d7(t,e,n,r)}function y7(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new n1(n,r,i,e,Na)}function b7(){Oi(new mi(o2,y7,"PUBLIC").setMultipleInstances(!0)),Vr(LI,VI,""),Vr(LI,VI,"esm2017")}b7();let vp;const _7=new Uint8Array(16);function w7(){if(!vp&&(vp=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!vp))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return vp(_7)}const Rr=[];for(let t=0;t<256;++t)Rr.push((t+256).toString(16).slice(1));function T7(t,e=0){return Rr[t[e+0]]+Rr[t[e+1]]+Rr[t[e+2]]+Rr[t[e+3]]+"-"+Rr[t[e+4]]+Rr[t[e+5]]+"-"+Rr[t[e+6]]+Rr[t[e+7]]+"-"+Rr[t[e+8]]+Rr[t[e+9]]+"-"+Rr[t[e+10]]+Rr[t[e+11]]+Rr[t[e+12]]+Rr[t[e+13]]+Rr[t[e+14]]+Rr[t[e+15]]}const E7=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),$I={randomUUID:E7};function r1(t,e,n){if($I.randomUUID&&!e&&!t)return $I.randomUUID();t=t||{};const r=t.random||(t.rng||w7)();if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,e){n=n||0;for(let i=0;i<16;++i)e[n+i]=r[i];return e}return T7(r)}const a2=1e3,y0=a2*60,b0=y0*60,Lm=b0*24,Vm=Lm*365,l2=async t=>{const e=await XB(t),n=e.data();return n?{id:e.id,...n}:null},za=async(t,e)=>{const n=await QB(e?LD(t,...e):t);return Promise.all(n.docs.map(r=>l2(r.ref)))},Ki=l2,S7=tj,$m=JB,lo=ZB,Pd=ej,_0=t=>m7(g7(),t),FI=t=>t.sort((e,n)=>{const r=(n.order||0)-(e.order||0);return r!==0?r:e.date&&n.date?n.date.getTime()-e.date.getTime():0}),I7=(t,e,n,r)=>{setTimeout(()=>{t.forEach((i,s)=>{setTimeout(()=>{r(i)},s*n)})},e)},gs=(t,e)=>{if(!t||!e)return!1;for(const n in t){const r=t[n],i=e[n];if(r===void 0||i===void 0)return!1;if(r===null&&i===null)continue;if(Array.isArray(r)&&Array.isArray(i)){if(r.length!==i.length)return!1;const s=r.slice(),o=i.slice();if(s.some((a,l)=>!gs(a,o[l])||o.some((u,c)=>!gs(u,s[c]))))return!1}else if(r instanceof Date&&i instanceof Date){if(r.getTime()!==i.getTime())return!1}else if(typeof r=="object"){if(!gs(r,i))return!1}else if(r!==i)return!1}return!0},dc=t=>{try{const e=Math.round((Date.now()-t.getTime())/1e3);if(e<30)return"Just now";if(e<60)return`${e} second${e!==1?"s":""} ago`;if(e<60*60){const n=Math.floor(e/60);return`${n} minute${n!==1?"s":""} ago`}else if(e<60*60*24){const n=Math.floor(e/3600);return`${n} hour${n!==1?"s":""} ago`}else{if(e<60*60*24*2)return"Yesterday";{const r=new Date().getTime()-t.getTime(),i=r/Vm,o=r%Vm/Lm,a=i<=1?{month:"long",day:"numeric"}:{year:"numeric",month:"long",day:"numeric"},l=t.toLocaleDateString(void 0,a);if(o<=7){const u={weekday:"long"};return t.toLocaleDateString(void 0,u)}else return l}}}catch{return"Unknown"}},Wp=(t,e)=>{if(t){var n=t.getBoundingClientRect().top,r=n+window.scrollY-15;setTimeout(()=>{window.scrollTo({top:r,behavior:"smooth"})},e??1e3)}},ar=t=>{var n;const e=(n=t.originalEvent.currentTarget)==null?void 0:n.closest(".p-accordion");if(e){const r=e.children[t.index];r&&setTimeout(()=>{r.scrollIntoView({behavior:"smooth",block:"start"})},250)}},C7=()=>{var r;const t=document.createElement("div");t.style.visibility="hidden",t.style.overflow="scroll",document.body.appendChild(t);const e=document.createElement("div");t.appendChild(e);const n=t.offsetWidth-e.offsetWidth;return(r=t.parentNode)==null||r.removeChild(t),n},ao=t=>{var n;const e=!!((n=t==null?void 0:t.allowedUserIds)!=null&&n.length);return{isPrivate:e,visibility:e?"private":"public"}},Xa=t=>Array.isArray(t)?t:[t],A7=()=>{const t=document.activeElement;t instanceof HTMLElement&&t.blur()},w0=t=>t.join(", ").replace(/,([^,]*)$/," and$1"),u2=t=>{const e="&row&",n=";col;";return t.split(e).map(s=>s.split(n))},UI=t=>{const e="&row&",n=";col;";return t.map(s=>s.join(n)).join(e)},c2=()=>r1();function i1(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function d2(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const P7=d2,h2=new Da("auth","Firebase",d2());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fm=new Oc("@firebase/auth");function O7(t,...e){Fm.logLevel<=xt.WARN&&Fm.warn(`Auth (${Na}): ${t}`,...e)}function zp(t,...e){Fm.logLevel<=xt.ERROR&&Fm.error(`Auth (${Na}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Es(t,...e){throw s1(t,...e)}function Fs(t,...e){return s1(t,...e)}function f2(t,e,n){const r=Object.assign(Object.assign({},P7()),{[e]:n});return new Da("auth","Firebase",r).create(e,{appName:t.name})}function Us(t){return f2(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function s1(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return h2.create(t,...e)}function ft(t,e,...n){if(!t)throw s1(e,...n)}function ho(t){const e="INTERNAL ASSERTION FAILED: "+t;throw zp(e),new Error(e)}function Ao(t,e){t||ho(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T0(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function k7(){return qI()==="http:"||qI()==="https:"}function qI(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R7(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(k7()||_R()||"connection"in navigator)?navigator.onLine:!0}function x7(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _f{constructor(e,n){this.shortDelay=e,this.longDelay=n,Ao(n>e,"Short delay should be less than long delay!"),this.isMobile=J_()||wR()}get(){return R7()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o1(t,e){Ao(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p2{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ho("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ho("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ho("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D7={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N7=new _f(3e4,6e4);function Ro(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Qs(t,e,n,r,i={}){return m2(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const a=Pc(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode),p2.fetch()(g2(t,t.config.apiHost,n,a),Object.assign({method:e,headers:l,referrerPolicy:"no-referrer"},s))})}async function m2(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},D7),e);try{const i=new L7(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw yp(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,u]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw yp(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw yp(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw yp(t,"user-disabled",o);const c=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw f2(t,c,u);Es(t,c)}}catch(i){if(i instanceof Bi)throw i;Es(t,"network-request-failed",{message:String(i)})}}async function wf(t,e,n,r,i={}){const s=await Qs(t,e,n,r,i);return"mfaPendingCredential"in s&&Es(t,"multi-factor-auth-required",{_serverResponse:s}),s}function g2(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?o1(t.config,i):`${t.config.apiScheme}://${i}`}function M7(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class L7{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Fs(this.auth,"network-request-failed")),N7.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function yp(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Fs(t,e,r);return i.customData._tokenResponse=n,i}function BI(t){return t!==void 0&&t.enterprise!==void 0}class V7{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return M7(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function $7(t,e){return Qs(t,"GET","/v2/recaptchaConfig",Ro(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function F7(t,e){return Qs(t,"POST","/v1/accounts:delete",e)}async function v2(t,e){return Qs(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kd(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function U7(t,e=!1){const n=Zt(t),r=await n.getIdToken(e),i=a1(r);ft(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:Kd(Iy(i.auth_time)),issuedAtTime:Kd(Iy(i.iat)),expirationTime:Kd(Iy(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function Iy(t){return Number(t)*1e3}function a1(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return zp("JWT malformed, contained fewer than 3 sections"),null;try{const i=wm(n);return i?JSON.parse(i):(zp("Failed to decode base64 JWT payload"),null)}catch(i){return zp("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function jI(t){const e=a1(t);return ft(e,"internal-error"),ft(typeof e.exp<"u","internal-error"),ft(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hc(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Bi&&q7(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function q7({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B7{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E0{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Kd(this.lastLoginAt),this.creationTime=Kd(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Um(t){var e;const n=t.auth,r=await t.getIdToken(),i=await hc(t,v2(n,{idToken:r}));ft(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?y2(s.providerUserInfo):[],a=H7(t.providerData,o),l=t.isAnonymous,u=!(t.email&&s.passwordHash)&&!(a!=null&&a.length),c=l?u:!1,d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new E0(s.createdAt,s.lastLoginAt),isAnonymous:c};Object.assign(t,d)}async function j7(t){const e=Zt(t);await Um(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function H7(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function y2(t){return t.map(e=>{var{providerId:n}=e,r=i1(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function W7(t,e){const n=await m2(t,{},async()=>{const r=Pc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=g2(t,i,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",p2.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function z7(t,e){return Qs(t,"POST","/v2/accounts:revokeToken",Ro(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qu{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ft(e.idToken,"internal-error"),ft(typeof e.idToken<"u","internal-error"),ft(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):jI(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ft(e.length!==0,"internal-error");const n=jI(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ft(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await W7(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new qu;return r&&(ft(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(ft(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(ft(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new qu,this.toJSON())}_performRefresh(){return ho("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uo(t,e){ft(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class fo{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=i1(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new B7(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new E0(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await hc(this,this.stsTokenManager.getToken(this.auth,e));return ft(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return U7(this,e)}reload(){return j7(this)}_assign(e){this!==e&&(ft(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new fo(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){ft(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Um(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(fs(this.auth.app))return Promise.reject(Us(this.auth));const e=await this.getIdToken();return await hc(this,F7(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,l,u,c;const d=(r=n.displayName)!==null&&r!==void 0?r:void 0,h=(i=n.email)!==null&&i!==void 0?i:void 0,p=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,m=(o=n.photoURL)!==null&&o!==void 0?o:void 0,g=(a=n.tenantId)!==null&&a!==void 0?a:void 0,y=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,P=(u=n.createdAt)!==null&&u!==void 0?u:void 0,I=(c=n.lastLoginAt)!==null&&c!==void 0?c:void 0,{uid:S,emailVerified:T,isAnonymous:M,providerData:R,stsTokenManager:C}=n;ft(S&&C,e,"internal-error");const E=qu.fromJSON(this.name,C);ft(typeof S=="string",e,"internal-error"),Uo(d,e.name),Uo(h,e.name),ft(typeof T=="boolean",e,"internal-error"),ft(typeof M=="boolean",e,"internal-error"),Uo(p,e.name),Uo(m,e.name),Uo(g,e.name),Uo(y,e.name),Uo(P,e.name),Uo(I,e.name);const b=new fo({uid:S,auth:e,email:h,emailVerified:T,displayName:d,isAnonymous:M,photoURL:m,phoneNumber:p,tenantId:g,stsTokenManager:E,createdAt:P,lastLoginAt:I});return R&&Array.isArray(R)&&(b.providerData=R.map(w=>Object.assign({},w))),y&&(b._redirectEventId=y),b}static async _fromIdTokenResponse(e,n,r=!1){const i=new qu;i.updateFromServerResponse(n);const s=new fo({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Um(s),s}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];ft(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?y2(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),a=new qu;a.updateFromIdToken(r);const l=new fo({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:o}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new E0(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(l,u),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HI=new Map;function po(t){Ao(t instanceof Function,"Expected a class definition");let e=HI.get(t);return e?(Ao(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,HI.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b2{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}b2.type="NONE";const WI=b2;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kp(t,e,n){return`firebase:${t}:${e}:${n}`}class Bu{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Kp(this.userKey,i.apiKey,s),this.fullPersistenceKey=Kp("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?fo._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Bu(po(WI),e,r);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let s=i[0]||po(WI);const o=Kp(r,e.config.apiKey,e.name);let a=null;for(const u of n)try{const c=await u._get(o);if(c){const d=fo._fromJSON(e,c);u!==s&&(a=d),s=u;break}}catch{}const l=i.filter(u=>u._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new Bu(s,e,r):(s=l[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async u=>{if(u!==s)try{await u._remove(o)}catch{}})),new Bu(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zI(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(E2(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(_2(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(I2(e))return"Blackberry";if(C2(e))return"Webos";if(w2(e))return"Safari";if((e.includes("chrome/")||T2(e))&&!e.includes("edge/"))return"Chrome";if(S2(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function _2(t=si()){return/firefox\//i.test(t)}function w2(t=si()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function T2(t=si()){return/crios\//i.test(t)}function E2(t=si()){return/iemobile/i.test(t)}function S2(t=si()){return/android/i.test(t)}function I2(t=si()){return/blackberry/i.test(t)}function C2(t=si()){return/webos/i.test(t)}function l1(t=si()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function K7(t=si()){var e;return l1(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function G7(){return c6()&&document.documentMode===10}function A2(t=si()){return l1(t)||S2(t)||C2(t)||I2(t)||/windows phone/i.test(t)||E2(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P2(t,e=[]){let n;switch(t){case"Browser":n=zI(si());break;case"Worker":n=`${zI(si())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Na}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y7{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{const l=e(s);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function X7(t,e={}){return Qs(t,"GET","/v2/passwordPolicy",Ro(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q7=6;class J7{constructor(e){var n,r,i,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:Q7,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(s=l.containsUppercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z7{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new KI(this),this.idTokenSubscription=new KI(this),this.beforeStateQueue=new Y7(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=h2,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=po(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await Bu.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await v2(this,{idToken:e}),r=await fo._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(fs(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(i=l.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return ft(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Um(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=x7()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(fs(this.app))return Promise.reject(Us(this));const n=e?Zt(e):null;return n&&ft(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ft(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return fs(this.app)?Promise.reject(Us(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return fs(this.app)?Promise.reject(Us(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(po(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await X7(this),n=new J7(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Da("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await z7(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&po(e)||this._popupRedirectResolver;ft(n,this,"argument-error"),this.redirectPersistenceManager=await Bu.create(this,[po(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(ft(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ft(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=P2(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&O7(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function La(t){return Zt(t)}class KI{constructor(e){this.auth=e,this.observer=null,this.addObserver=b6(n=>this.observer=n)}get next(){return ft(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let dv={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function eH(t){dv=t}function O2(t){return dv.loadJS(t)}function tH(){return dv.recaptchaEnterpriseScript}function nH(){return dv.gapiScript}function rH(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const iH="recaptcha-enterprise",sH="NO_RECAPTCHA";class oH{constructor(e){this.type=iH,this.auth=La(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,a)=>{$7(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const u=new V7(l);return s.tenantId==null?s._agentRecaptchaConfig=u:s._tenantRecaptchaConfigs[s.tenantId]=u,o(u.siteKey)}}).catch(l=>{a(l)})})}function i(s,o,a){const l=window.grecaptcha;BI(l)?l.enterprise.ready(()=>{l.enterprise.execute(s,{action:e}).then(u=>{o(u)}).catch(()=>{o(sH)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,o)=>{r(this.auth).then(a=>{if(!n&&BI(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let l=tH();l.length!==0&&(l+=a),O2(l).then(()=>{i(a,s,o)}).catch(u=>{o(u)})}}).catch(a=>{o(a)})})}}async function GI(t,e,n,r=!1){const i=new oH(t);let s;try{s=await i.verify(n)}catch{s=await i.verify(n,!0)}const o=Object.assign({},e);return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function qm(t,e,n,r){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=await GI(t,e,n,n==="getOobCode");return r(t,s)}else return r(t,e).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await GI(t,e,n,n==="getOobCode");return r(t,o)}else return Promise.reject(s)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k2(t,e){const n=Ys(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(yh(s,e??{}))return i;Es(i,"already-initialized")}return n.initialize({options:e})}function aH(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(po);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function lH(t,e,n){const r=La(t);ft(r._canInitEmulator,r,"emulator-config-failed"),ft(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!(n!=null&&n.disableWarnings),s=R2(e),{host:o,port:a}=uH(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||cH()}function R2(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function uH(t){const e=R2(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:YI(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:YI(o)}}}function YI(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function cH(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u1{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return ho("not implemented")}_getIdTokenResponse(e){return ho("not implemented")}_linkToIdToken(e,n){return ho("not implemented")}_getReauthenticationResolver(e){return ho("not implemented")}}async function dH(t,e){return Qs(t,"POST","/v1/accounts:update",e)}async function hH(t,e){return Qs(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fH(t,e){return wf(t,"POST","/v1/accounts:signInWithPassword",Ro(t,e))}async function pH(t,e){return Qs(t,"POST","/v1/accounts:sendOobCode",Ro(t,e))}async function mH(t,e){return pH(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gH(t,e){return wf(t,"POST","/v1/accounts:signInWithEmailLink",Ro(t,e))}async function vH(t,e){return wf(t,"POST","/v1/accounts:signInWithEmailLink",Ro(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oh extends u1{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new Oh(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Oh(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return qm(e,n,"signInWithPassword",fH);case"emailLink":return gH(e,{email:this._email,oobCode:this._password});default:Es(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return qm(e,r,"signUpPassword",hH);case"emailLink":return vH(e,{idToken:n,email:this._email,oobCode:this._password});default:Es(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ju(t,e){return wf(t,"POST","/v1/accounts:signInWithIdp",Ro(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yH="http://localhost";class Rl extends u1{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Rl(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Es("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=i1(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new Rl(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return ju(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,ju(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,ju(e,n)}buildRequest(){const e={requestUri:yH,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Pc(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bH(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function _H(t){const e=wd(Td(t)).link,n=e?wd(Td(e)).deep_link_id:null,r=wd(Td(t)).deep_link_id;return(r?wd(Td(r)).link:null)||r||n||e||t}class c1{constructor(e){var n,r,i,s,o,a;const l=wd(Td(e)),u=(n=l.apiKey)!==null&&n!==void 0?n:null,c=(r=l.oobCode)!==null&&r!==void 0?r:null,d=bH((i=l.mode)!==null&&i!==void 0?i:null);ft(u&&c&&d,"argument-error"),this.apiKey=u,this.operation=d,this.code=c,this.continueUrl=(s=l.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=l.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=_H(e);try{return new c1(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pa{constructor(){this.providerId=Pa.PROVIDER_ID}static credential(e,n){return Oh._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=c1.parseLink(n);return ft(r,"argument-error"),Oh._fromEmailAndCode(e,r.code,r.tenantId)}}Pa.PROVIDER_ID="password";Pa.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Pa.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x2{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tf extends x2{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ta extends Tf{constructor(){super("facebook.com")}static credential(e){return Rl._fromParams({providerId:ta.PROVIDER_ID,signInMethod:ta.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ta.credentialFromTaggedObject(e)}static credentialFromError(e){return ta.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ta.credential(e.oauthAccessToken)}catch{return null}}}ta.FACEBOOK_SIGN_IN_METHOD="facebook.com";ta.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class na extends Tf{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Rl._fromParams({providerId:na.PROVIDER_ID,signInMethod:na.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return na.credentialFromTaggedObject(e)}static credentialFromError(e){return na.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return na.credential(n,r)}catch{return null}}}na.GOOGLE_SIGN_IN_METHOD="google.com";na.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ra extends Tf{constructor(){super("github.com")}static credential(e){return Rl._fromParams({providerId:ra.PROVIDER_ID,signInMethod:ra.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ra.credentialFromTaggedObject(e)}static credentialFromError(e){return ra.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ra.credential(e.oauthAccessToken)}catch{return null}}}ra.GITHUB_SIGN_IN_METHOD="github.com";ra.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ia extends Tf{constructor(){super("twitter.com")}static credential(e,n){return Rl._fromParams({providerId:ia.PROVIDER_ID,signInMethod:ia.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return ia.credentialFromTaggedObject(e)}static credentialFromError(e){return ia.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return ia.credential(n,r)}catch{return null}}}ia.TWITTER_SIGN_IN_METHOD="twitter.com";ia.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wH(t,e){return wf(t,"POST","/v1/accounts:signUp",Ro(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xl{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await fo._fromIdTokenResponse(e,r,i),o=XI(r);return new xl({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=XI(r);return new xl({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function XI(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bm extends Bi{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Bm.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Bm(e,n,r,i)}}function D2(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Bm._fromErrorAndOperation(t,s,e,r):s})}async function TH(t,e,n=!1){const r=await hc(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return xl._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function N2(t,e,n=!1){const{auth:r}=t;if(fs(r.app))return Promise.reject(Us(r));const i="reauthenticate";try{const s=await hc(t,D2(r,i,e,t),n);ft(s.idToken,r,"internal-error");const o=a1(s.idToken);ft(o,r,"internal-error");const{sub:a}=o;return ft(t.uid===a,r,"user-mismatch"),xl._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&Es(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function M2(t,e,n=!1){if(fs(t.app))return Promise.reject(Us(t));const r="signIn",i=await D2(t,r,e),s=await xl._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function EH(t,e){return M2(La(t),e)}async function QI(t,e){return N2(Zt(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SH(t,e,n){var r;ft(((r=n.url)===null||r===void 0?void 0:r.length)>0,t,"invalid-continue-uri"),ft(typeof n.dynamicLinkDomain>"u"||n.dynamicLinkDomain.length>0,t,"invalid-dynamic-link-domain"),e.continueUrl=n.url,e.dynamicLinkDomain=n.dynamicLinkDomain,e.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(ft(n.iOS.bundleId.length>0,t,"missing-ios-bundle-id"),e.iOSBundleId=n.iOS.bundleId),n.android&&(ft(n.android.packageName.length>0,t,"missing-android-pkg-name"),e.androidInstallApp=n.android.installApp,e.androidMinimumVersionCode=n.android.minimumVersion,e.androidPackageName=n.android.packageName)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function L2(t){const e=La(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function IH(t,e,n){const r=La(t),i={requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"};n&&SH(r,i,n),await qm(r,i,"getOobCode",mH)}async function CH(t,e,n){if(fs(t.app))return Promise.reject(Us(t));const r=La(t),o=await qm(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",wH).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&L2(t),l}),a=await xl._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(a.user),a}function AH(t,e,n){return fs(t.app)?Promise.reject(Us(t)):EH(Zt(t),Pa.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&L2(t),r})}function PH(t,e){const n=Zt(t);return fs(n.auth.app)?Promise.reject(Us(n.auth)):V2(n,e,null)}function OH(t,e){return V2(Zt(t),null,e)}async function V2(t,e,n){const{auth:r}=t,s={idToken:await t.getIdToken(),returnSecureToken:!0};e&&(s.email=e),n&&(s.password=n);const o=await hc(t,dH(r,s));await t._updateTokensIfNecessary(o,!0)}function $2(t,e,n,r){return Zt(t).onIdTokenChanged(e,n,r)}function kH(t,e,n){return Zt(t).beforeAuthStateChanged(e,n)}function RH(t){return Zt(t).signOut()}async function xH(t){return Zt(t).delete()}const jm="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F2{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(jm,"1"),this.storage.removeItem(jm),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DH=1e3,NH=10;class U2 extends F2{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=A2(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);G7()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,NH):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},DH)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}U2.type="LOCAL";const q2=U2;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B2 extends F2{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}B2.type="SESSION";const d1=B2;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MH(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hv{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new hv(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async u=>u(n.origin,s)),l=await MH(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}hv.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h1(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LH{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{const u=h1("",20);i.port1.start();const c=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(d){const h=d;if(h.data.eventId===u)switch(h.data.status){case"ack":clearTimeout(c),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(h.data.response);break;default:clearTimeout(c),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qs(){return window}function VH(t){qs().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j2(){return typeof qs().WorkerGlobalScope<"u"&&typeof qs().importScripts=="function"}async function $H(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function FH(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function UH(){return j2()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H2="firebaseLocalStorageDb",qH=1,Hm="firebaseLocalStorage",W2="fbase_key";class Ef{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function fv(t,e){return t.transaction([Hm],e?"readwrite":"readonly").objectStore(Hm)}function BH(){const t=indexedDB.deleteDatabase(H2);return new Ef(t).toPromise()}function S0(){const t=indexedDB.open(H2,qH);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Hm,{keyPath:W2})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Hm)?e(r):(r.close(),await BH(),e(await S0()))})})}async function JI(t,e,n){const r=fv(t,!0).put({[W2]:e,value:n});return new Ef(r).toPromise()}async function jH(t,e){const n=fv(t,!1).get(e),r=await new Ef(n).toPromise();return r===void 0?null:r.value}function ZI(t,e){const n=fv(t,!0).delete(e);return new Ef(n).toPromise()}const HH=800,WH=3;class z2{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await S0(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>WH)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return j2()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=hv._getInstance(UH()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await $H(),!this.activeServiceWorker)return;this.sender=new LH(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||FH()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await S0();return await JI(e,jm,"1"),await ZI(e,jm),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>JI(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>jH(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>ZI(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=fv(i,!1).getAll();return new Ef(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),HH)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}z2.type="LOCAL";const K2=z2;new _f(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zH(t,e){return e?po(e):(ft(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f1 extends u1{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ju(e,this._buildIdpRequest())}_linkToIdToken(e,n){return ju(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return ju(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function KH(t){return M2(t.auth,new f1(t),t.bypassAuthState)}function GH(t){const{auth:e,user:n}=t;return ft(n,e,"internal-error"),N2(n,new f1(t),t.bypassAuthState)}async function YH(t){const{auth:e,user:n}=t;return ft(n,e,"internal-error"),TH(n,new f1(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G2{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return KH;case"linkViaPopup":case"linkViaRedirect":return YH;case"reauthViaPopup":case"reauthViaRedirect":return GH;default:Es(this.auth,"internal-error")}}resolve(e){Ao(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ao(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XH=new _f(2e3,1e4);class wu extends G2{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,wu.currentPopupAction&&wu.currentPopupAction.cancel(),wu.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ft(e,this.auth,"internal-error"),e}async onExecution(){Ao(this.filter.length===1,"Popup operations only handle one event");const e=h1();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Fs(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Fs(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,wu.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Fs(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,XH.get())};e()}}wu.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QH="pendingRedirect",Gp=new Map;class JH extends G2{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Gp.get(this.auth._key());if(!e){try{const r=await ZH(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Gp.set(this.auth._key(),e)}return this.bypassAuthState||Gp.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function ZH(t,e){const n=nW(e),r=tW(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function eW(t,e){Gp.set(t._key(),e)}function tW(t){return po(t._redirectPersistence)}function nW(t){return Kp(QH,t.config.apiKey,t.name)}async function rW(t,e,n=!1){if(fs(t.app))return Promise.reject(Us(t));const r=La(t),i=zH(r,e),o=await new JH(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iW=10*60*1e3;class sW{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!oW(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!Y2(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Fs(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=iW&&this.cachedEventUids.clear(),this.cachedEventUids.has(eC(e))}saveEventToCache(e){this.cachedEventUids.add(eC(e)),this.lastProcessedEventTime=Date.now()}}function eC(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function Y2({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function oW(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Y2(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aW(t,e={}){return Qs(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lW=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,uW=/^https?/;async function cW(t){if(t.config.emulator)return;const{authorizedDomains:e}=await aW(t);for(const n of e)try{if(dW(n))return}catch{}Es(t,"unauthorized-domain")}function dW(t){const e=T0(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!uW.test(n))return!1;if(lW.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hW=new _f(3e4,6e4);function tC(){const t=qs().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function fW(t){return new Promise((e,n)=>{var r,i,s;function o(){tC(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{tC(),n(Fs(t,"network-request-failed"))},timeout:hW.get()})}if(!((i=(r=qs().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=qs().gapi)===null||s===void 0)&&s.load)o();else{const a=rH("iframefcb");return qs()[a]=()=>{gapi.load?o():n(Fs(t,"network-request-failed"))},O2(`${nH()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw Yp=null,e})}let Yp=null;function pW(t){return Yp=Yp||fW(t),Yp}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mW=new _f(5e3,15e3),gW="__/auth/iframe",vW="emulator/auth/iframe",yW={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},bW=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function _W(t){const e=t.config;ft(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?o1(e,vW):`https://${t.config.authDomain}/${gW}`,r={apiKey:e.apiKey,appName:t.name,v:Na},i=bW.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${Pc(r).slice(1)}`}async function wW(t){const e=await pW(t),n=qs().gapi;return ft(n,t,"internal-error"),e.open({where:document.body,url:_W(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:yW,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=Fs(t,"network-request-failed"),a=qs().setTimeout(()=>{s(o)},mW.get());function l(){qs().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TW={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},EW=500,SW=600,IW="_blank",CW="http://localhost";class nC{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function AW(t,e,n,r=EW,i=SW){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},TW),{width:r.toString(),height:i.toString(),top:s,left:o}),u=si().toLowerCase();n&&(a=T2(u)?IW:n),_2(u)&&(e=e||CW,l.scrollbars="yes");const c=Object.entries(l).reduce((h,[p,m])=>`${h}${p}=${m},`,"");if(K7(u)&&a!=="_self")return PW(e||"",a),new nC(null);const d=window.open(e||"",a,c);ft(d,t,"popup-blocked");try{d.focus()}catch{}return new nC(d)}function PW(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OW="__/auth/handler",kW="emulator/auth/handler",RW=encodeURIComponent("fac");async function rC(t,e,n,r,i,s){ft(t.config.authDomain,t,"auth-domain-config-required"),ft(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Na,eventId:i};if(e instanceof x2){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",jb(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[c,d]of Object.entries(s||{}))o[c]=d}if(e instanceof Tf){const c=e.getScopes().filter(d=>d!=="");c.length>0&&(o.scopes=c.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const c of Object.keys(a))a[c]===void 0&&delete a[c];const l=await t._getAppCheckToken(),u=l?`#${RW}=${encodeURIComponent(l)}`:"";return`${xW(t)}?${Pc(a).slice(1)}${u}`}function xW({config:t}){return t.emulator?o1(t,kW):`https://${t.authDomain}/${OW}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cy="webStorageSupport";class DW{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=d1,this._completeRedirectFn=rW,this._overrideRedirectResult=eW}async _openPopup(e,n,r,i){var s;Ao((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await rC(e,n,r,T0(),i);return AW(e,o,h1())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await rC(e,n,r,T0(),i);return VH(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Ao(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await wW(e),r=new sW(e);return n.register("authEvent",i=>(ft(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Cy,{type:Cy},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[Cy];o!==void 0&&n(!!o),Es(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=cW(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return A2()||w2()||l1()}}const X2=DW;var iC="@firebase/auth",sC="1.7.7";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NW{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ft(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MW(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function LW(t){Oi(new mi("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;ft(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:P2(t)},u=new Z7(r,i,s,l);return aH(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Oi(new mi("auth-internal",e=>{const n=La(e.getProvider("auth").getImmediate());return(r=>new NW(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Vr(iC,sC,MW(t)),Vr(iC,sC,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VW=5*60,$W=yR("authIdTokenMaxAge")||VW;let oC=null;const FW=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>$W)return;const i=n==null?void 0:n.token;oC!==i&&(oC=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function UW(t=kc()){const e=Ys(t,"auth");if(e.isInitialized())return e.getImmediate();const n=k2(t,{popupRedirectResolver:X2,persistence:[K2,q2,d1]}),r=yR("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const o=FW(s.toString());kH(n,o,()=>o(n.currentUser)),$2(n,a=>o(a))}}const i=mR("auth");return i&&lH(n,`http://${i}`),n}function qW(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}eH({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=Fs("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",qW().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});LW("Browser");const Q2=Symbol("firebaseApp");function J2(t){return ts()&&pi(Q2,null)||kc(t)}const bp=new WeakMap;function BW(t,e){if(!bp.has(t)){const n=bg(!0);bp.set(t,n);const{unmount:r}=e;e.unmount=()=>{r.call(e),n.stop(),bp.delete(t)}}return bp.get(t)}const jW=new WeakMap,_p=new WeakMap;function HW(t){const e=J2(t);if(!_p.has(e)){let n;const i=[new Promise(s=>{n=s}),s=>{_p.set(e,s),n(s.value)}];_p.set(e,i)}return _p.get(e)}function WW(t,e){$2(e,n=>{const r=HW();t.value=n,Array.isArray(r)&&r[1](t)})}var aC={};const lC="@firebase/database",uC="1.0.7";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Z2="";function zW(t){Z2=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KW{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Nr(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:vh(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GW{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return ko(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eN=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new KW(e)}}catch{}return new GW},ol=eN("localStorage"),I0=eN("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hu=new Oc("@firebase/database"),YW=function(){let t=1;return function(){return t++}}(),tN=function(t){const e=E6(t),n=new y6;n.update(e);const r=n.digest();return Lg.encodeByteArray(r)},Sf=function(...t){let e="";for(let n=0;n<t.length;n++){const r=t[n];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?e+=Sf.apply(null,r):typeof r=="object"?e+=Nr(r):e+=r,e+=" "}return e};let pl=null,cC=!0;const XW=function(t,e){Ge(!e||t===!0||t===!1,"Can't turn on custom loggers persistently."),t===!0?(Hu.logLevel=xt.VERBOSE,pl=Hu.log.bind(Hu),e&&I0.set("logging_enabled",!0)):typeof t=="function"?pl=t:(pl=null,I0.remove("logging_enabled"))},Gr=function(...t){if(cC===!0&&(cC=!1,pl===null&&I0.get("logging_enabled")===!0&&XW(!0)),pl){const e=Sf.apply(null,t);pl(e)}},If=function(t){return function(...e){Gr(t,...e)}},C0=function(...t){const e="FIREBASE INTERNAL ERROR: "+Sf(...t);Hu.error(e)},Dl=function(...t){const e=`FIREBASE FATAL ERROR: ${Sf(...t)}`;throw Hu.error(e),new Error(e)},qi=function(...t){const e="FIREBASE WARNING: "+Sf(...t);Hu.warn(e)},QW=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&qi("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},nN=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},JW=function(t){if(document.readyState==="complete")t();else{let e=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},fc="[MIN_NAME]",Nl="[MAX_NAME]",Mc=function(t,e){if(t===e)return 0;if(t===fc||e===Nl)return-1;if(e===fc||t===Nl)return 1;{const n=dC(t),r=dC(e);return n!==null?r!==null?n-r===0?t.length-e.length:n-r:-1:r!==null?1:t<e?-1:1}},ZW=function(t,e){return t===e?0:t<e?-1:1},id=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+Nr(e))},p1=function(t){if(typeof t!="object"||t===null)return Nr(t);const e=[];for(const r in t)e.push(r);e.sort();let n="{";for(let r=0;r<e.length;r++)r!==0&&(n+=","),n+=Nr(e[r]),n+=":",n+=p1(t[e[r]]);return n+="}",n},rN=function(t,e){const n=t.length;if(n<=e)return[t];const r=[];for(let i=0;i<n;i+=e)i+e>n?r.push(t.substring(i,n)):r.push(t.substring(i,i+e));return r};function Ji(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const iN=function(t){Ge(!nN(t),"Invalid JSON number");const e=11,n=52,r=(1<<e-1)-1;let i,s,o,a,l;t===0?(s=0,o=0,i=1/t===-1/0?1:0):(i=t<0,t=Math.abs(t),t>=Math.pow(2,1-r)?(a=Math.min(Math.floor(Math.log(t)/Math.LN2),r),s=a+r,o=Math.round(t*Math.pow(2,n-a)-Math.pow(2,n))):(s=0,o=Math.round(t/Math.pow(2,1-r-n))));const u=[];for(l=n;l;l-=1)u.push(o%2?1:0),o=Math.floor(o/2);for(l=e;l;l-=1)u.push(s%2?1:0),s=Math.floor(s/2);u.push(i?1:0),u.reverse();const c=u.join("");let d="";for(l=0;l<64;l+=8){let h=parseInt(c.substr(l,8),2).toString(16);h.length===1&&(h="0"+h),d=d+h}return d.toLowerCase()},ez=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},tz=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"},nz=new RegExp("^-?(0*)\\d{1,10}$"),rz=-2147483648,iz=2147483647,dC=function(t){if(nz.test(t)){const e=Number(t);if(e>=rz&&e<=iz)return e}return null},Cf=function(t){try{t()}catch(e){setTimeout(()=>{const n=e.stack||"";throw qi("Exception was thrown by user callback.",n),e},Math.floor(0))}},sz=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Gd=function(t,e){const n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oz{constructor(e,n){this.appName_=e,this.appCheckProvider=n,this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(r=>this.appCheck=r)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){qi(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class az{constructor(e,n,r){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(Gr("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',qi(e)}}class A0{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}A0.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m1="5",sN="v",oN="s",aN="r",lN="f",uN=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,cN="ls",dN="p",P0="ac",hN="websocket",fN="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lz{constructor(e,n,r,i,s=!1,o="",a=!1,l=!1){this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=s,this.persistenceKey=o,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=l,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=ol.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&ol.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}}function uz(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function pN(t,e,n){Ge(typeof e=="string","typeof type must == string"),Ge(typeof n=="object","typeof params must == object");let r;if(e===hN)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===fN)r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);uz(t)&&(n.ns=t.namespace);const i=[];return Ji(n,(s,o)=>{i.push(s+"="+o)}),r+i.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cz{constructor(){this.counters_={}}incrementCounter(e,n=1){ko(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return i6(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ay={},Py={};function g1(t){const e=t.toString();return Ay[e]||(Ay[e]=new cz),Ay[e]}function dz(t,e){const n=t.toString();return Py[n]||(Py[n]=e()),Py[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hz{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&Cf(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hC="start",fz="close",pz="pLPCommand",mz="pRTLPCB",mN="id",gN="pw",vN="ser",gz="cb",vz="seg",yz="ts",bz="d",_z="dframe",yN=1870,bN=30,wz=yN-bN,Tz=25e3,Ez=3e4;class Tu{constructor(e,n,r,i,s,o,a){this.connId=e,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.transportSessionId=o,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=If(e),this.stats_=g1(n),this.urlFn=l=>(this.appCheckToken&&(l[P0]=this.appCheckToken),pN(n,fN,l))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new hz(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(Ez)),JW(()=>{if(this.isClosed_)return;this.scriptTagHolder=new v1((...s)=>{const[o,a,l,u,c]=s;if(this.incrementIncomingBytes_(s),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,o===hC)this.id=a,this.password=l;else if(o===fz)a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+o)},(...s)=>{const[o,a]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(o,a)},()=>{this.onClosed_()},this.urlFn);const r={};r[hC]="t",r[vN]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[gz]=this.scriptTagHolder.uniqueCallbackIdentifier),r[sN]=m1,this.transportSessionId&&(r[oN]=this.transportSessionId),this.lastSessionId&&(r[cN]=this.lastSessionId),this.applicationId&&(r[dN]=this.applicationId),this.appCheckToken&&(r[P0]=this.appCheckToken),typeof location<"u"&&location.hostname&&uN.test(location.hostname)&&(r[aN]=lN);const i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Tu.forceAllow_=!0}static forceDisallow(){Tu.forceDisallow_=!0}static isAvailable(){return Tu.forceAllow_?!0:!Tu.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!ez()&&!tz()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=Nr(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=hR(n),i=rN(r,wz);for(let s=0;s<i.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[s]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const r={};r[_z]="t",r[mN]=e,r[gN]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=Nr(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class v1{constructor(e,n,r,i){this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=YW(),window[pz+this.uniqueCallbackIdentifier]=e,window[mz+this.uniqueCallbackIdentifier]=n,this.myIFrame=v1.createIFrame_();let s="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(s='<script>document.domain="'+document.domain+'";<\/script>');const o="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(a){Gr("frame writing exception"),a.stack&&Gr(a.stack),Gr(a)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||Gr("No IE domain setting required")}catch{const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[mN]=this.myID,e[gN]=this.myPW,e[vN]=this.currentSerial;let n=this.urlFn(e),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+bN+r.length<=yN;){const o=this.pendingSegs.shift();r=r+"&"+vz+i+"="+o.seg+"&"+yz+i+"="+o.ts+"&"+bz+i+"="+o.d,i++}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,r){this.pendingSegs.push({seg:e,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},i=setTimeout(r,Math.floor(Tz)),s=()=>{clearTimeout(i),r()};this.addTag(e,s)}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const i=r.readyState;(!i||i==="loaded"||i==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{Gr("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sz=16384,Iz=45e3;let Wm=null;typeof MozWebSocket<"u"?Wm=MozWebSocket:typeof WebSocket<"u"&&(Wm=WebSocket);class ds{constructor(e,n,r,i,s,o,a){this.connId=e,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=If(this.connId),this.stats_=g1(n),this.connURL=ds.connectionURL_(n,o,a,i,r),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,r,i,s){const o={};return o[sN]=m1,typeof location<"u"&&location.hostname&&uN.test(location.hostname)&&(o[aN]=lN),n&&(o[oN]=n),r&&(o[cN]=r),i&&(o[P0]=i),s&&(o[dN]=s),pN(e,hN,o)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,ol.set("previous_websocket_failure",!0);try{let r;TR(),this.mySock=new Wm(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_()}}start(){}static forceDisallow(){ds.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(n);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&Wm!==null&&!ds.forceDisallow_}static previouslyFailed(){return ol.isInMemoryStorage||ol.get("previous_websocket_failure")===!0}markConnectionHealthy(){ol.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const r=vh(n);this.onMessage(r)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(Ge(this.frames===null,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const r=this.extractFrameCount_(n);r!==null&&this.appendFrame_(r)}}send(e){this.resetKeepAlive();const n=Nr(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=rN(n,Sz);r.length>1&&this.sendString_(String(r.length));for(let i=0;i<r.length;i++)this.sendString_(r[i])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(Iz))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}ds.responsesRequiredToBeHealthy=2;ds.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kh{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[Tu,ds]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const n=ds&&ds.isAvailable();let r=n&&!ds.previouslyFailed();if(e.webSocketOnly&&(n||qi("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[ds];else{const i=this.transports_=[];for(const s of kh.ALL_TRANSPORTS)s&&s.isAvailable()&&i.push(s);kh.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}kh.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cz=6e4,Az=5e3,Pz=10*1024,Oz=100*1024,Oy="t",fC="d",kz="s",pC="r",Rz="e",mC="o",gC="a",vC="n",yC="p",xz="h";class Dz{constructor(e,n,r,i,s,o,a,l,u,c){this.id=e,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=s,this.onMessage_=o,this.onReady_=a,this.onDisconnect_=l,this.onKill_=u,this.lastSessionId=c,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=If("c:"+this.id+":"),this.transportManager_=new kh(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));const i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=Gd(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>Oz?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>Pz?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){const n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(Oy in e){const n=e[Oy];n===gC?this.upgradeIfSecondaryHealthy_():n===pC?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===mC&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=id("t",e),r=id("d",e);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:yC,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:gC,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:vC,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=id("t",e),r=id("d",e);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=id(Oy,e);if(fC in e){const r=e[fC];if(n===xz){const i=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if(n===vC){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===kz?this.onConnectionShutdown_(r):n===pC?this.onReset_(r):n===Rz?C0("Server Error: "+r):n===mC?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):C0("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,r=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),m1!==r&&qi("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),Gd(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(Cz))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Gd(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(Az))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:yC,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(ol.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _N{put(e,n,r,i){}merge(e,n,r,i){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,r){}onDisconnectMerge(e,n,r){}onDisconnectCancel(e,n){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wN{constructor(e){this.allowedEvents_=e,this.listeners_={},Ge(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,n)}}on(e,n,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:r});const i=this.getInitialEvent(e);i&&n.apply(r,i)}off(e,n,r){this.validateEventType_(e);const i=this.listeners_[e]||[];for(let s=0;s<i.length;s++)if(i[s].callback===n&&(!r||r===i[s].context)){i.splice(s,1);return}}validateEventType_(e){Ge(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zm extends wN{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!J_()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new zm}getInitialEvent(e){return Ge(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bC=32,_C=768;class kn{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}}function un(){return new kn("")}function jt(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function Oa(t){return t.pieces_.length-t.pieceNum_}function Cn(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new kn(t.pieces_,e)}function TN(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function Nz(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function EN(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function SN(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new kn(e,0)}function Ar(t,e){const n=[];for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof kn)for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{const r=e.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&n.push(r[i])}return new kn(n,0)}function Lt(t){return t.pieceNum_>=t.pieces_.length}function Yi(t,e){const n=jt(t),r=jt(e);if(n===null)return e;if(n===r)return Yi(Cn(t),Cn(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function IN(t,e){if(Oa(t)!==Oa(e))return!1;for(let n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function ps(t,e){let n=t.pieceNum_,r=e.pieceNum_;if(Oa(t)>Oa(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}class Mz{constructor(e,n){this.errorPrefix_=n,this.parts_=EN(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=Fg(this.parts_[r]);CN(this)}}function Lz(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=Fg(e),CN(t)}function Vz(t){const e=t.parts_.pop();t.byteLength_-=Fg(e),t.parts_.length>0&&(t.byteLength_-=1)}function CN(t){if(t.byteLength_>_C)throw new Error(t.errorPrefix_+"has a key path longer than "+_C+" bytes ("+t.byteLength_+").");if(t.parts_.length>bC)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+bC+") or object contains a cycle "+Qa(t))}function Qa(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y1 extends wN{constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new y1}getInitialEvent(e){return Ge(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sd=1e3,$z=60*5*1e3,wC=30*1e3,Fz=1.3,Uz=3e4,qz="server_kill",TC=3;class wo extends _N{constructor(e,n,r,i,s,o,a,l){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=r,this.onConnectStatus_=i,this.onServerInfoUpdate_=s,this.authTokenProvider_=o,this.appCheckTokenProvider_=a,this.authOverride_=l,this.id=wo.nextPersistentConnectionId_++,this.log_=If("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=sd,this.maxReconnectDelay_=$z,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,l&&!TR())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");y1.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&zm.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,r){const i=++this.requestNumber_,s={r:i,a:e,b:n};this.log_(Nr(s)),Ge(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(s),r&&(this.requestCBHash_[i]=r)}get(e){this.initConnection_();const n=new Sl,i={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:o=>{const a=o.d;o.s==="ok"?n.resolve(a):n.reject(a)}};this.outstandingGets_.push(i),this.outstandingGetCount_++;const s=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(s),n.promise}listen(e,n,r,i){this.initConnection_();const s=e._queryIdentifier,o=e._path.toString();this.log_("Listen called for "+o+" "+s),this.listens.has(o)||this.listens.set(o,new Map),Ge(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),Ge(!this.listens.get(o).has(s),"listen() called twice for same path/queryId.");const a={onComplete:i,hashFn:n,query:e,tag:r};this.listens.get(o).set(s,a),this.connected_&&this.sendListen_(a)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,r=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(r)})}sendListen_(e){const n=e.query,r=n._path.toString(),i=n._queryIdentifier;this.log_("Listen on "+r+" for "+i);const s={p:r},o="q";e.tag&&(s.q=n._queryObject,s.t=e.tag),s.h=e.hashFn(),this.sendRequest(o,s,a=>{const l=a.d,u=a.s;wo.warnOnListenWarnings_(l,n),(this.listens.get(r)&&this.listens.get(r).get(i))===e&&(this.log_("listen response",a),u!=="ok"&&this.removeListen_(r,i),e.onComplete&&e.onComplete(u,l))})}static warnOnListenWarnings_(e,n){if(e&&typeof e=="object"&&ko(e,"w")){const r=nc(e,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const i='".indexOn": "'+n._queryParams.getIndex().toString()+'"',s=n._path.toString();qi(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${i} at ${s} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||v6(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=wC)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=g6(e)?"auth":"gauth",r={cred:e};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(n,r,i=>{const s=i.s,o=i.d||"error";this.authToken_===e&&(s==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(s,o))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,r=e.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,r)})}unlisten(e,n){const r=e._path.toString(),i=e._queryIdentifier;this.log_("Unlisten called for "+r+" "+i),Ge(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,i)&&this.connected_&&this.sendUnlisten_(r,i,e._queryObject,n)}sendUnlisten_(e,n,r,i){this.log_("Unlisten on "+e+" for "+n);const s={p:e},o="n";i&&(s.q=r,s.t=i),this.sendRequest(o,s)}onDisconnectPut(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:r})}onDisconnectMerge(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:r})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,r,i){const s={p:n,d:r};this.log_("onDisconnect "+e,s),this.sendRequest(e,s,o=>{i&&setTimeout(()=>{i(o.s,o.d)},Math.floor(0))})}put(e,n,r,i){this.putInternal("p",e,n,r,i)}merge(e,n,r,i){this.putInternal("m",e,n,r,i)}putInternal(e,n,r,i,s){this.initConnection_();const o={p:n,d:r};s!==void 0&&(o.h=s),this.outstandingPuts_.push({action:e,request:o,onComplete:i}),this.outstandingPutCount_++;const a=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(a):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,i=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,s=>{this.log_(n+" response",s),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),i&&i(s.s,s.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,r=>{if(r.s!=="ok"){const s=r.d;this.log_("reportStats","Error sending stats: "+s)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+Nr(e));const n=e.r,r=this.requestCBHash_[n];r&&(delete this.requestCBHash_[n],r(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),e==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):e==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):e==="c"?this.onListenRevoked_(n.p,n.q):e==="ac"?this.onAuthRevoked_(n.s,n.d):e==="apc"?this.onAppCheckRevoked_(n.s,n.d):e==="sd"?this.onSecurityDebugPacket_(n):C0("Unrecognized action received from server: "+Nr(e)+`
Are you using the latest client?`)}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){Ge(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=sd,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=sd,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>Uz&&(this.reconnectDelay_=sd),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=new Date().getTime()-this.lastConnectionAttemptTime_;let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*Fz)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),i=this.id+":"+wo.nextConnectionId_++,s=this.lastSessionId;let o=!1,a=null;const l=function(){a?a.close():(o=!0,r())},u=function(d){Ge(a,"sendRequest call when we're not connected not allowed."),a.sendRequest(d)};this.realtime_={close:l,sendRequest:u};const c=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[d,h]=await Promise.all([this.authTokenProvider_.getToken(c),this.appCheckTokenProvider_.getToken(c)]);o?Gr("getToken() completed but was canceled"):(Gr("getToken() completed. Creating connection."),this.authToken_=d&&d.accessToken,this.appCheckToken_=h&&h.token,a=new Dz(i,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,r,p=>{qi(p+" ("+this.repoInfo_.toString()+")"),this.interrupt(qz)},s))}catch(d){this.log_("Failed to get token: "+d),o||(this.repoInfo_.nodeAdmin&&qi(d),l())}}}interrupt(e){Gr("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){Gr("Resuming connection for reason: "+e),delete this.interruptReasons_[e],jb(this.interruptReasons_)&&(this.reconnectDelay_=sd,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let r;n?r=n.map(s=>p1(s)).join("$"):r="default";const i=this.removeListen_(e,r);i&&i.onComplete&&i.onComplete("permission_denied")}removeListen_(e,n){const r=new kn(e).toString();let i;if(this.listens.has(r)){const s=this.listens.get(r);i=s.get(n),s.delete(n),s.size===0&&this.listens.delete(r)}else i=void 0;return i}onAuthRevoked_(e,n){Gr("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=TC&&(this.reconnectDelay_=wC,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){Gr("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=TC&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";e["sdk."+n+"."+Z2.replace(/\./g,"-")]=1,J_()?e["framework.cordova"]=1:wR()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=zm.getInstance().currentlyOnline();return jb(this.interruptReasons_)&&e}}wo.nextPersistentConnectionId_=0;wo.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ht{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new Ht(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pv{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const r=new Ht(fc,e),i=new Ht(fc,n);return this.compare(r,i)!==0}minPost(){return Ht.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let wp;class AN extends pv{static get __EMPTY_NODE(){return wp}static set __EMPTY_NODE(e){wp=e}compare(e,n){return Mc(e.name,n.name)}isDefinedOn(e){throw Ac("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return Ht.MIN}maxPost(){return new Ht(Nl,wp)}makePost(e,n){return Ge(typeof e=="string","KeyIndex indexValue must always be a string."),new Ht(e,wp)}toString(){return".key"}}const Wu=new AN;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tp{constructor(e,n,r,i,s=null){this.isReverse_=i,this.resultGenerator_=s,this.nodeStack_=[];let o=1;for(;!e.isEmpty();)if(e=e,o=n?r(e.key,n):1,i&&(o*=-1),o<0)this.isReverse_?e=e.left:e=e.right;else if(o===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class Ir{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??Ir.RED,this.left=i??Ii.EMPTY_NODE,this.right=s??Ii.EMPTY_NODE}copy(e,n,r,i,s){return new Ir(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return s<0?i=i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i=i.copy(null,n,null,null,null):i=i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp_()}removeMin_(){if(this.left.isEmpty())return Ii.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let r,i;if(r=this,n(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),n(e,r.key)===0){if(r.right.isEmpty())return Ii.EMPTY_NODE;i=r.right.min_(),r=r.copy(i.key,i.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,Ir.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,Ir.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}Ir.RED=!0;Ir.BLACK=!1;class Bz{copy(e,n,r,i,s){return this}insert(e,n,r){return new Ir(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class Ii{constructor(e,n=Ii.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new Ii(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,Ir.BLACK,null,null))}remove(e){return new Ii(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Ir.BLACK,null,null))}get(e){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(e){let n,r=this.root_,i=null;for(;!r.isEmpty();)if(n=this.comparator_(e,r.key),n===0){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(i=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new Tp(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new Tp(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new Tp(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new Tp(this.root_,null,this.comparator_,!0,e)}}Ii.EMPTY_NODE=new Bz;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jz(t,e){return Mc(t.name,e.name)}function b1(t,e){return Mc(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let O0;function Hz(t){O0=t}const PN=function(t){return typeof t=="number"?"number:"+iN(t):"string:"+t},ON=function(t){if(t.isLeafNode()){const e=t.val();Ge(typeof e=="string"||typeof e=="number"||typeof e=="object"&&ko(e,".sv"),"Priority must be a string or number.")}else Ge(t===O0||t.isEmpty(),"priority of unexpected type.");Ge(t===O0||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let EC;class Er{constructor(e,n=Er.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,Ge(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),ON(this.priorityNode_)}static set __childrenNodeConstructor(e){EC=e}static get __childrenNodeConstructor(){return EC}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new Er(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:Er.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return Lt(e)?this:jt(e)===".priority"?this.priorityNode_:Er.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:Er.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const r=jt(e);return r===null?n:n.isEmpty()&&r!==".priority"?this:(Ge(r!==".priority"||Oa(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,Er.__childrenNodeConstructor.EMPTY_NODE.updateChild(Cn(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+PN(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",n==="number"?e+=iN(this.value_):e+=this.value_,this.lazyHash_=tN(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===Er.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof Er.__childrenNodeConstructor?-1:(Ge(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,r=typeof this.value_,i=Er.VALUE_TYPE_ORDER.indexOf(n),s=Er.VALUE_TYPE_ORDER.indexOf(r);return Ge(i>=0,"Unknown leaf type: "+n),Ge(s>=0,"Unknown leaf type: "+r),i===s?r==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:s-i}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}Er.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let kN,RN;function Wz(t){kN=t}function zz(t){RN=t}class Kz extends pv{compare(e,n){const r=e.node.getPriority(),i=n.node.getPriority(),s=r.compareTo(i);return s===0?Mc(e.name,n.name):s}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return Ht.MIN}maxPost(){return new Ht(Nl,new Er("[PRIORITY-POST]",RN))}makePost(e,n){const r=kN(e);return new Ht(n,new Er("[PRIORITY-POST]",r))}toString(){return".priority"}}const Zr=new Kz;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gz=Math.log(2);class Yz{constructor(e){const n=s=>parseInt(Math.log(s)/Gz,10),r=s=>parseInt(Array(s+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;const i=r(this.count);this.bits_=e+1&i}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const Km=function(t,e,n,r){t.sort(e);const i=function(l,u){const c=u-l;let d,h;if(c===0)return null;if(c===1)return d=t[l],h=n?n(d):d,new Ir(h,d.node,Ir.BLACK,null,null);{const p=parseInt(c/2,10)+l,m=i(l,p),g=i(p+1,u);return d=t[p],h=n?n(d):d,new Ir(h,d.node,Ir.BLACK,m,g)}},s=function(l){let u=null,c=null,d=t.length;const h=function(m,g){const y=d-m,P=d;d-=m;const I=i(y+1,P),S=t[y],T=n?n(S):S;p(new Ir(T,S.node,g,null,I))},p=function(m){u?(u.left=m,u=m):(c=m,u=m)};for(let m=0;m<l.count;++m){const g=l.nextBitIsOne(),y=Math.pow(2,l.count-(m+1));g?h(y,Ir.BLACK):(h(y,Ir.BLACK),h(y,Ir.RED))}return c},o=new Yz(t.length),a=s(o);return new Ii(r||e,a)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ky;const nu={};class mo{constructor(e,n){this.indexes_=e,this.indexSet_=n}static get Default(){return Ge(nu&&Zr,"ChildrenNode.ts has not been loaded"),ky=ky||new mo({".priority":nu},{".priority":Zr}),ky}get(e){const n=nc(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof Ii?n:null}hasIndex(e){return ko(this.indexSet_,e.toString())}addIndex(e,n){Ge(e!==Wu,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let i=!1;const s=n.getIterator(Ht.Wrap);let o=s.getNext();for(;o;)i=i||e.isDefinedOn(o.node),r.push(o),o=s.getNext();let a;i?a=Km(r,e.getCompare()):a=nu;const l=e.toString(),u=Object.assign({},this.indexSet_);u[l]=e;const c=Object.assign({},this.indexes_);return c[l]=a,new mo(c,u)}addToIndexes(e,n){const r=Tm(this.indexes_,(i,s)=>{const o=nc(this.indexSet_,s);if(Ge(o,"Missing index implementation for "+s),i===nu)if(o.isDefinedOn(e.node)){const a=[],l=n.getIterator(Ht.Wrap);let u=l.getNext();for(;u;)u.name!==e.name&&a.push(u),u=l.getNext();return a.push(e),Km(a,o.getCompare())}else return nu;else{const a=n.get(e.name);let l=i;return a&&(l=l.remove(new Ht(e.name,a))),l.insert(e,e.node)}});return new mo(r,this.indexSet_)}removeFromIndexes(e,n){const r=Tm(this.indexes_,i=>{if(i===nu)return i;{const s=n.get(e.name);return s?i.remove(new Ht(e.name,s)):i}});return new mo(r,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let od;class on{constructor(e,n,r){this.children_=e,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&ON(this.priorityNode_),this.children_.isEmpty()&&Ge(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return od||(od=new on(new Ii(b1),null,mo.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||od}updatePriority(e){return this.children_.isEmpty()?this:new on(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const n=this.children_.get(e);return n===null?od:n}}getChild(e){const n=jt(e);return n===null?this:this.getImmediateChild(n).getChild(Cn(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,n){if(Ge(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);{const r=new Ht(e,n);let i,s;n.isEmpty()?(i=this.children_.remove(e),s=this.indexMap_.removeFromIndexes(r,this.children_)):(i=this.children_.insert(e,n),s=this.indexMap_.addToIndexes(r,this.children_));const o=i.isEmpty()?od:this.priorityNode_;return new on(i,o,s)}}updateChild(e,n){const r=jt(e);if(r===null)return n;{Ge(jt(e)!==".priority"||Oa(e)===1,".priority must be the last token in a path");const i=this.getImmediateChild(r).updateChild(Cn(e),n);return this.updateImmediateChild(r,i)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let r=0,i=0,s=!0;if(this.forEachChild(Zr,(o,a)=>{n[o]=a.val(e),r++,s&&on.INTEGER_REGEXP_.test(o)?i=Math.max(i,Number(o)):s=!1}),!e&&s&&i<2*r){const o=[];for(const a in n)o[a]=n[a];return o}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+PN(this.getPriority().val())+":"),this.forEachChild(Zr,(n,r)=>{const i=r.hash();i!==""&&(e+=":"+n+":"+i)}),this.lazyHash_=e===""?"":tN(e)}return this.lazyHash_}getPredecessorChildName(e,n,r){const i=this.resolveIndex_(r);if(i){const s=i.getPredecessorKey(new Ht(e,n));return s?s.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new Ht(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new Ht(n,this.children_.get(n)):null}forEachChild(e,n){const r=this.resolveIndex_(e);return r?r.inorderTraversal(i=>n(i.name,i.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getIteratorFrom(e,i=>i);{const i=this.children_.getIteratorFrom(e.name,Ht.Wrap);let s=i.peek();for(;s!=null&&n.compare(s,e)<0;)i.getNext(),s=i.peek();return i}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getReverseIteratorFrom(e,i=>i);{const i=this.children_.getReverseIteratorFrom(e.name,Ht.Wrap);let s=i.peek();for(;s!=null&&n.compare(s,e)>0;)i.getNext(),s=i.peek();return i}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===Af?-1:0}withIndex(e){if(e===Wu||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new on(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===Wu||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const r=this.getIterator(Zr),i=n.getIterator(Zr);let s=r.getNext(),o=i.getNext();for(;s&&o;){if(s.name!==o.name||!s.node.equals(o.node))return!1;s=r.getNext(),o=i.getNext()}return s===null&&o===null}else return!1;else return!1}}resolveIndex_(e){return e===Wu?null:this.indexMap_.get(e.toString())}}on.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class Xz extends on{constructor(){super(new Ii(b1),on.EMPTY_NODE,mo.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return on.EMPTY_NODE}isEmpty(){return!1}}const Af=new Xz;Object.defineProperties(Ht,{MIN:{value:new Ht(fc,on.EMPTY_NODE)},MAX:{value:new Ht(Nl,Af)}});AN.__EMPTY_NODE=on.EMPTY_NODE;Er.__childrenNodeConstructor=on;Hz(Af);zz(Af);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qz=!0;function Yr(t,e=null){if(t===null)return on.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),Ge(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const n=t;return new Er(n,Yr(e))}if(!(t instanceof Array)&&Qz){const n=[];let r=!1;if(Ji(t,(o,a)=>{if(o.substring(0,1)!=="."){const l=Yr(a);l.isEmpty()||(r=r||!l.getPriority().isEmpty(),n.push(new Ht(o,l)))}}),n.length===0)return on.EMPTY_NODE;const s=Km(n,jz,o=>o.name,b1);if(r){const o=Km(n,Zr.getCompare());return new on(s,Yr(e),new mo({".priority":o},{".priority":Zr}))}else return new on(s,Yr(e),mo.Default)}else{let n=on.EMPTY_NODE;return Ji(t,(r,i)=>{if(ko(t,r)&&r.substring(0,1)!=="."){const s=Yr(i);(s.isLeafNode()||!s.isEmpty())&&(n=n.updateImmediateChild(r,s))}}),n.updatePriority(Yr(e))}}Wz(Yr);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jz extends pv{constructor(e){super(),this.indexPath_=e,Ge(!Lt(e)&&jt(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const r=this.extractChild(e.node),i=this.extractChild(n.node),s=r.compareTo(i);return s===0?Mc(e.name,n.name):s}makePost(e,n){const r=Yr(e),i=on.EMPTY_NODE.updateChild(this.indexPath_,r);return new Ht(n,i)}maxPost(){const e=on.EMPTY_NODE.updateChild(this.indexPath_,Af);return new Ht(Nl,e)}toString(){return EN(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zz extends pv{compare(e,n){const r=e.node.compareTo(n.node);return r===0?Mc(e.name,n.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return Ht.MIN}maxPost(){return Ht.MAX}makePost(e,n){const r=Yr(e);return new Ht(n,r)}toString(){return".value"}}const eK=new Zz;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tK(t){return{type:"value",snapshotNode:t}}function nK(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function rK(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function SC(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function iK(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _1{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Zr}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return Ge(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return Ge(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:fc}hasEnd(){return this.endSet_}getIndexEndValue(){return Ge(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return Ge(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Nl}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return Ge(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Zr}copy(){const e=new _1;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function IC(t){const e={};if(t.isDefault())return e;let n;if(t.index_===Zr?n="$priority":t.index_===eK?n="$value":t.index_===Wu?n="$key":(Ge(t.index_ instanceof Jz,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=Nr(n),t.startSet_){const r=t.startAfterSet_?"startAfter":"startAt";e[r]=Nr(t.indexStartValue_),t.startNameSet_&&(e[r]+=","+Nr(t.indexStartName_))}if(t.endSet_){const r=t.endBeforeSet_?"endBefore":"endAt";e[r]=Nr(t.indexEndValue_),t.endNameSet_&&(e[r]+=","+Nr(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function CC(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==Zr&&(e.i=t.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gm extends _N{constructor(e,n,r,i){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=If("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(Ge(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,n,r,i){const s=e._path.toString();this.log_("Listen called for "+s+" "+e._queryIdentifier);const o=Gm.getListenId_(e,r),a={};this.listens_[o]=a;const l=IC(e._queryParams);this.restRequest_(s+".json",l,(u,c)=>{let d=c;if(u===404&&(d=null,u=null),u===null&&this.onDataUpdate_(s,d,!1,r),nc(this.listens_,o)===a){let h;u?u===401?h="permission_denied":h="rest_error:"+u:h="ok",i(h,null)}})}unlisten(e,n){const r=Gm.getListenId_(e,n);delete this.listens_[r]}get(e){const n=IC(e._queryParams),r=e._path.toString(),i=new Sl;return this.restRequest_(r+".json",n,(s,o)=>{let a=o;s===404&&(a=null,s=null),s===null?(this.onDataUpdate_(r,a,!1,null),i.resolve(a)):i.reject(new Error(a))}),i.promise}refreshAuthToken(e){}restRequest_(e,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,s])=>{i&&i.accessToken&&(n.auth=i.accessToken),s&&s.token&&(n.ac=s.token);const o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+Pc(n);this.log_("Sending REST request for "+o);const a=new XMLHttpRequest;a.onreadystatechange=()=>{if(r&&a.readyState===4){this.log_("REST Response for "+o+" received. status:",a.status,"response:",a.responseText);let l=null;if(a.status>=200&&a.status<300){try{l=vh(a.responseText)}catch{qi("Failed to parse JSON response for "+o+": "+a.responseText)}r(null,l)}else a.status!==401&&a.status!==404&&qi("Got unsuccessful REST response for "+o+" Status: "+a.status),r(a.status);r=null}},a.open("GET",o,!0),a.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sK{constructor(){this.rootNode_=on.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ym(){return{value:null,children:new Map}}function xN(t,e,n){if(Lt(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{const r=jt(e);t.children.has(r)||t.children.set(r,Ym());const i=t.children.get(r);e=Cn(e),xN(i,e,n)}}function k0(t,e,n){t.value!==null?n(e,t.value):oK(t,(r,i)=>{const s=new kn(e.toString()+"/"+r);k0(i,s,n)})}function oK(t,e){t.children.forEach((n,r)=>{e(r,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aK{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n=Object.assign({},e);return this.last_&&Ji(this.last_,(r,i)=>{n[r]=n[r]-i}),this.last_=e,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AC=10*1e3,lK=30*1e3,uK=5*60*1e3;class cK{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new aK(e);const r=AC+(lK-AC)*Math.random();Gd(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const e=this.statsListener_.get(),n={};let r=!1;Ji(e,(i,s)=>{s>0&&ko(this.statsToReport_,i)&&(n[i]=s,r=!0)}),r&&this.server_.reportStats(n),Gd(this.reportStats_.bind(this),Math.floor(Math.random()*2*uK))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ds;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(Ds||(Ds={}));function DN(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function NN(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function MN(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xm{constructor(e,n,r){this.path=e,this.affectedTree=n,this.revert=r,this.type=Ds.ACK_USER_WRITE,this.source=DN()}operationForChild(e){if(Lt(this.path)){if(this.affectedTree.value!=null)return Ge(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new kn(e));return new Xm(un(),n,this.revert)}}else return Ge(jt(this.path)===e,"operationForChild called for unrelated child."),new Xm(Cn(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ml{constructor(e,n,r){this.source=e,this.path=n,this.snap=r,this.type=Ds.OVERWRITE}operationForChild(e){return Lt(this.path)?new Ml(this.source,un(),this.snap.getImmediateChild(e)):new Ml(this.source,Cn(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rh{constructor(e,n,r){this.source=e,this.path=n,this.children=r,this.type=Ds.MERGE}operationForChild(e){if(Lt(this.path)){const n=this.children.subtree(new kn(e));return n.isEmpty()?null:n.value?new Ml(this.source,un(),n.value):new Rh(this.source,un(),n)}else return Ge(jt(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new Rh(this.source,Cn(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w1{constructor(e,n,r){this.node_=e,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(Lt(e))return this.isFullyInitialized()&&!this.filtered_;const n=jt(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}function dK(t,e,n,r){const i=[],s=[];return e.forEach(o=>{o.type==="child_changed"&&t.index_.indexedValueChanged(o.oldSnap,o.snapshotNode)&&s.push(iK(o.childName,o.snapshotNode))}),ad(t,i,"child_removed",e,r,n),ad(t,i,"child_added",e,r,n),ad(t,i,"child_moved",s,r,n),ad(t,i,"child_changed",e,r,n),ad(t,i,"value",e,r,n),i}function ad(t,e,n,r,i,s){const o=r.filter(a=>a.type===n);o.sort((a,l)=>fK(t,a,l)),o.forEach(a=>{const l=hK(t,a,s);i.forEach(u=>{u.respondsTo(a.type)&&e.push(u.createEvent(l,t.query_))})})}function hK(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function fK(t,e,n){if(e.childName==null||n.childName==null)throw Ac("Should only compare child_ events.");const r=new Ht(e.childName,e.snapshotNode),i=new Ht(n.childName,n.snapshotNode);return t.index_.compare(r,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LN(t,e){return{eventCache:t,serverCache:e}}function Yd(t,e,n,r){return LN(new w1(e,n,r),t.serverCache)}function VN(t,e,n,r){return LN(t.eventCache,new w1(e,n,r))}function R0(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function Ll(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ry;const pK=()=>(Ry||(Ry=new Ii(ZW)),Ry);class In{constructor(e,n=pK()){this.value=e,this.children=n}static fromObject(e){let n=new In(null);return Ji(e,(r,i)=>{n=n.set(new kn(r),i)}),n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:un(),value:this.value};if(Lt(e))return null;{const r=jt(e),i=this.children.get(r);if(i!==null){const s=i.findRootMostMatchingPathAndValue(Cn(e),n);return s!=null?{path:Ar(new kn(r),s.path),value:s.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(Lt(e))return this;{const n=jt(e),r=this.children.get(n);return r!==null?r.subtree(Cn(e)):new In(null)}}set(e,n){if(Lt(e))return new In(n,this.children);{const r=jt(e),s=(this.children.get(r)||new In(null)).set(Cn(e),n),o=this.children.insert(r,s);return new In(this.value,o)}}remove(e){if(Lt(e))return this.children.isEmpty()?new In(null):new In(null,this.children);{const n=jt(e),r=this.children.get(n);if(r){const i=r.remove(Cn(e));let s;return i.isEmpty()?s=this.children.remove(n):s=this.children.insert(n,i),this.value===null&&s.isEmpty()?new In(null):new In(this.value,s)}else return this}}get(e){if(Lt(e))return this.value;{const n=jt(e),r=this.children.get(n);return r?r.get(Cn(e)):null}}setTree(e,n){if(Lt(e))return n;{const r=jt(e),s=(this.children.get(r)||new In(null)).setTree(Cn(e),n);let o;return s.isEmpty()?o=this.children.remove(r):o=this.children.insert(r,s),new In(this.value,o)}}fold(e){return this.fold_(un(),e)}fold_(e,n){const r={};return this.children.inorderTraversal((i,s)=>{r[i]=s.fold_(Ar(e,i),n)}),n(e,this.value,r)}findOnPath(e,n){return this.findOnPath_(e,un(),n)}findOnPath_(e,n,r){const i=this.value?r(n,this.value):!1;if(i)return i;if(Lt(e))return null;{const s=jt(e),o=this.children.get(s);return o?o.findOnPath_(Cn(e),Ar(n,s),r):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,un(),n)}foreachOnPath_(e,n,r){if(Lt(e))return this;{this.value&&r(n,this.value);const i=jt(e),s=this.children.get(i);return s?s.foreachOnPath_(Cn(e),Ar(n,i),r):new In(null)}}foreach(e){this.foreach_(un(),e)}foreach_(e,n){this.children.inorderTraversal((r,i)=>{i.foreach_(Ar(e,r),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,r)=>{r.value&&e(n,r.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vs{constructor(e){this.writeTree_=e}static empty(){return new vs(new In(null))}}function Xd(t,e,n){if(Lt(e))return new vs(new In(n));{const r=t.writeTree_.findRootMostValueAndPath(e);if(r!=null){const i=r.path;let s=r.value;const o=Yi(i,e);return s=s.updateChild(o,n),new vs(t.writeTree_.set(i,s))}else{const i=new In(n),s=t.writeTree_.setTree(e,i);return new vs(s)}}}function PC(t,e,n){let r=t;return Ji(n,(i,s)=>{r=Xd(r,Ar(e,i),s)}),r}function OC(t,e){if(Lt(e))return vs.empty();{const n=t.writeTree_.setTree(e,new In(null));return new vs(n)}}function x0(t,e){return zl(t,e)!=null}function zl(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(Yi(n.path,e)):null}function kC(t){const e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(Zr,(r,i)=>{e.push(new Ht(r,i))}):t.writeTree_.children.inorderTraversal((r,i)=>{i.value!=null&&e.push(new Ht(r,i.value))}),e}function ma(t,e){if(Lt(e))return t;{const n=zl(t,e);return n!=null?new vs(new In(n)):new vs(t.writeTree_.subtree(e))}}function D0(t){return t.writeTree_.isEmpty()}function pc(t,e){return $N(un(),t.writeTree_,e)}function $N(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let r=null;return e.children.inorderTraversal((i,s)=>{i===".priority"?(Ge(s.value!==null,"Priority writes must always be leaf nodes"),r=s.value):n=$N(Ar(t,i),s,n)}),!n.getChild(t).isEmpty()&&r!==null&&(n=n.updateChild(Ar(t,".priority"),r)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FN(t,e){return HN(e,t)}function mK(t,e,n,r,i){Ge(r>t.lastWriteId,"Stacking an older write on top of newer ones"),i===void 0&&(i=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:i}),i&&(t.visibleWrites=Xd(t.visibleWrites,e,n)),t.lastWriteId=r}function gK(t,e){for(let n=0;n<t.allWrites.length;n++){const r=t.allWrites[n];if(r.writeId===e)return r}return null}function vK(t,e){const n=t.allWrites.findIndex(a=>a.writeId===e);Ge(n>=0,"removeWrite called with nonexistent writeId.");const r=t.allWrites[n];t.allWrites.splice(n,1);let i=r.visible,s=!1,o=t.allWrites.length-1;for(;i&&o>=0;){const a=t.allWrites[o];a.visible&&(o>=n&&yK(a,r.path)?i=!1:ps(r.path,a.path)&&(s=!0)),o--}if(i){if(s)return bK(t),!0;if(r.snap)t.visibleWrites=OC(t.visibleWrites,r.path);else{const a=r.children;Ji(a,l=>{t.visibleWrites=OC(t.visibleWrites,Ar(r.path,l))})}return!0}else return!1}function yK(t,e){if(t.snap)return ps(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&ps(Ar(t.path,n),e))return!0;return!1}function bK(t){t.visibleWrites=UN(t.allWrites,_K,un()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function _K(t){return t.visible}function UN(t,e,n){let r=vs.empty();for(let i=0;i<t.length;++i){const s=t[i];if(e(s)){const o=s.path;let a;if(s.snap)ps(n,o)?(a=Yi(n,o),r=Xd(r,a,s.snap)):ps(o,n)&&(a=Yi(o,n),r=Xd(r,un(),s.snap.getChild(a)));else if(s.children){if(ps(n,o))a=Yi(n,o),r=PC(r,a,s.children);else if(ps(o,n))if(a=Yi(o,n),Lt(a))r=PC(r,un(),s.children);else{const l=nc(s.children,jt(a));if(l){const u=l.getChild(Cn(a));r=Xd(r,un(),u)}}}else throw Ac("WriteRecord should have .snap or .children")}}return r}function qN(t,e,n,r,i){if(!r&&!i){const s=zl(t.visibleWrites,e);if(s!=null)return s;{const o=ma(t.visibleWrites,e);if(D0(o))return n;if(n==null&&!x0(o,un()))return null;{const a=n||on.EMPTY_NODE;return pc(o,a)}}}else{const s=ma(t.visibleWrites,e);if(!i&&D0(s))return n;if(!i&&n==null&&!x0(s,un()))return null;{const o=function(u){return(u.visible||i)&&(!r||!~r.indexOf(u.writeId))&&(ps(u.path,e)||ps(e,u.path))},a=UN(t.allWrites,o,e),l=n||on.EMPTY_NODE;return pc(a,l)}}}function wK(t,e,n){let r=on.EMPTY_NODE;const i=zl(t.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(Zr,(s,o)=>{r=r.updateImmediateChild(s,o)}),r;if(n){const s=ma(t.visibleWrites,e);return n.forEachChild(Zr,(o,a)=>{const l=pc(ma(s,new kn(o)),a);r=r.updateImmediateChild(o,l)}),kC(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}else{const s=ma(t.visibleWrites,e);return kC(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}}function TK(t,e,n,r,i){Ge(r||i,"Either existingEventSnap or existingServerSnap must exist");const s=Ar(e,n);if(x0(t.visibleWrites,s))return null;{const o=ma(t.visibleWrites,s);return D0(o)?i.getChild(n):pc(o,i.getChild(n))}}function EK(t,e,n,r){const i=Ar(e,n),s=zl(t.visibleWrites,i);if(s!=null)return s;if(r.isCompleteForChild(n)){const o=ma(t.visibleWrites,i);return pc(o,r.getNode().getImmediateChild(n))}else return null}function SK(t,e){return zl(t.visibleWrites,e)}function IK(t,e,n,r,i,s,o){let a;const l=ma(t.visibleWrites,e),u=zl(l,un());if(u!=null)a=u;else if(n!=null)a=pc(l,n);else return[];if(a=a.withIndex(o),!a.isEmpty()&&!a.isLeafNode()){const c=[],d=o.getCompare(),h=s?a.getReverseIteratorFrom(r,o):a.getIteratorFrom(r,o);let p=h.getNext();for(;p&&c.length<i;)d(p,r)!==0&&c.push(p),p=h.getNext();return c}else return[]}function CK(){return{visibleWrites:vs.empty(),allWrites:[],lastWriteId:-1}}function N0(t,e,n,r){return qN(t.writeTree,t.treePath,e,n,r)}function BN(t,e){return wK(t.writeTree,t.treePath,e)}function RC(t,e,n,r){return TK(t.writeTree,t.treePath,e,n,r)}function Qm(t,e){return SK(t.writeTree,Ar(t.treePath,e))}function AK(t,e,n,r,i,s){return IK(t.writeTree,t.treePath,e,n,r,i,s)}function T1(t,e,n){return EK(t.writeTree,t.treePath,e,n)}function jN(t,e){return HN(Ar(t.treePath,e),t.writeTree)}function HN(t,e){return{treePath:t,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PK{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,r=e.childName;Ge(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),Ge(r!==".priority","Only non-priority child changes can be tracked.");const i=this.changeMap.get(r);if(i){const s=i.type;if(n==="child_added"&&s==="child_removed")this.changeMap.set(r,SC(r,e.snapshotNode,i.snapshotNode));else if(n==="child_removed"&&s==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&s==="child_changed")this.changeMap.set(r,rK(r,i.oldSnap));else if(n==="child_changed"&&s==="child_added")this.changeMap.set(r,nK(r,e.snapshotNode));else if(n==="child_changed"&&s==="child_changed")this.changeMap.set(r,SC(r,e.snapshotNode,i.oldSnap));else throw Ac("Illegal combination of changes: "+e+" occurred after "+i)}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OK{getCompleteChild(e){return null}getChildAfterChild(e,n,r){return null}}const WN=new OK;class E1{constructor(e,n,r=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const r=this.optCompleteServerCache_!=null?new w1(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return T1(this.writes_,e,r)}}getChildAfterChild(e,n,r){const i=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:Ll(this.viewCache_),s=AK(this.writes_,i,n,1,r,e);return s.length===0?null:s[0]}}function kK(t,e){Ge(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),Ge(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function RK(t,e,n,r,i){const s=new PK;let o,a;if(n.type===Ds.OVERWRITE){const u=n;u.source.fromUser?o=M0(t,e,u.path,u.snap,r,i,s):(Ge(u.source.fromServer,"Unknown source."),a=u.source.tagged||e.serverCache.isFiltered()&&!Lt(u.path),o=Jm(t,e,u.path,u.snap,r,i,a,s))}else if(n.type===Ds.MERGE){const u=n;u.source.fromUser?o=DK(t,e,u.path,u.children,r,i,s):(Ge(u.source.fromServer,"Unknown source."),a=u.source.tagged||e.serverCache.isFiltered(),o=L0(t,e,u.path,u.children,r,i,a,s))}else if(n.type===Ds.ACK_USER_WRITE){const u=n;u.revert?o=LK(t,e,u.path,r,i,s):o=NK(t,e,u.path,u.affectedTree,r,i,s)}else if(n.type===Ds.LISTEN_COMPLETE)o=MK(t,e,n.path,r,s);else throw Ac("Unknown operation type: "+n.type);const l=s.getChanges();return xK(e,o,l),{viewCache:o,changes:l}}function xK(t,e,n){const r=e.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),s=R0(t);(n.length>0||!t.eventCache.isFullyInitialized()||i&&!r.getNode().equals(s)||!r.getNode().getPriority().equals(s.getPriority()))&&n.push(tK(R0(e)))}}function zN(t,e,n,r,i,s){const o=e.eventCache;if(Qm(r,n)!=null)return e;{let a,l;if(Lt(n))if(Ge(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const u=Ll(e),c=u instanceof on?u:on.EMPTY_NODE,d=BN(r,c);a=t.filter.updateFullNode(e.eventCache.getNode(),d,s)}else{const u=N0(r,Ll(e));a=t.filter.updateFullNode(e.eventCache.getNode(),u,s)}else{const u=jt(n);if(u===".priority"){Ge(Oa(n)===1,"Can't have a priority with additional path components");const c=o.getNode();l=e.serverCache.getNode();const d=RC(r,n,c,l);d!=null?a=t.filter.updatePriority(c,d):a=o.getNode()}else{const c=Cn(n);let d;if(o.isCompleteForChild(u)){l=e.serverCache.getNode();const h=RC(r,n,o.getNode(),l);h!=null?d=o.getNode().getImmediateChild(u).updateChild(c,h):d=o.getNode().getImmediateChild(u)}else d=T1(r,u,e.serverCache);d!=null?a=t.filter.updateChild(o.getNode(),u,d,c,i,s):a=o.getNode()}}return Yd(e,a,o.isFullyInitialized()||Lt(n),t.filter.filtersNodes())}}function Jm(t,e,n,r,i,s,o,a){const l=e.serverCache;let u;const c=o?t.filter:t.filter.getIndexedFilter();if(Lt(n))u=c.updateFullNode(l.getNode(),r,null);else if(c.filtersNodes()&&!l.isFiltered()){const p=l.getNode().updateChild(n,r);u=c.updateFullNode(l.getNode(),p,null)}else{const p=jt(n);if(!l.isCompleteForPath(n)&&Oa(n)>1)return e;const m=Cn(n),y=l.getNode().getImmediateChild(p).updateChild(m,r);p===".priority"?u=c.updatePriority(l.getNode(),y):u=c.updateChild(l.getNode(),p,y,m,WN,null)}const d=VN(e,u,l.isFullyInitialized()||Lt(n),c.filtersNodes()),h=new E1(i,d,s);return zN(t,d,n,i,h,a)}function M0(t,e,n,r,i,s,o){const a=e.eventCache;let l,u;const c=new E1(i,e,s);if(Lt(n))u=t.filter.updateFullNode(e.eventCache.getNode(),r,o),l=Yd(e,u,!0,t.filter.filtersNodes());else{const d=jt(n);if(d===".priority")u=t.filter.updatePriority(e.eventCache.getNode(),r),l=Yd(e,u,a.isFullyInitialized(),a.isFiltered());else{const h=Cn(n),p=a.getNode().getImmediateChild(d);let m;if(Lt(h))m=r;else{const g=c.getCompleteChild(d);g!=null?TN(h)===".priority"&&g.getChild(SN(h)).isEmpty()?m=g:m=g.updateChild(h,r):m=on.EMPTY_NODE}if(p.equals(m))l=e;else{const g=t.filter.updateChild(a.getNode(),d,m,h,c,o);l=Yd(e,g,a.isFullyInitialized(),t.filter.filtersNodes())}}}return l}function xC(t,e){return t.eventCache.isCompleteForChild(e)}function DK(t,e,n,r,i,s,o){let a=e;return r.foreach((l,u)=>{const c=Ar(n,l);xC(e,jt(c))&&(a=M0(t,a,c,u,i,s,o))}),r.foreach((l,u)=>{const c=Ar(n,l);xC(e,jt(c))||(a=M0(t,a,c,u,i,s,o))}),a}function DC(t,e,n){return n.foreach((r,i)=>{e=e.updateChild(r,i)}),e}function L0(t,e,n,r,i,s,o,a){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let l=e,u;Lt(n)?u=r:u=new In(null).setTree(n,r);const c=e.serverCache.getNode();return u.children.inorderTraversal((d,h)=>{if(c.hasChild(d)){const p=e.serverCache.getNode().getImmediateChild(d),m=DC(t,p,h);l=Jm(t,l,new kn(d),m,i,s,o,a)}}),u.children.inorderTraversal((d,h)=>{const p=!e.serverCache.isCompleteForChild(d)&&h.value===null;if(!c.hasChild(d)&&!p){const m=e.serverCache.getNode().getImmediateChild(d),g=DC(t,m,h);l=Jm(t,l,new kn(d),g,i,s,o,a)}}),l}function NK(t,e,n,r,i,s,o){if(Qm(i,n)!=null)return e;const a=e.serverCache.isFiltered(),l=e.serverCache;if(r.value!=null){if(Lt(n)&&l.isFullyInitialized()||l.isCompleteForPath(n))return Jm(t,e,n,l.getNode().getChild(n),i,s,a,o);if(Lt(n)){let u=new In(null);return l.getNode().forEachChild(Wu,(c,d)=>{u=u.set(new kn(c),d)}),L0(t,e,n,u,i,s,a,o)}else return e}else{let u=new In(null);return r.foreach((c,d)=>{const h=Ar(n,c);l.isCompleteForPath(h)&&(u=u.set(c,l.getNode().getChild(h)))}),L0(t,e,n,u,i,s,a,o)}}function MK(t,e,n,r,i){const s=e.serverCache,o=VN(e,s.getNode(),s.isFullyInitialized()||Lt(n),s.isFiltered());return zN(t,o,n,r,WN,i)}function LK(t,e,n,r,i,s){let o;if(Qm(r,n)!=null)return e;{const a=new E1(r,e,i),l=e.eventCache.getNode();let u;if(Lt(n)||jt(n)===".priority"){let c;if(e.serverCache.isFullyInitialized())c=N0(r,Ll(e));else{const d=e.serverCache.getNode();Ge(d instanceof on,"serverChildren would be complete if leaf node"),c=BN(r,d)}c=c,u=t.filter.updateFullNode(l,c,s)}else{const c=jt(n);let d=T1(r,c,e.serverCache);d==null&&e.serverCache.isCompleteForChild(c)&&(d=l.getImmediateChild(c)),d!=null?u=t.filter.updateChild(l,c,d,Cn(n),a,s):e.eventCache.getNode().hasChild(c)?u=t.filter.updateChild(l,c,on.EMPTY_NODE,Cn(n),a,s):u=l,u.isEmpty()&&e.serverCache.isFullyInitialized()&&(o=N0(r,Ll(e)),o.isLeafNode()&&(u=t.filter.updateFullNode(u,o,s)))}return o=e.serverCache.isFullyInitialized()||Qm(r,un())!=null,Yd(e,u,o,t.filter.filtersNodes())}}function VK(t,e){const n=Ll(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!Lt(e)&&!n.getImmediateChild(jt(e)).isEmpty())?n.getChild(e):null}function NC(t,e,n,r){e.type===Ds.MERGE&&e.source.queryId!==null&&(Ge(Ll(t.viewCache_),"We should always have a full cache before handling merges"),Ge(R0(t.viewCache_),"Missing event cache, even though we have a server cache"));const i=t.viewCache_,s=RK(t.processor_,i,e,n,r);return kK(t.processor_,s.viewCache),Ge(s.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=s.viewCache,$K(t,s.changes,s.viewCache.eventCache.getNode(),null)}function $K(t,e,n,r){const i=r?[r]:t.eventRegistrations_;return dK(t.eventGenerator_,e,n,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let MC;function FK(t){Ge(!MC,"__referenceConstructor has already been defined"),MC=t}function S1(t,e,n,r){const i=e.source.queryId;if(i!==null){const s=t.views.get(i);return Ge(s!=null,"SyncTree gave us an op for an invalid query."),NC(s,e,n,r)}else{let s=[];for(const o of t.views.values())s=s.concat(NC(o,e,n,r));return s}}function I1(t,e){let n=null;for(const r of t.views.values())n=n||VK(r,e);return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let LC;function UK(t){Ge(!LC,"__referenceConstructor has already been defined"),LC=t}class VC{constructor(e){this.listenProvider_=e,this.syncPointTree_=new In(null),this.pendingWriteTree_=CK(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function qK(t,e,n,r,i){return mK(t.pendingWriteTree_,e,n,r,i),i?gv(t,new Ml(DN(),e,n)):[]}function Eu(t,e,n=!1){const r=gK(t.pendingWriteTree_,e);if(vK(t.pendingWriteTree_,e)){let s=new In(null);return r.snap!=null?s=s.set(un(),!0):Ji(r.children,o=>{s=s.set(new kn(o),!0)}),gv(t,new Xm(r.path,s,n))}else return[]}function mv(t,e,n){return gv(t,new Ml(NN(),e,n))}function BK(t,e,n){const r=In.fromObject(n);return gv(t,new Rh(NN(),e,r))}function jK(t,e,n,r){const i=XN(t,r);if(i!=null){const s=QN(i),o=s.path,a=s.queryId,l=Yi(o,e),u=new Ml(MN(a),l,n);return JN(t,o,u)}else return[]}function HK(t,e,n,r){const i=XN(t,r);if(i){const s=QN(i),o=s.path,a=s.queryId,l=Yi(o,e),u=In.fromObject(n),c=new Rh(MN(a),l,u);return JN(t,o,c)}else return[]}function KN(t,e,n){const i=t.pendingWriteTree_,s=t.syncPointTree_.findOnPath(e,(o,a)=>{const l=Yi(o,e),u=I1(a,l);if(u)return u});return qN(i,e,s,n,!0)}function gv(t,e){return GN(e,t.syncPointTree_,null,FN(t.pendingWriteTree_,un()))}function GN(t,e,n,r){if(Lt(t.path))return YN(t,e,n,r);{const i=e.get(un());n==null&&i!=null&&(n=I1(i,un()));let s=[];const o=jt(t.path),a=t.operationForChild(o),l=e.children.get(o);if(l&&a){const u=n?n.getImmediateChild(o):null,c=jN(r,o);s=s.concat(GN(a,l,u,c))}return i&&(s=s.concat(S1(i,t,r,n))),s}}function YN(t,e,n,r){const i=e.get(un());n==null&&i!=null&&(n=I1(i,un()));let s=[];return e.children.inorderTraversal((o,a)=>{const l=n?n.getImmediateChild(o):null,u=jN(r,o),c=t.operationForChild(o);c&&(s=s.concat(YN(c,a,l,u)))}),i&&(s=s.concat(S1(i,t,r,n))),s}function XN(t,e){return t.tagToQueryMap.get(e)}function QN(t){const e=t.indexOf("$");return Ge(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new kn(t.substr(0,e))}}function JN(t,e,n){const r=t.syncPointTree_.get(e);Ge(r,"Missing sync point for query tag that we're tracking");const i=FN(t.pendingWriteTree_,e);return S1(r,n,i,null)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C1{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new C1(n)}node(){return this.node_}}class A1{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=Ar(this.path_,e);return new A1(this.syncTree_,n)}node(){return KN(this.syncTree_,this.path_)}}const WK=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},$C=function(t,e,n){if(!t||typeof t!="object")return t;if(Ge(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return zK(t[".sv"],e,n);if(typeof t[".sv"]=="object")return KK(t[".sv"],e);Ge(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},zK=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:Ge(!1,"Unexpected server value: "+t)}},KK=function(t,e,n){t.hasOwnProperty("increment")||Ge(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const r=t.increment;typeof r!="number"&&Ge(!1,"Unexpected increment value: "+r);const i=e.node();if(Ge(i!==null&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const o=i.getValue();return typeof o!="number"?r:o+r},GK=function(t,e,n,r){return P1(e,new A1(n,t),r)},YK=function(t,e,n){return P1(t,new C1(e),n)};function P1(t,e,n){const r=t.getPriority().val(),i=$C(r,e.getImmediateChild(".priority"),n);let s;if(t.isLeafNode()){const o=t,a=$C(o.getValue(),e,n);return a!==o.getValue()||i!==o.getPriority().val()?new Er(a,Yr(i)):t}else{const o=t;return s=o,i!==o.getPriority().val()&&(s=s.updatePriority(new Er(i))),o.forEachChild(Zr,(a,l)=>{const u=P1(l,e.getImmediateChild(a),n);u!==l&&(s=s.updateImmediateChild(a,u))}),s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O1{constructor(e="",n=null,r={children:{},childCount:0}){this.name=e,this.parent=n,this.node=r}}function k1(t,e){let n=e instanceof kn?e:new kn(e),r=t,i=jt(n);for(;i!==null;){const s=nc(r.node.children,i)||{children:{},childCount:0};r=new O1(i,r,s),n=Cn(n),i=jt(n)}return r}function Lc(t){return t.node.value}function ZN(t,e){t.node.value=e,V0(t)}function eM(t){return t.node.childCount>0}function XK(t){return Lc(t)===void 0&&!eM(t)}function vv(t,e){Ji(t.node.children,(n,r)=>{e(new O1(n,t,r))})}function tM(t,e,n,r){n&&!r&&e(t),vv(t,i=>{tM(i,e,!0,r)}),n&&r&&e(t)}function QK(t,e,n){let r=n?t:t.parent;for(;r!==null;){if(e(r))return!0;r=r.parent}return!1}function Pf(t){return new kn(t.parent===null?t.name:Pf(t.parent)+"/"+t.name)}function V0(t){t.parent!==null&&JK(t.parent,t.name,t)}function JK(t,e,n){const r=XK(n),i=ko(t.node.children,e);r&&i?(delete t.node.children[e],t.node.childCount--,V0(t)):!r&&!i&&(t.node.children[e]=n.node,t.node.childCount++,V0(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZK=/[\[\].#$\/\u0000-\u001F\u007F]/,eG=/[\[\].#$\u0000-\u001F\u007F]/,xy=10*1024*1024,nM=function(t){return typeof t=="string"&&t.length!==0&&!ZK.test(t)},tG=function(t){return typeof t=="string"&&t.length!==0&&!eG.test(t)},nG=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),tG(t)},rM=function(t,e,n){const r=n instanceof kn?new Mz(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+Qa(r));if(typeof e=="function")throw new Error(t+"contains a function "+Qa(r)+" with contents = "+e.toString());if(nN(e))throw new Error(t+"contains "+e.toString()+" "+Qa(r));if(typeof e=="string"&&e.length>xy/3&&Fg(e)>xy)throw new Error(t+"contains a string greater than "+xy+" utf8 bytes "+Qa(r)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let i=!1,s=!1;if(Ji(e,(o,a)=>{if(o===".value")i=!0;else if(o!==".priority"&&o!==".sv"&&(s=!0,!nM(o)))throw new Error(t+" contains an invalid key ("+o+") "+Qa(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);Lz(r,o),rM(t,a,r),Vz(r)}),i&&s)throw new Error(t+' contains ".value" child '+Qa(r)+" in addition to actual children.")}},rG=function(t,e){const n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!nM(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!nG(n))throw new Error(T6(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iG{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function sG(t,e){let n=null;for(let r=0;r<e.length;r++){const i=e[r],s=i.getPath();n!==null&&!IN(s,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:s}),n.events.push(i)}n&&t.eventLists_.push(n)}function Kl(t,e,n){sG(t,n),oG(t,r=>ps(r,e)||ps(e,r))}function oG(t,e){t.recursionDepth_++;let n=!0;for(let r=0;r<t.eventLists_.length;r++){const i=t.eventLists_[r];if(i){const s=i.path;e(s)?(aG(t.eventLists_[r]),t.eventLists_[r]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function aG(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(n!==null){t.events[e]=null;const r=n.getEventRunner();pl&&Gr("event: "+n.toString()),Cf(r)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lG="repo_interrupt",uG=25;class cG{constructor(e,n,r,i){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new iG,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Ym(),this.transactionQueueTree_=new O1,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function dG(t,e,n){if(t.stats_=g1(t.repoInfo_),t.forceRestClient_||sz())t.server_=new Gm(t.repoInfo_,(r,i,s,o)=>{FC(t,r,i,s,o)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>UC(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Nr(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}t.persistentConnection_=new wo(t.repoInfo_,e,(r,i,s,o)=>{FC(t,r,i,s,o)},r=>{UC(t,r)},r=>{fG(t,r)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(r=>{t.server_.refreshAuthToken(r)}),t.appCheckProvider_.addTokenChangeListener(r=>{t.server_.refreshAppCheckToken(r.token)}),t.statsReporter_=dz(t.repoInfo_,()=>new cK(t.stats_,t.server_)),t.infoData_=new sK,t.infoSyncTree_=new VC({startListening:(r,i,s,o)=>{let a=[];const l=t.infoData_.getNode(r._path);return l.isEmpty()||(a=mv(t.infoSyncTree_,r._path,l),setTimeout(()=>{o("ok")},0)),a},stopListening:()=>{}}),R1(t,"connected",!1),t.serverSyncTree_=new VC({startListening:(r,i,s,o)=>(t.server_.listen(r,s,i,(a,l)=>{const u=o(a,l);Kl(t.eventQueue_,r._path,u)}),[]),stopListening:(r,i)=>{t.server_.unlisten(r,i)}})}function hG(t){const n=t.infoData_.getNode(new kn(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function iM(t){return WK({timestamp:hG(t)})}function FC(t,e,n,r,i){t.dataUpdateCount++;const s=new kn(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let o=[];if(i)if(r){const l=Tm(n,u=>Yr(u));o=HK(t.serverSyncTree_,s,l,i)}else{const l=Yr(n);o=jK(t.serverSyncTree_,s,l,i)}else if(r){const l=Tm(n,u=>Yr(u));o=BK(t.serverSyncTree_,s,l)}else{const l=Yr(n);o=mv(t.serverSyncTree_,s,l)}let a=s;o.length>0&&(a=D1(t,s)),Kl(t.eventQueue_,a,o)}function UC(t,e){R1(t,"connected",e),e===!1&&mG(t)}function fG(t,e){Ji(e,(n,r)=>{R1(t,n,r)})}function R1(t,e,n){const r=new kn("/.info/"+e),i=Yr(n);t.infoData_.updateSnapshot(r,i);const s=mv(t.infoSyncTree_,r,i);Kl(t.eventQueue_,r,s)}function pG(t){return t.nextWriteId_++}function mG(t){sM(t,"onDisconnectEvents");const e=iM(t),n=Ym();k0(t.onDisconnect_,un(),(i,s)=>{const o=GK(i,s,t.serverSyncTree_,e);xN(n,i,o)});let r=[];k0(n,un(),(i,s)=>{r=r.concat(mv(t.serverSyncTree_,i,s));const o=bG(t,i);D1(t,o)}),t.onDisconnect_=Ym(),Kl(t.eventQueue_,un(),r)}function gG(t){t.persistentConnection_&&t.persistentConnection_.interrupt(lG)}function sM(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),Gr(n,...e)}function oM(t,e,n){return KN(t.serverSyncTree_,e,n)||on.EMPTY_NODE}function x1(t,e=t.transactionQueueTree_){if(e||yv(t,e),Lc(e)){const n=lM(t,e);Ge(n.length>0,"Sending zero length transaction queue"),n.every(i=>i.status===0)&&vG(t,Pf(e),n)}else eM(e)&&vv(e,n=>{x1(t,n)})}function vG(t,e,n){const r=n.map(u=>u.currentWriteId),i=oM(t,e,r);let s=i;const o=i.hash();for(let u=0;u<n.length;u++){const c=n[u];Ge(c.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),c.status=1,c.retryCount++;const d=Yi(e,c.path);s=s.updateChild(d,c.currentOutputSnapshotRaw)}const a=s.val(!0),l=e;t.server_.put(l.toString(),a,u=>{sM(t,"transaction put response",{path:l.toString(),status:u});let c=[];if(u==="ok"){const d=[];for(let h=0;h<n.length;h++)n[h].status=2,c=c.concat(Eu(t.serverSyncTree_,n[h].currentWriteId)),n[h].onComplete&&d.push(()=>n[h].onComplete(null,!0,n[h].currentOutputSnapshotResolved)),n[h].unwatcher();yv(t,k1(t.transactionQueueTree_,e)),x1(t,t.transactionQueueTree_),Kl(t.eventQueue_,e,c);for(let h=0;h<d.length;h++)Cf(d[h])}else{if(u==="datastale")for(let d=0;d<n.length;d++)n[d].status===3?n[d].status=4:n[d].status=0;else{qi("transaction at "+l.toString()+" failed: "+u);for(let d=0;d<n.length;d++)n[d].status=4,n[d].abortReason=u}D1(t,e)}},o)}function D1(t,e){const n=aM(t,e),r=Pf(n),i=lM(t,n);return yG(t,i,r),r}function yG(t,e,n){if(e.length===0)return;const r=[];let i=[];const o=e.filter(a=>a.status===0).map(a=>a.currentWriteId);for(let a=0;a<e.length;a++){const l=e[a],u=Yi(n,l.path);let c=!1,d;if(Ge(u!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),l.status===4)c=!0,d=l.abortReason,i=i.concat(Eu(t.serverSyncTree_,l.currentWriteId,!0));else if(l.status===0)if(l.retryCount>=uG)c=!0,d="maxretry",i=i.concat(Eu(t.serverSyncTree_,l.currentWriteId,!0));else{const h=oM(t,l.path,o);l.currentInputSnapshot=h;const p=e[a].update(h.val());if(p!==void 0){rM("transaction failed: Data returned ",p,l.path);let m=Yr(p);typeof p=="object"&&p!=null&&ko(p,".priority")||(m=m.updatePriority(h.getPriority()));const y=l.currentWriteId,P=iM(t),I=YK(m,h,P);l.currentOutputSnapshotRaw=m,l.currentOutputSnapshotResolved=I,l.currentWriteId=pG(t),o.splice(o.indexOf(y),1),i=i.concat(qK(t.serverSyncTree_,l.path,I,l.currentWriteId,l.applyLocally)),i=i.concat(Eu(t.serverSyncTree_,y,!0))}else c=!0,d="nodata",i=i.concat(Eu(t.serverSyncTree_,l.currentWriteId,!0))}Kl(t.eventQueue_,n,i),i=[],c&&(e[a].status=2,function(h){setTimeout(h,Math.floor(0))}(e[a].unwatcher),e[a].onComplete&&(d==="nodata"?r.push(()=>e[a].onComplete(null,!1,e[a].currentInputSnapshot)):r.push(()=>e[a].onComplete(new Error(d),!1,null))))}yv(t,t.transactionQueueTree_);for(let a=0;a<r.length;a++)Cf(r[a]);x1(t,t.transactionQueueTree_)}function aM(t,e){let n,r=t.transactionQueueTree_;for(n=jt(e);n!==null&&Lc(r)===void 0;)r=k1(r,n),e=Cn(e),n=jt(e);return r}function lM(t,e){const n=[];return uM(t,e,n),n.sort((r,i)=>r.order-i.order),n}function uM(t,e,n){const r=Lc(e);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);vv(e,i=>{uM(t,i,n)})}function yv(t,e){const n=Lc(e);if(n){let r=0;for(let i=0;i<n.length;i++)n[i].status!==2&&(n[r]=n[i],r++);n.length=r,ZN(e,n.length>0?n:void 0)}vv(e,r=>{yv(t,r)})}function bG(t,e){const n=Pf(aM(t,e)),r=k1(t.transactionQueueTree_,e);return QK(r,i=>{Dy(t,i)}),Dy(t,r),tM(r,i=>{Dy(t,i)}),n}function Dy(t,e){const n=Lc(e);if(n){const r=[];let i=[],s=-1;for(let o=0;o<n.length;o++)n[o].status===3||(n[o].status===1?(Ge(s===o-1,"All SENT items should be at beginning of queue."),s=o,n[o].status=3,n[o].abortReason="set"):(Ge(n[o].status===0,"Unexpected transaction status in abort"),n[o].unwatcher(),i=i.concat(Eu(t.serverSyncTree_,n[o].currentWriteId,!0)),n[o].onComplete&&r.push(n[o].onComplete.bind(null,new Error("set"),!1,null))));s===-1?ZN(e,void 0):n.length=s+1,Kl(t.eventQueue_,Pf(e),i);for(let o=0;o<r.length;o++)Cf(r[o])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _G(t){let e="";const n=t.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}e+="/"+i}return e}function wG(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const n of t.split("&")){if(n.length===0)continue;const r=n.split("=");r.length===2?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):qi(`Invalid query segment '${n}' in query '${t}'`)}return e}const qC=function(t,e){const n=TG(t),r=n.namespace;n.domain==="firebase.com"&&Dl(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&Dl("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||QW();const i=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new lz(n.host,n.secure,r,i,e,"",r!==n.subdomain),path:new kn(n.pathString)}},TG=function(t){let e="",n="",r="",i="",s="",o=!0,a="https",l=443;if(typeof t=="string"){let u=t.indexOf("//");u>=0&&(a=t.substring(0,u-1),t=t.substring(u+2));let c=t.indexOf("/");c===-1&&(c=t.length);let d=t.indexOf("?");d===-1&&(d=t.length),e=t.substring(0,Math.min(c,d)),c<d&&(i=_G(t.substring(c,d)));const h=wG(t.substring(Math.min(t.length,d)));u=e.indexOf(":"),u>=0?(o=a==="https"||a==="wss",l=parseInt(e.substring(u+1),10)):u=e.length;const p=e.slice(0,u);if(p.toLowerCase()==="localhost")n="localhost";else if(p.split(".").length<=2)n=p;else{const m=e.indexOf(".");r=e.substring(0,m).toLowerCase(),n=e.substring(m+1),s=r}"ns"in h&&(s=h.ns)}return{host:e,port:l,domain:n,subdomain:r,secure:o,scheme:a,pathString:i,namespace:s}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N1{constructor(e,n,r,i){this._repo=e,this._path=n,this._queryParams=r,this._orderByCalled=i}get key(){return Lt(this._path)?null:TN(this._path)}get ref(){return new Vc(this._repo,this._path)}get _queryIdentifier(){const e=CC(this._queryParams),n=p1(e);return n==="{}"?"default":n}get _queryObject(){return CC(this._queryParams)}isEqual(e){if(e=Zt(e),!(e instanceof N1))return!1;const n=this._repo===e._repo,r=IN(this._path,e._path),i=this._queryIdentifier===e._queryIdentifier;return n&&r&&i}toJSON(){return this.toString()}toString(){return this._repo.toString()+Nz(this._path)}}class Vc extends N1{constructor(e,n){super(e,n,new _1,!1)}get parent(){const e=SN(this._path);return e===null?null:new Vc(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}FK(Vc);UK(Vc);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EG="FIREBASE_DATABASE_EMULATOR_HOST",$0={};let SG=!1;function IG(t,e,n,r,i){let s=r||t.options.databaseURL;s===void 0&&(t.options.projectId||Dl("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Gr("Using default host for project ",t.options.projectId),s=`${t.options.projectId}-default-rtdb.firebaseio.com`);let o=qC(s,i),a=o.repoInfo,l,u;typeof process<"u"&&aC&&(u=aC[EG]),u?(l=!0,s=`http://${u}?ns=${a.namespace}`,o=qC(s,i),a=o.repoInfo):l=!o.repoInfo.secure;const c=i&&l?new A0(A0.OWNER):new az(t.name,t.options,e);rG("Invalid Firebase Database URL",o),Lt(o.path)||Dl("Database URL must point to the root of a Firebase Database (not including a child path).");const d=AG(a,t,c,new oz(t.name,n));return new PG(d,t)}function CG(t,e){const n=$0[e];(!n||n[t.key]!==t)&&Dl(`Database ${e}(${t.repoInfo_}) has already been deleted.`),gG(t),delete n[t.key]}function AG(t,e,n,r){let i=$0[e.name];i||(i={},$0[e.name]=i);let s=i[t.toURLString()];return s&&Dl("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new cG(t,SG,n,r),i[t.toURLString()]=s,s}class PG{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(dG(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Vc(this._repo,un())),this._rootInternal}_delete(){return this._rootInternal!==null&&(CG(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&Dl("Cannot call "+e+" on a deleted database.")}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OG(t){zW(Na),Oi(new mi("database",(e,{instanceIdentifier:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),s=e.getProvider("app-check-internal");return IG(r,i,s,n)},"PUBLIC").setMultipleInstances(!0)),Vr(lC,uC,t),Vr(lC,uC,"esm2017")}wo.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};wo.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};OG();function cM(t){return VB(J2(t))}function kG(t){return xG({initialUser:t,dependencies:{popupRedirectResolver:X2,persistence:[K2,q2,d1]}})}const RG=Symbol("VueFireAuth");function xG({dependencies:t,initialUser:e}){return(n,r)=>{const[i,s]=DG(n,r,e,t);WW(i,s)}}function DG(t,e,n,r,i=k2(t,r)){const s=BW(t,e).run(()=>ie(n));return jW.set(t,s),e.provide(RG,i),[s,i]}function NG(t,{firebaseApp:e,modules:n=[]}){t.provide(Q2,e);for(const r of n)r(e,t)}const dM={name:"Sander Derks",role:"Full-Stack Developer",service:"Software Development",location:{country:"The Netherlands",city:"Nijmegen"}},MG={avatarUrl:"/images/avatar-small.jpg",headerDescriptionGuest:["Loading"],headerDescriptionUser:["Loading"],blogDescriptionGuest:["Loading"],blogDescriptionUser:["Loading"],blogLoginGuest:"",dashboardDescription:["Loading"],privacyStatement:["Loading"],footerCopyright:"Sander Derks. All rights reserved."},LG=[{name:"",description:"Loading...",technologies:[],loading:!0},{name:"",description:"Loading...",technologies:[],loading:!0},{name:"",description:"Loading...",technologies:[],loading:!0},{name:"",description:"Loading...",technologies:[],loading:!0}],VG=[{id:"1",name:"Loading...",url:"#",loading:!0},{id:"2",name:"Loading...",url:"#",loading:!0},{id:"3",name:"Loading...",url:"#",loading:!0}],hM=[{value:"left",label:"Left"},{value:"center",label:"Center"},{value:"right",label:"Right"}];var Cr;(t=>{t.mapIncoming=async e=>{var n,r,i,s,o,a;return{...e,alignment:e.alignment??"center",date:e.date.toDate(),dateUpdated:((n=e.dateUpdated)==null?void 0:n.toDate())??null,datePinned:((r=e.datePinned)==null?void 0:r.toDate())??null,reactions:await Promise.all((await Promise.all(((i=e.reactions)==null?void 0:i.map(async l=>await Ki(l)))??[])).map(async l=>Zm.mapIncoming(l,e.id)).filter(l=>!!l)),sections:((s=e.sections)==null?void 0:s.map(l=>{var u,c;return{...l,id:l.id??c2(),subTitle:l.subTitle??"",alignment:l.alignment??"center",countdown:((u=l.countdown)==null?void 0:u.toDate())??null,timer:((c=l.timer)==null?void 0:c.toDate())??null,coverImageUrl:l.coverImageUrl??"",bullets:l.bullets??[],table:l.table??""}}))??[],countdown:((o=e.countdown)==null?void 0:o.toDate())??null,timer:((a=e.timer)==null?void 0:a.toDate())??null,archived:e.archived??!1,table:e.table??""}},t.convert=e=>({title:e.title,description:e.description,descriptionFooter:e.descriptionFooter??"",alignment:e.alignment??"left",sections:e.sections??[],date:e.date,dateUpdated:e.dateUpdated,datePinned:e.datePinned,locked:e.locked??!1,colorPrimary:e.colorPrimary??"",colorSecondary:e.colorSecondary??"",colorTertiary:e.colorTertiary??"",opacityPrimary:e.opacityPrimary??"",opacitySecondary:e.opacitySecondary??"",opacityTertiary:e.opacityTertiary??"",coverImageUrl:e.coverImageUrl??"",allowedUserIds:e.allowedUserIds??[],countdown:e.countdown,timer:e.timer,archived:e.archived,table:e.table}),(e=>{e.convert=n=>({title:n.title,description:n.description,descriptionFooter:n.descriptionFooter,sections:n.sections,coverImageUrl:n.coverImageUrl,countdown:n.countdown,timer:n.timer,table:n.table}),e.instanceOf=n=>["title","description","descriptionFooter","sections","coverImageUrl","countdown","timer","table"].every(r=>r in n)})(t.Content||(t.Content={})),(e=>{e.convert=n=>({alignment:n.alignment,colorPrimary:n.colorPrimary,colorSecondary:n.colorSecondary,colorTertiary:n.colorTertiary,opacityPrimary:n.opacityPrimary,opacitySecondary:n.opacitySecondary,opacityTertiary:n.opacityTertiary}),e.instanceOf=n=>["alignment","colorPrimary","colorSecondary","colorTertiary","opacityPrimary","opacitySecondary","opacityTertiary"].every(r=>r in n)})(t.Styling||(t.Styling={})),(e=>{e.convert=n=>({locked:n.locked,allowedUserIds:n.allowedUserIds,archived:n.archived,datePinned:n.datePinned}),e.instanceOf=n=>["locked","archived","datePinned"].every(r=>r in n)})(t.Settings||(t.Settings={}))})(Cr||(Cr={}));var Zm;(t=>{t.mapIncoming=async(e,n)=>{if(!e)return null;const r=await Ki(e.user);return r?{...e,user:r,postId:n,date:e.date.toDate()}:null},t.convert=e=>({userId:e.user.id,postId:e.postId,message:e.message,date:e.date})})(Zm||(Zm={}));var mc;(t=>{t.mapIncoming=async e=>{var n,r;return{...e,firstName:e.firstName??"",lastName:e.lastName??"",createdAt:(n=e.createdAt)==null?void 0:n.toDate(),lastLogin:(r=e.lastLogin)==null?void 0:r.toDate()}},t.convert=e=>({firstName:e.firstName,lastName:e.lastName})})(mc||(mc={}));var F0;(t=>{t.convert=e=>({displayName:e.displayName,avatar:e.avatar??""})})(F0||(F0={}));const eg=[{value:"bg-primary-900",label:"Default",background:"bg-primary-900",text:"text-white"},{value:"bg-red-700",label:"Important",background:"bg-red-700",text:"text-white"},{value:"bg-orange-500",label:"Orange",background:"bg-orange-500",text:"text-orange-900"},{value:"bg-yellow-900",label:"Amber",background:"bg-yellow-900",text:"text-yellow-500"},{value:"bg-yellow-500",label:"Yellow",background:"bg-yellow-500",text:"text-yellow-900"},{value:"bg-green-500",label:"Green",background:"bg-green-500",text:"text-green-900"},{value:"bg-cyan-500",label:"Aqua",background:"bg-cyan-500",text:"text-cyan-900"},{value:"bg-blue-600",label:"Blue",background:"bg-blue-600",text:"text-blue-900"},{value:"bg-purple-600",label:"Purple",background:"bg-purple-600",text:"text-purple-900"},{value:"bg-pink-600",label:"Pink",background:"bg-pink-600",text:"text-pink-900"},{value:"bg-gray-900",label:"Gray",background:"bg-gray-900",text:"text-white"}],$G=t=>eg.map((e,n)=>n===0?{value:"",label:"Match Primary",background:(t==null?void 0:t.background)||"bg-primary-900",text:(t==null?void 0:t.text)||"text-white"}:e),FG=eg.map((t,e)=>e===0?{value:"",label:"Default",background:"bg-primary-700",text:"text-white"}:t),Ny=[{value:"",label:"Default"},{value:"bg-opacity-10",label:"10"},{value:"bg-opacity-20",label:"20"},{value:"bg-opacity-30",label:"30"},{value:"bg-opacity-40",label:"40"},{value:"bg-opacity-50",label:"50"},{value:"bg-opacity-60",label:"60"},{value:"bg-opacity-70",label:"70"},{value:"bg-opacity-80",label:"80"},{value:"bg-opacity-90",label:"90"},{value:"bg-opacity-100",label:"100"}],tn=cM(),Bt={content:zi(tn,"content"),projects:zi(tn,"projects"),menuItems:t=>zi(tn,t?"menuItemsPrivate":"menuItems"),menuItemsPrivate:zi(tn,"menuItemsPrivate"),blogPosts:t=>zi(tn,t?"blogPostsPrivate":"blogPosts"),blogPostsPrivate:zi(tn,"blogPostsPrivate"),blogReactions:t=>zi(tn,t?"blogReactionsPrivate":"blogReactions"),users:zi(tn,"users"),usersPublic:zi(tn,"usersPublic"),files:zi(tn,"files")},jn=cw("main",{state:()=>({profile:dM,content:MG,menuItems:VG,projects:LG,blogPosts:{visibility:"public",data:{public:[],private:[],single:null},previousData:{public:[],private:[],single:null},isLastPage:!1,isLoading:{public:{fetch:!1,mutation:!1},private:{fetch:!1,mutation:!1}},isDatabaseCreationActive:!1,isDatabaseMutationActive:!1,isDatabaseDeletionActive:!1},blogReactions:{isDatabaseCreationActive:!1,isDatabaseDeletionActive:!1,unread:[]},users:[],publicUsers:[],isOnline:!0,debug:!1,isFetchAllLoading:!1}),getters:{filteredProjects:t=>t.projects.filter(e=>!e.loading),filteredMenuItems:t=>t.menuItems.filter(e=>!e.loading),visibleMenuItems:t=>t.menuItems.filter(e=>!e.invisible),allBlogPosts:t=>[...t.blogPosts.data.public,...t.blogPosts.data.private],visibleBlogPosts:t=>t.blogPosts.data[t.blogPosts.visibility],previousVisibleBlogPosts:t=>t.blogPosts.previousData[t.blogPosts.visibility],isBlogPostsFetchLoading:t=>t.blogPosts.isLoading.public.fetch||t.blogPosts.isLoading.private.fetch,isBlogPostsMutationLoading:t=>t.blogPosts.isLoading.public.mutation||t.blogPosts.isLoading.private.mutation,isBlogPostDatabaseActionActive:t=>t.blogPosts.isDatabaseCreationActive||t.blogPosts.isDatabaseMutationActive||t.blogPosts.isDatabaseDeletionActive||t.blogReactions.isDatabaseCreationActive||t.blogReactions.isDatabaseDeletionActive},actions:{async fetchAll(t,e){try{this.isFetchAllLoading||(this.isFetchAllLoading=!0,console.log("attempt to fetch all"),(this.debug||this.isOnline&&(!this.filteredMenuItems.length||e))&&(console.log("fetch all"),this.blogPosts.data={public:[],private:[],single:null},this.blogPosts.visibility="public",await Promise.all([this.fetchProjects(),this.fetchMenuItems(t),this.fetchBlogPosts(t),this.fetchContent(),this.fetchPublicUsers()]),br().isOwner&&await this.fetchUsers()))}catch(n){nt.firebaseError(this.debug,n)}finally{this.isFetchAllLoading=!1}},async fetchContent(){try{const t=await Ki(Qt(tn,Bt.content.id,"production"));this.content={...this.content,...t||{}}}catch(t){nt.firebaseError(this.debug,t)}},async fetchProjects(){try{const t=await Promise.all((await za(Bt.projects)).map(async e=>({...e,technologies:await Promise.all(e.technologies.map(async n=>await Ki(n)))})));this.projects=t.length?FI(t):this.projects}catch(t){nt.firebaseError(this.debug,t)}},moveProject(t,e){const n=this.projects.splice(t,1)[0];this.projects.splice(e,0,n)},async fetchMenuItems(t){try{let e=await za(Bt.menuItems());if(t)try{e=e.concat(await za(Bt.menuItemsPrivate,[g0("allowedUserIds","array-contains",Qt(tn,Bt.usersPublic.id,t).id)]))}catch{}return this.menuItems=e.length?FI(e):this.menuItems,this.menuItems}catch(e){nt.firebaseError(this.debug,e)}},async fetchBlogPosts(t,e={}){const n=e.visibility??this.blogPosts.visibility;e.loadingIndicator!==!1&&(this.blogPosts.isLoading[n].fetch=!0);try{const i=this.blogPosts.data[n][this.blogPosts.data[n].length-1],s=[OI("datePinned","desc"),OI("date","desc"),WB(e.amount||3)];this.visibleBlogPosts.length||(this.blogPosts.isLastPage=!1),e.amount&&e.loadingIndicator!==!1&&(this.blogPosts.data[n]=[]),!e.amount&&i&&s.push(zB(i.datePinned,i.date));var r=[];n==="private"&&t?r=await za(Bt.blogPostsPrivate,[g0("allowedUserIds","array-contains",Qt(tn,Bt.usersPublic.id,t).id),...s]):n==="public"&&(r=await za(Bt.blogPosts(!1),s));const o=await Promise.all(r.map(async a=>await Cr.mapIncoming(a)));if(e.amount)this.blogPosts.data[n]=o;else for(const a of o)this.blogPosts.data[n].push(a);o.length<3&&(this.blogPosts.isLastPage=!0)}catch(i){nt.firebaseError(this.debug,i)}finally{this.blogPosts.isLoading[n].fetch=!1}},async fetchBlogPost(t,e,n={}){console.log("attempt to fetch single");const r=(e==null?void 0:e.visibility)??"public";n.loadingIndicator!==!1&&(this.blogPosts.isLoading[r].fetch=!0);try{var i=await Ki(Qt(Bt.blogPosts(!!(e!=null&&e.isPrivate)),t));return i||(i=await Ki(Qt(Bt.blogPostsPrivate,t))),i?(this.blogPosts.data.single=await Cr.mapIncoming(i),this.blogPosts.data.single):null}catch(s){return nt.firebaseError(this.debug,s),null}finally{this.blogPosts.isLoading[r].fetch=!1}},async fetchUsers(){try{const t=await za(Bt.users);this.users=await Promise.all(t.map(async e=>await mc.mapIncoming(e)))}catch(t){return nt.firebaseError(this.debug,t),null}},async fetchPublicUsers(){try{this.publicUsers=await za(Bt.usersPublic)}catch(t){return nt.firebaseError(this.debug,t),null}},async fetchPublicUser(t){try{return await Ki(Qt(tn,Bt.usersPublic.id,t))}catch(e){return nt.firebaseError(this.debug,e),null}},async allowedPublicUsers(t){try{return(await Promise.all(t.map(async n=>{const r=await this.fetchPublicUser(n);return r?{...r,displayName:r.displayName||"Anonymous"}:null}))).filter(Boolean)}catch{return[]}},setPreviousBlogPosts(){this.blogPosts.previousData.single=this.blogPosts.data.single,this.blogPosts.previousData[this.blogPosts.visibility]=this.visibleBlogPosts},checkBlogPostForUnreadReactions(t,e){const n=this.blogReactions.unread.length;if(t){let r;if(e?r=this.blogPosts.data.single:r=this.visibleBlogPosts.find(i=>i.id===t.id),r&&r.reactions.length!==t.reactions.length){const i=r.reactions.filter(s=>!t.reactions.some(o=>o.id===s.id));for(const s of i)this.blogReactions.unread.every(o=>o.id!==s.id)&&this.blogReactions.unread.push(s)}}e&&(n!==this.blogReactions.unread.length&&nt.update("There are unread comments on this page"),this.setPreviousBlogPosts())},checkBlogPostsForUnreadReactions(){const t=this.blogReactions.unread.length;if(this.previousVisibleBlogPosts.length)for(const e of this.previousVisibleBlogPosts)this.checkBlogPostForUnreadReactions(e);t!==this.blogReactions.unread.length&&nt.update("There are unread comments on this page"),this.setPreviousBlogPosts()},async createBlogPost(t,e,n,r={includeTime:!1,fetch:!0}){const i=ao(e);this.blogPosts.isLoading[i.visibility].mutation=!0,this.blogPosts.isDatabaseCreationActive=!0;try{return await $m(Qt(tn,Bt.blogPosts(i.isPrivate).id,t),{...e,date:r!=null&&r.includeTime?e.date:Mn.now(),dateUpdated:r!=null&&r.includeTime?e.dateUpdated:null,countdown:e.countdown?Mn.fromDate(e.countdown):null,timer:e.timer?Mn.fromDate(e.timer):null}),this.blogPosts.visibility=i.visibility,r!=null&&r.fetch&&this.fetchBlogPosts(n,{amount:this.visibleBlogPosts.length+1}),nt.success("Successfully created Post"),!0}catch(s){return nt.firebaseError(this.debug,s),!1}finally{this.setPreviousBlogPosts(),this.blogPosts.isLoading[i.visibility].mutation=!1,this.blogPosts.isDatabaseCreationActive=!1}},async updateBlogPost(t,e,n,r){try{this.blogPosts.isDatabaseMutationActive=!0,this.blogPosts.isLoading[n.visibility].mutation=!0;const i=Bt.blogPosts(n.isPrivate).id;let s="";if(Cr.Content.instanceOf(e)&&(await lo(Qt(tn,i,t),{...Cr.Content.convert(e),dateUpdated:Mn.now()}),s="content"),Cr.Styling.instanceOf(e)&&(await lo(Qt(tn,i,t),{...Cr.Styling.convert(e)}),s="styling"),Cr.Settings.instanceOf(e)&&(await lo(Qt(tn,i,t),{...Cr.Settings.convert(e)}),s="settings"),s==="content"||s==="styling"){const o=await this.fetchBlogPost(t,n);this.blogPosts.data[n.visibility]=this.blogPosts.data[n.visibility].map(a=>a.id===(o==null?void 0:o.id)?o:a)}else this.fetchBlogPosts(r,{amount:this.blogPosts.data[n.visibility].length});return s}catch(i){nt.firebaseError(this.debug,i)}finally{this.setPreviousBlogPosts(),this.blogPosts.isLoading[n.visibility].mutation=!1,this.blogPosts.isDatabaseMutationActive=!1}},async toggleBlogPostVisibility(t,e,n,r,i){try{this.blogPosts.isDatabaseMutationActive=!0,this.blogPosts.isLoading[r].mutation=!0;const s=this.allBlogPosts.find(o=>o.id===t);if(await this.deleteBlogPost(t,{includeFiles:!1,includeReactions:!1}),s&&await this.createBlogPost(t,e,i,{includeTime:!0,fetch:!1})){let o;do this.blogPosts.data[r]=[],await this.fetchBlogPosts(i,{visibility:r}),o=this.allBlogPosts.find(a=>a.id===t);while(!o);if(this.blogPosts.visibility=r,o){for(const a of n)await this.deleteBlogReaction(a.id,s,{mutatePost:!1,fetch:!1})||nt.error("Failed to delete old Reaction",{debug:this.debug}),await this.createBlogReaction(o,Zm.convert(a),{includeTime:!0,fetch:!1})||nt.error("Failed to re-create Reaction",{debug:this.debug});for(const a of this.getFilesOfPost(s)){const l=_0(a);await this.updateFileInfo(l.name,o)||nt.error("Failed to move Image",{debug:this.debug})}return this.fetchBlogPosts(i,{amount:this.visibleBlogPosts.length}),!0}else return nt.error("Failed to re-create Post",{debug:this.debug}),!1}else return nt.error("Failed to re-create Post",{debug:this.debug}),!1}catch(s){return nt.firebaseError(this.debug,s),!1}finally{this.setPreviousBlogPosts(),this.blogPosts.isLoading[r].mutation=!1,this.blogPosts.isDatabaseMutationActive=!1}},async deleteBlogPost(t,e={includeFiles:!0,includeReactions:!0}){try{this.blogPosts.isDatabaseDeletionActive=!0;const n=this.allBlogPosts.find(r=>r.id===t);if(n){e.includeReactions&&await this.deleteBlogReactionsOfBlogPost(n),e.includeFiles&&await this.deleteFilesOfBlogPost(n);const r=ao(n);return await Pd(Qt(tn,Bt.blogPosts(r.isPrivate).id,t)),this.blogPosts.data[r.visibility]=this.blogPosts.data[r.visibility].filter(i=>i.id!==t),nt.success("Successfully deleted Post"),!0}return!1}catch(n){return nt.firebaseError(this.debug,n),!1}finally{this.setPreviousBlogPosts(),this.blogPosts.isDatabaseDeletionActive=!1}},async createBlogReaction(t,e,n={includeTime:!1,fetch:!0}){try{this.blogReactions.isDatabaseCreationActive=!0;const r=ao(t),i=Qt(tn,Bt.blogPosts(r.isPrivate).id,t.id),s=await Ki(i);if(s){const o=await S7(Bt.blogReactions(r.isPrivate),{user:Qt(tn,Bt.usersPublic.id,e.userId),message:e.message,date:n!=null&&n.includeTime?e.date:Mn.now(),post:i});if(await lo(Qt(tn,Bt.blogPosts(r.isPrivate).id,s.id),{reactions:[...s.reactions??[],o]}),n!=null&&n.fetch){const a=await this.fetchBlogPost(s.id,r,{loadingIndicator:!1});this.blogPosts.data[r.visibility]=this.blogPosts.data[r.visibility].map(l=>l.id===s.id?a??l:l)}return nt.success("Successfully created Reaction"),!0}return!1}catch(r){return nt.firebaseError(this.debug,r),!1}finally{this.setPreviousBlogPosts(),this.blogReactions.isDatabaseCreationActive=!1}},async deleteBlogReaction(t,e,n={mutatePost:!0,fetch:!0}){var r;try{this.blogReactions.isDatabaseDeletionActive=!0;const i=ao(e);if(n.mutatePost){const s=Qt(tn,Bt.blogPosts(i.isPrivate).id,e.id),o=await Ki(s);o&&await lo(s,{reactions:((r=o.reactions)==null?void 0:r.filter(a=>a.id!==t))??[]})}return await Pd(Qt(tn,Bt.blogReactions(i.isPrivate).id,t)),n!=null&&n.fetch&&(e.reactions=e.reactions.filter(s=>s.id!==t),this.blogPosts.data[i.visibility]=this.blogPosts.data[i.visibility].map(s=>s.id===e.id?e:s)),nt.success("Successfully deleted Reaction"),!0}catch(i){return nt.firebaseError(this.debug,i),!1}finally{this.setPreviousBlogPosts(),this.blogReactions.isDatabaseDeletionActive=!1}},async deleteBlogReactionsOfBlogPost(t){try{this.blogReactions.isDatabaseDeletionActive=!0;const e=ao(t),n=(t==null?void 0:t.reactions)??[];for(const r of n)await Pd(Qt(tn,Bt.blogReactions(e.isPrivate).id,r.id));return n.length&&nt.success(`Successfully deleted ${n.length} Reaction${n.length!==1?"s":""}`),!0}catch(e){return nt.firebaseError(this.debug,e),!1}finally{this.setPreviousBlogPosts(),this.blogReactions.isDatabaseDeletionActive=!1}},getFilesOfPost(t,e){var r,i;const n=[];if(t.coverImageUrl&&(!e||!e.coverImageUrl)&&n.push(t.coverImageUrl),t.sections.length)for(const[s,o]of t.sections.entries()){const a=(i=(r=e==null?void 0:e.sections)==null?void 0:r[s])==null?void 0:i.coverImageUrl,l=o.coverImageUrl;l&&(!e||!a)&&n.push(l)}return n},async fetchFileInfo(t){try{return await Ki(Qt(tn,Bt.files.path,t))}catch(e){return nt.firebaseError(this.debug,e),null}},async uploadFile(t,e,n,r,i,s,o){return await this.createFileInfo(t.name,r,i,s,o)&&await this.createFile(t,e,n)},async createFile(t,e,n){try{const r=h7(t,e);return r.on("state_changed",i=>{const s=i.bytesTransferred/i.totalBytes*100;n(s)}),await r,nt.success("Successfully uploaded File"),!0}catch(r){return nt.firebaseError(this.debug,r),!1}},async createFileInfo(t,e,n,r,i){try{let s;if(i){const o=ao(i);s=Qt(tn,Bt.blogPosts(o.isPrivate).id,i.id)}return await $m(Qt(tn,Bt.files.path,t),{name:e,owner:n,post:s??null,public:r??!1}),!0}catch(s){return nt.firebaseError(this.debug,s),!1}},async updateFileInfo(t,e){try{let n;if(e){const r=ao(e);n=Qt(tn,Bt.blogPosts(r.isPrivate).id,e.id)}return await lo(Qt(tn,Bt.files.path,t),{post:n??null}),!0}catch(n){return nt.firebaseError(this.debug,n),!1}},async deleteFile(t,e=!1){try{return await Pd(Qt(tn,Bt.files.path,t.name)),await p7(t),e||nt.success("Successfully deleted File"),!0}catch(n){return nt.firebaseError(this.debug,n),!1}},async deleteFilesOfBlogPost(t,e){try{const n=this.getFilesOfPost(t,e);for(const r of n)await this.deleteFile(_0(r),!0);return n.length&&nt.success(`Successfully deleted ${n.length} File${n.length!==1?"s":""}`),!0}catch(n){return nt.firebaseError(this.debug,n),!1}},toggleOnline(){this.isOnline=!this.isOnline},toggleDebug(){this.debug=!this.debug}},persist:{enabled:!0}}),gu=UW(fx);gu.onAuthStateChanged(t=>{br().fetchUser(t);const e=jn();e.filteredMenuItems.length,e.$patch({blogPosts:{...e.blogPosts,data:{...e.blogPosts.data,private:[]}}}),e.fetchAll(t==null?void 0:t.uid,!0)});const Cs=cM(),qo={users:zi(Cs,"users"),usersPublic:zi(Cs,"usersPublic")},br=cw("auth",{state:()=>({currentUser:null,publicUser:null,firebaseUser:gu.currentUser,isLoginLoading:!1,isMutationLoading:!1,isLogoutLoading:!1}),getters:{isOwner:t=>{var e;return((e=t.firebaseUser)==null?void 0:e.uid)==="wEaq28Vfx8aygJ6TUi0hDrNut1F2"}},actions:{async fetchUser(t){if(this.firebaseUser=t,t){this.publicUser=await Ki(Qt(Cs,qo.usersPublic.id,t.uid));const e=await Ki(Qt(Cs,qo.users.id,t.uid));e!=null&&(this.currentUser=await mc.mapIncoming(e))}},async login(t,e){try{this.isLoginLoading=!0;const{user:n}=await AH(gu,t,e);await this.updateUserLastLogin(n.uid),await this.fetchUser(n),jn().fetchAll(n.uid,!0),nt.success("Successfully logged in",{route:Xn.DASHBOARD})}catch(n){nt.firebaseError(!1,n)}finally{this.isLoginLoading=!1}},async register(t,e,n){try{this.isLoginLoading=!0;const{user:r}=await CH(gu,t,e);await $m(Qt(Cs,qo.users.id,r.uid),{firstName:n,createdAt:new Date}),await this.updatePublicUser({displayName:"Anonymous",avatar:""}),await this.fetchUser(r),nt.success("Successfully created your account",{route:Xn.DASHBOARD})}catch(r){nt.firebaseError(!1,r)}finally{this.isLoginLoading=!1}},async updateMail(t,e){try{if(this.isLoginLoading=!0,this.firebaseUser&&this.firebaseUser.email){const n=Pa.credential(this.firebaseUser.email,e);await QI(this.firebaseUser,n),await PH(this.firebaseUser,t),nt.success("Successfully changed your e-mail")}}catch(n){nt.firebaseError(!1,n)}finally{this.isLoginLoading=!1}},async updatePassword(t,e){try{if(this.isLoginLoading=!0,this.firebaseUser&&this.firebaseUser.email){const n=Pa.credential(this.firebaseUser.email,e);await QI(this.firebaseUser,n),await OH(this.firebaseUser,t),nt.success("Successfully changed your password")}}catch(n){nt.firebaseError(!1,n)}finally{this.isLoginLoading=!1}},async resetPassword(t){try{await IH(gu,t),nt.success("Successfully requested password reset")}catch(e){nt.firebaseError(!1,e)}},async updateUser(t){try{this.isMutationLoading=!0,this.currentUser&&this.firebaseUser&&(gs(mc.convert(this.currentUser),t)?nt.warning("Nothing changed in your details"):(await lo(Qt(Cs,qo.users.id,this.firebaseUser.uid),{firstName:t.firstName,lastName:t.lastName}),await this.fetchUser(this.firebaseUser),nt.success("Successfully updated your profile")))}catch(e){nt.firebaseError(!1,e)}finally{this.isMutationLoading=!1}},async updateUserLastLogin(t){try{await lo(Qt(Cs,qo.users.id,t),{lastLogin:new Date})}catch(e){nt.firebaseError(!1,e)}},async updatePublicUser(t){try{this.isMutationLoading=!0,this.publicUser?gs(this.publicUser,t)?nt.warning("Nothing changed in your public profile"):(await lo(Qt(Cs,qo.usersPublic.id,this.publicUser.id),{displayName:t.displayName,avatar:t.avatar}),await this.fetchUser(this.firebaseUser),nt.success("Successfully updated your public profile")):this.firebaseUser?(await $m(Qt(Cs,qo.usersPublic.id,this.firebaseUser.uid),{displayName:t.displayName,avatar:t.avatar}),await this.fetchUser(this.firebaseUser),nt.success("Successfully updated your public profile")):nt.firebaseError(!1)}catch(e){nt.firebaseError(!1,e)}finally{this.isMutationLoading=!1}},async logout(){try{this.isLogoutLoading=!0,await RH(gu),this.currentUser=null,this.publicUser=null,jn().fetchAll(void 0,!0),nt.success("Successfully logged out",{route:Xn.HOME})}catch(t){nt.firebaseError(!1,t)}finally{this.isLogoutLoading=!1}},async deleteAccount(){try{this.isLogoutLoading=!0,this.currentUser&&this.firebaseUser&&(await Pd(Qt(Cs,qo.users.id,this.firebaseUser.uid)),await xH(this.firebaseUser),this.currentUser=null,this.publicUser=null,nt.success("Successfully deleted your account",{route:Xn.HOME}))}catch(t){nt.firebaseError(!1,t)}finally{this.isLogoutLoading=!1}}},persist:{enabled:!0}}),UG={class:"bg-black text-white shadow-md py-4"},qG={class:"container mx-auto text-center"},BG=xe({__name:"Footer",setup(t){const{content:e}=Vt(jn());return(n,r)=>(N(),W("footer",UG,[v("div",qG,[v("p",null,"© "+Fe(new Date().getFullYear()+" "+A(e).footerCopyright),1)])]))}});function jG(t,e){return N(),W("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon"},[v("path",{"fill-rule":"evenodd",d:"M6 3.75A2.75 2.75 0 0 1 8.75 1h2.5A2.75 2.75 0 0 1 14 3.75v.443c.572.055 1.14.122 1.706.2C17.053 4.582 18 5.75 18 7.07v3.469c0 1.126-.694 2.191-1.83 2.54-1.952.599-4.024.921-6.17.921s-4.219-.322-6.17-.921C2.694 12.73 2 11.665 2 10.539V7.07c0-1.321.947-2.489 2.294-2.676A41.047 41.047 0 0 1 6 4.193V3.75Zm6.5 0v.325a41.622 41.622 0 0 0-5 0V3.75c0-.69.56-1.25 1.25-1.25h2.5c.69 0 1.25.56 1.25 1.25ZM10 10a1 1 0 0 0-1 1v.01a1 1 0 0 0 1 1h.01a1 1 0 0 0 1-1V11a1 1 0 0 0-1-1H10Z","clip-rule":"evenodd"}),v("path",{d:"M3 15.055v-.684c.126.053.255.1.39.142 2.092.642 4.313.987 6.61.987 2.297 0 4.518-.345 6.61-.987.135-.041.264-.089.39-.142v.684c0 1.347-.985 2.53-2.363 2.686a41.454 41.454 0 0 1-9.274 0C3.985 17.585 3 16.402 3 15.055Z"})])}function HG(t,e){return N(),W("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon"},[v("path",{"fill-rule":"evenodd",d:"m9.69 18.933.003.001C9.89 19.02 10 19 10 19s.11.02.308-.066l.002-.001.006-.003.018-.008a5.741 5.741 0 0 0 .281-.14c.186-.096.446-.24.757-.433.62-.384 1.445-.966 2.274-1.765C15.302 14.988 17 12.493 17 9A7 7 0 1 0 3 9c0 3.492 1.698 5.988 3.355 7.584a13.731 13.731 0 0 0 2.273 1.765 11.842 11.842 0 0 0 .976.544l.062.029.018.008.006.003ZM10 11.25a2.25 2.25 0 1 0 0-4.5 2.25 2.25 0 0 0 0 4.5Z","clip-rule":"evenodd"})])}const WG={class:"flex justify-between"},zG={class:"hidden sm:block w-full sm:min-w-fit"},KG=["src","alt"],GG={class:"w-fit sm:max-w-1/2"},YG={class:"text-title-primary"},XG={class:"text-title-secondary"},QG={class:"text-title-tertiary absolute sm:relative mt-1 sm:mt-0 flex flex-col xl:flex-row xl:flex-wrap"},JG={class:"mt-2 flex items-center whitespace-nowrap me-6"},ZG={class:"mt-2 flex items-center whitespace-nowrap"},eY={class:"sm:hidden min-w-fit mt-3"},tY=["src","alt"],BC=xe({__name:"HeaderContent",setup(t){const{profile:e,content:n}=Vt(jn());return(r,i)=>{const s=An("RouterLink");return N(),W("div",WG,[v("div",zG,[B(s,{to:{name:A(Xn).HOME}},{default:J(()=>[v("img",{class:"h-32 w-32 md:h-48 md:w-48 rounded-full animation-scale mb-4 cursor-pointer",src:A(n).avatarUrl,alt:A(e).name},null,8,KG)]),_:1},8,["to"])]),v("div",GG,[v("h1",YG,Fe(A(e).name),1),v("h2",XG,Fe(A(e).service),1),v("div",QG,[v("div",JG,[B(A(jG),{class:"mr-1.5 h-5 w-5 text-neutral-400"}),K(" "+Fe(A(e).role),1)]),v("div",ZG,[B(A(HG),{class:"mr-1.5 h-5 w-5 text-neutral-400"}),K(" "+Fe(A(e).location.city)+", "+Fe(A(e).location.country),1)])])]),v("div",eY,[B(s,{to:{name:A(Xn).HOME}},{default:J(()=>[v("img",{class:"h-32 w-32 md:h-48 md:w-48 rounded-full animation-scale mb-4 cursor-pointer",src:A(n).avatarUrl,alt:A(e).name},null,8,tY)]),_:1},8,["to"])])])}}}),nY=["href"],rY=xe({__name:"ButtonWrapper",props:{class:{},activeClass:{},url:{},route:{}},setup(t){return(e,n)=>{const r=An("RouterLink");return e.route?(N(),ce(r,{key:0,class:$e([e.class,"!no-underline"]),"active-class":e.activeClass,to:{name:e.route}},{default:J(()=>[Te(e.$slots,"default")]),_:3},8,["class","active-class","to"])):e.url?(N(),W("a",{key:1,class:$e([e.class,"!no-underline"]),href:e.url},[Te(e.$slots,"default")],10,nY)):Te(e.$slots,"default",{key:2,class:$e(e.class)})}}});function My(t,e){var n=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=M1(t))||e&&t&&typeof t.length=="number"){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(u){throw u},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var s=!0,o=!1,a;return{s:function(){n=n.call(t)},n:function(){var u=n.next();return s=u.done,u},e:function(u){o=!0,a=u},f:function(){try{!s&&n.return!=null&&n.return()}finally{if(o)throw a}}}}function iY(t){return aY(t)||oY(t)||M1(t)||sY()}function sY(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function oY(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function aY(t){if(Array.isArray(t))return U0(t)}function Qd(t){"@babel/helpers - typeof";return Qd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qd(t)}function Ly(t,e){return cY(t)||uY(t,e)||M1(t,e)||lY()}function lY(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function M1(t,e){if(t){if(typeof t=="string")return U0(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return U0(t,e)}}function U0(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function uY(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,a=[],l=!0,u=!1;try{if(s=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=s.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return a}}function cY(t){if(Array.isArray(t))return t}var ze={innerWidth:function(e){if(e){var n=e.offsetWidth,r=getComputedStyle(e);return n+=parseFloat(r.paddingLeft)+parseFloat(r.paddingRight),n}return 0},width:function(e){if(e){var n=e.offsetWidth,r=getComputedStyle(e);return n-=parseFloat(r.paddingLeft)+parseFloat(r.paddingRight),n}return 0},getWindowScrollTop:function(){var e=document.documentElement;return(window.pageYOffset||e.scrollTop)-(e.clientTop||0)},getWindowScrollLeft:function(){var e=document.documentElement;return(window.pageXOffset||e.scrollLeft)-(e.clientLeft||0)},getOuterWidth:function(e,n){if(e){var r=e.offsetWidth;if(n){var i=getComputedStyle(e);r+=parseFloat(i.marginLeft)+parseFloat(i.marginRight)}return r}return 0},getOuterHeight:function(e,n){if(e){var r=e.offsetHeight;if(n){var i=getComputedStyle(e);r+=parseFloat(i.marginTop)+parseFloat(i.marginBottom)}return r}return 0},getClientHeight:function(e,n){if(e){var r=e.clientHeight;if(n){var i=getComputedStyle(e);r+=parseFloat(i.marginTop)+parseFloat(i.marginBottom)}return r}return 0},getViewport:function(){var e=window,n=document,r=n.documentElement,i=n.getElementsByTagName("body")[0],s=e.innerWidth||r.clientWidth||i.clientWidth,o=e.innerHeight||r.clientHeight||i.clientHeight;return{width:s,height:o}},getOffset:function(e){if(e){var n=e.getBoundingClientRect();return{top:n.top+(window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0),left:n.left+(window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0)}}return{top:"auto",left:"auto"}},index:function(e){if(e)for(var n,r=(n=this.getParentNode(e))===null||n===void 0?void 0:n.childNodes,i=0,s=0;s<r.length;s++){if(r[s]===e)return i;r[s].nodeType===1&&i++}return-1},addMultipleClasses:function(e,n){var r=this;e&&n&&[n].flat().filter(Boolean).forEach(function(i){return i.split(" ").forEach(function(s){return r.addClass(e,s)})})},removeMultipleClasses:function(e,n){var r=this;e&&n&&[n].flat().filter(Boolean).forEach(function(i){return i.split(" ").forEach(function(s){return r.removeClass(e,s)})})},addClass:function(e,n){e&&n&&!this.hasClass(e,n)&&(e.classList?e.classList.add(n):e.className+=" "+n)},removeClass:function(e,n){e&&n&&(e.classList?e.classList.remove(n):e.className=e.className.replace(new RegExp("(^|\\b)"+n.split(" ").join("|")+"(\\b|$)","gi")," "))},hasClass:function(e,n){return e?e.classList?e.classList.contains(n):new RegExp("(^| )"+n+"( |$)","gi").test(e.className):!1},addStyles:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};e&&Object.entries(n).forEach(function(r){var i=Ly(r,2),s=i[0],o=i[1];return e.style[s]=o})},find:function(e,n){return this.isElement(e)?e.querySelectorAll(n):[]},findSingle:function(e,n){return this.isElement(e)?e.querySelector(n):null},createElement:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e){var r=document.createElement(e);this.setAttributes(r,n);for(var i=arguments.length,s=new Array(i>2?i-2:0),o=2;o<i;o++)s[o-2]=arguments[o];return r.append.apply(r,s),r}},setAttribute:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",r=arguments.length>2?arguments[2]:void 0;this.isElement(e)&&r!==null&&r!==void 0&&e.setAttribute(n,r)},setAttributes:function(e){var n=this,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.isElement(e)){var i=function s(o,a){var l,u,c=e!=null&&(l=e.$attrs)!==null&&l!==void 0&&l[o]?[e==null||(u=e.$attrs)===null||u===void 0?void 0:u[o]]:[];return[a].flat().reduce(function(d,h){if(h!=null){var p=Qd(h);if(p==="string"||p==="number")d.push(h);else if(p==="object"){var m=Array.isArray(h)?s(o,h):Object.entries(h).map(function(g){var y=Ly(g,2),P=y[0],I=y[1];return o==="style"&&(I||I===0)?"".concat(P.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),":").concat(I):I?P:void 0});d=m.length?d.concat(m.filter(function(g){return!!g})):d}}return d},c)};Object.entries(r).forEach(function(s){var o=Ly(s,2),a=o[0],l=o[1];if(l!=null){var u=a.match(/^on(.+)/);u?e.addEventListener(u[1].toLowerCase(),l):a==="p-bind"?n.setAttributes(e,l):(l=a==="class"?iY(new Set(i("class",l))).join(" ").trim():a==="style"?i("style",l).join(";").trim():l,(e.$attrs=e.$attrs||{})&&(e.$attrs[a]=l),e.setAttribute(a,l))}})}},getAttribute:function(e,n){if(this.isElement(e)){var r=e.getAttribute(n);return isNaN(r)?r==="true"||r==="false"?r==="true":r:+r}},isAttributeEquals:function(e,n,r){return this.isElement(e)?this.getAttribute(e,n)===r:!1},isAttributeNotEquals:function(e,n,r){return!this.isAttributeEquals(e,n,r)},getHeight:function(e){if(e){var n=e.offsetHeight,r=getComputedStyle(e);return n-=parseFloat(r.paddingTop)+parseFloat(r.paddingBottom)+parseFloat(r.borderTopWidth)+parseFloat(r.borderBottomWidth),n}return 0},getWidth:function(e){if(e){var n=e.offsetWidth,r=getComputedStyle(e);return n-=parseFloat(r.paddingLeft)+parseFloat(r.paddingRight)+parseFloat(r.borderLeftWidth)+parseFloat(r.borderRightWidth),n}return 0},absolutePosition:function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(e){var i=e.offsetParent?{width:e.offsetWidth,height:e.offsetHeight}:this.getHiddenElementDimensions(e),s=i.height,o=i.width,a=n.offsetHeight,l=n.offsetWidth,u=n.getBoundingClientRect(),c=this.getWindowScrollTop(),d=this.getWindowScrollLeft(),h=this.getViewport(),p,m,g="top";u.top+a+s>h.height?(p=u.top+c-s,g="bottom",p<0&&(p=c)):p=a+u.top+c,u.left+o>h.width?m=Math.max(0,u.left+d+l-o):m=u.left+d,e.style.top=p+"px",e.style.left=m+"px",e.style.transformOrigin=g,r&&(e.style.marginTop=g==="bottom"?"calc(var(--p-anchor-gutter) * -1)":"calc(var(--p-anchor-gutter))")}},relativePosition:function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(e){var i=e.offsetParent?{width:e.offsetWidth,height:e.offsetHeight}:this.getHiddenElementDimensions(e),s=n.offsetHeight,o=n.getBoundingClientRect(),a=this.getViewport(),l,u,c="top";o.top+s+i.height>a.height?(l=-1*i.height,c="bottom",o.top+l<0&&(l=-1*o.top)):l=s,i.width>a.width?u=o.left*-1:o.left+i.width>a.width?u=(o.left+i.width-a.width)*-1:u=0,e.style.top=l+"px",e.style.left=u+"px",e.style.transformOrigin=c,r&&(e.style.marginTop=c==="bottom"?"calc(var(--p-anchor-gutter) * -1)":"calc(var(--p-anchor-gutter))")}},nestedPosition:function(e,n){if(e){var r=e.parentElement,i=this.getOffset(r),s=this.getViewport(),o=e.offsetParent?e.offsetWidth:this.getHiddenElementOuterWidth(e),a=this.getOuterWidth(r.children[0]),l;parseInt(i.left,10)+a+o>s.width-this.calculateScrollbarWidth()?parseInt(i.left,10)<o?n%2===1?l=parseInt(i.left,10)?"-"+parseInt(i.left,10)+"px":"100%":n%2===0&&(l=s.width-o-this.calculateScrollbarWidth()+"px"):l="-100%":l="100%",e.style.top="0px",e.style.left=l}},getParentNode:function(e){var n=e==null?void 0:e.parentNode;return n&&n instanceof ShadowRoot&&n.host&&(n=n.host),n},getParents:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],r=this.getParentNode(e);return r===null?n:this.getParents(r,n.concat([r]))},getScrollableParents:function(e){var n=[];if(e){var r=this.getParents(e),i=/(auto|scroll)/,s=function(y){try{var P=window.getComputedStyle(y,null);return i.test(P.getPropertyValue("overflow"))||i.test(P.getPropertyValue("overflowX"))||i.test(P.getPropertyValue("overflowY"))}catch{return!1}},o=My(r),a;try{for(o.s();!(a=o.n()).done;){var l=a.value,u=l.nodeType===1&&l.dataset.scrollselectors;if(u){var c=u.split(","),d=My(c),h;try{for(d.s();!(h=d.n()).done;){var p=h.value,m=this.findSingle(l,p);m&&s(m)&&n.push(m)}}catch(g){d.e(g)}finally{d.f()}}l.nodeType!==9&&s(l)&&n.push(l)}}catch(g){o.e(g)}finally{o.f()}}return n},getHiddenElementOuterHeight:function(e){if(e){e.style.visibility="hidden",e.style.display="block";var n=e.offsetHeight;return e.style.display="none",e.style.visibility="visible",n}return 0},getHiddenElementOuterWidth:function(e){if(e){e.style.visibility="hidden",e.style.display="block";var n=e.offsetWidth;return e.style.display="none",e.style.visibility="visible",n}return 0},getHiddenElementDimensions:function(e){if(e){var n={};return e.style.visibility="hidden",e.style.display="block",n.width=e.offsetWidth,n.height=e.offsetHeight,e.style.display="none",e.style.visibility="visible",n}return 0},fadeIn:function(e,n){if(e){e.style.opacity=0;var r=+new Date,i=0,s=function o(){i=+e.style.opacity+(new Date().getTime()-r)/n,e.style.opacity=i,r=+new Date,+i<1&&(window.requestAnimationFrame&&requestAnimationFrame(o)||setTimeout(o,16))};s()}},fadeOut:function(e,n){if(e)var r=1,i=50,s=n,o=i/s,a=setInterval(function(){r-=o,r<=0&&(r=0,clearInterval(a)),e.style.opacity=r},i)},getUserAgent:function(){return navigator.userAgent},appendChild:function(e,n){if(this.isElement(n))n.appendChild(e);else if(n.el&&n.elElement)n.elElement.appendChild(e);else throw new Error("Cannot append "+n+" to "+e)},isElement:function(e){return(typeof HTMLElement>"u"?"undefined":Qd(HTMLElement))==="object"?e instanceof HTMLElement:e&&Qd(e)==="object"&&e!==null&&e.nodeType===1&&typeof e.nodeName=="string"},scrollInView:function(e,n){var r=getComputedStyle(e).getPropertyValue("borderTopWidth"),i=r?parseFloat(r):0,s=getComputedStyle(e).getPropertyValue("paddingTop"),o=s?parseFloat(s):0,a=e.getBoundingClientRect(),l=n.getBoundingClientRect(),u=l.top+document.body.scrollTop-(a.top+document.body.scrollTop)-i-o,c=e.scrollTop,d=e.clientHeight,h=this.getOuterHeight(n);u<0?e.scrollTop=c+u:u+h>d&&(e.scrollTop=c+u-d+h)},clearSelection:function(){if(window.getSelection)window.getSelection().empty?window.getSelection().empty():window.getSelection().removeAllRanges&&window.getSelection().rangeCount>0&&window.getSelection().getRangeAt(0).getClientRects().length>0&&window.getSelection().removeAllRanges();else if(document.selection&&document.selection.empty)try{document.selection.empty()}catch{}},getSelection:function(){return window.getSelection?window.getSelection().toString():document.getSelection?document.getSelection().toString():document.selection?document.selection.createRange().text:null},calculateScrollbarWidth:function(){if(this.calculatedScrollbarWidth!=null)return this.calculatedScrollbarWidth;var e=document.createElement("div");this.addStyles(e,{width:"100px",height:"100px",overflow:"scroll",position:"absolute",top:"-9999px"}),document.body.appendChild(e);var n=e.offsetWidth-e.clientWidth;return document.body.removeChild(e),this.calculatedScrollbarWidth=n,n},calculateBodyScrollbarWidth:function(){return window.innerWidth-document.documentElement.offsetWidth},getBrowser:function(){if(!this.browser){var e=this.resolveUserAgent();this.browser={},e.browser&&(this.browser[e.browser]=!0,this.browser.version=e.version),this.browser.chrome?this.browser.webkit=!0:this.browser.webkit&&(this.browser.safari=!0)}return this.browser},resolveUserAgent:function(){var e=navigator.userAgent.toLowerCase(),n=/(chrome)[ ]([\w.]+)/.exec(e)||/(webkit)[ ]([\w.]+)/.exec(e)||/(opera)(?:.*version|)[ ]([\w.]+)/.exec(e)||/(msie) ([\w.]+)/.exec(e)||e.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(e)||[];return{browser:n[1]||"",version:n[2]||"0"}},isVisible:function(e){return e&&e.offsetParent!=null},invokeElementMethod:function(e,n,r){e[n].apply(e,r)},isExist:function(e){return!!(e!==null&&typeof e<"u"&&e.nodeName&&this.getParentNode(e))},isClient:function(){return!!(typeof window<"u"&&window.document&&window.document.createElement)},focus:function(e,n){e&&document.activeElement!==e&&e.focus(n)},isFocusableElement:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";return this.isElement(e)?e.matches('button:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])'.concat(n,`,
                [href][clientHeight][clientWidth]:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])`).concat(n,`,
                input:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])`).concat(n,`,
                select:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])`).concat(n,`,
                textarea:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])`).concat(n,`,
                [tabIndex]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])`).concat(n,`,
                [contenteditable]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])`).concat(n)):!1},getFocusableElements:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",r=this.find(e,'button:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])'.concat(n,`,
                [href][clientHeight][clientWidth]:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])`).concat(n,`,
                input:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])`).concat(n,`,
                select:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])`).concat(n,`,
                textarea:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])`).concat(n,`,
                [tabIndex]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])`).concat(n,`,
                [contenteditable]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])`).concat(n)),i=[],s=My(r),o;try{for(s.s();!(o=s.n()).done;){var a=o.value;getComputedStyle(a).display!="none"&&getComputedStyle(a).visibility!="hidden"&&i.push(a)}}catch(l){s.e(l)}finally{s.f()}return i},getFirstFocusableElement:function(e,n){var r=this.getFocusableElements(e,n);return r.length>0?r[0]:null},getLastFocusableElement:function(e,n){var r=this.getFocusableElements(e,n);return r.length>0?r[r.length-1]:null},getNextFocusableElement:function(e,n,r){var i=this.getFocusableElements(e,r),s=i.length>0?i.findIndex(function(a){return a===n}):-1,o=s>-1&&i.length>=s+1?s+1:-1;return o>-1?i[o]:null},getPreviousElementSibling:function(e,n){for(var r=e.previousElementSibling;r;){if(r.matches(n))return r;r=r.previousElementSibling}return null},getNextElementSibling:function(e,n){for(var r=e.nextElementSibling;r;){if(r.matches(n))return r;r=r.nextElementSibling}return null},isClickable:function(e){if(e){var n=e.nodeName,r=e.parentElement&&e.parentElement.nodeName;return n==="INPUT"||n==="TEXTAREA"||n==="BUTTON"||n==="A"||r==="INPUT"||r==="TEXTAREA"||r==="BUTTON"||r==="A"||!!e.closest(".p-button, .p-checkbox, .p-radiobutton")}return!1},applyStyle:function(e,n){if(typeof n=="string")e.style.cssText=n;else for(var r in n)e.style[r]=n[r]},isIOS:function(){return/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream},isAndroid:function(){return/(android)/i.test(navigator.userAgent)},isTouchDevice:function(){return"ontouchstart"in window||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0},hasCSSAnimation:function(e){if(e){var n=getComputedStyle(e),r=parseFloat(n.getPropertyValue("animation-duration")||"0");return r>0}return!1},hasCSSTransition:function(e){if(e){var n=getComputedStyle(e),r=parseFloat(n.getPropertyValue("transition-duration")||"0");return r>0}return!1},exportCSV:function(e,n){var r=new Blob([e],{type:"application/csv;charset=utf-8;"});if(window.navigator.msSaveOrOpenBlob)navigator.msSaveOrOpenBlob(r,n+".csv");else{var i=document.createElement("a");i.download!==void 0?(i.setAttribute("href",URL.createObjectURL(r)),i.setAttribute("download",n+".csv"),i.style.display="none",document.body.appendChild(i),i.click(),document.body.removeChild(i)):(e="data:text/csv;charset=utf-8,"+e,window.open(encodeURI(e)))}},blockBodyScroll:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"p-overflow-hidden";document.body.style.setProperty("--scrollbar-width",this.calculateBodyScrollbarWidth()+"px"),this.addClass(document.body,e)},unblockBodyScroll:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"p-overflow-hidden";document.body.style.removeProperty("--scrollbar-width"),this.removeClass(document.body,e)}};function xh(t){"@babel/helpers - typeof";return xh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xh(t)}function dY(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function jC(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,fY(r.key),r)}}function hY(t,e,n){return e&&jC(t.prototype,e),n&&jC(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function fY(t){var e=pY(t,"string");return xh(e)=="symbol"?e:String(e)}function pY(t,e){if(xh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(xh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var fM=function(){function t(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:function(){};dY(this,t),this.element=e,this.listener=n}return hY(t,[{key:"bindScrollListener",value:function(){this.scrollableParents=ze.getScrollableParents(this.element);for(var n=0;n<this.scrollableParents.length;n++)this.scrollableParents[n].addEventListener("scroll",this.listener)}},{key:"unbindScrollListener",value:function(){if(this.scrollableParents)for(var n=0;n<this.scrollableParents.length;n++)this.scrollableParents[n].removeEventListener("scroll",this.listener)}},{key:"destroy",value:function(){this.unbindScrollListener(),this.element=null,this.listener=null,this.scrollableParents=null}}]),t}();function mY(){var t=new Map;return{on:function(n,r){var i=t.get(n);i?i.push(r):i=[r],t.set(n,i)},off:function(n,r){var i=t.get(n);i&&i.splice(i.indexOf(r)>>>0,1)},emit:function(n,r){var i=t.get(n);i&&i.slice().map(function(s){s(r)})}}}function HC(t,e){return yY(t)||vY(t,e)||L1(t,e)||gY()}function gY(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vY(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,a=[],l=!0,u=!1;try{if(s=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=s.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return a}}function yY(t){if(Array.isArray(t))return t}function WC(t){return wY(t)||_Y(t)||L1(t)||bY()}function bY(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _Y(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function wY(t){if(Array.isArray(t))return q0(t)}function Vy(t,e){var n=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=L1(t))||e&&t&&typeof t.length=="number"){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(u){throw u},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var s=!0,o=!1,a;return{s:function(){n=n.call(t)},n:function(){var u=n.next();return s=u.done,u},e:function(u){o=!0,a=u},f:function(){try{!s&&n.return!=null&&n.return()}finally{if(o)throw a}}}}function L1(t,e){if(t){if(typeof t=="string")return q0(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return q0(t,e)}}function q0(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Jd(t){"@babel/helpers - typeof";return Jd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jd(t)}var Me={equals:function(e,n,r){return r?this.resolveFieldData(e,r)===this.resolveFieldData(n,r):this.deepEquals(e,n)},deepEquals:function(e,n){if(e===n)return!0;if(e&&n&&Jd(e)=="object"&&Jd(n)=="object"){var r=Array.isArray(e),i=Array.isArray(n),s,o,a;if(r&&i){if(o=e.length,o!=n.length)return!1;for(s=o;s--!==0;)if(!this.deepEquals(e[s],n[s]))return!1;return!0}if(r!=i)return!1;var l=e instanceof Date,u=n instanceof Date;if(l!=u)return!1;if(l&&u)return e.getTime()==n.getTime();var c=e instanceof RegExp,d=n instanceof RegExp;if(c!=d)return!1;if(c&&d)return e.toString()==n.toString();var h=Object.keys(e);if(o=h.length,o!==Object.keys(n).length)return!1;for(s=o;s--!==0;)if(!Object.prototype.hasOwnProperty.call(n,h[s]))return!1;for(s=o;s--!==0;)if(a=h[s],!this.deepEquals(e[a],n[a]))return!1;return!0}return e!==e&&n!==n},resolveFieldData:function(e,n){if(!e||!n)return null;try{var r=e[n];if(this.isNotEmpty(r))return r}catch{}if(Object.keys(e).length){if(this.isFunction(n))return n(e);if(n.indexOf(".")===-1)return e[n];for(var i=n.split("."),s=e,o=0,a=i.length;o<a;++o){if(s==null)return null;s=s[i[o]]}return s}return null},getItemValue:function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return this.isFunction(e)?e.apply(void 0,r):e},filter:function(e,n,r){var i=[];if(e){var s=Vy(e),o;try{for(s.s();!(o=s.n()).done;){var a=o.value,l=Vy(n),u;try{for(l.s();!(u=l.n()).done;){var c=u.value;if(String(this.resolveFieldData(a,c)).toLowerCase().indexOf(r.toLowerCase())>-1){i.push(a);break}}}catch(d){l.e(d)}finally{l.f()}}}catch(d){s.e(d)}finally{s.f()}}return i},reorderArray:function(e,n,r){e&&n!==r&&(r>=e.length&&(r%=e.length,n%=e.length),e.splice(r,0,e.splice(n,1)[0]))},findIndexInList:function(e,n){var r=-1;if(n){for(var i=0;i<n.length;i++)if(n[i]===e){r=i;break}}return r},contains:function(e,n){if(e!=null&&n&&n.length){var r=Vy(n),i;try{for(r.s();!(i=r.n()).done;){var s=i.value;if(this.equals(e,s))return!0}}catch(o){r.e(o)}finally{r.f()}}return!1},insertIntoOrderedArray:function(e,n,r,i){if(r.length>0){for(var s=!1,o=0;o<r.length;o++){var a=this.findIndexInList(r[o],i);if(a>n){r.splice(o,0,e),s=!0;break}}s||r.push(e)}else r.push(e)},removeAccents:function(e){return e&&e.search(/[\xC0-\xFF]/g)>-1&&(e=e.replace(/[\xC0-\xC5]/g,"A").replace(/[\xC6]/g,"AE").replace(/[\xC7]/g,"C").replace(/[\xC8-\xCB]/g,"E").replace(/[\xCC-\xCF]/g,"I").replace(/[\xD0]/g,"D").replace(/[\xD1]/g,"N").replace(/[\xD2-\xD6\xD8]/g,"O").replace(/[\xD9-\xDC]/g,"U").replace(/[\xDD]/g,"Y").replace(/[\xDE]/g,"P").replace(/[\xE0-\xE5]/g,"a").replace(/[\xE6]/g,"ae").replace(/[\xE7]/g,"c").replace(/[\xE8-\xEB]/g,"e").replace(/[\xEC-\xEF]/g,"i").replace(/[\xF1]/g,"n").replace(/[\xF2-\xF6\xF8]/g,"o").replace(/[\xF9-\xFC]/g,"u").replace(/[\xFE]/g,"p").replace(/[\xFD\xFF]/g,"y")),e},getVNodeProp:function(e,n){if(e){var r=e.props;if(r){var i=n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),s=Object.prototype.hasOwnProperty.call(r,i)?i:n;return e.type.extends.props[n].type===Boolean&&r[s]===""?!0:r[s]}}return null},toFlatCase:function(e){return this.isString(e)?e.replace(/(-|_)/g,"").toLowerCase():e},toKebabCase:function(e){return this.isString(e)?e.replace(/(_)/g,"-").replace(/[A-Z]/g,function(n,r){return r===0?n:"-"+n.toLowerCase()}).toLowerCase():e},toCapitalCase:function(e){return this.isString(e,{empty:!1})?e[0].toUpperCase()+e.slice(1):e},isEmpty:function(e){return e==null||e===""||Array.isArray(e)&&e.length===0||!(e instanceof Date)&&Jd(e)==="object"&&Object.keys(e).length===0},isNotEmpty:function(e){return!this.isEmpty(e)},isFunction:function(e){return!!(e&&e.constructor&&e.call&&e.apply)},isObject:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return e instanceof Object&&e.constructor===Object&&(n||Object.keys(e).length!==0)},isDate:function(e){return e instanceof Date&&e.constructor===Date},isArray:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return Array.isArray(e)&&(n||e.length!==0)},isString:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return typeof e=="string"&&(n||e!=="")},isPrintableCharacter:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return this.isNotEmpty(e)&&e.length===1&&e.match(/\S| /)},findLast:function(e,n){var r;if(this.isNotEmpty(e))try{r=e.findLast(n)}catch{r=WC(e).reverse().find(n)}return r},findLastIndex:function(e,n){var r=-1;if(this.isNotEmpty(e))try{r=e.findLastIndex(n)}catch{r=e.lastIndexOf(WC(e).reverse().find(n))}return r},sort:function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,i=arguments.length>3?arguments[3]:void 0,s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:1,o=this.compare(e,n,i,r),a=r;return(this.isEmpty(e)||this.isEmpty(n))&&(a=s===1?r:s),a*o},compare:function(e,n,r){var i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:1,s=-1,o=this.isEmpty(e),a=this.isEmpty(n);return o&&a?s=0:o?s=i:a?s=-i:typeof e=="string"&&typeof n=="string"?s=r(e,n):s=e<n?-1:e>n?1:0,s},localeComparator:function(){return new Intl.Collator(void 0,{numeric:!0}).compare},nestedKeys:function(){var e=this,n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";return Object.entries(n).reduce(function(i,s){var o=HC(s,2),a=o[0],l=o[1],u=r?"".concat(r,".").concat(a):a;return e.isObject(l)?i=i.concat(e.nestedKeys(l,u)):i.push(u),i},[])},stringify:function(e){var n=this,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:2,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,s=" ".repeat(i),o=" ".repeat(i+r);return this.isArray(e)?"["+e.map(function(a){return n.stringify(a,r,i+r)}).join(", ")+"]":this.isDate(e)?e.toISOString():this.isFunction(e)?e.toString():this.isObject(e)?`{
`+Object.entries(e).map(function(a){var l=HC(a,2),u=l[0],c=l[1];return"".concat(o).concat(u,": ").concat(n.stringify(c,r,i+r))}).join(`,
`)+`
`.concat(s)+"}":JSON.stringify(e)}},zC=0;function gc(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"pv_id_";return zC++,"".concat(t).concat(zC)}function TY(t){return CY(t)||IY(t)||SY(t)||EY()}function EY(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function SY(t,e){if(t){if(typeof t=="string")return B0(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return B0(t,e)}}function IY(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function CY(t){if(Array.isArray(t))return B0(t)}function B0(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function AY(){var t=[],e=function(a,l){var u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:999,c=i(a,l,u),d=c.value+(c.key===a?0:u)+1;return t.push({key:a,value:d}),d},n=function(a){t=t.filter(function(l){return l.value!==a})},r=function(a,l){return i(a,l).value},i=function(a,l){var u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;return TY(t).reverse().find(function(c){return l?!0:c.key===a})||{key:a,value:u}},s=function(a){return a&&parseInt(a.style.zIndex,10)||0};return{get:s,set:function(a,l,u){l&&(l.style.zIndex=String(e(a,!0,u)))},clear:function(a){a&&(n(s(a)),a.style.zIndex="")},getCurrent:function(a){return r(a,!0)}}}var zu=AY();function Dh(t){"@babel/helpers - typeof";return Dh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Dh(t)}function KC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function GC(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?KC(Object(n),!0).forEach(function(r){PY(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):KC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function PY(t,e,n){return e=OY(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function OY(t){var e=kY(t,"string");return Dh(e)=="symbol"?e:String(e)}function kY(t,e){if(Dh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Dh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function RY(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;ts()?$t(t):e?t():rr(t)}var xY=0;function pM(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=ie(!1),r=ie(t),i=ie(null),s=ze.isClient()?window.document:void 0,o=e.document,a=o===void 0?s:o,l=e.immediate,u=l===void 0?!0:l,c=e.manual,d=c===void 0?!1:c,h=e.name,p=h===void 0?"style_".concat(++xY):h,m=e.id,g=m===void 0?void 0:m,y=e.media,P=y===void 0?void 0:y,I=e.nonce,S=I===void 0?void 0:I,T=e.props,M=T===void 0?{}:T,R=function(){},C=function(w){var k=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(a){var x=GC(GC({},M),k),O=x.name||p,j=x.id||g,U=x.nonce||S;i.value=a.querySelector('style[data-primevue-style-id="'.concat(O,'"]'))||a.getElementById(j)||a.createElement("style"),i.value.isConnected||(r.value=w||t,ze.setAttributes(i.value,{type:"text/css",id:j,media:P,nonce:U}),a.head.appendChild(i.value),ze.setAttribute(i.value,"data-primevue-style-id",p),ze.setAttributes(i.value,x)),!n.value&&(R=pn(r,function($){i.value.textContent=$},{immediate:!0}),n.value=!0)}},E=function(){!a||!n.value||(R(),ze.isExist(i.value)&&a.head.removeChild(i.value),n.value=!1)};return u&&!d&&RY(C),{id:g,name:p,css:r,unload:E,load:C,isLoaded:Eg(n)}}function Nh(t){"@babel/helpers - typeof";return Nh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nh(t)}function DY(t,e){return VY(t)||LY(t,e)||MY(t,e)||NY()}function NY(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function MY(t,e){if(t){if(typeof t=="string")return YC(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return YC(t,e)}}function YC(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function LY(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,a=[],l=!0,u=!1;try{if(s=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=s.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return a}}function VY(t){if(Array.isArray(t))return t}function XC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function $y(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?XC(Object(n),!0).forEach(function(r){$Y(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):XC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function $Y(t,e,n){return e=FY(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function FY(t){var e=UY(t,"string");return Nh(e)=="symbol"?e:String(e)}function UY(t,e){if(Nh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Nh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var qY=`
.p-hidden-accessible {
    border: 0;
    clip: rect(0 0 0 0);
    height: 1px;
    margin: -1px;
    overflow: hidden;
    padding: 0;
    position: absolute;
    width: 1px;
}

.p-hidden-accessible input,
.p-hidden-accessible select {
    transform: scale(0);
}

.p-overflow-hidden {
    overflow: hidden;
    padding-right: var(--scrollbar-width);
}
`,BY={},jY={},fr={name:"base",css:qY,classes:BY,inlineStyles:jY,loadStyle:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return this.css?pM(this.css,$y({name:this.name},e)):{}},getStyleSheet:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.css){var r=Object.entries(n).reduce(function(i,s){var o=DY(s,2),a=o[0],l=o[1];return i.push("".concat(a,'="').concat(l,'"'))&&i},[]).join(" ");return'<style type="text/css" data-primevue-style-id="'.concat(this.name,'" ').concat(r,">").concat(this.css).concat(e,"</style>")}return""},extend:function(e){return $y($y({},this),{},{css:void 0},e)}},HY={root:function(e){var n=e.props,r=e.instance;return["p-badge p-component",{"p-badge-no-gutter":Me.isNotEmpty(n.value)&&String(n.value).length===1,"p-badge-dot":Me.isEmpty(n.value)&&!r.$slots.default,"p-badge-lg":n.size==="large","p-badge-xl":n.size==="xlarge","p-badge-info":n.severity==="info","p-badge-success":n.severity==="success","p-badge-warning":n.severity==="warning","p-badge-danger":n.severity==="danger","p-badge-secondary":n.severity==="secondary","p-badge-contrast":n.severity==="contrast"}]}},WY=fr.extend({name:"badge",classes:HY});function Mh(t){"@babel/helpers - typeof";return Mh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Mh(t)}function QC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function zY(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?QC(Object(n),!0).forEach(function(r){KY(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):QC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function KY(t,e,n){return e=GY(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function GY(t){var e=YY(t,"string");return Mh(e)=="symbol"?e:String(e)}function YY(t,e){if(Mh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Mh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Fy=fr.extend({name:"common",loadGlobalStyle:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return pM(e,zY({name:"global"},n))}});function Lh(t){"@babel/helpers - typeof";return Lh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Lh(t)}function XY(t){return vM(t)||QY(t)||gM(t)||mM()}function QY(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Ep(t,e){return vM(t)||JY(t,e)||gM(t,e)||mM()}function mM(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gM(t,e){if(t){if(typeof t=="string")return JC(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return JC(t,e)}}function JC(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function JY(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,a=[],l=!0,u=!1;try{if(s=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=s.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return a}}function vM(t){if(Array.isArray(t))return t}function ZC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Tn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ZC(Object(n),!0).forEach(function(r){Xp(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ZC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Xp(t,e,n){return e=ZY(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ZY(t){var e=eX(t,"string");return Lh(e)=="symbol"?e:String(e)}function eX(t,e){if(Lh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Lh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var oi={name:"BaseComponent",props:{pt:{type:Object,default:void 0},ptOptions:{type:Object,default:void 0},unstyled:{type:Boolean,default:void 0}},inject:{$parentInstance:{default:void 0}},watch:{isUnstyled:{immediate:!0,handler:function(e){if(!e){var n,r;Fy.loadStyle({nonce:(n=this.$primevueConfig)===null||n===void 0||(n=n.csp)===null||n===void 0?void 0:n.nonce}),this.$options.style&&this.$style.loadStyle({nonce:(r=this.$primevueConfig)===null||r===void 0||(r=r.csp)===null||r===void 0?void 0:r.nonce})}}}},beforeCreate:function(){var e,n,r,i,s,o,a,l,u,c,d,h=(e=this.pt)===null||e===void 0?void 0:e._usept,p=h?(n=this.pt)===null||n===void 0||(n=n.originalValue)===null||n===void 0?void 0:n[this.$.type.name]:void 0,m=h?(r=this.pt)===null||r===void 0||(r=r.value)===null||r===void 0?void 0:r[this.$.type.name]:this.pt;(i=m||p)===null||i===void 0||(i=i.hooks)===null||i===void 0||(s=i.onBeforeCreate)===null||s===void 0||s.call(i);var g=(o=this.$primevueConfig)===null||o===void 0||(o=o.pt)===null||o===void 0?void 0:o._usept,y=g?(a=this.$primevue)===null||a===void 0||(a=a.config)===null||a===void 0||(a=a.pt)===null||a===void 0?void 0:a.originalValue:void 0,P=g?(l=this.$primevue)===null||l===void 0||(l=l.config)===null||l===void 0||(l=l.pt)===null||l===void 0?void 0:l.value:(u=this.$primevue)===null||u===void 0||(u=u.config)===null||u===void 0?void 0:u.pt;(c=P||y)===null||c===void 0||(c=c[this.$.type.name])===null||c===void 0||(c=c.hooks)===null||c===void 0||(d=c.onBeforeCreate)===null||d===void 0||d.call(c)},created:function(){this._hook("onCreated")},beforeMount:function(){var e;fr.loadStyle({nonce:(e=this.$primevueConfig)===null||e===void 0||(e=e.csp)===null||e===void 0?void 0:e.nonce}),this._loadGlobalStyles(),this._hook("onBeforeMount")},mounted:function(){this._hook("onMounted")},beforeUpdate:function(){this._hook("onBeforeUpdate")},updated:function(){this._hook("onUpdated")},beforeUnmount:function(){this._hook("onBeforeUnmount")},unmounted:function(){this._hook("onUnmounted")},methods:{_hook:function(e){if(!this.$options.hostName){var n=this._usePT(this._getPT(this.pt,this.$.type.name),this._getOptionValue,"hooks.".concat(e)),r=this._useDefaultPT(this._getOptionValue,"hooks.".concat(e));n==null||n(),r==null||r()}},_mergeProps:function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return Me.isFunction(e)?e.apply(void 0,r):le.apply(void 0,r)},_loadGlobalStyles:function(){var e,n=this._useGlobalPT(this._getOptionValue,"global.css",this.$params);Me.isNotEmpty(n)&&Fy.loadGlobalStyle(n,{nonce:(e=this.$primevueConfig)===null||e===void 0||(e=e.csp)===null||e===void 0?void 0:e.nonce})},_getHostInstance:function(e){return e?this.$options.hostName?e.$.type.name===this.$options.hostName?e:this._getHostInstance(e.$parentInstance):e.$parentInstance:void 0},_getPropValue:function(e){var n;return this[e]||((n=this._getHostInstance(this))===null||n===void 0?void 0:n[e])},_getOptionValue:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=Me.toFlatCase(n).split("."),s=i.shift();return s?Me.isObject(e)?this._getOptionValue(Me.getItemValue(e[Object.keys(e).find(function(o){return Me.toFlatCase(o)===s})||""],r),i.join("."),r):void 0:Me.getItemValue(e,r)},_getPTValue:function(){var e,n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,o=/./g.test(r)&&!!i[r.split(".")[0]],a=this._getPropValue("ptOptions")||((e=this.$primevueConfig)===null||e===void 0?void 0:e.ptOptions)||{},l=a.mergeSections,u=l===void 0?!0:l,c=a.mergeProps,d=c===void 0?!1:c,h=s?o?this._useGlobalPT(this._getPTClassValue,r,i):this._useDefaultPT(this._getPTClassValue,r,i):void 0,p=o?void 0:this._getPTSelf(n,this._getPTClassValue,r,Tn(Tn({},i),{},{global:h||{}})),m=this._getPTDatasets(r);return u||!u&&p?d?this._mergeProps(d,h,p,m):Tn(Tn(Tn({},h),p),m):Tn(Tn({},p),m)},_getPTSelf:function(){for(var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return le(this._usePT.apply(this,[this._getPT(e,this.$name)].concat(r)),this._usePT.apply(this,[this.$_attrsPT].concat(r)))},_getPTDatasets:function(){var e,n,r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",i="data-pc-",s=r==="root"&&Me.isNotEmpty((e=this.pt)===null||e===void 0?void 0:e["data-pc-section"]);return r!=="transition"&&Tn(Tn({},r==="root"&&Tn(Xp({},"".concat(i,"name"),Me.toFlatCase(s?(n=this.pt)===null||n===void 0?void 0:n["data-pc-section"]:this.$.type.name)),s&&Xp({},"".concat(i,"extend"),Me.toFlatCase(this.$.type.name)))),{},Xp({},"".concat(i,"section"),Me.toFlatCase(r)))},_getPTClassValue:function(){var e=this._getOptionValue.apply(this,arguments);return Me.isString(e)||Me.isArray(e)?{class:e}:e},_getPT:function(e){var n=this,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",i=arguments.length>2?arguments[2]:void 0,s=function(a){var l,u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,c=i?i(a):a,d=Me.toFlatCase(r),h=Me.toFlatCase(n.$name);return(l=u?d!==h?c==null?void 0:c[d]:void 0:c==null?void 0:c[d])!==null&&l!==void 0?l:c};return e!=null&&e.hasOwnProperty("_usept")?{_usept:e._usept,originalValue:s(e.originalValue),value:s(e.value)}:s(e,!0)},_usePT:function(e,n,r,i){var s=function(g){return n(g,r,i)};if(e!=null&&e.hasOwnProperty("_usept")){var o,a=e._usept||((o=this.$primevueConfig)===null||o===void 0?void 0:o.ptOptions)||{},l=a.mergeSections,u=l===void 0?!0:l,c=a.mergeProps,d=c===void 0?!1:c,h=s(e.originalValue),p=s(e.value);return h===void 0&&p===void 0?void 0:Me.isString(p)?p:Me.isString(h)?h:u||!u&&p?d?this._mergeProps(d,h,p):Tn(Tn({},h),p):p}return s(e)},_useGlobalPT:function(e,n,r){return this._usePT(this.globalPT,e,n,r)},_useDefaultPT:function(e,n,r){return this._usePT(this.defaultPT,e,n,r)},ptm:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return this._getPTValue(this.pt,e,Tn(Tn({},this.$params),n))},ptmi:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return le(this.$_attrsNoPT,this.ptm(e,n))},ptmo:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this._getPTValue(e,n,Tn({instance:this},r),!1)},cx:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return this.isUnstyled?void 0:this._getOptionValue(this.$style.classes,e,Tn(Tn({},this.$params),n))},sx:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(n){var i=this._getOptionValue(this.$style.inlineStyles,e,Tn(Tn({},this.$params),r)),s=this._getOptionValue(Fy.inlineStyles,e,Tn(Tn({},this.$params),r));return[s,i]}}},computed:{globalPT:function(){var e,n=this;return this._getPT((e=this.$primevueConfig)===null||e===void 0?void 0:e.pt,void 0,function(r){return Me.getItemValue(r,{instance:n})})},defaultPT:function(){var e,n=this;return this._getPT((e=this.$primevueConfig)===null||e===void 0?void 0:e.pt,void 0,function(r){return n._getOptionValue(r,n.$name,Tn({},n.$params))||Me.getItemValue(r,Tn({},n.$params))})},isUnstyled:function(){var e;return this.unstyled!==void 0?this.unstyled:(e=this.$primevueConfig)===null||e===void 0?void 0:e.unstyled},$params:function(){var e=this._getHostInstance(this)||this.$parent;return{instance:this,props:this.$props,state:this.$data,attrs:this.$attrs,parent:{instance:e,props:e==null?void 0:e.$props,state:e==null?void 0:e.$data,attrs:e==null?void 0:e.$attrs},parentInstance:e}},$style:function(){return Tn(Tn({classes:void 0,inlineStyles:void 0,loadStyle:function(){},loadCustomStyle:function(){}},(this._getHostInstance(this)||{}).$style),this.$options.style)},$primevueConfig:function(){var e;return(e=this.$primevue)===null||e===void 0?void 0:e.config},$name:function(){return this.$options.hostName||this.$.type.name},$_attrsPT:function(){return Object.entries(this.$attrs||{}).filter(function(e){var n=Ep(e,1),r=n[0];return r==null?void 0:r.startsWith("pt:")}).reduce(function(e,n){var r=Ep(n,2),i=r[0],s=r[1],o=i.split(":"),a=XY(o),l=a.slice(1);return l==null||l.reduce(function(u,c,d,h){return!u[c]&&(u[c]=d===h.length-1?s:{}),u[c]},e),e},{})},$_attrsNoPT:function(){return Object.entries(this.$attrs||{}).filter(function(e){var n=Ep(e,1),r=n[0];return!(r!=null&&r.startsWith("pt:"))}).reduce(function(e,n){var r=Ep(n,2),i=r[0],s=r[1];return e[i]=s,e},{})}}},tX={name:"BaseBadge",extends:oi,props:{value:{type:[String,Number],default:null},severity:{type:String,default:null},size:{type:String,default:null}},style:WY,provide:function(){return{$parentInstance:this}}},yM={name:"Badge",extends:tX,inheritAttrs:!1};function nX(t,e,n,r,i,s){return N(),W("span",le({class:t.cx("root")},t.ptmi("root")),[Te(t.$slots,"default",{},function(){return[K(Fe(t.value),1)]})],16)}yM.render=nX;var rX=`
.p-icon {
    display: inline-block;
}

.p-icon-spin {
    -webkit-animation: p-icon-spin 2s infinite linear;
    animation: p-icon-spin 2s infinite linear;
}

@-webkit-keyframes p-icon-spin {
    0% {
        -webkit-transform: rotate(0deg);
        transform: rotate(0deg);
    }
    100% {
        -webkit-transform: rotate(359deg);
        transform: rotate(359deg);
    }
}

@keyframes p-icon-spin {
    0% {
        -webkit-transform: rotate(0deg);
        transform: rotate(0deg);
    }
    100% {
        -webkit-transform: rotate(359deg);
        transform: rotate(359deg);
    }
}
`,iX=fr.extend({name:"baseicon",css:rX});function Vh(t){"@babel/helpers - typeof";return Vh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vh(t)}function eA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function tA(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?eA(Object(n),!0).forEach(function(r){sX(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):eA(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function sX(t,e,n){return e=oX(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function oX(t){var e=aX(t,"string");return Vh(e)=="symbol"?e:String(e)}function aX(t,e){if(Vh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Vh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Va={name:"BaseIcon",extends:oi,props:{label:{type:String,default:void 0},spin:{type:Boolean,default:!1}},style:iX,methods:{pti:function(){var e=Me.isEmpty(this.label);return tA(tA({},!this.isUnstyled&&{class:["p-icon",{"p-icon-spin":this.spin}]}),{},{role:e?void 0:"img","aria-label":e?void 0:this.label,"aria-hidden":e})}}},Of={name:"SpinnerIcon",extends:Va},lX=v("path",{d:"M6.99701 14C5.85441 13.999 4.72939 13.7186 3.72012 13.1832C2.71084 12.6478 1.84795 11.8737 1.20673 10.9284C0.565504 9.98305 0.165424 8.89526 0.041387 7.75989C-0.0826496 6.62453 0.073125 5.47607 0.495122 4.4147C0.917119 3.35333 1.59252 2.4113 2.46241 1.67077C3.33229 0.930247 4.37024 0.413729 5.4857 0.166275C6.60117 -0.0811796 7.76026 -0.0520535 8.86188 0.251112C9.9635 0.554278 10.9742 1.12227 11.8057 1.90555C11.915 2.01493 11.9764 2.16319 11.9764 2.31778C11.9764 2.47236 11.915 2.62062 11.8057 2.73C11.7521 2.78503 11.688 2.82877 11.6171 2.85864C11.5463 2.8885 11.4702 2.90389 11.3933 2.90389C11.3165 2.90389 11.2404 2.8885 11.1695 2.85864C11.0987 2.82877 11.0346 2.78503 10.9809 2.73C9.9998 1.81273 8.73246 1.26138 7.39226 1.16876C6.05206 1.07615 4.72086 1.44794 3.62279 2.22152C2.52471 2.99511 1.72683 4.12325 1.36345 5.41602C1.00008 6.70879 1.09342 8.08723 1.62775 9.31926C2.16209 10.5513 3.10478 11.5617 4.29713 12.1803C5.48947 12.7989 6.85865 12.988 8.17414 12.7157C9.48963 12.4435 10.6711 11.7264 11.5196 10.6854C12.3681 9.64432 12.8319 8.34282 12.8328 7C12.8328 6.84529 12.8943 6.69692 13.0038 6.58752C13.1132 6.47812 13.2616 6.41667 13.4164 6.41667C13.5712 6.41667 13.7196 6.47812 13.8291 6.58752C13.9385 6.69692 14 6.84529 14 7C14 8.85651 13.2622 10.637 11.9489 11.9497C10.6356 13.2625 8.85432 14 6.99701 14Z",fill:"currentColor"},null,-1),uX=[lX];function cX(t,e,n,r,i,s){return N(),W("svg",le({width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t.pti()),uX,16)}Of.render=cX;function $h(t){"@babel/helpers - typeof";return $h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$h(t)}function nA(t,e){return pX(t)||fX(t,e)||hX(t,e)||dX()}function dX(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hX(t,e){if(t){if(typeof t=="string")return rA(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return rA(t,e)}}function rA(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function fX(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,a=[],l=!0,u=!1;try{if(s=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=s.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return a}}function pX(t){if(Array.isArray(t))return t}function iA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function $n(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?iA(Object(n),!0).forEach(function(r){j0(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):iA(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function j0(t,e,n){return e=mX(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function mX(t){var e=gX(t,"string");return $h(e)=="symbol"?e:String(e)}function gX(t,e){if($h(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if($h(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Xt={_getMeta:function(){return[Me.isObject(arguments.length<=0?void 0:arguments[0])||arguments.length<=0?void 0:arguments[0],Me.getItemValue(Me.isObject(arguments.length<=0?void 0:arguments[0])?arguments.length<=0?void 0:arguments[0]:arguments.length<=1?void 0:arguments[1])]},_getConfig:function(e,n){var r,i,s;return(r=(e==null||(i=e.instance)===null||i===void 0?void 0:i.$primevue)||(n==null||(s=n.ctx)===null||s===void 0||(s=s.appContext)===null||s===void 0||(s=s.config)===null||s===void 0||(s=s.globalProperties)===null||s===void 0?void 0:s.$primevue))===null||r===void 0?void 0:r.config},_getOptionValue:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=Me.toFlatCase(n).split("."),s=i.shift();return s?Me.isObject(e)?Xt._getOptionValue(Me.getItemValue(e[Object.keys(e).find(function(o){return Me.toFlatCase(o)===s})||""],r),i.join("."),r):void 0:Me.getItemValue(e,r)},_getPTValue:function(){var e,n,r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"",o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,l=function(){var I=Xt._getOptionValue.apply(Xt,arguments);return Me.isString(I)||Me.isArray(I)?{class:I}:I},u=((e=r.binding)===null||e===void 0||(e=e.value)===null||e===void 0?void 0:e.ptOptions)||((n=r.$primevueConfig)===null||n===void 0?void 0:n.ptOptions)||{},c=u.mergeSections,d=c===void 0?!0:c,h=u.mergeProps,p=h===void 0?!1:h,m=a?Xt._useDefaultPT(r,r.defaultPT(),l,s,o):void 0,g=Xt._usePT(r,Xt._getPT(i,r.$name),l,s,$n($n({},o),{},{global:m||{}})),y=Xt._getPTDatasets(r,s);return d||!d&&g?p?Xt._mergeProps(r,p,m,g,y):$n($n($n({},m),g),y):$n($n({},g),y)},_getPTDatasets:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",r="data-pc-";return $n($n({},n==="root"&&j0({},"".concat(r,"name"),Me.toFlatCase(e.$name))),{},j0({},"".concat(r,"section"),Me.toFlatCase(n)))},_getPT:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",r=arguments.length>2?arguments[2]:void 0,i=function(o){var a,l=r?r(o):o,u=Me.toFlatCase(n);return(a=l==null?void 0:l[u])!==null&&a!==void 0?a:l};return e!=null&&e.hasOwnProperty("_usept")?{_usept:e._usept,originalValue:i(e.originalValue),value:i(e.value)}:i(e)},_usePT:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0,r=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,s=arguments.length>4?arguments[4]:void 0,o=function(y){return r(y,i,s)};if(n!=null&&n.hasOwnProperty("_usept")){var a,l=n._usept||((a=e.$primevueConfig)===null||a===void 0?void 0:a.ptOptions)||{},u=l.mergeSections,c=u===void 0?!0:u,d=l.mergeProps,h=d===void 0?!1:d,p=o(n.originalValue),m=o(n.value);return p===void 0&&m===void 0?void 0:Me.isString(m)?m:Me.isString(p)?p:c||!c&&m?h?Xt._mergeProps(e,h,p,m):$n($n({},p),m):m}return o(n)},_useDefaultPT:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,s=arguments.length>4?arguments[4]:void 0;return Xt._usePT(e,n,r,i,s)},_hook:function(e,n,r,i,s,o){var a,l,u="on".concat(Me.toCapitalCase(n)),c=Xt._getConfig(i,s),d=r==null?void 0:r.$instance,h=Xt._usePT(d,Xt._getPT(i==null||(a=i.value)===null||a===void 0?void 0:a.pt,e),Xt._getOptionValue,"hooks.".concat(u)),p=Xt._useDefaultPT(d,c==null||(l=c.pt)===null||l===void 0||(l=l.directives)===null||l===void 0?void 0:l[e],Xt._getOptionValue,"hooks.".concat(u)),m={el:r,binding:i,vnode:s,prevVnode:o};h==null||h(d,m),p==null||p(d,m)},_mergeProps:function(){for(var e=arguments.length>1?arguments[1]:void 0,n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];return Me.isFunction(e)?e.apply(void 0,r):le.apply(void 0,r)},_extend:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=function(s,o,a,l,u){var c,d;o._$instances=o._$instances||{};var h=Xt._getConfig(a,l),p=o._$instances[e]||{},m=Me.isEmpty(p)?$n($n({},n),n==null?void 0:n.methods):{};o._$instances[e]=$n($n({},p),{},{$name:e,$host:o,$binding:a,$modifiers:a==null?void 0:a.modifiers,$value:a==null?void 0:a.value,$el:p.$el||o||void 0,$style:$n({classes:void 0,inlineStyles:void 0,loadStyle:function(){}},n==null?void 0:n.style),$primevueConfig:h,defaultPT:function(){return Xt._getPT(h==null?void 0:h.pt,void 0,function(y){var P;return y==null||(P=y.directives)===null||P===void 0?void 0:P[e]})},isUnstyled:function(){var y,P;return((y=o.$instance)===null||y===void 0||(y=y.$binding)===null||y===void 0||(y=y.value)===null||y===void 0?void 0:y.unstyled)!==void 0?(P=o.$instance)===null||P===void 0||(P=P.$binding)===null||P===void 0||(P=P.value)===null||P===void 0?void 0:P.unstyled:h==null?void 0:h.unstyled},ptm:function(){var y,P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",I=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Xt._getPTValue(o.$instance,(y=o.$instance)===null||y===void 0||(y=y.$binding)===null||y===void 0||(y=y.value)===null||y===void 0?void 0:y.pt,P,$n({},I))},ptmo:function(){var y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},P=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",I=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return Xt._getPTValue(o.$instance,y,P,I,!1)},cx:function(){var y,P,I=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",S=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return(y=o.$instance)!==null&&y!==void 0&&y.isUnstyled()?void 0:Xt._getOptionValue((P=o.$instance)===null||P===void 0||(P=P.$style)===null||P===void 0?void 0:P.classes,I,$n({},S))},sx:function(){var y,P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",I=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,S=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return I?Xt._getOptionValue((y=o.$instance)===null||y===void 0||(y=y.$style)===null||y===void 0?void 0:y.inlineStyles,P,$n({},S)):void 0}},m),o.$instance=o._$instances[e],(c=(d=o.$instance)[s])===null||c===void 0||c.call(d,o,a,l,u),o["$".concat(e)]=o.$instance,Xt._hook(e,s,o,a,l,u)};return{created:function(s,o,a,l){r("created",s,o,a,l)},beforeMount:function(s,o,a,l){var u,c,d,h,p=Xt._getConfig(o,a);fr.loadStyle({nonce:p==null||(u=p.csp)===null||u===void 0?void 0:u.nonce}),!((c=s.$instance)!==null&&c!==void 0&&c.isUnstyled())&&((d=s.$instance)===null||d===void 0||(d=d.$style)===null||d===void 0||d.loadStyle({nonce:p==null||(h=p.csp)===null||h===void 0?void 0:h.nonce})),r("beforeMount",s,o,a,l)},mounted:function(s,o,a,l){var u,c,d,h,p=Xt._getConfig(o,a);fr.loadStyle({nonce:p==null||(u=p.csp)===null||u===void 0?void 0:u.nonce}),!((c=s.$instance)!==null&&c!==void 0&&c.isUnstyled())&&((d=s.$instance)===null||d===void 0||(d=d.$style)===null||d===void 0||d.loadStyle({nonce:p==null||(h=p.csp)===null||h===void 0?void 0:h.nonce})),r("mounted",s,o,a,l)},beforeUpdate:function(s,o,a,l){r("beforeUpdate",s,o,a,l)},updated:function(s,o,a,l){r("updated",s,o,a,l)},beforeUnmount:function(s,o,a,l){r("beforeUnmount",s,o,a,l)},unmounted:function(s,o,a,l){r("unmounted",s,o,a,l)}}},extend:function(){var e=Xt._getMeta.apply(Xt,arguments),n=nA(e,2),r=n[0],i=n[1];return $n({extend:function(){var o=Xt._getMeta.apply(Xt,arguments),a=nA(o,2),l=a[0],u=a[1];return Xt.extend(l,$n($n($n({},i),i==null?void 0:i.methods),u))}},Xt._extend(r,i))}},vX={root:"p-ink"},yX=fr.extend({name:"ripple",classes:vX}),bX=Xt.extend({style:yX});function _X(t){return SX(t)||EX(t)||TX(t)||wX()}function wX(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function TX(t,e){if(t){if(typeof t=="string")return H0(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return H0(t,e)}}function EX(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function SX(t){if(Array.isArray(t))return H0(t)}function H0(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var bv=bX.extend("ripple",{mounted:function(e){var n,r=e==null||(n=e.$instance)===null||n===void 0?void 0:n.$primevueConfig;r&&r.ripple&&(this.create(e),this.bindEvents(e),e.setAttribute("data-pd-ripple",!0))},unmounted:function(e){this.remove(e)},timeout:void 0,methods:{bindEvents:function(e){e.addEventListener("mousedown",this.onMouseDown.bind(this))},unbindEvents:function(e){e.removeEventListener("mousedown",this.onMouseDown.bind(this))},create:function(e){var n=ze.createElement("span",{role:"presentation","aria-hidden":!0,"data-p-ink":!0,"data-p-ink-active":!1,class:!this.isUnstyled()&&this.cx("root"),onAnimationEnd:this.onAnimationEnd.bind(this),"p-bind":this.ptm("root")});e.appendChild(n),this.$el=n},remove:function(e){var n=this.getInk(e);n&&(this.unbindEvents(e),n.removeEventListener("animationend",this.onAnimationEnd),n.remove())},onMouseDown:function(e){var n=this,r=e.currentTarget,i=this.getInk(r);if(!(!i||getComputedStyle(i,null).display==="none")){if(!this.isUnstyled()&&ze.removeClass(i,"p-ink-active"),i.setAttribute("data-p-ink-active","false"),!ze.getHeight(i)&&!ze.getWidth(i)){var s=Math.max(ze.getOuterWidth(r),ze.getOuterHeight(r));i.style.height=s+"px",i.style.width=s+"px"}var o=ze.getOffset(r),a=e.pageX-o.left+document.body.scrollTop-ze.getWidth(i)/2,l=e.pageY-o.top+document.body.scrollLeft-ze.getHeight(i)/2;i.style.top=l+"px",i.style.left=a+"px",!this.isUnstyled()&&ze.addClass(i,"p-ink-active"),i.setAttribute("data-p-ink-active","true"),this.timeout=setTimeout(function(){i&&(!n.isUnstyled()&&ze.removeClass(i,"p-ink-active"),i.setAttribute("data-p-ink-active","false"))},401)}},onAnimationEnd:function(e){this.timeout&&clearTimeout(this.timeout),!this.isUnstyled()&&ze.removeClass(e.currentTarget,"p-ink-active"),e.currentTarget.setAttribute("data-p-ink-active","false")},getInk:function(e){return e&&e.children?_X(e.children).find(function(n){return ze.getAttribute(n,"data-pc-name")==="ripple"}):void 0}}});function Fh(t){"@babel/helpers - typeof";return Fh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fh(t)}function Bo(t,e,n){return e=IX(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function IX(t){var e=CX(t,"string");return Fh(e)=="symbol"?e:String(e)}function CX(t,e){if(Fh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Fh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var AX={root:function(e){var n=e.instance,r=e.props;return["p-button p-component",Bo(Bo(Bo(Bo(Bo(Bo(Bo(Bo({"p-button-icon-only":n.hasIcon&&!r.label&&!r.badge,"p-button-vertical":(r.iconPos==="top"||r.iconPos==="bottom")&&r.label,"p-disabled":n.$attrs.disabled||n.$attrs.disabled===""||r.loading,"p-button-loading":r.loading,"p-button-loading-label-only":r.loading&&!n.hasIcon&&r.label,"p-button-link":r.link},"p-button-".concat(r.severity),r.severity),"p-button-raised",r.raised),"p-button-rounded",r.rounded),"p-button-text",r.text),"p-button-outlined",r.outlined),"p-button-sm",r.size==="small"),"p-button-lg",r.size==="large"),"p-button-plain",r.plain)]},loadingIcon:"p-button-loading-icon pi-spin",icon:function(e){var n=e.props;return["p-button-icon",{"p-button-icon-left":n.iconPos==="left"&&n.label,"p-button-icon-right":n.iconPos==="right"&&n.label,"p-button-icon-top":n.iconPos==="top"&&n.label,"p-button-icon-bottom":n.iconPos==="bottom"&&n.label}]},label:"p-button-label"},PX=fr.extend({name:"button",classes:AX}),OX={name:"BaseButton",extends:oi,props:{label:{type:String,default:null},icon:{type:String,default:null},iconPos:{type:String,default:"left"},iconClass:{type:String,default:null},badge:{type:String,default:null},badgeClass:{type:String,default:null},badgeSeverity:{type:String,default:null},loading:{type:Boolean,default:!1},loadingIcon:{type:String,default:void 0},link:{type:Boolean,default:!1},severity:{type:String,default:null},raised:{type:Boolean,default:!1},rounded:{type:Boolean,default:!1},text:{type:Boolean,default:!1},outlined:{type:Boolean,default:!1},size:{type:String,default:null},plain:{type:Boolean,default:!1}},style:PX,provide:function(){return{$parentInstance:this}}},Su={name:"Button",extends:OX,inheritAttrs:!1,methods:{getPTOptions:function(e){var n=e==="root"?this.ptmi:this.ptm;return n(e,{context:{disabled:this.disabled}})}},computed:{disabled:function(){return this.$attrs.disabled||this.$attrs.disabled===""||this.loading},defaultAriaLabel:function(){return this.label?this.label+(this.badge?" "+this.badge:""):this.$attrs.ariaLabel},hasIcon:function(){return this.icon||this.$slots.icon}},components:{SpinnerIcon:Of,Badge:yM},directives:{ripple:bv}},kX=["aria-label","disabled","data-p-severity"];function RX(t,e,n,r,i,s){var o=An("SpinnerIcon"),a=An("Badge"),l=Rg("ripple");return Fi((N(),W("button",le({class:t.cx("root"),type:"button","aria-label":s.defaultAriaLabel,disabled:s.disabled},s.getPTOptions("root"),{"data-p-severity":t.severity}),[Te(t.$slots,"default",{},function(){return[t.loading?Te(t.$slots,"loadingicon",{key:0,class:$e([t.cx("loadingIcon"),t.cx("icon")])},function(){return[t.loadingIcon?(N(),W("span",le({key:0,class:[t.cx("loadingIcon"),t.cx("icon"),t.loadingIcon]},t.ptm("loadingIcon")),null,16)):(N(),ce(o,le({key:1,class:[t.cx("loadingIcon"),t.cx("icon")],spin:""},t.ptm("loadingIcon")),null,16,["class"]))]}):Te(t.$slots,"icon",{key:1,class:$e([t.cx("icon")])},function(){return[t.icon?(N(),W("span",le({key:0,class:[t.cx("icon"),t.icon,t.iconClass]},t.ptm("icon")),null,16)):Z("",!0)]}),v("span",le({class:t.cx("label")},t.ptm("label")),Fe(t.label||" "),17),t.badge?(N(),ce(a,le({key:2,value:t.badge,class:t.badgeClass,severity:t.badgeSeverity,unstyled:t.unstyled},t.ptm("badge")),null,16,["value","class","severity","unstyled"])):Z("",!0)]})],16,kX)),[[l]])}Su.render=RX;const at=xe({__name:"CustomButton",props:{class:{},activeClass:{},label:{},url:{},route:{},type:{},style:{type:[Boolean,null,String,Object,Array]},action:{},icon:{},outlined:{type:Boolean},list:{type:Boolean},bold:{type:Boolean},loading:{type:Boolean},form:{}},emits:["click"],setup(t){const e=t,n=ee(()=>{switch(e.type){case"primary":return e.outlined?e.list?"button-outlined-list-primary":"button-outlined-primary":"button-primary";case"secondary":return e.outlined?e.list?"button-outlined-list-secondary":"button-outlined-secondary":"button-secondary";case"tertiary":return e.outlined?e.list?"button-outlined-list-tertiary":"button-outlined-tertiary":"button-tertiary";case"neutral":return e.outlined?"button-outlined-neutral":"button-neutral";case"danger":return e.outlined?e.list?"button-outlined-list-danger":"button-outlined-danger":"button-danger";case"green":return e.outlined?"button-outlined-green":"button-green";default:return e.outlined?e.list?"button-outlined-list-primary":"button-outlined-primary":"button-primary"}});return(r,i)=>(N(),ce(rY,{class:$e([n.value,"md:mt-0 py-2 px-4",r.list?"flex flex-column justify-center":"",...A(Xa)(e.class)]),activeClass:r.activeClass,url:r.url,route:r.route},{default:J(({class:s})=>[B(A(Su),{class:$e(s),type:r.action??"button",form:r.form,label:r.label,style:ur(r.style),icon:r.icon,loading:r.loading,loadingIcon:"pi pi-sync",onClick:i[0]||(i[0]=kt(o=>r.$emit("click"),["stop"]))},{icon:J(()=>[Te(r.$slots,"icon")]),default:J(()=>[Te(r.$slots,"default")]),_:2},1032,["class","type","form","label","style","icon","loading"])]),_:3},8,["class","activeClass","url","route"]))}}),xX=xe({__name:"NavigationDropDown",props:{isOpen:{type:Boolean},toggle:{type:Function}},setup(t){const e=br(),{currentUser:n}=Vt(e),{visibleMenuItems:r}=Vt(jn());return(i,s)=>(N(),W(Pe,null,[Fi(v("div",{class:"md:hidden w-screen h-screen z-10 bg-neutral-900 opacity-25 fixed top-1/2 start-1/2 transform -translate-x-1/2 -translate-y-1/2 animation",onClick:s[0]||(s[0]=(...o)=>i.toggle&&i.toggle(...o))},null,512),[[Ls,i.isOpen]]),Fi(v("div",{class:"md:hidden absolute z-20 w-3/4 start-1/2 transform -translate-x-1/2 mt-12 sm:mt-2 p-4 py-8 bg-neutral-900 border border-primary-600 rounded-primary",onClick:s[1]||(s[1]=(...o)=>i.toggle&&i.toggle(...o))},[(N(!0),W(Pe,null,ht(A(r),o=>(N(),ce(at,{class:"w-full text-lg rounded-none first:rounded-t-primary","active-class":"button-secondary",type:"secondary",outlined:"",list:"",url:o.url,route:o.route,loading:o.loading,label:o.name},null,8,["url","route","loading","label"]))),256)),A(n)?(N(),ce(at,{key:0,class:"w-full text-lg rounded-none first:rounded-t-primary","active-class":"button-tertiary",type:"secondary",outlined:"",list:"",route:A(Xn).DASHBOARD,label:"Dashboard"},null,8,["route"])):Z("",!0),A(n)?(N(),ce(at,{key:1,class:"w-full text-lg rounded-none rounded-b-primary first:rounded-b-primary",outlined:"",list:"",type:"danger",label:"Logout",onClick:A(e).logout},null,8,["onClick"])):(N(),ce(at,{key:2,class:"w-full text-lg rounded-none rounded-b-primary first:rounded-b-primary","active-class":"button-primary",type:"primary",outlined:"",list:"",route:A(Xn).LOGIN,label:"Login"},null,8,["route"]))],512),[[Ls,i.isOpen]])],64))}}),DX={key:0,class:$e(["flex items-center justify-between flex-wrap gap-3","sm:flex-col","lg:flex-row"])},NX={key:0,class:"flex justify-between"},MX=v("p",null,"Menu",-1),LX=xe({__name:"NavigationMenu",setup(t){const e=br(),{currentUser:n,isLogoutLoading:r}=Vt(e),{visibleMenuItems:i}=Vt(jn()),s=ie(),o=ie(!1),a=ie(!1),l=ee(()=>o.value||a.value),u=()=>{o.value=!o.value,o.value&&rr(()=>{var c;(c=s.value)==null||c.scrollIntoView({behavior:"smooth",block:"center"})})};return(c,d)=>A(i).length?(N(),W("div",DX,[(N(!0),W(Pe,null,ht(A(i),h=>(N(),ce(at,{class:"hidden sm:flex sm:w-full lg:w-auto grow justify-center","active-class":"button-secondary",type:"secondary",outlined:"",url:h.url,route:h.route,loading:h.loading,label:h.name},null,8,["url","route","loading","label"]))),256)),A(n)?Z("",!0):(N(),ce(at,{key:0,class:"hidden sm:flex sm:w-full lg:w-auto grow justify-center","active-class":"button-primary",type:"primary",outlined:"",route:A(Xn).LOGIN,label:"Login"},null,8,["route"])),A(n)?(N(),ce(at,{key:1,class:"hidden sm:flex sm:w-full lg:w-auto grow justify-center",type:"danger",outlined:"",loading:A(r),onClick:A(e).logout,label:"Logout"},null,8,["loading","onClick"])):Z("",!0),v("div",{ref_key:"dropdown",ref:s,class:"dropdown absolute sm:hidden w-full left-0 top-5 flex justify-end"},[v("div",{class:"fixed w-full px-10",onMouseover:d[0]||(d[0]=h=>a.value=!0),onMouseleave:d[1]||(d[1]=h=>a.value=!1)},[v("div",{class:$e(["flex animation",o.value?"justify-center":"justify-end"])},[B(at,{class:$e(["bg-black bg-opacity-50",o.value?"w-full":"w-fit hover:w-full"]),outlined:"",icon:l.value?void 0:"pi pi-align-justify",onClick:u},{default:J(()=>[l.value?(N(),W("div",NX,[v("i",{class:$e(["pi pi-angle-down animation place-self-center mr-2",{"rotate-180":o.value}])},null,2),MX])):Z("",!0)]),_:1},8,["class","icon"])],2)],32),B(xX,{"is-open":o.value,toggle:()=>o.value=!o.value},null,8,["is-open","toggle"])],512)])):Z("",!0)}}),VX={class:$e(["sm:fixed sm:right-0 sm:mt-0 sm:top-5","md:absolute","lg:top-0 lg:right-auto","w-fit md:w-1/3","mb-8 py-8 bg-transparent text-neutral-300","sm:mt-8 sm:mb-0 sm:p-4 sm:bg-neutral-900 sm:bg-opacity-50 sm:rounded-primary sm:rounded-e-none","lg:px-8 lg:mt-0 lg:rounded-br-primary lg:rounded-t-none"])},$X={key:0,class:"hidden sm:flex justify-center mb-4"},FX={class:"hidden md:block w-4/5 space-y-2"},UX={class:"hidden font-semibold text-base md:first:block lg:block first:font-bold first:text-lg"},qX={class:"ms-3 flex items-center justify-center w-full md:w-3/5 lg:w-1/5"},BX={key:1},jX={class:"hidden lg:grid col-span-5 space-y-2 mb-5"},HX={class:"font-semibold text-base first:font-bold first:text-lg"},WX=xe({__name:"NavigationCard",setup(t){const e=cf(),{currentUser:n}=Vt(br()),{content:r}=Vt(jn());return(i,s)=>{const o=An("RouterLink");return N(),W("div",VX,[A(n)?(N(),W("div",$X,[v("div",FX,[(N(!0),W(Pe,null,ht(A(r).headerDescriptionUser,a=>(N(),W("p",UX,Fe(a.replace("%USER%",A(n).firstName+(A(n).lastName?" "+A(n).lastName:""))),1))),256))]),v("div",qX,[B(o,{to:{name:A(Xn).DASHBOARD}},{default:J(()=>[v("i",{class:$e(["pi pi-user px-2 py-1 border rounded-primary border-secondary-600 text-neutral-300 animation-scale",{"bg-secondary-600 bg-opacity-75":A(e).name===A(Xn).DASHBOARD}]),style:{"font-size":"3rem"}},null,2)]),_:1},8,["to"])])])):(N(),W("div",BX,[v("div",jX,[(N(!0),W(Pe,null,ht(A(r).headerDescriptionGuest,a=>(N(),W("p",HX,Fe(a),1))),256))])])),B(LX)])}}}),zX={class:"sm:flex sm:items-start sm:justify-between mb-20"},KX={class:"w-full sm:w-1/3 lg:flex lg:justify-end"},GX=xe({__name:"Header",setup(t){return(e,n)=>(N(),W("div",zX,[B(BC,{class:"hidden sm:block"}),v("div",KX,[B(WX)]),B(BC,{class:"sm:hidden"})]))}}),YX={class:"min-h-screen bg-gradient-to-b from-primary-900 to-black via-neutral-800"},XX={class:$e(["mx-0 sm:mx-16 px-5 pb-5 sm:p-14 rounded-b-primary","text-white bg-gradient-to-b from-transparent from-10% via-neutral-900 to-black","bg-opacity-50 border-opacity-100"])},Js=xe({__name:"Page",props:{scrollToContent:{type:Boolean,required:!1,default:!0}},setup(t){const e=t,n=cf(),r=ie(),i=()=>{e.scrollToContent&&Wp(r.value)};return pn(()=>n.fullPath,()=>{i()}),$t(()=>{i()}),(s,o)=>(N(),W(Pe,null,[v("div",YX,[v("div",XX,[v("header",null,[s.$slots.header?Te(s.$slots,"header",{key:0}):(N(),ce(GX,{key:1}))]),v("main",null,[v("div",{ref_key:"content",ref:r},[Te(s.$slots,"content")],512)])])]),v("footer",null,[s.$slots.footer?Te(s.$slots,"footer",{key:0}):(N(),ce(BG,{key:1}))])],64))}});function QX(t){return rf()?(_g(t),!0):!1}function W0(t){return typeof t=="function"?t():A(t)}const JX=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;function ZX(t,e){var n;if(typeof t=="number")return t+e;const r=((n=t.match(/^-?\d+\.?\d*/))==null?void 0:n[0])||"",i=t.slice(r.length),s=Number.parseFloat(r)+e;return Number.isNaN(s)?t:s+i}const bM=JX?window:void 0;function eQ(){const t=ie(!1),e=ts();return e&&$t(()=>{t.value=!0},e),t}function tQ(t){const e=eQ();return ee(()=>(e.value,!!t()))}function ld(t,e={}){const{window:n=bM}=e,r=tQ(()=>n&&"matchMedia"in n&&typeof n.matchMedia=="function");let i;const s=ie(!1),o=u=>{s.value=u.matches},a=()=>{i&&("removeEventListener"in i?i.removeEventListener("change",o):i.removeListener(o))},l=H_(()=>{r.value&&(a(),i=n.matchMedia(W0(t)),"addEventListener"in i?i.addEventListener("change",o):i.addListener(o),s.value=i.matches)});return QX(()=>{l(),a(),i=void 0}),s}const $c={sm:640,md:768,lg:1024,xl:1280,"2xl":1536};function Fc(t,e={}){function n(c,d){let h=W0(t[W0(c)]);return d!=null&&(h=ZX(h,d)),typeof h=="number"&&(h=`${h}px`),h}const{window:r=bM,strategy:i="min-width"}=e;function s(c){return r?r.matchMedia(c).matches:!1}const o=c=>ld(()=>`(min-width: ${n(c)})`,e),a=c=>ld(()=>`(max-width: ${n(c)})`,e),l=Object.keys(t).reduce((c,d)=>(Object.defineProperty(c,d,{get:()=>i==="min-width"?o(d):a(d),enumerable:!0,configurable:!0}),c),{});function u(){const c=Object.keys(t).map(d=>[d,o(d)]);return ee(()=>c.filter(([,d])=>d.value).map(([d])=>d))}return Object.assign(l,{greaterOrEqual:o,smallerOrEqual:a,greater(c){return ld(()=>`(min-width: ${n(c,.1)})`,e)},smaller(c){return ld(()=>`(max-width: ${n(c,-.1)})`,e)},between(c,d){return ld(()=>`(min-width: ${n(c)}) and (max-width: ${n(d,-.1)})`,e)},isGreater(c){return s(`(min-width: ${n(c,.1)})`)},isGreaterOrEqual(c){return s(`(min-width: ${n(c)})`)},isSmaller(c){return s(`(max-width: ${n(c,-.1)})`)},isSmallerOrEqual(c){return s(`(max-width: ${n(c)})`)},isInBetween(c,d){return s(`(min-width: ${n(c)}) and (max-width: ${n(d,-.1)})`)},current:u,active(){const c=u();return ee(()=>c.value.length===0?"":c.value.at(-1))}})}var nQ={root:function(e){var n=e.props;return["p-tag p-component",{"p-tag-info":n.severity==="info","p-tag-success":n.severity==="success","p-tag-warning":n.severity==="warning","p-tag-danger":n.severity==="danger","p-tag-secondary":n.severity==="secondary","p-tag-contrast":n.severity==="contrast","p-tag-rounded":n.rounded}]},icon:"p-tag-icon",value:"p-tag-value"},rQ=fr.extend({name:"tag",classes:nQ}),iQ={name:"BaseTag",extends:oi,props:{value:null,severity:null,rounded:Boolean,icon:String},style:rQ,provide:function(){return{$parentInstance:this}}},z0={name:"Tag",extends:iQ,inheritAttrs:!1};function sQ(t,e,n,r,i,s){return N(),W("span",le({class:t.cx("root")},t.ptmi("root")),[t.$slots.icon?(N(),ce(Nn(t.$slots.icon),le({key:0,class:t.cx("icon")},t.ptm("icon")),null,16,["class"])):t.icon?(N(),W("span",le({key:1,class:[t.cx("icon"),t.icon]},t.ptm("icon")),null,16)):Z("",!0),t.value||t.$slots.default?Te(t.$slots,"default",{key:2},function(){return[v("span",le({class:t.cx("value")},t.ptm("value")),Fe(t.value),17)]}):Z("",!0)],16)}z0.render=sQ;const oQ={class:"flex flex-col"},aQ={class:"flex justify-between"},lQ={class:"xl:flex"},uQ={key:0,class:"flex flex-wrap gap-x-2"},cQ=["src"],dQ=["src"],hQ=["href"],fQ={key:3,class:"flex flex-wrap gap-2"},pQ={key:1,class:"flex gap-2"},mQ=["src"],gQ=["src"],vQ={key:0,class:"xl:mt-2"},xn=xe({__name:"Bubble",props:{title:{},subTitle:{},tags:{},url:{},route:{},description:{},avatar:{},avatarRoute:{},loading:{type:Boolean},clickable:{type:Boolean},isCollapsed:{type:Boolean},titleProps:{},subTitleProps:{},descriptionProps:{}},emits:["click"],setup(t,{emit:e}){const n=t,r=e,s=Fc($c).greaterOrEqual("md"),o=()=>{n.clickable&&r("click")};return(a,l)=>{var c,d,h;const u=An("RouterLink");return N(),W("div",{class:$e(["background-gray-light rounded-secondary p-5",{"md:p-10":!a.isCollapsed,"hover:bg-opacity-30":!!a.url,"animate-pulse":!!a.loading,"cursor-pointer":!!a.clickable&&!!a.isCollapsed}])},[v("div",{class:$e(["group/bubble flex justify-between",{"cursor-pointer":!!a.clickable&&!a.isCollapsed}]),onClick:o},[v("div",oQ,[v("div",aQ,[v("div",lQ,[a.url||a.clickable?(N(),W("div",uQ,[a.avatar?(N(),W(Pe,{key:0},[(c=a.avatarRoute)!=null&&c.name?(N(),ce(u,{key:0,to:a.avatarRoute},{default:J(()=>[v("img",{class:"rounded-full h-12 w-12",src:a.avatar},null,8,cQ)]),_:1},8,["to"])):(N(),W("img",{key:1,class:"rounded-full h-12 w-12",src:a.avatar},null,8,dQ))],64)):Z("",!0),(d=a.route)!=null&&d.name?(N(),ce(u,{key:1,class:$e(["text-2xl font-bold mb-2",A(s)?"!no-underline group-hover/bubble:!underline":"!underline group-hover/bubble:!no-underline"]),to:a.route},{default:J(()=>[v("h2",null,Fe(a.title),1)]),_:1},8,["class","to"])):(N(),W("a",{key:2,class:$e(["text-2xl font-bold mb-2",A(s)?"!no-underline group-hover/bubble:!underline":"!underline group-hover/bubble:!no-underline"]),href:a.url},[v("h2",null,Fe(a.title),1)],10,hQ)),a.tags?(N(),W("div",fQ,[(N(!0),W(Pe,null,ht(a.tags,p=>(N(),ce(A(z0),{class:"h-fit p-2",value:p.value,severity:p.severity,rounded:p.rounded!==!1,icon:p.icon},null,8,["value","severity","rounded","icon"]))),256))])):Z("",!0)])):a.title?(N(),W("div",pQ,[a.avatar?(N(),W(Pe,{key:0},[(h=a.avatarRoute)!=null&&h.name?(N(),ce(u,{key:0,to:a.avatarRoute},{default:J(()=>[v("img",{class:"rounded-full h-12 w-12",src:a.avatar},null,8,mQ)]),_:1},8,["to"])):(N(),W("img",{key:1,class:"rounded-full h-12 w-12",src:a.avatar},null,8,gQ))],64)):Z("",!0),v("h2",le({class:"text-2xl font-bold mb-2 xl:whitespace-nowrap"},a.titleProps),[K(Fe(a.title)+" ",1),a.tags?(N(!0),W(Pe,{key:0},ht(a.tags,p=>(N(),ce(A(z0),{class:"ms-2",value:p.value,severity:p.severity,rounded:p.rounded!==!1,icon:p.icon},null,8,["value","severity","rounded","icon"]))),256)):Z("",!0)],16)])):Z("",!0),a.subTitle?(N(),W("p",le({key:2,class:"text-sm text-neutral-300 mt-2 mb-2 xl:ms-2 xl:mt-2 xl:whitespace-nowrap"},a.subTitleProps),Fe(a.subTitle),17)):Z("",!0)])]),a.description&&!a.isCollapsed?(N(),W("div",vQ,[(N(!0),W(Pe,null,ht(Array.isArray(a.description)?a.description:[a.description],p=>(N(),W("p",le({class:"text-neutral-400 mb-2",ref_for:!0},a.descriptionProps),Fe(p),17))),256))])):Z("",!0)]),Te(a.$slots,"right")],2),a.isCollapsed?Z("",!0):Te(a.$slots,"default",{key:0})],2)}}}),ud=xe({__name:"CountdownNumber",props:{time:{},animate:{type:Boolean},direction:{}},setup(t){return(e,n)=>(N(),W("span",{class:$e({"animation ease-in animate-timer-up":e.animate&&e.direction==="up","animation ease-in animate-timer-down":e.animate&&e.direction==="down"})},Fe(e.time),3))}}),yQ=(t,e)=>{const n=ie(0),r=T=>(e==="up"?T=Math.abs(T):T=Math.max(0,T),Math.floor(T)),i=ee(()=>r(n.value/Vm)),s=ee(()=>n.value%Vm),o=ee(()=>r(s.value/Lm)),a=ee(()=>s.value%Lm),l=ee(()=>r(a.value/b0)),u=ee(()=>a.value%b0),c=ee(()=>r(u.value/y0)),d=ee(()=>u.value%y0),h=ee(()=>r(d.value/a2)),p=ee(()=>i.value===0&&o.value===0&&l.value===0&&c.value===0&&h.value===0),m=ee(()=>i.value>0),g=ee(()=>i.value>0||o.value>0||p.value),y=ee(()=>i.value>0||o.value>0||l.value>0||p.value),P=ee(()=>i.value>0||o.value>0||l.value>0||c.value>0||p.value),I=ee(()=>i.value>0||o.value>0||l.value>0||c.value>0||h.value>0||p.value),S=()=>{n.value=t-new Date().getTime(),setTimeout(S,1e3)};return $t(()=>{S()}),{years:i,days:o,hours:l,minutes:c,seconds:h,showYears:m,showDays:g,showHours:y,showMinutes:P,showSeconds:I}},bQ=(t,e,n,r,i,s,o)=>{const a=ie(0),l=ee(()=>e.value===0&&n.value===0&&r.value===0&&i.value===0&&s.value===0),u=ee(()=>o==="down"?n.value===364:n.value===0),c=ee(()=>o==="down"?r.value===23:r.value===0),d=ee(()=>o==="down"?i.value===59:i.value===0),h=ee(()=>o==="down"?s.value===59:s.value===0),p=ee(()=>e.value>=0&&u.value&&c.value&&d.value&&h.value),m=ee(()=>n.value>=0&&c.value&&d.value&&h.value),g=ee(()=>r.value>=0&&d.value&&h.value),y=ee(()=>i.value>=0&&h.value),P=ee(()=>!l.value),I=()=>{a.value=t-new Date().getTime(),setTimeout(I,1e3)};return $t(()=>{I()}),{animateYears:p,animateDays:m,animateHours:g,animateMinutes:y,animateSeconds:P}},_Q={class:"grid grid-flow-col text-center"},wQ={key:0,class:"flex flex-col py-2 px-1 sm:px-2 bg-neutral rounded-box text-neutral-content rounded-primary"},TQ={class:"text-xl sm:text-3xl md:text-3xl lg:text-5xl font-mono font-bold sm:font-normal"},EQ={key:1,class:"flex flex-col py-2 px-1 sm:px-2 bg-neutral rounded-box text-neutral-content rounded-primary"},SQ={class:"text-xl sm:text-3xl md:text-3xl lg:text-5xl font-mono font-bold sm:font-normal"},IQ={key:2,class:"flex flex-col py-2 px-1 sm:px-2 bg-neutral rounded-box text-neutral-content rounded-primary"},CQ={class:"text-xl sm:text-3xl md:text-3xl lg:text-5xl font-mono font-bold sm:font-normal"},AQ={key:3,class:"flex flex-col py-2 px-1 sm:px-2 bg-neutral rounded-box text-neutral-content rounded-primary"},PQ={class:"text-xl sm:text-3xl md:text-3xl lg:text-5xl font-mono font-bold sm:font-normal"},OQ={key:4,class:"flex flex-col py-2 px-1 sm:px-2 bg-neutral rounded-box text-neutral-content rounded-primary"},kQ={class:"text-xl sm:text-3xl md:text-3xl lg:text-5xl font-mono font-bold sm:font-normal"},ru=xe({__name:"Countdown",props:{time:{},direction:{},alignment:{}},setup(t){const e=t,{years:n,days:r,hours:i,minutes:s,seconds:o,showYears:a,showDays:l,showHours:u,showMinutes:c,showSeconds:d}=yQ(e.time,e.direction),{animateYears:h,animateDays:p,animateHours:m,animateMinutes:g,animateSeconds:y}=bQ(e.time,n,r,i,s,o,e.direction);return(P,I)=>(N(),W("div",{class:$e({block:!P.alignment,flex:!!P.alignment,"justify-start":P.alignment==="left","justify-center":P.alignment==="center","justify-end":P.alignment==="right"})},[v("div",_Q,[A(a)?(N(),W("div",wQ,[v("span",TQ,[B(ud,{time:A(n),animate:A(h),direction:P.direction},null,8,["time","animate","direction"])]),K(" years ")])):Z("",!0),A(l)?(N(),W("div",EQ,[v("span",SQ,[B(ud,{time:A(r),animate:A(p),direction:P.direction},null,8,["time","animate","direction"])]),K(" days ")])):Z("",!0),A(u)?(N(),W("div",IQ,[v("span",CQ,[B(ud,{time:A(i),animate:A(m),direction:P.direction},null,8,["time","animate","direction"])]),K(" hrs ")])):Z("",!0),A(c)?(N(),W("div",AQ,[v("span",PQ,[B(ud,{time:A(s),animate:A(g),direction:P.direction},null,8,["time","animate","direction"])]),K(" mins ")])):Z("",!0),A(d)?(N(),W("div",OQ,[v("span",kQ,[B(ud,{time:A(o),animate:A(y),direction:P.direction},null,8,["time","animate","direction"])]),K(" secs ")])):Z("",!0)])],2))}}),RQ={key:0,class:"text-red-600"},_v=xe({__name:"ErrorMessage",props:{name:{},error:{}},setup(t){return(e,n)=>e.error?(N(),W("p",RQ,Fe(e.error),1)):Z("",!0)}});var wv=(t=>(t.Required="Required",t.Numeric="Numeric",t.Min="Min",t.Max="Max",t.Email="Email",t.MinLength="MinLength",t.MaxLength="MaxLength",t.EqualTo="EqualTo",t))(wv||{});const Dt={Required:{type:"Required",test:({value:t})=>!!t.length,error:()=>"Required"},Numeric:{type:"Numeric",test:({value:t})=>/^-?[0-9]\d*(\.\d+)?$/.test(t),error:()=>"Must be numeric"},Min:{type:"Min",test:({value:t,minValue:e})=>e?Number(t)>=e:!0,error:({minValue:t})=>`Must be at least ${t}`},Max:{type:"Max",test:({value:t,maxValue:e})=>e?Number(t)<=e:!0,error:({maxValue:t})=>`May not be more than ${t}`},Email:{type:"Email",test:({value:t})=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t),error:()=>"Must be an e-mail address"},MinLength:{type:"MinLength",test:({value:t,minLength:e})=>!t.length||t.length>=(e||3),error:({minLength:t})=>`Must be at least ${t} characters`},MaxLength:{type:"MaxLength",test:({value:t,maxLength:e})=>!t.length||t.length<=(e||50),error:({maxLength:t})=>`May not be more than ${t} characters`},EqualTo:{type:"EqualTo",test:({value:t,compare:e})=>!t.length||!e||t===e.value,error:()=>"Fields don't match",compareError:({compare:t})=>t?"Must be equal to "+(t==null?void 0:t.name):""}},_M=xe({__name:"DeleteButton",emits:["click"],setup(t,{emit:e}){return(n,r)=>(N(),ce(at,{class:"w-fit flex justify-center !rounded",type:"danger",outlined:"",icon:"pi pi-trash",onClick:r[0]||(r[0]=i=>n.$emit("click"))}))}}),xQ={class:"m-4"},DQ=["for"],NQ={class:"flex"},ei=xe({__name:"TextField",props:{id:{},name:{},label:{},placeholder:{},modelValue:{},error:{},rules:{},inputProps:{},labelProps:{},minLength:{},maxLength:{},minValue:{},maxValue:{},compare:{},deleteButton:{type:Boolean}},emits:["update:modelValue","update:error","update:delete","click"],setup(t,{expose:e,emit:n}){const r=t,i=ee(()=>{const c=r.modelValue;return c?typeof c=="string"?c.endsWith("  ")?c.trim():c:typeof c=="number"?c||0:c||"":r.modelValue||""}),s=ee(()=>r.label?r.label+((r.rules??[]).some(c=>c.type===wv.Required)?" *":""):void 0),o=ee(()=>r.name+(r.id?"."+r.id:"")),a=c=>{const d=c.target.value;u("update:modelValue",d),l(d)},l=async c=>{const d=c||i.value,h=r.rules||[];typeof r.minValue=="number"&&h.push(Dt.Min),typeof r.maxValue=="number"&&h.push(Dt.Max),typeof r.minLength=="number"&&h.push(Dt.MinLength),typeof r.maxLength=="number"&&h.push(Dt.MaxLength),r.compare&&h.push(Dt.EqualTo);const p={value:d.toString(),minValue:r.minValue,maxValue:r.maxValue,minLength:r.minLength,maxLength:r.maxLength,compare:r.compare},m=h.filter(g=>!g.test(p)).map(g=>{var y;return((y=g.compareError)==null?void 0:y.call(g,p))||g.error(p)})||[];u("update:error",m[0]||"")},u=n;return e({test:l}),(c,d)=>{var h,p;return N(),W("div",xQ,[c.label?(N(),W("label",le({key:0,class:"block text-sm font-bold mb-2",for:o.value},c.labelProps),Fe(s.value),17,DQ)):Z("",!0),v("div",NQ,[(N(),ce(Nn(((h=c.inputProps)==null?void 0:h.type)==="textarea"?"PrimeTextArea":"PrimeInputText"),le({id:o.value,ref:"input",value:i.value,class:"p-input",type:((p=c.inputProps)==null?void 0:p.type)||"text",placeholder:c.placeholder,invalid:!!c.error,onInput:a,onClick:d[0]||(d[0]=kt(m=>u("click"),["stop"]))},c.inputProps),null,16,["id","value","type","placeholder","invalid"])),c.deleteButton?(N(),ce(_M,{key:0,class:"h-fit",onClick:d[1]||(d[1]=m=>u("update:delete"))})):Z("",!0)]),c.error?(N(),ce(_v,{key:1,name:c.name,error:c.error},null,8,["name","error"])):Z("",!0)])}}}),MQ={class:"flex flex-col gap-2"},sA=xe({__name:"BlogReaction",props:{post:{},reaction:{}},setup(t){const e=t,{publicUser:n,isOwner:r}=Vt(br()),i=jn(),{deleteBlogReaction:s}=i,{blogReactions:o}=Vt(i),a=ee(()=>o.value.unread.find(d=>d.id===e.reaction.id)),l=ee(()=>{const d=[];return a.value&&d.push({value:"Unread",severity:"warning",rounded:!1}),d}),u=ee(()=>n.value&&e.reaction.user.id===n.value.id||r.value),c=()=>{o.value.unread=o.value.unread.filter(d=>d.id!==e.reaction.id)};return(d,h)=>(N(),ce(xn,{id:e.reaction.id,class:$e(["p-5 w-full md:w-3/4",e.post.colorTertiary,e.post.opacityTertiary||"bg-opacity-50",{"border border-yellow-400":a.value},"!rounded-primary"]),titleProps:{class:"!text-base mt-1"},descriptionProps:{class:"text-white"},title:e.reaction.user.displayName||"Unknown user",subTitle:A(dc)(new Date(e.reaction.date)),avatar:e.reaction.user.avatar,avatarRoute:A(r)?{name:A(Xn).USER_DETAILS,params:{userId:e.reaction.user.id}}:void 0,description:e.reaction.message,tags:l.value},dr({_:2},[u.value||a.value?{name:"right",fn:J(()=>[v("div",MQ,[u.value&&!e.post.locked?(N(),ce(at,{key:0,type:"danger",outlined:"",class:"h-fit",label:"Delete",onClick:h[0]||(h[0]=p=>A(s)(e.reaction.id,e.post))})):Z("",!0),a.value?(N(),ce(at,{key:1,type:"tertiary",outlined:"",class:"h-fit",label:"Mark as read",onClick:c})):Z("",!0)])]),key:"0"}:void 0]),1032,["id","class","title","subTitle","avatar","avatarRoute","description","tags"]))}}),LQ={class:"grid justify-items-center p-5 gap-5"},VQ=xe({__name:"BlogReactions",props:{post:{}},setup(t){const e=t,{publicUser:n}=Vt(br()),r=jn(),{content:i}=Vt(r),{createBlogReaction:s}=r,o=ie(),a=ie(!1),l=Pr({reaction:{value:"",error:""}}),u=ee(()=>[...e.post.reactions].reverse()),c=ee(()=>u.value.filter((m,g)=>g<3)),d=ee(()=>u.value.filter((m,g)=>g>=3)),h=ee(()=>e.post.locked||!n.value),p=async()=>{await o.value.test(),!l.reaction.error&&n.value&&await s(e.post,{userId:n.value.id,postId:e.post.id,message:l.reaction.value,date:new Date})&&(l.reaction.value=""),A7()};return(m,g)=>(N(),W("form",{action:"",onSubmit:kt(p,["prevent"])},[v("div",LQ,[!A(n)||m.post.reactions.filter(y=>y.user.id===A(n).id).length<20?(N(),ce(xn,{key:0,class:$e(["p-5 flex justify-center w-full md:w-3/4","!rounded-primary",m.post.colorTertiary||"bg-secondary-700",m.post.opacityTertiary||"bg-opacity-25"])},{default:J(()=>[B(ei,{class:"w-5/6",id:m.post.id,inputProps:{class:["rounded-primary border-none !placeholder-gray-300",m.post.colorSecondary||m.post.colorPrimary||"bg-secondary-600",m.post.opacitySecondary||"!bg-opacity-20",h.value?"!bg-gray-900 !bg-opacity-50":"focus:!text-white focus:!placeholder-gray-200",{"cursor-pointer":!A(n)&&!m.post.locked}],disabled:h.value},ref_key:"reaction",ref:o,name:"reaction",placeholder:m.post.locked?"Locked for comments":A(n)?"Reply":A(i).blogLoginGuest,modelValue:l.reaction.value,"onUpdate:modelValue":g[0]||(g[0]=y=>l.reaction.value=y),error:l.reaction.error,"onUpdate:error":g[1]||(g[1]=y=>l.reaction.error=y),rules:[A(Dt).Required],onClick:g[2]||(g[2]=()=>!A(n)&&!m.post.locked?A(eT).push({name:A(Xn).LOGIN}):{})},null,8,["id","inputProps","placeholder","modelValue","error","rules"])]),_:1},8,["class"])):Z("",!0),(N(!0),W(Pe,null,ht(c.value,y=>(N(),ce(sA,{post:m.post,reaction:y},null,8,["post","reaction"]))),256)),(N(!0),W(Pe,null,ht(d.value,y=>Fi((N(),ce(sA,{post:m.post,reaction:y},null,8,["post","reaction"])),[[Ls,a.value]])),256)),m.post.reactions.length>3?(N(),ce(at,{key:1,type:"primary",outlined:"",icon:a.value?"pi pi-angle-up":"pi pi-angle-down",label:a.value?"Hide older reactions":"View older reactions",onClick:g[3]||(g[3]=y=>a.value=!a.value)},null,8,["icon","label"])):Z("",!0)])],32))}});var Tv={name:"ChevronDownIcon",extends:Va},$Q=v("path",{d:"M7.01744 10.398C6.91269 10.3985 6.8089 10.378 6.71215 10.3379C6.61541 10.2977 6.52766 10.2386 6.45405 10.1641L1.13907 4.84913C1.03306 4.69404 0.985221 4.5065 1.00399 4.31958C1.02276 4.13266 1.10693 3.95838 1.24166 3.82747C1.37639 3.69655 1.55301 3.61742 1.74039 3.60402C1.92777 3.59062 2.11386 3.64382 2.26584 3.75424L7.01744 8.47394L11.769 3.75424C11.9189 3.65709 12.097 3.61306 12.2748 3.62921C12.4527 3.64535 12.6199 3.72073 12.7498 3.84328C12.8797 3.96582 12.9647 4.12842 12.9912 4.30502C13.0177 4.48162 12.9841 4.662 12.8958 4.81724L7.58083 10.1322C7.50996 10.2125 7.42344 10.2775 7.32656 10.3232C7.22968 10.3689 7.12449 10.3944 7.01744 10.398Z",fill:"currentColor"},null,-1),FQ=[$Q];function UQ(t,e,n,r,i,s){return N(),W("svg",le({width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t.pti()),FQ,16)}Tv.render=UQ;var wM={name:"ChevronRightIcon",extends:Va},qQ=v("path",{d:"M4.38708 13C4.28408 13.0005 4.18203 12.9804 4.08691 12.9409C3.99178 12.9014 3.9055 12.8433 3.83313 12.7701C3.68634 12.6231 3.60388 12.4238 3.60388 12.2161C3.60388 12.0084 3.68634 11.8091 3.83313 11.6622L8.50507 6.99022L3.83313 2.31827C3.69467 2.16968 3.61928 1.97313 3.62287 1.77005C3.62645 1.56698 3.70872 1.37322 3.85234 1.22959C3.99596 1.08597 4.18972 1.00371 4.3928 1.00012C4.59588 0.996539 4.79242 1.07192 4.94102 1.21039L10.1669 6.43628C10.3137 6.58325 10.3962 6.78249 10.3962 6.99022C10.3962 7.19795 10.3137 7.39718 10.1669 7.54416L4.94102 12.7701C4.86865 12.8433 4.78237 12.9014 4.68724 12.9409C4.59212 12.9804 4.49007 13.0005 4.38708 13Z",fill:"currentColor"},null,-1),BQ=[qQ];function jQ(t,e,n,r,i,s){return N(),W("svg",le({width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t.pti()),BQ,16)}wM.render=jQ;var HQ={root:"p-accordion p-component",tab:{root:function(e){var n=e.instance,r=e.index;return["p-accordion-tab",{"p-accordion-tab-active":n.isTabActive(r)}]},header:function(e){var n=e.instance,r=e.tab,i=e.index;return["p-accordion-header",{"p-highlight":n.isTabActive(i),"p-disabled":n.getTabProp(r,"disabled")}]},headerAction:"p-accordion-header-link p-accordion-header-action",headerIcon:"p-accordion-toggle-icon",headerTitle:"p-accordion-header-text",toggleableContent:"p-toggleable-content",content:"p-accordion-content"}},WQ=fr.extend({name:"accordion",classes:HQ}),zQ={name:"BaseAccordion",extends:oi,props:{multiple:{type:Boolean,default:!1},activeIndex:{type:[Number,Array],default:null},lazy:{type:Boolean,default:!1},expandIcon:{type:String,default:void 0},collapseIcon:{type:String,default:void 0},tabindex:{type:Number,default:0},selectOnFocus:{type:Boolean,default:!1}},style:WQ,provide:function(){return{$parentInstance:this}}},er={name:"Accordion",extends:zQ,inheritAttrs:!1,emits:["update:activeIndex","tab-open","tab-close","tab-click"],data:function(){return{id:this.$attrs.id,d_activeIndex:this.activeIndex}},watch:{"$attrs.id":function(e){this.id=e||gc()},activeIndex:function(e){this.d_activeIndex=e}},mounted:function(){this.id=this.id||gc()},methods:{isAccordionTab:function(e){return e.type.name==="AccordionTab"},isTabActive:function(e){return this.multiple?this.d_activeIndex&&this.d_activeIndex.includes(e):this.d_activeIndex===e},getTabProp:function(e,n){return e.props?e.props[n]:void 0},getKey:function(e,n){return this.getTabProp(e,"header")||n},getTabHeaderActionId:function(e){return"".concat(this.id,"_").concat(e,"_header_action")},getTabContentId:function(e){return"".concat(this.id,"_").concat(e,"_content")},getTabPT:function(e,n,r){var i=this.tabs.length,s={props:e.props||{},parent:{instance:this,props:this.$props,state:this.$data},context:{index:r,count:i,first:r===0,last:r===i-1,active:this.isTabActive(r)}};return le(this.ptm("tab.".concat(n),{tab:s}),this.ptm("accordiontab.".concat(n),{accordiontab:s}),this.ptm("accordiontab.".concat(n),s),this.ptmo(this.getTabProp(e,"pt"),n,s))},onTabClick:function(e,n,r){this.changeActiveIndex(e,n,r),this.$emit("tab-click",{originalEvent:e,index:r})},onTabKeyDown:function(e,n,r){switch(e.code){case"ArrowDown":this.onTabArrowDownKey(e);break;case"ArrowUp":this.onTabArrowUpKey(e);break;case"Home":this.onTabHomeKey(e);break;case"End":this.onTabEndKey(e);break;case"Enter":case"NumpadEnter":case"Space":this.onTabEnterKey(e,n,r);break}},onTabArrowDownKey:function(e){var n=this.findNextHeaderAction(e.target.parentElement.parentElement);n?this.changeFocusedTab(e,n):this.onTabHomeKey(e),e.preventDefault()},onTabArrowUpKey:function(e){var n=this.findPrevHeaderAction(e.target.parentElement.parentElement);n?this.changeFocusedTab(e,n):this.onTabEndKey(e),e.preventDefault()},onTabHomeKey:function(e){var n=this.findFirstHeaderAction();this.changeFocusedTab(e,n),e.preventDefault()},onTabEndKey:function(e){var n=this.findLastHeaderAction();this.changeFocusedTab(e,n),e.preventDefault()},onTabEnterKey:function(e,n,r){this.changeActiveIndex(e,n,r),e.preventDefault()},findNextHeaderAction:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,r=n?e:e.nextElementSibling,i=ze.findSingle(r,'[data-pc-section="header"]');return i?ze.getAttribute(i,"data-p-disabled")?this.findNextHeaderAction(i.parentElement):ze.findSingle(i,'[data-pc-section="headeraction"]'):null},findPrevHeaderAction:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,r=n?e:e.previousElementSibling,i=ze.findSingle(r,'[data-pc-section="header"]');return i?ze.getAttribute(i,"data-p-disabled")?this.findPrevHeaderAction(i.parentElement):ze.findSingle(i,'[data-pc-section="headeraction"]'):null},findFirstHeaderAction:function(){return this.findNextHeaderAction(this.$el.firstElementChild,!0)},findLastHeaderAction:function(){return this.findPrevHeaderAction(this.$el.lastElementChild,!0)},changeActiveIndex:function(e,n,r){if(!this.getTabProp(n,"disabled")){var i=this.isTabActive(r),s=i?"tab-close":"tab-open";this.multiple?i?this.d_activeIndex=this.d_activeIndex.filter(function(o){return o!==r}):this.d_activeIndex?this.d_activeIndex.push(r):this.d_activeIndex=[r]:this.d_activeIndex=this.d_activeIndex===r?null:r,this.$emit("update:activeIndex",this.d_activeIndex),this.$emit(s,{originalEvent:e,index:r})}},changeFocusedTab:function(e,n){if(n&&(ze.focus(n),this.selectOnFocus)){var r=parseInt(n.parentElement.parentElement.dataset.pcIndex,10),i=this.tabs[r];this.changeActiveIndex(e,i,r)}}},computed:{tabs:function(){var e=this;return this.$slots.default().reduce(function(n,r){return e.isAccordionTab(r)?n.push(r):r.children&&r.children instanceof Array&&r.children.forEach(function(i){e.isAccordionTab(i)&&n.push(i)}),n},[])}},components:{ChevronDownIcon:Tv,ChevronRightIcon:wM},directives:{ripple:bv}};function Uh(t){"@babel/helpers - typeof";return Uh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Uh(t)}function oA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function iu(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?oA(Object(n),!0).forEach(function(r){KQ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):oA(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function KQ(t,e,n){return e=GQ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function GQ(t){var e=YQ(t,"string");return Uh(e)=="symbol"?e:String(e)}function YQ(t,e){if(Uh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Uh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var XQ=["data-pc-index","data-p-active"],QQ=["data-p-highlight","data-p-disabled"],JQ=["id","tabindex","aria-disabled","aria-expanded","aria-controls","onClick","onKeydown"],ZQ=["id","aria-labelledby"];function eJ(t,e,n,r,i,s){return N(),W("div",le({class:t.cx("root")},t.ptmi("root")),[(N(!0),W(Pe,null,ht(s.tabs,function(o,a){return N(),W("div",le({key:s.getKey(o,a),class:t.cx("tab.root",{tab:o,index:a})},s.getTabPT(o,"root",a),{"data-pc-name":"accordiontab","data-pc-index":a,"data-p-active":s.isTabActive(a)}),[v("div",le({style:s.getTabProp(o,"headerStyle"),class:[t.cx("tab.header",{tab:o,index:a}),s.getTabProp(o,"headerClass")]},iu(iu({},s.getTabProp(o,"headerProps")),s.getTabPT(o,"header",a)),{"data-p-highlight":s.isTabActive(a),"data-p-disabled":s.getTabProp(o,"disabled")}),[v("a",le({id:s.getTabHeaderActionId(a),class:t.cx("tab.headerAction"),tabindex:s.getTabProp(o,"disabled")?-1:t.tabindex,role:"button","aria-disabled":s.getTabProp(o,"disabled"),"aria-expanded":s.isTabActive(a),"aria-controls":s.getTabContentId(a),onClick:function(u){return s.onTabClick(u,o,a)},onKeydown:function(u){return s.onTabKeyDown(u,o,a)}},iu(iu({},s.getTabProp(o,"headeractionprops")),s.getTabPT(o,"headeraction",a))),[o.children&&o.children.headericon?(N(),ce(Nn(o.children.headericon),{key:0,isTabActive:s.isTabActive(a),active:s.isTabActive(a),index:a},null,8,["isTabActive","active","index"])):s.isTabActive(a)?(N(),ce(Nn(t.$slots.collapseicon?t.$slots.collapseicon:t.collapseIcon?"span":"ChevronDownIcon"),le({key:1,class:[t.cx("tab.headerIcon"),t.collapseIcon],"aria-hidden":"true"},s.getTabPT(o,"headericon",a)),null,16,["class"])):(N(),ce(Nn(t.$slots.expandicon?t.$slots.expandicon:t.expandIcon?"span":"ChevronRightIcon"),le({key:2,class:[t.cx("tab.headerIcon"),t.expandIcon],"aria-hidden":"true"},s.getTabPT(o,"headericon",a)),null,16,["class"])),o.props&&o.props.header?(N(),W("span",le({key:3,class:t.cx("tab.headerTitle")},s.getTabPT(o,"headertitle",a)),Fe(o.props.header),17)):Z("",!0),o.children&&o.children.header?(N(),ce(Nn(o.children.header),{key:4})):Z("",!0)],16,JQ)],16,QQ),B(ns,le({name:"p-toggleable-content"},s.getTabPT(o,"transition",a)),{default:J(function(){return[!t.lazy||s.isTabActive(a)?Fi((N(),W("div",le({key:0,id:s.getTabContentId(a),style:s.getTabProp(o,"contentStyle"),class:[t.cx("tab.toggleableContent"),s.getTabProp(o,"contentClass")],role:"region","aria-labelledby":s.getTabHeaderActionId(a)},iu(iu({},s.getTabProp(o,"contentProps")),s.getTabPT(o,"toggleablecontent",a))),[v("div",le({class:t.cx("tab.content")},s.getTabPT(o,"content",a)),[(N(),ce(Nn(o)))],16)],16,ZQ)),[[Ls,t.lazy?!0:s.isTabActive(a)]]):Z("",!0)]}),_:2},1040)],16,XQ)}),128))],16)}er.render=eJ;var tJ={},nJ={name:"BaseAccordionTab",extends:oi,props:{header:null,headerStyle:null,headerClass:null,headerProps:null,headerActionProps:null,contentStyle:null,contentClass:null,contentProps:null,disabled:Boolean},style:tJ,provide:function(){return{$parentInstance:this}}},Le={name:"AccordionTab",extends:nJ,inheritAttrs:!1};function rJ(t,e,n,r,i,s){return Te(t.$slots,"default")}Le.render=rJ;var V1={name:"TimesCircleIcon",extends:Va},iJ=v("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M7 14C5.61553 14 4.26215 13.5895 3.11101 12.8203C1.95987 12.0511 1.06266 10.9579 0.532846 9.67879C0.00303296 8.3997 -0.13559 6.99224 0.134506 5.63437C0.404603 4.2765 1.07129 3.02922 2.05026 2.05026C3.02922 1.07129 4.2765 0.404603 5.63437 0.134506C6.99224 -0.13559 8.3997 0.00303296 9.67879 0.532846C10.9579 1.06266 12.0511 1.95987 12.8203 3.11101C13.5895 4.26215 14 5.61553 14 7C14 8.85652 13.2625 10.637 11.9497 11.9497C10.637 13.2625 8.85652 14 7 14ZM7 1.16667C5.84628 1.16667 4.71846 1.50879 3.75918 2.14976C2.79989 2.79074 2.05222 3.70178 1.61071 4.76768C1.16919 5.83358 1.05367 7.00647 1.27876 8.13803C1.50384 9.26958 2.05941 10.309 2.87521 11.1248C3.69102 11.9406 4.73042 12.4962 5.86198 12.7212C6.99353 12.9463 8.16642 12.8308 9.23232 12.3893C10.2982 11.9478 11.2093 11.2001 11.8502 10.2408C12.4912 9.28154 12.8333 8.15373 12.8333 7C12.8333 5.45291 12.2188 3.96918 11.1248 2.87521C10.0308 1.78125 8.5471 1.16667 7 1.16667ZM4.66662 9.91668C4.58998 9.91704 4.51404 9.90209 4.44325 9.87271C4.37246 9.84333 4.30826 9.8001 4.2544 9.74557C4.14516 9.6362 4.0838 9.48793 4.0838 9.33335C4.0838 9.17876 4.14516 9.0305 4.2544 8.92113L6.17553 7L4.25443 5.07891C4.15139 4.96832 4.09529 4.82207 4.09796 4.67094C4.10063 4.51982 4.16185 4.37563 4.26872 4.26876C4.3756 4.16188 4.51979 4.10066 4.67091 4.09799C4.82204 4.09532 4.96829 4.15142 5.07887 4.25446L6.99997 6.17556L8.92106 4.25446C9.03164 4.15142 9.1779 4.09532 9.32903 4.09799C9.48015 4.10066 9.62434 4.16188 9.73121 4.26876C9.83809 4.37563 9.89931 4.51982 9.90198 4.67094C9.90464 4.82207 9.84855 4.96832 9.74551 5.07891L7.82441 7L9.74554 8.92113C9.85478 9.0305 9.91614 9.17876 9.91614 9.33335C9.91614 9.48793 9.85478 9.6362 9.74554 9.74557C9.69168 9.8001 9.62748 9.84333 9.55669 9.87271C9.4859 9.90209 9.40996 9.91704 9.33332 9.91668C9.25668 9.91704 9.18073 9.90209 9.10995 9.87271C9.03916 9.84333 8.97495 9.8001 8.9211 9.74557L6.99997 7.82444L5.07884 9.74557C5.02499 9.8001 4.96078 9.84333 4.88999 9.87271C4.81921 9.90209 4.74326 9.91704 4.66662 9.91668Z",fill:"currentColor"},null,-1),sJ=[iJ];function oJ(t,e,n,r,i,s){return N(),W("svg",le({width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t.pti()),sJ,16)}V1.render=oJ;var aJ={root:function(e){var n=e.props;return["p-chip p-component",{"p-chip-image":n.image!=null}]},icon:"p-chip-icon",label:"p-chip-text",removeIcon:"p-chip-remove-icon"},lJ=fr.extend({name:"chip",classes:aJ}),uJ={name:"BaseChip",extends:oi,props:{label:{type:String,default:null},icon:{type:String,default:null},image:{type:String,default:null},removable:{type:Boolean,default:!1},removeIcon:{type:String,default:void 0}},style:lJ,provide:function(){return{$parentInstance:this}}},TM={name:"Chip",extends:uJ,inheritAttrs:!1,emits:["remove"],data:function(){return{visible:!0}},methods:{onKeydown:function(e){(e.key==="Enter"||e.key==="Backspace")&&this.close(e)},close:function(e){this.visible=!1,this.$emit("remove",e)}},components:{TimesCircleIcon:V1}},cJ=["aria-label"],dJ=["src"];function hJ(t,e,n,r,i,s){return i.visible?(N(),W("div",le({key:0,class:t.cx("root"),"aria-label":t.label},t.ptmi("root")),[Te(t.$slots,"default",{},function(){return[t.image?(N(),W("img",le({key:0,src:t.image},t.ptm("image")),null,16,dJ)):t.$slots.icon?(N(),ce(Nn(t.$slots.icon),le({key:1,class:t.cx("icon")},t.ptm("icon")),null,16,["class"])):t.icon?(N(),W("span",le({key:2,class:[t.cx("icon"),t.icon]},t.ptm("icon")),null,16)):Z("",!0),t.label?(N(),W("div",le({key:3,class:t.cx("label")},t.ptm("label")),Fe(t.label),17)):Z("",!0)]}),t.removable?Te(t.$slots,"removeicon",{key:0,onClick:s.close,onKeydown:s.onKeydown,removeCallback:s.close,keydownCallback:s.onKeydown},function(){return[(N(),ce(Nn(t.removeIcon?"span":"TimesCircleIcon"),le({tabindex:"0",class:[t.cx("removeIcon"),t.removeIcon],onClick:s.close,onKeydown:s.onKeydown},t.ptm("removeIcon")),null,16,["class","onClick","onKeydown"]))]}):Z("",!0)],16,cJ)):Z("",!0)}TM.render=hJ;const fJ=xe({__name:"BlogPostBullets",props:{bullets:{},alignment:{}},setup(t){return(e,n)=>(N(),W("div",null,[v("div",{class:$e({block:!e.alignment,flex:!!e.alignment,"justify-start":e.alignment==="left","justify-center":e.alignment==="center","justify-end":e.alignment==="right"})},[v("ul",{class:$e(["list-disc",{"ms-5":e.alignment==="left"}])},[(N(!0),W(Pe,null,ht(e.bullets,r=>(N(),W("li",null,Fe(r),1))),256))],2)],2)]))}}),pJ={class:"ql-editor"},mJ=["innerHTML"],Uy=xe({__name:"BlogPostDescription",props:{description:{}},setup(t){return(e,n)=>(N(),W("div",pJ,[v("div",{innerHTML:e.description},null,8,mJ)]))}});/*!
 * Viewer.js v1.11.6
 * https://fengyuanchen.github.io/viewerjs
 *
 * Copyright 2015-present Chen Fengyuan
 * Released under the MIT license
 *
 * Date: 2023-09-17T03:16:38.052Z
 */function aA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function $1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?aA(Object(n),!0).forEach(function(r){yJ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):aA(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function K0(t){"@babel/helpers - typeof";return K0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},K0(t)}function gJ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function lA(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,EM(r.key),r)}}function vJ(t,e,n){return e&&lA(t.prototype,e),n&&lA(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function yJ(t,e,n){return e=EM(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function bJ(t,e){if(typeof t!="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function EM(t){var e=bJ(t,"string");return typeof e=="symbol"?e:String(e)}var uA={backdrop:!0,button:!0,navbar:!0,title:!0,toolbar:!0,className:"",container:"body",filter:null,fullscreen:!0,inheritedAttributes:["crossOrigin","decoding","isMap","loading","referrerPolicy","sizes","srcset","useMap"],initialCoverage:.9,initialViewIndex:0,inline:!1,interval:5e3,keyboard:!0,focus:!0,loading:!0,loop:!0,minWidth:200,minHeight:100,movable:!0,rotatable:!0,scalable:!0,zoomable:!0,zoomOnTouch:!0,zoomOnWheel:!0,slideOnTouch:!0,toggleOnDblclick:!0,tooltip:!0,transition:!0,zIndex:2015,zIndexInline:0,zoomRatio:.1,minZoomRatio:.01,maxZoomRatio:100,url:"src",ready:null,show:null,shown:null,hide:null,hidden:null,view:null,viewed:null,move:null,moved:null,rotate:null,rotated:null,scale:null,scaled:null,zoom:null,zoomed:null,play:null,stop:null},_J='<div class="viewer-container" tabindex="-1" touch-action="none"><div class="viewer-canvas"></div><div class="viewer-footer"><div class="viewer-title"></div><div class="viewer-toolbar"></div><div class="viewer-navbar"><ul class="viewer-list" role="navigation"></ul></div></div><div class="viewer-tooltip" role="alert" aria-hidden="true"></div><div class="viewer-button" data-viewer-action="mix" role="button"></div><div class="viewer-player"></div></div>',Ev=typeof window<"u"&&typeof window.document<"u",Po=Ev?window:{},Ku=Ev&&Po.document.documentElement?"ontouchstart"in Po.document.documentElement:!1,F1=Ev?"PointerEvent"in Po:!1,Ct="viewer",Qp="move",SM="switch",Od="zoom",Sp="".concat(Ct,"-active"),wJ="".concat(Ct,"-close"),Jp="".concat(Ct,"-fade"),G0="".concat(Ct,"-fixed"),TJ="".concat(Ct,"-fullscreen"),cA="".concat(Ct,"-fullscreen-exit"),rl="".concat(Ct,"-hide"),EJ="".concat(Ct,"-hide-md-down"),SJ="".concat(Ct,"-hide-sm-down"),IJ="".concat(Ct,"-hide-xs-down"),Hi="".concat(Ct,"-in"),Zd="".concat(Ct,"-invisible"),Gu="".concat(Ct,"-loading"),CJ="".concat(Ct,"-move"),dA="".concat(Ct,"-open"),su="".concat(Ct,"-show"),Gn="".concat(Ct,"-transition"),vc="click",Y0="dblclick",hA="dragstart",fA="focusin",pA="keydown",Gi="load",ml="error",AJ=Ku?"touchend touchcancel":"mouseup",PJ=Ku?"touchmove":"mousemove",OJ=Ku?"touchstart":"mousedown",mA=F1?"pointerdown":OJ,gA=F1?"pointermove":PJ,vA=F1?"pointerup pointercancel":AJ,yA="resize",ls="transitionend",bA="wheel",_A="ready",wA="show",TA="shown",EA="hide",SA="hidden",IA="view",qh="viewed",CA="move",AA="moved",PA="rotate",OA="rotated",kA="scale",RA="scaled",xA="zoom",DA="zoomed",NA="play",MA="stop",tg="".concat(Ct,"Action"),U1=/\s\s*/,Ip=["zoom-in","zoom-out","one-to-one","reset","prev","play","next","rotate-left","rotate-right","flip-horizontal","flip-vertical"];function Bh(t){return typeof t=="string"}var kJ=Number.isNaN||Po.isNaN;function Un(t){return typeof t=="number"&&!kJ(t)}function Iu(t){return typeof t>"u"}function yc(t){return K0(t)==="object"&&t!==null}var RJ=Object.prototype.hasOwnProperty;function Cu(t){if(!yc(t))return!1;try{var e=t.constructor,n=e.prototype;return e&&n&&RJ.call(n,"isPrototypeOf")}catch{return!1}}function hn(t){return typeof t=="function"}function bn(t,e){if(t&&hn(e))if(Array.isArray(t)||Un(t.length)){var n=t.length,r;for(r=0;r<n&&e.call(t,t[r],r,t)!==!1;r+=1);}else yc(t)&&Object.keys(t).forEach(function(i){e.call(t,t[i],i,t)});return t}var Li=Object.assign||function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return yc(e)&&r.length>0&&r.forEach(function(s){yc(s)&&Object.keys(s).forEach(function(o){e[o]=s[o]})}),e},xJ=/^(?:width|height|left|top|marginLeft|marginTop)$/;function ms(t,e){var n=t.style;bn(e,function(r,i){xJ.test(i)&&Un(r)&&(r+="px"),n[i]=r})}function DJ(t){return Bh(t)?t.replace(/&(?!amp;|quot;|#39;|lt;|gt;)/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;"):t}function vu(t,e){return!t||!e?!1:t.classList?t.classList.contains(e):t.className.indexOf(e)>-1}function vt(t,e){if(!(!t||!e)){if(Un(t.length)){bn(t,function(r){vt(r,e)});return}if(t.classList){t.classList.add(e);return}var n=t.className.trim();n?n.indexOf(e)<0&&(t.className="".concat(n," ").concat(e)):t.className=e}}function en(t,e){if(!(!t||!e)){if(Un(t.length)){bn(t,function(n){en(n,e)});return}if(t.classList){t.classList.remove(e);return}t.className.indexOf(e)>=0&&(t.className=t.className.replace(e,""))}}function jh(t,e,n){if(e){if(Un(t.length)){bn(t,function(r){jh(r,e,n)});return}n?vt(t,e):en(t,e)}}var NJ=/([a-z\d])([A-Z])/g;function q1(t){return t.replace(NJ,"$1-$2").toLowerCase()}function Au(t,e){return yc(t[e])?t[e]:t.dataset?t.dataset[e]:t.getAttribute("data-".concat(q1(e)))}function X0(t,e,n){yc(n)?t[e]=n:t.dataset?t.dataset[e]=n:t.setAttribute("data-".concat(q1(e)),n)}var IM=function(){var t=!1;if(Ev){var e=!1,n=function(){},r=Object.defineProperty({},"once",{get:function(){return t=!0,e},set:function(s){e=s}});Po.addEventListener("test",n,r),Po.removeEventListener("test",n,r)}return t}();function fn(t,e,n){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},i=n;e.trim().split(U1).forEach(function(s){if(!IM){var o=t.listeners;o&&o[s]&&o[s][n]&&(i=o[s][n],delete o[s][n],Object.keys(o[s]).length===0&&delete o[s],Object.keys(o).length===0&&delete t.listeners)}t.removeEventListener(s,i,r)})}function wt(t,e,n){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},i=n;e.trim().split(U1).forEach(function(s){if(r.once&&!IM){var o=t.listeners,a=o===void 0?{}:o;i=function(){delete a[s][n],t.removeEventListener(s,i,r);for(var u=arguments.length,c=new Array(u),d=0;d<u;d++)c[d]=arguments[d];n.apply(t,c)},a[s]||(a[s]={}),a[s][n]&&t.removeEventListener(s,a[s][n],r),a[s][n]=i,t.listeners=a}t.addEventListener(s,i,r)})}function Jn(t,e,n,r){var i;return hn(Event)&&hn(CustomEvent)?i=new CustomEvent(e,$1({bubbles:!0,cancelable:!0,detail:n},r)):(i=document.createEvent("CustomEvent"),i.initCustomEvent(e,!0,!0,n)),t.dispatchEvent(i)}function MJ(t){var e=t.getBoundingClientRect();return{left:e.left+(window.pageXOffset-document.documentElement.clientLeft),top:e.top+(window.pageYOffset-document.documentElement.clientTop)}}function Zp(t){var e=t.rotate,n=t.scaleX,r=t.scaleY,i=t.translateX,s=t.translateY,o=[];Un(i)&&i!==0&&o.push("translateX(".concat(i,"px)")),Un(s)&&s!==0&&o.push("translateY(".concat(s,"px)")),Un(e)&&e!==0&&o.push("rotate(".concat(e,"deg)")),Un(n)&&n!==1&&o.push("scaleX(".concat(n,")")),Un(r)&&r!==1&&o.push("scaleY(".concat(r,")"));var a=o.length?o.join(" "):"none";return{WebkitTransform:a,msTransform:a,transform:a}}function LJ(t){return Bh(t)?decodeURIComponent(t.replace(/^.*\//,"").replace(/[?&#].*$/,"")):""}var qy=Po.navigator&&/Version\/\d+(\.\d+)+?\s+Safari/i.test(Po.navigator.userAgent);function CM(t,e,n){var r=document.createElement("img");if(t.naturalWidth&&!qy)return n(t.naturalWidth,t.naturalHeight),r;var i=document.body||document.documentElement;return r.onload=function(){n(r.width,r.height),qy||i.removeChild(r)},bn(e.inheritedAttributes,function(s){var o=t.getAttribute(s);o!==null&&r.setAttribute(s,o)}),r.src=t.src,qy||(r.style.cssText="left:0;max-height:none!important;max-width:none!important;min-height:0!important;min-width:0!important;opacity:0;position:absolute;top:0;z-index:-1;",i.appendChild(r)),r}function Cp(t){switch(t){case 2:return IJ;case 3:return SJ;case 4:return EJ;default:return""}}function VJ(t){var e=$1({},t),n=[];return bn(t,function(r,i){delete e[i],bn(e,function(s){var o=Math.abs(r.startX-s.startX),a=Math.abs(r.startY-s.startY),l=Math.abs(r.endX-s.endX),u=Math.abs(r.endY-s.endY),c=Math.sqrt(o*o+a*a),d=Math.sqrt(l*l+u*u),h=(d-c)/c;n.push(h)})}),n.sort(function(r,i){return Math.abs(r)<Math.abs(i)}),n[0]}function Ap(t,e){var n=t.pageX,r=t.pageY,i={endX:n,endY:r};return e?i:$1({timeStamp:Date.now(),startX:n,startY:r},i)}function $J(t){var e=0,n=0,r=0;return bn(t,function(i){var s=i.startX,o=i.startY;e+=s,n+=o,r+=1}),e/=r,n/=r,{pageX:e,pageY:n}}var FJ={render:function(){this.initContainer(),this.initViewer(),this.initList(),this.renderViewer()},initBody:function(){var e=this.element.ownerDocument,n=e.body||e.documentElement;this.body=n,this.scrollbarWidth=window.innerWidth-e.documentElement.clientWidth,this.initialBodyPaddingRight=n.style.paddingRight,this.initialBodyComputedPaddingRight=window.getComputedStyle(n).paddingRight},initContainer:function(){this.containerData={width:window.innerWidth,height:window.innerHeight}},initViewer:function(){var e=this.options,n=this.parent,r;e.inline&&(r={width:Math.max(n.offsetWidth,e.minWidth),height:Math.max(n.offsetHeight,e.minHeight)},this.parentData=r),(this.fulled||!r)&&(r=this.containerData),this.viewerData=Li({},r)},renderViewer:function(){this.options.inline&&!this.fulled&&ms(this.viewer,this.viewerData)},initList:function(){var e=this,n=this.element,r=this.options,i=this.list,s=[];i.innerHTML="",bn(this.images,function(o,a){var l=o.src,u=o.alt||LJ(l),c=e.getImageURL(o);if(l||c){var d=document.createElement("li"),h=document.createElement("img");bn(r.inheritedAttributes,function(p){var m=o.getAttribute(p);m!==null&&h.setAttribute(p,m)}),r.navbar&&(h.src=l||c),h.alt=u,h.setAttribute("data-original-url",c||l),d.setAttribute("data-index",a),d.setAttribute("data-viewer-action","view"),d.setAttribute("role","button"),r.keyboard&&d.setAttribute("tabindex",0),d.appendChild(h),i.appendChild(d),s.push(d)}}),this.items=s,bn(s,function(o){var a=o.firstElementChild,l,u;X0(a,"filled",!0),r.loading&&vt(o,Gu),wt(a,Gi,l=function(d){fn(a,ml,u),r.loading&&en(o,Gu),e.loadImage(d)},{once:!0}),wt(a,ml,u=function(){fn(a,Gi,l),r.loading&&en(o,Gu)},{once:!0})}),r.transition&&wt(n,qh,function(){vt(i,Gn)},{once:!0})},renderList:function(){var e=this.index,n=this.items[e];if(n){var r=n.nextElementSibling,i=parseInt(window.getComputedStyle(r||n).marginLeft,10),s=n.offsetWidth,o=s+i;ms(this.list,Li({width:o*this.length-i},Zp({translateX:(this.viewerData.width-s)/2-o*e})))}},resetList:function(){var e=this.list;e.innerHTML="",en(e,Gn),ms(e,Zp({translateX:0}))},initImage:function(e){var n=this,r=this.options,i=this.image,s=this.viewerData,o=this.footer.offsetHeight,a=s.width,l=Math.max(s.height-o,o),u=this.imageData||{},c;this.imageInitializing={abort:function(){c.onload=null}},c=CM(i,r,function(d,h){var p=d/h,m=Math.max(0,Math.min(1,r.initialCoverage)),g=a,y=l;n.imageInitializing=!1,l*p>a?y=a/p:g=l*p,m=Un(m)?m:.9,g=Math.min(g*m,d),y=Math.min(y*m,h);var P=(a-g)/2,I=(l-y)/2,S={left:P,top:I,x:P,y:I,width:g,height:y,oldRatio:1,ratio:g/d,aspectRatio:p,naturalWidth:d,naturalHeight:h},T=Li({},S);r.rotatable&&(S.rotate=u.rotate||0,T.rotate=0),r.scalable&&(S.scaleX=u.scaleX||1,S.scaleY=u.scaleY||1,T.scaleX=1,T.scaleY=1),n.imageData=S,n.initialImageData=T,e&&e()})},renderImage:function(e){var n=this,r=this.image,i=this.imageData;if(ms(r,Li({width:i.width,height:i.height,marginLeft:i.x,marginTop:i.y},Zp(i))),e)if((this.viewing||this.moving||this.rotating||this.scaling||this.zooming)&&this.options.transition&&vu(r,Gn)){var s=function(){n.imageRendering=!1,e()};this.imageRendering={abort:function(){fn(r,ls,s)}},wt(r,ls,s,{once:!0})}else e()},resetImage:function(){var e=this.image;e&&(this.viewing&&this.viewing.abort(),e.parentNode.removeChild(e),this.image=null,this.title.innerHTML="")}},UJ={bind:function(){var e=this.options,n=this.viewer,r=this.canvas,i=this.element.ownerDocument;wt(n,vc,this.onClick=this.click.bind(this)),wt(n,hA,this.onDragStart=this.dragstart.bind(this)),wt(r,mA,this.onPointerDown=this.pointerdown.bind(this)),wt(i,gA,this.onPointerMove=this.pointermove.bind(this)),wt(i,vA,this.onPointerUp=this.pointerup.bind(this)),wt(i,pA,this.onKeyDown=this.keydown.bind(this)),wt(window,yA,this.onResize=this.resize.bind(this)),e.zoomable&&e.zoomOnWheel&&wt(n,bA,this.onWheel=this.wheel.bind(this),{passive:!1,capture:!0}),e.toggleOnDblclick&&wt(r,Y0,this.onDblclick=this.dblclick.bind(this))},unbind:function(){var e=this.options,n=this.viewer,r=this.canvas,i=this.element.ownerDocument;fn(n,vc,this.onClick),fn(n,hA,this.onDragStart),fn(r,mA,this.onPointerDown),fn(i,gA,this.onPointerMove),fn(i,vA,this.onPointerUp),fn(i,pA,this.onKeyDown),fn(window,yA,this.onResize),e.zoomable&&e.zoomOnWheel&&fn(n,bA,this.onWheel,{passive:!1,capture:!0}),e.toggleOnDblclick&&fn(r,Y0,this.onDblclick)}},qJ={click:function(e){var n=this.options,r=this.imageData,i=e.target,s=Au(i,tg);switch(!s&&i.localName==="img"&&i.parentElement.localName==="li"&&(i=i.parentElement,s=Au(i,tg)),Ku&&e.isTrusted&&i===this.canvas&&clearTimeout(this.clickCanvasTimeout),s){case"mix":this.played?this.stop():n.inline?this.fulled?this.exit():this.full():this.hide();break;case"hide":this.pointerMoved||this.hide();break;case"view":this.view(Au(i,"index"));break;case"zoom-in":this.zoom(.1,!0);break;case"zoom-out":this.zoom(-.1,!0);break;case"one-to-one":this.toggle();break;case"reset":this.reset();break;case"prev":this.prev(n.loop);break;case"play":this.play(n.fullscreen);break;case"next":this.next(n.loop);break;case"rotate-left":this.rotate(-90);break;case"rotate-right":this.rotate(90);break;case"flip-horizontal":this.scaleX(-r.scaleX||-1);break;case"flip-vertical":this.scaleY(-r.scaleY||-1);break;default:this.played&&this.stop()}},dblclick:function(e){e.preventDefault(),this.viewed&&e.target===this.image&&(Ku&&e.isTrusted&&clearTimeout(this.doubleClickImageTimeout),this.toggle(e.isTrusted?e:e.detail&&e.detail.originalEvent))},load:function(){var e=this;this.timeout&&(clearTimeout(this.timeout),this.timeout=!1);var n=this.element,r=this.options,i=this.image,s=this.index,o=this.viewerData;en(i,Zd),r.loading&&en(this.canvas,Gu),i.style.cssText="height:0;"+"margin-left:".concat(o.width/2,"px;")+"margin-top:".concat(o.height/2,"px;")+"max-width:none!important;position:relative;width:0;",this.initImage(function(){jh(i,CJ,r.movable),jh(i,Gn,r.transition),e.renderImage(function(){e.viewed=!0,e.viewing=!1,hn(r.viewed)&&wt(n,qh,r.viewed,{once:!0}),Jn(n,qh,{originalImage:e.images[s],index:s,image:i},{cancelable:!1})})})},loadImage:function(e){var n=e.target,r=n.parentNode,i=r.offsetWidth||30,s=r.offsetHeight||50,o=!!Au(n,"filled");CM(n,this.options,function(a,l){var u=a/l,c=i,d=s;s*u>i?o?c=s*u:d=i/u:o?d=i/u:c=s*u,ms(n,Li({width:c,height:d},Zp({translateX:(i-c)/2,translateY:(s-d)/2})))})},keydown:function(e){var n=this.options;if(n.keyboard){var r=e.keyCode||e.which||e.charCode;switch(r){case 13:this.viewer.contains(e.target)&&this.click(e);break}if(this.fulled)switch(r){case 27:this.played?this.stop():n.inline?this.fulled&&this.exit():this.hide();break;case 32:this.played&&this.stop();break;case 37:this.played&&this.playing?this.playing.prev():this.prev(n.loop);break;case 38:e.preventDefault(),this.zoom(n.zoomRatio,!0);break;case 39:this.played&&this.playing?this.playing.next():this.next(n.loop);break;case 40:e.preventDefault(),this.zoom(-n.zoomRatio,!0);break;case 48:case 49:e.ctrlKey&&(e.preventDefault(),this.toggle());break}}},dragstart:function(e){e.target.localName==="img"&&e.preventDefault()},pointerdown:function(e){var n=this.options,r=this.pointers,i=e.buttons,s=e.button;if(this.pointerMoved=!1,!(!this.viewed||this.showing||this.viewing||this.hiding||(e.type==="mousedown"||e.type==="pointerdown"&&e.pointerType==="mouse")&&(Un(i)&&i!==1||Un(s)&&s!==0||e.ctrlKey))){e.preventDefault(),e.changedTouches?bn(e.changedTouches,function(a){r[a.identifier]=Ap(a)}):r[e.pointerId||0]=Ap(e);var o=n.movable?Qp:!1;n.zoomOnTouch&&n.zoomable&&Object.keys(r).length>1?o=Od:n.slideOnTouch&&(e.pointerType==="touch"||e.type==="touchstart")&&this.isSwitchable()&&(o=SM),n.transition&&(o===Qp||o===Od)&&en(this.image,Gn),this.action=o}},pointermove:function(e){var n=this.pointers,r=this.action;!this.viewed||!r||(e.preventDefault(),e.changedTouches?bn(e.changedTouches,function(i){Li(n[i.identifier]||{},Ap(i,!0))}):Li(n[e.pointerId||0]||{},Ap(e,!0)),this.change(e))},pointerup:function(e){var n=this,r=this.options,i=this.action,s=this.pointers,o;e.changedTouches?bn(e.changedTouches,function(a){o=s[a.identifier],delete s[a.identifier]}):(o=s[e.pointerId||0],delete s[e.pointerId||0]),i&&(e.preventDefault(),r.transition&&(i===Qp||i===Od)&&vt(this.image,Gn),this.action=!1,Ku&&i!==Od&&o&&Date.now()-o.timeStamp<500&&(clearTimeout(this.clickCanvasTimeout),clearTimeout(this.doubleClickImageTimeout),r.toggleOnDblclick&&this.viewed&&e.target===this.image?this.imageClicked?(this.imageClicked=!1,this.doubleClickImageTimeout=setTimeout(function(){Jn(n.image,Y0,{originalEvent:e})},50)):(this.imageClicked=!0,this.doubleClickImageTimeout=setTimeout(function(){n.imageClicked=!1},500)):(this.imageClicked=!1,r.backdrop&&r.backdrop!=="static"&&e.target===this.canvas&&(this.clickCanvasTimeout=setTimeout(function(){Jn(n.canvas,vc,{originalEvent:e})},50)))))},resize:function(){var e=this;if(!(!this.isShown||this.hiding)&&(this.fulled&&(this.close(),this.initBody(),this.open()),this.initContainer(),this.initViewer(),this.renderViewer(),this.renderList(),this.viewed&&this.initImage(function(){e.renderImage()}),this.played)){if(this.options.fullscreen&&this.fulled&&!(document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement)){this.stop();return}bn(this.player.getElementsByTagName("img"),function(n){wt(n,Gi,e.loadImage.bind(e),{once:!0}),Jn(n,Gi)})}},wheel:function(e){var n=this;if(this.viewed&&(e.preventDefault(),!this.wheeling)){this.wheeling=!0,setTimeout(function(){n.wheeling=!1},50);var r=Number(this.options.zoomRatio)||.1,i=1;e.deltaY?i=e.deltaY>0?1:-1:e.wheelDelta?i=-e.wheelDelta/120:e.detail&&(i=e.detail>0?1:-1),this.zoom(-i*r,!0,null,e)}}},BJ={show:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,n=this.element,r=this.options;if(r.inline||this.showing||this.isShown||this.showing)return this;if(!this.ready)return this.build(),this.ready&&this.show(e),this;if(hn(r.show)&&wt(n,wA,r.show,{once:!0}),Jn(n,wA)===!1||!this.ready)return this;this.hiding&&this.transitioning.abort(),this.showing=!0,this.open();var i=this.viewer;if(en(i,rl),i.setAttribute("role","dialog"),i.setAttribute("aria-labelledby",this.title.id),i.setAttribute("aria-modal",!0),i.removeAttribute("aria-hidden"),r.transition&&!e){var s=this.shown.bind(this);this.transitioning={abort:function(){fn(i,ls,s),en(i,Hi)}},vt(i,Gn),i.initialOffsetWidth=i.offsetWidth,wt(i,ls,s,{once:!0}),vt(i,Hi)}else vt(i,Hi),this.shown();return this},hide:function(){var e=this,n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,r=this.element,i=this.options;if(i.inline||this.hiding||!(this.isShown||this.showing))return this;if(hn(i.hide)&&wt(r,EA,i.hide,{once:!0}),Jn(r,EA)===!1)return this;this.showing&&this.transitioning.abort(),this.hiding=!0,this.played?this.stop():this.viewing&&this.viewing.abort();var s=this.viewer,o=this.image,a=function(){en(s,Hi),e.hidden()};if(i.transition&&!n){var l=function c(d){d&&d.target===s&&(fn(s,ls,c),e.hidden())},u=function(){vu(s,Gn)?(wt(s,ls,l),en(s,Hi)):a()};this.transitioning={abort:function(){e.viewed&&vu(o,Gn)?fn(o,ls,u):vu(s,Gn)&&fn(s,ls,l)}},this.viewed&&vu(o,Gn)?(wt(o,ls,u,{once:!0}),this.zoomTo(0,!1,null,null,!0)):u()}else a();return this},view:function(){var e=this,n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.options.initialViewIndex;if(n=Number(n)||0,this.hiding||this.played||n<0||n>=this.length||this.viewed&&n===this.index)return this;if(!this.isShown)return this.index=n,this.show();this.viewing&&this.viewing.abort();var r=this.element,i=this.options,s=this.title,o=this.canvas,a=this.items[n],l=a.querySelector("img"),u=Au(l,"originalUrl"),c=l.getAttribute("alt"),d=document.createElement("img");if(bn(i.inheritedAttributes,function(y){var P=l.getAttribute(y);P!==null&&d.setAttribute(y,P)}),d.src=u,d.alt=c,hn(i.view)&&wt(r,IA,i.view,{once:!0}),Jn(r,IA,{originalImage:this.images[n],index:n,image:d})===!1||!this.isShown||this.hiding||this.played)return this;var h=this.items[this.index];h&&(en(h,Sp),h.removeAttribute("aria-selected")),vt(a,Sp),a.setAttribute("aria-selected",!0),i.focus&&a.focus(),this.image=d,this.viewed=!1,this.index=n,this.imageData={},vt(d,Zd),i.loading&&vt(o,Gu),o.innerHTML="",o.appendChild(d),this.renderList(),s.innerHTML="";var p=function(){var P=e.imageData,I=Array.isArray(i.title)?i.title[1]:i.title;s.innerHTML=DJ(hn(I)?I.call(e,d,P):"".concat(c," (").concat(P.naturalWidth," × ").concat(P.naturalHeight,")"))},m,g;return wt(r,qh,p,{once:!0}),this.viewing={abort:function(){fn(r,qh,p),d.complete?e.imageRendering?e.imageRendering.abort():e.imageInitializing&&e.imageInitializing.abort():(d.src="",fn(d,Gi,m),e.timeout&&clearTimeout(e.timeout))}},d.complete?this.load():(wt(d,Gi,m=function(){fn(d,ml,g),e.load()},{once:!0}),wt(d,ml,g=function(){fn(d,Gi,m),e.timeout&&(clearTimeout(e.timeout),e.timeout=!1),en(d,Zd),i.loading&&en(e.canvas,Gu)},{once:!0}),this.timeout&&clearTimeout(this.timeout),this.timeout=setTimeout(function(){en(d,Zd),e.timeout=!1},1e3)),this},prev:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,n=this.index-1;return n<0&&(n=e?this.length-1:0),this.view(n),this},next:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,n=this.length-1,r=this.index+1;return r>n&&(r=e?0:n),this.view(r),this},move:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e,r=this.imageData;return this.moveTo(Iu(e)?e:r.x+Number(e),Iu(n)?n:r.y+Number(n)),this},moveTo:function(e){var n=this,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,s=this.element,o=this.options,a=this.imageData;if(e=Number(e),r=Number(r),this.viewed&&!this.played&&o.movable){var l=a.x,u=a.y,c=!1;if(Un(e)?c=!0:e=l,Un(r)?c=!0:r=u,c){if(hn(o.move)&&wt(s,CA,o.move,{once:!0}),Jn(s,CA,{x:e,y:r,oldX:l,oldY:u,originalEvent:i})===!1)return this;a.x=e,a.y=r,a.left=e,a.top=r,this.moving=!0,this.renderImage(function(){n.moving=!1,hn(o.moved)&&wt(s,AA,o.moved,{once:!0}),Jn(s,AA,{x:e,y:r,oldX:l,oldY:u,originalEvent:i},{cancelable:!1})})}}return this},rotate:function(e){return this.rotateTo((this.imageData.rotate||0)+Number(e)),this},rotateTo:function(e){var n=this,r=this.element,i=this.options,s=this.imageData;if(e=Number(e),Un(e)&&this.viewed&&!this.played&&i.rotatable){var o=s.rotate;if(hn(i.rotate)&&wt(r,PA,i.rotate,{once:!0}),Jn(r,PA,{degree:e,oldDegree:o})===!1)return this;s.rotate=e,this.rotating=!0,this.renderImage(function(){n.rotating=!1,hn(i.rotated)&&wt(r,OA,i.rotated,{once:!0}),Jn(r,OA,{degree:e,oldDegree:o},{cancelable:!1})})}return this},scaleX:function(e){return this.scale(e,this.imageData.scaleY),this},scaleY:function(e){return this.scale(this.imageData.scaleX,e),this},scale:function(e){var n=this,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e,i=this.element,s=this.options,o=this.imageData;if(e=Number(e),r=Number(r),this.viewed&&!this.played&&s.scalable){var a=o.scaleX,l=o.scaleY,u=!1;if(Un(e)?u=!0:e=a,Un(r)?u=!0:r=l,u){if(hn(s.scale)&&wt(i,kA,s.scale,{once:!0}),Jn(i,kA,{scaleX:e,scaleY:r,oldScaleX:a,oldScaleY:l})===!1)return this;o.scaleX=e,o.scaleY=r,this.scaling=!0,this.renderImage(function(){n.scaling=!1,hn(s.scaled)&&wt(i,RA,s.scaled,{once:!0}),Jn(i,RA,{scaleX:e,scaleY:r,oldScaleX:a,oldScaleY:l},{cancelable:!1})})}}return this},zoom:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null,s=this.imageData;return e=Number(e),e<0?e=1/(1-e):e=1+e,this.zoomTo(s.width*e/s.naturalWidth,n,r,i),this},zoomTo:function(e){var n=this,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null,o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1,a=this.element,l=this.options,u=this.pointers,c=this.imageData,d=c.x,h=c.y,p=c.width,m=c.height,g=c.naturalWidth,y=c.naturalHeight;if(e=Math.max(0,e),Un(e)&&this.viewed&&!this.played&&(o||l.zoomable)){if(!o){var P=Math.max(.01,l.minZoomRatio),I=Math.min(100,l.maxZoomRatio);e=Math.min(Math.max(e,P),I)}if(s)switch(s.type){case"wheel":l.zoomRatio>=.055&&e>.95&&e<1.05&&(e=1);break;case"pointermove":case"touchmove":case"mousemove":e>.99&&e<1.01&&(e=1);break}var S=g*e,T=y*e,M=S-p,R=T-m,C=c.ratio;if(hn(l.zoom)&&wt(a,xA,l.zoom,{once:!0}),Jn(a,xA,{ratio:e,oldRatio:C,originalEvent:s})===!1)return this;if(this.zooming=!0,s){var E=MJ(this.viewer),b=u&&Object.keys(u).length>0?$J(u):{pageX:s.pageX,pageY:s.pageY};c.x-=M*((b.pageX-E.left-d)/p),c.y-=R*((b.pageY-E.top-h)/m)}else Cu(i)&&Un(i.x)&&Un(i.y)?(c.x-=M*((i.x-d)/p),c.y-=R*((i.y-h)/m)):(c.x-=M/2,c.y-=R/2);c.left=c.x,c.top=c.y,c.width=S,c.height=T,c.oldRatio=C,c.ratio=e,this.renderImage(function(){n.zooming=!1,hn(l.zoomed)&&wt(a,DA,l.zoomed,{once:!0}),Jn(a,DA,{ratio:e,oldRatio:C,originalEvent:s},{cancelable:!1})}),r&&this.tooltip()}return this},play:function(){var e=this,n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;if(!this.isShown||this.played)return this;var r=this.element,i=this.options;if(hn(i.play)&&wt(r,NA,i.play,{once:!0}),Jn(r,NA)===!1)return this;var s=this.player,o=this.loadImage.bind(this),a=[],l=0,u=0;if(this.played=!0,this.onLoadWhenPlay=o,n&&this.requestFullscreen(n),vt(s,su),bn(this.items,function(h,p){var m=h.querySelector("img"),g=document.createElement("img");g.src=Au(m,"originalUrl"),g.alt=m.getAttribute("alt"),g.referrerPolicy=m.referrerPolicy,l+=1,vt(g,Jp),jh(g,Gn,i.transition),vu(h,Sp)&&(vt(g,Hi),u=p),a.push(g),wt(g,Gi,o,{once:!0}),s.appendChild(g)}),Un(i.interval)&&i.interval>0){var c=function h(){clearTimeout(e.playing.timeout),en(a[u],Hi),u-=1,u=u>=0?u:l-1,vt(a[u],Hi),e.playing.timeout=setTimeout(h,i.interval)},d=function h(){clearTimeout(e.playing.timeout),en(a[u],Hi),u+=1,u=u<l?u:0,vt(a[u],Hi),e.playing.timeout=setTimeout(h,i.interval)};l>1&&(this.playing={prev:c,next:d,timeout:setTimeout(d,i.interval)})}return this},stop:function(){var e=this;if(!this.played)return this;var n=this.element,r=this.options;if(hn(r.stop)&&wt(n,MA,r.stop,{once:!0}),Jn(n,MA)===!1)return this;var i=this.player;return clearTimeout(this.playing.timeout),this.playing=!1,this.played=!1,bn(i.getElementsByTagName("img"),function(s){fn(s,Gi,e.onLoadWhenPlay)}),en(i,su),i.innerHTML="",this.exitFullscreen(),this},full:function(){var e=this,n=this.options,r=this.viewer,i=this.image,s=this.list;return!this.isShown||this.played||this.fulled||!n.inline?this:(this.fulled=!0,this.open(),vt(this.button,cA),n.transition&&(en(s,Gn),this.viewed&&en(i,Gn)),vt(r,G0),r.setAttribute("role","dialog"),r.setAttribute("aria-labelledby",this.title.id),r.setAttribute("aria-modal",!0),r.removeAttribute("style"),ms(r,{zIndex:n.zIndex}),n.focus&&this.enforceFocus(),this.initContainer(),this.viewerData=Li({},this.containerData),this.renderList(),this.viewed&&this.initImage(function(){e.renderImage(function(){n.transition&&setTimeout(function(){vt(i,Gn),vt(s,Gn)},0)})}),this)},exit:function(){var e=this,n=this.options,r=this.viewer,i=this.image,s=this.list;return!this.isShown||this.played||!this.fulled||!n.inline?this:(this.fulled=!1,this.close(),en(this.button,cA),n.transition&&(en(s,Gn),this.viewed&&en(i,Gn)),n.focus&&this.clearEnforceFocus(),r.removeAttribute("role"),r.removeAttribute("aria-labelledby"),r.removeAttribute("aria-modal"),en(r,G0),ms(r,{zIndex:n.zIndexInline}),this.viewerData=Li({},this.parentData),this.renderViewer(),this.renderList(),this.viewed&&this.initImage(function(){e.renderImage(function(){n.transition&&setTimeout(function(){vt(i,Gn),vt(s,Gn)},0)})}),this)},tooltip:function(){var e=this,n=this.options,r=this.tooltipBox,i=this.imageData;return!this.viewed||this.played||!n.tooltip?this:(r.textContent="".concat(Math.round(i.ratio*100),"%"),this.tooltipping?clearTimeout(this.tooltipping):n.transition?(this.fading&&Jn(r,ls),vt(r,su),vt(r,Jp),vt(r,Gn),r.removeAttribute("aria-hidden"),r.initialOffsetWidth=r.offsetWidth,vt(r,Hi)):(vt(r,su),r.removeAttribute("aria-hidden")),this.tooltipping=setTimeout(function(){n.transition?(wt(r,ls,function(){en(r,su),en(r,Jp),en(r,Gn),r.setAttribute("aria-hidden",!0),e.fading=!1},{once:!0}),en(r,Hi),e.fading=!0):(en(r,su),r.setAttribute("aria-hidden",!0)),e.tooltipping=!1},1e3),this)},toggle:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;return this.imageData.ratio===1?this.zoomTo(this.imageData.oldRatio,!0,null,e):this.zoomTo(1,!0,null,e),this},reset:function(){return this.viewed&&!this.played&&(this.imageData=Li({},this.initialImageData),this.renderImage()),this},update:function(){var e=this,n=this.element,r=this.options,i=this.isImg;if(i&&!n.parentNode)return this.destroy();var s=[];if(bn(i?[n]:n.querySelectorAll("img"),function(u){hn(r.filter)?r.filter.call(e,u)&&s.push(u):e.getImageURL(u)&&s.push(u)}),!s.length)return this;if(this.images=s,this.length=s.length,this.ready){var o=[];if(bn(this.items,function(u,c){var d=u.querySelector("img"),h=s[c];h&&d?(h.src!==d.src||h.alt!==d.alt)&&o.push(c):o.push(c)}),ms(this.list,{width:"auto"}),this.initList(),this.isShown)if(this.length){if(this.viewed){var a=o.indexOf(this.index);if(a>=0)this.viewed=!1,this.view(Math.max(Math.min(this.index-a,this.length-1),0));else{var l=this.items[this.index];vt(l,Sp),l.setAttribute("aria-selected",!0)}}}else this.image=null,this.viewed=!1,this.index=0,this.imageData={},this.canvas.innerHTML="",this.title.innerHTML=""}else this.build();return this},destroy:function(){var e=this.element,n=this.options;return e[Ct]?(this.destroyed=!0,this.ready?(this.played&&this.stop(),n.inline?(this.fulled&&this.exit(),this.unbind()):this.isShown?(this.viewing&&(this.imageRendering?this.imageRendering.abort():this.imageInitializing&&this.imageInitializing.abort()),this.hiding&&this.transitioning.abort(),this.hidden()):this.showing&&(this.transitioning.abort(),this.hidden()),this.ready=!1,this.viewer.parentNode.removeChild(this.viewer)):n.inline&&(this.delaying?this.delaying.abort():this.initializing&&this.initializing.abort()),n.inline||fn(e,vc,this.onStart),e[Ct]=void 0,this):this}},jJ={getImageURL:function(e){var n=this.options.url;return Bh(n)?n=e.getAttribute(n):hn(n)?n=n.call(this,e):n="",n},enforceFocus:function(){var e=this;this.clearEnforceFocus(),wt(document,fA,this.onFocusin=function(n){var r=e.viewer,i=n.target;if(!(i===document||i===r||r.contains(i))){for(;i;){if(i.getAttribute("tabindex")!==null||i.getAttribute("aria-modal")==="true")return;i=i.parentElement}r.focus()}})},clearEnforceFocus:function(){this.onFocusin&&(fn(document,fA,this.onFocusin),this.onFocusin=null)},open:function(){var e=this.body;vt(e,dA),this.scrollbarWidth>0&&(e.style.paddingRight="".concat(this.scrollbarWidth+(parseFloat(this.initialBodyComputedPaddingRight)||0),"px"))},close:function(){var e=this.body;en(e,dA),this.scrollbarWidth>0&&(e.style.paddingRight=this.initialBodyPaddingRight)},shown:function(){var e=this.element,n=this.options,r=this.viewer;this.fulled=!0,this.isShown=!0,this.render(),this.bind(),this.showing=!1,n.focus&&(r.focus(),this.enforceFocus()),hn(n.shown)&&wt(e,TA,n.shown,{once:!0}),Jn(e,TA)!==!1&&this.ready&&this.isShown&&!this.hiding&&this.view(this.index)},hidden:function(){var e=this.element,n=this.options,r=this.viewer;n.fucus&&this.clearEnforceFocus(),this.close(),this.unbind(),vt(r,rl),r.removeAttribute("role"),r.removeAttribute("aria-labelledby"),r.removeAttribute("aria-modal"),r.setAttribute("aria-hidden",!0),this.resetList(),this.resetImage(),this.fulled=!1,this.viewed=!1,this.isShown=!1,this.hiding=!1,this.destroyed||(hn(n.hidden)&&wt(e,SA,n.hidden,{once:!0}),Jn(e,SA,null,{cancelable:!1}))},requestFullscreen:function(e){var n=this.element.ownerDocument;if(this.fulled&&!(n.fullscreenElement||n.webkitFullscreenElement||n.mozFullScreenElement||n.msFullscreenElement)){var r=n.documentElement;r.requestFullscreen?Cu(e)?r.requestFullscreen(e):r.requestFullscreen():r.webkitRequestFullscreen?r.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT):r.mozRequestFullScreen?r.mozRequestFullScreen():r.msRequestFullscreen&&r.msRequestFullscreen()}},exitFullscreen:function(){var e=this.element.ownerDocument;this.fulled&&(e.fullscreenElement||e.webkitFullscreenElement||e.mozFullScreenElement||e.msFullscreenElement)&&(e.exitFullscreen?e.exitFullscreen():e.webkitExitFullscreen?e.webkitExitFullscreen():e.mozCancelFullScreen?e.mozCancelFullScreen():e.msExitFullscreen&&e.msExitFullscreen())},change:function(e){var n=this.options,r=this.pointers,i=r[Object.keys(r)[0]];if(i){var s=i.endX-i.startX,o=i.endY-i.startY;switch(this.action){case Qp:(s!==0||o!==0)&&(this.pointerMoved=!0,this.move(s,o,e));break;case Od:this.zoom(VJ(r),!1,null,e);break;case SM:{this.action="switched";var a=Math.abs(s);a>1&&a>Math.abs(o)&&(this.pointers={},s>1?this.prev(n.loop):s<-1&&this.next(n.loop));break}}bn(r,function(l){l.startX=l.endX,l.startY=l.endY})}},isSwitchable:function(){var e=this.imageData,n=this.viewerData;return this.length>1&&e.x>=0&&e.y>=0&&e.width<=n.width&&e.height<=n.height}},HJ=Po.Viewer,WJ=function(t){return function(){return t+=1,t}}(-1),bc=function(){function t(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(gJ(this,t),!e||e.nodeType!==1)throw new Error("The first argument is required and must be an element.");this.element=e,this.options=Li({},uA,Cu(n)&&n),this.action=!1,this.fading=!1,this.fulled=!1,this.hiding=!1,this.imageClicked=!1,this.imageData={},this.index=this.options.initialViewIndex,this.isImg=!1,this.isShown=!1,this.length=0,this.moving=!1,this.played=!1,this.playing=!1,this.pointers={},this.ready=!1,this.rotating=!1,this.scaling=!1,this.showing=!1,this.timeout=!1,this.tooltipping=!1,this.viewed=!1,this.viewing=!1,this.wheeling=!1,this.zooming=!1,this.pointerMoved=!1,this.id=WJ(),this.init()}return vJ(t,[{key:"init",value:function(){var n=this,r=this.element,i=this.options;if(!r[Ct]){r[Ct]=this,i.focus&&!i.keyboard&&(i.focus=!1);var s=r.localName==="img",o=[];if(bn(s?[r]:r.querySelectorAll("img"),function(u){hn(i.filter)?i.filter.call(n,u)&&o.push(u):n.getImageURL(u)&&o.push(u)}),this.isImg=s,this.length=o.length,this.images=o,this.initBody(),Iu(document.createElement(Ct).style.transition)&&(i.transition=!1),i.inline){var a=0,l=function(){if(a+=1,a===n.length){var c;n.initializing=!1,n.delaying={abort:function(){clearTimeout(c)}},c=setTimeout(function(){n.delaying=!1,n.build()},0)}};this.initializing={abort:function(){bn(o,function(c){c.complete||(fn(c,Gi,l),fn(c,ml,l))})}},bn(o,function(u){if(u.complete)l();else{var c,d;wt(u,Gi,c=function(){fn(u,ml,d),l()},{once:!0}),wt(u,ml,d=function(){fn(u,Gi,c),l()},{once:!0})}})}else wt(r,vc,this.onStart=function(u){var c=u.target;c.localName==="img"&&(!hn(i.filter)||i.filter.call(n,c))&&n.view(n.images.indexOf(c))})}}},{key:"build",value:function(){if(!this.ready){var n=this.element,r=this.options,i=n.parentNode,s=document.createElement("div");s.innerHTML=_J;var o=s.querySelector(".".concat(Ct,"-container")),a=o.querySelector(".".concat(Ct,"-title")),l=o.querySelector(".".concat(Ct,"-toolbar")),u=o.querySelector(".".concat(Ct,"-navbar")),c=o.querySelector(".".concat(Ct,"-button")),d=o.querySelector(".".concat(Ct,"-canvas"));if(this.parent=i,this.viewer=o,this.title=a,this.toolbar=l,this.navbar=u,this.button=c,this.canvas=d,this.footer=o.querySelector(".".concat(Ct,"-footer")),this.tooltipBox=o.querySelector(".".concat(Ct,"-tooltip")),this.player=o.querySelector(".".concat(Ct,"-player")),this.list=o.querySelector(".".concat(Ct,"-list")),o.id="".concat(Ct).concat(this.id),a.id="".concat(Ct,"Title").concat(this.id),vt(a,r.title?Cp(Array.isArray(r.title)?r.title[0]:r.title):rl),vt(u,r.navbar?Cp(r.navbar):rl),jh(c,rl,!r.button),r.keyboard&&c.setAttribute("tabindex",0),r.backdrop&&(vt(o,"".concat(Ct,"-backdrop")),!r.inline&&r.backdrop!=="static"&&X0(d,tg,"hide")),Bh(r.className)&&r.className&&r.className.split(U1).forEach(function(S){vt(o,S)}),r.toolbar){var h=document.createElement("ul"),p=Cu(r.toolbar),m=Ip.slice(0,3),g=Ip.slice(7,9),y=Ip.slice(9);p||vt(l,Cp(r.toolbar)),bn(p?r.toolbar:Ip,function(S,T){var M=p&&Cu(S),R=p?q1(T):S,C=M&&!Iu(S.show)?S.show:S;if(!(!C||!r.zoomable&&m.indexOf(R)!==-1||!r.rotatable&&g.indexOf(R)!==-1||!r.scalable&&y.indexOf(R)!==-1)){var E=M&&!Iu(S.size)?S.size:S,b=M&&!Iu(S.click)?S.click:S,w=document.createElement("li");r.keyboard&&w.setAttribute("tabindex",0),w.setAttribute("role","button"),vt(w,"".concat(Ct,"-").concat(R)),hn(b)||X0(w,tg,R),Un(C)&&vt(w,Cp(C)),["small","large"].indexOf(E)!==-1?vt(w,"".concat(Ct,"-").concat(E)):R==="play"&&vt(w,"".concat(Ct,"-large")),hn(b)&&wt(w,vc,b),h.appendChild(w)}}),l.appendChild(h)}else vt(l,rl);if(!r.rotatable){var P=l.querySelectorAll('li[class*="rotate"]');vt(P,Zd),bn(P,function(S){l.appendChild(S)})}if(r.inline)vt(c,TJ),ms(o,{zIndex:r.zIndexInline}),window.getComputedStyle(i).position==="static"&&ms(i,{position:"relative"}),i.insertBefore(o,n.nextSibling);else{vt(c,wJ),vt(o,G0),vt(o,Jp),vt(o,rl),ms(o,{zIndex:r.zIndex});var I=r.container;Bh(I)&&(I=n.ownerDocument.querySelector(I)),I||(I=this.body),I.appendChild(o)}if(r.inline&&(this.render(),this.bind(),this.isShown=!0),this.ready=!0,hn(r.ready)&&wt(n,_A,r.ready,{once:!0}),Jn(n,_A)===!1){this.ready=!1;return}this.ready&&r.inline&&this.view(this.index)}}}],[{key:"noConflict",value:function(){return window.Viewer=HJ,t}},{key:"setDefaults",value:function(n){Li(uA,Cu(n)&&n)}}]),t}();Li(bc.prototype,FJ,UJ,qJ,BJ,jJ);var zJ=typeof global=="object"&&global&&global.Object===Object&&global;const AM=zJ;var KJ=typeof self=="object"&&self&&self.Object===Object&&self,GJ=AM||KJ||Function("return this")();const Sv=GJ;var YJ=Sv.Symbol;const ng=YJ;var PM=Object.prototype,XJ=PM.hasOwnProperty,QJ=PM.toString,cd=ng?ng.toStringTag:void 0;function JJ(t){var e=XJ.call(t,cd),n=t[cd];try{t[cd]=void 0;var r=!0}catch{}var i=QJ.call(t);return r&&(e?t[cd]=n:delete t[cd]),i}var ZJ=Object.prototype,eZ=ZJ.toString;function tZ(t){return eZ.call(t)}var nZ="[object Null]",rZ="[object Undefined]",LA=ng?ng.toStringTag:void 0;function Iv(t){return t==null?t===void 0?rZ:nZ:LA&&LA in Object(t)?JJ(t):tZ(t)}function Cv(t){return t!=null&&typeof t=="object"}var iZ="[object Symbol]";function sZ(t){return typeof t=="symbol"||Cv(t)&&Iv(t)==iZ}var oZ=Array.isArray;const aZ=oZ;var lZ=/\s/;function uZ(t){for(var e=t.length;e--&&lZ.test(t.charAt(e)););return e}var cZ=/^\s+/;function dZ(t){return t&&t.slice(0,uZ(t)+1).replace(cZ,"")}function Vl(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var VA=NaN,hZ=/^[-+]0x[0-9a-f]+$/i,fZ=/^0b[01]+$/i,pZ=/^0o[0-7]+$/i,mZ=parseInt;function $A(t){if(typeof t=="number")return t;if(sZ(t))return VA;if(Vl(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=Vl(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=dZ(t);var n=fZ.test(t);return n||pZ.test(t)?mZ(t.slice(2),n?2:8):hZ.test(t)?VA:+t}function OM(t){return t}var gZ="[object AsyncFunction]",vZ="[object Function]",yZ="[object GeneratorFunction]",bZ="[object Proxy]";function kM(t){if(!Vl(t))return!1;var e=Iv(t);return e==vZ||e==yZ||e==gZ||e==bZ}var _Z=Sv["__core-js_shared__"];const By=_Z;var FA=function(){var t=/[^.]+$/.exec(By&&By.keys&&By.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function wZ(t){return!!FA&&FA in t}var TZ=Function.prototype,EZ=TZ.toString;function SZ(t){if(t!=null){try{return EZ.call(t)}catch{}try{return t+""}catch{}}return""}var IZ=/[\\^$.*+?()[\]{}|]/g,CZ=/^\[object .+?Constructor\]$/,AZ=Function.prototype,PZ=Object.prototype,OZ=AZ.toString,kZ=PZ.hasOwnProperty,RZ=RegExp("^"+OZ.call(kZ).replace(IZ,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function xZ(t){if(!Vl(t)||wZ(t))return!1;var e=kM(t)?RZ:CZ;return e.test(SZ(t))}function DZ(t,e){return t==null?void 0:t[e]}function NZ(t,e){var n=DZ(t,e);return xZ(n)?n:void 0}function MZ(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}var LZ=800,VZ=16,$Z=Date.now;function FZ(t){var e=0,n=0;return function(){var r=$Z(),i=VZ-(r-n);if(n=r,i>0){if(++e>=LZ)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}function UZ(t){return function(){return t}}var qZ=function(){try{var t=NZ(Object,"defineProperty");return t({},"",{}),t}catch{}}();const rg=qZ;var BZ=rg?function(t,e){return rg(t,"toString",{configurable:!0,enumerable:!1,value:UZ(e),writable:!0})}:OM;const jZ=BZ;var HZ=FZ(jZ);const WZ=HZ;var zZ=9007199254740991,KZ=/^(?:0|[1-9]\d*)$/;function RM(t,e){var n=typeof t;return e=e??zZ,!!e&&(n=="number"||n!="symbol"&&KZ.test(t))&&t>-1&&t%1==0&&t<e}function xM(t,e,n){e=="__proto__"&&rg?rg(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}function B1(t,e){return t===e||t!==t&&e!==e}var GZ=Object.prototype,YZ=GZ.hasOwnProperty;function DM(t,e,n){var r=t[e];(!(YZ.call(t,e)&&B1(r,n))||n===void 0&&!(e in t))&&xM(t,e,n)}function XZ(t,e,n,r){var i=!n;n||(n={});for(var s=-1,o=e.length;++s<o;){var a=e[s],l=r?r(n[a],t[a],a,n,t):void 0;l===void 0&&(l=t[a]),i?xM(n,a,l):DM(n,a,l)}return n}var UA=Math.max;function QZ(t,e,n){return e=UA(e===void 0?t.length-1:e,0),function(){for(var r=arguments,i=-1,s=UA(r.length-e,0),o=Array(s);++i<s;)o[i]=r[e+i];i=-1;for(var a=Array(e+1);++i<e;)a[i]=r[i];return a[e]=n(o),MZ(t,this,a)}}function NM(t,e){return WZ(QZ(t,e,OM),t+"")}var JZ=9007199254740991;function MM(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=JZ}function Av(t){return t!=null&&MM(t.length)&&!kM(t)}function LM(t,e,n){if(!Vl(n))return!1;var r=typeof e;return(r=="number"?Av(n)&&RM(e,n.length):r=="string"&&e in n)?B1(n[e],t):!1}function ZZ(t){return NM(function(e,n){var r=-1,i=n.length,s=i>1?n[i-1]:void 0,o=i>2?n[2]:void 0;for(s=t.length>3&&typeof s=="function"?(i--,s):void 0,o&&LM(n[0],n[1],o)&&(s=i<3?void 0:s,i=1),e=Object(e);++r<i;){var a=n[r];a&&t(e,a,r,s)}return e})}var eee=Object.prototype;function j1(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||eee;return t===n}function tee(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var nee="[object Arguments]";function qA(t){return Cv(t)&&Iv(t)==nee}var VM=Object.prototype,ree=VM.hasOwnProperty,iee=VM.propertyIsEnumerable,see=qA(function(){return arguments}())?qA:function(t){return Cv(t)&&ree.call(t,"callee")&&!iee.call(t,"callee")};const oee=see;function aee(){return!1}var $M=typeof exports=="object"&&exports&&!exports.nodeType&&exports,BA=$M&&typeof module=="object"&&module&&!module.nodeType&&module,lee=BA&&BA.exports===$M,jA=lee?Sv.Buffer:void 0,uee=jA?jA.isBuffer:void 0,cee=uee||aee;const dee=cee;var hee="[object Arguments]",fee="[object Array]",pee="[object Boolean]",mee="[object Date]",gee="[object Error]",vee="[object Function]",yee="[object Map]",bee="[object Number]",_ee="[object Object]",wee="[object RegExp]",Tee="[object Set]",Eee="[object String]",See="[object WeakMap]",Iee="[object ArrayBuffer]",Cee="[object DataView]",Aee="[object Float32Array]",Pee="[object Float64Array]",Oee="[object Int8Array]",kee="[object Int16Array]",Ree="[object Int32Array]",xee="[object Uint8Array]",Dee="[object Uint8ClampedArray]",Nee="[object Uint16Array]",Mee="[object Uint32Array]",Sn={};Sn[Aee]=Sn[Pee]=Sn[Oee]=Sn[kee]=Sn[Ree]=Sn[xee]=Sn[Dee]=Sn[Nee]=Sn[Mee]=!0;Sn[hee]=Sn[fee]=Sn[Iee]=Sn[pee]=Sn[Cee]=Sn[mee]=Sn[gee]=Sn[vee]=Sn[yee]=Sn[bee]=Sn[_ee]=Sn[wee]=Sn[Tee]=Sn[Eee]=Sn[See]=!1;function Lee(t){return Cv(t)&&MM(t.length)&&!!Sn[Iv(t)]}function Vee(t){return function(e){return t(e)}}var FM=typeof exports=="object"&&exports&&!exports.nodeType&&exports,eh=FM&&typeof module=="object"&&module&&!module.nodeType&&module,$ee=eh&&eh.exports===FM,jy=$ee&&AM.process,Fee=function(){try{var t=eh&&eh.require&&eh.require("util").types;return t||jy&&jy.binding&&jy.binding("util")}catch{}}();const HA=Fee;var WA=HA&&HA.isTypedArray,Uee=WA?Vee(WA):Lee;const qee=Uee;var Bee=Object.prototype,jee=Bee.hasOwnProperty;function UM(t,e){var n=aZ(t),r=!n&&oee(t),i=!n&&!r&&dee(t),s=!n&&!r&&!i&&qee(t),o=n||r||i||s,a=o?tee(t.length,String):[],l=a.length;for(var u in t)(e||jee.call(t,u))&&!(o&&(u=="length"||i&&(u=="offset"||u=="parent")||s&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||RM(u,l)))&&a.push(u);return a}function Hee(t,e){return function(n){return t(e(n))}}var Wee=Hee(Object.keys,Object);const zee=Wee;var Kee=Object.prototype,Gee=Kee.hasOwnProperty;function Yee(t){if(!j1(t))return zee(t);var e=[];for(var n in Object(t))Gee.call(t,n)&&n!="constructor"&&e.push(n);return e}function Xee(t){return Av(t)?UM(t):Yee(t)}var Qee=Object.prototype,Jee=Qee.hasOwnProperty,Zee=ZZ(function(t,e){if(j1(e)||Av(e)){XZ(e,Xee(e),t);return}for(var n in e)Jee.call(e,n)&&DM(t,n,e[n])});const ete=Zee;function tte(t){var e=[];if(t!=null)for(var n in Object(t))e.push(n);return e}var nte=Object.prototype,rte=nte.hasOwnProperty;function ite(t){if(!Vl(t))return tte(t);var e=j1(t),n=[];for(var r in t)r=="constructor"&&(e||!rte.call(t,r))||n.push(r);return n}function ste(t){return Av(t)?UM(t,!0):ite(t)}var ote=function(){return Sv.Date.now()};const Hy=ote;var ate="Expected a function",lte=Math.max,ute=Math.min;function cte(t,e,n){var r,i,s,o,a,l,u=0,c=!1,d=!1,h=!0;if(typeof t!="function")throw new TypeError(ate);e=$A(e)||0,Vl(n)&&(c=!!n.leading,d="maxWait"in n,s=d?lte($A(n.maxWait)||0,e):s,h="trailing"in n?!!n.trailing:h);function p(R){var C=r,E=i;return r=i=void 0,u=R,o=t.apply(E,C),o}function m(R){return u=R,a=setTimeout(P,e),c?p(R):o}function g(R){var C=R-l,E=R-u,b=e-C;return d?ute(b,s-E):b}function y(R){var C=R-l,E=R-u;return l===void 0||C>=e||C<0||d&&E>=s}function P(){var R=Hy();if(y(R))return I(R);a=setTimeout(P,g(R))}function I(R){return a=void 0,h&&r?p(R):(r=i=void 0,o)}function S(){a!==void 0&&clearTimeout(a),u=0,r=l=i=a=void 0}function T(){return a===void 0?o:I(Hy())}function M(){var R=Hy(),C=y(R);if(r=arguments,i=this,l=R,C){if(a===void 0)return m(l);if(d)return clearTimeout(a),a=setTimeout(P,e),p(l)}return a===void 0&&(a=setTimeout(P,e)),o}return M.cancel=S,M.flush=T,M}var qM=Object.prototype,dte=qM.hasOwnProperty,hte=NM(function(t,e){t=Object(t);var n=-1,r=e.length,i=r>2?e[2]:void 0;for(i&&LM(e[0],e[1],i)&&(r=1);++n<r;)for(var s=e[n],o=ste(s),a=-1,l=o.length;++a<l;){var u=o[a],c=t[u];(c===void 0||B1(c,qM[u])&&!dte.call(t,u))&&(t[u]=s[u])}return t});const fte=hte,pte=({images:t=[],options:e})=>{e=ete(e,{inline:!1});const n=document.createElement("div"),r=Tl("div",{style:{display:"none"},class:["__viewer-token"]},t.map(a=>Tl("img",typeof a=="string"?{src:a}:a)));El(r,n);const i=n.firstElementChild;document.body.appendChild(i);const s=new bc(i,e),o=s.destroy.bind(s);return s.destroy=function(){return o(),El(null,n),s},s.show(),i.addEventListener("hidden",function(){this.viewer===s&&s.destroy()}),s},mte=({name:t="viewer",debug:e=!1}={})=>{async function n(c,d,h=!1,p=!1){await rr(),!(p&&!r(c))&&(h||!c[`$${t}`]?(o(c),c[`$${t}`]=new bc(c,d),u("Viewer created")):(c[`$${t}`].update(),u("Viewer updated")))}function r(c){const d=c.innerHTML.match(/<img([\w\W]+?)[\\/]?>/g),h=d?d.join(""):void 0;return c.__viewerImageDiffCache===h?(u("Element change detected, but image(s) has not changed"),!1):(u("Image change detected"),c.__viewerImageDiffCache=h,!0)}function i(c,d,h,p){a(c);const m=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver;if(!m){u("Observer not supported");return}const g=new m(P=>{P.forEach(I=>{u(`Viewer mutation:${I.type}`),h(c,d,p,!0)})}),y={attributes:!0,childList:!0,characterData:!0,subtree:!0};g.observe(c,y),c.__viewerMutationObserver=g,u("Observer created")}function s(c,d,h,p){c.__viewerUnwatch=pn(()=>d.value,(m,g)=>{u("Change detected by watcher: ",d.value),p(c,m,!0,!1)},{deep:!0}),u("Watcher created, expression: ",d.value)}function o(c){!c[`$${t}`]||(c[`$${t}`].destroy(),delete c[`$${t}`],u("Viewer destroyed"))}function a(c){!c.__viewerMutationObserver||(c.__viewerMutationObserver.disconnect(),delete c.__viewerMutationObserver,u("observer destroyed"))}function l(c){!c.__viewerUnwatch||(c.__viewerUnwatch(),delete c.__viewerUnwatch,u("Watcher destroyed"))}function u(...c){e&&console.log(...c)}return{mounted(c,d,h){u("Viewer bind");const p=cte(n,50);p(c,d.value),s(c,d,h,p),d.modifiers.static||i(c,d.value,p,d.modifiers.rebuild)},unmounted(c){u("Viewer unbind"),a(c),l(c),o(c)}}},gte=xe({name:"Viewer",props:{images:{type:Array,default:()=>[]},rebuild:{type:Boolean,default:!1},trigger:{type:Object,default:null},options:{type:Object,default:()=>null}},emits:["inited"],setup(t,{emit:e}){let n;const r=ie();function i(){n=new bc(r.value,t.options),e("inited",n)}function s(){n&&n.destroy()}function o(){s(),i()}function a(){n?(n.update(),e("inited",n)):i()}function l(){t.rebuild?o():a()}const u={deep:!0};return pn(()=>t.images,()=>{rr(()=>{l()})},u),pn(()=>t.trigger,()=>{rr(()=>{l()})},u),pn(()=>t.options,()=>{rr(()=>{o()})},u),$t(()=>i()),Gs(()=>s()),{root:r,createViewer:i,rebuildViewer:o,updateViewer:a,destroyViewer:s}}}),vte=(t,e)=>{const n=t.__vccOpts||t;for(const[r,i]of e)n[r]=i;return n},yte={ref:"root"};function bte(t,e,n,r,i,s){return N(),W("div",yte,[Te(t.$slots,"default",{images:t.images,options:t.options})],512)}const BM=vte(gte,[["render",bte]]),_te={install(t,{name:e="viewer",debug:n=!1,defaultOptions:r}={}){r&&bc.setDefaults(r),t.config.globalProperties[`$${e}Api`]=pte,t.component(e,fte(BM,{name:e})),t.directive(e,mte({name:e,debug:n}))},setDefaults(t){bc.setDefaults(t)}};var wte={root:{position:"relative"}},Tte={root:function(e){var n=e.props;return["p-skeleton p-component",{"p-skeleton-circle":n.shape==="circle","p-skeleton-none":n.animation==="none"}]}},Ete=fr.extend({name:"skeleton",classes:Tte,inlineStyles:wte}),Ste={name:"BaseSkeleton",extends:oi,props:{shape:{type:String,default:"rectangle"},size:{type:String,default:null},width:{type:String,default:"100%"},height:{type:String,default:"1rem"},borderRadius:{type:String,default:null},animation:{type:String,default:"wave"}},style:Ete,provide:function(){return{$parentInstance:this}}},jM={name:"Skeleton",extends:Ste,inheritAttrs:!1,computed:{containerStyle:function(){return this.size?{width:this.size,height:this.size,borderRadius:this.borderRadius}:{width:this.width,height:this.height,borderRadius:this.borderRadius}}}};function Ite(t,e,n,r,i,s){return N(),W("div",le({class:t.cx("root"),style:[t.sx("root"),s.containerStyle],"aria-hidden":"true"},t.ptmi("root")),null,16)}jM.render=Ite;const Cte=["src"],ga=xe({__name:"Image",props:{src:{},imageClass:{}},setup(t){const e=t,r=Fc($c).greaterOrEqual("md"),i=ie(!1);return $t(()=>{const s=new Image;s.src=e.src,s.onload=()=>{i.value=!0}}),(s,o)=>i.value?(N(),ce(A(BM),{key:0,class:"cursor-pointer"},{default:J(()=>[v("img",{class:$e(s.imageClass),src:s.src,style:ur({maxWidth:s.imageClass?void 0:A(r)?"25vw":"100%"})},null,14,Cte)]),_:1})):(N(),ce(A(jM),{key:1,class:"mt-5 background-gray-light",width:"200px",height:"200px"}))}}),zA=xe({__name:"BlogPostImage",props:{coverImageUrl:{},post:{},maxHeight:{},maxWidth:{},alignment:{}},setup(t){const e=t,n=Fc($c),r=n.greaterOrEqual("sm"),i=n.greaterOrEqual("md"),s=ie(0),o=ie(0),a=ee(()=>s.value>o.value),l=ee(()=>s.value>o.value*1.5),u=ee(()=>o.value>s.value),c=ee(()=>o.value>s.value*1.5),d=ee(()=>i.value?"60%":r.value?"80%":e.maxHeight?e.maxHeight:a.value&&c.value?"80%":"100%"),h=ee(()=>i.value?"60%":r.value?"80%":e.maxWidth?e.maxWidth:u.value&&l.value?"80%":"100%");return $t(()=>{const p=new Image;p.src=e.coverImageUrl,p.onload=()=>{s.value=p.height,o.value=p.width}}),(p,m)=>{var g,y;return N(),W("div",{class:$e({flex:!0,"justify-start":p.alignment==="left","justify-center":p.alignment===void 0||p.alignment==="center","justify-end":p.alignment==="right"})},[B(xn,{class:$e(["!p-0 md:!p-3 xl:!p-5 my-5 w-fit border border-white md:border-none !rounded-none md:!rounded-primary",(g=p.post)==null?void 0:g.colorTertiary,((y=p.post)==null?void 0:y.opacityTertiary)||"bg-opacity-50"]),style:ur({maxHeight:d.value,maxWidth:h.value})},{default:J(()=>[B(ga,{src:p.coverImageUrl,"image-class":"cover-image md:rounded-primary"},null,8,["src"])]),_:1},8,["class","style"])],2)}}}),Ate={class:"flex flex-wrap justify-end h-fit gap-3"},KA=xe({__name:"BlogPostMutationButtons",emits:["editClicked","deleteClicked"],setup(t){return(e,n)=>(N(),W("div",Ate,[B(at,{class:"min-w-80",label:"Edit",onClick:n[0]||(n[0]=r=>e.$emit("editClicked"))}),B(at,{class:"min-w-80",type:"danger",outlined:"",label:"Delete",onClick:n[1]||(n[1]=r=>e.$emit("deleteClicked"))})]))}}),GA=xe({__name:"BlogPostSectionTitle",props:{class:{},alignment:{},isExpandable:{type:Boolean},isExpanded:{type:Boolean},isSubTitle:{type:Boolean}},emits:["click"],setup(t){const e=t;return(n,r)=>(N(),W("div",{class:$e(["font-bold",{"text-lg md:text-2xl":!n.isSubTitle},{"hover:underline cursor-pointer":n.isExpandable},e.class])},[v("div",{class:$e({block:!n.alignment,flex:!!n.alignment,"justify-start":n.alignment==="left","justify-center":n.alignment==="center","justify-end":n.alignment==="right"})},[v("span",{class:"flex",onClick:r[0]||(r[0]=i=>n.$emit("click"))},[n.isExpandable&&n.alignment==="right"?(N(),W("i",{key:0,class:$e(["pi pi-angle-down animation",{"rotate-180":n.isExpanded}])},null,2)):Z("",!0),Te(n.$slots,"default"),n.isExpandable&&(n.alignment==="left"||n.alignment==="center")?(N(),W("i",{key:1,class:$e(["pi pi-angle-down animation",{"rotate-180":n.isExpanded}])},null,2)):Z("",!0)])],2)],2))}}),Pte={class:"table w-full md:w-3/4 border border-white border-collapse"},Ote={class:"table-row-group"},kte={key:0,class:"table-row border border-white"},YA=xe({__name:"BlogPostTable",props:{table:{},alignment:{}},setup(t){const e=t,n=ee(()=>u2(e.table));return(r,i)=>(N(),W("div",{class:$e(["my-8 flex",{"justify-start":r.alignment==="left","justify-center":r.alignment==="center"||!r.alignment,"justify-end":r.alignment==="right"}])},[v("div",Pte,[v("div",Ote,[(N(!0),W(Pe,null,ht(n.value,(s,o)=>(N(),W(Pe,{key:o},[s.every(a=>!a)?Z("",!0):(N(),W("div",kte,[(N(!0),W(Pe,null,ht(s,(a,l)=>(N(),W(Pe,{key:l},[l!==0||!n.value.every(u=>!u.length||!u[0])?(N(),W("div",{key:0,class:$e(["table-cell border border-white text-center",{"font-bold":o===0||l===0}])},Fe(a),3)):Z("",!0)],64))),128))]))],64))),128))])])],2))}}),Rte={class:"flex gap-3"},xte={class:"flex justify-between h-fit mt-2 gap-2"},Dte={class:"flex flex-wrap gap-3"},Nte={class:"w-full"},Mte={class:"w-full"},HM=xe({__name:"BlogPost",props:{post:{}},emits:["editClicked","deleteClicked"],setup(t){const e=t,{publicUsers:n}=Vt(jn()),{firebaseUser:r,isOwner:i}=Vt(br()),s=ie(e.post.archived),o=ee(()=>{var h;return(h=e.post.allowedUserIds)!=null&&h.length?n.value.filter(p=>{var m;return(m=e.post.allowedUserIds)==null?void 0:m.includes(p.id)}):[]}),a=ee(()=>{const h=dc(new Date(e.post.date)),p=e.post.dateUpdated?dc(new Date(e.post.dateUpdated)):"";return h+` - updated ${p}`}),l=ee(()=>{const h=[];return e.post.datePinned&&h.push({value:"Pinned",severity:"success",rounded:!1}),e.post.locked&&h.push({value:"Locked",severity:"danger",rounded:!1,icon:"pi pi-lock"}),e.post.archived&&h.push({value:"Archived",severity:"warning",rounded:!1,icon:"pi pi-file-excel"}),h}),u=ee(()=>e.post.sections.map(h=>({...h,isExpandable:c(h)}))),c=h=>!!h.description||!!h.coverImageUrl||!!h.bullets.length||!!h.table,d=()=>{const h=document.createElement("textarea"),{protocol:p,hostname:m,port:g}=window.location,y=`${p}//${m}`+(m==="localhost"?`:${g}`:"");h.value=`${y}#${aL.BLOG.path}/${e.post.id}`,document.body.appendChild(h),h.select(),document.execCommand("copy"),document.body.removeChild(h),nt.success("Copied link!")};return(h,p)=>(N(),ce(xn,{id:h.post.id,class:$e([{"min-h-[90vh]":!s.value},"border-4 border-transparent","!rounded-primary",h.post.colorSecondary||h.post.colorPrimary||"bg-secondary-900",h.post.opacitySecondary||"bg-opacity-50"]),title:h.post.title,subTitle:a.value,tags:l.value,loading:h.post.loading,isCollapsed:s.value,clickable:"",onClick:p[4]||(p[4]=m=>s.value=!s.value)},{right:J(()=>[v("div",Rte,[s.value?A(i)?(N(),ce(KA,{key:1,onEditClicked:p[0]||(p[0]=m=>h.$emit("editClicked")),onDeleteClicked:p[1]||(p[1]=m=>h.$emit("deleteClicked"))})):Z("",!0):(N(),ce(at,{key:0,class:"border-none h-fit",type:"neutral",icon:"pi pi-copy",onClick:d}))])]),default:J(()=>{var m;return[v("div",xte,[v("div",Dte,[(N(!0),W(Pe,null,ht(o.value,g=>{var y;return N(),ce(A(TM),{class:"h-fit !p-0 !px-4 !py-1 bg-red-800 bg-opacity-50",icon:"pi pi-user",label:g.id===((y=A(r))==null?void 0:y.uid)?"You":g.displayName,rounded:""},null,8,["label"])}),256))]),A(i)?(N(),W("div",{key:0,class:$e(["flex justify-end ms-5",(m=h.post.allowedUserIds)!=null&&m.length?"flex-col md:flex-row":"flex-row"])},[B(KA,{onEditClicked:p[2]||(p[2]=g=>h.$emit("editClicked")),onDeleteClicked:p[3]||(p[3]=g=>h.$emit("deleteClicked"))})],2)):Z("",!0)]),B(xn,{class:$e(["z-10 min-h-[125px] md:min-h-[160px] p-5 mt-5",h.post.colorPrimary,h.post.opacityPrimary||"bg-opacity-50"])},{default:J(()=>[v("div",{class:$e(["flex relative",h.post.countdown||h.post.alignment==="center"?"flex justify-between":""])},[v("div",Nte,[h.post.countdown?(N(),ce(ru,{key:0,time:new Date(h.post.countdown).getTime(),direction:"down",alignment:h.post.alignment},null,8,["time","alignment"])):Z("",!0),h.post.timer?(N(),ce(ru,{key:1,time:new Date(h.post.timer).getTime(),direction:"up",alignment:h.post.alignment},null,8,["time","alignment"])):Z("",!0),h.post.description?(N(),ce(Uy,{key:2,description:h.post.description},null,8,["description"])):Z("",!0)])],2),h.post.coverImageUrl?(N(),ce(zA,{key:0,post:h.post,"cover-image-url":h.post.coverImageUrl},null,8,["post","cover-image-url"])):Z("",!0),h.post.descriptionFooter?(N(),ce(Uy,{key:1,class:"mb-5",description:h.post.descriptionFooter},null,8,["description"])):Z("",!0),h.post.table?(N(),ce(YA,{key:2,table:h.post.table},null,8,["table"])):Z("",!0),B(A(er),{onTabOpen:A(ar)},{default:J(()=>[(N(!0),W(Pe,null,ht(u.value,g=>(N(),ce(A(Le),{disabled:!g.isExpandable,pt:{headerAction:{class:["px-0 bg-transparent",g.isExpandable?void 0:"cursor-auto"]},headerIcon:{class:{invisible:!g.isExpandable}}}},dr({header:J(()=>[v("div",Mte,[g.title?(N(),ce(GA,{key:0,alignment:g.alignment},{default:J(()=>[K(Fe(g.title),1)]),_:2},1032,["alignment"])):Z("",!0),g.subTitle?(N(),ce(GA,{key:1,alignment:g.alignment,"is-sub-title":""},{default:J(()=>[K(Fe(g.subTitle),1)]),_:2},1032,["alignment"])):Z("",!0),g.isExpandable?Z("",!0):(N(),W(Pe,{key:2},[g.countdown?(N(),ce(ru,{key:0,time:new Date(g.countdown).getTime(),direction:"down",alignment:g.alignment},null,8,["time","alignment"])):Z("",!0),g.timer?(N(),ce(ru,{key:1,time:new Date(g.timer).getTime(),direction:"up",alignment:g.alignment},null,8,["time","alignment"])):Z("",!0)],64))])]),default:J(()=>[g.description?(N(),ce(Uy,{key:0,description:g.description,alignment:g.alignment},null,8,["description","alignment"])):Z("",!0),g.coverImageUrl?(N(),ce(zA,{key:1,post:h.post,"cover-image-url":g.coverImageUrl,alignment:g.alignment,"max-height":"30%"},null,8,["post","cover-image-url","alignment"])):Z("",!0),B(fJ,{bullets:g.bullets,alignment:g.alignment},null,8,["bullets","alignment"]),g.isExpandable?(N(),W(Pe,{key:2},[g.countdown?(N(),ce(ru,{key:0,time:new Date(g.countdown).getTime(),direction:"down",alignment:g.alignment},null,8,["time","alignment"])):Z("",!0),g.timer?(N(),ce(ru,{key:1,time:new Date(g.timer).getTime(),direction:"up",alignment:g.alignment},null,8,["time","alignment"])):Z("",!0)],64)):Z("",!0),g.table?(N(),ce(YA,{key:3,table:g.table,alignment:g.alignment},null,8,["table","alignment"])):Z("",!0)]),_:2},[g.isExpandable?void 0:{name:"headericon",fn:J(()=>[]),key:"0"}]),1032,["disabled","pt"]))),256))]),_:1},8,["onTabOpen"])]),_:1},8,["class"]),B(VQ,{post:h.post},null,8,["post"])]}),_:1},8,["id","class","title","subTitle","tags","loading","isCollapsed"]))}}),Lte={key:0,class:"flex justify-center mt-5"},Vte={class:"grid grid-cols-6 mb-5 gap-5"},$te=xe({__name:"BlogDetails",emits:["createClicked","editClicked","deleteClicked"],setup(t){const e=cf(),n=Q_(),r=jn(),{fetchBlogPost:i,checkBlogPostForUnreadReactions:s}=r,{blogPosts:o,blogReactions:a,isBlogPostDatabaseActionActive:l,isBlogPostsFetchLoading:u}=Vt(r),c=ie(),d=ie(),h=ee(()=>e.params.postId),p=m=>{m.metadata.hasPendingWrites||l.value||(clearTimeout(d.value),d.value=setTimeout(async()=>{await i(h.value,void 0,{loadingIndicator:!1}),s(o.value.previousData.single,!0)},200))};return $t(async()=>{var m;if(a.value.unread=[],h.value){let g;if(((m=o.value.data.single)==null?void 0:m.id)!==h.value?g=await i(h.value):g=o.value.data.single,g){const y=ao(g),P=Bt.blogPosts(y.isPrivate),I=LD(P,g0("id","==",g.id));c.value=Ad(I,p)}else n.push({name:Xn.BLOG})}}),Gs(()=>{var m;clearTimeout(d.value),(m=c.value)==null||m.call(c)}),(m,g)=>A(u)?(N(),W("div",Lte,[B(at,{class:"w-full md:w-1/2 xl:w-1/4",outlined:"",loading:"",label:"Loading..."})])):(N(),W(Pe,{key:1},[v("div",Vte,[B(at,{class:"col-span-full md:col-start-2 md:col-span-4 lg:col-start-3 lg:col-span-2",type:"tertiary",route:A(Xn).BLOG,label:"All Posts"},null,8,["route"])]),A(o).data.single?(N(),ce(HM,{key:0,post:A(o).data.single,onEditClicked:g[0]||(g[0]=y=>m.$emit("editClicked",A(o).data.single)),onDeleteClicked:g[1]||(g[1]=y=>m.$emit("deleteClicked",A(o).data.single))},null,8,["post"])):Z("",!0)],64))}}),Fte={key:0,class:"grid grid-cols-6 mb-5 gap-5"},Ute={key:1,class:"grid grid-cols-6 lg:hidden mb-5"},qte={class:"grid gap-4 md:gap-10 xl:gap-20"},Bte={key:2,class:"flex justify-center mt-5"},jte=xe({__name:"BlogPosts",emits:["createClicked","editClicked","deleteClicked"],setup(t){const e=jn(),{fetchBlogPosts:n,checkBlogPostsForUnreadReactions:r}=e,{blogPosts:i,visibleBlogPosts:s,blogReactions:o,isBlogPostDatabaseActionActive:a,isBlogPostsFetchLoading:l}=Vt(e),{isOwner:u,firebaseUser:c}=Vt(br());let d=[];const h=ie(),p=ie(),m=ie(),g=ie(),y=async S=>{var T;i.value.visibility!==S&&(i.value.data[S].length||await n((T=c.value)==null?void 0:T.uid,{visibility:S}),i.value.visibility=S,i.value.isLastPage=!1,Wp(h.value))},P=async()=>{var T;const S=s.value.length;await n((T=c.value)==null?void 0:T.uid),s.value[S]&&Wp(p.value[S])},I=S=>{S.metadata.hasPendingWrites||a.value||(clearTimeout(g.value),g.value=setTimeout(async()=>{var T;await n((T=c.value)==null?void 0:T.uid,{amount:s.value.length,loadingIndicator:!1}),r()},200))};return $t(()=>{o.value.unread=[],d.push(Ad(Bt.blogPosts(!1),I)),d.push(Ad(Bt.blogReactions(!1),I)),c.value?(d.push(Ad(Bt.blogPosts(!0),I)),d.push(Ad(Bt.blogReactions(!0),I)),i.value.visibility="private"):i.value.visibility!=="public"&&(i.value.visibility="public")}),Gs(()=>{clearTimeout(g.value),d.forEach(S=>{S()})}),pn(()=>{var S;return(S=p.value)==null?void 0:S.length},()=>{var S;if((S=p.value)!=null&&S.length&&m.value){const T=s.value.find(M=>M.id===m.value);if(T){const M=s.value.indexOf(T);Wp(p.value[M]),m.value=void 0}}}),(S,T)=>(N(),W("div",{ref_key:"container",ref:h},[A(c)?(N(),W("div",Fte,[B(at,{class:"hidden lg:block col-span-2 xl:col-span-1",type:"secondary",outlined:A(i).visibility!=="public",loading:A(i).isLoading.public.fetch,label:"Public Posts",onClick:T[0]||(T[0]=M=>y("public"))},null,8,["outlined","loading"]),A(u)?(N(),ce(at,{key:0,class:"col-span-full md:col-start-2 md:col-span-4 lg:col-start-3 lg:col-span-2",type:"tertiary",label:"New Post",onClick:T[1]||(T[1]=M=>S.$emit("createClicked"))})):Z("",!0),B(at,{class:"hidden lg:block col-start-5 col-span-2 xl:col-start-6 xl:col-span-1",type:"secondary",outlined:A(i).visibility!=="private",loading:A(i).isLoading.private.fetch,label:"Private Posts",onClick:T[2]||(T[2]=M=>y("private"))},null,8,["outlined","loading"])])):Z("",!0),A(c)?(N(),W("div",Ute,[B(at,{class:"col-span-3 md:col-start-2 md:col-span-2 rounded-r-none",type:"secondary",outlined:A(i).visibility!=="public",loading:A(i).isLoading.public.fetch,label:"Public Posts",onClick:T[3]||(T[3]=M=>y("public"))},null,8,["outlined","loading"]),B(at,{class:"col-span-3 md:col-start-4 md:col-span-2 rounded-l-none",type:"secondary",outlined:A(i).visibility!=="private",loading:A(i).isLoading.private.fetch,label:"Private Posts",onClick:T[4]||(T[4]=M=>y("private"))},null,8,["outlined","loading"])])):Z("",!0),v("div",qte,[A(s).length?(N(!0),W(Pe,{key:0},ht(A(s),M=>(N(),W("div",{key:M.id,ref_for:!0,ref_key:"posts",ref:p},[B(HM,{post:M,onEditClicked:R=>S.$emit("editClicked",M),onDeleteClicked:R=>S.$emit("deleteClicked",M)},null,8,["post","onEditClicked","onDeleteClicked"])]))),128)):A(l)?Z("",!0):(N(),ce(xn,{key:1,class:"!bg-red-900 !bg-opacity-40 !rounded-primary",title:"No posts"}))]),A(i).isLastPage?Z("",!0):(N(),W("div",Bte,[B(at,{class:"w-full md:w-1/2 xl:w-1/4",outlined:"",loading:A(s).length>0&&A(l),label:"Load more posts",onClick:P},null,8,["loading"])]))],512))}}),Hte={key:0,class:"fixed z-10 inset-0 flex items-center justify-center overflow-auto"},Wte={class:"relative w-full md:w-3/4 lg:w-1/2 max-h-screen"},zte={class:"bg-neutral-800 border border-neutral-500 rounded-primary p-5"},Kte={class:"sm:p-8"},Gte={class:"text-title-secondary"},Yte={class:"mt-4 text-neutral-300"},Xte={class:"my-2"},Qte={class:"grid grid-cols-4 mt-10 gap-3"},H1=xe({__name:"Dialog",props:{isOpen:{type:Boolean},title:{},description:{},confirmText:{},confirmLoading:{type:Boolean},confirmProps:{}},emits:["confirm","cancel"],setup(t){const e=t;return of(()=>{document.body.style.overflow=""}),pn(()=>e.isOpen,()=>{e.isOpen?(document.body.style.overflow="hidden",document.body.style.marginRight=`${C7()}px`):(document.body.style.marginRight="",document.body.style.overflow="")}),(n,r)=>n.isOpen?(N(),W("div",Hte,[v("div",{class:"fixed inset-0 bg-neutral-900 opacity-50 animation",onClick:r[0]||(r[0]=i=>n.$emit("cancel"))}),v("div",Wte,[v("div",zte,[v("div",Kte,[v("h3",Gte,Fe(n.title),1),v("div",Yte,[(N(!0),W(Pe,null,ht(Array.isArray(n.description)?[...n.description]:[n.description],i=>(N(),W("p",Xte,Fe(i),1))),256))]),Te(n.$slots,"default")]),v("div",Qte,[B(at,{class:$e(["col-span-full",n.confirmText?"md:col-span-2":""]),outlined:"",label:"Cancel",onClick:r[1]||(r[1]=i=>n.$emit("cancel"))},null,8,["class"]),n.confirmText?(N(),ce(at,le({key:0,class:"col-span-full md:col-span-2 md:col-start-3",loading:n.confirmLoading},n.confirmProps,{label:n.confirmText,onClick:r[2]||(r[2]=i=>n.$emit("confirm"))}),null,16,["loading","label"])):Z("",!0)])])])])):Z("",!0)}}),Wy=t=>(t==null?void 0:t.id)??r1(),zy=t=>{var e;return{date:(t==null?void 0:t.date)||new Date,dateUpdated:(t==null?void 0:t.dateUpdated)||new Date,title:(t==null?void 0:t.title)??"",description:(t==null?void 0:t.description)??"",descriptionFooter:(t==null?void 0:t.descriptionFooter)??"",coverImageUrl:(t==null?void 0:t.coverImageUrl)??"",timer:(t==null?void 0:t.timer)??null,countdown:(t==null?void 0:t.countdown)??null,table:(t==null?void 0:t.table)??"",sections:((e=t==null?void 0:t.sections)==null?void 0:e.slice().map(n=>({...n,bullets:n.bullets.slice()})))??[],alignment:(t==null?void 0:t.alignment)??"center",colorPrimary:(t==null?void 0:t.colorPrimary)??"",colorSecondary:(t==null?void 0:t.colorSecondary)??"",colorTertiary:(t==null?void 0:t.colorTertiary)??"",opacityPrimary:(t==null?void 0:t.opacityPrimary)??"",opacitySecondary:(t==null?void 0:t.opacitySecondary)??"",opacityTertiary:(t==null?void 0:t.opacityTertiary)??"",locked:(t==null?void 0:t.locked)??!1,allowedUserIds:(t==null?void 0:t.allowedUserIds)??[],archived:(t==null?void 0:t.archived)??!1,datePinned:(t==null?void 0:t.datePinned)??null}},kf=cw("blogPostDialog",{state:()=>({isOpen:!1,blogPostOriginal:null,blogPostMutationId:Wy(null),blogPostMutation:zy(null),blogPostMutationChanges:{hasContentChanges:!1,hasStylingChanges:!1,hasSettingsChanges:!1}}),getters:{blogPostOriginalMutation:t=>t.blogPostOriginal?Cr.convert(t.blogPostOriginal):null,hasBlogPostMutationContentChanges:t=>t.blogPostMutationChanges.hasContentChanges,hasBlogPostMutationStylingChanges:t=>t.blogPostMutationChanges.hasStylingChanges,hasBlogPostMutationSettingsChanges:t=>t.blogPostMutationChanges.hasSettingsChanges},actions:{openWith(t){this.blogPostOriginal=t,this.blogPostMutationId=Wy(t),this.blogPostMutation=zy(t),this.isOpen=!0},close(){this.isOpen=!1,this.blogPostOriginal=null,this.blogPostMutationId=Wy(null),this.blogPostMutation=zy(null)},getBlogPostMutationContent(){return Cr.Content.convert(this.blogPostMutation)},getBlogPostMutationStyling(){return Cr.Styling.convert(this.blogPostMutation)},getBlogPostMutationSettings(){return Cr.Settings.convert(this.blogPostMutation)},async isMutationEqual(){this.blogPostOriginalMutation&&(this.blogPostMutationChanges.hasContentChanges=!gs(Cr.Content.convert(this.blogPostOriginalMutation),this.getBlogPostMutationContent()),this.blogPostMutationChanges.hasStylingChanges=!gs(Cr.Styling.convert(this.blogPostOriginalMutation),this.getBlogPostMutationStyling()),this.blogPostMutationChanges.hasSettingsChanges=!gs(Cr.Settings.convert(this.blogPostOriginalMutation),this.getBlogPostMutationSettings()))}}}),Jte={class:"m-4"},Zte=["for"],ig=xe({__name:"DateField",props:{id:{},name:{},label:{},modelValue:{},labelProps:{}},emits:["update:modelValue","update:error"],setup(t,{expose:e,emit:n}){const r=t,i=ee({get:()=>r.modelValue,set:l=>{a("update:modelValue",l)}}),s=ee(()=>r.name+(r.id!==void 0?"."+r.id:"")),o=()=>{},a=n;return e({test:o}),(l,u)=>{const c=An("VueDatePicker");return N(),W("div",Jte,[l.label?(N(),W("label",le({key:0,class:"block text-sm font-bold mb-2",for:"dp-input-"+s.value},l.labelProps),Fe(l.label),17,Zte)):Z("",!0),B(c,{uid:s.value,class:"p-input px-5",modelValue:i.value,"onUpdate:modelValue":u[0]||(u[0]=d=>i.value=d),dark:""},null,8,["uid","modelValue"])])}}}),ene={class:"m-4"},tne=["for"],nne={class:"table w-full"},rne={class:"table-header-group"},ine={key:0,class:"table-row"},sne={class:"table-cell"},one={class:"table-cell"},ane={class:"table-row-group"},lne={key:0,class:"table-cell"},une={key:1,class:"table-cell"},cne={key:2,class:"table-cell"},dne={class:"table-footer-group"},hne={class:"table-row"},fne={class:"table-cell"},WM=xe({__name:"TableField",props:{id:{},name:{},label:{},modelValue:{},labelProps:{}},emits:["update:modelValue","update:error"],setup(t,{emit:e}){const n=t,r=e,s=Fc($c).greaterOrEqual("md"),o=ee({get:()=>u2(n.modelValue),set:g=>{r("update:modelValue",UI(g))}}),a=ee(()=>n.name+(n.id?"."+n.id:"")),l=ee(()=>{var g;return s.value&&((g=o.value[0])==null?void 0:g.length)<3}),u=(g,y,P)=>{const I=[...o.value];I[g][y]=P,r("update:modelValue",UI(I))},c=()=>{const g=o.value;if(g.length){const y=g[0];y.length?o.value=[...g,y.map(()=>"")]:o.value=[...g,[""]]}else o.value=[[""]]},d=()=>{o.value=o.value.slice(0,-1)},h=()=>{o.value=o.value.map(g=>[...g,""])},p=()=>{o.value=o.value.map(g=>g.slice(0,-1))},m=(g,y)=>g===y.length-1;return(g,y)=>(N(),W("div",ene,[g.label?(N(),W("label",le({key:0,class:"block text-sm font-bold mb-2",for:a.value},g.labelProps),Fe(g.label),17,tne)):Z("",!0),v("div",nne,[v("div",rne,[o.value.length&&o.value[0].length>1?(N(),W("div",ine,[(N(!0),W(Pe,null,ht(o.value[0].slice(0,-1),P=>(N(),W("div",sne))),256)),v("div",one,[o.value.length&&o.value[0].length?(N(),ce(A(Su),{key:0,class:"md:text-start text-nowrap",icon:"pi pi-times",label:l.value?"Remove column":void 0,onClick:p},null,8,["label"])):Z("",!0)])])):Z("",!0)]),v("div",ane,[(N(!0),W(Pe,null,ht(o.value,(P,I)=>(N(),W("div",{key:I,class:"table-row"},[(N(!0),W(Pe,null,ht(P,(S,T)=>(N(),ce(ei,{class:"table-cell !m-0",key:T,name:`${g.name}.${I}.${T}`,modelValue:S,placeholder:I===0||T===0?"header":"cell","onUpdate:modelValue":M=>u(I,T,M.toString())},null,8,["name","modelValue","placeholder","onUpdate:modelValue"]))),128)),I===0?(N(),W("div",lne,[B(A(Su),{class:"md:text-start text-nowrap",icon:"pi pi-plus",label:l.value?"Add column":void 0,onClick:h},null,8,["label"])])):m(I,o.value)&&o.value.length>1?(N(),W("div",une,[B(A(Su),{class:"md:text-start text-nowrap",icon:"pi pi-times",label:l.value?"Remove row":void 0,onClick:d},null,8,["label"])])):(N(),W("div",cne))]))),128))]),v("div",dne,[v("div",hne,[v("div",fne,[B(A(Su),{class:"md:text-start text-nowrap",icon:"pi pi-plus",label:l.value?"Add row":void 0,onClick:c},null,8,["label"])])])])])]))}}),pne={class:"m-4"},mne=["for"],gne={class:"flex justify-between gap-1"},vne=["id","disabled"],yne={key:2},bne={class:"flex justify-center"},_ne=["src"],W1=xe({__name:"FileUpload",props:{id:{},name:{},label:{},modelValue:{},error:{},isPublic:{type:Boolean},blogPost:{},imageProps:{},imageContainerProps:{}},emits:["update:modelValue","update:error"],setup(t,{expose:e,emit:n}){const r=t,{firebaseUser:i}=Vt(br()),{fetchFileInfo:s,uploadFile:o,deleteFile:a}=jn(),l=ie(),u=ie(null),c=ie(0),d=ee(()=>_0(r.modelValue||"uploads/"+r1())),h=ee(()=>d.value.name),p=ie(),m=ie(""),g=T=>{const M=T.target;M.files&&M.files.length>0&&(u.value=M.files[0],m.value=u.value.name,y())},y=async()=>{var T,M;u.value&&((T=i.value)!=null&&T.uid)&&await o(d.value,u.value,R=>c.value=R,m.value,(M=i.value)==null?void 0:M.uid,r.isPublic,r.blogPost)&&(S("update:modelValue",await f7(d.value)),u.value=null,c.value=0)},P=async()=>{await a(d.value)?(window.URL.revokeObjectURL(r.modelValue),l.value.value=null,S("update:modelValue","")):S("update:error","Failed to delete File reference")},I=()=>{};pn(()=>r.modelValue,async()=>{var T;p.value=r.modelValue?await s(h.value):void 0,m.value=((T=p.value)==null?void 0:T.name)??""},{immediate:!0});const S=n;return e({test:I}),(T,M)=>(N(),W("div",pne,[T.label?(N(),W("label",{key:0,class:"block text-sm font-bold mb-2",for:`${T.id}`},Fe(T.label),9,mne)):Z("",!0),v("div",gne,[v("input",{id:`${T.id}`,ref_key:"fileUpload",ref:l,type:"file",accept:"image/*",onChange:g,class:"p-input",disabled:!!p.value},null,40,vne),T.modelValue?(N(),ce(_M,{key:0,onClick:P})):Z("",!0)]),T.error?(N(),ce(_v,{key:1,name:T.name,error:T.error},null,8,["name","error"])):Z("",!0),c.value>0?(N(),W("div",yne,"Uploading: "+Fe(c.value.toFixed(2))+"%",1)):Z("",!0),v("div",bne,[v("div",Ln(cr(T.imageContainerProps)),[p.value?(N(),W("img",le({key:0,class:"p-input-file mt-4 w-full min-w-25 md:max-w-fit",src:T.modelValue},T.imageProps),null,16,_ne)):Z("",!0)],16)])]))}}),wne="modulepreload",Tne=function(t,e){return new URL(t,e).href},XA={},Ene=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){const s=document.getElementsByTagName("link");i=Promise.all(n.map(o=>{if(o=Tne(o,r),o in XA)return;XA[o]=!0;const a=o.endsWith(".css"),l=a?'[rel="stylesheet"]':"";if(!!r)for(let d=s.length-1;d>=0;d--){const h=s[d];if(h.href===o&&(!a||h.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${o}"]${l}`))return;const c=document.createElement("link");if(c.rel=a?"stylesheet":wne,a||(c.as="script",c.crossOrigin=""),c.href=o,document.head.appendChild(c),a)return new Promise((d,h)=>{c.addEventListener("load",d),c.addEventListener("error",()=>h(new Error(`Unable to preload CSS for ${o}`)))})}))}return i.then(()=>e()).catch(s=>{const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=s,window.dispatchEvent(o),!o.defaultPrevented)throw s})};var Sne=`
/*!
* Quill Editor v1.3.3
* https://quilljs.com/
* Copyright (c) 2014, Jason Chen
* Copyright (c) 2013, salesforce.com
*/
.ql-container {
    box-sizing: border-box;
    font-family: Helvetica, Arial, sans-serif;
    font-size: 13px;
    height: 100%;
    margin: 0px;
    position: relative;
}
.ql-container.ql-disabled .ql-tooltip {
    visibility: hidden;
}
.ql-container.ql-disabled .ql-editor ul[data-checked] > li::before {
    pointer-events: none;
}
.ql-clipboard {
    left: -100000px;
    height: 1px;
    overflow-y: hidden;
    position: absolute;
    top: 50%;
}
.ql-clipboard p {
    margin: 0;
    padding: 0;
}
.ql-editor {
    box-sizing: border-box;
    line-height: 1.42;
    height: 100%;
    outline: none;
    overflow-y: auto;
    padding: 12px 15px;
    tab-size: 4;
    -moz-tab-size: 4;
    text-align: left;
    white-space: pre-wrap;
    word-wrap: break-word;
}
.ql-editor > * {
    cursor: text;
}
.ql-editor p,
.ql-editor ol,
.ql-editor ul,
.ql-editor pre,
.ql-editor blockquote,
.ql-editor h1,
.ql-editor h2,
.ql-editor h3,
.ql-editor h4,
.ql-editor h5,
.ql-editor h6 {
    margin: 0;
    padding: 0;
    counter-reset: list-1 list-2 list-3 list-4 list-5 list-6 list-7 list-8 list-9;
}
.ql-editor ol,
.ql-editor ul {
    padding-left: 1.5rem;
}
.ql-editor ol > li,
.ql-editor ul > li {
    list-style-type: none;
}
.ql-editor ul > li::before {
    content: '\\2022';
}
.ql-editor ul[data-checked='true'],
.ql-editor ul[data-checked='false'] {
    pointer-events: none;
}
.ql-editor ul[data-checked='true'] > li *,
.ql-editor ul[data-checked='false'] > li * {
    pointer-events: all;
}
.ql-editor ul[data-checked='true'] > li::before,
.ql-editor ul[data-checked='false'] > li::before {
    color: #777;
    cursor: pointer;
    pointer-events: all;
}
.ql-editor ul[data-checked='true'] > li::before {
    content: '\\2611';
}
.ql-editor ul[data-checked='false'] > li::before {
    content: '\\2610';
}
.ql-editor li::before {
    display: inline-block;
    white-space: nowrap;
    width: 1.2rem;
}
.ql-editor li:not(.ql-direction-rtl)::before {
    margin-left: -1.5rem;
    margin-right: 0.3rem;
    text-align: right;
}
.ql-editor li.ql-direction-rtl::before {
    margin-left: 0.3rem;
    margin-right: -1.5rem;
}
.ql-editor ol li:not(.ql-direction-rtl),
.ql-editor ul li:not(.ql-direction-rtl) {
    padding-left: 1.5rem;
}
.ql-editor ol li.ql-direction-rtl,
.ql-editor ul li.ql-direction-rtl {
    padding-right: 1.5rem;
}
.ql-editor ol li {
    counter-reset: list-1 list-2 list-3 list-4 list-5 list-6 list-7 list-8 list-9;
    counter-increment: list-0;
}
.ql-editor ol li:before {
    content: counter(list-0, decimal) '. ';
}
.ql-editor ol li.ql-indent-1 {
    counter-increment: list-1;
}
.ql-editor ol li.ql-indent-1:before {
    content: counter(list-1, lower-alpha) '. ';
}
.ql-editor ol li.ql-indent-1 {
    counter-reset: list-2 list-3 list-4 list-5 list-6 list-7 list-8 list-9;
}
.ql-editor ol li.ql-indent-2 {
    counter-increment: list-2;
}
.ql-editor ol li.ql-indent-2:before {
    content: counter(list-2, lower-roman) '. ';
}
.ql-editor ol li.ql-indent-2 {
    counter-reset: list-3 list-4 list-5 list-6 list-7 list-8 list-9;
}
.ql-editor ol li.ql-indent-3 {
    counter-increment: list-3;
}
.ql-editor ol li.ql-indent-3:before {
    content: counter(list-3, decimal) '. ';
}
.ql-editor ol li.ql-indent-3 {
    counter-reset: list-4 list-5 list-6 list-7 list-8 list-9;
}
.ql-editor ol li.ql-indent-4 {
    counter-increment: list-4;
}
.ql-editor ol li.ql-indent-4:before {
    content: counter(list-4, lower-alpha) '. ';
}
.ql-editor ol li.ql-indent-4 {
    counter-reset: list-5 list-6 list-7 list-8 list-9;
}
.ql-editor ol li.ql-indent-5 {
    counter-increment: list-5;
}
.ql-editor ol li.ql-indent-5:before {
    content: counter(list-5, lower-roman) '. ';
}
.ql-editor ol li.ql-indent-5 {
    counter-reset: list-6 list-7 list-8 list-9;
}
.ql-editor ol li.ql-indent-6 {
    counter-increment: list-6;
}
.ql-editor ol li.ql-indent-6:before {
    content: counter(list-6, decimal) '. ';
}
.ql-editor ol li.ql-indent-6 {
    counter-reset: list-7 list-8 list-9;
}
.ql-editor ol li.ql-indent-7 {
    counter-increment: list-7;
}
.ql-editor ol li.ql-indent-7:before {
    content: counter(list-7, lower-alpha) '. ';
}
.ql-editor ol li.ql-indent-7 {
    counter-reset: list-8 list-9;
}
.ql-editor ol li.ql-indent-8 {
    counter-increment: list-8;
}
.ql-editor ol li.ql-indent-8:before {
    content: counter(list-8, lower-roman) '. ';
}
.ql-editor ol li.ql-indent-8 {
    counter-reset: list-9;
}
.ql-editor ol li.ql-indent-9 {
    counter-increment: list-9;
}
.ql-editor ol li.ql-indent-9:before {
    content: counter(list-9, decimal) '. ';
}
.ql-editor .ql-indent-1:not(.ql-direction-rtl) {
    padding-left: 3rem;
}
.ql-editor li.ql-indent-1:not(.ql-direction-rtl) {
    padding-left: 4.5rem;
}
.ql-editor .ql-indent-1.ql-direction-rtl.ql-align-right {
    padding-right: 3rem;
}
.ql-editor li.ql-indent-1.ql-direction-rtl.ql-align-right {
    padding-right: 4.5rem;
}
.ql-editor .ql-indent-2:not(.ql-direction-rtl) {
    padding-left: 6rem;
}
.ql-editor li.ql-indent-2:not(.ql-direction-rtl) {
    padding-left: 7.5rem;
}
.ql-editor .ql-indent-2.ql-direction-rtl.ql-align-right {
    padding-right: 6rem;
}
.ql-editor li.ql-indent-2.ql-direction-rtl.ql-align-right {
    padding-right: 7.5rem;
}
.ql-editor .ql-indent-3:not(.ql-direction-rtl) {
    padding-left: 9rem;
}
.ql-editor li.ql-indent-3:not(.ql-direction-rtl) {
    padding-left: 10.5rem;
}
.ql-editor .ql-indent-3.ql-direction-rtl.ql-align-right {
    padding-right: 9rem;
}
.ql-editor li.ql-indent-3.ql-direction-rtl.ql-align-right {
    padding-right: 10.5rem;
}
.ql-editor .ql-indent-4:not(.ql-direction-rtl) {
    padding-left: 12rem;
}
.ql-editor li.ql-indent-4:not(.ql-direction-rtl) {
    padding-left: 13.5rem;
}
.ql-editor .ql-indent-4.ql-direction-rtl.ql-align-right {
    padding-right: 12rem;
}
.ql-editor li.ql-indent-4.ql-direction-rtl.ql-align-right {
    padding-right: 13.5rem;
}
.ql-editor .ql-indent-5:not(.ql-direction-rtl) {
    padding-left: 15rem;
}
.ql-editor li.ql-indent-5:not(.ql-direction-rtl) {
    padding-left: 16.5rem;
}
.ql-editor .ql-indent-5.ql-direction-rtl.ql-align-right {
    padding-right: 15rem;
}
.ql-editor li.ql-indent-5.ql-direction-rtl.ql-align-right {
    padding-right: 16.5rem;
}
.ql-editor .ql-indent-6:not(.ql-direction-rtl) {
    padding-left: 18rem;
}
.ql-editor li.ql-indent-6:not(.ql-direction-rtl) {
    padding-left: 19.5rem;
}
.ql-editor .ql-indent-6.ql-direction-rtl.ql-align-right {
    padding-right: 18rem;
}
.ql-editor li.ql-indent-6.ql-direction-rtl.ql-align-right {
    padding-right: 19.5rem;
}
.ql-editor .ql-indent-7:not(.ql-direction-rtl) {
    padding-left: 21rem;
}
.ql-editor li.ql-indent-7:not(.ql-direction-rtl) {
    padding-left: 22.5rem;
}
.ql-editor .ql-indent-7.ql-direction-rtl.ql-align-right {
    padding-right: 21rem;
}
.ql-editor li.ql-indent-7.ql-direction-rtl.ql-align-right {
    padding-right: 22.5rem;
}
.ql-editor .ql-indent-8:not(.ql-direction-rtl) {
    padding-left: 24rem;
}
.ql-editor li.ql-indent-8:not(.ql-direction-rtl) {
    padding-left: 25.5rem;
}
.ql-editor .ql-indent-8.ql-direction-rtl.ql-align-right {
    padding-right: 24rem;
}
.ql-editor li.ql-indent-8.ql-direction-rtl.ql-align-right {
    padding-right: 25.5rem;
}
.ql-editor .ql-indent-9:not(.ql-direction-rtl) {
    padding-left: 27rem;
}
.ql-editor li.ql-indent-9:not(.ql-direction-rtl) {
    padding-left: 28.5rem;
}
.ql-editor .ql-indent-9.ql-direction-rtl.ql-align-right {
    padding-right: 27rem;
}
.ql-editor li.ql-indent-9.ql-direction-rtl.ql-align-right {
    padding-right: 28.5rem;
}
.ql-editor .ql-video {
    display: block;
    max-width: 100%;
}
.ql-editor .ql-video.ql-align-center {
    margin: 0 auto;
}
.ql-editor .ql-video.ql-align-right {
    margin: 0 0 0 auto;
}
.ql-editor .ql-bg-black {
    background-color: #000;
}
.ql-editor .ql-bg-red {
    background-color: #e60000;
}
.ql-editor .ql-bg-orange {
    background-color: #f90;
}
.ql-editor .ql-bg-yellow {
    background-color: #ff0;
}
.ql-editor .ql-bg-green {
    background-color: #008a00;
}
.ql-editor .ql-bg-blue {
    background-color: #06c;
}
.ql-editor .ql-bg-purple {
    background-color: #93f;
}
.ql-editor .ql-color-white {
    color: #fff;
}
.ql-editor .ql-color-red {
    color: #e60000;
}
.ql-editor .ql-color-orange {
    color: #f90;
}
.ql-editor .ql-color-yellow {
    color: #ff0;
}
.ql-editor .ql-color-green {
    color: #008a00;
}
.ql-editor .ql-color-blue {
    color: #06c;
}
.ql-editor .ql-color-purple {
    color: #93f;
}
.ql-editor .ql-font-serif {
    font-family: Georgia, Times New Roman, serif;
}
.ql-editor .ql-font-monospace {
    font-family: Monaco, Courier New, monospace;
}
.ql-editor .ql-size-small {
    font-size: 0.75rem;
}
.ql-editor .ql-size-large {
    font-size: 1.5rem;
}
.ql-editor .ql-size-huge {
    font-size: 2.5rem;
}
.ql-editor .ql-direction-rtl {
    direction: rtl;
    text-align: inherit;
}
.ql-editor .ql-align-center {
    text-align: center;
}
.ql-editor .ql-align-justify {
    text-align: justify;
}
.ql-editor .ql-align-right {
    text-align: right;
}
.ql-editor.ql-blank::before {
    color: rgba(0, 0, 0, 0.6);
    content: attr(data-placeholder);
    font-style: italic;
    left: 15px;
    pointer-events: none;
    position: absolute;
    right: 15px;
}
.ql-snow.ql-toolbar:after,
.ql-snow .ql-toolbar:after {
    clear: both;
    content: '';
    display: table;
}
.ql-snow.ql-toolbar button,
.ql-snow .ql-toolbar button {
    background: none;
    border: none;
    cursor: pointer;
    display: inline-block;
    float: left;
    height: 24px;
    padding: 3px 5px;
    width: 28px;
}
.ql-snow.ql-toolbar button svg,
.ql-snow .ql-toolbar button svg {
    float: left;
    height: 100%;
}
.ql-snow.ql-toolbar button:active:hover,
.ql-snow .ql-toolbar button:active:hover {
    outline: none;
}
.ql-snow.ql-toolbar input.ql-image[type='file'],
.ql-snow .ql-toolbar input.ql-image[type='file'] {
    display: none;
}
.ql-snow.ql-toolbar button:hover,
.ql-snow .ql-toolbar button:hover,
.ql-snow.ql-toolbar button:focus,
.ql-snow .ql-toolbar button:focus,
.ql-snow.ql-toolbar button.ql-active,
.ql-snow .ql-toolbar button.ql-active,
.ql-snow.ql-toolbar .ql-picker-label:hover,
.ql-snow .ql-toolbar .ql-picker-label:hover,
.ql-snow.ql-toolbar .ql-picker-label.ql-active,
.ql-snow .ql-toolbar .ql-picker-label.ql-active,
.ql-snow.ql-toolbar .ql-picker-item:hover,
.ql-snow .ql-toolbar .ql-picker-item:hover,
.ql-snow.ql-toolbar .ql-picker-item.ql-selected,
.ql-snow .ql-toolbar .ql-picker-item.ql-selected {
    color: #06c;
}
.ql-snow.ql-toolbar button:hover .ql-fill,
.ql-snow .ql-toolbar button:hover .ql-fill,
.ql-snow.ql-toolbar button:focus .ql-fill,
.ql-snow .ql-toolbar button:focus .ql-fill,
.ql-snow.ql-toolbar button.ql-active .ql-fill,
.ql-snow .ql-toolbar button.ql-active .ql-fill,
.ql-snow.ql-toolbar .ql-picker-label:hover .ql-fill,
.ql-snow .ql-toolbar .ql-picker-label:hover .ql-fill,
.ql-snow.ql-toolbar .ql-picker-label.ql-active .ql-fill,
.ql-snow .ql-toolbar .ql-picker-label.ql-active .ql-fill,
.ql-snow.ql-toolbar .ql-picker-item:hover .ql-fill,
.ql-snow .ql-toolbar .ql-picker-item:hover .ql-fill,
.ql-snow.ql-toolbar .ql-picker-item.ql-selected .ql-fill,
.ql-snow .ql-toolbar .ql-picker-item.ql-selected .ql-fill,
.ql-snow.ql-toolbar button:hover .ql-stroke.ql-fill,
.ql-snow .ql-toolbar button:hover .ql-stroke.ql-fill,
.ql-snow.ql-toolbar button:focus .ql-stroke.ql-fill,
.ql-snow .ql-toolbar button:focus .ql-stroke.ql-fill,
.ql-snow.ql-toolbar button.ql-active .ql-stroke.ql-fill,
.ql-snow .ql-toolbar button.ql-active .ql-stroke.ql-fill,
.ql-snow.ql-toolbar .ql-picker-label:hover .ql-stroke.ql-fill,
.ql-snow .ql-toolbar .ql-picker-label:hover .ql-stroke.ql-fill,
.ql-snow.ql-toolbar .ql-picker-label.ql-active .ql-stroke.ql-fill,
.ql-snow .ql-toolbar .ql-picker-label.ql-active .ql-stroke.ql-fill,
.ql-snow.ql-toolbar .ql-picker-item:hover .ql-stroke.ql-fill,
.ql-snow .ql-toolbar .ql-picker-item:hover .ql-stroke.ql-fill,
.ql-snow.ql-toolbar .ql-picker-item.ql-selected .ql-stroke.ql-fill,
.ql-snow .ql-toolbar .ql-picker-item.ql-selected .ql-stroke.ql-fill {
    fill: #06c;
}
.ql-snow.ql-toolbar button:hover .ql-stroke,
.ql-snow .ql-toolbar button:hover .ql-stroke,
.ql-snow.ql-toolbar button:focus .ql-stroke,
.ql-snow .ql-toolbar button:focus .ql-stroke,
.ql-snow.ql-toolbar button.ql-active .ql-stroke,
.ql-snow .ql-toolbar button.ql-active .ql-stroke,
.ql-snow.ql-toolbar .ql-picker-label:hover .ql-stroke,
.ql-snow .ql-toolbar .ql-picker-label:hover .ql-stroke,
.ql-snow.ql-toolbar .ql-picker-label.ql-active .ql-stroke,
.ql-snow .ql-toolbar .ql-picker-label.ql-active .ql-stroke,
.ql-snow.ql-toolbar .ql-picker-item:hover .ql-stroke,
.ql-snow .ql-toolbar .ql-picker-item:hover .ql-stroke,
.ql-snow.ql-toolbar .ql-picker-item.ql-selected .ql-stroke,
.ql-snow .ql-toolbar .ql-picker-item.ql-selected .ql-stroke,
.ql-snow.ql-toolbar button:hover .ql-stroke-miter,
.ql-snow .ql-toolbar button:hover .ql-stroke-miter,
.ql-snow.ql-toolbar button:focus .ql-stroke-miter,
.ql-snow .ql-toolbar button:focus .ql-stroke-miter,
.ql-snow.ql-toolbar button.ql-active .ql-stroke-miter,
.ql-snow .ql-toolbar button.ql-active .ql-stroke-miter,
.ql-snow.ql-toolbar .ql-picker-label:hover .ql-stroke-miter,
.ql-snow .ql-toolbar .ql-picker-label:hover .ql-stroke-miter,
.ql-snow.ql-toolbar .ql-picker-label.ql-active .ql-stroke-miter,
.ql-snow .ql-toolbar .ql-picker-label.ql-active .ql-stroke-miter,
.ql-snow.ql-toolbar .ql-picker-item:hover .ql-stroke-miter,
.ql-snow .ql-toolbar .ql-picker-item:hover .ql-stroke-miter,
.ql-snow.ql-toolbar .ql-picker-item.ql-selected .ql-stroke-miter,
.ql-snow .ql-toolbar .ql-picker-item.ql-selected .ql-stroke-miter {
    stroke: #06c;
}
@media (pointer: coarse) {
    .ql-snow.ql-toolbar button:hover:not(.ql-active),
    .ql-snow .ql-toolbar button:hover:not(.ql-active) {
        color: #444;
    }
    .ql-snow.ql-toolbar button:hover:not(.ql-active) .ql-fill,
    .ql-snow .ql-toolbar button:hover:not(.ql-active) .ql-fill,
    .ql-snow.ql-toolbar button:hover:not(.ql-active) .ql-stroke.ql-fill,
    .ql-snow .ql-toolbar button:hover:not(.ql-active) .ql-stroke.ql-fill {
        fill: #444;
    }
    .ql-snow.ql-toolbar button:hover:not(.ql-active) .ql-stroke,
    .ql-snow .ql-toolbar button:hover:not(.ql-active) .ql-stroke,
    .ql-snow.ql-toolbar button:hover:not(.ql-active) .ql-stroke-miter,
    .ql-snow .ql-toolbar button:hover:not(.ql-active) .ql-stroke-miter {
        stroke: #444;
    }
}
.ql-snow {
    box-sizing: border-box;
}
.ql-snow * {
    box-sizing: border-box;
}
.ql-snow .ql-hidden {
    display: none;
}
.ql-snow .ql-out-bottom,
.ql-snow .ql-out-top {
    visibility: hidden;
}
.ql-snow .ql-tooltip {
    position: absolute;
    transform: translateY(10px);
}
.ql-snow .ql-tooltip a {
    cursor: pointer;
    text-decoration: none;
}
.ql-snow .ql-tooltip.ql-flip {
    transform: translateY(-10px);
}
.ql-snow .ql-formats {
    display: inline-block;
    vertical-align: middle;
}
.ql-snow .ql-formats:after {
    clear: both;
    content: '';
    display: table;
}
.ql-snow .ql-stroke {
    fill: none;
    stroke: #444;
    stroke-linecap: round;
    stroke-linejoin: round;
    stroke-width: 2;
}
.ql-snow .ql-stroke-miter {
    fill: none;
    stroke: #444;
    stroke-miterlimit: 10;
    stroke-width: 2;
}
.ql-snow .ql-fill,
.ql-snow .ql-stroke.ql-fill {
    fill: #444;
}
.ql-snow .ql-empty {
    fill: none;
}
.ql-snow .ql-even {
    fill-rule: evenodd;
}
.ql-snow .ql-thin,
.ql-snow .ql-stroke.ql-thin {
    stroke-width: 1;
}
.ql-snow .ql-transparent {
    opacity: 0.4;
}
.ql-snow .ql-direction svg:last-child {
    display: none;
}
.ql-snow .ql-direction.ql-active svg:last-child {
    display: inline;
}
.ql-snow .ql-direction.ql-active svg:first-child {
    display: none;
}
.ql-snow .ql-editor h1 {
    font-size: 2rem;
}
.ql-snow .ql-editor h2 {
    font-size: 1.5rem;
}
.ql-snow .ql-editor h3 {
    font-size: 1.17rem;
}
.ql-snow .ql-editor h4 {
    font-size: 1rem;
}
.ql-snow .ql-editor h5 {
    font-size: 0.83rem;
}
.ql-snow .ql-editor h6 {
    font-size: 0.67rem;
}
.ql-snow .ql-editor a {
    text-decoration: underline;
}
.ql-snow .ql-editor blockquote {
    border-left: 4px solid #ccc;
    margin-bottom: 5px;
    margin-top: 5px;
    padding-left: 16px;
}
.ql-snow .ql-editor code,
.ql-snow .ql-editor pre {
    background-color: #f0f0f0;
    border-radius: 3px;
}
.ql-snow .ql-editor pre {
    white-space: pre-wrap;
    margin-bottom: 5px;
    margin-top: 5px;
    padding: 5px 10px;
}
.ql-snow .ql-editor code {
    font-size: 85%;
    padding: 2px 4px;
}
.ql-snow .ql-editor pre.ql-syntax {
    background-color: #23241f;
    color: #f8f8f2;
    overflow: visible;
}
.ql-snow .ql-editor img {
    max-width: 100%;
}
.ql-snow .ql-picker {
    color: #444;
    display: inline-block;
    float: left;
    font-size: 14px;
    font-weight: 500;
    height: 24px;
    position: relative;
    vertical-align: middle;
}
.ql-snow .ql-picker-label {
    cursor: pointer;
    display: inline-block;
    height: 100%;
    padding-left: 8px;
    padding-right: 2px;
    position: relative;
    width: 100%;
}
.ql-snow .ql-picker-label::before {
    display: inline-block;
    line-height: 22px;
}
.ql-snow .ql-picker-options {
    background-color: #fff;
    display: none;
    min-width: 100%;
    padding: 4px 8px;
    position: absolute;
    white-space: nowrap;
}
.ql-snow .ql-picker-options .ql-picker-item {
    cursor: pointer;
    display: block;
    padding-bottom: 5px;
    padding-top: 5px;
}
.ql-snow .ql-picker.ql-expanded .ql-picker-label {
    color: #ccc;
    z-index: 2;
}
.ql-snow .ql-picker.ql-expanded .ql-picker-label .ql-fill {
    fill: #ccc;
}
.ql-snow .ql-picker.ql-expanded .ql-picker-label .ql-stroke {
    stroke: #ccc;
}
.ql-snow .ql-picker.ql-expanded .ql-picker-options {
    display: block;
    margin-top: -1px;
    top: 100%;
    z-index: 1;
}
.ql-snow .ql-color-picker,
.ql-snow .ql-icon-picker {
    width: 28px;
}
.ql-snow .ql-color-picker .ql-picker-label,
.ql-snow .ql-icon-picker .ql-picker-label {
    padding: 2px 4px;
}
.ql-snow .ql-color-picker .ql-picker-label svg,
.ql-snow .ql-icon-picker .ql-picker-label svg {
    right: 4px;
}
.ql-snow .ql-icon-picker .ql-picker-options {
    padding: 4px 0px;
}
.ql-snow .ql-icon-picker .ql-picker-item {
    height: 24px;
    width: 24px;
    padding: 2px 4px;
}
.ql-snow .ql-color-picker .ql-picker-options {
    padding: 3px 5px;
    width: 152px;
}
.ql-snow .ql-color-picker .ql-picker-item {
    border: 1px solid transparent;
    float: left;
    height: 16px;
    margin: 2px;
    padding: 0px;
    width: 16px;
}
.ql-snow .ql-picker:not(.ql-color-picker):not(.ql-icon-picker) svg {
    position: absolute;
    margin-top: -9px;
    right: 0;
    top: 50%;
    width: 18px;
}
.ql-snow .ql-picker.ql-header .ql-picker-label[data-label]:not([data-label=''])::before,
.ql-snow .ql-picker.ql-font .ql-picker-label[data-label]:not([data-label=''])::before,
.ql-snow .ql-picker.ql-size .ql-picker-label[data-label]:not([data-label=''])::before,
.ql-snow .ql-picker.ql-header .ql-picker-item[data-label]:not([data-label=''])::before,
.ql-snow .ql-picker.ql-font .ql-picker-item[data-label]:not([data-label=''])::before,
.ql-snow .ql-picker.ql-size .ql-picker-item[data-label]:not([data-label=''])::before {
    content: attr(data-label);
}
.ql-snow .ql-picker.ql-header {
    width: 98px;
}
.ql-snow .ql-picker.ql-header .ql-picker-label::before,
.ql-snow .ql-picker.ql-header .ql-picker-item::before {
    content: 'Normal';
}
.ql-snow .ql-picker.ql-header .ql-picker-label[data-value='1']::before,
.ql-snow .ql-picker.ql-header .ql-picker-item[data-value='1']::before {
    content: 'Heading 1';
}
.ql-snow .ql-picker.ql-header .ql-picker-label[data-value='2']::before,
.ql-snow .ql-picker.ql-header .ql-picker-item[data-value='2']::before {
    content: 'Heading 2';
}
.ql-snow .ql-picker.ql-header .ql-picker-label[data-value='3']::before,
.ql-snow .ql-picker.ql-header .ql-picker-item[data-value='3']::before {
    content: 'Heading 3';
}
.ql-snow .ql-picker.ql-header .ql-picker-label[data-value='4']::before,
.ql-snow .ql-picker.ql-header .ql-picker-item[data-value='4']::before {
    content: 'Heading 4';
}
.ql-snow .ql-picker.ql-header .ql-picker-label[data-value='5']::before,
.ql-snow .ql-picker.ql-header .ql-picker-item[data-value='5']::before {
    content: 'Heading 5';
}
.ql-snow .ql-picker.ql-header .ql-picker-label[data-value='6']::before,
.ql-snow .ql-picker.ql-header .ql-picker-item[data-value='6']::before {
    content: 'Heading 6';
}
.ql-snow .ql-picker.ql-header .ql-picker-item[data-value='1']::before {
    font-size: 2rem;
}
.ql-snow .ql-picker.ql-header .ql-picker-item[data-value='2']::before {
    font-size: 1.5rem;
}
.ql-snow .ql-picker.ql-header .ql-picker-item[data-value='3']::before {
    font-size: 1.17rem;
}
.ql-snow .ql-picker.ql-header .ql-picker-item[data-value='4']::before {
    font-size: 1rem;
}
.ql-snow .ql-picker.ql-header .ql-picker-item[data-value='5']::before {
    font-size: 0.83rem;
}
.ql-snow .ql-picker.ql-header .ql-picker-item[data-value='6']::before {
    font-size: 0.67rem;
}
.ql-snow .ql-picker.ql-font {
    width: 108px;
}
.ql-snow .ql-picker.ql-font .ql-picker-label::before,
.ql-snow .ql-picker.ql-font .ql-picker-item::before {
    content: 'Sans Serif';
}
.ql-snow .ql-picker.ql-font .ql-picker-label[data-value='serif']::before,
.ql-snow .ql-picker.ql-font .ql-picker-item[data-value='serif']::before {
    content: 'Serif';
}
.ql-snow .ql-picker.ql-font .ql-picker-label[data-value='monospace']::before,
.ql-snow .ql-picker.ql-font .ql-picker-item[data-value='monospace']::before {
    content: 'Monospace';
}
.ql-snow .ql-picker.ql-font .ql-picker-item[data-value='serif']::before {
    font-family: Georgia, Times New Roman, serif;
}
.ql-snow .ql-picker.ql-font .ql-picker-item[data-value='monospace']::before {
    font-family: Monaco, Courier New, monospace;
}
.ql-snow .ql-picker.ql-size {
    width: 98px;
}
.ql-snow .ql-picker.ql-size .ql-picker-label::before,
.ql-snow .ql-picker.ql-size .ql-picker-item::before {
    content: 'Normal';
}
.ql-snow .ql-picker.ql-size .ql-picker-label[data-value='small']::before,
.ql-snow .ql-picker.ql-size .ql-picker-item[data-value='small']::before {
    content: 'Small';
}
.ql-snow .ql-picker.ql-size .ql-picker-label[data-value='large']::before,
.ql-snow .ql-picker.ql-size .ql-picker-item[data-value='large']::before {
    content: 'Large';
}
.ql-snow .ql-picker.ql-size .ql-picker-label[data-value='huge']::before,
.ql-snow .ql-picker.ql-size .ql-picker-item[data-value='huge']::before {
    content: 'Huge';
}
.ql-snow .ql-picker.ql-size .ql-picker-item[data-value='small']::before {
    font-size: 10px;
}
.ql-snow .ql-picker.ql-size .ql-picker-item[data-value='large']::before {
    font-size: 18px;
}
.ql-snow .ql-picker.ql-size .ql-picker-item[data-value='huge']::before {
    font-size: 32px;
}
.ql-snow .ql-color-picker.ql-background .ql-picker-item {
    background-color: #fff;
}
.ql-snow .ql-color-picker.ql-color .ql-picker-item {
    background-color: #000;
}
.ql-toolbar.ql-snow {
    border: 1px solid #ccc;
    box-sizing: border-box;
    font-family: 'Helvetica Neue', 'Helvetica', 'Arial', sans-serif;
    padding: 8px;
}
.ql-toolbar.ql-snow .ql-formats {
    margin-right: 15px;
}
.ql-toolbar.ql-snow .ql-picker-label {
    border: 1px solid transparent;
}
.ql-toolbar.ql-snow .ql-picker-options {
    border: 1px solid transparent;
    box-shadow: rgba(0, 0, 0, 0.2) 0 2px 8px;
}
.ql-toolbar.ql-snow .ql-picker.ql-expanded .ql-picker-label {
    border-color: #ccc;
}
.ql-toolbar.ql-snow .ql-picker.ql-expanded .ql-picker-options {
    border-color: #ccc;
}
.ql-toolbar.ql-snow .ql-color-picker .ql-picker-item.ql-selected,
.ql-toolbar.ql-snow .ql-color-picker .ql-picker-item:hover {
    border-color: #000;
}
.ql-toolbar.ql-snow + .ql-container.ql-snow {
    border-top: 0px;
}
.ql-snow .ql-tooltip {
    background-color: #fff;
    border: 1px solid #ccc;
    box-shadow: 0px 0px 5px #ddd;
    color: #444;
    padding: 5px 12px;
    white-space: nowrap;
}
.ql-snow .ql-tooltip::before {
    content: 'Visit URL:';
    line-height: 26px;
    margin-right: 8px;
}
.ql-snow .ql-tooltip input[type='text'] {
    display: none;
    border: 1px solid #ccc;
    font-size: 13px;
    height: 26px;
    margin: 0px;
    padding: 3px 5px;
    width: 170px;
}
.ql-snow .ql-tooltip a.ql-preview {
    display: inline-block;
    max-width: 200px;
    overflow-x: hidden;
    text-overflow: ellipsis;
    vertical-align: top;
}
.ql-snow .ql-tooltip a.ql-action::after {
    border-right: 1px solid #ccc;
    content: 'Edit';
    margin-left: 16px;
    padding-right: 8px;
}
.ql-snow .ql-tooltip a.ql-remove::before {
    content: 'Remove';
    margin-left: 8px;
}
.ql-snow .ql-tooltip a {
    line-height: 26px;
}
.ql-snow .ql-tooltip.ql-editing a.ql-preview,
.ql-snow .ql-tooltip.ql-editing a.ql-remove {
    display: none;
}
.ql-snow .ql-tooltip.ql-editing input[type='text'] {
    display: inline-block;
}
.ql-snow .ql-tooltip.ql-editing a.ql-action::after {
    border-right: 0px;
    content: 'Save';
    padding-right: 0px;
}
.ql-snow .ql-tooltip[data-mode='link']::before {
    content: 'Enter link:';
}
.ql-snow .ql-tooltip[data-mode='formula']::before {
    content: 'Enter formula:';
}
.ql-snow .ql-tooltip[data-mode='video']::before {
    content: 'Enter video:';
}
.ql-snow a {
    color: #06c;
}
.ql-container.ql-snow {
    border: 1px solid #ccc;
}
`,Ine={root:"p-editor-container",toolbar:"p-editor-toolbar",content:"p-editor-content"},QA=fr.extend({name:"editor",css:Sne,classes:Ine}),Cne={name:"BaseEditor",extends:oi,props:{modelValue:String,placeholder:String,readonly:Boolean,formats:Array,editorStyle:null,modules:null},style:QA,provide:function(){return{$parentInstance:this}},beforeMount:function(){var e;QA.loadStyle({nonce:(e=this.$primevue)===null||e===void 0||(e=e.config)===null||e===void 0||(e=e.csp)===null||e===void 0?void 0:e.nonce})}};function Hh(t){"@babel/helpers - typeof";return Hh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hh(t)}function JA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ane(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?JA(Object(n),!0).forEach(function(r){Pne(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):JA(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Pne(t,e,n){return e=One(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function One(t){var e=kne(t,"string");return Hh(e)=="symbol"?e:String(e)}function kne(t,e){if(Hh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Hh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ZA=function(){try{return window.Quill}catch{return null}}(),zM={name:"Editor",extends:Cne,inheritAttrs:!1,emits:["update:modelValue","text-change","selection-change","load"],data:function(){return{reRenderColorKey:0}},quill:null,watch:{modelValue:function(e,n){e!==n&&this.quill&&!this.quill.hasFocus()&&(this.reRenderColorKey++,this.renderValue(e))},readonly:function(){this.handleReadOnlyChange()}},mounted:function(){var e=this,n={modules:Ane({toolbar:this.$refs.toolbarElement},this.modules),readOnly:this.readonly,theme:"snow",formats:this.formats,placeholder:this.placeholder};ZA?(this.quill=new ZA(this.$refs.editorElement,n),this.initQuill(),this.handleLoad()):Ene(()=>import("./assets/quill-TCVaegbI.js"),__vite__mapDeps([]),import.meta.url).then(function(r){r&&ze.isExist(e.$refs.editorElement)&&(r.default?e.quill=new r.default(e.$refs.editorElement,n):e.quill=new r(e.$refs.editorElement,n),e.initQuill())}).then(function(){e.handleLoad()})},beforeUnmount:function(){this.quill=null},methods:{renderValue:function(e){this.quill&&(e?this.quill.setContents(this.quill.clipboard.convert(e)):this.quill.setText(""))},initQuill:function(){var e=this;this.renderValue(this.modelValue),this.quill.on("text-change",function(n,r,i){if(i==="user"){var s=e.$refs.editorElement.children[0].innerHTML,o=e.quill.getText().trim();s==="<p><br></p>"&&(s=""),e.$emit("update:modelValue",s),e.$emit("text-change",{htmlValue:s,textValue:o,delta:n,source:i,instance:e.quill})}}),this.quill.on("selection-change",function(n,r,i){var s=e.$refs.editorElement.children[0].innerHTML,o=e.quill.getText().trim();e.$emit("selection-change",{htmlValue:s,textValue:o,range:n,oldRange:r,source:i,instance:e.quill})})},handleLoad:function(){this.quill&&this.quill.getModule("toolbar")&&this.$emit("load",{instance:this.quill})},handleReadOnlyChange:function(){this.quill&&this.quill.enable(!this.readonly)}}};function Rne(t,e,n,r,i,s){return N(),W("div",le({class:t.cx("root")},t.ptmi("root")),[v("div",le({ref:"toolbarElement",class:t.cx("toolbar")},t.ptm("toolbar")),[Te(t.$slots,"toolbar",{},function(){return[v("span",le({class:"ql-formats"},t.ptm("formats")),[v("select",le({class:"ql-header",defaultValue:"0"},t.ptm("header")),[v("option",le({value:"1"},t.ptm("option")),"Heading",16),v("option",le({value:"2"},t.ptm("option")),"Subheading",16),v("option",le({value:"0"},t.ptm("option")),"Normal",16)],16),v("select",le({class:"ql-font"},t.ptm("font")),[v("option",Ln(cr(t.ptm("option"))),null,16),v("option",le({value:"serif"},t.ptm("option")),null,16),v("option",le({value:"monospace"},t.ptm("option")),null,16)],16)],16),v("span",le({class:"ql-formats"},t.ptm("formats")),[v("button",le({class:"ql-bold",type:"button"},t.ptm("bold")),null,16),v("button",le({class:"ql-italic",type:"button"},t.ptm("italic")),null,16),v("button",le({class:"ql-underline",type:"button"},t.ptm("underline")),null,16)],16),(N(),W("span",le({key:i.reRenderColorKey,class:"ql-formats"},t.ptm("formats")),[v("select",le({class:"ql-color"},t.ptm("color")),null,16),v("select",le({class:"ql-background"},t.ptm("background")),null,16)],16)),v("span",le({class:"ql-formats"},t.ptm("formats")),[v("button",le({class:"ql-list",value:"ordered",type:"button"},t.ptm("list")),null,16),v("button",le({class:"ql-list",value:"bullet",type:"button"},t.ptm("list")),null,16),v("select",le({class:"ql-align"},t.ptm("select")),[v("option",le({defaultValue:""},t.ptm("option")),null,16),v("option",le({value:"center"},t.ptm("option")),null,16),v("option",le({value:"right"},t.ptm("option")),null,16),v("option",le({value:"justify"},t.ptm("option")),null,16)],16)],16),v("span",le({class:"ql-formats"},t.ptm("formats")),[v("button",le({class:"ql-link",type:"button"},t.ptm("link")),null,16),v("button",le({class:"ql-image",type:"button"},t.ptm("image")),null,16),v("button",le({class:"ql-code-block",type:"button"},t.ptm("codeBlock")),null,16)],16),v("span",le({class:"ql-formats"},t.ptm("formats")),[v("button",le({class:"ql-clean",type:"button"},t.ptm("clean")),null,16)],16)]})],16),v("div",le({ref:"editorElement",class:t.cx("content"),style:t.editorStyle},t.ptm("content")),null,16)],16)}zM.render=Rne;const xne={class:"m-4"},Dne=["for"],Q0=xe({__name:"RichTextEditor",props:{id:{},name:{},label:{},placeholder:{},modelValue:{},error:{},rules:{},editorProps:{},labelProps:{},minLength:{},maxLength:{}},emits:["update:modelValue","update:error","click"],setup(t,{expose:e,emit:n}){const r=t,i=ee({get:()=>r.modelValue||"",set:c=>{u("update:modelValue",c),l(c)}}),s=ee(()=>r.label?r.label+((r.rules??[]).some(c=>c.type===wv.Required)?" *":""):void 0),o=ee(()=>r.name+(r.id?"."+r.id:"")),a=({instance:c})=>{c.setContents(c.clipboard.convert({html:i.value}))},l=async c=>{const d=c||i.value,h=r.rules||[];typeof r.minLength=="number"&&h.push(Dt.MinLength),typeof r.maxLength=="number"&&h.push(Dt.MaxLength);const p={value:d,minLength:r.minLength,maxLength:r.maxLength},m=h.filter(g=>!g.test(p)).map(g=>{var y;return((y=g.compareError)==null?void 0:y.call(g,p))||g.error(p)})||[];u("update:error",m[0]||"")},u=n;return e({test:l}),(c,d)=>(N(),W("div",xne,[c.label?(N(),W("label",le({key:0,class:"block text-sm font-bold mb-2",for:o.value},c.labelProps),Fe(s.value),17,Dne)):Z("",!0),B(A(zM),le({id:o.value,placeholder:c.placeholder,modelValue:i.value,"onUpdate:modelValue":d[0]||(d[0]=h=>i.value=h),onLoad:a},c.editorProps),null,16,["id","placeholder","modelValue"]),c.error?(N(),ce(_v,{key:1,name:c.name,error:c.error},null,8,["name","error"])):Z("",!0)]))}}),Nne={class:"m-4"},Mne=["for"],zr=xe({__name:"SelectField",props:{id:{},name:{},label:{},modelValue:{},placeholder:{},error:{},rules:{},options:{},multiple:{type:Boolean}},emits:["update:modelValue","update:arrayValue","update:error"],setup(t,{expose:e,emit:n}){const r=t,i=n,s=ee(()=>(r.rules??[]).some(p=>p.type===wv.Required)),o=ee({get:()=>{if(r.multiple){const p=Array.isArray(r.modelValue)?r.modelValue:[];return p.length?p:s.value?r.options.length?[r.options[0].value]:[]:[]}else{const p=typeof r.modelValue=="string"||typeof r.modelValue=="number"?r.modelValue:"";return p||(r.options.length?r.options[0].value:"")}},set:p=>{i("update:modelValue",Xa(p)[0]),i("update:arrayValue",Xa(p))}}),a=ee(()=>r.label+(s.value?" *":"")),l=ee(()=>r.name+(r.id?"."+r.id:"")),u=ee(()=>r.options.find(({value:p})=>p===o.value)),c=ee(()=>{var p,m,g;return[((p=u.value)==null?void 0:p.background)??"bg-transparent",(m=u.value)!=null&&m.background?"bg-opacity-90":"bg-opacity-40",((g=u.value)==null?void 0:g.text)??"text-black"]}),d=ee(()=>Xa(o.value).map(p=>{var m;return(m=r.options.find(g=>g.value===p))==null?void 0:m.label}).join(", "));return $t(()=>{s.value&&(i("update:modelValue",Xa(o.value)[0]),i("update:arrayValue",Xa(o.value)))}),e({test:async()=>{const p=r.rules||[];let m="";for(const g of Xa(o.value)){const y={value:g.toString()},P=p.filter(I=>!I.test(y)).map(I=>I.error(y))||[];if(P[0]){m=P[0];break}}i("update:error",m)}}),(p,m)=>(N(),W("div",Nne,[v("label",{class:"block text-sm font-bold mb-2",for:l.value},Fe(a.value),9,Mne),v("div",null,[(N(),ce(Nn(p.multiple?"PrimeMultiSelect":"PrimeDropdown"),{inputId:l.value,modelValue:o.value,"onUpdate:modelValue":m[0]||(m[0]=g=>o.value=g),placeholder:p.placeholder??"No option selected",class:"w-full p-input p-0",multiple:p.multiple,options:p.options,optionValue:"value",pt:{trigger:{class:c.value}}},{value:J(({placeholder:g})=>{var y;return[v("span",{class:$e(["block w-full p-2",...c.value])},Fe((p.multiple?d.value:(y=u.value)==null?void 0:y.label)||g),3)]}),option:J(({option:g})=>[v("span",{class:$e(["w-full p-2",g.background,g.background?"bg-opacity-90":"bg-opacity-40",g.text])},Fe(g.label),3)]),_:1},8,["inputId","modelValue","placeholder","multiple","options","pt"]))]),p.error?(N(),ce(_v,{key:0,name:p.name,error:p.error},null,8,["name","error"])):Z("",!0)]))}});var Lne=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Vne(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function KM(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var GM={exports:{}};const $ne=KM($4);/**!
 * Sortable 1.14.0
 * @author	RubaXa   <trash@rubaxa.org>
 * @author	owenm    <owen23355@gmail.com>
 * @license MIT
 */function eP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ks(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?eP(Object(n),!0).forEach(function(r){Fne(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):eP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function em(t){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?em=function(e){return typeof e}:em=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},em(t)}function Fne(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Zi(){return Zi=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Zi.apply(this,arguments)}function Une(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function qne(t,e){if(t==null)return{};var n=Une(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Bne(t){return jne(t)||Hne(t)||Wne(t)||zne()}function jne(t){if(Array.isArray(t))return J0(t)}function Hne(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Wne(t,e){if(t){if(typeof t=="string")return J0(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return J0(t,e)}}function J0(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function zne(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Kne="1.14.0";function To(t){if(typeof window<"u"&&window.navigator)return!!navigator.userAgent.match(t)}var xo=To(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),Rf=To(/Edge/i),tP=To(/firefox/i),th=To(/safari/i)&&!To(/chrome/i)&&!To(/android/i),YM=To(/iP(ad|od|hone)/i),Gne=To(/chrome/i)&&To(/android/i),XM={capture:!1,passive:!1};function Rt(t,e,n){t.addEventListener(e,n,!xo&&XM)}function Ot(t,e,n){t.removeEventListener(e,n,!xo&&XM)}function sg(t,e){if(e){if(e[0]===">"&&(e=e.substring(1)),t)try{if(t.matches)return t.matches(e);if(t.msMatchesSelector)return t.msMatchesSelector(e);if(t.webkitMatchesSelector)return t.webkitMatchesSelector(e)}catch{return!1}return!1}}function Yne(t){return t.host&&t!==document&&t.host.nodeType?t.host:t.parentNode}function us(t,e,n,r){if(t){n=n||document;do{if(e!=null&&(e[0]===">"?t.parentNode===n&&sg(t,e):sg(t,e))||r&&t===n)return t;if(t===n)break}while(t=Yne(t))}return null}var nP=/\s+/g;function Fn(t,e,n){if(t&&e)if(t.classList)t.classList[n?"add":"remove"](e);else{var r=(" "+t.className+" ").replace(nP," ").replace(" "+e+" "," ");t.className=(r+(n?" "+e:"")).replace(nP," ")}}function ot(t,e,n){var r=t&&t.style;if(r){if(n===void 0)return document.defaultView&&document.defaultView.getComputedStyle?n=document.defaultView.getComputedStyle(t,""):t.currentStyle&&(n=t.currentStyle),e===void 0?n:n[e];!(e in r)&&e.indexOf("webkit")===-1&&(e="-webkit-"+e),r[e]=n+(typeof n=="string"?"":"px")}}function gl(t,e){var n="";if(typeof t=="string")n=t;else do{var r=ot(t,"transform");r&&r!=="none"&&(n=r+" "+n)}while(!e&&(t=t.parentNode));var i=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return i&&new i(n)}function QM(t,e,n){if(t){var r=t.getElementsByTagName(e),i=0,s=r.length;if(n)for(;i<s;i++)n(r[i],i);return r}return[]}function Bs(){var t=document.scrollingElement;return t||document.documentElement}function Dn(t,e,n,r,i){if(!(!t.getBoundingClientRect&&t!==window)){var s,o,a,l,u,c,d;if(t!==window&&t.parentNode&&t!==Bs()?(s=t.getBoundingClientRect(),o=s.top,a=s.left,l=s.bottom,u=s.right,c=s.height,d=s.width):(o=0,a=0,l=window.innerHeight,u=window.innerWidth,c=window.innerHeight,d=window.innerWidth),(e||n)&&t!==window&&(i=i||t.parentNode,!xo))do if(i&&i.getBoundingClientRect&&(ot(i,"transform")!=="none"||n&&ot(i,"position")!=="static")){var h=i.getBoundingClientRect();o-=h.top+parseInt(ot(i,"border-top-width")),a-=h.left+parseInt(ot(i,"border-left-width")),l=o+s.height,u=a+s.width;break}while(i=i.parentNode);if(r&&t!==window){var p=gl(i||t),m=p&&p.a,g=p&&p.d;p&&(o/=g,a/=m,d/=m,c/=g,l=o+c,u=a+d)}return{top:o,left:a,bottom:l,right:u,width:d,height:c}}}function rP(t,e,n){for(var r=aa(t,!0),i=Dn(t)[e];r;){var s=Dn(r)[n],o=void 0;if(n==="top"||n==="left"?o=i>=s:o=i<=s,!o)return r;if(r===Bs())break;r=aa(r,!1)}return!1}function _c(t,e,n,r){for(var i=0,s=0,o=t.children;s<o.length;){if(o[s].style.display!=="none"&&o[s]!==gt.ghost&&(r||o[s]!==gt.dragged)&&us(o[s],n.draggable,t,!1)){if(i===e)return o[s];i++}s++}return null}function z1(t,e){for(var n=t.lastElementChild;n&&(n===gt.ghost||ot(n,"display")==="none"||e&&!sg(n,e));)n=n.previousElementSibling;return n||null}function Yn(t,e){var n=0;if(!t||!t.parentNode)return-1;for(;t=t.previousElementSibling;)t.nodeName.toUpperCase()!=="TEMPLATE"&&t!==gt.clone&&(!e||sg(t,e))&&n++;return n}function iP(t){var e=0,n=0,r=Bs();if(t)do{var i=gl(t),s=i.a,o=i.d;e+=t.scrollLeft*s,n+=t.scrollTop*o}while(t!==r&&(t=t.parentNode));return[e,n]}function Xne(t,e){for(var n in t)if(t.hasOwnProperty(n)){for(var r in e)if(e.hasOwnProperty(r)&&e[r]===t[n][r])return Number(n)}return-1}function aa(t,e){if(!t||!t.getBoundingClientRect)return Bs();var n=t,r=!1;do if(n.clientWidth<n.scrollWidth||n.clientHeight<n.scrollHeight){var i=ot(n);if(n.clientWidth<n.scrollWidth&&(i.overflowX=="auto"||i.overflowX=="scroll")||n.clientHeight<n.scrollHeight&&(i.overflowY=="auto"||i.overflowY=="scroll")){if(!n.getBoundingClientRect||n===document.body)return Bs();if(r||e)return n;r=!0}}while(n=n.parentNode);return Bs()}function Qne(t,e){if(t&&e)for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}function Ky(t,e){return Math.round(t.top)===Math.round(e.top)&&Math.round(t.left)===Math.round(e.left)&&Math.round(t.height)===Math.round(e.height)&&Math.round(t.width)===Math.round(e.width)}var nh;function JM(t,e){return function(){if(!nh){var n=arguments,r=this;n.length===1?t.call(r,n[0]):t.apply(r,n),nh=setTimeout(function(){nh=void 0},e)}}}function Jne(){clearTimeout(nh),nh=void 0}function ZM(t,e,n){t.scrollLeft+=e,t.scrollTop+=n}function K1(t){var e=window.Polymer,n=window.jQuery||window.Zepto;return e&&e.dom?e.dom(t).cloneNode(!0):n?n(t).clone(!0)[0]:t.cloneNode(!0)}function sP(t,e){ot(t,"position","absolute"),ot(t,"top",e.top),ot(t,"left",e.left),ot(t,"width",e.width),ot(t,"height",e.height)}function Gy(t){ot(t,"position",""),ot(t,"top",""),ot(t,"left",""),ot(t,"width",""),ot(t,"height","")}var Qr="Sortable"+new Date().getTime();function Zne(){var t=[],e;return{captureAnimationState:function(){if(t=[],!!this.options.animation){var r=[].slice.call(this.el.children);r.forEach(function(i){if(!(ot(i,"display")==="none"||i===gt.ghost)){t.push({target:i,rect:Dn(i)});var s=Ks({},t[t.length-1].rect);if(i.thisAnimationDuration){var o=gl(i,!0);o&&(s.top-=o.f,s.left-=o.e)}i.fromRect=s}})}},addAnimationState:function(r){t.push(r)},removeAnimationState:function(r){t.splice(Xne(t,{target:r}),1)},animateAll:function(r){var i=this;if(!this.options.animation){clearTimeout(e),typeof r=="function"&&r();return}var s=!1,o=0;t.forEach(function(a){var l=0,u=a.target,c=u.fromRect,d=Dn(u),h=u.prevFromRect,p=u.prevToRect,m=a.rect,g=gl(u,!0);g&&(d.top-=g.f,d.left-=g.e),u.toRect=d,u.thisAnimationDuration&&Ky(h,d)&&!Ky(c,d)&&(m.top-d.top)/(m.left-d.left)===(c.top-d.top)/(c.left-d.left)&&(l=tre(m,h,p,i.options)),Ky(d,c)||(u.prevFromRect=c,u.prevToRect=d,l||(l=i.options.animation),i.animate(u,m,d,l)),l&&(s=!0,o=Math.max(o,l),clearTimeout(u.animationResetTimer),u.animationResetTimer=setTimeout(function(){u.animationTime=0,u.prevFromRect=null,u.fromRect=null,u.prevToRect=null,u.thisAnimationDuration=null},l),u.thisAnimationDuration=l)}),clearTimeout(e),s?e=setTimeout(function(){typeof r=="function"&&r()},o):typeof r=="function"&&r(),t=[]},animate:function(r,i,s,o){if(o){ot(r,"transition",""),ot(r,"transform","");var a=gl(this.el),l=a&&a.a,u=a&&a.d,c=(i.left-s.left)/(l||1),d=(i.top-s.top)/(u||1);r.animatingX=!!c,r.animatingY=!!d,ot(r,"transform","translate3d("+c+"px,"+d+"px,0)"),this.forRepaintDummy=ere(r),ot(r,"transition","transform "+o+"ms"+(this.options.easing?" "+this.options.easing:"")),ot(r,"transform","translate3d(0,0,0)"),typeof r.animated=="number"&&clearTimeout(r.animated),r.animated=setTimeout(function(){ot(r,"transition",""),ot(r,"transform",""),r.animated=!1,r.animatingX=!1,r.animatingY=!1},o)}}}}function ere(t){return t.offsetWidth}function tre(t,e,n,r){return Math.sqrt(Math.pow(e.top-t.top,2)+Math.pow(e.left-t.left,2))/Math.sqrt(Math.pow(e.top-n.top,2)+Math.pow(e.left-n.left,2))*r.animation}var ou=[],Yy={initializeByDefault:!0},xf={mount:function(e){for(var n in Yy)Yy.hasOwnProperty(n)&&!(n in e)&&(e[n]=Yy[n]);ou.forEach(function(r){if(r.pluginName===e.pluginName)throw"Sortable: Cannot mount plugin ".concat(e.pluginName," more than once")}),ou.push(e)},pluginEvent:function(e,n,r){var i=this;this.eventCanceled=!1,r.cancel=function(){i.eventCanceled=!0};var s=e+"Global";ou.forEach(function(o){n[o.pluginName]&&(n[o.pluginName][s]&&n[o.pluginName][s](Ks({sortable:n},r)),n.options[o.pluginName]&&n[o.pluginName][e]&&n[o.pluginName][e](Ks({sortable:n},r)))})},initializePlugins:function(e,n,r,i){ou.forEach(function(a){var l=a.pluginName;if(!(!e.options[l]&&!a.initializeByDefault)){var u=new a(e,n,e.options);u.sortable=e,u.options=e.options,e[l]=u,Zi(r,u.defaults)}});for(var s in e.options)if(e.options.hasOwnProperty(s)){var o=this.modifyOption(e,s,e.options[s]);typeof o<"u"&&(e.options[s]=o)}},getEventProperties:function(e,n){var r={};return ou.forEach(function(i){typeof i.eventProperties=="function"&&Zi(r,i.eventProperties.call(n[i.pluginName],e))}),r},modifyOption:function(e,n,r){var i;return ou.forEach(function(s){e[s.pluginName]&&s.optionListeners&&typeof s.optionListeners[n]=="function"&&(i=s.optionListeners[n].call(e[s.pluginName],r))}),i}};function kd(t){var e=t.sortable,n=t.rootEl,r=t.name,i=t.targetEl,s=t.cloneEl,o=t.toEl,a=t.fromEl,l=t.oldIndex,u=t.newIndex,c=t.oldDraggableIndex,d=t.newDraggableIndex,h=t.originalEvent,p=t.putSortable,m=t.extraEventProperties;if(e=e||n&&n[Qr],!!e){var g,y=e.options,P="on"+r.charAt(0).toUpperCase()+r.substr(1);window.CustomEvent&&!xo&&!Rf?g=new CustomEvent(r,{bubbles:!0,cancelable:!0}):(g=document.createEvent("Event"),g.initEvent(r,!0,!0)),g.to=o||n,g.from=a||n,g.item=i||n,g.clone=s,g.oldIndex=l,g.newIndex=u,g.oldDraggableIndex=c,g.newDraggableIndex=d,g.originalEvent=h,g.pullMode=p?p.lastPutMode:void 0;var I=Ks(Ks({},m),xf.getEventProperties(r,e));for(var S in I)g[S]=I[S];n&&n.dispatchEvent(g),y[P]&&y[P].call(e,g)}}var nre=["evt"],gi=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=r.evt,s=qne(r,nre);xf.pluginEvent.bind(gt)(e,n,Ks({dragEl:je,parentEl:zn,ghostEl:St,rootEl:Rn,nextEl:Ja,lastDownEl:tm,cloneEl:Kn,cloneHidden:sa,dragStarted:Rd,putSortable:xr,activeSortable:gt.active,originalEvent:i,oldIndex:Pu,oldDraggableIndex:rh,newIndex:xi,newDraggableIndex:Jo,hideGhostForTarget:rL,unhideGhostForTarget:iL,cloneNowHidden:function(){sa=!0},cloneNowShown:function(){sa=!1},dispatchSortableEvent:function(a){di({sortable:n,name:a,originalEvent:i})}},s))};function di(t){kd(Ks({putSortable:xr,cloneEl:Kn,targetEl:je,rootEl:Rn,oldIndex:Pu,oldDraggableIndex:rh,newIndex:xi,newDraggableIndex:Jo},t))}var je,zn,St,Rn,Ja,tm,Kn,sa,Pu,xi,rh,Jo,Pp,xr,yu=!1,og=!1,ag=[],Ka,ss,Xy,Qy,oP,aP,Rd,au,ih,sh=!1,Op=!1,nm,jr,Jy=[],Z0=!1,lg=[],Pv=typeof document<"u",kp=YM,lP=Rf||xo?"cssFloat":"float",rre=Pv&&!Gne&&!YM&&"draggable"in document.createElement("div"),eL=function(){if(Pv){if(xo)return!1;var t=document.createElement("x");return t.style.cssText="pointer-events:auto",t.style.pointerEvents==="auto"}}(),tL=function(e,n){var r=ot(e),i=parseInt(r.width)-parseInt(r.paddingLeft)-parseInt(r.paddingRight)-parseInt(r.borderLeftWidth)-parseInt(r.borderRightWidth),s=_c(e,0,n),o=_c(e,1,n),a=s&&ot(s),l=o&&ot(o),u=a&&parseInt(a.marginLeft)+parseInt(a.marginRight)+Dn(s).width,c=l&&parseInt(l.marginLeft)+parseInt(l.marginRight)+Dn(o).width;if(r.display==="flex")return r.flexDirection==="column"||r.flexDirection==="column-reverse"?"vertical":"horizontal";if(r.display==="grid")return r.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(s&&a.float&&a.float!=="none"){var d=a.float==="left"?"left":"right";return o&&(l.clear==="both"||l.clear===d)?"vertical":"horizontal"}return s&&(a.display==="block"||a.display==="flex"||a.display==="table"||a.display==="grid"||u>=i&&r[lP]==="none"||o&&r[lP]==="none"&&u+c>i)?"vertical":"horizontal"},ire=function(e,n,r){var i=r?e.left:e.top,s=r?e.right:e.bottom,o=r?e.width:e.height,a=r?n.left:n.top,l=r?n.right:n.bottom,u=r?n.width:n.height;return i===a||s===l||i+o/2===a+u/2},sre=function(e,n){var r;return ag.some(function(i){var s=i[Qr].options.emptyInsertThreshold;if(!(!s||z1(i))){var o=Dn(i),a=e>=o.left-s&&e<=o.right+s,l=n>=o.top-s&&n<=o.bottom+s;if(a&&l)return r=i}}),r},nL=function(e){function n(s,o){return function(a,l,u,c){var d=a.options.group.name&&l.options.group.name&&a.options.group.name===l.options.group.name;if(s==null&&(o||d))return!0;if(s==null||s===!1)return!1;if(o&&s==="clone")return s;if(typeof s=="function")return n(s(a,l,u,c),o)(a,l,u,c);var h=(o?a:l).options.group.name;return s===!0||typeof s=="string"&&s===h||s.join&&s.indexOf(h)>-1}}var r={},i=e.group;(!i||em(i)!="object")&&(i={name:i}),r.name=i.name,r.checkPull=n(i.pull,!0),r.checkPut=n(i.put),r.revertClone=i.revertClone,e.group=r},rL=function(){!eL&&St&&ot(St,"display","none")},iL=function(){!eL&&St&&ot(St,"display","")};Pv&&document.addEventListener("click",function(t){if(og)return t.preventDefault(),t.stopPropagation&&t.stopPropagation(),t.stopImmediatePropagation&&t.stopImmediatePropagation(),og=!1,!1},!0);var Ga=function(e){if(je){e=e.touches?e.touches[0]:e;var n=sre(e.clientX,e.clientY);if(n){var r={};for(var i in e)e.hasOwnProperty(i)&&(r[i]=e[i]);r.target=r.rootEl=n,r.preventDefault=void 0,r.stopPropagation=void 0,n[Qr]._onDragOver(r)}}},ore=function(e){je&&je.parentNode[Qr]._isOutsideThisEl(e.target)};function gt(t,e){if(!(t&&t.nodeType&&t.nodeType===1))throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(t));this.el=t,this.options=e=Zi({},e),t[Qr]=this;var n={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(t.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return tL(t,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(o,a){o.setData("Text",a.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:gt.supportPointer!==!1&&"PointerEvent"in window&&!th,emptyInsertThreshold:5};xf.initializePlugins(this,t,n);for(var r in n)!(r in e)&&(e[r]=n[r]);nL(e);for(var i in this)i.charAt(0)==="_"&&typeof this[i]=="function"&&(this[i]=this[i].bind(this));this.nativeDraggable=e.forceFallback?!1:rre,this.nativeDraggable&&(this.options.touchStartThreshold=1),e.supportPointer?Rt(t,"pointerdown",this._onTapStart):(Rt(t,"mousedown",this._onTapStart),Rt(t,"touchstart",this._onTapStart)),this.nativeDraggable&&(Rt(t,"dragover",this),Rt(t,"dragenter",this)),ag.push(this.el),e.store&&e.store.get&&this.sort(e.store.get(this)||[]),Zi(this,Zne())}gt.prototype={constructor:gt,_isOutsideThisEl:function(e){!this.el.contains(e)&&e!==this.el&&(au=null)},_getDirection:function(e,n){return typeof this.options.direction=="function"?this.options.direction.call(this,e,n,je):this.options.direction},_onTapStart:function(e){if(e.cancelable){var n=this,r=this.el,i=this.options,s=i.preventOnFilter,o=e.type,a=e.touches&&e.touches[0]||e.pointerType&&e.pointerType==="touch"&&e,l=(a||e).target,u=e.target.shadowRoot&&(e.path&&e.path[0]||e.composedPath&&e.composedPath()[0])||l,c=i.filter;if(pre(r),!je&&!(/mousedown|pointerdown/.test(o)&&e.button!==0||i.disabled)&&!u.isContentEditable&&!(!this.nativeDraggable&&th&&l&&l.tagName.toUpperCase()==="SELECT")&&(l=us(l,i.draggable,r,!1),!(l&&l.animated)&&tm!==l)){if(Pu=Yn(l),rh=Yn(l,i.draggable),typeof c=="function"){if(c.call(this,e,l,this)){di({sortable:n,rootEl:u,name:"filter",targetEl:l,toEl:r,fromEl:r}),gi("filter",n,{evt:e}),s&&e.cancelable&&e.preventDefault();return}}else if(c&&(c=c.split(",").some(function(d){if(d=us(u,d.trim(),r,!1),d)return di({sortable:n,rootEl:d,name:"filter",targetEl:l,fromEl:r,toEl:r}),gi("filter",n,{evt:e}),!0}),c)){s&&e.cancelable&&e.preventDefault();return}i.handle&&!us(u,i.handle,r,!1)||this._prepareDragStart(e,a,l)}}},_prepareDragStart:function(e,n,r){var i=this,s=i.el,o=i.options,a=s.ownerDocument,l;if(r&&!je&&r.parentNode===s){var u=Dn(r);if(Rn=s,je=r,zn=je.parentNode,Ja=je.nextSibling,tm=r,Pp=o.group,gt.dragged=je,Ka={target:je,clientX:(n||e).clientX,clientY:(n||e).clientY},oP=Ka.clientX-u.left,aP=Ka.clientY-u.top,this._lastX=(n||e).clientX,this._lastY=(n||e).clientY,je.style["will-change"]="all",l=function(){if(gi("delayEnded",i,{evt:e}),gt.eventCanceled){i._onDrop();return}i._disableDelayedDragEvents(),!tP&&i.nativeDraggable&&(je.draggable=!0),i._triggerDragStart(e,n),di({sortable:i,name:"choose",originalEvent:e}),Fn(je,o.chosenClass,!0)},o.ignore.split(",").forEach(function(c){QM(je,c.trim(),Zy)}),Rt(a,"dragover",Ga),Rt(a,"mousemove",Ga),Rt(a,"touchmove",Ga),Rt(a,"mouseup",i._onDrop),Rt(a,"touchend",i._onDrop),Rt(a,"touchcancel",i._onDrop),tP&&this.nativeDraggable&&(this.options.touchStartThreshold=4,je.draggable=!0),gi("delayStart",this,{evt:e}),o.delay&&(!o.delayOnTouchOnly||n)&&(!this.nativeDraggable||!(Rf||xo))){if(gt.eventCanceled){this._onDrop();return}Rt(a,"mouseup",i._disableDelayedDrag),Rt(a,"touchend",i._disableDelayedDrag),Rt(a,"touchcancel",i._disableDelayedDrag),Rt(a,"mousemove",i._delayedDragTouchMoveHandler),Rt(a,"touchmove",i._delayedDragTouchMoveHandler),o.supportPointer&&Rt(a,"pointermove",i._delayedDragTouchMoveHandler),i._dragStartTimer=setTimeout(l,o.delay)}else l()}},_delayedDragTouchMoveHandler:function(e){var n=e.touches?e.touches[0]:e;Math.max(Math.abs(n.clientX-this._lastX),Math.abs(n.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){je&&Zy(je),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var e=this.el.ownerDocument;Ot(e,"mouseup",this._disableDelayedDrag),Ot(e,"touchend",this._disableDelayedDrag),Ot(e,"touchcancel",this._disableDelayedDrag),Ot(e,"mousemove",this._delayedDragTouchMoveHandler),Ot(e,"touchmove",this._delayedDragTouchMoveHandler),Ot(e,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(e,n){n=n||e.pointerType=="touch"&&e,!this.nativeDraggable||n?this.options.supportPointer?Rt(document,"pointermove",this._onTouchMove):n?Rt(document,"touchmove",this._onTouchMove):Rt(document,"mousemove",this._onTouchMove):(Rt(je,"dragend",this),Rt(Rn,"dragstart",this._onDragStart));try{document.selection?rm(function(){document.selection.empty()}):window.getSelection().removeAllRanges()}catch{}},_dragStarted:function(e,n){if(yu=!1,Rn&&je){gi("dragStarted",this,{evt:n}),this.nativeDraggable&&Rt(document,"dragover",ore);var r=this.options;!e&&Fn(je,r.dragClass,!1),Fn(je,r.ghostClass,!0),gt.active=this,e&&this._appendGhost(),di({sortable:this,name:"start",originalEvent:n})}else this._nulling()},_emulateDragOver:function(){if(ss){this._lastX=ss.clientX,this._lastY=ss.clientY,rL();for(var e=document.elementFromPoint(ss.clientX,ss.clientY),n=e;e&&e.shadowRoot&&(e=e.shadowRoot.elementFromPoint(ss.clientX,ss.clientY),e!==n);)n=e;if(je.parentNode[Qr]._isOutsideThisEl(e),n)do{if(n[Qr]){var r=void 0;if(r=n[Qr]._onDragOver({clientX:ss.clientX,clientY:ss.clientY,target:e,rootEl:n}),r&&!this.options.dragoverBubble)break}e=n}while(n=n.parentNode);iL()}},_onTouchMove:function(e){if(Ka){var n=this.options,r=n.fallbackTolerance,i=n.fallbackOffset,s=e.touches?e.touches[0]:e,o=St&&gl(St,!0),a=St&&o&&o.a,l=St&&o&&o.d,u=kp&&jr&&iP(jr),c=(s.clientX-Ka.clientX+i.x)/(a||1)+(u?u[0]-Jy[0]:0)/(a||1),d=(s.clientY-Ka.clientY+i.y)/(l||1)+(u?u[1]-Jy[1]:0)/(l||1);if(!gt.active&&!yu){if(r&&Math.max(Math.abs(s.clientX-this._lastX),Math.abs(s.clientY-this._lastY))<r)return;this._onDragStart(e,!0)}if(St){o?(o.e+=c-(Xy||0),o.f+=d-(Qy||0)):o={a:1,b:0,c:0,d:1,e:c,f:d};var h="matrix(".concat(o.a,",").concat(o.b,",").concat(o.c,",").concat(o.d,",").concat(o.e,",").concat(o.f,")");ot(St,"webkitTransform",h),ot(St,"mozTransform",h),ot(St,"msTransform",h),ot(St,"transform",h),Xy=c,Qy=d,ss=s}e.cancelable&&e.preventDefault()}},_appendGhost:function(){if(!St){var e=this.options.fallbackOnBody?document.body:Rn,n=Dn(je,!0,kp,!0,e),r=this.options;if(kp){for(jr=e;ot(jr,"position")==="static"&&ot(jr,"transform")==="none"&&jr!==document;)jr=jr.parentNode;jr!==document.body&&jr!==document.documentElement?(jr===document&&(jr=Bs()),n.top+=jr.scrollTop,n.left+=jr.scrollLeft):jr=Bs(),Jy=iP(jr)}St=je.cloneNode(!0),Fn(St,r.ghostClass,!1),Fn(St,r.fallbackClass,!0),Fn(St,r.dragClass,!0),ot(St,"transition",""),ot(St,"transform",""),ot(St,"box-sizing","border-box"),ot(St,"margin",0),ot(St,"top",n.top),ot(St,"left",n.left),ot(St,"width",n.width),ot(St,"height",n.height),ot(St,"opacity","0.8"),ot(St,"position",kp?"absolute":"fixed"),ot(St,"zIndex","100000"),ot(St,"pointerEvents","none"),gt.ghost=St,e.appendChild(St),ot(St,"transform-origin",oP/parseInt(St.style.width)*100+"% "+aP/parseInt(St.style.height)*100+"%")}},_onDragStart:function(e,n){var r=this,i=e.dataTransfer,s=r.options;if(gi("dragStart",this,{evt:e}),gt.eventCanceled){this._onDrop();return}gi("setupClone",this),gt.eventCanceled||(Kn=K1(je),Kn.draggable=!1,Kn.style["will-change"]="",this._hideClone(),Fn(Kn,this.options.chosenClass,!1),gt.clone=Kn),r.cloneId=rm(function(){gi("clone",r),!gt.eventCanceled&&(r.options.removeCloneOnHide||Rn.insertBefore(Kn,je),r._hideClone(),di({sortable:r,name:"clone"}))}),!n&&Fn(je,s.dragClass,!0),n?(og=!0,r._loopId=setInterval(r._emulateDragOver,50)):(Ot(document,"mouseup",r._onDrop),Ot(document,"touchend",r._onDrop),Ot(document,"touchcancel",r._onDrop),i&&(i.effectAllowed="move",s.setData&&s.setData.call(r,i,je)),Rt(document,"drop",r),ot(je,"transform","translateZ(0)")),yu=!0,r._dragStartId=rm(r._dragStarted.bind(r,n,e)),Rt(document,"selectstart",r),Rd=!0,th&&ot(document.body,"user-select","none")},_onDragOver:function(e){var n=this.el,r=e.target,i,s,o,a=this.options,l=a.group,u=gt.active,c=Pp===l,d=a.sort,h=xr||u,p,m=this,g=!1;if(Z0)return;function y(te,z){gi(te,m,Ks({evt:e,isOwner:c,axis:p?"vertical":"horizontal",revert:o,dragRect:i,targetRect:s,canSort:d,fromSortable:h,target:r,completed:I,onMove:function(ue,oe){return Rp(Rn,n,je,i,ue,Dn(ue),e,oe)},changed:S},z))}function P(){y("dragOverAnimationCapture"),m.captureAnimationState(),m!==h&&h.captureAnimationState()}function I(te){return y("dragOverCompleted",{insertion:te}),te&&(c?u._hideClone():u._showClone(m),m!==h&&(Fn(je,xr?xr.options.ghostClass:u.options.ghostClass,!1),Fn(je,a.ghostClass,!0)),xr!==m&&m!==gt.active?xr=m:m===gt.active&&xr&&(xr=null),h===m&&(m._ignoreWhileAnimating=r),m.animateAll(function(){y("dragOverAnimationComplete"),m._ignoreWhileAnimating=null}),m!==h&&(h.animateAll(),h._ignoreWhileAnimating=null)),(r===je&&!je.animated||r===n&&!r.animated)&&(au=null),!a.dragoverBubble&&!e.rootEl&&r!==document&&(je.parentNode[Qr]._isOutsideThisEl(e.target),!te&&Ga(e)),!a.dragoverBubble&&e.stopPropagation&&e.stopPropagation(),g=!0}function S(){xi=Yn(je),Jo=Yn(je,a.draggable),di({sortable:m,name:"change",toEl:n,newIndex:xi,newDraggableIndex:Jo,originalEvent:e})}if(e.preventDefault!==void 0&&e.cancelable&&e.preventDefault(),r=us(r,a.draggable,n,!0),y("dragOver"),gt.eventCanceled)return g;if(je.contains(e.target)||r.animated&&r.animatingX&&r.animatingY||m._ignoreWhileAnimating===r)return I(!1);if(og=!1,u&&!a.disabled&&(c?d||(o=zn!==Rn):xr===this||(this.lastPutMode=Pp.checkPull(this,u,je,e))&&l.checkPut(this,u,je,e))){if(p=this._getDirection(e,r)==="vertical",i=Dn(je),y("dragOverValid"),gt.eventCanceled)return g;if(o)return zn=Rn,P(),this._hideClone(),y("revert"),gt.eventCanceled||(Ja?Rn.insertBefore(je,Ja):Rn.appendChild(je)),I(!0);var T=z1(n,a.draggable);if(!T||cre(e,p,this)&&!T.animated){if(T===je)return I(!1);if(T&&n===e.target&&(r=T),r&&(s=Dn(r)),Rp(Rn,n,je,i,r,s,e,!!r)!==!1)return P(),n.appendChild(je),zn=n,S(),I(!0)}else if(T&&ure(e,p,this)){var M=_c(n,0,a,!0);if(M===je)return I(!1);if(r=M,s=Dn(r),Rp(Rn,n,je,i,r,s,e,!1)!==!1)return P(),n.insertBefore(je,M),zn=n,S(),I(!0)}else if(r.parentNode===n){s=Dn(r);var R=0,C,E=je.parentNode!==n,b=!ire(je.animated&&je.toRect||i,r.animated&&r.toRect||s,p),w=p?"top":"left",k=rP(r,"top","top")||rP(je,"top","top"),x=k?k.scrollTop:void 0;au!==r&&(C=s[w],sh=!1,Op=!b&&a.invertSwap||E),R=dre(e,r,s,p,b?1:a.swapThreshold,a.invertedSwapThreshold==null?a.swapThreshold:a.invertedSwapThreshold,Op,au===r);var O;if(R!==0){var j=Yn(je);do j-=R,O=zn.children[j];while(O&&(ot(O,"display")==="none"||O===St))}if(R===0||O===r)return I(!1);au=r,ih=R;var U=r.nextElementSibling,$=!1;$=R===1;var q=Rp(Rn,n,je,i,r,s,e,$);if(q!==!1)return(q===1||q===-1)&&($=q===1),Z0=!0,setTimeout(lre,30),P(),$&&!U?n.appendChild(je):r.parentNode.insertBefore(je,$?U:r),k&&ZM(k,0,x-k.scrollTop),zn=je.parentNode,C!==void 0&&!Op&&(nm=Math.abs(C-Dn(r)[w])),S(),I(!0)}if(n.contains(je))return I(!1)}return!1},_ignoreWhileAnimating:null,_offMoveEvents:function(){Ot(document,"mousemove",this._onTouchMove),Ot(document,"touchmove",this._onTouchMove),Ot(document,"pointermove",this._onTouchMove),Ot(document,"dragover",Ga),Ot(document,"mousemove",Ga),Ot(document,"touchmove",Ga)},_offUpEvents:function(){var e=this.el.ownerDocument;Ot(e,"mouseup",this._onDrop),Ot(e,"touchend",this._onDrop),Ot(e,"pointerup",this._onDrop),Ot(e,"touchcancel",this._onDrop),Ot(document,"selectstart",this)},_onDrop:function(e){var n=this.el,r=this.options;if(xi=Yn(je),Jo=Yn(je,r.draggable),gi("drop",this,{evt:e}),zn=je&&je.parentNode,xi=Yn(je),Jo=Yn(je,r.draggable),gt.eventCanceled){this._nulling();return}yu=!1,Op=!1,sh=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),e_(this.cloneId),e_(this._dragStartId),this.nativeDraggable&&(Ot(document,"drop",this),Ot(n,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),th&&ot(document.body,"user-select",""),ot(je,"transform",""),e&&(Rd&&(e.cancelable&&e.preventDefault(),!r.dropBubble&&e.stopPropagation()),St&&St.parentNode&&St.parentNode.removeChild(St),(Rn===zn||xr&&xr.lastPutMode!=="clone")&&Kn&&Kn.parentNode&&Kn.parentNode.removeChild(Kn),je&&(this.nativeDraggable&&Ot(je,"dragend",this),Zy(je),je.style["will-change"]="",Rd&&!yu&&Fn(je,xr?xr.options.ghostClass:this.options.ghostClass,!1),Fn(je,this.options.chosenClass,!1),di({sortable:this,name:"unchoose",toEl:zn,newIndex:null,newDraggableIndex:null,originalEvent:e}),Rn!==zn?(xi>=0&&(di({rootEl:zn,name:"add",toEl:zn,fromEl:Rn,originalEvent:e}),di({sortable:this,name:"remove",toEl:zn,originalEvent:e}),di({rootEl:zn,name:"sort",toEl:zn,fromEl:Rn,originalEvent:e}),di({sortable:this,name:"sort",toEl:zn,originalEvent:e})),xr&&xr.save()):xi!==Pu&&xi>=0&&(di({sortable:this,name:"update",toEl:zn,originalEvent:e}),di({sortable:this,name:"sort",toEl:zn,originalEvent:e})),gt.active&&((xi==null||xi===-1)&&(xi=Pu,Jo=rh),di({sortable:this,name:"end",toEl:zn,originalEvent:e}),this.save()))),this._nulling()},_nulling:function(){gi("nulling",this),Rn=je=zn=St=Ja=Kn=tm=sa=Ka=ss=Rd=xi=Jo=Pu=rh=au=ih=xr=Pp=gt.dragged=gt.ghost=gt.clone=gt.active=null,lg.forEach(function(e){e.checked=!0}),lg.length=Xy=Qy=0},handleEvent:function(e){switch(e.type){case"drop":case"dragend":this._onDrop(e);break;case"dragenter":case"dragover":je&&(this._onDragOver(e),are(e));break;case"selectstart":e.preventDefault();break}},toArray:function(){for(var e=[],n,r=this.el.children,i=0,s=r.length,o=this.options;i<s;i++)n=r[i],us(n,o.draggable,this.el,!1)&&e.push(n.getAttribute(o.dataIdAttr)||fre(n));return e},sort:function(e,n){var r={},i=this.el;this.toArray().forEach(function(s,o){var a=i.children[o];us(a,this.options.draggable,i,!1)&&(r[s]=a)},this),n&&this.captureAnimationState(),e.forEach(function(s){r[s]&&(i.removeChild(r[s]),i.appendChild(r[s]))}),n&&this.animateAll()},save:function(){var e=this.options.store;e&&e.set&&e.set(this)},closest:function(e,n){return us(e,n||this.options.draggable,this.el,!1)},option:function(e,n){var r=this.options;if(n===void 0)return r[e];var i=xf.modifyOption(this,e,n);typeof i<"u"?r[e]=i:r[e]=n,e==="group"&&nL(r)},destroy:function(){gi("destroy",this);var e=this.el;e[Qr]=null,Ot(e,"mousedown",this._onTapStart),Ot(e,"touchstart",this._onTapStart),Ot(e,"pointerdown",this._onTapStart),this.nativeDraggable&&(Ot(e,"dragover",this),Ot(e,"dragenter",this)),Array.prototype.forEach.call(e.querySelectorAll("[draggable]"),function(n){n.removeAttribute("draggable")}),this._onDrop(),this._disableDelayedDragEvents(),ag.splice(ag.indexOf(this.el),1),this.el=e=null},_hideClone:function(){if(!sa){if(gi("hideClone",this),gt.eventCanceled)return;ot(Kn,"display","none"),this.options.removeCloneOnHide&&Kn.parentNode&&Kn.parentNode.removeChild(Kn),sa=!0}},_showClone:function(e){if(e.lastPutMode!=="clone"){this._hideClone();return}if(sa){if(gi("showClone",this),gt.eventCanceled)return;je.parentNode==Rn&&!this.options.group.revertClone?Rn.insertBefore(Kn,je):Ja?Rn.insertBefore(Kn,Ja):Rn.appendChild(Kn),this.options.group.revertClone&&this.animate(je,Kn),ot(Kn,"display",""),sa=!1}}};function are(t){t.dataTransfer&&(t.dataTransfer.dropEffect="move"),t.cancelable&&t.preventDefault()}function Rp(t,e,n,r,i,s,o,a){var l,u=t[Qr],c=u.options.onMove,d;return window.CustomEvent&&!xo&&!Rf?l=new CustomEvent("move",{bubbles:!0,cancelable:!0}):(l=document.createEvent("Event"),l.initEvent("move",!0,!0)),l.to=e,l.from=t,l.dragged=n,l.draggedRect=r,l.related=i||e,l.relatedRect=s||Dn(e),l.willInsertAfter=a,l.originalEvent=o,t.dispatchEvent(l),c&&(d=c.call(u,l,o)),d}function Zy(t){t.draggable=!1}function lre(){Z0=!1}function ure(t,e,n){var r=Dn(_c(n.el,0,n.options,!0)),i=10;return e?t.clientX<r.left-i||t.clientY<r.top&&t.clientX<r.right:t.clientY<r.top-i||t.clientY<r.bottom&&t.clientX<r.left}function cre(t,e,n){var r=Dn(z1(n.el,n.options.draggable)),i=10;return e?t.clientX>r.right+i||t.clientX<=r.right&&t.clientY>r.bottom&&t.clientX>=r.left:t.clientX>r.right&&t.clientY>r.top||t.clientX<=r.right&&t.clientY>r.bottom+i}function dre(t,e,n,r,i,s,o,a){var l=r?t.clientY:t.clientX,u=r?n.height:n.width,c=r?n.top:n.left,d=r?n.bottom:n.right,h=!1;if(!o){if(a&&nm<u*i){if(!sh&&(ih===1?l>c+u*s/2:l<d-u*s/2)&&(sh=!0),sh)h=!0;else if(ih===1?l<c+nm:l>d-nm)return-ih}else if(l>c+u*(1-i)/2&&l<d-u*(1-i)/2)return hre(e)}return h=h||o,h&&(l<c+u*s/2||l>d-u*s/2)?l>c+u/2?1:-1:0}function hre(t){return Yn(je)<Yn(t)?1:-1}function fre(t){for(var e=t.tagName+t.className+t.src+t.href+t.textContent,n=e.length,r=0;n--;)r+=e.charCodeAt(n);return r.toString(36)}function pre(t){lg.length=0;for(var e=t.getElementsByTagName("input"),n=e.length;n--;){var r=e[n];r.checked&&lg.push(r)}}function rm(t){return setTimeout(t,0)}function e_(t){return clearTimeout(t)}Pv&&Rt(document,"touchmove",function(t){(gt.active||yu)&&t.cancelable&&t.preventDefault()});gt.utils={on:Rt,off:Ot,css:ot,find:QM,is:function(e,n){return!!us(e,n,e,!1)},extend:Qne,throttle:JM,closest:us,toggleClass:Fn,clone:K1,index:Yn,nextTick:rm,cancelNextTick:e_,detectDirection:tL,getChild:_c};gt.get=function(t){return t[Qr]};gt.mount=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];e[0].constructor===Array&&(e=e[0]),e.forEach(function(r){if(!r.prototype||!r.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(r));r.utils&&(gt.utils=Ks(Ks({},gt.utils),r.utils)),xf.mount(r)})};gt.create=function(t,e){return new gt(t,e)};gt.version=Kne;var or=[],xd,t_,n_=!1,eb,tb,ug,Dd;function mre(){function t(){this.defaults={scroll:!0,forceAutoScrollFallback:!1,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0};for(var e in this)e.charAt(0)==="_"&&typeof this[e]=="function"&&(this[e]=this[e].bind(this))}return t.prototype={dragStarted:function(n){var r=n.originalEvent;this.sortable.nativeDraggable?Rt(document,"dragover",this._handleAutoScroll):this.options.supportPointer?Rt(document,"pointermove",this._handleFallbackAutoScroll):r.touches?Rt(document,"touchmove",this._handleFallbackAutoScroll):Rt(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(n){var r=n.originalEvent;!this.options.dragOverBubble&&!r.rootEl&&this._handleAutoScroll(r)},drop:function(){this.sortable.nativeDraggable?Ot(document,"dragover",this._handleAutoScroll):(Ot(document,"pointermove",this._handleFallbackAutoScroll),Ot(document,"touchmove",this._handleFallbackAutoScroll),Ot(document,"mousemove",this._handleFallbackAutoScroll)),uP(),im(),Jne()},nulling:function(){ug=t_=xd=n_=Dd=eb=tb=null,or.length=0},_handleFallbackAutoScroll:function(n){this._handleAutoScroll(n,!0)},_handleAutoScroll:function(n,r){var i=this,s=(n.touches?n.touches[0]:n).clientX,o=(n.touches?n.touches[0]:n).clientY,a=document.elementFromPoint(s,o);if(ug=n,r||this.options.forceAutoScrollFallback||Rf||xo||th){nb(n,this.options,a,r);var l=aa(a,!0);n_&&(!Dd||s!==eb||o!==tb)&&(Dd&&uP(),Dd=setInterval(function(){var u=aa(document.elementFromPoint(s,o),!0);u!==l&&(l=u,im()),nb(n,i.options,u,r)},10),eb=s,tb=o)}else{if(!this.options.bubbleScroll||aa(a,!0)===Bs()){im();return}nb(n,this.options,aa(a,!1),!1)}}},Zi(t,{pluginName:"scroll",initializeByDefault:!0})}function im(){or.forEach(function(t){clearInterval(t.pid)}),or=[]}function uP(){clearInterval(Dd)}var nb=JM(function(t,e,n,r){if(e.scroll){var i=(t.touches?t.touches[0]:t).clientX,s=(t.touches?t.touches[0]:t).clientY,o=e.scrollSensitivity,a=e.scrollSpeed,l=Bs(),u=!1,c;t_!==n&&(t_=n,im(),xd=e.scroll,c=e.scrollFn,xd===!0&&(xd=aa(n,!0)));var d=0,h=xd;do{var p=h,m=Dn(p),g=m.top,y=m.bottom,P=m.left,I=m.right,S=m.width,T=m.height,M=void 0,R=void 0,C=p.scrollWidth,E=p.scrollHeight,b=ot(p),w=p.scrollLeft,k=p.scrollTop;p===l?(M=S<C&&(b.overflowX==="auto"||b.overflowX==="scroll"||b.overflowX==="visible"),R=T<E&&(b.overflowY==="auto"||b.overflowY==="scroll"||b.overflowY==="visible")):(M=S<C&&(b.overflowX==="auto"||b.overflowX==="scroll"),R=T<E&&(b.overflowY==="auto"||b.overflowY==="scroll"));var x=M&&(Math.abs(I-i)<=o&&w+S<C)-(Math.abs(P-i)<=o&&!!w),O=R&&(Math.abs(y-s)<=o&&k+T<E)-(Math.abs(g-s)<=o&&!!k);if(!or[d])for(var j=0;j<=d;j++)or[j]||(or[j]={});(or[d].vx!=x||or[d].vy!=O||or[d].el!==p)&&(or[d].el=p,or[d].vx=x,or[d].vy=O,clearInterval(or[d].pid),(x!=0||O!=0)&&(u=!0,or[d].pid=setInterval((function(){r&&this.layer===0&&gt.active._onTouchMove(ug);var U=or[this.layer].vy?or[this.layer].vy*a:0,$=or[this.layer].vx?or[this.layer].vx*a:0;typeof c=="function"&&c.call(gt.dragged.parentNode[Qr],$,U,t,ug,or[this.layer].el)!=="continue"||ZM(or[this.layer].el,$,U)}).bind({layer:d}),24))),d++}while(e.bubbleScroll&&h!==l&&(h=aa(h,!1)));n_=u}},30),sL=function(e){var n=e.originalEvent,r=e.putSortable,i=e.dragEl,s=e.activeSortable,o=e.dispatchSortableEvent,a=e.hideGhostForTarget,l=e.unhideGhostForTarget;if(n){var u=r||s;a();var c=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:n,d=document.elementFromPoint(c.clientX,c.clientY);l(),u&&!u.el.contains(d)&&(o("spill"),this.onSpill({dragEl:i,putSortable:r}))}};function G1(){}G1.prototype={startIndex:null,dragStart:function(e){var n=e.oldDraggableIndex;this.startIndex=n},onSpill:function(e){var n=e.dragEl,r=e.putSortable;this.sortable.captureAnimationState(),r&&r.captureAnimationState();var i=_c(this.sortable.el,this.startIndex,this.options);i?this.sortable.el.insertBefore(n,i):this.sortable.el.appendChild(n),this.sortable.animateAll(),r&&r.animateAll()},drop:sL};Zi(G1,{pluginName:"revertOnSpill"});function Y1(){}Y1.prototype={onSpill:function(e){var n=e.dragEl,r=e.putSortable,i=r||this.sortable;i.captureAnimationState(),n.parentNode&&n.parentNode.removeChild(n),i.animateAll()},drop:sL};Zi(Y1,{pluginName:"removeOnSpill"});var Wi;function gre(){function t(){this.defaults={swapClass:"sortable-swap-highlight"}}return t.prototype={dragStart:function(n){var r=n.dragEl;Wi=r},dragOverValid:function(n){var r=n.completed,i=n.target,s=n.onMove,o=n.activeSortable,a=n.changed,l=n.cancel;if(o.options.swap){var u=this.sortable.el,c=this.options;if(i&&i!==u){var d=Wi;s(i)!==!1?(Fn(i,c.swapClass,!0),Wi=i):Wi=null,d&&d!==Wi&&Fn(d,c.swapClass,!1)}a(),r(!0),l()}},drop:function(n){var r=n.activeSortable,i=n.putSortable,s=n.dragEl,o=i||this.sortable,a=this.options;Wi&&Fn(Wi,a.swapClass,!1),Wi&&(a.swap||i&&i.options.swap)&&s!==Wi&&(o.captureAnimationState(),o!==r&&r.captureAnimationState(),vre(s,Wi),o.animateAll(),o!==r&&r.animateAll())},nulling:function(){Wi=null}},Zi(t,{pluginName:"swap",eventProperties:function(){return{swapItem:Wi}}})}function vre(t,e){var n=t.parentNode,r=e.parentNode,i,s;!n||!r||n.isEqualNode(e)||r.isEqualNode(t)||(i=Yn(t),s=Yn(e),n.isEqualNode(r)&&i<s&&s++,n.insertBefore(e,n.children[i]),r.insertBefore(t,r.children[s]))}var _t=[],Ri=[],dd,os,hd=!1,vi=!1,lu=!1,vn,fd,xp;function yre(){function t(e){for(var n in this)n.charAt(0)==="_"&&typeof this[n]=="function"&&(this[n]=this[n].bind(this));e.options.supportPointer?Rt(document,"pointerup",this._deselectMultiDrag):(Rt(document,"mouseup",this._deselectMultiDrag),Rt(document,"touchend",this._deselectMultiDrag)),Rt(document,"keydown",this._checkKeyDown),Rt(document,"keyup",this._checkKeyUp),this.defaults={selectedClass:"sortable-selected",multiDragKey:null,setData:function(i,s){var o="";_t.length&&os===e?_t.forEach(function(a,l){o+=(l?", ":"")+a.textContent}):o=s.textContent,i.setData("Text",o)}}}return t.prototype={multiDragKeyDown:!1,isMultiDrag:!1,delayStartGlobal:function(n){var r=n.dragEl;vn=r},delayEnded:function(){this.isMultiDrag=~_t.indexOf(vn)},setupClone:function(n){var r=n.sortable,i=n.cancel;if(this.isMultiDrag){for(var s=0;s<_t.length;s++)Ri.push(K1(_t[s])),Ri[s].sortableIndex=_t[s].sortableIndex,Ri[s].draggable=!1,Ri[s].style["will-change"]="",Fn(Ri[s],this.options.selectedClass,!1),_t[s]===vn&&Fn(Ri[s],this.options.chosenClass,!1);r._hideClone(),i()}},clone:function(n){var r=n.sortable,i=n.rootEl,s=n.dispatchSortableEvent,o=n.cancel;this.isMultiDrag&&(this.options.removeCloneOnHide||_t.length&&os===r&&(cP(!0,i),s("clone"),o()))},showClone:function(n){var r=n.cloneNowShown,i=n.rootEl,s=n.cancel;this.isMultiDrag&&(cP(!1,i),Ri.forEach(function(o){ot(o,"display","")}),r(),xp=!1,s())},hideClone:function(n){var r=this;n.sortable;var i=n.cloneNowHidden,s=n.cancel;this.isMultiDrag&&(Ri.forEach(function(o){ot(o,"display","none"),r.options.removeCloneOnHide&&o.parentNode&&o.parentNode.removeChild(o)}),i(),xp=!0,s())},dragStartGlobal:function(n){n.sortable,!this.isMultiDrag&&os&&os.multiDrag._deselectMultiDrag(),_t.forEach(function(r){r.sortableIndex=Yn(r)}),_t=_t.sort(function(r,i){return r.sortableIndex-i.sortableIndex}),lu=!0},dragStarted:function(n){var r=this,i=n.sortable;if(this.isMultiDrag){if(this.options.sort&&(i.captureAnimationState(),this.options.animation)){_t.forEach(function(o){o!==vn&&ot(o,"position","absolute")});var s=Dn(vn,!1,!0,!0);_t.forEach(function(o){o!==vn&&sP(o,s)}),vi=!0,hd=!0}i.animateAll(function(){vi=!1,hd=!1,r.options.animation&&_t.forEach(function(o){Gy(o)}),r.options.sort&&Dp()})}},dragOver:function(n){var r=n.target,i=n.completed,s=n.cancel;vi&&~_t.indexOf(r)&&(i(!1),s())},revert:function(n){var r=n.fromSortable,i=n.rootEl,s=n.sortable,o=n.dragRect;_t.length>1&&(_t.forEach(function(a){s.addAnimationState({target:a,rect:vi?Dn(a):o}),Gy(a),a.fromRect=o,r.removeAnimationState(a)}),vi=!1,bre(!this.options.removeCloneOnHide,i))},dragOverCompleted:function(n){var r=n.sortable,i=n.isOwner,s=n.insertion,o=n.activeSortable,a=n.parentEl,l=n.putSortable,u=this.options;if(s){if(i&&o._hideClone(),hd=!1,u.animation&&_t.length>1&&(vi||!i&&!o.options.sort&&!l)){var c=Dn(vn,!1,!0,!0);_t.forEach(function(h){h!==vn&&(sP(h,c),a.appendChild(h))}),vi=!0}if(!i)if(vi||Dp(),_t.length>1){var d=xp;o._showClone(r),o.options.animation&&!xp&&d&&Ri.forEach(function(h){o.addAnimationState({target:h,rect:fd}),h.fromRect=fd,h.thisAnimationDuration=null})}else o._showClone(r)}},dragOverAnimationCapture:function(n){var r=n.dragRect,i=n.isOwner,s=n.activeSortable;if(_t.forEach(function(a){a.thisAnimationDuration=null}),s.options.animation&&!i&&s.multiDrag.isMultiDrag){fd=Zi({},r);var o=gl(vn,!0);fd.top-=o.f,fd.left-=o.e}},dragOverAnimationComplete:function(){vi&&(vi=!1,Dp())},drop:function(n){var r=n.originalEvent,i=n.rootEl,s=n.parentEl,o=n.sortable,a=n.dispatchSortableEvent,l=n.oldIndex,u=n.putSortable,c=u||this.sortable;if(r){var d=this.options,h=s.children;if(!lu)if(d.multiDragKey&&!this.multiDragKeyDown&&this._deselectMultiDrag(),Fn(vn,d.selectedClass,!~_t.indexOf(vn)),~_t.indexOf(vn))_t.splice(_t.indexOf(vn),1),dd=null,kd({sortable:o,rootEl:i,name:"deselect",targetEl:vn,originalEvt:r});else{if(_t.push(vn),kd({sortable:o,rootEl:i,name:"select",targetEl:vn,originalEvt:r}),r.shiftKey&&dd&&o.el.contains(dd)){var p=Yn(dd),m=Yn(vn);if(~p&&~m&&p!==m){var g,y;for(m>p?(y=p,g=m):(y=m,g=p+1);y<g;y++)~_t.indexOf(h[y])||(Fn(h[y],d.selectedClass,!0),_t.push(h[y]),kd({sortable:o,rootEl:i,name:"select",targetEl:h[y],originalEvt:r}))}}else dd=vn;os=c}if(lu&&this.isMultiDrag){if(vi=!1,(s[Qr].options.sort||s!==i)&&_t.length>1){var P=Dn(vn),I=Yn(vn,":not(."+this.options.selectedClass+")");if(!hd&&d.animation&&(vn.thisAnimationDuration=null),c.captureAnimationState(),!hd&&(d.animation&&(vn.fromRect=P,_t.forEach(function(T){if(T.thisAnimationDuration=null,T!==vn){var M=vi?Dn(T):P;T.fromRect=M,c.addAnimationState({target:T,rect:M})}})),Dp(),_t.forEach(function(T){h[I]?s.insertBefore(T,h[I]):s.appendChild(T),I++}),l===Yn(vn))){var S=!1;_t.forEach(function(T){if(T.sortableIndex!==Yn(T)){S=!0;return}}),S&&a("update")}_t.forEach(function(T){Gy(T)}),c.animateAll()}os=c}(i===s||u&&u.lastPutMode!=="clone")&&Ri.forEach(function(T){T.parentNode&&T.parentNode.removeChild(T)})}},nullingGlobal:function(){this.isMultiDrag=lu=!1,Ri.length=0},destroyGlobal:function(){this._deselectMultiDrag(),Ot(document,"pointerup",this._deselectMultiDrag),Ot(document,"mouseup",this._deselectMultiDrag),Ot(document,"touchend",this._deselectMultiDrag),Ot(document,"keydown",this._checkKeyDown),Ot(document,"keyup",this._checkKeyUp)},_deselectMultiDrag:function(n){if(!(typeof lu<"u"&&lu)&&os===this.sortable&&!(n&&us(n.target,this.options.draggable,this.sortable.el,!1))&&!(n&&n.button!==0))for(;_t.length;){var r=_t[0];Fn(r,this.options.selectedClass,!1),_t.shift(),kd({sortable:this.sortable,rootEl:this.sortable.el,name:"deselect",targetEl:r,originalEvt:n})}},_checkKeyDown:function(n){n.key===this.options.multiDragKey&&(this.multiDragKeyDown=!0)},_checkKeyUp:function(n){n.key===this.options.multiDragKey&&(this.multiDragKeyDown=!1)}},Zi(t,{pluginName:"multiDrag",utils:{select:function(n){var r=n.parentNode[Qr];!r||!r.options.multiDrag||~_t.indexOf(n)||(os&&os!==r&&(os.multiDrag._deselectMultiDrag(),os=r),Fn(n,r.options.selectedClass,!0),_t.push(n))},deselect:function(n){var r=n.parentNode[Qr],i=_t.indexOf(n);!r||!r.options.multiDrag||!~i||(Fn(n,r.options.selectedClass,!1),_t.splice(i,1))}},eventProperties:function(){var n=this,r=[],i=[];return _t.forEach(function(s){r.push({multiDragElement:s,index:s.sortableIndex});var o;vi&&s!==vn?o=-1:vi?o=Yn(s,":not(."+n.options.selectedClass+")"):o=Yn(s),i.push({multiDragElement:s,index:o})}),{items:Bne(_t),clones:[].concat(Ri),oldIndicies:r,newIndicies:i}},optionListeners:{multiDragKey:function(n){return n=n.toLowerCase(),n==="ctrl"?n="Control":n.length>1&&(n=n.charAt(0).toUpperCase()+n.substr(1)),n}}})}function bre(t,e){_t.forEach(function(n,r){var i=e.children[n.sortableIndex+(t?Number(r):0)];i?e.insertBefore(n,i):e.appendChild(n)})}function cP(t,e){Ri.forEach(function(n,r){var i=e.children[n.sortableIndex+(t?Number(r):0)];i?e.insertBefore(n,i):e.appendChild(n)})}function Dp(){_t.forEach(function(t){t!==vn&&t.parentNode&&t.parentNode.removeChild(t)})}gt.mount(new mre);gt.mount(Y1,G1);const _re=Object.freeze(Object.defineProperty({__proto__:null,MultiDrag:yre,Sortable:gt,Swap:gre,default:gt},Symbol.toStringTag,{value:"Module"})),wre=KM(_re);(function(t,e){(function(r,i){t.exports=i($ne,wre)})(typeof self<"u"?self:Lne,function(n,r){return function(i){var s={};function o(a){if(s[a])return s[a].exports;var l=s[a]={i:a,l:!1,exports:{}};return i[a].call(l.exports,l,l.exports,o),l.l=!0,l.exports}return o.m=i,o.c=s,o.d=function(a,l,u){o.o(a,l)||Object.defineProperty(a,l,{enumerable:!0,get:u})},o.r=function(a){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(a,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(a,"__esModule",{value:!0})},o.t=function(a,l){if(l&1&&(a=o(a)),l&8||l&4&&typeof a=="object"&&a&&a.__esModule)return a;var u=Object.create(null);if(o.r(u),Object.defineProperty(u,"default",{enumerable:!0,value:a}),l&2&&typeof a!="string")for(var c in a)o.d(u,c,(function(d){return a[d]}).bind(null,c));return u},o.n=function(a){var l=a&&a.__esModule?function(){return a.default}:function(){return a};return o.d(l,"a",l),l},o.o=function(a,l){return Object.prototype.hasOwnProperty.call(a,l)},o.p="",o(o.s="fb15")}({"00ee":function(i,s,o){var a=o("b622"),l=a("toStringTag"),u={};u[l]="z",i.exports=String(u)==="[object z]"},"0366":function(i,s,o){var a=o("1c0b");i.exports=function(l,u,c){if(a(l),u===void 0)return l;switch(c){case 0:return function(){return l.call(u)};case 1:return function(d){return l.call(u,d)};case 2:return function(d,h){return l.call(u,d,h)};case 3:return function(d,h,p){return l.call(u,d,h,p)}}return function(){return l.apply(u,arguments)}}},"057f":function(i,s,o){var a=o("fc6a"),l=o("241c").f,u={}.toString,c=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],d=function(h){try{return l(h)}catch{return c.slice()}};i.exports.f=function(p){return c&&u.call(p)=="[object Window]"?d(p):l(a(p))}},"06cf":function(i,s,o){var a=o("83ab"),l=o("d1e7"),u=o("5c6c"),c=o("fc6a"),d=o("c04e"),h=o("5135"),p=o("0cfb"),m=Object.getOwnPropertyDescriptor;s.f=a?m:function(y,P){if(y=c(y),P=d(P,!0),p)try{return m(y,P)}catch{}if(h(y,P))return u(!l.f.call(y,P),y[P])}},"0cfb":function(i,s,o){var a=o("83ab"),l=o("d039"),u=o("cc12");i.exports=!a&&!l(function(){return Object.defineProperty(u("div"),"a",{get:function(){return 7}}).a!=7})},"13d5":function(i,s,o){var a=o("23e7"),l=o("d58f").left,u=o("a640"),c=o("ae40"),d=u("reduce"),h=c("reduce",{1:0});a({target:"Array",proto:!0,forced:!d||!h},{reduce:function(m){return l(this,m,arguments.length,arguments.length>1?arguments[1]:void 0)}})},"14c3":function(i,s,o){var a=o("c6b6"),l=o("9263");i.exports=function(u,c){var d=u.exec;if(typeof d=="function"){var h=d.call(u,c);if(typeof h!="object")throw TypeError("RegExp exec method returned something other than an Object or null");return h}if(a(u)!=="RegExp")throw TypeError("RegExp#exec called on incompatible receiver");return l.call(u,c)}},"159b":function(i,s,o){var a=o("da84"),l=o("fdbc"),u=o("17c2"),c=o("9112");for(var d in l){var h=a[d],p=h&&h.prototype;if(p&&p.forEach!==u)try{c(p,"forEach",u)}catch{p.forEach=u}}},"17c2":function(i,s,o){var a=o("b727").forEach,l=o("a640"),u=o("ae40"),c=l("forEach"),d=u("forEach");i.exports=!c||!d?function(p){return a(this,p,arguments.length>1?arguments[1]:void 0)}:[].forEach},"1be4":function(i,s,o){var a=o("d066");i.exports=a("document","documentElement")},"1c0b":function(i,s){i.exports=function(o){if(typeof o!="function")throw TypeError(String(o)+" is not a function");return o}},"1c7e":function(i,s,o){var a=o("b622"),l=a("iterator"),u=!1;try{var c=0,d={next:function(){return{done:!!c++}},return:function(){u=!0}};d[l]=function(){return this},Array.from(d,function(){throw 2})}catch{}i.exports=function(h,p){if(!p&&!u)return!1;var m=!1;try{var g={};g[l]=function(){return{next:function(){return{done:m=!0}}}},h(g)}catch{}return m}},"1d80":function(i,s){i.exports=function(o){if(o==null)throw TypeError("Can't call method on "+o);return o}},"1dde":function(i,s,o){var a=o("d039"),l=o("b622"),u=o("2d00"),c=l("species");i.exports=function(d){return u>=51||!a(function(){var h=[],p=h.constructor={};return p[c]=function(){return{foo:1}},h[d](Boolean).foo!==1})}},"23cb":function(i,s,o){var a=o("a691"),l=Math.max,u=Math.min;i.exports=function(c,d){var h=a(c);return h<0?l(h+d,0):u(h,d)}},"23e7":function(i,s,o){var a=o("da84"),l=o("06cf").f,u=o("9112"),c=o("6eeb"),d=o("ce4e"),h=o("e893"),p=o("94ca");i.exports=function(m,g){var y=m.target,P=m.global,I=m.stat,S,T,M,R,C,E;if(P?T=a:I?T=a[y]||d(y,{}):T=(a[y]||{}).prototype,T)for(M in g){if(C=g[M],m.noTargetGet?(E=l(T,M),R=E&&E.value):R=T[M],S=p(P?M:y+(I?".":"#")+M,m.forced),!S&&R!==void 0){if(typeof C==typeof R)continue;h(C,R)}(m.sham||R&&R.sham)&&u(C,"sham",!0),c(T,M,C,m)}}},"241c":function(i,s,o){var a=o("ca84"),l=o("7839"),u=l.concat("length","prototype");s.f=Object.getOwnPropertyNames||function(d){return a(d,u)}},"25f0":function(i,s,o){var a=o("6eeb"),l=o("825a"),u=o("d039"),c=o("ad6d"),d="toString",h=RegExp.prototype,p=h[d],m=u(function(){return p.call({source:"a",flags:"b"})!="/a/b"}),g=p.name!=d;(m||g)&&a(RegExp.prototype,d,function(){var P=l(this),I=String(P.source),S=P.flags,T=String(S===void 0&&P instanceof RegExp&&!("flags"in h)?c.call(P):S);return"/"+I+"/"+T},{unsafe:!0})},"2ca0":function(i,s,o){var a=o("23e7"),l=o("06cf").f,u=o("50c4"),c=o("5a34"),d=o("1d80"),h=o("ab13"),p=o("c430"),m="".startsWith,g=Math.min,y=h("startsWith"),P=!p&&!y&&!!function(){var I=l(String.prototype,"startsWith");return I&&!I.writable}();a({target:"String",proto:!0,forced:!P&&!y},{startsWith:function(S){var T=String(d(this));c(S);var M=u(g(arguments.length>1?arguments[1]:void 0,T.length)),R=String(S);return m?m.call(T,R,M):T.slice(M,M+R.length)===R}})},"2d00":function(i,s,o){var a=o("da84"),l=o("342f"),u=a.process,c=u&&u.versions,d=c&&c.v8,h,p;d?(h=d.split("."),p=h[0]+h[1]):l&&(h=l.match(/Edge\/(\d+)/),(!h||h[1]>=74)&&(h=l.match(/Chrome\/(\d+)/),h&&(p=h[1]))),i.exports=p&&+p},"342f":function(i,s,o){var a=o("d066");i.exports=a("navigator","userAgent")||""},"35a1":function(i,s,o){var a=o("f5df"),l=o("3f8c"),u=o("b622"),c=u("iterator");i.exports=function(d){if(d!=null)return d[c]||d["@@iterator"]||l[a(d)]}},"37e8":function(i,s,o){var a=o("83ab"),l=o("9bf2"),u=o("825a"),c=o("df75");i.exports=a?Object.defineProperties:function(h,p){u(h);for(var m=c(p),g=m.length,y=0,P;g>y;)l.f(h,P=m[y++],p[P]);return h}},"3bbe":function(i,s,o){var a=o("861d");i.exports=function(l){if(!a(l)&&l!==null)throw TypeError("Can't set "+String(l)+" as a prototype");return l}},"3ca3":function(i,s,o){var a=o("6547").charAt,l=o("69f3"),u=o("7dd0"),c="String Iterator",d=l.set,h=l.getterFor(c);u(String,"String",function(p){d(this,{type:c,string:String(p),index:0})},function(){var m=h(this),g=m.string,y=m.index,P;return y>=g.length?{value:void 0,done:!0}:(P=a(g,y),m.index+=P.length,{value:P,done:!1})})},"3f8c":function(i,s){i.exports={}},4160:function(i,s,o){var a=o("23e7"),l=o("17c2");a({target:"Array",proto:!0,forced:[].forEach!=l},{forEach:l})},"428f":function(i,s,o){var a=o("da84");i.exports=a},"44ad":function(i,s,o){var a=o("d039"),l=o("c6b6"),u="".split;i.exports=a(function(){return!Object("z").propertyIsEnumerable(0)})?function(c){return l(c)=="String"?u.call(c,""):Object(c)}:Object},"44d2":function(i,s,o){var a=o("b622"),l=o("7c73"),u=o("9bf2"),c=a("unscopables"),d=Array.prototype;d[c]==null&&u.f(d,c,{configurable:!0,value:l(null)}),i.exports=function(h){d[c][h]=!0}},"44e7":function(i,s,o){var a=o("861d"),l=o("c6b6"),u=o("b622"),c=u("match");i.exports=function(d){var h;return a(d)&&((h=d[c])!==void 0?!!h:l(d)=="RegExp")}},4930:function(i,s,o){var a=o("d039");i.exports=!!Object.getOwnPropertySymbols&&!a(function(){return!String(Symbol())})},"4d64":function(i,s,o){var a=o("fc6a"),l=o("50c4"),u=o("23cb"),c=function(d){return function(h,p,m){var g=a(h),y=l(g.length),P=u(m,y),I;if(d&&p!=p){for(;y>P;)if(I=g[P++],I!=I)return!0}else for(;y>P;P++)if((d||P in g)&&g[P]===p)return d||P||0;return!d&&-1}};i.exports={includes:c(!0),indexOf:c(!1)}},"4de4":function(i,s,o){var a=o("23e7"),l=o("b727").filter,u=o("1dde"),c=o("ae40"),d=u("filter"),h=c("filter");a({target:"Array",proto:!0,forced:!d||!h},{filter:function(m){return l(this,m,arguments.length>1?arguments[1]:void 0)}})},"4df4":function(i,s,o){var a=o("0366"),l=o("7b0b"),u=o("9bdd"),c=o("e95a"),d=o("50c4"),h=o("8418"),p=o("35a1");i.exports=function(g){var y=l(g),P=typeof this=="function"?this:Array,I=arguments.length,S=I>1?arguments[1]:void 0,T=S!==void 0,M=p(y),R=0,C,E,b,w,k,x;if(T&&(S=a(S,I>2?arguments[2]:void 0,2)),M!=null&&!(P==Array&&c(M)))for(w=M.call(y),k=w.next,E=new P;!(b=k.call(w)).done;R++)x=T?u(w,S,[b.value,R],!0):b.value,h(E,R,x);else for(C=d(y.length),E=new P(C);C>R;R++)x=T?S(y[R],R):y[R],h(E,R,x);return E.length=R,E}},"4fad":function(i,s,o){var a=o("23e7"),l=o("6f53").entries;a({target:"Object",stat:!0},{entries:function(c){return l(c)}})},"50c4":function(i,s,o){var a=o("a691"),l=Math.min;i.exports=function(u){return u>0?l(a(u),9007199254740991):0}},5135:function(i,s){var o={}.hasOwnProperty;i.exports=function(a,l){return o.call(a,l)}},5319:function(i,s,o){var a=o("d784"),l=o("825a"),u=o("7b0b"),c=o("50c4"),d=o("a691"),h=o("1d80"),p=o("8aa5"),m=o("14c3"),g=Math.max,y=Math.min,P=Math.floor,I=/\$([$&'`]|\d\d?|<[^>]*>)/g,S=/\$([$&'`]|\d\d?)/g,T=function(M){return M===void 0?M:String(M)};a("replace",2,function(M,R,C,E){var b=E.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,w=E.REPLACE_KEEPS_$0,k=b?"$":"$0";return[function(j,U){var $=h(this),q=j==null?void 0:j[M];return q!==void 0?q.call(j,$,U):R.call(String($),j,U)},function(O,j){if(!b&&w||typeof j=="string"&&j.indexOf(k)===-1){var U=C(R,O,this,j);if(U.done)return U.value}var $=l(O),q=String(this),te=typeof j=="function";te||(j=String(j));var z=$.global;if(z){var V=$.unicode;$.lastIndex=0}for(var ue=[];;){var oe=m($,q);if(oe===null||(ue.push(oe),!z))break;var ve=String(oe[0]);ve===""&&($.lastIndex=p(q,c($.lastIndex),V))}for(var Se="",he=0,Y=0;Y<ue.length;Y++){oe=ue[Y];for(var ne=String(oe[0]),pe=g(y(d(oe.index),q.length),0),se=[],_e=1;_e<oe.length;_e++)se.push(T(oe[_e]));var Ce=oe.groups;if(te){var fe=[ne].concat(se,pe,q);Ce!==void 0&&fe.push(Ce);var L=String(j.apply(void 0,fe))}else L=x(ne,q,pe,se,Ce,j);pe>=he&&(Se+=q.slice(he,pe)+L,he=pe+ne.length)}return Se+q.slice(he)}];function x(O,j,U,$,q,te){var z=U+O.length,V=$.length,ue=S;return q!==void 0&&(q=u(q),ue=I),R.call(te,ue,function(oe,ve){var Se;switch(ve.charAt(0)){case"$":return"$";case"&":return O;case"`":return j.slice(0,U);case"'":return j.slice(z);case"<":Se=q[ve.slice(1,-1)];break;default:var he=+ve;if(he===0)return oe;if(he>V){var Y=P(he/10);return Y===0?oe:Y<=V?$[Y-1]===void 0?ve.charAt(1):$[Y-1]+ve.charAt(1):oe}Se=$[he-1]}return Se===void 0?"":Se})}})},5692:function(i,s,o){var a=o("c430"),l=o("c6cd");(i.exports=function(u,c){return l[u]||(l[u]=c!==void 0?c:{})})("versions",[]).push({version:"3.6.5",mode:a?"pure":"global",copyright:"© 2020 Denis Pushkarev (zloirock.ru)"})},"56ef":function(i,s,o){var a=o("d066"),l=o("241c"),u=o("7418"),c=o("825a");i.exports=a("Reflect","ownKeys")||function(h){var p=l.f(c(h)),m=u.f;return m?p.concat(m(h)):p}},"5a34":function(i,s,o){var a=o("44e7");i.exports=function(l){if(a(l))throw TypeError("The method doesn't accept regular expressions");return l}},"5c6c":function(i,s){i.exports=function(o,a){return{enumerable:!(o&1),configurable:!(o&2),writable:!(o&4),value:a}}},"5db7":function(i,s,o){var a=o("23e7"),l=o("a2bf"),u=o("7b0b"),c=o("50c4"),d=o("1c0b"),h=o("65f0");a({target:"Array",proto:!0},{flatMap:function(m){var g=u(this),y=c(g.length),P;return d(m),P=h(g,0),P.length=l(P,g,g,y,0,1,m,arguments.length>1?arguments[1]:void 0),P}})},6547:function(i,s,o){var a=o("a691"),l=o("1d80"),u=function(c){return function(d,h){var p=String(l(d)),m=a(h),g=p.length,y,P;return m<0||m>=g?c?"":void 0:(y=p.charCodeAt(m),y<55296||y>56319||m+1===g||(P=p.charCodeAt(m+1))<56320||P>57343?c?p.charAt(m):y:c?p.slice(m,m+2):(y-55296<<10)+(P-56320)+65536)}};i.exports={codeAt:u(!1),charAt:u(!0)}},"65f0":function(i,s,o){var a=o("861d"),l=o("e8b5"),u=o("b622"),c=u("species");i.exports=function(d,h){var p;return l(d)&&(p=d.constructor,typeof p=="function"&&(p===Array||l(p.prototype))?p=void 0:a(p)&&(p=p[c],p===null&&(p=void 0))),new(p===void 0?Array:p)(h===0?0:h)}},"69f3":function(i,s,o){var a=o("7f9a"),l=o("da84"),u=o("861d"),c=o("9112"),d=o("5135"),h=o("f772"),p=o("d012"),m=l.WeakMap,g,y,P,I=function(b){return P(b)?y(b):g(b,{})},S=function(b){return function(w){var k;if(!u(w)||(k=y(w)).type!==b)throw TypeError("Incompatible receiver, "+b+" required");return k}};if(a){var T=new m,M=T.get,R=T.has,C=T.set;g=function(b,w){return C.call(T,b,w),w},y=function(b){return M.call(T,b)||{}},P=function(b){return R.call(T,b)}}else{var E=h("state");p[E]=!0,g=function(b,w){return c(b,E,w),w},y=function(b){return d(b,E)?b[E]:{}},P=function(b){return d(b,E)}}i.exports={set:g,get:y,has:P,enforce:I,getterFor:S}},"6eeb":function(i,s,o){var a=o("da84"),l=o("9112"),u=o("5135"),c=o("ce4e"),d=o("8925"),h=o("69f3"),p=h.get,m=h.enforce,g=String(String).split("String");(i.exports=function(y,P,I,S){var T=S?!!S.unsafe:!1,M=S?!!S.enumerable:!1,R=S?!!S.noTargetGet:!1;if(typeof I=="function"&&(typeof P=="string"&&!u(I,"name")&&l(I,"name",P),m(I).source=g.join(typeof P=="string"?P:"")),y===a){M?y[P]=I:c(P,I);return}else T?!R&&y[P]&&(M=!0):delete y[P];M?y[P]=I:l(y,P,I)})(Function.prototype,"toString",function(){return typeof this=="function"&&p(this).source||d(this)})},"6f53":function(i,s,o){var a=o("83ab"),l=o("df75"),u=o("fc6a"),c=o("d1e7").f,d=function(h){return function(p){for(var m=u(p),g=l(m),y=g.length,P=0,I=[],S;y>P;)S=g[P++],(!a||c.call(m,S))&&I.push(h?[S,m[S]]:m[S]);return I}};i.exports={entries:d(!0),values:d(!1)}},"73d9":function(i,s,o){var a=o("44d2");a("flatMap")},7418:function(i,s){s.f=Object.getOwnPropertySymbols},"746f":function(i,s,o){var a=o("428f"),l=o("5135"),u=o("e538"),c=o("9bf2").f;i.exports=function(d){var h=a.Symbol||(a.Symbol={});l(h,d)||c(h,d,{value:u.f(d)})}},7839:function(i,s){i.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},"7b0b":function(i,s,o){var a=o("1d80");i.exports=function(l){return Object(a(l))}},"7c73":function(i,s,o){var a=o("825a"),l=o("37e8"),u=o("7839"),c=o("d012"),d=o("1be4"),h=o("cc12"),p=o("f772"),m=">",g="<",y="prototype",P="script",I=p("IE_PROTO"),S=function(){},T=function(b){return g+P+m+b+g+"/"+P+m},M=function(b){b.write(T("")),b.close();var w=b.parentWindow.Object;return b=null,w},R=function(){var b=h("iframe"),w="java"+P+":",k;return b.style.display="none",d.appendChild(b),b.src=String(w),k=b.contentWindow.document,k.open(),k.write(T("document.F=Object")),k.close(),k.F},C,E=function(){try{C=document.domain&&new ActiveXObject("htmlfile")}catch{}E=C?M(C):R();for(var b=u.length;b--;)delete E[y][u[b]];return E()};c[I]=!0,i.exports=Object.create||function(w,k){var x;return w!==null?(S[y]=a(w),x=new S,S[y]=null,x[I]=w):x=E(),k===void 0?x:l(x,k)}},"7dd0":function(i,s,o){var a=o("23e7"),l=o("9ed3"),u=o("e163"),c=o("d2bb"),d=o("d44e"),h=o("9112"),p=o("6eeb"),m=o("b622"),g=o("c430"),y=o("3f8c"),P=o("ae93"),I=P.IteratorPrototype,S=P.BUGGY_SAFARI_ITERATORS,T=m("iterator"),M="keys",R="values",C="entries",E=function(){return this};i.exports=function(b,w,k,x,O,j,U){l(k,w,x);var $=function(Y){if(Y===O&&ue)return ue;if(!S&&Y in z)return z[Y];switch(Y){case M:return function(){return new k(this,Y)};case R:return function(){return new k(this,Y)};case C:return function(){return new k(this,Y)}}return function(){return new k(this)}},q=w+" Iterator",te=!1,z=b.prototype,V=z[T]||z["@@iterator"]||O&&z[O],ue=!S&&V||$(O),oe=w=="Array"&&z.entries||V,ve,Se,he;if(oe&&(ve=u(oe.call(new b)),I!==Object.prototype&&ve.next&&(!g&&u(ve)!==I&&(c?c(ve,I):typeof ve[T]!="function"&&h(ve,T,E)),d(ve,q,!0,!0),g&&(y[q]=E))),O==R&&V&&V.name!==R&&(te=!0,ue=function(){return V.call(this)}),(!g||U)&&z[T]!==ue&&h(z,T,ue),y[w]=ue,O)if(Se={values:$(R),keys:j?ue:$(M),entries:$(C)},U)for(he in Se)(S||te||!(he in z))&&p(z,he,Se[he]);else a({target:w,proto:!0,forced:S||te},Se);return Se}},"7f9a":function(i,s,o){var a=o("da84"),l=o("8925"),u=a.WeakMap;i.exports=typeof u=="function"&&/native code/.test(l(u))},"825a":function(i,s,o){var a=o("861d");i.exports=function(l){if(!a(l))throw TypeError(String(l)+" is not an object");return l}},"83ab":function(i,s,o){var a=o("d039");i.exports=!a(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7})},8418:function(i,s,o){var a=o("c04e"),l=o("9bf2"),u=o("5c6c");i.exports=function(c,d,h){var p=a(d);p in c?l.f(c,p,u(0,h)):c[p]=h}},"861d":function(i,s){i.exports=function(o){return typeof o=="object"?o!==null:typeof o=="function"}},8875:function(i,s,o){var a,l,u;(function(c,d){l=[],a=d,u=typeof a=="function"?a.apply(s,l):a,u!==void 0&&(i.exports=u)})(typeof self<"u"?self:this,function(){function c(){var d=Object.getOwnPropertyDescriptor(document,"currentScript");if(!d&&"currentScript"in document&&document.currentScript||d&&d.get!==c&&document.currentScript)return document.currentScript;try{throw new Error}catch(C){var h=/.*at [^(]*\((.*):(.+):(.+)\)$/ig,p=/@([^@]*):(\d+):(\d+)\s*$/ig,m=h.exec(C.stack)||p.exec(C.stack),g=m&&m[1]||!1,y=m&&m[2]||!1,P=document.location.href.replace(document.location.hash,""),I,S,T,M=document.getElementsByTagName("script");g===P&&(I=document.documentElement.outerHTML,S=new RegExp("(?:[^\\n]+?\\n){0,"+(y-2)+"}[^<]*<script>([\\d\\D]*?)<\\/script>[\\d\\D]*","i"),T=I.replace(S,"$1").trim());for(var R=0;R<M.length;R++)if(M[R].readyState==="interactive"||M[R].src===g||g===P&&M[R].innerHTML&&M[R].innerHTML.trim()===T)return M[R];return null}}return c})},8925:function(i,s,o){var a=o("c6cd"),l=Function.toString;typeof a.inspectSource!="function"&&(a.inspectSource=function(u){return l.call(u)}),i.exports=a.inspectSource},"8aa5":function(i,s,o){var a=o("6547").charAt;i.exports=function(l,u,c){return u+(c?a(l,u).length:1)}},"8bbf":function(i,s){i.exports=n},"90e3":function(i,s){var o=0,a=Math.random();i.exports=function(l){return"Symbol("+String(l===void 0?"":l)+")_"+(++o+a).toString(36)}},9112:function(i,s,o){var a=o("83ab"),l=o("9bf2"),u=o("5c6c");i.exports=a?function(c,d,h){return l.f(c,d,u(1,h))}:function(c,d,h){return c[d]=h,c}},9263:function(i,s,o){var a=o("ad6d"),l=o("9f7f"),u=RegExp.prototype.exec,c=String.prototype.replace,d=u,h=function(){var y=/a/,P=/b*/g;return u.call(y,"a"),u.call(P,"a"),y.lastIndex!==0||P.lastIndex!==0}(),p=l.UNSUPPORTED_Y||l.BROKEN_CARET,m=/()??/.exec("")[1]!==void 0,g=h||m||p;g&&(d=function(P){var I=this,S,T,M,R,C=p&&I.sticky,E=a.call(I),b=I.source,w=0,k=P;return C&&(E=E.replace("y",""),E.indexOf("g")===-1&&(E+="g"),k=String(P).slice(I.lastIndex),I.lastIndex>0&&(!I.multiline||I.multiline&&P[I.lastIndex-1]!==`
`)&&(b="(?: "+b+")",k=" "+k,w++),T=new RegExp("^(?:"+b+")",E)),m&&(T=new RegExp("^"+b+"$(?!\\s)",E)),h&&(S=I.lastIndex),M=u.call(C?T:I,k),C?M?(M.input=M.input.slice(w),M[0]=M[0].slice(w),M.index=I.lastIndex,I.lastIndex+=M[0].length):I.lastIndex=0:h&&M&&(I.lastIndex=I.global?M.index+M[0].length:S),m&&M&&M.length>1&&c.call(M[0],T,function(){for(R=1;R<arguments.length-2;R++)arguments[R]===void 0&&(M[R]=void 0)}),M}),i.exports=d},"94ca":function(i,s,o){var a=o("d039"),l=/#|\.prototype\./,u=function(m,g){var y=d[c(m)];return y==p?!0:y==h?!1:typeof g=="function"?a(g):!!g},c=u.normalize=function(m){return String(m).replace(l,".").toLowerCase()},d=u.data={},h=u.NATIVE="N",p=u.POLYFILL="P";i.exports=u},"99af":function(i,s,o){var a=o("23e7"),l=o("d039"),u=o("e8b5"),c=o("861d"),d=o("7b0b"),h=o("50c4"),p=o("8418"),m=o("65f0"),g=o("1dde"),y=o("b622"),P=o("2d00"),I=y("isConcatSpreadable"),S=9007199254740991,T="Maximum allowed index exceeded",M=P>=51||!l(function(){var b=[];return b[I]=!1,b.concat()[0]!==b}),R=g("concat"),C=function(b){if(!c(b))return!1;var w=b[I];return w!==void 0?!!w:u(b)},E=!M||!R;a({target:"Array",proto:!0,forced:E},{concat:function(w){var k=d(this),x=m(k,0),O=0,j,U,$,q,te;for(j=-1,$=arguments.length;j<$;j++)if(te=j===-1?k:arguments[j],C(te)){if(q=h(te.length),O+q>S)throw TypeError(T);for(U=0;U<q;U++,O++)U in te&&p(x,O,te[U])}else{if(O>=S)throw TypeError(T);p(x,O++,te)}return x.length=O,x}})},"9bdd":function(i,s,o){var a=o("825a");i.exports=function(l,u,c,d){try{return d?u(a(c)[0],c[1]):u(c)}catch(p){var h=l.return;throw h!==void 0&&a(h.call(l)),p}}},"9bf2":function(i,s,o){var a=o("83ab"),l=o("0cfb"),u=o("825a"),c=o("c04e"),d=Object.defineProperty;s.f=a?d:function(p,m,g){if(u(p),m=c(m,!0),u(g),l)try{return d(p,m,g)}catch{}if("get"in g||"set"in g)throw TypeError("Accessors not supported");return"value"in g&&(p[m]=g.value),p}},"9ed3":function(i,s,o){var a=o("ae93").IteratorPrototype,l=o("7c73"),u=o("5c6c"),c=o("d44e"),d=o("3f8c"),h=function(){return this};i.exports=function(p,m,g){var y=m+" Iterator";return p.prototype=l(a,{next:u(1,g)}),c(p,y,!1,!0),d[y]=h,p}},"9f7f":function(i,s,o){var a=o("d039");function l(u,c){return RegExp(u,c)}s.UNSUPPORTED_Y=a(function(){var u=l("a","y");return u.lastIndex=2,u.exec("abcd")!=null}),s.BROKEN_CARET=a(function(){var u=l("^r","gy");return u.lastIndex=2,u.exec("str")!=null})},a2bf:function(i,s,o){var a=o("e8b5"),l=o("50c4"),u=o("0366"),c=function(d,h,p,m,g,y,P,I){for(var S=g,T=0,M=P?u(P,I,3):!1,R;T<m;){if(T in p){if(R=M?M(p[T],T,h):p[T],y>0&&a(R))S=c(d,h,R,l(R.length),S,y-1)-1;else{if(S>=9007199254740991)throw TypeError("Exceed the acceptable array length");d[S]=R}S++}T++}return S};i.exports=c},a352:function(i,s){i.exports=r},a434:function(i,s,o){var a=o("23e7"),l=o("23cb"),u=o("a691"),c=o("50c4"),d=o("7b0b"),h=o("65f0"),p=o("8418"),m=o("1dde"),g=o("ae40"),y=m("splice"),P=g("splice",{ACCESSORS:!0,0:0,1:2}),I=Math.max,S=Math.min,T=9007199254740991,M="Maximum allowed length exceeded";a({target:"Array",proto:!0,forced:!y||!P},{splice:function(C,E){var b=d(this),w=c(b.length),k=l(C,w),x=arguments.length,O,j,U,$,q,te;if(x===0?O=j=0:x===1?(O=0,j=w-k):(O=x-2,j=S(I(u(E),0),w-k)),w+O-j>T)throw TypeError(M);for(U=h(b,j),$=0;$<j;$++)q=k+$,q in b&&p(U,$,b[q]);if(U.length=j,O<j){for($=k;$<w-j;$++)q=$+j,te=$+O,q in b?b[te]=b[q]:delete b[te];for($=w;$>w-j+O;$--)delete b[$-1]}else if(O>j)for($=w-j;$>k;$--)q=$+j-1,te=$+O-1,q in b?b[te]=b[q]:delete b[te];for($=0;$<O;$++)b[$+k]=arguments[$+2];return b.length=w-j+O,U}})},a4d3:function(i,s,o){var a=o("23e7"),l=o("da84"),u=o("d066"),c=o("c430"),d=o("83ab"),h=o("4930"),p=o("fdbf"),m=o("d039"),g=o("5135"),y=o("e8b5"),P=o("861d"),I=o("825a"),S=o("7b0b"),T=o("fc6a"),M=o("c04e"),R=o("5c6c"),C=o("7c73"),E=o("df75"),b=o("241c"),w=o("057f"),k=o("7418"),x=o("06cf"),O=o("9bf2"),j=o("d1e7"),U=o("9112"),$=o("6eeb"),q=o("5692"),te=o("f772"),z=o("d012"),V=o("90e3"),ue=o("b622"),oe=o("e538"),ve=o("746f"),Se=o("d44e"),he=o("69f3"),Y=o("b727").forEach,ne=te("hidden"),pe="Symbol",se="prototype",_e=ue("toPrimitive"),Ce=he.set,fe=he.getterFor(pe),L=Object[se],H=l.Symbol,X=u("JSON","stringify"),me=x.f,ge=O.f,Ae=w.f,Ve=j.f,ke=q("symbols"),De=q("op-symbols"),Ie=q("string-to-symbol-registry"),He=q("symbol-to-string-registry"),We=q("wks"),Qe=l.QObject,lt=!Qe||!Qe[se]||!Qe[se].findChild,et=d&&m(function(){return C(ge({},"a",{get:function(){return ge(this,"a",{value:7}).a}})).a!=7})?function(rt,Ye,ut){var Pt=me(L,Ye);Pt&&delete L[Ye],ge(rt,Ye,ut),Pt&&rt!==L&&ge(L,Ye,Pt)}:ge,re=function(rt,Ye){var ut=ke[rt]=C(H[se]);return Ce(ut,{type:pe,tag:rt,description:Ye}),d||(ut.description=Ye),ut},G=p?function(rt){return typeof rt=="symbol"}:function(rt){return Object(rt)instanceof H},Q=function(Ye,ut,Pt){Ye===L&&Q(De,ut,Pt),I(Ye);var It=M(ut,!0);return I(Pt),g(ke,It)?(Pt.enumerable?(g(Ye,ne)&&Ye[ne][It]&&(Ye[ne][It]=!1),Pt=C(Pt,{enumerable:R(0,!1)})):(g(Ye,ne)||ge(Ye,ne,R(1,{})),Ye[ne][It]=!0),et(Ye,It,Pt)):ge(Ye,It,Pt)},ae=function(Ye,ut){I(Ye);var Pt=T(ut),It=E(Pt).concat(Ne(Pt));return Y(It,function(_r){(!d||qe.call(Pt,_r))&&Q(Ye,_r,Pt[_r])}),Ye},be=function(Ye,ut){return ut===void 0?C(Ye):ae(C(Ye),ut)},qe=function(Ye){var ut=M(Ye,!0),Pt=Ve.call(this,ut);return this===L&&g(ke,ut)&&!g(De,ut)?!1:Pt||!g(this,ut)||!g(ke,ut)||g(this,ne)&&this[ne][ut]?Pt:!0},tt=function(Ye,ut){var Pt=T(Ye),It=M(ut,!0);if(!(Pt===L&&g(ke,It)&&!g(De,It))){var _r=me(Pt,It);return _r&&g(ke,It)&&!(g(Pt,ne)&&Pt[ne][It])&&(_r.enumerable=!0),_r}},we=function(Ye){var ut=Ae(T(Ye)),Pt=[];return Y(ut,function(It){!g(ke,It)&&!g(z,It)&&Pt.push(It)}),Pt},Ne=function(Ye){var ut=Ye===L,Pt=Ae(ut?De:T(Ye)),It=[];return Y(Pt,function(_r){g(ke,_r)&&(!ut||g(L,_r))&&It.push(ke[_r])}),It};if(h||(H=function(){if(this instanceof H)throw TypeError("Symbol is not a constructor");var Ye=!arguments.length||arguments[0]===void 0?void 0:String(arguments[0]),ut=V(Ye),Pt=function(It){this===L&&Pt.call(De,It),g(this,ne)&&g(this[ne],ut)&&(this[ne][ut]=!1),et(this,ut,R(1,It))};return d&&lt&&et(L,ut,{configurable:!0,set:Pt}),re(ut,Ye)},$(H[se],"toString",function(){return fe(this).tag}),$(H,"withoutSetter",function(rt){return re(V(rt),rt)}),j.f=qe,O.f=Q,x.f=tt,b.f=w.f=we,k.f=Ne,oe.f=function(rt){return re(ue(rt),rt)},d&&(ge(H[se],"description",{configurable:!0,get:function(){return fe(this).description}}),c||$(L,"propertyIsEnumerable",qe,{unsafe:!0}))),a({global:!0,wrap:!0,forced:!h,sham:!h},{Symbol:H}),Y(E(We),function(rt){ve(rt)}),a({target:pe,stat:!0,forced:!h},{for:function(rt){var Ye=String(rt);if(g(Ie,Ye))return Ie[Ye];var ut=H(Ye);return Ie[Ye]=ut,He[ut]=Ye,ut},keyFor:function(Ye){if(!G(Ye))throw TypeError(Ye+" is not a symbol");if(g(He,Ye))return He[Ye]},useSetter:function(){lt=!0},useSimple:function(){lt=!1}}),a({target:"Object",stat:!0,forced:!h,sham:!d},{create:be,defineProperty:Q,defineProperties:ae,getOwnPropertyDescriptor:tt}),a({target:"Object",stat:!0,forced:!h},{getOwnPropertyNames:we,getOwnPropertySymbols:Ne}),a({target:"Object",stat:!0,forced:m(function(){k.f(1)})},{getOwnPropertySymbols:function(Ye){return k.f(S(Ye))}}),X){var Ue=!h||m(function(){var rt=H();return X([rt])!="[null]"||X({a:rt})!="{}"||X(Object(rt))!="{}"});a({target:"JSON",stat:!0,forced:Ue},{stringify:function(Ye,ut,Pt){for(var It=[Ye],_r=1,Fa;arguments.length>_r;)It.push(arguments[_r++]);if(Fa=ut,!(!P(ut)&&Ye===void 0||G(Ye)))return y(ut)||(ut=function(eo,Ua){if(typeof Fa=="function"&&(Ua=Fa.call(this,eo,Ua)),!G(Ua))return Ua}),It[1]=ut,X.apply(null,It)}})}H[se][_e]||U(H[se],_e,H[se].valueOf),Se(H,pe),z[ne]=!0},a630:function(i,s,o){var a=o("23e7"),l=o("4df4"),u=o("1c7e"),c=!u(function(d){Array.from(d)});a({target:"Array",stat:!0,forced:c},{from:l})},a640:function(i,s,o){var a=o("d039");i.exports=function(l,u){var c=[][l];return!!c&&a(function(){c.call(null,u||function(){throw 1},1)})}},a691:function(i,s){var o=Math.ceil,a=Math.floor;i.exports=function(l){return isNaN(l=+l)?0:(l>0?a:o)(l)}},ab13:function(i,s,o){var a=o("b622"),l=a("match");i.exports=function(u){var c=/./;try{"/./"[u](c)}catch{try{return c[l]=!1,"/./"[u](c)}catch{}}return!1}},ac1f:function(i,s,o){var a=o("23e7"),l=o("9263");a({target:"RegExp",proto:!0,forced:/./.exec!==l},{exec:l})},ad6d:function(i,s,o){var a=o("825a");i.exports=function(){var l=a(this),u="";return l.global&&(u+="g"),l.ignoreCase&&(u+="i"),l.multiline&&(u+="m"),l.dotAll&&(u+="s"),l.unicode&&(u+="u"),l.sticky&&(u+="y"),u}},ae40:function(i,s,o){var a=o("83ab"),l=o("d039"),u=o("5135"),c=Object.defineProperty,d={},h=function(p){throw p};i.exports=function(p,m){if(u(d,p))return d[p];m||(m={});var g=[][p],y=u(m,"ACCESSORS")?m.ACCESSORS:!1,P=u(m,0)?m[0]:h,I=u(m,1)?m[1]:void 0;return d[p]=!!g&&!l(function(){if(y&&!a)return!0;var S={length:-1};y?c(S,1,{enumerable:!0,get:h}):S[1]=1,g.call(S,P,I)})}},ae93:function(i,s,o){var a=o("e163"),l=o("9112"),u=o("5135"),c=o("b622"),d=o("c430"),h=c("iterator"),p=!1,m=function(){return this},g,y,P;[].keys&&(P=[].keys(),"next"in P?(y=a(a(P)),y!==Object.prototype&&(g=y)):p=!0),g==null&&(g={}),!d&&!u(g,h)&&l(g,h,m),i.exports={IteratorPrototype:g,BUGGY_SAFARI_ITERATORS:p}},b041:function(i,s,o){var a=o("00ee"),l=o("f5df");i.exports=a?{}.toString:function(){return"[object "+l(this)+"]"}},b0c0:function(i,s,o){var a=o("83ab"),l=o("9bf2").f,u=Function.prototype,c=u.toString,d=/^\s*function ([^ (]*)/,h="name";a&&!(h in u)&&l(u,h,{configurable:!0,get:function(){try{return c.call(this).match(d)[1]}catch{return""}}})},b622:function(i,s,o){var a=o("da84"),l=o("5692"),u=o("5135"),c=o("90e3"),d=o("4930"),h=o("fdbf"),p=l("wks"),m=a.Symbol,g=h?m:m&&m.withoutSetter||c;i.exports=function(y){return u(p,y)||(d&&u(m,y)?p[y]=m[y]:p[y]=g("Symbol."+y)),p[y]}},b64b:function(i,s,o){var a=o("23e7"),l=o("7b0b"),u=o("df75"),c=o("d039"),d=c(function(){u(1)});a({target:"Object",stat:!0,forced:d},{keys:function(p){return u(l(p))}})},b727:function(i,s,o){var a=o("0366"),l=o("44ad"),u=o("7b0b"),c=o("50c4"),d=o("65f0"),h=[].push,p=function(m){var g=m==1,y=m==2,P=m==3,I=m==4,S=m==6,T=m==5||S;return function(M,R,C,E){for(var b=u(M),w=l(b),k=a(R,C,3),x=c(w.length),O=0,j=E||d,U=g?j(M,x):y?j(M,0):void 0,$,q;x>O;O++)if((T||O in w)&&($=w[O],q=k($,O,b),m)){if(g)U[O]=q;else if(q)switch(m){case 3:return!0;case 5:return $;case 6:return O;case 2:h.call(U,$)}else if(I)return!1}return S?-1:P||I?I:U}};i.exports={forEach:p(0),map:p(1),filter:p(2),some:p(3),every:p(4),find:p(5),findIndex:p(6)}},c04e:function(i,s,o){var a=o("861d");i.exports=function(l,u){if(!a(l))return l;var c,d;if(u&&typeof(c=l.toString)=="function"&&!a(d=c.call(l))||typeof(c=l.valueOf)=="function"&&!a(d=c.call(l))||!u&&typeof(c=l.toString)=="function"&&!a(d=c.call(l)))return d;throw TypeError("Can't convert object to primitive value")}},c430:function(i,s){i.exports=!1},c6b6:function(i,s){var o={}.toString;i.exports=function(a){return o.call(a).slice(8,-1)}},c6cd:function(i,s,o){var a=o("da84"),l=o("ce4e"),u="__core-js_shared__",c=a[u]||l(u,{});i.exports=c},c740:function(i,s,o){var a=o("23e7"),l=o("b727").findIndex,u=o("44d2"),c=o("ae40"),d="findIndex",h=!0,p=c(d);d in[]&&Array(1)[d](function(){h=!1}),a({target:"Array",proto:!0,forced:h||!p},{findIndex:function(g){return l(this,g,arguments.length>1?arguments[1]:void 0)}}),u(d)},c8ba:function(i,s){var o;o=function(){return this}();try{o=o||new Function("return this")()}catch{typeof window=="object"&&(o=window)}i.exports=o},c975:function(i,s,o){var a=o("23e7"),l=o("4d64").indexOf,u=o("a640"),c=o("ae40"),d=[].indexOf,h=!!d&&1/[1].indexOf(1,-0)<0,p=u("indexOf"),m=c("indexOf",{ACCESSORS:!0,1:0});a({target:"Array",proto:!0,forced:h||!p||!m},{indexOf:function(y){return h?d.apply(this,arguments)||0:l(this,y,arguments.length>1?arguments[1]:void 0)}})},ca84:function(i,s,o){var a=o("5135"),l=o("fc6a"),u=o("4d64").indexOf,c=o("d012");i.exports=function(d,h){var p=l(d),m=0,g=[],y;for(y in p)!a(c,y)&&a(p,y)&&g.push(y);for(;h.length>m;)a(p,y=h[m++])&&(~u(g,y)||g.push(y));return g}},caad:function(i,s,o){var a=o("23e7"),l=o("4d64").includes,u=o("44d2"),c=o("ae40"),d=c("indexOf",{ACCESSORS:!0,1:0});a({target:"Array",proto:!0,forced:!d},{includes:function(p){return l(this,p,arguments.length>1?arguments[1]:void 0)}}),u("includes")},cc12:function(i,s,o){var a=o("da84"),l=o("861d"),u=a.document,c=l(u)&&l(u.createElement);i.exports=function(d){return c?u.createElement(d):{}}},ce4e:function(i,s,o){var a=o("da84"),l=o("9112");i.exports=function(u,c){try{l(a,u,c)}catch{a[u]=c}return c}},d012:function(i,s){i.exports={}},d039:function(i,s){i.exports=function(o){try{return!!o()}catch{return!0}}},d066:function(i,s,o){var a=o("428f"),l=o("da84"),u=function(c){return typeof c=="function"?c:void 0};i.exports=function(c,d){return arguments.length<2?u(a[c])||u(l[c]):a[c]&&a[c][d]||l[c]&&l[c][d]}},d1e7:function(i,s,o){var a={}.propertyIsEnumerable,l=Object.getOwnPropertyDescriptor,u=l&&!a.call({1:2},1);s.f=u?function(d){var h=l(this,d);return!!h&&h.enumerable}:a},d28b:function(i,s,o){var a=o("746f");a("iterator")},d2bb:function(i,s,o){var a=o("825a"),l=o("3bbe");i.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var u=!1,c={},d;try{d=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set,d.call(c,[]),u=c instanceof Array}catch{}return function(p,m){return a(p),l(m),u?d.call(p,m):p.__proto__=m,p}}():void 0)},d3b7:function(i,s,o){var a=o("00ee"),l=o("6eeb"),u=o("b041");a||l(Object.prototype,"toString",u,{unsafe:!0})},d44e:function(i,s,o){var a=o("9bf2").f,l=o("5135"),u=o("b622"),c=u("toStringTag");i.exports=function(d,h,p){d&&!l(d=p?d:d.prototype,c)&&a(d,c,{configurable:!0,value:h})}},d58f:function(i,s,o){var a=o("1c0b"),l=o("7b0b"),u=o("44ad"),c=o("50c4"),d=function(h){return function(p,m,g,y){a(m);var P=l(p),I=u(P),S=c(P.length),T=h?S-1:0,M=h?-1:1;if(g<2)for(;;){if(T in I){y=I[T],T+=M;break}if(T+=M,h?T<0:S<=T)throw TypeError("Reduce of empty array with no initial value")}for(;h?T>=0:S>T;T+=M)T in I&&(y=m(y,I[T],T,P));return y}};i.exports={left:d(!1),right:d(!0)}},d784:function(i,s,o){o("ac1f");var a=o("6eeb"),l=o("d039"),u=o("b622"),c=o("9263"),d=o("9112"),h=u("species"),p=!l(function(){var I=/./;return I.exec=function(){var S=[];return S.groups={a:"7"},S},"".replace(I,"$<a>")!=="7"}),m=function(){return"a".replace(/./,"$0")==="$0"}(),g=u("replace"),y=function(){return/./[g]?/./[g]("a","$0")==="":!1}(),P=!l(function(){var I=/(?:)/,S=I.exec;I.exec=function(){return S.apply(this,arguments)};var T="ab".split(I);return T.length!==2||T[0]!=="a"||T[1]!=="b"});i.exports=function(I,S,T,M){var R=u(I),C=!l(function(){var O={};return O[R]=function(){return 7},""[I](O)!=7}),E=C&&!l(function(){var O=!1,j=/a/;return I==="split"&&(j={},j.constructor={},j.constructor[h]=function(){return j},j.flags="",j[R]=/./[R]),j.exec=function(){return O=!0,null},j[R](""),!O});if(!C||!E||I==="replace"&&!(p&&m&&!y)||I==="split"&&!P){var b=/./[R],w=T(R,""[I],function(O,j,U,$,q){return j.exec===c?C&&!q?{done:!0,value:b.call(j,U,$)}:{done:!0,value:O.call(U,j,$)}:{done:!1}},{REPLACE_KEEPS_$0:m,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:y}),k=w[0],x=w[1];a(String.prototype,I,k),a(RegExp.prototype,R,S==2?function(O,j){return x.call(O,this,j)}:function(O){return x.call(O,this)})}M&&d(RegExp.prototype[R],"sham",!0)}},d81d:function(i,s,o){var a=o("23e7"),l=o("b727").map,u=o("1dde"),c=o("ae40"),d=u("map"),h=c("map");a({target:"Array",proto:!0,forced:!d||!h},{map:function(m){return l(this,m,arguments.length>1?arguments[1]:void 0)}})},da84:function(i,s,o){(function(a){var l=function(u){return u&&u.Math==Math&&u};i.exports=l(typeof globalThis=="object"&&globalThis)||l(typeof window=="object"&&window)||l(typeof self=="object"&&self)||l(typeof a=="object"&&a)||Function("return this")()}).call(this,o("c8ba"))},dbb4:function(i,s,o){var a=o("23e7"),l=o("83ab"),u=o("56ef"),c=o("fc6a"),d=o("06cf"),h=o("8418");a({target:"Object",stat:!0,sham:!l},{getOwnPropertyDescriptors:function(m){for(var g=c(m),y=d.f,P=u(g),I={},S=0,T,M;P.length>S;)M=y(g,T=P[S++]),M!==void 0&&h(I,T,M);return I}})},dbf1:function(i,s,o){(function(a){o.d(s,"a",function(){return u});function l(){return typeof window<"u"?window.console:a.console}var u=l()}).call(this,o("c8ba"))},ddb0:function(i,s,o){var a=o("da84"),l=o("fdbc"),u=o("e260"),c=o("9112"),d=o("b622"),h=d("iterator"),p=d("toStringTag"),m=u.values;for(var g in l){var y=a[g],P=y&&y.prototype;if(P){if(P[h]!==m)try{c(P,h,m)}catch{P[h]=m}if(P[p]||c(P,p,g),l[g]){for(var I in u)if(P[I]!==u[I])try{c(P,I,u[I])}catch{P[I]=u[I]}}}}},df75:function(i,s,o){var a=o("ca84"),l=o("7839");i.exports=Object.keys||function(c){return a(c,l)}},e01a:function(i,s,o){var a=o("23e7"),l=o("83ab"),u=o("da84"),c=o("5135"),d=o("861d"),h=o("9bf2").f,p=o("e893"),m=u.Symbol;if(l&&typeof m=="function"&&(!("description"in m.prototype)||m().description!==void 0)){var g={},y=function(){var R=arguments.length<1||arguments[0]===void 0?void 0:String(arguments[0]),C=this instanceof y?new m(R):R===void 0?m():m(R);return R===""&&(g[C]=!0),C};p(y,m);var P=y.prototype=m.prototype;P.constructor=y;var I=P.toString,S=String(m("test"))=="Symbol(test)",T=/^Symbol\((.*)\)[^)]+$/;h(P,"description",{configurable:!0,get:function(){var R=d(this)?this.valueOf():this,C=I.call(R);if(c(g,R))return"";var E=S?C.slice(7,-1):C.replace(T,"$1");return E===""?void 0:E}}),a({global:!0,forced:!0},{Symbol:y})}},e163:function(i,s,o){var a=o("5135"),l=o("7b0b"),u=o("f772"),c=o("e177"),d=u("IE_PROTO"),h=Object.prototype;i.exports=c?Object.getPrototypeOf:function(p){return p=l(p),a(p,d)?p[d]:typeof p.constructor=="function"&&p instanceof p.constructor?p.constructor.prototype:p instanceof Object?h:null}},e177:function(i,s,o){var a=o("d039");i.exports=!a(function(){function l(){}return l.prototype.constructor=null,Object.getPrototypeOf(new l)!==l.prototype})},e260:function(i,s,o){var a=o("fc6a"),l=o("44d2"),u=o("3f8c"),c=o("69f3"),d=o("7dd0"),h="Array Iterator",p=c.set,m=c.getterFor(h);i.exports=d(Array,"Array",function(g,y){p(this,{type:h,target:a(g),index:0,kind:y})},function(){var g=m(this),y=g.target,P=g.kind,I=g.index++;return!y||I>=y.length?(g.target=void 0,{value:void 0,done:!0}):P=="keys"?{value:I,done:!1}:P=="values"?{value:y[I],done:!1}:{value:[I,y[I]],done:!1}},"values"),u.Arguments=u.Array,l("keys"),l("values"),l("entries")},e439:function(i,s,o){var a=o("23e7"),l=o("d039"),u=o("fc6a"),c=o("06cf").f,d=o("83ab"),h=l(function(){c(1)}),p=!d||h;a({target:"Object",stat:!0,forced:p,sham:!d},{getOwnPropertyDescriptor:function(g,y){return c(u(g),y)}})},e538:function(i,s,o){var a=o("b622");s.f=a},e893:function(i,s,o){var a=o("5135"),l=o("56ef"),u=o("06cf"),c=o("9bf2");i.exports=function(d,h){for(var p=l(h),m=c.f,g=u.f,y=0;y<p.length;y++){var P=p[y];a(d,P)||m(d,P,g(h,P))}}},e8b5:function(i,s,o){var a=o("c6b6");i.exports=Array.isArray||function(u){return a(u)=="Array"}},e95a:function(i,s,o){var a=o("b622"),l=o("3f8c"),u=a("iterator"),c=Array.prototype;i.exports=function(d){return d!==void 0&&(l.Array===d||c[u]===d)}},f5df:function(i,s,o){var a=o("00ee"),l=o("c6b6"),u=o("b622"),c=u("toStringTag"),d=l(function(){return arguments}())=="Arguments",h=function(p,m){try{return p[m]}catch{}};i.exports=a?l:function(p){var m,g,y;return p===void 0?"Undefined":p===null?"Null":typeof(g=h(m=Object(p),c))=="string"?g:d?l(m):(y=l(m))=="Object"&&typeof m.callee=="function"?"Arguments":y}},f772:function(i,s,o){var a=o("5692"),l=o("90e3"),u=a("keys");i.exports=function(c){return u[c]||(u[c]=l(c))}},fb15:function(i,s,o){if(o.r(s),typeof window<"u"){var a=window.document.currentScript;{var l=o("8875");a=l(),"currentScript"in document||Object.defineProperty(document,"currentScript",{get:l})}var u=a&&a.src.match(/(.+\/)[^/]+\.js(\?.*)?$/);u&&(o.p=u[1])}o("99af"),o("4de4"),o("4160"),o("c975"),o("d81d"),o("a434"),o("159b"),o("a4d3"),o("e439"),o("dbb4"),o("b64b");function c(G,Q,ae){return Q in G?Object.defineProperty(G,Q,{value:ae,enumerable:!0,configurable:!0,writable:!0}):G[Q]=ae,G}function d(G,Q){var ae=Object.keys(G);if(Object.getOwnPropertySymbols){var be=Object.getOwnPropertySymbols(G);Q&&(be=be.filter(function(qe){return Object.getOwnPropertyDescriptor(G,qe).enumerable})),ae.push.apply(ae,be)}return ae}function h(G){for(var Q=1;Q<arguments.length;Q++){var ae=arguments[Q]!=null?arguments[Q]:{};Q%2?d(Object(ae),!0).forEach(function(be){c(G,be,ae[be])}):Object.getOwnPropertyDescriptors?Object.defineProperties(G,Object.getOwnPropertyDescriptors(ae)):d(Object(ae)).forEach(function(be){Object.defineProperty(G,be,Object.getOwnPropertyDescriptor(ae,be))})}return G}function p(G){if(Array.isArray(G))return G}o("e01a"),o("d28b"),o("e260"),o("d3b7"),o("3ca3"),o("ddb0");function m(G,Q){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(G)))){var ae=[],be=!0,qe=!1,tt=void 0;try{for(var we=G[Symbol.iterator](),Ne;!(be=(Ne=we.next()).done)&&(ae.push(Ne.value),!(Q&&ae.length===Q));be=!0);}catch(Ue){qe=!0,tt=Ue}finally{try{!be&&we.return!=null&&we.return()}finally{if(qe)throw tt}}return ae}}o("a630"),o("fb6a"),o("b0c0"),o("25f0");function g(G,Q){(Q==null||Q>G.length)&&(Q=G.length);for(var ae=0,be=new Array(Q);ae<Q;ae++)be[ae]=G[ae];return be}function y(G,Q){if(G){if(typeof G=="string")return g(G,Q);var ae=Object.prototype.toString.call(G).slice(8,-1);if(ae==="Object"&&G.constructor&&(ae=G.constructor.name),ae==="Map"||ae==="Set")return Array.from(G);if(ae==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(ae))return g(G,Q)}}function P(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function I(G,Q){return p(G)||m(G,Q)||y(G,Q)||P()}function S(G){if(Array.isArray(G))return g(G)}function T(G){if(typeof Symbol<"u"&&Symbol.iterator in Object(G))return Array.from(G)}function M(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function R(G){return S(G)||T(G)||y(G)||M()}var C=o("a352"),E=o.n(C);function b(G){G.parentElement!==null&&G.parentElement.removeChild(G)}function w(G,Q,ae){var be=ae===0?G.children[0]:G.children[ae-1].nextSibling;G.insertBefore(Q,be)}var k=o("dbf1");o("13d5"),o("4fad"),o("ac1f"),o("5319");function x(G){var Q=Object.create(null);return function(be){var qe=Q[be];return qe||(Q[be]=G(be))}}var O=/-(\w)/g,j=x(function(G){return G.replace(O,function(Q,ae){return ae.toUpperCase()})});o("5db7"),o("73d9");var U=["Start","Add","Remove","Update","End"],$=["Choose","Unchoose","Sort","Filter","Clone"],q=["Move"],te=[q,U,$].flatMap(function(G){return G}).map(function(G){return"on".concat(G)}),z={manage:q,manageAndEmit:U,emit:$};function V(G){return te.indexOf(G)!==-1}o("caad"),o("2ca0");var ue=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","label","legend","li","link","main","map","mark","math","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rb","rp","rt","rtc","ruby","s","samp","script","section","select","slot","small","source","span","strong","style","sub","summary","sup","svg","table","tbody","td","template","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr"];function oe(G){return ue.includes(G)}function ve(G){return["transition-group","TransitionGroup"].includes(G)}function Se(G){return["id","class","role","style"].includes(G)||G.startsWith("data-")||G.startsWith("aria-")||G.startsWith("on")}function he(G){return G.reduce(function(Q,ae){var be=I(ae,2),qe=be[0],tt=be[1];return Q[qe]=tt,Q},{})}function Y(G){var Q=G.$attrs,ae=G.componentData,be=ae===void 0?{}:ae,qe=he(Object.entries(Q).filter(function(tt){var we=I(tt,2),Ne=we[0];return we[1],Se(Ne)}));return h(h({},qe),be)}function ne(G){var Q=G.$attrs,ae=G.callBackBuilder,be=he(pe(Q));Object.entries(ae).forEach(function(tt){var we=I(tt,2),Ne=we[0],Ue=we[1];z[Ne].forEach(function(rt){be["on".concat(rt)]=Ue(rt)})});var qe="[data-draggable]".concat(be.draggable||"");return h(h({},be),{},{draggable:qe})}function pe(G){return Object.entries(G).filter(function(Q){var ae=I(Q,2),be=ae[0];return ae[1],!Se(be)}).map(function(Q){var ae=I(Q,2),be=ae[0],qe=ae[1];return[j(be),qe]}).filter(function(Q){var ae=I(Q,2),be=ae[0];return ae[1],!V(be)})}o("c740");function se(G,Q){if(!(G instanceof Q))throw new TypeError("Cannot call a class as a function")}function _e(G,Q){for(var ae=0;ae<Q.length;ae++){var be=Q[ae];be.enumerable=be.enumerable||!1,be.configurable=!0,"value"in be&&(be.writable=!0),Object.defineProperty(G,be.key,be)}}function Ce(G,Q,ae){return Q&&_e(G.prototype,Q),ae&&_e(G,ae),G}var fe=function(Q){var ae=Q.el;return ae},L=function(Q,ae){return Q.__draggable_context=ae},H=function(Q){return Q.__draggable_context},X=function(){function G(Q){var ae=Q.nodes,be=ae.header,qe=ae.default,tt=ae.footer,we=Q.root,Ne=Q.realList;se(this,G),this.defaultNodes=qe,this.children=[].concat(R(be),R(qe),R(tt)),this.externalComponent=we.externalComponent,this.rootTransition=we.transition,this.tag=we.tag,this.realList=Ne}return Ce(G,[{key:"render",value:function(ae,be){var qe=this.tag,tt=this.children,we=this._isRootComponent,Ne=we?{default:function(){return tt}}:tt;return ae(qe,be,Ne)}},{key:"updated",value:function(){var ae=this.defaultNodes,be=this.realList;ae.forEach(function(qe,tt){L(fe(qe),{element:be[tt],index:tt})})}},{key:"getUnderlyingVm",value:function(ae){return H(ae)}},{key:"getVmIndexFromDomIndex",value:function(ae,be){var qe=this.defaultNodes,tt=qe.length,we=be.children,Ne=we.item(ae);if(Ne===null)return tt;var Ue=H(Ne);if(Ue)return Ue.index;if(tt===0)return 0;var rt=fe(qe[0]),Ye=R(we).findIndex(function(ut){return ut===rt});return ae<Ye?0:tt}},{key:"_isRootComponent",get:function(){return this.externalComponent||this.rootTransition}}]),G}(),me=o("8bbf");function ge(G,Q){var ae=G[Q];return ae?ae():[]}function Ae(G){var Q=G.$slots,ae=G.realList,be=G.getKey,qe=ae||[],tt=["header","footer"].map(function(ut){return ge(Q,ut)}),we=I(tt,2),Ne=we[0],Ue=we[1],rt=Q.item;if(!rt)throw new Error("draggable element must have an item slot");var Ye=qe.flatMap(function(ut,Pt){return rt({element:ut,index:Pt}).map(function(It){return It.key=be(ut),It.props=h(h({},It.props||{}),{},{"data-draggable":!0}),It})});if(Ye.length!==qe.length)throw new Error("Item slot must have only one child");return{header:Ne,footer:Ue,default:Ye}}function Ve(G){var Q=ve(G),ae=!oe(G)&&!Q;return{transition:Q,externalComponent:ae,tag:ae?Object(me.resolveComponent)(G):Q?me.TransitionGroup:G}}function ke(G){var Q=G.$slots,ae=G.tag,be=G.realList,qe=G.getKey,tt=Ae({$slots:Q,realList:be,getKey:qe}),we=Ve(ae);return new X({nodes:tt,root:we,realList:be})}function De(G,Q){var ae=this;Object(me.nextTick)(function(){return ae.$emit(G.toLowerCase(),Q)})}function Ie(G){var Q=this;return function(ae,be){if(Q.realList!==null)return Q["onDrag".concat(G)](ae,be)}}function He(G){var Q=this,ae=Ie.call(this,G);return function(be,qe){ae.call(Q,be,qe),De.call(Q,G,be)}}var We=null,Qe={list:{type:Array,required:!1,default:null},modelValue:{type:Array,required:!1,default:null},itemKey:{type:[String,Function],required:!0},clone:{type:Function,default:function(Q){return Q}},tag:{type:String,default:"div"},move:{type:Function,default:null},componentData:{type:Object,required:!1,default:null}},lt=["update:modelValue","change"].concat(R([].concat(R(z.manageAndEmit),R(z.emit)).map(function(G){return G.toLowerCase()}))),et=Object(me.defineComponent)({name:"draggable",inheritAttrs:!1,props:Qe,emits:lt,data:function(){return{error:!1}},render:function(){try{this.error=!1;var Q=this.$slots,ae=this.$attrs,be=this.tag,qe=this.componentData,tt=this.realList,we=this.getKey,Ne=ke({$slots:Q,tag:be,realList:tt,getKey:we});this.componentStructure=Ne;var Ue=Y({$attrs:ae,componentData:qe});return Ne.render(me.h,Ue)}catch(rt){return this.error=!0,Object(me.h)("pre",{style:{color:"red"}},rt.stack)}},created:function(){this.list!==null&&this.modelValue!==null&&k.a.error("modelValue and list props are mutually exclusive! Please set one or another.")},mounted:function(){var Q=this;if(!this.error){var ae=this.$attrs,be=this.$el,qe=this.componentStructure;qe.updated();var tt=ne({$attrs:ae,callBackBuilder:{manageAndEmit:function(Ue){return He.call(Q,Ue)},emit:function(Ue){return De.bind(Q,Ue)},manage:function(Ue){return Ie.call(Q,Ue)}}}),we=be.nodeType===1?be:be.parentElement;this._sortable=new E.a(we,tt),this.targetDomElement=we,we.__draggable_component__=this}},updated:function(){this.componentStructure.updated()},beforeUnmount:function(){this._sortable!==void 0&&this._sortable.destroy()},computed:{realList:function(){var Q=this.list;return Q||this.modelValue},getKey:function(){var Q=this.itemKey;return typeof Q=="function"?Q:function(ae){return ae[Q]}}},watch:{$attrs:{handler:function(Q){var ae=this._sortable;ae&&pe(Q).forEach(function(be){var qe=I(be,2),tt=qe[0],we=qe[1];ae.option(tt,we)})},deep:!0}},methods:{getUnderlyingVm:function(Q){return this.componentStructure.getUnderlyingVm(Q)||null},getUnderlyingPotencialDraggableComponent:function(Q){return Q.__draggable_component__},emitChanges:function(Q){var ae=this;Object(me.nextTick)(function(){return ae.$emit("change",Q)})},alterList:function(Q){if(this.list){Q(this.list);return}var ae=R(this.modelValue);Q(ae),this.$emit("update:modelValue",ae)},spliceList:function(){var Q=arguments,ae=function(qe){return qe.splice.apply(qe,R(Q))};this.alterList(ae)},updatePosition:function(Q,ae){var be=function(tt){return tt.splice(ae,0,tt.splice(Q,1)[0])};this.alterList(be)},getRelatedContextFromMoveEvent:function(Q){var ae=Q.to,be=Q.related,qe=this.getUnderlyingPotencialDraggableComponent(ae);if(!qe)return{component:qe};var tt=qe.realList,we={list:tt,component:qe};if(ae!==be&&tt){var Ne=qe.getUnderlyingVm(be)||{};return h(h({},Ne),we)}return we},getVmIndexFromDomIndex:function(Q){return this.componentStructure.getVmIndexFromDomIndex(Q,this.targetDomElement)},onDragStart:function(Q){this.context=this.getUnderlyingVm(Q.item),Q.item._underlying_vm_=this.clone(this.context.element),We=Q.item},onDragAdd:function(Q){var ae=Q.item._underlying_vm_;if(ae!==void 0){b(Q.item);var be=this.getVmIndexFromDomIndex(Q.newIndex);this.spliceList(be,0,ae);var qe={element:ae,newIndex:be};this.emitChanges({added:qe})}},onDragRemove:function(Q){if(w(this.$el,Q.item,Q.oldIndex),Q.pullMode==="clone"){b(Q.clone);return}var ae=this.context,be=ae.index,qe=ae.element;this.spliceList(be,1);var tt={element:qe,oldIndex:be};this.emitChanges({removed:tt})},onDragUpdate:function(Q){b(Q.item),w(Q.from,Q.item,Q.oldIndex);var ae=this.context.index,be=this.getVmIndexFromDomIndex(Q.newIndex);this.updatePosition(ae,be);var qe={element:this.context.element,oldIndex:ae,newIndex:be};this.emitChanges({moved:qe})},computeFutureIndex:function(Q,ae){if(!Q.element)return 0;var be=R(ae.to.children).filter(function(Ne){return Ne.style.display!=="none"}),qe=be.indexOf(ae.related),tt=Q.component.getVmIndexFromDomIndex(qe),we=be.indexOf(We)!==-1;return we||!ae.willInsertAfter?tt:tt+1},onDragMove:function(Q,ae){var be=this.move,qe=this.realList;if(!be||!qe)return!0;var tt=this.getRelatedContextFromMoveEvent(Q),we=this.computeFutureIndex(tt,Q),Ne=h(h({},this.context),{},{futureIndex:we}),Ue=h(h({},Q),{},{relatedContext:tt,draggedContext:Ne});return be(Ue,ae)},onDragEnd:function(){We=null}}}),re=et;s.default=re},fb6a:function(i,s,o){var a=o("23e7"),l=o("861d"),u=o("e8b5"),c=o("23cb"),d=o("50c4"),h=o("fc6a"),p=o("8418"),m=o("b622"),g=o("1dde"),y=o("ae40"),P=g("slice"),I=y("slice",{ACCESSORS:!0,0:0,1:2}),S=m("species"),T=[].slice,M=Math.max;a({target:"Array",proto:!0,forced:!P||!I},{slice:function(C,E){var b=h(this),w=d(b.length),k=c(C,w),x=c(E===void 0?w:E,w),O,j,U;if(u(b)&&(O=b.constructor,typeof O=="function"&&(O===Array||u(O.prototype))?O=void 0:l(O)&&(O=O[S],O===null&&(O=void 0)),O===Array||O===void 0))return T.call(b,k,x);for(j=new(O===void 0?Array:O)(M(x-k,0)),U=0;k<x;k++,U++)k in b&&p(j,U,b[k]);return j.length=U,j}})},fc6a:function(i,s,o){var a=o("44ad"),l=o("1d80");i.exports=function(u){return a(l(u))}},fdbc:function(i,s){i.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},fdbf:function(i,s,o){var a=o("4930");i.exports=a&&!Symbol.sham&&typeof Symbol.iterator=="symbol"}}).default})})(GM);var Tre=GM.exports;const X1=Vne(Tre),Ere={key:0,class:"mb-5 p-4 border-y"},Sre={class:"flex"},Ire=v("i",{class:"drag-handle pi pi-arrows-v place-self-center hover:cursor-pointer"},null,-1),Cre=xe({__name:"StringListField",props:{id:{},name:{},label:{},placeholder:{},modelValue:{}},emits:["update:modelValue","update:error"],setup(t,{expose:e,emit:n}){const r=t,i=n,s=ie(""),o=ee({get:()=>r.modelValue.slice(),set:h=>{i("update:modelValue",h),s.value=""}}),a=ee(()=>r.name+(r.id?"."+r.id:"")),l=(h,p)=>{const m=o.value.slice();m.splice(h,1,p),o.value=m},u=()=>{s.value.length&&(o.value=[...o.value,s.value])},c=h=>{const p=o.value.slice();p.splice(h,1),o.value=p};return e({test:()=>{}}),(h,p)=>(N(),W("div",null,[B(ei,{id:a.value,name:h.name,label:h.label,modelValue:s.value,"onUpdate:modelValue":p[0]||(p[0]=m=>s.value=m),max:200,placeholder:h.placeholder,onKeydown:p[1]||(p[1]=bt(m=>u(),["enter"]))},null,8,["id","name","label","modelValue","placeholder"]),o.value.length?(N(),W("div",Ere,[B(A(X1),{modelValue:o.value,"onUpdate:modelValue":p[2]||(p[2]=m=>o.value=m),itemKey:"index",handle:".drag-handle"},{item:J(({element:m,index:g})=>[v("div",Sre,[Ire,B(ei,{class:"w-full",id:`${h.name}.${g}`,name:h.name,"model-value":m,max:200,"delete-button":"","onUpdate:modelValue":y=>l(g,y.toString()),"onUpdate:delete":y=>c(g)},null,8,["id","name","model-value","onUpdate:modelValue","onUpdate:delete"])])]),_:1},8,["modelValue"])])):Z("",!0)]))}}),Are={class:"md:px-5"},Pre={class:"flex justify-center"},Ore={key:0},kre={class:"mt-3 flex justify-evenly font-bold"},Rre=xe({__name:"BlogPostContentSectionDialogSection",props:{section:{}},emits:["error","delete"],setup(t,{expose:e,emit:n}){const r=n,s=Fc($c).greaterOrEqual("sm"),o=ie(!1),a=ie(),l=ie(),u=ie(),c=ie(),d=ie(),h=ie(),p=ie(),m=ie(),g=ie(),y=ie(),P=ie(),I=ie(),S=ie(),T=ie(!1),M=ie(!1),R=ie(!1),C=ee(()=>[g.value,y.value,P.value,I.value,S.value,T.value,M.value,R.value].some(k=>!!k)),E=ee(()=>s.value?"View more options":"View more"),b=ee(()=>s.value?"Hide more options":"View less");return e({test:async()=>{var k,x,O,j,U,$,q,te;await Promise.all([(k=a.value)==null?void 0:k.test(),(x=l.value)==null?void 0:x.test(),(O=u.value)==null?void 0:O.test(),(j=d.value)==null?void 0:j.test(),(U=c.value)==null?void 0:U.test(),($=h.value)==null?void 0:$.test(),(q=p.value)==null?void 0:q.test(),(te=m.value)==null?void 0:te.test()]),r("error",C.value)}}),(k,x)=>(N(),W("div",Are,[B(ei,{class:"mt-0 pt-5",ref_key:"title",ref:a,id:k.section.id,name:"title",label:"Section Title",modelValue:k.section.title,"onUpdate:modelValue":x[0]||(x[0]=O=>k.section.title=O),error:g.value,"onUpdate:error":x[1]||(x[1]=O=>g.value=O),max:50},null,8,["id","modelValue","error"]),B(ei,{ref_key:"subTitle",ref:l,id:k.section.id,name:"subTitle",label:"Section Subtitle",modelValue:k.section.subTitle,"onUpdate:modelValue":x[2]||(x[2]=O=>k.section.subTitle=O),error:y.value,"onUpdate:error":x[3]||(x[3]=O=>y.value=O),max:200},null,8,["id","modelValue","error"]),B(Q0,{ref_key:"description",ref:u,id:k.section.id,name:"description",label:"Section Description",modelValue:k.section.description,"onUpdate:modelValue":x[4]||(x[4]=O=>k.section.description=O),error:P.value,"onUpdate:error":x[5]||(x[5]=O=>P.value=O),"max-length":1e4},null,8,["id","modelValue","error"]),v("div",Pre,[B(at,{class:"w-full sm:w-2/3 xl:w-2/3 text-nowrap",type:"primary",outlined:"",icon:o.value?"pi pi-angle-up":"pi pi-angle-down",label:o.value?b.value:E.value,onClick:x[6]||(x[6]=O=>o.value=!o.value)},null,8,["icon","label"])]),o.value?(N(),W("div",Ore,[B(zr,{ref_key:"alignment",ref:c,id:k.section.id,name:"alignment",label:"Alignment",modelValue:k.section.alignment,"onUpdate:modelValue":x[7]||(x[7]=O=>k.section.alignment=O),error:S.value,"onUpdate:error":x[8]||(x[8]=O=>S.value=O),options:A(hM),rules:[A(Dt).Required]},null,8,["id","modelValue","error","options","rules"]),B(W1,{ref_key:"coverImageUrl",ref:d,id:k.section.id,name:"coverImageUrl",label:"Cover image",modelValue:k.section.coverImageUrl,"onUpdate:modelValue":x[9]||(x[9]=O=>k.section.coverImageUrl=O),error:I.value,"onUpdate:error":x[10]||(x[10]=O=>I.value=O)},null,8,["id","modelValue","error"]),B(ig,{ref_key:"countdown",ref:h,id:k.section.id,name:"countdown",label:"Countdown",modelValue:k.section.countdown,"onUpdate:modelValue":x[11]||(x[11]=O=>k.section.countdown=O),error:T.value,"onUpdate:error":x[12]||(x[12]=O=>T.value=O)},null,8,["id","modelValue","error"]),B(ig,{ref_key:"timer",ref:p,id:k.section.id,name:"timer",label:"Timer",modelValue:k.section.timer,"onUpdate:modelValue":x[13]||(x[13]=O=>k.section.timer=O),error:M.value,"onUpdate:error":x[14]||(x[14]=O=>M.value=O)},null,8,["id","modelValue","error"]),B(Cre,{ref_key:"bullets",ref:m,id:k.section.id,name:"bullets",label:"Section Bullets",placeholder:"New bullet...",modelValue:k.section.bullets,"onUpdate:modelValue":x[15]||(x[15]=O=>k.section.bullets=O)},null,8,["id","modelValue"]),B(WM,{id:k.section.id,name:"table",label:"Table",modelValue:k.section.table,"onUpdate:modelValue":x[16]||(x[16]=O=>k.section.table=O)},null,8,["id","modelValue"])])):Z("",!0),v("div",kre,[B(at,{class:"w-full sm:w-2/3 md:w-1/2 xl:w-2/3",type:"danger",outlined:"",label:"Delete",onClick:x[17]||(x[17]=O=>k.$emit("delete"))})])]))}}),xre={class:"flex gap-5"},Dre=v("i",{class:"pi pi-arrows-v place-self-center hover:cursor-pointer"},null,-1),Nre={class:"mt-3 flex justify-center"},Mre=xe({__name:"BlogPostContentDialogSection",emits:["update:selected","error"],setup(t,{expose:e,emit:n}){const r=n,i=kf(),{blogPostOriginal:s,blogPostMutation:o,isOpen:a}=Vt(i),l=ie(),u=ie(),c=ie(),d=ie(),h=ie(),p=ie(),m=ie([]),g=ie(),y=ie(),P=ie(),I=ie(),S=ie(),T=ie(!1),M=ie(!1),R=ie({}),C=ee(()=>[y.value,P.value,I.value,S.value,T.value,M.value,Object.values(R.value).some(x=>x)].some(x=>!!x)),E=()=>{o.value.sections.push({id:c2(),title:"",subTitle:"",description:"",alignment:"left",coverImageUrl:"",countdown:null,timer:null,table:"",bullets:[]})},b=x=>{const O=o.value.sections.slice(),j=O.findIndex(U=>U.id===x);O.splice(j,1),i.blogPostMutation.sections=O},w=(x,O)=>{R.value[O]=x};return e({test:async()=>{for(const x of m.value)await x.test();await Promise.all([l.value.test(),u.value.test(),c.value.test(),h.value.test(),p.value.test()]),r("error",C.value),R.value={}}}),(x,O)=>(N(),W(Pe,null,[B(ei,{ref_key:"title",ref:l,name:"title",label:"Title",placeholder:"Amazing Post",modelValue:A(o).title,"onUpdate:modelValue":O[0]||(O[0]=j=>A(o).title=j),error:y.value,"onUpdate:error":O[1]||(O[1]=j=>y.value=j),rules:[A(Dt).Required],"min-length":3,"max-length":50},null,8,["modelValue","error","rules"]),B(Q0,{ref_key:"description",ref:u,name:"description",label:"Description",placeholder:"Something about my post...",modelValue:A(o).description,"onUpdate:modelValue":O[2]||(O[2]=j=>A(o).description=j),error:P.value,"onUpdate:error":O[3]||(O[3]=j=>P.value=j),"max-length":1e4},null,8,["modelValue","error"]),B(W1,{ref_key:"coverImageUrl",ref:d,id:"coverImageUrl",name:"coverImageUrl",label:"Cover image",modelValue:A(o).coverImageUrl,"onUpdate:modelValue":O[4]||(O[4]=j=>A(o).coverImageUrl=j),error:S.value,"onUpdate:error":O[5]||(O[5]=j=>S.value=j),"blog-post":A(s)??void 0},null,8,["modelValue","error","blog-post"]),A(a)?(N(),ce(A(er),{key:0,onTabOpen:A(ar)},{default:J(()=>[B(A(Le),{header:"Other content"},{default:J(()=>[B(Q0,{ref_key:"descriptionFooter",ref:c,name:"descriptionFooter",label:"Footer",placeholder:"Some beautiful ending...",modelValue:A(o).descriptionFooter,"onUpdate:modelValue":O[6]||(O[6]=j=>A(o).descriptionFooter=j),error:I.value,"onUpdate:error":O[7]||(O[7]=j=>I.value=j),"max-length":1e4},null,8,["modelValue","error"]),B(ig,{ref_key:"countdown",ref:h,name:"countdown",label:"Countdown",modelValue:A(o).countdown,"onUpdate:modelValue":O[8]||(O[8]=j=>A(o).countdown=j),error:T.value,"onUpdate:error":O[9]||(O[9]=j=>T.value=j)},null,8,["modelValue","error"]),B(ig,{ref_key:"timer",ref:p,name:"timer",label:"Timer",modelValue:A(o).timer,"onUpdate:modelValue":O[10]||(O[10]=j=>A(o).timer=j),error:M.value,"onUpdate:error":O[11]||(O[11]=j=>M.value=j)},null,8,["modelValue","error"]),B(WM,{name:"table",label:"Table",modelValue:A(o).table,"onUpdate:modelValue":O[12]||(O[12]=j=>A(o).table=j)},null,8,["modelValue"])]),_:1}),B(A(Le),{header:"Sections"},{default:J(()=>[B(A(X1),{ref_key:"draggable",ref:g,modelValue:A(o).sections,"onUpdate:modelValue":O[13]||(O[13]=j=>A(o).sections=j),itemKey:j=>j.id,handle:".drag-handle"},{item:J(({element:j})=>[A(a)?(N(),ce(A(er),{key:0,onTabOpen:A(ar)},{default:J(()=>[B(A(Le),{pt:{header:{class:"drag-handle"},toggleableContent:{class:"background-gray-dark rounded-t-primary rounded-b-primary"}}},{header:J(()=>[v("div",xre,[Dre,v("p",null,Fe(j.title||"New section"),1)])]),default:J(()=>[B(Rre,{ref:U=>{m.value[j.id]=U},section:j,"is-open":A(a),onDelete:U=>b(j.id),onError:U=>w(U,j.id)},null,8,["section","is-open","onDelete","onError"])]),_:2},1024)]),_:2},1032,["onTabOpen"])):Z("",!0)]),_:1},8,["modelValue","itemKey"]),v("div",Nre,[B(at,{class:"w-1/2",type:"green",label:"Add Section",onClick:E})])]),_:1})]),_:1},8,["onTabOpen"])):Z("",!0)],64))}});var Lre={root:{position:"relative"}},Vre={root:function(e){var n=e.instance,r=e.props;return["p-inputswitch p-component",{"p-highlight":n.checked,"p-disabled":r.disabled,"p-invalid":r.invalid}]},input:"p-inputswitch-input",slider:"p-inputswitch-slider"},$re=fr.extend({name:"inputswitch",classes:Vre,inlineStyles:Lre}),Fre={name:"BaseInputSwitch",extends:oi,props:{modelValue:{type:null,default:!1},trueValue:{type:null,default:!0},falseValue:{type:null,default:!1},invalid:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},tabindex:{type:Number,default:null},inputId:{type:String,default:null},inputClass:{type:[String,Object],default:null},inputStyle:{type:Object,default:null},ariaLabelledby:{type:String,default:null},ariaLabel:{type:String,default:null}},style:$re,provide:function(){return{$parentInstance:this}}},oL={name:"InputSwitch",extends:Fre,inheritAttrs:!1,emits:["update:modelValue","change","focus","blur"],methods:{getPTOptions:function(e){var n=e==="root"?this.ptmi:this.ptm;return n(e,{context:{checked:this.checked,disabled:this.disabled}})},onChange:function(e){if(!this.disabled&&!this.readonly){var n=this.checked?this.falseValue:this.trueValue;this.$emit("update:modelValue",n),this.$emit("change",e)}},onFocus:function(e){this.$emit("focus",e)},onBlur:function(e){this.$emit("blur",e)}},computed:{checked:function(){return this.modelValue===this.trueValue}}},Ure=["data-p-highlight","data-p-disabled"],qre=["id","checked","tabindex","disabled","readonly","aria-checked","aria-labelledby","aria-label","aria-invalid"];function Bre(t,e,n,r,i,s){return N(),W("div",le({class:t.cx("root"),style:t.sx("root")},s.getPTOptions("root"),{"data-p-highlight":s.checked,"data-p-disabled":t.disabled}),[v("input",le({id:t.inputId,type:"checkbox",role:"switch",class:[t.cx("input"),t.inputClass],style:t.inputStyle,checked:s.checked,tabindex:t.tabindex,disabled:t.disabled,readonly:t.readonly,"aria-checked":s.checked,"aria-labelledby":t.ariaLabelledby,"aria-label":t.ariaLabel,"aria-invalid":t.invalid||void 0,onFocus:e[0]||(e[0]=function(){return s.onFocus&&s.onFocus.apply(s,arguments)}),onBlur:e[1]||(e[1]=function(){return s.onBlur&&s.onBlur.apply(s,arguments)}),onChange:e[2]||(e[2]=function(){return s.onChange&&s.onChange.apply(s,arguments)})},s.getPTOptions("input")),null,16,qre),v("span",le({class:t.cx("slider")},s.getPTOptions("slider")),null,16)],16,Ure)}oL.render=Bre;const jre={class:"m-4"},Hre=["for"],oh=xe({__name:"SwitchField",props:{id:{},name:{},label:{},modelValue:{type:Boolean},labelProps:{}},emits:["update:modelValue","update:error"],setup(t,{expose:e,emit:n}){const r=t,i=ee({get:()=>r.modelValue,set:l=>{a("update:modelValue",l)}}),s=ee(()=>r.name+(r.id?"."+r.id:"")),o=async l=>{},a=n;return e({test:o}),(l,u)=>(N(),W("div",jre,[l.label?(N(),W("label",le({key:0,class:"block text-sm font-bold mb-2",for:s.value},l.labelProps),Fe(l.label),17,Hre)):Z("",!0),v("div",{class:"p-input cursor-pointer flex align-middle",onClick:u[1]||(u[1]=kt(c=>i.value=!i.value,["prevent"]))},[B(A(oL),{inputId:s.value,ref:"input",modelValue:i.value,"onUpdate:modelValue":u[0]||(u[0]=c=>i.value=c),pt:{slider:{class:i.value?"bg-primary-500":void 0}}},null,8,["inputId","modelValue","pt"])])]))}}),Wre=xe({__name:"BlogPostSettingsDialogSection",emits:["error"],setup(t,{expose:e,emit:n}){const r=n,{firebaseUser:i,publicUser:s}=Vt(br()),o=jn(),{allowedPublicUsers:a}=o,{publicUsers:l}=Vt(o),u=kf(),{blogPostMutation:c}=Vt(u),d=ie(),h=ie(),p=ie(),m=ie(),g=ee({get(){return!!c.value.datePinned},set(b){c.value.datePinned=b?new Date:null}}),y=ie(),P=ie(),I=ie(),S=ie(),T=ee(()=>[y.value,P.value,I.value,S.value].some(b=>!!b)),M=ee(()=>l.value.map(({id:b,displayName:w})=>({value:b,label:w}))),R=ie([]),C=b=>{c.value.allowedUserIds=b},E=async()=>{c.value.allowedUserIds.length&&!R.value.length&&(y.value="Invalid user ID's"),await Promise.all([h.value.test(),p.value.test(),m.value.test()]),r("error",T.value)};return pn(()=>c.value.allowedUserIds,async b=>{R.value=await a(b)},{immediate:!0}),e({test:E}),(b,w)=>(N(),W(Pe,null,[B(zr,{ref_key:"allowedUsers",ref:d,name:"allowedUserIds",label:"Allowed users",placeholder:"This post is public","model-value":A(c).allowedUserIds,error:y.value,"onUpdate:error":w[0]||(w[0]=k=>y.value=k),"onUpdate:arrayValue":C,options:[{value:A(i).uid,label:A(s).displayName},...M.value.filter(({value:k})=>{var x;return k!==((x=A(i))==null?void 0:x.uid)})],multiple:""},null,8,["model-value","error","options"]),B(oh,{ref_key:"pinned",ref:m,name:"pinned",label:"Pinned",modelValue:g.value,"onUpdate:modelValue":w[1]||(w[1]=k=>g.value=k)},null,8,["modelValue"]),B(oh,{ref_key:"locked",ref:h,name:"locked",label:"Locked for commenting",modelValue:A(c).locked,"onUpdate:modelValue":w[2]||(w[2]=k=>A(c).locked=k)},null,8,["modelValue"]),B(oh,{ref_key:"archived",ref:p,name:"archived",label:"Archived",modelValue:A(c).archived,"onUpdate:modelValue":w[3]||(w[3]=k=>A(c).archived=k)},null,8,["modelValue"])],64))}}),zre=xe({__name:"BlogPostStylingDialogSection",emits:["error"],setup(t,{expose:e,emit:n}){const r=n,i=kf(),{blogPostMutation:s}=Vt(i),o=ie(),a=ie(),l=ie(),u=ie(),c=ie(),d=ie(),h=ie(),p=ie(),m=ie(),g=ie(),y=ie(),P=ie(),I=ie(),S=ie(),T=ee(()=>[p.value,m.value,g.value,y.value,P.value,I.value,S.value].some(C=>!!C)),M=ee(()=>$G(eg.find(C=>C.value===s.value.colorPrimary)));return e({test:async()=>{await Promise.all([o.value.test(),a.value.test(),l.value.test(),u.value.test(),c.value.test(),d.value.test(),h.value.test()]),r("error",T.value)}}),(C,E)=>(N(),W(Pe,null,[B(zr,{ref_key:"alignment",ref:o,name:"alignment",label:"Alignment",modelValue:A(s).alignment,"onUpdate:modelValue":E[0]||(E[0]=b=>A(s).alignment=b),error:p.value,"onUpdate:error":E[1]||(E[1]=b=>p.value=b),options:A(hM),rules:[A(Dt).Required]},null,8,["modelValue","error","options","rules"]),B(zr,{ref_key:"colorPrimary",ref:a,name:"colorPrimary",label:"Primary Style",modelValue:A(s).colorPrimary,"onUpdate:modelValue":E[2]||(E[2]=b=>A(s).colorPrimary=b),error:m.value,"onUpdate:error":E[3]||(E[3]=b=>m.value=b),options:A(eg),rules:[A(Dt).Required]},null,8,["modelValue","error","options","rules"]),B(zr,{ref_key:"opacityPrimary",ref:c,name:"opacityPrimary",label:"Primary Opacity",modelValue:A(s).opacityPrimary,"onUpdate:modelValue":E[4]||(E[4]=b=>A(s).opacityPrimary=b),error:P.value,"onUpdate:error":E[5]||(E[5]=b=>P.value=b),options:A(Ny)},null,8,["modelValue","error","options"]),B(zr,{ref_key:"colorSecondary",ref:l,name:"colorSecondary",label:"Secondary Style",modelValue:A(s).colorSecondary,"onUpdate:modelValue":E[6]||(E[6]=b=>A(s).colorSecondary=b),error:g.value,"onUpdate:error":E[7]||(E[7]=b=>g.value=b),options:M.value},null,8,["modelValue","error","options"]),B(zr,{ref_key:"opacitySecondary",ref:d,name:"opacitySecondary",label:"Secondary Opacity",modelValue:A(s).opacitySecondary,"onUpdate:modelValue":E[8]||(E[8]=b=>A(s).opacitySecondary=b),error:I.value,"onUpdate:error":E[9]||(E[9]=b=>I.value=b),options:A(Ny)},null,8,["modelValue","error","options"]),B(zr,{ref_key:"colorTertiary",ref:u,name:"colorTertiary",label:"Tertiary Style",modelValue:A(s).colorTertiary,"onUpdate:modelValue":E[10]||(E[10]=b=>A(s).colorTertiary=b),error:y.value,"onUpdate:error":E[11]||(E[11]=b=>y.value=b),options:A(FG)},null,8,["modelValue","error","options"]),B(zr,{ref_key:"opacityTertiary",ref:h,name:"opacityTertiary",label:"Tertiary Opacity",modelValue:A(s).opacityTertiary,"onUpdate:modelValue":E[12]||(E[12]=b=>A(s).opacityTertiary=b),error:S.value,"onUpdate:error":E[13]||(E[13]=b=>S.value=b),options:A(Ny)},null,8,["modelValue","error","options"])],64))}}),Kre=xe({__name:"BlogPostDialog",emits:["scroll-to-updated"],setup(t,{emit:e}){const n=e,{firebaseUser:r}=Vt(br()),i=jn(),{createBlogPost:s,updateBlogPost:o,deleteFilesOfBlogPost:a,toggleBlogPostVisibility:l,isBlogPostsMutationLoading:u}=i,c=kf(),{getBlogPostMutationContent:d,getBlogPostMutationStyling:h,getBlogPostMutationSettings:p}=c,{isOpen:m,blogPostOriginal:g,blogPostMutationId:y,blogPostMutation:P,hasBlogPostMutationContentChanges:I,hasBlogPostMutationStylingChanges:S,hasBlogPostMutationSettingsChanges:T}=Vt(c),M=ie(),R=ie(),C=ie(),E=ie(),b=ie(!1),w=ie(!1),k=ie(!1),x=ee(()=>{var q,te,z,V,ue,oe;return!!((te=(q=g.value)==null?void 0:q.allowedUserIds)!=null&&te.length)&&!((z=p().allowedUserIds)!=null&&z.length)||!((ue=(V=g.value)==null?void 0:V.allowedUserIds)!=null&&ue.length)&&!!((oe=p().allowedUserIds)!=null&&oe.length)}),O=ee(()=>{const q=[];return I.value&&q.push("Content"),S.value&&q.push("Styling"),T.value&&q.push("Settings"),q.length?"Update "+w0(q):void 0}),j=ee(()=>ao(g.value)),U=async()=>{var q,te,z,V,ue;if(await Promise.all([R.value.test(),C.value.test(),E.value.test()]),!(b.value||w.value||k.value))if(!g.value)await s(y.value,P.value,(q=r.value)==null?void 0:q.uid)&&(c.close(),n("scroll-to-updated",y.value));else if(x.value){const oe=y.value;c.isOpen=!1,await l(oe,Cr.convert(P.value),g.value.reactions,P.value.allowedUserIds.length?"private":"public",(te=r.value)==null?void 0:te.uid)&&(c.close(),nt.success("Successfully updated Post Visibility"),n("scroll-to-updated",oe))}else{const oe=y.value;let ve=[];I.value&&ve.push(await o(oe,d(),j.value,(z=r.value)==null?void 0:z.uid)),S.value&&ve.push(await o(oe,h(),j.value,(V=r.value)==null?void 0:V.uid)),T.value&&(ve.push(await o(oe,p(),j.value,(ue=r.value)==null?void 0:ue.uid)),n("scroll-to-updated",oe)),ve=ve.filter(Se=>typeof Se=="string"),ve.length&&(nt.success(`Successfully updated Post ${w0(ve)}`),c.close())}},$=async()=>{a(P.value,g.value??void 0),c.close()};return pn(P,()=>{c.isMutationEqual()},{deep:!0}),(q,te)=>(N(),ce(H1,{isOpen:A(m),title:A(g)?"Update Post":"Create Post",description:A(g)?"Update this post":"Create a new post","confirm-text":A(g)?O.value:"Create","confirm-loading":A(u),onConfirm:U,onCancel:$},{default:J(()=>[v("form",{ref_key:"dialog",ref:M,class:"pt-6 mb-4 xl:px-16"},[A(m)?(N(),ce(A(er),{key:0,"active-index":0,onTabOpen:A(ar)},{default:J(()=>[B(A(Le),{header:"Content"},{default:J(()=>[B(Mre,{ref_key:"content",ref:R,onError:te[0]||(te[0]=z=>b.value=z)},null,512)]),_:1}),B(A(Le),{header:"Styling"},{default:J(()=>[B(zre,{ref_key:"styling",ref:C,onError:te[1]||(te[1]=z=>w.value=z)},null,512)]),_:1}),B(A(Le),{header:"Settings"},{default:J(()=>[B(Wre,{ref_key:"settings",ref:E,onError:te[2]||(te[2]=z=>k.value=z)},null,512)]),_:1})]),_:1},8,["onTabOpen"])):Z("",!0)],512)]),_:1},8,["isOpen","title","description","confirm-text","confirm-loading"]))}}),Gre={class:"grid mt-10 md:mt-15"},Yre={class:"grid justify-center"},Xre={class:"text-lg md:text-xl text-white"},Qre=["innerHTML"],Jre={class:"grid my-5 xl:px-20"},Zre=xe({__name:"Blog",setup(t){const{publicUser:e}=Vt(br()),n=jn(),{deleteBlogPost:r}=n,{menuItems:i,content:s}=Vt(n),o=cf(),a=kf(),l=ie(null),u=ie(),c=ie(!1),d=ee(()=>{var y;return e.value?[...s.value.blogDescriptionUser.map(P=>P.replace("%USER%",e.value.displayName||"Unknown user")),...((y=i.value.find(P=>P.id==="nfNQM4SMESU2VOkJtcgY"))==null?void 0:y.description)||[]]:s.value.blogDescriptionGuest}),h=()=>{a.openWith(null)},p=y=>{a.openWith(y)},m=y=>{l.value=y,c.value=!0},g=async y=>{await r(y)&&(c.value=!1,l.value=null)};return(y,P)=>(N(),ce(Js,null,{content:J(()=>[v("div",Gre,[v("div",Yre,[(N(!0),W(Pe,null,ht(d.value,I=>(N(),W("h1",Xre,[v("span",{innerHTML:I},null,8,Qre)]))),256))]),v("div",Jre,[A(o).params.postId?(N(),ce($te,{key:0,onEditClicked:p,onDeleteClicked:m})):(N(),ce(jte,{key:1,onCreateClicked:h,onEditClicked:p,onDeleteClicked:m})),B(Kre,{onScrollToUpdated:P[0]||(P[0]=I=>u.value=I)}),l.value?(N(),ce(H1,{key:2,title:"Delete Post",isOpen:c.value,description:[` Are you sure you want to delete this post called ' ${l.value.title}'?`,"This cannot be undone."],"confirm-text":"Confirm","confirm-props":{type:"danger",outlined:!0},onConfirm:P[1]||(P[1]=I=>g(l.value.id)),onCancel:P[2]||(P[2]=I=>c.value=!1)},null,8,["isOpen","description"])):Z("",!0)])])]),_:1}))}}),dP=xe({__name:"Blog",setup(t){return(e,n)=>(N(),ce(Zre))}}),eie={class:"flex flex-col items-center content-center"},tie=xe({__name:"CatCalc",setup(t){const e=Pr({calculator:{value:"average",error:""},catWeigth:{value:"",error:""},catAge:{value:"",error:""},catGender:{value:"male",error:""},catSize:{value:"",error:""},catFoodDry:{value:"",error:""},catFoodWet:{value:"",error:""},catFoodSnax:{value:"",error:""},catFoodSnaxPercentage:{value:"5",error:""}}),n=[{value:"average",label:"Average"},{value:"nvwa",label:"NVWA"},{value:"royalcanin",label:"Royal Canin"},{value:"petsplace",label:"Pets Place"},{value:"rawz",label:"RAWZ"},{value:"petcube",label:"Petcube"}],r=[{value:"default",label:"Adult healthy",rerIndex:1.4},{value:"lazy",label:"Adult lazy",rerIndex:1},{value:"castrated",label:"Adult castrated",rerIndex:1.2},{value:"underweight",label:"Adult underfed",rerIndex:1.8},{value:"overweight",label:"Adult overfed",rerIndex:.8},{value:"kitten0.4",label:"Kitten 0-4 months",rerIndex:2.5},{value:"kitten1",label:"Kitten 4-12 months",rerIndex:2}],i=[{value:"male",label:"Male"},{value:"female",label:"Female"}],s=ee(()=>[{value:"35",label:"Small (<25cm)",factor:e.catGender.value==="male"?.9:.75},{value:"40",label:"Average (25-30cm)",factor:e.catGender.value==="male"?1:.9},{value:"45",label:"Big (30-35cm)",factor:e.catGender.value==="male"?1.125:1},{value:"65",label:"Pretty damn big (35-40cm)",factor:e.catGender.value==="male"?1.6:1.4},{value:"90",label:"Massive (>40cm)",factor:e.catGender.value==="male"?2.25:2}]),o={nvwa:[{weight:0,calories:0},{weight:1,calories:200},{weight:2,calories:200},{weight:3,calories:240},{weight:4,calories:280},{weight:5,calories:320},{weight:6,calories:360},{weight:7,calories:400},{weight:8,calories:440},{weight:9,calories:480},{weight:10,calories:520}],royalcanin:[{weight:0,calories:0},{weight:1,calories:225},{weight:2,calories:225},{weight:3,calories:275},{weight:4,calories:325},{weight:5,calories:375},{weight:6,calories:425},{weight:7,calories:475},{weight:8,calories:525},{weight:9,calories:575},{weight:10,calories:625}],petsplace:[{weight:0,calories:0},{weight:.5,calories:39},{weight:.9,calories:65},{weight:1.4,calories:88},{weight:1.8,calories:110},{weight:2.3,calories:130},{weight:2.7,calories:149},{weight:3.2,calories:167},{weight:3.6,calories:184},{weight:4.1,calories:200},{weight:4.5,calories:218},{weight:5,calories:234},{weight:5.5,calories:250},{weight:5.9,calories:265},{weight:6.4,calories:280},{weight:6.8,calories:295},{weight:7.3,calories:310},{weight:7.7,calories:324},{weight:8.2,calories:339},{weight:8.6,calories:353},{weight:9.1,calories:366},{weight:11.4,calories:433}],rawz:[{weight:0,calories:0},{weight:1,calories:183},{weight:2.268,calories:183},{weight:3.402,calories:245},{weight:4.536,calories:303},{weight:5.67,calories:362},{weight:6.804,calories:413},{weight:7.938,calories:462},{weight:9.072,calories:513}],petcube:[{weight:.45,calories:40},{weight:.9,calories:65},{weight:2.3,calories:140},{weight:3.15,calories:166},{weight:4.5,calories:250},{weight:6.8,calories:325},{weight:9.1,calories:400},{weight:11.25,calories:450}],average:[]},a=(M,R)=>{const E=o[M].sort((O,j)=>O.weight-j.weight);let b=E[E.length-2].weight,w=E[E.length-2].calories,k=E[E.length-1].weight,x=E[E.length-1].calories;for(let O=0;O<E.length-1;O++)if(R>=E[O].weight&&R<=E[O+1].weight){b=E[O].weight,w=E[O].calories,k=E[O+1].weight,x=E[O+1].calories;break}return{x1:b,y1:w,x2:k,y2:x}},l=(M,R)=>{const{x1:C,y1:E,x2:b,y2:w}=a(M,R);return E+(R-C)*(w-E)/(b-C)},u=()=>{const M=new Map;for(const E of Object.values(o).filter(b=>b!==o.average))for(const{weight:b,calories:w}of E)M.has(b)||M.set(b,{sum:0,count:0}),M.get(b).sum+=w,M.get(b).count++;return[0,1,2,3,4,5,6,7,8,9,10].filter(E=>M.has(E)).map(E=>({weight:E,calories:M.get(E).sum/M.get(E).count}))};o.average=u();const c=[{value:"default",label:"Average (340kcal)",calories:340},{value:"yarrah",label:"Yarrah Chicken (362kcal)",calories:361.5},{value:"yarrah_sterilized",label:"Yarrah Chicken sterilized (353kcal)",calories:353}],d=[{value:"",label:"None",calories:0},{value:"default",label:"Average (85kcal)",calories:85}],h=[{value:"",label:"None",calories:0},{value:"default",label:"Average (2kcal)",calories:2},{value:"yarrah",label:"Yarrah Mini Snack (2kcal)",calories:2},{value:"catstick",label:"Vitakraft Cat Stick (12kcal)",calories:12},{value:"milk_average",label:"Milk Average (40kcal/50ml)",calories:40},{value:"dried_fish",label:"Dried Fish (8kcal)",calories:8}],p=ee(()=>l(e.calculator.value,Number(e.catWeigth.value))),m=ee(()=>{var M;return p.value*(((M=r.find(R=>R.value===e.catAge.value))==null?void 0:M.rerIndex)??1)}),g=ee(()=>{var M;return m.value*(((M=s.value.find(R=>R.value===e.catSize.value))==null?void 0:M.factor)??1)}),y=ee(()=>{const M=h.find(R=>R.value===e.catFoodSnax.value);return M!=null&&M.calories?g.value*(Number(e.catFoodSnaxPercentage.value)/100)/M.calories:void 0}),P=ee(()=>g.value*(1-Number(y.value?e.catFoodSnaxPercentage.value:0)/100)),I=ee(()=>{const M=d.find(R=>R.value===e.catFoodWet.value);return M!=null&&M.calories?P.value/4/M.calories*100:void 0}),S=ee(()=>P.value/4*(I.value?3:4)),T=ee(()=>{var M;return S.value/(((M=c.find(R=>R.value===e.catFoodDry.value))==null?void 0:M.calories)??c[0].calories)*100});return(M,R)=>(N(),ce(Js,null,{content:J(()=>[B(xn,{class:"!bg-cyan-800 !bg-opacity-50 my-5 !rounded-secondary",title:"Cat Calculator",description:"Do a Cat Calculation!"},{default:J(()=>{var C;return[v("div",eie,[B(zr,{class:"w-3/4 md:w-1/2",name:"calculator",label:"Calculation based on",modelValue:e.calculator.value,"onUpdate:modelValue":R[0]||(R[0]=E=>e.calculator.value=E),error:e.calculator.error,"onUpdate:error":R[1]||(R[1]=E=>e.calculator.error=E),options:n,rules:[A(Dt).Required]},null,8,["modelValue","error","rules"]),B(ei,{class:"w-3/4 md:w-1/2",name:"catWeigth",label:"Cat Weight (kg)",modelValue:e.catWeigth.value,"onUpdate:modelValue":R[2]||(R[2]=E=>e.catWeigth.value=E),error:e.catWeigth.error,"onUpdate:error":R[3]||(R[3]=E=>e.catWeigth.error=E),rules:[A(Dt).Required,A(Dt).Numeric],"min-value":1,"max-value":10,"input-props":{type:"number"}},null,8,["modelValue","error","rules"]),B(zr,{class:"w-3/4 md:w-1/2",name:"catAge",label:"Cat Age",modelValue:e.catAge.value,"onUpdate:modelValue":R[4]||(R[4]=E=>e.catAge.value=E),error:e.catAge.error,"onUpdate:error":R[5]||(R[5]=E=>e.catAge.error=E),options:r,rules:[A(Dt).Required]},null,8,["modelValue","error","rules"]),B(zr,{class:"w-3/4 md:w-1/2",name:"catGender",label:"Cat Gender",modelValue:e.catGender.value,"onUpdate:modelValue":R[6]||(R[6]=E=>e.catGender.value=E),error:e.catGender.error,"onUpdate:error":R[7]||(R[7]=E=>e.catGender.error=E),options:i,rules:[A(Dt).Required]},null,8,["modelValue","error","rules"]),B(zr,{class:"w-3/4 md:w-1/2",name:"catSize",label:"Cat Shoulder Height",modelValue:e.catSize.value,"onUpdate:modelValue":R[8]||(R[8]=E=>e.catSize.value=E),error:e.catSize.error,"onUpdate:error":R[9]||(R[9]=E=>e.catSize.error=E),options:s.value,rules:[A(Dt).Required]},null,8,["modelValue","error","options","rules"]),B(xn,{class:"w-full md:w-2/3 my-5 border border-neutral-400 !rounded-primary",description:"Required energy per day: "+g.value.toFixed(1)+" kcal"},null,8,["description"]),B(zr,{class:"w-3/4 md:w-1/2",name:"catFoodDry",label:"Dry Food",modelValue:e.catFoodDry.value,"onUpdate:modelValue":R[10]||(R[10]=E=>e.catFoodDry.value=E),error:e.catFoodDry.error,"onUpdate:error":R[11]||(R[11]=E=>e.catFoodDry.error=E),options:c,rules:[A(Dt).Required]},null,8,["modelValue","error","rules"]),B(zr,{class:"w-3/4 md:w-1/2",name:"catFoodWet",label:"Wet Food (25%)",modelValue:e.catFoodWet.value,"onUpdate:modelValue":R[12]||(R[12]=E=>e.catFoodWet.value=E),error:e.catFoodWet.error,"onUpdate:error":R[13]||(R[13]=E=>e.catFoodWet.error=E),options:d,rules:[A(Dt).Required]},null,8,["modelValue","error","rules"]),B(zr,{class:"w-3/4 md:w-1/2",name:"catFoodSnax",label:"Snacks",modelValue:e.catFoodSnax.value,"onUpdate:modelValue":R[14]||(R[14]=E=>e.catFoodSnax.value=E),error:e.catFoodSnax.error,"onUpdate:error":R[15]||(R[15]=E=>e.catFoodSnax.error=E),options:h,rules:[A(Dt).Required]},null,8,["modelValue","error","rules"]),e.catFoodSnax.value?(N(),ce(ei,{key:0,class:"w-3/4 md:w-1/2",name:"catFoodSnaxPercentage",label:"Snacks Percentage",modelValue:e.catFoodSnaxPercentage.value,"onUpdate:modelValue":R[16]||(R[16]=E=>e.catFoodSnaxPercentage.value=E),error:e.catFoodSnaxPercentage.error,"onUpdate:error":R[17]||(R[17]=E=>e.catFoodSnaxPercentage.error=E),rules:[A(Dt).Required,A(Dt).Numeric],"min-value":1,"max-value":10,"input-props":{type:"number"}},null,8,["modelValue","error","rules"])):Z("",!0),B(xn,{class:"w-full md:w-2/3 my-5 border border-neutral-400 bg-primary-600 bg-opacity-25 !rounded-primary",title:"Result","sub-title":"Based on constants from "+((C=n.find(E=>E.value===e.calculator.value))==null?void 0:C.label),description:["Required dry food per day: "+T.value.toFixed(1)+" g","","","Required dry food per meal: "+(T.value/(I.value?2:3)).toFixed(1)+" g",...I.value?["Required wet food per day: "+I.value.toFixed(1)+" g"]:[],...y.value?["Allowed snacks per day: "+y.value.toFixed(y.value<1?1:0)+" snacks"]:[],"","","","^ Mogu approved!"]},null,8,["sub-title","description"])])]}),_:1})]),_:1}))}}),nie=xe({__name:"CatCalc",setup(t){return(e,n)=>(N(),ce(tie))}}),rie=""+new URL("images/customvoting/customvoting2.jpg",import.meta.url).href,Q1=(t,e)=>{const n=t.__vccOpts||t;for(const[r,i]of e)n[r]=i;return n},iie={},sie={class:"overflow-x-auto"},oie=_k('<table class="min-w-full"><tbody><tr><td class="px-6 py-4 whitespace-nowrap"><code class="text-red-500">/vote</code><br><p class="text-neutral-300">shows you the votelinks</p><em>permission: customvoting.vote</em></td></tr><tr><td class="px-6 py-4 whitespace-nowrap"><code class="text-red-500">/fakevote [player] [website]</code><br><p class="text-neutral-300">do a test or fake vote</p><em>permission: customvoting.fakevote</em></td></tr><tr><td class="px-6 py-4 whitespace-nowrap"><code class="text-red-500">/setvotes &lt;amount&gt; [player]</code><br><p class="text-neutral-300">change someone&#39;s votes</p><em>permission: customvoting.votes.set</em></td></tr><tr><td class="px-6 py-4 whitespace-nowrap"><code class="text-red-500">/clearmonthlyvotes [player]</code><br><p class="text-neutral-300">reset someone&#39;s period votes</p><em>permission: customvoting.monthly</em></td></tr><tr><td class="px-6 py-4 whitespace-nowrap"><code class="text-red-500">/votes [player]</code><br><p class="text-neutral-300">displays your or someone&#39;s current votes</p><em>permission: customvoting.votes[.others]</em></td></tr><tr><td class="px-6 py-4 whitespace-nowrap"><code class="text-red-500">/votetop</code><br><p class="text-neutral-300">displays the top voters</p><em>permission: customvoting.votetop</em></td></tr><tr><td class="px-6 py-4 whitespace-nowrap"><code class="text-red-500">/voteparty start | create</code><br><p class="text-neutral-300">start the vote party or receive the vote party chest</p><em>permission: customvoting.voteparty</em></td></tr><tr><td class="px-6 py-4 whitespace-nowrap"><code class="text-red-500">/votesettings</code><br><p class="text-neutral-300">a GUI based vote editor</p><em>permission: customvoting.settings</em></td></tr><tr><td class="px-6 py-4 whitespace-nowrap"><code class="text-red-500">/votereload [cache]</code><br><p class="text-neutral-300">reload the configuration (and cache)</p><em>permission: customvoting.reload</em></td></tr><tr><td class="px-6 py-4 whitespace-nowrap"><code class="text-red-500">/createtop &lt;top&gt;</code><br><p class="text-neutral-300">create an NPC for this top voter!</p><em>permission: customvoting.createtop</em></td></tr><tr><td class="px-6 py-4 whitespace-nowrap"><code class="text-red-500">/deletetop &lt;top&gt;</code><br><p class="text-neutral-300">delete the NPC of this top voter</p><em>permission: customvoting.deletetop</em></td></tr><tr><td class="px-6 py-4 whitespace-nowrap"><code class="text-red-500">/givecratekey &lt;player&gt; &lt;crateID&gt;</code><br><p class="text-neutral-300">give a crate key to a player</p><em>permission: customvoting.givekey</em></td></tr></tbody></table>',1),aie=[oie];function lie(t,e){return N(),W("div",sie,aie)}const uie=Q1(iie,[["render",lie]]),cie=v("br",null,null,-1),die=v("br",null,null,-1),hie=v("ul",null,[v("li",null,"English/English"),v("li",null,"Deutsch/German"),v("li",null,"Nederlands/Dutch")],-1),fie=v("br",null,null,-1),pie=v("br",null,null,-1),mie=v("ul",null,[v("li",null,"All Votes"),v("li",null,"Monthly Votes"),v("li",null,"Weekly Votes"),v("li",null,"Daily Votes")],-1),gie={class:"flex justify-center m-5"},vie=v("br",null,null,-1),yie=v("br",null,null,-1),bie=v("ul",null,[v("li",null,"Blacklist"),v("li",null,"Whitelist")],-1),_ie=v("br",null,null,-1),wie=v("br",null,null,-1),Tie=v("br",null,null,-1),Eie=v("br",null,null,-1),Sie=v("br",null,null,-1),Iie=v("br",null,null,-1),Cie=v("br",null,null,-1),Aie=v("b",null,"settings.yml",-1),Pie=v("br",null,null,-1),Oie=v("br",null,null,-1),kie=v("br",null,null,-1),Rie=v("br",null,null,-1),xie=v("br",null,null,-1),Die=v("i",null,"sd_master92",-1),Nie=v("i",null,".sd_master92",-1),Mie=xe({__name:"General",setup(t){return(e,n)=>(N(),ce(A(er),{onTabOpen:A(ar)},{default:J(()=>[B(A(Le),{header:"Language"},{default:J(()=>[K(" Change the plugin language "),cie,die,K(" Options: "),hie]),_:1}),B(A(Le),{header:"Vote Top Sorting"},{default:J(()=>[K(" Change who is the top voter of the moment "),fie,pie,K(" Options: "),mie,v("div",gie,[B(ga,{src:"/images/customvoting/vote_top.png"})])]),_:1}),B(A(Le),{header:"Sound Effects"},{default:J(()=>[K(" Enable/disable sound effects (from CustomVoting) ")]),_:1}),B(A(Le),{header:"Firework"},{default:J(()=>[K(" Enable/disable firework effects ")]),_:1}),B(A(Le),{header:"World Exclusion"},{default:J(()=>[K(" Enable/disable players from receiving rewards in specific worlds ")]),_:1}),B(A(Le),{header:"World Exclusion Setting (NEW!)",pt:{header:{class:"text-yellow-500"}}},{default:J(()=>[K(" Change what happens with the 'World Exclusion' list "),vie,yie,K(" Options: "),bie]),_:1}),B(A(Le),{header:"Danger Zone"},{default:J(()=>[K(" Settings you shouldn't touch without knowing what it does "),B(A(er),{class:"mt-3",onTabOpen:A(ar)},{default:J(()=>[B(A(Le),{header:"UUID Storage"},{default:J(()=>[K(" Enable/disable UUID Storage "),_ie,K(" Turn on if: you are running a cracked (non-premium) Minecraft server "),wie,Tie,K(" This settings means that your players will be identified by their playername. It is adviced to password protect these kind of servers, to prevent duplicate playernames from joining your server. ")]),_:1}),B(A(Le),{header:"Database"},{default:J(()=>[K(" Enable/disable the usage of a database instead of data files "),Eie,Sie,K(" Useful if you want to share your CustomVoting data across multiple subservers. "),Iie,Cie,K(" Restart or reload the server after changing. Note that you need to setup your database connection in the "),Aie,K(" file. ")]),_:1}),B(A(Le),{header:"Merge duplicates"},{default:J(()=>[K(" Merge playerfiles that are duplicate "),Pie,Oie,K(" This command is dangerous, as it deleted playerfiles or database rows from players who have the same username. ")]),_:1}),B(A(Le),{header:"Prefix Support"},{default:J(()=>[K(" Enable prefix support for player usernames "),kie,Rie,K(" This setting is required when you're hosting a server with software that adds a prefix in front of your player's usernames. "),xie,K(" For example Gesyer adds a dot in front of a username: "),Die,K(" will become "),Nie]),_:1})]),_:1},8,["onTabOpen"])]),_:1}),B(A(Le),{header:"Process Vote Delay"},{default:J(()=>[K(" Delay the rewards from being given after a player has voted ")]),_:1})]),_:1},8,["onTabOpen"]))}}),Lie={class:"flex justify-center m-5"},Vie=v("br",null,null,-1),$ie=v("br",null,null,-1),Fie=v("ul",null,[v("li",null,"All Items"),v("li",null,"Random Item")],-1),Uie=v("br",null,null,-1),qie=v("br",null,null,-1),Bie=v("b",null,"Vault",-1),jie=v("b",null,"EssentialsX",-1),Hie=v("br",null,null,-1),Wie=v("br",null,null,-1),zie=v("br",null,null,-1),Kie=v("br",null,null,-1),Gie=v("b",null,"/votesettings",-1),Yie=v("i",null,"forbidden_commands",-1),Xie=v("b",null,"settings.yml",-1),Qie={class:"flex justify-center m-5"},Jie=v("br",null,null,-1),Zie=v("br",null,null,-1),ese=v("ul",null,[v("li",null,"All Items"),v("li",null,"Random Item")],-1),tse=v("br",null,null,-1),nse=v("br",null,null,-1),rse=v("b",null,"Vault",-1),ise=v("b",null,"EssentialsX",-1),sse=v("br",null,null,-1),ose=v("br",null,null,-1),ase=v("br",null,null,-1),lse=v("br",null,null,-1),use=v("b",null,"/votesettings",-1),cse=v("i",null,"forbidden_commands",-1),dse=v("b",null,"settings.yml",-1),hse=v("b",null,"Power Rewards",-1),fse=v("br",null,null,-1),pse=v("br",null,null,-1),mse=v("b",null,"Vault",-1),gse=v("b",null,"LuckPerms",-1),vse=v("b",null,"Power Rewards",-1),yse=v("br",null,null,-1),bse=v("br",null,null,-1),_se=v("b",null,"Enabled Groups",-1),wse=v("br",null,null,-1),Tse=v("br",null,null,-1),Ese=v("b",null,"/votesettings",-1),Sse=v("i",null,"forbidden_commands",-1),Ise=v("b",null,"settings.yml",-1),Cse=v("br",null,null,-1),Ase=v("br",null,null,-1),Pse=v("b",null,"/votesettings",-1),Ose=v("i",null,"forbidden_commands",-1),kse=v("b",null,"settings.yml",-1),Rse=v("br",null,null,-1),xse=v("br",null,null,-1),Dse=v("b",null,"Vault",-1),Nse=v("b",null,"LuckPerms",-1),Mse=v("br",null,null,-1),Lse=v("br",null,null,-1),Vse=v("b",null,"/votesettings",-1),$se=v("i",null,"forbidden_commands",-1),Fse=v("b",null,"settings.yml",-1),Use=v("br",null,null,-1),qse=v("br",null,null,-1),Bse=v("b",null,"Vault",-1),jse=v("b",null,"LuckPerms",-1),Hse=v("b",null,"Vote Party",-1),Wse=v("br",null,null,-1),zse=v("br",null,null,-1),Kse=v("ul",null,[v("li",null,[K(" Random Chest at a Time"),v("br"),v("i",null,[K("The items drop out of your "),v("b",null,"Vote Party"),K(" chests one by one, in random order")])]),v("br"),v("li",null,[K(" All Chests at Once"),v("br"),v("i",null,[K("The items drop out of your "),v("b",null,"Vote Party"),K(" chests one by one, concurrently")])]),v("br"),v("li",null,[K(" One Chest at a Time"),v("br"),v("i",null,[K("The items drop out of your "),v("b",null,"Vote Party"),K(" chests one by one, in sequence")])]),v("br"),v("li",null,[K(" Add To Inventory"),v("br"),v("i",null,[K("The items from your "),v("b",null,"Vote Party"),K(" chests are given in your players' inventories one by one, in a random order ")])]),v("br"),v("li",null,[K(" Explode Chests"),v("br"),v("i",null,[K("The items drop out of your "),v("b",null,"Vote Party"),K(" one chest at a time, in random order")])]),v("br"),v("li",null,[K(" Scary"),v("br"),v("i",null,[K("Similar to the "),v("b",null,"Explode Chests"),K(" variant, but a little scarrier")])]),v("br"),v("li",null,[K(" Pig Hunt"),v("br"),v("i",null,"This time, your chests run away! Kill the pigs to receive the rewards.")]),v("br"),v("li",null,[K(" Locked Crates"),v("br"),v("i",null,"The chests can be claimed by a single player. Fun as a hide-and-seek variant!")]),v("br"),v("li",null,"Randomly (one of the above)")],-1),Gse=v("b",null,"Vote Party",-1),Yse=v("br",null,null,-1),Xse=v("br",null,null,-1),Qse=v("b",null,"/votesettings",-1),Jse=v("i",null,"forbidden_commands",-1),Zse=v("b",null,"settings.yml",-1),eoe=v("b",null,"Vote Party",-1),toe=v("br",null,null,-1),noe=v("br",null,null,-1),roe=v("b",null,"Vote Party",-1),ioe=v("i",null,"Pig Hunt",-1),soe=v("b",null,"Vote Party",-1),ooe=v("i",null,"Pig Hunt",-1),aoe=v("b",null,"Crate",-1),loe=v("b",null,"Crate",-1),uoe=v("br",null,null,-1),coe=v("br",null,null,-1),doe=v("br",null,null,-1),hoe=v("br",null,null,-1),foe=v("br",null,null,-1),poe=v("br",null,null,-1),moe=v("ul",null,[v("li",null,"50%"),v("li",null,"25%"),v("li",null,"10%"),v("li",null,"5%"),v("li",null,"1%"),v("li",null,"No prize (9%)")],-1),goe=v("b",null,"Crate",-1),voe=xe({__name:"Rewards",setup(t){return(e,n)=>(N(),ce(A(er),{onTabOpen:A(ar)},{default:J(()=>[B(A(Le),{header:"Vote Rewards"},{default:J(()=>[K(" Default rewards for your players "),B(A(er),{class:"mt-3",onTabOpen:A(ar)},{default:J(()=>[B(A(Le),{header:"Item Rewards"},{default:J(()=>[K(" Place items in this inventory to set as item rewards "),v("div",Lie,[B(ga,{src:"/images/customvoting/item_rewards.png"})])]),_:1}),B(A(Le),{header:"Item Reward Type"},{default:J(()=>[K(" Define how many items a player receives "),Vie,$ie,K(" Options: "),Fie]),_:1}),B(A(Le),{header:"Money Reward"},{default:J(()=>[K(" Define how much ingame currency a player receives "),Uie,qie,K(" This requires "),Bie,K(" and a Vault-supported currency plugin to be setup. E.g. "),jie,K(". ")]),_:1}),B(A(Le),{header:"XP Reward"},{default:J(()=>[K(" Define how much Minecraft experience a player receives ")]),_:1}),B(A(Le),{header:"Double Rewards (NEW!)",pt:{header:{class:"text-yellow-500"}}},{default:J(()=>[K(" Setup days with double rewards "),Hie,Wie]),_:1}),B(A(Le),{header:"Command Rewards"},{default:J(()=>[K(" You can choose what commands need to be run when a player has voted "),zie,Kie,K(" Keep in mind that this feature can be abused by moderators who have access to the "),Gie,K(" command. For this reason it is possible to setup "),Yie,K(" in the "),Xie,K(". ")]),_:1})]),_:1},8,["onTabOpen"])]),_:1}),B(A(Le),{header:"Power Rewards"},{default:J(()=>[K(" Alternative vote rewards for VIP's "),B(A(er),{class:"mt-3",onTabOpen:A(ar)},{default:J(()=>[B(A(Le),{header:"Item Rewards"},{default:J(()=>[K(" Place items in this inventory to set as item rewards "),v("div",Qie,[B(ga,{src:"/images/customvoting/item_rewards.png"})])]),_:1}),B(A(Le),{header:"Item Reward Type"},{default:J(()=>[K(" Define how many items a player receives "),Jie,Zie,K(" Options: "),ese]),_:1}),B(A(Le),{header:"Money Reward"},{default:J(()=>[K(" Define how much ingame currency a player receives "),tse,nse,K(" This requires "),rse,K(" and a Vault-supported currency plugin to be setup. E.g. "),ise,K(". ")]),_:1}),B(A(Le),{header:"XP Reward"},{default:J(()=>[K(" Define how much Minecraft experience a player receives ")]),_:1}),B(A(Le),{header:"Double Rewards (NEW!)",pt:{header:{class:"text-yellow-500"}}},{default:J(()=>[K(" Setup days with double rewards "),sse,ose]),_:1}),B(A(Le),{header:"Command Rewards"},{default:J(()=>[K(" You can choose what commands need to be run when a player has voted "),ase,lse,K(" Keep in mind that this feature can be abused by moderators who have access to the "),use,K(" command. For this reason it is possible to setup "),cse,K(" in the "),dse,K(". ")]),_:1}),B(A(Le),{header:"Enabled Groups"},{default:J(()=>[K(" What permission-groups have access to the "),hse,K("? "),fse,pse,K(" This only works in combination with "),mse,K(" and a Vault-supported permissions plugin. E.g. "),gse,K(". ")]),_:1}),B(A(Le),{header:"Enabled Users"},{default:J(()=>[K(" Who has access to the "),vse,K("? "),yse,bse,K(" This setting overrides the "),_se,K(" setting. ")]),_:1})]),_:1},8,["onTabOpen"])]),_:1}),B(A(Le),{header:"Lucky Rewards"},{default:J(()=>[K(" Rewards for lucky players "),B(A(er),{class:"mt-3",onTabOpen:A(ar)},{default:J(()=>[B(A(Le),{header:"Lucky Vote"},{default:J(()=>[K(" Enable/disable lucky voting ")]),_:1}),B(A(Le),{header:"Item Rewards"},{default:J(()=>[K(" Place items in this inventory to set as item rewards ")]),_:1}),B(A(Le),{header:"Chance"},{default:J(()=>[K(" Set the chance percentage (%) for receiving a lucky reward ")]),_:1}),B(A(Le),{header:"Command Rewards (NEW!)",pt:{header:{class:"text-yellow-500"}}},{default:J(()=>[K(" You can choose what commands need to be run when a player has voted "),wse,Tse,K(" Keep in mind that this feature can be abused by moderators who have access to the "),Ese,K(" command. For this reason it is possible to setup "),Sse,K(" in the "),Ise,K(". ")]),_:1})]),_:1},8,["onTabOpen"])]),_:1}),B(A(Le),{header:"Milestones"},{default:J(()=>[K(" Rewards given when a player reaches a certain amount of votes "),B(A(er),{class:"mt-3",onTabOpen:A(ar)},{default:J(()=>[B(A(Le),{header:"Item Rewards"},{default:J(()=>[K(" Place items in this inventory to set as item rewards ")]),_:1}),B(A(Le),{header:"Command Rewards"},{default:J(()=>[K(" You can choose what commands need to be run when a player has voted "),Cse,Ase,K(" Keep in mind that this feature can be abused by moderators who have access to the "),Pse,K(" command. For this reason it is possible to setup "),Ose,K(" in the "),kse,K(". ")]),_:1}),B(A(Le),{header:"Permission Rewards"},{default:J(()=>[K(" Define what permissions are given to a player after voting"),Rse,xse,K(" This only works in combination with "),Dse,K(" and a Vault-supported permissions plugin. E.g. "),Nse,K(". ")]),_:1})]),_:1},8,["onTabOpen"])]),_:1}),B(A(Le),{header:"Streaks"},{default:J(()=>[K(" Rewards given when a player votes x days in a row "),B(A(er),{class:"mt-3",onTabOpen:A(ar)},{default:J(()=>[B(A(Le),{header:"Require Consecutive Streak"},{default:J(()=>[K(" Does the player need to vote every day, or can the player continue his streak on a later moment as well? ")]),_:1}),B(A(Le),{header:"Item Rewards"},{default:J(()=>[K(" Place items in this inventory to set as item rewards ")]),_:1}),B(A(Le),{header:"Command Rewards"},{default:J(()=>[K(" You can choose what commands need to be run when a player has voted "),Mse,Lse,K(" Keep in mind that this feature can be abused by moderators who have access to the "),Vse,K(" command. For this reason it is possible to setup "),$se,K(" in the "),Fse,K(". ")]),_:1}),B(A(Le),{header:"Permission Rewards"},{default:J(()=>[K(" Define what permissions are given to a player after voting"),Use,qse,K(" This only works in combination with "),Bse,K(" and a Vault-supported permissions plugin. E.g. "),jse,K(". ")]),_:1})]),_:1},8,["onTabOpen"])]),_:1}),B(A(Le),{header:"Vote Party"},{default:J(()=>[K(" Chests with possibilities "),B(A(er),{class:"mt-3",onTabOpen:A(ar)},{default:J(()=>[B(A(Le),{header:"Vote Party"},{default:J(()=>[K(" Enable/disable the "),Hse]),_:1}),B(A(Le),{header:"Party Type"},{default:J(()=>[K(" What type of party do you want to organize? "),Wse,zse,K(" Options: "),Kse]),_:1}),B(A(Le),{header:"Vote Party Commands"},{default:J(()=>[K(" You can choose what commands need to be run when the "),Gse,K(" has started "),Yse,Xse,K(" Keep in mind that this feature can be abused by moderators who have access to the "),Qse,K(" command. For this reason it is possible to setup "),Jse,K(" in the "),Zse,K(". ")]),_:1}),B(A(Le),{header:"Votes Required"},{default:J(()=>[K(" The amount of votes on your server that are required to start the "),eoe,toe,noe,K(" The count resets once the party has started. ")]),_:1}),B(A(Le),{header:"Chests"},{default:J(()=>[K(" Place items in this inventory to set as item rewards ")]),_:1}),B(A(Le),{header:"Pig Hunt Health"},{default:J(()=>[K(" The amount of lives a pig has in the "),roe,K(" type "),ioe]),_:1}),B(A(Le),{header:"Pig Hunt Max-Damage"},{default:J(()=>[K(" The amount of lives a pig can take from a player in the "),soe,K(" type "),ooe]),_:1})]),_:1},8,["onTabOpen"])]),_:1}),B(A(Le),{header:"Crates"},{default:J(()=>[K(" Special chest that give the player one item after opening it "),B(A(er),{class:"mt-3",onTabOpen:A(ar)},{default:J(()=>[B(A(Le),{header:"Change Name"},{default:J(()=>[K(" Change the name of this "),aoe]),_:1}),B(A(Le),{header:"Get Key/Crate"},{default:J(()=>[K(" You will be given a "),loe,K(" key "),uoe,coe,K(" This key can be used to set the crate location, or to open a crate. ")]),_:1}),B(A(Le),{header:"Item Rewards"},{default:J(()=>[K(" Place items in this inventory to set as item rewards "),doe,hoe,K(" Note the chance percentage of each inventory. "),foe,poe,K(" Options: "),moe]),_:1}),B(A(Le),{header:"Always Reward"},{default:J(()=>[K(" Is it possible that a player receives no reward? ")]),_:1}),B(A(Le),{header:"Allow Crate Close"},{default:J(()=>[K(" Can the "),goe,K(" animation be skipped? ")]),_:1})]),_:1},8,["onTabOpen"])]),_:1})]),_:1},8,["onTabOpen"]))}}),yoe=v("br",null,null,-1),boe=v("br",null,null,-1),_oe=v("b",null,"Vote Top",-1),woe=v("br",null,null,-1),Toe=v("br",null,null,-1),Eoe=v("i",null,"disabled_worlds",-1),Soe=v("b",null,"settings.yml",-1),Ioe=v("br",null,null,-1),Coe=v("br",null,null,-1),Aoe=v("b",null,"Vote Site",-1),Poe=v("br",null,null,-1),Ooe=v("br",null,null,-1),koe=v("ul",null,[v("li",null,[K(" Right Click"),v("br"),v("i",null,[K("Edit a "),v("b",null,"Vote Site"),K(" - the editor will open")])]),v("li",null,[K(" Left Click (with an item)"),v("br"),v("i",null,[K("Change a "),v("b",null,"Vote Site"),K("'s type")])]),v("li",null,[K(" Drag"),v("br"),v("i",null,[K("Move a "),v("b",null,"Vote Site"),K(" to another position")])]),v("li",null,[K(" Cursor Click"),v("br"),v("i",null,[K("Disable a "),v("b",null,"Vote Site")])])],-1),Roe=v("br",null,null,-1),xoe=v("br",null,null,-1),Doe=v("b",null,"/vote",-1),Noe={class:"flex justify-center m-5"},Moe={class:"flex justify-center m-5"},Loe=v("br",null,null,-1),Voe=v("br",null,null,-1),$oe=v("i",null,"vote_command_override",-1),Foe=v("b",null,"messages.yml",-1),Uoe=v("b",null,"Vote Site Inventory",-1),qoe=v("br",null,null,-1),Boe=v("br",null,null,-1),joe=v("b",null,"/votes",-1),Hoe={class:"flex justify-center m-5"},Woe=xe({__name:"Messages",setup(t){return(e,n)=>(N(),ce(A(er),{onTabOpen:A(ar)},{default:J(()=>[B(A(Le),{header:"Vote Broadcast"},{default:J(()=>[K(" Toggle the 'player has voted' message ")]),_:1}),B(A(Le),{header:"Milestone Broadcast"},{default:J(()=>[K(" Toggle the 'player has reached milestone x' message ")]),_:1}),B(A(Le),{header:"Streak Broadcast"},{default:J(()=>[K(" Toggle the 'player hit votestreak x' message ")]),_:1}),B(A(Le),{header:"Vote Party Votes Broadcast"},{default:J(()=>[K(" Toggle the 'x votes left until the Vote Party' message ")]),_:1}),B(A(Le),{header:"Vote Party Count Broadcast"},{default:J(()=>[K(" Toggle the 'Vote Party starting in x seconds' message ")]),_:1}),B(A(Le),{header:"Vote Party Count Ending Broadcast"},{default:J(()=>[K(" Toggle the 'Vote Party starting in x' message ")]),_:1}),B(A(Le),{header:"Break Armorstand Message"},{default:J(()=>[K(" Toggle the 'don't break me' message"),yoe,boe,K(" This message is triggered if a player tries to break a "),_oe,K(". ")]),_:1}),B(A(Le),{header:"Disabled World Message"},{default:J(()=>[K(" Toggle the 'you can't vote in this world' message"),woe,Toe,K(" This message is triggered if a player tries to vote in a world that is disabled in "),Eoe,K(" in the "),Soe,K(". ")]),_:1}),B(A(Le),{header:"Hourly Vote Reminder"},{default:J(()=>[K(" Toggle the 'you haven't voted yet' message ")]),_:1}),B(A(Le),{header:"Vote Sites"},{default:J(()=>[K(" Here you can configure your server's vote sites "),Ioe,Coe,K(" Note: a "),Aoe,K(" become available after voting a first time. "),Poe,Ooe,K(" Actions: "),koe]),_:1}),B(A(Le),{header:"Vote Site Inventory"},{default:J(()=>[K(" Whether a player sees your vote sites in an inventory/GUI, or as a text message "),Roe,xoe,K(" This action is triggered with "),Doe,K(". "),v("div",Noe,[B(ga,{src:"/images/customvoting/vote_command_gui.png"})]),v("div",Moe,[B(ga,{src:"/images/customvoting/vote_command_chat.png"})])]),_:1}),B(A(Le),{header:"Vote Command Override"},{default:J(()=>[K(" Show auto-generated vote sites to the player or use your own message? "),Loe,Voe,K(" Your own message can be setup at "),$oe,K(" in the "),Foe,K(". This option is only available if "),Uoe,K(" is disabled. ")]),_:1}),B(A(Le),{header:"Vote Dashboard"},{default:J(()=>[K(" Whether a player sees their vote stats in an inventory/GUI, or as a text message "),qoe,Boe,K(" This action is triggered with "),joe,K(". "),v("div",Hoe,[B(ga,{src:"/images/customvoting/vote_dashboard.png"})])]),_:1})]),_:1},8,["onTabOpen"]))}}),zoe=v("br",null,null,-1),Koe=v("br",null,null,-1),Goe=v("a",{href:"https://discord.gg/v3qmJu7jWD",target:"_blank"}," Discord server ",-1),Yoe=v("br",null,null,-1),Xoe=v("br",null,null,-1),Qoe=v("br",null,null,-1),Joe=v("br",null,null,-1),Zoe=v("ul",null,[v("li",null,"sd_master92"),v("li",null,"Dutchbeard"),v("li",null,"Smirren"),v("li",null,"King_Tom_94")],-1),eae=v("b",null,"CustomVoting",-1),tae=v("br",null,null,-1),nae=v("br",null,null,-1),rae=v("span",{class:"text-green-500"},"Green",-1),iae=v("span",{class:"text-red-500"},"red",-1),sae=v("b",null,"CustomVoting",-1),oae=v("b",null,"CustomVoting",-1),aae=xe({__name:"Support",setup(t){return(e,n)=>(N(),ce(A(er),{onTabOpen:A(ar)},{default:J(()=>[B(A(Le),{header:"Up to date?"},{default:J(()=>[K(" Whether or not this plugin is up to date "),zoe,Koe,K(" The current version is also shown. ")]),_:1}),B(A(Le),{header:"Ingame Updates"},{default:J(()=>[K(" Will operators receive a message about an available update from time to time? ")]),_:1}),B(A(Le),{header:"Discord"},{default:J(()=>[K(" A link to the "),Goe,Yoe,Xoe,K(" Here you are welcome to ask for support ")]),_:1}),B(A(Le),{header:"Supporters"},{default:J(()=>[K(" Who made this plugin possible, and who bought me a coffee? "),Qoe,Joe,Zoe]),_:1}),B(A(Le),{header:"Player Info"},{default:J(()=>[K(" View all voting statistics about your players ")]),_:1}),B(A(Le),{header:"Statistics"},{default:J(()=>[B(A(er),{onTabOpen:A(ar)},{default:J(()=>[B(A(Le),{header:"Top vote sites"},{default:J(()=>[K(" A list of the most popular voting sites of "),eae,K(" users at this moment "),tae,nae,rae,K(" sites have been setup on your own server, "),iae,K(" sites have not yet been setup. ")]),_:1}),B(A(Le),{header:"Minecraft Version"},{default:J(()=>[K(" A list of the most popular Minecraft versions of "),sae,K(" users at this moment ")]),_:1}),B(A(Le),{header:"Country"},{default:J(()=>[K(" A list of the most popular countries of "),oae,K(" users at this moment ")]),_:1})]),_:1},8,["onTabOpen"])]),_:1})]),_:1},8,["onTabOpen"]))}}),lae=xe({__name:"VoteSettings",setup(t){return(e,n)=>(N(),ce(A(er),{onTabOpen:A(ar)},{default:J(()=>[B(A(Le),{header:"General"},{default:J(()=>[B(Mie)]),_:1}),B(A(Le),{header:"Rewards"},{default:J(()=>[B(voe)]),_:1}),B(A(Le),{header:"Messages"},{default:J(()=>[B(Woe)]),_:1}),B(A(Le),{header:"Support"},{default:J(()=>[B(aae)]),_:1})]),_:1},8,["onTabOpen"]))}}),gn=t=>(R_("data-v-fb538480"),t=t(),x_(),t),uae={class:"flex flex-wrap"},cae={class:"w-full md:w-fit"},dae=gn(()=>v("img",{class:"w-32 h-32 md:w-48 md:h-48 rounded-full animation-scale my-4 cursor-pointer",src:rie,alt:"customvoting"},null,-1)),hae=gn(()=>v("div",{class:"w-full md:w-fit md:ms-10 flex justify-start"},[v("div",{class:"place-self-center"},[v("h1",{class:"text-title-primary"},"CustomVoting"),v("h2",{class:"text-title-tertiary"},"Everything you need to setup voting for your server.")])],-1)),fae={class:"flex justify-center"},pae=gn(()=>v("p",{class:"mt-3 description-with-bolds text-neutral-200"},[K(" The main focus of this plugin is being "),v("b",null,"easy to setup"),K(" and "),v("b",null,"not"),K(" being "),v("b",null,"overcomplicated"),K(" to use, but still being "),v("b",null,"highly customizable"),K("! ")],-1)),mae={class:"flex justify-center"},gae={class:"ms-10 mt-10 w-full xl:w-2/3"},vae=gn(()=>v("h3",{class:"text-title-secondary mb-2"},"Contents",-1)),yae=gn(()=>v("b",null,"/votesettings",-1)),bae=[yae],_ae={class:"flex justify-center"},wae={class:"flex"},Tae={class:"w-full md:w-1/2"},Eae={class:"mt-3 flex flex-wrap gap-1 md:gap-2 font-bold"},Sae={class:"mt-3 flex flex-wrap gap-1 md:gap-2 font-bold"},Iae={class:"flex justify-center"},Cae={class:"w-full md:w-1/2 mt-10 flex justify-center flex-wrap gap-1 md:gap-2 font-bold"},Aae={class:"flex justify-end"},Pae={class:"w-full md:w-1/2 mt-10 flex justify-end flex-wrap gap-1 md:gap-2 font-bold"},Oae={class:"flex justify-center"},kae={class:"mt-3"},Rae={class:"flex justify-center m-5"},xae={class:"flex justify-center"},Dae=gn(()=>v("div",{class:"mt-3"},[K(" Requirements "),v("br"),v("br"),v("ul",null,[v("li",null,[v("span",{class:"text-green-500"},[v("b",null,"Minecraft")]),K(" 1.14 or higher ")]),v("li",null,[v("span",{class:"text-cyan-400"},[v("b",null,"NuVotifier")]),K(" or "),v("span",{class:"text-cyan-400"},[v("b",null,"Votifier")])])])],-1)),Nae={class:"mt-10"},Mae=gn(()=>v("br",null,null,-1)),Lae=gn(()=>v("br",null,null,-1)),Vae=gn(()=>v("li",null,[v("b",{class:"text-orange-400"},"PlaceholderAPI")],-1)),$ae=gn(()=>v("div",{class:""},[v("p",null,[K("%CV_SERVER_VOTES% "),v("span",{class:"text-neutral-400"},"// total server votes")]),v("p",null,[K("%CV_PLAYER_VOTES% "),v("span",{class:"text-neutral-400"},"// your votes")]),v("p",null,[K("%CV_PLAYER_VOTES_MONTHLY% "),v("span",{class:"text-neutral-400"},"// your monthly votes")]),v("p",null,[K("%CV_PLAYER_VOTES_WEEKLY% "),v("span",{class:"text-neutral-400"},"// your weekly votes")]),v("p",null,[K("%CV_PLAYER_VOTES_DAILY% "),v("span",{class:"text-neutral-400"},"// your daily votes")]),v("p",null,[K("%CV_PLAYER_STREAK_DAILY% "),v("span",{class:"text-neutral-400"},"// your streak days")]),v("br"),v("p",null,[K("%CV_PLAYER_VOTES_1% "),v("span",{class:"text-neutral-400"},"// top voter 1's votes")]),v("p",null,[K("%CV_PLAYER_VOTES_1_NAME% "),v("span",{class:"text-neutral-400"},"// top voter 1's name")]),v("p",null,[K(" %CV_PLAYER_VOTES_1_MONTHLY% "),v("span",{class:"text-neutral-400"},"// top voter 1's monthly votes")]),v("p",null,[K(" %CV_PLAYER_VOTES_1_WEEKLY% "),v("span",{class:"text-neutral-400"},"// top voter 1's weekly votes")]),v("p",null,[K("%CV_PLAYER_VOTES_1_DAILY% "),v("span",{class:"text-neutral-400"},"// top voter 1's daily votes")]),v("p",{class:"text-neutral-300"},"You can use as many numbers as you like"),v("p",{class:"text-neutral-300"}," The top voters are sorted by month or all-time according to your 'Monthly Period' setting. (Default is all-time) "),v("br"),v("p",null,[K(" %CV_VOTE_PARTY_TOTAL% "),v("span",{class:"text-neutral-400"},"// total of votes required for a voteparty.")]),v("p",null,[K("%CV_VOTE_PARTY_CURRENT% "),v("span",{class:"text-neutral-400"},"// votes current period.")]),v("p",null,[K(" %CV_VOTE_PARTY_UNTIL% "),v("span",{class:"text-neutral-400"},"// votes left until the voteparty.")])],-1)),Fae=gn(()=>v("li",null,[v("b",{class:"text-orange-400"},"Vault")],-1)),Uae=gn(()=>v("i",null,"Connect with a Vault-supported currency or permissions plugin",-1)),qae=gn(()=>v("br",null,null,-1)),Bae=gn(()=>v("br",null,null,-1)),jae=gn(()=>v("li",null,[v("b",{class:"text-orange-400"},"Citizens")],-1)),Hae=gn(()=>v("i",null,"Showcase your top voters with reallife NPC's!",-1)),Wae=gn(()=>v("br",null,null,-1)),zae=gn(()=>v("br",null,null,-1)),Kae=gn(()=>v("li",null,[v("b",{class:"text-orange-400"},"Multiverse-Core")],-1)),Gae=gn(()=>v("i",null,"Disable players from voting in certain custom worlds.",-1)),Yae={class:"flex justify-center"},Xae=gn(()=>v("p",{class:"mt-3"},[K(" Reference: "),v("a",{href:"https://github.com/sanderderks/CustomVoting/blob/master/src/main/resources/plugin.yml",target:"_blank"}," plugin.yml ")],-1)),Qae={class:"flex justify-center"},Jae=gn(()=>v("div",{class:"flex md:justify-center md:text-center mb-15"},[v("div",null,[v("h4",{class:"w-full text-title-tertiary text-primary-500"},"Basic Setup"),v("ol",{class:"w-full mt-3"},[v("li",{class:"mb-3"},[K(" Download and install "),v("a",{href:"https://www.spigotmc.org/resources/nuvotifier.13449/",target:"_blank"},[v("b",null,"(Nu)Votifier")])]),v("li",{class:"mb-3"},[v("a",{href:"https://minestatus.net/tools/votifier",target:"_blank"},[v("b",null,"Test")]),K(" NuVotifier ")]),v("li",{class:"mb-3"},[K(" Download and install "),v("a",{href:"https://www.spigotmc.org/resources/customvoting-1-14-1-20.28103/",target:"_blank"},[v("b",null,"CustomVoting")])]),v("li",null,"Vote from your favorite website"),v("i",null,[K("You should now see a "),v("b",null,"Vote Site"),K(" when you open "),v("b",null,"/votes")])])])],-1)),Zae=gn(()=>v("div",{class:"mt-3 mb-20 flex flex-wrap justify-between"},[v("div",{class:"w-full md:w-1/2 md:text-center"},[v("h4",{class:"text-title-tertiary text-primary-500"},"Single Server"),v("ol",{class:"mt-3",start:"5"},[v("li",{class:"mb-3"},[K("Customize in "),v("b",null,"/votesettings"),K(", enjoy!")])])]),v("div",{class:"w-full md:w-1/2 md:text-center"},[v("h4",{class:"text-title-tertiary text-primary-500"},"Server Network"),v("ol",{class:"mt-3",start:"5"},[v("li",{class:"mb-3"},[K("Configure "),v("b",null,"NuVotifier"),K(" to be a vote forwarder to your subservers")]),v("li",{class:"mb-3"},[K("Connect to your database at "),v("i",null,"database"),K(" in "),v("b",null,"settings.yml")]),v("li",{class:"mb-3"},[K("Customize in "),v("b",null,"/votesettings"),K(", enjoy!")])])])],-1)),ele=gn(()=>v("p",{class:"mt-3"},[K(" Settings: "),v("a",{href:"https://github.com/sanderderks/CustomVoting/blob/master/src/main/resources/settings.yml",target:"_blank"}," settings.yml ")],-1)),tle=gn(()=>v("p",{class:"mt-3"},[K(" Messages and placeholders: "),v("a",{href:"https://github.com/sanderderks/CustomVoting/blob/master/src/main/resources/messages.yml",target:"_blank"}," messages.yml "),v("br"),v("i",{class:"text-neutral-300"},[K("  Supports the usage of Minecraft-& and "),v("a",{href:"https://www.spigotmc.org/resources/customvoting-1-14-1-20.28103/update?update=545483",target:"_blank"}," HEX "),K(" color codes. "),v("br"),K("  For example: "),v("span",{class:"text-green-500"},"&2Test"),K(" or "),v("span",{class:"text-orange-500"},"&#bf921fTest")])],-1)),nle={class:"flex justify-center"},rle=gn(()=>v("div",{class:"mt-10 flex flex-col gap-5"},[v("div",null,[K(" Download "),v("b",null,"CustomVoting"),K(" on "),v("a",{class:"text-yellow-400",href:"https://www.spigotmc.org/resources/customvoting-1-14-1-20.28103/",target:"_blank"},[v("b",null," SpigotMC ")]),v("br"),v("i",{class:"text-neutral-500"}," Are you enjoying my plugin? Please leave a review! ")]),v("div",null,[K(" Find support on our "),v("a",{class:"text-blue-400",href:"https://discord.gg/v3qmJu7jWD",target:"_blank"},[v("b",null," Discord ")]),K(" server "),v("br"),v("i",{class:"text-neutral-500"}," Note that responses may take up to 7 days. This chat is most active in the weekends. ")]),v("div",null,[K(" CustomVoting uses server data collection! "),v("br"),K(" Find us on "),v("a",{class:"text-cyan-500",href:"https://bstats.org/plugin/bukkit/CustomVoting/13544",target:"_blank"},[v("b",null," BStats ")]),v("br"),v("i",{class:"text-neutral-500"},"This is completely optional and configured in your plugins/PluginMetrics folder.")]),v("div",null,[v("b",null,"CustomVoting"),K(" is open source. "),v("br"),K(" Find out more on "),v("a",{class:"text-fuchsia-500",href:"https://github.com/sanderderks/CustomVoting",target:"_blank"},[v("b",null," GitHub ")]),v("br"),v("i",{class:"text-neutral-500"},"Open source means you can view and edit the source code.")])],-1)),ile={class:"flex justify-center"},sle=gn(()=>v("p",{class:"text-neutral-300"},[K(" Are you unable to live your life without this plugin? "),v("br"),K(" Consider a donation to show your appreciation and motivate further development: "),v("a",{href:"https://www.paypal.com/donate/?hosted_button_id=75EUKGW7K54JY"},[v("b",null,"PayPal")])],-1)),ole=xe({__name:"CustomVoting",setup(t){const e=n=>{const r=document.getElementById(n);r==null||r.scrollIntoView({behavior:"smooth",block:"center"})};return(n,r)=>{const i=An("RouterLink");return N(),ce(Js,{"scroll-to-content":!1},{header:J(()=>[v("div",uae,[v("div",cae,[B(i,{to:{name:A(Xn).HOME}},{default:J(()=>[dae]),_:1},8,["to"])]),hae])]),content:J(()=>[v("div",fae,[B(xn,{class:"!bg-yellow-700 !bg-opacity-50 my-5 w-full xl:w-2/3",title:"About",description:"CustomVoting is a Minecraft plugin to reward your players for voting for your server.","description-props":{class:"!text-neutral-200"}},{default:J(()=>[pae]),_:1})]),v("div",mae,[v("div",gae,[vae,v("ul",null,[v("li",null,[v("a",{class:"hover:cursor-pointer",onClick:r[0]||(r[0]=s=>e("features"))}," Features ")]),v("li",null,[v("a",{class:"hover:cursor-pointer",onClick:r[1]||(r[1]=s=>e("votesettings"))},bae)]),v("li",null,[v("a",{class:"hover:cursor-pointer",onClick:r[2]||(r[2]=s=>e("requirements"))}," Requirements & Hooks ")]),v("li",null,[v("a",{class:"hover:cursor-pointer",onClick:r[3]||(r[3]=s=>e("commands"))}," Commands & Permissions")]),v("li",null,[v("a",{class:"hover:cursor-pointer",onClick:r[4]||(r[4]=s=>e("setup"))}," Setup & Configuration")]),v("li",null,[v("a",{class:"hover:cursor-pointer",onClick:r[5]||(r[5]=s=>e("support"))}," Support & Information")]),v("li",null,[v("a",{class:"hover:cursor-pointer",onClick:r[6]||(r[6]=s=>e("love"))}," Footnotes")])])])]),v("div",_ae,[B(xn,{id:"features",class:"my-5 mt-20 w-full xl:w-2/3",title:"Features"},{default:J(()=>[v("div",wae,[v("div",Tae,[v("div",Eae,[B(at,{label:"Items"}),B(at,{class:"bg-sky-500",label:"Money"}),B(at,{class:"bg-blue-300 text-neutral-700 hover:text-white",label:"Experience"}),B(at,{class:"bg-cyan-600",label:"Commands"}),B(at,{class:"bg-blue-600",label:"Permissions"})]),v("div",Sae,[B(at,{class:"bg-purple-600",label:"VIP Rewards"}),B(at,{class:"bg-purple-400 text-neutral-700 hover:text-white",label:"Lucky Rewards"}),B(at,{class:"bg-purple-800",label:"Milestones"}),B(at,{class:"bg-fuchsia-400 text-neutral-700 hover:text-white",label:"Streaks"}),B(at,{class:"bg-purple-900",label:"Crates"})])])]),v("div",Iae,[v("div",Cae,[B(at,{class:"bg-green-400 text-neutral-700 hover:text-white",label:"Vote Party"}),B(at,{class:"bg-yellow-300 text-neutral-700 hover:text-white",label:"Pig Hunt"}),B(at,{class:"bg-amber-500 text-neutral-700 hover:text-white",label:"Fireworks"}),B(at,{class:"bg-orange-400 text-neutral-700 hover:text-white",label:"Vote Top Skulls"}),B(at,{class:"bg-lime-500 text-neutral-700 hover:text-white",label:"NPC's"})])]),v("div",Aae,[v("div",Pae,[B(at,{class:"bg-red-400 text-neutral-700 hover:text-white",label:"Offline Support"}),B(at,{class:"bg-pink-300 text-neutral-700 hover:text-white",label:"Monthly Reset"}),B(at,{class:"bg-pink-700",label:"PlaceholderAPI"}),B(at,{class:"bg-red-400 text-neutral-700 hover:text-white",label:"Vault"}),B(at,{class:"bg-red-700",label:"NuVotifier"})])])]),_:1})]),v("div",Oae,[B(xn,{id:"votesettings",class:"my-5 mt-20 w-full xl:w-2/3",title:"/votesettings",description:"The main command of CustomVoting"},{default:J(()=>[v("div",kae,[B(lae)]),v("div",Rae,[B(ga,{src:"/images/customvoting/votesettings1.png"})])]),_:1})]),v("div",xae,[B(xn,{id:"requirements",class:"my-5 mt-20 w-full xl:w-2/3",title:"Requirements & Hooks",description:"What do you need to use CustomVoting - and what works together with it?"},{default:J(()=>[Dae,v("div",Nae,[K(" Hooks: "),Mae,Lae,v("ul",null,[Vae,B(A(er),{class:"mt-3",onTabOpen:A(ar)},{default:J(()=>[B(A(Le),{header:"What are the placeholders?"},{default:J(()=>[$ae]),_:1})]),_:1},8,["onTabOpen"]),Fae,Uae,qae,Bae,jae,Hae,Wae,zae,Kae,Gae])])]),_:1})]),v("div",Yae,[B(xn,{id:"commands",class:"my-5 mt-20 w-full xl:w-2/3",title:"Commands & Permissions"},{default:J(()=>[B(A(er),{class:"mt-3",onTabOpen:A(ar)},{default:J(()=>[B(A(Le),{header:"Show/hide"},{default:J(()=>[B(uie)]),_:1})]),_:1},8,["onTabOpen"]),Xae]),_:1})]),v("div",Qae,[B(xn,{id:"setup",class:"my-5 mt-20 w-full xl:w-2/3",title:"Setup & Configuration"},{default:J(()=>[Jae,Zae,ele,tle]),_:1})]),v("div",nle,[B(xn,{id:"support",class:"my-5 mt-20 w-full xl:w-2/3",title:"Support & Information",description:"Can I help you with anything?"},{default:J(()=>[rle]),_:1})]),v("div",ile,[B(xn,{id:"love",class:"my-5 mt-20 w-full xl:w-2/3 bg-pink-700 bg-opacity-75",title:"Thank you <3"},{default:J(()=>[sle]),_:1})])]),_:1})}}}),ale=Q1(ole,[["__scopeId","data-v-fb538480"]]),lle=xe({__name:"CustomVoting",setup(t){return(e,n)=>(N(),ce(ale))}}),ule={class:"flex flex-col lg:justify-center lg:items-center py-10 text-md text-neutral-400"},cle={class:"m-1 lg:w-4/5"},J1=xe({__name:"Privacy",setup(t){const{content:e}=Vt(jn());return(n,r)=>(N(),W("div",ule,[(N(!0),W(Pe,null,ht(A(e).privacyStatement,i=>(N(),W("p",cle,Fe(i),1))),256))]))}}),Z1=xe({__name:"EmailField",props:{id:{},name:{},label:{},rules:{},modelValue:{},error:{}},emits:["update:modelValue","update:error"],setup(t,{expose:e,emit:n}){const r=t,i=ie(),s=ee({get:()=>r.modelValue,set:l=>{a("update:modelValue",l)}}),o=ee({get:()=>r.error,set:l=>{a("update:error",l??"")}}),a=n;return e({test:async()=>await i.value.test()}),(l,u)=>(N(),ce(ei,{ref_key:"email",ref:i,id:l.id,name:l.name,label:l.label,placeholder:"someone@example.com","input-props":{type:"email",autocomplete:"on"},modelValue:s.value,"onUpdate:modelValue":u[0]||(u[0]=c=>s.value=c),error:o.value,"onUpdate:error":u[1]||(u[1]=c=>o.value=c),rules:[...l.rules,A(Dt).Email]},null,8,["id","name","label","modelValue","error","rules"]))}}),Ou=xe({__name:"PasswordField",props:{id:{},name:{},label:{},placeholder:{},rules:{},modelValue:{},error:{},min:{},max:{},compare:{}},emits:["update:modelValue","update:error"],setup(t,{expose:e,emit:n}){const r=t,i=ie(),s=ee({get:()=>r.modelValue,set:l=>{a("update:modelValue",l)}}),o=ee({get:()=>r.error,set:l=>{a("update:error",l??"")}}),a=n;return e({test:async()=>i.value.test()}),(l,u)=>(N(),ce(ei,{ref_key:"password",ref:i,id:l.id,name:l.name,label:l.label,placeholder:"******","input-props":{type:"password",autocomplete:"on"},modelValue:s.value,"onUpdate:modelValue":u[0]||(u[0]=c=>s.value=c),error:o.value,"onUpdate:error":u[1]||(u[1]=c=>o.value=c),rules:l.rules,"min-length":l.min,"max-length":l.max,compare:l.compare},null,8,["id","name","label","modelValue","error","rules","min-length","max-length","compare"]))}}),dle={class:"flex flex-wrap pt-6 pb-8 mb-4"},hle={class:"basis-full lg:basis-1/2"},fle={class:"flex gap-3 mt-10 flex-wrap"},ple={class:"basis-full lg:basis-1/2"},mle={key:0,class:"basis-full lg:basis-1/2 flex gap-3 mt-10 flex-wrap"},gle={class:"flex flex-col items-center content-center"},vle=xe({__name:"Dashboard",setup(t){const n=Fc($c).greaterOrEqual("md"),r=br(),{currentUser:i,firebaseUser:s,publicUser:o,isOwner:a,isMutationLoading:l}=Vt(r),u=jn(),{fetchAll:c}=u,{content:d,isOnline:h,debug:p}=Vt(u),m=ie(!1),g=ie(),y=ie(),P=ie(),I=ie(),S=ie(),T=ie(),M=ie(),R=ie(),C=Pr({firstName:{value:"",error:""},lastName:{value:"",error:""},displayName:{value:"",error:""},email:{value:"",error:""},newPassword:{value:"",error:""},currentPassword:{value:"",error:""},repeatPassword:{value:"",error:""},avatar:{value:"",error:""}}),E=ee(()=>({firstName:C.firstName.value,lastName:C.lastName.value})),b=ee(()=>({displayName:C.displayName.value,avatar:C.avatar.value})),w=ee(()=>!!i.value&&!gs(mc.convert(i.value),E.value)),k=ee(()=>!!o.value&&!gs(F0.convert(o.value),b.value)),x=ee(()=>{var U;return C.email.value!==((U=s.value)==null?void 0:U.email)}),O=ee(()=>{const U=[];return w.value&&U.push("Details"),k.value&&U.push("Public Profile"),x.value&&U.push("E-mail"),C.newPassword.value&&U.push("Password"),U.length?"Save "+w0(U):void 0}),j=async()=>{var U;Object.keys(C).forEach($=>C[$].error=""),C.newPassword.value&&(await Promise.all([S.value.test(),T.value.test(),M.value.test()]),!C.newPassword.error&&!C.currentPassword.error&&!C.repeatPassword.error&&(await r.updatePassword(C.newPassword.value,C.currentPassword.value),C.newPassword.value="",C.currentPassword.value="")),k.value&&(await P.value.test(),!C.displayName.error&&!C.avatar.error&&r.updatePublicUser({displayName:C.displayName.value,avatar:C.avatar.value})),x.value&&(await Promise.all([I.value.test(),T.value.test()]),!C.email.error&&!C.currentPassword.error&&(await r.updateMail(C.email.value,C.currentPassword.value),C.currentPassword.value="")),gs(i.value,E.value)||(await Promise.all([g.value.test(),y.value.test()]),!C.firstName.error&&!C.lastName.error&&r.updateUser({firstName:C.firstName.value,lastName:C.lastName.value})),await c((U=s.value)==null?void 0:U.uid,!0)};return H_(()=>{var U,$,q,te,z;C.firstName.value=((U=i.value)==null?void 0:U.firstName)||"",C.lastName.value=(($=i.value)==null?void 0:$.lastName)||"",C.displayName.value=((q=o.value)==null?void 0:q.displayName)||"",C.email.value=((te=s.value)==null?void 0:te.email)||"",C.avatar.value=((z=o.value)==null?void 0:z.avatar)||""}),(U,$)=>(N(),ce(Js,null,{content:J(()=>[A(i)&&A(s)?(N(),ce(xn,{key:0,class:"!bg-secondary-500 !bg-opacity-35 my-5",title:"Welcome "+A(i).firstName+(A(i).lastName?" "+A(i).lastName:""),description:A(d).dashboardDescription},{default:J(()=>[v("div",dle,[v("div",hle,[v("form",{id:"accountForm",onSubmit:$[19]||($[19]=kt(q=>j(),["prevent"]))},[B(ei,{name:"accountType",label:"Account Type","model-value":A(a)?"Owner":"Member","input-props":{disabled:!0}},null,8,["model-value"]),B(ei,{ref_key:"firstName",ref:g,name:"firstName",label:"First Name",placeholder:"Someone",modelValue:C.firstName.value,"onUpdate:modelValue":$[0]||($[0]=q=>C.firstName.value=q),error:C.firstName.error,"onUpdate:error":$[1]||($[1]=q=>C.firstName.error=q),rules:[A(Dt).Required],"min-length":3,"max-length":50},null,8,["modelValue","error","rules"]),B(ei,{ref_key:"lastName",ref:y,name:"lastName",label:"Last Name",modelValue:C.lastName.value,"onUpdate:modelValue":$[2]||($[2]=q=>C.lastName.value=q),error:C.lastName.error,"onUpdate:error":$[3]||($[3]=q=>C.lastName.error=q),"min-length":3,"max-length":50},null,8,["modelValue","error"]),B(ei,{ref_key:"displayName",ref:P,name:"displayName",label:"Public Username",modelValue:C.displayName.value,"onUpdate:modelValue":$[4]||($[4]=q=>C.displayName.value=q),error:C.displayName.error,"onUpdate:error":$[5]||($[5]=q=>C.displayName.error=q),rules:[A(Dt).MinLength],"min-length":3,"max-length":50},null,8,["modelValue","error","rules"]),B(Z1,{ref_key:"email",ref:I,name:"email",label:"E-mail",modelValue:C.email.value,"onUpdate:modelValue":$[6]||($[6]=q=>C.email.value=q),error:C.email.error,"onUpdate:error":$[7]||($[7]=q=>C.email.error=q),rules:[A(Dt).Required]},null,8,["modelValue","error","rules"]),x.value?(N(),ce(Ou,{key:0,ref_key:"currentPassword",ref:T,name:"currentPassword",label:"Current Password",modelValue:C.currentPassword.value,"onUpdate:modelValue":$[8]||($[8]=q=>C.currentPassword.value=q),error:C.currentPassword.error,"onUpdate:error":$[9]||($[9]=q=>C.currentPassword.error=q),rules:[A(Dt).Required]},null,8,["modelValue","error","rules"])):Z("",!0),B(Ou,{ref_key:"newPassword",ref:S,name:"newPassword",label:"New Password",modelValue:C.newPassword.value,"onUpdate:modelValue":$[10]||($[10]=q=>C.newPassword.value=q),error:C.newPassword.error,"onUpdate:error":$[11]||($[11]=q=>C.newPassword.error=q),min:6,max:50},null,8,["modelValue","error"]),C.newPassword.value?(N(),ce(Ou,{key:1,ref_key:"repeatPassword",ref:M,name:"repeatPassword",label:"Repeat New Password",modelValue:C.repeatPassword.value,"onUpdate:modelValue":$[12]||($[12]=q=>C.repeatPassword.value=q),error:C.repeatPassword.error,"onUpdate:error":$[13]||($[13]=q=>C.repeatPassword.error=q),rules:[A(Dt).Required],compare:{value:C.newPassword.value,name:"New Password"}},null,8,["modelValue","error","rules","compare"])):Z("",!0),C.newPassword.value&&!x.value?(N(),ce(Ou,{key:2,ref_key:"currentPassword",ref:T,name:"currentPassword",label:"Current Password",modelValue:C.currentPassword.value,"onUpdate:modelValue":$[14]||($[14]=q=>C.currentPassword.value=q),error:C.currentPassword.error,"onUpdate:error":$[15]||($[15]=q=>C.currentPassword.error=q),rules:[A(Dt).Required]},null,8,["modelValue","error","rules"])):Z("",!0),v("div",fle,[O.value?(N(),ce(at,{key:0,class:"w-full",action:"submit",loading:A(l),label:O.value},null,8,["loading","label"])):Z("",!0),A(a)?Z("",!0):(N(),ce(at,{key:1,class:"w-full",type:"danger",outlined:"",label:"Delete account",onClick:$[16]||($[16]=q=>m.value=!0)}))]),A(a)?(N(),ce(oh,{key:3,name:"isOnline",label:"Online",modelValue:A(h),"onUpdate:modelValue":$[17]||($[17]=q=>_n(h)?h.value=q:null)},null,8,["modelValue"])):Z("",!0),A(a)?(N(),ce(oh,{key:4,name:"debug",label:"Debug",modelValue:A(p),"onUpdate:modelValue":$[18]||($[18]=q=>_n(p)?p.value=q:null)},null,8,["modelValue"])):Z("",!0)],32)]),v("div",ple,[B(W1,{ref_key:"avatar",ref:R,id:"avatar",name:"avatar",label:"Public Avatar",modelValue:C.avatar.value,"onUpdate:modelValue":$[20]||($[20]=q=>C.avatar.value=q),error:C.avatar.error,"onUpdate:error":$[21]||($[21]=q=>C.avatar.error=q),"is-public":"","image-props":{class:"rounded-full"},"image-container-props":{class:"!h-64 !w-64"}},null,8,["modelValue","error"])]),A(n)?Z("",!0):(N(),W("div",mle,[O.value?(N(),ce(at,{key:0,class:"w-full",action:"submit",form:"accountForm",loading:A(l),label:O.value},null,8,["loading","label"])):Z("",!0),A(a)?Z("",!0):(N(),ce(at,{key:1,class:"w-full",type:"danger",outlined:"",label:"Delete account",onClick:$[22]||($[22]=q=>m.value=!0)}))]))]),v("div",gle,[B(J1)])]),_:1},8,["title","description"])):Z("",!0),B(H1,{title:"Delete Account",isOpen:m.value,description:["Are you sure you want to delete your account?","This cannot be undone."],"confirm-text":"Confirm","confirm-props":{type:"danger",outlined:!0},onConfirm:$[23]||($[23]=q=>A(r).deleteAccount()),onCancel:$[24]||($[24]=q=>m.value=!1)},null,8,["isOpen"])]),_:1}))}}),yle=xe({__name:"Dashboard",setup(t){return(e,n)=>(N(),ce(vle))}}),ble=t=>(R_("data-v-006f3eb7"),t=t(),x_(),t),_le=ble(()=>v("h3",{class:"text-title-secondary"},"My Work",-1)),wle=xe({__name:"Projects",setup(t){const e=jn(),{moveProject:n}=e,{projects:r}=Vt(e),i=o=>{o.moved&&n(o.moved.oldIndex,o.moved.newIndex)},s=()=>{rr(()=>{const o=document.querySelectorAll(".transition-opacity");o.forEach(a=>{a.classList.replace("opacity-100","opacity-0")}),I7(Array.from(o),500,300,a=>{a.classList.replace("opacity-0","opacity-100")})})};return pn(()=>r.value,(o,a)=>{o>a&&s()}),$t(()=>{s()}),(o,a)=>(N(),W(Pe,null,[_le,B(A(X1),{class:"grid grid-cols-1 gap-4 my-5 sm:grid-cols-2 xl:grid-cols-3 cursor-pointer select-none","model-value":A(r),"item-key":"index",onChange:i,animation:150,delay:50},{item:J(({element:l})=>[B(xn,{class:"border-4 border-transparent opacity-100 transition-opacity duration-1000 ease-in",title:l.name,url:l.url,route:{name:l.route},description:l.description,loading:l.loading},{default:J(()=>[(N(!0),W(Pe,null,ht(l.technologies,u=>(N(),ce(at,{class:"rounded-secondary m-1 md:mt-2 font-bold",style:ur({backgroundColor:u.color}),label:u.name},null,8,["style","label"]))),256))]),_:2},1032,["title","url","route","description","loading"])]),_:1},8,["model-value"])],64))}}),Tle=Q1(wle,[["__scopeId","data-v-006f3eb7"]]),Ele={class:"grid mt-20"},Sle=xe({__name:"Home",setup(t){return(e,n)=>(N(),ce(Js,{"scroll-to-content":!1},{content:J(()=>[v("div",Ele,[B(Tle)])]),_:1}))}}),Ile=xe({__name:"Home",setup(t){return(e,n)=>(N(),ce(Sle))}}),Cle={class:"flex flex-col items-center content-center"},Ale={class:"grid grid-cols-4 mt-10 gap-3"},Ple=xe({__name:"Login",setup(t){const e=br(),{isLoginLoading:n}=Vt(e),r=Q_(),{initEmail:i,initPassword:s}=r.currentRoute.value.query,o=ie(),a=ie(),l=Pr({email:{value:(i==null?void 0:i.toString())||"",error:""},password:{value:(s==null?void 0:s.toString())||"",error:""}}),u=async()=>{Object.keys(l).forEach(d=>l[d].error=""),await Promise.all([o.value.test(),a.value.test()]),!l.email.error&&!l.password.error&&e.login(l.email.value,l.password.value)},c=async()=>{await o.value.test(),l.email.error||e.resetPassword(l.email.value)};return $t(()=>{r.replace({query:void 0})}),(d,h)=>{const p=An("RouterLink");return N(),ce(Js,null,{content:J(()=>[B(xn,{class:"!bg-primary-800 !bg-opacity-50 my-5",title:"Login",description:"Please login using your e-mail and password."},{default:J(()=>[v("div",Cle,[v("form",{class:"w-full lg:w-1/2 xl:w-1/3 px-8 pt-6 pb-8 mb-4",onSubmit:h[4]||(h[4]=kt(m=>u(),["prevent"]))},[B(Z1,{ref_key:"email",ref:o,name:"email",label:"E-mail",modelValue:l.email.value,"onUpdate:modelValue":h[0]||(h[0]=m=>l.email.value=m),error:l.email.error,"onUpdate:error":h[1]||(h[1]=m=>l.email.error=m),rules:[A(Dt).Required]},null,8,["modelValue","error","rules"]),B(Ou,{ref_key:"password",ref:a,name:"password",label:"Password",modelValue:l.password.value,"onUpdate:modelValue":h[2]||(h[2]=m=>l.password.value=m),error:l.password.error,"onUpdate:error":h[3]||(h[3]=m=>l.password.error=m),rules:[A(Dt).Required]},null,8,["modelValue","error","rules"]),v("div",Ale,[B(at,{class:"col-span-full md:col-span-2",action:"submit",loading:A(n),label:"Login"},null,8,["loading"]),B(p,{class:"col-span-full md:col-span-2",to:{name:A(Xn).REGISTER,query:{initEmail:l.email.value,initPassword:l.password.value}}},{default:J(()=>[B(at,{class:"w-full",outlined:"",label:"Register"})]),_:1},8,["to"]),B(at,{class:"col-span-full md:col-span-2 md:col-start-3",outlined:"",label:"Forgot Password",onClick:c})])],32),B(J1)])]),_:1})]),_:1})}}}),Ole=xe({__name:"Login",setup(t){return(e,n)=>(N(),ce(Ple))}}),kle=xe({__name:"NotFound",setup(t){return(e,n)=>(N(),ce(Js,{"scroll-to-content":!1},{content:J(()=>[B(xn,{class:"!bg-red-800 !bg-opacity-50 !rounded-primary my-5",title:"Not found.",description:"Where are you going?"})]),_:1}))}}),Rle=xe({__name:"NotFound",setup(t){return(e,n)=>(N(),ce(kle))}}),xle={class:"flex flex-wrap pt-6 pb-8 mb-4"},Dle={class:"table-auto text-left border-separate border-spacing-x-5"},Nle={key:0},Mle=v("th",null,"Last name",-1),Lle={key:1},Vle=v("th",null,"First name",-1),$le={key:2},Fle=v("th",null,"Created at",-1),Ule={key:3},qle=v("th",null,"Last login",-1),Ble=xe({__name:"Profile",setup(t){const e=cf(),n=jn(),{users:r,publicUsers:i}=Vt(n),s=ee(()=>e.params.userId),o=ee(()=>r.value.find(l=>l.id===s.value)),a=ee(()=>i.value.find(l=>l.id===s.value));return(l,u)=>(N(),ce(Js,null,{content:J(()=>[a.value?(N(),ce(xn,{key:0,class:"!bg-secondary-500 !bg-opacity-35 my-5",title:a.value.displayName,description:o.value?void 0:"No other information about this user.",avatar:a.value.avatar},{default:J(()=>{var c,d,h,p;return[v("div",xle,[v("table",Dle,[v("tbody",null,[(c=o.value)!=null&&c.lastName?(N(),W("tr",Nle,[Mle,v("td",null,Fe(o.value.lastName),1)])):Z("",!0),(d=o.value)!=null&&d.firstName?(N(),W("tr",Lle,[Vle,v("td",null,Fe(o.value.firstName),1)])):Z("",!0),(h=o.value)!=null&&h.createdAt?(N(),W("tr",$le,[Fle,v("td",null,Fe(A(dc)(o.value.createdAt)),1)])):Z("",!0),(p=o.value)!=null&&p.lastLogin?(N(),W("tr",Ule,[qle,v("td",null,Fe(A(dc)(o.value.lastLogin)),1)])):Z("",!0)])])])]}),_:1},8,["title","description","avatar"])):Z("",!0)]),_:1}))}}),jle=xe({__name:"Profile",setup(t){return(e,n)=>(N(),ce(Ble))}}),Hle={class:"pt-6 pb-8 mb-4"},Wle={class:"block table-auto overflow-x-auto text-left"},zle=v("thead",null,[v("tr",null,[v("th",{class:"border px-2"}),v("th",{class:"border px-2"},"Displayname"),v("th",{class:"border px-2"},"First name"),v("th",{class:"border px-2"},"Last name"),v("th",{class:"border px-2"},"Last login")])],-1),Kle={class:"h-12"},Gle={class:"border p-1"},Yle=["src"],Xle={class:"border px-2"},Qle={class:"border px-2"},Jle={class:"border px-2"},Zle={class:"border px-2"},eue=xe({__name:"Profiles",setup(t){const e=jn(),{users:n,publicUsers:r}=Vt(e),i=ee(()=>n.value.map(o=>({displayName:"",...o,...r.value.find(a=>a.id===o.id)}))),s=ee(()=>i.value.sort((o,a)=>{var l,u;try{return(((l=o.lastLogin)==null?void 0:l.getTime())??0)-(((u=a.lastLogin)==null?void 0:u.getTime())??0)}catch{return 0}}));return(o,a)=>{const l=An("RouterLink");return N(),ce(Js,null,{content:J(()=>[B(xn,{class:"!bg-primary-500 !bg-opacity-35 my-5",title:"Profiles"},{default:J(()=>[v("div",Hle,[v("table",Wle,[zle,v("tbody",null,[(N(!0),W(Pe,null,ht(s.value,u=>(N(),W("tr",Kle,[v("td",Gle,[u.avatar?(N(),ce(l,{key:0,to:{name:A(Xn).USER_DETAILS,params:{userId:u.id}}},{default:J(()=>[v("img",{class:"rounded-full h-12 w-12 min-w-12",src:u.avatar},null,8,Yle)]),_:2},1032,["to"])):Z("",!0)]),v("td",Xle,[B(l,{to:{name:A(Xn).USER_DETAILS,params:{userId:u.id}}},{default:J(()=>[K(Fe(u.displayName),1)]),_:2},1032,["to"])]),v("td",Qle,Fe(u==null?void 0:u.firstName),1),v("td",Jle,Fe(u==null?void 0:u.lastName),1),v("td",Zle,Fe(u!=null&&u.lastLogin?A(dc)(u.lastLogin):""),1)]))),256))])])])]),_:1})]),_:1})}}}),tue=xe({__name:"Profiles",setup(t){return(e,n)=>(N(),ce(eue))}}),nue={class:"flex flex-col items-center content-center"},rue={class:"grid grid-cols-2 mt-10 gap-3"},iue=xe({__name:"Register",setup(t){const e=br(),{isLoginLoading:n}=Vt(e),r=Q_(),{initEmail:i,initPassword:s}=r.currentRoute.value.query,o=ie(),a=ie(),l=ie(),u=Pr({email:{value:(i==null?void 0:i.toString())||"",error:""},password:{value:(s==null?void 0:s.toString())||"",error:""},firstName:{value:"",error:""}}),c=async()=>{Object.keys(u).forEach(d=>u[d].error=""),await Promise.all([o.value.test(),a.value.test(),l.value.test()]),!u.email.error&&!u.password.error&&!u.firstName.error&&e.register(u.email.value,u.password.value,u.firstName.value)};return $t(()=>{r.replace({query:void 0})}),(d,h)=>{const p=An("RouterLink");return N(),ce(Js,null,{content:J(()=>[B(xn,{class:"!bg-cyan-800 !bg-opacity-50 my-5",title:"Register",description:"Please register using your e-mail, password and first name."},{default:J(()=>[v("div",nue,[v("form",{class:"w-full lg:w-1/2 xl:w-1/3 px-8 pt-6 pb-8 mb-4",onSubmit:h[6]||(h[6]=kt(m=>c(),["prevent"]))},[B(ei,{ref_key:"firstName",ref:l,name:"firstName",label:"First Name",placeholder:"Someone",modelValue:u.firstName.value,"onUpdate:modelValue":h[0]||(h[0]=m=>u.firstName.value=m),error:u.firstName.error,"onUpdate:error":h[1]||(h[1]=m=>u.firstName.error=m),rules:[A(Dt).Required,A(Dt).MinLength],"min-length":3,"max-length":25},null,8,["modelValue","error","rules"]),B(Z1,{ref_key:"email",ref:o,name:"email",label:"E-mail",modelValue:u.email.value,"onUpdate:modelValue":h[2]||(h[2]=m=>u.email.value=m),error:u.email.error,"onUpdate:error":h[3]||(h[3]=m=>u.email.error=m),rules:[A(Dt).Required]},null,8,["modelValue","error","rules"]),B(Ou,{ref_key:"password",ref:a,name:"password",label:"Password",modelValue:u.password.value,"onUpdate:modelValue":h[4]||(h[4]=m=>u.password.value=m),error:u.password.error,"onUpdate:error":h[5]||(h[5]=m=>u.password.error=m),rules:[A(Dt).Required]},null,8,["modelValue","error","rules"]),v("div",rue,[B(at,{class:"col-span-full md:col-span-1",action:"submit",loading:A(n),label:"Register"},null,8,["loading"]),B(p,{to:{name:A(Xn).LOGIN,query:{initEmail:u.email.value,initPassword:u.password.value}},class:"col-span-full md:col-span-1"},{default:J(()=>[B(at,{class:"w-full",outlined:"",label:"Login"})]),_:1},8,["to"])])],32),B(J1)])]),_:1})]),_:1})}}}),sue=xe({__name:"Register",setup(t){return(e,n)=>(N(),ce(iue))}});var Xn=(t=>(t.HOME="home",t.LOGIN="login",t.REGISTER="register",t.DASHBOARD="dashboard",t.USER_OVERVIEW="users",t.USER_DETAILS="user-details",t.BLOG="blog",t.BLOG_DETAILS="blog-details",t.CUSTOM_VOTING="customvoting",t.CAT_CALC="cat-calc",t.NOT_FOUND="notfound",t))(Xn||{});const aL={HOME:{path:"/",meta:{title:"Home"},component:Ile,beforeEnter:(t,e,n)=>{var i;const r=decodeURIComponent(((i=t.query.path)==null?void 0:i.toString())||"");if(r){const s=r.split("/")[0];Ov.getRoutes().find(o=>o.path.startsWith(`/${s}`))?n({path:r}):n({name:"notfound"})}else n()}},LOGIN:{path:"/login",meta:{title:"Login"},component:Ole,beforeEnter:(t,e,n)=>{br().currentUser?n({name:"dashboard"}):n()}},REGISTER:{path:"/register",meta:{title:"Register"},component:sue,beforeEnter:(t,e,n)=>{br().currentUser?n({name:"dashboard"}):n()}},DASHBOARD:{path:"/dashboard",meta:{title:"Dashboard"},component:yle},USER_OVERVIEW:{path:"/profiles",meta:{title:"Profiles"},component:tue},USER_DETAILS:{path:"/profile/:userId",meta:{title:"Profile"},component:jle},BLOG:{path:"/blog",meta:{title:"Blog"},component:dP},BLOG_DETAILS:{path:"/blog/:postId",meta:{title:"Blog"},component:dP},CUSTOM_VOTING:{path:"/customvoting",meta:{title:"CustomVoting"},component:lle},CAT_CALC:{path:"/cat-calc",meta:{title:"CatCalc"},component:nie},NOT_FOUND:{path:"/:pathMatch(.*)*",meta:{title:"404"},component:Rle}},Ov=ZF({history:PF(),routes:Object.entries(aL).map(([t,e])=>({...e,name:Xn[t]})),scrollBehavior(t,e,n){return n||((t.name==="login"||t.name==="register")&&(e.name==="login"||e.name==="register")?!1:{top:0})}}),hP=dM.name;Ov.beforeEach(async(t,e,n)=>{var r;if(t===e)n();else if(!t.name)n({name:"notfound"});else{const i=t.name;if(["home","login","register","dashboard","notfound"].includes(i))n();else{const o=await jn().fetchMenuItems((r=br().firebaseUser)==null?void 0:r.uid);(o==null?void 0:o.some(l=>l.route?i===l.route:l.url?t.path.startsWith(l.url):!1))?n():n({name:"notfound"})}}});Ov.beforeResolve(t=>{document.title=hP+" | "+t.meta.title||hP;const e=ZR();ex(e,"screen_view",{screen_name:t.path})});const eT=Ov;function es(t){"@babel/helpers - typeof";return es=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},es(t)}function pt(t){if(t===null||t===!0||t===!1)return NaN;var e=Number(t);return isNaN(e)?e:e<0?Math.ceil(e):Math.floor(e)}function Ze(t,e){if(e.length<t)throw new TypeError(t+" argument"+(t>1?"s":"")+" required, but only "+e.length+" present")}function ct(t){Ze(1,arguments);var e=Object.prototype.toString.call(t);return t instanceof Date||es(t)==="object"&&e==="[object Date]"?new Date(t.getTime()):typeof t=="number"||e==="[object Number]"?new Date(t):((typeof t=="string"||e==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}function co(t,e){Ze(2,arguments);var n=ct(t),r=pt(e);return isNaN(r)?new Date(NaN):(r&&n.setDate(n.getDate()+r),n)}function ys(t,e){Ze(2,arguments);var n=ct(t),r=pt(e);if(isNaN(r))return new Date(NaN);if(!r)return n;var i=n.getDate(),s=new Date(n.getTime());s.setMonth(n.getMonth()+r+1,0);var o=s.getDate();return i>=o?s:(n.setFullYear(s.getFullYear(),s.getMonth(),i),n)}function lL(t,e){if(Ze(2,arguments),!e||es(e)!=="object")return new Date(NaN);var n=e.years?pt(e.years):0,r=e.months?pt(e.months):0,i=e.weeks?pt(e.weeks):0,s=e.days?pt(e.days):0,o=e.hours?pt(e.hours):0,a=e.minutes?pt(e.minutes):0,l=e.seconds?pt(e.seconds):0,u=ct(t),c=r||n?ys(u,r+n*12):u,d=s||i?co(c,s+i*7):c,h=a+o*60,p=l+h*60,m=p*1e3,g=new Date(d.getTime()+m);return g}function oue(t,e){Ze(2,arguments);var n=ct(t).getTime(),r=pt(e);return new Date(n+r)}var aue={};function Zs(){return aue}function $l(t,e){var n,r,i,s,o,a,l,u;Ze(1,arguments);var c=Zs(),d=pt((n=(r=(i=(s=e==null?void 0:e.weekStartsOn)!==null&&s!==void 0?s:e==null||(o=e.locale)===null||o===void 0||(a=o.options)===null||a===void 0?void 0:a.weekStartsOn)!==null&&i!==void 0?i:c.weekStartsOn)!==null&&r!==void 0?r:(l=c.locale)===null||l===void 0||(u=l.options)===null||u===void 0?void 0:u.weekStartsOn)!==null&&n!==void 0?n:0);if(!(d>=0&&d<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var h=ct(t),p=h.getDay(),m=(p<d?7:0)+p-d;return h.setDate(h.getDate()-m),h.setHours(0,0,0,0),h}function cg(t){return Ze(1,arguments),$l(t,{weekStartsOn:1})}function lue(t){Ze(1,arguments);var e=ct(t),n=e.getFullYear(),r=new Date(0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);var i=cg(r),s=new Date(0);s.setFullYear(n,0,4),s.setHours(0,0,0,0);var o=cg(s);return e.getTime()>=i.getTime()?n+1:e.getTime()>=o.getTime()?n:n-1}function uue(t){Ze(1,arguments);var e=lue(t),n=new Date(0);n.setFullYear(e,0,4),n.setHours(0,0,0,0);var r=cg(n);return r}function dg(t){var e=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return e.setUTCFullYear(t.getFullYear()),t.getTime()-e.getTime()}function fP(t){Ze(1,arguments);var e=ct(t);return e.setHours(0,0,0,0),e}var cue=864e5;function due(t,e){Ze(2,arguments);var n=fP(t),r=fP(e),i=n.getTime()-dg(n),s=r.getTime()-dg(r);return Math.round((i-s)/cue)}function hue(t,e){Ze(2,arguments);var n=pt(e),r=n*3;return ys(t,r)}function tT(t,e){Ze(2,arguments);var n=pt(e);return ys(t,n*12)}var nT=6e4,rT=36e5,fue=1e3;function uL(t){return Ze(1,arguments),t instanceof Date||es(t)==="object"&&Object.prototype.toString.call(t)==="[object Date]"}function ah(t){if(Ze(1,arguments),!uL(t)&&typeof t!="number")return!1;var e=ct(t);return!isNaN(Number(e))}function pP(t){Ze(1,arguments);var e=ct(t),n=Math.floor(e.getMonth()/3)+1;return n}function cL(t,e){var n;Ze(1,arguments);var r=t||{},i=ct(r.start),s=ct(r.end),o=s.getTime();if(!(i.getTime()<=o))throw new RangeError("Invalid interval");var a=[],l=i;l.setHours(0,0,0,0);var u=Number((n=e==null?void 0:e.step)!==null&&n!==void 0?n:1);if(u<1||isNaN(u))throw new RangeError("`options.step` must be a number greater than 1");for(;l.getTime()<=o;)a.push(ct(l)),l.setDate(l.getDate()+u),l.setHours(0,0,0,0);return a}function Wh(t){Ze(1,arguments);var e=ct(t),n=e.getMonth(),r=n-n%3;return e.setMonth(r,1),e.setHours(0,0,0,0),e}function pue(t){Ze(1,arguments);var e=t||{},n=ct(e.start),r=ct(e.end),i=r.getTime();if(!(n.getTime()<=i))throw new RangeError("Invalid interval");var s=Wh(n),o=Wh(r);i=o.getTime();for(var a=[],l=s;l.getTime()<=i;)a.push(ct(l)),l=hue(l,1);return a}function mue(t){Ze(1,arguments);var e=ct(t),n=e.getFullYear();return e.setFullYear(n+1,0,0),e.setHours(23,59,59,999),e}function gue(t){Ze(1,arguments);var e=ct(t),n=new Date(0);return n.setFullYear(e.getFullYear(),0,1),n.setHours(0,0,0,0),n}function vue(t,e){var n,r,i,s,o,a,l,u;Ze(1,arguments);var c=Zs(),d=pt((n=(r=(i=(s=e==null?void 0:e.weekStartsOn)!==null&&s!==void 0?s:e==null||(o=e.locale)===null||o===void 0||(a=o.options)===null||a===void 0?void 0:a.weekStartsOn)!==null&&i!==void 0?i:c.weekStartsOn)!==null&&r!==void 0?r:(l=c.locale)===null||l===void 0||(u=l.options)===null||u===void 0?void 0:u.weekStartsOn)!==null&&n!==void 0?n:0);if(!(d>=0&&d<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var h=ct(t),p=h.getDay(),m=(p<d?-7:0)+6-(p-d);return h.setDate(h.getDate()+m),h.setHours(23,59,59,999),h}function mP(t){Ze(1,arguments);var e=ct(t),n=e.getMonth(),r=n-n%3+3;return e.setMonth(r,0),e.setHours(23,59,59,999),e}function dL(t,e){Ze(2,arguments);var n=pt(e);return oue(t,-n)}var yue=864e5;function bue(t){Ze(1,arguments);var e=ct(t),n=e.getTime();e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0);var r=e.getTime(),i=n-r;return Math.floor(i/yue)+1}function wc(t){Ze(1,arguments);var e=1,n=ct(t),r=n.getUTCDay(),i=(r<e?7:0)+r-e;return n.setUTCDate(n.getUTCDate()-i),n.setUTCHours(0,0,0,0),n}function hL(t){Ze(1,arguments);var e=ct(t),n=e.getUTCFullYear(),r=new Date(0);r.setUTCFullYear(n+1,0,4),r.setUTCHours(0,0,0,0);var i=wc(r),s=new Date(0);s.setUTCFullYear(n,0,4),s.setUTCHours(0,0,0,0);var o=wc(s);return e.getTime()>=i.getTime()?n+1:e.getTime()>=o.getTime()?n:n-1}function _ue(t){Ze(1,arguments);var e=hL(t),n=new Date(0);n.setUTCFullYear(e,0,4),n.setUTCHours(0,0,0,0);var r=wc(n);return r}var wue=6048e5;function fL(t){Ze(1,arguments);var e=ct(t),n=wc(e).getTime()-_ue(e).getTime();return Math.round(n/wue)+1}function Fl(t,e){var n,r,i,s,o,a,l,u;Ze(1,arguments);var c=Zs(),d=pt((n=(r=(i=(s=e==null?void 0:e.weekStartsOn)!==null&&s!==void 0?s:e==null||(o=e.locale)===null||o===void 0||(a=o.options)===null||a===void 0?void 0:a.weekStartsOn)!==null&&i!==void 0?i:c.weekStartsOn)!==null&&r!==void 0?r:(l=c.locale)===null||l===void 0||(u=l.options)===null||u===void 0?void 0:u.weekStartsOn)!==null&&n!==void 0?n:0);if(!(d>=0&&d<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var h=ct(t),p=h.getUTCDay(),m=(p<d?7:0)+p-d;return h.setUTCDate(h.getUTCDate()-m),h.setUTCHours(0,0,0,0),h}function iT(t,e){var n,r,i,s,o,a,l,u;Ze(1,arguments);var c=ct(t),d=c.getUTCFullYear(),h=Zs(),p=pt((n=(r=(i=(s=e==null?void 0:e.firstWeekContainsDate)!==null&&s!==void 0?s:e==null||(o=e.locale)===null||o===void 0||(a=o.options)===null||a===void 0?void 0:a.firstWeekContainsDate)!==null&&i!==void 0?i:h.firstWeekContainsDate)!==null&&r!==void 0?r:(l=h.locale)===null||l===void 0||(u=l.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&n!==void 0?n:1);if(!(p>=1&&p<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var m=new Date(0);m.setUTCFullYear(d+1,0,p),m.setUTCHours(0,0,0,0);var g=Fl(m,e),y=new Date(0);y.setUTCFullYear(d,0,p),y.setUTCHours(0,0,0,0);var P=Fl(y,e);return c.getTime()>=g.getTime()?d+1:c.getTime()>=P.getTime()?d:d-1}function Tue(t,e){var n,r,i,s,o,a,l,u;Ze(1,arguments);var c=Zs(),d=pt((n=(r=(i=(s=e==null?void 0:e.firstWeekContainsDate)!==null&&s!==void 0?s:e==null||(o=e.locale)===null||o===void 0||(a=o.options)===null||a===void 0?void 0:a.firstWeekContainsDate)!==null&&i!==void 0?i:c.firstWeekContainsDate)!==null&&r!==void 0?r:(l=c.locale)===null||l===void 0||(u=l.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&n!==void 0?n:1),h=iT(t,e),p=new Date(0);p.setUTCFullYear(h,0,d),p.setUTCHours(0,0,0,0);var m=Fl(p,e);return m}var Eue=6048e5;function pL(t,e){Ze(1,arguments);var n=ct(t),r=Fl(n,e).getTime()-Tue(n,e).getTime();return Math.round(r/Eue)+1}function an(t,e){for(var n=t<0?"-":"",r=Math.abs(t).toString();r.length<e;)r="0"+r;return n+r}var Sue={y:function(e,n){var r=e.getUTCFullYear(),i=r>0?r:1-r;return an(n==="yy"?i%100:i,n.length)},M:function(e,n){var r=e.getUTCMonth();return n==="M"?String(r+1):an(r+1,2)},d:function(e,n){return an(e.getUTCDate(),n.length)},a:function(e,n){var r=e.getUTCHours()/12>=1?"pm":"am";switch(n){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h:function(e,n){return an(e.getUTCHours()%12||12,n.length)},H:function(e,n){return an(e.getUTCHours(),n.length)},m:function(e,n){return an(e.getUTCMinutes(),n.length)},s:function(e,n){return an(e.getUTCSeconds(),n.length)},S:function(e,n){var r=n.length,i=e.getUTCMilliseconds(),s=Math.floor(i*Math.pow(10,r-3));return an(s,n.length)}};const jo=Sue;var uu={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Iue={G:function(e,n,r){var i=e.getUTCFullYear()>0?1:0;switch(n){case"G":case"GG":case"GGG":return r.era(i,{width:"abbreviated"});case"GGGGG":return r.era(i,{width:"narrow"});case"GGGG":default:return r.era(i,{width:"wide"})}},y:function(e,n,r){if(n==="yo"){var i=e.getUTCFullYear(),s=i>0?i:1-i;return r.ordinalNumber(s,{unit:"year"})}return jo.y(e,n)},Y:function(e,n,r,i){var s=iT(e,i),o=s>0?s:1-s;if(n==="YY"){var a=o%100;return an(a,2)}return n==="Yo"?r.ordinalNumber(o,{unit:"year"}):an(o,n.length)},R:function(e,n){var r=hL(e);return an(r,n.length)},u:function(e,n){var r=e.getUTCFullYear();return an(r,n.length)},Q:function(e,n,r){var i=Math.ceil((e.getUTCMonth()+1)/3);switch(n){case"Q":return String(i);case"QQ":return an(i,2);case"Qo":return r.ordinalNumber(i,{unit:"quarter"});case"QQQ":return r.quarter(i,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(i,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(i,{width:"wide",context:"formatting"})}},q:function(e,n,r){var i=Math.ceil((e.getUTCMonth()+1)/3);switch(n){case"q":return String(i);case"qq":return an(i,2);case"qo":return r.ordinalNumber(i,{unit:"quarter"});case"qqq":return r.quarter(i,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(i,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(i,{width:"wide",context:"standalone"})}},M:function(e,n,r){var i=e.getUTCMonth();switch(n){case"M":case"MM":return jo.M(e,n);case"Mo":return r.ordinalNumber(i+1,{unit:"month"});case"MMM":return r.month(i,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(i,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(i,{width:"wide",context:"formatting"})}},L:function(e,n,r){var i=e.getUTCMonth();switch(n){case"L":return String(i+1);case"LL":return an(i+1,2);case"Lo":return r.ordinalNumber(i+1,{unit:"month"});case"LLL":return r.month(i,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(i,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(i,{width:"wide",context:"standalone"})}},w:function(e,n,r,i){var s=pL(e,i);return n==="wo"?r.ordinalNumber(s,{unit:"week"}):an(s,n.length)},I:function(e,n,r){var i=fL(e);return n==="Io"?r.ordinalNumber(i,{unit:"week"}):an(i,n.length)},d:function(e,n,r){return n==="do"?r.ordinalNumber(e.getUTCDate(),{unit:"date"}):jo.d(e,n)},D:function(e,n,r){var i=bue(e);return n==="Do"?r.ordinalNumber(i,{unit:"dayOfYear"}):an(i,n.length)},E:function(e,n,r){var i=e.getUTCDay();switch(n){case"E":case"EE":case"EEE":return r.day(i,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(i,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(i,{width:"short",context:"formatting"});case"EEEE":default:return r.day(i,{width:"wide",context:"formatting"})}},e:function(e,n,r,i){var s=e.getUTCDay(),o=(s-i.weekStartsOn+8)%7||7;switch(n){case"e":return String(o);case"ee":return an(o,2);case"eo":return r.ordinalNumber(o,{unit:"day"});case"eee":return r.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(s,{width:"short",context:"formatting"});case"eeee":default:return r.day(s,{width:"wide",context:"formatting"})}},c:function(e,n,r,i){var s=e.getUTCDay(),o=(s-i.weekStartsOn+8)%7||7;switch(n){case"c":return String(o);case"cc":return an(o,n.length);case"co":return r.ordinalNumber(o,{unit:"day"});case"ccc":return r.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(s,{width:"narrow",context:"standalone"});case"cccccc":return r.day(s,{width:"short",context:"standalone"});case"cccc":default:return r.day(s,{width:"wide",context:"standalone"})}},i:function(e,n,r){var i=e.getUTCDay(),s=i===0?7:i;switch(n){case"i":return String(s);case"ii":return an(s,n.length);case"io":return r.ordinalNumber(s,{unit:"day"});case"iii":return r.day(i,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(i,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(i,{width:"short",context:"formatting"});case"iiii":default:return r.day(i,{width:"wide",context:"formatting"})}},a:function(e,n,r){var i=e.getUTCHours(),s=i/12>=1?"pm":"am";switch(n){case"a":case"aa":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(e,n,r){var i=e.getUTCHours(),s;switch(i===12?s=uu.noon:i===0?s=uu.midnight:s=i/12>=1?"pm":"am",n){case"b":case"bb":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(e,n,r){var i=e.getUTCHours(),s;switch(i>=17?s=uu.evening:i>=12?s=uu.afternoon:i>=4?s=uu.morning:s=uu.night,n){case"B":case"BB":case"BBB":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(e,n,r){if(n==="ho"){var i=e.getUTCHours()%12;return i===0&&(i=12),r.ordinalNumber(i,{unit:"hour"})}return jo.h(e,n)},H:function(e,n,r){return n==="Ho"?r.ordinalNumber(e.getUTCHours(),{unit:"hour"}):jo.H(e,n)},K:function(e,n,r){var i=e.getUTCHours()%12;return n==="Ko"?r.ordinalNumber(i,{unit:"hour"}):an(i,n.length)},k:function(e,n,r){var i=e.getUTCHours();return i===0&&(i=24),n==="ko"?r.ordinalNumber(i,{unit:"hour"}):an(i,n.length)},m:function(e,n,r){return n==="mo"?r.ordinalNumber(e.getUTCMinutes(),{unit:"minute"}):jo.m(e,n)},s:function(e,n,r){return n==="so"?r.ordinalNumber(e.getUTCSeconds(),{unit:"second"}):jo.s(e,n)},S:function(e,n){return jo.S(e,n)},X:function(e,n,r,i){var s=i._originalDate||e,o=s.getTimezoneOffset();if(o===0)return"Z";switch(n){case"X":return vP(o);case"XXXX":case"XX":return Za(o);case"XXXXX":case"XXX":default:return Za(o,":")}},x:function(e,n,r,i){var s=i._originalDate||e,o=s.getTimezoneOffset();switch(n){case"x":return vP(o);case"xxxx":case"xx":return Za(o);case"xxxxx":case"xxx":default:return Za(o,":")}},O:function(e,n,r,i){var s=i._originalDate||e,o=s.getTimezoneOffset();switch(n){case"O":case"OO":case"OOO":return"GMT"+gP(o,":");case"OOOO":default:return"GMT"+Za(o,":")}},z:function(e,n,r,i){var s=i._originalDate||e,o=s.getTimezoneOffset();switch(n){case"z":case"zz":case"zzz":return"GMT"+gP(o,":");case"zzzz":default:return"GMT"+Za(o,":")}},t:function(e,n,r,i){var s=i._originalDate||e,o=Math.floor(s.getTime()/1e3);return an(o,n.length)},T:function(e,n,r,i){var s=i._originalDate||e,o=s.getTime();return an(o,n.length)}};function gP(t,e){var n=t>0?"-":"+",r=Math.abs(t),i=Math.floor(r/60),s=r%60;if(s===0)return n+String(i);var o=e||"";return n+String(i)+o+an(s,2)}function vP(t,e){if(t%60===0){var n=t>0?"-":"+";return n+an(Math.abs(t)/60,2)}return Za(t,e)}function Za(t,e){var n=e||"",r=t>0?"-":"+",i=Math.abs(t),s=an(Math.floor(i/60),2),o=an(i%60,2);return r+s+n+o}var yP=function(e,n){switch(e){case"P":return n.date({width:"short"});case"PP":return n.date({width:"medium"});case"PPP":return n.date({width:"long"});case"PPPP":default:return n.date({width:"full"})}},mL=function(e,n){switch(e){case"p":return n.time({width:"short"});case"pp":return n.time({width:"medium"});case"ppp":return n.time({width:"long"});case"pppp":default:return n.time({width:"full"})}},Cue=function(e,n){var r=e.match(/(P+)(p+)?/)||[],i=r[1],s=r[2];if(!s)return yP(e,n);var o;switch(i){case"P":o=n.dateTime({width:"short"});break;case"PP":o=n.dateTime({width:"medium"});break;case"PPP":o=n.dateTime({width:"long"});break;case"PPPP":default:o=n.dateTime({width:"full"});break}return o.replace("{{date}}",yP(i,n)).replace("{{time}}",mL(s,n))},r_={p:mL,P:Cue},Aue=["D","DD"],Pue=["YY","YYYY"];function gL(t){return Aue.indexOf(t)!==-1}function vL(t){return Pue.indexOf(t)!==-1}function hg(t,e,n){if(t==="YYYY")throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(e,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(t==="YY")throw new RangeError("Use `yy` instead of `YY` (in `".concat(e,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(t==="D")throw new RangeError("Use `d` instead of `D` (in `".concat(e,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(t==="DD")throw new RangeError("Use `dd` instead of `DD` (in `".concat(e,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var Oue={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},kue=function(e,n,r){var i,s=Oue[e];return typeof s=="string"?i=s:n===1?i=s.one:i=s.other.replace("{{count}}",n.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+i:i+" ago":i};const Rue=kue;function rb(t){return function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.width?String(e.width):t.defaultWidth,r=t.formats[n]||t.formats[t.defaultWidth];return r}}var xue={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Due={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Nue={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Mue={date:rb({formats:xue,defaultWidth:"full"}),time:rb({formats:Due,defaultWidth:"full"}),dateTime:rb({formats:Nue,defaultWidth:"full"})};const Lue=Mue;var Vue={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},$ue=function(e,n,r,i){return Vue[e]};const Fue=$ue;function pd(t){return function(e,n){var r=n!=null&&n.context?String(n.context):"standalone",i;if(r==="formatting"&&t.formattingValues){var s=t.defaultFormattingWidth||t.defaultWidth,o=n!=null&&n.width?String(n.width):s;i=t.formattingValues[o]||t.formattingValues[s]}else{var a=t.defaultWidth,l=n!=null&&n.width?String(n.width):t.defaultWidth;i=t.values[l]||t.values[a]}var u=t.argumentCallback?t.argumentCallback(e):e;return i[u]}}var Uue={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},que={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Bue={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},jue={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Hue={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Wue={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},zue=function(e,n){var r=Number(e),i=r%100;if(i>20||i<10)switch(i%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},Kue={ordinalNumber:zue,era:pd({values:Uue,defaultWidth:"wide"}),quarter:pd({values:que,defaultWidth:"wide",argumentCallback:function(e){return e-1}}),month:pd({values:Bue,defaultWidth:"wide"}),day:pd({values:jue,defaultWidth:"wide"}),dayPeriod:pd({values:Hue,defaultWidth:"wide",formattingValues:Wue,defaultFormattingWidth:"wide"})};const Gue=Kue;function md(t){return function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=n.width,i=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],s=e.match(i);if(!s)return null;var o=s[0],a=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],l=Array.isArray(a)?Xue(a,function(d){return d.test(o)}):Yue(a,function(d){return d.test(o)}),u;u=t.valueCallback?t.valueCallback(l):l,u=n.valueCallback?n.valueCallback(u):u;var c=e.slice(o.length);return{value:u,rest:c}}}function Yue(t,e){for(var n in t)if(t.hasOwnProperty(n)&&e(t[n]))return n}function Xue(t,e){for(var n=0;n<t.length;n++)if(e(t[n]))return n}function Que(t){return function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=e.match(t.matchPattern);if(!r)return null;var i=r[0],s=e.match(t.parsePattern);if(!s)return null;var o=t.valueCallback?t.valueCallback(s[0]):s[0];o=n.valueCallback?n.valueCallback(o):o;var a=e.slice(i.length);return{value:o,rest:a}}}var Jue=/^(\d+)(th|st|nd|rd)?/i,Zue=/\d+/i,ece={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},tce={any:[/^b/i,/^(a|c)/i]},nce={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},rce={any:[/1/i,/2/i,/3/i,/4/i]},ice={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},sce={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},oce={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},ace={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},lce={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},uce={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},cce={ordinalNumber:Que({matchPattern:Jue,parsePattern:Zue,valueCallback:function(e){return parseInt(e,10)}}),era:md({matchPatterns:ece,defaultMatchWidth:"wide",parsePatterns:tce,defaultParseWidth:"any"}),quarter:md({matchPatterns:nce,defaultMatchWidth:"wide",parsePatterns:rce,defaultParseWidth:"any",valueCallback:function(e){return e+1}}),month:md({matchPatterns:ice,defaultMatchWidth:"wide",parsePatterns:sce,defaultParseWidth:"any"}),day:md({matchPatterns:oce,defaultMatchWidth:"wide",parsePatterns:ace,defaultParseWidth:"any"}),dayPeriod:md({matchPatterns:lce,defaultMatchWidth:"any",parsePatterns:uce,defaultParseWidth:"any"})};const dce=cce;var hce={code:"en-US",formatDistance:Rue,formatLong:Lue,formatRelative:Fue,localize:Gue,match:dce,options:{weekStartsOn:0,firstWeekContainsDate:1}};const yL=hce;var fce=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,pce=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,mce=/^'([^]*?)'?$/,gce=/''/g,vce=/[a-zA-Z]/;function va(t,e,n){var r,i,s,o,a,l,u,c,d,h,p,m,g,y,P,I,S,T;Ze(2,arguments);var M=String(e),R=Zs(),C=(r=(i=n==null?void 0:n.locale)!==null&&i!==void 0?i:R.locale)!==null&&r!==void 0?r:yL,E=pt((s=(o=(a=(l=n==null?void 0:n.firstWeekContainsDate)!==null&&l!==void 0?l:n==null||(u=n.locale)===null||u===void 0||(c=u.options)===null||c===void 0?void 0:c.firstWeekContainsDate)!==null&&a!==void 0?a:R.firstWeekContainsDate)!==null&&o!==void 0?o:(d=R.locale)===null||d===void 0||(h=d.options)===null||h===void 0?void 0:h.firstWeekContainsDate)!==null&&s!==void 0?s:1);if(!(E>=1&&E<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var b=pt((p=(m=(g=(y=n==null?void 0:n.weekStartsOn)!==null&&y!==void 0?y:n==null||(P=n.locale)===null||P===void 0||(I=P.options)===null||I===void 0?void 0:I.weekStartsOn)!==null&&g!==void 0?g:R.weekStartsOn)!==null&&m!==void 0?m:(S=R.locale)===null||S===void 0||(T=S.options)===null||T===void 0?void 0:T.weekStartsOn)!==null&&p!==void 0?p:0);if(!(b>=0&&b<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!C.localize)throw new RangeError("locale must contain localize property");if(!C.formatLong)throw new RangeError("locale must contain formatLong property");var w=ct(t);if(!ah(w))throw new RangeError("Invalid time value");var k=dg(w),x=dL(w,k),O={firstWeekContainsDate:E,weekStartsOn:b,locale:C,_originalDate:w},j=M.match(pce).map(function(U){var $=U[0];if($==="p"||$==="P"){var q=r_[$];return q(U,C.formatLong)}return U}).join("").match(fce).map(function(U){if(U==="''")return"'";var $=U[0];if($==="'")return yce(U);var q=Iue[$];if(q)return!(n!=null&&n.useAdditionalWeekYearTokens)&&vL(U)&&hg(U,e,String(t)),!(n!=null&&n.useAdditionalDayOfYearTokens)&&gL(U)&&hg(U,e,String(t)),q(x,U,C.localize,O);if($.match(vce))throw new RangeError("Format string contains an unescaped latin alphabet character `"+$+"`");return U}).join("");return j}function yce(t){var e=t.match(mce);return e?e[1].replace(gce,"'"):t}function bce(t,e){if(t==null)throw new TypeError("assign requires that input parameter not be null or undefined");for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}function _ce(t){Ze(1,arguments);var e=ct(t),n=e.getDay();return n}function wce(t){Ze(1,arguments);var e=ct(t),n=e.getFullYear(),r=e.getMonth(),i=new Date(0);return i.setFullYear(n,r+1,0),i.setHours(0,0,0,0),i.getDate()}function bs(t){Ze(1,arguments);var e=ct(t),n=e.getHours();return n}var Tce=6048e5;function Ece(t){Ze(1,arguments);var e=ct(t),n=cg(e).getTime()-uue(e).getTime();return Math.round(n/Tce)+1}function js(t){Ze(1,arguments);var e=ct(t),n=e.getMinutes();return n}function Wt(t){Ze(1,arguments);var e=ct(t),n=e.getMonth();return n}function Tc(t){Ze(1,arguments);var e=ct(t),n=e.getSeconds();return n}function Sce(t,e){var n,r,i,s,o,a,l,u;Ze(1,arguments);var c=ct(t),d=c.getFullYear(),h=Zs(),p=pt((n=(r=(i=(s=e==null?void 0:e.firstWeekContainsDate)!==null&&s!==void 0?s:e==null||(o=e.locale)===null||o===void 0||(a=o.options)===null||a===void 0?void 0:a.firstWeekContainsDate)!==null&&i!==void 0?i:h.firstWeekContainsDate)!==null&&r!==void 0?r:(l=h.locale)===null||l===void 0||(u=l.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&n!==void 0?n:1);if(!(p>=1&&p<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var m=new Date(0);m.setFullYear(d+1,0,p),m.setHours(0,0,0,0);var g=$l(m,e),y=new Date(0);y.setFullYear(d,0,p),y.setHours(0,0,0,0);var P=$l(y,e);return c.getTime()>=g.getTime()?d+1:c.getTime()>=P.getTime()?d:d-1}function Ice(t,e){var n,r,i,s,o,a,l,u;Ze(1,arguments);var c=Zs(),d=pt((n=(r=(i=(s=e==null?void 0:e.firstWeekContainsDate)!==null&&s!==void 0?s:e==null||(o=e.locale)===null||o===void 0||(a=o.options)===null||a===void 0?void 0:a.firstWeekContainsDate)!==null&&i!==void 0?i:c.firstWeekContainsDate)!==null&&r!==void 0?r:(l=c.locale)===null||l===void 0||(u=l.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&n!==void 0?n:1),h=Sce(t,e),p=new Date(0);p.setFullYear(h,0,d),p.setHours(0,0,0,0);var m=$l(p,e);return m}var Cce=6048e5;function Ace(t,e){Ze(1,arguments);var n=ct(t),r=$l(n,e).getTime()-Ice(n,e).getTime();return Math.round(r/Cce)+1}function At(t){return Ze(1,arguments),ct(t).getFullYear()}function zh(t,e){Ze(2,arguments);var n=ct(t),r=ct(e);return n.getTime()>r.getTime()}function Kh(t,e){Ze(2,arguments);var n=ct(t),r=ct(e);return n.getTime()<r.getTime()}function ku(t,e){Ze(2,arguments);var n=ct(t),r=ct(e);return n.getTime()===r.getTime()}function bP(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function Pce(t,e){if(t){if(typeof t=="string")return bP(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?bP(t,e):void 0}}function _P(t,e){var n=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=Pce(t))||e&&t&&typeof t.length=="number"){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(u){throw u},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var s,o=!0,a=!1;return{s:function(){n=n.call(t)},n:function(){var u=n.next();return o=u.done,u},e:function(u){a=!0,s=u},f:function(){try{o||n.return==null||n.return()}finally{if(a)throw s}}}}function Je(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function i_(t,e){return i_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},i_(t,e)}function Kt(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&i_(t,e)}function fg(t){return fg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},fg(t)}function bL(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(bL=function(){return!!t})()}function Oce(t,e){if(e&&(es(e)=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Je(t)}function Gt(t){var e=bL();return function(){var n,r=fg(t);if(e){var i=fg(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Oce(this,n)}}function Ft(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function kce(t,e){if(es(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(es(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function _L(t){var e=kce(t,"string");return es(e)=="symbol"?e:e+""}function wP(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,_L(r.key),r)}}function Ut(t,e,n){return e&&wP(t.prototype,e),n&&wP(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Xe(t,e,n){return(e=_L(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Rce=10,wL=function(){function t(){Ft(this,t),Xe(this,"priority",void 0),Xe(this,"subPriority",0)}return Ut(t,[{key:"validate",value:function(n,r){return!0}}]),t}(),xce=function(t){Kt(n,t);var e=Gt(n);function n(r,i,s,o,a){var l;return Ft(this,n),l=e.call(this),l.value=r,l.validateValue=i,l.setValue=s,l.priority=o,a&&(l.subPriority=a),l}return Ut(n,[{key:"validate",value:function(i,s){return this.validateValue(i,this.value,s)}},{key:"set",value:function(i,s,o){return this.setValue(i,s,this.value,o)}}]),n}(wL),Dce=function(t){Kt(n,t);var e=Gt(n);function n(){var r;Ft(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Xe(Je(r),"priority",Rce),Xe(Je(r),"subPriority",-1),r}return Ut(n,[{key:"set",value:function(i,s){if(s.timestampIsSet)return i;var o=new Date(0);return o.setFullYear(i.getUTCFullYear(),i.getUTCMonth(),i.getUTCDate()),o.setHours(i.getUTCHours(),i.getUTCMinutes(),i.getUTCSeconds(),i.getUTCMilliseconds()),o}}]),n}(wL),sn=function(){function t(){Ft(this,t),Xe(this,"incompatibleTokens",void 0),Xe(this,"priority",void 0),Xe(this,"subPriority",void 0)}return Ut(t,[{key:"run",value:function(n,r,i,s){var o=this.parse(n,r,i,s);return o?{setter:new xce(o.value,this.validate,this.set,this.priority,this.subPriority),rest:o.rest}:null}},{key:"validate",value:function(n,r,i){return!0}}]),t}(),Nce=function(t){Kt(n,t);var e=Gt(n);function n(){var r;Ft(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Xe(Je(r),"priority",140),Xe(Je(r),"incompatibleTokens",["R","u","t","T"]),r}return Ut(n,[{key:"parse",value:function(i,s,o){switch(s){case"G":case"GG":case"GGG":return o.era(i,{width:"abbreviated"})||o.era(i,{width:"narrow"});case"GGGGG":return o.era(i,{width:"narrow"});case"GGGG":default:return o.era(i,{width:"wide"})||o.era(i,{width:"abbreviated"})||o.era(i,{width:"narrow"})}}},{key:"set",value:function(i,s,o){return s.era=o,i.setUTCFullYear(o,0,1),i.setUTCHours(0,0,0,0),i}}]),n}(sn),tr={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},ks={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function nr(t,e){return t&&{value:e(t.value),rest:t.rest}}function qn(t,e){var n=e.match(t);return n?{value:parseInt(n[0],10),rest:e.slice(n[0].length)}:null}function Rs(t,e){var n=e.match(t);if(!n)return null;if(n[0]==="Z")return{value:0,rest:e.slice(1)};var r=n[1]==="+"?1:-1,i=n[2]?parseInt(n[2],10):0,s=n[3]?parseInt(n[3],10):0,o=n[5]?parseInt(n[5],10):0;return{value:r*(i*rT+s*nT+o*fue),rest:e.slice(n[0].length)}}function TL(t){return qn(tr.anyDigitsSigned,t)}function Qn(t,e){switch(t){case 1:return qn(tr.singleDigit,e);case 2:return qn(tr.twoDigits,e);case 3:return qn(tr.threeDigits,e);case 4:return qn(tr.fourDigits,e);default:return qn(new RegExp("^\\d{1,"+t+"}"),e)}}function pg(t,e){switch(t){case 1:return qn(tr.singleDigitSigned,e);case 2:return qn(tr.twoDigitsSigned,e);case 3:return qn(tr.threeDigitsSigned,e);case 4:return qn(tr.fourDigitsSigned,e);default:return qn(new RegExp("^-?\\d{1,"+t+"}"),e)}}function sT(t){switch(t){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function EL(t,e){var n=e>0,r=n?e:1-e,i;if(r<=50)i=t||100;else{var s=r+50,o=Math.floor(s/100)*100,a=t>=s%100;i=t+o-(a?100:0)}return n?i:1-i}function SL(t){return t%400===0||t%4===0&&t%100!==0}var Mce=function(t){Kt(n,t);var e=Gt(n);function n(){var r;Ft(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Xe(Je(r),"priority",130),Xe(Je(r),"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"]),r}return Ut(n,[{key:"parse",value:function(i,s,o){var a=function(u){return{year:u,isTwoDigitYear:s==="yy"}};switch(s){case"y":return nr(Qn(4,i),a);case"yo":return nr(o.ordinalNumber(i,{unit:"year"}),a);default:return nr(Qn(s.length,i),a)}}},{key:"validate",value:function(i,s){return s.isTwoDigitYear||s.year>0}},{key:"set",value:function(i,s,o){var a=i.getUTCFullYear();if(o.isTwoDigitYear){var l=EL(o.year,a);return i.setUTCFullYear(l,0,1),i.setUTCHours(0,0,0,0),i}var u=!("era"in s)||s.era===1?o.year:1-o.year;return i.setUTCFullYear(u,0,1),i.setUTCHours(0,0,0,0),i}}]),n}(sn),Lce=function(t){Kt(n,t);var e=Gt(n);function n(){var r;Ft(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Xe(Je(r),"priority",130),Xe(Je(r),"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"]),r}return Ut(n,[{key:"parse",value:function(i,s,o){var a=function(u){return{year:u,isTwoDigitYear:s==="YY"}};switch(s){case"Y":return nr(Qn(4,i),a);case"Yo":return nr(o.ordinalNumber(i,{unit:"year"}),a);default:return nr(Qn(s.length,i),a)}}},{key:"validate",value:function(i,s){return s.isTwoDigitYear||s.year>0}},{key:"set",value:function(i,s,o,a){var l=iT(i,a);if(o.isTwoDigitYear){var u=EL(o.year,l);return i.setUTCFullYear(u,0,a.firstWeekContainsDate),i.setUTCHours(0,0,0,0),Fl(i,a)}var c=!("era"in s)||s.era===1?o.year:1-o.year;return i.setUTCFullYear(c,0,a.firstWeekContainsDate),i.setUTCHours(0,0,0,0),Fl(i,a)}}]),n}(sn),Vce=function(t){Kt(n,t);var e=Gt(n);function n(){var r;Ft(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Xe(Je(r),"priority",130),Xe(Je(r),"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"]),r}return Ut(n,[{key:"parse",value:function(i,s){return pg(s==="R"?4:s.length,i)}},{key:"set",value:function(i,s,o){var a=new Date(0);return a.setUTCFullYear(o,0,4),a.setUTCHours(0,0,0,0),wc(a)}}]),n}(sn),$ce=function(t){Kt(n,t);var e=Gt(n);function n(){var r;Ft(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Xe(Je(r),"priority",130),Xe(Je(r),"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"]),r}return Ut(n,[{key:"parse",value:function(i,s){return pg(s==="u"?4:s.length,i)}},{key:"set",value:function(i,s,o){return i.setUTCFullYear(o,0,1),i.setUTCHours(0,0,0,0),i}}]),n}(sn),Fce=function(t){Kt(n,t);var e=Gt(n);function n(){var r;Ft(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Xe(Je(r),"priority",120),Xe(Je(r),"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"]),r}return Ut(n,[{key:"parse",value:function(i,s,o){switch(s){case"Q":case"QQ":return Qn(s.length,i);case"Qo":return o.ordinalNumber(i,{unit:"quarter"});case"QQQ":return o.quarter(i,{width:"abbreviated",context:"formatting"})||o.quarter(i,{width:"narrow",context:"formatting"});case"QQQQQ":return o.quarter(i,{width:"narrow",context:"formatting"});case"QQQQ":default:return o.quarter(i,{width:"wide",context:"formatting"})||o.quarter(i,{width:"abbreviated",context:"formatting"})||o.quarter(i,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(i,s){return s>=1&&s<=4}},{key:"set",value:function(i,s,o){return i.setUTCMonth((o-1)*3,1),i.setUTCHours(0,0,0,0),i}}]),n}(sn),Uce=function(t){Kt(n,t);var e=Gt(n);function n(){var r;Ft(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Xe(Je(r),"priority",120),Xe(Je(r),"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"]),r}return Ut(n,[{key:"parse",value:function(i,s,o){switch(s){case"q":case"qq":return Qn(s.length,i);case"qo":return o.ordinalNumber(i,{unit:"quarter"});case"qqq":return o.quarter(i,{width:"abbreviated",context:"standalone"})||o.quarter(i,{width:"narrow",context:"standalone"});case"qqqqq":return o.quarter(i,{width:"narrow",context:"standalone"});case"qqqq":default:return o.quarter(i,{width:"wide",context:"standalone"})||o.quarter(i,{width:"abbreviated",context:"standalone"})||o.quarter(i,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(i,s){return s>=1&&s<=4}},{key:"set",value:function(i,s,o){return i.setUTCMonth((o-1)*3,1),i.setUTCHours(0,0,0,0),i}}]),n}(sn),qce=function(t){Kt(n,t);var e=Gt(n);function n(){var r;Ft(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Xe(Je(r),"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]),Xe(Je(r),"priority",110),r}return Ut(n,[{key:"parse",value:function(i,s,o){var a=function(u){return u-1};switch(s){case"M":return nr(qn(tr.month,i),a);case"MM":return nr(Qn(2,i),a);case"Mo":return nr(o.ordinalNumber(i,{unit:"month"}),a);case"MMM":return o.month(i,{width:"abbreviated",context:"formatting"})||o.month(i,{width:"narrow",context:"formatting"});case"MMMMM":return o.month(i,{width:"narrow",context:"formatting"});case"MMMM":default:return o.month(i,{width:"wide",context:"formatting"})||o.month(i,{width:"abbreviated",context:"formatting"})||o.month(i,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(i,s){return s>=0&&s<=11}},{key:"set",value:function(i,s,o){return i.setUTCMonth(o,1),i.setUTCHours(0,0,0,0),i}}]),n}(sn),Bce=function(t){Kt(n,t);var e=Gt(n);function n(){var r;Ft(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Xe(Je(r),"priority",110),Xe(Je(r),"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"]),r}return Ut(n,[{key:"parse",value:function(i,s,o){var a=function(u){return u-1};switch(s){case"L":return nr(qn(tr.month,i),a);case"LL":return nr(Qn(2,i),a);case"Lo":return nr(o.ordinalNumber(i,{unit:"month"}),a);case"LLL":return o.month(i,{width:"abbreviated",context:"standalone"})||o.month(i,{width:"narrow",context:"standalone"});case"LLLLL":return o.month(i,{width:"narrow",context:"standalone"});case"LLLL":default:return o.month(i,{width:"wide",context:"standalone"})||o.month(i,{width:"abbreviated",context:"standalone"})||o.month(i,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(i,s){return s>=0&&s<=11}},{key:"set",value:function(i,s,o){return i.setUTCMonth(o,1),i.setUTCHours(0,0,0,0),i}}]),n}(sn);function jce(t,e,n){Ze(2,arguments);var r=ct(t),i=pt(e),s=pL(r,n)-i;return r.setUTCDate(r.getUTCDate()-s*7),r}var Hce=function(t){Kt(n,t);var e=Gt(n);function n(){var r;Ft(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Xe(Je(r),"priority",100),Xe(Je(r),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"]),r}return Ut(n,[{key:"parse",value:function(i,s,o){switch(s){case"w":return qn(tr.week,i);case"wo":return o.ordinalNumber(i,{unit:"week"});default:return Qn(s.length,i)}}},{key:"validate",value:function(i,s){return s>=1&&s<=53}},{key:"set",value:function(i,s,o,a){return Fl(jce(i,o,a),a)}}]),n}(sn);function Wce(t,e){Ze(2,arguments);var n=ct(t),r=pt(e),i=fL(n)-r;return n.setUTCDate(n.getUTCDate()-i*7),n}var zce=function(t){Kt(n,t);var e=Gt(n);function n(){var r;Ft(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Xe(Je(r),"priority",100),Xe(Je(r),"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"]),r}return Ut(n,[{key:"parse",value:function(i,s,o){switch(s){case"I":return qn(tr.week,i);case"Io":return o.ordinalNumber(i,{unit:"week"});default:return Qn(s.length,i)}}},{key:"validate",value:function(i,s){return s>=1&&s<=53}},{key:"set",value:function(i,s,o){return wc(Wce(i,o))}}]),n}(sn),Kce=[31,28,31,30,31,30,31,31,30,31,30,31],Gce=[31,29,31,30,31,30,31,31,30,31,30,31],Yce=function(t){Kt(n,t);var e=Gt(n);function n(){var r;Ft(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Xe(Je(r),"priority",90),Xe(Je(r),"subPriority",1),Xe(Je(r),"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"]),r}return Ut(n,[{key:"parse",value:function(i,s,o){switch(s){case"d":return qn(tr.date,i);case"do":return o.ordinalNumber(i,{unit:"date"});default:return Qn(s.length,i)}}},{key:"validate",value:function(i,s){var o=i.getUTCFullYear(),a=SL(o),l=i.getUTCMonth();return a?s>=1&&s<=Gce[l]:s>=1&&s<=Kce[l]}},{key:"set",value:function(i,s,o){return i.setUTCDate(o),i.setUTCHours(0,0,0,0),i}}]),n}(sn),Xce=function(t){Kt(n,t);var e=Gt(n);function n(){var r;Ft(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Xe(Je(r),"priority",90),Xe(Je(r),"subpriority",1),Xe(Je(r),"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"]),r}return Ut(n,[{key:"parse",value:function(i,s,o){switch(s){case"D":case"DD":return qn(tr.dayOfYear,i);case"Do":return o.ordinalNumber(i,{unit:"date"});default:return Qn(s.length,i)}}},{key:"validate",value:function(i,s){var o=i.getUTCFullYear(),a=SL(o);return a?s>=1&&s<=366:s>=1&&s<=365}},{key:"set",value:function(i,s,o){return i.setUTCMonth(0,o),i.setUTCHours(0,0,0,0),i}}]),n}(sn);function oT(t,e,n){var r,i,s,o,a,l,u,c;Ze(2,arguments);var d=Zs(),h=pt((r=(i=(s=(o=n==null?void 0:n.weekStartsOn)!==null&&o!==void 0?o:n==null||(a=n.locale)===null||a===void 0||(l=a.options)===null||l===void 0?void 0:l.weekStartsOn)!==null&&s!==void 0?s:d.weekStartsOn)!==null&&i!==void 0?i:(u=d.locale)===null||u===void 0||(c=u.options)===null||c===void 0?void 0:c.weekStartsOn)!==null&&r!==void 0?r:0);if(!(h>=0&&h<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var p=ct(t),m=pt(e),g=p.getUTCDay(),y=m%7,P=(y+7)%7,I=(P<h?7:0)+m-g;return p.setUTCDate(p.getUTCDate()+I),p}var Qce=function(t){Kt(n,t);var e=Gt(n);function n(){var r;Ft(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Xe(Je(r),"priority",90),Xe(Je(r),"incompatibleTokens",["D","i","e","c","t","T"]),r}return Ut(n,[{key:"parse",value:function(i,s,o){switch(s){case"E":case"EE":case"EEE":return o.day(i,{width:"abbreviated",context:"formatting"})||o.day(i,{width:"short",context:"formatting"})||o.day(i,{width:"narrow",context:"formatting"});case"EEEEE":return o.day(i,{width:"narrow",context:"formatting"});case"EEEEEE":return o.day(i,{width:"short",context:"formatting"})||o.day(i,{width:"narrow",context:"formatting"});case"EEEE":default:return o.day(i,{width:"wide",context:"formatting"})||o.day(i,{width:"abbreviated",context:"formatting"})||o.day(i,{width:"short",context:"formatting"})||o.day(i,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(i,s){return s>=0&&s<=6}},{key:"set",value:function(i,s,o,a){return i=oT(i,o,a),i.setUTCHours(0,0,0,0),i}}]),n}(sn),Jce=function(t){Kt(n,t);var e=Gt(n);function n(){var r;Ft(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Xe(Je(r),"priority",90),Xe(Je(r),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"]),r}return Ut(n,[{key:"parse",value:function(i,s,o,a){var l=function(c){var d=Math.floor((c-1)/7)*7;return(c+a.weekStartsOn+6)%7+d};switch(s){case"e":case"ee":return nr(Qn(s.length,i),l);case"eo":return nr(o.ordinalNumber(i,{unit:"day"}),l);case"eee":return o.day(i,{width:"abbreviated",context:"formatting"})||o.day(i,{width:"short",context:"formatting"})||o.day(i,{width:"narrow",context:"formatting"});case"eeeee":return o.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return o.day(i,{width:"short",context:"formatting"})||o.day(i,{width:"narrow",context:"formatting"});case"eeee":default:return o.day(i,{width:"wide",context:"formatting"})||o.day(i,{width:"abbreviated",context:"formatting"})||o.day(i,{width:"short",context:"formatting"})||o.day(i,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(i,s){return s>=0&&s<=6}},{key:"set",value:function(i,s,o,a){return i=oT(i,o,a),i.setUTCHours(0,0,0,0),i}}]),n}(sn),Zce=function(t){Kt(n,t);var e=Gt(n);function n(){var r;Ft(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Xe(Je(r),"priority",90),Xe(Je(r),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"]),r}return Ut(n,[{key:"parse",value:function(i,s,o,a){var l=function(c){var d=Math.floor((c-1)/7)*7;return(c+a.weekStartsOn+6)%7+d};switch(s){case"c":case"cc":return nr(Qn(s.length,i),l);case"co":return nr(o.ordinalNumber(i,{unit:"day"}),l);case"ccc":return o.day(i,{width:"abbreviated",context:"standalone"})||o.day(i,{width:"short",context:"standalone"})||o.day(i,{width:"narrow",context:"standalone"});case"ccccc":return o.day(i,{width:"narrow",context:"standalone"});case"cccccc":return o.day(i,{width:"short",context:"standalone"})||o.day(i,{width:"narrow",context:"standalone"});case"cccc":default:return o.day(i,{width:"wide",context:"standalone"})||o.day(i,{width:"abbreviated",context:"standalone"})||o.day(i,{width:"short",context:"standalone"})||o.day(i,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(i,s){return s>=0&&s<=6}},{key:"set",value:function(i,s,o,a){return i=oT(i,o,a),i.setUTCHours(0,0,0,0),i}}]),n}(sn);function ede(t,e){Ze(2,arguments);var n=pt(e);n%7===0&&(n=n-7);var r=1,i=ct(t),s=i.getUTCDay(),o=n%7,a=(o+7)%7,l=(a<r?7:0)+n-s;return i.setUTCDate(i.getUTCDate()+l),i}var tde=function(t){Kt(n,t);var e=Gt(n);function n(){var r;Ft(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Xe(Je(r),"priority",90),Xe(Je(r),"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"]),r}return Ut(n,[{key:"parse",value:function(i,s,o){var a=function(u){return u===0?7:u};switch(s){case"i":case"ii":return Qn(s.length,i);case"io":return o.ordinalNumber(i,{unit:"day"});case"iii":return nr(o.day(i,{width:"abbreviated",context:"formatting"})||o.day(i,{width:"short",context:"formatting"})||o.day(i,{width:"narrow",context:"formatting"}),a);case"iiiii":return nr(o.day(i,{width:"narrow",context:"formatting"}),a);case"iiiiii":return nr(o.day(i,{width:"short",context:"formatting"})||o.day(i,{width:"narrow",context:"formatting"}),a);case"iiii":default:return nr(o.day(i,{width:"wide",context:"formatting"})||o.day(i,{width:"abbreviated",context:"formatting"})||o.day(i,{width:"short",context:"formatting"})||o.day(i,{width:"narrow",context:"formatting"}),a)}}},{key:"validate",value:function(i,s){return s>=1&&s<=7}},{key:"set",value:function(i,s,o){return i=ede(i,o),i.setUTCHours(0,0,0,0),i}}]),n}(sn),nde=function(t){Kt(n,t);var e=Gt(n);function n(){var r;Ft(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Xe(Je(r),"priority",80),Xe(Je(r),"incompatibleTokens",["b","B","H","k","t","T"]),r}return Ut(n,[{key:"parse",value:function(i,s,o){switch(s){case"a":case"aa":case"aaa":return o.dayPeriod(i,{width:"abbreviated",context:"formatting"})||o.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaaa":return o.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return o.dayPeriod(i,{width:"wide",context:"formatting"})||o.dayPeriod(i,{width:"abbreviated",context:"formatting"})||o.dayPeriod(i,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(i,s,o){return i.setUTCHours(sT(o),0,0,0),i}}]),n}(sn),rde=function(t){Kt(n,t);var e=Gt(n);function n(){var r;Ft(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Xe(Je(r),"priority",80),Xe(Je(r),"incompatibleTokens",["a","B","H","k","t","T"]),r}return Ut(n,[{key:"parse",value:function(i,s,o){switch(s){case"b":case"bb":case"bbb":return o.dayPeriod(i,{width:"abbreviated",context:"formatting"})||o.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbbb":return o.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return o.dayPeriod(i,{width:"wide",context:"formatting"})||o.dayPeriod(i,{width:"abbreviated",context:"formatting"})||o.dayPeriod(i,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(i,s,o){return i.setUTCHours(sT(o),0,0,0),i}}]),n}(sn),ide=function(t){Kt(n,t);var e=Gt(n);function n(){var r;Ft(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Xe(Je(r),"priority",80),Xe(Je(r),"incompatibleTokens",["a","b","t","T"]),r}return Ut(n,[{key:"parse",value:function(i,s,o){switch(s){case"B":case"BB":case"BBB":return o.dayPeriod(i,{width:"abbreviated",context:"formatting"})||o.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBBB":return o.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return o.dayPeriod(i,{width:"wide",context:"formatting"})||o.dayPeriod(i,{width:"abbreviated",context:"formatting"})||o.dayPeriod(i,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(i,s,o){return i.setUTCHours(sT(o),0,0,0),i}}]),n}(sn),sde=function(t){Kt(n,t);var e=Gt(n);function n(){var r;Ft(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Xe(Je(r),"priority",70),Xe(Je(r),"incompatibleTokens",["H","K","k","t","T"]),r}return Ut(n,[{key:"parse",value:function(i,s,o){switch(s){case"h":return qn(tr.hour12h,i);case"ho":return o.ordinalNumber(i,{unit:"hour"});default:return Qn(s.length,i)}}},{key:"validate",value:function(i,s){return s>=1&&s<=12}},{key:"set",value:function(i,s,o){var a=i.getUTCHours()>=12;return a&&o<12?i.setUTCHours(o+12,0,0,0):!a&&o===12?i.setUTCHours(0,0,0,0):i.setUTCHours(o,0,0,0),i}}]),n}(sn),ode=function(t){Kt(n,t);var e=Gt(n);function n(){var r;Ft(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Xe(Je(r),"priority",70),Xe(Je(r),"incompatibleTokens",["a","b","h","K","k","t","T"]),r}return Ut(n,[{key:"parse",value:function(i,s,o){switch(s){case"H":return qn(tr.hour23h,i);case"Ho":return o.ordinalNumber(i,{unit:"hour"});default:return Qn(s.length,i)}}},{key:"validate",value:function(i,s){return s>=0&&s<=23}},{key:"set",value:function(i,s,o){return i.setUTCHours(o,0,0,0),i}}]),n}(sn),ade=function(t){Kt(n,t);var e=Gt(n);function n(){var r;Ft(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Xe(Je(r),"priority",70),Xe(Je(r),"incompatibleTokens",["h","H","k","t","T"]),r}return Ut(n,[{key:"parse",value:function(i,s,o){switch(s){case"K":return qn(tr.hour11h,i);case"Ko":return o.ordinalNumber(i,{unit:"hour"});default:return Qn(s.length,i)}}},{key:"validate",value:function(i,s){return s>=0&&s<=11}},{key:"set",value:function(i,s,o){var a=i.getUTCHours()>=12;return a&&o<12?i.setUTCHours(o+12,0,0,0):i.setUTCHours(o,0,0,0),i}}]),n}(sn),lde=function(t){Kt(n,t);var e=Gt(n);function n(){var r;Ft(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Xe(Je(r),"priority",70),Xe(Je(r),"incompatibleTokens",["a","b","h","H","K","t","T"]),r}return Ut(n,[{key:"parse",value:function(i,s,o){switch(s){case"k":return qn(tr.hour24h,i);case"ko":return o.ordinalNumber(i,{unit:"hour"});default:return Qn(s.length,i)}}},{key:"validate",value:function(i,s){return s>=1&&s<=24}},{key:"set",value:function(i,s,o){var a=o<=24?o%24:o;return i.setUTCHours(a,0,0,0),i}}]),n}(sn),ude=function(t){Kt(n,t);var e=Gt(n);function n(){var r;Ft(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Xe(Je(r),"priority",60),Xe(Je(r),"incompatibleTokens",["t","T"]),r}return Ut(n,[{key:"parse",value:function(i,s,o){switch(s){case"m":return qn(tr.minute,i);case"mo":return o.ordinalNumber(i,{unit:"minute"});default:return Qn(s.length,i)}}},{key:"validate",value:function(i,s){return s>=0&&s<=59}},{key:"set",value:function(i,s,o){return i.setUTCMinutes(o,0,0),i}}]),n}(sn),cde=function(t){Kt(n,t);var e=Gt(n);function n(){var r;Ft(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Xe(Je(r),"priority",50),Xe(Je(r),"incompatibleTokens",["t","T"]),r}return Ut(n,[{key:"parse",value:function(i,s,o){switch(s){case"s":return qn(tr.second,i);case"so":return o.ordinalNumber(i,{unit:"second"});default:return Qn(s.length,i)}}},{key:"validate",value:function(i,s){return s>=0&&s<=59}},{key:"set",value:function(i,s,o){return i.setUTCSeconds(o,0),i}}]),n}(sn),dde=function(t){Kt(n,t);var e=Gt(n);function n(){var r;Ft(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Xe(Je(r),"priority",30),Xe(Je(r),"incompatibleTokens",["t","T"]),r}return Ut(n,[{key:"parse",value:function(i,s){var o=function(l){return Math.floor(l*Math.pow(10,-s.length+3))};return nr(Qn(s.length,i),o)}},{key:"set",value:function(i,s,o){return i.setUTCMilliseconds(o),i}}]),n}(sn),hde=function(t){Kt(n,t);var e=Gt(n);function n(){var r;Ft(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Xe(Je(r),"priority",10),Xe(Je(r),"incompatibleTokens",["t","T","x"]),r}return Ut(n,[{key:"parse",value:function(i,s){switch(s){case"X":return Rs(ks.basicOptionalMinutes,i);case"XX":return Rs(ks.basic,i);case"XXXX":return Rs(ks.basicOptionalSeconds,i);case"XXXXX":return Rs(ks.extendedOptionalSeconds,i);case"XXX":default:return Rs(ks.extended,i)}}},{key:"set",value:function(i,s,o){return s.timestampIsSet?i:new Date(i.getTime()-o)}}]),n}(sn),fde=function(t){Kt(n,t);var e=Gt(n);function n(){var r;Ft(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Xe(Je(r),"priority",10),Xe(Je(r),"incompatibleTokens",["t","T","X"]),r}return Ut(n,[{key:"parse",value:function(i,s){switch(s){case"x":return Rs(ks.basicOptionalMinutes,i);case"xx":return Rs(ks.basic,i);case"xxxx":return Rs(ks.basicOptionalSeconds,i);case"xxxxx":return Rs(ks.extendedOptionalSeconds,i);case"xxx":default:return Rs(ks.extended,i)}}},{key:"set",value:function(i,s,o){return s.timestampIsSet?i:new Date(i.getTime()-o)}}]),n}(sn),pde=function(t){Kt(n,t);var e=Gt(n);function n(){var r;Ft(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Xe(Je(r),"priority",40),Xe(Je(r),"incompatibleTokens","*"),r}return Ut(n,[{key:"parse",value:function(i){return TL(i)}},{key:"set",value:function(i,s,o){return[new Date(o*1e3),{timestampIsSet:!0}]}}]),n}(sn),mde=function(t){Kt(n,t);var e=Gt(n);function n(){var r;Ft(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Xe(Je(r),"priority",20),Xe(Je(r),"incompatibleTokens","*"),r}return Ut(n,[{key:"parse",value:function(i){return TL(i)}},{key:"set",value:function(i,s,o){return[new Date(o),{timestampIsSet:!0}]}}]),n}(sn),gde={G:new Nce,y:new Mce,Y:new Lce,R:new Vce,u:new $ce,Q:new Fce,q:new Uce,M:new qce,L:new Bce,w:new Hce,I:new zce,d:new Yce,D:new Xce,E:new Qce,e:new Jce,c:new Zce,i:new tde,a:new nde,b:new rde,B:new ide,h:new sde,H:new ode,K:new ade,k:new lde,m:new ude,s:new cde,S:new dde,X:new hde,x:new fde,t:new pde,T:new mde},vde=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,yde=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,bde=/^'([^]*?)'?$/,_de=/''/g,wde=/\S/,Tde=/[a-zA-Z]/;function s_(t,e,n,r){var i,s,o,a,l,u,c,d,h,p,m,g,y,P,I,S,T,M;Ze(3,arguments);var R=String(t),C=String(e),E=Zs(),b=(i=(s=r==null?void 0:r.locale)!==null&&s!==void 0?s:E.locale)!==null&&i!==void 0?i:yL;if(!b.match)throw new RangeError("locale must contain match property");var w=pt((o=(a=(l=(u=r==null?void 0:r.firstWeekContainsDate)!==null&&u!==void 0?u:r==null||(c=r.locale)===null||c===void 0||(d=c.options)===null||d===void 0?void 0:d.firstWeekContainsDate)!==null&&l!==void 0?l:E.firstWeekContainsDate)!==null&&a!==void 0?a:(h=E.locale)===null||h===void 0||(p=h.options)===null||p===void 0?void 0:p.firstWeekContainsDate)!==null&&o!==void 0?o:1);if(!(w>=1&&w<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var k=pt((m=(g=(y=(P=r==null?void 0:r.weekStartsOn)!==null&&P!==void 0?P:r==null||(I=r.locale)===null||I===void 0||(S=I.options)===null||S===void 0?void 0:S.weekStartsOn)!==null&&y!==void 0?y:E.weekStartsOn)!==null&&g!==void 0?g:(T=E.locale)===null||T===void 0||(M=T.options)===null||M===void 0?void 0:M.weekStartsOn)!==null&&m!==void 0?m:0);if(!(k>=0&&k<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(C==="")return R===""?ct(n):new Date(NaN);var x={firstWeekContainsDate:w,weekStartsOn:k,locale:b},O=[new Dce],j=C.match(yde).map(function(pe){var se=pe[0];if(se in r_){var _e=r_[se];return _e(pe,b.formatLong)}return pe}).join("").match(vde),U=[],$=_P(j),q;try{var te=function(){var se=q.value;!(r!=null&&r.useAdditionalWeekYearTokens)&&vL(se)&&hg(se,C,t),!(r!=null&&r.useAdditionalDayOfYearTokens)&&gL(se)&&hg(se,C,t);var _e=se[0],Ce=gde[_e];if(Ce){var fe=Ce.incompatibleTokens;if(Array.isArray(fe)){var L=U.find(function(X){return fe.includes(X.token)||X.token===_e});if(L)throw new RangeError("The format string mustn't contain `".concat(L.fullToken,"` and `").concat(se,"` at the same time"))}else if(Ce.incompatibleTokens==="*"&&U.length>0)throw new RangeError("The format string mustn't contain `".concat(se,"` and any other token at the same time"));U.push({token:_e,fullToken:se});var H=Ce.run(R,se,b.match,x);if(!H)return{v:new Date(NaN)};O.push(H.setter),R=H.rest}else{if(_e.match(Tde))throw new RangeError("Format string contains an unescaped latin alphabet character `"+_e+"`");if(se==="''"?se="'":_e==="'"&&(se=Ede(se)),R.indexOf(se)===0)R=R.slice(se.length);else return{v:new Date(NaN)}}};for($.s();!(q=$.n()).done;){var z=te();if(es(z)==="object")return z.v}}catch(pe){$.e(pe)}finally{$.f()}if(R.length>0&&wde.test(R))return new Date(NaN);var V=O.map(function(pe){return pe.priority}).sort(function(pe,se){return se-pe}).filter(function(pe,se,_e){return _e.indexOf(pe)===se}).map(function(pe){return O.filter(function(se){return se.priority===pe}).sort(function(se,_e){return _e.subPriority-se.subPriority})}).map(function(pe){return pe[0]}),ue=ct(n);if(isNaN(ue.getTime()))return new Date(NaN);var oe=dL(ue,dg(ue)),ve={},Se=_P(V),he;try{for(Se.s();!(he=Se.n()).done;){var Y=he.value;if(!Y.validate(oe,x))return new Date(NaN);var ne=Y.set(oe,ve,x);Array.isArray(ne)?(oe=ne[0],bce(ve,ne[1])):oe=ne}}catch(pe){Se.e(pe)}finally{Se.f()}return oe}function Ede(t){return t.match(bde)[1].replace(_de,"'")}function TP(t,e){Ze(2,arguments);var n=Wh(t),r=Wh(e);return n.getTime()===r.getTime()}function Sde(t,e){Ze(2,arguments);var n=pt(e);return co(t,-n)}function Ide(t,e){var n;Ze(1,arguments);var r=pt((n=e==null?void 0:e.additionalDigits)!==null&&n!==void 0?n:2);if(r!==2&&r!==1&&r!==0)throw new RangeError("additionalDigits must be 0, 1 or 2");if(!(typeof t=="string"||Object.prototype.toString.call(t)==="[object String]"))return new Date(NaN);var i=Ode(t),s;if(i.date){var o=kde(i.date,r);s=Rde(o.restDateString,o.year)}if(!s||isNaN(s.getTime()))return new Date(NaN);var a=s.getTime(),l=0,u;if(i.time&&(l=xde(i.time),isNaN(l)))return new Date(NaN);if(i.timezone){if(u=Dde(i.timezone),isNaN(u))return new Date(NaN)}else{var c=new Date(a+l),d=new Date(0);return d.setFullYear(c.getUTCFullYear(),c.getUTCMonth(),c.getUTCDate()),d.setHours(c.getUTCHours(),c.getUTCMinutes(),c.getUTCSeconds(),c.getUTCMilliseconds()),d}return new Date(a+l+u)}var Np={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},Cde=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,Ade=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,Pde=/^([+-])(\d{2})(?::?(\d{2}))?$/;function Ode(t){var e={},n=t.split(Np.dateTimeDelimiter),r;if(n.length>2)return e;if(/:/.test(n[0])?r=n[0]:(e.date=n[0],r=n[1],Np.timeZoneDelimiter.test(e.date)&&(e.date=t.split(Np.timeZoneDelimiter)[0],r=t.substr(e.date.length,t.length))),r){var i=Np.timezone.exec(r);i?(e.time=r.replace(i[1],""),e.timezone=i[1]):e.time=r}return e}function kde(t,e){var n=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+e)+"})|(\\d{2}|[+-]\\d{"+(2+e)+"})$)"),r=t.match(n);if(!r)return{year:NaN,restDateString:""};var i=r[1]?parseInt(r[1]):null,s=r[2]?parseInt(r[2]):null;return{year:s===null?i:s*100,restDateString:t.slice((r[1]||r[2]).length)}}function Rde(t,e){if(e===null)return new Date(NaN);var n=t.match(Cde);if(!n)return new Date(NaN);var r=!!n[4],i=gd(n[1]),s=gd(n[2])-1,o=gd(n[3]),a=gd(n[4]),l=gd(n[5])-1;if(r)return $de(e,a,l)?Nde(e,a,l):new Date(NaN);var u=new Date(0);return!Lde(e,s,o)||!Vde(e,i)?new Date(NaN):(u.setUTCFullYear(e,s,Math.max(i,o)),u)}function gd(t){return t?parseInt(t):1}function xde(t){var e=t.match(Ade);if(!e)return NaN;var n=ib(e[1]),r=ib(e[2]),i=ib(e[3]);return Fde(n,r,i)?n*rT+r*nT+i*1e3:NaN}function ib(t){return t&&parseFloat(t.replace(",","."))||0}function Dde(t){if(t==="Z")return 0;var e=t.match(Pde);if(!e)return 0;var n=e[1]==="+"?-1:1,r=parseInt(e[2]),i=e[3]&&parseInt(e[3])||0;return Ude(r,i)?n*(r*rT+i*nT):NaN}function Nde(t,e,n){var r=new Date(0);r.setUTCFullYear(t,0,4);var i=r.getUTCDay()||7,s=(e-1)*7+n+1-i;return r.setUTCDate(r.getUTCDate()+s),r}var Mde=[31,null,31,30,31,30,31,31,30,31,30,31];function IL(t){return t%400===0||t%4===0&&t%100!==0}function Lde(t,e,n){return e>=0&&e<=11&&n>=1&&n<=(Mde[e]||(IL(t)?29:28))}function Vde(t,e){return e>=1&&e<=(IL(t)?366:365)}function $de(t,e,n){return e>=1&&e<=53&&n>=0&&n<=6}function Fde(t,e,n){return t===24?e===0&&n===0:n>=0&&n<60&&e>=0&&e<60&&t>=0&&t<25}function Ude(t,e){return e>=0&&e<=59}function CL(t,e){Ze(2,arguments);var n=ct(t),r=pt(e),i=n.getFullYear(),s=n.getDate(),o=new Date(0);o.setFullYear(i,r,15),o.setHours(0,0,0,0);var a=wce(o);return n.setMonth(r,Math.min(s,a)),n}function Pn(t,e){if(Ze(2,arguments),es(e)!=="object"||e===null)throw new RangeError("values parameter must be an object");var n=ct(t);return isNaN(n.getTime())?new Date(NaN):(e.year!=null&&n.setFullYear(e.year),e.month!=null&&(n=CL(n,e.month)),e.date!=null&&n.setDate(pt(e.date)),e.hours!=null&&n.setHours(pt(e.hours)),e.minutes!=null&&n.setMinutes(pt(e.minutes)),e.seconds!=null&&n.setSeconds(pt(e.seconds)),e.milliseconds!=null&&n.setMilliseconds(pt(e.milliseconds)),n)}function AL(t,e){Ze(2,arguments);var n=ct(t),r=pt(e);return n.setHours(r),n}function aT(t,e){Ze(2,arguments);var n=ct(t),r=pt(e);return n.setMilliseconds(r),n}function PL(t,e){Ze(2,arguments);var n=ct(t),r=pt(e);return n.setMinutes(r),n}function lT(t,e){Ze(2,arguments);var n=ct(t),r=pt(e);return n.setSeconds(r),n}function Ns(t,e){Ze(2,arguments);var n=ct(t),r=pt(e);return isNaN(n.getTime())?new Date(NaN):(n.setFullYear(r),n)}function Ec(t,e){Ze(2,arguments);var n=pt(e);return ys(t,-n)}function qde(t,e){if(Ze(2,arguments),!e||es(e)!=="object")return new Date(NaN);var n=e.years?pt(e.years):0,r=e.months?pt(e.months):0,i=e.weeks?pt(e.weeks):0,s=e.days?pt(e.days):0,o=e.hours?pt(e.hours):0,a=e.minutes?pt(e.minutes):0,l=e.seconds?pt(e.seconds):0,u=Ec(t,r+n*12),c=Sde(u,s+i*7),d=a+o*60,h=l+d*60,p=h*1e3,m=new Date(c.getTime()-p);return m}function OL(t,e){Ze(2,arguments);var n=pt(e);return tT(t,-n)}function Uc(){return N(),W("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[v("path",{d:"M29.333 8c0-2.208-1.792-4-4-4h-18.667c-2.208 0-4 1.792-4 4v18.667c0 2.208 1.792 4 4 4h18.667c2.208 0 4-1.792 4-4v-18.667zM26.667 8v18.667c0 0.736-0.597 1.333-1.333 1.333 0 0-18.667 0-18.667 0-0.736 0-1.333-0.597-1.333-1.333 0 0 0-18.667 0-18.667 0-0.736 0.597-1.333 1.333-1.333 0 0 18.667 0 18.667 0 0.736 0 1.333 0.597 1.333 1.333z"}),v("path",{d:"M20 2.667v5.333c0 0.736 0.597 1.333 1.333 1.333s1.333-0.597 1.333-1.333v-5.333c0-0.736-0.597-1.333-1.333-1.333s-1.333 0.597-1.333 1.333z"}),v("path",{d:"M9.333 2.667v5.333c0 0.736 0.597 1.333 1.333 1.333s1.333-0.597 1.333-1.333v-5.333c0-0.736-0.597-1.333-1.333-1.333s-1.333 0.597-1.333 1.333z"}),v("path",{d:"M4 14.667h24c0.736 0 1.333-0.597 1.333-1.333s-0.597-1.333-1.333-1.333h-24c-0.736 0-1.333 0.597-1.333 1.333s0.597 1.333 1.333 1.333z"})])}Uc.compatConfig={MODE:3};function kL(){return N(),W("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[v("path",{d:"M23.057 7.057l-16 16c-0.52 0.52-0.52 1.365 0 1.885s1.365 0.52 1.885 0l16-16c0.52-0.52 0.52-1.365 0-1.885s-1.365-0.52-1.885 0z"}),v("path",{d:"M7.057 8.943l16 16c0.52 0.52 1.365 0.52 1.885 0s0.52-1.365 0-1.885l-16-16c-0.52-0.52-1.365-0.52-1.885 0s-0.52 1.365 0 1.885z"})])}kL.compatConfig={MODE:3};function uT(){return N(),W("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[v("path",{d:"M20.943 23.057l-7.057-7.057c0 0 7.057-7.057 7.057-7.057 0.52-0.52 0.52-1.365 0-1.885s-1.365-0.52-1.885 0l-8 8c-0.521 0.521-0.521 1.365 0 1.885l8 8c0.52 0.52 1.365 0.52 1.885 0s0.52-1.365 0-1.885z"})])}uT.compatConfig={MODE:3};function cT(){return N(),W("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[v("path",{d:"M12.943 24.943l8-8c0.521-0.521 0.521-1.365 0-1.885l-8-8c-0.52-0.52-1.365-0.52-1.885 0s-0.52 1.365 0 1.885l7.057 7.057c0 0-7.057 7.057-7.057 7.057-0.52 0.52-0.52 1.365 0 1.885s1.365 0.52 1.885 0z"})])}cT.compatConfig={MODE:3};function dT(){return N(),W("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[v("path",{d:"M16 1.333c-8.095 0-14.667 6.572-14.667 14.667s6.572 14.667 14.667 14.667c8.095 0 14.667-6.572 14.667-14.667s-6.572-14.667-14.667-14.667zM16 4c6.623 0 12 5.377 12 12s-5.377 12-12 12c-6.623 0-12-5.377-12-12s5.377-12 12-12z"}),v("path",{d:"M14.667 8v8c0 0.505 0.285 0.967 0.737 1.193l5.333 2.667c0.658 0.329 1.46 0.062 1.789-0.596s0.062-1.46-0.596-1.789l-4.596-2.298c0 0 0-7.176 0-7.176 0-0.736-0.597-1.333-1.333-1.333s-1.333 0.597-1.333 1.333z"})])}dT.compatConfig={MODE:3};function hT(){return N(),W("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[v("path",{d:"M24.943 19.057l-8-8c-0.521-0.521-1.365-0.521-1.885 0l-8 8c-0.52 0.52-0.52 1.365 0 1.885s1.365 0.52 1.885 0l7.057-7.057c0 0 7.057 7.057 7.057 7.057 0.52 0.52 1.365 0.52 1.885 0s0.52-1.365 0-1.885z"})])}hT.compatConfig={MODE:3};function fT(){return N(),W("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[v("path",{d:"M7.057 12.943l8 8c0.521 0.521 1.365 0.521 1.885 0l8-8c0.52-0.52 0.52-1.365 0-1.885s-1.365-0.52-1.885 0l-7.057 7.057c0 0-7.057-7.057-7.057-7.057-0.52-0.52-1.365-0.52-1.885 0s-0.52 1.365 0 1.885z"})])}fT.compatConfig={MODE:3};function pT(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var RL={exports:{}};(function(t){function e(n){return n&&n.__esModule?n:{default:n}}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports})(RL);var Bde=RL.exports,o_={exports:{}};(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=n;function n(r){if(r===null||r===!0||r===!1)return NaN;var i=Number(r);return isNaN(i)?i:i<0?Math.ceil(i):Math.floor(i)}t.exports=e.default})(o_,o_.exports);var jde=o_.exports;const Hde=pT(jde);var a_={exports:{}};(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=n;function n(r){var i=new Date(Date.UTC(r.getFullYear(),r.getMonth(),r.getDate(),r.getHours(),r.getMinutes(),r.getSeconds(),r.getMilliseconds()));return i.setUTCFullYear(r.getFullYear()),r.getTime()-i.getTime()}t.exports=e.default})(a_,a_.exports);var Wde=a_.exports;const EP=pT(Wde);function zde(t,e){var n=Xde(e);return n.formatToParts?Gde(n,t):Yde(n,t)}var Kde={year:0,month:1,day:2,hour:3,minute:4,second:5};function Gde(t,e){try{for(var n=t.formatToParts(e),r=[],i=0;i<n.length;i++){var s=Kde[n[i].type];s>=0&&(r[s]=parseInt(n[i].value,10))}return r}catch(o){if(o instanceof RangeError)return[NaN];throw o}}function Yde(t,e){var n=t.format(e).replace(/\u200E/g,""),r=/(\d+)\/(\d+)\/(\d+),? (\d+):(\d+):(\d+)/.exec(n);return[r[3],r[1],r[2],r[4],r[5],r[6]]}var sb={};function Xde(t){if(!sb[t]){var e=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:"America/New_York",year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}).format(new Date("2014-06-25T04:00:00.123Z")),n=e==="06/25/2014, 00:00:00"||e==="‎06‎/‎25‎/‎2014‎ ‎00‎:‎00‎:‎00";sb[t]=n?new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:t,year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}):new Intl.DateTimeFormat("en-US",{hourCycle:"h23",timeZone:t,year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"})}return sb[t]}function mT(t,e,n,r,i,s,o){var a=new Date(0);return a.setUTCFullYear(t,e,n),a.setUTCHours(r,i,s,o),a}var SP=36e5,Qde=6e4,ob={timezone:/([Z+-].*)$/,timezoneZ:/^(Z)$/,timezoneHH:/^([+-]\d{2})$/,timezoneHHMM:/^([+-]\d{2}):?(\d{2})$/};function gT(t,e,n){var r,i;if(t===""||(r=ob.timezoneZ.exec(t),r))return 0;var s;if(r=ob.timezoneHH.exec(t),r)return s=parseInt(r[1],10),IP(s)?-(s*SP):NaN;if(r=ob.timezoneHHMM.exec(t),r){s=parseInt(r[1],10);var o=parseInt(r[2],10);return IP(s,o)?(i=Math.abs(s)*SP+o*Qde,s>0?-i:i):NaN}if(ehe(t)){e=new Date(e||Date.now());var a=n?e:Jde(e),l=l_(a,t),u=n?l:Zde(e,l,t);return-u}return NaN}function Jde(t){return mT(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds())}function l_(t,e){var n=zde(t,e),r=mT(n[0],n[1]-1,n[2],n[3]%24,n[4],n[5],0).getTime(),i=t.getTime(),s=i%1e3;return i-=s>=0?s:1e3+s,r-i}function Zde(t,e,n){var r=t.getTime(),i=r-e,s=l_(new Date(i),n);if(e===s)return e;i-=s-e;var o=l_(new Date(i),n);return s===o?s:Math.max(s,o)}function IP(t,e){return-23<=t&&t<=23&&(e==null||0<=e&&e<=59)}var CP={};function ehe(t){if(CP[t])return!0;try{return new Intl.DateTimeFormat(void 0,{timeZone:t}),CP[t]=!0,!0}catch{return!1}}var xL=/(Z|[+-]\d{2}(?::?\d{2})?| UTC| [a-zA-Z]+\/[a-zA-Z_]+(?:\/[a-zA-Z_]+)?)$/,ab=36e5,AP=6e4,the=2,fi={dateTimePattern:/^([0-9W+-]+)(T| )(.*)/,datePattern:/^([0-9W+-]+)(.*)/,plainTime:/:/,YY:/^(\d{2})$/,YYY:[/^([+-]\d{2})$/,/^([+-]\d{3})$/,/^([+-]\d{4})$/],YYYY:/^(\d{4})/,YYYYY:[/^([+-]\d{4})/,/^([+-]\d{5})/,/^([+-]\d{6})/],MM:/^-(\d{2})$/,DDD:/^-?(\d{3})$/,MMDD:/^-?(\d{2})-?(\d{2})$/,Www:/^-?W(\d{2})$/,WwwD:/^-?W(\d{2})-?(\d{1})$/,HH:/^(\d{2}([.,]\d*)?)$/,HHMM:/^(\d{2}):?(\d{2}([.,]\d*)?)$/,HHMMSS:/^(\d{2}):?(\d{2}):?(\d{2}([.,]\d*)?)$/,timeZone:xL};function u_(t,e){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");if(t===null)return new Date(NaN);var n=e||{},r=n.additionalDigits==null?the:Hde(n.additionalDigits);if(r!==2&&r!==1&&r!==0)throw new RangeError("additionalDigits must be 0, 1 or 2");if(t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]")return new Date(t.getTime());if(typeof t=="number"||Object.prototype.toString.call(t)==="[object Number]")return new Date(t);if(!(typeof t=="string"||Object.prototype.toString.call(t)==="[object String]"))return new Date(NaN);var i=nhe(t),s=rhe(i.date,r),o=s.year,a=s.restDateString,l=ihe(a,o);if(isNaN(l))return new Date(NaN);if(l){var u=l.getTime(),c=0,d;if(i.time&&(c=she(i.time),isNaN(c)))return new Date(NaN);if(i.timeZone||n.timeZone){if(d=gT(i.timeZone||n.timeZone,new Date(u+c)),isNaN(d))return new Date(NaN)}else d=EP(new Date(u+c)),d=EP(new Date(u+c+d));return new Date(u+c+d)}else return new Date(NaN)}function nhe(t){var e={},n=fi.dateTimePattern.exec(t),r;if(n?(e.date=n[1],r=n[3]):(n=fi.datePattern.exec(t),n?(e.date=n[1],r=n[2]):(e.date=null,r=t)),r){var i=fi.timeZone.exec(r);i?(e.time=r.replace(i[1],""),e.timeZone=i[1].trim()):e.time=r}return e}function rhe(t,e){var n=fi.YYY[e],r=fi.YYYYY[e],i;if(i=fi.YYYY.exec(t)||r.exec(t),i){var s=i[1];return{year:parseInt(s,10),restDateString:t.slice(s.length)}}if(i=fi.YY.exec(t)||n.exec(t),i){var o=i[1];return{year:parseInt(o,10)*100,restDateString:t.slice(o.length)}}return{year:null}}function ihe(t,e){if(e===null)return null;var n,r,i,s;if(t.length===0)return r=new Date(0),r.setUTCFullYear(e),r;if(n=fi.MM.exec(t),n)return r=new Date(0),i=parseInt(n[1],10)-1,OP(e,i)?(r.setUTCFullYear(e,i),r):new Date(NaN);if(n=fi.DDD.exec(t),n){r=new Date(0);var o=parseInt(n[1],10);return lhe(e,o)?(r.setUTCFullYear(e,0,o),r):new Date(NaN)}if(n=fi.MMDD.exec(t),n){r=new Date(0),i=parseInt(n[1],10)-1;var a=parseInt(n[2],10);return OP(e,i,a)?(r.setUTCFullYear(e,i,a),r):new Date(NaN)}if(n=fi.Www.exec(t),n)return s=parseInt(n[1],10)-1,kP(e,s)?PP(e,s):new Date(NaN);if(n=fi.WwwD.exec(t),n){s=parseInt(n[1],10)-1;var l=parseInt(n[2],10)-1;return kP(e,s,l)?PP(e,s,l):new Date(NaN)}return null}function she(t){var e,n,r;if(e=fi.HH.exec(t),e)return n=parseFloat(e[1].replace(",",".")),lb(n)?n%24*ab:NaN;if(e=fi.HHMM.exec(t),e)return n=parseInt(e[1],10),r=parseFloat(e[2].replace(",",".")),lb(n,r)?n%24*ab+r*AP:NaN;if(e=fi.HHMMSS.exec(t),e){n=parseInt(e[1],10),r=parseInt(e[2],10);var i=parseFloat(e[3].replace(",","."));return lb(n,r,i)?n%24*ab+r*AP+i*1e3:NaN}return null}function PP(t,e,n){e=e||0,n=n||0;var r=new Date(0);r.setUTCFullYear(t,0,4);var i=r.getUTCDay()||7,s=e*7+n+1-i;return r.setUTCDate(r.getUTCDate()+s),r}var ohe=[31,28,31,30,31,30,31,31,30,31,30,31],ahe=[31,29,31,30,31,30,31,31,30,31,30,31];function DL(t){return t%400===0||t%4===0&&t%100!==0}function OP(t,e,n){if(e<0||e>11)return!1;if(n!=null){if(n<1)return!1;var r=DL(t);if(r&&n>ahe[e]||!r&&n>ohe[e])return!1}return!0}function lhe(t,e){if(e<1)return!1;var n=DL(t);return!(n&&e>366||!n&&e>365)}function kP(t,e,n){return!(e<0||e>52||n!=null&&(n<0||n>6))}function lb(t,e,n){return!(t!=null&&(t<0||t>=25)||e!=null&&(e<0||e>=60)||n!=null&&(n<0||n>=60))}var c_={exports:{}},d_={exports:{}};(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=n;function n(r,i){if(r==null)throw new TypeError("assign requires that input parameter not be null or undefined");for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(r[s]=i[s]);return r}t.exports=e.default})(d_,d_.exports);var uhe=d_.exports;(function(t,e){var n=Bde.default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=i;var r=n(uhe);function i(s){return(0,r.default)({},s)}t.exports=e.default})(c_,c_.exports);var che=c_.exports;const dhe=pT(che);function hhe(t,e,n){var r=u_(t,n),i=gT(e,r,!0),s=new Date(r.getTime()-i),o=new Date(0);return o.setFullYear(s.getUTCFullYear(),s.getUTCMonth(),s.getUTCDate()),o.setHours(s.getUTCHours(),s.getUTCMinutes(),s.getUTCSeconds(),s.getUTCMilliseconds()),o}function fhe(t,e,n){if(typeof t=="string"&&!t.match(xL)){var r=dhe(n);return r.timeZone=e,u_(t,r)}var i=u_(t,n),s=mT(i.getFullYear(),i.getMonth(),i.getDate(),i.getHours(),i.getMinutes(),i.getSeconds(),i.getMilliseconds()).getTime(),o=gT(e,new Date(s));return new Date(s+o)}function RP(t){return e=>new Intl.DateTimeFormat(t,{weekday:"short",timeZone:"UTC"}).format(new Date(`2017-01-0${e}T00:00:00+00:00`)).slice(0,2)}function phe(t){return e=>va(new Date(`2017-01-0${e}T00:00:00+00:00`),"EEEEEE",{locale:t})}const mhe=(t,e,n)=>{const r=[1,2,3,4,5,6,7];let i;if(t!==null)try{i=r.map(phe(t))}catch{i=r.map(RP(e))}else i=r.map(RP(e));const s=i.slice(0,n),o=i.slice(n+1,i.length);return[i[n]].concat(...o).concat(...s)},vT=(t,e)=>{const n=[];for(let r=+t[0];r<=+t[1];r++)n.push({value:+r,text:`${r}`});return e?n.reverse():n},NL=(t,e,n)=>{const r=[1,2,3,4,5,6,7,8,9,10,11,12].map(s=>{const o=s<10?`0${s}`:s;return new Date(`2017-${o}-01T00:00:00+00:00`)});if(t!==null)try{const s=n==="long"?"MMMM":"MMM";return r.map((o,a)=>{const l=va(o,s,{locale:t});return{text:l.charAt(0).toUpperCase()+l.substring(1),value:a}})}catch{}const i=new Intl.DateTimeFormat(e,{month:n,timeZone:"UTC"});return r.map((s,o)=>{const a=i.format(s);return{text:a.charAt(0).toUpperCase()+a.substring(1),value:o}})},ghe=t=>[12,1,2,3,4,5,6,7,8,9,10,11,12,1,2,3,4,5,6,7,8,9,10,11][t],gr=t=>{const e=A(t);return e!=null&&e.$el?e==null?void 0:e.$el:e},vhe=t=>Object.assign({type:"dot"},t),ML=t=>Array.isArray(t)?!!t[0]&&!!t[1]:!1,mg={prop:t=>`"${t}" prop must be enabled!`,dateArr:t=>`You need to use array as "model-value" binding in order to support "${t}"`},wr=t=>t,xP=t=>t===0?t:!t||isNaN(+t)?null:+t,DP=t=>t===null,yhe=t=>{if(t)return[...t.querySelectorAll("input, button, select, textarea, a[href]")][0]},bhe=t=>{const e=[],n=r=>r.filter(i=>i);for(let r=0;r<t.length;r+=3){const i=[t[r],t[r+1],t[r+2]];e.push(n(i))}return e},Gh=(t,e,n)=>{const r=n!=null,i=e!=null;if(!r&&!i)return!1;const s=+n,o=+e;return r&&i?+t>s||+t<o:r?+t>s:i?+t<o:!1},Sc=(t,e)=>bhe(t).map(n=>n.map(r=>{const{active:i,disabled:s,isBetween:o,highlighted:a}=e(r);return{...r,active:i,disabled:s,className:{dp__overlay_cell_active:i,dp__overlay_cell:!i,dp__overlay_cell_disabled:s,dp__overlay_cell_pad:!0,dp__overlay_cell_active_disabled:s&&i,dp__cell_in_between:o,"dp--highlighted":a}}})),ya=(t,e,n=!1)=>{t&&e.allowStopPropagation&&(n&&t.stopImmediatePropagation(),t.stopPropagation())},_he=()=>["a[href]","area[href]","input:not([disabled]):not([type='hidden'])","select:not([disabled])","textarea:not([disabled])","button:not([disabled])","[tabindex]:not([tabindex='-1'])","[data-datepicker-instance]"].join(", ");function whe(t,e){let n=[...document.querySelectorAll(_he())];n=n.filter(i=>!t.contains(i)||i.hasAttribute("data-datepicker-instance"));const r=n.indexOf(t);if(r>=0&&(e?r-1>=0:r+1<=n.length))return n[r+(e?-1:1)]}const The=(t,e)=>{let n;return function(...r){clearTimeout(n),n=setTimeout(()=>{t(...r)},e)}},NP=(t,e,n,r,i)=>{const s=s_(t,e.slice(0,t.length),new Date);return ah(s)&&uL(s)?r||i?s:Pn(s,{hours:+n.hours,minutes:+(n==null?void 0:n.minutes),seconds:+(n==null?void 0:n.seconds),milliseconds:0}):null},Ehe=(t,e,n,r,i)=>{const s=Array.isArray(n)?n[0]:n;if(typeof e=="string")return NP(t,e,s,r,i);if(Array.isArray(e)){let o=null;for(const a of e)if(o=NP(t,a,s,r,i),o)break;return o}return typeof e=="function"?e(t):null},Re=t=>t?new Date(t):new Date,She=(t,e,n)=>{if(e){const i=(t.getMonth()+1).toString().padStart(2,"0"),s=t.getDate().toString().padStart(2,"0"),o=t.getHours().toString().padStart(2,"0"),a=t.getMinutes().toString().padStart(2,"0"),l=n?t.getSeconds().toString().padStart(2,"0"):"00";return`${t.getFullYear()}-${i}-${s}T${o}:${a}:${l}.000Z`}const r=Date.UTC(t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate(),t.getUTCHours(),t.getUTCMinutes(),t.getUTCSeconds());return new Date(r).toISOString()},ii=t=>{let e=Re(JSON.parse(JSON.stringify(t)));return e=AL(e,0),e=PL(e,0),e=lT(e,0),e=aT(e,0),e},ba=(t,e,n,r)=>{let i=t?Re(t):Re();return(e||e===0)&&(i=AL(i,+e)),(n||n===0)&&(i=PL(i,+n)),(r||r===0)&&(i=lT(i,+r)),aT(i,0)},Lr=(t,e)=>!t||!e?!1:Kh(ii(t),ii(e)),nn=(t,e)=>!t||!e?!1:ku(ii(t),ii(e)),ti=(t,e)=>!t||!e?!1:zh(ii(t),ii(e)),kv=(t,e,n)=>t!=null&&t[0]&&t!=null&&t[1]?ti(n,t[0])&&Lr(n,t[1]):t!=null&&t[0]&&e?ti(n,t[0])&&Lr(n,e)||Lr(n,t[0])&&ti(n,e):!1,hs=t=>{const e=Pn(new Date(t),{date:1});return ii(e)},ub=(t,e,n)=>e&&(n||n===0)?Object.fromEntries(["hours","minutes","seconds"].map(r=>r===e?[r,n]:[r,isNaN(+t[r])?void 0:+t[r]])):{hours:isNaN(+t.hours)?void 0:+t.hours,minutes:isNaN(+t.minutes)?void 0:+t.minutes,seconds:isNaN(+t.seconds)?void 0:+t.seconds},vl=t=>({hours:bs(t),minutes:js(t),seconds:Tc(t)}),LL=(t,e)=>{if(e){const n=At(Re(e));if(n>t)return 12;if(n===t)return Wt(Re(e))}},VL=(t,e)=>{if(e){const n=At(Re(e));return n<t?-1:n===t?Wt(Re(e)):void 0}},Ic=t=>{if(t)return At(Re(t))},_s=(t,e)=>e?hhe(t,e):t,$L=(t,e)=>e?fhe(t,e):t,Ihe=t=>t instanceof Date?t:Ide(t),FL=(t,e)=>{const n=ti(t,e)?e:t,r=ti(e,t)?e:t;return cL({start:n,end:r})},Che=t=>{const e=ys(t,1);return{month:Wt(e),year:At(e)}},sm=(t,e,n)=>{const r=$l(_s(t,e),{weekStartsOn:+n}),i=vue(_s(t,e),{weekStartsOn:+n});return[r,i]},UL=(t,e)=>{const n={hours:bs(Re()),minutes:js(Re()),seconds:e?Tc(Re()):0};return Object.assign(n,t)},la=(t,e,n)=>[Pn(Re(t),{date:1}),Pn(Re(),{month:e,year:n,date:1})],go=(t,e,n)=>{let r=t?Re(t):Re();return(e||e===0)&&(r=CL(r,e)),n&&(r=Ns(r,n)),r},qL=(t,e,n,r,i)=>{if(!r||i&&!e||!i&&!n)return!1;const s=i?ys(t,1):Ec(t,1),o=[Wt(s),At(s)];return i?!Phe(...o,e):!Ahe(...o,n)},Ahe=(t,e,n)=>Lr(...la(n,t,e))||nn(...la(n,t,e)),Phe=(t,e,n)=>ti(...la(n,t,e))||nn(...la(n,t,e)),BL=(t,e,n,r,i,s,o)=>{if(typeof e=="function"&&!o)return e(t);const a=n?{locale:n}:void 0;return Array.isArray(t)?`${va(t[0],s,a)}${i&&!t[1]?"":r}${t[1]?va(t[1],s,a):""}`:va(t,s,a)},cu=t=>{if(t)return null;throw new Error(mg.prop("partial-range"))},Mp=(t,e)=>{if(e)return t();throw new Error(mg.prop("range"))},h_=t=>Array.isArray(t)?ah(t[0])&&(t[1]?ah(t[1]):!0):t?ah(t):!1,Ohe=(t,e)=>Pn(e??Re(),{hours:+t.hours||0,minutes:+t.minutes||0,seconds:+t.seconds||0}),cb=(t,e,n,r)=>{if(!t)return!0;if(r){const i=n==="max"?Kh(t,e):zh(t,e),s={seconds:0,milliseconds:0};return i||ku(Pn(t,s),Pn(e,s))}return n==="max"?t.getTime()<=e.getTime():t.getTime()>=e.getTime()},db=(t,e,n)=>t?Ohe(t,e):Re(n??e),MP=(t,e,n,r,i)=>{if(Array.isArray(r)){const o=db(t,r[0],e),a=db(t,r[1],e);return cb(r[0],o,n,!!e)&&cb(r[1],a,n,!!e)&&i}const s=db(t,r,e);return cb(r,s,n,!!e)&&i},hb=t=>Pn(Re(),vl(t)),khe=(t,e)=>Array.isArray(t)?t.map(n=>Re(n)).filter(n=>At(Re(n))===e).map(n=>Wt(n)):[],jL=(t,e,n)=>typeof t=="function"?t({month:e,year:n}):!!t.months.find(r=>r.month===e&&r.year===n),yT=(t,e)=>typeof t=="function"?t(e):t.years.includes(e),vd=Pr({menuFocused:!1,shiftKeyInMenu:!1}),HL=()=>{const t=n=>{vd.menuFocused=n},e=n=>{vd.shiftKeyInMenu!==n&&(vd.shiftKeyInMenu=n)};return{control:ee(()=>({shiftKeyInMenu:vd.shiftKeyInMenu,menuFocused:vd.menuFocused})),setMenuFocused:t,setShiftKey:e}},En=Pr({monthYear:[],calendar:[],time:[],actionRow:[],selectionGrid:[],timePicker:{0:[],1:[]},monthPicker:[]}),fb=ie(null),Lp=ie(!1),pb=ie(!1),mb=ie(!1),gb=ie(!1),ui=ie(0),kr=ie(0),$a=()=>{const t=ee(()=>Lp.value?[...En.selectionGrid,En.actionRow].filter(d=>d.length):pb.value?[...En.timePicker[0],...En.timePicker[1],gb.value?[]:[fb.value],En.actionRow].filter(d=>d.length):mb.value?[...En.monthPicker,En.actionRow]:[En.monthYear,...En.calendar,En.time,En.actionRow].filter(d=>d.length)),e=d=>{ui.value=d?ui.value+1:ui.value-1;let h=null;t.value[kr.value]&&(h=t.value[kr.value][ui.value]),h||(ui.value=d?ui.value-1:ui.value+1)},n=d=>{kr.value===0&&!d||kr.value===t.value.length&&d||(kr.value=d?kr.value+1:kr.value-1,t.value[kr.value]?t.value[kr.value]&&!t.value[kr.value][ui.value]&&ui.value!==0&&(ui.value=t.value[kr.value].length-1):kr.value=d?kr.value-1:kr.value+1)},r=d=>{let h=null;t.value[kr.value]&&(h=t.value[kr.value][ui.value]),h?h.focus({preventScroll:!Lp.value}):ui.value=d?ui.value-1:ui.value+1},i=()=>{e(!0),r(!0)},s=()=>{e(!1),r(!1)},o=()=>{n(!1),r(!0)},a=()=>{n(!0),r(!0)},l=(d,h)=>{En[h]=d},u=(d,h)=>{En[h]=d},c=()=>{ui.value=0,kr.value=0};return{buildMatrix:l,buildMultiLevelMatrix:u,setTimePickerBackRef:d=>{fb.value=d},setSelectionGrid:d=>{Lp.value=d,c(),d||(En.selectionGrid=[])},setTimePicker:(d,h=!1)=>{pb.value=d,gb.value=h,c(),d||(En.timePicker[0]=[],En.timePicker[1]=[])},setTimePickerElements:(d,h=0)=>{En.timePicker[h]=d},arrowRight:i,arrowLeft:s,arrowUp:o,arrowDown:a,clearArrowNav:()=>{En.monthYear=[],En.calendar=[],En.time=[],En.actionRow=[],En.selectionGrid=[],En.timePicker[0]=[],En.timePicker[1]=[],Lp.value=!1,pb.value=!1,gb.value=!1,mb.value=!1,c(),fb.value=null},setMonthPicker:d=>{mb.value=d,c()},refSets:En}},LP=t=>({menuAppearTop:"dp-menu-appear-top",menuAppearBottom:"dp-menu-appear-bottom",open:"dp-slide-down",close:"dp-slide-up",next:"calendar-next",previous:"calendar-prev",vNext:"dp-slide-up",vPrevious:"dp-slide-down",...t??{}}),Rhe=t=>({toggleOverlay:"Toggle overlay",menu:"Datepicker menu",input:"Datepicker input",calendarWrap:"Calendar wrapper",calendarDays:"Calendar days",openTimePicker:"Open time picker",closeTimePicker:"Close time Picker",incrementValue:e=>`Increment ${e}`,decrementValue:e=>`Decrement ${e}`,openTpOverlay:e=>`Open ${e} overlay`,amPmButton:"Switch AM/PM mode",openYearsOverlay:"Open years overlay",openMonthsOverlay:"Open months overlay",nextMonth:"Next month",prevMonth:"Previous month",nextYear:"Next year",prevYear:"Previous year",day:()=>"",...t??{}}),VP=t=>t?typeof t=="boolean"?t?2:0:+t>=2?+t:2:0,xhe=t=>{const e=typeof t=="object"&&t,n={static:!0,solo:!1};if(!t)return{...n,count:VP(!1)};const r=e?t:{},i=e?r.count??!0:t,s=VP(i);return Object.assign(n,r,{count:s})},Dhe=(t,e,n)=>t||(typeof n=="string"?n:e),Nhe=t=>typeof t=="boolean"?t?LP({}):!1:LP(t),Mhe=t=>{const e={enterSubmit:!0,tabSubmit:!0,openMenu:!0,selectOnFocus:!1,rangeSeparator:" - "};return typeof t=="object"?{...e,...t??{},enabled:!0}:{...e,enabled:t}},Lhe=t=>({months:[],years:[],times:{hours:[],minutes:[],seconds:[]},...t??{}}),Vhe=t=>({showSelect:!0,showCancel:!0,showNow:!1,showPreview:!0,...t??{}}),$he=t=>{const e={input:!1};return typeof t=="object"?{...e,...t??{},enabled:!0}:{enabled:t,...e}},Fhe=t=>({allowStopPropagation:!0,closeOnScroll:!1,modeHeight:255,allowPreventDefault:!1,closeOnClearValue:!0,closeOnAutoApply:!0,noSwipe:!1,keepActionRow:!1,onClickOutside:void 0,tabOutClosesMenu:!0,...t??{}}),Uhe=(t,e,n)=>{const r={dates:Array.isArray(t)?t.map(i=>Re(i)):[],years:[],months:[],quarters:[],weeks:[],weekdays:e,options:{highlightDisabled:n}};return typeof t=="function"?t:{...r,...t??{}}},qhe=t=>typeof t=="object"?{type:t.type,hideOnOffsetDates:t.hideOnOffsetDates??!1}:{type:t,hideOnOffsetDates:!1},ir=t=>{const e=()=>{const P=t.enableSeconds?":ss":"";return t.is24?`HH:mm${P}`:`hh:mm${P} aa`},n=()=>t.format?t.format:t.monthPicker?"MM/yyyy":t.timePicker?e():t.weekPicker?"MM/dd/yyyy":t.yearPicker?"yyyy":t.quarterPicker?"QQQ/yyyy":t.enableTimePicker?`MM/dd/yyyy, ${e()}`:"MM/dd/yyyy",r=P=>UL(P,t.enableSeconds),i=()=>t.range?t.startTime&&Array.isArray(t.startTime)?[r(t.startTime[0]),r(t.startTime[1])]:null:t.startTime&&!Array.isArray(t.startTime)?r(t.startTime):null,s=ee(()=>xhe(t.multiCalendars)),o=ee(()=>i()),a=ee(()=>Rhe(t.ariaLabels)),l=ee(()=>Lhe(t.filters)),u=ee(()=>Nhe(t.transitions)),c=ee(()=>Vhe(t.actionRow)),d=ee(()=>Dhe(t.previewFormat,t.format,n())),h=ee(()=>Mhe(t.textInput)),p=ee(()=>$he(t.inline)),m=ee(()=>Fhe(t.config)),g=ee(()=>Uhe(t.highlight,t.highlightWeekDays,t.highlightDisabledDays)),y=ee(()=>qhe(t.weekNumbers));return{defaultedTransitions:u,defaultedMultiCalendars:s,defaultedStartTime:o,defaultedAriaLabels:a,defaultedFilters:l,defaultedActionRow:c,defaultedPreviewFormat:d,defaultedTextInput:h,defaultedInline:p,defaultedConfig:m,defaultedHighlight:g,defaultedWeekNumbers:y,getDefaultPattern:n,getDefaultStartTime:i}},Bhe=(t,e,n)=>{const r=ie(),{defaultedTextInput:i,getDefaultPattern:s}=ir(e),o=ie(""),a=Xu(e,"format");pn(r,()=>{t("internal-model-change",r.value)}),pn(a,()=>{j()});const l=V=>$L(V,e.timezone),u=V=>_s(V,e.timezone),c=(V,ue,oe=!1)=>BL(V,e.format,e.formatLocale,i.value.rangeSeparator,e.modelAuto,ue??s(),oe),d=V=>V?e.modelType?$(V):{hours:bs(V),minutes:js(V),seconds:e.enableSeconds?Tc(V):0}:null,h=V=>e.modelType?$(V):{month:Wt(V),year:At(V)},p=V=>Array.isArray(V)?e.multiDates?V.map(ue=>m(ue,Ns(Re(),ue))):Mp(()=>[Ns(Re(),V[0]),V[1]?Ns(Re(),V[1]):cu(e.partialRange)],e.range):Ns(Re(),+V),m=(V,ue)=>(typeof V=="string"||typeof V=="number")&&e.modelType?U(V):ue,g=V=>Array.isArray(V)?[m(V[0],ba(null,+V[0].hours,+V[0].minutes,V[0].seconds)),m(V[1],ba(null,+V[1].hours,+V[1].minutes,V[1].seconds))]:m(V,ba(null,V.hours,V.minutes,V.seconds)),y=V=>Array.isArray(V)?e.multiDates?V.map(ue=>m(ue,go(null,+ue.month,+ue.year))):Mp(()=>[m(V[0],go(null,+V[0].month,+V[0].year)),m(V[1],V[1]?go(null,+V[1].month,+V[1].year):cu(e.partialRange))],e.range):m(V,go(null,+V.month,+V.year)),P=V=>{if(Array.isArray(V))return V.map(ue=>U(ue));throw new Error(mg.dateArr("multi-dates"))},I=V=>{if(Array.isArray(V))return[Re(V[0]),Re(V[1])];throw new Error(mg.dateArr("week-picker"))},S=V=>e.modelAuto?Array.isArray(V)?[U(V[0]),U(V[1])]:e.autoApply?[U(V)]:[U(V),null]:Array.isArray(V)?Mp(()=>[U(V[0]),V[1]?U(V[1]):cu(e.partialRange)],e.range):U(V),T=()=>{Array.isArray(r.value)&&e.range&&r.value.length===1&&r.value.push(cu(e.partialRange))},M=()=>{const V=r.value;return[$(V[0]),V[1]?$(V[1]):cu(e.partialRange)]},R=()=>r.value[1]?M():$(wr(r.value[0])),C=()=>(r.value||[]).map(V=>$(V)),E=()=>(T(),e.modelAuto?R():e.multiDates?C():Array.isArray(r.value)?Mp(()=>M(),e.range):$(wr(r.value))),b=V=>!V||Array.isArray(V)&&!V.length?null:e.timePicker?g(wr(V)):e.monthPicker?y(wr(V)):e.yearPicker?p(wr(V)):e.multiDates?P(wr(V)):e.weekPicker?I(wr(V)):S(wr(V)),w=V=>{const ue=b(V);h_(wr(ue))?(r.value=wr(ue),j()):(r.value=null,o.value="")},k=()=>{const V=ue=>va(ue,i.value.format);return`${V(r.value[0])} ${i.value.rangeSeparator} ${r.value[1]?V(r.value[1]):""}`},x=()=>n.value&&r.value?Array.isArray(r.value)?k():va(r.value,i.value.format):c(r.value),O=()=>r.value?e.multiDates?r.value.map(V=>c(V)).join("; "):i.value.enabled&&typeof i.value.format=="string"?x():c(r.value):"",j=()=>{!e.format||typeof e.format=="string"||i.value.enabled&&typeof i.value.format=="string"?o.value=O():o.value=e.format(r.value)},U=V=>{if(e.utc){const ue=new Date(V);return e.utc==="preserve"?new Date(ue.getTime()+ue.getTimezoneOffset()*6e4):ue}return e.modelType?e.modelType==="date"||e.modelType==="timestamp"?u(new Date(V)):e.modelType==="format"&&(typeof e.format=="string"||!e.format)?s_(V,s(),new Date):u(s_(V,e.modelType,new Date)):u(new Date(V))},$=V=>V?e.utc?She(V,e.utc==="preserve",e.enableSeconds):e.modelType?e.modelType==="timestamp"?+l(V):e.modelType==="format"&&(typeof e.format=="string"||!e.format)?c(l(V)):c(l(V),e.modelType,!0):l(V):"",q=(V,ue=!1)=>{if(t("update:model-value",V),e.emitTimezone&&ue){const oe=Array.isArray(V)?V.map(ve=>_s(wr(ve)),e.emitTimezone):_s(wr(V),e.emitTimezone);t("update:model-timezone-value",oe)}},te=V=>Array.isArray(r.value)?e.multiDates?r.value.map(ue=>V(ue)):[V(r.value[0]),r.value[1]?V(r.value[1]):cu(e.partialRange)]:V(wr(r.value)),z=V=>q(wr(te(V)));return{inputValue:o,internalModelValue:r,checkBeforeEmit:()=>r.value?e.range?e.partialRange?r.value.length>=1:r.value.length===2:!!r.value:!1,parseExternalModelValue:w,formatInputValue:j,emitModelValue:()=>(j(),e.monthPicker?z(h):e.timePicker?z(d):e.yearPicker?z(At):e.weekPicker?q(r.value.map(V=>$(V)),!0):q(E(),!0))}},jhe=(t,e)=>{const{defaultedFilters:n}=ir(t),{validateMonthYearInRange:r}=Gl(t),i=(u,c)=>{let d=u;return n.value.months.includes(Wt(d))?(d=c?ys(u,1):Ec(u,1),i(d,c)):d},s=(u,c)=>{let d=u;return n.value.years.includes(At(d))?(d=c?tT(u,1):OL(u,1),s(d,c)):d},o=(u,c=!1)=>{const d=Pn(new Date,{month:t.month,year:t.year});let h=u?ys(d,1):Ec(d,1);t.disableYearSelect&&(h=Ns(h,t.year));let p=Wt(h),m=At(h);n.value.months.includes(p)&&(h=i(h,u),p=Wt(h),m=At(h)),n.value.years.includes(m)&&(h=s(h,u),m=At(h)),r(p,m,u,t.preventMinMaxNavigation)&&a(p,m,c)},a=(u,c,d)=>{e("update-month-year",{month:u,year:c,fromNav:d})},l=ee(()=>u=>qL(Pn(new Date,{month:t.month,year:t.year}),t.maxDate,t.minDate,t.preventMinMaxNavigation,u));return{handleMonthYearChange:o,isDisabled:l,updateMonthYear:a}};var bu=(t=>(t.center="center",t.left="left",t.right="right",t))(bu||{}),as=(t=>(t.month="month",t.year="year",t))(as||{}),el=(t=>(t.top="top",t.bottom="bottom",t))(el||{}),yl=(t=>(t.header="header",t.calendar="calendar",t.timePicker="timePicker",t))(yl||{}),Ps=(t=>(t.month="month",t.year="year",t.calendar="calendar",t.time="time",t.minutes="minutes",t.hours="hours",t.seconds="seconds",t))(Ps||{});const Hhe=({menuRef:t,menuRefInner:e,inputRef:n,pickerWrapperRef:r,inline:i,emit:s,props:o,slots:a})=>{const l=ie({}),u=ie(!1),c=ie({top:"0",left:"0"}),d=ie(!1),h=Xu(o,"teleportCenter");pn(h,()=>{c.value=JSON.parse(JSON.stringify({})),T()});const p=U=>{if(o.teleport){const $=U.getBoundingClientRect();return{left:$.left+window.scrollX,top:$.top+window.scrollY}}return{top:0,left:0}},m=(U,$)=>{c.value.left=`${U+$-l.value.width}px`},g=U=>{c.value.left=`${U}px`},y=(U,$)=>{o.position===bu.left&&g(U),o.position===bu.right&&m(U,$),o.position===bu.center&&(c.value.left=`${U+$/2-l.value.width/2}px`)},P=U=>{const{width:$,height:q}=U.getBoundingClientRect(),{top:te,left:z}=o.altPosition?o.altPosition(U):p(U);return{top:+te,left:+z,width:$,height:q}},I=()=>{c.value.left="50%",c.value.top="50%",c.value.transform="translate(-50%, -50%)",c.value.position="fixed",delete c.value.opacity},S=()=>{const U=gr(n),{top:$,left:q,transform:te}=o.altPosition(U);c.value={top:`${$}px`,left:`${q}px`,transform:te??""}},T=(U=!0)=>{var $;if(!i.value.enabled){if(h.value)return I();if(o.altPosition!==null)return S();if(U){const q=o.teleport?($=e.value)==null?void 0:$.$el:t.value;q&&(l.value=q.getBoundingClientRect()),s("recalculate-position")}return k()}},M=({inputEl:U,left:$,width:q})=>{window.screen.width>768&&!u.value&&y($,q),E(U)},R=U=>{const{top:$,left:q,height:te,width:z}=P(U);c.value.top=`${te+$+ +o.offset}px`,d.value=!1,u.value||(c.value.left=`${q+z/2-l.value.width/2}px`),M({inputEl:U,left:q,width:z})},C=U=>{const{top:$,left:q,width:te}=P(U);c.value.top=`${$-+o.offset-l.value.height}px`,d.value=!0,M({inputEl:U,left:q,width:te})},E=U=>{if(o.autoPosition){const{left:$,width:q}=P(U),{left:te,right:z}=l.value;if(!u.value){if(Math.abs(te)!==Math.abs(z)){if(te<=0)return u.value=!0,g($);if(z>=document.documentElement.clientWidth)return u.value=!0,m($,q)}return y($,q)}}},b=()=>{const U=gr(n);if(U){const{height:$}=l.value,{top:q,height:te}=U.getBoundingClientRect(),z=window.innerHeight-q-te,V=q;return $<=z?el.bottom:$>z&&$<=V?el.top:z>=V?el.bottom:el.top}return el.bottom},w=U=>b()===el.bottom?R(U):C(U),k=()=>{const U=gr(n);if(U)return o.autoPosition?w(U):R(U)},x=function(U){if(U){const $=U.scrollHeight>U.clientHeight,q=window.getComputedStyle(U).overflowY.indexOf("hidden")!==-1;return $&&!q}return!0},O=function(U){return!U||U===document.body||U.nodeType===Node.DOCUMENT_FRAGMENT_NODE?window:x(U)?U:O(U.parentNode)},j=U=>{if(U)switch(o.position){case bu.left:return{left:0,transform:"translateX(0)"};case bu.right:return{left:`${U.width}px`,transform:"translateX(-100%)"};default:return{left:`${U.width/2}px`,transform:"translateX(-50%)"}}return{}};return{openOnTop:d,menuStyle:c,xCorrect:u,setMenuPosition:T,getScrollableParent:O,shadowRender:(U,$)=>{var q,te,z;const V=document.createElement("div"),ue=(q=gr(n))==null?void 0:q.getBoundingClientRect();V.setAttribute("id","dp--temp-container");const oe=(te=r.value)!=null&&te.clientWidth?r.value:document.body;oe.append(V);const ve=j(ue),Se=Tl(U,{...$,shadow:!0,style:{opacity:0,position:"absolute",...ve}},Object.fromEntries(Object.keys(a).filter(he=>["right-sidebar","left-sidebar"].includes(he)).map(he=>[he,a[he]])));El(Se,V),l.value=(z=Se.el)==null?void 0:z.getBoundingClientRect(),El(null,V),oe.removeChild(V)}}},Ho=[{name:"clock-icon",use:["time","calendar","shared"]},{name:"arrow-left",use:["month-year","calendar","shared","year-mode"]},{name:"arrow-right",use:["month-year","calendar","shared","year-mode"]},{name:"arrow-up",use:["time","calendar","month-year","shared"]},{name:"arrow-down",use:["time","calendar","month-year","shared"]},{name:"calendar-icon",use:["month-year","time","calendar","shared","year-mode"]},{name:"day",use:["calendar","shared"]},{name:"month-overlay-value",use:["calendar","month-year","shared"]},{name:"year-overlay-value",use:["calendar","month-year","shared","year-mode"]},{name:"year-overlay",use:["month-year","shared"]},{name:"month-overlay",use:["month-year","shared"]},{name:"month-overlay-header",use:["month-year","shared"]},{name:"year-overlay-header",use:["month-year","shared"]},{name:"hours-overlay-value",use:["calendar","time","shared"]},{name:"minutes-overlay-value",use:["calendar","time","shared"]},{name:"seconds-overlay-value",use:["calendar","time","shared"]},{name:"hours",use:["calendar","time","shared"]},{name:"minutes",use:["calendar","time","shared"]},{name:"month",use:["calendar","month-year","shared"]},{name:"year",use:["calendar","month-year","shared","year-mode"]},{name:"action-buttons",use:["action"]},{name:"action-preview",use:["action"]},{name:"calendar-header",use:["calendar","shared"]},{name:"marker-tooltip",use:["calendar","shared"]},{name:"action-extra",use:["menu"]},{name:"time-picker-overlay",use:["calendar","time","shared"]},{name:"am-pm-button",use:["calendar","time","shared"]},{name:"left-sidebar",use:["menu"]},{name:"right-sidebar",use:["menu"]},{name:"month-year",use:["month-year","shared"]},{name:"time-picker",use:["menu","shared"]},{name:"action-row",use:["action"]},{name:"marker",use:["calendar","shared"]},{name:"quarter",use:["shared"]}],Whe=[{name:"trigger"},{name:"input-icon"},{name:"clear-icon"},{name:"dp-input"}],zhe={all:()=>Ho,monthYear:()=>Ho.filter(t=>t.use.includes("month-year")),input:()=>Whe,timePicker:()=>Ho.filter(t=>t.use.includes("time")),action:()=>Ho.filter(t=>t.use.includes("action")),calendar:()=>Ho.filter(t=>t.use.includes("calendar")),menu:()=>Ho.filter(t=>t.use.includes("menu")),shared:()=>Ho.filter(t=>t.use.includes("shared")),yearMode:()=>Ho.filter(t=>t.use.includes("year-mode"))},Vi=(t,e,n)=>{const r=[];return zhe[e]().forEach(i=>{t[i.name]&&r.push(i.name)}),n!=null&&n.length&&n.forEach(i=>{i.slot&&r.push(i.slot)}),r},Df=t=>{const e=ee(()=>r=>t.value?r?t.value.open:t.value.close:""),n=ee(()=>r=>t.value?r?t.value.menuAppearTop:t.value.menuAppearBottom:"");return{transitionName:e,showTransition:!!t.value,menuTransition:n}},Nf=(t,e)=>{const n=Re(_s(new Date,t.timezone)),r=ie([{month:Wt(n),year:At(n)}]),i=Pr({hours:t.range?[bs(n),bs(n)]:bs(n),minutes:t.range?[js(n),js(n)]:js(n),seconds:t.range?[0,0]:0}),s=ee({get:()=>t.internalModelValue,set:l=>{!t.readonly&&!t.disabled&&e("update:internal-model-value",l)}}),o=ee(()=>l=>r.value[l]?r.value[l].month:0),a=ee(()=>l=>r.value[l]?r.value[l].year:0);return{calendars:r,time:i,modelValue:s,month:o,year:a}},Khe=(t,e)=>{const{defaultedMultiCalendars:n,defaultedHighlight:r}=ir(e),{isDisabled:i,matchDate:s}=Gl(e),o=ie(null),a=ie(Re(_s(new Date,e.timezone))),l=z=>{!z.current&&e.hideOffsetDates||(o.value=z.value)},u=()=>{o.value=null},c=z=>Array.isArray(t.value)&&e.range&&t.value[0]&&o.value?z?ti(o.value,t.value[0]):Lr(o.value,t.value[0]):!0,d=(z,V)=>{const ue=()=>t.value?V?t.value[0]||null:t.value[1]:null,oe=t.value&&Array.isArray(t.value)?ue():null;return nn(Re(z.value),oe)},h=z=>{const V=Array.isArray(t.value)?t.value[0]:null;return z?!Lr(o.value??null,V):!0},p=(z,V=!0)=>(e.range||e.weekPicker)&&Array.isArray(t.value)&&t.value.length===2?e.hideOffsetDates&&!z.current?!1:nn(Re(z.value),t.value[V?0:1]):e.range?d(z,V)&&h(V)||nn(z.value,Array.isArray(t.value)?t.value[0]:null)&&c(V):!1,m=(z,V,ue)=>Array.isArray(t.value)&&t.value[0]&&t.value.length===1?z?!1:ue?ti(t.value[0],V.value):Lr(t.value[0],V.value):!1,g=z=>!t.value||e.hideOffsetDates&&!z.current?!1:e.range?e.modelAuto&&Array.isArray(t.value)?nn(z.value,t.value[0]?t.value[0]:a.value):!1:e.multiDates&&Array.isArray(t.value)?t.value.some(V=>nn(V,z.value)):nn(z.value,t.value?t.value:a.value),y=z=>{if(e.autoRange||e.weekPicker){if(o.value){if(e.hideOffsetDates&&!z.current)return!1;const V=co(o.value,+e.autoRange),ue=sm(Re(o.value),e.timezone,e.weekStart);return e.weekPicker?nn(ue[1],Re(z.value)):nn(V,Re(z.value))}return!1}return!1},P=z=>{if(e.autoRange||e.weekPicker){if(o.value){const V=co(o.value,+e.autoRange);if(e.hideOffsetDates&&!z.current)return!1;const ue=sm(Re(o.value),e.timezone,e.weekStart);return e.weekPicker?ti(z.value,ue[0])&&Lr(z.value,ue[1]):ti(z.value,o.value)&&Lr(z.value,V)}return!1}return!1},I=z=>{if(e.autoRange||e.weekPicker){if(o.value){if(e.hideOffsetDates&&!z.current)return!1;const V=sm(Re(o.value),e.timezone,e.weekStart);return e.weekPicker?nn(V[0],z.value):nn(o.value,z.value)}return!1}return!1},S=z=>kv(t.value,o.value,z.value),T=()=>e.modelAuto&&Array.isArray(e.internalModelValue)?!!e.internalModelValue[0]:!1,M=()=>e.modelAuto?ML(e.internalModelValue):!0,R=z=>{if(Array.isArray(t.value)&&t.value.length||e.weekPicker)return!1;const V=e.range?!p(z)&&!p(z,!1):!0;return!i(z.value)&&!g(z)&&!(!z.current&&e.hideOffsetDates)&&V},C=z=>e.range?e.modelAuto?T()&&g(z):!1:g(z),E=z=>{var V;return r.value?typeof r.value=="function"?r.value(z.value):s(z.value,(V=e.arrMapValues)!=null&&V.highlightedDates?e.arrMapValues.highlightedDates:r.value.dates):!1},b=z=>{const V=i(z.value);return V&&(typeof r.value=="function"?!r.value(z.value,V):!r.value.options.highlightDisabled)},w=z=>{var V;return typeof r.value=="function"?r.value(z.value):(V=r.value.weekdays)==null?void 0:V.includes(z.value.getDay())},k=z=>(e.range||e.weekPicker)&&(!(n.value.count>0)||z.current)&&M()&&!(!z.current&&e.hideOffsetDates)&&!g(z)?S(z):!1,x=z=>{const{isRangeStart:V,isRangeEnd:ue}=U(z),oe=e.range?V||ue:!1;return{dp__cell_offset:!z.current,dp__pointer:!e.disabled&&!(!z.current&&e.hideOffsetDates)&&!i(z.value),dp__cell_disabled:i(z.value),dp__cell_highlight:!b(z)&&(E(z)||w(z))&&!C(z)&&!oe&&!I(z)&&!(k(z)&&e.weekPicker)&&!ue,dp__cell_highlight_active:!b(z)&&(E(z)||w(z))&&C(z),dp__today:!e.noToday&&nn(z.value,a.value)&&z.current}},O=z=>({dp__active_date:C(z),dp__date_hover:R(z)}),j=z=>({...$(z),...q(z),dp__range_between_week:k(z)&&e.weekPicker}),U=z=>{const V=n.value.count>0?z.current&&p(z)&&M():p(z)&&M(),ue=n.value.count>0?z.current&&p(z,!1)&&M():p(z,!1)&&M();return{isRangeStart:V,isRangeEnd:ue}},$=z=>{const{isRangeStart:V,isRangeEnd:ue}=U(z);return{dp__range_start:V,dp__range_end:ue,dp__range_between:k(z)&&!e.weekPicker,dp__date_hover_start:m(R(z),z,!0),dp__date_hover_end:m(R(z),z,!1)}},q=z=>({...$(z),dp__cell_auto_range:P(z),dp__cell_auto_range_start:I(z),dp__cell_auto_range_end:y(z)}),te=z=>e.range?e.autoRange?q(z):e.modelAuto?{...O(z),...$(z)}:$(z):e.weekPicker?j(z):O(z);return{setHoverDate:l,clearHoverDate:u,getDayClassData:z=>e.hideOffsetDates&&!z.current?{}:{...x(z),...te(z),[e.dayClass?e.dayClass(z.value):""]:!0,[e.calendarCellClassName]:!!e.calendarCellClassName}}},Gl=t=>{const{defaultedFilters:e,defaultedHighlight:n}=ir(t),r=()=>{if(t.timezone)return t.timezone;if(t.utc)return"UTC"},i=w=>{const k=ii(s(Re(w))).toISOString(),[x]=k.split("T");return x},s=w=>t.utc==="preserve"?$L(w,r()):_s(w,r()),o=w=>{var k;const x=t.maxDate?ti(w,s(Re(t.maxDate))):!1,O=t.minDate?Lr(w,s(Re(t.minDate))):!1,j=c(s(w),(k=t.arrMapValues)!=null&&k.disabledDates?t.arrMapValues.disabledDates:t.disabledDates),U=e.value.months.map(V=>+V).includes(Wt(w)),$=t.disabledWeekDays.length?t.disabledWeekDays.some(V=>+V===_ce(w)):!1,q=h(w),te=At(w),z=te<+t.yearRange[0]||te>+t.yearRange[1];return!(x||O||j||U||z||$||q)},a=(w,k)=>Lr(...la(t.minDate,w,k))||nn(...la(t.minDate,w,k)),l=(w,k)=>ti(...la(t.maxDate,w,k))||nn(...la(t.maxDate,w,k)),u=(w,k,x)=>{let O=!1;return t.maxDate&&x&&l(w,k)&&(O=!0),t.minDate&&!x&&a(w,k)&&(O=!0),O},c=(w,k)=>w?k instanceof Map?!!k.get(i(w)):Array.isArray(k)?k.some(x=>nn(s(Re(x)),w)):k?k(Re(JSON.parse(JSON.stringify(w)))):!1:!0,d=(w,k,x,O)=>{let j=!1;return O?t.minDate&&t.maxDate?j=u(w,k,x):(t.minDate&&a(w,k)||t.maxDate&&l(w,k))&&(j=!0):j=!0,j},h=w=>{var k,x,O,j,U;return Array.isArray(t.allowedDates)&&!((k=t.allowedDates)!=null&&k.length)?!0:(x=t.arrMapValues)!=null&&x.allowedDates?!c(w,(O=t.arrMapValues)==null?void 0:O.allowedDates):(j=t.allowedDates)!=null&&j.length?!((U=t.allowedDates)!=null&&U.some($=>nn(ii($),s(ii(w))))):!1},p=w=>!o(w),m=w=>t.noDisabledRange?!cL({start:w[0],end:w[1]}).some(k=>p(k)):!0,g=(w,k,x=0)=>{if(Array.isArray(k)&&k[x]){const O=due(w,k[x]),j=FL(k[x],w),U=j.length===1?0:j.filter(q=>p(q)).length,$=Math.abs(O)-U;if(t.minRange&&t.maxRange)return $>=+t.minRange&&$<=+t.maxRange;if(t.minRange)return $>=+t.minRange;if(t.maxRange)return $<=+t.maxRange}return!0},y=w=>new Map(w.map(k=>[i(k),!0])),P=w=>Array.isArray(w)&&w.length>0,I=()=>{const w={disabledDates:null,allowedDates:null,highlightedDates:null};return P(t.allowedDates)&&(w.allowedDates=y(t.allowedDates)),typeof n.value!="function"&&P(n.value.dates)&&(w.highlightedDates=y(n.value.dates)),P(t.disabledDates)&&(w.disabledDates=y(t.disabledDates)),w},S=()=>!t.enableTimePicker||t.monthPicker||t.yearPicker||t.ignoreTimeValidation,T=w=>Array.isArray(w)?[w[0]?hb(w[0]):null,w[1]?hb(w[1]):null]:hb(w),M=(w,k,x)=>w.find(O=>+O.hours===bs(k)&&O.minutes==="*"?!0:+O.minutes===js(k)&&+O.hours===bs(k))&&x,R=(w,k,x)=>{const[O,j]=w,[U,$]=k;return!M(O,U,x)&&!M(j,$,x)&&x},C=(w,k)=>{const x=Array.isArray(k)?k:[k];return Array.isArray(t.disabledTimes)?Array.isArray(t.disabledTimes[0])?R(t.disabledTimes,x,w):!x.some(O=>M(t.disabledTimes,O,w)):w},E=(w,k)=>{const x=Array.isArray(k)?[vl(k[0]),k[1]?vl(k[1]):void 0]:vl(k),O=!t.disabledTimes(x);return w&&O},b=(w,k)=>t.disabledTimes?Array.isArray(t.disabledTimes)?C(k,w):E(k,w):k;return{isDisabled:p,validateDate:o,validateMonthYearInRange:d,isDateRangeAllowed:m,checkMinMaxRange:g,matchDate:c,mapDatesArrToMap:I,isValidTime:w=>{let k=!0;if(!w||S())return!0;const x=!t.minDate&&!t.maxDate?T(w):w;return(t.maxTime||t.maxDate)&&(k=MP(t.maxTime,t.maxDate,"max",wr(x),k)),(t.minTime||t.minDate)&&(k=MP(t.minTime,t.minDate,"min",wr(x),k)),b(w,k)}}},Rv=()=>{const t=ee(()=>(r,i)=>r==null?void 0:r.includes(i)),e=ee(()=>(r,i)=>r.count?r.solo?!0:i===0:!0),n=ee(()=>(r,i)=>r.count?r.solo?!0:i===r.count-1:!0);return{hideNavigationButtons:t,showLeftIcon:e,showRightIcon:n}},Ghe=(t,e,n)=>{const r=ie(0),i=Pr({[yl.timePicker]:!t.enableTimePicker||t.timePicker||t.monthPicker,[yl.calendar]:!1,[yl.header]:!1}),s=ee(()=>t.monthPicker),o=d=>{var h;if((h=t.flow)!=null&&h.length){if(!d&&s.value)return c();i[d]=!0,Object.keys(i).filter(p=>!i[p]).length||c()}},a=()=>{var d;(d=t.flow)!=null&&d.length&&r.value!==-1&&(r.value+=1,e("flow-step",r.value),c())},l=()=>{r.value=-1},u=(d,h,...p)=>{t.flow[r.value]===d&&n.value&&n.value[h](...p)},c=()=>{u(Ps.month,"toggleMonthPicker",!0),u(Ps.year,"toggleYearPicker",!0),u(Ps.calendar,"toggleTimePicker",!1,!0),u(Ps.time,"toggleTimePicker",!0,!0);const d=t.flow[r.value];(d===Ps.hours||d===Ps.minutes||d===Ps.seconds)&&u(d,"toggleTimePicker",!0,!0,d)};return{childMount:o,updateFlowStep:a,resetFlow:l,flowStep:r}},xv={multiCalendars:{type:[Boolean,Number,String,Object],default:void 0},modelValue:{type:[String,Date,Array,Object,Number],default:null},modelType:{type:String,default:null},position:{type:String,default:"center"},dark:{type:Boolean,default:!1},format:{type:[String,Function],default:()=>null},autoPosition:{type:Boolean,default:!0},altPosition:{type:Function,default:null},transitions:{type:[Boolean,Object],default:!0},formatLocale:{type:Object,default:null},utc:{type:[Boolean,String],default:!1},ariaLabels:{type:Object,default:()=>({})},offset:{type:[Number,String],default:10},hideNavigation:{type:Array,default:()=>[]},timezone:{type:String,default:null},emitTimezone:{type:String,default:null},vertical:{type:Boolean,default:!1},disableMonthYearSelect:{type:Boolean,default:!1},disableYearSelect:{type:Boolean,default:!1},menuClassName:{type:String,default:null},dayClass:{type:Function,default:null},yearRange:{type:Array,default:()=>[1900,2100]},calendarCellClassName:{type:String,default:null},enableTimePicker:{type:Boolean,default:!0},autoApply:{type:Boolean,default:!1},disabledDates:{type:[Array,Function],default:()=>[]},monthNameFormat:{type:String,default:"short"},startDate:{type:[Date,String],default:null},startTime:{type:[Object,Array],default:null},hideOffsetDates:{type:Boolean,default:!1},autoRange:{type:[Number,String],default:null},noToday:{type:Boolean,default:!1},disabledWeekDays:{type:Array,default:()=>[]},allowedDates:{type:Array,default:null},nowButtonLabel:{type:String,default:"Now"},markers:{type:Array,default:()=>[]},escClose:{type:Boolean,default:!0},spaceConfirm:{type:Boolean,default:!0},monthChangeOnArrows:{type:Boolean,default:!0},presetDates:{type:Array,default:()=>[]},flow:{type:Array,default:()=>[]},partialFlow:{type:Boolean,default:!1},preventMinMaxNavigation:{type:Boolean,default:!1},minRange:{type:[Number,String],default:null},maxRange:{type:[Number,String],default:null},multiDatesLimit:{type:[Number,String],default:null},reverseYears:{type:Boolean,default:!1},weekPicker:{type:Boolean,default:!1},filters:{type:Object,default:()=>({})},arrowNavigation:{type:Boolean,default:!1},disableTimeRangeValidation:{type:Boolean,default:!1},highlight:{type:[Array,Function,Object],default:null},highlightWeekDays:{type:Array,default:null},highlightDisabledDays:{type:Boolean,default:!1},teleport:{type:[String,Boolean,Object],default:null},teleportCenter:{type:Boolean,default:!1},locale:{type:String,default:"en-Us"},weekNumName:{type:String,default:"W"},weekStart:{type:[Number,String],default:1},weekNumbers:{type:[String,Function,Object],default:null},calendarClassName:{type:String,default:null},monthChangeOnScroll:{type:[Boolean,String],default:!0},dayNames:{type:[Function,Array],default:null},monthPicker:{type:Boolean,default:!1},customProps:{type:Object,default:null},yearPicker:{type:Boolean,default:!1},modelAuto:{type:Boolean,default:!1},selectText:{type:String,default:"Select"},cancelText:{type:String,default:"Cancel"},previewFormat:{type:[String,Function],default:()=>""},multiDates:{type:Boolean,default:!1},partialRange:{type:Boolean,default:!0},ignoreTimeValidation:{type:Boolean,default:!1},minDate:{type:[Date,String],default:null},maxDate:{type:[Date,String],default:null},minTime:{type:Object,default:null},maxTime:{type:Object,default:null},name:{type:String,default:null},placeholder:{type:String,default:""},hideInputIcon:{type:Boolean,default:!1},clearable:{type:Boolean,default:!0},state:{type:Boolean,default:null},required:{type:Boolean,default:!1},autocomplete:{type:String,default:"off"},inputClassName:{type:String,default:null},fixedStart:{type:Boolean,default:!1},fixedEnd:{type:Boolean,default:!1},timePicker:{type:Boolean,default:!1},enableSeconds:{type:Boolean,default:!1},is24:{type:Boolean,default:!0},noHoursOverlay:{type:Boolean,default:!1},noMinutesOverlay:{type:Boolean,default:!1},noSecondsOverlay:{type:Boolean,default:!1},hoursGridIncrement:{type:[String,Number],default:1},minutesGridIncrement:{type:[String,Number],default:5},secondsGridIncrement:{type:[String,Number],default:5},hoursIncrement:{type:[Number,String],default:1},minutesIncrement:{type:[Number,String],default:1},secondsIncrement:{type:[Number,String],default:1},range:{type:Boolean,default:!1},uid:{type:String,default:null},disabled:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},inline:{type:[Boolean,Object],default:!1},textInput:{type:[Boolean,Object],default:!1},noDisabledRange:{type:Boolean,default:!1},sixWeeks:{type:[Boolean,String],default:!1},actionRow:{type:Object,default:()=>({})},focusStartDate:{type:Boolean,default:!1},disabledTimes:{type:[Function,Array],default:void 0},showLastInRange:{type:Boolean,default:!0},timePickerInline:{type:Boolean,default:!1},calendar:{type:Function,default:null},config:{type:Object,default:void 0},quarterPicker:{type:Boolean,default:!1},yearFirst:{type:Boolean,default:!1}},Ss={...xv,shadow:{type:Boolean,default:!1},flowStep:{type:Number,default:0},internalModelValue:{type:[Date,Array],default:null},arrMapValues:{type:Object,default:()=>({})},noOverlayFocus:{type:Boolean,default:!1}},Yhe={key:1,class:"dp__input_wrap"},Xhe=["id","name","inputmode","placeholder","disabled","readonly","required","value","autocomplete","aria-label","aria-disabled","aria-invalid"],Qhe={key:2,class:"dp__clear_icon"},Jhe=xe({compatConfig:{MODE:3},__name:"DatepickerInput",props:{isMenuOpen:{type:Boolean,default:!1},inputValue:{type:String,default:""},...xv},emits:["clear","open","update:input-value","set-input-date","close","select-date","set-empty-date","toggle","focus-prev","focus","blur","real-blur"],setup(t,{expose:e,emit:n}){const r=n,i=t,{defaultedTextInput:s,defaultedAriaLabels:o,defaultedInline:a,defaultedConfig:l,getDefaultPattern:u,getDefaultStartTime:c}=ir(i),{checkMinMaxRange:d}=Gl(i),h=ie(),p=ie(null),m=ie(!1),g=ie(!1),y=ee(()=>({dp__pointer:!i.disabled&&!i.readonly&&!s.value.enabled,dp__disabled:i.disabled,dp__input_readonly:!s.value.enabled,dp__input:!0,dp__input_icon_pad:!i.hideInputIcon,dp__input_valid:!!i.state,dp__input_invalid:i.state===!1,dp__input_focus:m.value||i.isMenuOpen,dp__input_reg:!s.value.enabled,[i.inputClassName]:!!i.inputClassName})),P=()=>{r("set-input-date",null),i.autoApply&&(r("set-empty-date"),h.value=null)},I=j=>{const U=c();return Ehe(j,s.value.format??u(),U??UL({},i.enableSeconds),i.inputValue,g.value)},S=j=>{const{rangeSeparator:U}=s.value,[$,q]=j.split(`${U}`);if($){const te=I($.trim()),z=q?I(q.trim()):null,V=te&&z?[te,z]:[te];d(z,V,0)&&(h.value=te?V:null)}},T=()=>{g.value=!0},M=j=>{if(i.range)S(j);else if(i.multiDates){const U=j.split(";");h.value=U.map($=>I($.trim())).filter($=>$)}else h.value=I(j)},R=j=>{var U;const $=typeof j=="string"?j:(U=j.target)==null?void 0:U.value;$!==""?(s.value.openMenu&&!i.isMenuOpen&&r("open"),M($),r("set-input-date",h.value)):P(),g.value=!1,r("update:input-value",$)},C=j=>{s.value.enabled?(M(j.target.value),s.value.enterSubmit&&h_(h.value)&&i.inputValue!==""?(r("set-input-date",h.value,!0),h.value=null):s.value.enterSubmit&&i.inputValue===""&&(h.value=null,r("clear"))):w(j)},E=j=>{s.value.enabled&&s.value.tabSubmit&&M(j.target.value),s.value.tabSubmit&&h_(h.value)&&i.inputValue!==""?(r("set-input-date",h.value,!0,!0),h.value=null):s.value.tabSubmit&&i.inputValue===""&&(h.value=null,r("clear",!0))},b=()=>{var j;m.value=!0,r("focus"),s.value.enabled&&s.value.selectOnFocus&&((j=p.value)==null||j.select())},w=j=>{j.preventDefault(),ya(j,l.value,!0),s.value.enabled&&s.value.openMenu&&!a.value.input&&!i.isMenuOpen?r("open"):s.value.enabled||r("toggle")},k=()=>{r("real-blur"),m.value=!1,(!i.isMenuOpen||a.value.enabled&&a.value.input)&&r("blur"),i.autoApply&&s.value.enabled&&h.value&&!i.isMenuOpen&&(r("set-input-date",h.value),r("select-date"),h.value=null)},x=j=>{ya(j,l.value,!0),r("clear")},O=j=>{if(!s.value.enabled){if(j.code==="Tab")return;j.preventDefault()}};return e({focusInput:()=>{var j;(j=p.value)==null||j.focus({preventScroll:!0})},setParsedDate:j=>{h.value=j}}),(j,U)=>{var $;return N(),W("div",{onClick:w},[j.$slots.trigger&&!j.$slots["dp-input"]&&!A(a).enabled?Te(j.$slots,"trigger",{key:0}):Z("",!0),!j.$slots.trigger&&(!A(a).enabled||A(a).input)?(N(),W("div",Yhe,[j.$slots["dp-input"]&&!j.$slots.trigger&&!A(a).enabled?Te(j.$slots,"dp-input",{key:0,value:t.inputValue,isMenuOpen:t.isMenuOpen,onInput:R,onEnter:C,onTab:E,onClear:x,onBlur:k,onKeypress:O,onPaste:T,openMenu:()=>j.$emit("open"),closeMenu:()=>j.$emit("close"),toggleMenu:()=>j.$emit("toggle")}):Z("",!0),j.$slots["dp-input"]?Z("",!0):(N(),W("input",{key:1,id:j.uid?`dp-input-${j.uid}`:void 0,ref_key:"inputRef",ref:p,name:j.name,class:$e(y.value),inputmode:A(s).enabled?"text":"none",placeholder:j.placeholder,disabled:j.disabled,readonly:j.readonly,required:j.required,value:t.inputValue,autocomplete:j.autocomplete,"aria-label":($=A(o))==null?void 0:$.input,"aria-disabled":j.disabled||void 0,"aria-invalid":j.state===!1?!0:void 0,onInput:R,onKeydown:[bt(C,["enter"]),bt(E,["tab"]),O],onBlur:k,onFocus:b,onKeypress:O,onPaste:T},null,42,Xhe)),v("div",{onClick:U[2]||(U[2]=q=>r("toggle"))},[j.$slots["input-icon"]&&!j.hideInputIcon?(N(),W("span",{key:0,class:"dp__input_icon",onClick:U[0]||(U[0]=q=>r("toggle"))},[Te(j.$slots,"input-icon")])):Z("",!0),!j.$slots["input-icon"]&&!j.hideInputIcon&&!j.$slots["dp-input"]?(N(),ce(A(Uc),{key:1,class:"dp__input_icon dp__input_icons",onClick:U[1]||(U[1]=q=>r("toggle"))})):Z("",!0)]),j.$slots["clear-icon"]&&t.inputValue&&j.clearable&&!j.disabled&&!j.readonly?(N(),W("span",Qhe,[Te(j.$slots,"clear-icon",{clear:x})])):Z("",!0),j.clearable&&!j.$slots["clear-icon"]&&t.inputValue&&!j.disabled&&!j.readonly?(N(),ce(A(kL),{key:3,class:"dp__clear_icon dp__input_icons",onClick:U[3]||(U[3]=kt(q=>x(q),["prevent"]))})):Z("",!0)])):Z("",!0)])}}}),Zhe=["title"],efe={class:"dp__action_buttons"},tfe=["disabled"],nfe=xe({compatConfig:{MODE:3},__name:"ActionRow",props:{menuMount:{type:Boolean,default:!1},calendarWidth:{type:Number,default:0},...Ss},emits:["close-picker","select-date","select-now","invalid-select"],setup(t,{emit:e}){const n=e,r=t,{defaultedActionRow:i,defaultedPreviewFormat:s,defaultedMultiCalendars:o,defaultedTextInput:a,defaultedInline:l,getDefaultPattern:u}=ir(r),{isValidTime:c}=Gl(r),{buildMatrix:d}=$a(),h=ie(null),p=ie(null);$t(()=>{r.arrowNavigation&&d([gr(h),gr(p)],"actionRow")});const m=ee(()=>r.range&&!r.partialRange&&r.internalModelValue?r.internalModelValue.length===2:!0),g=ee(()=>!y.value||!P.value||!m.value),y=ee(()=>!r.enableTimePicker||r.ignoreTimeValidation?!0:c(r.internalModelValue)),P=ee(()=>r.monthPicker?r.range&&Array.isArray(r.internalModelValue)?!r.internalModelValue.filter(w=>!E(w)).length:E(r.internalModelValue):!0),I=()=>{const w=s.value;return r.timePicker||r.monthPicker,w(wr(r.internalModelValue))},S=()=>{const w=r.internalModelValue;return o.value.count>0?`${T(w[0])} - ${T(w[1])}`:[T(w[0]),T(w[1])]},T=w=>BL(w,s.value,r.formatLocale,a.value.rangeSeparator,r.modelAuto,u()),M=ee(()=>!r.internalModelValue||!r.menuMount?"":typeof s.value=="string"?Array.isArray(r.internalModelValue)?r.internalModelValue.length===2&&r.internalModelValue[1]?S():r.multiDates?r.internalModelValue.map(w=>`${T(w)}`):r.modelAuto?`${T(r.internalModelValue[0])}`:`${T(r.internalModelValue[0])} -`:T(r.internalModelValue):I()),R=()=>r.multiDates?"; ":" - ",C=ee(()=>Array.isArray(M.value)?M.value.join(R()):M.value),E=w=>{if(!r.monthPicker)return!0;let k=!0;const x=Re(hs(w));if(r.minDate&&r.maxDate){const O=Re(hs(r.minDate)),j=Re(hs(r.maxDate));return ti(x,O)&&Lr(x,j)||nn(x,O)||nn(x,j)}if(r.minDate){const O=Re(hs(r.minDate));k=ti(x,O)||nn(x,O)}if(r.maxDate){const O=Re(hs(r.maxDate));k=Lr(x,O)||nn(x,O)}return k},b=()=>{y.value&&P.value&&m.value?n("select-date"):n("invalid-select")};return(w,k)=>(N(),W("div",{class:"dp__action_row",style:ur(t.calendarWidth?{width:`${t.calendarWidth}px`}:{})},[w.$slots["action-row"]?Te(w.$slots,"action-row",Ln(le({key:0},{internalModelValue:w.internalModelValue,disabled:g.value,selectDate:()=>w.$emit("select-date"),closePicker:()=>w.$emit("close-picker")}))):(N(),W(Pe,{key:1},[A(i).showPreview?(N(),W("div",{key:0,class:"dp__selection_preview",title:C.value},[w.$slots["action-preview"]?Te(w.$slots,"action-preview",{key:0,value:w.internalModelValue}):Z("",!0),w.$slots["action-preview"]?Z("",!0):(N(),W(Pe,{key:1},[K(Fe(C.value),1)],64))],8,Zhe)):Z("",!0),v("div",efe,[w.$slots["action-buttons"]?Te(w.$slots,"action-buttons",{key:0,value:w.internalModelValue}):Z("",!0),w.$slots["action-buttons"]?Z("",!0):(N(),W(Pe,{key:1},[!A(l).enabled&&A(i).showCancel?(N(),W("button",{key:0,ref_key:"cancelButtonRef",ref:h,type:"button",class:"dp__action_button dp__action_cancel",onClick:k[0]||(k[0]=x=>w.$emit("close-picker")),onKeydown:[k[1]||(k[1]=bt(x=>w.$emit("close-picker"),["enter"])),k[2]||(k[2]=bt(x=>w.$emit("close-picker"),["space"]))]},Fe(w.cancelText),545)):Z("",!0),A(i).showNow?(N(),W("button",{key:1,ref_key:"cancelButtonRef",ref:h,type:"button",class:"dp__action_button dp__action_cancel",onClick:k[3]||(k[3]=x=>w.$emit("select-now")),onKeydown:[k[4]||(k[4]=bt(x=>w.$emit("select-now"),["enter"])),k[5]||(k[5]=bt(x=>w.$emit("select-now"),["space"]))]},Fe(w.nowButtonLabel),545)):Z("",!0),A(i).showSelect?(N(),W("button",{key:2,ref_key:"selectButtonRef",ref:p,type:"button",class:"dp__action_button dp__action_select",disabled:g.value,onKeydown:[bt(b,["enter"]),bt(b,["space"])],onClick:b},Fe(w.selectText),41,tfe)):Z("",!0)],64))])],64))],4))}}),rfe=["onKeydown"],ife={class:"dp__selection_grid_header"},sfe=["aria-selected","aria-disabled","onClick","onKeydown","onMouseover"],ofe=["aria-label"],Mf=xe({__name:"SelectionOverlay",props:{items:{},type:{},isLast:{type:Boolean},arrowNavigation:{type:Boolean},skipButtonRef:{type:Boolean},headerRefs:{},hideNavigation:{},escClose:{type:Boolean},useRelative:{type:Boolean},height:{},textInput:{type:[Boolean,Object]},config:{},noOverlayFocus:{type:Boolean},focusValue:{}},emits:["selected","toggle","reset-flow","hover-value"],setup(t,{expose:e,emit:n}){const{setSelectionGrid:r,buildMultiLevelMatrix:i,setMonthPicker:s}=$a(),o=n,a=t,{defaultedAriaLabels:l,defaultedTextInput:u,defaultedConfig:c}=ir(a),{hideNavigationButtons:d}=Rv(),h=ie(!1),p=ie(null),m=ie(null),g=ie([]),y=ie(),P=ie(null),I=ie(0),S=ie(null);L_(()=>{p.value=null}),$t(()=>{rr().then(()=>k()),a.noOverlayFocus||M(),T(!0)}),Gs(()=>T(!1));const T=z=>{var V;a.arrowNavigation&&((V=a.headerRefs)!=null&&V.length?s(z):r(z))},M=()=>{var z;const V=gr(m);V&&(u.value.enabled||(p.value?(z=p.value)==null||z.focus({preventScroll:!0}):V.focus({preventScroll:!0})),h.value=V.clientHeight<V.scrollHeight)},R=ee(()=>({dp__overlay:!0,"dp--overlay-absolute":!a.useRelative,"dp--overlay-relative":a.useRelative})),C=ee(()=>a.useRelative?{height:`${a.height}px`,width:"260px"}:void 0),E=ee(()=>({dp__overlay_col:!0})),b=ee(()=>({dp__btn:!0,dp__button:!0,dp__overlay_action:!0,dp__over_action_scroll:h.value,dp__button_bottom:a.isLast})),w=ee(()=>{var z,V;return{dp__overlay_container:!0,dp__container_flex:((z=a.items)==null?void 0:z.length)<=6,dp__container_block:((V=a.items)==null?void 0:V.length)>6}});pn(()=>a.items,()=>k(),{deep:!0});const k=()=>{rr().then(()=>{const z=gr(p),V=gr(m),ue=gr(P),oe=gr(S),ve=ue?ue.getBoundingClientRect().height:0;V&&(V.getBoundingClientRect().height?I.value=V.getBoundingClientRect().height-ve:I.value=c.value.modeHeight-ve),z&&oe&&(oe.scrollTop=z.offsetTop-oe.offsetTop-(I.value/2-z.getBoundingClientRect().height)-ve)})},x=z=>{z.disabled||o("selected",z.value)},O=()=>{o("toggle"),o("reset-flow")},j=()=>{a.escClose&&O()},U=(z,V,ue,oe)=>{z&&((V.active||V.value===a.focusValue)&&(p.value=z),a.arrowNavigation&&(Array.isArray(g.value[ue])?g.value[ue][oe]=z:g.value[ue]=[z],$()))},$=()=>{var z,V;const ue=(z=a.headerRefs)!=null&&z.length?[a.headerRefs].concat(g.value):g.value.concat([a.skipButtonRef?[]:[P.value]]);i(wr(ue),(V=a.headerRefs)!=null&&V.length?"monthPicker":"selectionGrid")},q=z=>{a.arrowNavigation||ya(z,c.value,!0)},te=z=>{y.value=z,o("hover-value",z)};return e({focusGrid:M}),(z,V)=>{var ue;return N(),W("div",{ref_key:"gridWrapRef",ref:m,class:$e(R.value),style:ur(C.value),role:"dialog",tabindex:"0",onKeydown:[bt(kt(j,["prevent"]),["esc"]),V[0]||(V[0]=bt(kt(oe=>q(oe),["prevent"]),["left"])),V[1]||(V[1]=bt(kt(oe=>q(oe),["prevent"]),["up"])),V[2]||(V[2]=bt(kt(oe=>q(oe),["prevent"]),["down"])),V[3]||(V[3]=bt(kt(oe=>q(oe),["prevent"]),["right"]))]},[v("div",{ref_key:"containerRef",ref:S,class:$e(w.value),role:"grid",style:ur({height:`${I.value}px`})},[v("div",ife,[Te(z.$slots,"header")]),z.$slots.overlay?Te(z.$slots,"overlay",{key:0}):(N(!0),W(Pe,{key:1},ht(z.items,(oe,ve)=>(N(),W("div",{key:ve,class:$e(["dp__overlay_row",{dp__flex_row:z.items.length>=3}]),role:"row"},[(N(!0),W(Pe,null,ht(oe,(Se,he)=>(N(),W("div",{key:Se.value,ref_for:!0,ref:Y=>U(Y,Se,ve,he),role:"gridcell",class:$e(E.value),"aria-selected":Se.active,"aria-disabled":Se.disabled||void 0,tabindex:"0",onClick:Y=>x(Se),onKeydown:[bt(kt(Y=>x(Se),["prevent"]),["enter"]),bt(kt(Y=>x(Se),["prevent"]),["space"])],onMouseover:Y=>te(Se.value)},[v("div",{class:$e(Se.className)},[z.$slots.item?Te(z.$slots,"item",{key:0,item:Se}):Z("",!0),z.$slots.item?Z("",!0):(N(),W(Pe,{key:1},[K(Fe(Se.text),1)],64))],2)],42,sfe))),128))],2))),128))],6),z.$slots["button-icon"]?Fi((N(),W("button",{key:0,ref_key:"toggleButton",ref:P,type:"button","aria-label":(ue=A(l))==null?void 0:ue.toggleOverlay,class:$e(b.value),tabindex:"0",onClick:O,onKeydown:[bt(O,["enter"]),bt(O,["tab"])]},[Te(z.$slots,"button-icon")],42,ofe)),[[Ls,!A(d)(z.hideNavigation,z.type)]]):Z("",!0)],46,rfe)}}}),Dv=xe({__name:"InstanceWrap",props:{multiCalendars:{},stretch:{type:Boolean}},setup(t){const e=t,n=ee(()=>e.multiCalendars>0?[...Array(e.multiCalendars).keys()]:[0]),r=ee(()=>({dp__instance_calendar:e.multiCalendars>0}));return(i,s)=>(N(),W("div",{class:$e({dp__menu_inner:!i.stretch,"dp--menu--inner-stretched":i.stretch,dp__flex_display:i.multiCalendars>0})},[(N(!0),W(Pe,null,ht(n.value,(o,a)=>(N(),W("div",{key:o,class:$e(r.value)},[Te(i.$slots,"default",{instance:o,index:a})],2))),128))],2))}}),afe=["aria-label","aria-disabled"],lh=xe({compatConfig:{MODE:3},__name:"ArrowBtn",props:{ariaLabel:{},disabled:{type:Boolean}},emits:["activate","set-ref"],setup(t,{emit:e}){const n=e,r=ie(null);return $t(()=>n("set-ref",r)),(i,s)=>(N(),W("button",{ref_key:"elRef",ref:r,type:"button",class:"dp__btn dp--arrow-btn-nav",tabindex:"0","aria-label":i.ariaLabel,"aria-disabled":i.disabled||void 0,onClick:s[0]||(s[0]=o=>i.$emit("activate")),onKeydown:[s[1]||(s[1]=bt(kt(o=>i.$emit("activate"),["prevent"]),["enter"])),s[2]||(s[2]=bt(kt(o=>i.$emit("activate"),["prevent"]),["space"]))]},[v("span",{class:$e(["dp__inner_nav",{dp__inner_nav_disabled:i.disabled}])},[Te(i.$slots,"default")],2)],40,afe))}}),lfe={class:"dp--year-mode-picker"},ufe=["aria-label"],WL=xe({__name:"YearModePicker",props:{...Ss,showYearPicker:{type:Boolean,default:!1},items:{type:Array,default:()=>[]},instance:{type:Number,default:0},year:{type:Number,default:0},isDisabled:{type:Function,default:()=>!1}},emits:["toggle-year-picker","year-select","handle-year"],setup(t,{emit:e}){const n=e,r=t,{showRightIcon:i,showLeftIcon:s}=Rv(),{defaultedConfig:o,defaultedMultiCalendars:a,defaultedAriaLabels:l,defaultedTransitions:u}=ir(r),{showTransition:c,transitionName:d}=Df(u),h=(g=!1,y)=>{n("toggle-year-picker",{flow:g,show:y})},p=g=>{n("year-select",g)},m=(g=!1)=>{n("handle-year",g)};return(g,y)=>{var P,I,S;return N(),W("div",lfe,[A(s)(A(a),t.instance)?(N(),ce(lh,{key:0,ref:"mpPrevIconRef","aria-label":(P=A(l))==null?void 0:P.prevYear,disabled:t.isDisabled(!1),onActivate:y[0]||(y[0]=T=>m(!1))},{default:J(()=>[g.$slots["arrow-left"]?Te(g.$slots,"arrow-left",{key:0}):Z("",!0),g.$slots["arrow-left"]?Z("",!0):(N(),ce(A(uT),{key:1}))]),_:3},8,["aria-label","disabled"])):Z("",!0),v("button",{ref:"mpYearButtonRef",class:"dp__btn dp--year-select",type:"button","aria-label":(I=A(l))==null?void 0:I.openYearsOverlay,onClick:y[1]||(y[1]=()=>h(!1)),onKeydown:y[2]||(y[2]=bt(()=>h(!1),["enter"]))},[g.$slots.year?Te(g.$slots,"year",{key:0,year:t.year}):Z("",!0),g.$slots.year?Z("",!0):(N(),W(Pe,{key:1},[K(Fe(t.year),1)],64))],40,ufe),A(i)(A(a),t.instance)?(N(),ce(lh,{key:1,ref:"mpNextIconRef","aria-label":(S=A(l))==null?void 0:S.nextYear,disabled:t.isDisabled(!0),onActivate:y[3]||(y[3]=T=>m(!0))},{default:J(()=>[g.$slots["arrow-right"]?Te(g.$slots,"arrow-right",{key:0}):Z("",!0),g.$slots["arrow-right"]?Z("",!0):(N(),ce(A(cT),{key:1}))]),_:3},8,["aria-label","disabled"])):Z("",!0),B(ns,{name:A(d)(t.showYearPicker),css:A(c)},{default:J(()=>[t.showYearPicker?(N(),ce(Mf,{key:0,items:t.items,"text-input":g.textInput,"esc-close":g.escClose,config:g.config,"is-last":g.autoApply&&!A(o).keepActionRow,"hide-navigation":g.hideNavigation,type:"year",onToggle:h,onSelected:y[4]||(y[4]=T=>p(T))},dr({"button-icon":J(()=>[g.$slots["calendar-icon"]?Te(g.$slots,"calendar-icon",{key:0}):Z("",!0),g.$slots["calendar-icon"]?Z("",!0):(N(),ce(A(Uc),{key:1}))]),_:2},[g.$slots["year-overlay-value"]?{name:"item",fn:J(({item:T})=>[Te(g.$slots,"year-overlay-value",{text:T.text,value:T.value})]),key:"0"}:void 0]),1032,["items","text-input","esc-close","config","is-last","hide-navigation"])):Z("",!0)]),_:3},8,["name","css"])])}}}),bT=(t,e,n)=>{if(e.value&&Array.isArray(e.value))if(e.value.some(r=>nn(t,r))){const r=e.value.filter(i=>!nn(i,t));e.value=r.length?r:null}else(n&&+n>e.value.length||!n)&&e.value.push(t);else e.value=[t]},_T=(t,e,n)=>{let r=t.value?t.value.slice():[];return r.length===2&&r[1]!==null&&(r=[]),r.length?Lr(e,r[0])?(r.unshift(e),n("range-start",r[0]),n("range-start",r[1])):(r[1]=e,n("range-end",e)):(r=[e],n("range-start",e)),t.value=r,r},Nv=(t,e,n,r)=>{t[0]&&t[1]&&n&&e("auto-apply"),t[0]&&!t[1]&&r&&n&&e("auto-apply")},zL=t=>{Array.isArray(t.value)&&t.value.length<=2&&t.range?t.modelValue.value=t.value.map(e=>_s(Re(e),t.timezone)):Array.isArray(t.value)||(t.modelValue.value=_s(Re(t.value),t.timezone))},KL=({multiCalendars:t,highlight:e,calendars:n,modelValue:r,props:i,year:s,month:o,emit:a})=>{const l=ee(()=>vT(i.yearRange,i.reverseYears)),u=ie([!1]),c=ee(()=>(T,M)=>{const R=Pn(hs(new Date),{month:o.value(T),year:s.value(T)});return qL(R,i.maxDate,i.minDate,i.preventMinMaxNavigation,M)}),d=()=>{for(let T=0;T<t.value.count;T++)if(T===0)n.value[T]=n.value[0];else{const M=Pn(Re(),n.value[T-1]);n.value[T]={month:Wt(M),year:At(tT(M,1))}}},h=T=>{if(!T)return d();const M=Pn(Re(),n.value[T]);return n.value[0].year=At(OL(M,t.value.count-1)),d()},p=T=>i.focusStartDate?T[0]:T[1]?T[1]:T[0],m=()=>{if(r.value){const T=Array.isArray(r.value)?p(r.value):r.value;n.value[0]={month:Wt(T),year:At(T)}}};$t(()=>{m(),t.value.count&&d()});const g=(T,M)=>{n.value[M].year=T,t.value.count&&!t.value.solo&&h(M)},y=ee(()=>T=>Sc(l.value,M=>{const R=s.value(T)===M.value,C=Gh(M.value,Ic(i.minDate),Ic(i.maxDate)),E=yT(e.value,M.value);return{active:R,disabled:C,highlighted:E}})),P=(T,M)=>{g(T,M),S(M)},I=(T,M=!1)=>{if(!c.value(T,M)){const R=M?s.value(T)+1:s.value(T)-1;g(R,T)}},S=(T,M=!1,R)=>{M||a("reset-flow"),R!==void 0?u.value[T]=R:u.value[T]=!u.value[T],u.value||a("overlay-closed")};return{isDisabled:c,groupedYears:y,showYearPicker:u,selectYear:g,toggleYearPicker:S,handleYearSelect:P,handleYear:I}},cfe=(t,e)=>{const{defaultedMultiCalendars:n,defaultedAriaLabels:r,defaultedTransitions:i,defaultedConfig:s,defaultedHighlight:o}=ir(t),{modelValue:a,year:l,month:u,calendars:c}=Nf(t,e),d=ee(()=>NL(t.formatLocale,t.locale,t.monthNameFormat)),h=ie(null),{selectYear:p,groupedYears:m,showYearPicker:g,toggleYearPicker:y,handleYearSelect:P,handleYear:I,isDisabled:S}=KL({modelValue:a,multiCalendars:n,highlight:o,calendars:c,year:l,month:u,props:t,emit:e});$t(()=>{t.startDate&&(a.value&&t.focusStartDate||!a.value)&&p(At(Re(t.startDate)),0)});const T=q=>q?{month:Wt(q),year:At(q)}:{month:null,year:null},M=()=>a.value?Array.isArray(a.value)?a.value.map(q=>T(q)):T(a.value):T(),R=(q,te)=>{const z=c.value[q],V=M();return Array.isArray(V)?V.some(ue=>ue.year===(z==null?void 0:z.year)&&ue.month===te):(z==null?void 0:z.year)===V.year&&te===V.month},C=(q,te,z)=>{var V,ue;const oe=M();return Array.isArray(oe)?l.value(te)===((V=oe[z])==null?void 0:V.year)&&q===((ue=oe[z])==null?void 0:ue.month):!1},E=(q,te)=>{if(t.range){const z=M();if(Array.isArray(a.value)&&Array.isArray(z)){const V=C(q,te,0)||C(q,te,1),ue=go(hs(Re()),q,l.value(te));return kv(a.value,h.value,ue)&&!V}return!1}return!1},b=ee(()=>q=>Sc(d.value,te=>{const z=R(q,te.value),V=Gh(te.value,LL(l.value(q),t.minDate),VL(l.value(q),t.maxDate))||khe(t.disabledDates,l.value(q)).includes(te.value),ue=E(te.value,q),oe=jL(o.value,te.value,l.value(q));return{active:z,disabled:V,isBetween:ue,highlighted:oe}})),w=(q,te)=>go(hs(Re()),q,l.value(te)),k=(q,te)=>{const z=a.value?a.value:hs(new Date);a.value=go(z,q,l.value(te)),e("auto-apply")},x=(q,te)=>{const z=_T(a,w(q,te),e);Nv(z,e,t.autoApply,t.modelAuto)},O=(q,te)=>{bT(w(q,te),a,t.multiDatesLimit),e("auto-apply",!0)},j=(q,te)=>(c.value[te].month=q,$(te,c.value[te].year,q),t.multiDates?O(q,te):t.range?x(q,te):k(q,te)),U=(q,te)=>{p(q,te),$(te,q,null)},$=(q,te,z)=>{let V=z;if(!V&&V!==0){const ue=M();V=Array.isArray(ue)?ue[q].month:ue.month}e("update-month-year",{instance:q,year:te,month:V})};return{groupedMonths:b,groupedYears:m,year:l,isDisabled:S,defaultedMultiCalendars:n,defaultedAriaLabels:r,defaultedTransitions:i,defaultedConfig:s,showYearPicker:g,modelValue:a,presetDate:(q,te)=>{zL({value:q,modelValue:a,range:t.range,timezone:te?void 0:t.timezone}),e("auto-apply")},setHoverDate:(q,te)=>{h.value=w(q,te)},selectMonth:j,selectYear:U,toggleYearPicker:y,handleYearSelect:P,handleYear:I,getModelMonthYear:M}},dfe=xe({compatConfig:{MODE:3},__name:"MonthPicker",props:{...Ss},emits:["update:internal-model-value","overlay-closed","reset-flow","range-start","range-end","auto-apply","update-month-year","mount"],setup(t,{expose:e,emit:n}){const r=n,i=xa(),s=Vi(i,"yearMode"),o=t;$t(()=>{o.shadow||r("mount",null)});const{groupedMonths:a,groupedYears:l,year:u,isDisabled:c,defaultedMultiCalendars:d,defaultedConfig:h,showYearPicker:p,modelValue:m,presetDate:g,setHoverDate:y,selectMonth:P,selectYear:I,toggleYearPicker:S,handleYearSelect:T,handleYear:M,getModelMonthYear:R}=cfe(o,r);return e({getSidebarProps:()=>({modelValue:m,year:u,getModelMonthYear:R,selectMonth:P,selectYear:I,handleYear:M}),presetDate:g,toggleYearPicker:C=>S(0,C)}),(C,E)=>(N(),ce(Dv,{"multi-calendars":A(d).count,stretch:""},{default:J(({instance:b})=>[C.$slots["month-year"]?Te(C.$slots,"month-year",Ln(le({key:0},{year:A(u),months:A(a)(b),years:A(l)(b),selectMonth:A(P),selectYear:A(I),instance:b}))):(N(),ce(Mf,{key:1,items:A(a)(b),"arrow-navigation":C.arrowNavigation,"is-last":C.autoApply&&!A(h).keepActionRow,"esc-close":C.escClose,height:A(h).modeHeight,config:C.config,"no-overlay-focus":!!(C.noOverlayFocus||C.textInput),"use-relative":"",type:"month",onSelected:w=>A(P)(w,b),onHoverValue:w=>A(y)(w,b)},{header:J(()=>[B(WL,le(C.$props,{items:A(l)(b),instance:b,"show-year-picker":A(p)[b],year:A(u)(b),"is-disabled":w=>A(c)(b,w),onHandleYear:w=>A(M)(b,w),onYearSelect:w=>A(T)(w,b),onToggleYearPicker:w=>A(S)(b,w==null?void 0:w.flow,w==null?void 0:w.show)}),dr({_:2},[ht(A(s),(w,k)=>({name:w,fn:J(x=>[Te(C.$slots,w,Ln(cr(x)))])}))]),1040,["items","instance","show-year-picker","year","is-disabled","onHandleYear","onYearSelect","onToggleYearPicker"])]),_:2},1032,["items","arrow-navigation","is-last","esc-close","height","config","no-overlay-focus","onSelected","onHoverValue"]))]),_:3},8,["multi-calendars"]))}}),hfe=(t,e)=>{const{modelValue:n}=Nf(t,e),r=ie(null),{defaultedHighlight:i,defaultedFilters:s}=ir(t),o=ie();$t(()=>{t.startDate&&(n.value&&t.focusStartDate||!n.value)&&(o.value=At(Re(t.startDate)))});const a=d=>Array.isArray(n.value)?n.value.some(h=>At(h)===d):n.value?At(n.value)===d:!1,l=d=>t.range&&Array.isArray(n.value)?kv(n.value,r.value,c(d)):!1,u=ee(()=>Sc(vT(t.yearRange,t.reverseYears),d=>{const h=a(d.value),p=Gh(d.value,Ic(t.minDate),Ic(t.maxDate))||s.value.years.includes(d.value),m=l(d.value)&&!h,g=yT(i.value,d.value);return{active:h,disabled:p,isBetween:m,highlighted:g}})),c=d=>Ns(hs(new Date),d);return{groupedYears:u,modelValue:n,focusYear:o,setHoverValue:d=>{r.value=Ns(hs(new Date),d)},selectYear:d=>{var h;if(t.multiDates)return n.value?Array.isArray(n.value)&&(((h=n.value)==null?void 0:h.map(p=>At(p))).includes(d)?n.value=n.value.filter(p=>At(p)!==d):n.value.push(Ns(ii(Re()),d))):n.value=[Ns(ii(Re()),d)],e("auto-apply",!0);if(t.range){const p=_T(n,c(d),e);return Nv(p,e,t.autoApply,t.modelAuto)}n.value=c(d),e("auto-apply")}}},ffe=xe({compatConfig:{MODE:3},__name:"YearPicker",props:{...Ss},emits:["update:internal-model-value","reset-flow","range-start","range-end","auto-apply"],setup(t,{expose:e,emit:n}){const r=n,i=t,{groupedYears:s,modelValue:o,focusYear:a,selectYear:l,setHoverValue:u}=hfe(i,r),{defaultedConfig:c}=ir(i);return e({getSidebarProps:()=>({modelValue:o,selectYear:l})}),(d,h)=>(N(),W("div",null,[d.$slots["month-year"]?Te(d.$slots,"month-year",Ln(le({key:0},{years:A(s),selectYear:A(l)}))):(N(),ce(Mf,{key:1,items:A(s),"is-last":d.autoApply&&!A(c).keepActionRow,height:A(c).modeHeight,config:d.config,"no-overlay-focus":!!(d.noOverlayFocus||d.textInput),"focus-value":A(a),type:"year","use-relative":"",onSelected:A(l),onHoverValue:A(u)},dr({_:2},[d.$slots["year-overlay-value"]?{name:"item",fn:J(({item:p})=>[Te(d.$slots,"year-overlay-value",{text:p.text,value:p.value})]),key:"0"}:void 0]),1032,["items","is-last","height","config","no-overlay-focus","focus-value","onSelected","onHoverValue"]))]))}}),pfe={key:0,class:"dp__time_input"},mfe=["aria-label","onKeydown","onClick"],gfe=v("span",{class:"dp__tp_inline_btn_bar dp__tp_btn_in_l"},null,-1),vfe=v("span",{class:"dp__tp_inline_btn_bar dp__tp_btn_in_r"},null,-1),yfe=["aria-label","disabled","onKeydown","onClick"],bfe=["aria-label","onKeydown","onClick"],_fe=v("span",{class:"dp__tp_inline_btn_bar dp__tp_btn_in_l"},null,-1),wfe=v("span",{class:"dp__tp_inline_btn_bar dp__tp_btn_in_r"},null,-1),Tfe={key:0},Efe=["aria-label","onKeydown"],Sfe=xe({compatConfig:{MODE:3},__name:"TimeInput",props:{hours:{type:Number,default:0},minutes:{type:Number,default:0},seconds:{type:Number,default:0},closeTimePickerBtn:{type:Object,default:null},order:{type:Number,default:0},disabledTimesConfig:{type:Function,default:null},validateTime:{type:Function,default:()=>!1},...Ss},emits:["set-hours","set-minutes","update:hours","update:minutes","update:seconds","reset-flow","mounted","overlay-closed","am-pm-change"],setup(t,{expose:e,emit:n}){const r=n,i=t,{setTimePickerElements:s,setTimePickerBackRef:o}=$a(),{defaultedAriaLabels:a,defaultedTransitions:l,defaultedFilters:u,defaultedConfig:c}=ir(i),{transitionName:d,showTransition:h}=Df(l),p=Pr({hours:!1,minutes:!1,seconds:!1}),m=ie("AM"),g=ie(null),y=ie([]);$t(()=>{r("mounted")});const P=Y=>Pn(new Date,{hours:Y.hours,minutes:Y.minutes,seconds:i.enableSeconds?Y.seconds:0,milliseconds:0}),I=ee(()=>Y=>j(Y,i[Y])||T(Y,i[Y])),S=ee(()=>({hours:i.hours,minutes:i.minutes,seconds:i.seconds})),T=(Y,ne)=>i.range&&!i.disableTimeRangeValidation?!i.validateTime(Y,ne):!1,M=(Y,ne)=>{if(i.range&&!i.disableTimeRangeValidation){const pe=ne?+i[`${Y}Increment`]:-+i[`${Y}Increment`],se=i[Y]+pe;return!i.validateTime(Y,se)}return!1},R=ee(()=>Y=>!$(+i[Y]+ +i[`${Y}Increment`],Y)||M(Y,!0)),C=ee(()=>Y=>!$(+i[Y]-+i[`${Y}Increment`],Y)||M(Y,!1)),E=(Y,ne)=>lL(Pn(Re(),Y),ne),b=(Y,ne)=>qde(Pn(Re(),Y),ne),w=ee(()=>({dp__time_col:!0,dp__time_col_block:!i.timePickerInline,dp__time_col_reg_block:!i.enableSeconds&&i.is24&&!i.timePickerInline,dp__time_col_reg_inline:!i.enableSeconds&&i.is24&&i.timePickerInline,dp__time_col_reg_with_button:!i.enableSeconds&&!i.is24,dp__time_col_sec:i.enableSeconds&&i.is24,dp__time_col_sec_with_button:i.enableSeconds&&!i.is24})),k=ee(()=>{const Y=[{type:"hours"},{type:"",separator:!0},{type:"minutes"}];return i.enableSeconds?Y.concat([{type:"",separator:!0},{type:"seconds"}]):Y}),x=ee(()=>k.value.filter(Y=>!Y.separator)),O=ee(()=>Y=>{if(Y==="hours"){const ne=ue(+i.hours);return{text:ne<10?`0${ne}`:`${ne}`,value:ne}}return{text:i[Y]<10?`0${i[Y]}`:`${i[Y]}`,value:i[Y]}}),j=(Y,ne)=>{var pe;if(!i.disabledTimesConfig)return!1;const se=i.disabledTimesConfig(i.order,Y==="hours"?ne:void 0);return se[Y]?!!((pe=se[Y])!=null&&pe.includes(ne)):!0},U=Y=>{const ne=i.is24?24:12,pe=Y==="hours"?ne:60,se=+i[`${Y}GridIncrement`],_e=Y==="hours"&&!i.is24?se:0,Ce=[];for(let fe=_e;fe<pe;fe+=se)Ce.push({value:fe,text:fe<10?`0${fe}`:`${fe}`});return Y==="hours"&&!i.is24&&Ce.push({value:0,text:"12"}),Sc(Ce,fe=>({active:!1,disabled:u.value.times[Y].includes(fe.value)||!$(fe.value,Y)||j(Y,fe.value)||T(Y,fe.value)}))},$=(Y,ne)=>{const pe=i.minTime?P(ub(i.minTime)):null,se=i.maxTime?P(ub(i.maxTime)):null,_e=P(ub(S.value,ne,Y));return pe&&se?(Kh(_e,se)||ku(_e,se))&&(zh(_e,pe)||ku(_e,pe)):pe?zh(_e,pe)||ku(_e,pe):se?Kh(_e,se)||ku(_e,se):!0},q=Y=>i[`no${Y[0].toUpperCase()+Y.slice(1)}Overlay`],te=Y=>{q(Y)||(p[Y]=!p[Y],p[Y]||r("overlay-closed"))},z=Y=>Y==="hours"?bs:Y==="minutes"?js:Tc,V=(Y,ne=!0)=>{const pe=ne?E:b,se=ne?+i[`${Y}Increment`]:-+i[`${Y}Increment`];$(+i[Y]+se,Y)&&r(`update:${Y}`,z(Y)(pe({[Y]:+i[Y]},{[Y]:+i[`${Y}Increment`]})))},ue=Y=>i.is24?Y:(Y>=12?m.value="PM":m.value="AM",ghe(Y)),oe=()=>{m.value==="PM"?(m.value="AM",r("update:hours",i.hours-12)):(m.value="PM",r("update:hours",i.hours+12)),r("am-pm-change",m.value)},ve=Y=>{p[Y]=!0},Se=(Y,ne,pe)=>{if(Y&&i.arrowNavigation){Array.isArray(y.value[ne])?y.value[ne][pe]=Y:y.value[ne]=[Y];const se=y.value.reduce((_e,Ce)=>Ce.map((fe,L)=>[..._e[L]||[],Ce[L]]),[]);o(i.closeTimePickerBtn),g.value&&(se[1]=se[1].concat(g.value)),s(se,i.order)}},he=(Y,ne)=>(te(Y),Y==="hours"&&!i.is24?r(`update:${Y}`,m.value==="PM"?ne+12:ne):r(`update:${Y}`,ne));return e({openChildCmp:ve}),(Y,ne)=>{var pe;return Y.disabled?Z("",!0):(N(),W("div",pfe,[(N(!0),W(Pe,null,ht(k.value,(se,_e)=>{var Ce,fe,L;return N(),W("div",{key:_e,class:$e(w.value)},[se.separator?(N(),W(Pe,{key:0},[K(" : ")],64)):(N(),W(Pe,{key:1},[v("button",{ref_for:!0,ref:H=>Se(H,_e,0),type:"button",class:$e({dp__btn:!0,dp__inc_dec_button:!Y.timePickerInline,dp__inc_dec_button_inline:Y.timePickerInline,dp__tp_inline_btn_top:Y.timePickerInline,dp__inc_dec_button_disabled:R.value(se.type)}),"aria-label":(Ce=A(a))==null?void 0:Ce.incrementValue(se.type),tabindex:"0",onKeydown:[bt(kt(H=>V(se.type),["prevent"]),["enter"]),bt(kt(H=>V(se.type),["prevent"]),["space"])],onClick:H=>V(se.type)},[i.timePickerInline?(N(),W(Pe,{key:1},[gfe,vfe],64)):(N(),W(Pe,{key:0},[Y.$slots["arrow-up"]?Te(Y.$slots,"arrow-up",{key:0}):Z("",!0),Y.$slots["arrow-up"]?Z("",!0):(N(),ce(A(hT),{key:1}))],64))],42,mfe),v("button",{ref_for:!0,ref:H=>Se(H,_e,1),type:"button","aria-label":(fe=A(a))==null?void 0:fe.openTpOverlay(se.type),class:$e({dp__time_display:!0,dp__time_display_block:!Y.timePickerInline,dp__time_display_inline:Y.timePickerInline,"dp--time-invalid":I.value(se.type),"dp--time-overlay-btn":!I.value(se.type)}),disabled:q(se.type),tabindex:"0",onKeydown:[bt(kt(H=>te(se.type),["prevent"]),["enter"]),bt(kt(H=>te(se.type),["prevent"]),["space"])],onClick:H=>te(se.type)},[Y.$slots[se.type]?Te(Y.$slots,se.type,{key:0,text:O.value(se.type).text,value:O.value(se.type).value}):Z("",!0),Y.$slots[se.type]?Z("",!0):(N(),W(Pe,{key:1},[K(Fe(O.value(se.type).text),1)],64))],42,yfe),v("button",{ref_for:!0,ref:H=>Se(H,_e,2),type:"button",class:$e({dp__btn:!0,dp__inc_dec_button:!Y.timePickerInline,dp__inc_dec_button_inline:Y.timePickerInline,dp__tp_inline_btn_bottom:Y.timePickerInline,dp__inc_dec_button_disabled:C.value(se.type)}),"aria-label":(L=A(a))==null?void 0:L.decrementValue(se.type),tabindex:"0",onKeydown:[bt(kt(H=>V(se.type,!1),["prevent"]),["enter"]),bt(kt(H=>V(se.type,!1),["prevent"]),["space"])],onClick:H=>V(se.type,!1)},[i.timePickerInline?(N(),W(Pe,{key:1},[_fe,wfe],64)):(N(),W(Pe,{key:0},[Y.$slots["arrow-down"]?Te(Y.$slots,"arrow-down",{key:0}):Z("",!0),Y.$slots["arrow-down"]?Z("",!0):(N(),ce(A(fT),{key:1}))],64))],42,bfe)],64))],2)}),128)),Y.is24?Z("",!0):(N(),W("div",Tfe,[Y.$slots["am-pm-button"]?Te(Y.$slots,"am-pm-button",{key:0,toggle:oe,value:m.value}):Z("",!0),Y.$slots["am-pm-button"]?Z("",!0):(N(),W("button",{key:1,ref_key:"amPmButton",ref:g,type:"button",class:"dp__pm_am_button",role:"button","aria-label":(pe=A(a))==null?void 0:pe.amPmButton,tabindex:"0",onClick:oe,onKeydown:[bt(kt(oe,["prevent"]),["enter"]),bt(kt(oe,["prevent"]),["space"])]},Fe(m.value),41,Efe))])),(N(!0),W(Pe,null,ht(x.value,(se,_e)=>(N(),ce(ns,{key:_e,name:A(d)(p[se.type]),css:A(h)},{default:J(()=>[p[se.type]?(N(),ce(Mf,{key:0,items:U(se.type),"is-last":Y.autoApply&&!A(c).keepActionRow,"esc-close":Y.escClose,type:se.type,"text-input":Y.textInput,config:Y.config,"arrow-navigation":Y.arrowNavigation,onSelected:Ce=>he(se.type,Ce),onToggle:Ce=>te(se.type),onResetFlow:ne[0]||(ne[0]=Ce=>Y.$emit("reset-flow"))},dr({"button-icon":J(()=>[Y.$slots["clock-icon"]?Te(Y.$slots,"clock-icon",{key:0}):Z("",!0),Y.$slots["clock-icon"]?Z("",!0):(N(),ce(Nn(Y.timePickerInline?A(Uc):A(dT)),{key:1}))]),_:2},[Y.$slots[`${se.type}-overlay-value`]?{name:"item",fn:J(({item:Ce})=>[Te(Y.$slots,`${se.type}-overlay-value`,{text:Ce.text,value:Ce.value})]),key:"0"}:void 0]),1032,["items","is-last","esc-close","type","text-input","config","arrow-navigation","onSelected","onToggle"])):Z("",!0)]),_:2},1032,["name","css"]))),128))]))}}}),Ife={class:"dp--tp-wrap"},Cfe=["aria-label","tabindex"],Afe=["tabindex"],Pfe=["aria-label"],GL=xe({compatConfig:{MODE:3},__name:"TimePicker",props:{hours:{type:[Number,Array],default:0},minutes:{type:[Number,Array],default:0},seconds:{type:[Number,Array],default:0},disabledTimesConfig:{type:Function,default:null},validateTime:{type:Function,default:()=>!1},...Ss},emits:["update:hours","update:minutes","update:seconds","mount","reset-flow","overlay-opened","overlay-closed","am-pm-change"],setup(t,{expose:e,emit:n}){const r=n,i=t,{buildMatrix:s,setTimePicker:o}=$a(),a=xa(),{defaultedTransitions:l,defaultedAriaLabels:u,defaultedTextInput:c,defaultedConfig:d}=ir(i),{transitionName:h,showTransition:p}=Df(l),{hideNavigationButtons:m}=Rv(),g=ie(null),y=ie(null),P=ie([]),I=ie(null);$t(()=>{r("mount"),!i.timePicker&&i.arrowNavigation?s([gr(g.value)],"time"):o(!0,i.timePicker)});const S=ee(()=>i.range&&i.modelAuto?ML(i.internalModelValue):!0),T=ie(!1),M=U=>({hours:Array.isArray(i.hours)?i.hours[U]:i.hours,minutes:Array.isArray(i.minutes)?i.minutes[U]:i.minutes,seconds:Array.isArray(i.seconds)?i.seconds[U]:i.seconds}),R=ee(()=>{const U=[];if(i.range)for(let $=0;$<2;$++)U.push(M($));else U.push(M(0));return U}),C=(U,$=!1,q="")=>{$||r("reset-flow"),T.value=U,r(U?"overlay-opened":"overlay-closed"),i.arrowNavigation&&o(U),rr(()=>{q!==""&&P.value[0]&&P.value[0].openChildCmp(q)})},E=ee(()=>({dp__btn:!0,dp__button:!0,dp__button_bottom:i.autoApply&&!d.value.keepActionRow})),b=Vi(a,"timePicker"),w=(U,$,q)=>i.range?$===0?[U,R.value[1][q]]:[R.value[0][q],U]:U,k=U=>{r("update:hours",U)},x=U=>{r("update:minutes",U)},O=U=>{r("update:seconds",U)},j=()=>{if(I.value&&!c.value.enabled&&!i.noOverlayFocus){const U=yhe(I.value);U&&U.focus({preventScroll:!0})}};return e({toggleTimePicker:C}),(U,$)=>{var q;return N(),W("div",Ife,[!U.timePicker&&!U.timePickerInline?Fi((N(),W("button",{key:0,ref_key:"openTimePickerBtn",ref:g,type:"button",class:$e(E.value),"aria-label":(q=A(u))==null?void 0:q.openTimePicker,tabindex:U.noOverlayFocus?void 0:0,onKeydown:[$[0]||($[0]=bt(te=>C(!0),["enter"])),$[1]||($[1]=bt(te=>C(!0),["space"]))],onClick:$[2]||($[2]=te=>C(!0))},[U.$slots["clock-icon"]?Te(U.$slots,"clock-icon",{key:0}):Z("",!0),U.$slots["clock-icon"]?Z("",!0):(N(),ce(A(dT),{key:1}))],42,Cfe)),[[Ls,!A(m)(U.hideNavigation,"time")]]):Z("",!0),B(ns,{name:A(h)(T.value),css:A(p)&&!U.timePickerInline},{default:J(()=>{var te;return[T.value||U.timePicker||U.timePickerInline?(N(),W("div",{key:0,ref_key:"overlayRef",ref:I,class:$e({dp__overlay:!U.timePickerInline,"dp--overlay-absolute":!i.timePicker&&!U.timePickerInline,"dp--overlay-relative":i.timePicker}),style:ur(U.timePicker?{height:`${A(d).modeHeight}px`}:void 0),tabindex:U.timePickerInline?void 0:0},[v("div",{class:$e(U.timePickerInline?"dp__time_picker_inline_container":"dp__overlay_container dp__container_flex dp__time_picker_overlay_container"),style:{display:"flex"}},[U.$slots["time-picker-overlay"]?Te(U.$slots,"time-picker-overlay",{key:0,hours:t.hours,minutes:t.minutes,seconds:t.seconds,setHours:k,setMinutes:x,setSeconds:O}):Z("",!0),U.$slots["time-picker-overlay"]?Z("",!0):(N(),W("div",{key:1,class:$e(U.timePickerInline?"dp__flex":"dp__overlay_row dp__flex_row")},[(N(!0),W(Pe,null,ht(R.value,(z,V)=>Fi((N(),ce(Sfe,le({key:V},{...U.$props,order:V,hours:z.hours,minutes:z.minutes,seconds:z.seconds,closeTimePickerBtn:y.value,disabledTimesConfig:t.disabledTimesConfig,disabled:V===0?U.fixedStart:U.fixedEnd},{ref_for:!0,ref_key:"timeInputRefs",ref:P,"validate-time":(ue,oe)=>t.validateTime(ue,w(oe,V,ue)),"onUpdate:hours":ue=>k(w(ue,V,"hours")),"onUpdate:minutes":ue=>x(w(ue,V,"minutes")),"onUpdate:seconds":ue=>O(w(ue,V,"seconds")),onMounted:j,onOverlayClosed:j,onAmPmChange:$[3]||($[3]=ue=>U.$emit("am-pm-change",ue))}),dr({_:2},[ht(A(b),(ue,oe)=>({name:ue,fn:J(ve=>[Te(U.$slots,ue,Ln(cr(ve)))])}))]),1040,["validate-time","onUpdate:hours","onUpdate:minutes","onUpdate:seconds"])),[[Ls,V===0?!0:S.value]])),128))],2)),!U.timePicker&&!U.timePickerInline?Fi((N(),W("button",{key:2,ref_key:"closeTimePickerBtn",ref:y,type:"button",class:$e(E.value),"aria-label":(te=A(u))==null?void 0:te.closeTimePicker,tabindex:"0",onKeydown:[$[4]||($[4]=bt(z=>C(!1),["enter"])),$[5]||($[5]=bt(z=>C(!1),["space"]))],onClick:$[6]||($[6]=z=>C(!1))},[U.$slots["calendar-icon"]?Te(U.$slots,"calendar-icon",{key:0}):Z("",!0),U.$slots["calendar-icon"]?Z("",!0):(N(),ce(A(Uc),{key:1}))],42,Pfe)),[[Ls,!A(m)(U.hideNavigation,"time")]]):Z("",!0)],2)],14,Afe)):Z("",!0)]}),_:3},8,["name","css"])])}}}),YL=(t,e,n,r)=>{const i=(P,I)=>Array.isArray(e[P])?e[P][I]:e[P],s=P=>t.enableSeconds?Array.isArray(e.seconds)?e.seconds[P]:e.seconds:0,o=(P,I)=>P?I!==void 0?ba(P,i("hours",I),i("minutes",I),s(I)):ba(P,e.hours,e.minutes,s()):lT(Re(),s(I)),a=(P,I)=>{e[P]=I},l=(P,I)=>{const S=Object.fromEntries(Object.keys(e).map(T=>T===P?[T,I]:[T,e[T]].slice()));if(t.range&&!t.disableTimeRangeValidation){const T=R=>n.value?ba(n.value[R],S.hours[R],S.minutes[R],S.seconds[R]):null,M=R=>aT(n.value[R],0);return!(nn(T(0),T(1))&&(zh(T(0),M(1))||Kh(T(1),M(0))))}return!0},u=(P,I)=>{l(P,I)&&(a(P,I),r&&r())},c=P=>{u("hours",P)},d=P=>{u("minutes",P)},h=P=>{u("seconds",P)},p=(P,I,S,T)=>{I&&c(P),!I&&!S&&d(P),S&&h(P),n.value&&T(n.value)},m=P=>{if(P){const I=Array.isArray(P),S=I?[+P[0].hours,+P[1].hours]:+P.hours,T=I?[+P[0].minutes,+P[1].minutes]:+P.minutes,M=I?[+P[0].seconds,+P[1].seconds]:+P.seconds;a("hours",S),a("minutes",T),t.enableSeconds&&a("seconds",M)}},g=(P,I)=>{const S={hours:Array.isArray(e.hours)?e.hours[P]:e.hours,disabledArr:[]};return(I||I===0)&&(S.hours=I),Array.isArray(t.disabledTimes)&&(S.disabledArr=t.range&&Array.isArray(t.disabledTimes[P])?t.disabledTimes[P]:t.disabledTimes),S},y=ee(()=>(P,I)=>{var S;if(Array.isArray(t.disabledTimes)){const{disabledArr:T,hours:M}=g(P,I),R=T.filter(C=>+C.hours===M);return((S=R[0])==null?void 0:S.minutes)==="*"?{hours:[M],minutes:void 0,seconds:void 0}:{hours:[],minutes:(R==null?void 0:R.map(C=>+C.minutes))??[],seconds:(R==null?void 0:R.map(C=>C.seconds?+C.seconds:void 0))??[]}}return{hours:[],minutes:[],seconds:[]}});return{setTime:a,updateHours:c,updateMinutes:d,updateSeconds:h,getSetDateTime:o,updateTimeValues:p,getSecondsValue:s,assignStartTime:m,validateTime:l,disabledTimesConfig:y}},Ofe=(t,e)=>{const{modelValue:n,time:r}=Nf(t,e),{defaultedStartTime:i}=ir(t),{updateTimeValues:s,getSetDateTime:o,setTime:a,assignStartTime:l,disabledTimesConfig:u,validateTime:c}=YL(t,r,n),d=I=>{const{hours:S,minutes:T,seconds:M}=I;return{hours:+S,minutes:+T,seconds:M?+M:0}},h=()=>{if(t.startTime){if(Array.isArray(t.startTime)){const S=d(t.startTime[0]),T=d(t.startTime[1]);return[Pn(Re(),S),Pn(Re(),T)]}const I=d(t.startTime);return Pn(Re(),I)}return t.range?[null,null]:null},p=()=>{if(t.range){const[I,S]=h();n.value=[o(I,0),o(S,1)]}else n.value=o(h())},m=I=>Array.isArray(I)?[vl(Re(I[0])),vl(Re(I[1]))]:[vl(I??Re())],g=(I,S,T)=>{a("hours",I),a("minutes",S),a("seconds",t.enableSeconds?T:0)},y=()=>{const[I,S]=m(n.value);return t.range?g([I.hours,S.hours],[I.minutes,S.minutes],[I.seconds,S.minutes]):g(I.hours,I.minutes,I.seconds)};$t(()=>{if(!t.shadow)return l(i.value),n.value?y():p()});const P=()=>{Array.isArray(n.value)?n.value=n.value.map((I,S)=>I&&o(I,S)):n.value=o(n.value),e("time-update")};return{modelValue:n,time:r,disabledTimesConfig:u,updateTime:(I,S=!0,T=!1)=>{s(I,S,T,P)},validateTime:c}},kfe=xe({compatConfig:{MODE:3},__name:"TimePickerSolo",props:{...Ss},emits:["update:internal-model-value","time-update","am-pm-change"],setup(t,{expose:e,emit:n}){const r=n,i=t,s=xa(),o=Vi(s,"timePicker"),{time:a,modelValue:l,disabledTimesConfig:u,updateTime:c,validateTime:d}=Ofe(i,r);return e({getSidebarProps:()=>({modelValue:l,time:a,updateTime:c})}),(h,p)=>(N(),ce(Dv,{"multi-calendars":0,stretch:""},{default:J(()=>[B(GL,le(h.$props,{hours:A(a).hours,minutes:A(a).minutes,seconds:A(a).seconds,"internal-model-value":h.internalModelValue,"disabled-times-config":A(u),"validate-time":A(d),"onUpdate:hours":p[0]||(p[0]=m=>A(c)(m)),"onUpdate:minutes":p[1]||(p[1]=m=>A(c)(m,!1)),"onUpdate:seconds":p[2]||(p[2]=m=>A(c)(m,!1,!0)),onAmPmChange:p[3]||(p[3]=m=>h.$emit("am-pm-change",m))}),dr({_:2},[ht(A(o),(m,g)=>({name:m,fn:J(y=>[Te(h.$slots,m,Ln(cr(y)))])}))]),1040,["hours","minutes","seconds","internal-model-value","disabled-times-config","validate-time"])]),_:3}))}}),Rfe={class:"dp__month_year_row"},xfe=["aria-label","onClick","onKeydown"],Dfe=xe({compatConfig:{MODE:3},__name:"DpHeader",props:{month:{type:Number,default:0},year:{type:Number,default:0},instance:{type:Number,default:0},years:{type:Array,default:()=>[]},months:{type:Array,default:()=>[]},...Ss},emits:["update-month-year","mount","reset-flow","overlay-closed"],setup(t,{expose:e,emit:n}){const r=n,i=t,{defaultedTransitions:s,defaultedAriaLabels:o,defaultedMultiCalendars:a,defaultedFilters:l,defaultedConfig:u,defaultedHighlight:c}=ir(i),{transitionName:d,showTransition:h}=Df(s),{buildMatrix:p}=$a(),{handleMonthYearChange:m,isDisabled:g,updateMonthYear:y}=jhe(i,r),{showLeftIcon:P,showRightIcon:I}=Rv(),S=ie(!1),T=ie(!1),M=ie([null,null,null,null]);$t(()=>{r("mount")});const R=V=>({get:()=>i[V],set:ue=>{const oe=V===as.month?as.year:as.month;r("update-month-year",{[V]:ue,[oe]:i[oe]}),V===as.month?j(!0):U(!0)}}),C=ee(R(as.month)),E=ee(R(as.year)),b=ee(()=>V=>({month:i.month,year:i.year,items:V===as.month?i.months:i.years,instance:i.instance,updateMonthYear:y,toggle:V===as.month?j:U})),w=ee(()=>i.months.find(ue=>ue.value===i.month)||{text:"",value:0}),k=ee(()=>Sc(i.months,V=>{const ue=i.month===V.value,oe=Gh(V.value,LL(i.year,i.minDate),VL(i.year,i.maxDate))||l.value.months.includes(V.value),ve=jL(c.value,V.value,i.year);return{active:ue,disabled:oe,highlighted:ve}})),x=ee(()=>Sc(i.years,V=>{const ue=i.year===V.value,oe=Gh(V.value,Ic(i.minDate),Ic(i.maxDate))||l.value.years.includes(V.value),ve=yT(c.value,V.value);return{active:ue,disabled:oe,highlighted:ve}})),O=(V,ue)=>{ue!==void 0?V.value=ue:V.value=!V.value,V.value||r("overlay-closed")},j=(V=!1,ue)=>{$(V),O(S,ue)},U=(V=!1,ue)=>{$(V),O(T,ue)},$=V=>{V||r("reset-flow")},q=(V,ue)=>{i.arrowNavigation&&(M.value[ue]=gr(V),p(M.value,"monthYear"))},te=ee(()=>{var V,ue;return[{type:as.month,index:1,toggle:j,modelValue:C.value,updateModelValue:oe=>C.value=oe,text:w.value.text,showSelectionGrid:S.value,items:k.value,ariaLabel:(V=o.value)==null?void 0:V.openMonthsOverlay},{type:as.year,index:2,toggle:U,modelValue:E.value,updateModelValue:oe=>E.value=oe,text:i.year,showSelectionGrid:T.value,items:x.value,ariaLabel:(ue=o.value)==null?void 0:ue.openYearsOverlay}]}),z=ee(()=>i.disableYearSelect?[te.value[0]]:i.yearFirst?[...te.value].reverse():te.value);return e({toggleMonthPicker:j,toggleYearPicker:U,handleMonthYearChange:m}),(V,ue)=>{var oe,ve,Se;return N(),W("div",Rfe,[V.$slots["month-year"]?Te(V.$slots,"month-year",Ln(le({key:0},{month:t.month,year:t.year,months:t.months,years:t.years,updateMonthYear:A(y),handleMonthYearChange:A(m),instance:t.instance}))):(N(),W(Pe,{key:1},[A(P)(A(a),t.instance)&&!V.vertical?(N(),ce(lh,{key:0,"aria-label":(oe=A(o))==null?void 0:oe.prevMonth,disabled:A(g)(!1),onActivate:ue[0]||(ue[0]=he=>A(m)(!1,!0)),onSetRef:ue[1]||(ue[1]=he=>q(he,0))},{default:J(()=>[V.$slots["arrow-left"]?Te(V.$slots,"arrow-left",{key:0}):Z("",!0),V.$slots["arrow-left"]?Z("",!0):(N(),ce(A(uT),{key:1}))]),_:3},8,["aria-label","disabled"])):Z("",!0),v("div",{class:$e(["dp__month_year_wrap",{dp__year_disable_select:V.disableYearSelect}])},[(N(!0),W(Pe,null,ht(z.value,(he,Y)=>(N(),W(Pe,{key:he.type},[v("button",{ref_for:!0,ref:ne=>q(ne,Y+1),type:"button",class:"dp__btn dp__month_year_select",tabindex:"0","aria-label":he.ariaLabel,onClick:he.toggle,onKeydown:[bt(kt(he.toggle,["prevent"]),["enter"]),bt(kt(he.toggle,["prevent"]),["space"])]},[V.$slots[he.type]?Te(V.$slots,he.type,{key:0,text:he.text,value:i[he.type]}):Z("",!0),V.$slots[he.type]?Z("",!0):(N(),W(Pe,{key:1},[K(Fe(he.text),1)],64))],40,xfe),B(ns,{name:A(d)(he.showSelectionGrid),css:A(h)},{default:J(()=>[he.showSelectionGrid?(N(),ce(Mf,{key:0,items:he.items,"arrow-navigation":V.arrowNavigation,"hide-navigation":V.hideNavigation,"is-last":V.autoApply&&!A(u).keepActionRow,"skip-button-ref":!1,config:V.config,type:he.type,"header-refs":[],"esc-close":V.escClose,"text-input":V.textInput,onSelected:he.updateModelValue,onToggle:he.toggle},dr({"button-icon":J(()=>[V.$slots["calendar-icon"]?Te(V.$slots,"calendar-icon",{key:0}):Z("",!0),V.$slots["calendar-icon"]?Z("",!0):(N(),ce(A(Uc),{key:1}))]),_:2},[V.$slots[`${he.type}-overlay-value`]?{name:"item",fn:J(({item:ne})=>[Te(V.$slots,`${he.type}-overlay-value`,{text:ne.text,value:ne.value})]),key:"0"}:void 0,V.$slots[`${he.type}-overlay`]?{name:"overlay",fn:J(()=>[Te(V.$slots,`${he.type}-overlay`,Ln(cr(b.value(he.type))))]),key:"1"}:void 0,V.$slots[`${he.type}-overlay-header`]?{name:"header",fn:J(()=>[Te(V.$slots,`${he.type}-overlay-header`,{toggle:he.toggle})]),key:"2"}:void 0]),1032,["items","arrow-navigation","hide-navigation","is-last","config","type","esc-close","text-input","onSelected","onToggle"])):Z("",!0)]),_:2},1032,["name","css"])],64))),128))],2),A(P)(A(a),t.instance)&&V.vertical?(N(),ce(lh,{key:1,"aria-label":(ve=A(o))==null?void 0:ve.prevMonth,disabled:A(g)(!1),onActivate:ue[2]||(ue[2]=he=>A(m)(!1,!0))},{default:J(()=>[V.$slots["arrow-up"]?Te(V.$slots,"arrow-up",{key:0}):Z("",!0),V.$slots["arrow-up"]?Z("",!0):(N(),ce(A(hT),{key:1}))]),_:3},8,["aria-label","disabled"])):Z("",!0),A(I)(A(a),t.instance)?(N(),ce(lh,{key:2,ref:"rightIcon",disabled:A(g)(!0),"aria-label":(Se=A(o))==null?void 0:Se.nextMonth,onActivate:ue[3]||(ue[3]=he=>A(m)(!0,!0)),onSetRef:ue[4]||(ue[4]=he=>q(he,V.disableYearSelect?2:3))},{default:J(()=>[V.$slots[V.vertical?"arrow-down":"arrow-right"]?Te(V.$slots,V.vertical?"arrow-down":"arrow-right",{key:0}):Z("",!0),V.$slots[V.vertical?"arrow-down":"arrow-right"]?Z("",!0):(N(),ce(Nn(V.vertical?A(fT):A(cT)),{key:1}))]),_:3},8,["disabled","aria-label"])):Z("",!0)],64))])}}}),Nfe=["aria-label"],Mfe={class:"dp__calendar_header",role:"row"},Lfe={key:0,class:"dp__calendar_header_item",role:"gridcell"},Vfe=v("div",{class:"dp__calendar_header_separator"},null,-1),$fe=["aria-label"],Ffe={key:0,role:"gridcell",class:"dp__calendar_item dp__week_num"},Ufe={class:"dp__cell_inner"},qfe=["id","aria-selected","aria-disabled","aria-label","onClick","onKeydown","onMouseenter","onMouseleave"],Bfe=xe({compatConfig:{MODE:3},__name:"DpCalendar",props:{mappedDates:{type:Array,default:()=>[]},instance:{type:Number,default:0},month:{type:Number,default:0},year:{type:Number,default:0},...Ss},emits:["select-date","set-hover-date","handle-scroll","mount","handle-swipe","handle-space","tooltip-open","tooltip-close"],setup(t,{expose:e,emit:n}){const r=n,i=t,{buildMultiLevelMatrix:s}=$a(),{defaultedTransitions:o,defaultedConfig:a,defaultedAriaLabels:l,defaultedMultiCalendars:u,defaultedWeekNumbers:c}=ir(i),d=ie(null),h=ie({bottom:"",left:"",transform:""}),p=ie([]),m=ie(null),g=ie(!0),y=ie(""),P=ie({startX:0,endX:0,startY:0,endY:0}),I=ie([]),S=ie({left:"50%"}),T=ee(()=>i.calendar?i.calendar(i.mappedDates):i.mappedDates),M=ee(()=>i.dayNames?Array.isArray(i.dayNames)?i.dayNames:i.dayNames(i.locale,+i.weekStart):mhe(i.formatLocale,i.locale,+i.weekStart));$t(()=>{r("mount",{cmp:"calendar",refs:p}),a.value.noSwipe||m.value&&(m.value.addEventListener("touchstart",U,{passive:!1}),m.value.addEventListener("touchend",$,{passive:!1}),m.value.addEventListener("touchmove",q,{passive:!1})),i.monthChangeOnScroll&&m.value&&m.value.addEventListener("wheel",V,{passive:!1})});const R=he=>he?i.vertical?"vNext":"next":i.vertical?"vPrevious":"previous",C=(he,Y)=>{if(i.transitions){const ne=ii(go(Re(),i.month,i.year));y.value=ti(ii(go(Re(),he,Y)),ne)?o.value[R(!0)]:o.value[R(!1)],g.value=!1,rr(()=>{g.value=!0})}},E=ee(()=>({[i.calendarClassName]:!!i.calendarClassName})),b=ee(()=>he=>{const Y=vhe(he);return{dp__marker_dot:Y.type==="dot",dp__marker_line:Y.type==="line"}}),w=ee(()=>he=>nn(he,d.value)),k=ee(()=>({dp__calendar:!0,dp__calendar_next:u.value.count>0&&i.instance!==0})),x=ee(()=>he=>i.hideOffsetDates?he.current:!0),O=async(he,Y,ne)=>{var pe,se;if(r("set-hover-date",he),(se=(pe=he.marker)==null?void 0:pe.tooltip)!=null&&se.length){const _e=gr(p.value[Y][ne]);if(_e){const{width:Ce,height:fe}=_e.getBoundingClientRect();d.value=he.value;let L={left:`${Ce/2}px`},H=-50;if(await rr(),I.value[0]){const{left:X,width:me}=I.value[0].getBoundingClientRect();X<0&&(L={left:"0"},H=0,S.value.left=`${Ce/2}px`),window.innerWidth<X+me&&(L={right:"0"},H=0,S.value.left=`${me-Ce/2}px`)}h.value={bottom:`${fe}px`,...L,transform:`translateX(${H}%)`},r("tooltip-open",he.marker)}}},j=he=>{d.value&&(d.value=null,h.value=JSON.parse(JSON.stringify({bottom:"",left:"",transform:""})),r("tooltip-close",he.marker))},U=he=>{P.value.startX=he.changedTouches[0].screenX,P.value.startY=he.changedTouches[0].screenY},$=he=>{P.value.endX=he.changedTouches[0].screenX,P.value.endY=he.changedTouches[0].screenY,te()},q=he=>{i.vertical&&!i.inline&&he.preventDefault()},te=()=>{const he=i.vertical?"Y":"X";Math.abs(P.value[`start${he}`]-P.value[`end${he}`])>10&&r("handle-swipe",P.value[`start${he}`]>P.value[`end${he}`]?"right":"left")},z=(he,Y,ne)=>{he&&(Array.isArray(p.value[Y])?p.value[Y][ne]=he:p.value[Y]=[he]),i.arrowNavigation&&s(p.value,"calendar")},V=he=>{i.monthChangeOnScroll&&(he.preventDefault(),r("handle-scroll",he))},ue=he=>c.value.type==="local"?Ace(he.value,{weekStartsOn:+i.weekStart}):c.value.type==="iso"?Ece(he.value):typeof c.value.type=="function"?c.value.type(he.value):"",oe=he=>{const Y=he[0];return c.value.hideOnOffsetDates?he.some(ne=>ne.current)?ue(Y):"":ue(Y)},ve=(he,Y)=>{ya(he,a.value),r("select-date",Y)},Se=he=>{ya(he,a.value)};return e({triggerTransition:C}),(he,Y)=>{var ne;return N(),W("div",{class:$e(k.value)},[v("div",{ref_key:"calendarWrapRef",ref:m,role:"grid",class:$e(E.value),"aria-label":(ne=A(l))==null?void 0:ne.calendarWrap},[(N(),W(Pe,{key:0},[v("div",Mfe,[he.weekNumbers?(N(),W("div",Lfe,Fe(he.weekNumName),1)):Z("",!0),(N(!0),W(Pe,null,ht(M.value,(pe,se)=>(N(),W("div",{key:se,class:"dp__calendar_header_item",role:"gridcell"},[he.$slots["calendar-header"]?Te(he.$slots,"calendar-header",{key:0,day:pe,index:se}):Z("",!0),he.$slots["calendar-header"]?Z("",!0):(N(),W(Pe,{key:1},[K(Fe(pe),1)],64))]))),128))]),Vfe,B(ns,{name:y.value,css:!!he.transitions},{default:J(()=>{var pe;return[g.value?(N(),W("div",{key:0,class:"dp__calendar",role:"rowgroup","aria-label":((pe=A(l))==null?void 0:pe.calendarDays)||void 0},[(N(!0),W(Pe,null,ht(T.value,(se,_e)=>(N(),W("div",{key:_e,class:"dp__calendar_row",role:"row"},[he.weekNumbers?(N(),W("div",Ffe,[v("div",Ufe,Fe(oe(se.days)),1)])):Z("",!0),(N(!0),W(Pe,null,ht(se.days,(Ce,fe)=>{var L,H,X;return N(),W("div",{id:Ce.value.toISOString().split("T")[0],ref_for:!0,ref:me=>z(me,_e,fe),key:fe+_e,role:"gridcell",class:"dp__calendar_item","aria-selected":Ce.classData.dp__active_date||Ce.classData.dp__range_start||Ce.classData.dp__range_start,"aria-disabled":Ce.classData.dp__cell_disabled||void 0,"aria-label":(H=(L=A(l))==null?void 0:L.day)==null?void 0:H.call(L,Ce),tabindex:"0",onClick:kt(me=>ve(me,Ce),["prevent"]),onKeydown:[bt(me=>he.$emit("select-date",Ce),["enter"]),bt(me=>he.$emit("handle-space",Ce),["space"])],onMouseenter:me=>O(Ce,_e,fe),onMouseleave:me=>j(Ce)},[v("div",{class:$e(["dp__cell_inner",Ce.classData])},[he.$slots.day&&x.value(Ce)?Te(he.$slots,"day",{key:0,day:+Ce.text,date:Ce.value}):Z("",!0),he.$slots.day?Z("",!0):(N(),W(Pe,{key:1},[K(Fe(Ce.text),1)],64)),Ce.marker&&x.value(Ce)?(N(),W(Pe,{key:2},[he.$slots.marker?Te(he.$slots,"marker",{key:0,marker:Ce.marker,day:+Ce.text,date:Ce.value}):(N(),W("div",{key:1,class:$e(b.value(Ce.marker)),style:ur(Ce.marker.color?{backgroundColor:Ce.marker.color}:{})},null,6))],64)):Z("",!0),w.value(Ce.value)?(N(),W("div",{key:3,ref_for:!0,ref_key:"activeTooltip",ref:I,class:"dp__marker_tooltip",style:ur(h.value)},[(X=Ce.marker)!=null&&X.tooltip?(N(),W("div",{key:0,class:"dp__tooltip_content",onClick:Se},[(N(!0),W(Pe,null,ht(Ce.marker.tooltip,(me,ge)=>(N(),W("div",{key:ge,class:"dp__tooltip_text"},[he.$slots["marker-tooltip"]?Te(he.$slots,"marker-tooltip",{key:0,tooltip:me,day:Ce.value}):Z("",!0),he.$slots["marker-tooltip"]?Z("",!0):(N(),W(Pe,{key:1},[v("div",{class:"dp__tooltip_mark",style:ur(me.color?{backgroundColor:me.color}:{})},null,4),v("div",null,Fe(me.text),1)],64))]))),128)),v("div",{class:"dp__arrow_bottom_tp",style:ur(S.value)},null,4)])):Z("",!0)],4)):Z("",!0)],2)],40,qfe)}),128))]))),128))],8,$fe)):Z("",!0)]}),_:3},8,["name","css"])],64))],10,Nfe)],2)}}}),$P=t=>Array.isArray(t),jfe=(t,e,n,r)=>{const i=ie([]),{modelValue:s,calendars:o,time:a}=Nf(t,e),{defaultedMultiCalendars:l,defaultedStartTime:u}=ir(t),{validateMonthYearInRange:c,isDisabled:d,isDateRangeAllowed:h,checkMinMaxRange:p}=Gl(t),{updateTimeValues:m,getSetDateTime:g,setTime:y,assignStartTime:P,validateTime:I,disabledTimesConfig:S}=YL(t,a,s,r),T=ee(()=>re=>o.value[re]?o.value[re].month:0),M=ee(()=>re=>o.value[re]?o.value[re].year:0),R=(re,G,Q)=>{var ae,be;o.value[re]||(o.value[re]={month:0,year:0}),o.value[re].month=DP(G)?(ae=o.value[re])==null?void 0:ae.month:G,o.value[re].year=DP(Q)?(be=o.value[re])==null?void 0:be.year:Q},C=()=>{t.autoApply&&e("select-date")};pn(s,(re,G)=>{JSON.stringify(re)!==JSON.stringify(G)&&w()}),$t(()=>{t.shadow||(s.value||(V(),u.value&&P(u.value)),w(!0),t.focusStartDate&&t.startDate&&V())});const E=ee(()=>{var re;return(re=t.flow)!=null&&re.length&&!t.partialFlow?t.flowStep===t.flow.length:!0}),b=()=>{t.autoApply&&E.value&&e("auto-apply",t.partialFlow)},w=(re=!1)=>{if(s.value)return Array.isArray(s.value)?(i.value=s.value,$(re)):x(s.value,re);if(l.value.count&&re&&!t.startDate)return k(Re(),re)},k=(re,G=!1)=>{if((!l.value.count||!l.value.static||G)&&R(0,Wt(re),At(re)),l.value.count&&(!l.value.solo||!s.value))for(let Q=1;Q<l.value.count;Q++){const ae=Pn(Re(),{month:T.value(Q-1),year:M.value(Q-1)}),be=lL(ae,{months:1});o.value[Q]={month:Wt(be),year:At(be)}}},x=(re,G)=>{k(re),y("hours",bs(re)),y("minutes",js(re)),y("seconds",Tc(re)),l.value.count&&G&&z()},O=re=>{if(l.value.count){if(l.value.solo)return 0;const G=Wt(re[0]),Q=Wt(re[1]);return Math.abs(Q-G)<l.value.count?0:1}return 1},j=(re,G)=>{re[1]&&t.showLastInRange?k(re[O(re)],G):k(re[0],G);const Q=(ae,be)=>[ae(re[0]),re[1]?ae(re[1]):a[be][1]];y("hours",Q(bs,"hours")),y("minutes",Q(js,"minutes")),y("seconds",Q(Tc,"seconds"))},U=(re,G)=>{if((t.range||t.weekPicker)&&!t.multiDates)return j(re,G);if(t.multiDates&&G){const Q=re[re.length-1];return x(Q,G)}},$=re=>{const G=s.value;U(G,re),l.value.count&&l.value.solo&&z()},q=(re,G)=>{const Q=Pn(Re(),{month:T.value(G),year:M.value(G)}),ae=re<0?ys(Q,1):Ec(Q,1);c(Wt(ae),At(ae),re<0,t.preventMinMaxNavigation)&&(R(G,Wt(ae),At(ae)),e("update-month-year",{instance:G,month:Wt(ae),year:At(ae)}),l.value.count&&!l.value.solo&&te(G),n())},te=re=>{for(let G=re-1;G>=0;G--){const Q=Ec(Pn(Re(),{month:T.value(G+1),year:M.value(G+1)}),1);R(G,Wt(Q),At(Q))}for(let G=re+1;G<=l.value.count-1;G++){const Q=ys(Pn(Re(),{month:T.value(G-1),year:M.value(G-1)}),1);R(G,Wt(Q),At(Q))}},z=()=>{if(Array.isArray(s.value)&&s.value.length===2){const re=Re(Re(s.value[1]?s.value[1]:ys(s.value[0],1))),[G,Q]=[Wt(s.value[0]),At(s.value[0])],[ae,be]=[Wt(s.value[1]),At(s.value[1])];(G!==ae||G===ae&&Q!==be)&&l.value.solo&&R(1,Wt(re),At(re))}else s.value&&!Array.isArray(s.value)&&(R(0,Wt(s.value),At(s.value)),k(Re()))},V=()=>{t.startDate&&(R(0,Wt(Re(t.startDate)),At(Re(t.startDate))),l.value.count&&te(0))},ue=The((re,G)=>{t.monthChangeOnScroll&&q(t.monthChangeOnScroll!=="inverse"?-re.deltaY:re.deltaY,G)},50),oe=(re,G,Q=!1)=>{t.monthChangeOnArrows&&t.vertical===Q&&ve(re,G)},ve=(re,G)=>{q(re==="right"?-1:1,G)},Se=re=>t.markers.find(G=>nn(Ihe(re.value),_s(Re(G.date),t.timezone))),he=(re,G)=>{switch(t.sixWeeks===!0?"append":t.sixWeeks){case"prepend":return[!0,!1];case"center":return[re==0,!0];case"fair":return[re==0||G>re,!0];case"append":return[!1,!1];default:return[!1,!1]}},Y=(re,G,Q,ae)=>{if(t.sixWeeks&&re.length<6){const be=6-re.length,qe=(G.getDay()+7-ae)%7,tt=6-(Q.getDay()+7-ae)%7,[we,Ne]=he(qe,tt);for(let Ue=1;Ue<=be;Ue++)if(Ne?!!(Ue%2)==we:we){const rt=re[0].days[0],Ye=ne(co(rt.value,-7),Wt(G));re.unshift({days:Ye})}else{const rt=re[re.length-1],Ye=rt.days[rt.days.length-1],ut=ne(co(Ye.value,1),Wt(G));re.push({days:ut})}}return re},ne=(re,G)=>{const Q=Re(re),ae=[];for(let be=0;be<7;be++){const qe=co(Q,be),tt=Wt(qe)!==G;ae.push({text:t.hideOffsetDates&&tt?"":qe.getDate(),value:qe,current:!tt,classData:{}})}return ae},pe=(re,G)=>{const Q=[],ae=new Date(G,re),be=new Date(G,re+1,0),qe=t.weekStart,tt=$l(ae,{weekStartsOn:qe}),we=Ne=>{const Ue=ne(Ne,re);if(Q.push({days:Ue}),!Q[Q.length-1].days.some(rt=>nn(ii(rt.value),ii(be)))){const rt=co(Ne,7);we(rt)}};return we(tt),Y(Q,ae,be,qe)},se=re=>(s.value=sm(Re(re.value),t.timezone,t.weekStart),e("date-update",re.value),b()),_e=re=>{const G=ba(Re(re.value),a.hours,a.minutes,Ae());e("date-update",G),t.multiDates?bT(G,s,t.multiDatesLimit):s.value=G,r(),rr().then(()=>{b()})},Ce=re=>t.noDisabledRange?FL(i.value[0],re).some(G=>d(G)):!1,fe=()=>{i.value=s.value?s.value.slice():[],i.value.length===2&&!(t.fixedStart||t.fixedEnd)&&(i.value=[])},L=(re,G)=>{const Q=[Re(re.value),co(Re(re.value),+t.autoRange)];h(Q)?(G&&H(re.value),i.value=Q):e("invalid-date",re.value)},H=re=>{const G=Wt(Re(re)),Q=At(Re(re));if(R(0,G,Q),l.value.count>0)for(let ae=1;ae<l.value.count;ae++){const be=Che(Pn(Re(re),{year:T.value(ae-1),month:M.value(ae-1)}));R(ae,be.month,be.year)}},X=re=>Array.isArray(s.value)&&s.value.length===2?t.fixedStart&&(ti(re,s.value[0])||nn(re,s.value[0]))?[s.value[0],re]:t.fixedEnd&&(Lr(re,s.value[1])||nn(re,s.value[1]))?[re,s.value[1]]:(e("invalid-fixed-range",re),s.value):[],me=re=>{if(Ce(re.value)||!p(re.value,s.value,t.fixedStart?0:1))return e("invalid-date",re.value);i.value=X(Re(re.value))},ge=(re,G)=>{if(fe(),t.autoRange)return L(re,G);if(t.fixedStart||t.fixedEnd)return me(re);i.value[0]?p(Re(re.value),s.value)&&!Ce(re.value)?Lr(Re(re.value),Re(i.value[0]))?(i.value.unshift(Re(re.value)),e("range-end",i.value[0])):(i.value[1]=Re(re.value),e("range-end",i.value[1])):(t.autoApply&&e("auto-apply-invalid",re.value),e("invalid-date",re.value)):(i.value[0]=Re(re.value),e("range-start",i.value[0]))},Ae=(re=!0)=>t.enableSeconds?Array.isArray(a.seconds)?re?a.seconds[0]:a.seconds[1]:a.seconds:0,Ve=re=>{i.value[re]=ba(i.value[re],a.hours[re],a.minutes[re],Ae(re!==1))},ke=()=>{var re,G;i.value[0]&&i.value[1]&&+((re=i.value)==null?void 0:re[0])>+((G=i.value)==null?void 0:G[1])&&(i.value.reverse(),e("range-start",i.value[0]),e("range-end",i.value[1]))},De=()=>{i.value.length&&(i.value[0]&&!i.value[1]?Ve(0):(Ve(0),Ve(1),r()),ke(),s.value=i.value.slice(),Nv(i.value,e,t.autoApply,t.modelAuto))},Ie=(re,G=!1)=>{if(d(re.value)||!re.current&&t.hideOffsetDates)return e("invalid-date",re.value);if(t.weekPicker)return se(re);if(!t.range)return _e(re);$P(a.hours)&&$P(a.minutes)&&!t.multiDates&&(ge(re,G),De())},He=(re,G)=>{var Q;R(re,G.month,G.year),l.value.count&&!l.value.solo&&te(re),e("update-month-year",{instance:re,month:G.month,year:G.year}),n(l.value.solo?re:void 0);const ae=(Q=t.flow)!=null&&Q.length?t.flow[t.flowStep]:void 0;!G.fromNav&&(ae===Ps.month||ae===Ps.year)&&r()},We=(re,G)=>{zL({value:re,modelValue:s,range:t.range,timezone:G?void 0:t.timezone}),C(),t.multiCalendars&&rr().then(()=>w(!0))},Qe=()=>{t.range?s.value&&Array.isArray(s.value)&&s.value[0]?s.value=Lr(Re(),s.value[0])?[Re(),s.value[0]]:[s.value[0],Re()]:s.value=[Re()]:s.value=Re(),C()},lt=()=>{if(Array.isArray(s.value))if(t.multiDates){const re=et();s.value[s.value.length-1]=g(re)}else s.value=s.value.map((re,G)=>re&&g(re,G));else s.value=g(s.value);e("time-update")},et=()=>Array.isArray(s.value)&&s.value.length?s.value[s.value.length-1]:null;return{calendars:o,modelValue:s,month:T,year:M,time:a,disabledTimesConfig:S,validateTime:I,getCalendarDays:pe,getMarker:Se,handleScroll:ue,handleSwipe:ve,handleArrow:oe,selectDate:Ie,updateMonthYear:He,presetDate:We,selectCurrentDate:Qe,updateTime:(re,G=!0,Q=!1)=>{m(re,G,Q,lt)}}},Hfe={key:0},Wfe=xe({__name:"DatePicker",props:{...Ss},emits:["tooltip-open","tooltip-close","mount","update:internal-model-value","update-flow-step","reset-flow","auto-apply","focus-menu","select-date","range-start","range-end","invalid-fixed-range","time-update","am-pm-change","time-picker-open","time-picker-close","recalculate-position","update-month-year","auto-apply-invalid","date-update","invalid-date"],setup(t,{expose:e,emit:n}){const r=n,i=t,{calendars:s,month:o,year:a,modelValue:l,time:u,disabledTimesConfig:c,validateTime:d,getCalendarDays:h,getMarker:p,handleArrow:m,handleScroll:g,handleSwipe:y,selectDate:P,updateMonthYear:I,presetDate:S,selectCurrentDate:T,updateTime:M}=jfe(i,r,z,V),R=xa(),{setHoverDate:C,getDayClassData:E,clearHoverDate:b}=Khe(l,i),{defaultedMultiCalendars:w}=ir(i),k=ie([]),x=ie([]),O=ie(null),j=Vi(R,"calendar"),U=Vi(R,"monthYear"),$=Vi(R,"timePicker"),q=oe=>{i.shadow||r("mount",oe)};pn(s,()=>{i.shadow||setTimeout(()=>{r("recalculate-position")},0)},{deep:!0});const te=ee(()=>oe=>h(o.value(oe),a.value(oe)).map(ve=>({...ve,days:ve.days.map(Se=>(Se.marker=p(Se),Se.classData=E(Se),Se))})));function z(oe){var ve;oe||oe===0?(ve=x.value[oe])==null||ve.triggerTransition(o.value(oe),a.value(oe)):x.value.forEach((Se,he)=>Se.triggerTransition(o.value(he),a.value(he)))}function V(){r("update-flow-step")}const ue=(oe,ve=!1)=>{P(oe,ve),i.spaceConfirm&&r("select-date")};return e({clearHoverDate:b,presetDate:S,selectCurrentDate:T,toggleMonthPicker:(oe,ve,Se=0)=>{var he;(he=k.value[Se])==null||he.toggleMonthPicker(oe,ve)},toggleYearPicker:(oe,ve,Se=0)=>{var he;(he=k.value[Se])==null||he.toggleYearPicker(oe,ve)},toggleTimePicker:(oe,ve,Se)=>{var he;(he=O.value)==null||he.toggleTimePicker(oe,ve,Se)},handleArrow:m,updateMonthYear:I,getSidebarProps:()=>({modelValue:l,month:o,year:a,time:u,updateTime:M,updateMonthYear:I,selectDate:P,presetDate:S})}),(oe,ve)=>(N(),W(Pe,null,[B(Dv,{"multi-calendars":A(w).count},{default:J(({instance:Se,index:he})=>[oe.disableMonthYearSelect?Z("",!0):(N(),ce(Dfe,le({key:0,ref:Y=>{Y&&(k.value[he]=Y)},months:A(NL)(oe.formatLocale,oe.locale,oe.monthNameFormat),years:A(vT)(oe.yearRange,oe.reverseYears),month:A(o)(Se),year:A(a)(Se),instance:Se},oe.$props,{onMount:ve[0]||(ve[0]=Y=>q(A(yl).header)),onResetFlow:ve[1]||(ve[1]=Y=>oe.$emit("reset-flow")),onUpdateMonthYear:Y=>A(I)(Se,Y),onOverlayClosed:ve[2]||(ve[2]=Y=>oe.$emit("focus-menu"))}),dr({_:2},[ht(A(U),(Y,ne)=>({name:Y,fn:J(pe=>[Te(oe.$slots,Y,Ln(cr(pe)))])}))]),1040,["months","years","month","year","instance","onUpdateMonthYear"])),B(Bfe,le({ref:Y=>{Y&&(x.value[he]=Y)},"mapped-dates":te.value(Se),month:A(o)(Se),year:A(a)(Se),instance:Se},oe.$props,{onSelectDate:Y=>A(P)(Y,Se!==1),onHandleSpace:Y=>ue(Y,Se!==1),onSetHoverDate:ve[3]||(ve[3]=Y=>A(C)(Y)),onHandleScroll:Y=>A(g)(Y,Se),onHandleSwipe:Y=>A(y)(Y,Se),onMount:ve[4]||(ve[4]=Y=>q(A(yl).calendar)),onResetFlow:ve[5]||(ve[5]=Y=>oe.$emit("reset-flow")),onTooltipOpen:ve[6]||(ve[6]=Y=>oe.$emit("tooltip-open",Y)),onTooltipClose:ve[7]||(ve[7]=Y=>oe.$emit("tooltip-close",Y))}),dr({_:2},[ht(A(j),(Y,ne)=>({name:Y,fn:J(pe=>[Te(oe.$slots,Y,Ln(cr({...pe})))])}))]),1040,["mapped-dates","month","year","instance","onSelectDate","onHandleSpace","onHandleScroll","onHandleSwipe"])]),_:3},8,["multi-calendars"]),oe.enableTimePicker?(N(),W("div",Hfe,[oe.$slots["time-picker"]?Te(oe.$slots,"time-picker",Ln(le({key:0},{time:A(u),updateTime:A(M)}))):(N(),ce(GL,le({key:1,ref_key:"timePickerRef",ref:O},oe.$props,{hours:A(u).hours,minutes:A(u).minutes,seconds:A(u).seconds,"internal-model-value":oe.internalModelValue,"disabled-times-config":A(c),"validate-time":A(d),onMount:ve[8]||(ve[8]=Se=>q(A(yl).timePicker)),"onUpdate:hours":ve[9]||(ve[9]=Se=>A(M)(Se)),"onUpdate:minutes":ve[10]||(ve[10]=Se=>A(M)(Se,!1)),"onUpdate:seconds":ve[11]||(ve[11]=Se=>A(M)(Se,!1,!0)),onResetFlow:ve[12]||(ve[12]=Se=>oe.$emit("reset-flow")),onOverlayClosed:ve[13]||(ve[13]=Se=>oe.$emit("time-picker-close")),onOverlayOpened:ve[14]||(ve[14]=Se=>oe.$emit("time-picker-open",Se)),onAmPmChange:ve[15]||(ve[15]=Se=>oe.$emit("am-pm-change",Se))}),dr({_:2},[ht(A($),(Se,he)=>({name:Se,fn:J(Y=>[Te(oe.$slots,Se,Ln(cr(Y)))])}))]),1040,["hours","minutes","seconds","internal-model-value","disabled-times-config","validate-time"]))])):Z("",!0)],64))}}),zfe=(t,e)=>{const n=ie(),{defaultedMultiCalendars:r,defaultedConfig:i,defaultedHighlight:s}=ir(t),{modelValue:o,year:a,month:l,calendars:u}=Nf(t,e),{isDisabled:c}=Gl(t),{selectYear:d,groupedYears:h,showYearPicker:p,isDisabled:m,toggleYearPicker:g,handleYearSelect:y,handleYear:P}=KL({modelValue:o,multiCalendars:r,highlight:s,calendars:u,month:l,year:a,props:t,emit:e}),I=(b,w)=>[b,w].map(k=>va(k,"MMMM",{locale:t.formatLocale})).join("-"),S=ee(()=>b=>o.value?Array.isArray(o.value)?o.value.some(w=>TP(b,w)):TP(o.value,b):!1),T=b=>{if(t.range){if(Array.isArray(o.value)){const w=nn(b,o.value[0])||nn(b,o.value[1]);return kv(o.value,n.value,b)&&!w}return!1}return!1},M=ee(()=>b=>{const w=Pn(new Date,{year:a.value(b)});return pue({start:gue(w),end:mue(w)}).map(k=>{const x=Wh(k),O=mP(k),j=c(k),U=T(x),$=typeof s.value=="function"?s.value({quarter:pP(x),year:At(x)}):!!s.value.quarters.find(q=>q.quarter===pP(x)&&q.year===At(x));return{text:I(x,O),value:x,active:S.value(x),highlighted:$,disabled:j,isBetween:U}})}),R=b=>{bT(b,o,t.multiDatesLimit),e("auto-apply",!0)},C=b=>{const w=_T(o,b,e);Nv(w,e,t.autoApply,t.modelAuto)},E=b=>{o.value=b,e("auto-apply")};return{defaultedConfig:i,defaultedMultiCalendars:r,groupedYears:h,year:a,isDisabled:m,quarters:M,showYearPicker:p,modelValue:o,setHoverDate:b=>{n.value=b},selectYear:d,selectQuarter:(b,w,k)=>{if(!k)return u.value[w].month=Wt(mP(b)),t.multiDates?R(b):t.range?C(b):E(b)},toggleYearPicker:g,handleYearSelect:y,handleYear:P}},Kfe={class:"dp--quarter-items"},Gfe=["disabled","onClick","onMouseover"],Yfe=xe({compatConfig:{MODE:3},__name:"QuarterPicker",props:{...Ss},emits:["update:internal-model-value","reset-flow","overlay-closed","auto-apply","range-start","range-end"],setup(t,{expose:e,emit:n}){const r=n,i=t,s=xa(),o=Vi(s,"yearMode"),{defaultedMultiCalendars:a,defaultedConfig:l,groupedYears:u,year:c,isDisabled:d,quarters:h,modelValue:p,showYearPicker:m,setHoverDate:g,selectQuarter:y,toggleYearPicker:P,handleYearSelect:I,handleYear:S}=zfe(i,r);return e({getSidebarProps:()=>({modelValue:p,year:c,selectQuarter:y,handleYearSelect:I,handleYear:S})}),(T,M)=>(N(),ce(Dv,{"multi-calendars":A(a).count,stretch:""},{default:J(({instance:R})=>[v("div",{class:"dp-quarter-picker-wrap",style:ur({minHeight:`${A(l).modeHeight}px`})},[v("div",null,[B(WL,le(T.$props,{items:A(u)(R),instance:R,"show-year-picker":A(m)[R],year:A(c)(R),"is-disabled":C=>A(d)(R,C),onHandleYear:C=>A(S)(R,C),onYearSelect:C=>A(I)(C,R),onToggleYearPicker:C=>A(P)(R,C==null?void 0:C.flow,C==null?void 0:C.show)}),dr({_:2},[ht(A(o),(C,E)=>({name:C,fn:J(b=>[Te(T.$slots,C,Ln(cr(b)))])}))]),1040,["items","instance","show-year-picker","year","is-disabled","onHandleYear","onYearSelect","onToggleYearPicker"])]),v("div",Kfe,[(N(!0),W(Pe,null,ht(A(h)(R),(C,E)=>(N(),W("div",{key:E},[v("button",{type:"button",class:$e(["dp--qr-btn",{"dp--qr-btn-active":C.active,"dp--qr-btn-between":C.isBetween,"dp--qr-btn-disabled":C.disabled,"dp--highlighted":C.highlighted}]),disabled:C.disabled,onClick:b=>A(y)(C.value,R,C.disabled),onMouseover:b=>A(g)(C.value)},[T.$slots.quarter?Te(T.$slots,"quarter",{key:0,value:C.value,text:C.text}):(N(),W(Pe,{key:1},[K(Fe(C.text),1)],64))],42,Gfe)]))),128))])],4)]),_:3},8,["multi-calendars"]))}}),Xfe=["id"],Qfe={key:0,class:"dp__sidebar_left"},Jfe={key:1,class:"dp--preset-dates"},Zfe=["onClick","onKeydown"],epe={key:2,class:"dp__sidebar_right"},tpe={key:3,class:"dp__action_extra"},FP=xe({compatConfig:{MODE:3},__name:"DatepickerMenu",props:{...xv,shadow:{type:Boolean,default:!1},openOnTop:{type:Boolean,default:!1},internalModelValue:{type:[Date,Array],default:null},arrMapValues:{type:Object,default:()=>({})},noOverlayFocus:{type:Boolean,default:!1}},emits:["close-picker","select-date","auto-apply","time-update","flow-step","update-month-year","invalid-select","update:internal-model-value","recalculate-position","invalid-fixed-range","tooltip-open","tooltip-close","time-picker-open","time-picker-close","am-pm-change","range-start","range-end","auto-apply-invalid","date-update","invalid-date"],setup(t,{expose:e,emit:n}){const r=n,i=t,s=ee(()=>{const{openOnTop:fe,...L}=i;return{...L,flowStep:E.value,noOverlayFocus:i.noOverlayFocus}}),{setMenuFocused:o,setShiftKey:a,control:l}=HL(),u=xa(),{defaultedTextInput:c,defaultedInline:d,defaultedConfig:h}=ir(i),p=ie(null),m=ie(0),g=ie(null),y=ie(null),P=ie(!1),I=ie(null);$t(()=>{if(!i.shadow){P.value=!0,S(),window.addEventListener("resize",S);const fe=gr(g);if(fe&&!c.value.enabled&&!d.value.enabled&&(o(!0),O()),fe){const L=H=>{h.value.allowPreventDefault&&H.preventDefault(),ya(H,h.value,!0)};fe.addEventListener("pointerdown",L),fe.addEventListener("mousedown",L)}}}),Gs(()=>{window.removeEventListener("resize",S)});const S=()=>{const fe=gr(y);fe&&(m.value=fe.getBoundingClientRect().width)},{arrowRight:T,arrowLeft:M,arrowDown:R,arrowUp:C}=$a(),{flowStep:E,updateFlowStep:b,childMount:w,resetFlow:k}=Ghe(i,r,I),x=ee(()=>i.monthPicker?dfe:i.yearPicker?ffe:i.timePicker?kfe:i.quarterPicker?Yfe:Wfe),O=()=>{const fe=gr(g);fe&&fe.focus({preventScroll:!0})},j=ee(()=>{var fe;return((fe=I.value)==null?void 0:fe.getSidebarProps())||{}}),U=()=>{i.openOnTop&&r("recalculate-position")},$=Vi(u,"action"),q=ee(()=>i.monthPicker||i.yearPicker?Vi(u,"monthYear"):i.timePicker?Vi(u,"timePicker"):Vi(u,"shared")),te=ee(()=>i.openOnTop?"dp__arrow_bottom":"dp__arrow_top"),z=ee(()=>({dp__menu_disabled:i.disabled,dp__menu_readonly:i.readonly})),V=ee(()=>({dp__menu:!0,dp__menu_index:!d.value.enabled,dp__relative:d.value.enabled,[i.menuClassName]:!!i.menuClassName})),ue=fe=>{ya(fe,h.value,!0)},oe=()=>{i.escClose&&r("close-picker")},ve=fe=>{if(i.arrowNavigation){if(fe==="up")return C();if(fe==="down")return R();if(fe==="left")return M();if(fe==="right")return T()}else fe==="left"||fe==="up"?pe("handleArrow","left",0,fe==="up"):pe("handleArrow","right",0,fe==="down")},Se=fe=>{a(fe.shiftKey),!i.disableMonthYearSelect&&fe.code==="Tab"&&fe.target.classList.contains("dp__menu")&&l.value.shiftKeyInMenu&&(fe.preventDefault(),ya(fe,h.value,!0),r("close-picker"))},he=()=>{O(),r("time-picker-close")},Y=fe=>{var L,H,X;(L=I.value)==null||L.toggleTimePicker(!1,!1),(H=I.value)==null||H.toggleMonthPicker(!1,!1,fe),(X=I.value)==null||X.toggleYearPicker(!1,!1,fe)},ne=(fe,L=0)=>{var H,X,me;return fe==="month"?(H=I.value)==null?void 0:H.toggleMonthPicker(!1,!0,L):fe==="year"?(X=I.value)==null?void 0:X.toggleYearPicker(!1,!0,L):fe==="time"?(me=I.value)==null?void 0:me.toggleTimePicker(!0,!1):Y(L)},pe=(fe,...L)=>{var H,X;(H=I.value)!=null&&H[fe]&&((X=I.value)==null||X[fe](...L))},se=()=>{pe("selectCurrentDate")},_e=(fe,L)=>{pe("presetDate",fe,L)},Ce=()=>{pe("clearHoverDate")};return e({updateMonthYear:(fe,L)=>{pe("updateMonthYear",fe,L)},switchView:ne}),(fe,L)=>{var H;return N(),W("div",{id:fe.uid?`dp-menu-${fe.uid}`:void 0,ref_key:"dpMenuRef",ref:g,tabindex:"0",role:"dialog",class:$e(V.value),onMouseleave:Ce,onClick:ue,onKeydown:[bt(oe,["esc"]),L[18]||(L[18]=bt(kt(X=>ve("left"),["prevent"]),["left"])),L[19]||(L[19]=bt(kt(X=>ve("up"),["prevent"]),["up"])),L[20]||(L[20]=bt(kt(X=>ve("down"),["prevent"]),["down"])),L[21]||(L[21]=bt(kt(X=>ve("right"),["prevent"]),["right"])),Se]},[(fe.disabled||fe.readonly)&&A(d).enabled?(N(),W("div",{key:0,class:$e(z.value)},null,2)):Z("",!0),!A(d).enabled&&!fe.teleportCenter?(N(),W("div",{key:1,class:$e(te.value)},null,2)):Z("",!0),v("div",{ref_key:"innerMenuRef",ref:y,class:$e({dp__menu_content_wrapper:((H=fe.presetDates)==null?void 0:H.length)||!!fe.$slots["left-sidebar"]||!!fe.$slots["right-sidebar"]}),style:ur({"--dp-menu-width":`${m.value}px`})},[fe.$slots["left-sidebar"]?(N(),W("div",Qfe,[Te(fe.$slots,"left-sidebar",Ln(cr(j.value)))])):Z("",!0),fe.presetDates.length?(N(),W("div",Jfe,[(N(!0),W(Pe,null,ht(fe.presetDates,(X,me)=>(N(),W(Pe,{key:me},[X.slot?Te(fe.$slots,X.slot,{key:0,presetDate:_e,label:X.label,value:X.value}):(N(),W("button",{key:1,type:"button",style:ur(X.style||{}),class:"dp__btn dp--preset-range",onClick:kt(ge=>_e(X.value,X.noTz),["prevent"]),onKeydown:[bt(kt(ge=>_e(X.value,X.noTz),["prevent"]),["enter"]),bt(kt(ge=>_e(X.value,X.noTz),["prevent"]),["space"])]},Fe(X.label),45,Zfe))],64))),128))])):Z("",!0),v("div",{ref_key:"calendarWrapperRef",ref:p,class:"dp__instance_calendar",role:"document"},[(N(),ce(Nn(x.value),le({ref_key:"dynCmpRef",ref:I},s.value,{"flow-step":A(E),onMount:A(w),onUpdateFlowStep:A(b),onResetFlow:A(k),onFocusMenu:O,onSelectDate:L[0]||(L[0]=X=>fe.$emit("select-date")),onDateUpdate:L[1]||(L[1]=X=>fe.$emit("date-update",X)),onTooltipOpen:L[2]||(L[2]=X=>fe.$emit("tooltip-open",X)),onTooltipClose:L[3]||(L[3]=X=>fe.$emit("tooltip-close",X)),onAutoApply:L[4]||(L[4]=X=>fe.$emit("auto-apply",X)),onRangeStart:L[5]||(L[5]=X=>fe.$emit("range-start",X)),onRangeEnd:L[6]||(L[6]=X=>fe.$emit("range-end",X)),onInvalidFixedRange:L[7]||(L[7]=X=>fe.$emit("invalid-fixed-range",X)),onTimeUpdate:L[8]||(L[8]=X=>fe.$emit("time-update")),onAmPmChange:L[9]||(L[9]=X=>fe.$emit("am-pm-change",X)),onTimePickerOpen:L[10]||(L[10]=X=>fe.$emit("time-picker-open",X)),onTimePickerClose:he,onRecalculatePosition:U,onUpdateMonthYear:L[11]||(L[11]=X=>fe.$emit("update-month-year",X)),onAutoApplyInvalid:L[12]||(L[12]=X=>fe.$emit("auto-apply-invalid",X)),onInvalidDate:L[13]||(L[13]=X=>fe.$emit("invalid-date",X)),"onUpdate:internalModelValue":L[14]||(L[14]=X=>fe.$emit("update:internal-model-value",X))}),dr({_:2},[ht(q.value,(X,me)=>({name:X,fn:J(ge=>[Te(fe.$slots,X,Ln(cr({...ge})))])}))]),1040,["flow-step","onMount","onUpdateFlowStep","onResetFlow"]))],512),fe.$slots["right-sidebar"]?(N(),W("div",epe,[Te(fe.$slots,"right-sidebar",Ln(cr(j.value)))])):Z("",!0),fe.$slots["action-extra"]?(N(),W("div",tpe,[fe.$slots["action-extra"]?Te(fe.$slots,"action-extra",{key:0,selectCurrentDate:se}):Z("",!0)])):Z("",!0)],6),!fe.autoApply||A(h).keepActionRow?(N(),ce(nfe,le({key:2,"menu-mount":P.value},s.value,{"calendar-width":m.value,onClosePicker:L[15]||(L[15]=X=>fe.$emit("close-picker")),onSelectDate:L[16]||(L[16]=X=>fe.$emit("select-date")),onInvalidSelect:L[17]||(L[17]=X=>fe.$emit("invalid-select")),onSelectNow:se}),dr({_:2},[ht(A($),(X,me)=>({name:X,fn:J(ge=>[Te(fe.$slots,X,Ln(cr({...ge})))])}))]),1040,["menu-mount","calendar-width"])):Z("",!0)],42,Xfe)}}}),npe=typeof window<"u"?window:void 0,vb=()=>{},rpe=t=>rf()?(_g(t),!0):!1,ipe=(t,e,n,r)=>{if(!t)return vb;let i=vb;const s=pn(()=>A(t),a=>{i(),a&&(a.addEventListener(e,n,r),i=()=>{a.removeEventListener(e,n,r),i=vb})},{immediate:!0,flush:"post"}),o=()=>{s(),i()};return rpe(o),o},spe=(t,e,n,r={})=>{const{window:i=npe,event:s="pointerdown"}=r;return i?ipe(i,s,o=>{const a=gr(t),l=gr(e);!a||!l||a===o.target||o.composedPath().includes(a)||o.composedPath().includes(l)||n(o)},{passive:!0}):void 0},ope=xe({compatConfig:{MODE:3},__name:"VueDatePicker",props:{...xv},emits:["update:model-value","update:model-timezone-value","text-submit","closed","cleared","open","focus","blur","internal-model-change","recalculate-position","flow-step","update-month-year","invalid-select","invalid-fixed-range","tooltip-open","tooltip-close","time-picker-open","time-picker-close","am-pm-change","range-start","range-end","date-update","invalid-date"],setup(t,{expose:e,emit:n}){const r=n,i=t,s=xa(),o=ie(!1),a=Xu(i,"modelValue"),l=Xu(i,"timezone"),u=ie(null),c=ie(null),d=ie(null),h=ie(!1),p=ie(null),m=ie(!1),g=ie(!1),{setMenuFocused:y,setShiftKey:P}=HL(),{clearArrowNav:I}=$a(),{mapDatesArrToMap:S,validateDate:T,isValidTime:M}=Gl(i),{defaultedTransitions:R,defaultedTextInput:C,defaultedInline:E,defaultedConfig:b}=ir(i),{menuTransition:w,showTransition:k}=Df(R);$t(()=>{ve(i.modelValue),rr().then(()=>{if(!E.value.enabled){const we=z(p.value);we==null||we.addEventListener("scroll",fe),window==null||window.addEventListener("resize",L)}}),E.value.enabled&&(o.value=!0),window==null||window.addEventListener("keyup",H),window==null||window.addEventListener("keydown",X)});const x=ee(()=>S());Gs(()=>{if(!E.value.enabled){const we=z(p.value);we==null||we.removeEventListener("scroll",fe),window==null||window.removeEventListener("resize",L)}window==null||window.removeEventListener("keyup",H),window==null||window.removeEventListener("keydown",X)});const O=Vi(s,"all",i.presetDates),j=Vi(s,"input");pn([a,l],()=>{ve(a.value)},{deep:!0});const{openOnTop:U,menuStyle:$,xCorrect:q,setMenuPosition:te,getScrollableParent:z,shadowRender:V}=Hhe({menuRef:u,menuRefInner:c,inputRef:d,pickerWrapperRef:p,inline:E,emit:r,props:i,slots:s}),{inputValue:ue,internalModelValue:oe,parseExternalModelValue:ve,emitModelValue:Se,formatInputValue:he,checkBeforeEmit:Y}=Bhe(r,i,h),ne=ee(()=>({dp__main:!0,dp__theme_dark:i.dark,dp__theme_light:!i.dark,dp__flex_display:E.value.enabled,dp__flex_display_with_input:E.value.input})),pe=ee(()=>i.dark?"dp__theme_dark":"dp__theme_light"),se=ee(()=>({to:typeof i.teleport=="boolean"?"body":i.teleport,disabled:!i.teleport||E.value.enabled})),_e=ee(()=>({class:"dp__outer_menu_wrap"})),Ce=ee(()=>E.value.enabled&&(i.timePicker||i.monthPicker||i.yearPicker||i.quarterPicker)),fe=()=>{o.value&&(b.value.closeOnScroll?We():te())},L=()=>{o.value&&te()},H=we=>{we.key==="Tab"&&!E.value.enabled&&!i.teleport&&b.value.tabOutClosesMenu&&(p.value.contains(document.activeElement)||We()),g.value=we.shiftKey},X=we=>{g.value=we.shiftKey},me=()=>{!i.disabled&&!i.readonly&&(V(FP,i),te(!1),o.value=!0,o.value&&r("open"),o.value||He(),ve(i.modelValue))},ge=()=>{var we;ue.value="",He(),(we=d.value)==null||we.setParsedDate(null),r("update:model-value",null),r("update:model-timezone-value",null),r("cleared"),b.value.closeOnClearValue&&We()},Ae=()=>{const we=oe.value;return!we||!Array.isArray(we)&&T(we)?!0:Array.isArray(we)?i.multiDates||we.length===2&&T(we[0])&&T(we[1])?!0:i.partialRange&&!i.timePicker?T(we[0]):!1:!1},Ve=()=>{Y()&&Ae()?(Se(),We()):r("invalid-select",oe.value)},ke=we=>{De(),Se(),b.value.closeOnAutoApply&&!we&&We()},De=()=>{d.value&&C.value.enabled&&d.value.setParsedDate(oe.value)},Ie=(we=!1)=>{i.autoApply&&M(oe.value)&&Ae()&&(i.range&&Array.isArray(oe.value)?(i.partialRange||oe.value.length===2)&&ke(we):ke(we))},He=()=>{C.value.enabled||(oe.value=null)},We=()=>{E.value.enabled||(o.value&&(o.value=!1,q.value=!1,y(!1),P(!1),I(),r("closed"),ue.value&&ve(a.value)),He(),r("blur"))},Qe=(we,Ne,Ue=!1)=>{if(!we){oe.value=null;return}const rt=Array.isArray(we)?!we.some(ut=>!T(ut)):T(we),Ye=M(we);rt&&Ye&&(oe.value=we,Ne&&(m.value=Ue,Ve(),r("text-submit")))},lt=()=>{i.autoApply&&M(oe.value)&&Se(),De()},et=()=>o.value?We():me(),re=we=>{oe.value=we},G=()=>{C.value.enabled&&(h.value=!0,he()),r("focus")},Q=()=>{if(C.value.enabled&&(h.value=!1,ve(i.modelValue),m.value)){const we=whe(p.value,g.value);we==null||we.focus()}r("blur")},ae=we=>{c.value&&c.value.updateMonthYear(0,{month:xP(we.month),year:xP(we.year)})},be=we=>{ve(we??i.modelValue)},qe=(we,Ne)=>{var Ue;(Ue=c.value)==null||Ue.switchView(we,Ne)},tt=we=>b.value.onClickOutside?b.value.onClickOutside(we):We();return spe(u,d,()=>tt(Ae)),e({closeMenu:We,selectDate:Ve,clearValue:ge,openMenu:me,onScroll:fe,formatInputValue:he,updateInternalModelValue:re,setMonthYear:ae,parseModel:be,switchView:qe,toggleMenu:et}),(we,Ne)=>(N(),W("div",{ref_key:"pickerWrapperRef",ref:p,class:$e(ne.value),"data-datepicker-instance":""},[B(Jhe,le({ref_key:"inputRef",ref:d,"input-value":A(ue),"onUpdate:inputValue":Ne[0]||(Ne[0]=Ue=>_n(ue)?ue.value=Ue:null),"is-menu-open":o.value},we.$props,{onClear:ge,onOpen:me,onSetInputDate:Qe,onSetEmptyDate:A(Se),onSelectDate:Ve,onToggle:et,onClose:We,onFocus:G,onBlur:Q,onRealBlur:Ne[1]||(Ne[1]=Ue=>h.value=!1)}),dr({_:2},[ht(A(j),(Ue,rt)=>({name:Ue,fn:J(Ye=>[Te(we.$slots,Ue,Ln(cr(Ye)))])}))]),1040,["input-value","is-menu-open","onSetEmptyDate"]),B(B_,Ln(cr(se.value)),{default:J(()=>[B(ns,{name:A(w)(A(U)),css:A(k)&&!A(E).enabled},{default:J(()=>[o.value?(N(),W("div",le({key:0,ref_key:"dpWrapMenuRef",ref:u},_e.value,{class:{"dp--menu-wrapper":!A(E).enabled},style:A(E).enabled?void 0:A($)}),[B(FP,le({ref_key:"dpMenuRef",ref:c},we.$props,{"internal-model-value":A(oe),"onUpdate:internalModelValue":Ne[2]||(Ne[2]=Ue=>_n(oe)?oe.value=Ue:null),class:{[pe.value]:!0,"dp--menu-wrapper":we.teleport},"open-on-top":A(U),"arr-map-values":x.value,"no-overlay-focus":Ce.value,onClosePicker:We,onSelectDate:Ve,onAutoApply:Ie,onTimeUpdate:lt,onFlowStep:Ne[3]||(Ne[3]=Ue=>we.$emit("flow-step",Ue)),onUpdateMonthYear:Ne[4]||(Ne[4]=Ue=>we.$emit("update-month-year",Ue)),onInvalidSelect:Ne[5]||(Ne[5]=Ue=>we.$emit("invalid-select",A(oe))),onAutoApplyInvalid:Ne[6]||(Ne[6]=Ue=>we.$emit("invalid-select",Ue)),onInvalidFixedRange:Ne[7]||(Ne[7]=Ue=>we.$emit("invalid-fixed-range",Ue)),onRecalculatePosition:A(te),onTooltipOpen:Ne[8]||(Ne[8]=Ue=>we.$emit("tooltip-open",Ue)),onTooltipClose:Ne[9]||(Ne[9]=Ue=>we.$emit("tooltip-close",Ue)),onTimePickerOpen:Ne[10]||(Ne[10]=Ue=>we.$emit("time-picker-open",Ue)),onTimePickerClose:Ne[11]||(Ne[11]=Ue=>we.$emit("time-picker-close",Ue)),onAmPmChange:Ne[12]||(Ne[12]=Ue=>we.$emit("am-pm-change",Ue)),onRangeStart:Ne[13]||(Ne[13]=Ue=>we.$emit("range-start",Ue)),onRangeEnd:Ne[14]||(Ne[14]=Ue=>we.$emit("range-end",Ue)),onDateUpdate:Ne[15]||(Ne[15]=Ue=>we.$emit("date-update",Ue)),onInvalidDate:Ne[16]||(Ne[16]=Ue=>we.$emit("invalid-date",Ue))}),dr({_:2},[ht(A(O),(Ue,rt)=>({name:Ue,fn:J(Ye=>[Te(we.$slots,Ue,Ln(cr({...Ye})))])}))]),1040,["internal-model-value","class","open-on-top","arr-map-values","no-overlay-focus","onRecalculatePosition"])],16)):Z("",!0)]),_:3},8,["name","css"])]),_:3},16)],2))}}),wT=(()=>{const t=ope;return t.install=e=>{e.component("Vue3DatePicker",t)},t})(),ape=Object.freeze(Object.defineProperty({__proto__:null,default:wT},Symbol.toStringTag,{value:"Module"}));Object.entries(ape).forEach(([t,e])=>{t!=="default"&&(wT[t]=e)});var Hr={STARTS_WITH:"startsWith",CONTAINS:"contains",NOT_CONTAINS:"notContains",ENDS_WITH:"endsWith",EQUALS:"equals",NOT_EQUALS:"notEquals",IN:"in",LESS_THAN:"lt",LESS_THAN_OR_EQUAL_TO:"lte",GREATER_THAN:"gt",GREATER_THAN_OR_EQUAL_TO:"gte",BETWEEN:"between",DATE_IS:"dateIs",DATE_IS_NOT:"dateIsNot",DATE_BEFORE:"dateBefore",DATE_AFTER:"dateAfter"};function UP(t,e){var n=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=lpe(t))||e&&t&&typeof t.length=="number"){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(u){throw u},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var s=!0,o=!1,a;return{s:function(){n=n.call(t)},n:function(){var u=n.next();return s=u.done,u},e:function(u){o=!0,a=u},f:function(){try{!s&&n.return!=null&&n.return()}finally{if(o)throw a}}}}function lpe(t,e){if(t){if(typeof t=="string")return qP(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return qP(t,e)}}function qP(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var XL={filter:function(e,n,r,i,s){var o=[];if(!e)return o;var a=UP(e),l;try{for(a.s();!(l=a.n()).done;){var u=l.value;if(typeof u=="string"){if(this.filters[i](u,r,s)){o.push(u);continue}}else{var c=UP(n),d;try{for(c.s();!(d=c.n()).done;){var h=d.value,p=Me.resolveFieldData(u,h);if(this.filters[i](p,r,s)){o.push(u);break}}}catch(m){c.e(m)}finally{c.f()}}}}catch(m){a.e(m)}finally{a.f()}return o},filters:{startsWith:function(e,n,r){if(n==null||n==="")return!0;if(e==null)return!1;var i=Me.removeAccents(n.toString()).toLocaleLowerCase(r),s=Me.removeAccents(e.toString()).toLocaleLowerCase(r);return s.slice(0,i.length)===i},contains:function(e,n,r){if(n==null||n==="")return!0;if(e==null)return!1;var i=Me.removeAccents(n.toString()).toLocaleLowerCase(r),s=Me.removeAccents(e.toString()).toLocaleLowerCase(r);return s.indexOf(i)!==-1},notContains:function(e,n,r){if(n==null||n==="")return!0;if(e==null)return!1;var i=Me.removeAccents(n.toString()).toLocaleLowerCase(r),s=Me.removeAccents(e.toString()).toLocaleLowerCase(r);return s.indexOf(i)===-1},endsWith:function(e,n,r){if(n==null||n==="")return!0;if(e==null)return!1;var i=Me.removeAccents(n.toString()).toLocaleLowerCase(r),s=Me.removeAccents(e.toString()).toLocaleLowerCase(r);return s.indexOf(i,s.length-i.length)!==-1},equals:function(e,n,r){return n==null||n===""?!0:e==null?!1:e.getTime&&n.getTime?e.getTime()===n.getTime():Me.removeAccents(e.toString()).toLocaleLowerCase(r)==Me.removeAccents(n.toString()).toLocaleLowerCase(r)},notEquals:function(e,n,r){return n==null||n===""?!1:e==null?!0:e.getTime&&n.getTime?e.getTime()!==n.getTime():Me.removeAccents(e.toString()).toLocaleLowerCase(r)!=Me.removeAccents(n.toString()).toLocaleLowerCase(r)},in:function(e,n){if(n==null||n.length===0)return!0;for(var r=0;r<n.length;r++)if(Me.equals(e,n[r]))return!0;return!1},between:function(e,n){return n==null||n[0]==null||n[1]==null?!0:e==null?!1:e.getTime?n[0].getTime()<=e.getTime()&&e.getTime()<=n[1].getTime():n[0]<=e&&e<=n[1]},lt:function(e,n){return n==null?!0:e==null?!1:e.getTime&&n.getTime?e.getTime()<n.getTime():e<n},lte:function(e,n){return n==null?!0:e==null?!1:e.getTime&&n.getTime?e.getTime()<=n.getTime():e<=n},gt:function(e,n){return n==null?!0:e==null?!1:e.getTime&&n.getTime?e.getTime()>n.getTime():e>n},gte:function(e,n){return n==null?!0:e==null?!1:e.getTime&&n.getTime?e.getTime()>=n.getTime():e>=n},dateIs:function(e,n){return n==null?!0:e==null?!1:e.toDateString()===n.toDateString()},dateIsNot:function(e,n){return n==null?!0:e==null?!1:e.toDateString()!==n.toDateString()},dateBefore:function(e,n){return n==null?!0:e==null?!1:e.getTime()<n.getTime()},dateAfter:function(e,n){return n==null?!0:e==null?!1:e.getTime()>n.getTime()}},register:function(e,n){this.filters[e]=n}};function Yh(t){"@babel/helpers - typeof";return Yh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yh(t)}function BP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function yb(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?BP(Object(n),!0).forEach(function(r){upe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):BP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function upe(t,e,n){return e=cpe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function cpe(t){var e=dpe(t,"string");return Yh(e)=="symbol"?e:String(e)}function dpe(t,e){if(Yh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Yh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var jP={ripple:!1,inputStyle:null,locale:{startsWith:"Starts with",contains:"Contains",notContains:"Not contains",endsWith:"Ends with",equals:"Equals",notEquals:"Not equals",noFilter:"No Filter",lt:"Less than",lte:"Less than or equal to",gt:"Greater than",gte:"Greater than or equal to",dateIs:"Date is",dateIsNot:"Date is not",dateBefore:"Date is before",dateAfter:"Date is after",clear:"Clear",apply:"Apply",matchAll:"Match All",matchAny:"Match Any",addRule:"Add Rule",removeRule:"Remove Rule",accept:"Yes",reject:"No",choose:"Choose",upload:"Upload",cancel:"Cancel",completed:"Completed",pending:"Pending",fileSizeTypes:["B","KB","MB","GB","TB","PB","EB","ZB","YB"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],chooseYear:"Choose Year",chooseMonth:"Choose Month",chooseDate:"Choose Date",prevDecade:"Previous Decade",nextDecade:"Next Decade",prevYear:"Previous Year",nextYear:"Next Year",prevMonth:"Previous Month",nextMonth:"Next Month",prevHour:"Previous Hour",nextHour:"Next Hour",prevMinute:"Previous Minute",nextMinute:"Next Minute",prevSecond:"Previous Second",nextSecond:"Next Second",am:"am",pm:"pm",today:"Today",weekHeader:"Wk",firstDayOfWeek:0,showMonthAfterYear:!1,dateFormat:"mm/dd/yy",weak:"Weak",medium:"Medium",strong:"Strong",passwordPrompt:"Enter a password",emptyFilterMessage:"No results found",searchMessage:"{0} results are available",selectionMessage:"{0} items selected",emptySelectionMessage:"No selected item",emptySearchMessage:"No results found",emptyMessage:"No available options",aria:{trueLabel:"True",falseLabel:"False",nullLabel:"Not Selected",star:"1 star",stars:"{star} stars",selectAll:"All items selected",unselectAll:"All items unselected",close:"Close",previous:"Previous",next:"Next",navigation:"Navigation",scrollTop:"Scroll Top",moveTop:"Move Top",moveUp:"Move Up",moveDown:"Move Down",moveBottom:"Move Bottom",moveToTarget:"Move to Target",moveToSource:"Move to Source",moveAllToTarget:"Move All to Target",moveAllToSource:"Move All to Source",pageLabel:"Page {page}",firstPageLabel:"First Page",lastPageLabel:"Last Page",nextPageLabel:"Next Page",prevPageLabel:"Previous Page",rowsPerPageLabel:"Rows per page",jumpToPageDropdownLabel:"Jump to Page Dropdown",jumpToPageInputLabel:"Jump to Page Input",selectRow:"Row Selected",unselectRow:"Row Unselected",expandRow:"Row Expanded",collapseRow:"Row Collapsed",showFilterMenu:"Show Filter Menu",hideFilterMenu:"Hide Filter Menu",filterOperator:"Filter Operator",filterConstraint:"Filter Constraint",editRow:"Row Edit",saveEdit:"Save Edit",cancelEdit:"Cancel Edit",listView:"List View",gridView:"Grid View",slide:"Slide",slideNumber:"{slideNumber}",zoomImage:"Zoom Image",zoomIn:"Zoom In",zoomOut:"Zoom Out",rotateRight:"Rotate Right",rotateLeft:"Rotate Left",listLabel:"Option List"}},filterMatchModeOptions:{text:[Hr.STARTS_WITH,Hr.CONTAINS,Hr.NOT_CONTAINS,Hr.ENDS_WITH,Hr.EQUALS,Hr.NOT_EQUALS],numeric:[Hr.EQUALS,Hr.NOT_EQUALS,Hr.LESS_THAN,Hr.LESS_THAN_OR_EQUAL_TO,Hr.GREATER_THAN,Hr.GREATER_THAN_OR_EQUAL_TO],date:[Hr.DATE_IS,Hr.DATE_IS_NOT,Hr.DATE_BEFORE,Hr.DATE_AFTER]},zIndex:{modal:1100,overlay:1e3,menu:1e3,tooltip:1100},pt:void 0,ptOptions:{mergeSections:!0,mergeProps:!1},unstyled:!1,csp:{nonce:void 0}},hpe=Symbol();function fpe(t,e,n,r){if(t!==e){var i=document.getElementById(n),s=i.cloneNode(!0),o=i.getAttribute("href").replace(t,e);s.setAttribute("id",n+"-clone"),s.setAttribute("href",o),s.addEventListener("load",function(){i.remove(),s.setAttribute("id",n),r&&r()}),i.parentNode&&i.parentNode.insertBefore(s,i.nextSibling)}}var ppe={install:function(e,n){var r=n?yb(yb({},jP),n):yb({},jP),i={config:Pr(r),changeTheme:fpe};e.config.globalProperties.$primevue=i,e.provide(hpe,i)}},QL={name:"BlankIcon",extends:Va},mpe=v("rect",{width:"1",height:"1",fill:"currentColor","fill-opacity":"0"},null,-1),gpe=[mpe];function vpe(t,e,n,r,i,s){return N(),W("svg",le({width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t.pti()),gpe,16)}QL.render=vpe;var Mv={name:"CheckIcon",extends:Va},ype=v("path",{d:"M4.86199 11.5948C4.78717 11.5923 4.71366 11.5745 4.64596 11.5426C4.57826 11.5107 4.51779 11.4652 4.46827 11.4091L0.753985 7.69483C0.683167 7.64891 0.623706 7.58751 0.580092 7.51525C0.536478 7.44299 0.509851 7.36177 0.502221 7.27771C0.49459 7.19366 0.506156 7.10897 0.536046 7.03004C0.565935 6.95111 0.613367 6.88 0.674759 6.82208C0.736151 6.76416 0.8099 6.72095 0.890436 6.69571C0.970973 6.67046 1.05619 6.66385 1.13966 6.67635C1.22313 6.68886 1.30266 6.72017 1.37226 6.76792C1.44186 6.81567 1.4997 6.8786 1.54141 6.95197L4.86199 10.2503L12.6397 2.49483C12.7444 2.42694 12.8689 2.39617 12.9932 2.40745C13.1174 2.41873 13.2343 2.47141 13.3251 2.55705C13.4159 2.64268 13.4753 2.75632 13.4938 2.87973C13.5123 3.00315 13.4888 3.1292 13.4271 3.23768L5.2557 11.4091C5.20618 11.4652 5.14571 11.5107 5.07801 11.5426C5.01031 11.5745 4.9368 11.5923 4.86199 11.5948Z",fill:"currentColor"},null,-1),bpe=[ype];function _pe(t,e,n,r,i,s){return N(),W("svg",le({width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t.pti()),bpe,16)}Mv.render=_pe;var TT={name:"SearchIcon",extends:Va},wpe=v("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M2.67602 11.0265C3.6661 11.688 4.83011 12.0411 6.02086 12.0411C6.81149 12.0411 7.59438 11.8854 8.32483 11.5828C8.87005 11.357 9.37808 11.0526 9.83317 10.6803L12.9769 13.8241C13.0323 13.8801 13.0983 13.9245 13.171 13.9548C13.2438 13.985 13.3219 14.0003 13.4007 14C13.4795 14.0003 13.5575 13.985 13.6303 13.9548C13.7031 13.9245 13.7691 13.8801 13.8244 13.8241C13.9367 13.7116 13.9998 13.5592 13.9998 13.4003C13.9998 13.2414 13.9367 13.089 13.8244 12.9765L10.6807 9.8328C11.053 9.37773 11.3573 8.86972 11.5831 8.32452C11.8857 7.59408 12.0414 6.81119 12.0414 6.02056C12.0414 4.8298 11.6883 3.66579 11.0268 2.67572C10.3652 1.68564 9.42494 0.913972 8.32483 0.45829C7.22472 0.00260857 6.01418 -0.116618 4.84631 0.115686C3.67844 0.34799 2.60568 0.921393 1.76369 1.76338C0.921698 2.60537 0.348296 3.67813 0.115991 4.84601C-0.116313 6.01388 0.00291375 7.22441 0.458595 8.32452C0.914277 9.42464 1.68595 10.3649 2.67602 11.0265ZM3.35565 2.0158C4.14456 1.48867 5.07206 1.20731 6.02086 1.20731C7.29317 1.20731 8.51338 1.71274 9.41304 2.6124C10.3127 3.51206 10.8181 4.73226 10.8181 6.00457C10.8181 6.95337 10.5368 7.88088 10.0096 8.66978C9.48251 9.45868 8.73328 10.0736 7.85669 10.4367C6.98011 10.7997 6.01554 10.8947 5.08496 10.7096C4.15439 10.5245 3.2996 10.0676 2.62869 9.39674C1.95778 8.72583 1.50089 7.87104 1.31579 6.94046C1.13068 6.00989 1.22568 5.04532 1.58878 4.16874C1.95187 3.29215 2.56675 2.54292 3.35565 2.0158Z",fill:"currentColor"},null,-1),Tpe=[wpe];function Epe(t,e,n,r,i,s){return N(),W("svg",le({width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t.pti()),Tpe,16)}TT.render=Epe;var ET={name:"TimesIcon",extends:Va},Spe=v("path",{d:"M8.01186 7.00933L12.27 2.75116C12.341 2.68501 12.398 2.60524 12.4375 2.51661C12.4769 2.42798 12.4982 2.3323 12.4999 2.23529C12.5016 2.13827 12.4838 2.0419 12.4474 1.95194C12.4111 1.86197 12.357 1.78024 12.2884 1.71163C12.2198 1.64302 12.138 1.58893 12.0481 1.55259C11.9581 1.51625 11.8617 1.4984 11.7647 1.50011C11.6677 1.50182 11.572 1.52306 11.4834 1.56255C11.3948 1.60204 11.315 1.65898 11.2488 1.72997L6.99067 5.98814L2.7325 1.72997C2.59553 1.60234 2.41437 1.53286 2.22718 1.53616C2.03999 1.53946 1.8614 1.61529 1.72901 1.74767C1.59663 1.88006 1.5208 2.05865 1.5175 2.24584C1.5142 2.43303 1.58368 2.61419 1.71131 2.75116L5.96948 7.00933L1.71131 11.2675C1.576 11.403 1.5 11.5866 1.5 11.7781C1.5 11.9696 1.576 12.1532 1.71131 12.2887C1.84679 12.424 2.03043 12.5 2.2219 12.5C2.41338 12.5 2.59702 12.424 2.7325 12.2887L6.99067 8.03052L11.2488 12.2887C11.3843 12.424 11.568 12.5 11.7594 12.5C11.9509 12.5 12.1346 12.424 12.27 12.2887C12.4053 12.1532 12.4813 11.9696 12.4813 11.7781C12.4813 11.5866 12.4053 11.403 12.27 11.2675L8.01186 7.00933Z",fill:"currentColor"},null,-1),Ipe=[Spe];function Cpe(t,e,n,r,i,s){return N(),W("svg",le({width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t.pti()),Ipe,16)}ET.render=Cpe;var JL=mY(),ST={name:"Portal",props:{appendTo:{type:[String,Object],default:"body"},disabled:{type:Boolean,default:!1}},data:function(){return{mounted:!1}},mounted:function(){this.mounted=ze.isClient()},computed:{inline:function(){return this.disabled||this.appendTo==="self"}}};function Ape(t,e,n,r,i,s){return s.inline?Te(t.$slots,"default",{key:0}):i.mounted?(N(),ce(B_,{key:1,to:n.appendTo},[Te(t.$slots,"default")],8,["to"])):Z("",!0)}ST.render=Ape;var Ppe=`
@layer primevue {
    .p-virtualscroller {
        position: relative;
        overflow: auto;
        contain: strict;
        transform: translateZ(0);
        will-change: scroll-position;
        outline: 0 none;
    }

    .p-virtualscroller-content {
        position: absolute;
        top: 0;
        left: 0;
        /* contain: content; */
        min-height: 100%;
        min-width: 100%;
        will-change: transform;
    }

    .p-virtualscroller-spacer {
        position: absolute;
        top: 0;
        left: 0;
        height: 1px;
        width: 1px;
        transform-origin: 0 0;
        pointer-events: none;
    }

    .p-virtualscroller .p-virtualscroller-loader {
        position: sticky;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
    }

    .p-virtualscroller-loader.p-component-overlay {
        display: flex;
        align-items: center;
        justify-content: center;
    }

    .p-virtualscroller-loading-icon {
        font-size: 2rem;
    }

    .p-virtualscroller-loading-icon.p-icon {
        width: 2rem;
        height: 2rem;
    }

    .p-virtualscroller-horizontal > .p-virtualscroller-content {
        display: flex;
    }

    /* Inline */
    .p-virtualscroller-inline .p-virtualscroller-content {
        position: static;
    }
}
`,HP=fr.extend({name:"virtualscroller",css:Ppe}),Ope={name:"BaseVirtualScroller",extends:oi,props:{id:{type:String,default:null},style:null,class:null,items:{type:Array,default:null},itemSize:{type:[Number,Array],default:0},scrollHeight:null,scrollWidth:null,orientation:{type:String,default:"vertical"},numToleratedItems:{type:Number,default:null},delay:{type:Number,default:0},resizeDelay:{type:Number,default:10},lazy:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},loaderDisabled:{type:Boolean,default:!1},columns:{type:Array,default:null},loading:{type:Boolean,default:!1},showSpacer:{type:Boolean,default:!0},showLoader:{type:Boolean,default:!1},tabindex:{type:Number,default:0},inline:{type:Boolean,default:!1},step:{type:Number,default:0},appendOnly:{type:Boolean,default:!1},autoSize:{type:Boolean,default:!1}},style:HP,provide:function(){return{$parentInstance:this}},beforeMount:function(){var e;HP.loadStyle({nonce:(e=this.$primevueConfig)===null||e===void 0||(e=e.csp)===null||e===void 0?void 0:e.nonce})}};function Xh(t){"@babel/helpers - typeof";return Xh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xh(t)}function WP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function yd(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?WP(Object(n),!0).forEach(function(r){ZL(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):WP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ZL(t,e,n){return e=kpe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function kpe(t){var e=Rpe(t,"string");return Xh(e)=="symbol"?e:String(e)}function Rpe(t,e){if(Xh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Xh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var IT={name:"VirtualScroller",extends:Ope,inheritAttrs:!1,emits:["update:numToleratedItems","scroll","scroll-index-change","lazy-load"],data:function(){var e=this.isBoth();return{first:e?{rows:0,cols:0}:0,last:e?{rows:0,cols:0}:0,page:e?{rows:0,cols:0}:0,numItemsInViewport:e?{rows:0,cols:0}:0,lastScrollPos:e?{top:0,left:0}:0,d_numToleratedItems:this.numToleratedItems,d_loading:this.loading,loaderArr:[],spacerStyle:{},contentStyle:{}}},element:null,content:null,lastScrollPos:null,scrollTimeout:null,resizeTimeout:null,defaultWidth:0,defaultHeight:0,defaultContentWidth:0,defaultContentHeight:0,isRangeChanged:!1,lazyLoadState:{},resizeListener:null,initialized:!1,watch:{numToleratedItems:function(e){this.d_numToleratedItems=e},loading:function(e,n){this.lazy&&e!==n&&e!==this.d_loading&&(this.d_loading=e)},items:function(e,n){(!n||n.length!==(e||[]).length)&&(this.init(),this.calculateAutoSize())},itemSize:function(){this.init(),this.calculateAutoSize()},orientation:function(){this.lastScrollPos=this.isBoth()?{top:0,left:0}:0},scrollHeight:function(){this.init(),this.calculateAutoSize()},scrollWidth:function(){this.init(),this.calculateAutoSize()}},mounted:function(){this.viewInit(),this.lastScrollPos=this.isBoth()?{top:0,left:0}:0,this.lazyLoadState=this.lazyLoadState||{}},updated:function(){!this.initialized&&this.viewInit()},unmounted:function(){this.unbindResizeListener(),this.initialized=!1},methods:{viewInit:function(){ze.isVisible(this.element)&&(this.setContentEl(this.content),this.init(),this.calculateAutoSize(),this.bindResizeListener(),this.defaultWidth=ze.getWidth(this.element),this.defaultHeight=ze.getHeight(this.element),this.defaultContentWidth=ze.getWidth(this.content),this.defaultContentHeight=ze.getHeight(this.content),this.initialized=!0)},init:function(){this.disabled||(this.setSize(),this.calculateOptions(),this.setSpacerSize())},isVertical:function(){return this.orientation==="vertical"},isHorizontal:function(){return this.orientation==="horizontal"},isBoth:function(){return this.orientation==="both"},scrollTo:function(e){this.element&&this.element.scrollTo(e)},scrollToIndex:function(e){var n=this,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"auto",i=this.isBoth(),s=this.isHorizontal(),o=i?e.every(function(C){return C>-1}):e>-1;if(o){var a=this.first,l=this.element,u=l.scrollTop,c=u===void 0?0:u,d=l.scrollLeft,h=d===void 0?0:d,p=this.calculateNumItems(),m=p.numToleratedItems,g=this.getContentPosition(),y=this.itemSize,P=function(){var E=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,b=arguments.length>1?arguments[1]:void 0;return E<=b?0:E},I=function(E,b,w){return E*b+w},S=function(){var E=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,b=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return n.scrollTo({left:E,top:b,behavior:r})},T=i?{rows:0,cols:0}:0,M=!1,R=!1;i?(T={rows:P(e[0],m[0]),cols:P(e[1],m[1])},S(I(T.cols,y[1],g.left),I(T.rows,y[0],g.top)),R=this.lastScrollPos.top!==c||this.lastScrollPos.left!==h,M=T.rows!==a.rows||T.cols!==a.cols):(T=P(e,m),s?S(I(T,y,g.left),c):S(h,I(T,y,g.top)),R=this.lastScrollPos!==(s?h:c),M=T!==a),this.isRangeChanged=M,R&&(this.first=T)}},scrollInView:function(e,n){var r=this,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"auto";if(n){var s=this.isBoth(),o=this.isHorizontal(),a=s?e.every(function(y){return y>-1}):e>-1;if(a){var l=this.getRenderedRange(),u=l.first,c=l.viewport,d=function(){var P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,I=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return r.scrollTo({left:P,top:I,behavior:i})},h=n==="to-start",p=n==="to-end";if(h){if(s)c.first.rows-u.rows>e[0]?d(c.first.cols*this.itemSize[1],(c.first.rows-1)*this.itemSize[0]):c.first.cols-u.cols>e[1]&&d((c.first.cols-1)*this.itemSize[1],c.first.rows*this.itemSize[0]);else if(c.first-u>e){var m=(c.first-1)*this.itemSize;o?d(m,0):d(0,m)}}else if(p){if(s)c.last.rows-u.rows<=e[0]+1?d(c.first.cols*this.itemSize[1],(c.first.rows+1)*this.itemSize[0]):c.last.cols-u.cols<=e[1]+1&&d((c.first.cols+1)*this.itemSize[1],c.first.rows*this.itemSize[0]);else if(c.last-u<=e+1){var g=(c.first+1)*this.itemSize;o?d(g,0):d(0,g)}}}}else this.scrollToIndex(e,i)},getRenderedRange:function(){var e=function(d,h){return Math.floor(d/(h||d))},n=this.first,r=0;if(this.element){var i=this.isBoth(),s=this.isHorizontal(),o=this.element,a=o.scrollTop,l=o.scrollLeft;if(i)n={rows:e(a,this.itemSize[0]),cols:e(l,this.itemSize[1])},r={rows:n.rows+this.numItemsInViewport.rows,cols:n.cols+this.numItemsInViewport.cols};else{var u=s?l:a;n=e(u,this.itemSize),r=n+this.numItemsInViewport}}return{first:this.first,last:this.last,viewport:{first:n,last:r}}},calculateNumItems:function(){var e=this.isBoth(),n=this.isHorizontal(),r=this.itemSize,i=this.getContentPosition(),s=this.element?this.element.offsetWidth-i.left:0,o=this.element?this.element.offsetHeight-i.top:0,a=function(h,p){return Math.ceil(h/(p||h))},l=function(h){return Math.ceil(h/2)},u=e?{rows:a(o,r[0]),cols:a(s,r[1])}:a(n?s:o,r),c=this.d_numToleratedItems||(e?[l(u.rows),l(u.cols)]:l(u));return{numItemsInViewport:u,numToleratedItems:c}},calculateOptions:function(){var e=this,n=this.isBoth(),r=this.first,i=this.calculateNumItems(),s=i.numItemsInViewport,o=i.numToleratedItems,a=function(c,d,h){var p=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;return e.getLast(c+d+(c<h?2:3)*h,p)},l=n?{rows:a(r.rows,s.rows,o[0]),cols:a(r.cols,s.cols,o[1],!0)}:a(r,s,o);this.last=l,this.numItemsInViewport=s,this.d_numToleratedItems=o,this.$emit("update:numToleratedItems",this.d_numToleratedItems),this.showLoader&&(this.loaderArr=n?Array.from({length:s.rows}).map(function(){return Array.from({length:s.cols})}):Array.from({length:s})),this.lazy&&Promise.resolve().then(function(){var u;e.lazyLoadState={first:e.step?n?{rows:0,cols:r.cols}:0:r,last:Math.min(e.step?e.step:l,((u=e.items)===null||u===void 0?void 0:u.length)||0)},e.$emit("lazy-load",e.lazyLoadState)})},calculateAutoSize:function(){var e=this;this.autoSize&&!this.d_loading&&Promise.resolve().then(function(){if(e.content){var n=e.isBoth(),r=e.isHorizontal(),i=e.isVertical();e.content.style.minHeight=e.content.style.minWidth="auto",e.content.style.position="relative",e.element.style.contain="none";var s=[ze.getWidth(e.element),ze.getHeight(e.element)],o=s[0],a=s[1];(n||r)&&(e.element.style.width=o<e.defaultWidth?o+"px":e.scrollWidth||e.defaultWidth+"px"),(n||i)&&(e.element.style.height=a<e.defaultHeight?a+"px":e.scrollHeight||e.defaultHeight+"px"),e.content.style.minHeight=e.content.style.minWidth="",e.content.style.position="",e.element.style.contain=""}})},getLast:function(){var e,n,r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,i=arguments.length>1?arguments[1]:void 0;return this.items?Math.min(i?((e=this.columns||this.items[0])===null||e===void 0?void 0:e.length)||0:((n=this.items)===null||n===void 0?void 0:n.length)||0,r):0},getContentPosition:function(){if(this.content){var e=getComputedStyle(this.content),n=parseFloat(e.paddingLeft)+Math.max(parseFloat(e.left)||0,0),r=parseFloat(e.paddingRight)+Math.max(parseFloat(e.right)||0,0),i=parseFloat(e.paddingTop)+Math.max(parseFloat(e.top)||0,0),s=parseFloat(e.paddingBottom)+Math.max(parseFloat(e.bottom)||0,0);return{left:n,right:r,top:i,bottom:s,x:n+r,y:i+s}}return{left:0,right:0,top:0,bottom:0,x:0,y:0}},setSize:function(){var e=this;if(this.element){var n=this.isBoth(),r=this.isHorizontal(),i=this.element.parentElement,s=this.scrollWidth||"".concat(this.element.offsetWidth||i.offsetWidth,"px"),o=this.scrollHeight||"".concat(this.element.offsetHeight||i.offsetHeight,"px"),a=function(u,c){return e.element.style[u]=c};n||r?(a("height",o),a("width",s)):a("height",o)}},setSpacerSize:function(){var e=this,n=this.items;if(n){var r=this.isBoth(),i=this.isHorizontal(),s=this.getContentPosition(),o=function(l,u,c){var d=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;return e.spacerStyle=yd(yd({},e.spacerStyle),ZL({},"".concat(l),(u||[]).length*c+d+"px"))};r?(o("height",n,this.itemSize[0],s.y),o("width",this.columns||n[1],this.itemSize[1],s.x)):i?o("width",this.columns||n,this.itemSize,s.x):o("height",n,this.itemSize,s.y)}},setContentPosition:function(e){var n=this;if(this.content&&!this.appendOnly){var r=this.isBoth(),i=this.isHorizontal(),s=e?e.first:this.first,o=function(c,d){return c*d},a=function(){var c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return n.contentStyle=yd(yd({},n.contentStyle),{transform:"translate3d(".concat(c,"px, ").concat(d,"px, 0)")})};if(r)a(o(s.cols,this.itemSize[1]),o(s.rows,this.itemSize[0]));else{var l=o(s,this.itemSize);i?a(l,0):a(0,l)}}},onScrollPositionChange:function(e){var n=this,r=e.target,i=this.isBoth(),s=this.isHorizontal(),o=this.getContentPosition(),a=function(k,x){return k?k>x?k-x:k:0},l=function(k,x){return Math.floor(k/(x||k))},u=function(k,x,O,j,U,$){return k<=U?U:$?O-j-U:x+U-1},c=function(k,x,O,j,U,$,q){return k<=$?0:Math.max(0,q?k<x?O:k-$:k>x?O:k-2*$)},d=function(k,x,O,j,U,$){var q=x+j+2*U;return k>=U&&(q+=U+1),n.getLast(q,$)},h=a(r.scrollTop,o.top),p=a(r.scrollLeft,o.left),m=i?{rows:0,cols:0}:0,g=this.last,y=!1,P=this.lastScrollPos;if(i){var I=this.lastScrollPos.top<=h,S=this.lastScrollPos.left<=p;if(!this.appendOnly||this.appendOnly&&(I||S)){var T={rows:l(h,this.itemSize[0]),cols:l(p,this.itemSize[1])},M={rows:u(T.rows,this.first.rows,this.last.rows,this.numItemsInViewport.rows,this.d_numToleratedItems[0],I),cols:u(T.cols,this.first.cols,this.last.cols,this.numItemsInViewport.cols,this.d_numToleratedItems[1],S)};m={rows:c(T.rows,M.rows,this.first.rows,this.last.rows,this.numItemsInViewport.rows,this.d_numToleratedItems[0],I),cols:c(T.cols,M.cols,this.first.cols,this.last.cols,this.numItemsInViewport.cols,this.d_numToleratedItems[1],S)},g={rows:d(T.rows,m.rows,this.last.rows,this.numItemsInViewport.rows,this.d_numToleratedItems[0]),cols:d(T.cols,m.cols,this.last.cols,this.numItemsInViewport.cols,this.d_numToleratedItems[1],!0)},y=m.rows!==this.first.rows||g.rows!==this.last.rows||m.cols!==this.first.cols||g.cols!==this.last.cols||this.isRangeChanged,P={top:h,left:p}}}else{var R=s?p:h,C=this.lastScrollPos<=R;if(!this.appendOnly||this.appendOnly&&C){var E=l(R,this.itemSize),b=u(E,this.first,this.last,this.numItemsInViewport,this.d_numToleratedItems,C);m=c(E,b,this.first,this.last,this.numItemsInViewport,this.d_numToleratedItems,C),g=d(E,m,this.last,this.numItemsInViewport,this.d_numToleratedItems),y=m!==this.first||g!==this.last||this.isRangeChanged,P=R}}return{first:m,last:g,isRangeChanged:y,scrollPos:P}},onScrollChange:function(e){var n=this.onScrollPositionChange(e),r=n.first,i=n.last,s=n.isRangeChanged,o=n.scrollPos;if(s){var a={first:r,last:i};if(this.setContentPosition(a),this.first=r,this.last=i,this.lastScrollPos=o,this.$emit("scroll-index-change",a),this.lazy&&this.isPageChanged(r)){var l,u,c={first:this.step?Math.min(this.getPageByFirst(r)*this.step,(((l=this.items)===null||l===void 0?void 0:l.length)||0)-this.step):r,last:Math.min(this.step?(this.getPageByFirst(r)+1)*this.step:i,((u=this.items)===null||u===void 0?void 0:u.length)||0)},d=this.lazyLoadState.first!==c.first||this.lazyLoadState.last!==c.last;d&&this.$emit("lazy-load",c),this.lazyLoadState=c}}},onScroll:function(e){var n=this;if(this.$emit("scroll",e),this.delay){if(this.scrollTimeout&&clearTimeout(this.scrollTimeout),this.isPageChanged()){if(!this.d_loading&&this.showLoader){var r=this.onScrollPositionChange(e),i=r.isRangeChanged,s=i||(this.step?this.isPageChanged():!1);s&&(this.d_loading=!0)}this.scrollTimeout=setTimeout(function(){n.onScrollChange(e),n.d_loading&&n.showLoader&&(!n.lazy||n.loading===void 0)&&(n.d_loading=!1,n.page=n.getPageByFirst())},this.delay)}}else this.onScrollChange(e)},onResize:function(){var e=this;this.resizeTimeout&&clearTimeout(this.resizeTimeout),this.resizeTimeout=setTimeout(function(){if(ze.isVisible(e.element)){var n=e.isBoth(),r=e.isVertical(),i=e.isHorizontal(),s=[ze.getWidth(e.element),ze.getHeight(e.element)],o=s[0],a=s[1],l=o!==e.defaultWidth,u=a!==e.defaultHeight,c=n?l||u:i?l:r?u:!1;c&&(e.d_numToleratedItems=e.numToleratedItems,e.defaultWidth=o,e.defaultHeight=a,e.defaultContentWidth=ze.getWidth(e.content),e.defaultContentHeight=ze.getHeight(e.content),e.init())}},this.resizeDelay)},bindResizeListener:function(){this.resizeListener||(this.resizeListener=this.onResize.bind(this),window.addEventListener("resize",this.resizeListener),window.addEventListener("orientationchange",this.resizeListener))},unbindResizeListener:function(){this.resizeListener&&(window.removeEventListener("resize",this.resizeListener),window.removeEventListener("orientationchange",this.resizeListener),this.resizeListener=null)},getOptions:function(e){var n=(this.items||[]).length,r=this.isBoth()?this.first.rows+e:this.first+e;return{index:r,count:n,first:r===0,last:r===n-1,even:r%2===0,odd:r%2!==0}},getLoaderOptions:function(e,n){var r=this.loaderArr.length;return yd({index:e,count:r,first:e===0,last:e===r-1,even:e%2===0,odd:e%2!==0},n)},getPageByFirst:function(e){return Math.floor(((e??this.first)+this.d_numToleratedItems*4)/(this.step||1))},isPageChanged:function(e){return this.step?this.page!==this.getPageByFirst(e??this.first):!0},setContentEl:function(e){this.content=e||this.content||ze.findSingle(this.element,'[data-pc-section="content"]')},elementRef:function(e){this.element=e},contentRef:function(e){this.content=e}},computed:{containerClass:function(){return["p-virtualscroller",this.class,{"p-virtualscroller-inline":this.inline,"p-virtualscroller-both p-both-scroll":this.isBoth(),"p-virtualscroller-horizontal p-horizontal-scroll":this.isHorizontal()}]},contentClass:function(){return["p-virtualscroller-content",{"p-virtualscroller-loading":this.d_loading}]},loaderClass:function(){return["p-virtualscroller-loader",{"p-component-overlay":!this.$slots.loader}]},loadedItems:function(){var e=this;return this.items&&!this.d_loading?this.isBoth()?this.items.slice(this.appendOnly?0:this.first.rows,this.last.rows).map(function(n){return e.columns?n:n.slice(e.appendOnly?0:e.first.cols,e.last.cols)}):this.isHorizontal()&&this.columns?this.items:this.items.slice(this.appendOnly?0:this.first,this.last):[]},loadedRows:function(){return this.d_loading?this.loaderDisabled?this.loaderArr:[]:this.loadedItems},loadedColumns:function(){if(this.columns){var e=this.isBoth(),n=this.isHorizontal();if(e||n)return this.d_loading&&this.loaderDisabled?e?this.loaderArr[0]:this.loaderArr:this.columns.slice(e?this.first.cols:this.first,e?this.last.cols:this.last)}return this.columns}},components:{SpinnerIcon:Of}},xpe=["tabindex"];function Dpe(t,e,n,r,i,s){var o=An("SpinnerIcon");return t.disabled?(N(),W(Pe,{key:1},[Te(t.$slots,"default"),Te(t.$slots,"content",{items:t.items,rows:t.items,columns:s.loadedColumns})],64)):(N(),W("div",le({key:0,ref:s.elementRef,class:s.containerClass,tabindex:t.tabindex,style:t.style,onScroll:e[0]||(e[0]=function(){return s.onScroll&&s.onScroll.apply(s,arguments)})},t.ptmi("root")),[Te(t.$slots,"content",{styleClass:s.contentClass,items:s.loadedItems,getItemOptions:s.getOptions,loading:i.d_loading,getLoaderOptions:s.getLoaderOptions,itemSize:t.itemSize,rows:s.loadedRows,columns:s.loadedColumns,contentRef:s.contentRef,spacerStyle:i.spacerStyle,contentStyle:i.contentStyle,vertical:s.isVertical(),horizontal:s.isHorizontal(),both:s.isBoth()},function(){return[v("div",le({ref:s.contentRef,class:s.contentClass,style:i.contentStyle},t.ptm("content")),[(N(!0),W(Pe,null,ht(s.loadedItems,function(a,l){return Te(t.$slots,"item",{key:l,item:a,options:s.getOptions(l)})}),128))],16)]}),t.showSpacer?(N(),W("div",le({key:0,class:"p-virtualscroller-spacer",style:i.spacerStyle},t.ptm("spacer")),null,16)):Z("",!0),!t.loaderDisabled&&t.showLoader&&i.d_loading?(N(),W("div",le({key:1,class:s.loaderClass},t.ptm("loader")),[t.$slots&&t.$slots.loader?(N(!0),W(Pe,{key:0},ht(i.loaderArr,function(a,l){return Te(t.$slots,"loader",{key:l,options:s.getLoaderOptions(l,s.isBoth()&&{numCols:t.d_numItemsInViewport.cols})})}),128)):Z("",!0),Te(t.$slots,"loadingicon",{},function(){return[B(o,le({spin:"",class:"p-virtualscroller-loading-icon"},t.ptm("loadingIcon")),null,16)]})],16)):Z("",!0)],16,xpe))}IT.render=Dpe;var Npe={root:function(e){var n=e.instance,r=e.props,i=e.state;return["p-dropdown p-component p-inputwrapper",{"p-disabled":r.disabled,"p-invalid":r.invalid,"p-variant-filled":r.variant?r.variant==="filled":n.$primevue.config.inputStyle==="filled","p-dropdown-clearable":r.showClear,"p-focus":i.focused,"p-inputwrapper-filled":n.hasSelectedOption,"p-inputwrapper-focus":i.focused||i.overlayVisible,"p-overlay-open":i.overlayVisible}]},input:function(e){var n,r=e.instance,i=e.props;return["p-dropdown-label p-inputtext",{"p-placeholder":!i.editable&&r.label===i.placeholder,"p-dropdown-label-empty":!i.editable&&!r.$slots.value&&(r.label==="p-emptylabel"||((n=r.label)===null||n===void 0?void 0:n.length)===0)}]},clearIcon:"p-dropdown-clear-icon",trigger:"p-dropdown-trigger",loadingicon:"p-dropdown-trigger-icon",dropdownIcon:"p-dropdown-trigger-icon",panel:function(e){e.props;var n=e.instance;return["p-dropdown-panel p-component",{"p-ripple-disabled":n.$primevue.config.ripple===!1}]},header:"p-dropdown-header",filterContainer:"p-dropdown-filter-container",filterInput:function(e){var n=e.props,r=e.instance;return["p-dropdown-filter p-inputtext p-component",{"p-variant-filled":n.variant?n.variant==="filled":r.$primevue.config.inputStyle==="filled"}]},filterIcon:"p-dropdown-filter-icon",wrapper:"p-dropdown-items-wrapper",list:"p-dropdown-items",itemGroup:"p-dropdown-item-group",itemGroupLabel:"p-dropdown-item-group-label",item:function(e){var n=e.instance,r=e.props,i=e.state,s=e.option,o=e.focusedOption;return["p-dropdown-item",{"p-highlight":n.isSelected(s)&&r.highlightOnSelect,"p-focus":i.focusedOptionIndex===o,"p-disabled":n.isOptionDisabled(s)}]},itemLabel:"p-dropdown-item-label",checkIcon:"p-dropdown-check-icon",blankIcon:"p-dropdown-blank-icon",emptyMessage:"p-dropdown-empty-message"},Mpe=fr.extend({name:"dropdown",classes:Npe}),Lpe={name:"BaseDropdown",extends:oi,props:{modelValue:null,options:Array,optionLabel:[String,Function],optionValue:[String,Function],optionDisabled:[String,Function],optionGroupLabel:[String,Function],optionGroupChildren:[String,Function],scrollHeight:{type:String,default:"200px"},filter:Boolean,filterPlaceholder:String,filterLocale:String,filterMatchMode:{type:String,default:"contains"},filterFields:{type:Array,default:null},editable:Boolean,placeholder:{type:String,default:null},variant:{type:String,default:null},invalid:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},dataKey:null,showClear:{type:Boolean,default:!1},inputId:{type:String,default:null},inputClass:{type:[String,Object],default:null},inputStyle:{type:Object,default:null},inputProps:{type:null,default:null},panelClass:{type:[String,Object],default:null},panelStyle:{type:Object,default:null},panelProps:{type:null,default:null},filterInputProps:{type:null,default:null},clearIconProps:{type:null,default:null},appendTo:{type:[String,Object],default:"body"},loading:{type:Boolean,default:!1},clearIcon:{type:String,default:void 0},dropdownIcon:{type:String,default:void 0},filterIcon:{type:String,default:void 0},loadingIcon:{type:String,default:void 0},resetFilterOnHide:{type:Boolean,default:!1},resetFilterOnClear:{type:Boolean,default:!1},virtualScrollerOptions:{type:Object,default:null},autoOptionFocus:{type:Boolean,default:!1},autoFilterFocus:{type:Boolean,default:!1},selectOnFocus:{type:Boolean,default:!1},focusOnHover:{type:Boolean,default:!0},highlightOnSelect:{type:Boolean,default:!0},checkmark:{type:Boolean,default:!1},filterMessage:{type:String,default:null},selectionMessage:{type:String,default:null},emptySelectionMessage:{type:String,default:null},emptyFilterMessage:{type:String,default:null},emptyMessage:{type:String,default:null},tabindex:{type:Number,default:0},ariaLabel:{type:String,default:null},ariaLabelledby:{type:String,default:null}},style:Mpe,provide:function(){return{$parentInstance:this}}};function Qh(t){"@babel/helpers - typeof";return Qh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qh(t)}function Vpe(t){return qpe(t)||Upe(t)||Fpe(t)||$pe()}function $pe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Fpe(t,e){if(t){if(typeof t=="string")return f_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return f_(t,e)}}function Upe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function qpe(t){if(Array.isArray(t))return f_(t)}function f_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function zP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function KP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?zP(Object(n),!0).forEach(function(r){eV(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):zP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function eV(t,e,n){return e=Bpe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Bpe(t){var e=jpe(t,"string");return Qh(e)=="symbol"?e:String(e)}function jpe(t,e){if(Qh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Qh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var tV={name:"Dropdown",extends:Lpe,inheritAttrs:!1,emits:["update:modelValue","change","focus","blur","before-show","before-hide","show","hide","filter"],outsideClickListener:null,scrollHandler:null,resizeListener:null,labelClickListener:null,overlay:null,list:null,virtualScroller:null,searchTimeout:null,searchValue:null,isModelValueChanged:!1,data:function(){return{id:this.$attrs.id,clicked:!1,focused:!1,focusedOptionIndex:-1,filterValue:null,overlayVisible:!1}},watch:{"$attrs.id":function(e){this.id=e||gc()},modelValue:function(){this.isModelValueChanged=!0},options:function(){this.autoUpdateModel()}},mounted:function(){this.id=this.id||gc(),this.autoUpdateModel(),this.bindLabelClickListener()},updated:function(){this.overlayVisible&&this.isModelValueChanged&&this.scrollInView(this.findSelectedOptionIndex()),this.isModelValueChanged=!1},beforeUnmount:function(){this.unbindOutsideClickListener(),this.unbindResizeListener(),this.unbindLabelClickListener(),this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null),this.overlay&&(zu.clear(this.overlay),this.overlay=null)},methods:{getOptionIndex:function(e,n){return this.virtualScrollerDisabled?e:n&&n(e).index},getOptionLabel:function(e){return this.optionLabel?Me.resolveFieldData(e,this.optionLabel):e},getOptionValue:function(e){return this.optionValue?Me.resolveFieldData(e,this.optionValue):e},getOptionRenderKey:function(e,n){return(this.dataKey?Me.resolveFieldData(e,this.dataKey):this.getOptionLabel(e))+"_"+n},getPTItemOptions:function(e,n,r,i){return this.ptm(i,{context:{option:e,index:r,selected:this.isSelected(e),focused:this.focusedOptionIndex===this.getOptionIndex(r,n),disabled:this.isOptionDisabled(e)}})},isOptionDisabled:function(e){return this.optionDisabled?Me.resolveFieldData(e,this.optionDisabled):!1},isOptionGroup:function(e){return this.optionGroupLabel&&e.optionGroup&&e.group},getOptionGroupLabel:function(e){return Me.resolveFieldData(e,this.optionGroupLabel)},getOptionGroupChildren:function(e){return Me.resolveFieldData(e,this.optionGroupChildren)},getAriaPosInset:function(e){var n=this;return(this.optionGroupLabel?e-this.visibleOptions.slice(0,e).filter(function(r){return n.isOptionGroup(r)}).length:e)+1},show:function(e){this.$emit("before-show"),this.overlayVisible=!0,this.focusedOptionIndex=this.focusedOptionIndex!==-1?this.focusedOptionIndex:this.autoOptionFocus?this.findFirstFocusedOptionIndex():this.editable?-1:this.findSelectedOptionIndex(),e&&ze.focus(this.$refs.focusInput)},hide:function(e){var n=this,r=function(){n.$emit("before-hide"),n.overlayVisible=!1,n.clicked=!1,n.focusedOptionIndex=-1,n.searchValue="",n.resetFilterOnHide&&(n.filterValue=null),e&&ze.focus(n.$refs.focusInput)};setTimeout(function(){r()},0)},onFocus:function(e){this.disabled||(this.focused=!0,this.overlayVisible&&(this.focusedOptionIndex=this.focusedOptionIndex!==-1?this.focusedOptionIndex:this.autoOptionFocus?this.findFirstFocusedOptionIndex():this.editable?-1:this.findSelectedOptionIndex(),this.scrollInView(this.focusedOptionIndex)),this.$emit("focus",e))},onBlur:function(e){this.focused=!1,this.focusedOptionIndex=-1,this.searchValue="",this.$emit("blur",e)},onKeyDown:function(e){if(this.disabled||ze.isAndroid()){e.preventDefault();return}var n=e.metaKey||e.ctrlKey;switch(e.code){case"ArrowDown":this.onArrowDownKey(e);break;case"ArrowUp":this.onArrowUpKey(e,this.editable);break;case"ArrowLeft":case"ArrowRight":this.onArrowLeftKey(e,this.editable);break;case"Home":this.onHomeKey(e,this.editable);break;case"End":this.onEndKey(e,this.editable);break;case"PageDown":this.onPageDownKey(e);break;case"PageUp":this.onPageUpKey(e);break;case"Space":this.onSpaceKey(e,this.editable);break;case"Enter":case"NumpadEnter":this.onEnterKey(e);break;case"Escape":this.onEscapeKey(e);break;case"Tab":this.onTabKey(e);break;case"Backspace":this.onBackspaceKey(e,this.editable);break;case"ShiftLeft":case"ShiftRight":break;default:!n&&Me.isPrintableCharacter(e.key)&&(!this.overlayVisible&&this.show(),!this.editable&&this.searchOptions(e,e.key));break}this.clicked=!1},onEditableInput:function(e){var n=e.target.value;this.searchValue="";var r=this.searchOptions(e,n);!r&&(this.focusedOptionIndex=-1),this.updateModel(e,n),!this.overlayVisible&&Me.isNotEmpty(n)&&this.show()},onContainerClick:function(e){this.disabled||this.loading||e.target.tagName==="INPUT"||e.target.getAttribute("data-pc-section")==="clearicon"||e.target.closest('[data-pc-section="clearicon"]')||((!this.overlay||!this.overlay.contains(e.target))&&(this.overlayVisible?this.hide(!0):this.show(!0)),this.clicked=!0)},onClearClick:function(e){this.updateModel(e,null),this.resetFilterOnClear&&(this.filterValue=null)},onFirstHiddenFocus:function(e){var n=e.relatedTarget===this.$refs.focusInput?ze.getFirstFocusableElement(this.overlay,':not([data-p-hidden-focusable="true"])'):this.$refs.focusInput;ze.focus(n)},onLastHiddenFocus:function(e){var n=e.relatedTarget===this.$refs.focusInput?ze.getLastFocusableElement(this.overlay,':not([data-p-hidden-focusable="true"])'):this.$refs.focusInput;ze.focus(n)},onOptionSelect:function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,i=this.getOptionValue(n);this.updateModel(e,i),r&&this.hide(!0)},onOptionMouseMove:function(e,n){this.focusOnHover&&this.changeFocusedOptionIndex(e,n)},onFilterChange:function(e){var n=e.target.value;this.filterValue=n,this.focusedOptionIndex=-1,this.$emit("filter",{originalEvent:e,value:n}),!this.virtualScrollerDisabled&&this.virtualScroller.scrollToIndex(0)},onFilterKeyDown:function(e){switch(e.code){case"ArrowDown":this.onArrowDownKey(e);break;case"ArrowUp":this.onArrowUpKey(e,!0);break;case"ArrowLeft":case"ArrowRight":this.onArrowLeftKey(e,!0);break;case"Home":this.onHomeKey(e,!0);break;case"End":this.onEndKey(e,!0);break;case"Enter":case"NumpadEnter":this.onEnterKey(e);break;case"Escape":this.onEscapeKey(e);break;case"Tab":this.onTabKey(e,!0);break}},onFilterBlur:function(){this.focusedOptionIndex=-1},onFilterUpdated:function(){this.overlayVisible&&this.alignOverlay()},onOverlayClick:function(e){JL.emit("overlay-click",{originalEvent:e,target:this.$el})},onOverlayKeyDown:function(e){switch(e.code){case"Escape":this.onEscapeKey(e);break}},onArrowDownKey:function(e){if(!this.overlayVisible)this.show(),this.editable&&this.changeFocusedOptionIndex(e,this.findSelectedOptionIndex());else{var n=this.focusedOptionIndex!==-1?this.findNextOptionIndex(this.focusedOptionIndex):this.clicked?this.findFirstOptionIndex():this.findFirstFocusedOptionIndex();this.changeFocusedOptionIndex(e,n)}e.preventDefault()},onArrowUpKey:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(e.altKey&&!n)this.focusedOptionIndex!==-1&&this.onOptionSelect(e,this.visibleOptions[this.focusedOptionIndex]),this.overlayVisible&&this.hide(),e.preventDefault();else{var r=this.focusedOptionIndex!==-1?this.findPrevOptionIndex(this.focusedOptionIndex):this.clicked?this.findLastOptionIndex():this.findLastFocusedOptionIndex();this.changeFocusedOptionIndex(e,r),!this.overlayVisible&&this.show(),e.preventDefault()}},onArrowLeftKey:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;n&&(this.focusedOptionIndex=-1)},onHomeKey:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(n){var r=e.currentTarget;e.shiftKey?r.setSelectionRange(0,e.target.selectionStart):(r.setSelectionRange(0,0),this.focusedOptionIndex=-1)}else this.changeFocusedOptionIndex(e,this.findFirstOptionIndex()),!this.overlayVisible&&this.show();e.preventDefault()},onEndKey:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(n){var r=e.currentTarget;if(e.shiftKey)r.setSelectionRange(e.target.selectionStart,r.value.length);else{var i=r.value.length;r.setSelectionRange(i,i),this.focusedOptionIndex=-1}}else this.changeFocusedOptionIndex(e,this.findLastOptionIndex()),!this.overlayVisible&&this.show();e.preventDefault()},onPageUpKey:function(e){this.scrollInView(0),e.preventDefault()},onPageDownKey:function(e){this.scrollInView(this.visibleOptions.length-1),e.preventDefault()},onEnterKey:function(e){this.overlayVisible?(this.focusedOptionIndex!==-1&&this.onOptionSelect(e,this.visibleOptions[this.focusedOptionIndex]),this.hide()):(this.focusedOptionIndex=-1,this.onArrowDownKey(e)),e.preventDefault()},onSpaceKey:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;!n&&this.onEnterKey(e)},onEscapeKey:function(e){this.overlayVisible&&this.hide(!0),e.preventDefault(),e.stopPropagation()},onTabKey:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;n||(this.overlayVisible&&this.hasFocusableElements()?(ze.focus(this.$refs.firstHiddenFocusableElementOnOverlay),e.preventDefault()):(this.focusedOptionIndex!==-1&&this.onOptionSelect(e,this.visibleOptions[this.focusedOptionIndex]),this.overlayVisible&&this.hide(this.filter)))},onBackspaceKey:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;n&&!this.overlayVisible&&this.show()},onOverlayEnter:function(e){zu.set("overlay",e,this.$primevue.config.zIndex.overlay),ze.addStyles(e,{position:"absolute",top:"0",left:"0"}),this.alignOverlay(),this.scrollInView(),this.autoFilterFocus&&ze.focus(this.$refs.filterInput)},onOverlayAfterEnter:function(){this.bindOutsideClickListener(),this.bindScrollListener(),this.bindResizeListener(),this.$emit("show")},onOverlayLeave:function(){this.unbindOutsideClickListener(),this.unbindScrollListener(),this.unbindResizeListener(),this.$emit("hide"),this.overlay=null},onOverlayAfterLeave:function(e){zu.clear(e)},alignOverlay:function(){this.appendTo==="self"?ze.relativePosition(this.overlay,this.$el):(this.overlay.style.minWidth=ze.getOuterWidth(this.$el)+"px",ze.absolutePosition(this.overlay,this.$el))},bindOutsideClickListener:function(){var e=this;this.outsideClickListener||(this.outsideClickListener=function(n){e.overlayVisible&&e.overlay&&!e.$el.contains(n.target)&&!e.overlay.contains(n.target)&&e.hide()},document.addEventListener("click",this.outsideClickListener))},unbindOutsideClickListener:function(){this.outsideClickListener&&(document.removeEventListener("click",this.outsideClickListener),this.outsideClickListener=null)},bindScrollListener:function(){var e=this;this.scrollHandler||(this.scrollHandler=new fM(this.$refs.container,function(){e.overlayVisible&&e.hide()})),this.scrollHandler.bindScrollListener()},unbindScrollListener:function(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()},bindResizeListener:function(){var e=this;this.resizeListener||(this.resizeListener=function(){e.overlayVisible&&!ze.isTouchDevice()&&e.hide()},window.addEventListener("resize",this.resizeListener))},unbindResizeListener:function(){this.resizeListener&&(window.removeEventListener("resize",this.resizeListener),this.resizeListener=null)},bindLabelClickListener:function(){var e=this;if(!this.editable&&!this.labelClickListener){var n=document.querySelector('label[for="'.concat(this.inputId,'"]'));n&&ze.isVisible(n)&&(this.labelClickListener=function(){ze.focus(e.$refs.focusInput)},n.addEventListener("click",this.labelClickListener))}},unbindLabelClickListener:function(){if(this.labelClickListener){var e=document.querySelector('label[for="'.concat(this.inputId,'"]'));e&&ze.isVisible(e)&&e.removeEventListener("click",this.labelClickListener)}},hasFocusableElements:function(){return ze.getFocusableElements(this.overlay,':not([data-p-hidden-focusable="true"])').length>0},isOptionMatched:function(e){var n;return this.isValidOption(e)&&((n=this.getOptionLabel(e))===null||n===void 0?void 0:n.toLocaleLowerCase(this.filterLocale).startsWith(this.searchValue.toLocaleLowerCase(this.filterLocale)))},isValidOption:function(e){return Me.isNotEmpty(e)&&!(this.isOptionDisabled(e)||this.isOptionGroup(e))},isValidSelectedOption:function(e){return this.isValidOption(e)&&this.isSelected(e)},isSelected:function(e){return this.isValidOption(e)&&Me.equals(this.modelValue,this.getOptionValue(e),this.equalityKey)},findFirstOptionIndex:function(){var e=this;return this.visibleOptions.findIndex(function(n){return e.isValidOption(n)})},findLastOptionIndex:function(){var e=this;return Me.findLastIndex(this.visibleOptions,function(n){return e.isValidOption(n)})},findNextOptionIndex:function(e){var n=this,r=e<this.visibleOptions.length-1?this.visibleOptions.slice(e+1).findIndex(function(i){return n.isValidOption(i)}):-1;return r>-1?r+e+1:e},findPrevOptionIndex:function(e){var n=this,r=e>0?Me.findLastIndex(this.visibleOptions.slice(0,e),function(i){return n.isValidOption(i)}):-1;return r>-1?r:e},findSelectedOptionIndex:function(){var e=this;return this.hasSelectedOption?this.visibleOptions.findIndex(function(n){return e.isValidSelectedOption(n)}):-1},findFirstFocusedOptionIndex:function(){var e=this.findSelectedOptionIndex();return e<0?this.findFirstOptionIndex():e},findLastFocusedOptionIndex:function(){var e=this.findSelectedOptionIndex();return e<0?this.findLastOptionIndex():e},searchOptions:function(e,n){var r=this;this.searchValue=(this.searchValue||"")+n;var i=-1,s=!1;return Me.isNotEmpty(this.searchValue)&&(this.focusedOptionIndex!==-1?(i=this.visibleOptions.slice(this.focusedOptionIndex).findIndex(function(o){return r.isOptionMatched(o)}),i=i===-1?this.visibleOptions.slice(0,this.focusedOptionIndex).findIndex(function(o){return r.isOptionMatched(o)}):i+this.focusedOptionIndex):i=this.visibleOptions.findIndex(function(o){return r.isOptionMatched(o)}),i!==-1&&(s=!0),i===-1&&this.focusedOptionIndex===-1&&(i=this.findFirstFocusedOptionIndex()),i!==-1&&this.changeFocusedOptionIndex(e,i)),this.searchTimeout&&clearTimeout(this.searchTimeout),this.searchTimeout=setTimeout(function(){r.searchValue="",r.searchTimeout=null},500),s},changeFocusedOptionIndex:function(e,n){this.focusedOptionIndex!==n&&(this.focusedOptionIndex=n,this.scrollInView(),this.selectOnFocus&&this.onOptionSelect(e,this.visibleOptions[n],!1))},scrollInView:function(){var e=this,n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:-1;this.$nextTick(function(){var r=n!==-1?"".concat(e.id,"_").concat(n):e.focusedOptionId,i=ze.findSingle(e.list,'li[id="'.concat(r,'"]'));i?i.scrollIntoView&&i.scrollIntoView({block:"nearest"}):e.virtualScrollerDisabled||e.virtualScroller&&e.virtualScroller.scrollToIndex(n!==-1?n:e.focusedOptionIndex)})},autoUpdateModel:function(){this.selectOnFocus&&this.autoOptionFocus&&!this.hasSelectedOption&&(this.focusedOptionIndex=this.findFirstFocusedOptionIndex(),this.onOptionSelect(null,this.visibleOptions[this.focusedOptionIndex],!1))},updateModel:function(e,n){this.$emit("update:modelValue",n),this.$emit("change",{originalEvent:e,value:n})},flatOptions:function(e){var n=this;return(e||[]).reduce(function(r,i,s){r.push({optionGroup:i,group:!0,index:s});var o=n.getOptionGroupChildren(i);return o&&o.forEach(function(a){return r.push(a)}),r},[])},overlayRef:function(e){this.overlay=e},listRef:function(e,n){this.list=e,n&&n(e)},virtualScrollerRef:function(e){this.virtualScroller=e}},computed:{visibleOptions:function(){var e=this,n=this.optionGroupLabel?this.flatOptions(this.options):this.options||[];if(this.filterValue){var r=XL.filter(n,this.searchFields,this.filterValue,this.filterMatchMode,this.filterLocale);if(this.optionGroupLabel){var i=this.options||[],s=[];return i.forEach(function(o){var a=e.getOptionGroupChildren(o),l=a.filter(function(u){return r.includes(u)});l.length>0&&s.push(KP(KP({},o),{},eV({},typeof e.optionGroupChildren=="string"?e.optionGroupChildren:"items",Vpe(l))))}),this.flatOptions(s)}return r}return n},hasSelectedOption:function(){return Me.isNotEmpty(this.modelValue)},label:function(){var e=this.findSelectedOptionIndex();return e!==-1?this.getOptionLabel(this.visibleOptions[e]):this.placeholder||"p-emptylabel"},editableInputValue:function(){var e=this.findSelectedOptionIndex();return e!==-1?this.getOptionLabel(this.visibleOptions[e]):this.modelValue||""},equalityKey:function(){return this.optionValue?null:this.dataKey},searchFields:function(){return this.filterFields||[this.optionLabel]},filterResultMessageText:function(){return Me.isNotEmpty(this.visibleOptions)?this.filterMessageText.replaceAll("{0}",this.visibleOptions.length):this.emptyFilterMessageText},filterMessageText:function(){return this.filterMessage||this.$primevue.config.locale.searchMessage||""},emptyFilterMessageText:function(){return this.emptyFilterMessage||this.$primevue.config.locale.emptySearchMessage||this.$primevue.config.locale.emptyFilterMessage||""},emptyMessageText:function(){return this.emptyMessage||this.$primevue.config.locale.emptyMessage||""},selectionMessageText:function(){return this.selectionMessage||this.$primevue.config.locale.selectionMessage||""},emptySelectionMessageText:function(){return this.emptySelectionMessage||this.$primevue.config.locale.emptySelectionMessage||""},selectedMessageText:function(){return this.hasSelectedOption?this.selectionMessageText.replaceAll("{0}","1"):this.emptySelectionMessageText},listAriaLabel:function(){return this.$primevue.config.locale.aria?this.$primevue.config.locale.aria.listLabel:void 0},focusedOptionId:function(){return this.focusedOptionIndex!==-1?"".concat(this.id,"_").concat(this.focusedOptionIndex):null},ariaSetSize:function(){var e=this;return this.visibleOptions.filter(function(n){return!e.isOptionGroup(n)}).length},virtualScrollerDisabled:function(){return!this.virtualScrollerOptions}},directives:{ripple:bv},components:{VirtualScroller:IT,Portal:ST,TimesIcon:ET,ChevronDownIcon:Tv,SpinnerIcon:Of,SearchIcon:TT,CheckIcon:Mv,BlankIcon:QL}};function Jh(t){"@babel/helpers - typeof";return Jh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jh(t)}function GP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Is(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?GP(Object(n),!0).forEach(function(r){Hpe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):GP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Hpe(t,e,n){return e=Wpe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Wpe(t){var e=zpe(t,"string");return Jh(e)=="symbol"?e:String(e)}function zpe(t,e){if(Jh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Jh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Kpe=["id"],Gpe=["id","value","placeholder","tabindex","disabled","aria-label","aria-labelledby","aria-expanded","aria-controls","aria-activedescendant","aria-invalid"],Ype=["id","tabindex","aria-label","aria-labelledby","aria-expanded","aria-controls","aria-activedescendant","aria-disabled"],Xpe=["value","placeholder","aria-owns","aria-activedescendant"],Qpe=["id","aria-label"],Jpe=["id"],Zpe=["id","aria-label","aria-selected","aria-disabled","aria-setsize","aria-posinset","onClick","onMousemove","data-p-highlight","data-p-focused","data-p-disabled"];function eme(t,e,n,r,i,s){var o=An("SpinnerIcon"),a=An("CheckIcon"),l=An("BlankIcon"),u=An("VirtualScroller"),c=An("Portal"),d=Rg("ripple");return N(),W("div",le({ref:"container",id:i.id,class:t.cx("root"),onClick:e[16]||(e[16]=function(){return s.onContainerClick&&s.onContainerClick.apply(s,arguments)})},t.ptmi("root")),[t.editable?(N(),W("input",le({key:0,ref:"focusInput",id:t.inputId,type:"text",class:[t.cx("input"),t.inputClass],style:t.inputStyle,value:s.editableInputValue,placeholder:t.placeholder,tabindex:t.disabled?-1:t.tabindex,disabled:t.disabled,autocomplete:"off",role:"combobox","aria-label":t.ariaLabel,"aria-labelledby":t.ariaLabelledby,"aria-haspopup":"listbox","aria-expanded":i.overlayVisible,"aria-controls":i.id+"_list","aria-activedescendant":i.focused?s.focusedOptionId:void 0,"aria-invalid":t.invalid||void 0,onFocus:e[0]||(e[0]=function(){return s.onFocus&&s.onFocus.apply(s,arguments)}),onBlur:e[1]||(e[1]=function(){return s.onBlur&&s.onBlur.apply(s,arguments)}),onKeydown:e[2]||(e[2]=function(){return s.onKeyDown&&s.onKeyDown.apply(s,arguments)}),onInput:e[3]||(e[3]=function(){return s.onEditableInput&&s.onEditableInput.apply(s,arguments)})},Is(Is({},t.inputProps),t.ptm("input"))),null,16,Gpe)):(N(),W("span",le({key:1,ref:"focusInput",id:t.inputId,class:[t.cx("input"),t.inputClass],style:t.inputStyle,tabindex:t.disabled?-1:t.tabindex,role:"combobox","aria-label":t.ariaLabel||(s.label==="p-emptylabel"?void 0:s.label),"aria-labelledby":t.ariaLabelledby,"aria-haspopup":"listbox","aria-expanded":i.overlayVisible,"aria-controls":i.id+"_list","aria-activedescendant":i.focused?s.focusedOptionId:void 0,"aria-disabled":t.disabled,onFocus:e[4]||(e[4]=function(){return s.onFocus&&s.onFocus.apply(s,arguments)}),onBlur:e[5]||(e[5]=function(){return s.onBlur&&s.onBlur.apply(s,arguments)}),onKeydown:e[6]||(e[6]=function(){return s.onKeyDown&&s.onKeyDown.apply(s,arguments)})},Is(Is({},t.inputProps),t.ptm("input"))),[Te(t.$slots,"value",{value:t.modelValue,placeholder:t.placeholder},function(){return[K(Fe(s.label==="p-emptylabel"?" ":s.label||"empty"),1)]})],16,Ype)),t.showClear&&t.modelValue!=null?Te(t.$slots,"clearicon",{key:2,class:$e(t.cx("clearIcon")),onClick:s.onClearClick,clearCallback:s.onClearClick},function(){return[(N(),ce(Nn(t.clearIcon?"i":"TimesIcon"),le({ref:"clearIcon",class:[t.cx("clearIcon"),t.clearIcon],onClick:s.onClearClick},Is(Is({},t.clearIconProps),t.ptm("clearIcon")),{"data-pc-section":"clearicon"}),null,16,["class","onClick"]))]}):Z("",!0),v("div",le({class:t.cx("trigger")},t.ptm("trigger")),[t.loading?Te(t.$slots,"loadingicon",{key:0,class:$e(t.cx("loadingIcon"))},function(){return[t.loadingIcon?(N(),W("span",le({key:0,class:[t.cx("loadingIcon"),"pi-spin",t.loadingIcon],"aria-hidden":"true"},t.ptm("loadingIcon")),null,16)):(N(),ce(o,le({key:1,class:t.cx("loadingIcon"),spin:"","aria-hidden":"true"},t.ptm("loadingIcon")),null,16,["class"]))]}):Te(t.$slots,"dropdownicon",{key:1,class:$e(t.cx("dropdownIcon"))},function(){return[(N(),ce(Nn(t.dropdownIcon?"span":"ChevronDownIcon"),le({class:[t.cx("dropdownIcon"),t.dropdownIcon],"aria-hidden":"true"},t.ptm("dropdownIcon")),null,16,["class"]))]})],16),B(c,{appendTo:t.appendTo},{default:J(function(){return[B(ns,le({name:"p-connected-overlay",onEnter:s.onOverlayEnter,onAfterEnter:s.onOverlayAfterEnter,onLeave:s.onOverlayLeave,onAfterLeave:s.onOverlayAfterLeave},t.ptm("transition")),{default:J(function(){return[i.overlayVisible?(N(),W("div",le({key:0,ref:s.overlayRef,class:[t.cx("panel"),t.panelClass],style:t.panelStyle,onClick:e[14]||(e[14]=function(){return s.onOverlayClick&&s.onOverlayClick.apply(s,arguments)}),onKeydown:e[15]||(e[15]=function(){return s.onOverlayKeyDown&&s.onOverlayKeyDown.apply(s,arguments)})},Is(Is({},t.panelProps),t.ptm("panel"))),[v("span",le({ref:"firstHiddenFocusableElementOnOverlay",role:"presentation","aria-hidden":"true",class:"p-hidden-accessible p-hidden-focusable",tabindex:0,onFocus:e[7]||(e[7]=function(){return s.onFirstHiddenFocus&&s.onFirstHiddenFocus.apply(s,arguments)})},t.ptm("hiddenFirstFocusableEl"),{"data-p-hidden-accessible":!0,"data-p-hidden-focusable":!0}),null,16),Te(t.$slots,"header",{value:t.modelValue,options:s.visibleOptions}),t.filter?(N(),W("div",le({key:0,class:t.cx("header")},t.ptm("header")),[v("div",le({class:t.cx("filterContainer")},t.ptm("filterContainer")),[v("input",le({ref:"filterInput",type:"text",value:i.filterValue,onVnodeMounted:e[8]||(e[8]=function(){return s.onFilterUpdated&&s.onFilterUpdated.apply(s,arguments)}),onVnodeUpdated:e[9]||(e[9]=function(){return s.onFilterUpdated&&s.onFilterUpdated.apply(s,arguments)}),class:t.cx("filterInput"),placeholder:t.filterPlaceholder,role:"searchbox",autocomplete:"off","aria-owns":i.id+"_list","aria-activedescendant":s.focusedOptionId,onKeydown:e[10]||(e[10]=function(){return s.onFilterKeyDown&&s.onFilterKeyDown.apply(s,arguments)}),onBlur:e[11]||(e[11]=function(){return s.onFilterBlur&&s.onFilterBlur.apply(s,arguments)}),onInput:e[12]||(e[12]=function(){return s.onFilterChange&&s.onFilterChange.apply(s,arguments)})},Is(Is({},t.filterInputProps),t.ptm("filterInput"))),null,16,Xpe),Te(t.$slots,"filtericon",{class:$e(t.cx("filterIcon"))},function(){return[(N(),ce(Nn(t.filterIcon?"span":"SearchIcon"),le({class:[t.cx("filterIcon"),t.filterIcon]},t.ptm("filterIcon")),null,16,["class"]))]})],16),v("span",le({role:"status","aria-live":"polite",class:"p-hidden-accessible"},t.ptm("hiddenFilterResult"),{"data-p-hidden-accessible":!0}),Fe(s.filterResultMessageText),17)],16)):Z("",!0),v("div",le({class:t.cx("wrapper"),style:{"max-height":s.virtualScrollerDisabled?t.scrollHeight:""}},t.ptm("wrapper")),[B(u,le({ref:s.virtualScrollerRef},t.virtualScrollerOptions,{items:s.visibleOptions,style:{height:t.scrollHeight},tabindex:-1,disabled:s.virtualScrollerDisabled,pt:t.ptm("virtualScroller")}),dr({content:J(function(h){var p=h.styleClass,m=h.contentRef,g=h.items,y=h.getItemOptions,P=h.contentStyle,I=h.itemSize;return[v("ul",le({ref:function(T){return s.listRef(T,m)},id:i.id+"_list",class:[t.cx("list"),p],style:P,role:"listbox","aria-label":s.listAriaLabel},t.ptm("list")),[(N(!0),W(Pe,null,ht(g,function(S,T){return N(),W(Pe,{key:s.getOptionRenderKey(S,s.getOptionIndex(T,y))},[s.isOptionGroup(S)?(N(),W("li",le({key:0,id:i.id+"_"+s.getOptionIndex(T,y),style:{height:I?I+"px":void 0},class:t.cx("itemGroup"),role:"option"},t.ptm("itemGroup")),[Te(t.$slots,"optiongroup",{option:S.optionGroup,index:s.getOptionIndex(T,y)},function(){return[v("span",le({class:t.cx("itemGroupLabel")},t.ptm("itemGroupLabel")),Fe(s.getOptionGroupLabel(S.optionGroup)),17)]})],16,Jpe)):Fi((N(),W("li",le({key:1,id:i.id+"_"+s.getOptionIndex(T,y),class:t.cx("item",{option:S,focusedOption:s.getOptionIndex(T,y)}),style:{height:I?I+"px":void 0},role:"option","aria-label":s.getOptionLabel(S),"aria-selected":s.isSelected(S),"aria-disabled":s.isOptionDisabled(S),"aria-setsize":s.ariaSetSize,"aria-posinset":s.getAriaPosInset(s.getOptionIndex(T,y)),onClick:function(R){return s.onOptionSelect(R,S)},onMousemove:function(R){return s.onOptionMouseMove(R,s.getOptionIndex(T,y))},"data-p-highlight":s.isSelected(S),"data-p-focused":i.focusedOptionIndex===s.getOptionIndex(T,y),"data-p-disabled":s.isOptionDisabled(S)},s.getPTItemOptions(S,y,T,"item")),[t.checkmark?(N(),W(Pe,{key:0},[s.isSelected(S)?(N(),ce(a,le({key:0,class:t.cx("checkIcon")},t.ptm("checkIcon")),null,16,["class"])):(N(),ce(l,le({key:1,class:t.cx("blankIcon")},t.ptm("blankIcon")),null,16,["class"]))],64)):Z("",!0),Te(t.$slots,"option",{option:S,index:s.getOptionIndex(T,y)},function(){return[v("span",le({class:t.cx("itemLabel")},t.ptm("itemLabel")),Fe(s.getOptionLabel(S)),17)]})],16,Zpe)),[[d]])],64)}),128)),i.filterValue&&(!g||g&&g.length===0)?(N(),W("li",le({key:0,class:t.cx("emptyMessage"),role:"option"},t.ptm("emptyMessage"),{"data-p-hidden-accessible":!0}),[Te(t.$slots,"emptyfilter",{},function(){return[K(Fe(s.emptyFilterMessageText),1)]})],16)):!t.options||t.options&&t.options.length===0?(N(),W("li",le({key:1,class:t.cx("emptyMessage"),role:"option"},t.ptm("emptyMessage"),{"data-p-hidden-accessible":!0}),[Te(t.$slots,"empty",{},function(){return[K(Fe(s.emptyMessageText),1)]})],16)):Z("",!0)],16,Qpe)]}),_:2},[t.$slots.loader?{name:"loader",fn:J(function(h){var p=h.options;return[Te(t.$slots,"loader",{options:p})]}),key:"0"}:void 0]),1040,["items","style","disabled","pt"])],16),Te(t.$slots,"footer",{value:t.modelValue,options:s.visibleOptions}),!t.options||t.options&&t.options.length===0?(N(),W("span",le({key:1,role:"status","aria-live":"polite",class:"p-hidden-accessible"},t.ptm("hiddenEmptyMessage"),{"data-p-hidden-accessible":!0}),Fe(s.emptyMessageText),17)):Z("",!0),v("span",le({role:"status","aria-live":"polite",class:"p-hidden-accessible"},t.ptm("hiddenSelectedMessage"),{"data-p-hidden-accessible":!0}),Fe(s.selectedMessageText),17),v("span",le({ref:"lastHiddenFocusableElementOnOverlay",role:"presentation","aria-hidden":"true",class:"p-hidden-accessible p-hidden-focusable",tabindex:0,onFocus:e[13]||(e[13]=function(){return s.onLastHiddenFocus&&s.onLastHiddenFocus.apply(s,arguments)})},t.ptm("hiddenLastFocusableEl"),{"data-p-hidden-accessible":!0,"data-p-hidden-focusable":!0}),null,16)],16)):Z("",!0)]}),_:3},16,["onEnter","onAfterEnter","onLeave","onAfterLeave"])]}),_:3},8,["appendTo"])],16,Kpe)}tV.render=eme;var tme={root:function(e){var n=e.instance,r=e.props;return["p-inputtext p-component",{"p-filled":n.filled,"p-inputtext-sm":r.size==="small","p-inputtext-lg":r.size==="large","p-invalid":r.invalid,"p-variant-filled":r.variant?r.variant==="filled":n.$primevue.config.inputStyle==="filled"}]}},nme=fr.extend({name:"inputtext",classes:tme}),rme={name:"BaseInputText",extends:oi,props:{modelValue:null,size:{type:String,default:null},invalid:{type:Boolean,default:!1},variant:{type:String,default:null}},style:nme,provide:function(){return{$parentInstance:this}}},nV={name:"InputText",extends:rme,inheritAttrs:!1,emits:["update:modelValue"],methods:{getPTOptions:function(e){var n=e==="root"?this.ptmi:this.ptm;return n(e,{context:{filled:this.filled,disabled:this.$attrs.disabled||this.$attrs.disabled===""}})},onInput:function(e){this.$emit("update:modelValue",e.target.value)}},computed:{filled:function(){return this.modelValue!=null&&this.modelValue.toString().length>0}}},ime=["value","aria-invalid"];function sme(t,e,n,r,i,s){return N(),W("input",le({class:t.cx("root"),value:t.modelValue,"aria-invalid":t.invalid||void 0,onInput:e[0]||(e[0]=function(){return s.onInput&&s.onInput.apply(s,arguments)})},s.getPTOptions("root")),null,16,ime)}nV.render=sme;var ome={root:function(e){var n=e.instance,r=e.props;return["p-checkbox p-component",{"p-highlight":n.checked,"p-disabled":r.disabled,"p-invalid":r.invalid,"p-variant-filled":r.variant?r.variant==="filled":n.$primevue.config.inputStyle==="filled"}]},box:"p-checkbox-box",input:"p-checkbox-input",icon:"p-checkbox-icon"},ame=fr.extend({name:"checkbox",classes:ome}),lme={name:"BaseCheckbox",extends:oi,props:{value:null,modelValue:null,binary:Boolean,name:{type:String,default:null},trueValue:{type:null,default:!0},falseValue:{type:null,default:!1},variant:{type:String,default:null},invalid:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},required:{type:Boolean,default:!1},tabindex:{type:Number,default:null},inputId:{type:String,default:null},inputClass:{type:[String,Object],default:null},inputStyle:{type:Object,default:null},ariaLabelledby:{type:String,default:null},ariaLabel:{type:String,default:null}},style:ame,provide:function(){return{$parentInstance:this}}};function ume(t){return fme(t)||hme(t)||dme(t)||cme()}function cme(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function dme(t,e){if(t){if(typeof t=="string")return p_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return p_(t,e)}}function hme(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function fme(t){if(Array.isArray(t))return p_(t)}function p_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var rV={name:"Checkbox",extends:lme,inheritAttrs:!1,emits:["update:modelValue","change","focus","blur"],methods:{getPTOptions:function(e){var n=e==="root"?this.ptmi:this.ptm;return n(e,{context:{checked:this.checked,disabled:this.disabled}})},onChange:function(e){var n=this;if(!this.disabled&&!this.readonly){var r;this.binary?r=this.checked?this.falseValue:this.trueValue:this.checked?r=this.modelValue.filter(function(i){return!Me.equals(i,n.value)}):r=this.modelValue?[].concat(ume(this.modelValue),[this.value]):[this.value],this.$emit("update:modelValue",r),this.$emit("change",e)}},onFocus:function(e){this.$emit("focus",e)},onBlur:function(e){this.$emit("blur",e)}},computed:{checked:function(){return this.binary?this.modelValue===this.trueValue:Me.contains(this.value,this.modelValue)}},components:{CheckIcon:Mv}},pme=["data-p-highlight","data-p-disabled"],mme=["id","value","name","checked","tabindex","disabled","readonly","required","aria-labelledby","aria-label","aria-invalid"];function gme(t,e,n,r,i,s){var o=An("CheckIcon");return N(),W("div",le({class:t.cx("root")},s.getPTOptions("root"),{"data-p-highlight":s.checked,"data-p-disabled":t.disabled}),[v("input",le({id:t.inputId,type:"checkbox",class:[t.cx("input"),t.inputClass],style:t.inputStyle,value:t.value,name:t.name,checked:s.checked,tabindex:t.tabindex,disabled:t.disabled,readonly:t.readonly,required:t.required,"aria-labelledby":t.ariaLabelledby,"aria-label":t.ariaLabel,"aria-invalid":t.invalid||void 0,onFocus:e[0]||(e[0]=function(){return s.onFocus&&s.onFocus.apply(s,arguments)}),onBlur:e[1]||(e[1]=function(){return s.onBlur&&s.onBlur.apply(s,arguments)}),onChange:e[2]||(e[2]=function(){return s.onChange&&s.onChange.apply(s,arguments)})},s.getPTOptions("input")),null,16,mme),v("div",le({class:t.cx("box")},s.getPTOptions("box")),[Te(t.$slots,"icon",{checked:s.checked,class:$e(t.cx("icon"))},function(){return[s.checked?(N(),ce(o,le({key:0,class:t.cx("icon")},s.getPTOptions("icon")),null,16,["class"])):Z("",!0)]})],16)],16,pme)}rV.render=gme;var vme={root:function(e){var n=e.props;return{position:n.appendTo==="self"?"relative":void 0}}},yme={root:function(e){var n=e.instance,r=e.props;return["p-multiselect p-component p-inputwrapper",{"p-multiselect-chip":r.display==="chip","p-disabled":r.disabled,"p-invalid":r.invalid,"p-variant-filled":r.variant?r.variant==="filled":n.$primevue.config.inputStyle==="filled","p-focus":n.focused,"p-inputwrapper-filled":r.modelValue&&r.modelValue.length,"p-inputwrapper-focus":n.focused||n.overlayVisible,"p-overlay-open":n.overlayVisible}]},labelContainer:"p-multiselect-label-container",label:function(e){var n=e.instance,r=e.props;return["p-multiselect-label",{"p-placeholder":n.label===r.placeholder,"p-multiselect-label-empty":!r.placeholder&&(!r.modelValue||r.modelValue.length===0)}]},token:"p-multiselect-token",tokenLabel:"p-multiselect-token-label",removeTokenIcon:"p-multiselect-token-icon",trigger:"p-multiselect-trigger",loadingIcon:"p-multiselect-trigger-icon",dropdownIcon:"p-multiselect-trigger-icon",panel:function(e){e.props;var n=e.instance;return["p-multiselect-panel p-component",{"p-ripple-disabled":n.$primevue.config.ripple===!1}]},header:"p-multiselect-header",filterContainer:"p-multiselect-filter-container",filterInput:function(e){var n=e.props,r=e.instance;return["p-multiselect-filter p-inputtext p-component",{"p-variant-filled":n.variant?n.variant==="filled":r.$primevue.config.inputStyle==="filled"}]},filterIcon:"p-multiselect-filter-icon",closeButton:"p-multiselect-close p-link",closeIcon:"p-multiselect-close-icon",wrapper:"p-multiselect-items-wrapper",list:"p-multiselect-items p-component",itemGroup:"p-multiselect-item-group",item:function(e){var n=e.instance,r=e.option,i=e.index,s=e.getItemOptions,o=e.props;return["p-multiselect-item",{"p-highlight":n.isSelected(r)&&o.highlightOnSelect,"p-focus":n.focusedOptionIndex===n.getOptionIndex(i,s),"p-disabled":n.isOptionDisabled(r)}]},emptyMessage:"p-multiselect-empty-message"},bme=fr.extend({name:"multiselect",classes:yme,inlineStyles:vme}),_me={name:"BaseMultiSelect",extends:oi,props:{modelValue:null,options:Array,optionLabel:null,optionValue:null,optionDisabled:null,optionGroupLabel:null,optionGroupChildren:null,scrollHeight:{type:String,default:"200px"},placeholder:String,variant:{type:String,default:null},invalid:{type:Boolean,default:!1},disabled:Boolean,inputId:{type:String,default:null},inputProps:{type:null,default:null},panelClass:{type:String,default:null},panelStyle:{type:null,default:null},panelProps:{type:null,default:null},filterInputProps:{type:null,default:null},closeButtonProps:{type:null,default:null},dataKey:null,filter:Boolean,filterPlaceholder:String,filterLocale:String,filterMatchMode:{type:String,default:"contains"},filterFields:{type:Array,default:null},appendTo:{type:[String,Object],default:"body"},display:{type:String,default:"comma"},selectedItemsLabel:{type:String,default:"{0} items selected"},maxSelectedLabels:{type:Number,default:null},selectionLimit:{type:Number,default:null},showToggleAll:{type:Boolean,default:!0},loading:{type:Boolean,default:!1},checkboxIcon:{type:String,default:void 0},closeIcon:{type:String,default:void 0},dropdownIcon:{type:String,default:void 0},filterIcon:{type:String,default:void 0},loadingIcon:{type:String,default:void 0},removeTokenIcon:{type:String,default:void 0},selectAll:{type:Boolean,default:null},resetFilterOnHide:{type:Boolean,default:!1},virtualScrollerOptions:{type:Object,default:null},autoOptionFocus:{type:Boolean,default:!1},autoFilterFocus:{type:Boolean,default:!1},focusOnHover:{type:Boolean,default:!0},highlightOnSelect:{type:Boolean,default:!1},filterMessage:{type:String,default:null},selectionMessage:{type:String,default:null},emptySelectionMessage:{type:String,default:null},emptyFilterMessage:{type:String,default:null},emptyMessage:{type:String,default:null},tabindex:{type:Number,default:0},ariaLabel:{type:String,default:null},ariaLabelledby:{type:String,default:null}},style:bme,provide:function(){return{$parentInstance:this}}};function Zh(t){"@babel/helpers - typeof";return Zh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zh(t)}function YP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function XP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?YP(Object(n),!0).forEach(function(r){iV(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):YP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function iV(t,e,n){return e=wme(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function wme(t){var e=Tme(t,"string");return Zh(e)=="symbol"?e:String(e)}function Tme(t,e){if(Zh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Zh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function QP(t){return Cme(t)||Ime(t)||Sme(t)||Eme()}function Eme(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Sme(t,e){if(t){if(typeof t=="string")return m_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return m_(t,e)}}function Ime(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Cme(t){if(Array.isArray(t))return m_(t)}function m_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var sV={name:"MultiSelect",extends:_me,inheritAttrs:!1,emits:["update:modelValue","change","focus","blur","before-show","before-hide","show","hide","filter","selectall-change"],outsideClickListener:null,scrollHandler:null,resizeListener:null,overlay:null,list:null,virtualScroller:null,startRangeIndex:-1,searchTimeout:null,searchValue:"",selectOnFocus:!1,data:function(){return{id:this.$attrs.id,clicked:!1,focused:!1,focusedOptionIndex:-1,filterValue:null,overlayVisible:!1}},watch:{"$attrs.id":function(e){this.id=e||gc()},options:function(){this.autoUpdateModel()}},mounted:function(){this.id=this.id||gc(),this.autoUpdateModel()},beforeUnmount:function(){this.unbindOutsideClickListener(),this.unbindResizeListener(),this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null),this.overlay&&(zu.clear(this.overlay),this.overlay=null)},methods:{getOptionIndex:function(e,n){return this.virtualScrollerDisabled?e:n&&n(e).index},getOptionLabel:function(e){return this.optionLabel?Me.resolveFieldData(e,this.optionLabel):e},getOptionValue:function(e){return this.optionValue?Me.resolveFieldData(e,this.optionValue):e},getOptionRenderKey:function(e,n){return this.dataKey?Me.resolveFieldData(e,this.dataKey):this.getOptionLabel(e)+"_".concat(n)},getHeaderCheckboxPTOptions:function(e){return this.ptm(e,{context:{selected:this.allSelected}})},getCheckboxPTOptions:function(e,n,r,i){return this.ptm(i,{context:{selected:this.isSelected(e),focused:this.focusedOptionIndex===this.getOptionIndex(r,n),disabled:this.isOptionDisabled(e)}})},isOptionDisabled:function(e){return this.maxSelectionLimitReached&&!this.isSelected(e)?!0:this.optionDisabled?Me.resolveFieldData(e,this.optionDisabled):!1},isOptionGroup:function(e){return this.optionGroupLabel&&e.optionGroup&&e.group},getOptionGroupLabel:function(e){return Me.resolveFieldData(e,this.optionGroupLabel)},getOptionGroupChildren:function(e){return Me.resolveFieldData(e,this.optionGroupChildren)},getAriaPosInset:function(e){var n=this;return(this.optionGroupLabel?e-this.visibleOptions.slice(0,e).filter(function(r){return n.isOptionGroup(r)}).length:e)+1},show:function(e){this.$emit("before-show"),this.overlayVisible=!0,this.focusedOptionIndex=this.focusedOptionIndex!==-1?this.focusedOptionIndex:this.autoOptionFocus?this.findFirstFocusedOptionIndex():this.findSelectedOptionIndex(),e&&ze.focus(this.$refs.focusInput)},hide:function(e){var n=this,r=function(){n.$emit("before-hide"),n.overlayVisible=!1,n.clicked=!1,n.focusedOptionIndex=-1,n.searchValue="",n.resetFilterOnHide&&(n.filterValue=null),e&&ze.focus(n.$refs.focusInput)};setTimeout(function(){r()},0)},onFocus:function(e){this.disabled||(this.focused=!0,this.overlayVisible&&(this.focusedOptionIndex=this.focusedOptionIndex!==-1?this.focusedOptionIndex:this.autoOptionFocus?this.findFirstFocusedOptionIndex():this.findSelectedOptionIndex(),this.scrollInView(this.focusedOptionIndex)),this.$emit("focus",e))},onBlur:function(e){this.clicked=!1,this.focused=!1,this.focusedOptionIndex=-1,this.searchValue="",this.$emit("blur",e)},onKeyDown:function(e){var n=this;if(this.disabled){e.preventDefault();return}var r=e.metaKey||e.ctrlKey;switch(e.code){case"ArrowDown":this.onArrowDownKey(e);break;case"ArrowUp":this.onArrowUpKey(e);break;case"Home":this.onHomeKey(e);break;case"End":this.onEndKey(e);break;case"PageDown":this.onPageDownKey(e);break;case"PageUp":this.onPageUpKey(e);break;case"Enter":case"NumpadEnter":case"Space":this.onEnterKey(e);break;case"Escape":this.onEscapeKey(e);break;case"Tab":this.onTabKey(e);break;case"ShiftLeft":case"ShiftRight":this.onShiftKey(e);break;default:if(e.code==="KeyA"&&r){var i=this.visibleOptions.filter(function(s){return n.isValidOption(s)}).map(function(s){return n.getOptionValue(s)});this.updateModel(e,i),e.preventDefault();break}!r&&Me.isPrintableCharacter(e.key)&&(!this.overlayVisible&&this.show(),this.searchOptions(e),e.preventDefault());break}this.clicked=!1},onContainerClick:function(e){this.disabled||this.loading||((!this.overlay||!this.overlay.contains(e.target))&&(this.overlayVisible?this.hide(!0):this.show(!0)),this.clicked=!0)},onFirstHiddenFocus:function(e){var n=e.relatedTarget===this.$refs.focusInput?ze.getFirstFocusableElement(this.overlay,':not([data-p-hidden-focusable="true"])'):this.$refs.focusInput;ze.focus(n)},onLastHiddenFocus:function(e){var n=e.relatedTarget===this.$refs.focusInput?ze.getLastFocusableElement(this.overlay,':not([data-p-hidden-focusable="true"])'):this.$refs.focusInput;ze.focus(n)},onCloseClick:function(){this.hide(!0)},onOptionSelect:function(e,n){var r=this,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:-1,s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!(this.disabled||this.isOptionDisabled(n))){var o=this.isSelected(n),a=null;o?a=this.modelValue.filter(function(l){return!Me.equals(l,r.getOptionValue(n),r.equalityKey)}):a=[].concat(QP(this.modelValue||[]),[this.getOptionValue(n)]),this.updateModel(e,a),i!==-1&&(this.focusedOptionIndex=i),s&&ze.focus(this.$refs.focusInput)}},onOptionMouseMove:function(e,n){this.focusOnHover&&this.changeFocusedOptionIndex(e,n)},onOptionSelectRange:function(e){var n=this,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:-1,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:-1;if(r===-1&&(r=this.findNearestSelectedOptionIndex(i,!0)),i===-1&&(i=this.findNearestSelectedOptionIndex(r)),r!==-1&&i!==-1){var s=Math.min(r,i),o=Math.max(r,i),a=this.visibleOptions.slice(s,o+1).filter(function(l){return n.isValidOption(l)}).map(function(l){return n.getOptionValue(l)});this.updateModel(e,a)}},onFilterChange:function(e){var n=e.target.value;this.filterValue=n,this.focusedOptionIndex=-1,this.$emit("filter",{originalEvent:e,value:n}),!this.virtualScrollerDisabled&&this.virtualScroller.scrollToIndex(0)},onFilterKeyDown:function(e){switch(e.code){case"ArrowDown":this.onArrowDownKey(e);break;case"ArrowUp":this.onArrowUpKey(e,!0);break;case"ArrowLeft":case"ArrowRight":this.onArrowLeftKey(e,!0);break;case"Home":this.onHomeKey(e,!0);break;case"End":this.onEndKey(e,!0);break;case"Enter":case"NumpadEnter":this.onEnterKey(e);break;case"Escape":this.onEscapeKey(e);break;case"Tab":this.onTabKey(e,!0);break}},onFilterBlur:function(){this.focusedOptionIndex=-1},onFilterUpdated:function(){this.overlayVisible&&this.alignOverlay()},onOverlayClick:function(e){JL.emit("overlay-click",{originalEvent:e,target:this.$el})},onOverlayKeyDown:function(e){switch(e.code){case"Escape":this.onEscapeKey(e);break}},onArrowDownKey:function(e){if(!this.overlayVisible)this.show();else{var n=this.focusedOptionIndex!==-1?this.findNextOptionIndex(this.focusedOptionIndex):this.clicked?this.findFirstOptionIndex():this.findFirstFocusedOptionIndex();e.shiftKey&&this.onOptionSelectRange(e,this.startRangeIndex,n),this.changeFocusedOptionIndex(e,n)}e.preventDefault()},onArrowUpKey:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(e.altKey&&!n)this.focusedOptionIndex!==-1&&this.onOptionSelect(e,this.visibleOptions[this.focusedOptionIndex]),this.overlayVisible&&this.hide(),e.preventDefault();else{var r=this.focusedOptionIndex!==-1?this.findPrevOptionIndex(this.focusedOptionIndex):this.clicked?this.findLastOptionIndex():this.findLastFocusedOptionIndex();e.shiftKey&&this.onOptionSelectRange(e,r,this.startRangeIndex),this.changeFocusedOptionIndex(e,r),!this.overlayVisible&&this.show(),e.preventDefault()}},onArrowLeftKey:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;n&&(this.focusedOptionIndex=-1)},onHomeKey:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(n){var r=e.currentTarget;e.shiftKey?r.setSelectionRange(0,e.target.selectionStart):(r.setSelectionRange(0,0),this.focusedOptionIndex=-1)}else{var i=e.metaKey||e.ctrlKey,s=this.findFirstOptionIndex();e.shiftKey&&i&&this.onOptionSelectRange(e,s,this.startRangeIndex),this.changeFocusedOptionIndex(e,s),!this.overlayVisible&&this.show()}e.preventDefault()},onEndKey:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(n){var r=e.currentTarget;if(e.shiftKey)r.setSelectionRange(e.target.selectionStart,r.value.length);else{var i=r.value.length;r.setSelectionRange(i,i),this.focusedOptionIndex=-1}}else{var s=e.metaKey||e.ctrlKey,o=this.findLastOptionIndex();e.shiftKey&&s&&this.onOptionSelectRange(e,this.startRangeIndex,o),this.changeFocusedOptionIndex(e,o),!this.overlayVisible&&this.show()}e.preventDefault()},onPageUpKey:function(e){this.scrollInView(0),e.preventDefault()},onPageDownKey:function(e){this.scrollInView(this.visibleOptions.length-1),e.preventDefault()},onEnterKey:function(e){this.overlayVisible?this.focusedOptionIndex!==-1&&(e.shiftKey?this.onOptionSelectRange(e,this.focusedOptionIndex):this.onOptionSelect(e,this.visibleOptions[this.focusedOptionIndex])):(this.focusedOptionIndex=-1,this.onArrowDownKey(e)),e.preventDefault()},onEscapeKey:function(e){this.overlayVisible&&this.hide(!0),e.preventDefault()},onTabKey:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;n||(this.overlayVisible&&this.hasFocusableElements()?(ze.focus(e.shiftKey?this.$refs.lastHiddenFocusableElementOnOverlay:this.$refs.firstHiddenFocusableElementOnOverlay),e.preventDefault()):(this.focusedOptionIndex!==-1&&this.onOptionSelect(e,this.visibleOptions[this.focusedOptionIndex]),this.overlayVisible&&this.hide(this.filter)))},onShiftKey:function(){this.startRangeIndex=this.focusedOptionIndex},onOverlayEnter:function(e){zu.set("overlay",e,this.$primevue.config.zIndex.overlay),ze.addStyles(e,{position:"absolute",top:"0",left:"0"}),this.alignOverlay(),this.scrollInView(),this.autoFilterFocus&&ze.focus(this.$refs.filterInput)},onOverlayAfterEnter:function(){this.bindOutsideClickListener(),this.bindScrollListener(),this.bindResizeListener(),this.$emit("show")},onOverlayLeave:function(){this.unbindOutsideClickListener(),this.unbindScrollListener(),this.unbindResizeListener(),this.$emit("hide"),this.overlay=null},onOverlayAfterLeave:function(e){zu.clear(e)},alignOverlay:function(){this.appendTo==="self"?ze.relativePosition(this.overlay,this.$el):(this.overlay.style.minWidth=ze.getOuterWidth(this.$el)+"px",ze.absolutePosition(this.overlay,this.$el))},bindOutsideClickListener:function(){var e=this;this.outsideClickListener||(this.outsideClickListener=function(n){e.overlayVisible&&e.isOutsideClicked(n)&&e.hide()},document.addEventListener("click",this.outsideClickListener))},unbindOutsideClickListener:function(){this.outsideClickListener&&(document.removeEventListener("click",this.outsideClickListener),this.outsideClickListener=null)},bindScrollListener:function(){var e=this;this.scrollHandler||(this.scrollHandler=new fM(this.$refs.container,function(){e.overlayVisible&&e.hide()})),this.scrollHandler.bindScrollListener()},unbindScrollListener:function(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()},bindResizeListener:function(){var e=this;this.resizeListener||(this.resizeListener=function(){e.overlayVisible&&!ze.isTouchDevice()&&e.hide()},window.addEventListener("resize",this.resizeListener))},unbindResizeListener:function(){this.resizeListener&&(window.removeEventListener("resize",this.resizeListener),this.resizeListener=null)},isOutsideClicked:function(e){return!(this.$el.isSameNode(e.target)||this.$el.contains(e.target)||this.overlay&&this.overlay.contains(e.target))},getLabelByValue:function(e){var n=this,r=this.optionGroupLabel?this.flatOptions(this.options):this.options||[],i=r.find(function(s){return!n.isOptionGroup(s)&&Me.equals(n.getOptionValue(s),e,n.equalityKey)});return i?this.getOptionLabel(i):null},getSelectedItemsLabel:function(){var e=/{(.*?)}/,n=this.selectedItemsLabel||this.$primevue.config.locale.selectionMessage;return e.test(n)?n.replace(n.match(e)[0],this.modelValue.length+""):n},onToggleAll:function(e){var n=this;if(this.selectAll!==null)this.$emit("selectall-change",{originalEvent:e,checked:!this.allSelected});else{var r=this.allSelected?[]:this.visibleOptions.filter(function(i){return n.isValidOption(i)}).map(function(i){return n.getOptionValue(i)});this.updateModel(e,r)}},removeOption:function(e,n){var r=this,i=this.modelValue.filter(function(s){return!Me.equals(s,n,r.equalityKey)});this.updateModel(e,i)},clearFilter:function(){this.filterValue=null},hasFocusableElements:function(){return ze.getFocusableElements(this.overlay,':not([data-p-hidden-focusable="true"])').length>0},isOptionMatched:function(e){var n;return this.isValidOption(e)&&((n=this.getOptionLabel(e))===null||n===void 0?void 0:n.toLocaleLowerCase(this.filterLocale).startsWith(this.searchValue.toLocaleLowerCase(this.filterLocale)))},isValidOption:function(e){return Me.isNotEmpty(e)&&!(this.isOptionDisabled(e)||this.isOptionGroup(e))},isValidSelectedOption:function(e){return this.isValidOption(e)&&this.isSelected(e)},isEquals:function(e,n){return Me.equals(e,n,this.equalityKey)},isSelected:function(e){var n=this,r=this.getOptionValue(e);return(this.modelValue||[]).some(function(i){return n.isEquals(i,r)})},findFirstOptionIndex:function(){var e=this;return this.visibleOptions.findIndex(function(n){return e.isValidOption(n)})},findLastOptionIndex:function(){var e=this;return Me.findLastIndex(this.visibleOptions,function(n){return e.isValidOption(n)})},findNextOptionIndex:function(e){var n=this,r=e<this.visibleOptions.length-1?this.visibleOptions.slice(e+1).findIndex(function(i){return n.isValidOption(i)}):-1;return r>-1?r+e+1:e},findPrevOptionIndex:function(e){var n=this,r=e>0?Me.findLastIndex(this.visibleOptions.slice(0,e),function(i){return n.isValidOption(i)}):-1;return r>-1?r:e},findSelectedOptionIndex:function(){var e=this;if(this.hasSelectedOption){for(var n=function(){var o=e.modelValue[i],a=e.visibleOptions.findIndex(function(l){return e.isValidSelectedOption(l)&&e.isEquals(o,e.getOptionValue(l))});if(a>-1)return{v:a}},r,i=this.modelValue.length-1;i>=0;i--)if(r=n(),r)return r.v}return-1},findFirstSelectedOptionIndex:function(){var e=this;return this.hasSelectedOption?this.visibleOptions.findIndex(function(n){return e.isValidSelectedOption(n)}):-1},findLastSelectedOptionIndex:function(){var e=this;return this.hasSelectedOption?Me.findLastIndex(this.visibleOptions,function(n){return e.isValidSelectedOption(n)}):-1},findNextSelectedOptionIndex:function(e){var n=this,r=this.hasSelectedOption&&e<this.visibleOptions.length-1?this.visibleOptions.slice(e+1).findIndex(function(i){return n.isValidSelectedOption(i)}):-1;return r>-1?r+e+1:-1},findPrevSelectedOptionIndex:function(e){var n=this,r=this.hasSelectedOption&&e>0?Me.findLastIndex(this.visibleOptions.slice(0,e),function(i){return n.isValidSelectedOption(i)}):-1;return r>-1?r:-1},findNearestSelectedOptionIndex:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,r=-1;return this.hasSelectedOption&&(n?(r=this.findPrevSelectedOptionIndex(e),r=r===-1?this.findNextSelectedOptionIndex(e):r):(r=this.findNextSelectedOptionIndex(e),r=r===-1?this.findPrevSelectedOptionIndex(e):r)),r>-1?r:e},findFirstFocusedOptionIndex:function(){var e=this.findSelectedOptionIndex();return e<0?this.findFirstOptionIndex():e},findLastFocusedOptionIndex:function(){var e=this.findSelectedOptionIndex();return e<0?this.findLastOptionIndex():e},searchOptions:function(e){var n=this;this.searchValue=(this.searchValue||"")+e.key;var r=-1;Me.isNotEmpty(this.searchValue)&&(this.focusedOptionIndex!==-1?(r=this.visibleOptions.slice(this.focusedOptionIndex).findIndex(function(i){return n.isOptionMatched(i)}),r=r===-1?this.visibleOptions.slice(0,this.focusedOptionIndex).findIndex(function(i){return n.isOptionMatched(i)}):r+this.focusedOptionIndex):r=this.visibleOptions.findIndex(function(i){return n.isOptionMatched(i)}),r===-1&&this.focusedOptionIndex===-1&&(r=this.findFirstFocusedOptionIndex()),r!==-1&&this.changeFocusedOptionIndex(e,r)),this.searchTimeout&&clearTimeout(this.searchTimeout),this.searchTimeout=setTimeout(function(){n.searchValue="",n.searchTimeout=null},500)},changeFocusedOptionIndex:function(e,n){this.focusedOptionIndex!==n&&(this.focusedOptionIndex=n,this.scrollInView(),this.selectOnFocus&&this.onOptionSelect(e,this.visibleOptions[n]))},scrollInView:function(){var e=this,n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:-1;this.$nextTick(function(){var r=n!==-1?"".concat(e.id,"_").concat(n):e.focusedOptionId,i=ze.findSingle(e.list,'li[id="'.concat(r,'"]'));i?i.scrollIntoView&&i.scrollIntoView({block:"nearest",inline:"nearest"}):e.virtualScrollerDisabled||e.virtualScroller&&e.virtualScroller.scrollToIndex(n!==-1?n:e.focusedOptionIndex)})},autoUpdateModel:function(){if(this.selectOnFocus&&this.autoOptionFocus&&!this.hasSelectedOption){this.focusedOptionIndex=this.findFirstFocusedOptionIndex();var e=this.getOptionValue(this.visibleOptions[this.focusedOptionIndex]);this.updateModel(null,[e])}},updateModel:function(e,n){this.$emit("update:modelValue",n),this.$emit("change",{originalEvent:e,value:n})},flatOptions:function(e){var n=this;return(e||[]).reduce(function(r,i,s){r.push({optionGroup:i,group:!0,index:s});var o=n.getOptionGroupChildren(i);return o&&o.forEach(function(a){return r.push(a)}),r},[])},overlayRef:function(e){this.overlay=e},listRef:function(e,n){this.list=e,n&&n(e)},virtualScrollerRef:function(e){this.virtualScroller=e}},computed:{visibleOptions:function(){var e=this,n=this.optionGroupLabel?this.flatOptions(this.options):this.options||[];if(this.filterValue){var r=XL.filter(n,this.searchFields,this.filterValue,this.filterMatchMode,this.filterLocale);if(this.optionGroupLabel){var i=this.options||[],s=[];return i.forEach(function(o){var a=e.getOptionGroupChildren(o),l=a.filter(function(u){return r.includes(u)});l.length>0&&s.push(XP(XP({},o),{},iV({},typeof e.optionGroupChildren=="string"?e.optionGroupChildren:"items",QP(l))))}),this.flatOptions(s)}return r}return n},label:function(){var e;if(this.modelValue&&this.modelValue.length){if(Me.isNotEmpty(this.maxSelectedLabels)&&this.modelValue.length>this.maxSelectedLabels)return this.getSelectedItemsLabel();e="";for(var n=0;n<this.modelValue.length;n++)n!==0&&(e+=", "),e+=this.getLabelByValue(this.modelValue[n])}else e=this.placeholder;return e},chipSelectedItems:function(){return Me.isNotEmpty(this.maxSelectedLabels)&&this.modelValue&&this.modelValue.length>this.maxSelectedLabels?this.modelValue.slice(0,this.maxSelectedLabels):this.modelValue},allSelected:function(){var e=this;return this.selectAll!==null?this.selectAll:Me.isNotEmpty(this.visibleOptions)&&this.visibleOptions.every(function(n){return e.isOptionGroup(n)||e.isOptionDisabled(n)||e.isSelected(n)})},hasSelectedOption:function(){return Me.isNotEmpty(this.modelValue)},equalityKey:function(){return this.optionValue?null:this.dataKey},searchFields:function(){return this.filterFields||[this.optionLabel]},maxSelectionLimitReached:function(){return this.selectionLimit&&this.modelValue&&this.modelValue.length===this.selectionLimit},filterResultMessageText:function(){return Me.isNotEmpty(this.visibleOptions)?this.filterMessageText.replaceAll("{0}",this.visibleOptions.length):this.emptyFilterMessageText},filterMessageText:function(){return this.filterMessage||this.$primevue.config.locale.searchMessage||""},emptyFilterMessageText:function(){return this.emptyFilterMessage||this.$primevue.config.locale.emptySearchMessage||this.$primevue.config.locale.emptyFilterMessage||""},emptyMessageText:function(){return this.emptyMessage||this.$primevue.config.locale.emptyMessage||""},selectionMessageText:function(){return this.selectionMessage||this.$primevue.config.locale.selectionMessage||""},emptySelectionMessageText:function(){return this.emptySelectionMessage||this.$primevue.config.locale.emptySelectionMessage||""},selectedMessageText:function(){return this.hasSelectedOption?this.selectionMessageText.replaceAll("{0}",this.modelValue.length):this.emptySelectionMessageText},focusedOptionId:function(){return this.focusedOptionIndex!==-1?"".concat(this.id,"_").concat(this.focusedOptionIndex):null},ariaSetSize:function(){var e=this;return this.visibleOptions.filter(function(n){return!e.isOptionGroup(n)}).length},toggleAllAriaLabel:function(){return this.$primevue.config.locale.aria?this.$primevue.config.locale.aria[this.allSelected?"selectAll":"unselectAll"]:void 0},closeAriaLabel:function(){return this.$primevue.config.locale.aria?this.$primevue.config.locale.aria.close:void 0},listAriaLabel:function(){return this.$primevue.config.locale.aria?this.$primevue.config.locale.aria.listLabel:void 0},virtualScrollerDisabled:function(){return!this.virtualScrollerOptions}},directives:{ripple:bv},components:{Checkbox:rV,VirtualScroller:IT,Portal:ST,TimesIcon:ET,SearchIcon:TT,TimesCircleIcon:V1,ChevronDownIcon:Tv,SpinnerIcon:Of,CheckIcon:Mv}};function ef(t){"@babel/helpers - typeof";return ef=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ef(t)}function JP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Wo(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?JP(Object(n),!0).forEach(function(r){g_(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):JP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function g_(t,e,n){return e=Ame(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ame(t){var e=Pme(t,"string");return ef(e)=="symbol"?e:String(e)}function Pme(t,e){if(ef(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(ef(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ome=["id","disabled","placeholder","tabindex","aria-label","aria-labelledby","aria-expanded","aria-controls","aria-activedescendant","aria-invalid"],kme=["onClick"],Rme=["value","placeholder","aria-owns","aria-activedescendant"],xme=["aria-label"],Dme=["id","aria-label"],Nme=["id"],Mme=["id","aria-label","aria-selected","aria-disabled","aria-setsize","aria-posinset","onClick","onMousemove","data-p-highlight","data-p-focused","data-p-disabled"];function Lme(t,e,n,r,i,s){var o=An("TimesCircleIcon"),a=An("SpinnerIcon"),l=An("Checkbox"),u=An("VirtualScroller"),c=An("Portal"),d=Rg("ripple");return N(),W("div",le({ref:"container",class:t.cx("root"),style:t.sx("root"),onClick:e[13]||(e[13]=function(){return s.onContainerClick&&s.onContainerClick.apply(s,arguments)})},t.ptmi("root")),[v("div",le({class:"p-hidden-accessible"},t.ptm("hiddenInputWrapper"),{"data-p-hidden-accessible":!0}),[v("input",le({ref:"focusInput",id:t.inputId,type:"text",readonly:"",disabled:t.disabled,placeholder:t.placeholder,tabindex:t.disabled?-1:t.tabindex,role:"combobox","aria-label":t.ariaLabel,"aria-labelledby":t.ariaLabelledby,"aria-haspopup":"listbox","aria-expanded":i.overlayVisible,"aria-controls":i.id+"_list","aria-activedescendant":i.focused?s.focusedOptionId:void 0,"aria-invalid":t.invalid||void 0,onFocus:e[0]||(e[0]=function(){return s.onFocus&&s.onFocus.apply(s,arguments)}),onBlur:e[1]||(e[1]=function(){return s.onBlur&&s.onBlur.apply(s,arguments)}),onKeydown:e[2]||(e[2]=function(){return s.onKeyDown&&s.onKeyDown.apply(s,arguments)})},Wo(Wo({},t.inputProps),t.ptm("hiddenInput"))),null,16,Ome)],16),v("div",le({class:t.cx("labelContainer")},t.ptm("labelContainer")),[v("div",le({class:t.cx("label")},t.ptm("label")),[Te(t.$slots,"value",{value:t.modelValue,placeholder:t.placeholder},function(){return[t.display==="comma"?(N(),W(Pe,{key:0},[K(Fe(s.label||"empty"),1)],64)):t.display==="chip"?(N(),W(Pe,{key:1},[(N(!0),W(Pe,null,ht(s.chipSelectedItems,function(h){return N(),W("div",le({key:s.getLabelByValue(h),class:t.cx("token")},t.ptm("token")),[Te(t.$slots,"chip",{value:h},function(){return[v("span",le({class:t.cx("tokenLabel")},t.ptm("tokenLabel")),Fe(s.getLabelByValue(h)),17)]}),t.disabled?Z("",!0):Te(t.$slots,"removetokenicon",{key:0,class:$e(t.cx("removeTokenIcon")),item:h,onClick:function(m){return s.removeOption(m,h)},removeCallback:function(m){return s.removeOption(m,h)}},function(){return[t.removeTokenIcon?(N(),W("span",le({key:0,class:[t.cx("removeTokenIcon"),t.removeTokenIcon],onClick:kt(function(p){return s.removeOption(p,h)},["stop"])},t.ptm("removeTokenIcon")),null,16,kme)):(N(),ce(o,le({key:1,class:t.cx("removeTokenIcon"),onClick:kt(function(p){return s.removeOption(p,h)},["stop"])},t.ptm("removeTokenIcon")),null,16,["class","onClick"]))]})],16)}),128)),!t.modelValue||t.modelValue.length===0?(N(),W(Pe,{key:0},[K(Fe(t.placeholder||"empty"),1)],64)):Z("",!0)],64)):Z("",!0)]})],16)],16),v("div",le({class:t.cx("trigger")},t.ptm("trigger")),[t.loading?Te(t.$slots,"loadingicon",{key:0,class:$e(t.cx("loadingIcon"))},function(){return[t.loadingIcon?(N(),W("span",le({key:0,class:[t.cx("loadingIcon"),"pi-spin",t.loadingIcon],"aria-hidden":"true"},t.ptm("loadingIcon")),null,16)):(N(),ce(a,le({key:1,class:t.cx("loadingIcon"),spin:"","aria-hidden":"true"},t.ptm("loadingIcon")),null,16,["class"]))]}):Te(t.$slots,"dropdownicon",{key:1,class:$e(t.cx("dropdownIcon"))},function(){return[(N(),ce(Nn(t.dropdownIcon?"span":"ChevronDownIcon"),le({class:[t.cx("dropdownIcon"),t.dropdownIcon],"aria-hidden":"true"},t.ptm("dropdownIcon")),null,16,["class"]))]})],16),B(c,{appendTo:t.appendTo},{default:J(function(){return[B(ns,le({name:"p-connected-overlay",onEnter:s.onOverlayEnter,onAfterEnter:s.onOverlayAfterEnter,onLeave:s.onOverlayLeave,onAfterLeave:s.onOverlayAfterLeave},t.ptm("transition")),{default:J(function(){return[i.overlayVisible?(N(),W("div",le({key:0,ref:s.overlayRef,style:t.panelStyle,class:[t.cx("panel"),t.panelClass],onClick:e[11]||(e[11]=function(){return s.onOverlayClick&&s.onOverlayClick.apply(s,arguments)}),onKeydown:e[12]||(e[12]=function(){return s.onOverlayKeyDown&&s.onOverlayKeyDown.apply(s,arguments)})},Wo(Wo({},t.panelProps),t.ptm("panel"))),[v("span",le({ref:"firstHiddenFocusableElementOnOverlay",role:"presentation","aria-hidden":"true",class:"p-hidden-accessible p-hidden-focusable",tabindex:0,onFocus:e[3]||(e[3]=function(){return s.onFirstHiddenFocus&&s.onFirstHiddenFocus.apply(s,arguments)})},t.ptm("hiddenFirstFocusableEl"),{"data-p-hidden-accessible":!0,"data-p-hidden-focusable":!0}),null,16),Te(t.$slots,"header",{value:t.modelValue,options:s.visibleOptions}),t.showToggleAll&&t.selectionLimit==null||t.filter?(N(),W("div",le({key:0,class:t.cx("header")},t.ptm("header")),[t.showToggleAll&&t.selectionLimit==null?(N(),ce(l,{key:0,modelValue:s.allSelected,binary:!0,disabled:t.disabled,variant:t.variant,"aria-label":s.toggleAllAriaLabel,onChange:s.onToggleAll,unstyled:t.unstyled,pt:s.getHeaderCheckboxPTOptions("headerCheckbox")},{icon:J(function(h){return[t.$slots.headercheckboxicon?(N(),ce(Nn(t.$slots.headercheckboxicon),{key:0,checked:h.checked,class:$e(h.class)},null,8,["checked","class"])):h.checked?(N(),ce(Nn(t.checkboxIcon?"span":"CheckIcon"),le({key:1,class:[h.class,g_({},t.checkboxIcon,h.checked)]},s.getHeaderCheckboxPTOptions("headerCheckbox.icon")),null,16,["class"])):Z("",!0)]}),_:1},8,["modelValue","disabled","variant","aria-label","onChange","unstyled","pt"])):Z("",!0),t.filter?(N(),W("div",le({key:1,class:t.cx("filterContainer")},t.ptm("filterContainer")),[v("input",le({ref:"filterInput",type:"text",value:i.filterValue,onVnodeMounted:e[4]||(e[4]=function(){return s.onFilterUpdated&&s.onFilterUpdated.apply(s,arguments)}),onVnodeUpdated:e[5]||(e[5]=function(){return s.onFilterUpdated&&s.onFilterUpdated.apply(s,arguments)}),class:t.cx("filterInput"),placeholder:t.filterPlaceholder,role:"searchbox",autocomplete:"off","aria-owns":i.id+"_list","aria-activedescendant":s.focusedOptionId,onKeydown:e[6]||(e[6]=function(){return s.onFilterKeyDown&&s.onFilterKeyDown.apply(s,arguments)}),onBlur:e[7]||(e[7]=function(){return s.onFilterBlur&&s.onFilterBlur.apply(s,arguments)}),onInput:e[8]||(e[8]=function(){return s.onFilterChange&&s.onFilterChange.apply(s,arguments)})},Wo(Wo({},t.filterInputProps),t.ptm("filterInput"))),null,16,Rme),Te(t.$slots,"filtericon",{class:$e(t.cx("filterIcon"))},function(){return[(N(),ce(Nn(t.filterIcon?"span":"SearchIcon"),le({class:[t.cx("filterIcon"),t.filterIcon]},t.ptm("filterIcon")),null,16,["class"]))]})],16)):Z("",!0),t.filter?(N(),W("span",le({key:2,role:"status","aria-live":"polite",class:"p-hidden-accessible"},t.ptm("hiddenFilterResult"),{"data-p-hidden-accessible":!0}),Fe(s.filterResultMessageText),17)):Z("",!0),Fi((N(),W("button",le({class:t.cx("closeButton"),"aria-label":s.closeAriaLabel,onClick:e[9]||(e[9]=function(){return s.onCloseClick&&s.onCloseClick.apply(s,arguments)}),type:"button"},Wo(Wo({},t.closeButtonProps),t.ptm("closeButton"))),[Te(t.$slots,"closeicon",{class:$e(t.cx("closeIcon"))},function(){return[(N(),ce(Nn(t.closeIcon?"span":"TimesIcon"),le({class:[t.cx("closeIcon"),t.closeIcon]},t.ptm("closeIcon")),null,16,["class"]))]})],16,xme)),[[d]])],16)):Z("",!0),v("div",le({class:t.cx("wrapper"),style:{"max-height":s.virtualScrollerDisabled?t.scrollHeight:""}},t.ptm("wrapper")),[B(u,le({ref:s.virtualScrollerRef},t.virtualScrollerOptions,{items:s.visibleOptions,style:{height:t.scrollHeight},tabindex:-1,disabled:s.virtualScrollerDisabled,pt:t.ptm("virtualScroller")}),dr({content:J(function(h){var p=h.styleClass,m=h.contentRef,g=h.items,y=h.getItemOptions,P=h.contentStyle,I=h.itemSize;return[v("ul",le({ref:function(T){return s.listRef(T,m)},id:i.id+"_list",class:[t.cx("list"),p],style:P,role:"listbox","aria-multiselectable":"true","aria-label":s.listAriaLabel},t.ptm("list")),[(N(!0),W(Pe,null,ht(g,function(S,T){return N(),W(Pe,{key:s.getOptionRenderKey(S,s.getOptionIndex(T,y))},[s.isOptionGroup(S)?(N(),W("li",le({key:0,id:i.id+"_"+s.getOptionIndex(T,y),style:{height:I?I+"px":void 0},class:t.cx("itemGroup"),role:"option"},t.ptm("itemGroup")),[Te(t.$slots,"optiongroup",{option:S.optionGroup,index:s.getOptionIndex(T,y)},function(){return[K(Fe(s.getOptionGroupLabel(S.optionGroup)),1)]})],16,Nme)):Fi((N(),W("li",le({key:1,id:i.id+"_"+s.getOptionIndex(T,y),style:{height:I?I+"px":void 0},class:t.cx("item",{option:S,index:T,getItemOptions:y}),role:"option","aria-label":s.getOptionLabel(S),"aria-selected":s.isSelected(S),"aria-disabled":s.isOptionDisabled(S),"aria-setsize":s.ariaSetSize,"aria-posinset":s.getAriaPosInset(s.getOptionIndex(T,y)),onClick:function(R){return s.onOptionSelect(R,S,s.getOptionIndex(T,y),!0)},onMousemove:function(R){return s.onOptionMouseMove(R,s.getOptionIndex(T,y))}},s.getCheckboxPTOptions(S,y,T,"item"),{"data-p-highlight":s.isSelected(S),"data-p-focused":i.focusedOptionIndex===s.getOptionIndex(T,y),"data-p-disabled":s.isOptionDisabled(S)}),[B(l,{modelValue:s.isSelected(S),binary:!0,tabindex:-1,variant:t.variant,unstyled:t.unstyled,pt:s.getCheckboxPTOptions(S,y,T,"itemCheckbox")},{icon:J(function(M){return[t.$slots.itemcheckboxicon?(N(),ce(Nn(t.$slots.itemcheckboxicon),{key:0,checked:M.checked,class:$e(M.class)},null,8,["checked","class"])):M.checked?(N(),ce(Nn(t.checkboxIcon?"span":"CheckIcon"),le({key:1,class:[M.class,g_({},t.checkboxIcon,M.checked)]},s.getCheckboxPTOptions(S,y,T,"itemCheckbox.icon")),null,16,["class"])):Z("",!0)]}),_:2},1032,["modelValue","variant","unstyled","pt"]),Te(t.$slots,"option",{option:S,index:s.getOptionIndex(T,y)},function(){return[v("span",Ln(cr(t.ptm("option"))),Fe(s.getOptionLabel(S)),17)]})],16,Mme)),[[d]])],64)}),128)),i.filterValue&&(!g||g&&g.length===0)?(N(),W("li",le({key:0,class:t.cx("emptyMessage"),role:"option"},t.ptm("emptyMessage")),[Te(t.$slots,"emptyfilter",{},function(){return[K(Fe(s.emptyFilterMessageText),1)]})],16)):!t.options||t.options&&t.options.length===0?(N(),W("li",le({key:1,class:t.cx("emptyMessage"),role:"option"},t.ptm("emptyMessage")),[Te(t.$slots,"empty",{},function(){return[K(Fe(s.emptyMessageText),1)]})],16)):Z("",!0)],16,Dme)]}),_:2},[t.$slots.loader?{name:"loader",fn:J(function(h){var p=h.options;return[Te(t.$slots,"loader",{options:p})]}),key:"0"}:void 0]),1040,["items","style","disabled","pt"])],16),Te(t.$slots,"footer",{value:t.modelValue,options:s.visibleOptions}),!t.options||t.options&&t.options.length===0?(N(),W("span",le({key:1,role:"status","aria-live":"polite",class:"p-hidden-accessible"},t.ptm("hiddenEmptyMessage"),{"data-p-hidden-accessible":!0}),Fe(s.emptyMessageText),17)):Z("",!0),v("span",le({role:"status","aria-live":"polite",class:"p-hidden-accessible"},t.ptm("hiddenSelectedMessage"),{"data-p-hidden-accessible":!0}),Fe(s.selectedMessageText),17),v("span",le({ref:"lastHiddenFocusableElementOnOverlay",role:"presentation","aria-hidden":"true",class:"p-hidden-accessible p-hidden-focusable",tabindex:0,onFocus:e[10]||(e[10]=function(){return s.onLastHiddenFocus&&s.onLastHiddenFocus.apply(s,arguments)})},t.ptm("hiddenLastFocusableEl"),{"data-p-hidden-accessible":!0,"data-p-hidden-focusable":!0}),null,16)],16)):Z("",!0)]}),_:3},16,["onEnter","onAfterEnter","onLeave","onAfterLeave"])]}),_:3},8,["appendTo"])],16)}sV.render=Lme;var Vme={root:function(e){var n=e.instance,r=e.props;return["p-inputtextarea p-inputtext p-component",{"p-filled":n.filled,"p-inputtextarea-resizable ":r.autoResize,"p-invalid":r.invalid,"p-variant-filled":r.variant?r.variant==="filled":n.$primevue.config.inputStyle==="filled"}]}},$me=fr.extend({name:"textarea",classes:Vme}),Fme={name:"BaseTextarea",extends:oi,props:{modelValue:null,autoResize:Boolean,invalid:{type:Boolean,default:!1},variant:{type:String,default:null}},style:$me,provide:function(){return{$parentInstance:this}}},oV={name:"Textarea",extends:Fme,inheritAttrs:!1,emits:["update:modelValue"],mounted:function(){this.$el.offsetParent&&this.autoResize&&this.resize()},updated:function(){this.$el.offsetParent&&this.autoResize&&this.resize()},methods:{resize:function(){this.$el.style.height="auto",this.$el.style.height=this.$el.scrollHeight+"px",parseFloat(this.$el.style.height)>=parseFloat(this.$el.style.maxHeight)?(this.$el.style.overflowY="scroll",this.$el.style.height=this.$el.style.maxHeight):this.$el.style.overflow="hidden"},onInput:function(e){this.autoResize&&this.resize(),this.$emit("update:modelValue",e.target.value)}},computed:{filled:function(){return this.modelValue!=null&&this.modelValue.toString().length>0},ptmParams:function(){return{context:{disabled:this.$attrs.disabled||this.$attrs.disabled===""}}}}},Ume=["value","aria-invalid"];function qme(t,e,n,r,i,s){return N(),W("textarea",le({class:t.cx("root"),value:t.modelValue,"aria-invalid":t.invalid||void 0,onInput:e[0]||(e[0]=function(){return s.onInput&&s.onInput.apply(s,arguments)})},t.ptmi("root",s.ptmParams)),null,16,Ume)}oV.render=qme;const rs=Kk(t6);rs.use(eT);rs.use(NG,{firebaseApp:fx,modules:[kG()]});rs.use(yx);rs.use(B4);rs.use(_te);rs.use(ppe);rs.component("VueDatePicker",wT);rs.component("PrimeInputText",nV);rs.component("PrimeTextArea",oV);rs.component("PrimeDropdown",tV);rs.component("PrimeMultiSelect",sV);rs.mount("#app");export{Lne as c,Vne as g};
function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = []
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}
