var OV=Object.defineProperty;var kV=(t,e,n)=>e in t?OV(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var Ns=(t,e,n)=>(kV(t,typeof e!="symbol"?e+"":e,n),n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();/**
* @vue/shared v3.4.38
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function fg(t,e){const n=new Set(t.split(","));return e?r=>n.has(r.toLowerCase()):r=>n.has(r)}const nn={},Ru=[],Ei=()=>{},RV=()=>!1,Zh=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),g_=t=>t.startsWith("onUpdate:"),qn=Object.assign,v_=(t,e)=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},xV=Object.prototype.hasOwnProperty,Wt=(t,e)=>xV.call(t,e),rt=Array.isArray,xu=t=>Sc(t)==="[object Map]",Fl=t=>Sc(t)==="[object Set]",fE=t=>Sc(t)==="[object Date]",DV=t=>Sc(t)==="[object RegExp]",mt=t=>typeof t=="function",Ln=t=>typeof t=="string",Ho=t=>typeof t=="symbol",cn=t=>t!==null&&typeof t=="object",y_=t=>(cn(t)||mt(t))&&mt(t.then)&&mt(t.catch),JP=Object.prototype.toString,Sc=t=>JP.call(t),NV=t=>Sc(t).slice(8,-1),ZP=t=>Sc(t)==="[object Object]",b_=t=>Ln(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,Du=fg(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),pg=t=>{const e=Object.create(null);return n=>e[n]||(e[n]=t(n))},MV=/-(\w)/g,ni=pg(t=>t.replace(MV,(e,n)=>n?n.toUpperCase():"")),LV=/\B([A-Z])/g,wi=pg(t=>t.replace(LV,"-$1").toLowerCase()),ef=pg(t=>t.charAt(0).toUpperCase()+t.slice(1)),xd=pg(t=>t?`on${ef(t)}`:""),hi=(t,e)=>!Object.is(t,e),Nu=(t,...e)=>{for(let n=0;n<t.length;n++)t[n](...e)},eO=(t,e,n,r=!1)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,writable:r,value:n})},rm=t=>{const e=parseFloat(t);return isNaN(e)?t:e},im=t=>{const e=Ln(t)?Number(t):NaN;return isNaN(e)?t:e};let pE;const tO=()=>pE||(pE=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{}),VV="Infinity,undefined,NaN,isFinite,isNaN,parseFloat,parseInt,decodeURI,decodeURIComponent,encodeURI,encodeURIComponent,Math,Number,Date,Array,Object,Boolean,String,RegExp,Map,Set,JSON,Intl,BigInt,console,Error",$V=fg(VV);function ar(t){if(rt(t)){const e={};for(let n=0;n<t.length;n++){const r=t[n],i=Ln(r)?BV(r):ar(r);if(i)for(const o in i)e[o]=i[o]}return e}else if(Ln(t)||cn(t))return t}const FV=/;(?![^(]*\))/g,UV=/:([^]+)/,qV=/\/\*[^]*?\*\//g;function BV(t){const e={};return t.replace(qV,"").split(FV).forEach(n=>{if(n){const r=n.split(UV);r.length>1&&(e[r[0].trim()]=r[1].trim())}}),e}function $e(t){let e="";if(Ln(t))e=t;else if(rt(t))for(let n=0;n<t.length;n++){const r=$e(t[n]);r&&(e+=r+" ")}else if(cn(t))for(const n in t)t[n]&&(e+=n+" ");return e.trim()}function Mn(t){if(!t)return null;let{class:e,style:n}=t;return e&&!Ln(e)&&(t.class=$e(e)),n&&(t.style=ar(n)),t}const jV="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",HV=fg(jV);function nO(t){return!!t||t===""}function WV(t,e){if(t.length!==e.length)return!1;let n=!0;for(let r=0;n&&r<t.length;r++)n=ya(t[r],e[r]);return n}function ya(t,e){if(t===e)return!0;let n=fE(t),r=fE(e);if(n||r)return n&&r?t.getTime()===e.getTime():!1;if(n=Ho(t),r=Ho(e),n||r)return t===e;if(n=rt(t),r=rt(e),n||r)return n&&r?WV(t,e):!1;if(n=cn(t),r=cn(e),n||r){if(!n||!r)return!1;const i=Object.keys(t).length,o=Object.keys(e).length;if(i!==o)return!1;for(const s in t){const a=t.hasOwnProperty(s),l=e.hasOwnProperty(s);if(a&&!l||!a&&l||!ya(t[s],e[s]))return!1}}return String(t)===String(e)}function mg(t,e){return t.findIndex(n=>ya(n,e))}const rO=t=>!!(t&&t.__v_isRef===!0),ze=t=>Ln(t)?t:t==null?"":rt(t)||cn(t)&&(t.toString===JP||!mt(t.toString))?rO(t)?ze(t.value):JSON.stringify(t,iO,2):String(t),iO=(t,e)=>rO(e)?iO(t,e.value):xu(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((n,[r,i],o)=>(n[zv(r,o)+" =>"]=i,n),{})}:Fl(e)?{[`Set(${e.size})`]:[...e.values()].map(n=>zv(n))}:Ho(e)?zv(e):cn(e)&&!rt(e)&&!ZP(e)?String(e):e,zv=(t,e="")=>{var n;return Ho(t)?`Symbol(${(n=t.description)!=null?n:e})`:t};/**
* @vue/reactivity v3.4.38
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Di;class __{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this.parent=Di,!e&&Di&&(this.index=(Di.scopes||(Di.scopes=[])).push(this)-1)}get active(){return this._active}run(e){if(this._active){const n=Di;try{return Di=this,e()}finally{Di=n}}}on(){Di=this}off(){Di=this.parent}stop(e){if(this._active){let n,r;for(n=0,r=this.effects.length;n<r;n++)this.effects[n].stop();for(n=0,r=this.cleanups.length;n<r;n++)this.cleanups[n]();if(this.scopes)for(n=0,r=this.scopes.length;n<r;n++)this.scopes[n].stop(!0);if(!this.detached&&this.parent&&!e){const i=this.parent.scopes.pop();i&&i!==this&&(this.parent.scopes[this.index]=i,i.index=this.index)}this.parent=void 0,this._active=!1}}}function gg(t){return new __(t)}function oO(t,e=Di){e&&e.active&&e.effects.push(t)}function tf(){return Di}function vg(t){Di&&Di.cleanups.push(t)}let sl;class Yu{constructor(e,n,r,i){this.fn=e,this.trigger=n,this.scheduler=r,this.active=!0,this.deps=[],this._dirtyLevel=4,this._trackId=0,this._runnings=0,this._shouldSchedule=!1,this._depsLength=0,oO(this,i)}get dirty(){if(this._dirtyLevel===2||this._dirtyLevel===3){this._dirtyLevel=1,Pa();for(let e=0;e<this._depsLength;e++){const n=this.deps[e];if(n.computed&&(zV(n.computed),this._dirtyLevel>=4))break}this._dirtyLevel===1&&(this._dirtyLevel=0),Oa()}return this._dirtyLevel>=4}set dirty(e){this._dirtyLevel=e?4:0}run(){if(this._dirtyLevel=0,!this.active)return this.fn();let e=aa,n=sl;try{return aa=!0,sl=this,this._runnings++,mE(this),this.fn()}finally{gE(this),this._runnings--,sl=n,aa=e}}stop(){this.active&&(mE(this),gE(this),this.onStop&&this.onStop(),this.active=!1)}}function zV(t){return t.value}function mE(t){t._trackId++,t._depsLength=0}function gE(t){if(t.deps.length>t._depsLength){for(let e=t._depsLength;e<t.deps.length;e++)sO(t.deps[e],t);t.deps.length=t._depsLength}}function sO(t,e){const n=t.get(e);n!==void 0&&e._trackId!==n&&(t.delete(e),t.size===0&&t.cleanup())}function KV(t,e){t.effect instanceof Yu&&(t=t.effect.fn);const n=new Yu(t,Ei,()=>{n.dirty&&n.run()});e&&(qn(n,e),e.scope&&oO(n,e.scope)),(!e||!e.lazy)&&n.run();const r=n.run.bind(n);return r.effect=n,r}function GV(t){t.effect.stop()}let aa=!0,vb=0;const aO=[];function Pa(){aO.push(aa),aa=!1}function Oa(){const t=aO.pop();aa=t===void 0?!0:t}function w_(){vb++}function T_(){for(vb--;!vb&&yb.length;)yb.shift()()}function lO(t,e,n){if(e.get(t)!==t._trackId){e.set(t,t._trackId);const r=t.deps[t._depsLength];r!==e?(r&&sO(r,t),t.deps[t._depsLength++]=e):t._depsLength++}}const yb=[];function uO(t,e,n){w_();for(const r of t.keys()){let i;r._dirtyLevel<e&&(i??(i=t.get(r)===r._trackId))&&(r._shouldSchedule||(r._shouldSchedule=r._dirtyLevel===0),r._dirtyLevel=e),r._shouldSchedule&&(i??(i=t.get(r)===r._trackId))&&(r.trigger(),(!r._runnings||r.allowRecurse)&&r._dirtyLevel!==2&&(r._shouldSchedule=!1,r.scheduler&&yb.push(r.scheduler)))}T_()}const cO=(t,e)=>{const n=new Map;return n.cleanup=t,n.computed=e,n},om=new WeakMap,al=Symbol(""),bb=Symbol("");function Pi(t,e,n){if(aa&&sl){let r=om.get(t);r||om.set(t,r=new Map);let i=r.get(n);i||r.set(n,i=cO(()=>r.delete(n))),lO(sl,i)}}function ms(t,e,n,r,i,o){const s=om.get(t);if(!s)return;let a=[];if(e==="clear")a=[...s.values()];else if(n==="length"&&rt(t)){const l=Number(r);s.forEach((u,c)=>{(c==="length"||!Ho(c)&&c>=l)&&a.push(u)})}else switch(n!==void 0&&a.push(s.get(n)),e){case"add":rt(t)?b_(n)&&a.push(s.get("length")):(a.push(s.get(al)),xu(t)&&a.push(s.get(bb)));break;case"delete":rt(t)||(a.push(s.get(al)),xu(t)&&a.push(s.get(bb)));break;case"set":xu(t)&&a.push(s.get(al));break}w_();for(const l of a)l&&uO(l,4);T_()}function YV(t,e){const n=om.get(t);return n&&n.get(e)}const XV=fg("__proto__,__v_isRef,__isVue"),dO=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(Ho)),vE=QV();function QV(){const t={};return["includes","indexOf","lastIndexOf"].forEach(e=>{t[e]=function(...n){const r=Mt(this);for(let o=0,s=this.length;o<s;o++)Pi(r,"get",o+"");const i=r[e](...n);return i===-1||i===!1?r[e](...n.map(Mt)):i}}),["push","pop","shift","unshift","splice"].forEach(e=>{t[e]=function(...n){Pa(),w_();const r=Mt(this)[e].apply(this,n);return T_(),Oa(),r}}),t}function JV(t){Ho(t)||(t=String(t));const e=Mt(this);return Pi(e,"has",t),e.hasOwnProperty(t)}class hO{constructor(e=!1,n=!1){this._isReadonly=e,this._isShallow=n}get(e,n,r){const i=this._isReadonly,o=this._isShallow;if(n==="__v_isReactive")return!i;if(n==="__v_isReadonly")return i;if(n==="__v_isShallow")return o;if(n==="__v_raw")return r===(i?o?yO:vO:o?gO:mO).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(r)?e:void 0;const s=rt(e);if(!i){if(s&&Wt(vE,n))return Reflect.get(vE,n,r);if(n==="hasOwnProperty")return JV}const a=Reflect.get(e,n,r);return(Ho(n)?dO.has(n):XV(n))||(i||Pi(e,"get",n),o)?a:_n(a)?s&&b_(n)?a:a.value:cn(a)?i?_g(a):Pr(a):a}}class fO extends hO{constructor(e=!1){super(!1,e)}set(e,n,r,i){let o=e[n];if(!this._isShallow){const l=ba(o);if(!yl(r)&&!ba(r)&&(o=Mt(o),r=Mt(r)),!rt(e)&&_n(o)&&!_n(r))return l?!1:(o.value=r,!0)}const s=rt(e)&&b_(n)?Number(n)<e.length:Wt(e,n),a=Reflect.set(e,n,r,i);return e===Mt(i)&&(s?hi(r,o)&&ms(e,"set",n,r):ms(e,"add",n,r)),a}deleteProperty(e,n){const r=Wt(e,n);e[n];const i=Reflect.deleteProperty(e,n);return i&&r&&ms(e,"delete",n,void 0),i}has(e,n){const r=Reflect.has(e,n);return(!Ho(n)||!dO.has(n))&&Pi(e,"has",n),r}ownKeys(e){return Pi(e,"iterate",rt(e)?"length":al),Reflect.ownKeys(e)}}class pO extends hO{constructor(e=!1){super(!0,e)}set(e,n){return!0}deleteProperty(e,n){return!0}}const ZV=new fO,e$=new pO,t$=new fO(!0),n$=new pO(!0),E_=t=>t,yg=t=>Reflect.getPrototypeOf(t);function Kf(t,e,n=!1,r=!1){t=t.__v_raw;const i=Mt(t),o=Mt(e);n||(hi(e,o)&&Pi(i,"get",e),Pi(i,"get",o));const{has:s}=yg(i),a=r?E_:n?C_:ah;if(s.call(i,e))return a(t.get(e));if(s.call(i,o))return a(t.get(o));t!==i&&t.get(e)}function Gf(t,e=!1){const n=this.__v_raw,r=Mt(n),i=Mt(t);return e||(hi(t,i)&&Pi(r,"has",t),Pi(r,"has",i)),t===i?n.has(t):n.has(t)||n.has(i)}function Yf(t,e=!1){return t=t.__v_raw,!e&&Pi(Mt(t),"iterate",al),Reflect.get(t,"size",t)}function yE(t,e=!1){!e&&!yl(t)&&!ba(t)&&(t=Mt(t));const n=Mt(this);return yg(n).has.call(n,t)||(n.add(t),ms(n,"add",t,t)),this}function bE(t,e,n=!1){!n&&!yl(e)&&!ba(e)&&(e=Mt(e));const r=Mt(this),{has:i,get:o}=yg(r);let s=i.call(r,t);s||(t=Mt(t),s=i.call(r,t));const a=o.call(r,t);return r.set(t,e),s?hi(e,a)&&ms(r,"set",t,e):ms(r,"add",t,e),this}function _E(t){const e=Mt(this),{has:n,get:r}=yg(e);let i=n.call(e,t);i||(t=Mt(t),i=n.call(e,t)),r&&r.call(e,t);const o=e.delete(t);return i&&ms(e,"delete",t,void 0),o}function wE(){const t=Mt(this),e=t.size!==0,n=t.clear();return e&&ms(t,"clear",void 0,void 0),n}function Xf(t,e){return function(r,i){const o=this,s=o.__v_raw,a=Mt(s),l=e?E_:t?C_:ah;return!t&&Pi(a,"iterate",al),s.forEach((u,c)=>r.call(i,l(u),l(c),o))}}function Qf(t,e,n){return function(...r){const i=this.__v_raw,o=Mt(i),s=xu(o),a=t==="entries"||t===Symbol.iterator&&s,l=t==="keys"&&s,u=i[t](...r),c=n?E_:e?C_:ah;return!e&&Pi(o,"iterate",l?bb:al),{next(){const{value:d,done:h}=u.next();return h?{value:d,done:h}:{value:a?[c(d[0]),c(d[1])]:c(d),done:h}},[Symbol.iterator](){return this}}}}function Ms(t){return function(...e){return t==="delete"?!1:t==="clear"?void 0:this}}function r$(){const t={get(o){return Kf(this,o)},get size(){return Yf(this)},has:Gf,add:yE,set:bE,delete:_E,clear:wE,forEach:Xf(!1,!1)},e={get(o){return Kf(this,o,!1,!0)},get size(){return Yf(this)},has:Gf,add(o){return yE.call(this,o,!0)},set(o,s){return bE.call(this,o,s,!0)},delete:_E,clear:wE,forEach:Xf(!1,!0)},n={get(o){return Kf(this,o,!0)},get size(){return Yf(this,!0)},has(o){return Gf.call(this,o,!0)},add:Ms("add"),set:Ms("set"),delete:Ms("delete"),clear:Ms("clear"),forEach:Xf(!0,!1)},r={get(o){return Kf(this,o,!0,!0)},get size(){return Yf(this,!0)},has(o){return Gf.call(this,o,!0)},add:Ms("add"),set:Ms("set"),delete:Ms("delete"),clear:Ms("clear"),forEach:Xf(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(o=>{t[o]=Qf(o,!1,!1),n[o]=Qf(o,!0,!1),e[o]=Qf(o,!1,!0),r[o]=Qf(o,!0,!0)}),[t,n,e,r]}const[i$,o$,s$,a$]=r$();function bg(t,e){const n=e?t?a$:s$:t?o$:i$;return(r,i,o)=>i==="__v_isReactive"?!t:i==="__v_isReadonly"?t:i==="__v_raw"?r:Reflect.get(Wt(n,i)&&i in r?n:r,i,o)}const l$={get:bg(!1,!1)},u$={get:bg(!1,!0)},c$={get:bg(!0,!1)},d$={get:bg(!0,!0)},mO=new WeakMap,gO=new WeakMap,vO=new WeakMap,yO=new WeakMap;function h$(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function f$(t){return t.__v_skip||!Object.isExtensible(t)?0:h$(NV(t))}function Pr(t){return ba(t)?t:wg(t,!1,ZV,l$,mO)}function S_(t){return wg(t,!1,t$,u$,gO)}function _g(t){return wg(t,!0,e$,c$,vO)}function p$(t){return wg(t,!0,n$,d$,yO)}function wg(t,e,n,r,i){if(!cn(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const o=i.get(t);if(o)return o;const s=f$(t);if(s===0)return t;const a=new Proxy(t,s===2?r:n);return i.set(t,a),a}function Mo(t){return ba(t)?Mo(t.__v_raw):!!(t&&t.__v_isReactive)}function ba(t){return!!(t&&t.__v_isReadonly)}function yl(t){return!!(t&&t.__v_isShallow)}function I_(t){return t?!!t.__v_raw:!1}function Mt(t){const e=t&&t.__v_raw;return e?Mt(e):t}function Tg(t){return Object.isExtensible(t)&&eO(t,"__v_skip",!0),t}const ah=t=>cn(t)?Pr(t):t,C_=t=>cn(t)?_g(t):t;class bO{constructor(e,n,r,i){this.getter=e,this._setter=n,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this.effect=new Yu(()=>e(this._value),()=>Mu(this,this.effect._dirtyLevel===2?2:3)),this.effect.computed=this,this.effect.active=this._cacheable=!i,this.__v_isReadonly=r}get value(){const e=Mt(this);return(!e._cacheable||e.effect.dirty)&&hi(e._value,e._value=e.effect.run())&&Mu(e,4),A_(e),e.effect._dirtyLevel>=2&&Mu(e,2),e._value}set value(e){this._setter(e)}get _dirty(){return this.effect.dirty}set _dirty(e){this.effect.dirty=e}}function m$(t,e,n=!1){let r,i;const o=mt(t);return o?(r=t,i=Ei):(r=t.get,i=t.set),new bO(r,i,o||!i,n)}function A_(t){var e;aa&&sl&&(t=Mt(t),lO(sl,(e=t.dep)!=null?e:t.dep=cO(()=>t.dep=void 0,t instanceof bO?t:void 0)))}function Mu(t,e=4,n,r){t=Mt(t);const i=t.dep;i&&uO(i,e)}function _n(t){return!!(t&&t.__v_isRef===!0)}function ie(t){return wO(t,!1)}function _O(t){return wO(t,!0)}function wO(t,e){return _n(t)?t:new g$(t,e)}class g${constructor(e,n){this.__v_isShallow=n,this.dep=void 0,this.__v_isRef=!0,this._rawValue=n?e:Mt(e),this._value=n?e:ah(e)}get value(){return A_(this),this._value}set value(e){const n=this.__v_isShallow||yl(e)||ba(e);e=n?e:Mt(e),hi(e,this._rawValue)&&(this._rawValue,this._rawValue=e,this._value=n?e:ah(e),Mu(this,4))}}function v$(t){Mu(t,4)}function P(t){return _n(t)?t.value:t}function y$(t){return mt(t)?t():P(t)}const b$={get:(t,e,n)=>P(Reflect.get(t,e,n)),set:(t,e,n,r)=>{const i=t[e];return _n(i)&&!_n(n)?(i.value=n,!0):Reflect.set(t,e,n,r)}};function P_(t){return Mo(t)?t:new Proxy(t,b$)}class _${constructor(e){this.dep=void 0,this.__v_isRef=!0;const{get:n,set:r}=e(()=>A_(this),()=>Mu(this));this._get=n,this._set=r}get value(){return this._get()}set value(e){this._set(e)}}function TO(t){return new _$(t)}function EO(t){const e=rt(t)?new Array(t.length):{};for(const n in t)e[n]=SO(t,n);return e}class w${constructor(e,n,r){this._object=e,this._key=n,this._defaultValue=r,this.__v_isRef=!0}get value(){const e=this._object[this._key];return e===void 0?this._defaultValue:e}set value(e){this._object[this._key]=e}get dep(){return YV(Mt(this._object),this._key)}}class T${constructor(e){this._getter=e,this.__v_isRef=!0,this.__v_isReadonly=!0}get value(){return this._getter()}}function Xu(t,e,n){return _n(t)?t:mt(t)?new T$(t):cn(t)&&arguments.length>1?SO(t,e,n):ie(t)}function SO(t,e,n){const r=t[e];return _n(r)?r:new w$(t,e,n)}const E$={GET:"get",HAS:"has",ITERATE:"iterate"},S$={SET:"set",ADD:"add",DELETE:"delete",CLEAR:"clear"};/**
* @vue/runtime-core v3.4.38
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function I$(t,e){}const C$={SETUP_FUNCTION:0,0:"SETUP_FUNCTION",RENDER_FUNCTION:1,1:"RENDER_FUNCTION",WATCH_GETTER:2,2:"WATCH_GETTER",WATCH_CALLBACK:3,3:"WATCH_CALLBACK",WATCH_CLEANUP:4,4:"WATCH_CLEANUP",NATIVE_EVENT_HANDLER:5,5:"NATIVE_EVENT_HANDLER",COMPONENT_EVENT_HANDLER:6,6:"COMPONENT_EVENT_HANDLER",VNODE_HOOK:7,7:"VNODE_HOOK",DIRECTIVE_HOOK:8,8:"DIRECTIVE_HOOK",TRANSITION_HOOK:9,9:"TRANSITION_HOOK",APP_ERROR_HANDLER:10,10:"APP_ERROR_HANDLER",APP_WARN_HANDLER:11,11:"APP_WARN_HANDLER",FUNCTION_REF:12,12:"FUNCTION_REF",ASYNC_COMPONENT_LOADER:13,13:"ASYNC_COMPONENT_LOADER",SCHEDULER:14,14:"SCHEDULER",COMPONENT_UPDATE:15,15:"COMPONENT_UPDATE"},A$={sp:"serverPrefetch hook",bc:"beforeCreate hook",c:"created hook",bm:"beforeMount hook",m:"mounted hook",bu:"beforeUpdate hook",u:"updated",bum:"beforeUnmount hook",um:"unmounted hook",a:"activated hook",da:"deactivated hook",ec:"errorCaptured hook",rtc:"renderTracked hook",rtg:"renderTriggered hook",0:"setup function",1:"render function",2:"watcher getter",3:"watcher callback",4:"watcher cleanup function",5:"native event handler",6:"component event handler",7:"vnode hook",8:"directive hook",9:"transition hook",10:"app errorHandler",11:"app warnHandler",12:"ref function",13:"async component loader",14:"scheduler flush",15:"component update"};function gs(t,e,n,r){try{return r?t(...r):t()}catch(i){Ul(i,e,n)}}function $i(t,e,n,r){if(mt(t)){const i=gs(t,e,n,r);return i&&y_(i)&&i.catch(o=>{Ul(o,e,n)}),i}if(rt(t)){const i=[];for(let o=0;o<t.length;o++)i.push($i(t[o],e,n,r));return i}}function Ul(t,e,n,r=!0){const i=e?e.vnode:null;if(e){let o=e.parent;const s=e.proxy,a=`https://vuejs.org/error-reference/#runtime-${n}`;for(;o;){const u=o.ec;if(u){for(let c=0;c<u.length;c++)if(u[c](t,s,a)===!1)return}o=o.parent}const l=e.appContext.config.errorHandler;if(l){Pa(),gs(l,null,10,[t,s,a]),Oa();return}}P$(t,n,i,r)}function P$(t,e,n,r=!0){console.error(t)}let lh=!1,_b=!1;const Xr=[];let Oo=0;const Lu=[];let Ws=null,el=0;const IO=Promise.resolve();let O_=null;function tr(t){const e=O_||IO;return t?e.then(this?t.bind(this):t):e}function O$(t){let e=Oo+1,n=Xr.length;for(;e<n;){const r=e+n>>>1,i=Xr[r],o=uh(i);o<t||o===t&&i.pre?e=r+1:n=r}return e}function Eg(t){(!Xr.length||!Xr.includes(t,lh&&t.allowRecurse?Oo+1:Oo))&&(t.id==null?Xr.push(t):Xr.splice(O$(t.id),0,t),CO())}function CO(){!lh&&!_b&&(_b=!0,O_=IO.then(AO))}function k$(t){const e=Xr.indexOf(t);e>Oo&&Xr.splice(e,1)}function sm(t){rt(t)?Lu.push(...t):(!Ws||!Ws.includes(t,t.allowRecurse?el+1:el))&&Lu.push(t),CO()}function TE(t,e,n=lh?Oo+1:0){for(;n<Xr.length;n++){const r=Xr[n];if(r&&r.pre){if(t&&r.id!==t.uid)continue;Xr.splice(n,1),n--,r()}}}function am(t){if(Lu.length){const e=[...new Set(Lu)].sort((n,r)=>uh(n)-uh(r));if(Lu.length=0,Ws){Ws.push(...e);return}for(Ws=e,el=0;el<Ws.length;el++){const n=Ws[el];n.active!==!1&&n()}Ws=null,el=0}}const uh=t=>t.id==null?1/0:t.id,R$=(t,e)=>{const n=uh(t)-uh(e);if(n===0){if(t.pre&&!e.pre)return-1;if(e.pre&&!t.pre)return 1}return n};function AO(t){_b=!1,lh=!0,Xr.sort(R$);try{for(Oo=0;Oo<Xr.length;Oo++){const e=Xr[Oo];e&&e.active!==!1&&gs(e,e.i,e.i?15:14)}}finally{Oo=0,Xr.length=0,am(),lh=!1,O_=null,(Xr.length||Lu.length)&&AO()}}let du,Jf=[];function PO(t,e){var n,r;du=t,du?(du.enabled=!0,Jf.forEach(({event:i,args:o})=>du.emit(i,...o)),Jf=[]):typeof window<"u"&&window.HTMLElement&&!((r=(n=window.navigator)==null?void 0:n.userAgent)!=null&&r.includes("jsdom"))?((e.__VUE_DEVTOOLS_HOOK_REPLAY__=e.__VUE_DEVTOOLS_HOOK_REPLAY__||[]).push(o=>{PO(o,e)}),setTimeout(()=>{du||(e.__VUE_DEVTOOLS_HOOK_REPLAY__=null,Jf=[])},3e3)):Jf=[]}let mr=null,Sg=null;function ch(t){const e=mr;return mr=t,Sg=t&&t.type.__scopeId||null,e}function k_(t){Sg=t}function R_(){Sg=null}const x$=t=>J;function J(t,e=mr,n){if(!e||t._n)return t;const r=(...i)=>{r._d&&Ob(-1);const o=ch(e);let s;try{s=t(...i)}finally{ch(o),r._d&&Ob(1)}return s};return r._n=!0,r._c=!0,r._d=!0,r}function Fi(t,e){if(mr===null)return t;const n=af(mr),r=t.dirs||(t.dirs=[]);for(let i=0;i<e.length;i++){let[o,s,a,l=nn]=e[i];o&&(mt(o)&&(o={mounted:o,updated:o}),o.deep&&Qs(s),r.push({dir:o,instance:n,value:s,oldValue:void 0,arg:a,modifiers:l}))}return t}function Ao(t,e,n,r){const i=t.dirs,o=e&&e.dirs;for(let s=0;s<i.length;s++){const a=i[s];o&&(a.oldValue=o[s].value);let l=a.dir[r];l&&(Pa(),$i(l,n,8,[t.el,a,t,e]),Oa())}}const zs=Symbol("_leaveCb"),Zf=Symbol("_enterCb");function x_(){const t={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Vt(()=>{t.isMounted=!0}),rf(()=>{t.isUnmounting=!0}),t}const ji=[Function,Array],D_={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:ji,onEnter:ji,onAfterEnter:ji,onEnterCancelled:ji,onBeforeLeave:ji,onLeave:ji,onAfterLeave:ji,onLeaveCancelled:ji,onBeforeAppear:ji,onAppear:ji,onAfterAppear:ji,onAppearCancelled:ji},OO=t=>{const e=t.subTree;return e.component?OO(e.component):e},D$={name:"BaseTransition",props:D_,setup(t,{slots:e}){const n=eo(),r=x_();return()=>{const i=e.default&&Ig(e.default(),!0);if(!i||!i.length)return;let o=i[0];if(i.length>1){for(const h of i)if(h.type!==hr){o=h;break}}const s=Mt(t),{mode:a}=s;if(r.isLeaving)return Kv(o);const l=EE(o);if(!l)return Kv(o);let u=Qu(l,s,r,n,h=>u=h);_a(l,u);const c=n.subTree,d=c&&EE(c);if(d&&d.type!==hr&&!co(l,d)&&OO(n).type!==hr){const h=Qu(d,s,r,n);if(_a(d,h),a==="out-in"&&l.type!==hr)return r.isLeaving=!0,h.afterLeave=()=>{r.isLeaving=!1,n.update.active!==!1&&(n.effect.dirty=!0,n.update())},Kv(o);a==="in-out"&&l.type!==hr&&(h.delayLeave=(p,m,g)=>{const v=RO(r,d);v[String(d.key)]=d,p[zs]=()=>{m(),p[zs]=void 0,delete u.delayedLeave},u.delayedLeave=g})}return o}}},kO=D$;function RO(t,e){const{leavingVNodes:n}=t;let r=n.get(e.type);return r||(r=Object.create(null),n.set(e.type,r)),r}function Qu(t,e,n,r,i){const{appear:o,mode:s,persisted:a=!1,onBeforeEnter:l,onEnter:u,onAfterEnter:c,onEnterCancelled:d,onBeforeLeave:h,onLeave:p,onAfterLeave:m,onLeaveCancelled:g,onBeforeAppear:v,onAppear:A,onAfterAppear:I,onAppearCancelled:S}=e,T=String(t.key),N=RO(n,t),R=(b,w)=>{b&&$i(b,r,9,w)},C=(b,w)=>{const k=w[1];R(b,w),rt(b)?b.every(x=>x.length<=1)&&k():b.length<=1&&k()},E={mode:s,persisted:a,beforeEnter(b){let w=l;if(!n.isMounted)if(o)w=v||l;else return;b[zs]&&b[zs](!0);const k=N[T];k&&co(t,k)&&k.el[zs]&&k.el[zs](),R(w,[b])},enter(b){let w=u,k=c,x=d;if(!n.isMounted)if(o)w=A||u,k=I||c,x=S||d;else return;let O=!1;const q=b[Zf]=V=>{O||(O=!0,V?R(x,[b]):R(k,[b]),E.delayedLeave&&E.delayedLeave(),b[Zf]=void 0)};w?C(w,[b,q]):q()},leave(b,w){const k=String(t.key);if(b[Zf]&&b[Zf](!0),n.isUnmounting)return w();R(h,[b]);let x=!1;const O=b[zs]=q=>{x||(x=!0,w(),q?R(g,[b]):R(m,[b]),b[zs]=void 0,N[k]===t&&delete N[k])};N[k]=t,p?C(p,[b,O]):O()},clone(b){const w=Qu(b,e,n,r,i);return i&&i(w),w}};return E}function Kv(t){if(nf(t))return t=Wo(t),t.children=null,t}function EE(t){if(!nf(t))return t;const{shapeFlag:e,children:n}=t;if(n){if(e&16)return n[0];if(e&32&&mt(n.default))return n.default()}}function _a(t,e){t.shapeFlag&6&&t.component?_a(t.component.subTree,e):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function Ig(t,e=!1,n){let r=[],i=0;for(let o=0;o<t.length;o++){let s=t[o];const a=n==null?s.key:String(n)+String(s.key!=null?s.key:o);s.type===Pe?(s.patchFlag&128&&i++,r=r.concat(Ig(s.children,e,a))):(e||s.type!==hr)&&r.push(a!=null?Wo(s,{key:a}):s)}if(i>1)for(let o=0;o<r.length;o++)r[o].patchFlag=-2;return r}/*! #__NO_SIDE_EFFECTS__ */function Me(t,e){return mt(t)?qn({name:t.name},e,{setup:t}):t}const ll=t=>!!t.type.__asyncLoader;/*! #__NO_SIDE_EFFECTS__ */function N$(t){mt(t)&&(t={loader:t});const{loader:e,loadingComponent:n,errorComponent:r,delay:i=200,timeout:o,suspensible:s=!0,onError:a}=t;let l=null,u,c=0;const d=()=>(c++,l=null,h()),h=()=>{let p;return l||(p=l=e().catch(m=>{if(m=m instanceof Error?m:new Error(String(m)),a)return new Promise((g,v)=>{a(m,()=>g(d()),()=>v(m),c+1)});throw m}).then(m=>p!==l&&l?l:(m&&(m.__esModule||m[Symbol.toStringTag]==="Module")&&(m=m.default),u=m,m)))};return Me({name:"AsyncComponentWrapper",__asyncLoader:h,get __asyncResolved(){return u},setup(){const p=fr;if(u)return()=>Gv(u,p);const m=I=>{l=null,Ul(I,p,13,!r)};if(s&&p.suspense||sf)return h().then(I=>()=>Gv(I,p)).catch(I=>(m(I),()=>r?B(r,{error:I}):null));const g=ie(!1),v=ie(),A=ie(!!i);return i&&setTimeout(()=>{A.value=!1},i),o!=null&&setTimeout(()=>{if(!g.value&&!v.value){const I=new Error(`Async component timed out after ${o}ms.`);m(I),v.value=I}},o),h().then(()=>{g.value=!0,p.parent&&nf(p.parent.vnode)&&(p.parent.effect.dirty=!0,Eg(p.parent.update))}).catch(I=>{m(I),v.value=I}),()=>{if(g.value&&u)return Gv(u,p);if(v.value&&r)return B(r,{error:v.value});if(n&&!A.value)return B(n)}}})}function Gv(t,e){const{ref:n,props:r,children:i,ce:o}=e.vnode,s=B(t,r,i);return s.ref=n,s.ce=o,delete e.vnode.ce,s}const nf=t=>t.type.__isKeepAlive,M$={name:"KeepAlive",__isKeepAlive:!0,props:{include:[String,RegExp,Array],exclude:[String,RegExp,Array],max:[String,Number]},setup(t,{slots:e}){const n=eo(),r=n.ctx;if(!r.renderer)return()=>{const I=e.default&&e.default();return I&&I.length===1?I[0]:I};const i=new Map,o=new Set;let s=null;const a=n.suspense,{renderer:{p:l,m:u,um:c,o:{createElement:d}}}=r,h=d("div");r.activate=(I,S,T,N,R)=>{const C=I.component;u(I,S,T,0,a),l(C.vnode,I,S,T,C,a,N,I.slotScopeIds,R),wr(()=>{C.isDeactivated=!1,C.a&&Nu(C.a);const E=I.props&&I.props.onVnodeMounted;E&&yi(E,C.parent,I)},a)},r.deactivate=I=>{const S=I.component;cm(S.m),cm(S.a),u(I,h,null,1,a),wr(()=>{S.da&&Nu(S.da);const T=I.props&&I.props.onVnodeUnmounted;T&&yi(T,S.parent,I),S.isDeactivated=!0},a)};function p(I){Yv(I),c(I,n,a,!0)}function m(I){i.forEach((S,T)=>{const N=Nb(S.type);N&&(!I||!I(N))&&g(T)})}function g(I){const S=i.get(I);S&&(!s||!co(S,s))?p(S):s&&Yv(s),i.delete(I),o.delete(I)}pn(()=>[t.include,t.exclude],([I,S])=>{I&&m(T=>vd(I,T)),S&&m(T=>!vd(S,T))},{flush:"post",deep:!0});let v=null;const A=()=>{v!=null&&(Ab(n.subTree.type)?wr(()=>{i.set(v,ep(n.subTree))},n.subTree.suspense):i.set(v,ep(n.subTree)))};return Vt(A),Ag(A),rf(()=>{i.forEach(I=>{const{subTree:S,suspense:T}=n,N=ep(S);if(I.type===N.type&&I.key===N.key){Yv(N);const R=N.component.da;R&&wr(R,T);return}p(I)})}),()=>{if(v=null,!e.default)return null;const I=e.default(),S=I[0];if(I.length>1)return s=null,I;if(!wa(S)||!(S.shapeFlag&4)&&!(S.shapeFlag&128))return s=null,S;let T=ep(S);if(T.type===hr)return s=null,T;const N=T.type,R=Nb(ll(T)?T.type.__asyncResolved||{}:N),{include:C,exclude:E,max:b}=t;if(C&&(!R||!vd(C,R))||E&&R&&vd(E,R))return s=T,S;const w=T.key==null?N:T.key,k=i.get(w);return T.el&&(T=Wo(T),S.shapeFlag&128&&(S.ssContent=T)),v=w,k?(T.el=k.el,T.component=k.component,T.transition&&_a(T,T.transition),T.shapeFlag|=512,o.delete(w),o.add(w)):(o.add(w),b&&o.size>parseInt(b,10)&&g(o.values().next().value)),T.shapeFlag|=256,s=T,Ab(S.type)?S:T}}},L$=M$;function vd(t,e){return rt(t)?t.some(n=>vd(n,e)):Ln(t)?t.split(",").includes(e):DV(t)?t.test(e):!1}function xO(t,e){NO(t,"a",e)}function DO(t,e){NO(t,"da",e)}function NO(t,e,n=fr){const r=t.__wdc||(t.__wdc=()=>{let i=n;for(;i;){if(i.isDeactivated)return;i=i.parent}return t()});if(Cg(e,r,n),n){let i=n.parent;for(;i&&i.parent;)nf(i.parent.vnode)&&V$(r,e,n,i),i=i.parent}}function V$(t,e,n,r){const i=Cg(e,t,r,!0);Go(()=>{v_(r[e],i)},n)}function Yv(t){t.shapeFlag&=-257,t.shapeFlag&=-513}function ep(t){return t.shapeFlag&128?t.ssContent:t}function Cg(t,e,n=fr,r=!1){if(n){const i=n[t]||(n[t]=[]),o=e.__weh||(e.__weh=(...s)=>{Pa();const a=_l(n),l=$i(e,n,t,s);return a(),Oa(),l});return r?i.unshift(o):i.push(o),o}}const As=t=>(e,n=fr)=>{(!sf||t==="sp")&&Cg(t,(...r)=>e(...r),n)},N_=As("bm"),Vt=As("m"),M_=As("bu"),Ag=As("u"),rf=As("bum"),Go=As("um"),MO=As("sp"),LO=As("rtg"),VO=As("rtc");function $O(t,e=fr){Cg("ec",t,e)}const L_="components",$$="directives";function Dn(t,e){return V_(L_,t,!0,e)||t}const FO=Symbol.for("v-ndc");function xn(t){return Ln(t)?V_(L_,t,!1)||t:t||FO}function Pg(t){return V_($$,t)}function V_(t,e,n=!0,r=!1){const i=mr||fr;if(i){const o=i.type;if(t===L_){const a=Nb(o,!1);if(a&&(a===e||a===ni(e)||a===ef(ni(e))))return o}const s=SE(i[t]||o[t],e)||SE(i.appContext[t],e);return!s&&r?o:s}}function SE(t,e){return t&&(t[e]||t[ni(e)]||t[ef(ni(e))])}function ht(t,e,n,r){let i;const o=n&&n[r];if(rt(t)||Ln(t)){i=new Array(t.length);for(let s=0,a=t.length;s<a;s++)i[s]=e(t[s],s,void 0,o&&o[s])}else if(typeof t=="number"){i=new Array(t);for(let s=0;s<t;s++)i[s]=e(s+1,s,void 0,o&&o[s])}else if(cn(t))if(t[Symbol.iterator])i=Array.from(t,(s,a)=>e(s,a,void 0,o&&o[a]));else{const s=Object.keys(t);i=new Array(s.length);for(let a=0,l=s.length;a<l;a++){const u=s[a];i[a]=e(t[u],u,a,o&&o[a])}}else i=[];return n&&(n[r]=i),i}function ur(t,e){for(let n=0;n<e.length;n++){const r=e[n];if(rt(r))for(let i=0;i<r.length;i++)t[r[i].name]=r[i].fn;else r&&(t[r.name]=r.key?(...i)=>{const o=r.fn(...i);return o&&(o.key=r.key),o}:r.fn)}return t}function Te(t,e,n={},r,i){if(mr.isCE||mr.parent&&ll(mr.parent)&&mr.parent.isCE)return e!=="default"&&(n.name=e),B("slot",n,r&&r());let o=t[e];o&&o._c&&(o._d=!1),M();const s=o&&$_(o(n)),a=de(Pe,{key:(n.key||s&&s.key||`_${e}`)+(!s&&r?"_fb":"")},s||(r?r():[]),s&&t._===1?64:-2);return!i&&a.scopeId&&(a.slotScopeIds=[a.scopeId+"-s"]),o&&o._c&&(o._d=!0),a}function $_(t){return t.some(e=>wa(e)?!(e.type===hr||e.type===Pe&&!$_(e.children)):!0)?t:null}function F$(t,e){const n={};for(const r in t)n[e&&/[A-Z]/.test(r)?`on:${r}`:xd(r)]=t[r];return n}const wb=t=>t?wk(t)?af(t):wb(t.parent):null,Dd=qn(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>wb(t.parent),$root:t=>wb(t.root),$emit:t=>t.emit,$options:t=>F_(t),$forceUpdate:t=>t.f||(t.f=()=>{t.effect.dirty=!0,Eg(t.update)}),$nextTick:t=>t.n||(t.n=tr.bind(t.proxy)),$watch:t=>b3.bind(t)}),Xv=(t,e)=>t!==nn&&!t.__isScriptSetup&&Wt(t,e),Tb={get({_:t},e){if(e==="__v_skip")return!0;const{ctx:n,setupState:r,data:i,props:o,accessCache:s,type:a,appContext:l}=t;let u;if(e[0]!=="$"){const p=s[e];if(p!==void 0)switch(p){case 1:return r[e];case 2:return i[e];case 4:return n[e];case 3:return o[e]}else{if(Xv(r,e))return s[e]=1,r[e];if(i!==nn&&Wt(i,e))return s[e]=2,i[e];if((u=t.propsOptions[0])&&Wt(u,e))return s[e]=3,o[e];if(n!==nn&&Wt(n,e))return s[e]=4,n[e];Eb&&(s[e]=0)}}const c=Dd[e];let d,h;if(c)return e==="$attrs"&&Pi(t.attrs,"get",""),c(t);if((d=a.__cssModules)&&(d=d[e]))return d;if(n!==nn&&Wt(n,e))return s[e]=4,n[e];if(h=l.config.globalProperties,Wt(h,e))return h[e]},set({_:t},e,n){const{data:r,setupState:i,ctx:o}=t;return Xv(i,e)?(i[e]=n,!0):r!==nn&&Wt(r,e)?(r[e]=n,!0):Wt(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(o[e]=n,!0)},has({_:{data:t,setupState:e,accessCache:n,ctx:r,appContext:i,propsOptions:o}},s){let a;return!!n[s]||t!==nn&&Wt(t,s)||Xv(e,s)||(a=o[0])&&Wt(a,s)||Wt(r,s)||Wt(Dd,s)||Wt(i.config.globalProperties,s)},defineProperty(t,e,n){return n.get!=null?t._.accessCache[e]=0:Wt(n,"value")&&this.set(t,e,n.value,null),Reflect.defineProperty(t,e,n)}},U$=qn({},Tb,{get(t,e){if(e!==Symbol.unscopables)return Tb.get(t,e,t)},has(t,e){return e[0]!=="_"&&!$V(e)}});function q$(){return null}function B$(){return null}function j$(t){}function H$(t){}function W$(){return null}function z$(){}function K$(t,e){return null}function ka(){return UO().slots}function G$(){return UO().attrs}function UO(){const t=eo();return t.setupContext||(t.setupContext=Sk(t))}function dh(t){return rt(t)?t.reduce((e,n)=>(e[n]=null,e),{}):t}function Y$(t,e){const n=dh(t);for(const r in e){if(r.startsWith("__skip"))continue;let i=n[r];i?rt(i)||mt(i)?i=n[r]={type:i,default:e[r]}:i.default=e[r]:i===null&&(i=n[r]={default:e[r]}),i&&e[`__skip_${r}`]&&(i.skipFactory=!0)}return n}function X$(t,e){return!t||!e?t||e:rt(t)&&rt(e)?t.concat(e):qn({},dh(t),dh(e))}function Q$(t,e){const n={};for(const r in t)e.includes(r)||Object.defineProperty(n,r,{enumerable:!0,get:()=>t[r]});return n}function J$(t){const e=eo();let n=t();return Rb(),y_(n)&&(n=n.catch(r=>{throw _l(e),r})),[n,()=>_l(e)]}let Eb=!0;function Z$(t){const e=F_(t),n=t.proxy,r=t.ctx;Eb=!1,e.beforeCreate&&IE(e.beforeCreate,t,"bc");const{data:i,computed:o,methods:s,watch:a,provide:l,inject:u,created:c,beforeMount:d,mounted:h,beforeUpdate:p,updated:m,activated:g,deactivated:v,beforeDestroy:A,beforeUnmount:I,destroyed:S,unmounted:T,render:N,renderTracked:R,renderTriggered:C,errorCaptured:E,serverPrefetch:b,expose:w,inheritAttrs:k,components:x,directives:O,filters:q}=e;if(u&&e3(u,r,null),s)for(const G in s){const Z=s[G];mt(Z)&&(r[G]=Z.bind(n))}if(i){const G=i.call(n,n);cn(G)&&(t.data=Pr(G))}if(Eb=!0,o)for(const G in o){const Z=o[G],H=mt(Z)?Z.bind(n,n):mt(Z.get)?Z.get.bind(n,n):Ei,$=!mt(Z)&&mt(Z.set)?Z.set.bind(n):Ei,ue=te({get:H,set:$});Object.defineProperty(r,G,{enumerable:!0,configurable:!0,get:()=>ue.value,set:se=>ue.value=se})}if(a)for(const G in a)qO(a[G],r,n,G);if(l){const G=mt(l)?l.call(n):l;Reflect.ownKeys(G).forEach(Z=>{Vu(Z,G[Z])})}c&&IE(c,t,"c");function F(G,Z){rt(Z)?Z.forEach(H=>G(H.bind(n))):Z&&G(Z.bind(n))}if(F(N_,d),F(Vt,h),F(M_,p),F(Ag,m),F(xO,g),F(DO,v),F($O,E),F(VO,R),F(LO,C),F(rf,I),F(Go,T),F(MO,b),rt(w))if(w.length){const G=t.exposed||(t.exposed={});w.forEach(Z=>{Object.defineProperty(G,Z,{get:()=>n[Z],set:H=>n[Z]=H})})}else t.exposed||(t.exposed={});N&&t.render===Ei&&(t.render=N),k!=null&&(t.inheritAttrs=k),x&&(t.components=x),O&&(t.directives=O)}function e3(t,e,n=Ei){rt(t)&&(t=Sb(t));for(const r in t){const i=t[r];let o;cn(i)?"default"in i?o=pi(i.from||r,i.default,!0):o=pi(i.from||r):o=pi(i),_n(o)?Object.defineProperty(e,r,{enumerable:!0,configurable:!0,get:()=>o.value,set:s=>o.value=s}):e[r]=o}}function IE(t,e,n){$i(rt(t)?t.map(r=>r.bind(e.proxy)):t.bind(e.proxy),e,n)}function qO(t,e,n,r){const i=r.includes(".")?dk(n,r):()=>n[r];if(Ln(t)){const o=e[t];mt(o)&&pn(i,o)}else if(mt(t))pn(i,t.bind(n));else if(cn(t))if(rt(t))t.forEach(o=>qO(o,e,n,r));else{const o=mt(t.handler)?t.handler.bind(n):e[t.handler];mt(o)&&pn(i,o,t)}}function F_(t){const e=t.type,{mixins:n,extends:r}=e,{mixins:i,optionsCache:o,config:{optionMergeStrategies:s}}=t.appContext,a=o.get(e);let l;return a?l=a:!i.length&&!n&&!r?l=e:(l={},i.length&&i.forEach(u=>lm(l,u,s,!0)),lm(l,e,s)),cn(e)&&o.set(e,l),l}function lm(t,e,n,r=!1){const{mixins:i,extends:o}=e;o&&lm(t,o,n,!0),i&&i.forEach(s=>lm(t,s,n,!0));for(const s in e)if(!(r&&s==="expose")){const a=t3[s]||n&&n[s];t[s]=a?a(t[s],e[s]):e[s]}return t}const t3={data:CE,props:AE,emits:AE,methods:yd,computed:yd,beforeCreate:ci,created:ci,beforeMount:ci,mounted:ci,beforeUpdate:ci,updated:ci,beforeDestroy:ci,beforeUnmount:ci,destroyed:ci,unmounted:ci,activated:ci,deactivated:ci,errorCaptured:ci,serverPrefetch:ci,components:yd,directives:yd,watch:r3,provide:CE,inject:n3};function CE(t,e){return e?t?function(){return qn(mt(t)?t.call(this,this):t,mt(e)?e.call(this,this):e)}:e:t}function n3(t,e){return yd(Sb(t),Sb(e))}function Sb(t){if(rt(t)){const e={};for(let n=0;n<t.length;n++)e[t[n]]=t[n];return e}return t}function ci(t,e){return t?[...new Set([].concat(t,e))]:e}function yd(t,e){return t?qn(Object.create(null),t,e):e}function AE(t,e){return t?rt(t)&&rt(e)?[...new Set([...t,...e])]:qn(Object.create(null),dh(t),dh(e??{})):e}function r3(t,e){if(!t)return e;if(!e)return t;const n=qn(Object.create(null),t);for(const r in e)n[r]=ci(t[r],e[r]);return n}function BO(){return{app:null,config:{isNativeTag:RV,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let i3=0;function o3(t,e){return function(r,i=null){mt(r)||(r=qn({},r)),i!=null&&!cn(i)&&(i=null);const o=BO(),s=new WeakSet;let a=!1;const l=o.app={_uid:i3++,_component:r,_props:i,_container:null,_context:o,_instance:null,version:Ck,get config(){return o.config},set config(u){},use(u,...c){return s.has(u)||(u&&mt(u.install)?(s.add(u),u.install(l,...c)):mt(u)&&(s.add(u),u(l,...c))),l},mixin(u){return o.mixins.includes(u)||o.mixins.push(u),l},component(u,c){return c?(o.components[u]=c,l):o.components[u]},directive(u,c){return c?(o.directives[u]=c,l):o.directives[u]},mount(u,c,d){if(!a){const h=B(r,i);return h.appContext=o,d===!0?d="svg":d===!1&&(d=void 0),c&&e?e(h,u):t(h,u,d),a=!0,l._container=u,u.__vue_app__=l,af(h.component)}},unmount(){a&&(t(null,l._container),delete l._container.__vue_app__)},provide(u,c){return o.provides[u]=c,l},runWithContext(u){const c=ul;ul=l;try{return u()}finally{ul=c}}};return l}}let ul=null;function Vu(t,e){if(fr){let n=fr.provides;const r=fr.parent&&fr.parent.provides;r===n&&(n=fr.provides=Object.create(r)),n[t]=e}}function pi(t,e,n=!1){const r=fr||mr;if(r||ul){const i=ul?ul._context.provides:r?r.parent==null?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:void 0;if(i&&t in i)return i[t];if(arguments.length>1)return n&&mt(e)?e.call(r&&r.proxy):e}}function jO(){return!!(fr||mr||ul)}const HO={},WO=()=>Object.create(HO),zO=t=>Object.getPrototypeOf(t)===HO;function s3(t,e,n,r=!1){const i={},o=WO();t.propsDefaults=Object.create(null),KO(t,e,i,o);for(const s in t.propsOptions[0])s in i||(i[s]=void 0);n?t.props=r?i:S_(i):t.type.props?t.props=i:t.props=o,t.attrs=o}function a3(t,e,n,r){const{props:i,attrs:o,vnode:{patchFlag:s}}=t,a=Mt(i),[l]=t.propsOptions;let u=!1;if((r||s>0)&&!(s&16)){if(s&8){const c=t.vnode.dynamicProps;for(let d=0;d<c.length;d++){let h=c[d];if(Og(t.emitsOptions,h))continue;const p=e[h];if(l)if(Wt(o,h))p!==o[h]&&(o[h]=p,u=!0);else{const m=ni(h);i[m]=Ib(l,a,m,p,t,!1)}else p!==o[h]&&(o[h]=p,u=!0)}}}else{KO(t,e,i,o)&&(u=!0);let c;for(const d in a)(!e||!Wt(e,d)&&((c=wi(d))===d||!Wt(e,c)))&&(l?n&&(n[d]!==void 0||n[c]!==void 0)&&(i[d]=Ib(l,a,d,void 0,t,!0)):delete i[d]);if(o!==a)for(const d in o)(!e||!Wt(e,d))&&(delete o[d],u=!0)}u&&ms(t.attrs,"set","")}function KO(t,e,n,r){const[i,o]=t.propsOptions;let s=!1,a;if(e)for(let l in e){if(Du(l))continue;const u=e[l];let c;i&&Wt(i,c=ni(l))?!o||!o.includes(c)?n[c]=u:(a||(a={}))[c]=u:Og(t.emitsOptions,l)||(!(l in r)||u!==r[l])&&(r[l]=u,s=!0)}if(o){const l=Mt(n),u=a||nn;for(let c=0;c<o.length;c++){const d=o[c];n[d]=Ib(i,l,d,u[d],t,!Wt(u,d))}}return s}function Ib(t,e,n,r,i,o){const s=t[n];if(s!=null){const a=Wt(s,"default");if(a&&r===void 0){const l=s.default;if(s.type!==Function&&!s.skipFactory&&mt(l)){const{propsDefaults:u}=i;if(n in u)r=u[n];else{const c=_l(i);r=u[n]=l.call(null,e),c()}}else r=l}s[0]&&(o&&!a?r=!1:s[1]&&(r===""||r===wi(n))&&(r=!0))}return r}const l3=new WeakMap;function GO(t,e,n=!1){const r=n?l3:e.propsCache,i=r.get(t);if(i)return i;const o=t.props,s={},a=[];let l=!1;if(!mt(t)){const c=d=>{l=!0;const[h,p]=GO(d,e,!0);qn(s,h),p&&a.push(...p)};!n&&e.mixins.length&&e.mixins.forEach(c),t.extends&&c(t.extends),t.mixins&&t.mixins.forEach(c)}if(!o&&!l)return cn(t)&&r.set(t,Ru),Ru;if(rt(o))for(let c=0;c<o.length;c++){const d=ni(o[c]);PE(d)&&(s[d]=nn)}else if(o)for(const c in o){const d=ni(c);if(PE(d)){const h=o[c],p=s[d]=rt(h)||mt(h)?{type:h}:qn({},h),m=p.type;let g=!1,v=!0;if(rt(m))for(let A=0;A<m.length;++A){const I=m[A],S=mt(I)&&I.name;if(S==="Boolean"){g=!0;break}else S==="String"&&(v=!1)}else g=mt(m)&&m.name==="Boolean";p[0]=g,p[1]=v,(g||Wt(p,"default"))&&a.push(d)}}const u=[s,a];return cn(t)&&r.set(t,u),u}function PE(t){return t[0]!=="$"&&!Du(t)}const YO=t=>t[0]==="_"||t==="$stable",U_=t=>rt(t)?t.map(_i):[_i(t)],u3=(t,e,n)=>{if(e._n)return e;const r=J((...i)=>U_(e(...i)),n);return r._c=!1,r},XO=(t,e,n)=>{const r=t._ctx;for(const i in t){if(YO(i))continue;const o=t[i];if(mt(o))e[i]=u3(i,o,r);else if(o!=null){const s=U_(o);e[i]=()=>s}}},QO=(t,e)=>{const n=U_(e);t.slots.default=()=>n},JO=(t,e,n)=>{for(const r in e)(n||r!=="_")&&(t[r]=e[r])},c3=(t,e,n)=>{const r=t.slots=WO();if(t.vnode.shapeFlag&32){const i=e._;i?(JO(r,e,n),n&&eO(r,"_",i,!0)):XO(e,r)}else e&&QO(t,e)},d3=(t,e,n)=>{const{vnode:r,slots:i}=t;let o=!0,s=nn;if(r.shapeFlag&32){const a=e._;a?n&&a===1?o=!1:JO(i,e,n):(o=!e.$stable,XO(e,i)),s=e}else e&&(QO(t,e),s={default:1});if(o)for(const a in i)!YO(a)&&s[a]==null&&delete i[a]};function um(t,e,n,r,i=!1){if(rt(t)){t.forEach((h,p)=>um(h,e&&(rt(e)?e[p]:e),n,r,i));return}if(ll(r)&&!i)return;const o=r.shapeFlag&4?af(r.component):r.el,s=i?null:o,{i:a,r:l}=t,u=e&&e.r,c=a.refs===nn?a.refs={}:a.refs,d=a.setupState;if(u!=null&&u!==l&&(Ln(u)?(c[u]=null,Wt(d,u)&&(d[u]=null)):_n(u)&&(u.value=null)),mt(l))gs(l,a,12,[s,c]);else{const h=Ln(l),p=_n(l);if(h||p){const m=()=>{if(t.f){const g=h?Wt(d,l)?d[l]:c[l]:l.value;i?rt(g)&&v_(g,o):rt(g)?g.includes(o)||g.push(o):h?(c[l]=[o],Wt(d,l)&&(d[l]=c[l])):(l.value=[o],t.k&&(c[t.k]=l.value))}else h?(c[l]=s,Wt(d,l)&&(d[l]=s)):p&&(l.value=s,t.k&&(c[t.k]=s))};s?(m.id=-1,wr(m,n)):m()}}}const ZO=Symbol("_vte"),h3=t=>t.__isTeleport,Nd=t=>t&&(t.disabled||t.disabled===""),OE=t=>typeof SVGElement<"u"&&t instanceof SVGElement,kE=t=>typeof MathMLElement=="function"&&t instanceof MathMLElement,Cb=(t,e)=>{const n=t&&t.to;return Ln(n)?e?e(n):null:n},f3={name:"Teleport",__isTeleport:!0,process(t,e,n,r,i,o,s,a,l,u){const{mc:c,pc:d,pbc:h,o:{insert:p,querySelector:m,createText:g,createComment:v}}=u,A=Nd(e.props);let{shapeFlag:I,children:S,dynamicChildren:T}=e;if(t==null){const N=e.el=g(""),R=e.anchor=g("");p(N,n,r),p(R,n,r);const C=e.target=Cb(e.props,m),E=tk(C,e,g,p);C&&(s==="svg"||OE(C)?s="svg":(s==="mathml"||kE(C))&&(s="mathml"));const b=(w,k)=>{I&16&&c(S,w,k,i,o,s,a,l)};A?b(n,R):C&&b(C,E)}else{e.el=t.el,e.targetStart=t.targetStart;const N=e.anchor=t.anchor,R=e.target=t.target,C=e.targetAnchor=t.targetAnchor,E=Nd(t.props),b=E?n:R,w=E?N:C;if(s==="svg"||OE(R)?s="svg":(s==="mathml"||kE(R))&&(s="mathml"),T?(h(t.dynamicChildren,T,b,i,o,s,a),B_(t,e,!0)):l||d(t,e,b,w,i,o,s,a,!1),A)E?e.props&&t.props&&e.props.to!==t.props.to&&(e.props.to=t.props.to):tp(e,n,N,u,1);else if((e.props&&e.props.to)!==(t.props&&t.props.to)){const k=e.target=Cb(e.props,m);k&&tp(e,k,null,u,0)}else E&&tp(e,R,C,u,1)}ek(e)},remove(t,e,n,{um:r,o:{remove:i}},o){const{shapeFlag:s,children:a,anchor:l,targetStart:u,targetAnchor:c,target:d,props:h}=t;if(d&&(i(u),i(c)),o&&i(l),s&16){const p=o||!Nd(h);for(let m=0;m<a.length;m++){const g=a[m];r(g,e,n,p,!!g.dynamicChildren)}}},move:tp,hydrate:p3};function tp(t,e,n,{o:{insert:r},m:i},o=2){o===0&&r(t.targetAnchor,e,n);const{el:s,anchor:a,shapeFlag:l,children:u,props:c}=t,d=o===2;if(d&&r(s,e,n),(!d||Nd(c))&&l&16)for(let h=0;h<u.length;h++)i(u[h],e,n,2);d&&r(a,e,n)}function p3(t,e,n,r,i,o,{o:{nextSibling:s,parentNode:a,querySelector:l,insert:u,createText:c}},d){const h=e.target=Cb(e.props,l);if(h){const p=h._lpa||h.firstChild;if(e.shapeFlag&16)if(Nd(e.props))e.anchor=d(s(t),e,a(t),n,r,i,o),e.targetStart=p,e.targetAnchor=p&&s(p);else{e.anchor=s(t);let m=p;for(;m;){if(m&&m.nodeType===8){if(m.data==="teleport start anchor")e.targetStart=m;else if(m.data==="teleport anchor"){e.targetAnchor=m,h._lpa=e.targetAnchor&&s(e.targetAnchor);break}}m=s(m)}e.targetAnchor||tk(h,e,c,u),d(p&&s(p),e,h,n,r,i,o)}ek(e)}return e.anchor&&s(e.anchor)}const q_=f3;function ek(t){const e=t.ctx;if(e&&e.ut){let n=t.children[0].el;for(;n&&n!==t.targetAnchor;)n.nodeType===1&&n.setAttribute("data-v-owner",e.uid),n=n.nextSibling;e.ut()}}function tk(t,e,n,r){const i=e.targetStart=n(""),o=e.targetAnchor=n("");return i[ZO]=o,t&&(r(i,t),r(o,t)),o}let RE=!1;const Jl=()=>{RE||(console.error("Hydration completed but contains mismatches."),RE=!0)},m3=t=>t.namespaceURI.includes("svg")&&t.tagName!=="foreignObject",g3=t=>t.namespaceURI.includes("MathML"),np=t=>{if(m3(t))return"svg";if(g3(t))return"mathml"},rp=t=>t.nodeType===8;function v3(t){const{mt:e,p:n,o:{patchProp:r,createText:i,nextSibling:o,parentNode:s,remove:a,insert:l,createComment:u}}=t,c=(S,T)=>{if(!T.hasChildNodes()){n(null,S,T),am(),T._vnode=S;return}d(T.firstChild,S,null,null,null),am(),T._vnode=S},d=(S,T,N,R,C,E=!1)=>{E=E||!!T.dynamicChildren;const b=rp(S)&&S.data==="[",w=()=>g(S,T,N,R,C,b),{type:k,ref:x,shapeFlag:O,patchFlag:q}=T;let V=S.nodeType;T.el=S,q===-2&&(E=!1,T.dynamicChildren=null);let F=null;switch(k){case la:V!==3?T.children===""?(l(T.el=i(""),s(S),S),F=S):F=w():(S.data!==T.children&&(Jl(),S.data=T.children),F=o(S));break;case hr:I(S)?(F=o(S),A(T.el=S.content.firstChild,S,N)):V!==8||b?F=w():F=o(S);break;case cl:if(b&&(S=o(S),V=S.nodeType),V===1||V===3){F=S;const G=!T.children.length;for(let Z=0;Z<T.staticCount;Z++)G&&(T.children+=F.nodeType===1?F.outerHTML:F.data),Z===T.staticCount-1&&(T.anchor=F),F=o(F);return b?o(F):F}else w();break;case Pe:b?F=m(S,T,N,R,C,E):F=w();break;default:if(O&1)(V!==1||T.type.toLowerCase()!==S.tagName.toLowerCase())&&!I(S)?F=w():F=h(S,T,N,R,C,E);else if(O&6){T.slotScopeIds=C;const G=s(S);if(b?F=v(S):rp(S)&&S.data==="teleport start"?F=v(S,S.data,"teleport end"):F=o(S),e(T,G,null,N,R,np(G),E),ll(T)){let Z;b?(Z=B(Pe),Z.anchor=F?F.previousSibling:G.lastChild):Z=S.nodeType===3?z(""):B("div"),Z.el=S,T.component.subTree=Z}}else O&64?V!==8?F=w():F=T.type.hydrate(S,T,N,R,C,E,t,p):O&128&&(F=T.type.hydrate(S,T,N,R,np(s(S)),C,E,t,d))}return x!=null&&um(x,null,R,T),F},h=(S,T,N,R,C,E)=>{E=E||!!T.dynamicChildren;const{type:b,props:w,patchFlag:k,shapeFlag:x,dirs:O,transition:q}=T,V=b==="input"||b==="option";if(V||k!==-1){O&&Ao(T,null,N,"created");let F=!1;if(I(S)){F=ok(R,q)&&N&&N.vnode.props&&N.vnode.props.appear;const Z=S.content.firstChild;F&&q.beforeEnter(Z),A(Z,S,N),T.el=S=Z}if(x&16&&!(w&&(w.innerHTML||w.textContent))){let Z=p(S.firstChild,T,S,N,R,C,E);for(;Z;){Jl();const H=Z;Z=Z.nextSibling,a(H)}}else x&8&&S.textContent!==T.children&&(Jl(),S.textContent=T.children);if(w){if(V||!E||k&48){const Z=S.tagName.includes("-");for(const H in w)(V&&(H.endsWith("value")||H==="indeterminate")||Zh(H)&&!Du(H)||H[0]==="."||Z)&&r(S,H,null,w[H],void 0,N)}else if(w.onClick)r(S,"onClick",null,w.onClick,void 0,N);else if(k&4&&Mo(w.style))for(const Z in w.style)w.style[Z]}let G;(G=w&&w.onVnodeBeforeMount)&&yi(G,N,T),O&&Ao(T,null,N,"beforeMount"),((G=w&&w.onVnodeMounted)||O||F)&&mk(()=>{G&&yi(G,N,T),F&&q.enter(S),O&&Ao(T,null,N,"mounted")},R)}return S.nextSibling},p=(S,T,N,R,C,E,b)=>{b=b||!!T.dynamicChildren;const w=T.children,k=w.length;for(let x=0;x<k;x++){const O=b?w[x]:w[x]=_i(w[x]),q=O.type===la;if(S){if(q&&!b){let V=w[x+1];V&&(V=_i(V)).type===la&&(l(i(S.data.slice(O.children.length)),N,o(S)),S.data=O.children)}S=d(S,O,R,C,E,b)}else q&&!O.children?l(O.el=i(""),N):(Jl(),n(null,O,N,null,R,C,np(N),E))}return S},m=(S,T,N,R,C,E)=>{const{slotScopeIds:b}=T;b&&(C=C?C.concat(b):b);const w=s(S),k=p(o(S),T,w,N,R,C,E);return k&&rp(k)&&k.data==="]"?o(T.anchor=k):(Jl(),l(T.anchor=u("]"),w,k),k)},g=(S,T,N,R,C,E)=>{if(Jl(),T.el=null,E){const k=v(S);for(;;){const x=o(S);if(x&&x!==k)a(x);else break}}const b=o(S),w=s(S);return a(S),n(null,T,w,b,N,R,np(w),C),b},v=(S,T="[",N="]")=>{let R=0;for(;S;)if(S=o(S),S&&rp(S)&&(S.data===T&&R++,S.data===N)){if(R===0)return o(S);R--}return S},A=(S,T,N)=>{const R=T.parentNode;R&&R.replaceChild(S,T);let C=N;for(;C;)C.vnode.el===T&&(C.vnode.el=C.subTree.el=S),C=C.parent},I=S=>S.nodeType===1&&S.tagName.toLowerCase()==="template";return[c,d]}const wr=mk;function nk(t){return ik(t)}function rk(t){return ik(t,v3)}function ik(t,e){const n=tO();n.__VUE__=!0;const{insert:r,remove:i,patchProp:o,createElement:s,createText:a,createComment:l,setText:u,setElementText:c,parentNode:d,nextSibling:h,setScopeId:p=Ei,insertStaticContent:m}=t,g=(L,j,X,me=null,ge=null,Ae=null,Ve=void 0,ke=null,xe=!!j.dynamicChildren)=>{if(L===j)return;L&&!co(L,j)&&(me=ne(L),se(L,ge,Ae,!0),L=null),j.patchFlag===-2&&(xe=!1,j.dynamicChildren=null);const{type:Ie,ref:je,shapeFlag:He}=j;switch(Ie){case la:v(L,j,X,me);break;case hr:A(L,j,X,me);break;case cl:L==null&&I(j,X,me,Ve);break;case Pe:x(L,j,X,me,ge,Ae,Ve,ke,xe);break;default:He&1?N(L,j,X,me,ge,Ae,Ve,ke,xe):He&6?O(L,j,X,me,ge,Ae,Ve,ke,xe):(He&64||He&128)&&Ie.process(L,j,X,me,ge,Ae,Ve,ke,xe,_e)}je!=null&&ge&&um(je,L&&L.ref,Ae,j||L,!j)},v=(L,j,X,me)=>{if(L==null)r(j.el=a(j.children),X,me);else{const ge=j.el=L.el;j.children!==L.children&&u(ge,j.children)}},A=(L,j,X,me)=>{L==null?r(j.el=l(j.children||""),X,me):j.el=L.el},I=(L,j,X,me)=>{[L.el,L.anchor]=m(L.children,j,X,me,L.el,L.anchor)},S=({el:L,anchor:j},X,me)=>{let ge;for(;L&&L!==j;)ge=h(L),r(L,X,me),L=ge;r(j,X,me)},T=({el:L,anchor:j})=>{let X;for(;L&&L!==j;)X=h(L),i(L),L=X;i(j)},N=(L,j,X,me,ge,Ae,Ve,ke,xe)=>{j.type==="svg"?Ve="svg":j.type==="math"&&(Ve="mathml"),L==null?R(j,X,me,ge,Ae,Ve,ke,xe):b(L,j,ge,Ae,Ve,ke,xe)},R=(L,j,X,me,ge,Ae,Ve,ke)=>{let xe,Ie;const{props:je,shapeFlag:He,transition:Qe,dirs:lt}=L;if(xe=L.el=s(L.type,Ae,je&&je.is,je),He&8?c(xe,L.children):He&16&&E(L.children,xe,null,me,ge,Qv(L,Ae),Ve,ke),lt&&Ao(L,null,me,"created"),C(xe,L,L.scopeId,Ve,me),je){for(const re in je)re!=="value"&&!Du(re)&&o(xe,re,null,je[re],Ae,me);"value"in je&&o(xe,"value",null,je.value,Ae),(Ie=je.onVnodeBeforeMount)&&yi(Ie,me,L)}lt&&Ao(L,null,me,"beforeMount");const et=ok(ge,Qe);et&&Qe.beforeEnter(xe),r(xe,j,X),((Ie=je&&je.onVnodeMounted)||et||lt)&&wr(()=>{Ie&&yi(Ie,me,L),et&&Qe.enter(xe),lt&&Ao(L,null,me,"mounted")},ge)},C=(L,j,X,me,ge)=>{if(X&&p(L,X),me)for(let Ae=0;Ae<me.length;Ae++)p(L,me[Ae]);if(ge){let Ae=ge.subTree;if(j===Ae){const Ve=ge.vnode;C(L,Ve,Ve.scopeId,Ve.slotScopeIds,ge.parent)}}},E=(L,j,X,me,ge,Ae,Ve,ke,xe=0)=>{for(let Ie=xe;Ie<L.length;Ie++){const je=L[Ie]=ke?Ks(L[Ie]):_i(L[Ie]);g(null,je,j,X,me,ge,Ae,Ve,ke)}},b=(L,j,X,me,ge,Ae,Ve)=>{const ke=j.el=L.el;let{patchFlag:xe,dynamicChildren:Ie,dirs:je}=j;xe|=L.patchFlag&16;const He=L.props||nn,Qe=j.props||nn;let lt;if(X&&ja(X,!1),(lt=Qe.onVnodeBeforeUpdate)&&yi(lt,X,j,L),je&&Ao(j,L,X,"beforeUpdate"),X&&ja(X,!0),(He.innerHTML&&Qe.innerHTML==null||He.textContent&&Qe.textContent==null)&&c(ke,""),Ie?w(L.dynamicChildren,Ie,ke,X,me,Qv(j,ge),Ae):Ve||Z(L,j,ke,null,X,me,Qv(j,ge),Ae,!1),xe>0){if(xe&16)k(ke,He,Qe,X,ge);else if(xe&2&&He.class!==Qe.class&&o(ke,"class",null,Qe.class,ge),xe&4&&o(ke,"style",He.style,Qe.style,ge),xe&8){const et=j.dynamicProps;for(let re=0;re<et.length;re++){const K=et[re],Q=He[K],ae=Qe[K];(ae!==Q||K==="value")&&o(ke,K,Q,ae,ge,X)}}xe&1&&L.children!==j.children&&c(ke,j.children)}else!Ve&&Ie==null&&k(ke,He,Qe,X,ge);((lt=Qe.onVnodeUpdated)||je)&&wr(()=>{lt&&yi(lt,X,j,L),je&&Ao(j,L,X,"updated")},me)},w=(L,j,X,me,ge,Ae,Ve)=>{for(let ke=0;ke<j.length;ke++){const xe=L[ke],Ie=j[ke],je=xe.el&&(xe.type===Pe||!co(xe,Ie)||xe.shapeFlag&70)?d(xe.el):X;g(xe,Ie,je,null,me,ge,Ae,Ve,!0)}},k=(L,j,X,me,ge)=>{if(j!==X){if(j!==nn)for(const Ae in j)!Du(Ae)&&!(Ae in X)&&o(L,Ae,j[Ae],null,ge,me);for(const Ae in X){if(Du(Ae))continue;const Ve=X[Ae],ke=j[Ae];Ve!==ke&&Ae!=="value"&&o(L,Ae,ke,Ve,ge,me)}"value"in X&&o(L,"value",j.value,X.value,ge)}},x=(L,j,X,me,ge,Ae,Ve,ke,xe)=>{const Ie=j.el=L?L.el:a(""),je=j.anchor=L?L.anchor:a("");let{patchFlag:He,dynamicChildren:Qe,slotScopeIds:lt}=j;lt&&(ke=ke?ke.concat(lt):lt),L==null?(r(Ie,X,me),r(je,X,me),E(j.children||[],X,je,ge,Ae,Ve,ke,xe)):He>0&&He&64&&Qe&&L.dynamicChildren?(w(L.dynamicChildren,Qe,X,ge,Ae,Ve,ke),(j.key!=null||ge&&j===ge.subTree)&&B_(L,j,!0)):Z(L,j,X,je,ge,Ae,Ve,ke,xe)},O=(L,j,X,me,ge,Ae,Ve,ke,xe)=>{j.slotScopeIds=ke,L==null?j.shapeFlag&512?ge.ctx.activate(j,X,me,Ve,xe):q(j,X,me,ge,Ae,Ve,xe):V(L,j,xe)},q=(L,j,X,me,ge,Ae,Ve)=>{const ke=L.component=_k(L,me,ge);if(nf(L)&&(ke.ctx.renderer=_e),Tk(ke,!1,Ve),ke.asyncDep){if(ge&&ge.registerDep(ke,F,Ve),!L.el){const xe=ke.subTree=B(hr);A(null,xe,j,X)}}else F(ke,L,j,X,ge,Ae,Ve)},V=(L,j,X)=>{const me=j.component=L.component;if(I3(L,j,X))if(me.asyncDep&&!me.asyncResolved){G(me,j,X);return}else me.next=j,k$(me.update),me.effect.dirty=!0,me.update();else j.el=L.el,me.vnode=j},F=(L,j,X,me,ge,Ae,Ve)=>{const ke=()=>{if(L.isMounted){let{next:je,bu:He,u:Qe,parent:lt,vnode:et}=L;{const be=sk(L);if(be){je&&(je.el=et.el,G(L,je,Ve)),be.asyncDep.then(()=>{L.isUnmounted||ke()});return}}let re=je,K;ja(L,!1),je?(je.el=et.el,G(L,je,Ve)):je=et,He&&Nu(He),(K=je.props&&je.props.onVnodeBeforeUpdate)&&yi(K,lt,je,et),ja(L,!0);const Q=Np(L),ae=L.subTree;L.subTree=Q,g(ae,Q,d(ae.el),ne(ae),L,ge,Ae),je.el=Q.el,re===null&&H_(L,Q.el),Qe&&wr(Qe,ge),(K=je.props&&je.props.onVnodeUpdated)&&wr(()=>yi(K,lt,je,et),ge)}else{let je;const{el:He,props:Qe}=j,{bm:lt,m:et,parent:re}=L,K=ll(j);if(ja(L,!1),lt&&Nu(lt),!K&&(je=Qe&&Qe.onVnodeBeforeMount)&&yi(je,re,j),ja(L,!0),He&&fe){const Q=()=>{L.subTree=Np(L),fe(He,L.subTree,L,ge,null)};K?j.type.__asyncLoader().then(()=>!L.isUnmounted&&Q()):Q()}else{const Q=L.subTree=Np(L);g(null,Q,X,me,L,ge,Ae),j.el=Q.el}if(et&&wr(et,ge),!K&&(je=Qe&&Qe.onVnodeMounted)){const Q=j;wr(()=>yi(je,re,Q),ge)}(j.shapeFlag&256||re&&ll(re.vnode)&&re.vnode.shapeFlag&256)&&L.a&&wr(L.a,ge),L.isMounted=!0,j=X=me=null}},xe=L.effect=new Yu(ke,Ei,()=>Eg(Ie),L.scope),Ie=L.update=()=>{xe.dirty&&xe.run()};Ie.i=L,Ie.id=L.uid,ja(L,!0),Ie()},G=(L,j,X)=>{j.component=L;const me=L.vnode.props;L.vnode=j,L.next=null,a3(L,j.props,me,X),d3(L,j.children,X),Pa(),TE(L),Oa()},Z=(L,j,X,me,ge,Ae,Ve,ke,xe=!1)=>{const Ie=L&&L.children,je=L?L.shapeFlag:0,He=j.children,{patchFlag:Qe,shapeFlag:lt}=j;if(Qe>0){if(Qe&128){$(Ie,He,X,me,ge,Ae,Ve,ke,xe);return}else if(Qe&256){H(Ie,He,X,me,ge,Ae,Ve,ke,xe);return}}lt&8?(je&16&&Y(Ie,ge,Ae),He!==Ie&&c(X,He)):je&16?lt&16?$(Ie,He,X,me,ge,Ae,Ve,ke,xe):Y(Ie,ge,Ae,!0):(je&8&&c(X,""),lt&16&&E(He,X,me,ge,Ae,Ve,ke,xe))},H=(L,j,X,me,ge,Ae,Ve,ke,xe)=>{L=L||Ru,j=j||Ru;const Ie=L.length,je=j.length,He=Math.min(Ie,je);let Qe;for(Qe=0;Qe<He;Qe++){const lt=j[Qe]=xe?Ks(j[Qe]):_i(j[Qe]);g(L[Qe],lt,X,null,ge,Ae,Ve,ke,xe)}Ie>je?Y(L,ge,Ae,!0,!1,He):E(j,X,me,ge,Ae,Ve,ke,xe,He)},$=(L,j,X,me,ge,Ae,Ve,ke,xe)=>{let Ie=0;const je=j.length;let He=L.length-1,Qe=je-1;for(;Ie<=He&&Ie<=Qe;){const lt=L[Ie],et=j[Ie]=xe?Ks(j[Ie]):_i(j[Ie]);if(co(lt,et))g(lt,et,X,null,ge,Ae,Ve,ke,xe);else break;Ie++}for(;Ie<=He&&Ie<=Qe;){const lt=L[He],et=j[Qe]=xe?Ks(j[Qe]):_i(j[Qe]);if(co(lt,et))g(lt,et,X,null,ge,Ae,Ve,ke,xe);else break;He--,Qe--}if(Ie>He){if(Ie<=Qe){const lt=Qe+1,et=lt<je?j[lt].el:me;for(;Ie<=Qe;)g(null,j[Ie]=xe?Ks(j[Ie]):_i(j[Ie]),X,et,ge,Ae,Ve,ke,xe),Ie++}}else if(Ie>Qe)for(;Ie<=He;)se(L[Ie],ge,Ae,!0),Ie++;else{const lt=Ie,et=Ie,re=new Map;for(Ie=et;Ie<=Qe;Ie++){const De=j[Ie]=xe?Ks(j[Ie]):_i(j[Ie]);De.key!=null&&re.set(De.key,Ie)}let K,Q=0;const ae=Qe-et+1;let be=!1,Ue=0;const tt=new Array(ae);for(Ie=0;Ie<ae;Ie++)tt[Ie]=0;for(Ie=lt;Ie<=He;Ie++){const De=L[Ie];if(Q>=ae){se(De,ge,Ae,!0);continue}let Fe;if(De.key!=null)Fe=re.get(De.key);else for(K=et;K<=Qe;K++)if(tt[K-et]===0&&co(De,j[K])){Fe=K;break}Fe===void 0?se(De,ge,Ae,!0):(tt[Fe-et]=Ie+1,Fe>=Ue?Ue=Fe:be=!0,g(De,j[Fe],X,null,ge,Ae,Ve,ke,xe),Q++)}const we=be?y3(tt):Ru;for(K=we.length-1,Ie=ae-1;Ie>=0;Ie--){const De=et+Ie,Fe=j[De],nt=De+1<je?j[De+1].el:me;tt[Ie]===0?g(null,Fe,X,nt,ge,Ae,Ve,ke,xe):be&&(K<0||Ie!==we[K]?ue(Fe,X,nt,2):K--)}}},ue=(L,j,X,me,ge=null)=>{const{el:Ae,type:Ve,transition:ke,children:xe,shapeFlag:Ie}=L;if(Ie&6){ue(L.component.subTree,j,X,me);return}if(Ie&128){L.suspense.move(j,X,me);return}if(Ie&64){Ve.move(L,j,X,_e);return}if(Ve===Pe){r(Ae,j,X);for(let He=0;He<xe.length;He++)ue(xe[He],j,X,me);r(L.anchor,j,X);return}if(Ve===cl){S(L,j,X);return}if(me!==2&&Ie&1&&ke)if(me===0)ke.beforeEnter(Ae),r(Ae,j,X),wr(()=>ke.enter(Ae),ge);else{const{leave:He,delayLeave:Qe,afterLeave:lt}=ke,et=()=>r(Ae,j,X),re=()=>{He(Ae,()=>{et(),lt&&lt()})};Qe?Qe(Ae,et,re):re()}else r(Ae,j,X)},se=(L,j,X,me=!1,ge=!1)=>{const{type:Ae,props:Ve,ref:ke,children:xe,dynamicChildren:Ie,shapeFlag:je,patchFlag:He,dirs:Qe,cacheIndex:lt}=L;if(He===-2&&(ge=!1),ke!=null&&um(ke,null,X,L,!0),lt!=null&&(j.renderCache[lt]=void 0),je&256){j.ctx.deactivate(L);return}const et=je&1&&Qe,re=!ll(L);let K;if(re&&(K=Ve&&Ve.onVnodeBeforeUnmount)&&yi(K,j,L),je&6)he(L.component,X,me);else{if(je&128){L.suspense.unmount(X,me);return}et&&Ao(L,null,j,"beforeUnmount"),je&64?L.type.remove(L,j,X,_e,me):Ie&&!Ie.hasOnce&&(Ae!==Pe||He>0&&He&64)?Y(Ie,j,X,!1,!0):(Ae===Pe&&He&384||!ge&&je&16)&&Y(xe,j,X),me&&ve(L)}(re&&(K=Ve&&Ve.onVnodeUnmounted)||et)&&wr(()=>{K&&yi(K,j,L),et&&Ao(L,null,j,"unmounted")},X)},ve=L=>{const{type:j,el:X,anchor:me,transition:ge}=L;if(j===Pe){Se(X,me);return}if(j===cl){T(L);return}const Ae=()=>{i(X),ge&&!ge.persisted&&ge.afterLeave&&ge.afterLeave()};if(L.shapeFlag&1&&ge&&!ge.persisted){const{leave:Ve,delayLeave:ke}=ge,xe=()=>Ve(X,Ae);ke?ke(L.el,Ae,xe):xe()}else Ae()},Se=(L,j)=>{let X;for(;L!==j;)X=h(L),i(L),L=X;i(j)},he=(L,j,X)=>{const{bum:me,scope:ge,update:Ae,subTree:Ve,um:ke,m:xe,a:Ie}=L;cm(xe),cm(Ie),me&&Nu(me),ge.stop(),Ae&&(Ae.active=!1,se(Ve,L,j,X)),ke&&wr(ke,j),wr(()=>{L.isUnmounted=!0},j),j&&j.pendingBranch&&!j.isUnmounted&&L.asyncDep&&!L.asyncResolved&&L.suspenseId===j.pendingId&&(j.deps--,j.deps===0&&j.resolve())},Y=(L,j,X,me=!1,ge=!1,Ae=0)=>{for(let Ve=Ae;Ve<L.length;Ve++)se(L[Ve],j,X,me,ge)},ne=L=>{if(L.shapeFlag&6)return ne(L.component.subTree);if(L.shapeFlag&128)return L.suspense.next();const j=h(L.anchor||L.el),X=j&&j[ZO];return X?h(X):j};let pe=!1;const oe=(L,j,X)=>{L==null?j._vnode&&se(j._vnode,null,null,!0):g(j._vnode||null,L,j,null,null,null,X),j._vnode=L,pe||(pe=!0,TE(),am(),pe=!1)},_e={p:g,um:se,m:ue,r:ve,mt:q,mc:E,pc:Z,pbc:w,n:ne,o:t};let Ce,fe;return e&&([Ce,fe]=e(_e)),{render:oe,hydrate:Ce,createApp:o3(oe,Ce)}}function Qv({type:t,props:e},n){return n==="svg"&&t==="foreignObject"||n==="mathml"&&t==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:n}function ja({effect:t,update:e},n){t.allowRecurse=e.allowRecurse=n}function ok(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function B_(t,e,n=!1){const r=t.children,i=e.children;if(rt(r)&&rt(i))for(let o=0;o<r.length;o++){const s=r[o];let a=i[o];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=i[o]=Ks(i[o]),a.el=s.el),!n&&a.patchFlag!==-2&&B_(s,a)),a.type===la&&(a.el=s.el)}}function y3(t){const e=t.slice(),n=[0];let r,i,o,s,a;const l=t.length;for(r=0;r<l;r++){const u=t[r];if(u!==0){if(i=n[n.length-1],t[i]<u){e[r]=i,n.push(r);continue}for(o=0,s=n.length-1;o<s;)a=o+s>>1,t[n[a]]<u?o=a+1:s=a;u<t[n[o]]&&(o>0&&(e[r]=n[o-1]),n[o]=r)}}for(o=n.length,s=n[o-1];o-- >0;)n[o]=s,s=e[s];return n}function sk(t){const e=t.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:sk(e)}function cm(t){if(t)for(let e=0;e<t.length;e++)t[e].active=!1}const ak=Symbol.for("v-scx"),lk=()=>pi(ak);function j_(t,e){return of(t,null,e)}function uk(t,e){return of(t,null,{flush:"post"})}function ck(t,e){return of(t,null,{flush:"sync"})}const ip={};function pn(t,e,n){return of(t,e,n)}function of(t,e,{immediate:n,deep:r,flush:i,once:o,onTrack:s,onTrigger:a}=nn){if(e&&o){const R=e;e=(...C)=>{R(...C),N()}}const l=fr,u=R=>r===!0?R:Qs(R,r===!1?1:void 0);let c,d=!1,h=!1;if(_n(t)?(c=()=>t.value,d=yl(t)):Mo(t)?(c=()=>u(t),d=!0):rt(t)?(h=!0,d=t.some(R=>Mo(R)||yl(R)),c=()=>t.map(R=>{if(_n(R))return R.value;if(Mo(R))return u(R);if(mt(R))return gs(R,l,2)})):mt(t)?e?c=()=>gs(t,l,2):c=()=>(p&&p(),$i(t,l,3,[m])):c=Ei,e&&r){const R=c;c=()=>Qs(R())}let p,m=R=>{p=S.onStop=()=>{gs(R,l,4),p=S.onStop=void 0}},g;if(sf)if(m=Ei,e?n&&$i(e,l,3,[c(),h?[]:void 0,m]):c(),i==="sync"){const R=lk();g=R.__watcherHandles||(R.__watcherHandles=[])}else return Ei;let v=h?new Array(t.length).fill(ip):ip;const A=()=>{if(!(!S.active||!S.dirty))if(e){const R=S.run();(r||d||(h?R.some((C,E)=>hi(C,v[E])):hi(R,v)))&&(p&&p(),$i(e,l,3,[R,v===ip?void 0:h&&v[0]===ip?[]:v,m]),v=R)}else S.run()};A.allowRecurse=!!e;let I;i==="sync"?I=A:i==="post"?I=()=>wr(A,l&&l.suspense):(A.pre=!0,l&&(A.id=l.uid),I=()=>Eg(A));const S=new Yu(c,Ei,I),T=tf(),N=()=>{S.stop(),T&&v_(T.effects,S)};return e?n?A():v=S.run():i==="post"?wr(S.run.bind(S),l&&l.suspense):S.run(),g&&g.push(N),N}function b3(t,e,n){const r=this.proxy,i=Ln(t)?t.includes(".")?dk(r,t):()=>r[t]:t.bind(r,r);let o;mt(e)?o=e:(o=e.handler,n=e);const s=_l(this),a=of(i,o.bind(r),n);return s(),a}function dk(t,e){const n=e.split(".");return()=>{let r=t;for(let i=0;i<n.length&&r;i++)r=r[n[i]];return r}}function Qs(t,e=1/0,n){if(e<=0||!cn(t)||t.__v_skip||(n=n||new Set,n.has(t)))return t;if(n.add(t),e--,_n(t))Qs(t.value,e,n);else if(rt(t))for(let r=0;r<t.length;r++)Qs(t[r],e,n);else if(Fl(t)||xu(t))t.forEach(r=>{Qs(r,e,n)});else if(ZP(t)){for(const r in t)Qs(t[r],e,n);for(const r of Object.getOwnPropertySymbols(t))Object.prototype.propertyIsEnumerable.call(t,r)&&Qs(t[r],e,n)}return t}function _3(t,e,n=nn){const r=eo(),i=ni(e),o=wi(e),s=hk(t,e),a=TO((l,u)=>{let c,d=nn,h;return ck(()=>{const p=t[e];hi(c,p)&&(c=p,u())}),{get(){return l(),n.get?n.get(c):c},set(p){const m=n.set?n.set(p):p;if(!hi(m,c)&&!(d!==nn&&hi(p,d)))return;const g=r.vnode.props;g&&(e in g||i in g||o in g)&&(`onUpdate:${e}`in g||`onUpdate:${i}`in g||`onUpdate:${o}`in g)||(c=p,u()),r.emit(`update:${e}`,m),hi(p,m)&&hi(p,d)&&!hi(m,h)&&u(),d=p,h=m}}});return a[Symbol.iterator]=()=>{let l=0;return{next(){return l<2?{value:l++?s||nn:a,done:!1}:{done:!0}}}},a}const hk=(t,e)=>e==="modelValue"||e==="model-value"?t.modelModifiers:t[`${e}Modifiers`]||t[`${ni(e)}Modifiers`]||t[`${wi(e)}Modifiers`];function w3(t,e,...n){if(t.isUnmounted)return;const r=t.vnode.props||nn;let i=n;const o=e.startsWith("update:"),s=o&&hk(r,e.slice(7));s&&(s.trim&&(i=n.map(c=>Ln(c)?c.trim():c)),s.number&&(i=n.map(rm)));let a,l=r[a=xd(e)]||r[a=xd(ni(e))];!l&&o&&(l=r[a=xd(wi(e))]),l&&$i(l,t,6,i);const u=r[a+"Once"];if(u){if(!t.emitted)t.emitted={};else if(t.emitted[a])return;t.emitted[a]=!0,$i(u,t,6,i)}}function fk(t,e,n=!1){const r=e.emitsCache,i=r.get(t);if(i!==void 0)return i;const o=t.emits;let s={},a=!1;if(!mt(t)){const l=u=>{const c=fk(u,e,!0);c&&(a=!0,qn(s,c))};!n&&e.mixins.length&&e.mixins.forEach(l),t.extends&&l(t.extends),t.mixins&&t.mixins.forEach(l)}return!o&&!a?(cn(t)&&r.set(t,null),null):(rt(o)?o.forEach(l=>s[l]=null):qn(s,o),cn(t)&&r.set(t,s),s)}function Og(t,e){return!t||!Zh(e)?!1:(e=e.slice(2).replace(/Once$/,""),Wt(t,e[0].toLowerCase()+e.slice(1))||Wt(t,wi(e))||Wt(t,e))}function Np(t){const{type:e,vnode:n,proxy:r,withProxy:i,propsOptions:[o],slots:s,attrs:a,emit:l,render:u,renderCache:c,props:d,data:h,setupState:p,ctx:m,inheritAttrs:g}=t,v=ch(t);let A,I;try{if(n.shapeFlag&4){const T=i||r,N=T;A=_i(u.call(N,T,c,d,p,h,m)),I=a}else{const T=e;A=_i(T.length>1?T(d,{attrs:a,slots:s,emit:l}):T(d,null)),I=e.props?a:E3(a)}}catch(T){Md.length=0,Ul(T,t,1),A=B(hr)}let S=A;if(I&&g!==!1){const T=Object.keys(I),{shapeFlag:N}=S;T.length&&N&7&&(o&&T.some(g_)&&(I=S3(I,o)),S=Wo(S,I,!1,!0))}return n.dirs&&(S=Wo(S,null,!1,!0),S.dirs=S.dirs?S.dirs.concat(n.dirs):n.dirs),n.transition&&(S.transition=n.transition),A=S,ch(v),A}function T3(t,e=!0){let n;for(let r=0;r<t.length;r++){const i=t[r];if(wa(i)){if(i.type!==hr||i.children==="v-if"){if(n)return;n=i}}else return}return n}const E3=t=>{let e;for(const n in t)(n==="class"||n==="style"||Zh(n))&&((e||(e={}))[n]=t[n]);return e},S3=(t,e)=>{const n={};for(const r in t)(!g_(r)||!(r.slice(9)in e))&&(n[r]=t[r]);return n};function I3(t,e,n){const{props:r,children:i,component:o}=t,{props:s,children:a,patchFlag:l}=e,u=o.emitsOptions;if(e.dirs||e.transition)return!0;if(n&&l>=0){if(l&1024)return!0;if(l&16)return r?xE(r,s,u):!!s;if(l&8){const c=e.dynamicProps;for(let d=0;d<c.length;d++){const h=c[d];if(s[h]!==r[h]&&!Og(u,h))return!0}}}else return(i||a)&&(!a||!a.$stable)?!0:r===s?!1:r?s?xE(r,s,u):!0:!!s;return!1}function xE(t,e,n){const r=Object.keys(e);if(r.length!==Object.keys(t).length)return!0;for(let i=0;i<r.length;i++){const o=r[i];if(e[o]!==t[o]&&!Og(n,o))return!0}return!1}function H_({vnode:t,parent:e},n){for(;e;){const r=e.subTree;if(r.suspense&&r.suspense.activeBranch===t&&(r.el=t.el),r===t)(t=e.vnode).el=n,e=e.parent;else break}}const Ab=t=>t.__isSuspense;let Pb=0;const C3={name:"Suspense",__isSuspense:!0,process(t,e,n,r,i,o,s,a,l,u){if(t==null)P3(e,n,r,i,o,s,a,l,u);else{if(o&&o.deps>0&&!t.suspense.isInFallback){e.suspense=t.suspense,e.suspense.vnode=e,e.el=t.el;return}O3(t,e,n,r,i,s,a,l,u)}},hydrate:k3,normalize:R3},A3=C3;function hh(t,e){const n=t.props&&t.props[e];mt(n)&&n()}function P3(t,e,n,r,i,o,s,a,l){const{p:u,o:{createElement:c}}=l,d=c("div"),h=t.suspense=pk(t,i,r,e,d,n,o,s,a,l);u(null,h.pendingBranch=t.ssContent,d,null,r,h,o,s),h.deps>0?(hh(t,"onPending"),hh(t,"onFallback"),u(null,t.ssFallback,e,n,r,null,o,s),$u(h,t.ssFallback)):h.resolve(!1,!0)}function O3(t,e,n,r,i,o,s,a,{p:l,um:u,o:{createElement:c}}){const d=e.suspense=t.suspense;d.vnode=e,e.el=t.el;const h=e.ssContent,p=e.ssFallback,{activeBranch:m,pendingBranch:g,isInFallback:v,isHydrating:A}=d;if(g)d.pendingBranch=h,co(h,g)?(l(g,h,d.hiddenContainer,null,i,d,o,s,a),d.deps<=0?d.resolve():v&&(A||(l(m,p,n,r,i,null,o,s,a),$u(d,p)))):(d.pendingId=Pb++,A?(d.isHydrating=!1,d.activeBranch=g):u(g,i,d),d.deps=0,d.effects.length=0,d.hiddenContainer=c("div"),v?(l(null,h,d.hiddenContainer,null,i,d,o,s,a),d.deps<=0?d.resolve():(l(m,p,n,r,i,null,o,s,a),$u(d,p))):m&&co(h,m)?(l(m,h,n,r,i,d,o,s,a),d.resolve(!0)):(l(null,h,d.hiddenContainer,null,i,d,o,s,a),d.deps<=0&&d.resolve()));else if(m&&co(h,m))l(m,h,n,r,i,d,o,s,a),$u(d,h);else if(hh(e,"onPending"),d.pendingBranch=h,h.shapeFlag&512?d.pendingId=h.component.suspenseId:d.pendingId=Pb++,l(null,h,d.hiddenContainer,null,i,d,o,s,a),d.deps<=0)d.resolve();else{const{timeout:I,pendingId:S}=d;I>0?setTimeout(()=>{d.pendingId===S&&d.fallback(p)},I):I===0&&d.fallback(p)}}function pk(t,e,n,r,i,o,s,a,l,u,c=!1){const{p:d,m:h,um:p,n:m,o:{parentNode:g,remove:v}}=u;let A;const I=x3(t);I&&e&&e.pendingBranch&&(A=e.pendingId,e.deps++);const S=t.props?im(t.props.timeout):void 0,T=o,N={vnode:t,parent:e,parentComponent:n,namespace:s,container:r,hiddenContainer:i,deps:0,pendingId:Pb++,timeout:typeof S=="number"?S:-1,activeBranch:null,pendingBranch:null,isInFallback:!c,isHydrating:c,isUnmounted:!1,effects:[],resolve(R=!1,C=!1){const{vnode:E,activeBranch:b,pendingBranch:w,pendingId:k,effects:x,parentComponent:O,container:q}=N;let V=!1;N.isHydrating?N.isHydrating=!1:R||(V=b&&w.transition&&w.transition.mode==="out-in",V&&(b.transition.afterLeave=()=>{k===N.pendingId&&(h(w,q,o===T?m(b):o,0),sm(x))}),b&&(g(b.el)!==N.hiddenContainer&&(o=m(b)),p(b,O,N,!0)),V||h(w,q,o,0)),$u(N,w),N.pendingBranch=null,N.isInFallback=!1;let F=N.parent,G=!1;for(;F;){if(F.pendingBranch){F.effects.push(...x),G=!0;break}F=F.parent}!G&&!V&&sm(x),N.effects=[],I&&e&&e.pendingBranch&&A===e.pendingId&&(e.deps--,e.deps===0&&!C&&e.resolve()),hh(E,"onResolve")},fallback(R){if(!N.pendingBranch)return;const{vnode:C,activeBranch:E,parentComponent:b,container:w,namespace:k}=N;hh(C,"onFallback");const x=m(E),O=()=>{N.isInFallback&&(d(null,R,w,x,b,null,k,a,l),$u(N,R))},q=R.transition&&R.transition.mode==="out-in";q&&(E.transition.afterLeave=O),N.isInFallback=!0,p(E,b,null,!0),q||O()},move(R,C,E){N.activeBranch&&h(N.activeBranch,R,C,E),N.container=R},next(){return N.activeBranch&&m(N.activeBranch)},registerDep(R,C,E){const b=!!N.pendingBranch;b&&N.deps++;const w=R.vnode.el;R.asyncDep.catch(k=>{Ul(k,R,0)}).then(k=>{if(R.isUnmounted||N.isUnmounted||N.pendingId!==R.suspenseId)return;R.asyncResolved=!0;const{vnode:x}=R;xb(R,k,!1),w&&(x.el=w);const O=!w&&R.subTree.el;C(R,x,g(w||R.subTree.el),w?null:m(R.subTree),N,s,E),O&&v(O),H_(R,x.el),b&&--N.deps===0&&N.resolve()})},unmount(R,C){N.isUnmounted=!0,N.activeBranch&&p(N.activeBranch,n,R,C),N.pendingBranch&&p(N.pendingBranch,n,R,C)}};return N}function k3(t,e,n,r,i,o,s,a,l){const u=e.suspense=pk(e,r,n,t.parentNode,document.createElement("div"),null,i,o,s,a,!0),c=l(t,u.pendingBranch=e.ssContent,n,u,o,s);return u.deps===0&&u.resolve(!1,!0),c}function R3(t){const{shapeFlag:e,children:n}=t,r=e&32;t.ssContent=DE(r?n.default:n),t.ssFallback=r?DE(n.fallback):B(hr)}function DE(t){let e;if(mt(t)){const n=bl&&t._c;n&&(t._d=!1,M()),t=t(),n&&(t._d=!0,e=Jr,gk())}return rt(t)&&(t=T3(t)),t=_i(t),e&&!t.dynamicChildren&&(t.dynamicChildren=e.filter(n=>n!==t)),t}function mk(t,e){e&&e.pendingBranch?rt(t)?e.effects.push(...t):e.effects.push(t):sm(t)}function $u(t,e){t.activeBranch=e;const{vnode:n,parentComponent:r}=t;let i=e.el;for(;!i&&e.component;)e=e.component.subTree,i=e.el;n.el=i,r&&r.subTree===n&&(r.vnode.el=i,H_(r,i))}function x3(t){const e=t.props&&t.props.suspensible;return e!=null&&e!==!1}const Pe=Symbol.for("v-fgt"),la=Symbol.for("v-txt"),hr=Symbol.for("v-cmt"),cl=Symbol.for("v-stc"),Md=[];let Jr=null;function M(t=!1){Md.push(Jr=t?null:[])}function gk(){Md.pop(),Jr=Md[Md.length-1]||null}let bl=1;function Ob(t){bl+=t,t<0&&Jr&&(Jr.hasOnce=!0)}function vk(t){return t.dynamicChildren=bl>0?Jr||Ru:null,gk(),bl>0&&Jr&&Jr.push(t),t}function W(t,e,n,r,i,o){return vk(y(t,e,n,r,i,o,!0))}function de(t,e,n,r,i){return vk(B(t,e,n,r,i,!0))}function wa(t){return t?t.__v_isVNode===!0:!1}function co(t,e){return t.type===e.type&&t.key===e.key}function D3(t){}const yk=({key:t})=>t??null,Mp=({ref:t,ref_key:e,ref_for:n})=>(typeof t=="number"&&(t=""+t),t!=null?Ln(t)||_n(t)||mt(t)?{i:mr,r:t,k:e,f:!!n}:t:null);function y(t,e=null,n=null,r=0,i=null,o=t===Pe?0:1,s=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&yk(e),ref:e&&Mp(e),scopeId:Sg,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:o,patchFlag:r,dynamicProps:i,dynamicChildren:null,appContext:null,ctx:mr};return a?(W_(l,n),o&128&&t.normalize(l)):n&&(l.shapeFlag|=Ln(n)?8:16),bl>0&&!s&&Jr&&(l.patchFlag>0||o&6)&&l.patchFlag!==32&&Jr.push(l),l}const B=N3;function N3(t,e=null,n=null,r=0,i=null,o=!1){if((!t||t===FO)&&(t=hr),wa(t)){const a=Wo(t,e,!0);return n&&W_(a,n),bl>0&&!o&&Jr&&(a.shapeFlag&6?Jr[Jr.indexOf(t)]=a:Jr.push(a)),a.patchFlag=-2,a}if(q3(t)&&(t=t.__vccOpts),e){e=lr(e);let{class:a,style:l}=e;a&&!Ln(a)&&(e.class=$e(a)),cn(l)&&(I_(l)&&!rt(l)&&(l=qn({},l)),e.style=ar(l))}const s=Ln(t)?1:Ab(t)?128:h3(t)?64:cn(t)?4:mt(t)?2:0;return y(t,e,n,r,i,s,o,!0)}function lr(t){return t?I_(t)||zO(t)?qn({},t):t:null}function Wo(t,e,n=!1,r=!1){const{props:i,ref:o,patchFlag:s,children:a,transition:l}=t,u=e?le(i||{},e):i,c={__v_isVNode:!0,__v_skip:!0,type:t.type,props:u,key:u&&yk(u),ref:e&&e.ref?n&&o?rt(o)?o.concat(Mp(e)):[o,Mp(e)]:Mp(e):o,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:a,target:t.target,targetStart:t.targetStart,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==Pe?s===-1?16:s|16:s,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:l,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&Wo(t.ssContent),ssFallback:t.ssFallback&&Wo(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce};return l&&r&&_a(c,l.clone(c)),c}function z(t=" ",e=0){return B(la,null,t,e)}function bk(t,e){const n=B(cl,null,t);return n.staticCount=e,n}function ee(t="",e=!1){return e?(M(),de(hr,null,t)):B(hr,null,t)}function _i(t){return t==null||typeof t=="boolean"?B(hr):rt(t)?B(Pe,null,t.slice()):typeof t=="object"?Ks(t):B(la,null,String(t))}function Ks(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:Wo(t)}function W_(t,e){let n=0;const{shapeFlag:r}=t;if(e==null)e=null;else if(rt(e))n=16;else if(typeof e=="object")if(r&65){const i=e.default;i&&(i._c&&(i._d=!1),W_(t,i()),i._c&&(i._d=!0));return}else{n=32;const i=e._;!i&&!zO(e)?e._ctx=mr:i===3&&mr&&(mr.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else mt(e)?(e={default:e,_ctx:mr},n=32):(e=String(e),r&64?(n=16,e=[z(e)]):n=8);t.children=e,t.shapeFlag|=n}function le(...t){const e={};for(let n=0;n<t.length;n++){const r=t[n];for(const i in r)if(i==="class")e.class!==r.class&&(e.class=$e([e.class,r.class]));else if(i==="style")e.style=ar([e.style,r.style]);else if(Zh(i)){const o=e[i],s=r[i];s&&o!==s&&!(rt(o)&&o.includes(s))&&(e[i]=o?[].concat(o,s):s)}else i!==""&&(e[i]=r[i])}return e}function yi(t,e,n,r=null){$i(t,e,7,[n,r])}const M3=BO();let L3=0;function _k(t,e,n){const r=t.type,i=(e?e.appContext:t.appContext)||M3,o={uid:L3++,vnode:t,type:r,parent:e,appContext:i,root:null,next:null,subTree:null,effect:null,update:null,scope:new __(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(i.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:GO(r,i),emitsOptions:fk(r,i),emit:null,emitted:null,propsDefaults:nn,inheritAttrs:r.inheritAttrs,ctx:nn,data:nn,props:nn,attrs:nn,slots:nn,refs:nn,setupState:nn,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return o.ctx={_:o},o.root=e?e.root:o,o.emit=w3.bind(null,o),t.ce&&t.ce(o),o}let fr=null;const eo=()=>fr||mr;let dm,kb;{const t=tO(),e=(n,r)=>{let i;return(i=t[n])||(i=t[n]=[]),i.push(r),o=>{i.length>1?i.forEach(s=>s(o)):i[0](o)}};dm=e("__VUE_INSTANCE_SETTERS__",n=>fr=n),kb=e("__VUE_SSR_SETTERS__",n=>sf=n)}const _l=t=>{const e=fr;return dm(t),t.scope.on(),()=>{t.scope.off(),dm(e)}},Rb=()=>{fr&&fr.scope.off(),dm(null)};function wk(t){return t.vnode.shapeFlag&4}let sf=!1;function Tk(t,e=!1,n=!1){e&&kb(e);const{props:r,children:i}=t.vnode,o=wk(t);s3(t,r,o,e),c3(t,i,n);const s=o?V3(t,e):void 0;return e&&kb(!1),s}function V3(t,e){const n=t.type;t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,Tb);const{setup:r}=n;if(r){const i=t.setupContext=r.length>1?Sk(t):null,o=_l(t);Pa();const s=gs(r,t,0,[t.props,i]);if(Oa(),o(),y_(s)){if(s.then(Rb,Rb),e)return s.then(a=>{xb(t,a,e)}).catch(a=>{Ul(a,t,0)});t.asyncDep=s}else xb(t,s,e)}else Ek(t,e)}function xb(t,e,n){mt(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:cn(e)&&(t.setupState=P_(e)),Ek(t,n)}let hm,Db;function $3(t){hm=t,Db=e=>{e.render._rc&&(e.withProxy=new Proxy(e.ctx,U$))}}const F3=()=>!hm;function Ek(t,e,n){const r=t.type;if(!t.render){if(!e&&hm&&!r.render){const i=r.template||F_(t).template;if(i){const{isCustomElement:o,compilerOptions:s}=t.appContext.config,{delimiters:a,compilerOptions:l}=r,u=qn(qn({isCustomElement:o,delimiters:a},s),l);r.render=hm(i,u)}}t.render=r.render||Ei,Db&&Db(t)}{const i=_l(t);Pa();try{Z$(t)}finally{Oa(),i()}}}const U3={get(t,e){return Pi(t,"get",""),t[e]}};function Sk(t){const e=n=>{t.exposed=n||{}};return{attrs:new Proxy(t.attrs,U3),slots:t.slots,emit:t.emit,expose:e}}function af(t){return t.exposed?t.exposeProxy||(t.exposeProxy=new Proxy(P_(Tg(t.exposed)),{get(e,n){if(n in e)return e[n];if(n in Dd)return Dd[n](t)},has(e,n){return n in e||n in Dd}})):t.proxy}function Nb(t,e=!0){return mt(t)?t.displayName||t.name:t.name||e&&t.__name}function q3(t){return mt(t)&&"__vccOpts"in t}const te=(t,e)=>m$(t,e,sf);function wl(t,e,n){const r=arguments.length;return r===2?cn(e)&&!rt(e)?wa(e)?B(t,null,[e]):B(t,e):B(t,null,e):(r>3?n=Array.prototype.slice.call(arguments,2):r===3&&wa(n)&&(n=[n]),B(t,e,n))}function B3(){}function j3(t,e,n,r){const i=n[r];if(i&&Ik(i,t))return i;const o=e();return o.memo=t.slice(),o.cacheIndex=r,n[r]=o}function Ik(t,e){const n=t.memo;if(n.length!=e.length)return!1;for(let r=0;r<n.length;r++)if(hi(n[r],e[r]))return!1;return bl>0&&Jr&&Jr.push(t),!0}const Ck="3.4.38",H3=Ei,W3=A$,z3=du,K3=PO,G3={createComponentInstance:_k,setupComponent:Tk,renderComponentRoot:Np,setCurrentRenderingInstance:ch,isVNode:wa,normalizeVNode:_i,getComponentPublicInstance:af,ensureValidVNode:$_},Y3=G3,X3=null,Q3=null,J3=null;/**
* @vue/runtime-dom v3.4.38
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const Z3="http://www.w3.org/2000/svg",e4="http://www.w3.org/1998/Math/MathML",os=typeof document<"u"?document:null,NE=os&&os.createElement("template"),t4={insert:(t,e,n)=>{e.insertBefore(t,n||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,n,r)=>{const i=e==="svg"?os.createElementNS(Z3,t):e==="mathml"?os.createElementNS(e4,t):n?os.createElement(t,{is:n}):os.createElement(t);return t==="select"&&r&&r.multiple!=null&&i.setAttribute("multiple",r.multiple),i},createText:t=>os.createTextNode(t),createComment:t=>os.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>os.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,n,r,i,o){const s=n?n.previousSibling:e.lastChild;if(i&&(i===o||i.nextSibling))for(;e.insertBefore(i.cloneNode(!0),n),!(i===o||!(i=i.nextSibling)););else{NE.innerHTML=r==="svg"?`<svg>${t}</svg>`:r==="mathml"?`<math>${t}</math>`:t;const a=NE.content;if(r==="svg"||r==="mathml"){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}e.insertBefore(a,n)}return[s?s.nextSibling:e.firstChild,n?n.previousSibling:e.lastChild]}},Ls="transition",Qc="animation",Ju=Symbol("_vtc"),to=(t,{slots:e})=>wl(kO,Pk(t),e);to.displayName="Transition";const Ak={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},n4=to.props=qn({},D_,Ak),Ha=(t,e=[])=>{rt(t)?t.forEach(n=>n(...e)):t&&t(...e)},ME=t=>t?rt(t)?t.some(e=>e.length>1):t.length>1:!1;function Pk(t){const e={};for(const x in t)x in Ak||(e[x]=t[x]);if(t.css===!1)return e;const{name:n="v",type:r,duration:i,enterFromClass:o=`${n}-enter-from`,enterActiveClass:s=`${n}-enter-active`,enterToClass:a=`${n}-enter-to`,appearFromClass:l=o,appearActiveClass:u=s,appearToClass:c=a,leaveFromClass:d=`${n}-leave-from`,leaveActiveClass:h=`${n}-leave-active`,leaveToClass:p=`${n}-leave-to`}=t,m=r4(i),g=m&&m[0],v=m&&m[1],{onBeforeEnter:A,onEnter:I,onEnterCancelled:S,onLeave:T,onLeaveCancelled:N,onBeforeAppear:R=A,onAppear:C=I,onAppearCancelled:E=S}=e,b=(x,O,q)=>{js(x,O?c:a),js(x,O?u:s),q&&q()},w=(x,O)=>{x._isLeaving=!1,js(x,d),js(x,p),js(x,h),O&&O()},k=x=>(O,q)=>{const V=x?C:I,F=()=>b(O,x,q);Ha(V,[O,F]),LE(()=>{js(O,x?l:o),rs(O,x?c:a),ME(V)||VE(O,r,g,F)})};return qn(e,{onBeforeEnter(x){Ha(A,[x]),rs(x,o),rs(x,s)},onBeforeAppear(x){Ha(R,[x]),rs(x,l),rs(x,u)},onEnter:k(!1),onAppear:k(!0),onLeave(x,O){x._isLeaving=!0;const q=()=>w(x,O);rs(x,d),rs(x,h),kk(),LE(()=>{x._isLeaving&&(js(x,d),rs(x,p),ME(T)||VE(x,r,v,q))}),Ha(T,[x,q])},onEnterCancelled(x){b(x,!1),Ha(S,[x])},onAppearCancelled(x){b(x,!0),Ha(E,[x])},onLeaveCancelled(x){w(x),Ha(N,[x])}})}function r4(t){if(t==null)return null;if(cn(t))return[Jv(t.enter),Jv(t.leave)];{const e=Jv(t);return[e,e]}}function Jv(t){return im(t)}function rs(t,e){e.split(/\s+/).forEach(n=>n&&t.classList.add(n)),(t[Ju]||(t[Ju]=new Set)).add(e)}function js(t,e){e.split(/\s+/).forEach(r=>r&&t.classList.remove(r));const n=t[Ju];n&&(n.delete(e),n.size||(t[Ju]=void 0))}function LE(t){requestAnimationFrame(()=>{requestAnimationFrame(t)})}let i4=0;function VE(t,e,n,r){const i=t._endId=++i4,o=()=>{i===t._endId&&r()};if(n)return setTimeout(o,n);const{type:s,timeout:a,propCount:l}=Ok(t,e);if(!s)return r();const u=s+"end";let c=0;const d=()=>{t.removeEventListener(u,h),o()},h=p=>{p.target===t&&++c>=l&&d()};setTimeout(()=>{c<l&&d()},a+1),t.addEventListener(u,h)}function Ok(t,e){const n=window.getComputedStyle(t),r=m=>(n[m]||"").split(", "),i=r(`${Ls}Delay`),o=r(`${Ls}Duration`),s=$E(i,o),a=r(`${Qc}Delay`),l=r(`${Qc}Duration`),u=$E(a,l);let c=null,d=0,h=0;e===Ls?s>0&&(c=Ls,d=s,h=o.length):e===Qc?u>0&&(c=Qc,d=u,h=l.length):(d=Math.max(s,u),c=d>0?s>u?Ls:Qc:null,h=c?c===Ls?o.length:l.length:0);const p=c===Ls&&/\b(transform|all)(,|$)/.test(r(`${Ls}Property`).toString());return{type:c,timeout:d,propCount:h,hasTransform:p}}function $E(t,e){for(;t.length<e.length;)t=t.concat(t);return Math.max(...e.map((n,r)=>FE(n)+FE(t[r])))}function FE(t){return t==="auto"?0:Number(t.slice(0,-1).replace(",","."))*1e3}function kk(){return document.body.offsetHeight}function o4(t,e,n){const r=t[Ju];r&&(e=(e?[e,...r]:[...r]).join(" ")),e==null?t.removeAttribute("class"):n?t.setAttribute("class",e):t.className=e}const fm=Symbol("_vod"),Rk=Symbol("_vsh"),Lo={beforeMount(t,{value:e},{transition:n}){t[fm]=t.style.display==="none"?"":t.style.display,n&&e?n.beforeEnter(t):Jc(t,e)},mounted(t,{value:e},{transition:n}){n&&e&&n.enter(t)},updated(t,{value:e,oldValue:n},{transition:r}){!e!=!n&&(r?e?(r.beforeEnter(t),Jc(t,!0),r.enter(t)):r.leave(t,()=>{Jc(t,!1)}):Jc(t,e))},beforeUnmount(t,{value:e}){Jc(t,e)}};function Jc(t,e){t.style.display=e?t[fm]:"none",t[Rk]=!e}function s4(){Lo.getSSRProps=({value:t})=>{if(!t)return{style:{display:"none"}}}}const xk=Symbol("");function a4(t){const e=eo();if(!e)return;const n=e.ut=(i=t(e.proxy))=>{Array.from(document.querySelectorAll(`[data-v-owner="${e.uid}"]`)).forEach(o=>Lb(o,i))},r=()=>{const i=t(e.proxy);Mb(e.subTree,i),n(i)};N_(()=>{uk(r)}),Vt(()=>{const i=new MutationObserver(r);i.observe(e.subTree.el.parentNode,{childList:!0}),Go(()=>i.disconnect())})}function Mb(t,e){if(t.shapeFlag&128){const n=t.suspense;t=n.activeBranch,n.pendingBranch&&!n.isHydrating&&n.effects.push(()=>{Mb(n.activeBranch,e)})}for(;t.component;)t=t.component.subTree;if(t.shapeFlag&1&&t.el)Lb(t.el,e);else if(t.type===Pe)t.children.forEach(n=>Mb(n,e));else if(t.type===cl){let{el:n,anchor:r}=t;for(;n&&(Lb(n,e),n!==r);)n=n.nextSibling}}function Lb(t,e){if(t.nodeType===1){const n=t.style;let r="";for(const i in e)n.setProperty(`--${i}`,e[i]),r+=`--${i}: ${e[i]};`;n[xk]=r}}const l4=/(^|;)\s*display\s*:/;function u4(t,e,n){const r=t.style,i=Ln(n);let o=!1;if(n&&!i){if(e)if(Ln(e))for(const s of e.split(";")){const a=s.slice(0,s.indexOf(":")).trim();n[a]==null&&Lp(r,a,"")}else for(const s in e)n[s]==null&&Lp(r,s,"");for(const s in n)s==="display"&&(o=!0),Lp(r,s,n[s])}else if(i){if(e!==n){const s=r[xk];s&&(n+=";"+s),r.cssText=n,o=l4.test(n)}}else e&&t.removeAttribute("style");fm in t&&(t[fm]=o?r.display:"",t[Rk]&&(r.display="none"))}const UE=/\s*!important$/;function Lp(t,e,n){if(rt(n))n.forEach(r=>Lp(t,e,r));else if(n==null&&(n=""),e.startsWith("--"))t.setProperty(e,n);else{const r=c4(t,e);UE.test(n)?t.setProperty(wi(r),n.replace(UE,""),"important"):t[r]=n}}const qE=["Webkit","Moz","ms"],Zv={};function c4(t,e){const n=Zv[e];if(n)return n;let r=ni(e);if(r!=="filter"&&r in t)return Zv[e]=r;r=ef(r);for(let i=0;i<qE.length;i++){const o=qE[i]+r;if(o in t)return Zv[e]=o}return e}const BE="http://www.w3.org/1999/xlink";function jE(t,e,n,r,i,o=HV(e)){r&&e.startsWith("xlink:")?n==null?t.removeAttributeNS(BE,e.slice(6,e.length)):t.setAttributeNS(BE,e,n):n==null||o&&!nO(n)?t.removeAttribute(e):t.setAttribute(e,o?"":Ho(n)?String(n):n)}function d4(t,e,n,r){if(e==="innerHTML"||e==="textContent"){if(n==null)return;t[e]=n;return}const i=t.tagName;if(e==="value"&&i!=="PROGRESS"&&!i.includes("-")){const s=i==="OPTION"?t.getAttribute("value")||"":t.value,a=n==null?"":String(n);(s!==a||!("_value"in t))&&(t.value=a),n==null&&t.removeAttribute(e),t._value=n;return}let o=!1;if(n===""||n==null){const s=typeof t[e];s==="boolean"?n=nO(n):n==null&&s==="string"?(n="",o=!0):s==="number"&&(n=0,o=!0)}try{t[e]=n}catch{}o&&t.removeAttribute(e)}function ls(t,e,n,r){t.addEventListener(e,n,r)}function h4(t,e,n,r){t.removeEventListener(e,n,r)}const HE=Symbol("_vei");function f4(t,e,n,r,i=null){const o=t[HE]||(t[HE]={}),s=o[e];if(r&&s)s.value=r;else{const[a,l]=p4(e);if(r){const u=o[e]=v4(r,i);ls(t,a,u,l)}else s&&(h4(t,a,s,l),o[e]=void 0)}}const WE=/(?:Once|Passive|Capture)$/;function p4(t){let e;if(WE.test(t)){e={};let r;for(;r=t.match(WE);)t=t.slice(0,t.length-r[0].length),e[r[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):wi(t.slice(2)),e]}let ey=0;const m4=Promise.resolve(),g4=()=>ey||(m4.then(()=>ey=0),ey=Date.now());function v4(t,e){const n=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=n.attached)return;$i(y4(r,n.value),e,5,[r])};return n.value=t,n.attached=g4(),n}function y4(t,e){if(rt(e)){const n=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{n.call(t),t._stopped=!0},e.map(r=>i=>!i._stopped&&r&&r(i))}else return e}const zE=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,b4=(t,e,n,r,i,o)=>{const s=i==="svg";e==="class"?o4(t,r,s):e==="style"?u4(t,n,r):Zh(e)?g_(e)||f4(t,e,n,r,o):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):_4(t,e,r,s))?(d4(t,e,r),!t.tagName.includes("-")&&(e==="value"||e==="checked"||e==="selected")&&jE(t,e,r,s,o,e!=="value")):(e==="true-value"?t._trueValue=r:e==="false-value"&&(t._falseValue=r),jE(t,e,r,s))};function _4(t,e,n,r){if(r)return!!(e==="innerHTML"||e==="textContent"||e in t&&zE(e)&&mt(n));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const i=t.tagName;if(i==="IMG"||i==="VIDEO"||i==="CANVAS"||i==="SOURCE")return!1}return zE(e)&&Ln(n)?!1:e in t}/*! #__NO_SIDE_EFFECTS__ */function Dk(t,e,n){const r=Me(t,e);class i extends kg{constructor(s){super(r,s,n)}}return i.def=r,i}/*! #__NO_SIDE_EFFECTS__ */const w4=(t,e)=>Dk(t,e,Wk),T4=typeof HTMLElement<"u"?HTMLElement:class{};class kg extends T4{constructor(e,n={},r){super(),this._def=e,this._props=n,this._instance=null,this._connected=!1,this._resolved=!1,this._numberProps=null,this._ob=null,this.shadowRoot&&r?r(this._createVNode(),this.shadowRoot):(this.attachShadow({mode:"open"}),this._def.__asyncLoader||this._resolveProps(this._def))}connectedCallback(){this._connected=!0,this._instance||(this._resolved?this._update():this._resolveDef())}disconnectedCallback(){this._connected=!1,tr(()=>{this._connected||(this._ob&&(this._ob.disconnect(),this._ob=null),Tl(null,this.shadowRoot),this._instance=null)})}_resolveDef(){this._resolved=!0;for(let r=0;r<this.attributes.length;r++)this._setAttr(this.attributes[r].name);this._ob=new MutationObserver(r=>{for(const i of r)this._setAttr(i.attributeName)}),this._ob.observe(this,{attributes:!0});const e=(r,i=!1)=>{const{props:o,styles:s}=r;let a;if(o&&!rt(o))for(const l in o){const u=o[l];(u===Number||u&&u.type===Number)&&(l in this._props&&(this._props[l]=im(this._props[l])),(a||(a=Object.create(null)))[ni(l)]=!0)}this._numberProps=a,i&&this._resolveProps(r),this._applyStyles(s),this._update()},n=this._def.__asyncLoader;n?n().then(r=>e(r,!0)):e(this._def)}_resolveProps(e){const{props:n}=e,r=rt(n)?n:Object.keys(n||{});for(const i of Object.keys(this))i[0]!=="_"&&r.includes(i)&&this._setProp(i,this[i],!0,!1);for(const i of r.map(ni))Object.defineProperty(this,i,{get(){return this._getProp(i)},set(o){this._setProp(i,o)}})}_setAttr(e){let n=this.hasAttribute(e)?this.getAttribute(e):void 0;const r=ni(e);this._numberProps&&this._numberProps[r]&&(n=im(n)),this._setProp(r,n,!1)}_getProp(e){return this._props[e]}_setProp(e,n,r=!0,i=!0){n!==this._props[e]&&(this._props[e]=n,i&&this._instance&&this._update(),r&&(n===!0?this.setAttribute(wi(e),""):typeof n=="string"||typeof n=="number"?this.setAttribute(wi(e),n+""):n||this.removeAttribute(wi(e))))}_update(){Tl(this._createVNode(),this.shadowRoot)}_createVNode(){const e=B(this._def,qn({},this._props));return this._instance||(e.ce=n=>{this._instance=n,n.isCE=!0;const r=(o,s)=>{this.dispatchEvent(new CustomEvent(o,{detail:s}))};n.emit=(o,...s)=>{r(o,s),wi(o)!==o&&r(wi(o),s)};let i=this;for(;i=i&&(i.parentNode||i.host);)if(i instanceof kg){n.parent=i._instance,n.provides=i._instance.provides;break}}),e}_applyStyles(e){e&&e.forEach(n=>{const r=document.createElement("style");r.textContent=n,this.shadowRoot.appendChild(r)})}}function E4(t="$style"){{const e=eo();if(!e)return nn;const n=e.type.__cssModules;if(!n)return nn;const r=n[t];return r||nn}}const Nk=new WeakMap,Mk=new WeakMap,pm=Symbol("_moveCb"),KE=Symbol("_enterCb"),Lk={name:"TransitionGroup",props:qn({},n4,{tag:String,moveClass:String}),setup(t,{slots:e}){const n=eo(),r=x_();let i,o;return Ag(()=>{if(!i.length)return;const s=t.moveClass||`${t.name||"v"}-move`;if(!P4(i[0].el,n.vnode.el,s))return;i.forEach(I4),i.forEach(C4);const a=i.filter(A4);kk(),a.forEach(l=>{const u=l.el,c=u.style;rs(u,s),c.transform=c.webkitTransform=c.transitionDuration="";const d=u[pm]=h=>{h&&h.target!==u||(!h||/transform$/.test(h.propertyName))&&(u.removeEventListener("transitionend",d),u[pm]=null,js(u,s))};u.addEventListener("transitionend",d)})}),()=>{const s=Mt(t),a=Pk(s);let l=s.tag||Pe;if(i=[],o)for(let u=0;u<o.length;u++){const c=o[u];c.el&&c.el instanceof Element&&(i.push(c),_a(c,Qu(c,a,r,n)),Nk.set(c,c.el.getBoundingClientRect()))}o=e.default?Ig(e.default()):[];for(let u=0;u<o.length;u++){const c=o[u];c.key!=null&&_a(c,Qu(c,a,r,n))}return B(l,null,o)}}},S4=t=>delete t.mode;Lk.props;const Vk=Lk;function I4(t){const e=t.el;e[pm]&&e[pm](),e[KE]&&e[KE]()}function C4(t){Mk.set(t,t.el.getBoundingClientRect())}function A4(t){const e=Nk.get(t),n=Mk.get(t),r=e.left-n.left,i=e.top-n.top;if(r||i){const o=t.el.style;return o.transform=o.webkitTransform=`translate(${r}px,${i}px)`,o.transitionDuration="0s",t}}function P4(t,e,n){const r=t.cloneNode(),i=t[Ju];i&&i.forEach(a=>{a.split(/\s+/).forEach(l=>l&&r.classList.remove(l))}),n.split(/\s+/).forEach(a=>a&&r.classList.add(a)),r.style.display="none";const o=e.nodeType===1?e:e.parentNode;o.appendChild(r);const{hasTransform:s}=Ok(r);return o.removeChild(r),s}const Ta=t=>{const e=t.props["onUpdate:modelValue"]||!1;return rt(e)?n=>Nu(e,n):e};function O4(t){t.target.composing=!0}function GE(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const Yi=Symbol("_assign"),mm={created(t,{modifiers:{lazy:e,trim:n,number:r}},i){t[Yi]=Ta(i);const o=r||i.props&&i.props.type==="number";ls(t,e?"change":"input",s=>{if(s.target.composing)return;let a=t.value;n&&(a=a.trim()),o&&(a=rm(a)),t[Yi](a)}),n&&ls(t,"change",()=>{t.value=t.value.trim()}),e||(ls(t,"compositionstart",O4),ls(t,"compositionend",GE),ls(t,"change",GE))},mounted(t,{value:e}){t.value=e??""},beforeUpdate(t,{value:e,oldValue:n,modifiers:{lazy:r,trim:i,number:o}},s){if(t[Yi]=Ta(s),t.composing)return;const a=(o||t.type==="number")&&!/^0\d/.test(t.value)?rm(t.value):t.value,l=e??"";a!==l&&(document.activeElement===t&&t.type!=="range"&&(r&&e===n||i&&t.value.trim()===l)||(t.value=l))}},z_={deep:!0,created(t,e,n){t[Yi]=Ta(n),ls(t,"change",()=>{const r=t._modelValue,i=Zu(t),o=t.checked,s=t[Yi];if(rt(r)){const a=mg(r,i),l=a!==-1;if(o&&!l)s(r.concat(i));else if(!o&&l){const u=[...r];u.splice(a,1),s(u)}}else if(Fl(r)){const a=new Set(r);o?a.add(i):a.delete(i),s(a)}else s(Fk(t,o))})},mounted:YE,beforeUpdate(t,e,n){t[Yi]=Ta(n),YE(t,e,n)}};function YE(t,{value:e,oldValue:n},r){t._modelValue=e,rt(e)?t.checked=mg(e,r.props.value)>-1:Fl(e)?t.checked=e.has(r.props.value):e!==n&&(t.checked=ya(e,Fk(t,!0)))}const K_={created(t,{value:e},n){t.checked=ya(e,n.props.value),t[Yi]=Ta(n),ls(t,"change",()=>{t[Yi](Zu(t))})},beforeUpdate(t,{value:e,oldValue:n},r){t[Yi]=Ta(r),e!==n&&(t.checked=ya(e,r.props.value))}},$k={deep:!0,created(t,{value:e,modifiers:{number:n}},r){const i=Fl(e);ls(t,"change",()=>{const o=Array.prototype.filter.call(t.options,s=>s.selected).map(s=>n?rm(Zu(s)):Zu(s));t[Yi](t.multiple?i?new Set(o):o:o[0]),t._assigning=!0,tr(()=>{t._assigning=!1})}),t[Yi]=Ta(r)},mounted(t,{value:e,modifiers:{number:n}}){XE(t,e)},beforeUpdate(t,e,n){t[Yi]=Ta(n)},updated(t,{value:e,modifiers:{number:n}}){t._assigning||XE(t,e)}};function XE(t,e,n){const r=t.multiple,i=rt(e);if(!(r&&!i&&!Fl(e))){for(let o=0,s=t.options.length;o<s;o++){const a=t.options[o],l=Zu(a);if(r)if(i){const u=typeof l;u==="string"||u==="number"?a.selected=e.some(c=>String(c)===String(l)):a.selected=mg(e,l)>-1}else a.selected=e.has(l);else if(ya(Zu(a),e)){t.selectedIndex!==o&&(t.selectedIndex=o);return}}!r&&t.selectedIndex!==-1&&(t.selectedIndex=-1)}}function Zu(t){return"_value"in t?t._value:t.value}function Fk(t,e){const n=e?"_trueValue":"_falseValue";return n in t?t[n]:e}const Uk={created(t,e,n){op(t,e,n,null,"created")},mounted(t,e,n){op(t,e,n,null,"mounted")},beforeUpdate(t,e,n,r){op(t,e,n,r,"beforeUpdate")},updated(t,e,n,r){op(t,e,n,r,"updated")}};function qk(t,e){switch(t){case"SELECT":return $k;case"TEXTAREA":return mm;default:switch(e){case"checkbox":return z_;case"radio":return K_;default:return mm}}}function op(t,e,n,r,i){const s=qk(t.tagName,n.props&&n.props.type)[i];s&&s(t,e,n,r)}function k4(){mm.getSSRProps=({value:t})=>({value:t}),K_.getSSRProps=({value:t},e)=>{if(e.props&&ya(e.props.value,t))return{checked:!0}},z_.getSSRProps=({value:t},e)=>{if(rt(t)){if(e.props&&mg(t,e.props.value)>-1)return{checked:!0}}else if(Fl(t)){if(e.props&&t.has(e.props.value))return{checked:!0}}else if(t)return{checked:!0}},Uk.getSSRProps=(t,e)=>{if(typeof e.type!="string")return;const n=qk(e.type.toUpperCase(),e.props&&e.props.type);if(n.getSSRProps)return n.getSSRProps(t,e)}}const R4=["ctrl","shift","alt","meta"],x4={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,e)=>R4.some(n=>t[`${n}Key`]&&!e.includes(n))},kt=(t,e)=>{const n=t._withMods||(t._withMods={}),r=e.join(".");return n[r]||(n[r]=(i,...o)=>{for(let s=0;s<e.length;s++){const a=x4[e[s]];if(a&&a(i,e))return}return t(i,...o)})},D4={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},bt=(t,e)=>{const n=t._withKeys||(t._withKeys={}),r=e.join(".");return n[r]||(n[r]=i=>{if(!("key"in i))return;const o=wi(i.key);if(e.some(s=>s===o||D4[s]===o))return t(i)})},Bk=qn({patchProp:b4},t4);let Ld,QE=!1;function jk(){return Ld||(Ld=nk(Bk))}function Hk(){return Ld=QE?Ld:rk(Bk),QE=!0,Ld}const Tl=(...t)=>{jk().render(...t)},Wk=(...t)=>{Hk().hydrate(...t)},zk=(...t)=>{const e=jk().createApp(...t),{mount:n}=e;return e.mount=r=>{const i=Gk(r);if(!i)return;const o=e._component;!mt(o)&&!o.render&&!o.template&&(o.template=i.innerHTML),i.innerHTML="";const s=n(i,!1,Kk(i));return i instanceof Element&&(i.removeAttribute("v-cloak"),i.setAttribute("data-v-app","")),s},e},N4=(...t)=>{const e=Hk().createApp(...t),{mount:n}=e;return e.mount=r=>{const i=Gk(r);if(i)return n(i,!0,Kk(i))},e};function Kk(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function Gk(t){return Ln(t)?document.querySelector(t):t}let JE=!1;const M4=()=>{JE||(JE=!0,k4(),s4())};/**
* vue v3.4.38
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const L4=()=>{},V4=Object.freeze(Object.defineProperty({__proto__:null,BaseTransition:kO,BaseTransitionPropsValidators:D_,Comment:hr,DeprecationTypes:J3,EffectScope:__,ErrorCodes:C$,ErrorTypeStrings:W3,Fragment:Pe,KeepAlive:L$,ReactiveEffect:Yu,Static:cl,Suspense:A3,Teleport:q_,Text:la,TrackOpTypes:E$,Transition:to,TransitionGroup:Vk,TriggerOpTypes:S$,VueElement:kg,assertNumber:I$,callWithAsyncErrorHandling:$i,callWithErrorHandling:gs,camelize:ni,capitalize:ef,cloneVNode:Wo,compatUtils:Q3,compile:L4,computed:te,createApp:zk,createBlock:de,createCommentVNode:ee,createElementBlock:W,createElementVNode:y,createHydrationRenderer:rk,createPropsRestProxy:Q$,createRenderer:nk,createSSRApp:N4,createSlots:ur,createStaticVNode:bk,createTextVNode:z,createVNode:B,customRef:TO,defineAsyncComponent:N$,defineComponent:Me,defineCustomElement:Dk,defineEmits:B$,defineExpose:j$,defineModel:z$,defineOptions:H$,defineProps:q$,defineSSRCustomElement:w4,defineSlots:W$,devtools:z3,effect:KV,effectScope:gg,getCurrentInstance:eo,getCurrentScope:tf,getTransitionRawChildren:Ig,guardReactiveProps:lr,h:wl,handleError:Ul,hasInjectionContext:jO,hydrate:Wk,initCustomFormatter:B3,initDirectivesForSSR:M4,inject:pi,isMemoSame:Ik,isProxy:I_,isReactive:Mo,isReadonly:ba,isRef:_n,isRuntimeOnly:F3,isShallow:yl,isVNode:wa,markRaw:Tg,mergeDefaults:Y$,mergeModels:X$,mergeProps:le,nextTick:tr,normalizeClass:$e,normalizeProps:Mn,normalizeStyle:ar,onActivated:xO,onBeforeMount:N_,onBeforeUnmount:rf,onBeforeUpdate:M_,onDeactivated:DO,onErrorCaptured:$O,onMounted:Vt,onRenderTracked:VO,onRenderTriggered:LO,onScopeDispose:vg,onServerPrefetch:MO,onUnmounted:Go,onUpdated:Ag,openBlock:M,popScopeId:R_,provide:Vu,proxyRefs:P_,pushScopeId:k_,queuePostFlushCb:sm,reactive:Pr,readonly:_g,ref:ie,registerRuntimeCompiler:$3,render:Tl,renderList:ht,renderSlot:Te,resolveComponent:Dn,resolveDirective:Pg,resolveDynamicComponent:xn,resolveFilter:X3,resolveTransitionHooks:Qu,setBlockTracking:Ob,setDevtoolsHook:K3,setTransitionHooks:_a,shallowReactive:S_,shallowReadonly:p$,shallowRef:_O,ssrContextKey:ak,ssrUtils:Y3,stop:GV,toDisplayString:ze,toHandlerKey:xd,toHandlers:F$,toRaw:Mt,toRef:Xu,toRefs:EO,toValue:y$,transformVNodeArgs:D3,triggerRef:v$,unref:P,useAttrs:G$,useCssModule:E4,useCssVars:a4,useModel:_3,useSSRContext:lk,useSlots:ka,useTransitionState:x_,vModelCheckbox:z_,vModelDynamic:Uk,vModelRadio:K_,vModelSelect:$k,vModelText:mm,vShow:Lo,version:Ck,warn:H3,watch:pn,watchEffect:j_,watchPostEffect:uk,watchSyncEffect:ck,withAsyncContext:J$,withCtx:J,withDefaults:K$,withDirectives:Fi,withKeys:bt,withMemo:j3,withModifiers:kt,withScopeId:x$},Symbol.toStringTag,{value:"Module"}));function $4(t){return{all:t=t||new Map,on:function(e,n){var r=t.get(e);r?r.push(n):t.set(e,[n])},off:function(e,n){var r=t.get(e);r&&(n?r.splice(r.indexOf(n)>>>0,1):t.set(e,[]))},emit:function(e,n){var r=t.get(e);r&&r.slice().map(function(i){i(n)}),(r=t.get("*"))&&r.slice().map(function(i){i(e,n)})}}}const gm=$4();let ZE=0;const F4=()=>{const t=ZE;return ZE+=1,t},Yk=()=>(t,e)=>{const n={...t,id:F4(),group:t.group||""};return gm.emit("notify",{notification:n,timeout:e}),()=>gm.emit("close",n.id)},Xk="context",Vb=Me({__name:"Notification",props:{maxNotifications:{default:10},enter:{default:""},enterFrom:{default:""},enterTo:{default:""},leave:{default:""},leaveFrom:{default:""},leaveTo:{default:""},move:{default:""},moveDelay:{default:""}},emits:["close"],setup(t,{emit:e}){const n=t,r=pi(Xk),i=Pr({notifications:[],timeouts:{}}),o=te(()=>i.notifications.filter(h=>h.group===r.group)),s=te(()=>r.position==="bottom"?[...o.value]:[...o.value].reverse()),a=(h,p)=>{i.timeouts[h]=window.setTimeout(()=>{p!==-1&&l(h)},Math.max(p||3e3,0))},l=h=>{i.notifications.splice(i.notifications.findIndex(p=>p.id===h),1),clearTimeout(i.timeouts[h])},u=({notification:h,timeout:p})=>{i.notifications.length!==n.maxNotifications&&(i.notifications.push(h),a(h.id,p))},c=h=>{e("close"),l(h)},d=(h,p,m)=>{p?clearTimeout(i.timeouts[h]):a(h,m)};return Vt(()=>{gm.on("notify",u),gm.on("close",l)}),(h,p)=>(M(),de(Vk,{"enter-active-class":P(o).length>1?[n.enter,n.moveDelay].join(" "):n.enter,"enter-from-class":n.enterFrom,"enter-to-class":n.enterTo,"leave-active-class":n.leave,"leave-from-class":n.leaveFrom,"leave-to-class":n.leaveTo,"move-class":n.move},{default:J(()=>[Te(h.$slots,"default",{notifications:P(s),close:c,hovering:d})]),_:3},8,["enter-active-class","enter-from-class","enter-to-class","leave-active-class","leave-from-class","leave-to-class","move-class"]))}}),eS=Me({__name:"NotificationGroup",props:{group:{default:""},position:{default:"top"}},setup(t){const e=t;return Vu(Xk,{group:e.group,position:e.position}),(n,r)=>Te(n.$slots,"default",{group:t.group})}});function U4(t){t.config.globalProperties.$notify=Yk(),t.component("Notification",Vb),t.component("NotificationGroup",eS),t.component("notification",Vb),t.component("notificationGroup",eS)}const q4={install:U4},B4=Yk(),j4={class:"px-4 py-2 -mx-3"},H4={class:"mx-3"},W4={class:"font-semibold text-white"},z4={class:"text-sm text-gray-100"},ty=Me({__name:"Notification",props:{type:{},color:{}},setup(t){return(e,n)=>(M(),de(P(Vb),{enter:"transform ease-out duration-300 transition","enter-from":"translate-y-2 opacity-0 sm:translate-y-0 sm:translate-x-4","enter-to":"translate-y-0 opacity-100 sm:translate-x-0",leave:"transition ease-in duration-500","leave-from":"opacity-100","leave-to":"opacity-0",move:"transition duration-500","move-delay":"delay-300"},{default:J(({notifications:r})=>[(M(!0),W(Pe,null,ht(r,i=>(M(),W("div",{key:i.id},[i.type===e.type?(M(),W("div",{key:0,class:$e("flex w-full max-w-sm mx-auto mt-4 overflow-hidden bg-opacity-75 rounded-primary shadow-md "+e.color)},[y("div",j4,[y("div",H4,[y("span",W4,ze(i.title),1),y("p",z4,ze(i.text),1)])])],2)):ee("",!0)]))),128))]),_:1}))}}),K4={class:"fixed inset-0 flex items-end justify-center p-6 px-4 py-6 pointer-events-none"},G4={class:"w-full max-w-sm"},Y4=Me({__name:"NotificationGroup",setup(t){return(e,n)=>{const r=Dn("NotificationGroup",!0);return M(),de(r,null,{default:J(()=>[y("div",K4,[y("div",G4,[B(ty,{type:"error",color:"bg-red-800"}),B(ty,{type:"warning",color:"bg-yellow-800"}),B(ty,{type:"success",color:"bg-green-800"})])])]),_:1})}}});/*!
  * vue-router v4.4.3
  * (c) 2024 Eduardo San Martin Morote
  * @license MIT
  */const hu=typeof document<"u";function X4(t){return t.__esModule||t[Symbol.toStringTag]==="Module"}const ln=Object.assign;function ny(t,e){const n={};for(const r in e){const i=e[r];n[r]=To(i)?i.map(t):t(i)}return n}const Vd=()=>{},To=Array.isArray,Qk=/#/g,Q4=/&/g,J4=/\//g,Z4=/=/g,eF=/\?/g,Jk=/\+/g,tF=/%5B/g,nF=/%5D/g,Zk=/%5E/g,rF=/%60/g,eR=/%7B/g,iF=/%7C/g,tR=/%7D/g,oF=/%20/g;function G_(t){return encodeURI(""+t).replace(iF,"|").replace(tF,"[").replace(nF,"]")}function sF(t){return G_(t).replace(eR,"{").replace(tR,"}").replace(Zk,"^")}function $b(t){return G_(t).replace(Jk,"%2B").replace(oF,"+").replace(Qk,"%23").replace(Q4,"%26").replace(rF,"`").replace(eR,"{").replace(tR,"}").replace(Zk,"^")}function aF(t){return $b(t).replace(Z4,"%3D")}function lF(t){return G_(t).replace(Qk,"%23").replace(eF,"%3F")}function uF(t){return t==null?"":lF(t).replace(J4,"%2F")}function fh(t){try{return decodeURIComponent(""+t)}catch{}return""+t}const cF=/\/$/,dF=t=>t.replace(cF,"");function ry(t,e,n="/"){let r,i={},o="",s="";const a=e.indexOf("#");let l=e.indexOf("?");return a<l&&a>=0&&(l=-1),l>-1&&(r=e.slice(0,l),o=e.slice(l+1,a>-1?a:e.length),i=t(o)),a>-1&&(r=r||e.slice(0,a),s=e.slice(a,e.length)),r=mF(r??e,n),{fullPath:r+(o&&"?")+o+s,path:r,query:i,hash:fh(s)}}function hF(t,e){const n=e.query?t(e.query):"";return e.path+(n&&"?")+n+(e.hash||"")}function tS(t,e){return!e||!t.toLowerCase().startsWith(e.toLowerCase())?t:t.slice(e.length)||"/"}function fF(t,e,n){const r=e.matched.length-1,i=n.matched.length-1;return r>-1&&r===i&&ec(e.matched[r],n.matched[i])&&nR(e.params,n.params)&&t(e.query)===t(n.query)&&e.hash===n.hash}function ec(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function nR(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(!pF(t[n],e[n]))return!1;return!0}function pF(t,e){return To(t)?nS(t,e):To(e)?nS(e,t):t===e}function nS(t,e){return To(e)?t.length===e.length&&t.every((n,r)=>n===e[r]):t.length===1&&t[0]===e}function mF(t,e){if(t.startsWith("/"))return t;if(!t)return e;const n=e.split("/"),r=t.split("/"),i=r[r.length-1];(i===".."||i===".")&&r.push("");let o=n.length-1,s,a;for(s=0;s<r.length;s++)if(a=r[s],a!==".")if(a==="..")o>1&&o--;else break;return n.slice(0,o).join("/")+"/"+r.slice(s).join("/")}const Vs={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};var ph;(function(t){t.pop="pop",t.push="push"})(ph||(ph={}));var $d;(function(t){t.back="back",t.forward="forward",t.unknown=""})($d||($d={}));function gF(t){if(!t)if(hu){const e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),dF(t)}const vF=/^[^#]+#/;function yF(t,e){return t.replace(vF,"#")+e}function bF(t,e){const n=document.documentElement.getBoundingClientRect(),r=t.getBoundingClientRect();return{behavior:e.behavior,left:r.left-n.left-(e.left||0),top:r.top-n.top-(e.top||0)}}const Rg=()=>({left:window.scrollX,top:window.scrollY});function _F(t){let e;if("el"in t){const n=t.el,r=typeof n=="string"&&n.startsWith("#"),i=typeof n=="string"?r?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!i)return;e=bF(i,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.scrollX,e.top!=null?e.top:window.scrollY)}function rS(t,e){return(history.state?history.state.position-e:-1)+t}const Fb=new Map;function wF(t,e){Fb.set(t,e)}function TF(t){const e=Fb.get(t);return Fb.delete(t),e}let EF=()=>location.protocol+"//"+location.host;function rR(t,e){const{pathname:n,search:r,hash:i}=e,o=t.indexOf("#");if(o>-1){let a=i.includes(t.slice(o))?t.slice(o).length:1,l=i.slice(a);return l[0]!=="/"&&(l="/"+l),tS(l,"")}return tS(n,t)+r+i}function SF(t,e,n,r){let i=[],o=[],s=null;const a=({state:h})=>{const p=rR(t,location),m=n.value,g=e.value;let v=0;if(h){if(n.value=p,e.value=h,s&&s===m){s=null;return}v=g?h.position-g.position:0}else r(p);i.forEach(A=>{A(n.value,m,{delta:v,type:ph.pop,direction:v?v>0?$d.forward:$d.back:$d.unknown})})};function l(){s=n.value}function u(h){i.push(h);const p=()=>{const m=i.indexOf(h);m>-1&&i.splice(m,1)};return o.push(p),p}function c(){const{history:h}=window;h.state&&h.replaceState(ln({},h.state,{scroll:Rg()}),"")}function d(){for(const h of o)h();o=[],window.removeEventListener("popstate",a),window.removeEventListener("beforeunload",c)}return window.addEventListener("popstate",a),window.addEventListener("beforeunload",c,{passive:!0}),{pauseListeners:l,listen:u,destroy:d}}function iS(t,e,n,r=!1,i=!1){return{back:t,current:e,forward:n,replaced:r,position:window.history.length,scroll:i?Rg():null}}function IF(t){const{history:e,location:n}=window,r={value:rR(t,n)},i={value:e.state};i.value||o(r.value,{back:null,current:r.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function o(l,u,c){const d=t.indexOf("#"),h=d>-1?(n.host&&document.querySelector("base")?t:t.slice(d))+l:EF()+t+l;try{e[c?"replaceState":"pushState"](u,"",h),i.value=u}catch(p){console.error(p),n[c?"replace":"assign"](h)}}function s(l,u){const c=ln({},e.state,iS(i.value.back,l,i.value.forward,!0),u,{position:i.value.position});o(l,c,!0),r.value=l}function a(l,u){const c=ln({},i.value,e.state,{forward:l,scroll:Rg()});o(c.current,c,!0);const d=ln({},iS(r.value,l,null),{position:c.position+1},u);o(l,d,!1),r.value=l}return{location:r,state:i,push:a,replace:s}}function CF(t){t=gF(t);const e=IF(t),n=SF(t,e.state,e.location,e.replace);function r(o,s=!0){s||n.pauseListeners(),history.go(o)}const i=ln({location:"",base:t,go:r,createHref:yF.bind(null,t)},e,n);return Object.defineProperty(i,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(i,"state",{enumerable:!0,get:()=>e.state.value}),i}function AF(t){return t=location.host?t||location.pathname+location.search:"",t.includes("#")||(t+="#"),CF(t)}function PF(t){return typeof t=="string"||t&&typeof t=="object"}function iR(t){return typeof t=="string"||typeof t=="symbol"}const oR=Symbol("");var oS;(function(t){t[t.aborted=4]="aborted",t[t.cancelled=8]="cancelled",t[t.duplicated=16]="duplicated"})(oS||(oS={}));function tc(t,e){return ln(new Error,{type:t,[oR]:!0},e)}function ns(t,e){return t instanceof Error&&oR in t&&(e==null||!!(t.type&e))}const sS="[^/]+?",OF={sensitive:!1,strict:!1,start:!0,end:!0},kF=/[.+*?^${}()[\]/\\]/g;function RF(t,e){const n=ln({},OF,e),r=[];let i=n.start?"^":"";const o=[];for(const u of t){const c=u.length?[]:[90];n.strict&&!u.length&&(i+="/");for(let d=0;d<u.length;d++){const h=u[d];let p=40+(n.sensitive?.25:0);if(h.type===0)d||(i+="/"),i+=h.value.replace(kF,"\\$&"),p+=40;else if(h.type===1){const{value:m,repeatable:g,optional:v,regexp:A}=h;o.push({name:m,repeatable:g,optional:v});const I=A||sS;if(I!==sS){p+=10;try{new RegExp(`(${I})`)}catch(T){throw new Error(`Invalid custom RegExp for param "${m}" (${I}): `+T.message)}}let S=g?`((?:${I})(?:/(?:${I}))*)`:`(${I})`;d||(S=v&&u.length<2?`(?:/${S})`:"/"+S),v&&(S+="?"),i+=S,p+=20,v&&(p+=-8),g&&(p+=-20),I===".*"&&(p+=-50)}c.push(p)}r.push(c)}if(n.strict&&n.end){const u=r.length-1;r[u][r[u].length-1]+=.7000000000000001}n.strict||(i+="/?"),n.end?i+="$":n.strict&&(i+="(?:/|$)");const s=new RegExp(i,n.sensitive?"":"i");function a(u){const c=u.match(s),d={};if(!c)return null;for(let h=1;h<c.length;h++){const p=c[h]||"",m=o[h-1];d[m.name]=p&&m.repeatable?p.split("/"):p}return d}function l(u){let c="",d=!1;for(const h of t){(!d||!c.endsWith("/"))&&(c+="/"),d=!1;for(const p of h)if(p.type===0)c+=p.value;else if(p.type===1){const{value:m,repeatable:g,optional:v}=p,A=m in u?u[m]:"";if(To(A)&&!g)throw new Error(`Provided param "${m}" is an array but it is not repeatable (* or + modifiers)`);const I=To(A)?A.join("/"):A;if(!I)if(v)h.length<2&&(c.endsWith("/")?c=c.slice(0,-1):d=!0);else throw new Error(`Missing required param "${m}"`);c+=I}}return c||"/"}return{re:s,score:r,keys:o,parse:a,stringify:l}}function xF(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=e[n]-t[n];if(r)return r;n++}return t.length<e.length?t.length===1&&t[0]===80?-1:1:t.length>e.length?e.length===1&&e[0]===80?1:-1:0}function sR(t,e){let n=0;const r=t.score,i=e.score;for(;n<r.length&&n<i.length;){const o=xF(r[n],i[n]);if(o)return o;n++}if(Math.abs(i.length-r.length)===1){if(aS(r))return 1;if(aS(i))return-1}return i.length-r.length}function aS(t){const e=t[t.length-1];return t.length>0&&e[e.length-1]<0}const DF={type:0,value:""},NF=/[a-zA-Z0-9_]/;function MF(t){if(!t)return[[]];if(t==="/")return[[DF]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(p){throw new Error(`ERR (${n})/"${u}": ${p}`)}let n=0,r=n;const i=[];let o;function s(){o&&i.push(o),o=[]}let a=0,l,u="",c="";function d(){u&&(n===0?o.push({type:0,value:u}):n===1||n===2||n===3?(o.length>1&&(l==="*"||l==="+")&&e(`A repeatable param (${u}) must be alone in its segment. eg: '/:ids+.`),o.push({type:1,value:u,regexp:c,repeatable:l==="*"||l==="+",optional:l==="*"||l==="?"})):e("Invalid state to consume buffer"),u="")}function h(){u+=l}for(;a<t.length;){if(l=t[a++],l==="\\"&&n!==2){r=n,n=4;continue}switch(n){case 0:l==="/"?(u&&d(),s()):l===":"?(d(),n=1):h();break;case 4:h(),n=r;break;case 1:l==="("?n=2:NF.test(l)?h():(d(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&a--);break;case 2:l===")"?c[c.length-1]=="\\"?c=c.slice(0,-1)+l:n=3:c+=l;break;case 3:d(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&a--,c="";break;default:e("Unknown state");break}}return n===2&&e(`Unfinished custom RegExp for param "${u}"`),d(),s(),i}function LF(t,e,n){const r=RF(MF(t.path),n),i=ln(r,{record:t,parent:e,children:[],alias:[]});return e&&!i.record.aliasOf==!e.record.aliasOf&&e.children.push(i),i}function VF(t,e){const n=[],r=new Map;e=cS({strict:!1,end:!0,sensitive:!1},e);function i(d){return r.get(d)}function o(d,h,p){const m=!p,g=$F(d);g.aliasOf=p&&p.record;const v=cS(e,d),A=[g];if("alias"in d){const T=typeof d.alias=="string"?[d.alias]:d.alias;for(const N of T)A.push(ln({},g,{components:p?p.record.components:g.components,path:N,aliasOf:p?p.record:g}))}let I,S;for(const T of A){const{path:N}=T;if(h&&N[0]!=="/"){const R=h.record.path,C=R[R.length-1]==="/"?"":"/";T.path=h.record.path+(N&&C+N)}if(I=LF(T,h,v),p?p.alias.push(I):(S=S||I,S!==I&&S.alias.push(I),m&&d.name&&!uS(I)&&s(d.name)),aR(I)&&l(I),g.children){const R=g.children;for(let C=0;C<R.length;C++)o(R[C],I,p&&p.children[C])}p=p||I}return S?()=>{s(S)}:Vd}function s(d){if(iR(d)){const h=r.get(d);h&&(r.delete(d),n.splice(n.indexOf(h),1),h.children.forEach(s),h.alias.forEach(s))}else{const h=n.indexOf(d);h>-1&&(n.splice(h,1),d.record.name&&r.delete(d.record.name),d.children.forEach(s),d.alias.forEach(s))}}function a(){return n}function l(d){const h=qF(d,n);n.splice(h,0,d),d.record.name&&!uS(d)&&r.set(d.record.name,d)}function u(d,h){let p,m={},g,v;if("name"in d&&d.name){if(p=r.get(d.name),!p)throw tc(1,{location:d});v=p.record.name,m=ln(lS(h.params,p.keys.filter(S=>!S.optional).concat(p.parent?p.parent.keys.filter(S=>S.optional):[]).map(S=>S.name)),d.params&&lS(d.params,p.keys.map(S=>S.name))),g=p.stringify(m)}else if(d.path!=null)g=d.path,p=n.find(S=>S.re.test(g)),p&&(m=p.parse(g),v=p.record.name);else{if(p=h.name?r.get(h.name):n.find(S=>S.re.test(h.path)),!p)throw tc(1,{location:d,currentLocation:h});v=p.record.name,m=ln({},h.params,d.params),g=p.stringify(m)}const A=[];let I=p;for(;I;)A.unshift(I.record),I=I.parent;return{name:v,path:g,params:m,matched:A,meta:UF(A)}}t.forEach(d=>o(d));function c(){n.length=0,r.clear()}return{addRoute:o,resolve:u,removeRoute:s,clearRoutes:c,getRoutes:a,getRecordMatcher:i}}function lS(t,e){const n={};for(const r of e)r in t&&(n[r]=t[r]);return n}function $F(t){return{path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:void 0,beforeEnter:t.beforeEnter,props:FF(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}}}function FF(t){const e={},n=t.props||!1;if("component"in t)e.default=n;else for(const r in t.components)e[r]=typeof n=="object"?n[r]:n;return e}function uS(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function UF(t){return t.reduce((e,n)=>ln(e,n.meta),{})}function cS(t,e){const n={};for(const r in t)n[r]=r in e?e[r]:t[r];return n}function qF(t,e){let n=0,r=e.length;for(;n!==r;){const o=n+r>>1;sR(t,e[o])<0?r=o:n=o+1}const i=BF(t);return i&&(r=e.lastIndexOf(i,r-1)),r}function BF(t){let e=t;for(;e=e.parent;)if(aR(e)&&sR(t,e)===0)return e}function aR({record:t}){return!!(t.name||t.components&&Object.keys(t.components).length||t.redirect)}function jF(t){const e={};if(t===""||t==="?")return e;const r=(t[0]==="?"?t.slice(1):t).split("&");for(let i=0;i<r.length;++i){const o=r[i].replace(Jk," "),s=o.indexOf("="),a=fh(s<0?o:o.slice(0,s)),l=s<0?null:fh(o.slice(s+1));if(a in e){let u=e[a];To(u)||(u=e[a]=[u]),u.push(l)}else e[a]=l}return e}function dS(t){let e="";for(let n in t){const r=t[n];if(n=aF(n),r==null){r!==void 0&&(e+=(e.length?"&":"")+n);continue}(To(r)?r.map(o=>o&&$b(o)):[r&&$b(r)]).forEach(o=>{o!==void 0&&(e+=(e.length?"&":"")+n,o!=null&&(e+="="+o))})}return e}function HF(t){const e={};for(const n in t){const r=t[n];r!==void 0&&(e[n]=To(r)?r.map(i=>i==null?null:""+i):r==null?r:""+r)}return e}const WF=Symbol(""),hS=Symbol(""),xg=Symbol(""),Y_=Symbol(""),Ub=Symbol("");function Zc(){let t=[];function e(r){return t.push(r),()=>{const i=t.indexOf(r);i>-1&&t.splice(i,1)}}function n(){t=[]}return{add:e,list:()=>t.slice(),reset:n}}function Gs(t,e,n,r,i,o=s=>s()){const s=r&&(r.enterCallbacks[i]=r.enterCallbacks[i]||[]);return()=>new Promise((a,l)=>{const u=h=>{h===!1?l(tc(4,{from:n,to:e})):h instanceof Error?l(h):PF(h)?l(tc(2,{from:e,to:h})):(s&&r.enterCallbacks[i]===s&&typeof h=="function"&&s.push(h),a())},c=o(()=>t.call(r&&r.instances[i],e,n,u));let d=Promise.resolve(c);t.length<3&&(d=d.then(u)),d.catch(h=>l(h))})}function iy(t,e,n,r,i=o=>o()){const o=[];for(const s of t)for(const a in s.components){let l=s.components[a];if(!(e!=="beforeRouteEnter"&&!s.instances[a]))if(zF(l)){const c=(l.__vccOpts||l)[e];c&&o.push(Gs(c,n,r,s,a,i))}else{let u=l();o.push(()=>u.then(c=>{if(!c)return Promise.reject(new Error(`Couldn't resolve component "${a}" at "${s.path}"`));const d=X4(c)?c.default:c;s.components[a]=d;const p=(d.__vccOpts||d)[e];return p&&Gs(p,n,r,s,a,i)()}))}}return o}function zF(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function fS(t){const e=pi(xg),n=pi(Y_),r=te(()=>{const l=P(t.to);return e.resolve(l)}),i=te(()=>{const{matched:l}=r.value,{length:u}=l,c=l[u-1],d=n.matched;if(!c||!d.length)return-1;const h=d.findIndex(ec.bind(null,c));if(h>-1)return h;const p=pS(l[u-2]);return u>1&&pS(c)===p&&d[d.length-1].path!==p?d.findIndex(ec.bind(null,l[u-2])):h}),o=te(()=>i.value>-1&&XF(n.params,r.value.params)),s=te(()=>i.value>-1&&i.value===n.matched.length-1&&nR(n.params,r.value.params));function a(l={}){return YF(l)?e[P(t.replace)?"replace":"push"](P(t.to)).catch(Vd):Promise.resolve()}return{route:r,href:te(()=>r.value.href),isActive:o,isExactActive:s,navigate:a}}const KF=Me({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:fS,setup(t,{slots:e}){const n=Pr(fS(t)),{options:r}=pi(xg),i=te(()=>({[mS(t.activeClass,r.linkActiveClass,"router-link-active")]:n.isActive,[mS(t.exactActiveClass,r.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const o=e.default&&e.default(n);return t.custom?o:wl("a",{"aria-current":n.isExactActive?t.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:i.value},o)}}}),GF=KF;function YF(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function XF(t,e){for(const n in e){const r=e[n],i=t[n];if(typeof r=="string"){if(r!==i)return!1}else if(!To(i)||i.length!==r.length||r.some((o,s)=>o!==i[s]))return!1}return!0}function pS(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const mS=(t,e,n)=>t??e??n,QF=Me({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:e,slots:n}){const r=pi(Ub),i=te(()=>t.route||r.value),o=pi(hS,0),s=te(()=>{let u=P(o);const{matched:c}=i.value;let d;for(;(d=c[u])&&!d.components;)u++;return u}),a=te(()=>i.value.matched[s.value]);Vu(hS,te(()=>s.value+1)),Vu(WF,a),Vu(Ub,i);const l=ie();return pn(()=>[l.value,a.value,t.name],([u,c,d],[h,p,m])=>{c&&(c.instances[d]=u,p&&p!==c&&u&&u===h&&(c.leaveGuards.size||(c.leaveGuards=p.leaveGuards),c.updateGuards.size||(c.updateGuards=p.updateGuards))),u&&c&&(!p||!ec(c,p)||!h)&&(c.enterCallbacks[d]||[]).forEach(g=>g(u))},{flush:"post"}),()=>{const u=i.value,c=t.name,d=a.value,h=d&&d.components[c];if(!h)return gS(n.default,{Component:h,route:u});const p=d.props[c],m=p?p===!0?u.params:typeof p=="function"?p(u):p:null,v=wl(h,ln({},m,e,{onVnodeUnmounted:A=>{A.component.isUnmounted&&(d.instances[c]=null)},ref:l}));return gS(n.default,{Component:v,route:u})||v}}});function gS(t,e){if(!t)return null;const n=t(e);return n.length===1?n[0]:n}const lR=QF;function JF(t){const e=VF(t.routes,t),n=t.parseQuery||jF,r=t.stringifyQuery||dS,i=t.history,o=Zc(),s=Zc(),a=Zc(),l=_O(Vs);let u=Vs;hu&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const c=ny.bind(null,ne=>""+ne),d=ny.bind(null,uF),h=ny.bind(null,fh);function p(ne,pe){let oe,_e;return iR(ne)?(oe=e.getRecordMatcher(ne),_e=pe):_e=ne,e.addRoute(_e,oe)}function m(ne){const pe=e.getRecordMatcher(ne);pe&&e.removeRoute(pe)}function g(){return e.getRoutes().map(ne=>ne.record)}function v(ne){return!!e.getRecordMatcher(ne)}function A(ne,pe){if(pe=ln({},pe||l.value),typeof ne=="string"){const j=ry(n,ne,pe.path),X=e.resolve({path:j.path},pe),me=i.createHref(j.fullPath);return ln(j,X,{params:h(X.params),hash:fh(j.hash),redirectedFrom:void 0,href:me})}let oe;if(ne.path!=null)oe=ln({},ne,{path:ry(n,ne.path,pe.path).path});else{const j=ln({},ne.params);for(const X in j)j[X]==null&&delete j[X];oe=ln({},ne,{params:d(j)}),pe.params=d(pe.params)}const _e=e.resolve(oe,pe),Ce=ne.hash||"";_e.params=c(h(_e.params));const fe=hF(r,ln({},ne,{hash:sF(Ce),path:_e.path})),L=i.createHref(fe);return ln({fullPath:fe,hash:Ce,query:r===dS?HF(ne.query):ne.query||{}},_e,{redirectedFrom:void 0,href:L})}function I(ne){return typeof ne=="string"?ry(n,ne,l.value.path):ln({},ne)}function S(ne,pe){if(u!==ne)return tc(8,{from:pe,to:ne})}function T(ne){return C(ne)}function N(ne){return T(ln(I(ne),{replace:!0}))}function R(ne){const pe=ne.matched[ne.matched.length-1];if(pe&&pe.redirect){const{redirect:oe}=pe;let _e=typeof oe=="function"?oe(ne):oe;return typeof _e=="string"&&(_e=_e.includes("?")||_e.includes("#")?_e=I(_e):{path:_e},_e.params={}),ln({query:ne.query,hash:ne.hash,params:_e.path!=null?{}:ne.params},_e)}}function C(ne,pe){const oe=u=A(ne),_e=l.value,Ce=ne.state,fe=ne.force,L=ne.replace===!0,j=R(oe);if(j)return C(ln(I(j),{state:typeof j=="object"?ln({},Ce,j.state):Ce,force:fe,replace:L}),pe||oe);const X=oe;X.redirectedFrom=pe;let me;return!fe&&fF(r,_e,oe)&&(me=tc(16,{to:X,from:_e}),ue(_e,_e,!0,!1)),(me?Promise.resolve(me):w(X,_e)).catch(ge=>ns(ge)?ns(ge,2)?ge:$(ge):Z(ge,X,_e)).then(ge=>{if(ge){if(ns(ge,2))return C(ln({replace:L},I(ge.to),{state:typeof ge.to=="object"?ln({},Ce,ge.to.state):Ce,force:fe}),pe||X)}else ge=x(X,_e,!0,L,Ce);return k(X,_e,ge),ge})}function E(ne,pe){const oe=S(ne,pe);return oe?Promise.reject(oe):Promise.resolve()}function b(ne){const pe=Se.values().next().value;return pe&&typeof pe.runWithContext=="function"?pe.runWithContext(ne):ne()}function w(ne,pe){let oe;const[_e,Ce,fe]=ZF(ne,pe);oe=iy(_e.reverse(),"beforeRouteLeave",ne,pe);for(const j of _e)j.leaveGuards.forEach(X=>{oe.push(Gs(X,ne,pe))});const L=E.bind(null,ne,pe);return oe.push(L),Y(oe).then(()=>{oe=[];for(const j of o.list())oe.push(Gs(j,ne,pe));return oe.push(L),Y(oe)}).then(()=>{oe=iy(Ce,"beforeRouteUpdate",ne,pe);for(const j of Ce)j.updateGuards.forEach(X=>{oe.push(Gs(X,ne,pe))});return oe.push(L),Y(oe)}).then(()=>{oe=[];for(const j of fe)if(j.beforeEnter)if(To(j.beforeEnter))for(const X of j.beforeEnter)oe.push(Gs(X,ne,pe));else oe.push(Gs(j.beforeEnter,ne,pe));return oe.push(L),Y(oe)}).then(()=>(ne.matched.forEach(j=>j.enterCallbacks={}),oe=iy(fe,"beforeRouteEnter",ne,pe,b),oe.push(L),Y(oe))).then(()=>{oe=[];for(const j of s.list())oe.push(Gs(j,ne,pe));return oe.push(L),Y(oe)}).catch(j=>ns(j,8)?j:Promise.reject(j))}function k(ne,pe,oe){a.list().forEach(_e=>b(()=>_e(ne,pe,oe)))}function x(ne,pe,oe,_e,Ce){const fe=S(ne,pe);if(fe)return fe;const L=pe===Vs,j=hu?history.state:{};oe&&(_e||L?i.replace(ne.fullPath,ln({scroll:L&&j&&j.scroll},Ce)):i.push(ne.fullPath,Ce)),l.value=ne,ue(ne,pe,oe,L),$()}let O;function q(){O||(O=i.listen((ne,pe,oe)=>{if(!he.listening)return;const _e=A(ne),Ce=R(_e);if(Ce){C(ln(Ce,{replace:!0}),_e).catch(Vd);return}u=_e;const fe=l.value;hu&&wF(rS(fe.fullPath,oe.delta),Rg()),w(_e,fe).catch(L=>ns(L,12)?L:ns(L,2)?(C(L.to,_e).then(j=>{ns(j,20)&&!oe.delta&&oe.type===ph.pop&&i.go(-1,!1)}).catch(Vd),Promise.reject()):(oe.delta&&i.go(-oe.delta,!1),Z(L,_e,fe))).then(L=>{L=L||x(_e,fe,!1),L&&(oe.delta&&!ns(L,8)?i.go(-oe.delta,!1):oe.type===ph.pop&&ns(L,20)&&i.go(-1,!1)),k(_e,fe,L)}).catch(Vd)}))}let V=Zc(),F=Zc(),G;function Z(ne,pe,oe){$(ne);const _e=F.list();return _e.length?_e.forEach(Ce=>Ce(ne,pe,oe)):console.error(ne),Promise.reject(ne)}function H(){return G&&l.value!==Vs?Promise.resolve():new Promise((ne,pe)=>{V.add([ne,pe])})}function $(ne){return G||(G=!ne,q(),V.list().forEach(([pe,oe])=>ne?oe(ne):pe()),V.reset()),ne}function ue(ne,pe,oe,_e){const{scrollBehavior:Ce}=t;if(!hu||!Ce)return Promise.resolve();const fe=!oe&&TF(rS(ne.fullPath,0))||(_e||!oe)&&history.state&&history.state.scroll||null;return tr().then(()=>Ce(ne,pe,fe)).then(L=>L&&_F(L)).catch(L=>Z(L,ne,pe))}const se=ne=>i.go(ne);let ve;const Se=new Set,he={currentRoute:l,listening:!0,addRoute:p,removeRoute:m,clearRoutes:e.clearRoutes,hasRoute:v,getRoutes:g,resolve:A,options:t,push:T,replace:N,go:se,back:()=>se(-1),forward:()=>se(1),beforeEach:o.add,beforeResolve:s.add,afterEach:a.add,onError:F.add,isReady:H,install(ne){const pe=this;ne.component("RouterLink",GF),ne.component("RouterView",lR),ne.config.globalProperties.$router=pe,Object.defineProperty(ne.config.globalProperties,"$route",{enumerable:!0,get:()=>P(l)}),hu&&!ve&&l.value===Vs&&(ve=!0,T(i.location).catch(Ce=>{}));const oe={};for(const Ce in Vs)Object.defineProperty(oe,Ce,{get:()=>l.value[Ce],enumerable:!0});ne.provide(xg,pe),ne.provide(Y_,S_(oe)),ne.provide(Ub,l);const _e=ne.unmount;Se.add(ne),ne.unmount=function(){Se.delete(ne),Se.size<1&&(u=Vs,O&&O(),O=null,l.value=Vs,ve=!1,G=!1),_e()}}};function Y(ne){return ne.reduce((pe,oe)=>pe.then(()=>b(oe)),Promise.resolve())}return he}function ZF(t,e){const n=[],r=[],i=[],o=Math.max(e.matched.length,t.matched.length);for(let s=0;s<o;s++){const a=e.matched[s];a&&(t.matched.find(u=>ec(u,a))?r.push(a):n.push(a));const l=t.matched[s];l&&(e.matched.find(u=>ec(u,l))||i.push(l))}return[n,r,i]}function X_(){return pi(xg)}function Dg(t){return pi(Y_)}const e6=Me({__name:"App",setup(t){return(e,n)=>(M(),W(Pe,null,[B(P(lR)),B(Y4)],64))}});var vS={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uR={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ge=function(t,e){if(!t)throw Ic(e)},Ic=function(t){return new Error("Firebase Database ("+uR.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cR=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},t6=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=t[n++],s=t[n++],a=t[n++],l=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const o=t[n++],s=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},Ng={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const o=t[i],s=i+1<t.length,a=s?t[i+1]:0,l=i+2<t.length,u=l?t[i+2]:0,c=o>>2,d=(o&3)<<4|a>>4;let h=(a&15)<<2|u>>6,p=u&63;l||(p=64,s||(h=64)),r.push(n[c],n[d],n[h],n[p])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(cR(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):t6(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const o=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const d=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||a==null||u==null||d==null)throw new n6;const h=o<<2|a>>4;if(r.push(h),u!==64){const p=a<<4&240|u>>2;if(r.push(p),d!==64){const m=u<<6&192|d;r.push(m)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class n6 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const dR=function(t){const e=cR(t);return Ng.encodeByteArray(e,!0)},vm=function(t){return dR(t).replace(/\./g,"")},ym=function(t){try{return Ng.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r6(t){return hR(void 0,t)}function hR(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!i6(n)||(t[n]=hR(t[n],e[n]));return t}function i6(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fR(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o6=()=>fR().__FIREBASE_DEFAULTS__,s6=()=>{if(typeof process>"u"||typeof vS>"u")return;const t=vS.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},a6=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&ym(t[1]);return e&&JSON.parse(e)},Mg=()=>{try{return o6()||s6()||a6()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},pR=t=>{var e,n;return(n=(e=Mg())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},mR=t=>{const e=pR(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},gR=()=>{var t;return(t=Mg())===null||t===void 0?void 0:t.config},vR=t=>{var e;return(e=Mg())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class El{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yR(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[vm(JSON.stringify(n)),vm(JSON.stringify(s)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oi(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Q_(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(oi())}function l6(){var t;const e=(t=Mg())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function bR(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function _R(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function u6(){const t=oi();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function wR(){return uR.NODE_ADMIN===!0}function c6(){return!l6()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Lg(){try{return typeof indexedDB=="object"}catch{return!1}}function TR(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}function d6(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h6="FirebaseError";class Bi extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=h6,Object.setPrototypeOf(this,Bi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ra.prototype.create)}}class Ra{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?f6(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new Bi(i,a,r)}}function f6(t,e){return t.replace(p6,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const p6=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mh(t){return JSON.parse(t)}function Nr(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ER=function(t){let e={},n={},r={},i="";try{const o=t.split(".");e=mh(ym(o[0])||""),n=mh(ym(o[1])||""),i=o[2],r=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:r,signature:i}},m6=function(t){const e=ER(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},g6=function(t){const e=ER(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ps(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function nc(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function qb(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function bm(t,e,n){const r={};for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=e.call(n,t[i],i,t));return r}function gh(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const o=t[i],s=e[i];if(yS(o)&&yS(s)){if(!gh(o,s))return!1}else if(o!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function yS(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cc(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function bd(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,o]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(o)}}),e}function _d(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v6{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const r=this.W_;if(typeof e=="string")for(let d=0;d<16;d++)r[d]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let d=0;d<16;d++)r[d]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let d=16;d<80;d++){const h=r[d-3]^r[d-8]^r[d-14]^r[d-16];r[d]=(h<<1|h>>>31)&4294967295}let i=this.chain_[0],o=this.chain_[1],s=this.chain_[2],a=this.chain_[3],l=this.chain_[4],u,c;for(let d=0;d<80;d++){d<40?d<20?(u=a^o&(s^a),c=1518500249):(u=o^s^a,c=1859775393):d<60?(u=o&s|a&(o|s),c=2400959708):(u=o^s^a,c=3395469782);const h=(i<<5|i>>>27)+u+l+c+r[d]&4294967295;l=a,a=s,s=(o<<30|o>>>2)&4294967295,o=i,i=h}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+o&4294967295,this.chain_[2]=this.chain_[2]+s&4294967295,this.chain_[3]=this.chain_[3]+a&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);const r=n-this.blockSize;let i=0;const o=this.buf_;let s=this.inbuf_;for(;i<n;){if(s===0)for(;i<=r;)this.compress_(e,i),i+=this.blockSize;if(typeof e=="string"){for(;i<n;)if(o[s]=e.charCodeAt(i),++s,++i,s===this.blockSize){this.compress_(o),s=0;break}}else for(;i<n;)if(o[s]=e[i],++s,++i,s===this.blockSize){this.compress_(o),s=0;break}}this.inbuf_=s,this.total_+=n}digest(){const e=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=n&255,n/=256;this.compress_(this.buf_);let r=0;for(let i=0;i<5;i++)for(let o=24;o>=0;o-=8)e[r]=this.chain_[i]>>o&255,++r;return e}}function y6(t,e){const n=new b6(t,e);return n.subscribe.bind(n)}class b6{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");_6(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=oy),i.error===void 0&&(i.error=oy),i.complete===void 0&&(i.complete=oy);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function _6(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function oy(){}function w6(t,e){return`${t} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T6=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);if(i>=55296&&i<=56319){const o=i-55296;r++,Ge(r<t.length,"Surrogate pair missing trail surrogate.");const s=t.charCodeAt(r)-56320;i=65536+(o<<10)+s}i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):i<65536?(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},Vg=function(t){let e=0;for(let n=0;n<t.length;n++){const r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E6=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,t=>{const e=Math.random()*16|0;return(t==="x"?e:e&3|8).toString(16)})};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S6=1e3,I6=2,C6=4*60*60*1e3,A6=.5;function Bb(t,e=S6,n=I6){const r=e*Math.pow(n,t),i=Math.round(A6*r*(Math.random()-.5)*2);return Math.min(C6,r+i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jt(t){return t&&t._delegate?t._delegate:t}class mi{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ga="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P6{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new El;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(k6(e))try{this.getOrInitializeService({instanceIdentifier:Ga})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=Ga){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ga){return this.instances.has(e)}getOptions(e=Ga){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);const s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:O6(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Ga){return this.component?this.component.multipleInstances?e:Ga:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function O6(t){return t===Ga?void 0:t}function k6(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R6{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new P6(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xt;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(xt||(xt={}));const x6={debug:xt.DEBUG,verbose:xt.VERBOSE,info:xt.INFO,warn:xt.WARN,error:xt.ERROR,silent:xt.SILENT},D6=xt.INFO,N6={[xt.DEBUG]:"log",[xt.VERBOSE]:"log",[xt.INFO]:"info",[xt.WARN]:"warn",[xt.ERROR]:"error"},M6=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=N6[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Ac{constructor(e){this.name=e,this._logLevel=D6,this._logHandler=M6,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in xt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?x6[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,xt.DEBUG,...e),this._logHandler(this,xt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,xt.VERBOSE,...e),this._logHandler(this,xt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,xt.INFO,...e),this._logHandler(this,xt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,xt.WARN,...e),this._logHandler(this,xt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,xt.ERROR,...e),this._logHandler(this,xt.ERROR,...e)}}const L6=(t,e)=>e.some(n=>t instanceof n);let bS,_S;function V6(){return bS||(bS=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function $6(){return _S||(_S=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const SR=new WeakMap,jb=new WeakMap,IR=new WeakMap,sy=new WeakMap,J_=new WeakMap;function F6(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(ua(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&SR.set(n,t)}).catch(()=>{}),J_.set(e,t),e}function U6(t){if(jb.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});jb.set(t,e)}let Hb={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return jb.get(t);if(e==="objectStoreNames")return t.objectStoreNames||IR.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ua(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function q6(t){Hb=t(Hb)}function B6(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(ay(this),e,...n);return IR.set(r,e.sort?e.sort():[e]),ua(r)}:$6().includes(t)?function(...e){return t.apply(ay(this),e),ua(SR.get(this))}:function(...e){return ua(t.apply(ay(this),e))}}function j6(t){return typeof t=="function"?B6(t):(t instanceof IDBTransaction&&U6(t),L6(t,V6())?new Proxy(t,Hb):t)}function ua(t){if(t instanceof IDBRequest)return F6(t);if(sy.has(t))return sy.get(t);const e=j6(t);return e!==t&&(sy.set(t,e),J_.set(e,t)),e}const ay=t=>J_.get(t);function CR(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const s=indexedDB.open(t,e),a=ua(s);return r&&s.addEventListener("upgradeneeded",l=>{r(ua(s.result),l.oldVersion,l.newVersion,ua(s.transaction),l)}),n&&s.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{o&&l.addEventListener("close",()=>o()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const H6=["get","getKey","getAll","getAllKeys","count"],W6=["put","add","delete","clear"],ly=new Map;function wS(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(ly.get(e))return ly.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=W6.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||H6.includes(n)))return;const o=async function(s,...a){const l=this.transaction(s,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),i&&l.done]))[0]};return ly.set(e,o),o}q6(t=>({...t,get:(e,n,r)=>wS(e,n)||t.get(e,n,r),has:(e,n)=>!!wS(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z6{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(K6(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function K6(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Wb="@firebase/app",TS="0.10.9";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ws=new Ac("@firebase/app"),G6="@firebase/app-compat",Y6="@firebase/analytics-compat",X6="@firebase/analytics",Q6="@firebase/app-check-compat",J6="@firebase/app-check",Z6="@firebase/auth",eU="@firebase/auth-compat",tU="@firebase/database",nU="@firebase/database-compat",rU="@firebase/functions",iU="@firebase/functions-compat",oU="@firebase/installations",sU="@firebase/installations-compat",aU="@firebase/messaging",lU="@firebase/messaging-compat",uU="@firebase/performance",cU="@firebase/performance-compat",dU="@firebase/remote-config",hU="@firebase/remote-config-compat",fU="@firebase/storage",pU="@firebase/storage-compat",mU="@firebase/firestore",gU="@firebase/vertexai-preview",vU="@firebase/firestore-compat",yU="firebase",bU="10.13.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zb="[DEFAULT]",_U={[Wb]:"fire-core",[G6]:"fire-core-compat",[X6]:"fire-analytics",[Y6]:"fire-analytics-compat",[J6]:"fire-app-check",[Q6]:"fire-app-check-compat",[Z6]:"fire-auth",[eU]:"fire-auth-compat",[tU]:"fire-rtdb",[nU]:"fire-rtdb-compat",[rU]:"fire-fn",[iU]:"fire-fn-compat",[oU]:"fire-iid",[sU]:"fire-iid-compat",[aU]:"fire-fcm",[lU]:"fire-fcm-compat",[uU]:"fire-perf",[cU]:"fire-perf-compat",[dU]:"fire-rc",[hU]:"fire-rc-compat",[fU]:"fire-gcs",[pU]:"fire-gcs-compat",[mU]:"fire-fst",[vU]:"fire-fst-compat",[gU]:"fire-vertex","fire-js":"fire-js",[yU]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _m=new Map,wU=new Map,Kb=new Map;function ES(t,e){try{t.container.addComponent(e)}catch(n){ws.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Oi(t){const e=t.name;if(Kb.has(e))return ws.debug(`There were multiple attempts to register component ${e}.`),!1;Kb.set(e,t);for(const n of _m.values())ES(n,t);for(const n of wU.values())ES(n,t);return!0}function Yo(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function po(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TU={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ca=new Ra("app","Firebase",TU);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EU{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new mi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ca.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xa=bU;function AR(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:zb,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw ca.create("bad-app-name",{appName:String(i)});if(n||(n=gR()),!n)throw ca.create("no-options");const o=_m.get(i);if(o){if(gh(n,o.options)&&gh(r,o.config))return o;throw ca.create("duplicate-app",{appName:i})}const s=new R6(i);for(const l of Kb.values())s.addComponent(l);const a=new EU(n,r,s);return _m.set(i,a),a}function Pc(t=zb){const e=_m.get(t);if(!e&&t===zb&&gR())return AR();if(!e)throw ca.create("no-app",{appName:t});return e}function Vr(t,e,n){var r;let i=(r=_U[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){const a=[`Unable to register library "${i}" with version "${e}":`];o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ws.warn(a.join(" "));return}Oi(new mi(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SU="firebase-heartbeat-database",IU=1,vh="firebase-heartbeat-store";let uy=null;function PR(){return uy||(uy=CR(SU,IU,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(vh)}catch(n){console.warn(n)}}}}).catch(t=>{throw ca.create("idb-open",{originalErrorMessage:t.message})})),uy}async function CU(t){try{const n=(await PR()).transaction(vh),r=await n.objectStore(vh).get(OR(t));return await n.done,r}catch(e){if(e instanceof Bi)ws.warn(e.message);else{const n=ca.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ws.warn(n.message)}}}async function SS(t,e){try{const r=(await PR()).transaction(vh,"readwrite");await r.objectStore(vh).put(e,OR(t)),await r.done}catch(n){if(n instanceof Bi)ws.warn(n.message);else{const r=ca.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});ws.warn(r.message)}}}function OR(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AU=1024,PU=30*24*60*60*1e3;class OU{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new RU(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n,r;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=IS();return console.log("heartbeats",(e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats),((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((r=this._heartbeatsCache)===null||r===void 0?void 0:r.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(a=>a.date===s)?void 0:(this._heartbeatsCache.heartbeats.push({date:s,agent:o}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(a=>{const l=new Date(a.date).valueOf();return Date.now()-l<=PU}),this._storage.overwrite(this._heartbeatsCache))}catch(i){ws.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=IS(),{heartbeatsToSend:r,unsentEntries:i}=kU(this._heartbeatsCache.heartbeats),o=vm(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return ws.warn(n),""}}}function IS(){return new Date().toISOString().substring(0,10)}function kU(t,e=AU){const n=[];let r=t.slice();for(const i of t){const o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),CS(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),CS(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class RU{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Lg()?TR().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await CU(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return SS(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return SS(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function CS(t){return vm(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xU(t){Oi(new mi("platform-logger",e=>new z6(e),"PRIVATE")),Oi(new mi("heartbeat",e=>new OU(e),"PRIVATE")),Vr(Wb,TS,t),Vr(Wb,TS,"esm2017"),Vr("fire-js","")}xU("");const kR="@firebase/installations",Z_="0.6.8";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RR=1e4,xR=`w:${Z_}`,DR="FIS_v2",DU="https://firebaseinstallations.googleapis.com/v1",NU=60*60*1e3,MU="installations",LU="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VU={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Sl=new Ra(MU,LU,VU);function NR(t){return t instanceof Bi&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MR({projectId:t}){return`${DU}/projects/${t}/installations`}function LR(t){return{token:t.token,requestStatus:2,expiresIn:FU(t.expiresIn),creationTime:Date.now()}}async function VR(t,e){const r=(await e.json()).error;return Sl.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function $R({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function $U(t,{refreshToken:e}){const n=$R(t);return n.append("Authorization",UU(e)),n}async function FR(t){const e=await t();return e.status>=500&&e.status<600?t():e}function FU(t){return Number(t.replace("s","000"))}function UU(t){return`${DR} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qU({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=MR(t),i=$R(t),o=e.getImmediate({optional:!0});if(o){const u=await o.getHeartbeatsHeader();u&&i.append("x-firebase-client",u)}const s={fid:n,authVersion:DR,appId:t.appId,sdkVersion:xR},a={method:"POST",headers:i,body:JSON.stringify(s)},l=await FR(()=>fetch(r,a));if(l.ok){const u=await l.json();return{fid:u.fid||n,registrationStatus:2,refreshToken:u.refreshToken,authToken:LR(u.authToken)}}else throw await VR("Create Installation",l)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UR(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BU(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jU=/^[cdef][\w-]{21}$/,Gb="";function HU(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=WU(t);return jU.test(n)?n:Gb}catch{return Gb}}function WU(t){return BU(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $g(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qR=new Map;function BR(t,e){const n=$g(t);jR(n,e),zU(n,e)}function jR(t,e){const n=qR.get(t);if(n)for(const r of n)r(e)}function zU(t,e){const n=KU();n&&n.postMessage({key:t,fid:e}),GU()}let rl=null;function KU(){return!rl&&"BroadcastChannel"in self&&(rl=new BroadcastChannel("[Firebase] FID Change"),rl.onmessage=t=>{jR(t.data.key,t.data.fid)}),rl}function GU(){qR.size===0&&rl&&(rl.close(),rl=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YU="firebase-installations-database",XU=1,Il="firebase-installations-store";let cy=null;function ew(){return cy||(cy=CR(YU,XU,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Il)}}})),cy}async function wm(t,e){const n=$g(t),i=(await ew()).transaction(Il,"readwrite"),o=i.objectStore(Il),s=await o.get(n);return await o.put(e,n),await i.done,(!s||s.fid!==e.fid)&&BR(t,e.fid),e}async function HR(t){const e=$g(t),r=(await ew()).transaction(Il,"readwrite");await r.objectStore(Il).delete(e),await r.done}async function Fg(t,e){const n=$g(t),i=(await ew()).transaction(Il,"readwrite"),o=i.objectStore(Il),s=await o.get(n),a=e(s);return a===void 0?await o.delete(n):await o.put(a,n),await i.done,a&&(!s||s.fid!==a.fid)&&BR(t,a.fid),a}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tw(t){let e;const n=await Fg(t.appConfig,r=>{const i=QU(r),o=JU(t,i);return e=o.registrationPromise,o.installationEntry});return n.fid===Gb?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function QU(t){const e=t||{fid:HU(),registrationStatus:0};return WR(e)}function JU(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const i=Promise.reject(Sl.create("app-offline"));return{installationEntry:e,registrationPromise:i}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=ZU(t,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:e5(t)}:{installationEntry:e}}async function ZU(t,e){try{const n=await qU(t,e);return wm(t.appConfig,n)}catch(n){throw NR(n)&&n.customData.serverCode===409?await HR(t.appConfig):await wm(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function e5(t){let e=await AS(t.appConfig);for(;e.registrationStatus===1;)await UR(100),e=await AS(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await tw(t);return r||n}return e}function AS(t){return Fg(t,e=>{if(!e)throw Sl.create("installation-not-found");return WR(e)})}function WR(t){return t5(t)?{fid:t.fid,registrationStatus:0}:t}function t5(t){return t.registrationStatus===1&&t.registrationTime+RR<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function n5({appConfig:t,heartbeatServiceProvider:e},n){const r=r5(t,n),i=$U(t,n),o=e.getImmediate({optional:!0});if(o){const u=await o.getHeartbeatsHeader();u&&i.append("x-firebase-client",u)}const s={installation:{sdkVersion:xR,appId:t.appId}},a={method:"POST",headers:i,body:JSON.stringify(s)},l=await FR(()=>fetch(r,a));if(l.ok){const u=await l.json();return LR(u)}else throw await VR("Generate Auth Token",l)}function r5(t,{fid:e}){return`${MR(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nw(t,e=!1){let n;const r=await Fg(t.appConfig,o=>{if(!zR(o))throw Sl.create("not-registered");const s=o.authToken;if(!e&&s5(s))return o;if(s.requestStatus===1)return n=i5(t,e),o;{if(!navigator.onLine)throw Sl.create("app-offline");const a=l5(o);return n=o5(t,a),a}});return n?await n:r.authToken}async function i5(t,e){let n=await PS(t.appConfig);for(;n.authToken.requestStatus===1;)await UR(100),n=await PS(t.appConfig);const r=n.authToken;return r.requestStatus===0?nw(t,e):r}function PS(t){return Fg(t,e=>{if(!zR(e))throw Sl.create("not-registered");const n=e.authToken;return u5(n)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function o5(t,e){try{const n=await n5(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return await wm(t.appConfig,r),n}catch(n){if(NR(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await HR(t.appConfig);else{const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await wm(t.appConfig,r)}throw n}}function zR(t){return t!==void 0&&t.registrationStatus===2}function s5(t){return t.requestStatus===2&&!a5(t)}function a5(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+NU}function l5(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}function u5(t){return t.requestStatus===1&&t.requestTime+RR<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function c5(t){const e=t,{installationEntry:n,registrationPromise:r}=await tw(e);return r?r.catch(console.error):nw(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function d5(t,e=!1){const n=t;return await h5(n),(await nw(n,e)).token}async function h5(t){const{registrationPromise:e}=await tw(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f5(t){if(!t||!t.options)throw dy("App Configuration");if(!t.name)throw dy("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw dy(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function dy(t){return Sl.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KR="installations",p5="installations-internal",m5=t=>{const e=t.getProvider("app").getImmediate(),n=f5(e),r=Yo(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},g5=t=>{const e=t.getProvider("app").getImmediate(),n=Yo(e,KR).getImmediate();return{getId:()=>c5(n),getToken:i=>d5(n,i)}};function v5(){Oi(new mi(KR,m5,"PUBLIC")),Oi(new mi(p5,g5,"PRIVATE"))}v5();Vr(kR,Z_);Vr(kR,Z_,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tm="analytics",y5="firebase_id",b5="origin",_5=60*1e3,w5="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",rw="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ci=new Ac("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T5={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},Ui=new Ra("analytics","Analytics",T5);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E5(t){if(!t.startsWith(rw)){const e=Ui.create("invalid-gtag-resource",{gtagURL:t});return Ci.warn(e.message),""}return t}function GR(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function S5(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function I5(t,e){const n=S5("firebase-js-sdk-policy",{createScriptURL:E5}),r=document.createElement("script"),i=`${rw}?l=${t}&id=${e}`;r.src=n?n==null?void 0:n.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}function C5(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function A5(t,e,n,r,i,o){const s=r[i];try{if(s)await e[s];else{const l=(await GR(n)).find(u=>u.measurementId===i);l&&await e[l.appId]}}catch(a){Ci.error(a)}t("config",i,o)}async function P5(t,e,n,r,i){try{let o=[];if(i&&i.send_to){let s=i.send_to;Array.isArray(s)||(s=[s]);const a=await GR(n);for(const l of s){const u=a.find(d=>d.measurementId===l),c=u&&e[u.appId];if(c)o.push(c);else{o=[];break}}}o.length===0&&(o=Object.values(e)),await Promise.all(o),t("event",r,i||{})}catch(o){Ci.error(o)}}function O5(t,e,n,r){async function i(o,...s){try{if(o==="event"){const[a,l]=s;await P5(t,e,n,a,l)}else if(o==="config"){const[a,l]=s;await A5(t,e,n,r,a,l)}else if(o==="consent"){const[a,l]=s;t("consent",a,l)}else if(o==="get"){const[a,l,u]=s;t("get",a,l,u)}else if(o==="set"){const[a]=s;t("set",a)}else t(o,...s)}catch(a){Ci.error(a)}}return i}function k5(t,e,n,r,i){let o=function(...s){window[r].push(arguments)};return window[i]&&typeof window[i]=="function"&&(o=window[i]),window[i]=O5(o,t,e,n),{gtagCore:o,wrappedGtag:window[i]}}function R5(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(rw)&&n.src.includes(t))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x5=30,D5=1e3;class N5{constructor(e={},n=D5){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const YR=new N5;function M5(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function L5(t){var e;const{appId:n,apiKey:r}=t,i={method:"GET",headers:M5(r)},o=w5.replace("{app-id}",n),s=await fetch(o,i);if(s.status!==200&&s.status!==304){let a="";try{const l=await s.json();!((e=l.error)===null||e===void 0)&&e.message&&(a=l.error.message)}catch{}throw Ui.create("config-fetch-failed",{httpStatus:s.status,responseMessage:a})}return s.json()}async function V5(t,e=YR,n){const{appId:r,apiKey:i,measurementId:o}=t.options;if(!r)throw Ui.create("no-app-id");if(!i){if(o)return{measurementId:o,appId:r};throw Ui.create("no-api-key")}const s=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new U5;return setTimeout(async()=>{a.abort()},n!==void 0?n:_5),XR({appId:r,apiKey:i,measurementId:o},s,a,e)}async function XR(t,{throttleEndTimeMillis:e,backoffCount:n},r,i=YR){var o;const{appId:s,measurementId:a}=t;try{await $5(r,e)}catch(l){if(a)return Ci.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${l==null?void 0:l.message}]`),{appId:s,measurementId:a};throw l}try{const l=await L5(t);return i.deleteThrottleMetadata(s),l}catch(l){const u=l;if(!F5(u)){if(i.deleteThrottleMetadata(s),a)return Ci.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${u==null?void 0:u.message}]`),{appId:s,measurementId:a};throw l}const c=Number((o=u==null?void 0:u.customData)===null||o===void 0?void 0:o.httpStatus)===503?Bb(n,i.intervalMillis,x5):Bb(n,i.intervalMillis),d={throttleEndTimeMillis:Date.now()+c,backoffCount:n+1};return i.setThrottleMetadata(s,d),Ci.debug(`Calling attemptFetch again in ${c} millis`),XR(t,d,r,i)}}function $5(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),o=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(o),r(Ui.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function F5(t){if(!(t instanceof Bi)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class U5{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function q5(t,e,n,r,i){if(i&&i.global){t("event",n,r);return}else{const o=await e,s=Object.assign(Object.assign({},r),{send_to:o});t("event",n,s)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function B5(){if(Lg())try{await TR()}catch(t){return Ci.warn(Ui.create("indexeddb-unavailable",{errorInfo:t==null?void 0:t.toString()}).message),!1}else return Ci.warn(Ui.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function j5(t,e,n,r,i,o,s){var a;const l=V5(t);l.then(p=>{n[p.measurementId]=p.appId,t.options.measurementId&&p.measurementId!==t.options.measurementId&&Ci.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${p.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(p=>Ci.error(p)),e.push(l);const u=B5().then(p=>{if(p)return r.getId()}),[c,d]=await Promise.all([l,u]);R5(o)||I5(o,c.measurementId),i("js",new Date);const h=(a=s==null?void 0:s.config)!==null&&a!==void 0?a:{};return h[b5]="firebase",h.update=!0,d!=null&&(h[y5]=d),i("config",c.measurementId,h),c.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H5{constructor(e){this.app=e}_delete(){return delete Fd[this.app.options.appId],Promise.resolve()}}let Fd={},OS=[];const kS={};let hy="dataLayer",W5="gtag",RS,QR,xS=!1;function z5(){const t=[];if(bR()&&t.push("This is a browser extension environment."),d6()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,i)=>`(${i+1}) ${r}`).join(" "),n=Ui.create("invalid-analytics-context",{errorInfo:e});Ci.warn(n.message)}}function K5(t,e,n){z5();const r=t.options.appId;if(!r)throw Ui.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)Ci.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Ui.create("no-api-key");if(Fd[r]!=null)throw Ui.create("already-exists",{id:r});if(!xS){C5(hy);const{wrappedGtag:o,gtagCore:s}=k5(Fd,OS,kS,hy,W5);QR=o,RS=s,xS=!0}return Fd[r]=j5(t,OS,kS,e,RS,hy,n),new H5(t)}function JR(t=Pc()){t=Jt(t);const e=Yo(t,Tm);return e.isInitialized()?e.getImmediate():G5(t)}function G5(t,e={}){const n=Yo(t,Tm);if(n.isInitialized()){const i=n.getImmediate();if(gh(e,n.getOptions()))return i;throw Ui.create("already-initialized")}return n.initialize({options:e})}function ZR(t,e,n,r){t=Jt(t),q5(QR,Fd[t.app.options.appId],e,n,r).catch(i=>Ci.error(i))}const DS="@firebase/analytics",NS="0.10.7";function Y5(){Oi(new mi(Tm,(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();return K5(r,i,n)},"PUBLIC")),Oi(new mi("analytics-internal",t,"PRIVATE")),Vr(DS,NS),Vr(DS,NS,"esm2017");function t(e){try{const n=e.getProvider(Tm).getImmediate();return{logEvent:(r,i,o)=>ZR(n,r,i,o)}}catch(n){throw Ui.create("interop-component-reg-failed",{reason:n})}}}Y5();var X5="firebase",Q5="10.13.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Vr(X5,Q5,"app");/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yb=new Map,ex={activated:!1,tokenObservers:[]},J5={initialized:!1,enabled:!1};function vr(t){return Yb.get(t)||Object.assign({},ex)}function Z5(t,e){return Yb.set(t,e),Yb.get(t)}function Ug(){return J5}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tx="https://content-firebaseappcheck.googleapis.com/v1",eq="exchangeRecaptchaV3Token",tq="exchangeDebugToken",MS={OFFSET_DURATION:5*60*1e3,RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:16*60*1e3},nq=24*60*60*1e3;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rq{constructor(e,n,r,i,o){if(this.operation=e,this.retryPolicy=n,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=o,this.pending=null,this.nextErrorWaitInterval=i,i>o)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}async process(e){this.stop();try{this.pending=new El,this.pending.promise.catch(n=>{}),await iq(this.getNextRun(e)),this.pending.resolve(),await this.pending.promise,this.pending=new El,this.pending.promise.catch(n=>{}),await this.operation(),this.pending.resolve(),await this.pending.promise,this.process(!0).catch(()=>{})}catch(n){this.retryPolicy(n)?this.process(!1).catch(()=>{}):this.stop()}}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n}}}function iq(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oq={"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"},Si=new Ra("appCheck","AppCheck",oq);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LS(t=!1){var e;return t?(e=self.grecaptcha)===null||e===void 0?void 0:e.enterprise:self.grecaptcha}function iw(t){if(!vr(t).activated)throw Si.create("use-before-activation",{appName:t.name})}function nx(t){const e=Math.round(t/1e3),n=Math.floor(e/(3600*24)),r=Math.floor((e-n*3600*24)/3600),i=Math.floor((e-n*3600*24-r*3600)/60),o=e-n*3600*24-r*3600-i*60;let s="";return n&&(s+=sp(n)+"d:"),r&&(s+=sp(r)+"h:"),s+=sp(i)+"m:"+sp(o)+"s",s}function sp(t){return t===0?"00":t>=10?t.toString():"0"+t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ow({url:t,body:e},n){const r={"Content-Type":"application/json"},i=n.getImmediate({optional:!0});if(i){const d=await i.getHeartbeatsHeader();d&&(r["X-Firebase-Client"]=d)}const o={method:"POST",body:JSON.stringify(e),headers:r};let s;try{s=await fetch(t,o)}catch(d){throw Si.create("fetch-network-error",{originalErrorMessage:d==null?void 0:d.message})}if(s.status!==200)throw Si.create("fetch-status-error",{httpStatus:s.status});let a;try{a=await s.json()}catch(d){throw Si.create("fetch-parse-error",{originalErrorMessage:d==null?void 0:d.message})}const l=a.ttl.match(/^([\d.]+)(s)$/);if(!l||!l[2]||isNaN(Number(l[1])))throw Si.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${a.ttl}`});const u=Number(l[1])*1e3,c=Date.now();return{token:a.token,expireTimeMillis:c+u,issuedAtTimeMillis:c}}function sq(t,e){const{projectId:n,appId:r,apiKey:i}=t.options;return{url:`${tx}/projects/${n}/apps/${r}:${eq}?key=${i}`,body:{recaptcha_v3_token:e}}}function rx(t,e){const{projectId:n,appId:r,apiKey:i}=t.options;return{url:`${tx}/projects/${n}/apps/${r}:${tq}?key=${i}`,body:{debug_token:e}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aq="firebase-app-check-database",lq=1,yh="firebase-app-check-store",ix="debug-token";let ap=null;function ox(){return ap||(ap=new Promise((t,e)=>{try{const n=indexedDB.open(aq,lq);n.onsuccess=r=>{t(r.target.result)},n.onerror=r=>{var i;e(Si.create("storage-open",{originalErrorMessage:(i=r.target.error)===null||i===void 0?void 0:i.message}))},n.onupgradeneeded=r=>{const i=r.target.result;switch(r.oldVersion){case 0:i.createObjectStore(yh,{keyPath:"compositeKey"})}}}catch(n){e(Si.create("storage-open",{originalErrorMessage:n==null?void 0:n.message}))}}),ap)}function uq(t){return ax(lx(t))}function cq(t,e){return sx(lx(t),e)}function dq(t){return sx(ix,t)}function hq(){return ax(ix)}async function sx(t,e){const r=(await ox()).transaction(yh,"readwrite"),o=r.objectStore(yh).put({compositeKey:t,value:e});return new Promise((s,a)=>{o.onsuccess=l=>{s()},r.onerror=l=>{var u;a(Si.create("storage-set",{originalErrorMessage:(u=l.target.error)===null||u===void 0?void 0:u.message}))}})}async function ax(t){const n=(await ox()).transaction(yh,"readonly"),i=n.objectStore(yh).get(t);return new Promise((o,s)=>{i.onsuccess=a=>{const l=a.target.result;o(l?l.value:void 0)},n.onerror=a=>{var l;s(Si.create("storage-get",{originalErrorMessage:(l=a.target.error)===null||l===void 0?void 0:l.message}))}})}function lx(t){return`${t.options.appId}-${t.name}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bh=new Ac("@firebase/app-check");/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fq(t){if(Lg()){let e;try{e=await uq(t)}catch(n){bh.warn(`Failed to read token from IndexedDB. Error: ${n}`)}return e}}function fy(t,e){return Lg()?cq(t,e).catch(n=>{bh.warn(`Failed to write token to IndexedDB. Error: ${n}`)}):Promise.resolve()}async function pq(){let t;try{t=await hq()}catch{}if(t)return t;{const e=E6();return dq(e).catch(n=>bh.warn(`Failed to persist debug token to IndexedDB. Error: ${n}`)),e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sw(){return Ug().enabled}async function aw(){const t=Ug();if(t.enabled&&t.token)return t.token.promise;throw Error(`
            Can't get debug token in production mode.
        `)}function mq(){const t=fR(),e=Ug();if(e.initialized=!0,typeof t.FIREBASE_APPCHECK_DEBUG_TOKEN!="string"&&t.FIREBASE_APPCHECK_DEBUG_TOKEN!==!0)return;e.enabled=!0;const n=new El;e.token=n,typeof t.FIREBASE_APPCHECK_DEBUG_TOKEN=="string"?n.resolve(t.FIREBASE_APPCHECK_DEBUG_TOKEN):n.resolve(pq())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gq={error:"UNKNOWN_ERROR"};function vq(t){return Ng.encodeString(JSON.stringify(t),!1)}async function Xb(t,e=!1){const n=t.app;iw(n);const r=vr(n);let i=r.token,o;if(i&&!_u(i)&&(r.token=void 0,i=void 0),!i){const l=await r.cachedTokenPromise;l&&(_u(l)?i=l:await fy(n,void 0))}if(!e&&i&&_u(i))return{token:i.token};let s=!1;if(sw()){r.exchangeTokenPromise||(r.exchangeTokenPromise=ow(rx(n,await aw()),t.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),s=!0);const l=await r.exchangeTokenPromise;return await fy(n,l),r.token=l,{token:l.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),s=!0),i=await vr(n).exchangeTokenPromise}catch(l){l.code==="appCheck/throttled"?bh.warn(l.message):bh.error(l),o=l}let a;return i?o?_u(i)?a={token:i.token,internalError:o}:a=$S(o):(a={token:i.token},r.token=i,await fy(n,i)):a=$S(o),s&&dx(n,a),a}async function yq(t){const e=t.app;iw(e);const{provider:n}=vr(e);if(sw()){const r=await aw(),{token:i}=await ow(rx(e,r),t.heartbeatServiceProvider);return{token:i}}else{const{token:r}=await n.getToken();return{token:r}}}function ux(t,e,n,r){const{app:i}=t,o=vr(i),s={next:n,error:r,type:e};if(o.tokenObservers=[...o.tokenObservers,s],o.token&&_u(o.token)){const a=o.token;Promise.resolve().then(()=>{n({token:a.token}),VS(t)}).catch(()=>{})}o.cachedTokenPromise.then(()=>VS(t))}function cx(t,e){const n=vr(t),r=n.tokenObservers.filter(i=>i.next!==e);r.length===0&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),n.tokenObservers=r}function VS(t){const{app:e}=t,n=vr(e);let r=n.tokenRefresher;r||(r=bq(t),n.tokenRefresher=r),!r.isRunning()&&n.isTokenAutoRefreshEnabled&&r.start()}function bq(t){const{app:e}=t;return new rq(async()=>{const n=vr(e);let r;if(n.token?r=await Xb(t,!0):r=await Xb(t),r.error)throw r.error;if(r.internalError)throw r.internalError},()=>!0,()=>{const n=vr(e);if(n.token){let r=n.token.issuedAtTimeMillis+(n.token.expireTimeMillis-n.token.issuedAtTimeMillis)*.5+3e5;const i=n.token.expireTimeMillis-5*60*1e3;return r=Math.min(r,i),Math.max(0,r-Date.now())}else return 0},MS.RETRIAL_MIN_WAIT,MS.RETRIAL_MAX_WAIT)}function dx(t,e){const n=vr(t).tokenObservers;for(const r of n)try{r.type==="EXTERNAL"&&e.error!=null?r.error(e.error):r.next(e)}catch{}}function _u(t){return t.expireTimeMillis-Date.now()>0}function $S(t){return{token:vq(gq),error:t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _q{constructor(e,n){this.app=e,this.heartbeatServiceProvider=n}_delete(){const{tokenObservers:e}=vr(this.app);for(const n of e)cx(this.app,n.next);return Promise.resolve()}}function wq(t,e){return new _q(t,e)}function Tq(t){return{getToken:e=>Xb(t,e),getLimitedUseToken:()=>yq(t),addTokenListener:e=>ux(t,"INTERNAL",e),removeTokenListener:e=>cx(t.app,e)}}const Eq="@firebase/app-check",Sq="0.8.7";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Iq="https://www.google.com/recaptcha/api.js";function Cq(t,e){const n=new El,r=vr(t);r.reCAPTCHAState={initialized:n};const i=Aq(t),o=LS(!1);return o?FS(t,e,o,i,n):kq(()=>{const s=LS(!1);if(!s)throw new Error("no recaptcha");FS(t,e,s,i,n)}),n.promise}function FS(t,e,n,r,i){n.ready(()=>{Oq(t,e,n,r),i.resolve(n)})}function Aq(t){const e=`fire_app_check_${t.name}`,n=document.createElement("div");return n.id=e,n.style.display="none",document.body.appendChild(n),e}async function Pq(t){iw(t);const n=await vr(t).reCAPTCHAState.initialized.promise;return new Promise((r,i)=>{const o=vr(t).reCAPTCHAState;n.ready(()=>{r(n.execute(o.widgetId,{action:"fire_app_check"}))})})}function Oq(t,e,n,r){const i=n.render(r,{sitekey:e,size:"invisible",callback:()=>{vr(t).reCAPTCHAState.succeeded=!0},"error-callback":()=>{vr(t).reCAPTCHAState.succeeded=!1}}),o=vr(t);o.reCAPTCHAState=Object.assign(Object.assign({},o.reCAPTCHAState),{widgetId:i})}function kq(t){const e=document.createElement("script");e.src=Iq,e.onload=t,document.head.appendChild(e)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lw{constructor(e){this._siteKey=e,this._throttleData=null}async getToken(){var e,n,r;xq(this._throttleData);const i=await Pq(this._app).catch(s=>{throw Si.create("recaptcha-error")});if(!(!((e=vr(this._app).reCAPTCHAState)===null||e===void 0)&&e.succeeded))throw Si.create("recaptcha-error");let o;try{o=await ow(sq(this._app,i),this._heartbeatServiceProvider)}catch(s){throw!((n=s.code)===null||n===void 0)&&n.includes("fetch-status-error")?(this._throttleData=Rq(Number((r=s.customData)===null||r===void 0?void 0:r.httpStatus),this._throttleData),Si.create("throttled",{time:nx(this._throttleData.allowRequestsAfter-Date.now()),httpStatus:this._throttleData.httpStatus})):s}return this._throttleData=null,o}initialize(e){this._app=e,this._heartbeatServiceProvider=Yo(e,"heartbeat"),Cq(e,this._siteKey).catch(()=>{})}isEqual(e){return e instanceof lw?this._siteKey===e._siteKey:!1}}function Rq(t,e){if(t===404||t===403)return{backoffCount:1,allowRequestsAfter:Date.now()+nq,httpStatus:t};{const n=e?e.backoffCount:0,r=Bb(n,1e3,2);return{backoffCount:n+1,allowRequestsAfter:Date.now()+r,httpStatus:t}}}function xq(t){if(t&&Date.now()-t.allowRequestsAfter<=0)throw Si.create("throttled",{time:nx(t.allowRequestsAfter-Date.now()),httpStatus:t.httpStatus})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dq(t=Pc(),e){t=Jt(t);const n=Yo(t,"app-check");if(Ug().initialized||mq(),sw()&&aw().then(i=>console.log(`App Check debug token: ${i}. You will need to add it to your app's App Check settings in the Firebase console for it to work.`)),n.isInitialized()){const i=n.getImmediate(),o=n.getOptions();if(o.isTokenAutoRefreshEnabled===e.isTokenAutoRefreshEnabled&&o.provider.isEqual(e.provider))return i;throw Si.create("already-initialized",{appName:t.name})}const r=n.initialize({options:e});return Nq(t,e.provider,e.isTokenAutoRefreshEnabled),vr(t).isTokenAutoRefreshEnabled&&ux(r,"INTERNAL",()=>{}),r}function Nq(t,e,n){const r=Z5(t,Object.assign({},ex));r.activated=!0,r.provider=e,r.cachedTokenPromise=fq(t).then(i=>(i&&_u(i)&&(r.token=i,dx(t,{token:i.token})),i)),r.isTokenAutoRefreshEnabled=n===void 0?t.automaticDataCollectionEnabled:n,r.provider.initialize(t)}const Mq="app-check",US="app-check-internal";function Lq(){Oi(new mi(Mq,t=>{const e=t.getProvider("app").getImmediate(),n=t.getProvider("heartbeat");return wq(e,n)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,n)=>{t.getProvider(US).initialize()})),Oi(new mi(US,t=>{const e=t.getProvider("app-check").getImmediate();return Tq(e)},"PUBLIC").setInstantiationMode("EXPLICIT")),Vr(Eq,Sq)}Lq();const Vq={apiKey:"AIzaSyAjt3RyE1KkK110jxZQUrm9kjfclWO126k",authDomain:"personal-website-c3482.firebaseapp.com",projectId:"personal-website-c3482",storageBucket:"personal-website-c3482.appspot.com",messagingSenderId:"110986644823",appId:"1:110986644823:web:4081c484521ba6b37bc212",measurementId:"G-PF7D6JKSC3"},$q=t=>{Dq(t,{provider:new lw("6LdIOxQpAAAAAKwbiQMkZD5Fid1DmlsKvWxOIQA5"),isTokenAutoRefreshEnabled:!0})},Fq=()=>{const t=AR(Vq);return $q(t),JR(t),t},hx=Fq();var Uq=!1;/*!
 * pinia v2.2.2
 * (c) 2024 Eduardo San Martin Morote
 * @license MIT
 */let fx;const qg=t=>fx=t,px=Symbol();function Qb(t){return t&&typeof t=="object"&&Object.prototype.toString.call(t)==="[object Object]"&&typeof t.toJSON!="function"}var Ud;(function(t){t.direct="direct",t.patchObject="patch object",t.patchFunction="patch function"})(Ud||(Ud={}));function qq(){const t=gg(!0),e=t.run(()=>ie({}));let n=[],r=[];const i=Tg({install(o){qg(i),i._a=o,o.provide(px,i),o.config.globalProperties.$pinia=i,r.forEach(s=>n.push(s)),r=[]},use(o){return!this._a&&!Uq?r.push(o):n.push(o),this},_p:n,_a:null,_e:t,_s:new Map,state:e});return i}const mx=()=>{};function qS(t,e,n,r=mx){t.push(e);const i=()=>{const o=t.indexOf(e);o>-1&&(t.splice(o,1),r())};return!n&&tf()&&vg(i),i}function Zl(t,...e){t.slice().forEach(n=>{n(...e)})}const Bq=t=>t(),BS=Symbol(),py=Symbol();function Jb(t,e){t instanceof Map&&e instanceof Map?e.forEach((n,r)=>t.set(r,n)):t instanceof Set&&e instanceof Set&&e.forEach(t.add,t);for(const n in e){if(!e.hasOwnProperty(n))continue;const r=e[n],i=t[n];Qb(i)&&Qb(r)&&t.hasOwnProperty(n)&&!_n(r)&&!Mo(r)?t[n]=Jb(i,r):t[n]=r}return t}const jq=Symbol();function Hq(t){return!Qb(t)||!t.hasOwnProperty(jq)}const{assign:Hs}=Object;function Wq(t){return!!(_n(t)&&t.effect)}function zq(t,e,n,r){const{state:i,actions:o,getters:s}=e,a=n.state.value[t];let l;function u(){a||(n.state.value[t]=i?i():{});const c=EO(n.state.value[t]);return Hs(c,o,Object.keys(s||{}).reduce((d,h)=>(d[h]=Tg(te(()=>{qg(n);const p=n._s.get(t);return s[h].call(p,p)})),d),{}))}return l=gx(t,u,e,n,r,!0),l}function gx(t,e,n={},r,i,o){let s;const a=Hs({actions:{}},n),l={deep:!0};let u,c,d=[],h=[],p;const m=r.state.value[t];!o&&!m&&(r.state.value[t]={}),ie({});let g;function v(E){let b;u=c=!1,typeof E=="function"?(E(r.state.value[t]),b={type:Ud.patchFunction,storeId:t,events:p}):(Jb(r.state.value[t],E),b={type:Ud.patchObject,payload:E,storeId:t,events:p});const w=g=Symbol();tr().then(()=>{g===w&&(u=!0)}),c=!0,Zl(d,b,r.state.value[t])}const A=o?function(){const{state:b}=n,w=b?b():{};this.$patch(k=>{Hs(k,w)})}:mx;function I(){s.stop(),d=[],h=[],r._s.delete(t)}const S=(E,b="")=>{if(BS in E)return E[py]=b,E;const w=function(){qg(r);const k=Array.from(arguments),x=[],O=[];function q(G){x.push(G)}function V(G){O.push(G)}Zl(h,{args:k,name:w[py],store:N,after:q,onError:V});let F;try{F=E.apply(this&&this.$id===t?this:N,k)}catch(G){throw Zl(O,G),G}return F instanceof Promise?F.then(G=>(Zl(x,G),G)).catch(G=>(Zl(O,G),Promise.reject(G))):(Zl(x,F),F)};return w[BS]=!0,w[py]=b,w},T={_p:r,$id:t,$onAction:qS.bind(null,h),$patch:v,$reset:A,$subscribe(E,b={}){const w=qS(d,E,b.detached,()=>k()),k=s.run(()=>pn(()=>r.state.value[t],x=>{(b.flush==="sync"?c:u)&&E({storeId:t,type:Ud.direct,events:p},x)},Hs({},l,b)));return w},$dispose:I},N=Pr(T);r._s.set(t,N);const C=(r._a&&r._a.runWithContext||Bq)(()=>r._e.run(()=>(s=gg()).run(()=>e({action:S}))));for(const E in C){const b=C[E];if(_n(b)&&!Wq(b)||Mo(b))o||(m&&Hq(b)&&(_n(b)?b.value=m[E]:Jb(b,m[E])),r.state.value[t][E]=b);else if(typeof b=="function"){const w=S(b,E);C[E]=w,a.actions[E]=b}}return Hs(N,C),Hs(Mt(N),C),Object.defineProperty(N,"$state",{get:()=>r.state.value[t],set:E=>{v(b=>{Hs(b,E)})}}),r._p.forEach(E=>{Hs(N,s.run(()=>E({store:N,app:r._a,pinia:r,options:a})))}),m&&o&&n.hydrate&&n.hydrate(N.$state,m),u=!0,c=!0,N}function uw(t,e,n){let r,i;const o=typeof e=="function";typeof t=="string"?(r=t,i=o?n:e):(i=t,r=t.id);function s(a,l){const u=jO();return a=a||(u?pi(px,null):null),a&&qg(a),a=fx,a._s.has(r)||(o?gx(r,e,i,a):zq(r,i,a)),a._s.get(r)}return s.$id=r,s}function zt(t){{t=Mt(t);const e={};for(const n in t){const r=t[n];(_n(r)||Mo(r))&&(e[n]=Xu(t,n))}return e}}const jS=(t,e)=>{const n=t.storage||sessionStorage,r=t.key||e.$id;if(t.paths){const i=t.paths.reduce((o,s)=>(o[s]=e.$state[s],o),{});n.setItem(r,JSON.stringify(i))}else n.setItem(r,JSON.stringify(e.$state))};var Kq=({options:t,store:e})=>{var n,r,i,o;if((n=t.persist)!=null&&n.enabled){const s=[{key:e.$id,storage:sessionStorage}],a=(i=(r=t.persist)==null?void 0:r.strategies)!=null&&i.length?(o=t.persist)==null?void 0:o.strategies:s;a.forEach(l=>{const u=l.storage||sessionStorage,c=l.key||e.$id,d=u.getItem(c);d&&(e.$patch(JSON.parse(d)),jS(l,e))}),e.$subscribe(()=>{a.forEach(l=>{jS(l,e)})})}};const vx=qq();vx.use(Kq);const Dr=class Dr{constructor(e,n,r={},i){Dr.log(r.debug,n),r.route&&Z1.push({name:r.route}),B4({title:i??e,type:e.toLowerCase(),text:n},5e3)}};Ns(Dr,"success",(e,n={})=>new Dr("Success",e,n)),Ns(Dr,"update",(e,n={})=>new Dr("Warning",e,n,"Update")),Ns(Dr,"warning",(e,n={})=>new Dr("Warning",e,n)),Ns(Dr,"error",(e,n={})=>new Dr("Error",e,n)),Ns(Dr,"generalError",(e,n)=>new Dr("Error",(n==null?void 0:n.message)||yx,{debug:e})),Ns(Dr,"firebaseError",(e,n)=>(Dr.log(e,n),n instanceof Bi?n.message=my[n.code]:n instanceof Error&&Object.keys(my).includes(n.name)?n.message=my[n.name]:n=void 0,Dr.generalError(e,n))),Ns(Dr,"log",(e,n)=>{e&&console.log(n)});let it=Dr;const yx="Something went wrong",my={"":yx,"auth/user-not-found":"Unknown user","auth/invalid-email":"Invalid e-mail address","auth/email-already-in-use":"E-mail already in use","auth/wrong-password":"Wrong password","auth/too-many-requests":"Temporarily blocked","auth/weak-password":"Weak password","auth/requires-recent-login":"You need to re-login to do this","permission-denied":"Not logged in or no permission"};var HS=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var dl,bx;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(C,E){function b(){}b.prototype=E.prototype,C.D=E.prototype,C.prototype=new b,C.prototype.constructor=C,C.C=function(w,k,x){for(var O=Array(arguments.length-2),q=2;q<arguments.length;q++)O[q-2]=arguments[q];return E.prototype[k].apply(w,O)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(C,E,b){b||(b=0);var w=Array(16);if(typeof E=="string")for(var k=0;16>k;++k)w[k]=E.charCodeAt(b++)|E.charCodeAt(b++)<<8|E.charCodeAt(b++)<<16|E.charCodeAt(b++)<<24;else for(k=0;16>k;++k)w[k]=E[b++]|E[b++]<<8|E[b++]<<16|E[b++]<<24;E=C.g[0],b=C.g[1],k=C.g[2];var x=C.g[3],O=E+(x^b&(k^x))+w[0]+3614090360&4294967295;E=b+(O<<7&4294967295|O>>>25),O=x+(k^E&(b^k))+w[1]+3905402710&4294967295,x=E+(O<<12&4294967295|O>>>20),O=k+(b^x&(E^b))+w[2]+606105819&4294967295,k=x+(O<<17&4294967295|O>>>15),O=b+(E^k&(x^E))+w[3]+3250441966&4294967295,b=k+(O<<22&4294967295|O>>>10),O=E+(x^b&(k^x))+w[4]+4118548399&4294967295,E=b+(O<<7&4294967295|O>>>25),O=x+(k^E&(b^k))+w[5]+1200080426&4294967295,x=E+(O<<12&4294967295|O>>>20),O=k+(b^x&(E^b))+w[6]+2821735955&4294967295,k=x+(O<<17&4294967295|O>>>15),O=b+(E^k&(x^E))+w[7]+4249261313&4294967295,b=k+(O<<22&4294967295|O>>>10),O=E+(x^b&(k^x))+w[8]+1770035416&4294967295,E=b+(O<<7&4294967295|O>>>25),O=x+(k^E&(b^k))+w[9]+2336552879&4294967295,x=E+(O<<12&4294967295|O>>>20),O=k+(b^x&(E^b))+w[10]+4294925233&4294967295,k=x+(O<<17&4294967295|O>>>15),O=b+(E^k&(x^E))+w[11]+2304563134&4294967295,b=k+(O<<22&4294967295|O>>>10),O=E+(x^b&(k^x))+w[12]+1804603682&4294967295,E=b+(O<<7&4294967295|O>>>25),O=x+(k^E&(b^k))+w[13]+4254626195&4294967295,x=E+(O<<12&4294967295|O>>>20),O=k+(b^x&(E^b))+w[14]+2792965006&4294967295,k=x+(O<<17&4294967295|O>>>15),O=b+(E^k&(x^E))+w[15]+1236535329&4294967295,b=k+(O<<22&4294967295|O>>>10),O=E+(k^x&(b^k))+w[1]+4129170786&4294967295,E=b+(O<<5&4294967295|O>>>27),O=x+(b^k&(E^b))+w[6]+3225465664&4294967295,x=E+(O<<9&4294967295|O>>>23),O=k+(E^b&(x^E))+w[11]+643717713&4294967295,k=x+(O<<14&4294967295|O>>>18),O=b+(x^E&(k^x))+w[0]+3921069994&4294967295,b=k+(O<<20&4294967295|O>>>12),O=E+(k^x&(b^k))+w[5]+3593408605&4294967295,E=b+(O<<5&4294967295|O>>>27),O=x+(b^k&(E^b))+w[10]+38016083&4294967295,x=E+(O<<9&4294967295|O>>>23),O=k+(E^b&(x^E))+w[15]+3634488961&4294967295,k=x+(O<<14&4294967295|O>>>18),O=b+(x^E&(k^x))+w[4]+3889429448&4294967295,b=k+(O<<20&4294967295|O>>>12),O=E+(k^x&(b^k))+w[9]+568446438&4294967295,E=b+(O<<5&4294967295|O>>>27),O=x+(b^k&(E^b))+w[14]+3275163606&4294967295,x=E+(O<<9&4294967295|O>>>23),O=k+(E^b&(x^E))+w[3]+4107603335&4294967295,k=x+(O<<14&4294967295|O>>>18),O=b+(x^E&(k^x))+w[8]+1163531501&4294967295,b=k+(O<<20&4294967295|O>>>12),O=E+(k^x&(b^k))+w[13]+2850285829&4294967295,E=b+(O<<5&4294967295|O>>>27),O=x+(b^k&(E^b))+w[2]+4243563512&4294967295,x=E+(O<<9&4294967295|O>>>23),O=k+(E^b&(x^E))+w[7]+1735328473&4294967295,k=x+(O<<14&4294967295|O>>>18),O=b+(x^E&(k^x))+w[12]+2368359562&4294967295,b=k+(O<<20&4294967295|O>>>12),O=E+(b^k^x)+w[5]+4294588738&4294967295,E=b+(O<<4&4294967295|O>>>28),O=x+(E^b^k)+w[8]+2272392833&4294967295,x=E+(O<<11&4294967295|O>>>21),O=k+(x^E^b)+w[11]+1839030562&4294967295,k=x+(O<<16&4294967295|O>>>16),O=b+(k^x^E)+w[14]+4259657740&4294967295,b=k+(O<<23&4294967295|O>>>9),O=E+(b^k^x)+w[1]+2763975236&4294967295,E=b+(O<<4&4294967295|O>>>28),O=x+(E^b^k)+w[4]+1272893353&4294967295,x=E+(O<<11&4294967295|O>>>21),O=k+(x^E^b)+w[7]+4139469664&4294967295,k=x+(O<<16&4294967295|O>>>16),O=b+(k^x^E)+w[10]+3200236656&4294967295,b=k+(O<<23&4294967295|O>>>9),O=E+(b^k^x)+w[13]+681279174&4294967295,E=b+(O<<4&4294967295|O>>>28),O=x+(E^b^k)+w[0]+3936430074&4294967295,x=E+(O<<11&4294967295|O>>>21),O=k+(x^E^b)+w[3]+3572445317&4294967295,k=x+(O<<16&4294967295|O>>>16),O=b+(k^x^E)+w[6]+76029189&4294967295,b=k+(O<<23&4294967295|O>>>9),O=E+(b^k^x)+w[9]+3654602809&4294967295,E=b+(O<<4&4294967295|O>>>28),O=x+(E^b^k)+w[12]+3873151461&4294967295,x=E+(O<<11&4294967295|O>>>21),O=k+(x^E^b)+w[15]+530742520&4294967295,k=x+(O<<16&4294967295|O>>>16),O=b+(k^x^E)+w[2]+3299628645&4294967295,b=k+(O<<23&4294967295|O>>>9),O=E+(k^(b|~x))+w[0]+4096336452&4294967295,E=b+(O<<6&4294967295|O>>>26),O=x+(b^(E|~k))+w[7]+1126891415&4294967295,x=E+(O<<10&4294967295|O>>>22),O=k+(E^(x|~b))+w[14]+2878612391&4294967295,k=x+(O<<15&4294967295|O>>>17),O=b+(x^(k|~E))+w[5]+4237533241&4294967295,b=k+(O<<21&4294967295|O>>>11),O=E+(k^(b|~x))+w[12]+1700485571&4294967295,E=b+(O<<6&4294967295|O>>>26),O=x+(b^(E|~k))+w[3]+2399980690&4294967295,x=E+(O<<10&4294967295|O>>>22),O=k+(E^(x|~b))+w[10]+4293915773&4294967295,k=x+(O<<15&4294967295|O>>>17),O=b+(x^(k|~E))+w[1]+2240044497&4294967295,b=k+(O<<21&4294967295|O>>>11),O=E+(k^(b|~x))+w[8]+1873313359&4294967295,E=b+(O<<6&4294967295|O>>>26),O=x+(b^(E|~k))+w[15]+4264355552&4294967295,x=E+(O<<10&4294967295|O>>>22),O=k+(E^(x|~b))+w[6]+2734768916&4294967295,k=x+(O<<15&4294967295|O>>>17),O=b+(x^(k|~E))+w[13]+1309151649&4294967295,b=k+(O<<21&4294967295|O>>>11),O=E+(k^(b|~x))+w[4]+4149444226&4294967295,E=b+(O<<6&4294967295|O>>>26),O=x+(b^(E|~k))+w[11]+3174756917&4294967295,x=E+(O<<10&4294967295|O>>>22),O=k+(E^(x|~b))+w[2]+718787259&4294967295,k=x+(O<<15&4294967295|O>>>17),O=b+(x^(k|~E))+w[9]+3951481745&4294967295,C.g[0]=C.g[0]+E&4294967295,C.g[1]=C.g[1]+(k+(O<<21&4294967295|O>>>11))&4294967295,C.g[2]=C.g[2]+k&4294967295,C.g[3]=C.g[3]+x&4294967295}r.prototype.u=function(C,E){E===void 0&&(E=C.length);for(var b=E-this.blockSize,w=this.B,k=this.h,x=0;x<E;){if(k==0)for(;x<=b;)i(this,C,x),x+=this.blockSize;if(typeof C=="string"){for(;x<E;)if(w[k++]=C.charCodeAt(x++),k==this.blockSize){i(this,w),k=0;break}}else for(;x<E;)if(w[k++]=C[x++],k==this.blockSize){i(this,w),k=0;break}}this.h=k,this.o+=E},r.prototype.v=function(){var C=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);C[0]=128;for(var E=1;E<C.length-8;++E)C[E]=0;var b=8*this.o;for(E=C.length-8;E<C.length;++E)C[E]=b&255,b/=256;for(this.u(C),C=Array(16),E=b=0;4>E;++E)for(var w=0;32>w;w+=8)C[b++]=this.g[E]>>>w&255;return C};function o(C,E){var b=a;return Object.prototype.hasOwnProperty.call(b,C)?b[C]:b[C]=E(C)}function s(C,E){this.h=E;for(var b=[],w=!0,k=C.length-1;0<=k;k--){var x=C[k]|0;w&&x==E||(b[k]=x,w=!1)}this.g=b}var a={};function l(C){return-128<=C&&128>C?o(C,function(E){return new s([E|0],0>E?-1:0)}):new s([C|0],0>C?-1:0)}function u(C){if(isNaN(C)||!isFinite(C))return d;if(0>C)return v(u(-C));for(var E=[],b=1,w=0;C>=b;w++)E[w]=C/b|0,b*=4294967296;return new s(E,0)}function c(C,E){if(C.length==0)throw Error("number format error: empty string");if(E=E||10,2>E||36<E)throw Error("radix out of range: "+E);if(C.charAt(0)=="-")return v(c(C.substring(1),E));if(0<=C.indexOf("-"))throw Error('number format error: interior "-" character');for(var b=u(Math.pow(E,8)),w=d,k=0;k<C.length;k+=8){var x=Math.min(8,C.length-k),O=parseInt(C.substring(k,k+x),E);8>x?(x=u(Math.pow(E,x)),w=w.j(x).add(u(O))):(w=w.j(b),w=w.add(u(O)))}return w}var d=l(0),h=l(1),p=l(16777216);t=s.prototype,t.m=function(){if(g(this))return-v(this).m();for(var C=0,E=1,b=0;b<this.g.length;b++){var w=this.i(b);C+=(0<=w?w:4294967296+w)*E,E*=4294967296}return C},t.toString=function(C){if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(m(this))return"0";if(g(this))return"-"+v(this).toString(C);for(var E=u(Math.pow(C,6)),b=this,w="";;){var k=T(b,E).g;b=A(b,k.j(E));var x=((0<b.g.length?b.g[0]:b.h)>>>0).toString(C);if(b=k,m(b))return x+w;for(;6>x.length;)x="0"+x;w=x+w}},t.i=function(C){return 0>C?0:C<this.g.length?this.g[C]:this.h};function m(C){if(C.h!=0)return!1;for(var E=0;E<C.g.length;E++)if(C.g[E]!=0)return!1;return!0}function g(C){return C.h==-1}t.l=function(C){return C=A(this,C),g(C)?-1:m(C)?0:1};function v(C){for(var E=C.g.length,b=[],w=0;w<E;w++)b[w]=~C.g[w];return new s(b,~C.h).add(h)}t.abs=function(){return g(this)?v(this):this},t.add=function(C){for(var E=Math.max(this.g.length,C.g.length),b=[],w=0,k=0;k<=E;k++){var x=w+(this.i(k)&65535)+(C.i(k)&65535),O=(x>>>16)+(this.i(k)>>>16)+(C.i(k)>>>16);w=O>>>16,x&=65535,O&=65535,b[k]=O<<16|x}return new s(b,b[b.length-1]&-2147483648?-1:0)};function A(C,E){return C.add(v(E))}t.j=function(C){if(m(this)||m(C))return d;if(g(this))return g(C)?v(this).j(v(C)):v(v(this).j(C));if(g(C))return v(this.j(v(C)));if(0>this.l(p)&&0>C.l(p))return u(this.m()*C.m());for(var E=this.g.length+C.g.length,b=[],w=0;w<2*E;w++)b[w]=0;for(w=0;w<this.g.length;w++)for(var k=0;k<C.g.length;k++){var x=this.i(w)>>>16,O=this.i(w)&65535,q=C.i(k)>>>16,V=C.i(k)&65535;b[2*w+2*k]+=O*V,I(b,2*w+2*k),b[2*w+2*k+1]+=x*V,I(b,2*w+2*k+1),b[2*w+2*k+1]+=O*q,I(b,2*w+2*k+1),b[2*w+2*k+2]+=x*q,I(b,2*w+2*k+2)}for(w=0;w<E;w++)b[w]=b[2*w+1]<<16|b[2*w];for(w=E;w<2*E;w++)b[w]=0;return new s(b,0)};function I(C,E){for(;(C[E]&65535)!=C[E];)C[E+1]+=C[E]>>>16,C[E]&=65535,E++}function S(C,E){this.g=C,this.h=E}function T(C,E){if(m(E))throw Error("division by zero");if(m(C))return new S(d,d);if(g(C))return E=T(v(C),E),new S(v(E.g),v(E.h));if(g(E))return E=T(C,v(E)),new S(v(E.g),E.h);if(30<C.g.length){if(g(C)||g(E))throw Error("slowDivide_ only works with positive integers.");for(var b=h,w=E;0>=w.l(C);)b=N(b),w=N(w);var k=R(b,1),x=R(w,1);for(w=R(w,2),b=R(b,2);!m(w);){var O=x.add(w);0>=O.l(C)&&(k=k.add(b),x=O),w=R(w,1),b=R(b,1)}return E=A(C,k.j(E)),new S(k,E)}for(k=d;0<=C.l(E);){for(b=Math.max(1,Math.floor(C.m()/E.m())),w=Math.ceil(Math.log(b)/Math.LN2),w=48>=w?1:Math.pow(2,w-48),x=u(b),O=x.j(E);g(O)||0<O.l(C);)b-=w,x=u(b),O=x.j(E);m(x)&&(x=h),k=k.add(x),C=A(C,O)}return new S(k,C)}t.A=function(C){return T(this,C).h},t.and=function(C){for(var E=Math.max(this.g.length,C.g.length),b=[],w=0;w<E;w++)b[w]=this.i(w)&C.i(w);return new s(b,this.h&C.h)},t.or=function(C){for(var E=Math.max(this.g.length,C.g.length),b=[],w=0;w<E;w++)b[w]=this.i(w)|C.i(w);return new s(b,this.h|C.h)},t.xor=function(C){for(var E=Math.max(this.g.length,C.g.length),b=[],w=0;w<E;w++)b[w]=this.i(w)^C.i(w);return new s(b,this.h^C.h)};function N(C){for(var E=C.g.length+1,b=[],w=0;w<E;w++)b[w]=C.i(w)<<1|C.i(w-1)>>>31;return new s(b,C.h)}function R(C,E){var b=E>>5;E%=32;for(var w=C.g.length-b,k=[],x=0;x<w;x++)k[x]=0<E?C.i(x+b)>>>E|C.i(x+b+1)<<32-E:C.i(x+b);return new s(k,C.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,bx=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=u,s.fromString=c,dl=s}).apply(typeof HS<"u"?HS:typeof self<"u"?self:typeof window<"u"?window:{});var lp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var _x,wx,wd,Tx,Vp,Zb,Ex,Sx,Ix;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(f,_,D){return f==Array.prototype||f==Object.prototype||(f[_]=D.value),f};function n(f){f=[typeof globalThis=="object"&&globalThis,f,typeof window=="object"&&window,typeof self=="object"&&self,typeof lp=="object"&&lp];for(var _=0;_<f.length;++_){var D=f[_];if(D&&D.Math==Math)return D}throw Error("Cannot find global object")}var r=n(this);function i(f,_){if(_)e:{var D=r;f=f.split(".");for(var U=0;U<f.length-1;U++){var ce=f[U];if(!(ce in D))break e;D=D[ce]}f=f[f.length-1],U=D[f],_=_(U),_!=U&&_!=null&&e(D,f,{configurable:!0,writable:!0,value:_})}}function o(f,_){f instanceof String&&(f+="");var D=0,U=!1,ce={next:function(){if(!U&&D<f.length){var ye=D++;return{value:_(ye,f[ye]),done:!1}}return U=!0,{done:!0,value:void 0}}};return ce[Symbol.iterator]=function(){return ce},ce}i("Array.prototype.values",function(f){return f||function(){return o(this,function(_,D){return D})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var s=s||{},a=this||self;function l(f){var _=typeof f;return _=_!="object"?_:f?Array.isArray(f)?"array":_:"null",_=="array"||_=="object"&&typeof f.length=="number"}function u(f){var _=typeof f;return _=="object"&&f!=null||_=="function"}function c(f,_,D){return f.call.apply(f.bind,arguments)}function d(f,_,D){if(!f)throw Error();if(2<arguments.length){var U=Array.prototype.slice.call(arguments,2);return function(){var ce=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(ce,U),f.apply(_,ce)}}return function(){return f.apply(_,arguments)}}function h(f,_,D){return h=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?c:d,h.apply(null,arguments)}function p(f,_){var D=Array.prototype.slice.call(arguments,1);return function(){var U=D.slice();return U.push.apply(U,arguments),f.apply(this,U)}}function m(f,_){function D(){}D.prototype=_.prototype,f.aa=_.prototype,f.prototype=new D,f.prototype.constructor=f,f.Qb=function(U,ce,ye){for(var qe=Array(arguments.length-2),dn=2;dn<arguments.length;dn++)qe[dn-2]=arguments[dn];return _.prototype[ce].apply(U,qe)}}function g(f){const _=f.length;if(0<_){const D=Array(_);for(let U=0;U<_;U++)D[U]=f[U];return D}return[]}function v(f,_){for(let D=1;D<arguments.length;D++){const U=arguments[D];if(l(U)){const ce=f.length||0,ye=U.length||0;f.length=ce+ye;for(let qe=0;qe<ye;qe++)f[ce+qe]=U[qe]}else f.push(U)}}class A{constructor(_,D){this.i=_,this.j=D,this.h=0,this.g=null}get(){let _;return 0<this.h?(this.h--,_=this.g,this.g=_.next,_.next=null):_=this.i(),_}}function I(f){return/^[\s\xa0]*$/.test(f)}function S(){var f=a.navigator;return f&&(f=f.userAgent)?f:""}function T(f){return T[" "](f),f}T[" "]=function(){};var N=S().indexOf("Gecko")!=-1&&!(S().toLowerCase().indexOf("webkit")!=-1&&S().indexOf("Edge")==-1)&&!(S().indexOf("Trident")!=-1||S().indexOf("MSIE")!=-1)&&S().indexOf("Edge")==-1;function R(f,_,D){for(const U in f)_.call(D,f[U],U,f)}function C(f,_){for(const D in f)_.call(void 0,f[D],D,f)}function E(f){const _={};for(const D in f)_[D]=f[D];return _}const b="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function w(f,_){let D,U;for(let ce=1;ce<arguments.length;ce++){U=arguments[ce];for(D in U)f[D]=U[D];for(let ye=0;ye<b.length;ye++)D=b[ye],Object.prototype.hasOwnProperty.call(U,D)&&(f[D]=U[D])}}function k(f){var _=1;f=f.split(":");const D=[];for(;0<_&&f.length;)D.push(f.shift()),_--;return f.length&&D.push(f.join(":")),D}function x(f){a.setTimeout(()=>{throw f},0)}function O(){var f=H;let _=null;return f.g&&(_=f.g,f.g=f.g.next,f.g||(f.h=null),_.next=null),_}class q{constructor(){this.h=this.g=null}add(_,D){const U=V.get();U.set(_,D),this.h?this.h.next=U:this.g=U,this.h=U}}var V=new A(()=>new F,f=>f.reset());class F{constructor(){this.next=this.g=this.h=null}set(_,D){this.h=_,this.g=D,this.next=null}reset(){this.next=this.g=this.h=null}}let G,Z=!1,H=new q,$=()=>{const f=a.Promise.resolve(void 0);G=()=>{f.then(ue)}};var ue=()=>{for(var f;f=O();){try{f.h.call(f.g)}catch(D){x(D)}var _=V;_.j(f),100>_.h&&(_.h++,f.next=_.g,_.g=f)}Z=!1};function se(){this.s=this.s,this.C=this.C}se.prototype.s=!1,se.prototype.ma=function(){this.s||(this.s=!0,this.N())},se.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ve(f,_){this.type=f,this.g=this.target=_,this.defaultPrevented=!1}ve.prototype.h=function(){this.defaultPrevented=!0};var Se=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var f=!1,_=Object.defineProperty({},"passive",{get:function(){f=!0}});try{const D=()=>{};a.addEventListener("test",D,_),a.removeEventListener("test",D,_)}catch{}return f}();function he(f,_){if(ve.call(this,f?f.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,f){var D=this.type=f.type,U=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;if(this.target=f.target||f.srcElement,this.g=_,_=f.relatedTarget){if(N){e:{try{T(_.nodeName);var ce=!0;break e}catch{}ce=!1}ce||(_=null)}}else D=="mouseover"?_=f.fromElement:D=="mouseout"&&(_=f.toElement);this.relatedTarget=_,U?(this.clientX=U.clientX!==void 0?U.clientX:U.pageX,this.clientY=U.clientY!==void 0?U.clientY:U.pageY,this.screenX=U.screenX||0,this.screenY=U.screenY||0):(this.clientX=f.clientX!==void 0?f.clientX:f.pageX,this.clientY=f.clientY!==void 0?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType=typeof f.pointerType=="string"?f.pointerType:Y[f.pointerType]||"",this.state=f.state,this.i=f,f.defaultPrevented&&he.aa.h.call(this)}}m(he,ve);var Y={2:"touch",3:"pen",4:"mouse"};he.prototype.h=function(){he.aa.h.call(this);var f=this.i;f.preventDefault?f.preventDefault():f.returnValue=!1};var ne="closure_listenable_"+(1e6*Math.random()|0),pe=0;function oe(f,_,D,U,ce){this.listener=f,this.proxy=null,this.src=_,this.type=D,this.capture=!!U,this.ha=ce,this.key=++pe,this.da=this.fa=!1}function _e(f){f.da=!0,f.listener=null,f.proxy=null,f.src=null,f.ha=null}function Ce(f){this.src=f,this.g={},this.h=0}Ce.prototype.add=function(f,_,D,U,ce){var ye=f.toString();f=this.g[ye],f||(f=this.g[ye]=[],this.h++);var qe=L(f,_,U,ce);return-1<qe?(_=f[qe],D||(_.fa=!1)):(_=new oe(_,this.src,ye,!!U,ce),_.fa=D,f.push(_)),_};function fe(f,_){var D=_.type;if(D in f.g){var U=f.g[D],ce=Array.prototype.indexOf.call(U,_,void 0),ye;(ye=0<=ce)&&Array.prototype.splice.call(U,ce,1),ye&&(_e(_),f.g[D].length==0&&(delete f.g[D],f.h--))}}function L(f,_,D,U){for(var ce=0;ce<f.length;++ce){var ye=f[ce];if(!ye.da&&ye.listener==_&&ye.capture==!!D&&ye.ha==U)return ce}return-1}var j="closure_lm_"+(1e6*Math.random()|0),X={};function me(f,_,D,U,ce){if(U&&U.once)return Ve(f,_,D,U,ce);if(Array.isArray(_)){for(var ye=0;ye<_.length;ye++)me(f,_[ye],D,U,ce);return null}return D=lt(D),f&&f[ne]?f.K(_,D,u(U)?!!U.capture:!!U,ce):ge(f,_,D,!1,U,ce)}function ge(f,_,D,U,ce,ye){if(!_)throw Error("Invalid event type");var qe=u(ce)?!!ce.capture:!!ce,dn=He(f);if(dn||(f[j]=dn=new Ce(f)),D=dn.add(_,D,U,qe,ye),D.proxy)return D;if(U=Ae(),D.proxy=U,U.src=f,U.listener=D,f.addEventListener)Se||(ce=qe),ce===void 0&&(ce=!1),f.addEventListener(_.toString(),U,ce);else if(f.attachEvent)f.attachEvent(Ie(_.toString()),U);else if(f.addListener&&f.removeListener)f.addListener(U);else throw Error("addEventListener and attachEvent are unavailable.");return D}function Ae(){function f(D){return _.call(f.src,f.listener,D)}const _=je;return f}function Ve(f,_,D,U,ce){if(Array.isArray(_)){for(var ye=0;ye<_.length;ye++)Ve(f,_[ye],D,U,ce);return null}return D=lt(D),f&&f[ne]?f.L(_,D,u(U)?!!U.capture:!!U,ce):ge(f,_,D,!0,U,ce)}function ke(f,_,D,U,ce){if(Array.isArray(_))for(var ye=0;ye<_.length;ye++)ke(f,_[ye],D,U,ce);else U=u(U)?!!U.capture:!!U,D=lt(D),f&&f[ne]?(f=f.i,_=String(_).toString(),_ in f.g&&(ye=f.g[_],D=L(ye,D,U,ce),-1<D&&(_e(ye[D]),Array.prototype.splice.call(ye,D,1),ye.length==0&&(delete f.g[_],f.h--)))):f&&(f=He(f))&&(_=f.g[_.toString()],f=-1,_&&(f=L(_,D,U,ce)),(D=-1<f?_[f]:null)&&xe(D))}function xe(f){if(typeof f!="number"&&f&&!f.da){var _=f.src;if(_&&_[ne])fe(_.i,f);else{var D=f.type,U=f.proxy;_.removeEventListener?_.removeEventListener(D,U,f.capture):_.detachEvent?_.detachEvent(Ie(D),U):_.addListener&&_.removeListener&&_.removeListener(U),(D=He(_))?(fe(D,f),D.h==0&&(D.src=null,_[j]=null)):_e(f)}}}function Ie(f){return f in X?X[f]:X[f]="on"+f}function je(f,_){if(f.da)f=!0;else{_=new he(_,this);var D=f.listener,U=f.ha||f.src;f.fa&&xe(f),f=D.call(U,_)}return f}function He(f){return f=f[j],f instanceof Ce?f:null}var Qe="__closure_events_fn_"+(1e9*Math.random()>>>0);function lt(f){return typeof f=="function"?f:(f[Qe]||(f[Qe]=function(_){return f.handleEvent(_)}),f[Qe])}function et(){se.call(this),this.i=new Ce(this),this.M=this,this.F=null}m(et,se),et.prototype[ne]=!0,et.prototype.removeEventListener=function(f,_,D,U){ke(this,f,_,D,U)};function re(f,_){var D,U=f.F;if(U)for(D=[];U;U=U.F)D.push(U);if(f=f.M,U=_.type||_,typeof _=="string")_=new ve(_,f);else if(_ instanceof ve)_.target=_.target||f;else{var ce=_;_=new ve(U,f),w(_,ce)}if(ce=!0,D)for(var ye=D.length-1;0<=ye;ye--){var qe=_.g=D[ye];ce=K(qe,U,!0,_)&&ce}if(qe=_.g=f,ce=K(qe,U,!0,_)&&ce,ce=K(qe,U,!1,_)&&ce,D)for(ye=0;ye<D.length;ye++)qe=_.g=D[ye],ce=K(qe,U,!1,_)&&ce}et.prototype.N=function(){if(et.aa.N.call(this),this.i){var f=this.i,_;for(_ in f.g){for(var D=f.g[_],U=0;U<D.length;U++)_e(D[U]);delete f.g[_],f.h--}}this.F=null},et.prototype.K=function(f,_,D,U){return this.i.add(String(f),_,!1,D,U)},et.prototype.L=function(f,_,D,U){return this.i.add(String(f),_,!0,D,U)};function K(f,_,D,U){if(_=f.i.g[String(_)],!_)return!0;_=_.concat();for(var ce=!0,ye=0;ye<_.length;++ye){var qe=_[ye];if(qe&&!qe.da&&qe.capture==D){var dn=qe.listener,Or=qe.ha||qe.src;qe.fa&&fe(f.i,qe),ce=dn.call(Or,U)!==!1&&ce}}return ce&&!U.defaultPrevented}function Q(f,_,D){if(typeof f=="function")D&&(f=h(f,D));else if(f&&typeof f.handleEvent=="function")f=h(f.handleEvent,f);else throw Error("Invalid listener argument");return 2147483647<Number(_)?-1:a.setTimeout(f,_||0)}function ae(f){f.g=Q(()=>{f.g=null,f.i&&(f.i=!1,ae(f))},f.l);const _=f.h;f.h=null,f.m.apply(null,_)}class be extends se{constructor(_,D){super(),this.m=_,this.l=D,this.h=null,this.i=!1,this.g=null}j(_){this.h=arguments,this.g?this.i=!0:ae(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ue(f){se.call(this),this.h=f,this.g={}}m(Ue,se);var tt=[];function we(f){R(f.g,function(_,D){this.g.hasOwnProperty(D)&&xe(_)},f),f.g={}}Ue.prototype.N=function(){Ue.aa.N.call(this),we(this)},Ue.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var De=a.JSON.stringify,Fe=a.JSON.parse,nt=class{stringify(f){return a.JSON.stringify(f,void 0)}parse(f){return a.JSON.parse(f,void 0)}};function Ye(){}Ye.prototype.h=null;function ut(f){return f.h||(f.h=f.i())}function Pt(){}var It={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function br(){ve.call(this,"d")}m(br,ve);function $a(){ve.call(this,"c")}m($a,ve);var Zo={},Fa=null;function Df(){return Fa=Fa||new et}Zo.La="serverreachability";function IT(f){ve.call(this,Zo.La,f)}m(IT,ve);function Fc(f){const _=Df();re(_,new IT(_))}Zo.STAT_EVENT="statevent";function CT(f,_){ve.call(this,Zo.STAT_EVENT,f),this.stat=_}m(CT,ve);function ai(f){const _=Df();re(_,new CT(_,f))}Zo.Ma="timingevent";function AT(f,_){ve.call(this,Zo.Ma,f),this.size=_}m(AT,ve);function Uc(f,_){if(typeof f!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){f()},_)}function qc(){this.g=!0}qc.prototype.xa=function(){this.g=!1};function sV(f,_,D,U,ce,ye){f.info(function(){if(f.g)if(ye)for(var qe="",dn=ye.split("&"),Or=0;Or<dn.length;Or++){var Yt=dn[Or].split("=");if(1<Yt.length){var Ur=Yt[0];Yt=Yt[1];var qr=Ur.split("_");qe=2<=qr.length&&qr[1]=="type"?qe+(Ur+"="+Yt+"&"):qe+(Ur+"=redacted&")}}else qe=null;else qe=ye;return"XMLHTTP REQ ("+U+") [attempt "+ce+"]: "+_+`
`+D+`
`+qe})}function aV(f,_,D,U,ce,ye,qe){f.info(function(){return"XMLHTTP RESP ("+U+") [ attempt "+ce+"]: "+_+`
`+D+`
`+ye+" "+qe})}function Gl(f,_,D,U){f.info(function(){return"XMLHTTP TEXT ("+_+"): "+uV(f,D)+(U?" "+U:"")})}function lV(f,_){f.info(function(){return"TIMEOUT: "+_})}qc.prototype.info=function(){};function uV(f,_){if(!f.g)return _;if(!_)return null;try{var D=JSON.parse(_);if(D){for(f=0;f<D.length;f++)if(Array.isArray(D[f])){var U=D[f];if(!(2>U.length)){var ce=U[1];if(Array.isArray(ce)&&!(1>ce.length)){var ye=ce[0];if(ye!="noop"&&ye!="stop"&&ye!="close")for(var qe=1;qe<ce.length;qe++)ce[qe]=""}}}}return De(D)}catch{return _}}var Nf={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},PT={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Nv;function Mf(){}m(Mf,Ye),Mf.prototype.g=function(){return new XMLHttpRequest},Mf.prototype.i=function(){return{}},Nv=new Mf;function Rs(f,_,D,U){this.j=f,this.i=_,this.l=D,this.R=U||1,this.U=new Ue(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new OT}function OT(){this.i=null,this.g="",this.h=!1}var kT={},Mv={};function Lv(f,_,D){f.L=1,f.v=Ff(es(_)),f.m=D,f.P=!0,RT(f,null)}function RT(f,_){f.F=Date.now(),Lf(f),f.A=es(f.v);var D=f.A,U=f.R;Array.isArray(U)||(U=[String(U)]),WT(D.i,"t",U),f.C=0,D=f.j.J,f.h=new OT,f.g=uE(f.j,D?_:null,!f.m),0<f.O&&(f.M=new be(h(f.Y,f,f.g),f.O)),_=f.U,D=f.g,U=f.ca;var ce="readystatechange";Array.isArray(ce)||(ce&&(tt[0]=ce.toString()),ce=tt);for(var ye=0;ye<ce.length;ye++){var qe=me(D,ce[ye],U||_.handleEvent,!1,_.h||_);if(!qe)break;_.g[qe.key]=qe}_=f.H?E(f.H):{},f.m?(f.u||(f.u="POST"),_["Content-Type"]="application/x-www-form-urlencoded",f.g.ea(f.A,f.u,f.m,_)):(f.u="GET",f.g.ea(f.A,f.u,null,_)),Fc(),sV(f.i,f.u,f.A,f.l,f.R,f.m)}Rs.prototype.ca=function(f){f=f.target;const _=this.M;_&&ts(f)==3?_.j():this.Y(f)},Rs.prototype.Y=function(f){try{if(f==this.g)e:{const qr=ts(this.g);var _=this.g.Ba();const Ql=this.g.Z();if(!(3>qr)&&(qr!=3||this.g&&(this.h.h||this.g.oa()||JT(this.g)))){this.J||qr!=4||_==7||(_==8||0>=Ql?Fc(3):Fc(2)),Vv(this);var D=this.g.Z();this.X=D;t:if(xT(this)){var U=JT(this.g);f="";var ce=U.length,ye=ts(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ua(this),Bc(this);var qe="";break t}this.h.i=new a.TextDecoder}for(_=0;_<ce;_++)this.h.h=!0,f+=this.h.i.decode(U[_],{stream:!(ye&&_==ce-1)});U.length=0,this.h.g+=f,this.C=0,qe=this.h.g}else qe=this.g.oa();if(this.o=D==200,aV(this.i,this.u,this.A,this.l,this.R,qr,D),this.o){if(this.T&&!this.K){t:{if(this.g){var dn,Or=this.g;if((dn=Or.g?Or.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!I(dn)){var Yt=dn;break t}}Yt=null}if(D=Yt)Gl(this.i,this.l,D,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,$v(this,D);else{this.o=!1,this.s=3,ai(12),Ua(this),Bc(this);break e}}if(this.P){D=!0;let ro;for(;!this.J&&this.C<qe.length;)if(ro=cV(this,qe),ro==Mv){qr==4&&(this.s=4,ai(14),D=!1),Gl(this.i,this.l,null,"[Incomplete Response]");break}else if(ro==kT){this.s=4,ai(15),Gl(this.i,this.l,qe,"[Invalid Chunk]"),D=!1;break}else Gl(this.i,this.l,ro,null),$v(this,ro);if(xT(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),qr!=4||qe.length!=0||this.h.h||(this.s=1,ai(16),D=!1),this.o=this.o&&D,!D)Gl(this.i,this.l,qe,"[Invalid Chunked Response]"),Ua(this),Bc(this);else if(0<qe.length&&!this.W){this.W=!0;var Ur=this.j;Ur.g==this&&Ur.ba&&!Ur.M&&(Ur.j.info("Great, no buffering proxy detected. Bytes received: "+qe.length),Hv(Ur),Ur.M=!0,ai(11))}}else Gl(this.i,this.l,qe,null),$v(this,qe);qr==4&&Ua(this),this.o&&!this.J&&(qr==4?oE(this.j,this):(this.o=!1,Lf(this)))}else AV(this.g),D==400&&0<qe.indexOf("Unknown SID")?(this.s=3,ai(12)):(this.s=0,ai(13)),Ua(this),Bc(this)}}}catch{}finally{}};function xT(f){return f.g?f.u=="GET"&&f.L!=2&&f.j.Ca:!1}function cV(f,_){var D=f.C,U=_.indexOf(`
`,D);return U==-1?Mv:(D=Number(_.substring(D,U)),isNaN(D)?kT:(U+=1,U+D>_.length?Mv:(_=_.slice(U,U+D),f.C=U+D,_)))}Rs.prototype.cancel=function(){this.J=!0,Ua(this)};function Lf(f){f.S=Date.now()+f.I,DT(f,f.I)}function DT(f,_){if(f.B!=null)throw Error("WatchDog timer not null");f.B=Uc(h(f.ba,f),_)}function Vv(f){f.B&&(a.clearTimeout(f.B),f.B=null)}Rs.prototype.ba=function(){this.B=null;const f=Date.now();0<=f-this.S?(lV(this.i,this.A),this.L!=2&&(Fc(),ai(17)),Ua(this),this.s=2,Bc(this)):DT(this,this.S-f)};function Bc(f){f.j.G==0||f.J||oE(f.j,f)}function Ua(f){Vv(f);var _=f.M;_&&typeof _.ma=="function"&&_.ma(),f.M=null,we(f.U),f.g&&(_=f.g,f.g=null,_.abort(),_.ma())}function $v(f,_){try{var D=f.j;if(D.G!=0&&(D.g==f||Fv(D.h,f))){if(!f.K&&Fv(D.h,f)&&D.G==3){try{var U=D.Da.g.parse(_)}catch{U=null}if(Array.isArray(U)&&U.length==3){var ce=U;if(ce[0]==0){e:if(!D.u){if(D.g)if(D.g.F+3e3<f.F)Hf(D),Bf(D);else break e;jv(D),ai(18)}}else D.za=ce[1],0<D.za-D.T&&37500>ce[2]&&D.F&&D.v==0&&!D.C&&(D.C=Uc(h(D.Za,D),6e3));if(1>=LT(D.h)&&D.ca){try{D.ca()}catch{}D.ca=void 0}}else Ba(D,11)}else if((f.K||D.g==f)&&Hf(D),!I(_))for(ce=D.Da.g.parse(_),_=0;_<ce.length;_++){let Yt=ce[_];if(D.T=Yt[0],Yt=Yt[1],D.G==2)if(Yt[0]=="c"){D.K=Yt[1],D.ia=Yt[2];const Ur=Yt[3];Ur!=null&&(D.la=Ur,D.j.info("VER="+D.la));const qr=Yt[4];qr!=null&&(D.Aa=qr,D.j.info("SVER="+D.Aa));const Ql=Yt[5];Ql!=null&&typeof Ql=="number"&&0<Ql&&(U=1.5*Ql,D.L=U,D.j.info("backChannelRequestTimeoutMs_="+U)),U=D;const ro=f.g;if(ro){const zf=ro.g?ro.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(zf){var ye=U.h;ye.g||zf.indexOf("spdy")==-1&&zf.indexOf("quic")==-1&&zf.indexOf("h2")==-1||(ye.j=ye.l,ye.g=new Set,ye.h&&(Uv(ye,ye.h),ye.h=null))}if(U.D){const Wv=ro.g?ro.g.getResponseHeader("X-HTTP-Session-Id"):null;Wv&&(U.ya=Wv,wn(U.I,U.D,Wv))}}D.G=3,D.l&&D.l.ua(),D.ba&&(D.R=Date.now()-f.F,D.j.info("Handshake RTT: "+D.R+"ms")),U=D;var qe=f;if(U.qa=lE(U,U.J?U.ia:null,U.W),qe.K){VT(U.h,qe);var dn=qe,Or=U.L;Or&&(dn.I=Or),dn.B&&(Vv(dn),Lf(dn)),U.g=qe}else rE(U);0<D.i.length&&jf(D)}else Yt[0]!="stop"&&Yt[0]!="close"||Ba(D,7);else D.G==3&&(Yt[0]=="stop"||Yt[0]=="close"?Yt[0]=="stop"?Ba(D,7):Bv(D):Yt[0]!="noop"&&D.l&&D.l.ta(Yt),D.v=0)}}Fc(4)}catch{}}var dV=class{constructor(f,_){this.g=f,this.map=_}};function NT(f){this.l=f||10,a.PerformanceNavigationTiming?(f=a.performance.getEntriesByType("navigation"),f=0<f.length&&(f[0].nextHopProtocol=="hq"||f[0].nextHopProtocol=="h2")):f=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=f?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function MT(f){return f.h?!0:f.g?f.g.size>=f.j:!1}function LT(f){return f.h?1:f.g?f.g.size:0}function Fv(f,_){return f.h?f.h==_:f.g?f.g.has(_):!1}function Uv(f,_){f.g?f.g.add(_):f.h=_}function VT(f,_){f.h&&f.h==_?f.h=null:f.g&&f.g.has(_)&&f.g.delete(_)}NT.prototype.cancel=function(){if(this.i=$T(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const f of this.g.values())f.cancel();this.g.clear()}};function $T(f){if(f.h!=null)return f.i.concat(f.h.D);if(f.g!=null&&f.g.size!==0){let _=f.i;for(const D of f.g.values())_=_.concat(D.D);return _}return g(f.i)}function hV(f){if(f.V&&typeof f.V=="function")return f.V();if(typeof Map<"u"&&f instanceof Map||typeof Set<"u"&&f instanceof Set)return Array.from(f.values());if(typeof f=="string")return f.split("");if(l(f)){for(var _=[],D=f.length,U=0;U<D;U++)_.push(f[U]);return _}_=[],D=0;for(U in f)_[D++]=f[U];return _}function fV(f){if(f.na&&typeof f.na=="function")return f.na();if(!f.V||typeof f.V!="function"){if(typeof Map<"u"&&f instanceof Map)return Array.from(f.keys());if(!(typeof Set<"u"&&f instanceof Set)){if(l(f)||typeof f=="string"){var _=[];f=f.length;for(var D=0;D<f;D++)_.push(D);return _}_=[],D=0;for(const U in f)_[D++]=U;return _}}}function FT(f,_){if(f.forEach&&typeof f.forEach=="function")f.forEach(_,void 0);else if(l(f)||typeof f=="string")Array.prototype.forEach.call(f,_,void 0);else for(var D=fV(f),U=hV(f),ce=U.length,ye=0;ye<ce;ye++)_.call(void 0,U[ye],D&&D[ye],f)}var UT=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function pV(f,_){if(f){f=f.split("&");for(var D=0;D<f.length;D++){var U=f[D].indexOf("="),ce=null;if(0<=U){var ye=f[D].substring(0,U);ce=f[D].substring(U+1)}else ye=f[D];_(ye,ce?decodeURIComponent(ce.replace(/\+/g," ")):"")}}}function qa(f){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,f instanceof qa){this.h=f.h,Vf(this,f.j),this.o=f.o,this.g=f.g,$f(this,f.s),this.l=f.l;var _=f.i,D=new Wc;D.i=_.i,_.g&&(D.g=new Map(_.g),D.h=_.h),qT(this,D),this.m=f.m}else f&&(_=String(f).match(UT))?(this.h=!1,Vf(this,_[1]||"",!0),this.o=jc(_[2]||""),this.g=jc(_[3]||"",!0),$f(this,_[4]),this.l=jc(_[5]||"",!0),qT(this,_[6]||"",!0),this.m=jc(_[7]||"")):(this.h=!1,this.i=new Wc(null,this.h))}qa.prototype.toString=function(){var f=[],_=this.j;_&&f.push(Hc(_,BT,!0),":");var D=this.g;return(D||_=="file")&&(f.push("//"),(_=this.o)&&f.push(Hc(_,BT,!0),"@"),f.push(encodeURIComponent(String(D)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),D=this.s,D!=null&&f.push(":",String(D))),(D=this.l)&&(this.g&&D.charAt(0)!="/"&&f.push("/"),f.push(Hc(D,D.charAt(0)=="/"?vV:gV,!0))),(D=this.i.toString())&&f.push("?",D),(D=this.m)&&f.push("#",Hc(D,bV)),f.join("")};function es(f){return new qa(f)}function Vf(f,_,D){f.j=D?jc(_,!0):_,f.j&&(f.j=f.j.replace(/:$/,""))}function $f(f,_){if(_){if(_=Number(_),isNaN(_)||0>_)throw Error("Bad port number "+_);f.s=_}else f.s=null}function qT(f,_,D){_ instanceof Wc?(f.i=_,_V(f.i,f.h)):(D||(_=Hc(_,yV)),f.i=new Wc(_,f.h))}function wn(f,_,D){f.i.set(_,D)}function Ff(f){return wn(f,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),f}function jc(f,_){return f?_?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function Hc(f,_,D){return typeof f=="string"?(f=encodeURI(f).replace(_,mV),D&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function mV(f){return f=f.charCodeAt(0),"%"+(f>>4&15).toString(16)+(f&15).toString(16)}var BT=/[#\/\?@]/g,gV=/[#\?:]/g,vV=/[#\?]/g,yV=/[#\?@]/g,bV=/#/g;function Wc(f,_){this.h=this.g=null,this.i=f||null,this.j=!!_}function xs(f){f.g||(f.g=new Map,f.h=0,f.i&&pV(f.i,function(_,D){f.add(decodeURIComponent(_.replace(/\+/g," ")),D)}))}t=Wc.prototype,t.add=function(f,_){xs(this),this.i=null,f=Yl(this,f);var D=this.g.get(f);return D||this.g.set(f,D=[]),D.push(_),this.h+=1,this};function jT(f,_){xs(f),_=Yl(f,_),f.g.has(_)&&(f.i=null,f.h-=f.g.get(_).length,f.g.delete(_))}function HT(f,_){return xs(f),_=Yl(f,_),f.g.has(_)}t.forEach=function(f,_){xs(this),this.g.forEach(function(D,U){D.forEach(function(ce){f.call(_,ce,U,this)},this)},this)},t.na=function(){xs(this);const f=Array.from(this.g.values()),_=Array.from(this.g.keys()),D=[];for(let U=0;U<_.length;U++){const ce=f[U];for(let ye=0;ye<ce.length;ye++)D.push(_[U])}return D},t.V=function(f){xs(this);let _=[];if(typeof f=="string")HT(this,f)&&(_=_.concat(this.g.get(Yl(this,f))));else{f=Array.from(this.g.values());for(let D=0;D<f.length;D++)_=_.concat(f[D])}return _},t.set=function(f,_){return xs(this),this.i=null,f=Yl(this,f),HT(this,f)&&(this.h-=this.g.get(f).length),this.g.set(f,[_]),this.h+=1,this},t.get=function(f,_){return f?(f=this.V(f),0<f.length?String(f[0]):_):_};function WT(f,_,D){jT(f,_),0<D.length&&(f.i=null,f.g.set(Yl(f,_),g(D)),f.h+=D.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const f=[],_=Array.from(this.g.keys());for(var D=0;D<_.length;D++){var U=_[D];const ye=encodeURIComponent(String(U)),qe=this.V(U);for(U=0;U<qe.length;U++){var ce=ye;qe[U]!==""&&(ce+="="+encodeURIComponent(String(qe[U]))),f.push(ce)}}return this.i=f.join("&")};function Yl(f,_){return _=String(_),f.j&&(_=_.toLowerCase()),_}function _V(f,_){_&&!f.j&&(xs(f),f.i=null,f.g.forEach(function(D,U){var ce=U.toLowerCase();U!=ce&&(jT(this,U),WT(this,ce,D))},f)),f.j=_}function wV(f,_){const D=new qc;if(a.Image){const U=new Image;U.onload=p(Ds,D,"TestLoadImage: loaded",!0,_,U),U.onerror=p(Ds,D,"TestLoadImage: error",!1,_,U),U.onabort=p(Ds,D,"TestLoadImage: abort",!1,_,U),U.ontimeout=p(Ds,D,"TestLoadImage: timeout",!1,_,U),a.setTimeout(function(){U.ontimeout&&U.ontimeout()},1e4),U.src=f}else _(!1)}function TV(f,_){const D=new qc,U=new AbortController,ce=setTimeout(()=>{U.abort(),Ds(D,"TestPingServer: timeout",!1,_)},1e4);fetch(f,{signal:U.signal}).then(ye=>{clearTimeout(ce),ye.ok?Ds(D,"TestPingServer: ok",!0,_):Ds(D,"TestPingServer: server error",!1,_)}).catch(()=>{clearTimeout(ce),Ds(D,"TestPingServer: error",!1,_)})}function Ds(f,_,D,U,ce){try{ce&&(ce.onload=null,ce.onerror=null,ce.onabort=null,ce.ontimeout=null),U(D)}catch{}}function EV(){this.g=new nt}function SV(f,_,D){const U=D||"";try{FT(f,function(ce,ye){let qe=ce;u(ce)&&(qe=De(ce)),_.push(U+ye+"="+encodeURIComponent(qe))})}catch(ce){throw _.push(U+"type="+encodeURIComponent("_badmap")),ce}}function zc(f){this.l=f.Ub||null,this.j=f.eb||!1}m(zc,Ye),zc.prototype.g=function(){return new Uf(this.l,this.j)},zc.prototype.i=function(f){return function(){return f}}({});function Uf(f,_){et.call(this),this.D=f,this.o=_,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}m(Uf,et),t=Uf.prototype,t.open=function(f,_){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=f,this.A=_,this.readyState=1,Gc(this)},t.send=function(f){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const _={headers:this.u,method:this.B,credentials:this.m,cache:void 0};f&&(_.body=f),(this.D||a).fetch(new Request(this.A,_)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Kc(this)),this.readyState=0},t.Sa=function(f){if(this.g&&(this.l=f,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=f.headers,this.readyState=2,Gc(this)),this.g&&(this.readyState=3,Gc(this),this.g)))if(this.responseType==="arraybuffer")f.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in f){if(this.j=f.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;zT(this)}else f.text().then(this.Ra.bind(this),this.ga.bind(this))};function zT(f){f.j.read().then(f.Pa.bind(f)).catch(f.ga.bind(f))}t.Pa=function(f){if(this.g){if(this.o&&f.value)this.response.push(f.value);else if(!this.o){var _=f.value?f.value:new Uint8Array(0);(_=this.v.decode(_,{stream:!f.done}))&&(this.response=this.responseText+=_)}f.done?Kc(this):Gc(this),this.readyState==3&&zT(this)}},t.Ra=function(f){this.g&&(this.response=this.responseText=f,Kc(this))},t.Qa=function(f){this.g&&(this.response=f,Kc(this))},t.ga=function(){this.g&&Kc(this)};function Kc(f){f.readyState=4,f.l=null,f.j=null,f.v=null,Gc(f)}t.setRequestHeader=function(f,_){this.u.append(f,_)},t.getResponseHeader=function(f){return this.h&&this.h.get(f.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const f=[],_=this.h.entries();for(var D=_.next();!D.done;)D=D.value,f.push(D[0]+": "+D[1]),D=_.next();return f.join(`\r
`)};function Gc(f){f.onreadystatechange&&f.onreadystatechange.call(f)}Object.defineProperty(Uf.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(f){this.m=f?"include":"same-origin"}});function KT(f){let _="";return R(f,function(D,U){_+=U,_+=":",_+=D,_+=`\r
`}),_}function qv(f,_,D){e:{for(U in D){var U=!1;break e}U=!0}U||(D=KT(D),typeof f=="string"?D!=null&&encodeURIComponent(String(D)):wn(f,_,D))}function jn(f){et.call(this),this.headers=new Map,this.o=f||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}m(jn,et);var IV=/^https?$/i,CV=["POST","PUT"];t=jn.prototype,t.Ha=function(f){this.J=f},t.ea=function(f,_,D,U){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+f);_=_?_.toUpperCase():"GET",this.D=f,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Nv.g(),this.v=this.o?ut(this.o):ut(Nv),this.g.onreadystatechange=h(this.Ea,this);try{this.B=!0,this.g.open(_,String(f),!0),this.B=!1}catch(ye){GT(this,ye);return}if(f=D||"",D=new Map(this.headers),U)if(Object.getPrototypeOf(U)===Object.prototype)for(var ce in U)D.set(ce,U[ce]);else if(typeof U.keys=="function"&&typeof U.get=="function")for(const ye of U.keys())D.set(ye,U.get(ye));else throw Error("Unknown input type for opt_headers: "+String(U));U=Array.from(D.keys()).find(ye=>ye.toLowerCase()=="content-type"),ce=a.FormData&&f instanceof a.FormData,!(0<=Array.prototype.indexOf.call(CV,_,void 0))||U||ce||D.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ye,qe]of D)this.g.setRequestHeader(ye,qe);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{QT(this),this.u=!0,this.g.send(f),this.u=!1}catch(ye){GT(this,ye)}};function GT(f,_){f.h=!1,f.g&&(f.j=!0,f.g.abort(),f.j=!1),f.l=_,f.m=5,YT(f),qf(f)}function YT(f){f.A||(f.A=!0,re(f,"complete"),re(f,"error"))}t.abort=function(f){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=f||7,re(this,"complete"),re(this,"abort"),qf(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),qf(this,!0)),jn.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?XT(this):this.bb())},t.bb=function(){XT(this)};function XT(f){if(f.h&&typeof s<"u"&&(!f.v[1]||ts(f)!=4||f.Z()!=2)){if(f.u&&ts(f)==4)Q(f.Ea,0,f);else if(re(f,"readystatechange"),ts(f)==4){f.h=!1;try{const qe=f.Z();e:switch(qe){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var _=!0;break e;default:_=!1}var D;if(!(D=_)){var U;if(U=qe===0){var ce=String(f.D).match(UT)[1]||null;!ce&&a.self&&a.self.location&&(ce=a.self.location.protocol.slice(0,-1)),U=!IV.test(ce?ce.toLowerCase():"")}D=U}if(D)re(f,"complete"),re(f,"success");else{f.m=6;try{var ye=2<ts(f)?f.g.statusText:""}catch{ye=""}f.l=ye+" ["+f.Z()+"]",YT(f)}}finally{qf(f)}}}}function qf(f,_){if(f.g){QT(f);const D=f.g,U=f.v[0]?()=>{}:null;f.g=null,f.v=null,_||re(f,"ready");try{D.onreadystatechange=U}catch{}}}function QT(f){f.I&&(a.clearTimeout(f.I),f.I=null)}t.isActive=function(){return!!this.g};function ts(f){return f.g?f.g.readyState:0}t.Z=function(){try{return 2<ts(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(f){if(this.g){var _=this.g.responseText;return f&&_.indexOf(f)==0&&(_=_.substring(f.length)),Fe(_)}};function JT(f){try{if(!f.g)return null;if("response"in f.g)return f.g.response;switch(f.H){case"":case"text":return f.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in f.g)return f.g.mozResponseArrayBuffer}return null}catch{return null}}function AV(f){const _={};f=(f.g&&2<=ts(f)&&f.g.getAllResponseHeaders()||"").split(`\r
`);for(let U=0;U<f.length;U++){if(I(f[U]))continue;var D=k(f[U]);const ce=D[0];if(D=D[1],typeof D!="string")continue;D=D.trim();const ye=_[ce]||[];_[ce]=ye,ye.push(D)}C(_,function(U){return U.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Yc(f,_,D){return D&&D.internalChannelParams&&D.internalChannelParams[f]||_}function ZT(f){this.Aa=0,this.i=[],this.j=new qc,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Yc("failFast",!1,f),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Yc("baseRetryDelayMs",5e3,f),this.cb=Yc("retryDelaySeedMs",1e4,f),this.Wa=Yc("forwardChannelMaxRetries",2,f),this.wa=Yc("forwardChannelRequestTimeoutMs",2e4,f),this.pa=f&&f.xmlHttpFactory||void 0,this.Xa=f&&f.Tb||void 0,this.Ca=f&&f.useFetchStreams||!1,this.L=void 0,this.J=f&&f.supportsCrossDomainXhr||!1,this.K="",this.h=new NT(f&&f.concurrentRequestLimit),this.Da=new EV,this.P=f&&f.fastHandshake||!1,this.O=f&&f.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=f&&f.Rb||!1,f&&f.xa&&this.j.xa(),f&&f.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&f&&f.detectBufferingProxy||!1,this.ja=void 0,f&&f.longPollingTimeout&&0<f.longPollingTimeout&&(this.ja=f.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=ZT.prototype,t.la=8,t.G=1,t.connect=function(f,_,D,U){ai(0),this.W=f,this.H=_||{},D&&U!==void 0&&(this.H.OSID=D,this.H.OAID=U),this.F=this.X,this.I=lE(this,null,this.W),jf(this)};function Bv(f){if(eE(f),f.G==3){var _=f.U++,D=es(f.I);if(wn(D,"SID",f.K),wn(D,"RID",_),wn(D,"TYPE","terminate"),Xc(f,D),_=new Rs(f,f.j,_),_.L=2,_.v=Ff(es(D)),D=!1,a.navigator&&a.navigator.sendBeacon)try{D=a.navigator.sendBeacon(_.v.toString(),"")}catch{}!D&&a.Image&&(new Image().src=_.v,D=!0),D||(_.g=uE(_.j,null),_.g.ea(_.v)),_.F=Date.now(),Lf(_)}aE(f)}function Bf(f){f.g&&(Hv(f),f.g.cancel(),f.g=null)}function eE(f){Bf(f),f.u&&(a.clearTimeout(f.u),f.u=null),Hf(f),f.h.cancel(),f.s&&(typeof f.s=="number"&&a.clearTimeout(f.s),f.s=null)}function jf(f){if(!MT(f.h)&&!f.s){f.s=!0;var _=f.Ga;G||$(),Z||(G(),Z=!0),H.add(_,f),f.B=0}}function PV(f,_){return LT(f.h)>=f.h.j-(f.s?1:0)?!1:f.s?(f.i=_.D.concat(f.i),!0):f.G==1||f.G==2||f.B>=(f.Va?0:f.Wa)?!1:(f.s=Uc(h(f.Ga,f,_),sE(f,f.B)),f.B++,!0)}t.Ga=function(f){if(this.s)if(this.s=null,this.G==1){if(!f){this.U=Math.floor(1e5*Math.random()),f=this.U++;const ce=new Rs(this,this.j,f);let ye=this.o;if(this.S&&(ye?(ye=E(ye),w(ye,this.S)):ye=this.S),this.m!==null||this.O||(ce.H=ye,ye=null),this.P)e:{for(var _=0,D=0;D<this.i.length;D++){t:{var U=this.i[D];if("__data__"in U.map&&(U=U.map.__data__,typeof U=="string")){U=U.length;break t}U=void 0}if(U===void 0)break;if(_+=U,4096<_){_=D;break e}if(_===4096||D===this.i.length-1){_=D+1;break e}}_=1e3}else _=1e3;_=nE(this,ce,_),D=es(this.I),wn(D,"RID",f),wn(D,"CVER",22),this.D&&wn(D,"X-HTTP-Session-Id",this.D),Xc(this,D),ye&&(this.O?_="headers="+encodeURIComponent(String(KT(ye)))+"&"+_:this.m&&qv(D,this.m,ye)),Uv(this.h,ce),this.Ua&&wn(D,"TYPE","init"),this.P?(wn(D,"$req",_),wn(D,"SID","null"),ce.T=!0,Lv(ce,D,null)):Lv(ce,D,_),this.G=2}}else this.G==3&&(f?tE(this,f):this.i.length==0||MT(this.h)||tE(this))};function tE(f,_){var D;_?D=_.l:D=f.U++;const U=es(f.I);wn(U,"SID",f.K),wn(U,"RID",D),wn(U,"AID",f.T),Xc(f,U),f.m&&f.o&&qv(U,f.m,f.o),D=new Rs(f,f.j,D,f.B+1),f.m===null&&(D.H=f.o),_&&(f.i=_.D.concat(f.i)),_=nE(f,D,1e3),D.I=Math.round(.5*f.wa)+Math.round(.5*f.wa*Math.random()),Uv(f.h,D),Lv(D,U,_)}function Xc(f,_){f.H&&R(f.H,function(D,U){wn(_,U,D)}),f.l&&FT({},function(D,U){wn(_,U,D)})}function nE(f,_,D){D=Math.min(f.i.length,D);var U=f.l?h(f.l.Na,f.l,f):null;e:{var ce=f.i;let ye=-1;for(;;){const qe=["count="+D];ye==-1?0<D?(ye=ce[0].g,qe.push("ofs="+ye)):ye=0:qe.push("ofs="+ye);let dn=!0;for(let Or=0;Or<D;Or++){let Yt=ce[Or].g;const Ur=ce[Or].map;if(Yt-=ye,0>Yt)ye=Math.max(0,ce[Or].g-100),dn=!1;else try{SV(Ur,qe,"req"+Yt+"_")}catch{U&&U(Ur)}}if(dn){U=qe.join("&");break e}}}return f=f.i.splice(0,D),_.D=f,U}function rE(f){if(!f.g&&!f.u){f.Y=1;var _=f.Fa;G||$(),Z||(G(),Z=!0),H.add(_,f),f.v=0}}function jv(f){return f.g||f.u||3<=f.v?!1:(f.Y++,f.u=Uc(h(f.Fa,f),sE(f,f.v)),f.v++,!0)}t.Fa=function(){if(this.u=null,iE(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var f=2*this.R;this.j.info("BP detection timer enabled: "+f),this.A=Uc(h(this.ab,this),f)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ai(10),Bf(this),iE(this))};function Hv(f){f.A!=null&&(a.clearTimeout(f.A),f.A=null)}function iE(f){f.g=new Rs(f,f.j,"rpc",f.Y),f.m===null&&(f.g.H=f.o),f.g.O=0;var _=es(f.qa);wn(_,"RID","rpc"),wn(_,"SID",f.K),wn(_,"AID",f.T),wn(_,"CI",f.F?"0":"1"),!f.F&&f.ja&&wn(_,"TO",f.ja),wn(_,"TYPE","xmlhttp"),Xc(f,_),f.m&&f.o&&qv(_,f.m,f.o),f.L&&(f.g.I=f.L);var D=f.g;f=f.ia,D.L=1,D.v=Ff(es(_)),D.m=null,D.P=!0,RT(D,f)}t.Za=function(){this.C!=null&&(this.C=null,Bf(this),jv(this),ai(19))};function Hf(f){f.C!=null&&(a.clearTimeout(f.C),f.C=null)}function oE(f,_){var D=null;if(f.g==_){Hf(f),Hv(f),f.g=null;var U=2}else if(Fv(f.h,_))D=_.D,VT(f.h,_),U=1;else return;if(f.G!=0){if(_.o)if(U==1){D=_.m?_.m.length:0,_=Date.now()-_.F;var ce=f.B;U=Df(),re(U,new AT(U,D)),jf(f)}else rE(f);else if(ce=_.s,ce==3||ce==0&&0<_.X||!(U==1&&PV(f,_)||U==2&&jv(f)))switch(D&&0<D.length&&(_=f.h,_.i=_.i.concat(D)),ce){case 1:Ba(f,5);break;case 4:Ba(f,10);break;case 3:Ba(f,6);break;default:Ba(f,2)}}}function sE(f,_){let D=f.Ta+Math.floor(Math.random()*f.cb);return f.isActive()||(D*=2),D*_}function Ba(f,_){if(f.j.info("Error code "+_),_==2){var D=h(f.fb,f),U=f.Xa;const ce=!U;U=new qa(U||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Vf(U,"https"),Ff(U),ce?wV(U.toString(),D):TV(U.toString(),D)}else ai(2);f.G=0,f.l&&f.l.sa(_),aE(f),eE(f)}t.fb=function(f){f?(this.j.info("Successfully pinged google.com"),ai(2)):(this.j.info("Failed to ping google.com"),ai(1))};function aE(f){if(f.G=0,f.ka=[],f.l){const _=$T(f.h);(_.length!=0||f.i.length!=0)&&(v(f.ka,_),v(f.ka,f.i),f.h.i.length=0,g(f.i),f.i.length=0),f.l.ra()}}function lE(f,_,D){var U=D instanceof qa?es(D):new qa(D);if(U.g!="")_&&(U.g=_+"."+U.g),$f(U,U.s);else{var ce=a.location;U=ce.protocol,_=_?_+"."+ce.hostname:ce.hostname,ce=+ce.port;var ye=new qa(null);U&&Vf(ye,U),_&&(ye.g=_),ce&&$f(ye,ce),D&&(ye.l=D),U=ye}return D=f.D,_=f.ya,D&&_&&wn(U,D,_),wn(U,"VER",f.la),Xc(f,U),U}function uE(f,_,D){if(_&&!f.J)throw Error("Can't create secondary domain capable XhrIo object.");return _=f.Ca&&!f.pa?new jn(new zc({eb:D})):new jn(f.pa),_.Ha(f.J),_}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function cE(){}t=cE.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Wf(){}Wf.prototype.g=function(f,_){return new ki(f,_)};function ki(f,_){et.call(this),this.g=new ZT(_),this.l=f,this.h=_&&_.messageUrlParams||null,f=_&&_.messageHeaders||null,_&&_.clientProtocolHeaderRequired&&(f?f["X-Client-Protocol"]="webchannel":f={"X-Client-Protocol":"webchannel"}),this.g.o=f,f=_&&_.initMessageHeaders||null,_&&_.messageContentType&&(f?f["X-WebChannel-Content-Type"]=_.messageContentType:f={"X-WebChannel-Content-Type":_.messageContentType}),_&&_.va&&(f?f["X-WebChannel-Client-Profile"]=_.va:f={"X-WebChannel-Client-Profile":_.va}),this.g.S=f,(f=_&&_.Sb)&&!I(f)&&(this.g.m=f),this.v=_&&_.supportsCrossDomainXhr||!1,this.u=_&&_.sendRawJson||!1,(_=_&&_.httpSessionIdParam)&&!I(_)&&(this.g.D=_,f=this.h,f!==null&&_ in f&&(f=this.h,_ in f&&delete f[_])),this.j=new Xl(this)}m(ki,et),ki.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},ki.prototype.close=function(){Bv(this.g)},ki.prototype.o=function(f){var _=this.g;if(typeof f=="string"){var D={};D.__data__=f,f=D}else this.u&&(D={},D.__data__=De(f),f=D);_.i.push(new dV(_.Ya++,f)),_.G==3&&jf(_)},ki.prototype.N=function(){this.g.l=null,delete this.j,Bv(this.g),delete this.g,ki.aa.N.call(this)};function dE(f){br.call(this),f.__headers__&&(this.headers=f.__headers__,this.statusCode=f.__status__,delete f.__headers__,delete f.__status__);var _=f.__sm__;if(_){e:{for(const D in _){f=D;break e}f=void 0}(this.i=f)&&(f=this.i,_=_!==null&&f in _?_[f]:void 0),this.data=_}else this.data=f}m(dE,br);function hE(){$a.call(this),this.status=1}m(hE,$a);function Xl(f){this.g=f}m(Xl,cE),Xl.prototype.ua=function(){re(this.g,"a")},Xl.prototype.ta=function(f){re(this.g,new dE(f))},Xl.prototype.sa=function(f){re(this.g,new hE)},Xl.prototype.ra=function(){re(this.g,"b")},Wf.prototype.createWebChannel=Wf.prototype.g,ki.prototype.send=ki.prototype.o,ki.prototype.open=ki.prototype.m,ki.prototype.close=ki.prototype.close,Ix=function(){return new Wf},Sx=function(){return Df()},Ex=Zo,Zb={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Nf.NO_ERROR=0,Nf.TIMEOUT=8,Nf.HTTP_ERROR=6,Vp=Nf,PT.COMPLETE="complete",Tx=PT,Pt.EventType=It,It.OPEN="a",It.CLOSE="b",It.ERROR="c",It.MESSAGE="d",et.prototype.listen=et.prototype.K,wd=Pt,wx=zc,jn.prototype.listenOnce=jn.prototype.L,jn.prototype.getLastError=jn.prototype.Ka,jn.prototype.getLastErrorCode=jn.prototype.Ba,jn.prototype.getStatus=jn.prototype.Z,jn.prototype.getResponseJson=jn.prototype.Oa,jn.prototype.getResponseText=jn.prototype.oa,jn.prototype.send=jn.prototype.ea,jn.prototype.setWithCredentials=jn.prototype.Ha,_x=jn}).apply(typeof lp<"u"?lp:typeof self<"u"?self:typeof window<"u"?window:{});const WS="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wr{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Wr.UNAUTHENTICATED=new Wr(null),Wr.GOOGLE_CREDENTIALS=new Wr("google-credentials-uid"),Wr.FIRST_PARTY=new Wr("first-party-uid"),Wr.MOCK_USER=new Wr("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Oc="10.13.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cl=new Ac("@firebase/firestore");function ed(){return Cl.logLevel}function ot(t,...e){if(Cl.logLevel<=xt.DEBUG){const n=e.map(cw);Cl.debug(`Firestore (${Oc}): ${t}`,...n)}}function Ts(t,...e){if(Cl.logLevel<=xt.ERROR){const n=e.map(cw);Cl.error(`Firestore (${Oc}): ${t}`,...n)}}function rc(t,...e){if(Cl.logLevel<=xt.WARN){const n=e.map(cw);Cl.warn(`Firestore (${Oc}): ${t}`,...n)}}function cw(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yt(t="Unexpected state"){const e=`FIRESTORE (${Oc}) INTERNAL ASSERTION FAILED: `+t;throw Ts(e),new Error(e)}function mn(t,e){t||yt()}function Et(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ee={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ke extends Bi{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vs{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cx{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Gq{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Wr.UNAUTHENTICATED))}shutdown(){}}class Yq{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class Xq{constructor(e){this.t=e,this.currentUser=Wr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let o=new vs;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new vs,e.enqueueRetryable(()=>i(this.currentUser))};const s=()=>{const l=o;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{ot("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),s()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(ot("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new vs)}},0),s()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(ot("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(mn(typeof r.accessToken=="string"),new Cx(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return mn(e===null||typeof e=="string"),new Wr(e)}}class Qq{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Wr.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class Jq{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new Qq(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Wr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Zq{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class e9{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const r=o=>{o.error!=null&&ot("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const s=o.token!==this.R;return this.R=o.token,ot("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const i=o=>{ot("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.A.getImmediate({optional:!0});o?i(o):ot("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(mn(typeof n.token=="string"),this.R=n.token,new Zq(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t9(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ax{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=t9(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%e.length))}return r}}function Qt(t,e){return t<e?-1:t>e?1:0}function ic(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nn{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Ke(Ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Ke(Ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new Ke(Ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ke(Ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Nn.fromMillis(Date.now())}static fromDate(e){return Nn.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Nn(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Qt(this.nanoseconds,e.nanoseconds):Qt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tt{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Tt(e)}static min(){return new Tt(new Nn(0,0))}static max(){return new Tt(new Nn(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _h{constructor(e,n,r){n===void 0?n=0:n>e.length&&yt(),r===void 0?r=e.length-n:r>e.length-n&&yt(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return _h.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof _h?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const o=e.get(i),s=n.get(i);if(o<s)return-1;if(o>s)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class yn extends _h{construct(e,n,r){return new yn(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Ke(Ee.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new yn(n)}static emptyPath(){return new yn([])}}const n9=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Mr extends _h{construct(e,n,r){return new Mr(e,n,r)}static isValidIdentifier(e){return n9.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Mr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Mr(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const o=()=>{if(r.length===0)throw new Ke(Ee.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let s=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new Ke(Ee.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new Ke(Ee.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(s=!s,i++):a!=="."||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new Ke(Ee.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Mr(n)}static emptyPath(){return new Mr([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dt{constructor(e){this.path=e}static fromPath(e){return new dt(yn.fromString(e))}static fromName(e){return new dt(yn.fromString(e).popFirst(5))}static empty(){return new dt(yn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&yn.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return yn.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new dt(new yn(e.slice()))}}function r9(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=Tt.fromTimestamp(r===1e9?new Nn(n+1,0):new Nn(n,r));return new Ea(i,dt.empty(),e)}function i9(t){return new Ea(t.readTime,t.key,-1)}class Ea{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Ea(Tt.min(),dt.empty(),-1)}static max(){return new Ea(Tt.max(),dt.empty(),-1)}}function o9(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=dt.comparator(t.documentKey,e.documentKey),n!==0?n:Qt(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s9="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class a9{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lf(t){if(t.code!==Ee.FAILED_PRECONDITION||t.message!==s9)throw t;ot("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oe{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&yt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new Oe((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof Oe?n:Oe.resolve(n)}catch(n){return Oe.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):Oe.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):Oe.reject(n)}static resolve(e){return new Oe((n,r)=>{n(e)})}static reject(e){return new Oe((n,r)=>{r(e)})}static waitFor(e){return new Oe((n,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&n()},l=>r(l))}),s=!0,o===i&&n()})}static or(e){let n=Oe.resolve(!1);for(const r of e)n=n.next(i=>i?Oe.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new Oe((r,i)=>{const o=e.length,s=new Array(o);let a=0;for(let l=0;l<o;l++){const u=l;n(e[u]).next(c=>{s[u]=c,++a,a===o&&r(s)},c=>i(c))}})}static doWhile(e,n){return new Oe((r,i)=>{const o=()=>{e()===!0?n().next(()=>{o()},i):r()};o()})}}function l9(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function uf(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dw{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}dw.oe=-1;function Bg(t){return t==null}function Em(t){return t===0&&1/t==-1/0}function u9(t){return typeof t=="number"&&Number.isInteger(t)&&!Em(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zS(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function ql(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Px(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let cr=class e0{constructor(e,n){this.comparator=e,this.root=n||da.EMPTY}insert(e,n){return new e0(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,da.BLACK,null,null))}remove(e){return new e0(this.comparator,this.root.remove(e,this.comparator).copy(null,null,da.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new up(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new up(this.root,e,this.comparator,!1)}getReverseIterator(){return new up(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new up(this.root,e,this.comparator,!0)}},up=class{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},da=class is{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??is.RED,this.left=i??is.EMPTY,this.right=o??is.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new is(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return is.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return is.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,is.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,is.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw yt();const e=this.left.check();if(e!==this.right.check())throw yt();return e+(this.isRed()?0:1)}};da.EMPTY=null,da.RED=!0,da.BLACK=!1;da.EMPTY=new class{constructor(){this.size=0}get key(){throw yt()}get value(){throw yt()}get color(){throw yt()}get left(){throw yt()}get right(){throw yt()}copy(e,n,r,i,o){return this}insert(e,n,r){return new da(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $r{constructor(e){this.comparator=e,this.data=new cr(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new KS(this.data.getIterator())}getIteratorFrom(e){return new KS(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof $r)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new $r(this.comparator);return n.data=e,n}}class KS{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ni{constructor(e){this.fields=e,e.sort(Mr.comparator)}static empty(){return new Ni([])}unionWith(e){let n=new $r(Mr.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Ni(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return ic(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ox extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fr{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new Ox("Invalid base64 string: "+o):o}}(e);return new Fr(n)}static fromUint8Array(e){const n=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new Fr(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Qt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Fr.EMPTY_BYTE_STRING=new Fr("");const c9=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Sa(t){if(mn(!!t),typeof t=="string"){let e=0;const n=c9.exec(t);if(mn(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Qn(t.seconds),nanos:Qn(t.nanos)}}function Qn(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Al(t){return typeof t=="string"?Fr.fromBase64String(t):Fr.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jg(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function hw(t){const e=t.mapValue.fields.__previous_value__;return jg(e)?hw(e):e}function wh(t){const e=Sa(t.mapValue.fields.__local_write_time__.timestampValue);return new Nn(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d9{constructor(e,n,r,i,o,s,a,l,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=u}}class Th{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Th("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Th&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cp={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Pl(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?jg(t)?4:f9(t)?9007199254740991:h9(t)?10:11:yt()}function zo(t,e){if(t===e)return!0;const n=Pl(t);if(n!==Pl(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return wh(t).isEqual(wh(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const s=Sa(i.timestampValue),a=Sa(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,o){return Al(i.bytesValue).isEqual(Al(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,o){return Qn(i.geoPointValue.latitude)===Qn(o.geoPointValue.latitude)&&Qn(i.geoPointValue.longitude)===Qn(o.geoPointValue.longitude)}(t,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return Qn(i.integerValue)===Qn(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const s=Qn(i.doubleValue),a=Qn(o.doubleValue);return s===a?Em(s)===Em(a):isNaN(s)&&isNaN(a)}return!1}(t,e);case 9:return ic(t.arrayValue.values||[],e.arrayValue.values||[],zo);case 10:case 11:return function(i,o){const s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(zS(s)!==zS(a))return!1;for(const l in s)if(s.hasOwnProperty(l)&&(a[l]===void 0||!zo(s[l],a[l])))return!1;return!0}(t,e);default:return yt()}}function Eh(t,e){return(t.values||[]).find(n=>zo(n,e))!==void 0}function oc(t,e){if(t===e)return 0;const n=Pl(t),r=Pl(e);if(n!==r)return Qt(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Qt(t.booleanValue,e.booleanValue);case 2:return function(o,s){const a=Qn(o.integerValue||o.doubleValue),l=Qn(s.integerValue||s.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return GS(t.timestampValue,e.timestampValue);case 4:return GS(wh(t),wh(e));case 5:return Qt(t.stringValue,e.stringValue);case 6:return function(o,s){const a=Al(o),l=Al(s);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(o,s){const a=o.split("/"),l=s.split("/");for(let u=0;u<a.length&&u<l.length;u++){const c=Qt(a[u],l[u]);if(c!==0)return c}return Qt(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,s){const a=Qt(Qn(o.latitude),Qn(s.latitude));return a!==0?a:Qt(Qn(o.longitude),Qn(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return YS(t.arrayValue,e.arrayValue);case 10:return function(o,s){var a,l,u,c;const d=o.fields||{},h=s.fields||{},p=(a=d.value)===null||a===void 0?void 0:a.arrayValue,m=(l=h.value)===null||l===void 0?void 0:l.arrayValue,g=Qt(((u=p==null?void 0:p.values)===null||u===void 0?void 0:u.length)||0,((c=m==null?void 0:m.values)===null||c===void 0?void 0:c.length)||0);return g!==0?g:YS(p,m)}(t.mapValue,e.mapValue);case 11:return function(o,s){if(o===cp.mapValue&&s===cp.mapValue)return 0;if(o===cp.mapValue)return 1;if(s===cp.mapValue)return-1;const a=o.fields||{},l=Object.keys(a),u=s.fields||{},c=Object.keys(u);l.sort(),c.sort();for(let d=0;d<l.length&&d<c.length;++d){const h=Qt(l[d],c[d]);if(h!==0)return h;const p=oc(a[l[d]],u[c[d]]);if(p!==0)return p}return Qt(l.length,c.length)}(t.mapValue,e.mapValue);default:throw yt()}}function GS(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Qt(t,e);const n=Sa(t),r=Sa(e),i=Qt(n.seconds,r.seconds);return i!==0?i:Qt(n.nanos,r.nanos)}function YS(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const o=oc(n[i],r[i]);if(o)return o}return Qt(n.length,r.length)}function sc(t){return t0(t)}function t0(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Sa(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Al(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return dt.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const o of n.values||[])i?i=!1:r+=",",r+=t0(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",o=!0;for(const s of r)o?o=!1:i+=",",i+=`${s}:${t0(n.fields[s])}`;return i+"}"}(t.mapValue):yt()}function Sm(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function n0(t){return!!t&&"integerValue"in t}function fw(t){return!!t&&"arrayValue"in t}function XS(t){return!!t&&"nullValue"in t}function QS(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function $p(t){return!!t&&"mapValue"in t}function h9(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function qd(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return ql(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=qd(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=qd(t.arrayValue.values[n]);return e}return Object.assign({},t)}function f9(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ti{constructor(e){this.value=e}static empty(){return new Ti({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!$p(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=qd(n)}setAll(e){let n=Mr.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}s?r[a.lastSegment()]=qd(s):i.push(a.lastSegment())});const o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){const n=this.field(e.popLast());$p(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return zo(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];$p(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){ql(n,(i,o)=>e[i]=o);for(const i of r)delete e[i]}clone(){return new Ti(qd(this.value))}}function kx(t){const e=[];return ql(t.fields,(n,r)=>{const i=new Mr([n]);if($p(r)){const o=kx(r.mapValue).fields;if(o.length===0)e.push(i);else for(const s of o)e.push(i.child(s))}else e.push(i)}),new Ni(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kr{constructor(e,n,r,i,o,s,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new Kr(e,0,Tt.min(),Tt.min(),Tt.min(),Ti.empty(),0)}static newFoundDocument(e,n,r,i){return new Kr(e,1,n,Tt.min(),r,i,0)}static newNoDocument(e,n){return new Kr(e,2,n,Tt.min(),Tt.min(),Ti.empty(),0)}static newUnknownDocument(e,n){return new Kr(e,3,n,Tt.min(),Tt.min(),Ti.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Tt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ti.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ti.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Tt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Kr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Kr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ac{constructor(e,n){this.position=e,this.inclusive=n}}function JS(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const o=e[i],s=t.position[i];if(o.field.isKeyField()?r=dt.comparator(dt.fromName(s.referenceValue),n.key):r=oc(s,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function ZS(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!zo(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sh{constructor(e,n="asc"){this.field=e,this.dir=n}}function p9(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rx{}class sr extends Rx{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new g9(e,n,r):n==="array-contains"?new b9(e,r):n==="in"?new _9(e,r):n==="not-in"?new w9(e,r):n==="array-contains-any"?new T9(e,r):new sr(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new v9(e,r):new y9(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(oc(n,this.value)):n!==null&&Pl(this.value)===Pl(n)&&this.matchesComparison(oc(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return yt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Eo extends Rx{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new Eo(e,n)}matches(e){return xx(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function xx(t){return t.op==="and"}function Dx(t){return m9(t)&&xx(t)}function m9(t){for(const e of t.filters)if(e instanceof Eo)return!1;return!0}function r0(t){if(t instanceof sr)return t.field.canonicalString()+t.op.toString()+sc(t.value);if(Dx(t))return t.filters.map(e=>r0(e)).join(",");{const e=t.filters.map(n=>r0(n)).join(",");return`${t.op}(${e})`}}function Nx(t,e){return t instanceof sr?function(r,i){return i instanceof sr&&r.op===i.op&&r.field.isEqual(i.field)&&zo(r.value,i.value)}(t,e):t instanceof Eo?function(r,i){return i instanceof Eo&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,a)=>o&&Nx(s,i.filters[a]),!0):!1}(t,e):void yt()}function Mx(t){return t instanceof sr?function(n){return`${n.field.canonicalString()} ${n.op} ${sc(n.value)}`}(t):t instanceof Eo?function(n){return n.op.toString()+" {"+n.getFilters().map(Mx).join(" ,")+"}"}(t):"Filter"}class g9 extends sr{constructor(e,n,r){super(e,n,r),this.key=dt.fromName(r.referenceValue)}matches(e){const n=dt.comparator(e.key,this.key);return this.matchesComparison(n)}}class v9 extends sr{constructor(e,n){super(e,"in",n),this.keys=Lx("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class y9 extends sr{constructor(e,n){super(e,"not-in",n),this.keys=Lx("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function Lx(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>dt.fromName(r.referenceValue))}class b9 extends sr{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return fw(n)&&Eh(n.arrayValue,this.value)}}class _9 extends sr{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Eh(this.value.arrayValue,n)}}class w9 extends sr{constructor(e,n){super(e,"not-in",n)}matches(e){if(Eh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Eh(this.value.arrayValue,n)}}class T9 extends sr{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!fw(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Eh(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E9{constructor(e,n=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.ue=null}}function eI(t,e=null,n=[],r=[],i=null,o=null,s=null){return new E9(t,e,n,r,i,o,s)}function pw(t){const e=Et(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>r0(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),Bg(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>sc(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>sc(r)).join(",")),e.ue=n}return e.ue}function mw(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!p9(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!Nx(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!ZS(t.startAt,e.startAt)&&ZS(t.endAt,e.endAt)}function i0(t){return dt.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bl{constructor(e,n=null,r=[],i=[],o=null,s="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=l,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function S9(t,e,n,r,i,o,s,a){return new Bl(t,e,n,r,i,o,s,a)}function Hg(t){return new Bl(t)}function tI(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function gw(t){return t.collectionGroup!==null}function Fu(t){const e=Et(t);if(e.ce===null){e.ce=[];const n=new Set;for(const o of e.explicitOrderBy)e.ce.push(o),n.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new $r(Mr.comparator);return s.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.ce.push(new Sh(o,r))}),n.has(Mr.keyField().canonicalString())||e.ce.push(new Sh(Mr.keyField(),r))}return e.ce}function Vo(t){const e=Et(t);return e.le||(e.le=I9(e,Fu(t))),e.le}function I9(t,e){if(t.limitType==="F")return eI(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const o=i.dir==="desc"?"asc":"desc";return new Sh(i.field,o)});const n=t.endAt?new ac(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new ac(t.startAt.position,t.startAt.inclusive):null;return eI(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function o0(t,e){const n=t.filters.concat([e]);return new Bl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Im(t,e,n){return new Bl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Wg(t,e){return mw(Vo(t),Vo(e))&&t.limitType===e.limitType}function Vx(t){return`${pw(Vo(t))}|lt:${t.limitType}`}function fu(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>Mx(i)).join(", ")}]`),Bg(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>sc(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>sc(i)).join(",")),`Target(${r})`}(Vo(t))}; limitType=${t.limitType})`}function zg(t,e){return e.isFoundDocument()&&function(r,i){const o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):dt.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(t,e)&&function(r,i){for(const o of Fu(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const o of r.filters)if(!o.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(s,a,l){const u=JS(s,a,l);return s.inclusive?u<=0:u<0}(r.startAt,Fu(r),i)||r.endAt&&!function(s,a,l){const u=JS(s,a,l);return s.inclusive?u>=0:u>0}(r.endAt,Fu(r),i))}(t,e)}function C9(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function $x(t){return(e,n)=>{let r=!1;for(const i of Fu(t)){const o=A9(i,e,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function A9(t,e,n){const r=t.field.isKeyField()?dt.comparator(e.key,n.key):function(o,s,a){const l=s.data.field(o),u=a.data.field(o);return l!==null&&u!==null?oc(l,u):yt()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return yt()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kc{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){ql(this.inner,(n,r)=>{for(const[i,o]of r)e(i,o)})}isEmpty(){return Px(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P9=new cr(dt.comparator);function Es(){return P9}const Fx=new cr(dt.comparator);function Td(...t){let e=Fx;for(const n of t)e=e.insert(n.key,n);return e}function Ux(t){let e=Fx;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function il(){return Bd()}function qx(){return Bd()}function Bd(){return new kc(t=>t.toString(),(t,e)=>t.isEqual(e))}const O9=new cr(dt.comparator),k9=new $r(dt.comparator);function Nt(...t){let e=k9;for(const n of t)e=e.add(n);return e}const R9=new $r(Qt);function x9(){return R9}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vw(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Em(e)?"-0":e}}function Bx(t){return{integerValue:""+t}}function D9(t,e){return u9(e)?Bx(e):vw(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kg{constructor(){this._=void 0}}function N9(t,e,n){return t instanceof Cm?function(i,o){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&jg(o)&&(o=hw(o)),o&&(s.fields.__previous_value__=o),{mapValue:s}}(n,e):t instanceof Ih?Hx(t,e):t instanceof Ch?Wx(t,e):function(i,o){const s=jx(i,o),a=nI(s)+nI(i.Pe);return n0(s)&&n0(i.Pe)?Bx(a):vw(i.serializer,a)}(t,e)}function M9(t,e,n){return t instanceof Ih?Hx(t,e):t instanceof Ch?Wx(t,e):n}function jx(t,e){return t instanceof Am?function(r){return n0(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}class Cm extends Kg{}class Ih extends Kg{constructor(e){super(),this.elements=e}}function Hx(t,e){const n=zx(e);for(const r of t.elements)n.some(i=>zo(i,r))||n.push(r);return{arrayValue:{values:n}}}class Ch extends Kg{constructor(e){super(),this.elements=e}}function Wx(t,e){let n=zx(e);for(const r of t.elements)n=n.filter(i=>!zo(i,r));return{arrayValue:{values:n}}}class Am extends Kg{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function nI(t){return Qn(t.integerValue||t.doubleValue)}function zx(t){return fw(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function L9(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Ih&&i instanceof Ih||r instanceof Ch&&i instanceof Ch?ic(r.elements,i.elements,zo):r instanceof Am&&i instanceof Am?zo(r.Pe,i.Pe):r instanceof Cm&&i instanceof Cm}(t.transform,e.transform)}class V9{constructor(e,n){this.version=e,this.transformResults=n}}class Xi{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Xi}static exists(e){return new Xi(void 0,e)}static updateTime(e){return new Xi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Fp(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Gg{}function Kx(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new yw(t.key,Xi.none()):new cf(t.key,t.data,Xi.none());{const n=t.data,r=Ti.empty();let i=new $r(Mr.comparator);for(let o of e.fields)if(!i.has(o)){let s=n.field(o);s===null&&o.length>1&&(o=o.popLast(),s=n.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new Da(t.key,r,new Ni(i.toArray()),Xi.none())}}function $9(t,e,n){t instanceof cf?function(i,o,s){const a=i.value.clone(),l=iI(i.fieldTransforms,o,s.transformResults);a.setAll(l),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Da?function(i,o,s){if(!Fp(i.precondition,o))return void o.convertToUnknownDocument(s.version);const a=iI(i.fieldTransforms,o,s.transformResults),l=o.data;l.setAll(Gx(i)),l.setAll(a),o.convertToFoundDocument(s.version,l).setHasCommittedMutations()}(t,e,n):function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function jd(t,e,n,r){return t instanceof cf?function(o,s,a,l){if(!Fp(o.precondition,s))return a;const u=o.value.clone(),c=oI(o.fieldTransforms,l,s);return u.setAll(c),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof Da?function(o,s,a,l){if(!Fp(o.precondition,s))return a;const u=oI(o.fieldTransforms,l,s),c=s.data;return c.setAll(Gx(o)),c.setAll(u),s.convertToFoundDocument(s.version,c).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(d=>d.field))}(t,e,n,r):function(o,s,a){return Fp(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a}(t,e,n)}function F9(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),o=jx(r.transform,i||null);o!=null&&(n===null&&(n=Ti.empty()),n.set(r.field,o))}return n||null}function rI(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&ic(r,i,(o,s)=>L9(o,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class cf extends Gg{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Da extends Gg{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function Gx(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function iI(t,e,n){const r=new Map;mn(t.length===n.length);for(let i=0;i<n.length;i++){const o=t[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,M9(s,a,n[i]))}return r}function oI(t,e,n){const r=new Map;for(const i of t){const o=i.transform,s=n.data.field(i.field);r.set(i.field,N9(o,s,e))}return r}class yw extends Gg{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class U9 extends Gg{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q9{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&$9(o,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=jd(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=jd(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=qx();return this.mutations.forEach(i=>{const o=e.get(i.key),s=o.overlayedDocument;let a=this.applyToLocalView(s,o.mutatedFields);a=n.has(i.key)?null:a;const l=Kx(s,a);l!==null&&r.set(i.key,l),s.isValidDocument()||s.convertToNoDocument(Tt.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Nt())}isEqual(e){return this.batchId===e.batchId&&ic(this.mutations,e.mutations,(n,r)=>rI(n,r))&&ic(this.baseMutations,e.baseMutations,(n,r)=>rI(n,r))}}class bw{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){mn(e.mutations.length===r.length);let i=function(){return O9}();const o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new bw(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B9{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j9{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var rr,Ut;function H9(t){switch(t){default:return yt();case Ee.CANCELLED:case Ee.UNKNOWN:case Ee.DEADLINE_EXCEEDED:case Ee.RESOURCE_EXHAUSTED:case Ee.INTERNAL:case Ee.UNAVAILABLE:case Ee.UNAUTHENTICATED:return!1;case Ee.INVALID_ARGUMENT:case Ee.NOT_FOUND:case Ee.ALREADY_EXISTS:case Ee.PERMISSION_DENIED:case Ee.FAILED_PRECONDITION:case Ee.ABORTED:case Ee.OUT_OF_RANGE:case Ee.UNIMPLEMENTED:case Ee.DATA_LOSS:return!0}}function Yx(t){if(t===void 0)return Ts("GRPC error has no .code"),Ee.UNKNOWN;switch(t){case rr.OK:return Ee.OK;case rr.CANCELLED:return Ee.CANCELLED;case rr.UNKNOWN:return Ee.UNKNOWN;case rr.DEADLINE_EXCEEDED:return Ee.DEADLINE_EXCEEDED;case rr.RESOURCE_EXHAUSTED:return Ee.RESOURCE_EXHAUSTED;case rr.INTERNAL:return Ee.INTERNAL;case rr.UNAVAILABLE:return Ee.UNAVAILABLE;case rr.UNAUTHENTICATED:return Ee.UNAUTHENTICATED;case rr.INVALID_ARGUMENT:return Ee.INVALID_ARGUMENT;case rr.NOT_FOUND:return Ee.NOT_FOUND;case rr.ALREADY_EXISTS:return Ee.ALREADY_EXISTS;case rr.PERMISSION_DENIED:return Ee.PERMISSION_DENIED;case rr.FAILED_PRECONDITION:return Ee.FAILED_PRECONDITION;case rr.ABORTED:return Ee.ABORTED;case rr.OUT_OF_RANGE:return Ee.OUT_OF_RANGE;case rr.UNIMPLEMENTED:return Ee.UNIMPLEMENTED;case rr.DATA_LOSS:return Ee.DATA_LOSS;default:return yt()}}(Ut=rr||(rr={}))[Ut.OK=0]="OK",Ut[Ut.CANCELLED=1]="CANCELLED",Ut[Ut.UNKNOWN=2]="UNKNOWN",Ut[Ut.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ut[Ut.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ut[Ut.NOT_FOUND=5]="NOT_FOUND",Ut[Ut.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ut[Ut.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ut[Ut.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ut[Ut.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ut[Ut.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ut[Ut.ABORTED=10]="ABORTED",Ut[Ut.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ut[Ut.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ut[Ut.INTERNAL=13]="INTERNAL",Ut[Ut.UNAVAILABLE=14]="UNAVAILABLE",Ut[Ut.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W9(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z9=new dl([4294967295,4294967295],0);function sI(t){const e=W9().encode(t),n=new bx;return n.update(e),new Uint8Array(n.digest())}function aI(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new dl([n,r],0),new dl([i,o],0)]}class _w{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Ed(`Invalid padding: ${n}`);if(r<0)throw new Ed(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Ed(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Ed(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=dl.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(dl.fromNumber(r)));return i.compare(z9)===1&&(i=new dl([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=sI(e),[r,i]=aI(n);for(let o=0;o<this.hashCount;o++){const s=this.Ee(r,i,o);if(!this.de(s))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new _w(o,i,n);return r.forEach(a=>s.insert(a)),s}insert(e){if(this.Ie===0)return;const n=sI(e),[r,i]=aI(n);for(let o=0;o<this.hashCount;o++){const s=this.Ee(r,i,o);this.Ae(s)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Ed extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yg{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,df.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Yg(Tt.min(),i,new cr(Qt),Es(),Nt())}}class df{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new df(r,n,Nt(),Nt(),Nt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Up{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}}class Xx{constructor(e,n){this.targetId=e,this.me=n}}class Qx{constructor(e,n,r=Fr.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class lI{constructor(){this.fe=0,this.ge=cI(),this.pe=Fr.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Nt(),n=Nt(),r=Nt();return this.ge.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:yt()}}),new df(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=cI()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,mn(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class K9{constructor(e){this.Le=e,this.Be=new Map,this.ke=Es(),this.qe=uI(),this.Qe=new cr(Qt)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:yt()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){const n=e.targetId,r=e.me.count,i=this.Je(n);if(i){const o=i.target;if(i0(o))if(r===0){const s=new dt(o.path);this.Ue(n,s,Kr.newNoDocument(s,Tt.min()))}else mn(r===1);else{const s=this.Ye(n);if(s!==r){const a=this.Ze(e),l=a?this.Xe(a,e,s):1;if(l!==0){this.je(n);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,u)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n;let s,a;try{s=Al(r).toUint8Array()}catch(l){if(l instanceof Ox)return rc("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new _w(s,i,o)}catch(l){return rc(l instanceof Ed?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Ie===0?null:a}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(o=>{const s=this.Le.tt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.Ue(n,o,null),i++)}),i}rt(e){const n=new Map;this.Be.forEach((o,s)=>{const a=this.Je(s);if(a){if(o.current&&i0(a.target)){const l=new dt(a.target.path);this.ke.get(l)!==null||this.it(s,l)||this.Ue(s,l,Kr.newNoDocument(l,e))}o.be&&(n.set(s,o.ve()),o.Ce())}});let r=Nt();this.qe.forEach((o,s)=>{let a=!0;s.forEachWhile(l=>{const u=this.Je(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(o))}),this.ke.forEach((o,s)=>s.setReadTime(e));const i=new Yg(e,n,this.Qe,this.ke,r);return this.ke=Es(),this.qe=uI(),this.Qe=new cr(Qt),i}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new lI,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new $r(Qt),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||ot("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new lI),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function uI(){return new cr(dt.comparator)}function cI(){return new cr(dt.comparator)}const G9={asc:"ASCENDING",desc:"DESCENDING"},Y9={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},X9={and:"AND",or:"OR"};class Q9{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function s0(t,e){return t.useProto3Json||Bg(e)?e:{value:e}}function Pm(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Jx(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function J9(t,e){return Pm(t,e.toTimestamp())}function $o(t){return mn(!!t),Tt.fromTimestamp(function(n){const r=Sa(n);return new Nn(r.seconds,r.nanos)}(t))}function ww(t,e){return a0(t,e).canonicalString()}function a0(t,e){const n=function(i){return new yn(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function Zx(t){const e=yn.fromString(t);return mn(iD(e)),e}function l0(t,e){return ww(t.databaseId,e.path)}function gy(t,e){const n=Zx(e);if(n.get(1)!==t.databaseId.projectId)throw new Ke(Ee.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Ke(Ee.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new dt(tD(n))}function eD(t,e){return ww(t.databaseId,e)}function Z9(t){const e=Zx(t);return e.length===4?yn.emptyPath():tD(e)}function u0(t){return new yn(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function tD(t){return mn(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function dI(t,e,n){return{name:l0(t,e),fields:n.value.mapValue.fields}}function e8(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:yt()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(u,c){return u.useProto3Json?(mn(c===void 0||typeof c=="string"),Fr.fromBase64String(c||"")):(mn(c===void 0||c instanceof Buffer||c instanceof Uint8Array),Fr.fromUint8Array(c||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(u){const c=u.code===void 0?Ee.UNKNOWN:Yx(u.code);return new Ke(c,u.message||"")}(s);n=new Qx(r,i,o,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=gy(t,r.document.name),o=$o(r.document.updateTime),s=r.document.createTime?$o(r.document.createTime):Tt.min(),a=new Ti({mapValue:{fields:r.document.fields}}),l=Kr.newFoundDocument(i,o,s,a),u=r.targetIds||[],c=r.removedTargetIds||[];n=new Up(u,c,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=gy(t,r.document),o=r.readTime?$o(r.readTime):Tt.min(),s=Kr.newNoDocument(i,o),a=r.removedTargetIds||[];n=new Up([],a,s.key,s)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=gy(t,r.document),o=r.removedTargetIds||[];n=new Up([],o,i,null)}else{if(!("filter"in e))return yt();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:o}=r,s=new j9(i,o),a=r.targetId;n=new Xx(a,s)}}return n}function t8(t,e){let n;if(e instanceof cf)n={update:dI(t,e.key,e.value)};else if(e instanceof yw)n={delete:l0(t,e.key)};else if(e instanceof Da)n={update:dI(t,e.key,e.data),updateMask:c8(e.fieldMask)};else{if(!(e instanceof U9))return yt();n={verify:l0(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(o,s){const a=s.transform;if(a instanceof Cm)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Ih)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Ch)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Am)return{fieldPath:s.field.canonicalString(),increment:a.Pe};throw yt()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:J9(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:yt()}(t,e.precondition)),n}function n8(t,e){return t&&t.length>0?(mn(e!==void 0),t.map(n=>function(i,o){let s=i.updateTime?$o(i.updateTime):$o(o);return s.isEqual(Tt.min())&&(s=$o(o)),new V9(s,i.transformResults||[])}(n,e))):[]}function r8(t,e){return{documents:[eD(t,e.path)]}}function i8(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=eD(t,i);const o=function(u){if(u.length!==0)return rD(Eo.create(u,"and"))}(e.filters);o&&(n.structuredQuery.where=o);const s=function(u){if(u.length!==0)return u.map(c=>function(h){return{field:pu(h.field),direction:a8(h.dir)}}(c))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const a=s0(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{_t:n,parent:i}}function o8(t){let e=Z9(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){mn(r===1);const c=n.from[0];c.allDescendants?i=c.collectionId:e=e.child(c.collectionId)}let o=[];n.where&&(o=function(d){const h=nD(d);return h instanceof Eo&&Dx(h)?h.getFilters():[h]}(n.where));let s=[];n.orderBy&&(s=function(d){return d.map(h=>function(m){return new Sh(mu(m.field),function(v){switch(v){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(m.direction))}(h))}(n.orderBy));let a=null;n.limit&&(a=function(d){let h;return h=typeof d=="object"?d.value:d,Bg(h)?null:h}(n.limit));let l=null;n.startAt&&(l=function(d){const h=!!d.before,p=d.values||[];return new ac(p,h)}(n.startAt));let u=null;return n.endAt&&(u=function(d){const h=!d.before,p=d.values||[];return new ac(p,h)}(n.endAt)),S9(e,i,s,o,a,"F",l,u)}function s8(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return yt()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function nD(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=mu(n.unaryFilter.field);return sr.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=mu(n.unaryFilter.field);return sr.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=mu(n.unaryFilter.field);return sr.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=mu(n.unaryFilter.field);return sr.create(s,"!=",{nullValue:"NULL_VALUE"});default:return yt()}}(t):t.fieldFilter!==void 0?function(n){return sr.create(mu(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return yt()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Eo.create(n.compositeFilter.filters.map(r=>nD(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return yt()}}(n.compositeFilter.op))}(t):yt()}function a8(t){return G9[t]}function l8(t){return Y9[t]}function u8(t){return X9[t]}function pu(t){return{fieldPath:t.canonicalString()}}function mu(t){return Mr.fromServerFormat(t.fieldPath)}function rD(t){return t instanceof sr?function(n){if(n.op==="=="){if(QS(n.value))return{unaryFilter:{field:pu(n.field),op:"IS_NAN"}};if(XS(n.value))return{unaryFilter:{field:pu(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(QS(n.value))return{unaryFilter:{field:pu(n.field),op:"IS_NOT_NAN"}};if(XS(n.value))return{unaryFilter:{field:pu(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:pu(n.field),op:l8(n.op),value:n.value}}}(t):t instanceof Eo?function(n){const r=n.getFilters().map(i=>rD(i));return r.length===1?r[0]:{compositeFilter:{op:u8(n.op),filters:r}}}(t):yt()}function c8(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function iD(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ia{constructor(e,n,r,i,o=Tt.min(),s=Tt.min(),a=Fr.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new ia(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new ia(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ia(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ia(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d8{constructor(e){this.ct=e}}function h8(t){const e=o8({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Im(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f8{constructor(){this.un=new p8}addToCollectionParentIndex(e,n){return this.un.add(n),Oe.resolve()}getCollectionParents(e,n){return Oe.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return Oe.resolve()}deleteFieldIndex(e,n){return Oe.resolve()}deleteAllFieldIndexes(e){return Oe.resolve()}createTargetIndexes(e,n){return Oe.resolve()}getDocumentsMatchingTarget(e,n){return Oe.resolve(null)}getIndexType(e,n){return Oe.resolve(0)}getFieldIndexes(e,n){return Oe.resolve([])}getNextCollectionGroupToUpdate(e){return Oe.resolve(null)}getMinOffset(e,n){return Oe.resolve(Ea.min())}getMinOffsetFromCollectionGroup(e,n){return Oe.resolve(Ea.min())}updateCollectionGroup(e,n,r){return Oe.resolve()}updateIndexEntries(e,n){return Oe.resolve()}}class p8{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new $r(yn.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new $r(yn.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lc{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new lc(0)}static kn(){return new lc(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m8{constructor(){this.changes=new kc(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Kr.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?Oe.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g8{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v8{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&jd(r.mutation,i,Ni.empty(),Nn.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Nt()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Nt()){const i=il();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let s=Td();return o.forEach((a,l)=>{s=s.insert(a,l.overlayedDocument)}),s}))}getOverlayedDocuments(e,n){const r=il();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Nt()))}populateOverlays(e,n,r){const i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{n.set(s,a)})})}computeViews(e,n,r,i){let o=Es();const s=Bd(),a=function(){return Bd()}();return n.forEach((l,u)=>{const c=r.get(u.key);i.has(u.key)&&(c===void 0||c.mutation instanceof Da)?o=o.insert(u.key,u):c!==void 0?(s.set(u.key,c.mutation.getFieldMask()),jd(c.mutation,u,c.mutation.getFieldMask(),Nn.now())):s.set(u.key,Ni.empty())}),this.recalculateAndSaveOverlays(e,o).next(l=>(l.forEach((u,c)=>s.set(u,c)),n.forEach((u,c)=>{var d;return a.set(u,new g8(c,(d=s.get(u))!==null&&d!==void 0?d:null))}),a))}recalculateAndSaveOverlays(e,n){const r=Bd();let i=new cr((s,a)=>s-a),o=Nt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>{for(const a of s)a.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let c=r.get(l)||Ni.empty();c=a.applyToLocalView(u,c),r.set(l,c);const d=(i.get(a.batchId)||Nt()).add(l);i=i.insert(a.batchId,d)})}).next(()=>{const s=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,c=l.value,d=qx();c.forEach(h=>{if(!o.has(h)){const p=Kx(n.get(h),r.get(h));p!==null&&d.set(h,p),o=o.add(h)}}),s.push(this.documentOverlayCache.saveOverlays(e,u,d))}return Oe.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(s){return dt.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):gw(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{const s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):Oe.resolve(il());let a=-1,l=o;return s.next(u=>Oe.forEach(u,(c,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),o.get(c)?Oe.resolve():this.remoteDocumentCache.getEntry(e,c).next(h=>{l=l.insert(c,h)}))).next(()=>this.populateOverlays(e,u,o)).next(()=>this.computeViews(e,l,u,Nt())).next(c=>({batchId:a,changes:Ux(c)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new dt(n)).next(r=>{let i=Td();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const o=n.collectionGroup;let s=Td();return this.indexManager.getCollectionParents(e,o).next(a=>Oe.forEach(a,l=>{const u=function(d,h){return new Bl(h,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt)}(n,l.child(o));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(c=>{c.forEach((d,h)=>{s=s.insert(d,h)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i))).next(s=>{o.forEach((l,u)=>{const c=u.getKey();s.get(c)===null&&(s=s.insert(c,Kr.newInvalidDocument(c)))});let a=Td();return s.forEach((l,u)=>{const c=o.get(l);c!==void 0&&jd(c.mutation,u,Ni.empty(),Nn.now()),zg(n,u)&&(a=a.insert(l,u))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y8{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return Oe.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:$o(i.createTime)}}(n)),Oe.resolve()}getNamedQuery(e,n){return Oe.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(i){return{name:i.name,query:h8(i.bundledQuery),readTime:$o(i.readTime)}}(n)),Oe.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b8{constructor(){this.overlays=new cr(dt.comparator),this.Ir=new Map}getOverlay(e,n){return Oe.resolve(this.overlays.get(n))}getOverlays(e,n){const r=il();return Oe.forEach(n,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.ht(e,n,o)}),Oe.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Ir.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.Ir.delete(r)),Oe.resolve()}getOverlaysForCollection(e,n,r){const i=il(),o=n.length+1,s=new dt(n.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===o&&l.largestBatchId>r&&i.set(l.getKey(),l)}return Oe.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new cr((u,c)=>u-c);const s=this.overlays.getIterator();for(;s.hasNext();){const u=s.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let c=o.get(u.largestBatchId);c===null&&(c=il(),o=o.insert(u.largestBatchId,c)),c.set(u.getKey(),u)}}const a=il(),l=o.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,c)=>a.set(u,c)),!(a.size()>=i)););return Oe.resolve(a)}ht(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const s=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new B9(n,r));let o=this.Ir.get(n);o===void 0&&(o=Nt(),this.Ir.set(n,o)),this.Ir.set(n,o.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _8{constructor(){this.sessionToken=Fr.EMPTY_BYTE_STRING}getSessionToken(e){return Oe.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,Oe.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tw{constructor(){this.Tr=new $r(Er.Er),this.dr=new $r(Er.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){const r=new Er(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new Er(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){const n=new dt(new yn([])),r=new Er(n,e),i=new Er(n,e+1),o=[];return this.dr.forEachInRange([r,i],s=>{this.Vr(s),o.push(s.key)}),o}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const n=new dt(new yn([])),r=new Er(n,e),i=new Er(n,e+1);let o=Nt();return this.dr.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){const n=new Er(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Er{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return dt.comparator(e.key,n.key)||Qt(e.wr,n.wr)}static Ar(e,n){return Qt(e.wr,n.wr)||dt.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w8{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new $r(Er.Er)}checkEmpty(e){return Oe.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const o=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new q9(o,n,r,i);this.mutationQueue.push(s);for(const a of i)this.br=this.br.add(new Er(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return Oe.resolve(s)}lookupMutationBatch(e,n){return Oe.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.vr(r),o=i<0?0:i;return Oe.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return Oe.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return Oe.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Er(n,0),i=new Er(n,Number.POSITIVE_INFINITY),o=[];return this.br.forEachInRange([r,i],s=>{const a=this.Dr(s.wr);o.push(a)}),Oe.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new $r(Qt);return n.forEach(i=>{const o=new Er(i,0),s=new Er(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([o,s],a=>{r=r.add(a.wr)})}),Oe.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let o=r;dt.isDocumentKey(o)||(o=o.child(""));const s=new Er(new dt(o),0);let a=new $r(Qt);return this.br.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(l.wr)),!0)},s),Oe.resolve(this.Cr(a))}Cr(e){const n=[];return e.forEach(r=>{const i=this.Dr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){mn(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return Oe.forEach(n.mutations,i=>{const o=new Er(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){const r=new Er(n,0),i=this.br.firstAfterOrEqual(r);return Oe.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,Oe.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T8{constructor(e){this.Mr=e,this.docs=function(){return new cr(dt.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),o=i?i.size:0,s=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return Oe.resolve(r?r.document.mutableCopy():Kr.newInvalidDocument(n))}getEntries(e,n){let r=Es();return n.forEach(i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():Kr.newInvalidDocument(i))}),Oe.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=Es();const s=n.path,a=new dt(s.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:u,value:{document:c}}=l.getNext();if(!s.isPrefixOf(u.path))break;u.path.length>s.length+1||o9(i9(c),r)<=0||(i.has(c.key)||zg(n,c))&&(o=o.insert(c.key,c.mutableCopy()))}return Oe.resolve(o)}getAllFromCollectionGroup(e,n,r,i){yt()}Or(e,n){return Oe.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new E8(this)}getSize(e){return Oe.resolve(this.size)}}class E8 extends m8{constructor(e){super(),this.cr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),Oe.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S8{constructor(e){this.persistence=e,this.Nr=new kc(n=>pw(n),mw),this.lastRemoteSnapshotVersion=Tt.min(),this.highestTargetId=0,this.Lr=0,this.Br=new Tw,this.targetCount=0,this.kr=lc.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,i)=>n(i)),Oe.resolve()}getLastRemoteSnapshotVersion(e){return Oe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Oe.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),Oe.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),Oe.resolve()}Kn(e){this.Nr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.kr=new lc(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,Oe.resolve()}updateTargetData(e,n){return this.Kn(n),Oe.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,Oe.resolve()}removeTargets(e,n,r){let i=0;const o=[];return this.Nr.forEach((s,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Nr.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),Oe.waitFor(o).next(()=>i)}getTargetCount(e){return Oe.resolve(this.targetCount)}getTargetData(e,n){const r=this.Nr.get(n)||null;return Oe.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),Oe.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);const i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),Oe.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),Oe.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Br.yr(n);return Oe.resolve(r)}containsKey(e,n){return Oe.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I8{constructor(e,n){this.qr={},this.overlays={},this.Qr=new dw(0),this.Kr=!1,this.Kr=!0,this.$r=new _8,this.referenceDelegate=e(this),this.Ur=new S8(this),this.indexManager=new f8,this.remoteDocumentCache=function(i){return new T8(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new d8(n),this.Gr=new y8(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new b8,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new w8(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){ot("MemoryPersistence","Starting transaction:",e);const i=new C8(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(o=>this.referenceDelegate.jr(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Hr(e,n){return Oe.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}}class C8 extends a9{constructor(e){super(),this.currentSequenceNumber=e}}class Ew{constructor(e){this.persistence=e,this.Jr=new Tw,this.Yr=null}static Zr(e){return new Ew(e)}get Xr(){if(this.Yr)return this.Yr;throw yt()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),Oe.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),Oe.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),Oe.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(i=>this.Xr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.Xr.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Oe.forEach(this.Xr,r=>{const i=dt.fromPath(r);return this.ei(e,i).next(o=>{o||n.removeEntry(i,Tt.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return Oe.or([()=>Oe.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sw{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=i}static Wi(e,n){let r=Nt(),i=Nt();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new Sw(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A8{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P8{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return c6()?8:l9(oi())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,i){const o={result:null};return this.Yi(e,n).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.Zi(e,n,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;const s=new A8;return this.Xi(e,n,s).next(a=>{if(o.result=a,this.zi)return this.es(e,n,s,a.size)})}).next(()=>o.result)}es(e,n,r,i){return r.documentReadCount<this.ji?(ed()<=xt.DEBUG&&ot("QueryEngine","SDK will not create cache indexes for query:",fu(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),Oe.resolve()):(ed()<=xt.DEBUG&&ot("QueryEngine","Query:",fu(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(ed()<=xt.DEBUG&&ot("QueryEngine","The SDK decides to create cache indexes for query:",fu(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Vo(n))):Oe.resolve())}Yi(e,n){if(tI(n))return Oe.resolve(null);let r=Vo(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Im(n,null,"F"),r=Vo(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const s=Nt(...o);return this.Ji.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const u=this.ts(n,a);return this.ns(n,u,s,l.readTime)?this.Yi(e,Im(n,null,"F")):this.rs(e,u,n,l)}))})))}Zi(e,n,r,i){return tI(n)||i.isEqual(Tt.min())?Oe.resolve(null):this.Ji.getDocuments(e,r).next(o=>{const s=this.ts(n,o);return this.ns(n,s,r,i)?Oe.resolve(null):(ed()<=xt.DEBUG&&ot("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),fu(n)),this.rs(e,s,n,r9(i,-1)).next(a=>a))})}ts(e,n){let r=new $r($x(e));return n.forEach((i,o)=>{zg(e,o)&&(r=r.add(o))}),r}ns(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Xi(e,n,r){return ed()<=xt.DEBUG&&ot("QueryEngine","Using full collection scan to execute query:",fu(n)),this.Ji.getDocumentsMatchingQuery(e,n,Ea.min(),r)}rs(e,n,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(s=>{o=o.insert(s.key,s)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O8{constructor(e,n,r,i){this.persistence=e,this.ss=n,this.serializer=i,this.os=new cr(Qt),this._s=new kc(o=>pw(o),mw),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new v8(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}}function k8(t,e,n,r){return new O8(t,e,n,r)}async function oD(t,e){const n=Et(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{const s=[],a=[];let l=Nt();for(const u of i){s.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}for(const u of o){a.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}return n.localDocuments.getDocuments(r,l).next(u=>({hs:u,removedBatchIds:s,addedBatchIds:a}))})})}function R8(t,e){const n=Et(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),o=n.cs.newChangeBuffer({trackRemovals:!0});return function(a,l,u,c){const d=u.batch,h=d.keys();let p=Oe.resolve();return h.forEach(m=>{p=p.next(()=>c.getEntry(l,m)).next(g=>{const v=u.docVersions.get(m);mn(v!==null),g.version.compareTo(v)<0&&(d.applyToRemoteDocument(g,u),g.isValidDocument()&&(g.setReadTime(u.commitVersion),c.addEntry(g)))})}),p.next(()=>a.mutationQueue.removeMutationBatch(l,d))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=Nt();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(l=l.add(a.batch.mutations[u].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function sD(t){const e=Et(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function x8(t,e){const n=Et(t),r=e.snapshotVersion;let i=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const s=n.cs.newChangeBuffer({trackRemovals:!0});i=n.os;const a=[];e.targetChanges.forEach((c,d)=>{const h=i.get(d);if(!h)return;a.push(n.Ur.removeMatchingKeys(o,c.removedDocuments,d).next(()=>n.Ur.addMatchingKeys(o,c.addedDocuments,d)));let p=h.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(d)!==null?p=p.withResumeToken(Fr.EMPTY_BYTE_STRING,Tt.min()).withLastLimboFreeSnapshotVersion(Tt.min()):c.resumeToken.approximateByteSize()>0&&(p=p.withResumeToken(c.resumeToken,r)),i=i.insert(d,p),function(g,v,A){return g.resumeToken.approximateByteSize()===0||v.snapshotVersion.toMicroseconds()-g.snapshotVersion.toMicroseconds()>=3e8?!0:A.addedDocuments.size+A.modifiedDocuments.size+A.removedDocuments.size>0}(h,p,c)&&a.push(n.Ur.updateTargetData(o,p))});let l=Es(),u=Nt();if(e.documentUpdates.forEach(c=>{e.resolvedLimboDocuments.has(c)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(o,c))}),a.push(D8(o,s,e.documentUpdates).next(c=>{l=c.Ps,u=c.Is})),!r.isEqual(Tt.min())){const c=n.Ur.getLastRemoteSnapshotVersion(o).next(d=>n.Ur.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(c)}return Oe.waitFor(a).next(()=>s.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,l,u)).next(()=>l)}).then(o=>(n.os=i,o))}function D8(t,e,n){let r=Nt(),i=Nt();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let s=Es();return n.forEach((a,l)=>{const u=o.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(Tt.min())?(e.removeEntry(a,l.readTime),s=s.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),s=s.insert(a,l)):ot("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{Ps:s,Is:i}})}function N8(t,e){const n=Et(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function M8(t,e){const n=Et(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ur.getTargetData(r,e).next(o=>o?(i=o,Oe.resolve(i)):n.Ur.allocateTargetId(r).next(s=>(i=new ia(e,s,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}async function c0(t,e,n){const r=Et(t),i=r.os.get(e),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i))}catch(s){if(!uf(s))throw s;ot("LocalStore",`Failed to update sequence numbers for target ${e}: ${s}`)}r.os=r.os.remove(e),r._s.delete(i.target)}function hI(t,e,n){const r=Et(t);let i=Tt.min(),o=Nt();return r.persistence.runTransaction("Execute query","readwrite",s=>function(l,u,c){const d=Et(l),h=d._s.get(c);return h!==void 0?Oe.resolve(d.os.get(h)):d.Ur.getTargetData(u,c)}(r,s,Vo(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(s,a.targetId).next(l=>{o=l})}).next(()=>r.ss.getDocumentsMatchingQuery(s,e,n?i:Tt.min(),n?o:Nt())).next(a=>(L8(r,C9(e),a),{documents:a,Ts:o})))}function L8(t,e,n){let r=t.us.get(e)||Tt.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.us.set(e,r)}class fI{constructor(){this.activeTargetIds=x9()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class V8{constructor(){this.so=new fI,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new fI,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $8{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pI{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){ot("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){ot("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let dp=null;function vy(){return dp===null?dp=function(){return 268435456+Math.round(2147483648*Math.random())}():dp++,"0x"+dp.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F8={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U8{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Br="WebChannelConnection";class q8 extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${i}/databases/${o}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${o}`}get Fo(){return!1}Mo(n,r,i,o,s){const a=vy(),l=this.xo(n,r.toUriEncodedString());ot("RestConnection",`Sending RPC '${n}' ${a}:`,l,i);const u={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(u,o,s),this.No(n,l,u,i).then(c=>(ot("RestConnection",`Received RPC '${n}' ${a}: `,c),c),c=>{throw rc("RestConnection",`RPC '${n}' ${a} failed with error: `,c,"url: ",l,"request:",i),c})}Lo(n,r,i,o,s,a){return this.Mo(n,r,i,o,s)}Oo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Oc}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((o,s)=>n[s]=o),i&&i.headers.forEach((o,s)=>n[s]=o)}xo(n,r){const i=F8[n];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,i){const o=vy();return new Promise((s,a)=>{const l=new _x;l.setWithCredentials(!0),l.listenOnce(Tx.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case Vp.NO_ERROR:const c=l.getResponseJson();ot(Br,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(c)),s(c);break;case Vp.TIMEOUT:ot(Br,`RPC '${e}' ${o} timed out`),a(new Ke(Ee.DEADLINE_EXCEEDED,"Request time out"));break;case Vp.HTTP_ERROR:const d=l.getStatus();if(ot(Br,`RPC '${e}' ${o} failed with status:`,d,"response text:",l.getResponseText()),d>0){let h=l.getResponseJson();Array.isArray(h)&&(h=h[0]);const p=h==null?void 0:h.error;if(p&&p.status&&p.message){const m=function(v){const A=v.toLowerCase().replace(/_/g,"-");return Object.values(Ee).indexOf(A)>=0?A:Ee.UNKNOWN}(p.status);a(new Ke(m,p.message))}else a(new Ke(Ee.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new Ke(Ee.UNAVAILABLE,"Connection failed."));break;default:yt()}}finally{ot(Br,`RPC '${e}' ${o} completed.`)}});const u=JSON.stringify(i);ot(Br,`RPC '${e}' ${o} sending request:`,i),l.send(n,"POST",u,r,15)})}Bo(e,n,r){const i=vy(),o=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=Ix(),a=Sx(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.xmlHttpFactory=new wx({})),this.Oo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const c=o.join("");ot(Br,`Creating RPC '${e}' stream ${i}: ${c}`,l);const d=s.createWebChannel(c,l);let h=!1,p=!1;const m=new U8({Io:v=>{p?ot(Br,`Not sending because RPC '${e}' stream ${i} is closed:`,v):(h||(ot(Br,`Opening RPC '${e}' stream ${i} transport.`),d.open(),h=!0),ot(Br,`RPC '${e}' stream ${i} sending:`,v),d.send(v))},To:()=>d.close()}),g=(v,A,I)=>{v.listen(A,S=>{try{I(S)}catch(T){setTimeout(()=>{throw T},0)}})};return g(d,wd.EventType.OPEN,()=>{p||(ot(Br,`RPC '${e}' stream ${i} transport opened.`),m.yo())}),g(d,wd.EventType.CLOSE,()=>{p||(p=!0,ot(Br,`RPC '${e}' stream ${i} transport closed`),m.So())}),g(d,wd.EventType.ERROR,v=>{p||(p=!0,rc(Br,`RPC '${e}' stream ${i} transport errored:`,v),m.So(new Ke(Ee.UNAVAILABLE,"The operation could not be completed")))}),g(d,wd.EventType.MESSAGE,v=>{var A;if(!p){const I=v.data[0];mn(!!I);const S=I,T=S.error||((A=S[0])===null||A===void 0?void 0:A.error);if(T){ot(Br,`RPC '${e}' stream ${i} received error:`,T);const N=T.status;let R=function(b){const w=rr[b];if(w!==void 0)return Yx(w)}(N),C=T.message;R===void 0&&(R=Ee.INTERNAL,C="Unknown error status: "+N+" with message "+T.message),p=!0,m.So(new Ke(R,C)),d.close()}else ot(Br,`RPC '${e}' stream ${i} received:`,I),m.bo(I)}}),g(a,Ex.STAT_EVENT,v=>{v.stat===Zb.PROXY?ot(Br,`RPC '${e}' stream ${i} detected buffering proxy`):v.stat===Zb.NOPROXY&&ot(Br,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{m.wo()},0),m}}function yy(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xg(t){return new Q9(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aD{constructor(e,n,r=1e3,i=1.5,o=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=i,this.Qo=o,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,n-r);i>0&&ot("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lD{constructor(e,n,r,i,o,s,a,l){this.ui=e,this.Ho=r,this.Jo=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new aD(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===Ee.RESOURCE_EXHAUSTED?(Ts(n.toString()),Ts("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===Ee.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(n)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===n&&this.P_(r,i)},r=>{e(()=>{const i=new Ke(Ee.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,n){const r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return ot("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(ot("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class B8 extends lD{constructor(e,n,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const n=e8(this.serializer,e),r=function(o){if(!("targetChange"in o))return Tt.min();const s=o.targetChange;return s.targetIds&&s.targetIds.length?Tt.min():s.readTime?$o(s.readTime):Tt.min()}(e);return this.listener.d_(n,r)}A_(e){const n={};n.database=u0(this.serializer),n.addTarget=function(o,s){let a;const l=s.target;if(a=i0(l)?{documents:r8(o,l)}:{query:i8(o,l)._t},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=Jx(o,s.resumeToken);const u=s0(o,s.expectedCount);u!==null&&(a.expectedCount=u)}else if(s.snapshotVersion.compareTo(Tt.min())>0){a.readTime=Pm(o,s.snapshotVersion.toTimestamp());const u=s0(o,s.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);const r=s8(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){const n={};n.database=u0(this.serializer),n.removeTarget=e,this.a_(n)}}class j8 extends lD{constructor(e,n,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return mn(!!e.streamToken),this.lastStreamToken=e.streamToken,mn(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){mn(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const n=n8(e.writeResults,e.commitTime),r=$o(e.commitTime);return this.listener.g_(r,n)}p_(){const e={};e.database=u0(this.serializer),this.a_(e)}m_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>t8(this.serializer,r))};this.a_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H8 extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new Ke(Ee.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Mo(e,a0(n,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===Ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Ke(Ee.UNKNOWN,o.toString())})}Lo(e,n,r,i,o){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Lo(e,a0(n,r),i,s,a,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===Ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Ke(Ee.UNKNOWN,s.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class W8{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Ts(n),this.D_=!1):ot("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z8{constructor(e,n,r,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=o,this.k_._o(s=>{r.enqueueAndForget(async()=>{jl(this)&&(ot("RemoteStore","Restarting streams for network reachability change."),await async function(l){const u=Et(l);u.L_.add(4),await hf(u),u.q_.set("Unknown"),u.L_.delete(4),await Qg(u)}(this))})}),this.q_=new W8(r,i)}}async function Qg(t){if(jl(t))for(const e of t.B_)await e(!0)}async function hf(t){for(const e of t.B_)await e(!1)}function uD(t,e){const n=Et(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),Pw(n)?Aw(n):Rc(n).r_()&&Cw(n,e))}function Iw(t,e){const n=Et(t),r=Rc(n);n.N_.delete(e),r.r_()&&cD(n,e),n.N_.size===0&&(r.r_()?r.o_():jl(n)&&n.q_.set("Unknown"))}function Cw(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Tt.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Rc(t).A_(e)}function cD(t,e){t.Q_.xe(e),Rc(t).R_(e)}function Aw(t){t.Q_=new K9({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),Rc(t).start(),t.q_.v_()}function Pw(t){return jl(t)&&!Rc(t).n_()&&t.N_.size>0}function jl(t){return Et(t).L_.size===0}function dD(t){t.Q_=void 0}async function K8(t){t.q_.set("Online")}async function G8(t){t.N_.forEach((e,n)=>{Cw(t,e)})}async function Y8(t,e){dD(t),Pw(t)?(t.q_.M_(e),Aw(t)):t.q_.set("Unknown")}async function X8(t,e,n){if(t.q_.set("Online"),e instanceof Qx&&e.state===2&&e.cause)try{await async function(i,o){const s=o.cause;for(const a of o.targetIds)i.N_.has(a)&&(await i.remoteSyncer.rejectListen(a,s),i.N_.delete(a),i.Q_.removeTarget(a))}(t,e)}catch(r){ot("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Om(t,r)}else if(e instanceof Up?t.Q_.Ke(e):e instanceof Xx?t.Q_.He(e):t.Q_.We(e),!n.isEqual(Tt.min()))try{const r=await sD(t.localStore);n.compareTo(r)>=0&&await function(o,s){const a=o.Q_.rt(s);return a.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const c=o.N_.get(u);c&&o.N_.set(u,c.withResumeToken(l.resumeToken,s))}}),a.targetMismatches.forEach((l,u)=>{const c=o.N_.get(l);if(!c)return;o.N_.set(l,c.withResumeToken(Fr.EMPTY_BYTE_STRING,c.snapshotVersion)),cD(o,l);const d=new ia(c.target,l,u,c.sequenceNumber);Cw(o,d)}),o.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){ot("RemoteStore","Failed to raise snapshot:",r),await Om(t,r)}}async function Om(t,e,n){if(!uf(e))throw e;t.L_.add(1),await hf(t),t.q_.set("Offline"),n||(n=()=>sD(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{ot("RemoteStore","Retrying IndexedDB access"),await n(),t.L_.delete(1),await Qg(t)})}function hD(t,e){return e().catch(n=>Om(t,n,e))}async function Jg(t){const e=Et(t),n=Ia(e);let r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;Q8(e);)try{const i=await N8(e.localStore,r);if(i===null){e.O_.length===0&&n.o_();break}r=i.batchId,J8(e,i)}catch(i){await Om(e,i)}fD(e)&&pD(e)}function Q8(t){return jl(t)&&t.O_.length<10}function J8(t,e){t.O_.push(e);const n=Ia(t);n.r_()&&n.V_&&n.m_(e.mutations)}function fD(t){return jl(t)&&!Ia(t).n_()&&t.O_.length>0}function pD(t){Ia(t).start()}async function Z8(t){Ia(t).p_()}async function eB(t){const e=Ia(t);for(const n of t.O_)e.m_(n.mutations)}async function tB(t,e,n){const r=t.O_.shift(),i=bw.from(r,e,n);await hD(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Jg(t)}async function nB(t,e){e&&Ia(t).V_&&await async function(r,i){if(function(s){return H9(s)&&s!==Ee.ABORTED}(i.code)){const o=r.O_.shift();Ia(r).s_(),await hD(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),await Jg(r)}}(t,e),fD(t)&&pD(t)}async function mI(t,e){const n=Et(t);n.asyncQueue.verifyOperationInProgress(),ot("RemoteStore","RemoteStore received new credentials");const r=jl(n);n.L_.add(3),await hf(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),await Qg(n)}async function rB(t,e){const n=Et(t);e?(n.L_.delete(2),await Qg(n)):e||(n.L_.add(2),await hf(n),n.q_.set("Unknown"))}function Rc(t){return t.K_||(t.K_=function(n,r,i){const o=Et(n);return o.w_(),new B8(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Eo:K8.bind(null,t),Ro:G8.bind(null,t),mo:Y8.bind(null,t),d_:X8.bind(null,t)}),t.B_.push(async e=>{e?(t.K_.s_(),Pw(t)?Aw(t):t.q_.set("Unknown")):(await t.K_.stop(),dD(t))})),t.K_}function Ia(t){return t.U_||(t.U_=function(n,r,i){const o=Et(n);return o.w_(),new j8(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:Z8.bind(null,t),mo:nB.bind(null,t),f_:eB.bind(null,t),g_:tB.bind(null,t)}),t.B_.push(async e=>{e?(t.U_.s_(),await Jg(t)):(await t.U_.stop(),t.O_.length>0&&(ot("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))})),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ow{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new vs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){const s=Date.now()+r,a=new Ow(e,n,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Ke(Ee.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function kw(t,e){if(Ts("AsyncQueue",`${e}: ${t}`),uf(t))return new Ke(Ee.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uu{constructor(e){this.comparator=e?(n,r)=>e(n,r)||dt.comparator(n.key,r.key):(n,r)=>dt.comparator(n.key,r.key),this.keyedMap=Td(),this.sortedSet=new cr(this.comparator)}static emptySet(e){return new Uu(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Uu)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Uu;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gI{constructor(){this.W_=new cr(dt.comparator)}track(e){const n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):yt():this.W_=this.W_.insert(n,e)}G_(){const e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}}class uc{constructor(e,n,r,i,o,s,a,l,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,o){const s=[];return n.forEach(a=>{s.push({type:0,doc:a})}),new uc(e,n,Uu.emptySet(n),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Wg(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iB{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class oB{constructor(){this.queries=vI(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){const i=Et(n),o=i.queries;i.queries=vI(),o.forEach((s,a)=>{for(const l of a.j_)l.onError(r)})})(this,new Ke(Ee.ABORTED,"Firestore shutting down"))}}function vI(){return new kc(t=>Vx(t),Wg)}async function Rw(t,e){const n=Et(t);let r=3;const i=e.query;let o=n.queries.get(i);o?!o.H_()&&e.J_()&&(r=2):(o=new iB,r=e.J_()?0:1);try{switch(r){case 0:o.z_=await n.onListen(i,!0);break;case 1:o.z_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(s){const a=kw(s,`Initialization of query '${fu(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,o),o.j_.push(e),e.Z_(n.onlineState),o.z_&&e.X_(o.z_)&&Dw(n)}async function xw(t,e){const n=Et(t),r=e.query;let i=3;const o=n.queries.get(r);if(o){const s=o.j_.indexOf(e);s>=0&&(o.j_.splice(s,1),o.j_.length===0?i=e.J_()?0:1:!o.H_()&&e.J_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function sB(t,e){const n=Et(t);let r=!1;for(const i of e){const o=i.query,s=n.queries.get(o);if(s){for(const a of s.j_)a.X_(i)&&(r=!0);s.z_=i}}r&&Dw(n)}function aB(t,e,n){const r=Et(t),i=r.queries.get(e);if(i)for(const o of i.j_)o.onError(n);r.queries.delete(e)}function Dw(t){t.Y_.forEach(e=>{e.next()})}var d0,yI;(yI=d0||(d0={})).ea="default",yI.Cache="cache";class Nw{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new uc(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;const r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=uc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==d0.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mD{constructor(e){this.key=e}}class gD{constructor(e){this.key=e}}class lB{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=Nt(),this.mutatedKeys=Nt(),this.Aa=$x(e),this.Ra=new Uu(this.Aa)}get Va(){return this.Ta}ma(e,n){const r=n?n.fa:new gI,i=n?n.Ra:this.Ra;let o=n?n.mutatedKeys:this.mutatedKeys,s=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((c,d)=>{const h=i.get(c),p=zg(this.query,d)?d:null,m=!!h&&this.mutatedKeys.has(h.key),g=!!p&&(p.hasLocalMutations||this.mutatedKeys.has(p.key)&&p.hasCommittedMutations);let v=!1;h&&p?h.data.isEqual(p.data)?m!==g&&(r.track({type:3,doc:p}),v=!0):this.ga(h,p)||(r.track({type:2,doc:p}),v=!0,(l&&this.Aa(p,l)>0||u&&this.Aa(p,u)<0)&&(a=!0)):!h&&p?(r.track({type:0,doc:p}),v=!0):h&&!p&&(r.track({type:1,doc:h}),v=!0,(l||u)&&(a=!0)),v&&(p?(s=s.add(p),o=g?o.add(c):o.delete(c)):(s=s.delete(c),o=o.delete(c)))}),this.query.limit!==null)for(;s.size>this.query.limit;){const c=this.query.limitType==="F"?s.last():s.first();s=s.delete(c.key),o=o.delete(c.key),r.track({type:1,doc:c})}return{Ra:s,fa:r,ns:a,mutatedKeys:o}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const o=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const s=e.fa.G_();s.sort((c,d)=>function(p,m){const g=v=>{switch(v){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return yt()}};return g(p)-g(m)}(c.type,d.type)||this.Aa(c.doc,d.doc)),this.pa(r),i=i!=null&&i;const a=n&&!i?this.ya():[],l=this.da.size===0&&this.current&&!i?1:0,u=l!==this.Ea;return this.Ea=l,s.length!==0||u?{snapshot:new uc(this.query,e.Ra,o,s,e.mutatedKeys,l===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new gI,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=Nt(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});const n=[];return e.forEach(r=>{this.da.has(r)||n.push(new gD(r))}),this.da.forEach(r=>{e.has(r)||n.push(new mD(r))}),n}ba(e){this.Ta=e.Ts,this.da=Nt();const n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return uc.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class uB{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class cB{constructor(e){this.key=e,this.va=!1}}class dB{constructor(e,n,r,i,o,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.Ca={},this.Fa=new kc(a=>Vx(a),Wg),this.Ma=new Map,this.xa=new Set,this.Oa=new cr(dt.comparator),this.Na=new Map,this.La=new Tw,this.Ba={},this.ka=new Map,this.qa=lc.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function hB(t,e,n=!0){const r=TD(t);let i;const o=r.Fa.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.Da()):i=await vD(r,e,n,!0),i}async function fB(t,e){const n=TD(t);await vD(n,e,!0,!1)}async function vD(t,e,n,r){const i=await M8(t.localStore,Vo(e)),o=i.targetId,s=n?t.sharedClientState.addLocalQueryTarget(o):"not-current";let a;return r&&(a=await pB(t,e,o,s==="current",i.resumeToken)),t.isPrimaryClient&&n&&uD(t.remoteStore,i),a}async function pB(t,e,n,r,i){t.Ka=(d,h,p)=>async function(g,v,A,I){let S=v.view.ma(A);S.ns&&(S=await hI(g.localStore,v.query,!1).then(({documents:C})=>v.view.ma(C,S)));const T=I&&I.targetChanges.get(v.targetId),N=I&&I.targetMismatches.get(v.targetId)!=null,R=v.view.applyChanges(S,g.isPrimaryClient,T,N);return _I(g,v.targetId,R.wa),R.snapshot}(t,d,h,p);const o=await hI(t.localStore,e,!0),s=new lB(e,o.Ts),a=s.ma(o.documents),l=df.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=s.applyChanges(a,t.isPrimaryClient,l);_I(t,n,u.wa);const c=new uB(e,n,s);return t.Fa.set(e,c),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),u.snapshot}async function mB(t,e,n){const r=Et(t),i=r.Fa.get(e),o=r.Ma.get(i.targetId);if(o.length>1)return r.Ma.set(i.targetId,o.filter(s=>!Wg(s,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await c0(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&Iw(r.remoteStore,i.targetId),h0(r,i.targetId)}).catch(lf)):(h0(r,i.targetId),await c0(r.localStore,i.targetId,!0))}async function gB(t,e){const n=Et(t),r=n.Fa.get(e),i=n.Ma.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Iw(n.remoteStore,r.targetId))}async function vB(t,e,n){const r=SB(t);try{const i=await function(s,a){const l=Et(s),u=Nn.now(),c=a.reduce((p,m)=>p.add(m.key),Nt());let d,h;return l.persistence.runTransaction("Locally write mutations","readwrite",p=>{let m=Es(),g=Nt();return l.cs.getEntries(p,c).next(v=>{m=v,m.forEach((A,I)=>{I.isValidDocument()||(g=g.add(A))})}).next(()=>l.localDocuments.getOverlayedDocuments(p,m)).next(v=>{d=v;const A=[];for(const I of a){const S=F9(I,d.get(I.key).overlayedDocument);S!=null&&A.push(new Da(I.key,S,kx(S.value.mapValue),Xi.exists(!0)))}return l.mutationQueue.addMutationBatch(p,u,A,a)}).next(v=>{h=v;const A=v.applyToLocalDocumentSet(d,g);return l.documentOverlayCache.saveOverlays(p,v.batchId,A)})}).then(()=>({batchId:h.batchId,changes:Ux(d)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,a,l){let u=s.Ba[s.currentUser.toKey()];u||(u=new cr(Qt)),u=u.insert(a,l),s.Ba[s.currentUser.toKey()]=u}(r,i.batchId,n),await ff(r,i.changes),await Jg(r.remoteStore)}catch(i){const o=kw(i,"Failed to persist write");n.reject(o)}}async function yD(t,e){const n=Et(t);try{const r=await x8(n.localStore,e);e.targetChanges.forEach((i,o)=>{const s=n.Na.get(o);s&&(mn(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?s.va=!0:i.modifiedDocuments.size>0?mn(s.va):i.removedDocuments.size>0&&(mn(s.va),s.va=!1))}),await ff(n,r,e)}catch(r){await lf(r)}}function bI(t,e,n){const r=Et(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Fa.forEach((o,s)=>{const a=s.view.Z_(e);a.snapshot&&i.push(a.snapshot)}),function(s,a){const l=Et(s);l.onlineState=a;let u=!1;l.queries.forEach((c,d)=>{for(const h of d.j_)h.Z_(a)&&(u=!0)}),u&&Dw(l)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function yB(t,e,n){const r=Et(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Na.get(e),o=i&&i.key;if(o){let s=new cr(dt.comparator);s=s.insert(o,Kr.newNoDocument(o,Tt.min()));const a=Nt().add(o),l=new Yg(Tt.min(),new Map,new cr(Qt),s,a);await yD(r,l),r.Oa=r.Oa.remove(o),r.Na.delete(e),Mw(r)}else await c0(r.localStore,e,!1).then(()=>h0(r,e,n)).catch(lf)}async function bB(t,e){const n=Et(t),r=e.batch.batchId;try{const i=await R8(n.localStore,e);_D(n,r,null),bD(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await ff(n,i)}catch(i){await lf(i)}}async function _B(t,e,n){const r=Et(t);try{const i=await function(s,a){const l=Et(s);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let c;return l.mutationQueue.lookupMutationBatch(u,a).next(d=>(mn(d!==null),c=d.keys(),l.mutationQueue.removeMutationBatch(u,d))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,c,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,c)).next(()=>l.localDocuments.getDocuments(u,c))})}(r.localStore,e);_D(r,e,n),bD(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await ff(r,i)}catch(i){await lf(i)}}function bD(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function _D(t,e,n){const r=Et(t);let i=r.Ba[r.currentUser.toKey()];if(i){const o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function h0(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||wD(t,r)})}function wD(t,e){t.xa.delete(e.path.canonicalString());const n=t.Oa.get(e);n!==null&&(Iw(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),Mw(t))}function _I(t,e,n){for(const r of n)r instanceof mD?(t.La.addReference(r.key,e),wB(t,r)):r instanceof gD?(ot("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||wD(t,r.key)):yt()}function wB(t,e){const n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(ot("SyncEngine","New document in limbo: "+n),t.xa.add(r),Mw(t))}function Mw(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const n=new dt(yn.fromString(e)),r=t.qa.next();t.Na.set(r,new cB(n)),t.Oa=t.Oa.insert(n,r),uD(t.remoteStore,new ia(Vo(Hg(n.path)),r,"TargetPurposeLimboResolution",dw.oe))}}async function ff(t,e,n){const r=Et(t),i=[],o=[],s=[];r.Fa.isEmpty()||(r.Fa.forEach((a,l)=>{s.push(r.Ka(l,e,n).then(u=>{var c;if((u||n)&&r.isPrimaryClient){const d=u?!u.fromCache:(c=n==null?void 0:n.targetChanges.get(l.targetId))===null||c===void 0?void 0:c.current;r.sharedClientState.updateQueryState(l.targetId,d?"current":"not-current")}if(u){i.push(u);const d=Sw.Wi(l.targetId,u);o.push(d)}}))}),await Promise.all(s),r.Ca.d_(i),await async function(l,u){const c=Et(l);try{await c.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>Oe.forEach(u,h=>Oe.forEach(h.$i,p=>c.persistence.referenceDelegate.addReference(d,h.targetId,p)).next(()=>Oe.forEach(h.Ui,p=>c.persistence.referenceDelegate.removeReference(d,h.targetId,p)))))}catch(d){if(!uf(d))throw d;ot("LocalStore","Failed to update sequence numbers: "+d)}for(const d of u){const h=d.targetId;if(!d.fromCache){const p=c.os.get(h),m=p.snapshotVersion,g=p.withLastLimboFreeSnapshotVersion(m);c.os=c.os.insert(h,g)}}}(r.localStore,o))}async function TB(t,e){const n=Et(t);if(!n.currentUser.isEqual(e)){ot("SyncEngine","User change. New user:",e.toKey());const r=await oD(n.localStore,e);n.currentUser=e,function(o,s){o.ka.forEach(a=>{a.forEach(l=>{l.reject(new Ke(Ee.CANCELLED,s))})}),o.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await ff(n,r.hs)}}function EB(t,e){const n=Et(t),r=n.Na.get(e);if(r&&r.va)return Nt().add(r.key);{let i=Nt();const o=n.Ma.get(e);if(!o)return i;for(const s of o){const a=n.Fa.get(s);i=i.unionWith(a.view.Va)}return i}}function TD(t){const e=Et(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=yD.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=EB.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=yB.bind(null,e),e.Ca.d_=sB.bind(null,e.eventManager),e.Ca.$a=aB.bind(null,e.eventManager),e}function SB(t){const e=Et(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=bB.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=_B.bind(null,e),e}class wI{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=Xg(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return k8(this.persistence,new P8,e.initialUser,this.serializer)}createPersistence(e){return new I8(Ew.Zr,this.serializer)}createSharedClientState(e){return new V8}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class IB{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>bI(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=TB.bind(null,this.syncEngine),await rB(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new oB}()}createDatastore(e){const n=Xg(e.databaseInfo.databaseId),r=function(o){return new q8(o)}(e.databaseInfo);return function(o,s,a,l){return new H8(o,s,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,o,s,a){return new z8(r,i,o,s,a)}(this.localStore,this.datastore,e.asyncQueue,n=>bI(this.syncEngine,n,0),function(){return pI.D()?new pI:new $8}())}createSyncEngine(e,n){return function(i,o,s,a,l,u,c){const d=new dB(i,o,s,a,l,u);return c&&(d.Qa=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const o=Et(i);ot("RemoteStore","RemoteStore shutting down."),o.L_.add(5),await hf(o),o.k_.shutdown(),o.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lw{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ga(this.observer.next,e)}error(e){this.observer.error?this.Ga(this.observer.error,e):Ts("Uncaught Error in snapshot listener:",e.toString())}za(){this.muted=!0}Ga(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CB{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Wr.UNAUTHENTICATED,this.clientId=Ax.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async o=>{ot("FirestoreClient","Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(ot("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Ke(Ee.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new vs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=kw(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function by(t,e){t.asyncQueue.verifyOperationInProgress(),ot("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await oD(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function TI(t,e){t.asyncQueue.verifyOperationInProgress();const n=await PB(t);ot("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>mI(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>mI(e.remoteStore,i)),t._onlineComponents=e}function AB(t){return t.name==="FirebaseError"?t.code===Ee.FAILED_PRECONDITION||t.code===Ee.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function PB(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){ot("FirestoreClient","Using user provided OfflineComponentProvider");try{await by(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!AB(n))throw n;rc("Error using user provided cache. Falling back to memory cache: "+n),await by(t,new wI)}}else ot("FirestoreClient","Using default OfflineComponentProvider"),await by(t,new wI);return t._offlineComponents}async function ED(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(ot("FirestoreClient","Using user provided OnlineComponentProvider"),await TI(t,t._uninitializedComponentsProvider._online)):(ot("FirestoreClient","Using default OnlineComponentProvider"),await TI(t,new IB))),t._onlineComponents}function OB(t){return ED(t).then(e=>e.syncEngine)}async function km(t){const e=await ED(t),n=e.eventManager;return n.onListen=hB.bind(null,e.syncEngine),n.onUnlisten=mB.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=fB.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=gB.bind(null,e.syncEngine),n}function kB(t,e,n={}){const r=new vs;return t.asyncQueue.enqueueAndForget(async()=>function(o,s,a,l,u){const c=new Lw({next:h=>{s.enqueueAndForget(()=>xw(o,d));const p=h.docs.has(a);!p&&h.fromCache?u.reject(new Ke(Ee.UNAVAILABLE,"Failed to get document because the client is offline.")):p&&h.fromCache&&l&&l.source==="server"?u.reject(new Ke(Ee.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(h)},error:h=>u.reject(h)}),d=new Nw(Hg(a.path),c,{includeMetadataChanges:!0,_a:!0});return Rw(o,d)}(await km(t),t.asyncQueue,e,n,r)),r.promise}function RB(t,e,n={}){const r=new vs;return t.asyncQueue.enqueueAndForget(async()=>function(o,s,a,l,u){const c=new Lw({next:h=>{s.enqueueAndForget(()=>xw(o,d)),h.fromCache&&l.source==="server"?u.reject(new Ke(Ee.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(h)},error:h=>u.reject(h)}),d=new Nw(a,c,{includeMetadataChanges:!0,_a:!0});return Rw(o,d)}(await km(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SD(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EI=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ID(t,e,n){if(!n)throw new Ke(Ee.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function xB(t,e,n,r){if(e===!0&&r===!0)throw new Ke(Ee.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function SI(t){if(!dt.isDocumentKey(t))throw new Ke(Ee.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function II(t){if(dt.isDocumentKey(t))throw new Ke(Ee.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Zg(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":yt()}function Ai(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Ke(Ee.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Zg(t);throw new Ke(Ee.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function DB(t,e){if(e<=0)throw new Ke(Ee.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CI{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new Ke(Ee.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new Ke(Ee.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}xB("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=SD((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new Ke(Ee.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new Ke(Ee.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new Ke(Ee.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class ev{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new CI({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Ke(Ee.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new Ke(Ee.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new CI(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new Gq;switch(r.type){case"firstParty":return new Jq(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Ke(Ee.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=EI.get(n);r&&(ot("ComponentProvider","Removing Datastore"),EI.delete(n),r.terminate())}(this),Promise.resolve()}}function NB(t,e,n,r={}){var i;const o=(t=Ai(t,ev))._getSettings(),s=`${e}:${n}`;if(o.host!=="firestore.googleapis.com"&&o.host!==s&&rc("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),r.mockUserToken){let a,l;if(typeof r.mockUserToken=="string")a=r.mockUserToken,l=Wr.MOCK_USER;else{a=yR(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new Ke(Ee.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new Wr(u)}t._authCredentials=new Yq(new Cx(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xo{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Xo(this.firestore,e,this._query)}}class ri{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ha(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ri(this.firestore,e,this._key)}}class ha extends Xo{constructor(e,n,r){super(e,n,Hg(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ri(this.firestore,null,new dt(e))}withConverter(e){return new ha(this.firestore,e,this._path)}}function ao(t,e,...n){if(t=Jt(t),ID("collection","path",e),t instanceof ev){const r=yn.fromString(e,...n);return II(r),new ha(t,null,r)}{if(!(t instanceof ri||t instanceof ha))throw new Ke(Ee.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(yn.fromString(e,...n));return II(r),new ha(t.firestore,null,r)}}function Zt(t,e,...n){if(t=Jt(t),arguments.length===1&&(e=Ax.newId()),ID("doc","path",e),t instanceof ev){const r=yn.fromString(e,...n);return SI(r),new ri(t,null,new dt(r))}{if(!(t instanceof ri||t instanceof ha))throw new Ke(Ee.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(yn.fromString(e,...n));return SI(r),new ri(t.firestore,t instanceof ha?t.converter:null,new dt(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MB{constructor(){this.au=Promise.resolve(),this.uu=[],this.cu=!1,this.lu=[],this.hu=null,this.Pu=!1,this.Iu=!1,this.Tu=[],this.t_=new aD(this,"async_queue_retry"),this.Eu=()=>{const n=yy();n&&ot("AsyncQueue","Visibility state changed to "+n.visibilityState),this.t_.jo()};const e=yy();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.Eu)}get isShuttingDown(){return this.cu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.du(),this.Au(e)}enterRestrictedMode(e){if(!this.cu){this.cu=!0,this.Iu=e||!1;const n=yy();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Eu)}}enqueue(e){if(this.du(),this.cu)return new Promise(()=>{});const n=new vs;return this.Au(()=>this.cu&&this.Iu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.uu.push(e),this.Ru()))}async Ru(){if(this.uu.length!==0){try{await this.uu[0](),this.uu.shift(),this.t_.reset()}catch(e){if(!uf(e))throw e;ot("AsyncQueue","Operation failed with retryable error: "+e)}this.uu.length>0&&this.t_.Go(()=>this.Ru())}}Au(e){const n=this.au.then(()=>(this.Pu=!0,e().catch(r=>{this.hu=r,this.Pu=!1;const i=function(s){let a=s.message||"";return s.stack&&(a=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),a}(r);throw Ts("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.Pu=!1,r))));return this.au=n,n}enqueueAfterDelay(e,n,r){this.du(),this.Tu.indexOf(e)>-1&&(n=0);const i=Ow.createAndSchedule(this,e,n,r,o=>this.Vu(o));return this.lu.push(i),i}du(){this.hu&&yt()}verifyOperationInProgress(){}async mu(){let e;do e=this.au,await e;while(e!==this.au)}fu(e){for(const n of this.lu)if(n.timerId===e)return!0;return!1}gu(e){return this.mu().then(()=>{this.lu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.lu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.mu()})}pu(e){this.Tu.push(e)}Vu(e){const n=this.lu.indexOf(e);this.lu.splice(n,1)}}function AI(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const o of r)if(o in i&&typeof i[o]=="function")return!0;return!1}(t,["next","error","complete"])}class Ss extends ev{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=function(){return new MB}(),this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||CD(this),this._firestoreClient.terminate()}}function LB(t,e){const n=typeof t=="object"?t:Pc(),r=typeof t=="string"?t:e||"(default)",i=Yo(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const o=mR("firestore");o&&NB(i,...o)}return i}function tv(t){return t._firestoreClient||CD(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function CD(t){var e,n,r;const i=t._freezeSettings(),o=function(a,l,u,c){return new d9(a,l,u,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,SD(c.experimentalLongPollingOptions),c.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new CB(t._authCredentials,t._appCheckCredentials,t._queue,o),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cc{constructor(e){this._byteString=e}static fromBase64String(e){try{return new cc(Fr.fromBase64String(e))}catch(n){throw new Ke(Ee.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new cc(Fr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nv{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Ke(Ee.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Mr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vw{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $w{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Ke(Ee.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Ke(Ee.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Qt(this._lat,e._lat)||Qt(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fw{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VB=/^__.*__$/;class $B{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Da(e,this.data,this.fieldMask,n,this.fieldTransforms):new cf(e,this.data,n,this.fieldTransforms)}}class AD{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Da(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function PD(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw yt()}}class Uw{constructor(e,n,r,i,o,s){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.yu(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get wu(){return this.settings.wu}Su(e){return new Uw(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}bu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Su({path:r,Du:!1});return i.vu(e),i}Cu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Su({path:r,Du:!1});return i.yu(),i}Fu(e){return this.Su({path:void 0,Du:!0})}Mu(e){return Rm(e,this.settings.methodName,this.settings.xu||!1,this.path,this.settings.Ou)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}yu(){if(this.path)for(let e=0;e<this.path.length;e++)this.vu(this.path.get(e))}vu(e){if(e.length===0)throw this.Mu("Document fields must not be empty");if(PD(this.wu)&&VB.test(e))throw this.Mu('Document fields cannot begin and end with "__"')}}class FB{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Xg(e)}Nu(e,n,r,i=!1){return new Uw({wu:e,methodName:n,Ou:r,path:Mr.emptyPath(),Du:!1,xu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function pf(t){const e=t._freezeSettings(),n=Xg(t._databaseId);return new FB(t._databaseId,!!e.ignoreUndefinedProperties,n)}function OD(t,e,n,r,i,o={}){const s=t.Nu(o.merge||o.mergeFields?2:0,e,n,i);qw("Data must be an object, but it was:",s,r);const a=RD(r,s);let l,u;if(o.merge)l=new Ni(s.fieldMask),u=s.fieldTransforms;else if(o.mergeFields){const c=[];for(const d of o.mergeFields){const h=f0(e,d,n);if(!s.contains(h))throw new Ke(Ee.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);DD(c,h)||c.push(h)}l=new Ni(c),u=s.fieldTransforms.filter(d=>l.covers(d.field))}else l=null,u=s.fieldTransforms;return new $B(new Ti(a),l,u)}class rv extends Vw{_toFieldTransform(e){if(e.wu!==2)throw e.wu===1?e.Mu(`${this._methodName}() can only appear at the top level of your update data`):e.Mu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof rv}}function UB(t,e,n,r){const i=t.Nu(1,e,n);qw("Data must be an object, but it was:",i,r);const o=[],s=Ti.empty();ql(r,(l,u)=>{const c=Bw(e,l,n);u=Jt(u);const d=i.Cu(c);if(u instanceof rv)o.push(c);else{const h=mf(u,d);h!=null&&(o.push(c),s.set(c,h))}});const a=new Ni(o);return new AD(s,a,i.fieldTransforms)}function qB(t,e,n,r,i,o){const s=t.Nu(1,e,n),a=[f0(e,r,n)],l=[i];if(o.length%2!=0)throw new Ke(Ee.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<o.length;h+=2)a.push(f0(e,o[h])),l.push(o[h+1]);const u=[],c=Ti.empty();for(let h=a.length-1;h>=0;--h)if(!DD(u,a[h])){const p=a[h];let m=l[h];m=Jt(m);const g=s.Cu(p);if(m instanceof rv)u.push(p);else{const v=mf(m,g);v!=null&&(u.push(p),c.set(p,v))}}const d=new Ni(u);return new AD(c,d,s.fieldTransforms)}function kD(t,e,n,r=!1){return mf(n,t.Nu(r?4:3,e))}function mf(t,e){if(xD(t=Jt(t)))return qw("Unsupported field value:",e,t),RD(t,e);if(t instanceof Vw)return function(r,i){if(!PD(i.wu))throw i.Mu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Mu(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Du&&e.wu!==4)throw e.Mu("Nested arrays are not supported");return function(r,i){const o=[];let s=0;for(const a of r){let l=mf(a,i.Fu(s));l==null&&(l={nullValue:"NULL_VALUE"}),o.push(l),s++}return{arrayValue:{values:o}}}(t,e)}return function(r,i){if((r=Jt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return D9(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=Nn.fromDate(r);return{timestampValue:Pm(i.serializer,o)}}if(r instanceof Nn){const o=new Nn(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Pm(i.serializer,o)}}if(r instanceof $w)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof cc)return{bytesValue:Jx(i.serializer,r._byteString)};if(r instanceof ri){const o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.Mu(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:ww(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Fw)return function(s,a){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:s.toArray().map(l=>{if(typeof l!="number")throw a.Mu("VectorValues must only contain numeric values.");return vw(a.serializer,l)})}}}}}}(r,i);throw i.Mu(`Unsupported field value: ${Zg(r)}`)}(t,e)}function RD(t,e){const n={};return Px(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ql(t,(r,i)=>{const o=mf(i,e.bu(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function xD(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Nn||t instanceof $w||t instanceof cc||t instanceof ri||t instanceof Vw||t instanceof Fw)}function qw(t,e,n){if(!xD(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=Zg(n);throw r==="an object"?e.Mu(t+" a custom object"):e.Mu(t+" "+r)}}function f0(t,e,n){if((e=Jt(e))instanceof nv)return e._internalPath;if(typeof e=="string")return Bw(t,e);throw Rm("Field path arguments must be of type string or ",t,!1,void 0,n)}const BB=new RegExp("[~\\*/\\[\\]]");function Bw(t,e,n){if(e.search(BB)>=0)throw Rm(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new nv(...e.split("."))._internalPath}catch{throw Rm(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Rm(t,e,n,r,i){const o=r&&!r.isEmpty(),s=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(o||s)&&(l+=" (found",o&&(l+=` in field ${r}`),s&&(l+=` in document ${i}`),l+=")"),new Ke(Ee.INVALID_ARGUMENT,a+t+l)}function DD(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jw{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new ri(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new jB(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(iv("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class jB extends jw{data(){return super.data()}}function iv(t,e){return typeof e=="string"?Bw(t,e):e instanceof nv?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ND(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Ke(Ee.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Hw{}class ov extends Hw{}function MD(t,e,...n){let r=[];e instanceof Hw&&r.push(e),r=r.concat(n),function(o){const s=o.filter(l=>l instanceof Ww).length,a=o.filter(l=>l instanceof sv).length;if(s>1||s>0&&a>0)throw new Ke(Ee.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class sv extends ov{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new sv(e,n,r)}_apply(e){const n=this._parse(e);return LD(e._query,n),new Xo(e.firestore,e.converter,o0(e._query,n))}_parse(e){const n=pf(e.firestore);return function(o,s,a,l,u,c,d){let h;if(u.isKeyField()){if(c==="array-contains"||c==="array-contains-any")throw new Ke(Ee.INVALID_ARGUMENT,`Invalid Query. You can't perform '${c}' queries on documentId().`);if(c==="in"||c==="not-in"){kI(d,c);const p=[];for(const m of d)p.push(OI(l,o,m));h={arrayValue:{values:p}}}else h=OI(l,o,d)}else c!=="in"&&c!=="not-in"&&c!=="array-contains-any"||kI(d,c),h=kD(a,s,d,c==="in"||c==="not-in");return sr.create(u,c,h)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function p0(t,e,n){const r=e,i=iv("where",t);return sv._create(i,r,n)}class Ww extends Hw{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Ww(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Eo.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,o){let s=i;const a=o.getFlattenedFilters();for(const l of a)LD(s,l),s=o0(s,l)}(e._query,n),new Xo(e.firestore,e.converter,o0(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class zw extends ov{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new zw(e,n)}_apply(e){const n=function(i,o,s){if(i.startAt!==null)throw new Ke(Ee.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new Ke(Ee.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Sh(o,s)}(e._query,this._field,this._direction);return new Xo(e.firestore,e.converter,function(i,o){const s=i.explicitOrderBy.concat([o]);return new Bl(i.path,i.collectionGroup,s,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}}function PI(t,e="asc"){const n=e,r=iv("orderBy",t);return zw._create(r,n)}class Kw extends ov{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new Kw(e,n,r)}_apply(e){return new Xo(e.firestore,e.converter,Im(e._query,this._limit,this._limitType))}}function HB(t){return DB("limit",t),Kw._create("limit",t,"F")}class Gw extends ov{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new Gw(e,n,r)}_apply(e){const n=zB(e,this.type,this._docOrFields,this._inclusive);return new Xo(e.firestore,e.converter,function(i,o){return new Bl(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,o,i.endAt)}(e._query,n))}}function WB(...t){return Gw._create("startAfter",t,!1)}function zB(t,e,n,r){if(n[0]=Jt(n[0]),n[0]instanceof jw)return function(o,s,a,l,u){if(!l)throw new Ke(Ee.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${a}().`);const c=[];for(const d of Fu(o))if(d.field.isKeyField())c.push(Sm(s,l.key));else{const h=l.data.field(d.field);if(jg(h))throw new Ke(Ee.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+d.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(h===null){const p=d.field.canonicalString();throw new Ke(Ee.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${p}' (used as the orderBy) does not exist.`)}c.push(h)}return new ac(c,u)}(t._query,t.firestore._databaseId,e,n[0]._document,r);{const i=pf(t.firestore);return function(s,a,l,u,c,d){const h=s.explicitOrderBy;if(c.length>h.length)throw new Ke(Ee.INVALID_ARGUMENT,`Too many arguments provided to ${u}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const p=[];for(let m=0;m<c.length;m++){const g=c[m];if(h[m].field.isKeyField()){if(typeof g!="string")throw new Ke(Ee.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${u}(), but got a ${typeof g}`);if(!gw(s)&&g.indexOf("/")!==-1)throw new Ke(Ee.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${u}() must be a plain document ID, but '${g}' contains a slash.`);const v=s.path.child(yn.fromString(g));if(!dt.isDocumentKey(v))throw new Ke(Ee.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${u}() must result in a valid document path, but '${v}' is not because it contains an odd number of segments.`);const A=new dt(v);p.push(Sm(a,A))}else{const v=kD(l,u,g);p.push(v)}}return new ac(p,d)}(t._query,t.firestore._databaseId,i,e,n,r)}}function OI(t,e,n){if(typeof(n=Jt(n))=="string"){if(n==="")throw new Ke(Ee.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!gw(e)&&n.indexOf("/")!==-1)throw new Ke(Ee.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(yn.fromString(n));if(!dt.isDocumentKey(r))throw new Ke(Ee.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Sm(t,new dt(r))}if(n instanceof ri)return Sm(t,n._key);throw new Ke(Ee.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Zg(n)}.`)}function kI(t,e){if(!Array.isArray(t)||t.length===0)throw new Ke(Ee.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function LD(t,e){const n=function(i,o){for(const s of i)for(const a of s.getFlattenedFilters())if(o.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new Ke(Ee.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Ke(Ee.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class KB{convertValue(e,n="none"){switch(Pl(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Qn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Al(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw yt()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return ql(e,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertVectorValue(e){var n,r,i;const o=(i=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(s=>Qn(s.doubleValue));return new Fw(o)}convertGeoPoint(e){return new $w(Qn(e.latitude),Qn(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=hw(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(wh(e));default:return null}}convertTimestamp(e){const n=Sa(e);return new Nn(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=yn.fromString(e);mn(iD(r));const i=new Th(r.get(1),r.get(3)),o=new dt(r.popFirst(5));return i.isEqual(n)||Ts(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VD(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sd{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class $D extends jw{constructor(e,n,r,i,o,s){super(e,n,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new qp(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(iv("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class qp extends $D{data(e={}){return super.data(e)}}class FD{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Sd(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new qp(this._firestore,this._userDataWriter,r.key,r,new Sd(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Ke(Ee.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>{const l=new qp(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Sd(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>o||a.type!==3).map(a=>{const l=new qp(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Sd(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,c=-1;return a.type!==0&&(u=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(s=s.add(a.doc),c=s.indexOf(a.doc.key)),{type:GB(a.type),doc:l,oldIndex:u,newIndex:c}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function GB(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return yt()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YB(t){t=Ai(t,ri);const e=Ai(t.firestore,Ss);return kB(tv(e),t._key).then(n=>UD(e,t,n))}class Yw extends KB{constructor(e){super(),this.firestore=e}convertBytes(e){return new cc(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new ri(this.firestore,null,n)}}function XB(t){t=Ai(t,Xo);const e=Ai(t.firestore,Ss),n=tv(e),r=new Yw(e);return ND(t._query),RB(n,t._query).then(i=>new FD(e,r,t,i))}function QB(t,e,n){t=Ai(t,ri);const r=Ai(t.firestore,Ss),i=VD(t.converter,e,n);return av(r,[OD(pf(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,Xi.none())])}function JB(t,e,n,...r){t=Ai(t,ri);const i=Ai(t.firestore,Ss),o=pf(i);let s;return s=typeof(e=Jt(e))=="string"||e instanceof nv?qB(o,"updateDoc",t._key,e,n,r):UB(o,"updateDoc",t._key,e),av(i,[s.toMutation(t._key,Xi.exists(!0))])}function ZB(t){return av(Ai(t.firestore,Ss),[new yw(t._key,Xi.none())])}function ej(t,e){const n=Ai(t.firestore,Ss),r=Zt(t),i=VD(t.converter,e);return av(n,[OD(pf(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Xi.exists(!1))]).then(()=>r)}function Id(t,...e){var n,r,i;t=Jt(t);let o={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||AI(e[s])||(o=e[s],s++);const a={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(AI(e[s])){const d=e[s];e[s]=(n=d.next)===null||n===void 0?void 0:n.bind(d),e[s+1]=(r=d.error)===null||r===void 0?void 0:r.bind(d),e[s+2]=(i=d.complete)===null||i===void 0?void 0:i.bind(d)}let l,u,c;if(t instanceof ri)u=Ai(t.firestore,Ss),c=Hg(t._key.path),l={next:d=>{e[s]&&e[s](UD(u,t,d))},error:e[s+1],complete:e[s+2]};else{const d=Ai(t,Xo);u=Ai(d.firestore,Ss),c=d._query;const h=new Yw(u);l={next:p=>{e[s]&&e[s](new FD(u,h,d,p))},error:e[s+1],complete:e[s+2]},ND(t._query)}return function(h,p,m,g){const v=new Lw(g),A=new Nw(p,v,m);return h.asyncQueue.enqueueAndForget(async()=>Rw(await km(h),A)),()=>{v.za(),h.asyncQueue.enqueueAndForget(async()=>xw(await km(h),A))}}(tv(u),c,a,l)}function av(t,e){return function(r,i){const o=new vs;return r.asyncQueue.enqueueAndForget(async()=>vB(await OB(r),i,o)),o.promise}(tv(t),e)}function UD(t,e,n){const r=n.docs.get(e._key),i=new Yw(t);return new $D(t,i,e._key,r,new Sd(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){Oc=i})(xa),Oi(new mi("firestore",(r,{instanceIdentifier:i,options:o})=>{const s=r.getProvider("app").getImmediate(),a=new Ss(new Xq(r.getProvider("auth-internal")),new e9(r.getProvider("app-check-internal")),function(u,c){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new Ke(Ee.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Th(u.options.projectId,c)}(s,i),s);return o=Object.assign({useFetchStreams:n},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),Vr(WS,"4.7.0",e),Vr(WS,"4.7.0","esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qD="firebasestorage.googleapis.com",BD="storageBucket",tj=2*60*1e3,nj=10*60*1e3,rj=1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bn extends Bi{constructor(e,n,r=0){super(_y(e),`Firebase Storage: ${n} (${_y(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Bn.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return _y(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Pn;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Pn||(Pn={}));function _y(t){return"storage/"+t}function Xw(){const t="An unknown error occurred, please check the error payload for server response.";return new Bn(Pn.UNKNOWN,t)}function ij(t){return new Bn(Pn.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function oj(t){return new Bn(Pn.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function sj(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Bn(Pn.UNAUTHENTICATED,t)}function aj(){return new Bn(Pn.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function lj(t){return new Bn(Pn.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function jD(){return new Bn(Pn.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function HD(){return new Bn(Pn.CANCELED,"User canceled the upload/download.")}function uj(t){return new Bn(Pn.INVALID_URL,"Invalid URL '"+t+"'.")}function cj(t){return new Bn(Pn.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function dj(){return new Bn(Pn.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+BD+"' property when initializing the app?")}function WD(){return new Bn(Pn.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function hj(){return new Bn(Pn.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}function fj(){return new Bn(Pn.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function pj(t){return new Bn(Pn.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function m0(t){return new Bn(Pn.INVALID_ARGUMENT,t)}function zD(){return new Bn(Pn.APP_DELETED,"The Firebase app was deleted.")}function mj(t){return new Bn(Pn.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Hd(t,e){return new Bn(Pn.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function td(t){throw new Bn(Pn.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mi{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=Mi.makeFromUrl(e,n)}catch{return new Mi(e,"")}if(r.path==="")return r;throw cj(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function o(T){T.path.charAt(T.path.length-1)==="/"&&(T.path_=T.path_.slice(0,-1))}const s="(/(.*))?$",a=new RegExp("^gs://"+i+s,"i"),l={bucket:1,path:3};function u(T){T.path_=decodeURIComponent(T.path)}const c="v[A-Za-z0-9_]+",d=n.replace(/[.]/g,"\\."),h="(/([^?#]*).*)?$",p=new RegExp(`^https?://${d}/${c}/b/${i}/o${h}`,"i"),m={bucket:1,path:3},g=n===qD?"(?:storage.googleapis.com|storage.cloud.google.com)":n,v="([^?#]*)",A=new RegExp(`^https?://${g}/${i}/${v}`,"i"),S=[{regex:a,indices:l,postModify:o},{regex:p,indices:m,postModify:u},{regex:A,indices:{bucket:1,path:2},postModify:u}];for(let T=0;T<S.length;T++){const N=S[T],R=N.regex.exec(e);if(R){const C=R[N.indices.bucket];let E=R[N.indices.path];E||(E=""),r=new Mi(C,E),N.postModify(r);break}}if(r==null)throw uj(e);return r}}class gj{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vj(t,e,n){let r=1,i=null,o=null,s=!1,a=0;function l(){return a===2}let u=!1;function c(...v){u||(u=!0,e.apply(null,v))}function d(v){i=setTimeout(()=>{i=null,t(p,l())},v)}function h(){o&&clearTimeout(o)}function p(v,...A){if(u){h();return}if(v){h(),c.call(null,v,...A);return}if(l()||s){h(),c.call(null,v,...A);return}r<64&&(r*=2);let S;a===1?(a=2,S=0):S=(r+Math.random())*1e3,d(S)}let m=!1;function g(v){m||(m=!0,h(),!u&&(i!==null?(v||(a=2),clearTimeout(i),d(0)):v||(a=1)))}return d(0),o=setTimeout(()=>{s=!0,g(!0)},n),g}function yj(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bj(t){return t!==void 0}function _j(t){return typeof t=="function"}function wj(t){return typeof t=="object"&&!Array.isArray(t)}function lv(t){return typeof t=="string"||t instanceof String}function RI(t){return Qw()&&t instanceof Blob}function Qw(){return typeof Blob<"u"}function xI(t,e,n,r){if(r<e)throw m0(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw m0(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xc(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function KD(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}var hl;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(hl||(hl={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GD(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,o=e.indexOf(t)!==-1;return n||i||o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tj{constructor(e,n,r,i,o,s,a,l,u,c,d,h=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=o,this.additionalRetryCodes_=s,this.callback_=a,this.errorCallback_=l,this.timeout_=u,this.progressCallback_=c,this.connectionFactory_=d,this.retry=h,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((p,m)=>{this.resolve_=p,this.reject_=m,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new hp(!1,null,!0));return}const o=this.connectionFactory_();this.pendingConnection_=o;const s=a=>{const l=a.loaded,u=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,u)};this.progressCallback_!==null&&o.addUploadProgressListener(s),o.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&o.removeUploadProgressListener(s),this.pendingConnection_=null;const a=o.getErrorCode()===hl.NO_ERROR,l=o.getStatus();if(!a||GD(l,this.additionalRetryCodes_)&&this.retry){const c=o.getErrorCode()===hl.ABORT;r(!1,new hp(!1,null,c));return}const u=this.successCodes_.indexOf(l)!==-1;r(!0,new hp(u,o))})},n=(r,i)=>{const o=this.resolve_,s=this.reject_,a=i.connection;if(i.wasSuccessCode)try{const l=this.callback_(a,a.getResponse());bj(l)?o(l):o()}catch(l){s(l)}else if(a!==null){const l=Xw();l.serverResponse=a.getErrorText(),this.errorCallback_?s(this.errorCallback_(a,l)):s(l)}else if(i.canceled){const l=this.appDelete_?zD():HD();s(l)}else{const l=jD();s(l)}};this.canceled_?n(!1,new hp(!1,null,!0)):this.backoffId_=vj(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&yj(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class hp{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function Ej(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function Sj(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function Ij(t,e){e&&(t["X-Firebase-GMPID"]=e)}function Cj(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function Aj(t,e,n,r,i,o,s=!0){const a=KD(t.urlParams),l=t.url+a,u=Object.assign({},t.headers);return Ij(u,e),Ej(u,n),Sj(u,o),Cj(u,r),new Tj(l,t.method,u,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pj(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function Oj(...t){const e=Pj();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(Qw())return new Blob(t);throw new Bn(Pn.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function kj(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rj(t){if(typeof atob>"u")throw pj("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xo={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class wy{constructor(e,n){this.data=e,this.contentType=n||null}}function xj(t,e){switch(t){case xo.RAW:return new wy(YD(e));case xo.BASE64:case xo.BASE64URL:return new wy(XD(t,e));case xo.DATA_URL:return new wy(Nj(e),Mj(e))}throw Xw()}function YD(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const o=r,s=t.charCodeAt(++n);r=65536|(o&1023)<<10|s&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function Dj(t){let e;try{e=decodeURIComponent(t)}catch{throw Hd(xo.DATA_URL,"Malformed data URL.")}return YD(e)}function XD(t,e){switch(t){case xo.BASE64:{const i=e.indexOf("-")!==-1,o=e.indexOf("_")!==-1;if(i||o)throw Hd(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case xo.BASE64URL:{const i=e.indexOf("+")!==-1,o=e.indexOf("/")!==-1;if(i||o)throw Hd(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=Rj(e)}catch(i){throw i.message.includes("polyfill")?i:Hd(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class QD{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw Hd(xo.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=Lj(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function Nj(t){const e=new QD(t);return e.base64?XD(xo.BASE64,e.rest):Dj(e.rest)}function Mj(t){return new QD(t).contentType}function Lj(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Js{constructor(e,n){let r=0,i="";RI(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,n){if(RI(this.data_)){const r=this.data_,i=kj(r,e,n);return i===null?null:new Js(i)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new Js(r,!0)}}static getBlob(...e){if(Qw()){const n=e.map(r=>r instanceof Js?r.data_:r);return new Js(Oj.apply(null,n))}else{const n=e.map(s=>lv(s)?xj(xo.RAW,s).data:s.data_);let r=0;n.forEach(s=>{r+=s.byteLength});const i=new Uint8Array(r);let o=0;return n.forEach(s=>{for(let a=0;a<s.length;a++)i[o++]=s[a]}),new Js(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JD(t){let e;try{e=JSON.parse(t)}catch{return null}return wj(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vj(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function $j(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function ZD(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fj(t,e){return e}class li{constructor(e,n,r,i){this.server=e,this.local=n||e,this.writable=!!r,this.xform=i||Fj}}let fp=null;function Uj(t){return!lv(t)||t.length<2?t:ZD(t)}function e2(){if(fp)return fp;const t=[];t.push(new li("bucket")),t.push(new li("generation")),t.push(new li("metageneration")),t.push(new li("name","fullPath",!0));function e(o,s){return Uj(s)}const n=new li("name");n.xform=e,t.push(n);function r(o,s){return s!==void 0?Number(s):s}const i=new li("size");return i.xform=r,t.push(i),t.push(new li("timeCreated")),t.push(new li("updated")),t.push(new li("md5Hash",null,!0)),t.push(new li("cacheControl",null,!0)),t.push(new li("contentDisposition",null,!0)),t.push(new li("contentEncoding",null,!0)),t.push(new li("contentLanguage",null,!0)),t.push(new li("contentType",null,!0)),t.push(new li("metadata","customMetadata",!0)),fp=t,fp}function qj(t,e){function n(){const r=t.bucket,i=t.fullPath,o=new Mi(r,i);return e._makeStorageReference(o)}Object.defineProperty(t,"ref",{get:n})}function Bj(t,e,n){const r={};r.type="file";const i=n.length;for(let o=0;o<i;o++){const s=n[o];r[s.local]=s.xform(r,e[s.server])}return qj(r,t),r}function t2(t,e,n){const r=JD(e);return r===null?null:Bj(t,r,n)}function jj(t,e,n,r){const i=JD(e);if(i===null||!lv(i.downloadTokens))return null;const o=i.downloadTokens;if(o.length===0)return null;const s=encodeURIComponent;return o.split(",").map(u=>{const c=t.bucket,d=t.fullPath,h="/b/"+s(c)+"/o/"+s(d),p=xc(h,n,r),m=KD({alt:"media",token:u});return p+m})[0]}function n2(t,e){const n={},r=e.length;for(let i=0;i<r;i++){const o=e[i];o.writable&&(n[o.server]=t[o.local])}return JSON.stringify(n)}class Hl{constructor(e,n,r,i){this.url=e,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ys(t){if(!t)throw Xw()}function Jw(t,e){function n(r,i){const o=t2(t,i,e);return ys(o!==null),o}return n}function Hj(t,e){function n(r,i){const o=t2(t,i,e);return ys(o!==null),jj(o,i,t.host,t._protocol)}return n}function gf(t){function e(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=aj():i=sj():n.getStatus()===402?i=oj(t.bucket):n.getStatus()===403?i=lj(t.path):i=r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}return e}function Zw(t){const e=gf(t);function n(r,i){let o=e(r,i);return r.getStatus()===404&&(o=ij(t.path)),o.serverResponse=i.serverResponse,o}return n}function Wj(t,e,n){const r=e.fullServerUrl(),i=xc(r,t.host,t._protocol),o="GET",s=t.maxOperationRetryTime,a=new Hl(i,o,Jw(t,n),s);return a.errorHandler=Zw(e),a}function zj(t,e,n){const r=e.fullServerUrl(),i=xc(r,t.host,t._protocol),o="GET",s=t.maxOperationRetryTime,a=new Hl(i,o,Hj(t,n),s);return a.errorHandler=Zw(e),a}function Kj(t,e){const n=e.fullServerUrl(),r=xc(n,t.host,t._protocol),i="DELETE",o=t.maxOperationRetryTime;function s(l,u){}const a=new Hl(r,i,s,o);return a.successCodes=[200,204],a.errorHandler=Zw(e),a}function Gj(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function r2(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=Gj(null,e)),r}function Yj(t,e,n,r,i){const o=e.bucketOnlyServerUrl(),s={"X-Goog-Upload-Protocol":"multipart"};function a(){let S="";for(let T=0;T<2;T++)S=S+Math.random().toString().slice(2);return S}const l=a();s["Content-Type"]="multipart/related; boundary="+l;const u=r2(e,r,i),c=n2(u,n),d="--"+l+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+c+`\r
--`+l+`\r
Content-Type: `+u.contentType+`\r
\r
`,h=`\r
--`+l+"--",p=Js.getBlob(d,r,h);if(p===null)throw WD();const m={name:u.fullPath},g=xc(o,t.host,t._protocol),v="POST",A=t.maxUploadRetryTime,I=new Hl(g,v,Jw(t,n),A);return I.urlParams=m,I.headers=s,I.body=p.uploadData(),I.errorHandler=gf(e),I}class xm{constructor(e,n,r,i){this.current=e,this.total=n,this.finalized=!!r,this.metadata=i||null}}function e1(t,e){let n=null;try{n=t.getResponseHeader("X-Goog-Upload-Status")}catch{ys(!1)}return ys(!!n&&(e||["active"]).indexOf(n)!==-1),n}function Xj(t,e,n,r,i){const o=e.bucketOnlyServerUrl(),s=r2(e,r,i),a={name:s.fullPath},l=xc(o,t.host,t._protocol),u="POST",c={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${r.size()}`,"X-Goog-Upload-Header-Content-Type":s.contentType,"Content-Type":"application/json; charset=utf-8"},d=n2(s,n),h=t.maxUploadRetryTime;function p(g){e1(g);let v;try{v=g.getResponseHeader("X-Goog-Upload-URL")}catch{ys(!1)}return ys(lv(v)),v}const m=new Hl(l,u,p,h);return m.urlParams=a,m.headers=c,m.body=d,m.errorHandler=gf(e),m}function Qj(t,e,n,r){const i={"X-Goog-Upload-Command":"query"};function o(u){const c=e1(u,["active","final"]);let d=null;try{d=u.getResponseHeader("X-Goog-Upload-Size-Received")}catch{ys(!1)}d||ys(!1);const h=Number(d);return ys(!isNaN(h)),new xm(h,r.size(),c==="final")}const s="POST",a=t.maxUploadRetryTime,l=new Hl(n,s,o,a);return l.headers=i,l.errorHandler=gf(e),l}const DI=256*1024;function Jj(t,e,n,r,i,o,s,a){const l=new xm(0,0);if(s?(l.current=s.current,l.total=s.total):(l.current=0,l.total=r.size()),r.size()!==l.total)throw hj();const u=l.total-l.current;let c=u;i>0&&(c=Math.min(c,i));const d=l.current,h=d+c;let p="";c===0?p="finalize":u===c?p="upload, finalize":p="upload";const m={"X-Goog-Upload-Command":p,"X-Goog-Upload-Offset":`${l.current}`},g=r.slice(d,h);if(g===null)throw WD();function v(T,N){const R=e1(T,["active","final"]),C=l.current+c,E=r.size();let b;return R==="final"?b=Jw(e,o)(T,N):b=null,new xm(C,E,R==="final",b)}const A="POST",I=e.maxUploadRetryTime,S=new Hl(n,A,v,I);return S.headers=m,S.body=g.uploadData(),S.progressCallback=a||null,S.errorHandler=gf(t),S}const bi={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function Ty(t){switch(t){case"running":case"pausing":case"canceling":return bi.RUNNING;case"paused":return bi.PAUSED;case"success":return bi.SUCCESS;case"canceled":return bi.CANCELED;case"error":return bi.ERROR;default:return bi.ERROR}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zj{constructor(e,n,r){if(_j(e)||n!=null||r!=null)this.next=e,this.error=n??void 0,this.complete=r??void 0;else{const o=e;this.next=o.next,this.error=o.error,this.complete=o.complete}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eu(t){return(...e)=>{Promise.resolve().then(()=>t(...e))}}class e7{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=hl.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=hl.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=hl.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,i){if(this.sent_)throw td("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),i!==void 0)for(const o in i)i.hasOwnProperty(o)&&this.xhr_.setRequestHeader(o,i[o].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw td("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw td("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw td("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw td("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class t7 extends e7{initXhr(){this.xhr_.responseType="text"}}function tl(){return new t7}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n7{constructor(e,n,r=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=n,this._metadata=r,this._mappings=e2(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=i=>{if(this._request=void 0,this._chunkMultiplier=1,i._codeEquals(Pn.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const o=this.isExponentialBackoffExpired();if(GD(i.status,[]))if(o)i=jD();else{this.sleepTime=Math.max(this.sleepTime*2,rj),this._needToFetchStatus=!0,this.completeTransitions_();return}this._error=i,this._transition("error")}},this._metadataErrorHandler=i=>{this._request=void 0,i._codeEquals(Pn.CANCELED)?this.completeTransitions_():(this._error=i,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((i,o)=>{this._resolve=i,this._reject=o,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const e=this._transferred;return n=>this._updateProgress(e+n)}_shouldDoResumable(e){return e.size()>256*1024}_start(){this._state==="running"&&this._request===void 0&&(this._resumable?this._uploadUrl===void 0?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([n,r])=>{switch(this._state){case"running":e(n,r);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused");break}})}_createResumable(){this._resolveToken((e,n)=>{const r=Xj(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(r,tl,e,n);this._request=i,i.getPromise().then(o=>{this._request=void 0,this._uploadUrl=o,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const e=this._uploadUrl;this._resolveToken((n,r)=>{const i=Qj(this._ref.storage,this._ref._location,e,this._blob),o=this._ref.storage._makeRequest(i,tl,n,r);this._request=o,o.getPromise().then(s=>{s=s,this._request=void 0,this._updateProgress(s.current),this._needToFetchStatus=!1,s.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const e=DI*this._chunkMultiplier,n=new xm(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((i,o)=>{let s;try{s=Jj(this._ref._location,this._ref.storage,r,this._blob,e,this._mappings,n,this._makeProgressCallback())}catch(l){this._error=l,this._transition("error");return}const a=this._ref.storage._makeRequest(s,tl,i,o,!1);this._request=a,a.getPromise().then(l=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(l.current),l.finalized?(this._metadata=l.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){DI*this._chunkMultiplier*2<32*1024*1024&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,n)=>{const r=Wj(this._ref.storage,this._ref._location,this._mappings),i=this._ref.storage._makeRequest(r,tl,e,n);this._request=i,i.getPromise().then(o=>{this._request=void 0,this._metadata=o,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,n)=>{const r=Yj(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(r,tl,e,n);this._request=i,i.getPromise().then(o=>{this._request=void 0,this._metadata=o,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){const n=this._transferred;this._transferred=e,this._transferred!==n&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,this._request!==void 0?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const n=this._state==="paused";this._state=e,n&&(this._notifyObservers(),this._start());break;case"paused":this._state=e,this._notifyObservers();break;case"canceled":this._error=HD(),this._state=e,this._notifyObservers();break;case"error":this._state=e,this._notifyObservers();break;case"success":this._state=e,this._notifyObservers();break}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start();break}}get snapshot(){const e=Ty(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,n,r,i){const o=new Zj(n||void 0,r||void 0,i||void 0);return this._addObserver(o),()=>{this._removeObserver(o)}}then(e,n){return this._promise.then(e,n)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const n=this._observers.indexOf(e);n!==-1&&this._observers.splice(n,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(n=>{this._notifyObserver(n)})}_finishPromise(){if(this._resolve!==void 0){let e=!0;switch(Ty(this._state)){case bi.SUCCESS:eu(this._resolve.bind(null,this.snapshot))();break;case bi.CANCELED:case bi.ERROR:const n=this._reject;eu(n.bind(null,this._error))();break;default:e=!1;break}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(Ty(this._state)){case bi.RUNNING:case bi.PAUSED:e.next&&eu(e.next.bind(e,this.snapshot))();break;case bi.SUCCESS:e.complete&&eu(e.complete.bind(e))();break;case bi.CANCELED:case bi.ERROR:e.error&&eu(e.error.bind(e,this._error))();break;default:e.error&&eu(e.error.bind(e,this._error))()}}resume(){const e=this._state==="paused"||this._state==="pausing";return e&&this._transition("running"),e}pause(){const e=this._state==="running";return e&&this._transition("pausing"),e}cancel(){const e=this._state==="running"||this._state==="pausing";return e&&this._transition("canceling"),e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ol{constructor(e,n){this._service=e,n instanceof Mi?this._location=n:this._location=Mi.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Ol(e,n)}get root(){const e=new Mi(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return ZD(this._location.path)}get storage(){return this._service}get parent(){const e=Vj(this._location.path);if(e===null)return null;const n=new Mi(this._location.bucket,e);return new Ol(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw mj(e)}}function r7(t,e,n){return t._throwIfRoot("uploadBytesResumable"),new n7(t,new Js(e),n)}function i7(t){t._throwIfRoot("getDownloadURL");const e=zj(t.storage,t._location,e2());return t.storage.makeRequestWithTokens(e,tl).then(n=>{if(n===null)throw fj();return n})}function o7(t){t._throwIfRoot("deleteObject");const e=Kj(t.storage,t._location);return t.storage.makeRequestWithTokens(e,tl)}function s7(t,e){const n=$j(t._location.path,e),r=new Mi(t._location.bucket,n);return new Ol(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a7(t){return/^[A-Za-z]+:\/\//.test(t)}function l7(t,e){return new Ol(t,e)}function i2(t,e){if(t instanceof t1){const n=t;if(n._bucket==null)throw dj();const r=new Ol(n,n._bucket);return e!=null?i2(r,e):r}else return e!==void 0?s7(t,e):t}function u7(t,e){if(e&&a7(e)){if(t instanceof t1)return l7(t,e);throw m0("To use ref(service, url), the first argument must be a Storage instance.")}else return i2(t,e)}function NI(t,e){const n=e==null?void 0:e[BD];return n==null?null:Mi.makeFromBucketSpec(n,t)}function c7(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:i}=r;i&&(t._overrideAuthToken=typeof i=="string"?i:yR(i,t.app.options.projectId))}class t1{constructor(e,n,r,i,o){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=o,this._bucket=null,this._host=qD,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=tj,this._maxUploadRetryTime=nj,this._requests=new Set,i!=null?this._bucket=Mi.makeFromBucketSpec(i,this._host):this._bucket=NI(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Mi.makeFromBucketSpec(this._url,e):this._bucket=NI(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){xI("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){xI("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Ol(this,e)}_makeRequest(e,n,r,i,o=!0){if(this._deleted)return new gj(zD());{const s=Aj(e,this._appId,r,i,n,this._firebaseVersion,o);return this._requests.add(s),s.getPromise().then(()=>this._requests.delete(s),()=>this._requests.delete(s)),s}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const MI="@firebase/storage",LI="0.13.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o2="storage";function d7(t,e,n){return t=Jt(t),r7(t,e,n)}function h7(t){return t=Jt(t),i7(t)}function f7(t){return t=Jt(t),o7(t)}function p7(t,e){return t=Jt(t),u7(t,e)}function m7(t=Pc(),e){t=Jt(t);const r=Yo(t,o2).getImmediate({identifier:e}),i=mR("storage");return i&&g7(r,...i),r}function g7(t,e,n,r={}){c7(t,e,n,r)}function v7(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new t1(n,r,i,e,xa)}function y7(){Oi(new mi(o2,v7,"PUBLIC").setMultipleInstances(!0)),Vr(MI,LI,""),Vr(MI,LI,"esm2017")}y7();let pp;const b7=new Uint8Array(16);function _7(){if(!pp&&(pp=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!pp))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return pp(b7)}const Rr=[];for(let t=0;t<256;++t)Rr.push((t+256).toString(16).slice(1));function w7(t,e=0){return Rr[t[e+0]]+Rr[t[e+1]]+Rr[t[e+2]]+Rr[t[e+3]]+"-"+Rr[t[e+4]]+Rr[t[e+5]]+"-"+Rr[t[e+6]]+Rr[t[e+7]]+"-"+Rr[t[e+8]]+Rr[t[e+9]]+"-"+Rr[t[e+10]]+Rr[t[e+11]]+Rr[t[e+12]]+Rr[t[e+13]]+Rr[t[e+14]]+Rr[t[e+15]]}const T7=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),VI={randomUUID:T7};function n1(t,e,n){if(VI.randomUUID&&!e&&!t)return VI.randomUUID();t=t||{};const r=t.random||(t.rng||_7)();if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,e){n=n||0;for(let i=0;i<16;++i)e[n+i]=r[i];return e}return w7(r)}const s2=1e3,g0=s2*60,v0=g0*60,Dm=v0*24,Nm=Dm*365,a2=async t=>{const e=await YB(t),n=e.data();return n?{id:e.id,...n}:null},tu=async(t,e)=>{const n=await XB(e?MD(t,...e):t);return Promise.all(n.docs.map(r=>a2(r.ref)))},zi=a2,E7=ej,Mm=QB,Ys=JB,Cd=ZB,y0=t=>p7(m7(),t),$I=t=>t.sort((e,n)=>{const r=(n.order||0)-(e.order||0);return r!==0?r:e.date&&n.date?n.date.getTime()-e.date.getTime():0}),S7=(t,e,n,r)=>{setTimeout(()=>{t.forEach((i,o)=>{setTimeout(()=>{r(i)},o*n)})},e)},vo=(t,e)=>{if(!t||!e)return!1;for(const n in t){const r=t[n],i=e[n];if(r===void 0||i===void 0)return!1;if(r===null&&i===null)continue;if(Array.isArray(r)&&Array.isArray(i)){if(r.length!==i.length)return!1;const o=r.slice(),s=i.slice();if(o.some((a,l)=>!vo(a,s[l])||s.some((u,c)=>!vo(u,o[c]))))return!1}else if(r instanceof Date&&i instanceof Date){if(r.getTime()!==i.getTime())return!1}else if(typeof r=="object"){if(!vo(r,i))return!1}else if(r!==i)return!1}return!0},b0=t=>{const e=Math.round((Date.now()-t.getTime())/1e3);if(e<30)return"Just now";if(e<60)return`${e} second${e!==1?"s":""} ago`;if(e<60*60){const n=Math.floor(e/60);return`${n} minute${n!==1?"s":""} ago`}else if(e<60*60*24){const n=Math.floor(e/3600);return`${n} hour${n!==1?"s":""} ago`}else{if(e<60*60*24*2)return"Yesterday";{const r=new Date().getTime()-t.getTime(),i=r/Nm,s=r%Nm/Dm,a=i<=1?{month:"long",day:"numeric"}:{year:"numeric",month:"long",day:"numeric"},l=t.toLocaleDateString(void 0,a);if(s<=7){const u={weekday:"long"};return t.toLocaleDateString(void 0,u)}else return l}}},Bp=(t,e)=>{if(t){var n=t.getBoundingClientRect().top,r=n+window.scrollY-15;setTimeout(()=>{window.scrollTo({top:r,behavior:"smooth"})},e??1e3)}},or=t=>{var n;const e=(n=t.originalEvent.currentTarget)==null?void 0:n.closest(".p-accordion");if(e){const r=e.children[t.index];r&&setTimeout(()=>{r.scrollIntoView({behavior:"smooth",block:"start"})},250)}},I7=()=>{var r;const t=document.createElement("div");t.style.visibility="hidden",t.style.overflow="scroll",document.body.appendChild(t);const e=document.createElement("div");t.appendChild(e);const n=t.offsetWidth-e.offsetWidth;return(r=t.parentNode)==null||r.removeChild(t),n},ss=t=>{var n;const e=!!((n=t==null?void 0:t.allowedUserIds)!=null&&n.length);return{isPrivate:e,visibility:e?"private":"public"}},Ya=t=>Array.isArray(t)?t:[t],C7=()=>{const t=document.activeElement;t instanceof HTMLElement&&t.blur()},_0=t=>t.join(", ").replace(/,([^,]*)$/," and$1"),l2=t=>{const e="&row&",n=";col;";return t.split(e).map(o=>o.split(n))},FI=t=>{const e="&row&",n=";col;";return t.map(o=>o.join(n)).join(e)},u2=()=>n1();function r1(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function c2(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const A7=c2,d2=new Ra("auth","Firebase",c2());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lm=new Ac("@firebase/auth");function P7(t,...e){Lm.logLevel<=xt.WARN&&Lm.warn(`Auth (${xa}): ${t}`,...e)}function jp(t,...e){Lm.logLevel<=xt.ERROR&&Lm.error(`Auth (${xa}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function So(t,...e){throw i1(t,...e)}function Fo(t,...e){return i1(t,...e)}function h2(t,e,n){const r=Object.assign(Object.assign({},A7()),{[e]:n});return new Ra("auth","Firebase",r).create(e,{appName:t.name})}function Uo(t){return h2(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function i1(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return d2.create(t,...e)}function ft(t,e,...n){if(!t)throw i1(e,...n)}function cs(t){const e="INTERNAL ASSERTION FAILED: "+t;throw jp(e),new Error(e)}function Is(t,e){t||cs(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w0(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function O7(){return UI()==="http:"||UI()==="https:"}function UI(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k7(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(O7()||bR()||"connection"in navigator)?navigator.onLine:!0}function R7(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vf{constructor(e,n){this.shortDelay=e,this.longDelay=n,Is(n>e,"Short delay should be less than long delay!"),this.isMobile=Q_()||_R()}get(){return k7()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o1(t,e){Is(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f2{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;cs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;cs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;cs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x7={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D7=new vf(3e4,6e4);function Os(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Qo(t,e,n,r,i={}){return p2(t,i,async()=>{let o={},s={};r&&(e==="GET"?s=r:o={body:JSON.stringify(r)});const a=Cc(Object.assign({key:t.config.apiKey},s)).slice(1),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode),f2.fetch()(m2(t,t.config.apiHost,n,a),Object.assign({method:e,headers:l,referrerPolicy:"no-referrer"},o))})}async function p2(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},x7),e);try{const i=new M7(t),o=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const s=await o.json();if("needConfirmation"in s)throw mp(t,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{const a=o.ok?s.errorMessage:s.error.message,[l,u]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw mp(t,"credential-already-in-use",s);if(l==="EMAIL_EXISTS")throw mp(t,"email-already-in-use",s);if(l==="USER_DISABLED")throw mp(t,"user-disabled",s);const c=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw h2(t,c,u);So(t,c)}}catch(i){if(i instanceof Bi)throw i;So(t,"network-request-failed",{message:String(i)})}}async function yf(t,e,n,r,i={}){const o=await Qo(t,e,n,r,i);return"mfaPendingCredential"in o&&So(t,"multi-factor-auth-required",{_serverResponse:o}),o}function m2(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?o1(t.config,i):`${t.config.apiScheme}://${i}`}function N7(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class M7{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Fo(this.auth,"network-request-failed")),D7.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function mp(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Fo(t,e,r);return i.customData._tokenResponse=n,i}function qI(t){return t!==void 0&&t.enterprise!==void 0}class L7{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return N7(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function V7(t,e){return Qo(t,"GET","/v2/recaptchaConfig",Os(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $7(t,e){return Qo(t,"POST","/v1/accounts:delete",e)}async function g2(t,e){return Qo(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wd(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function F7(t,e=!1){const n=Jt(t),r=await n.getIdToken(e),i=s1(r);ft(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const o=typeof i.firebase=="object"?i.firebase:void 0,s=o==null?void 0:o.sign_in_provider;return{claims:i,token:r,authTime:Wd(Ey(i.auth_time)),issuedAtTime:Wd(Ey(i.iat)),expirationTime:Wd(Ey(i.exp)),signInProvider:s||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function Ey(t){return Number(t)*1e3}function s1(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return jp("JWT malformed, contained fewer than 3 sections"),null;try{const i=ym(n);return i?JSON.parse(i):(jp("Failed to decode base64 JWT payload"),null)}catch(i){return jp("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function BI(t){const e=s1(t);return ft(e,"internal-error"),ft(typeof e.exp<"u","internal-error"),ft(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dc(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Bi&&U7(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function U7({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q7{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T0{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Wd(this.lastLoginAt),this.creationTime=Wd(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vm(t){var e;const n=t.auth,r=await t.getIdToken(),i=await dc(t,g2(n,{idToken:r}));ft(i==null?void 0:i.users.length,n,"internal-error");const o=i.users[0];t._notifyReloadListener(o);const s=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?v2(o.providerUserInfo):[],a=j7(t.providerData,s),l=t.isAnonymous,u=!(t.email&&o.passwordHash)&&!(a!=null&&a.length),c=l?u:!1,d={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new T0(o.createdAt,o.lastLoginAt),isAnonymous:c};Object.assign(t,d)}async function B7(t){const e=Jt(t);await Vm(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function j7(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function v2(t){return t.map(e=>{var{providerId:n}=e,r=r1(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function H7(t,e){const n=await p2(t,{},async()=>{const r=Cc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,s=m2(t,i,"/v1/token",`key=${o}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",f2.fetch()(s,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function W7(t,e){return Qo(t,"POST","/v2/accounts:revokeToken",Os(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qu{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ft(e.idToken,"internal-error"),ft(typeof e.idToken<"u","internal-error"),ft(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):BI(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ft(e.length!==0,"internal-error");const n=BI(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ft(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:o}=await H7(e,n);this.updateTokensAndExpiration(r,i,Number(o))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:o}=n,s=new qu;return r&&(ft(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(ft(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(ft(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new qu,this.toJSON())}_performRefresh(){return cs("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $s(t,e){ft(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class ds{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,o=r1(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new q7(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new T0(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await dc(this,this.stsTokenManager.getToken(this.auth,e));return ft(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return F7(this,e)}reload(){return B7(this)}_assign(e){this!==e&&(ft(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new ds(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){ft(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Vm(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(po(this.auth.app))return Promise.reject(Uo(this.auth));const e=await this.getIdToken();return await dc(this,$7(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,o,s,a,l,u,c;const d=(r=n.displayName)!==null&&r!==void 0?r:void 0,h=(i=n.email)!==null&&i!==void 0?i:void 0,p=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,m=(s=n.photoURL)!==null&&s!==void 0?s:void 0,g=(a=n.tenantId)!==null&&a!==void 0?a:void 0,v=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,A=(u=n.createdAt)!==null&&u!==void 0?u:void 0,I=(c=n.lastLoginAt)!==null&&c!==void 0?c:void 0,{uid:S,emailVerified:T,isAnonymous:N,providerData:R,stsTokenManager:C}=n;ft(S&&C,e,"internal-error");const E=qu.fromJSON(this.name,C);ft(typeof S=="string",e,"internal-error"),$s(d,e.name),$s(h,e.name),ft(typeof T=="boolean",e,"internal-error"),ft(typeof N=="boolean",e,"internal-error"),$s(p,e.name),$s(m,e.name),$s(g,e.name),$s(v,e.name),$s(A,e.name),$s(I,e.name);const b=new ds({uid:S,auth:e,email:h,emailVerified:T,displayName:d,isAnonymous:N,photoURL:m,phoneNumber:p,tenantId:g,stsTokenManager:E,createdAt:A,lastLoginAt:I});return R&&Array.isArray(R)&&(b.providerData=R.map(w=>Object.assign({},w))),v&&(b._redirectEventId=v),b}static async _fromIdTokenResponse(e,n,r=!1){const i=new qu;i.updateFromServerResponse(n);const o=new ds({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Vm(o),o}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];ft(i.localId!==void 0,"internal-error");const o=i.providerUserInfo!==void 0?v2(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!(o!=null&&o.length),a=new qu;a.updateFromIdToken(r);const l=new ds({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:s}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new T0(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(o!=null&&o.length)};return Object.assign(l,u),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jI=new Map;function hs(t){Is(t instanceof Function,"Expected a class definition");let e=jI.get(t);return e?(Is(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,jI.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y2{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}y2.type="NONE";const HI=y2;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hp(t,e,n){return`firebase:${t}:${e}:${n}`}class Bu{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:o}=this.auth;this.fullUserKey=Hp(this.userKey,i.apiKey,o),this.fullPersistenceKey=Hp("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?ds._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Bu(hs(HI),e,r);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let o=i[0]||hs(HI);const s=Hp(r,e.config.apiKey,e.name);let a=null;for(const u of n)try{const c=await u._get(s);if(c){const d=ds._fromJSON(e,c);u!==o&&(a=d),o=u;break}}catch{}const l=i.filter(u=>u._shouldAllowMigration);return!o._shouldAllowMigration||!l.length?new Bu(o,e,r):(o=l[0],a&&await o._set(s,a.toJSON()),await Promise.all(n.map(async u=>{if(u!==o)try{await u._remove(s)}catch{}})),new Bu(o,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WI(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(T2(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(b2(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(S2(e))return"Blackberry";if(I2(e))return"Webos";if(_2(e))return"Safari";if((e.includes("chrome/")||w2(e))&&!e.includes("edge/"))return"Chrome";if(E2(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function b2(t=oi()){return/firefox\//i.test(t)}function _2(t=oi()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function w2(t=oi()){return/crios\//i.test(t)}function T2(t=oi()){return/iemobile/i.test(t)}function E2(t=oi()){return/android/i.test(t)}function S2(t=oi()){return/blackberry/i.test(t)}function I2(t=oi()){return/webos/i.test(t)}function a1(t=oi()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function z7(t=oi()){var e;return a1(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function K7(){return u6()&&document.documentMode===10}function C2(t=oi()){return a1(t)||E2(t)||I2(t)||S2(t)||/windows phone/i.test(t)||T2(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A2(t,e=[]){let n;switch(t){case"Browser":n=WI(oi());break;case"Worker":n=`${WI(oi())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${xa}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G7{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=o=>new Promise((s,a)=>{try{const l=e(o);s(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Y7(t,e={}){return Qo(t,"GET","/v2/passwordPolicy",Os(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X7=6;class Q7{constructor(e){var n,r,i,o;const s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=s.minPasswordLength)!==null&&n!==void 0?n:X7,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,o,s,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(o=l.containsUppercaseLetter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(s=l.containsNumericCharacter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J7{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new zI(this),this.idTokenSubscription=new zI(this),this.beforeStateQueue=new G7(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=d2,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=hs(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await Bu.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await g2(this,{idToken:e}),r=await ds._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(po(this.app)){const s=this.app.settings.authIdToken;return s?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const s=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!s||s===a)&&(l!=null&&l.user)&&(i=l.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return ft(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Vm(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=R7()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(po(this.app))return Promise.reject(Uo(this));const n=e?Jt(e):null;return n&&ft(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ft(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return po(this.app)?Promise.reject(Uo(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return po(this.app)?Promise.reject(Uo(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(hs(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Y7(this),n=new Q7(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Ra("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await W7(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&hs(e)||this._popupRedirectResolver;ft(n,this,"argument-error"),this.redirectPersistenceManager=await Bu.create(this,[hs(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const o=typeof n=="function"?n:n.next.bind(n);let s=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(ft(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{s=!0,l()}}else{const l=e.addObserver(n);return()=>{s=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ft(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=A2(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&P7(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Na(t){return Jt(t)}class zI{constructor(e){this.auth=e,this.observer=null,this.addObserver=y6(n=>this.observer=n)}get next(){return ft(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let uv={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Z7(t){uv=t}function P2(t){return uv.loadJS(t)}function eH(){return uv.recaptchaEnterpriseScript}function tH(){return uv.gapiScript}function nH(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const rH="recaptcha-enterprise",iH="NO_RECAPTCHA";class oH{constructor(e){this.type=rH,this.auth=Na(e)}async verify(e="verify",n=!1){async function r(o){if(!n){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(s,a)=>{V7(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const u=new L7(l);return o.tenantId==null?o._agentRecaptchaConfig=u:o._tenantRecaptchaConfigs[o.tenantId]=u,s(u.siteKey)}}).catch(l=>{a(l)})})}function i(o,s,a){const l=window.grecaptcha;qI(l)?l.enterprise.ready(()=>{l.enterprise.execute(o,{action:e}).then(u=>{s(u)}).catch(()=>{s(iH)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((o,s)=>{r(this.auth).then(a=>{if(!n&&qI(window.grecaptcha))i(a,o,s);else{if(typeof window>"u"){s(new Error("RecaptchaVerifier is only supported in browser"));return}let l=eH();l.length!==0&&(l+=a),P2(l).then(()=>{i(a,o,s)}).catch(u=>{s(u)})}}).catch(a=>{s(a)})})}}async function KI(t,e,n,r=!1){const i=new oH(t);let o;try{o=await i.verify(n)}catch{o=await i.verify(n,!0)}const s=Object.assign({},e);return r?Object.assign(s,{captchaResp:o}):Object.assign(s,{captchaResponse:o}),Object.assign(s,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(s,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),s}async function $m(t,e,n,r){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await KI(t,e,n,n==="getOobCode");return r(t,o)}else return r(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const s=await KI(t,e,n,n==="getOobCode");return r(t,s)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O2(t,e){const n=Yo(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),o=n.getOptions();if(gh(o,e??{}))return i;So(i,"already-initialized")}return n.initialize({options:e})}function sH(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(hs);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function aH(t,e,n){const r=Na(t);ft(r._canInitEmulator,r,"emulator-config-failed"),ft(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!(n!=null&&n.disableWarnings),o=k2(e),{host:s,port:a}=lH(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${o}//${s}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||uH()}function k2(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function lH(t){const e=k2(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const o=i[1];return{host:o,port:GI(r.substr(o.length+1))}}else{const[o,s]=r.split(":");return{host:o,port:GI(s)}}}function GI(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function uH(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l1{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return cs("not implemented")}_getIdTokenResponse(e){return cs("not implemented")}_linkToIdToken(e,n){return cs("not implemented")}_getReauthenticationResolver(e){return cs("not implemented")}}async function cH(t,e){return Qo(t,"POST","/v1/accounts:update",e)}async function dH(t,e){return Qo(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hH(t,e){return yf(t,"POST","/v1/accounts:signInWithPassword",Os(t,e))}async function fH(t,e){return Qo(t,"POST","/v1/accounts:sendOobCode",Os(t,e))}async function pH(t,e){return fH(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mH(t,e){return yf(t,"POST","/v1/accounts:signInWithEmailLink",Os(t,e))}async function gH(t,e){return yf(t,"POST","/v1/accounts:signInWithEmailLink",Os(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ah extends l1{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new Ah(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Ah(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return $m(e,n,"signInWithPassword",hH);case"emailLink":return mH(e,{email:this._email,oobCode:this._password});default:So(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return $m(e,r,"signUpPassword",dH);case"emailLink":return gH(e,{idToken:n,email:this._email,oobCode:this._password});default:So(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ju(t,e){return yf(t,"POST","/v1/accounts:signInWithIdp",Os(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vH="http://localhost";class kl extends l1{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new kl(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):So("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,o=r1(n,["providerId","signInMethod"]);if(!r||!i)return null;const s=new kl(r,i);return s.idToken=o.idToken||void 0,s.accessToken=o.accessToken||void 0,s.secret=o.secret,s.nonce=o.nonce,s.pendingToken=o.pendingToken||null,s}_getIdTokenResponse(e){const n=this.buildRequest();return ju(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,ju(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,ju(e,n)}buildRequest(){const e={requestUri:vH,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Cc(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yH(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function bH(t){const e=bd(_d(t)).link,n=e?bd(_d(e)).deep_link_id:null,r=bd(_d(t)).deep_link_id;return(r?bd(_d(r)).link:null)||r||n||e||t}class u1{constructor(e){var n,r,i,o,s,a;const l=bd(_d(e)),u=(n=l.apiKey)!==null&&n!==void 0?n:null,c=(r=l.oobCode)!==null&&r!==void 0?r:null,d=yH((i=l.mode)!==null&&i!==void 0?i:null);ft(u&&c&&d,"argument-error"),this.apiKey=u,this.operation=d,this.code=c,this.continueUrl=(o=l.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(s=l.languageCode)!==null&&s!==void 0?s:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=bH(e);try{return new u1(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ca{constructor(){this.providerId=Ca.PROVIDER_ID}static credential(e,n){return Ah._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=u1.parseLink(n);return ft(r,"argument-error"),Ah._fromEmailAndCode(e,r.code,r.tenantId)}}Ca.PROVIDER_ID="password";Ca.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Ca.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R2{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bf extends R2{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zs extends bf{constructor(){super("facebook.com")}static credential(e){return kl._fromParams({providerId:Zs.PROVIDER_ID,signInMethod:Zs.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Zs.credentialFromTaggedObject(e)}static credentialFromError(e){return Zs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Zs.credential(e.oauthAccessToken)}catch{return null}}}Zs.FACEBOOK_SIGN_IN_METHOD="facebook.com";Zs.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ea extends bf{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return kl._fromParams({providerId:ea.PROVIDER_ID,signInMethod:ea.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return ea.credentialFromTaggedObject(e)}static credentialFromError(e){return ea.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return ea.credential(n,r)}catch{return null}}}ea.GOOGLE_SIGN_IN_METHOD="google.com";ea.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ta extends bf{constructor(){super("github.com")}static credential(e){return kl._fromParams({providerId:ta.PROVIDER_ID,signInMethod:ta.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ta.credentialFromTaggedObject(e)}static credentialFromError(e){return ta.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ta.credential(e.oauthAccessToken)}catch{return null}}}ta.GITHUB_SIGN_IN_METHOD="github.com";ta.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class na extends bf{constructor(){super("twitter.com")}static credential(e,n){return kl._fromParams({providerId:na.PROVIDER_ID,signInMethod:na.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return na.credentialFromTaggedObject(e)}static credentialFromError(e){return na.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return na.credential(n,r)}catch{return null}}}na.TWITTER_SIGN_IN_METHOD="twitter.com";na.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _H(t,e){return yf(t,"POST","/v1/accounts:signUp",Os(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rl{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const o=await ds._fromIdTokenResponse(e,r,i),s=YI(r);return new Rl({user:o,providerId:s,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=YI(r);return new Rl({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function YI(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fm extends Bi{constructor(e,n,r,i){var o;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Fm.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Fm(e,n,r,i)}}function x2(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?Fm._fromErrorAndOperation(t,o,e,r):o})}async function wH(t,e,n=!1){const r=await dc(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Rl._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function D2(t,e,n=!1){const{auth:r}=t;if(po(r.app))return Promise.reject(Uo(r));const i="reauthenticate";try{const o=await dc(t,x2(r,i,e,t),n);ft(o.idToken,r,"internal-error");const s=s1(o.idToken);ft(s,r,"internal-error");const{sub:a}=s;return ft(t.uid===a,r,"user-mismatch"),Rl._forOperation(t,i,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&So(r,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function N2(t,e,n=!1){if(po(t.app))return Promise.reject(Uo(t));const r="signIn",i=await x2(t,r,e),o=await Rl._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(o.user),o}async function TH(t,e){return N2(Na(t),e)}async function XI(t,e){return D2(Jt(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EH(t,e,n){var r;ft(((r=n.url)===null||r===void 0?void 0:r.length)>0,t,"invalid-continue-uri"),ft(typeof n.dynamicLinkDomain>"u"||n.dynamicLinkDomain.length>0,t,"invalid-dynamic-link-domain"),e.continueUrl=n.url,e.dynamicLinkDomain=n.dynamicLinkDomain,e.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(ft(n.iOS.bundleId.length>0,t,"missing-ios-bundle-id"),e.iOSBundleId=n.iOS.bundleId),n.android&&(ft(n.android.packageName.length>0,t,"missing-android-pkg-name"),e.androidInstallApp=n.android.installApp,e.androidMinimumVersionCode=n.android.minimumVersion,e.androidPackageName=n.android.packageName)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function M2(t){const e=Na(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function SH(t,e,n){const r=Na(t),i={requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"};n&&EH(r,i,n),await $m(r,i,"getOobCode",pH)}async function IH(t,e,n){if(po(t.app))return Promise.reject(Uo(t));const r=Na(t),s=await $m(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",_H).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&M2(t),l}),a=await Rl._fromIdTokenResponse(r,"signIn",s);return await r._updateCurrentUser(a.user),a}function CH(t,e,n){return po(t.app)?Promise.reject(Uo(t)):TH(Jt(t),Ca.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&M2(t),r})}function AH(t,e){const n=Jt(t);return po(n.auth.app)?Promise.reject(Uo(n.auth)):L2(n,e,null)}function PH(t,e){return L2(Jt(t),null,e)}async function L2(t,e,n){const{auth:r}=t,o={idToken:await t.getIdToken(),returnSecureToken:!0};e&&(o.email=e),n&&(o.password=n);const s=await dc(t,cH(r,o));await t._updateTokensIfNecessary(s,!0)}function V2(t,e,n,r){return Jt(t).onIdTokenChanged(e,n,r)}function OH(t,e,n){return Jt(t).beforeAuthStateChanged(e,n)}function kH(t){return Jt(t).signOut()}async function RH(t){return Jt(t).delete()}const Um="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $2{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Um,"1"),this.storage.removeItem(Um),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xH=1e3,DH=10;class F2 extends $2{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=C2(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((s,a,l)=>{this.notifyListeners(s,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const s=this.storage.getItem(r);!n&&this.localCache[r]===s||this.notifyListeners(r,s)},o=this.storage.getItem(r);K7()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,DH):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},xH)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}F2.type="LOCAL";const U2=F2;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q2 extends $2{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}q2.type="SESSION";const c1=q2;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NH(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cv{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new cv(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:o}=n.data,s=this.handlersMap[i];if(!(s!=null&&s.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(s).map(async u=>u(n.origin,o)),l=await NH(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}cv.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d1(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MH{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,s;return new Promise((a,l)=>{const u=d1("",20);i.port1.start();const c=setTimeout(()=>{l(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(d){const h=d;if(h.data.eventId===u)switch(h.data.status){case"ack":clearTimeout(c),o=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),a(h.data.response);break;default:clearTimeout(c),clearTimeout(o),l(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qo(){return window}function LH(t){qo().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B2(){return typeof qo().WorkerGlobalScope<"u"&&typeof qo().importScripts=="function"}async function VH(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function $H(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function FH(){return B2()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j2="firebaseLocalStorageDb",UH=1,qm="firebaseLocalStorage",H2="fbase_key";class _f{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function dv(t,e){return t.transaction([qm],e?"readwrite":"readonly").objectStore(qm)}function qH(){const t=indexedDB.deleteDatabase(j2);return new _f(t).toPromise()}function E0(){const t=indexedDB.open(j2,UH);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(qm,{keyPath:H2})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(qm)?e(r):(r.close(),await qH(),e(await E0()))})})}async function QI(t,e,n){const r=dv(t,!0).put({[H2]:e,value:n});return new _f(r).toPromise()}async function BH(t,e){const n=dv(t,!1).get(e),r=await new _f(n).toPromise();return r===void 0?null:r.value}function JI(t,e){const n=dv(t,!0).delete(e);return new _f(n).toPromise()}const jH=800,HH=3;class W2{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await E0(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>HH)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return B2()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=cv._getInstance(FH()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await VH(),!this.activeServiceWorker)return;this.sender=new MH(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||$H()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await E0();return await QI(e,Um,"1"),await JI(e,Um),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>QI(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>BH(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>JI(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const o=dv(i,!1).getAll();return new _f(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:o}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(o)&&(this.notifyListeners(i,o),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),jH)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}W2.type="LOCAL";const z2=W2;new vf(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WH(t,e){return e?hs(e):(ft(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h1 extends l1{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ju(e,this._buildIdpRequest())}_linkToIdToken(e,n){return ju(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return ju(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function zH(t){return N2(t.auth,new h1(t),t.bypassAuthState)}function KH(t){const{auth:e,user:n}=t;return ft(n,e,"internal-error"),D2(n,new h1(t),t.bypassAuthState)}async function GH(t){const{auth:e,user:n}=t;return ft(n,e,"internal-error"),wH(n,new h1(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K2{constructor(e,n,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:o,error:s,type:a}=e;if(s){this.reject(s);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return zH;case"linkViaPopup":case"linkViaRedirect":return GH;case"reauthViaPopup":case"reauthViaRedirect":return KH;default:So(this.auth,"internal-error")}}resolve(e){Is(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Is(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YH=new vf(2e3,1e4);class wu extends K2{constructor(e,n,r,i,o){super(e,n,i,o),this.provider=r,this.authWindow=null,this.pollId=null,wu.currentPopupAction&&wu.currentPopupAction.cancel(),wu.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ft(e,this.auth,"internal-error"),e}async onExecution(){Is(this.filter.length===1,"Popup operations only handle one event");const e=d1();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Fo(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Fo(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,wu.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Fo(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,YH.get())};e()}}wu.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XH="pendingRedirect",Wp=new Map;class QH extends K2{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Wp.get(this.auth._key());if(!e){try{const r=await JH(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Wp.set(this.auth._key(),e)}return this.bypassAuthState||Wp.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function JH(t,e){const n=tW(e),r=eW(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function ZH(t,e){Wp.set(t._key(),e)}function eW(t){return hs(t._redirectPersistence)}function tW(t){return Hp(XH,t.config.apiKey,t.name)}async function nW(t,e,n=!1){if(po(t.app))return Promise.reject(Uo(t));const r=Na(t),i=WH(r,e),s=await new QH(r,i,n).execute();return s&&!n&&(delete s.user._redirectEventId,await r._persistUserIfCurrent(s.user),await r._setRedirectUser(null,e)),s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rW=10*60*1e3;class iW{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!oW(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!G2(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Fo(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=rW&&this.cachedEventUids.clear(),this.cachedEventUids.has(ZI(e))}saveEventToCache(e){this.cachedEventUids.add(ZI(e)),this.lastProcessedEventTime=Date.now()}}function ZI(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function G2({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function oW(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return G2(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sW(t,e={}){return Qo(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aW=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,lW=/^https?/;async function uW(t){if(t.config.emulator)return;const{authorizedDomains:e}=await sW(t);for(const n of e)try{if(cW(n))return}catch{}So(t,"unauthorized-domain")}function cW(t){const e=w0(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const s=new URL(t);return s.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&s.hostname===r}if(!lW.test(n))return!1;if(aW.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dW=new vf(3e4,6e4);function eC(){const t=qo().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function hW(t){return new Promise((e,n)=>{var r,i,o;function s(){eC(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{eC(),n(Fo(t,"network-request-failed"))},timeout:dW.get()})}if(!((i=(r=qo().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=qo().gapi)===null||o===void 0)&&o.load)s();else{const a=nH("iframefcb");return qo()[a]=()=>{gapi.load?s():n(Fo(t,"network-request-failed"))},P2(`${tH()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw zp=null,e})}let zp=null;function fW(t){return zp=zp||hW(t),zp}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pW=new vf(5e3,15e3),mW="__/auth/iframe",gW="emulator/auth/iframe",vW={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},yW=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function bW(t){const e=t.config;ft(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?o1(e,gW):`https://${t.config.authDomain}/${mW}`,r={apiKey:e.apiKey,appName:t.name,v:xa},i=yW.get(t.config.apiHost);i&&(r.eid=i);const o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${Cc(r).slice(1)}`}async function _W(t){const e=await fW(t),n=qo().gapi;return ft(n,t,"internal-error"),e.open({where:document.body,url:bW(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:vW,dontclear:!0},r=>new Promise(async(i,o)=>{await r.restyle({setHideOnLeave:!1});const s=Fo(t,"network-request-failed"),a=qo().setTimeout(()=>{o(s)},pW.get());function l(){qo().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{o(s)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wW={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},TW=500,EW=600,SW="_blank",IW="http://localhost";class tC{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function CW(t,e,n,r=TW,i=EW){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},wW),{width:r.toString(),height:i.toString(),top:o,left:s}),u=oi().toLowerCase();n&&(a=w2(u)?SW:n),b2(u)&&(e=e||IW,l.scrollbars="yes");const c=Object.entries(l).reduce((h,[p,m])=>`${h}${p}=${m},`,"");if(z7(u)&&a!=="_self")return AW(e||"",a),new tC(null);const d=window.open(e||"",a,c);ft(d,t,"popup-blocked");try{d.focus()}catch{}return new tC(d)}function AW(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PW="__/auth/handler",OW="emulator/auth/handler",kW=encodeURIComponent("fac");async function nC(t,e,n,r,i,o){ft(t.config.authDomain,t,"auth-domain-config-required"),ft(t.config.apiKey,t,"invalid-api-key");const s={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:xa,eventId:i};if(e instanceof R2){e.setDefaultLanguage(t.languageCode),s.providerId=e.providerId||"",qb(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(const[c,d]of Object.entries(o||{}))s[c]=d}if(e instanceof bf){const c=e.getScopes().filter(d=>d!=="");c.length>0&&(s.scopes=c.join(","))}t.tenantId&&(s.tid=t.tenantId);const a=s;for(const c of Object.keys(a))a[c]===void 0&&delete a[c];const l=await t._getAppCheckToken(),u=l?`#${kW}=${encodeURIComponent(l)}`:"";return`${RW(t)}?${Cc(a).slice(1)}${u}`}function RW({config:t}){return t.emulator?o1(t,OW):`https://${t.authDomain}/${PW}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sy="webStorageSupport";class xW{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=c1,this._completeRedirectFn=nW,this._overrideRedirectResult=ZH}async _openPopup(e,n,r,i){var o;Is((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");const s=await nC(e,n,r,w0(),i);return CW(e,s,d1())}async _openRedirect(e,n,r,i){await this._originValidation(e);const o=await nC(e,n,r,w0(),i);return LH(o),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:o}=this.eventManagers[n];return i?Promise.resolve(i):(Is(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await _W(e),r=new iW(e);return n.register("authEvent",i=>(ft(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Sy,{type:Sy},i=>{var o;const s=(o=i==null?void 0:i[0])===null||o===void 0?void 0:o[Sy];s!==void 0&&n(!!s),So(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=uW(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return C2()||_2()||a1()}}const Y2=xW;var rC="@firebase/auth",iC="1.7.7";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DW{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ft(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NW(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function MW(t){Oi(new mi("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;ft(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:s,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:A2(t)},u=new J7(r,i,o,l);return sH(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Oi(new mi("auth-internal",e=>{const n=Na(e.getProvider("auth").getImmediate());return(r=>new DW(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Vr(rC,iC,NW(t)),Vr(rC,iC,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LW=5*60,VW=vR("authIdTokenMaxAge")||LW;let oC=null;const $W=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>VW)return;const i=n==null?void 0:n.token;oC!==i&&(oC=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function FW(t=Pc()){const e=Yo(t,"auth");if(e.isInitialized())return e.getImmediate();const n=O2(t,{popupRedirectResolver:Y2,persistence:[z2,U2,c1]}),r=vR("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(r,location.origin);if(location.origin===o.origin){const s=$W(o.toString());OH(n,s,()=>s(n.currentUser)),V2(n,a=>s(a))}}const i=pR("auth");return i&&aH(n,`http://${i}`),n}function UW(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}Z7({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const o=Fo("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",UW().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});MW("Browser");const X2=Symbol("firebaseApp");function Q2(t){return eo()&&pi(X2,null)||Pc(t)}const gp=new WeakMap;function qW(t,e){if(!gp.has(t)){const n=gg(!0);gp.set(t,n);const{unmount:r}=e;e.unmount=()=>{r.call(e),n.stop(),gp.delete(t)}}return gp.get(t)}const BW=new WeakMap,vp=new WeakMap;function jW(t){const e=Q2(t);if(!vp.has(e)){let n;const i=[new Promise(o=>{n=o}),o=>{vp.set(e,o),n(o.value)}];vp.set(e,i)}return vp.get(e)}function HW(t,e){V2(e,n=>{const r=jW();t.value=n,Array.isArray(r)&&r[1](t)})}var sC={};const aC="@firebase/database",lC="1.0.7";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let J2="";function WW(t){J2=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zW{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Nr(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:mh(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KW{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return Ps(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z2=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new zW(e)}}catch{}return new KW},ol=Z2("localStorage"),S0=Z2("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hu=new Ac("@firebase/database"),GW=function(){let t=1;return function(){return t++}}(),eN=function(t){const e=T6(t),n=new v6;n.update(e);const r=n.digest();return Ng.encodeByteArray(r)},wf=function(...t){let e="";for(let n=0;n<t.length;n++){const r=t[n];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?e+=wf.apply(null,r):typeof r=="object"?e+=Nr(r):e+=r,e+=" "}return e};let fl=null,uC=!0;const YW=function(t,e){Ge(!e||t===!0||t===!1,"Can't turn on custom loggers persistently."),t===!0?(Hu.logLevel=xt.VERBOSE,fl=Hu.log.bind(Hu),e&&S0.set("logging_enabled",!0)):typeof t=="function"?fl=t:(fl=null,S0.remove("logging_enabled"))},Gr=function(...t){if(uC===!0&&(uC=!1,fl===null&&S0.get("logging_enabled")===!0&&YW(!0)),fl){const e=wf.apply(null,t);fl(e)}},Tf=function(t){return function(...e){Gr(t,...e)}},I0=function(...t){const e="FIREBASE INTERNAL ERROR: "+wf(...t);Hu.error(e)},xl=function(...t){const e=`FIREBASE FATAL ERROR: ${wf(...t)}`;throw Hu.error(e),new Error(e)},qi=function(...t){const e="FIREBASE WARNING: "+wf(...t);Hu.warn(e)},XW=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&qi("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},tN=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},QW=function(t){if(document.readyState==="complete")t();else{let e=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},hc="[MIN_NAME]",Dl="[MAX_NAME]",Dc=function(t,e){if(t===e)return 0;if(t===hc||e===Dl)return-1;if(e===hc||t===Dl)return 1;{const n=cC(t),r=cC(e);return n!==null?r!==null?n-r===0?t.length-e.length:n-r:-1:r!==null?1:t<e?-1:1}},JW=function(t,e){return t===e?0:t<e?-1:1},nd=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+Nr(e))},f1=function(t){if(typeof t!="object"||t===null)return Nr(t);const e=[];for(const r in t)e.push(r);e.sort();let n="{";for(let r=0;r<e.length;r++)r!==0&&(n+=","),n+=Nr(e[r]),n+=":",n+=f1(t[e[r]]);return n+="}",n},nN=function(t,e){const n=t.length;if(n<=e)return[t];const r=[];for(let i=0;i<n;i+=e)i+e>n?r.push(t.substring(i,n)):r.push(t.substring(i,i+e));return r};function Qi(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const rN=function(t){Ge(!tN(t),"Invalid JSON number");const e=11,n=52,r=(1<<e-1)-1;let i,o,s,a,l;t===0?(o=0,s=0,i=1/t===-1/0?1:0):(i=t<0,t=Math.abs(t),t>=Math.pow(2,1-r)?(a=Math.min(Math.floor(Math.log(t)/Math.LN2),r),o=a+r,s=Math.round(t*Math.pow(2,n-a)-Math.pow(2,n))):(o=0,s=Math.round(t/Math.pow(2,1-r-n))));const u=[];for(l=n;l;l-=1)u.push(s%2?1:0),s=Math.floor(s/2);for(l=e;l;l-=1)u.push(o%2?1:0),o=Math.floor(o/2);u.push(i?1:0),u.reverse();const c=u.join("");let d="";for(l=0;l<64;l+=8){let h=parseInt(c.substr(l,8),2).toString(16);h.length===1&&(h="0"+h),d=d+h}return d.toLowerCase()},ZW=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},ez=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"},tz=new RegExp("^-?(0*)\\d{1,10}$"),nz=-2147483648,rz=2147483647,cC=function(t){if(tz.test(t)){const e=Number(t);if(e>=nz&&e<=rz)return e}return null},Ef=function(t){try{t()}catch(e){setTimeout(()=>{const n=e.stack||"";throw qi("Exception was thrown by user callback.",n),e},Math.floor(0))}},iz=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},zd=function(t,e){const n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oz{constructor(e,n){this.appName_=e,this.appCheckProvider=n,this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(r=>this.appCheck=r)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){qi(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sz{constructor(e,n,r){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(Gr("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',qi(e)}}class C0{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}C0.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p1="5",iN="v",oN="s",sN="r",aN="f",lN=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,uN="ls",cN="p",A0="ac",dN="websocket",hN="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class az{constructor(e,n,r,i,o=!1,s="",a=!1,l=!1){this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=o,this.persistenceKey=s,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=l,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=ol.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&ol.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}}function lz(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function fN(t,e,n){Ge(typeof e=="string","typeof type must == string"),Ge(typeof n=="object","typeof params must == object");let r;if(e===dN)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===hN)r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);lz(t)&&(n.ns=t.namespace);const i=[];return Qi(n,(o,s)=>{i.push(o+"="+s)}),r+i.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uz{constructor(){this.counters_={}}incrementCounter(e,n=1){Ps(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return r6(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Iy={},Cy={};function m1(t){const e=t.toString();return Iy[e]||(Iy[e]=new uz),Iy[e]}function cz(t,e){const n=t.toString();return Cy[n]||(Cy[n]=e()),Cy[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dz{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&Ef(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dC="start",hz="close",fz="pLPCommand",pz="pRTLPCB",pN="id",mN="pw",gN="ser",mz="cb",gz="seg",vz="ts",yz="d",bz="dframe",vN=1870,yN=30,_z=vN-yN,wz=25e3,Tz=3e4;class Tu{constructor(e,n,r,i,o,s,a){this.connId=e,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=o,this.transportSessionId=s,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Tf(e),this.stats_=m1(n),this.urlFn=l=>(this.appCheckToken&&(l[A0]=this.appCheckToken),fN(n,hN,l))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new dz(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(Tz)),QW(()=>{if(this.isClosed_)return;this.scriptTagHolder=new g1((...o)=>{const[s,a,l,u,c]=o;if(this.incrementIncomingBytes_(o),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,s===dC)this.id=a,this.password=l;else if(s===hz)a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+s)},(...o)=>{const[s,a]=o;this.incrementIncomingBytes_(o),this.myPacketOrderer.handleResponse(s,a)},()=>{this.onClosed_()},this.urlFn);const r={};r[dC]="t",r[gN]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[mz]=this.scriptTagHolder.uniqueCallbackIdentifier),r[iN]=p1,this.transportSessionId&&(r[oN]=this.transportSessionId),this.lastSessionId&&(r[uN]=this.lastSessionId),this.applicationId&&(r[cN]=this.applicationId),this.appCheckToken&&(r[A0]=this.appCheckToken),typeof location<"u"&&location.hostname&&lN.test(location.hostname)&&(r[sN]=aN);const i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Tu.forceAllow_=!0}static forceDisallow(){Tu.forceDisallow_=!0}static isAvailable(){return Tu.forceAllow_?!0:!Tu.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!ZW()&&!ez()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=Nr(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=dR(n),i=nN(r,_z);for(let o=0;o<i.length;o++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[o]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const r={};r[bz]="t",r[pN]=e,r[mN]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=Nr(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class g1{constructor(e,n,r,i){this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=GW(),window[fz+this.uniqueCallbackIdentifier]=e,window[pz+this.uniqueCallbackIdentifier]=n,this.myIFrame=g1.createIFrame_();let o="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(o='<script>document.domain="'+document.domain+'";<\/script>');const s="<html><body>"+o+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(s),this.myIFrame.doc.close()}catch(a){Gr("frame writing exception"),a.stack&&Gr(a.stack),Gr(a)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||Gr("No IE domain setting required")}catch{const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[pN]=this.myID,e[mN]=this.myPW,e[gN]=this.currentSerial;let n=this.urlFn(e),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+yN+r.length<=vN;){const s=this.pendingSegs.shift();r=r+"&"+gz+i+"="+s.seg+"&"+vz+i+"="+s.ts+"&"+yz+i+"="+s.d,i++}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,r){this.pendingSegs.push({seg:e,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},i=setTimeout(r,Math.floor(wz)),o=()=>{clearTimeout(i),r()};this.addTag(e,o)}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const i=r.readyState;(!i||i==="loaded"||i==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{Gr("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ez=16384,Sz=45e3;let Bm=null;typeof MozWebSocket<"u"?Bm=MozWebSocket:typeof WebSocket<"u"&&(Bm=WebSocket);class ho{constructor(e,n,r,i,o,s,a){this.connId=e,this.applicationId=r,this.appCheckToken=i,this.authToken=o,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Tf(this.connId),this.stats_=m1(n),this.connURL=ho.connectionURL_(n,s,a,i,r),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,r,i,o){const s={};return s[iN]=p1,typeof location<"u"&&location.hostname&&lN.test(location.hostname)&&(s[sN]=aN),n&&(s[oN]=n),r&&(s[uN]=r),i&&(s[A0]=i),o&&(s[cN]=o),fN(e,dN,s)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,ol.set("previous_websocket_failure",!0);try{let r;wR(),this.mySock=new Bm(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_()}}start(){}static forceDisallow(){ho.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(n);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&Bm!==null&&!ho.forceDisallow_}static previouslyFailed(){return ol.isInMemoryStorage||ol.get("previous_websocket_failure")===!0}markConnectionHealthy(){ol.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const r=mh(n);this.onMessage(r)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(Ge(this.frames===null,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const r=this.extractFrameCount_(n);r!==null&&this.appendFrame_(r)}}send(e){this.resetKeepAlive();const n=Nr(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=nN(n,Ez);r.length>1&&this.sendString_(String(r.length));for(let i=0;i<r.length;i++)this.sendString_(r[i])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(Sz))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}ho.responsesRequiredToBeHealthy=2;ho.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ph{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[Tu,ho]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const n=ho&&ho.isAvailable();let r=n&&!ho.previouslyFailed();if(e.webSocketOnly&&(n||qi("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[ho];else{const i=this.transports_=[];for(const o of Ph.ALL_TRANSPORTS)o&&o.isAvailable()&&i.push(o);Ph.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}Ph.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Iz=6e4,Cz=5e3,Az=10*1024,Pz=100*1024,Ay="t",hC="d",Oz="s",fC="r",kz="e",pC="o",mC="a",gC="n",vC="p",Rz="h";class xz{constructor(e,n,r,i,o,s,a,l,u,c){this.id=e,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=o,this.onMessage_=s,this.onReady_=a,this.onDisconnect_=l,this.onKill_=u,this.lastSessionId=c,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Tf("c:"+this.id+":"),this.transportManager_=new Ph(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));const i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=zd(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>Pz?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>Az?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){const n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(Ay in e){const n=e[Ay];n===mC?this.upgradeIfSecondaryHealthy_():n===fC?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===pC&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=nd("t",e),r=nd("d",e);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:vC,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:mC,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:gC,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=nd("t",e),r=nd("d",e);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=nd(Ay,e);if(hC in e){const r=e[hC];if(n===Rz){const i=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if(n===gC){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===Oz?this.onConnectionShutdown_(r):n===fC?this.onReset_(r):n===kz?I0("Server Error: "+r):n===pC?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):I0("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,r=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),p1!==r&&qi("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),zd(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(Iz))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):zd(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(Cz))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:vC,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(ol.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bN{put(e,n,r,i){}merge(e,n,r,i){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,r){}onDisconnectMerge(e,n,r){}onDisconnectCancel(e,n){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _N{constructor(e){this.allowedEvents_=e,this.listeners_={},Ge(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,n)}}on(e,n,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:r});const i=this.getInitialEvent(e);i&&n.apply(r,i)}off(e,n,r){this.validateEventType_(e);const i=this.listeners_[e]||[];for(let o=0;o<i.length;o++)if(i[o].callback===n&&(!r||r===i[o].context)){i.splice(o,1);return}}validateEventType_(e){Ge(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jm extends _N{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!Q_()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new jm}getInitialEvent(e){return Ge(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yC=32,bC=768;class On{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}}function un(){return new On("")}function qt(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function Aa(t){return t.pieces_.length-t.pieceNum_}function Cn(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new On(t.pieces_,e)}function wN(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function Dz(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function TN(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function EN(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new On(e,0)}function Cr(t,e){const n=[];for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof On)for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{const r=e.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&n.push(r[i])}return new On(n,0)}function Lt(t){return t.pieceNum_>=t.pieces_.length}function Gi(t,e){const n=qt(t),r=qt(e);if(n===null)return e;if(n===r)return Gi(Cn(t),Cn(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function SN(t,e){if(Aa(t)!==Aa(e))return!1;for(let n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function mo(t,e){let n=t.pieceNum_,r=e.pieceNum_;if(Aa(t)>Aa(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}class Nz{constructor(e,n){this.errorPrefix_=n,this.parts_=TN(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=Vg(this.parts_[r]);IN(this)}}function Mz(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=Vg(e),IN(t)}function Lz(t){const e=t.parts_.pop();t.byteLength_-=Vg(e),t.parts_.length>0&&(t.byteLength_-=1)}function IN(t){if(t.byteLength_>bC)throw new Error(t.errorPrefix_+"has a key path longer than "+bC+" bytes ("+t.byteLength_+").");if(t.parts_.length>yC)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+yC+") or object contains a cycle "+Xa(t))}function Xa(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v1 extends _N{constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new v1}getInitialEvent(e){return Ge(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rd=1e3,Vz=60*5*1e3,_C=30*1e3,$z=1.3,Fz=3e4,Uz="server_kill",wC=3;class bs extends bN{constructor(e,n,r,i,o,s,a,l){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=r,this.onConnectStatus_=i,this.onServerInfoUpdate_=o,this.authTokenProvider_=s,this.appCheckTokenProvider_=a,this.authOverride_=l,this.id=bs.nextPersistentConnectionId_++,this.log_=Tf("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=rd,this.maxReconnectDelay_=Vz,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,l&&!wR())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");v1.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&jm.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,r){const i=++this.requestNumber_,o={r:i,a:e,b:n};this.log_(Nr(o)),Ge(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(o),r&&(this.requestCBHash_[i]=r)}get(e){this.initConnection_();const n=new El,i={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:s=>{const a=s.d;s.s==="ok"?n.resolve(a):n.reject(a)}};this.outstandingGets_.push(i),this.outstandingGetCount_++;const o=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(o),n.promise}listen(e,n,r,i){this.initConnection_();const o=e._queryIdentifier,s=e._path.toString();this.log_("Listen called for "+s+" "+o),this.listens.has(s)||this.listens.set(s,new Map),Ge(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),Ge(!this.listens.get(s).has(o),"listen() called twice for same path/queryId.");const a={onComplete:i,hashFn:n,query:e,tag:r};this.listens.get(s).set(o,a),this.connected_&&this.sendListen_(a)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,r=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(r)})}sendListen_(e){const n=e.query,r=n._path.toString(),i=n._queryIdentifier;this.log_("Listen on "+r+" for "+i);const o={p:r},s="q";e.tag&&(o.q=n._queryObject,o.t=e.tag),o.h=e.hashFn(),this.sendRequest(s,o,a=>{const l=a.d,u=a.s;bs.warnOnListenWarnings_(l,n),(this.listens.get(r)&&this.listens.get(r).get(i))===e&&(this.log_("listen response",a),u!=="ok"&&this.removeListen_(r,i),e.onComplete&&e.onComplete(u,l))})}static warnOnListenWarnings_(e,n){if(e&&typeof e=="object"&&Ps(e,"w")){const r=nc(e,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const i='".indexOn": "'+n._queryParams.getIndex().toString()+'"',o=n._path.toString();qi(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${i} at ${o} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||g6(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=_C)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=m6(e)?"auth":"gauth",r={cred:e};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(n,r,i=>{const o=i.s,s=i.d||"error";this.authToken_===e&&(o==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(o,s))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,r=e.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,r)})}unlisten(e,n){const r=e._path.toString(),i=e._queryIdentifier;this.log_("Unlisten called for "+r+" "+i),Ge(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,i)&&this.connected_&&this.sendUnlisten_(r,i,e._queryObject,n)}sendUnlisten_(e,n,r,i){this.log_("Unlisten on "+e+" for "+n);const o={p:e},s="n";i&&(o.q=r,o.t=i),this.sendRequest(s,o)}onDisconnectPut(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:r})}onDisconnectMerge(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:r})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,r,i){const o={p:n,d:r};this.log_("onDisconnect "+e,o),this.sendRequest(e,o,s=>{i&&setTimeout(()=>{i(s.s,s.d)},Math.floor(0))})}put(e,n,r,i){this.putInternal("p",e,n,r,i)}merge(e,n,r,i){this.putInternal("m",e,n,r,i)}putInternal(e,n,r,i,o){this.initConnection_();const s={p:n,d:r};o!==void 0&&(s.h=o),this.outstandingPuts_.push({action:e,request:s,onComplete:i}),this.outstandingPutCount_++;const a=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(a):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,i=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,o=>{this.log_(n+" response",o),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),i&&i(o.s,o.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,r=>{if(r.s!=="ok"){const o=r.d;this.log_("reportStats","Error sending stats: "+o)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+Nr(e));const n=e.r,r=this.requestCBHash_[n];r&&(delete this.requestCBHash_[n],r(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),e==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):e==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):e==="c"?this.onListenRevoked_(n.p,n.q):e==="ac"?this.onAuthRevoked_(n.s,n.d):e==="apc"?this.onAppCheckRevoked_(n.s,n.d):e==="sd"?this.onSecurityDebugPacket_(n):I0("Unrecognized action received from server: "+Nr(e)+`
Are you using the latest client?`)}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){Ge(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=rd,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=rd,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>Fz&&(this.reconnectDelay_=rd),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=new Date().getTime()-this.lastConnectionAttemptTime_;let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*$z)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),i=this.id+":"+bs.nextConnectionId_++,o=this.lastSessionId;let s=!1,a=null;const l=function(){a?a.close():(s=!0,r())},u=function(d){Ge(a,"sendRequest call when we're not connected not allowed."),a.sendRequest(d)};this.realtime_={close:l,sendRequest:u};const c=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[d,h]=await Promise.all([this.authTokenProvider_.getToken(c),this.appCheckTokenProvider_.getToken(c)]);s?Gr("getToken() completed but was canceled"):(Gr("getToken() completed. Creating connection."),this.authToken_=d&&d.accessToken,this.appCheckToken_=h&&h.token,a=new xz(i,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,r,p=>{qi(p+" ("+this.repoInfo_.toString()+")"),this.interrupt(Uz)},o))}catch(d){this.log_("Failed to get token: "+d),s||(this.repoInfo_.nodeAdmin&&qi(d),l())}}}interrupt(e){Gr("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){Gr("Resuming connection for reason: "+e),delete this.interruptReasons_[e],qb(this.interruptReasons_)&&(this.reconnectDelay_=rd,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let r;n?r=n.map(o=>f1(o)).join("$"):r="default";const i=this.removeListen_(e,r);i&&i.onComplete&&i.onComplete("permission_denied")}removeListen_(e,n){const r=new On(e).toString();let i;if(this.listens.has(r)){const o=this.listens.get(r);i=o.get(n),o.delete(n),o.size===0&&this.listens.delete(r)}else i=void 0;return i}onAuthRevoked_(e,n){Gr("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=wC&&(this.reconnectDelay_=_C,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){Gr("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=wC&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";e["sdk."+n+"."+J2.replace(/\./g,"-")]=1,Q_()?e["framework.cordova"]=1:_R()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=jm.getInstance().currentlyOnline();return qb(this.interruptReasons_)&&e}}bs.nextPersistentConnectionId_=0;bs.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bt{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new Bt(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hv{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const r=new Bt(hc,e),i=new Bt(hc,n);return this.compare(r,i)!==0}minPost(){return Bt.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let yp;class CN extends hv{static get __EMPTY_NODE(){return yp}static set __EMPTY_NODE(e){yp=e}compare(e,n){return Dc(e.name,n.name)}isDefinedOn(e){throw Ic("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return Bt.MIN}maxPost(){return new Bt(Dl,yp)}makePost(e,n){return Ge(typeof e=="string","KeyIndex indexValue must always be a string."),new Bt(e,yp)}toString(){return".key"}}const Wu=new CN;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bp{constructor(e,n,r,i,o=null){this.isReverse_=i,this.resultGenerator_=o,this.nodeStack_=[];let s=1;for(;!e.isEmpty();)if(e=e,s=n?r(e.key,n):1,i&&(s*=-1),s<0)this.isReverse_?e=e.left:e=e.right;else if(s===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class Sr{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??Sr.RED,this.left=i??Ii.EMPTY_NODE,this.right=o??Ii.EMPTY_NODE}copy(e,n,r,i,o){return new Sr(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const o=r(e,i.key);return o<0?i=i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i=i.copy(null,n,null,null,null):i=i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp_()}removeMin_(){if(this.left.isEmpty())return Ii.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let r,i;if(r=this,n(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),n(e,r.key)===0){if(r.right.isEmpty())return Ii.EMPTY_NODE;i=r.right.min_(),r=r.copy(i.key,i.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,Sr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,Sr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}Sr.RED=!0;Sr.BLACK=!1;class qz{copy(e,n,r,i,o){return this}insert(e,n,r){return new Sr(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class Ii{constructor(e,n=Ii.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new Ii(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,Sr.BLACK,null,null))}remove(e){return new Ii(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Sr.BLACK,null,null))}get(e){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(e){let n,r=this.root_,i=null;for(;!r.isEmpty();)if(n=this.comparator_(e,r.key),n===0){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(i=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new bp(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new bp(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new bp(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new bp(this.root_,null,this.comparator_,!0,e)}}Ii.EMPTY_NODE=new qz;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bz(t,e){return Dc(t.name,e.name)}function y1(t,e){return Dc(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let P0;function jz(t){P0=t}const AN=function(t){return typeof t=="number"?"number:"+rN(t):"string:"+t},PN=function(t){if(t.isLeafNode()){const e=t.val();Ge(typeof e=="string"||typeof e=="number"||typeof e=="object"&&Ps(e,".sv"),"Priority must be a string or number.")}else Ge(t===P0||t.isEmpty(),"priority of unexpected type.");Ge(t===P0||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let TC;class Tr{constructor(e,n=Tr.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,Ge(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),PN(this.priorityNode_)}static set __childrenNodeConstructor(e){TC=e}static get __childrenNodeConstructor(){return TC}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new Tr(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:Tr.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return Lt(e)?this:qt(e)===".priority"?this.priorityNode_:Tr.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:Tr.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const r=qt(e);return r===null?n:n.isEmpty()&&r!==".priority"?this:(Ge(r!==".priority"||Aa(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,Tr.__childrenNodeConstructor.EMPTY_NODE.updateChild(Cn(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+AN(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",n==="number"?e+=rN(this.value_):e+=this.value_,this.lazyHash_=eN(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===Tr.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof Tr.__childrenNodeConstructor?-1:(Ge(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,r=typeof this.value_,i=Tr.VALUE_TYPE_ORDER.indexOf(n),o=Tr.VALUE_TYPE_ORDER.indexOf(r);return Ge(i>=0,"Unknown leaf type: "+n),Ge(o>=0,"Unknown leaf type: "+r),i===o?r==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:o-i}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}Tr.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ON,kN;function Hz(t){ON=t}function Wz(t){kN=t}class zz extends hv{compare(e,n){const r=e.node.getPriority(),i=n.node.getPriority(),o=r.compareTo(i);return o===0?Dc(e.name,n.name):o}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return Bt.MIN}maxPost(){return new Bt(Dl,new Tr("[PRIORITY-POST]",kN))}makePost(e,n){const r=ON(e);return new Bt(n,new Tr("[PRIORITY-POST]",r))}toString(){return".priority"}}const Zr=new zz;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kz=Math.log(2);class Gz{constructor(e){const n=o=>parseInt(Math.log(o)/Kz,10),r=o=>parseInt(Array(o+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;const i=r(this.count);this.bits_=e+1&i}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const Hm=function(t,e,n,r){t.sort(e);const i=function(l,u){const c=u-l;let d,h;if(c===0)return null;if(c===1)return d=t[l],h=n?n(d):d,new Sr(h,d.node,Sr.BLACK,null,null);{const p=parseInt(c/2,10)+l,m=i(l,p),g=i(p+1,u);return d=t[p],h=n?n(d):d,new Sr(h,d.node,Sr.BLACK,m,g)}},o=function(l){let u=null,c=null,d=t.length;const h=function(m,g){const v=d-m,A=d;d-=m;const I=i(v+1,A),S=t[v],T=n?n(S):S;p(new Sr(T,S.node,g,null,I))},p=function(m){u?(u.left=m,u=m):(c=m,u=m)};for(let m=0;m<l.count;++m){const g=l.nextBitIsOne(),v=Math.pow(2,l.count-(m+1));g?h(v,Sr.BLACK):(h(v,Sr.BLACK),h(v,Sr.RED))}return c},s=new Gz(t.length),a=o(s);return new Ii(r||e,a)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Py;const nu={};class fs{constructor(e,n){this.indexes_=e,this.indexSet_=n}static get Default(){return Ge(nu&&Zr,"ChildrenNode.ts has not been loaded"),Py=Py||new fs({".priority":nu},{".priority":Zr}),Py}get(e){const n=nc(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof Ii?n:null}hasIndex(e){return Ps(this.indexSet_,e.toString())}addIndex(e,n){Ge(e!==Wu,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let i=!1;const o=n.getIterator(Bt.Wrap);let s=o.getNext();for(;s;)i=i||e.isDefinedOn(s.node),r.push(s),s=o.getNext();let a;i?a=Hm(r,e.getCompare()):a=nu;const l=e.toString(),u=Object.assign({},this.indexSet_);u[l]=e;const c=Object.assign({},this.indexes_);return c[l]=a,new fs(c,u)}addToIndexes(e,n){const r=bm(this.indexes_,(i,o)=>{const s=nc(this.indexSet_,o);if(Ge(s,"Missing index implementation for "+o),i===nu)if(s.isDefinedOn(e.node)){const a=[],l=n.getIterator(Bt.Wrap);let u=l.getNext();for(;u;)u.name!==e.name&&a.push(u),u=l.getNext();return a.push(e),Hm(a,s.getCompare())}else return nu;else{const a=n.get(e.name);let l=i;return a&&(l=l.remove(new Bt(e.name,a))),l.insert(e,e.node)}});return new fs(r,this.indexSet_)}removeFromIndexes(e,n){const r=bm(this.indexes_,i=>{if(i===nu)return i;{const o=n.get(e.name);return o?i.remove(new Bt(e.name,o)):i}});return new fs(r,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let id;class sn{constructor(e,n,r){this.children_=e,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&PN(this.priorityNode_),this.children_.isEmpty()&&Ge(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return id||(id=new sn(new Ii(y1),null,fs.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||id}updatePriority(e){return this.children_.isEmpty()?this:new sn(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const n=this.children_.get(e);return n===null?id:n}}getChild(e){const n=qt(e);return n===null?this:this.getImmediateChild(n).getChild(Cn(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,n){if(Ge(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);{const r=new Bt(e,n);let i,o;n.isEmpty()?(i=this.children_.remove(e),o=this.indexMap_.removeFromIndexes(r,this.children_)):(i=this.children_.insert(e,n),o=this.indexMap_.addToIndexes(r,this.children_));const s=i.isEmpty()?id:this.priorityNode_;return new sn(i,s,o)}}updateChild(e,n){const r=qt(e);if(r===null)return n;{Ge(qt(e)!==".priority"||Aa(e)===1,".priority must be the last token in a path");const i=this.getImmediateChild(r).updateChild(Cn(e),n);return this.updateImmediateChild(r,i)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let r=0,i=0,o=!0;if(this.forEachChild(Zr,(s,a)=>{n[s]=a.val(e),r++,o&&sn.INTEGER_REGEXP_.test(s)?i=Math.max(i,Number(s)):o=!1}),!e&&o&&i<2*r){const s=[];for(const a in n)s[a]=n[a];return s}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+AN(this.getPriority().val())+":"),this.forEachChild(Zr,(n,r)=>{const i=r.hash();i!==""&&(e+=":"+n+":"+i)}),this.lazyHash_=e===""?"":eN(e)}return this.lazyHash_}getPredecessorChildName(e,n,r){const i=this.resolveIndex_(r);if(i){const o=i.getPredecessorKey(new Bt(e,n));return o?o.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new Bt(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new Bt(n,this.children_.get(n)):null}forEachChild(e,n){const r=this.resolveIndex_(e);return r?r.inorderTraversal(i=>n(i.name,i.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getIteratorFrom(e,i=>i);{const i=this.children_.getIteratorFrom(e.name,Bt.Wrap);let o=i.peek();for(;o!=null&&n.compare(o,e)<0;)i.getNext(),o=i.peek();return i}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getReverseIteratorFrom(e,i=>i);{const i=this.children_.getReverseIteratorFrom(e.name,Bt.Wrap);let o=i.peek();for(;o!=null&&n.compare(o,e)>0;)i.getNext(),o=i.peek();return i}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===Sf?-1:0}withIndex(e){if(e===Wu||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new sn(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===Wu||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const r=this.getIterator(Zr),i=n.getIterator(Zr);let o=r.getNext(),s=i.getNext();for(;o&&s;){if(o.name!==s.name||!o.node.equals(s.node))return!1;o=r.getNext(),s=i.getNext()}return o===null&&s===null}else return!1;else return!1}}resolveIndex_(e){return e===Wu?null:this.indexMap_.get(e.toString())}}sn.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class Yz extends sn{constructor(){super(new Ii(y1),sn.EMPTY_NODE,fs.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return sn.EMPTY_NODE}isEmpty(){return!1}}const Sf=new Yz;Object.defineProperties(Bt,{MIN:{value:new Bt(hc,sn.EMPTY_NODE)},MAX:{value:new Bt(Dl,Sf)}});CN.__EMPTY_NODE=sn.EMPTY_NODE;Tr.__childrenNodeConstructor=sn;jz(Sf);Wz(Sf);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xz=!0;function Yr(t,e=null){if(t===null)return sn.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),Ge(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const n=t;return new Tr(n,Yr(e))}if(!(t instanceof Array)&&Xz){const n=[];let r=!1;if(Qi(t,(s,a)=>{if(s.substring(0,1)!=="."){const l=Yr(a);l.isEmpty()||(r=r||!l.getPriority().isEmpty(),n.push(new Bt(s,l)))}}),n.length===0)return sn.EMPTY_NODE;const o=Hm(n,Bz,s=>s.name,y1);if(r){const s=Hm(n,Zr.getCompare());return new sn(o,Yr(e),new fs({".priority":s},{".priority":Zr}))}else return new sn(o,Yr(e),fs.Default)}else{let n=sn.EMPTY_NODE;return Qi(t,(r,i)=>{if(Ps(t,r)&&r.substring(0,1)!=="."){const o=Yr(i);(o.isLeafNode()||!o.isEmpty())&&(n=n.updateImmediateChild(r,o))}}),n.updatePriority(Yr(e))}}Hz(Yr);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qz extends hv{constructor(e){super(),this.indexPath_=e,Ge(!Lt(e)&&qt(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const r=this.extractChild(e.node),i=this.extractChild(n.node),o=r.compareTo(i);return o===0?Dc(e.name,n.name):o}makePost(e,n){const r=Yr(e),i=sn.EMPTY_NODE.updateChild(this.indexPath_,r);return new Bt(n,i)}maxPost(){const e=sn.EMPTY_NODE.updateChild(this.indexPath_,Sf);return new Bt(Dl,e)}toString(){return TN(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jz extends hv{compare(e,n){const r=e.node.compareTo(n.node);return r===0?Dc(e.name,n.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return Bt.MIN}maxPost(){return Bt.MAX}makePost(e,n){const r=Yr(e);return new Bt(n,r)}toString(){return".value"}}const Zz=new Jz;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eK(t){return{type:"value",snapshotNode:t}}function tK(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function nK(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function EC(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function rK(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b1{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Zr}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return Ge(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return Ge(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:hc}hasEnd(){return this.endSet_}getIndexEndValue(){return Ge(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return Ge(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Dl}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return Ge(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Zr}copy(){const e=new b1;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function SC(t){const e={};if(t.isDefault())return e;let n;if(t.index_===Zr?n="$priority":t.index_===Zz?n="$value":t.index_===Wu?n="$key":(Ge(t.index_ instanceof Qz,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=Nr(n),t.startSet_){const r=t.startAfterSet_?"startAfter":"startAt";e[r]=Nr(t.indexStartValue_),t.startNameSet_&&(e[r]+=","+Nr(t.indexStartName_))}if(t.endSet_){const r=t.endBeforeSet_?"endBefore":"endAt";e[r]=Nr(t.indexEndValue_),t.endNameSet_&&(e[r]+=","+Nr(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function IC(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==Zr&&(e.i=t.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wm extends bN{constructor(e,n,r,i){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=Tf("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(Ge(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,n,r,i){const o=e._path.toString();this.log_("Listen called for "+o+" "+e._queryIdentifier);const s=Wm.getListenId_(e,r),a={};this.listens_[s]=a;const l=SC(e._queryParams);this.restRequest_(o+".json",l,(u,c)=>{let d=c;if(u===404&&(d=null,u=null),u===null&&this.onDataUpdate_(o,d,!1,r),nc(this.listens_,s)===a){let h;u?u===401?h="permission_denied":h="rest_error:"+u:h="ok",i(h,null)}})}unlisten(e,n){const r=Wm.getListenId_(e,n);delete this.listens_[r]}get(e){const n=SC(e._queryParams),r=e._path.toString(),i=new El;return this.restRequest_(r+".json",n,(o,s)=>{let a=s;o===404&&(a=null,o=null),o===null?(this.onDataUpdate_(r,a,!1,null),i.resolve(a)):i.reject(new Error(a))}),i.promise}refreshAuthToken(e){}restRequest_(e,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,o])=>{i&&i.accessToken&&(n.auth=i.accessToken),o&&o.token&&(n.ac=o.token);const s=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+Cc(n);this.log_("Sending REST request for "+s);const a=new XMLHttpRequest;a.onreadystatechange=()=>{if(r&&a.readyState===4){this.log_("REST Response for "+s+" received. status:",a.status,"response:",a.responseText);let l=null;if(a.status>=200&&a.status<300){try{l=mh(a.responseText)}catch{qi("Failed to parse JSON response for "+s+": "+a.responseText)}r(null,l)}else a.status!==401&&a.status!==404&&qi("Got unsuccessful REST response for "+s+" Status: "+a.status),r(a.status);r=null}},a.open("GET",s,!0),a.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iK{constructor(){this.rootNode_=sn.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zm(){return{value:null,children:new Map}}function RN(t,e,n){if(Lt(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{const r=qt(e);t.children.has(r)||t.children.set(r,zm());const i=t.children.get(r);e=Cn(e),RN(i,e,n)}}function O0(t,e,n){t.value!==null?n(e,t.value):oK(t,(r,i)=>{const o=new On(e.toString()+"/"+r);O0(i,o,n)})}function oK(t,e){t.children.forEach((n,r)=>{e(r,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sK{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n=Object.assign({},e);return this.last_&&Qi(this.last_,(r,i)=>{n[r]=n[r]-i}),this.last_=e,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CC=10*1e3,aK=30*1e3,lK=5*60*1e3;class uK{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new sK(e);const r=CC+(aK-CC)*Math.random();zd(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const e=this.statsListener_.get(),n={};let r=!1;Qi(e,(i,o)=>{o>0&&Ps(this.statsToReport_,i)&&(n[i]=o,r=!0)}),r&&this.server_.reportStats(n),zd(this.reportStats_.bind(this),Math.floor(Math.random()*2*lK))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Do;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(Do||(Do={}));function xN(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function DN(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function NN(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Km{constructor(e,n,r){this.path=e,this.affectedTree=n,this.revert=r,this.type=Do.ACK_USER_WRITE,this.source=xN()}operationForChild(e){if(Lt(this.path)){if(this.affectedTree.value!=null)return Ge(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new On(e));return new Km(un(),n,this.revert)}}else return Ge(qt(this.path)===e,"operationForChild called for unrelated child."),new Km(Cn(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nl{constructor(e,n,r){this.source=e,this.path=n,this.snap=r,this.type=Do.OVERWRITE}operationForChild(e){return Lt(this.path)?new Nl(this.source,un(),this.snap.getImmediateChild(e)):new Nl(this.source,Cn(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oh{constructor(e,n,r){this.source=e,this.path=n,this.children=r,this.type=Do.MERGE}operationForChild(e){if(Lt(this.path)){const n=this.children.subtree(new On(e));return n.isEmpty()?null:n.value?new Nl(this.source,un(),n.value):new Oh(this.source,un(),n)}else return Ge(qt(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new Oh(this.source,Cn(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _1{constructor(e,n,r){this.node_=e,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(Lt(e))return this.isFullyInitialized()&&!this.filtered_;const n=qt(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}function cK(t,e,n,r){const i=[],o=[];return e.forEach(s=>{s.type==="child_changed"&&t.index_.indexedValueChanged(s.oldSnap,s.snapshotNode)&&o.push(rK(s.childName,s.snapshotNode))}),od(t,i,"child_removed",e,r,n),od(t,i,"child_added",e,r,n),od(t,i,"child_moved",o,r,n),od(t,i,"child_changed",e,r,n),od(t,i,"value",e,r,n),i}function od(t,e,n,r,i,o){const s=r.filter(a=>a.type===n);s.sort((a,l)=>hK(t,a,l)),s.forEach(a=>{const l=dK(t,a,o);i.forEach(u=>{u.respondsTo(a.type)&&e.push(u.createEvent(l,t.query_))})})}function dK(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function hK(t,e,n){if(e.childName==null||n.childName==null)throw Ic("Should only compare child_ events.");const r=new Bt(e.childName,e.snapshotNode),i=new Bt(n.childName,n.snapshotNode);return t.index_.compare(r,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MN(t,e){return{eventCache:t,serverCache:e}}function Kd(t,e,n,r){return MN(new _1(e,n,r),t.serverCache)}function LN(t,e,n,r){return MN(t.eventCache,new _1(e,n,r))}function k0(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function Ml(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Oy;const fK=()=>(Oy||(Oy=new Ii(JW)),Oy);class In{constructor(e,n=fK()){this.value=e,this.children=n}static fromObject(e){let n=new In(null);return Qi(e,(r,i)=>{n=n.set(new On(r),i)}),n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:un(),value:this.value};if(Lt(e))return null;{const r=qt(e),i=this.children.get(r);if(i!==null){const o=i.findRootMostMatchingPathAndValue(Cn(e),n);return o!=null?{path:Cr(new On(r),o.path),value:o.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(Lt(e))return this;{const n=qt(e),r=this.children.get(n);return r!==null?r.subtree(Cn(e)):new In(null)}}set(e,n){if(Lt(e))return new In(n,this.children);{const r=qt(e),o=(this.children.get(r)||new In(null)).set(Cn(e),n),s=this.children.insert(r,o);return new In(this.value,s)}}remove(e){if(Lt(e))return this.children.isEmpty()?new In(null):new In(null,this.children);{const n=qt(e),r=this.children.get(n);if(r){const i=r.remove(Cn(e));let o;return i.isEmpty()?o=this.children.remove(n):o=this.children.insert(n,i),this.value===null&&o.isEmpty()?new In(null):new In(this.value,o)}else return this}}get(e){if(Lt(e))return this.value;{const n=qt(e),r=this.children.get(n);return r?r.get(Cn(e)):null}}setTree(e,n){if(Lt(e))return n;{const r=qt(e),o=(this.children.get(r)||new In(null)).setTree(Cn(e),n);let s;return o.isEmpty()?s=this.children.remove(r):s=this.children.insert(r,o),new In(this.value,s)}}fold(e){return this.fold_(un(),e)}fold_(e,n){const r={};return this.children.inorderTraversal((i,o)=>{r[i]=o.fold_(Cr(e,i),n)}),n(e,this.value,r)}findOnPath(e,n){return this.findOnPath_(e,un(),n)}findOnPath_(e,n,r){const i=this.value?r(n,this.value):!1;if(i)return i;if(Lt(e))return null;{const o=qt(e),s=this.children.get(o);return s?s.findOnPath_(Cn(e),Cr(n,o),r):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,un(),n)}foreachOnPath_(e,n,r){if(Lt(e))return this;{this.value&&r(n,this.value);const i=qt(e),o=this.children.get(i);return o?o.foreachOnPath_(Cn(e),Cr(n,i),r):new In(null)}}foreach(e){this.foreach_(un(),e)}foreach_(e,n){this.children.inorderTraversal((r,i)=>{i.foreach_(Cr(e,r),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,r)=>{r.value&&e(n,r.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yo{constructor(e){this.writeTree_=e}static empty(){return new yo(new In(null))}}function Gd(t,e,n){if(Lt(e))return new yo(new In(n));{const r=t.writeTree_.findRootMostValueAndPath(e);if(r!=null){const i=r.path;let o=r.value;const s=Gi(i,e);return o=o.updateChild(s,n),new yo(t.writeTree_.set(i,o))}else{const i=new In(n),o=t.writeTree_.setTree(e,i);return new yo(o)}}}function AC(t,e,n){let r=t;return Qi(n,(i,o)=>{r=Gd(r,Cr(e,i),o)}),r}function PC(t,e){if(Lt(e))return yo.empty();{const n=t.writeTree_.setTree(e,new In(null));return new yo(n)}}function R0(t,e){return Wl(t,e)!=null}function Wl(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(Gi(n.path,e)):null}function OC(t){const e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(Zr,(r,i)=>{e.push(new Bt(r,i))}):t.writeTree_.children.inorderTraversal((r,i)=>{i.value!=null&&e.push(new Bt(r,i.value))}),e}function fa(t,e){if(Lt(e))return t;{const n=Wl(t,e);return n!=null?new yo(new In(n)):new yo(t.writeTree_.subtree(e))}}function x0(t){return t.writeTree_.isEmpty()}function fc(t,e){return VN(un(),t.writeTree_,e)}function VN(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let r=null;return e.children.inorderTraversal((i,o)=>{i===".priority"?(Ge(o.value!==null,"Priority writes must always be leaf nodes"),r=o.value):n=VN(Cr(t,i),o,n)}),!n.getChild(t).isEmpty()&&r!==null&&(n=n.updateChild(Cr(t,".priority"),r)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $N(t,e){return jN(e,t)}function pK(t,e,n,r,i){Ge(r>t.lastWriteId,"Stacking an older write on top of newer ones"),i===void 0&&(i=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:i}),i&&(t.visibleWrites=Gd(t.visibleWrites,e,n)),t.lastWriteId=r}function mK(t,e){for(let n=0;n<t.allWrites.length;n++){const r=t.allWrites[n];if(r.writeId===e)return r}return null}function gK(t,e){const n=t.allWrites.findIndex(a=>a.writeId===e);Ge(n>=0,"removeWrite called with nonexistent writeId.");const r=t.allWrites[n];t.allWrites.splice(n,1);let i=r.visible,o=!1,s=t.allWrites.length-1;for(;i&&s>=0;){const a=t.allWrites[s];a.visible&&(s>=n&&vK(a,r.path)?i=!1:mo(r.path,a.path)&&(o=!0)),s--}if(i){if(o)return yK(t),!0;if(r.snap)t.visibleWrites=PC(t.visibleWrites,r.path);else{const a=r.children;Qi(a,l=>{t.visibleWrites=PC(t.visibleWrites,Cr(r.path,l))})}return!0}else return!1}function vK(t,e){if(t.snap)return mo(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&mo(Cr(t.path,n),e))return!0;return!1}function yK(t){t.visibleWrites=FN(t.allWrites,bK,un()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function bK(t){return t.visible}function FN(t,e,n){let r=yo.empty();for(let i=0;i<t.length;++i){const o=t[i];if(e(o)){const s=o.path;let a;if(o.snap)mo(n,s)?(a=Gi(n,s),r=Gd(r,a,o.snap)):mo(s,n)&&(a=Gi(s,n),r=Gd(r,un(),o.snap.getChild(a)));else if(o.children){if(mo(n,s))a=Gi(n,s),r=AC(r,a,o.children);else if(mo(s,n))if(a=Gi(s,n),Lt(a))r=AC(r,un(),o.children);else{const l=nc(o.children,qt(a));if(l){const u=l.getChild(Cn(a));r=Gd(r,un(),u)}}}else throw Ic("WriteRecord should have .snap or .children")}}return r}function UN(t,e,n,r,i){if(!r&&!i){const o=Wl(t.visibleWrites,e);if(o!=null)return o;{const s=fa(t.visibleWrites,e);if(x0(s))return n;if(n==null&&!R0(s,un()))return null;{const a=n||sn.EMPTY_NODE;return fc(s,a)}}}else{const o=fa(t.visibleWrites,e);if(!i&&x0(o))return n;if(!i&&n==null&&!R0(o,un()))return null;{const s=function(u){return(u.visible||i)&&(!r||!~r.indexOf(u.writeId))&&(mo(u.path,e)||mo(e,u.path))},a=FN(t.allWrites,s,e),l=n||sn.EMPTY_NODE;return fc(a,l)}}}function _K(t,e,n){let r=sn.EMPTY_NODE;const i=Wl(t.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(Zr,(o,s)=>{r=r.updateImmediateChild(o,s)}),r;if(n){const o=fa(t.visibleWrites,e);return n.forEachChild(Zr,(s,a)=>{const l=fc(fa(o,new On(s)),a);r=r.updateImmediateChild(s,l)}),OC(o).forEach(s=>{r=r.updateImmediateChild(s.name,s.node)}),r}else{const o=fa(t.visibleWrites,e);return OC(o).forEach(s=>{r=r.updateImmediateChild(s.name,s.node)}),r}}function wK(t,e,n,r,i){Ge(r||i,"Either existingEventSnap or existingServerSnap must exist");const o=Cr(e,n);if(R0(t.visibleWrites,o))return null;{const s=fa(t.visibleWrites,o);return x0(s)?i.getChild(n):fc(s,i.getChild(n))}}function TK(t,e,n,r){const i=Cr(e,n),o=Wl(t.visibleWrites,i);if(o!=null)return o;if(r.isCompleteForChild(n)){const s=fa(t.visibleWrites,i);return fc(s,r.getNode().getImmediateChild(n))}else return null}function EK(t,e){return Wl(t.visibleWrites,e)}function SK(t,e,n,r,i,o,s){let a;const l=fa(t.visibleWrites,e),u=Wl(l,un());if(u!=null)a=u;else if(n!=null)a=fc(l,n);else return[];if(a=a.withIndex(s),!a.isEmpty()&&!a.isLeafNode()){const c=[],d=s.getCompare(),h=o?a.getReverseIteratorFrom(r,s):a.getIteratorFrom(r,s);let p=h.getNext();for(;p&&c.length<i;)d(p,r)!==0&&c.push(p),p=h.getNext();return c}else return[]}function IK(){return{visibleWrites:yo.empty(),allWrites:[],lastWriteId:-1}}function D0(t,e,n,r){return UN(t.writeTree,t.treePath,e,n,r)}function qN(t,e){return _K(t.writeTree,t.treePath,e)}function kC(t,e,n,r){return wK(t.writeTree,t.treePath,e,n,r)}function Gm(t,e){return EK(t.writeTree,Cr(t.treePath,e))}function CK(t,e,n,r,i,o){return SK(t.writeTree,t.treePath,e,n,r,i,o)}function w1(t,e,n){return TK(t.writeTree,t.treePath,e,n)}function BN(t,e){return jN(Cr(t.treePath,e),t.writeTree)}function jN(t,e){return{treePath:t,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AK{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,r=e.childName;Ge(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),Ge(r!==".priority","Only non-priority child changes can be tracked.");const i=this.changeMap.get(r);if(i){const o=i.type;if(n==="child_added"&&o==="child_removed")this.changeMap.set(r,EC(r,e.snapshotNode,i.snapshotNode));else if(n==="child_removed"&&o==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&o==="child_changed")this.changeMap.set(r,nK(r,i.oldSnap));else if(n==="child_changed"&&o==="child_added")this.changeMap.set(r,tK(r,e.snapshotNode));else if(n==="child_changed"&&o==="child_changed")this.changeMap.set(r,EC(r,e.snapshotNode,i.oldSnap));else throw Ic("Illegal combination of changes: "+e+" occurred after "+i)}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PK{getCompleteChild(e){return null}getChildAfterChild(e,n,r){return null}}const HN=new PK;class T1{constructor(e,n,r=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const r=this.optCompleteServerCache_!=null?new _1(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return w1(this.writes_,e,r)}}getChildAfterChild(e,n,r){const i=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:Ml(this.viewCache_),o=CK(this.writes_,i,n,1,r,e);return o.length===0?null:o[0]}}function OK(t,e){Ge(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),Ge(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function kK(t,e,n,r,i){const o=new AK;let s,a;if(n.type===Do.OVERWRITE){const u=n;u.source.fromUser?s=N0(t,e,u.path,u.snap,r,i,o):(Ge(u.source.fromServer,"Unknown source."),a=u.source.tagged||e.serverCache.isFiltered()&&!Lt(u.path),s=Ym(t,e,u.path,u.snap,r,i,a,o))}else if(n.type===Do.MERGE){const u=n;u.source.fromUser?s=xK(t,e,u.path,u.children,r,i,o):(Ge(u.source.fromServer,"Unknown source."),a=u.source.tagged||e.serverCache.isFiltered(),s=M0(t,e,u.path,u.children,r,i,a,o))}else if(n.type===Do.ACK_USER_WRITE){const u=n;u.revert?s=MK(t,e,u.path,r,i,o):s=DK(t,e,u.path,u.affectedTree,r,i,o)}else if(n.type===Do.LISTEN_COMPLETE)s=NK(t,e,n.path,r,o);else throw Ic("Unknown operation type: "+n.type);const l=o.getChanges();return RK(e,s,l),{viewCache:s,changes:l}}function RK(t,e,n){const r=e.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),o=k0(t);(n.length>0||!t.eventCache.isFullyInitialized()||i&&!r.getNode().equals(o)||!r.getNode().getPriority().equals(o.getPriority()))&&n.push(eK(k0(e)))}}function WN(t,e,n,r,i,o){const s=e.eventCache;if(Gm(r,n)!=null)return e;{let a,l;if(Lt(n))if(Ge(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const u=Ml(e),c=u instanceof sn?u:sn.EMPTY_NODE,d=qN(r,c);a=t.filter.updateFullNode(e.eventCache.getNode(),d,o)}else{const u=D0(r,Ml(e));a=t.filter.updateFullNode(e.eventCache.getNode(),u,o)}else{const u=qt(n);if(u===".priority"){Ge(Aa(n)===1,"Can't have a priority with additional path components");const c=s.getNode();l=e.serverCache.getNode();const d=kC(r,n,c,l);d!=null?a=t.filter.updatePriority(c,d):a=s.getNode()}else{const c=Cn(n);let d;if(s.isCompleteForChild(u)){l=e.serverCache.getNode();const h=kC(r,n,s.getNode(),l);h!=null?d=s.getNode().getImmediateChild(u).updateChild(c,h):d=s.getNode().getImmediateChild(u)}else d=w1(r,u,e.serverCache);d!=null?a=t.filter.updateChild(s.getNode(),u,d,c,i,o):a=s.getNode()}}return Kd(e,a,s.isFullyInitialized()||Lt(n),t.filter.filtersNodes())}}function Ym(t,e,n,r,i,o,s,a){const l=e.serverCache;let u;const c=s?t.filter:t.filter.getIndexedFilter();if(Lt(n))u=c.updateFullNode(l.getNode(),r,null);else if(c.filtersNodes()&&!l.isFiltered()){const p=l.getNode().updateChild(n,r);u=c.updateFullNode(l.getNode(),p,null)}else{const p=qt(n);if(!l.isCompleteForPath(n)&&Aa(n)>1)return e;const m=Cn(n),v=l.getNode().getImmediateChild(p).updateChild(m,r);p===".priority"?u=c.updatePriority(l.getNode(),v):u=c.updateChild(l.getNode(),p,v,m,HN,null)}const d=LN(e,u,l.isFullyInitialized()||Lt(n),c.filtersNodes()),h=new T1(i,d,o);return WN(t,d,n,i,h,a)}function N0(t,e,n,r,i,o,s){const a=e.eventCache;let l,u;const c=new T1(i,e,o);if(Lt(n))u=t.filter.updateFullNode(e.eventCache.getNode(),r,s),l=Kd(e,u,!0,t.filter.filtersNodes());else{const d=qt(n);if(d===".priority")u=t.filter.updatePriority(e.eventCache.getNode(),r),l=Kd(e,u,a.isFullyInitialized(),a.isFiltered());else{const h=Cn(n),p=a.getNode().getImmediateChild(d);let m;if(Lt(h))m=r;else{const g=c.getCompleteChild(d);g!=null?wN(h)===".priority"&&g.getChild(EN(h)).isEmpty()?m=g:m=g.updateChild(h,r):m=sn.EMPTY_NODE}if(p.equals(m))l=e;else{const g=t.filter.updateChild(a.getNode(),d,m,h,c,s);l=Kd(e,g,a.isFullyInitialized(),t.filter.filtersNodes())}}}return l}function RC(t,e){return t.eventCache.isCompleteForChild(e)}function xK(t,e,n,r,i,o,s){let a=e;return r.foreach((l,u)=>{const c=Cr(n,l);RC(e,qt(c))&&(a=N0(t,a,c,u,i,o,s))}),r.foreach((l,u)=>{const c=Cr(n,l);RC(e,qt(c))||(a=N0(t,a,c,u,i,o,s))}),a}function xC(t,e,n){return n.foreach((r,i)=>{e=e.updateChild(r,i)}),e}function M0(t,e,n,r,i,o,s,a){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let l=e,u;Lt(n)?u=r:u=new In(null).setTree(n,r);const c=e.serverCache.getNode();return u.children.inorderTraversal((d,h)=>{if(c.hasChild(d)){const p=e.serverCache.getNode().getImmediateChild(d),m=xC(t,p,h);l=Ym(t,l,new On(d),m,i,o,s,a)}}),u.children.inorderTraversal((d,h)=>{const p=!e.serverCache.isCompleteForChild(d)&&h.value===null;if(!c.hasChild(d)&&!p){const m=e.serverCache.getNode().getImmediateChild(d),g=xC(t,m,h);l=Ym(t,l,new On(d),g,i,o,s,a)}}),l}function DK(t,e,n,r,i,o,s){if(Gm(i,n)!=null)return e;const a=e.serverCache.isFiltered(),l=e.serverCache;if(r.value!=null){if(Lt(n)&&l.isFullyInitialized()||l.isCompleteForPath(n))return Ym(t,e,n,l.getNode().getChild(n),i,o,a,s);if(Lt(n)){let u=new In(null);return l.getNode().forEachChild(Wu,(c,d)=>{u=u.set(new On(c),d)}),M0(t,e,n,u,i,o,a,s)}else return e}else{let u=new In(null);return r.foreach((c,d)=>{const h=Cr(n,c);l.isCompleteForPath(h)&&(u=u.set(c,l.getNode().getChild(h)))}),M0(t,e,n,u,i,o,a,s)}}function NK(t,e,n,r,i){const o=e.serverCache,s=LN(e,o.getNode(),o.isFullyInitialized()||Lt(n),o.isFiltered());return WN(t,s,n,r,HN,i)}function MK(t,e,n,r,i,o){let s;if(Gm(r,n)!=null)return e;{const a=new T1(r,e,i),l=e.eventCache.getNode();let u;if(Lt(n)||qt(n)===".priority"){let c;if(e.serverCache.isFullyInitialized())c=D0(r,Ml(e));else{const d=e.serverCache.getNode();Ge(d instanceof sn,"serverChildren would be complete if leaf node"),c=qN(r,d)}c=c,u=t.filter.updateFullNode(l,c,o)}else{const c=qt(n);let d=w1(r,c,e.serverCache);d==null&&e.serverCache.isCompleteForChild(c)&&(d=l.getImmediateChild(c)),d!=null?u=t.filter.updateChild(l,c,d,Cn(n),a,o):e.eventCache.getNode().hasChild(c)?u=t.filter.updateChild(l,c,sn.EMPTY_NODE,Cn(n),a,o):u=l,u.isEmpty()&&e.serverCache.isFullyInitialized()&&(s=D0(r,Ml(e)),s.isLeafNode()&&(u=t.filter.updateFullNode(u,s,o)))}return s=e.serverCache.isFullyInitialized()||Gm(r,un())!=null,Kd(e,u,s,t.filter.filtersNodes())}}function LK(t,e){const n=Ml(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!Lt(e)&&!n.getImmediateChild(qt(e)).isEmpty())?n.getChild(e):null}function DC(t,e,n,r){e.type===Do.MERGE&&e.source.queryId!==null&&(Ge(Ml(t.viewCache_),"We should always have a full cache before handling merges"),Ge(k0(t.viewCache_),"Missing event cache, even though we have a server cache"));const i=t.viewCache_,o=kK(t.processor_,i,e,n,r);return OK(t.processor_,o.viewCache),Ge(o.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=o.viewCache,VK(t,o.changes,o.viewCache.eventCache.getNode(),null)}function VK(t,e,n,r){const i=r?[r]:t.eventRegistrations_;return cK(t.eventGenerator_,e,n,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let NC;function $K(t){Ge(!NC,"__referenceConstructor has already been defined"),NC=t}function E1(t,e,n,r){const i=e.source.queryId;if(i!==null){const o=t.views.get(i);return Ge(o!=null,"SyncTree gave us an op for an invalid query."),DC(o,e,n,r)}else{let o=[];for(const s of t.views.values())o=o.concat(DC(s,e,n,r));return o}}function S1(t,e){let n=null;for(const r of t.views.values())n=n||LK(r,e);return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let MC;function FK(t){Ge(!MC,"__referenceConstructor has already been defined"),MC=t}class LC{constructor(e){this.listenProvider_=e,this.syncPointTree_=new In(null),this.pendingWriteTree_=IK(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function UK(t,e,n,r,i){return pK(t.pendingWriteTree_,e,n,r,i),i?pv(t,new Nl(xN(),e,n)):[]}function Eu(t,e,n=!1){const r=mK(t.pendingWriteTree_,e);if(gK(t.pendingWriteTree_,e)){let o=new In(null);return r.snap!=null?o=o.set(un(),!0):Qi(r.children,s=>{o=o.set(new On(s),!0)}),pv(t,new Km(r.path,o,n))}else return[]}function fv(t,e,n){return pv(t,new Nl(DN(),e,n))}function qK(t,e,n){const r=In.fromObject(n);return pv(t,new Oh(DN(),e,r))}function BK(t,e,n,r){const i=YN(t,r);if(i!=null){const o=XN(i),s=o.path,a=o.queryId,l=Gi(s,e),u=new Nl(NN(a),l,n);return QN(t,s,u)}else return[]}function jK(t,e,n,r){const i=YN(t,r);if(i){const o=XN(i),s=o.path,a=o.queryId,l=Gi(s,e),u=In.fromObject(n),c=new Oh(NN(a),l,u);return QN(t,s,c)}else return[]}function zN(t,e,n){const i=t.pendingWriteTree_,o=t.syncPointTree_.findOnPath(e,(s,a)=>{const l=Gi(s,e),u=S1(a,l);if(u)return u});return UN(i,e,o,n,!0)}function pv(t,e){return KN(e,t.syncPointTree_,null,$N(t.pendingWriteTree_,un()))}function KN(t,e,n,r){if(Lt(t.path))return GN(t,e,n,r);{const i=e.get(un());n==null&&i!=null&&(n=S1(i,un()));let o=[];const s=qt(t.path),a=t.operationForChild(s),l=e.children.get(s);if(l&&a){const u=n?n.getImmediateChild(s):null,c=BN(r,s);o=o.concat(KN(a,l,u,c))}return i&&(o=o.concat(E1(i,t,r,n))),o}}function GN(t,e,n,r){const i=e.get(un());n==null&&i!=null&&(n=S1(i,un()));let o=[];return e.children.inorderTraversal((s,a)=>{const l=n?n.getImmediateChild(s):null,u=BN(r,s),c=t.operationForChild(s);c&&(o=o.concat(GN(c,a,l,u)))}),i&&(o=o.concat(E1(i,t,r,n))),o}function YN(t,e){return t.tagToQueryMap.get(e)}function XN(t){const e=t.indexOf("$");return Ge(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new On(t.substr(0,e))}}function QN(t,e,n){const r=t.syncPointTree_.get(e);Ge(r,"Missing sync point for query tag that we're tracking");const i=$N(t.pendingWriteTree_,e);return E1(r,n,i,null)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I1{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new I1(n)}node(){return this.node_}}class C1{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=Cr(this.path_,e);return new C1(this.syncTree_,n)}node(){return zN(this.syncTree_,this.path_)}}const HK=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},VC=function(t,e,n){if(!t||typeof t!="object")return t;if(Ge(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return WK(t[".sv"],e,n);if(typeof t[".sv"]=="object")return zK(t[".sv"],e);Ge(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},WK=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:Ge(!1,"Unexpected server value: "+t)}},zK=function(t,e,n){t.hasOwnProperty("increment")||Ge(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const r=t.increment;typeof r!="number"&&Ge(!1,"Unexpected increment value: "+r);const i=e.node();if(Ge(i!==null&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const s=i.getValue();return typeof s!="number"?r:s+r},KK=function(t,e,n,r){return A1(e,new C1(n,t),r)},GK=function(t,e,n){return A1(t,new I1(e),n)};function A1(t,e,n){const r=t.getPriority().val(),i=VC(r,e.getImmediateChild(".priority"),n);let o;if(t.isLeafNode()){const s=t,a=VC(s.getValue(),e,n);return a!==s.getValue()||i!==s.getPriority().val()?new Tr(a,Yr(i)):t}else{const s=t;return o=s,i!==s.getPriority().val()&&(o=o.updatePriority(new Tr(i))),s.forEachChild(Zr,(a,l)=>{const u=A1(l,e.getImmediateChild(a),n);u!==l&&(o=o.updateImmediateChild(a,u))}),o}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P1{constructor(e="",n=null,r={children:{},childCount:0}){this.name=e,this.parent=n,this.node=r}}function O1(t,e){let n=e instanceof On?e:new On(e),r=t,i=qt(n);for(;i!==null;){const o=nc(r.node.children,i)||{children:{},childCount:0};r=new P1(i,r,o),n=Cn(n),i=qt(n)}return r}function Nc(t){return t.node.value}function JN(t,e){t.node.value=e,L0(t)}function ZN(t){return t.node.childCount>0}function YK(t){return Nc(t)===void 0&&!ZN(t)}function mv(t,e){Qi(t.node.children,(n,r)=>{e(new P1(n,t,r))})}function eM(t,e,n,r){n&&!r&&e(t),mv(t,i=>{eM(i,e,!0,r)}),n&&r&&e(t)}function XK(t,e,n){let r=n?t:t.parent;for(;r!==null;){if(e(r))return!0;r=r.parent}return!1}function If(t){return new On(t.parent===null?t.name:If(t.parent)+"/"+t.name)}function L0(t){t.parent!==null&&QK(t.parent,t.name,t)}function QK(t,e,n){const r=YK(n),i=Ps(t.node.children,e);r&&i?(delete t.node.children[e],t.node.childCount--,L0(t)):!r&&!i&&(t.node.children[e]=n.node,t.node.childCount++,L0(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JK=/[\[\].#$\/\u0000-\u001F\u007F]/,ZK=/[\[\].#$\u0000-\u001F\u007F]/,ky=10*1024*1024,tM=function(t){return typeof t=="string"&&t.length!==0&&!JK.test(t)},eG=function(t){return typeof t=="string"&&t.length!==0&&!ZK.test(t)},tG=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),eG(t)},nM=function(t,e,n){const r=n instanceof On?new Nz(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+Xa(r));if(typeof e=="function")throw new Error(t+"contains a function "+Xa(r)+" with contents = "+e.toString());if(tN(e))throw new Error(t+"contains "+e.toString()+" "+Xa(r));if(typeof e=="string"&&e.length>ky/3&&Vg(e)>ky)throw new Error(t+"contains a string greater than "+ky+" utf8 bytes "+Xa(r)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let i=!1,o=!1;if(Qi(e,(s,a)=>{if(s===".value")i=!0;else if(s!==".priority"&&s!==".sv"&&(o=!0,!tM(s)))throw new Error(t+" contains an invalid key ("+s+") "+Xa(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);Mz(r,s),nM(t,a,r),Lz(r)}),i&&o)throw new Error(t+' contains ".value" child '+Xa(r)+" in addition to actual children.")}},nG=function(t,e){const n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!tM(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!tG(n))throw new Error(w6(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rG{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function iG(t,e){let n=null;for(let r=0;r<e.length;r++){const i=e[r],o=i.getPath();n!==null&&!SN(o,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:o}),n.events.push(i)}n&&t.eventLists_.push(n)}function zl(t,e,n){iG(t,n),oG(t,r=>mo(r,e)||mo(e,r))}function oG(t,e){t.recursionDepth_++;let n=!0;for(let r=0;r<t.eventLists_.length;r++){const i=t.eventLists_[r];if(i){const o=i.path;e(o)?(sG(t.eventLists_[r]),t.eventLists_[r]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function sG(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(n!==null){t.events[e]=null;const r=n.getEventRunner();fl&&Gr("event: "+n.toString()),Ef(r)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aG="repo_interrupt",lG=25;class uG{constructor(e,n,r,i){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new rG,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=zm(),this.transactionQueueTree_=new P1,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function cG(t,e,n){if(t.stats_=m1(t.repoInfo_),t.forceRestClient_||iz())t.server_=new Wm(t.repoInfo_,(r,i,o,s)=>{$C(t,r,i,o,s)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>FC(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Nr(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}t.persistentConnection_=new bs(t.repoInfo_,e,(r,i,o,s)=>{$C(t,r,i,o,s)},r=>{FC(t,r)},r=>{hG(t,r)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(r=>{t.server_.refreshAuthToken(r)}),t.appCheckProvider_.addTokenChangeListener(r=>{t.server_.refreshAppCheckToken(r.token)}),t.statsReporter_=cz(t.repoInfo_,()=>new uK(t.stats_,t.server_)),t.infoData_=new iK,t.infoSyncTree_=new LC({startListening:(r,i,o,s)=>{let a=[];const l=t.infoData_.getNode(r._path);return l.isEmpty()||(a=fv(t.infoSyncTree_,r._path,l),setTimeout(()=>{s("ok")},0)),a},stopListening:()=>{}}),k1(t,"connected",!1),t.serverSyncTree_=new LC({startListening:(r,i,o,s)=>(t.server_.listen(r,o,i,(a,l)=>{const u=s(a,l);zl(t.eventQueue_,r._path,u)}),[]),stopListening:(r,i)=>{t.server_.unlisten(r,i)}})}function dG(t){const n=t.infoData_.getNode(new On(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function rM(t){return HK({timestamp:dG(t)})}function $C(t,e,n,r,i){t.dataUpdateCount++;const o=new On(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let s=[];if(i)if(r){const l=bm(n,u=>Yr(u));s=jK(t.serverSyncTree_,o,l,i)}else{const l=Yr(n);s=BK(t.serverSyncTree_,o,l,i)}else if(r){const l=bm(n,u=>Yr(u));s=qK(t.serverSyncTree_,o,l)}else{const l=Yr(n);s=fv(t.serverSyncTree_,o,l)}let a=o;s.length>0&&(a=x1(t,o)),zl(t.eventQueue_,a,s)}function FC(t,e){k1(t,"connected",e),e===!1&&pG(t)}function hG(t,e){Qi(e,(n,r)=>{k1(t,n,r)})}function k1(t,e,n){const r=new On("/.info/"+e),i=Yr(n);t.infoData_.updateSnapshot(r,i);const o=fv(t.infoSyncTree_,r,i);zl(t.eventQueue_,r,o)}function fG(t){return t.nextWriteId_++}function pG(t){iM(t,"onDisconnectEvents");const e=rM(t),n=zm();O0(t.onDisconnect_,un(),(i,o)=>{const s=KK(i,o,t.serverSyncTree_,e);RN(n,i,s)});let r=[];O0(n,un(),(i,o)=>{r=r.concat(fv(t.serverSyncTree_,i,o));const s=yG(t,i);x1(t,s)}),t.onDisconnect_=zm(),zl(t.eventQueue_,un(),r)}function mG(t){t.persistentConnection_&&t.persistentConnection_.interrupt(aG)}function iM(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),Gr(n,...e)}function oM(t,e,n){return zN(t.serverSyncTree_,e,n)||sn.EMPTY_NODE}function R1(t,e=t.transactionQueueTree_){if(e||gv(t,e),Nc(e)){const n=aM(t,e);Ge(n.length>0,"Sending zero length transaction queue"),n.every(i=>i.status===0)&&gG(t,If(e),n)}else ZN(e)&&mv(e,n=>{R1(t,n)})}function gG(t,e,n){const r=n.map(u=>u.currentWriteId),i=oM(t,e,r);let o=i;const s=i.hash();for(let u=0;u<n.length;u++){const c=n[u];Ge(c.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),c.status=1,c.retryCount++;const d=Gi(e,c.path);o=o.updateChild(d,c.currentOutputSnapshotRaw)}const a=o.val(!0),l=e;t.server_.put(l.toString(),a,u=>{iM(t,"transaction put response",{path:l.toString(),status:u});let c=[];if(u==="ok"){const d=[];for(let h=0;h<n.length;h++)n[h].status=2,c=c.concat(Eu(t.serverSyncTree_,n[h].currentWriteId)),n[h].onComplete&&d.push(()=>n[h].onComplete(null,!0,n[h].currentOutputSnapshotResolved)),n[h].unwatcher();gv(t,O1(t.transactionQueueTree_,e)),R1(t,t.transactionQueueTree_),zl(t.eventQueue_,e,c);for(let h=0;h<d.length;h++)Ef(d[h])}else{if(u==="datastale")for(let d=0;d<n.length;d++)n[d].status===3?n[d].status=4:n[d].status=0;else{qi("transaction at "+l.toString()+" failed: "+u);for(let d=0;d<n.length;d++)n[d].status=4,n[d].abortReason=u}x1(t,e)}},s)}function x1(t,e){const n=sM(t,e),r=If(n),i=aM(t,n);return vG(t,i,r),r}function vG(t,e,n){if(e.length===0)return;const r=[];let i=[];const s=e.filter(a=>a.status===0).map(a=>a.currentWriteId);for(let a=0;a<e.length;a++){const l=e[a],u=Gi(n,l.path);let c=!1,d;if(Ge(u!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),l.status===4)c=!0,d=l.abortReason,i=i.concat(Eu(t.serverSyncTree_,l.currentWriteId,!0));else if(l.status===0)if(l.retryCount>=lG)c=!0,d="maxretry",i=i.concat(Eu(t.serverSyncTree_,l.currentWriteId,!0));else{const h=oM(t,l.path,s);l.currentInputSnapshot=h;const p=e[a].update(h.val());if(p!==void 0){nM("transaction failed: Data returned ",p,l.path);let m=Yr(p);typeof p=="object"&&p!=null&&Ps(p,".priority")||(m=m.updatePriority(h.getPriority()));const v=l.currentWriteId,A=rM(t),I=GK(m,h,A);l.currentOutputSnapshotRaw=m,l.currentOutputSnapshotResolved=I,l.currentWriteId=fG(t),s.splice(s.indexOf(v),1),i=i.concat(UK(t.serverSyncTree_,l.path,I,l.currentWriteId,l.applyLocally)),i=i.concat(Eu(t.serverSyncTree_,v,!0))}else c=!0,d="nodata",i=i.concat(Eu(t.serverSyncTree_,l.currentWriteId,!0))}zl(t.eventQueue_,n,i),i=[],c&&(e[a].status=2,function(h){setTimeout(h,Math.floor(0))}(e[a].unwatcher),e[a].onComplete&&(d==="nodata"?r.push(()=>e[a].onComplete(null,!1,e[a].currentInputSnapshot)):r.push(()=>e[a].onComplete(new Error(d),!1,null))))}gv(t,t.transactionQueueTree_);for(let a=0;a<r.length;a++)Ef(r[a]);R1(t,t.transactionQueueTree_)}function sM(t,e){let n,r=t.transactionQueueTree_;for(n=qt(e);n!==null&&Nc(r)===void 0;)r=O1(r,n),e=Cn(e),n=qt(e);return r}function aM(t,e){const n=[];return lM(t,e,n),n.sort((r,i)=>r.order-i.order),n}function lM(t,e,n){const r=Nc(e);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);mv(e,i=>{lM(t,i,n)})}function gv(t,e){const n=Nc(e);if(n){let r=0;for(let i=0;i<n.length;i++)n[i].status!==2&&(n[r]=n[i],r++);n.length=r,JN(e,n.length>0?n:void 0)}mv(e,r=>{gv(t,r)})}function yG(t,e){const n=If(sM(t,e)),r=O1(t.transactionQueueTree_,e);return XK(r,i=>{Ry(t,i)}),Ry(t,r),eM(r,i=>{Ry(t,i)}),n}function Ry(t,e){const n=Nc(e);if(n){const r=[];let i=[],o=-1;for(let s=0;s<n.length;s++)n[s].status===3||(n[s].status===1?(Ge(o===s-1,"All SENT items should be at beginning of queue."),o=s,n[s].status=3,n[s].abortReason="set"):(Ge(n[s].status===0,"Unexpected transaction status in abort"),n[s].unwatcher(),i=i.concat(Eu(t.serverSyncTree_,n[s].currentWriteId,!0)),n[s].onComplete&&r.push(n[s].onComplete.bind(null,new Error("set"),!1,null))));o===-1?JN(e,void 0):n.length=o+1,zl(t.eventQueue_,If(e),i);for(let s=0;s<r.length;s++)Ef(r[s])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bG(t){let e="";const n=t.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}e+="/"+i}return e}function _G(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const n of t.split("&")){if(n.length===0)continue;const r=n.split("=");r.length===2?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):qi(`Invalid query segment '${n}' in query '${t}'`)}return e}const UC=function(t,e){const n=wG(t),r=n.namespace;n.domain==="firebase.com"&&xl(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&xl("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||XW();const i=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new az(n.host,n.secure,r,i,e,"",r!==n.subdomain),path:new On(n.pathString)}},wG=function(t){let e="",n="",r="",i="",o="",s=!0,a="https",l=443;if(typeof t=="string"){let u=t.indexOf("//");u>=0&&(a=t.substring(0,u-1),t=t.substring(u+2));let c=t.indexOf("/");c===-1&&(c=t.length);let d=t.indexOf("?");d===-1&&(d=t.length),e=t.substring(0,Math.min(c,d)),c<d&&(i=bG(t.substring(c,d)));const h=_G(t.substring(Math.min(t.length,d)));u=e.indexOf(":"),u>=0?(s=a==="https"||a==="wss",l=parseInt(e.substring(u+1),10)):u=e.length;const p=e.slice(0,u);if(p.toLowerCase()==="localhost")n="localhost";else if(p.split(".").length<=2)n=p;else{const m=e.indexOf(".");r=e.substring(0,m).toLowerCase(),n=e.substring(m+1),o=r}"ns"in h&&(o=h.ns)}return{host:e,port:l,domain:n,subdomain:r,secure:s,scheme:a,pathString:i,namespace:o}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D1{constructor(e,n,r,i){this._repo=e,this._path=n,this._queryParams=r,this._orderByCalled=i}get key(){return Lt(this._path)?null:wN(this._path)}get ref(){return new Mc(this._repo,this._path)}get _queryIdentifier(){const e=IC(this._queryParams),n=f1(e);return n==="{}"?"default":n}get _queryObject(){return IC(this._queryParams)}isEqual(e){if(e=Jt(e),!(e instanceof D1))return!1;const n=this._repo===e._repo,r=SN(this._path,e._path),i=this._queryIdentifier===e._queryIdentifier;return n&&r&&i}toJSON(){return this.toString()}toString(){return this._repo.toString()+Dz(this._path)}}class Mc extends D1{constructor(e,n){super(e,n,new b1,!1)}get parent(){const e=EN(this._path);return e===null?null:new Mc(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}$K(Mc);FK(Mc);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TG="FIREBASE_DATABASE_EMULATOR_HOST",V0={};let EG=!1;function SG(t,e,n,r,i){let o=r||t.options.databaseURL;o===void 0&&(t.options.projectId||xl("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Gr("Using default host for project ",t.options.projectId),o=`${t.options.projectId}-default-rtdb.firebaseio.com`);let s=UC(o,i),a=s.repoInfo,l,u;typeof process<"u"&&sC&&(u=sC[TG]),u?(l=!0,o=`http://${u}?ns=${a.namespace}`,s=UC(o,i),a=s.repoInfo):l=!s.repoInfo.secure;const c=i&&l?new C0(C0.OWNER):new sz(t.name,t.options,e);nG("Invalid Firebase Database URL",s),Lt(s.path)||xl("Database URL must point to the root of a Firebase Database (not including a child path).");const d=CG(a,t,c,new oz(t.name,n));return new AG(d,t)}function IG(t,e){const n=V0[e];(!n||n[t.key]!==t)&&xl(`Database ${e}(${t.repoInfo_}) has already been deleted.`),mG(t),delete n[t.key]}function CG(t,e,n,r){let i=V0[e.name];i||(i={},V0[e.name]=i);let o=i[t.toURLString()];return o&&xl("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),o=new uG(t,EG,n,r),i[t.toURLString()]=o,o}class AG{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(cG(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Mc(this._repo,un())),this._rootInternal}_delete(){return this._rootInternal!==null&&(IG(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&xl("Cannot call "+e+" on a deleted database.")}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PG(t){WW(xa),Oi(new mi("database",(e,{instanceIdentifier:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),o=e.getProvider("app-check-internal");return SG(r,i,o,n)},"PUBLIC").setMultipleInstances(!0)),Vr(aC,lC,t),Vr(aC,lC,"esm2017")}bs.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};bs.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};PG();function uM(t){return LB(Q2(t))}function OG(t){return RG({initialUser:t,dependencies:{popupRedirectResolver:Y2,persistence:[z2,U2,c1]}})}const kG=Symbol("VueFireAuth");function RG({dependencies:t,initialUser:e}){return(n,r)=>{const[i,o]=xG(n,r,e,t);HW(i,o)}}function xG(t,e,n,r,i=O2(t,r)){const o=qW(t,e).run(()=>ie(n));return BW.set(t,o),e.provide(kG,i),[o,i]}function DG(t,{firebaseApp:e,modules:n=[]}){t.provide(X2,e);for(const r of n)r(e,t)}const cM={name:"Sander Derks",role:"Full-Stack Developer",service:"Software Development",location:{country:"The Netherlands",city:"Nijmegen"}},NG={avatarUrl:"/images/avatar-small.jpg",headerDescriptionGuest:["Loading"],headerDescriptionUser:["Loading"],blogDescriptionGuest:["Loading"],blogDescriptionUser:["Loading"],blogLoginGuest:"",dashboardDescription:["Loading"],privacyStatement:["Loading"],footerCopyright:"Sander Derks. All rights reserved."},MG=[{name:"",description:"Loading...",technologies:[],loading:!0},{name:"",description:"Loading...",technologies:[],loading:!0},{name:"",description:"Loading...",technologies:[],loading:!0},{name:"",description:"Loading...",technologies:[],loading:!0}],LG=[{id:"1",name:"Loading...",url:"#",loading:!0},{id:"2",name:"Loading...",url:"#",loading:!0},{id:"3",name:"Loading...",url:"#",loading:!0}],dM=[{value:"left",label:"Left"},{value:"center",label:"Center"},{value:"right",label:"Right"}];var Ir;(t=>{t.mapIncoming=async e=>{var n,r,i,o,s,a;return{...e,alignment:e.alignment??"center",date:e.date.toDate(),dateUpdated:((n=e.dateUpdated)==null?void 0:n.toDate())??null,datePinned:((r=e.datePinned)==null?void 0:r.toDate())??null,reactions:await Promise.all((await Promise.all(((i=e.reactions)==null?void 0:i.map(async l=>await zi(l)))??[])).map(async l=>Xm.mapIncoming(l,e.id)).filter(l=>!!l)),sections:((o=e.sections)==null?void 0:o.map(l=>{var u,c;return{...l,id:l.id??u2(),subTitle:l.subTitle??"",alignment:l.alignment??"center",countdown:((u=l.countdown)==null?void 0:u.toDate())??null,timer:((c=l.timer)==null?void 0:c.toDate())??null,coverImageUrl:l.coverImageUrl??"",bullets:l.bullets??[],table:l.table??""}}))??[],countdown:((s=e.countdown)==null?void 0:s.toDate())??null,timer:((a=e.timer)==null?void 0:a.toDate())??null,archived:e.archived??!1,table:e.table??""}},t.convert=e=>({title:e.title,description:e.description,descriptionFooter:e.descriptionFooter??"",alignment:e.alignment??"left",sections:e.sections??[],date:e.date,dateUpdated:e.dateUpdated,datePinned:e.datePinned,locked:e.locked??!1,colorPrimary:e.colorPrimary??"",colorSecondary:e.colorSecondary??"",colorTertiary:e.colorTertiary??"",opacityPrimary:e.opacityPrimary??"",opacitySecondary:e.opacitySecondary??"",opacityTertiary:e.opacityTertiary??"",coverImageUrl:e.coverImageUrl??"",allowedUserIds:e.allowedUserIds??[],countdown:e.countdown,timer:e.timer,archived:e.archived,table:e.table}),(e=>{e.convert=n=>({title:n.title,description:n.description,descriptionFooter:n.descriptionFooter,sections:n.sections,coverImageUrl:n.coverImageUrl,countdown:n.countdown,timer:n.timer,table:n.table}),e.instanceOf=n=>["title","description","descriptionFooter","sections","coverImageUrl","countdown","timer","table"].every(r=>r in n)})(t.Content||(t.Content={})),(e=>{e.convert=n=>({alignment:n.alignment,colorPrimary:n.colorPrimary,colorSecondary:n.colorSecondary,colorTertiary:n.colorTertiary,opacityPrimary:n.opacityPrimary,opacitySecondary:n.opacitySecondary,opacityTertiary:n.opacityTertiary}),e.instanceOf=n=>["alignment","colorPrimary","colorSecondary","colorTertiary","opacityPrimary","opacitySecondary","opacityTertiary"].every(r=>r in n)})(t.Styling||(t.Styling={})),(e=>{e.convert=n=>({locked:n.locked,allowedUserIds:n.allowedUserIds,archived:n.archived,datePinned:n.datePinned}),e.instanceOf=n=>["locked","archived","datePinned"].every(r=>r in n)})(t.Settings||(t.Settings={}))})(Ir||(Ir={}));var Xm;(t=>{t.mapIncoming=async(e,n)=>{if(!e)return null;const r=await zi(e.user);return r?{...e,user:r,postId:n,date:e.date.toDate()}:null},t.convert=e=>({userId:e.user.id,postId:e.postId,message:e.message,date:e.date})})(Xm||(Xm={}));var $0;(t=>{t.convert=e=>({displayName:e.displayName,avatar:e.avatar??""})})($0||($0={}));const Qm=[{value:"bg-primary-900",label:"Default",background:"bg-primary-900",text:"text-white"},{value:"bg-red-700",label:"Important",background:"bg-red-700",text:"text-white"},{value:"bg-orange-500",label:"Orange",background:"bg-orange-500",text:"text-orange-900"},{value:"bg-yellow-900",label:"Amber",background:"bg-yellow-900",text:"text-yellow-500"},{value:"bg-yellow-500",label:"Yellow",background:"bg-yellow-500",text:"text-yellow-900"},{value:"bg-green-500",label:"Green",background:"bg-green-500",text:"text-green-900"},{value:"bg-cyan-500",label:"Aqua",background:"bg-cyan-500",text:"text-cyan-900"},{value:"bg-blue-600",label:"Blue",background:"bg-blue-600",text:"text-blue-900"},{value:"bg-purple-600",label:"Purple",background:"bg-purple-600",text:"text-purple-900"},{value:"bg-pink-600",label:"Pink",background:"bg-pink-600",text:"text-pink-900"},{value:"bg-gray-900",label:"Gray",background:"bg-gray-900",text:"text-white"}],VG=t=>Qm.map((e,n)=>n===0?{value:"",label:"Match Primary",background:(t==null?void 0:t.background)||"bg-primary-900",text:(t==null?void 0:t.text)||"text-white"}:e),$G=Qm.map((t,e)=>e===0?{value:"",label:"Default",background:"bg-primary-700",text:"text-white"}:t),xy=[{value:"",label:"Default"},{value:"bg-opacity-10",label:"10"},{value:"bg-opacity-20",label:"20"},{value:"bg-opacity-30",label:"30"},{value:"bg-opacity-40",label:"40"},{value:"bg-opacity-50",label:"50"},{value:"bg-opacity-60",label:"60"},{value:"bg-opacity-70",label:"70"},{value:"bg-opacity-80",label:"80"},{value:"bg-opacity-90",label:"90"},{value:"bg-opacity-100",label:"100"}],on=uM(),jt={content:ao(on,"content"),projects:ao(on,"projects"),menuItems:t=>ao(on,t?"menuItemsPrivate":"menuItems"),menuItemsPrivate:ao(on,"menuItemsPrivate"),blogPosts:t=>ao(on,t?"blogPostsPrivate":"blogPosts"),blogPostsPrivate:ao(on,"blogPostsPrivate"),blogReactions:t=>ao(on,t?"blogReactionsPrivate":"blogReactions"),usersPublic:ao(on,"usersPublic"),files:ao(on,"files")},yr=uw("main",{state:()=>({profile:cM,content:NG,menuItems:LG,projects:MG,blogPosts:{visibility:"public",data:{public:[],private:[],single:null},previousData:{public:[],private:[],single:null},isLastPage:!1,isLoading:{public:{fetch:!1,mutation:!1},private:{fetch:!1,mutation:!1}},isDatabaseCreationActive:!1,isDatabaseMutationActive:!1,isDatabaseDeletionActive:!1},blogReactions:{isDatabaseCreationActive:!1,isDatabaseDeletionActive:!1,unread:[]},publicUsers:[],isOnline:!0,debug:!1,isFetchAllLoading:!1}),getters:{filteredProjects:t=>t.projects.filter(e=>!e.loading),filteredMenuItems:t=>t.menuItems.filter(e=>!e.loading),visibleMenuItems:t=>t.menuItems.filter(e=>!e.invisible),allBlogPosts:t=>[...t.blogPosts.data.public,...t.blogPosts.data.private],visibleBlogPosts:t=>t.blogPosts.data[t.blogPosts.visibility],previousVisibleBlogPosts:t=>t.blogPosts.previousData[t.blogPosts.visibility],isBlogPostsFetchLoading:t=>t.blogPosts.isLoading.public.fetch||t.blogPosts.isLoading.private.fetch,isBlogPostsMutationLoading:t=>t.blogPosts.isLoading.public.mutation||t.blogPosts.isLoading.private.mutation,isBlogPostDatabaseActionActive:t=>t.blogPosts.isDatabaseCreationActive||t.blogPosts.isDatabaseMutationActive||t.blogPosts.isDatabaseDeletionActive||t.blogReactions.isDatabaseCreationActive||t.blogReactions.isDatabaseDeletionActive},actions:{async fetchAll(t,e){try{this.isFetchAllLoading||(this.isFetchAllLoading=!0,console.log("attempt to fetch all"),(this.debug||this.isOnline&&(!this.filteredMenuItems.length||e))&&(console.log("fetch all"),this.blogPosts.data={public:[],private:[],single:null},this.blogPosts.visibility="public",await Promise.all([this.fetchProjects(),this.fetchMenuItems(t),this.fetchBlogPosts(t),this.fetchContent(),this.fetchPublicUsers()])))}catch(n){it.firebaseError(this.debug,n)}finally{this.isFetchAllLoading=!1}},async fetchContent(){try{const t=await zi(Zt(on,jt.content.id,"production"));this.content={...this.content,...t||{}}}catch(t){it.firebaseError(this.debug,t)}},async fetchProjects(){try{const t=await Promise.all((await tu(jt.projects)).map(async e=>({...e,technologies:await Promise.all(e.technologies.map(async n=>await zi(n)))})));this.projects=t.length?$I(t):this.projects}catch(t){it.firebaseError(this.debug,t)}},moveProject(t,e){const n=this.projects.splice(t,1)[0];this.projects.splice(e,0,n)},async fetchMenuItems(t){try{let e=await tu(jt.menuItems());if(t)try{e=e.concat(await tu(jt.menuItemsPrivate,[p0("allowedUserIds","array-contains",Zt(on,jt.usersPublic.id,t).id)]))}catch{}return this.menuItems=e.length?$I(e):this.menuItems,this.menuItems}catch(e){it.firebaseError(this.debug,e)}},async fetchBlogPosts(t,e={}){const n=e.visibility??this.blogPosts.visibility;e.loadingIndicator!==!1&&(this.blogPosts.isLoading[n].fetch=!0);try{const i=this.blogPosts.data[n][this.blogPosts.data[n].length-1],o=[PI("datePinned","desc"),PI("date","desc"),HB(e.amount||3)];this.visibleBlogPosts.length||(this.blogPosts.isLastPage=!1),e.amount&&e.loadingIndicator!==!1&&(this.blogPosts.data[n]=[]),!e.amount&&i&&o.push(WB(i.datePinned,i.date));var r=[];n==="private"&&t?r=await tu(jt.blogPostsPrivate,[p0("allowedUserIds","array-contains",Zt(on,jt.usersPublic.id,t).id),...o]):n==="public"&&(r=await tu(jt.blogPosts(!1),o));const s=await Promise.all(r.map(async a=>await Ir.mapIncoming(a)));if(e.amount)this.blogPosts.data[n]=s;else for(const a of s)this.blogPosts.data[n].push(a);s.length<3&&(this.blogPosts.isLastPage=!0)}catch(i){it.firebaseError(this.debug,i)}finally{this.blogPosts.isLoading[n].fetch=!1}},async fetchBlogPost(t,e,n={}){console.log("attempt to fetch single");const r=(e==null?void 0:e.visibility)??"public";n.loadingIndicator!==!1&&(this.blogPosts.isLoading[r].fetch=!0);try{var i=await zi(Zt(jt.blogPosts(!!(e!=null&&e.isPrivate)),t));return i||(i=await zi(Zt(jt.blogPostsPrivate,t))),i?(this.blogPosts.data.single=await Ir.mapIncoming(i),this.blogPosts.data.single):null}catch(o){return it.firebaseError(this.debug,o),null}finally{this.blogPosts.isLoading[r].fetch=!1}},async fetchPublicUsers(){try{this.publicUsers=await tu(jt.usersPublic)}catch(t){return it.firebaseError(this.debug,t),null}},async fetchPublicUser(t){try{return await zi(Zt(on,jt.usersPublic.id,t))}catch(e){return it.firebaseError(this.debug,e),null}},async allowedPublicUsers(t){try{return(await Promise.all(t.map(async n=>{const r=await this.fetchPublicUser(n);return r?{...r,displayName:r.displayName||"Anonymous"}:null}))).filter(Boolean)}catch{return[]}},setPreviousBlogPosts(){this.blogPosts.previousData.single=this.blogPosts.data.single,this.blogPosts.previousData[this.blogPosts.visibility]=this.visibleBlogPosts},checkBlogPostForUnreadReactions(t,e){const n=this.blogReactions.unread.length;if(t){let r;if(e?r=this.blogPosts.data.single:r=this.visibleBlogPosts.find(i=>i.id===t.id),r&&r.reactions.length!==t.reactions.length){const i=r.reactions.filter(o=>!t.reactions.some(s=>s.id===o.id));for(const o of i)this.blogReactions.unread.every(s=>s.id!==o.id)&&this.blogReactions.unread.push(o)}}e&&(n!==this.blogReactions.unread.length&&it.update("There are unread comments on this page"),this.setPreviousBlogPosts())},checkBlogPostsForUnreadReactions(){const t=this.blogReactions.unread.length;if(this.previousVisibleBlogPosts.length)for(const e of this.previousVisibleBlogPosts)this.checkBlogPostForUnreadReactions(e);t!==this.blogReactions.unread.length&&it.update("There are unread comments on this page"),this.setPreviousBlogPosts()},async createBlogPost(t,e,n,r={includeTime:!1,fetch:!0}){const i=ss(e);this.blogPosts.isLoading[i.visibility].mutation=!0,this.blogPosts.isDatabaseCreationActive=!0;try{return await Mm(Zt(on,jt.blogPosts(i.isPrivate).id,t),{...e,date:r!=null&&r.includeTime?e.date:Nn.now(),dateUpdated:r!=null&&r.includeTime?e.dateUpdated:null,countdown:e.countdown?Nn.fromDate(e.countdown):null,timer:e.timer?Nn.fromDate(e.timer):null}),this.blogPosts.visibility=i.visibility,r!=null&&r.fetch&&this.fetchBlogPosts(n,{amount:this.visibleBlogPosts.length+1}),it.success("Successfully created Post"),!0}catch(o){return it.firebaseError(this.debug,o),!1}finally{this.setPreviousBlogPosts(),this.blogPosts.isLoading[i.visibility].mutation=!1,this.blogPosts.isDatabaseCreationActive=!1}},async updateBlogPost(t,e,n,r){try{this.blogPosts.isDatabaseMutationActive=!0,this.blogPosts.isLoading[n.visibility].mutation=!0;const i=jt.blogPosts(n.isPrivate).id;let o="";if(Ir.Content.instanceOf(e)&&(await Ys(Zt(on,i,t),{...Ir.Content.convert(e),dateUpdated:Nn.now()}),o="content"),Ir.Styling.instanceOf(e)&&(await Ys(Zt(on,i,t),{...Ir.Styling.convert(e)}),o="styling"),Ir.Settings.instanceOf(e)&&(await Ys(Zt(on,i,t),{...Ir.Settings.convert(e)}),o="settings"),o==="content"||o==="styling"){const s=await this.fetchBlogPost(t,n);this.blogPosts.data[n.visibility]=this.blogPosts.data[n.visibility].map(a=>a.id===(s==null?void 0:s.id)?s:a)}else this.fetchBlogPosts(r,{amount:this.blogPosts.data[n.visibility].length});return o}catch(i){it.firebaseError(this.debug,i)}finally{this.setPreviousBlogPosts(),this.blogPosts.isLoading[n.visibility].mutation=!1,this.blogPosts.isDatabaseMutationActive=!1}},async toggleBlogPostVisibility(t,e,n,r,i){try{this.blogPosts.isDatabaseMutationActive=!0,this.blogPosts.isLoading[r].mutation=!0;const o=this.allBlogPosts.find(s=>s.id===t);if(await this.deleteBlogPost(t,{includeFiles:!1,includeReactions:!1}),o&&await this.createBlogPost(t,e,i,{includeTime:!0,fetch:!1})){let s;do this.blogPosts.data[r]=[],await this.fetchBlogPosts(i,{visibility:r}),s=this.allBlogPosts.find(a=>a.id===t);while(!s);if(this.blogPosts.visibility=r,s){for(const a of n)await this.deleteBlogReaction(a.id,o,{mutatePost:!1,fetch:!1})||it.error("Failed to delete old Reaction",{debug:this.debug}),await this.createBlogReaction(s,Xm.convert(a),{includeTime:!0,fetch:!1})||it.error("Failed to re-create Reaction",{debug:this.debug});for(const a of this.getFilesOfPost(o)){const l=y0(a);await this.updateFileInfo(l.name,s)||it.error("Failed to move Image",{debug:this.debug})}return this.fetchBlogPosts(i,{amount:this.visibleBlogPosts.length}),!0}else return it.error("Failed to re-create Post",{debug:this.debug}),!1}else return it.error("Failed to re-create Post",{debug:this.debug}),!1}catch(o){return it.firebaseError(this.debug,o),!1}finally{this.setPreviousBlogPosts(),this.blogPosts.isLoading[r].mutation=!1,this.blogPosts.isDatabaseMutationActive=!1}},async deleteBlogPost(t,e={includeFiles:!0,includeReactions:!0}){try{this.blogPosts.isDatabaseDeletionActive=!0;const n=this.allBlogPosts.find(r=>r.id===t);if(n){e.includeReactions&&await this.deleteBlogReactionsOfBlogPost(n),e.includeFiles&&await this.deleteFilesOfBlogPost(n);const r=ss(n);return await Cd(Zt(on,jt.blogPosts(r.isPrivate).id,t)),this.blogPosts.data[r.visibility]=this.blogPosts.data[r.visibility].filter(i=>i.id!==t),it.success("Successfully deleted Post"),!0}return!1}catch(n){return it.firebaseError(this.debug,n),!1}finally{this.setPreviousBlogPosts(),this.blogPosts.isDatabaseDeletionActive=!1}},async createBlogReaction(t,e,n={includeTime:!1,fetch:!0}){try{this.blogReactions.isDatabaseCreationActive=!0;const r=ss(t),i=Zt(on,jt.blogPosts(r.isPrivate).id,t.id),o=await zi(i);if(o){const s=await E7(jt.blogReactions(r.isPrivate),{user:Zt(on,jt.usersPublic.id,e.userId),message:e.message,date:n!=null&&n.includeTime?e.date:Nn.now(),post:i});if(await Ys(Zt(on,jt.blogPosts(r.isPrivate).id,o.id),{reactions:[...o.reactions??[],s]}),n!=null&&n.fetch){const a=await this.fetchBlogPost(o.id,r,{loadingIndicator:!1});this.blogPosts.data[r.visibility]=this.blogPosts.data[r.visibility].map(l=>l.id===o.id?a??l:l)}return it.success("Successfully created Reaction"),!0}return!1}catch(r){return it.firebaseError(this.debug,r),!1}finally{this.setPreviousBlogPosts(),this.blogReactions.isDatabaseCreationActive=!1}},async deleteBlogReaction(t,e,n={mutatePost:!0,fetch:!0}){var r;try{this.blogReactions.isDatabaseDeletionActive=!0;const i=ss(e);if(n.mutatePost){const o=Zt(on,jt.blogPosts(i.isPrivate).id,e.id),s=await zi(o);s&&await Ys(o,{reactions:((r=s.reactions)==null?void 0:r.filter(a=>a.id!==t))??[]})}return await Cd(Zt(on,jt.blogReactions(i.isPrivate).id,t)),n!=null&&n.fetch&&(e.reactions=e.reactions.filter(o=>o.id!==t),this.blogPosts.data[i.visibility]=this.blogPosts.data[i.visibility].map(o=>o.id===e.id?e:o)),it.success("Successfully deleted Reaction"),!0}catch(i){return it.firebaseError(this.debug,i),!1}finally{this.setPreviousBlogPosts(),this.blogReactions.isDatabaseDeletionActive=!1}},async deleteBlogReactionsOfBlogPost(t){try{this.blogReactions.isDatabaseDeletionActive=!0;const e=ss(t),n=(t==null?void 0:t.reactions)??[];for(const r of n)await Cd(Zt(on,jt.blogReactions(e.isPrivate).id,r.id));return n.length&&it.success(`Successfully deleted ${n.length} Reaction${n.length!==1?"s":""}`),!0}catch(e){return it.firebaseError(this.debug,e),!1}finally{this.setPreviousBlogPosts(),this.blogReactions.isDatabaseDeletionActive=!1}},getFilesOfPost(t,e){var r,i;const n=[];if(t.coverImageUrl&&(!e||!e.coverImageUrl)&&n.push(t.coverImageUrl),t.sections.length)for(const[o,s]of t.sections.entries()){const a=(i=(r=e==null?void 0:e.sections)==null?void 0:r[o])==null?void 0:i.coverImageUrl,l=s.coverImageUrl;l&&(!e||!a)&&n.push(l)}return n},async fetchFileInfo(t){try{return await zi(Zt(on,jt.files.path,t))}catch(e){return it.firebaseError(this.debug,e),null}},async uploadFile(t,e,n,r,i,o,s){return await this.createFileInfo(t.name,r,i,o,s)&&await this.createFile(t,e,n)},async createFile(t,e,n){try{const r=d7(t,e);return r.on("state_changed",i=>{const o=i.bytesTransferred/i.totalBytes*100;n(o)}),await r,it.success("Successfully uploaded File"),!0}catch(r){return it.firebaseError(this.debug,r),!1}},async createFileInfo(t,e,n,r,i){try{let o;if(i){const s=ss(i);o=Zt(on,jt.blogPosts(s.isPrivate).id,i.id)}return await Mm(Zt(on,jt.files.path,t),{name:e,owner:n,post:o??null,public:r??!1}),!0}catch(o){return it.firebaseError(this.debug,o),!1}},async updateFileInfo(t,e){try{let n;if(e){const r=ss(e);n=Zt(on,jt.blogPosts(r.isPrivate).id,e.id)}return await Ys(Zt(on,jt.files.path,t),{post:n??null}),!0}catch(n){return it.firebaseError(this.debug,n),!1}},async deleteFile(t,e=!1){try{return await Cd(Zt(on,jt.files.path,t.name)),await f7(t),e||it.success("Successfully deleted File"),!0}catch(n){return it.firebaseError(this.debug,n),!1}},async deleteFilesOfBlogPost(t,e){try{const n=this.getFilesOfPost(t,e);for(const r of n)await this.deleteFile(y0(r),!0);return n.length&&it.success(`Successfully deleted ${n.length} File${n.length!==1?"s":""}`),!0}catch(n){return it.firebaseError(this.debug,n),!1}},toggleOnline(){this.isOnline=!this.isOnline},toggleDebug(){this.debug=!this.debug}},persist:{enabled:!0}}),gu=FW(hx);gu.onAuthStateChanged(t=>{Ar().fetchUser(t);const e=yr();e.filteredMenuItems.length,e.$patch({blogPosts:{...e.blogPosts,data:{...e.blogPosts.data,private:[]}}}),e.fetchAll(t==null?void 0:t.uid,!0)});const as=uM(),Wa={users:ao(as,"users"),usersPublic:ao(as,"usersPublic")},Ar=uw("auth",{state:()=>({currentUser:null,publicUser:null,firebaseUser:gu.currentUser,isLoginLoading:!1,isMutationLoading:!1,isLogoutLoading:!1}),getters:{isOwner:t=>{var e;return((e=t.firebaseUser)==null?void 0:e.uid)==="wEaq28Vfx8aygJ6TUi0hDrNut1F2"}},actions:{async fetchUser(t){if(this.firebaseUser=t,t){this.publicUser=await zi(Zt(as,Wa.usersPublic.id,t.uid));const e=await zi(Zt(as,Wa.users.id,t.uid));e!=null&&(this.currentUser={firstName:e.firstName||"",lastName:e.lastName||""})}},async login(t,e){try{this.isLoginLoading=!0;const{user:n}=await CH(gu,t,e);await this.fetchUser(n),it.success("Successfully logged in",{route:gr.DASHBOARD})}catch(n){it.firebaseError(!1,n)}finally{this.isLoginLoading=!1}},async register(t,e,n){try{this.isLoginLoading=!0;const{user:r}=await IH(gu,t,e);await Mm(Zt(as,Wa.users.id,r.uid),{firstName:n}),await this.updatePublicUser({displayName:"Anonymous",avatar:""}),await this.fetchUser(r),it.success("Successfully created your account",{route:gr.DASHBOARD})}catch(r){it.firebaseError(!1,r)}finally{this.isLoginLoading=!1}},async updateMail(t,e){try{if(this.isLoginLoading=!0,this.firebaseUser&&this.firebaseUser.email){const n=Ca.credential(this.firebaseUser.email,e);await XI(this.firebaseUser,n),await AH(this.firebaseUser,t),it.success("Successfully changed your e-mail")}}catch(n){it.firebaseError(!1,n)}finally{this.isLoginLoading=!1}},async updatePassword(t,e){try{if(this.isLoginLoading=!0,this.firebaseUser&&this.firebaseUser.email){const n=Ca.credential(this.firebaseUser.email,e);await XI(this.firebaseUser,n),await PH(this.firebaseUser,t),it.success("Successfully changed your password")}}catch(n){it.firebaseError(!1,n)}finally{this.isLoginLoading=!1}},async resetPassword(t){try{await SH(gu,t),it.success("Successfully requested password reset")}catch(e){it.firebaseError(!1,e)}},async updateUser(t){try{this.isMutationLoading=!0,this.currentUser&&this.firebaseUser&&(vo(this.currentUser,t)?it.warning("Nothing changed in your details"):(await Ys(Zt(as,Wa.users.id,this.firebaseUser.uid),t),await this.fetchUser(this.firebaseUser),it.success("Successfully updated your profile")))}catch(e){it.firebaseError(!1,e)}finally{this.isMutationLoading=!1}},async updatePublicUser(t){try{this.isMutationLoading=!0,this.publicUser?vo(this.publicUser,t)?it.warning("Nothing changed in your public profile"):(await Ys(Zt(as,Wa.usersPublic.id,this.publicUser.id),{displayName:t.displayName,avatar:t.avatar}),await this.fetchUser(this.firebaseUser),it.success("Successfully updated your public profile")):this.firebaseUser?(await Mm(Zt(as,Wa.usersPublic.id,this.firebaseUser.uid),{displayName:t.displayName,avatar:t.avatar}),await this.fetchUser(this.firebaseUser),it.success("Successfully updated your public profile")):it.firebaseError(!1)}catch(e){it.firebaseError(!1,e)}finally{this.isMutationLoading=!1}},async logout(){try{this.isLogoutLoading=!0,await kH(gu),this.currentUser=null,this.publicUser=null,it.success("Successfully logged out",{route:gr.HOME})}catch(t){it.firebaseError(!1,t)}finally{this.isLogoutLoading=!1}},async deleteAccount(){try{this.isLogoutLoading=!0,this.currentUser&&this.firebaseUser&&(await Cd(Zt(as,Wa.users.id,this.firebaseUser.uid)),await RH(this.firebaseUser),this.currentUser=null,this.publicUser=null,it.success("Successfully deleted your account",{route:gr.HOME}))}catch(t){it.firebaseError(!1,t)}finally{this.isLogoutLoading=!1}}},persist:{enabled:!0}}),FG={class:"bg-black text-white shadow-md py-4"},UG={class:"container mx-auto text-center"},qG=Me({__name:"Footer",setup(t){const{content:e}=zt(yr());return(n,r)=>(M(),W("footer",FG,[y("div",UG,[y("p",null,"© "+ze(new Date().getFullYear()+" "+P(e).footerCopyright),1)])]))}});function BG(t,e){return M(),W("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon"},[y("path",{"fill-rule":"evenodd",d:"M6 3.75A2.75 2.75 0 0 1 8.75 1h2.5A2.75 2.75 0 0 1 14 3.75v.443c.572.055 1.14.122 1.706.2C17.053 4.582 18 5.75 18 7.07v3.469c0 1.126-.694 2.191-1.83 2.54-1.952.599-4.024.921-6.17.921s-4.219-.322-6.17-.921C2.694 12.73 2 11.665 2 10.539V7.07c0-1.321.947-2.489 2.294-2.676A41.047 41.047 0 0 1 6 4.193V3.75Zm6.5 0v.325a41.622 41.622 0 0 0-5 0V3.75c0-.69.56-1.25 1.25-1.25h2.5c.69 0 1.25.56 1.25 1.25ZM10 10a1 1 0 0 0-1 1v.01a1 1 0 0 0 1 1h.01a1 1 0 0 0 1-1V11a1 1 0 0 0-1-1H10Z","clip-rule":"evenodd"}),y("path",{d:"M3 15.055v-.684c.126.053.255.1.39.142 2.092.642 4.313.987 6.61.987 2.297 0 4.518-.345 6.61-.987.135-.041.264-.089.39-.142v.684c0 1.347-.985 2.53-2.363 2.686a41.454 41.454 0 0 1-9.274 0C3.985 17.585 3 16.402 3 15.055Z"})])}function jG(t,e){return M(),W("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon"},[y("path",{"fill-rule":"evenodd",d:"m9.69 18.933.003.001C9.89 19.02 10 19 10 19s.11.02.308-.066l.002-.001.006-.003.018-.008a5.741 5.741 0 0 0 .281-.14c.186-.096.446-.24.757-.433.62-.384 1.445-.966 2.274-1.765C15.302 14.988 17 12.493 17 9A7 7 0 1 0 3 9c0 3.492 1.698 5.988 3.355 7.584a13.731 13.731 0 0 0 2.273 1.765 11.842 11.842 0 0 0 .976.544l.062.029.018.008.006.003ZM10 11.25a2.25 2.25 0 1 0 0-4.5 2.25 2.25 0 0 0 0 4.5Z","clip-rule":"evenodd"})])}const HG={class:"flex justify-between"},WG={class:"hidden sm:block w-full sm:min-w-fit"},zG=["src","alt"],KG={class:"w-fit sm:max-w-1/2"},GG={class:"text-title-primary"},YG={class:"text-title-secondary"},XG={class:"text-title-tertiary absolute sm:relative mt-1 sm:mt-0 flex flex-col xl:flex-row xl:flex-wrap"},QG={class:"mt-2 flex items-center whitespace-nowrap me-6"},JG={class:"mt-2 flex items-center whitespace-nowrap"},ZG={class:"sm:hidden min-w-fit mt-3"},eY=["src","alt"],qC=Me({__name:"HeaderContent",setup(t){const{profile:e,content:n}=zt(yr());return(r,i)=>{const o=Dn("RouterLink");return M(),W("div",HG,[y("div",WG,[B(o,{to:{name:P(gr).HOME}},{default:J(()=>[y("img",{class:"h-32 w-32 md:h-48 md:w-48 rounded-full animation-scale mb-4 cursor-pointer",src:P(n).avatarUrl,alt:P(e).name},null,8,zG)]),_:1},8,["to"])]),y("div",KG,[y("h1",GG,ze(P(e).name),1),y("h2",YG,ze(P(e).service),1),y("div",XG,[y("div",QG,[B(P(BG),{class:"mr-1.5 h-5 w-5 text-neutral-400"}),z(" "+ze(P(e).role),1)]),y("div",JG,[B(P(jG),{class:"mr-1.5 h-5 w-5 text-neutral-400"}),z(" "+ze(P(e).location.city)+", "+ze(P(e).location.country),1)])])]),y("div",ZG,[B(o,{to:{name:P(gr).HOME}},{default:J(()=>[y("img",{class:"h-32 w-32 md:h-48 md:w-48 rounded-full animation-scale mb-4 cursor-pointer",src:P(n).avatarUrl,alt:P(e).name},null,8,eY)]),_:1},8,["to"])])])}}}),tY=["href"],nY=Me({__name:"ButtonWrapper",props:{class:{},activeClass:{},url:{},route:{}},setup(t){return(e,n)=>{const r=Dn("RouterLink");return e.route?(M(),de(r,{key:0,class:$e([e.class,"!no-underline"]),"active-class":e.activeClass,to:{name:e.route}},{default:J(()=>[Te(e.$slots,"default")]),_:3},8,["class","active-class","to"])):e.url?(M(),W("a",{key:1,class:$e([e.class,"!no-underline"]),href:e.url},[Te(e.$slots,"default")],10,tY)):Te(e.$slots,"default",{key:2,class:$e(e.class)})}}});function Dy(t,e){var n=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=N1(t))||e&&t&&typeof t.length=="number"){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(u){throw u},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var o=!0,s=!1,a;return{s:function(){n=n.call(t)},n:function(){var u=n.next();return o=u.done,u},e:function(u){s=!0,a=u},f:function(){try{!o&&n.return!=null&&n.return()}finally{if(s)throw a}}}}function rY(t){return sY(t)||oY(t)||N1(t)||iY()}function iY(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function oY(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function sY(t){if(Array.isArray(t))return F0(t)}function Yd(t){"@babel/helpers - typeof";return Yd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yd(t)}function Ny(t,e){return uY(t)||lY(t,e)||N1(t,e)||aY()}function aY(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function N1(t,e){if(t){if(typeof t=="string")return F0(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return F0(t,e)}}function F0(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function lY(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return a}}function uY(t){if(Array.isArray(t))return t}var We={innerWidth:function(e){if(e){var n=e.offsetWidth,r=getComputedStyle(e);return n+=parseFloat(r.paddingLeft)+parseFloat(r.paddingRight),n}return 0},width:function(e){if(e){var n=e.offsetWidth,r=getComputedStyle(e);return n-=parseFloat(r.paddingLeft)+parseFloat(r.paddingRight),n}return 0},getWindowScrollTop:function(){var e=document.documentElement;return(window.pageYOffset||e.scrollTop)-(e.clientTop||0)},getWindowScrollLeft:function(){var e=document.documentElement;return(window.pageXOffset||e.scrollLeft)-(e.clientLeft||0)},getOuterWidth:function(e,n){if(e){var r=e.offsetWidth;if(n){var i=getComputedStyle(e);r+=parseFloat(i.marginLeft)+parseFloat(i.marginRight)}return r}return 0},getOuterHeight:function(e,n){if(e){var r=e.offsetHeight;if(n){var i=getComputedStyle(e);r+=parseFloat(i.marginTop)+parseFloat(i.marginBottom)}return r}return 0},getClientHeight:function(e,n){if(e){var r=e.clientHeight;if(n){var i=getComputedStyle(e);r+=parseFloat(i.marginTop)+parseFloat(i.marginBottom)}return r}return 0},getViewport:function(){var e=window,n=document,r=n.documentElement,i=n.getElementsByTagName("body")[0],o=e.innerWidth||r.clientWidth||i.clientWidth,s=e.innerHeight||r.clientHeight||i.clientHeight;return{width:o,height:s}},getOffset:function(e){if(e){var n=e.getBoundingClientRect();return{top:n.top+(window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0),left:n.left+(window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0)}}return{top:"auto",left:"auto"}},index:function(e){if(e)for(var n,r=(n=this.getParentNode(e))===null||n===void 0?void 0:n.childNodes,i=0,o=0;o<r.length;o++){if(r[o]===e)return i;r[o].nodeType===1&&i++}return-1},addMultipleClasses:function(e,n){var r=this;e&&n&&[n].flat().filter(Boolean).forEach(function(i){return i.split(" ").forEach(function(o){return r.addClass(e,o)})})},removeMultipleClasses:function(e,n){var r=this;e&&n&&[n].flat().filter(Boolean).forEach(function(i){return i.split(" ").forEach(function(o){return r.removeClass(e,o)})})},addClass:function(e,n){e&&n&&!this.hasClass(e,n)&&(e.classList?e.classList.add(n):e.className+=" "+n)},removeClass:function(e,n){e&&n&&(e.classList?e.classList.remove(n):e.className=e.className.replace(new RegExp("(^|\\b)"+n.split(" ").join("|")+"(\\b|$)","gi")," "))},hasClass:function(e,n){return e?e.classList?e.classList.contains(n):new RegExp("(^| )"+n+"( |$)","gi").test(e.className):!1},addStyles:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};e&&Object.entries(n).forEach(function(r){var i=Ny(r,2),o=i[0],s=i[1];return e.style[o]=s})},find:function(e,n){return this.isElement(e)?e.querySelectorAll(n):[]},findSingle:function(e,n){return this.isElement(e)?e.querySelector(n):null},createElement:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e){var r=document.createElement(e);this.setAttributes(r,n);for(var i=arguments.length,o=new Array(i>2?i-2:0),s=2;s<i;s++)o[s-2]=arguments[s];return r.append.apply(r,o),r}},setAttribute:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",r=arguments.length>2?arguments[2]:void 0;this.isElement(e)&&r!==null&&r!==void 0&&e.setAttribute(n,r)},setAttributes:function(e){var n=this,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.isElement(e)){var i=function o(s,a){var l,u,c=e!=null&&(l=e.$attrs)!==null&&l!==void 0&&l[s]?[e==null||(u=e.$attrs)===null||u===void 0?void 0:u[s]]:[];return[a].flat().reduce(function(d,h){if(h!=null){var p=Yd(h);if(p==="string"||p==="number")d.push(h);else if(p==="object"){var m=Array.isArray(h)?o(s,h):Object.entries(h).map(function(g){var v=Ny(g,2),A=v[0],I=v[1];return s==="style"&&(I||I===0)?"".concat(A.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),":").concat(I):I?A:void 0});d=m.length?d.concat(m.filter(function(g){return!!g})):d}}return d},c)};Object.entries(r).forEach(function(o){var s=Ny(o,2),a=s[0],l=s[1];if(l!=null){var u=a.match(/^on(.+)/);u?e.addEventListener(u[1].toLowerCase(),l):a==="p-bind"?n.setAttributes(e,l):(l=a==="class"?rY(new Set(i("class",l))).join(" ").trim():a==="style"?i("style",l).join(";").trim():l,(e.$attrs=e.$attrs||{})&&(e.$attrs[a]=l),e.setAttribute(a,l))}})}},getAttribute:function(e,n){if(this.isElement(e)){var r=e.getAttribute(n);return isNaN(r)?r==="true"||r==="false"?r==="true":r:+r}},isAttributeEquals:function(e,n,r){return this.isElement(e)?this.getAttribute(e,n)===r:!1},isAttributeNotEquals:function(e,n,r){return!this.isAttributeEquals(e,n,r)},getHeight:function(e){if(e){var n=e.offsetHeight,r=getComputedStyle(e);return n-=parseFloat(r.paddingTop)+parseFloat(r.paddingBottom)+parseFloat(r.borderTopWidth)+parseFloat(r.borderBottomWidth),n}return 0},getWidth:function(e){if(e){var n=e.offsetWidth,r=getComputedStyle(e);return n-=parseFloat(r.paddingLeft)+parseFloat(r.paddingRight)+parseFloat(r.borderLeftWidth)+parseFloat(r.borderRightWidth),n}return 0},absolutePosition:function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(e){var i=e.offsetParent?{width:e.offsetWidth,height:e.offsetHeight}:this.getHiddenElementDimensions(e),o=i.height,s=i.width,a=n.offsetHeight,l=n.offsetWidth,u=n.getBoundingClientRect(),c=this.getWindowScrollTop(),d=this.getWindowScrollLeft(),h=this.getViewport(),p,m,g="top";u.top+a+o>h.height?(p=u.top+c-o,g="bottom",p<0&&(p=c)):p=a+u.top+c,u.left+s>h.width?m=Math.max(0,u.left+d+l-s):m=u.left+d,e.style.top=p+"px",e.style.left=m+"px",e.style.transformOrigin=g,r&&(e.style.marginTop=g==="bottom"?"calc(var(--p-anchor-gutter) * -1)":"calc(var(--p-anchor-gutter))")}},relativePosition:function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(e){var i=e.offsetParent?{width:e.offsetWidth,height:e.offsetHeight}:this.getHiddenElementDimensions(e),o=n.offsetHeight,s=n.getBoundingClientRect(),a=this.getViewport(),l,u,c="top";s.top+o+i.height>a.height?(l=-1*i.height,c="bottom",s.top+l<0&&(l=-1*s.top)):l=o,i.width>a.width?u=s.left*-1:s.left+i.width>a.width?u=(s.left+i.width-a.width)*-1:u=0,e.style.top=l+"px",e.style.left=u+"px",e.style.transformOrigin=c,r&&(e.style.marginTop=c==="bottom"?"calc(var(--p-anchor-gutter) * -1)":"calc(var(--p-anchor-gutter))")}},nestedPosition:function(e,n){if(e){var r=e.parentElement,i=this.getOffset(r),o=this.getViewport(),s=e.offsetParent?e.offsetWidth:this.getHiddenElementOuterWidth(e),a=this.getOuterWidth(r.children[0]),l;parseInt(i.left,10)+a+s>o.width-this.calculateScrollbarWidth()?parseInt(i.left,10)<s?n%2===1?l=parseInt(i.left,10)?"-"+parseInt(i.left,10)+"px":"100%":n%2===0&&(l=o.width-s-this.calculateScrollbarWidth()+"px"):l="-100%":l="100%",e.style.top="0px",e.style.left=l}},getParentNode:function(e){var n=e==null?void 0:e.parentNode;return n&&n instanceof ShadowRoot&&n.host&&(n=n.host),n},getParents:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],r=this.getParentNode(e);return r===null?n:this.getParents(r,n.concat([r]))},getScrollableParents:function(e){var n=[];if(e){var r=this.getParents(e),i=/(auto|scroll)/,o=function(v){try{var A=window.getComputedStyle(v,null);return i.test(A.getPropertyValue("overflow"))||i.test(A.getPropertyValue("overflowX"))||i.test(A.getPropertyValue("overflowY"))}catch{return!1}},s=Dy(r),a;try{for(s.s();!(a=s.n()).done;){var l=a.value,u=l.nodeType===1&&l.dataset.scrollselectors;if(u){var c=u.split(","),d=Dy(c),h;try{for(d.s();!(h=d.n()).done;){var p=h.value,m=this.findSingle(l,p);m&&o(m)&&n.push(m)}}catch(g){d.e(g)}finally{d.f()}}l.nodeType!==9&&o(l)&&n.push(l)}}catch(g){s.e(g)}finally{s.f()}}return n},getHiddenElementOuterHeight:function(e){if(e){e.style.visibility="hidden",e.style.display="block";var n=e.offsetHeight;return e.style.display="none",e.style.visibility="visible",n}return 0},getHiddenElementOuterWidth:function(e){if(e){e.style.visibility="hidden",e.style.display="block";var n=e.offsetWidth;return e.style.display="none",e.style.visibility="visible",n}return 0},getHiddenElementDimensions:function(e){if(e){var n={};return e.style.visibility="hidden",e.style.display="block",n.width=e.offsetWidth,n.height=e.offsetHeight,e.style.display="none",e.style.visibility="visible",n}return 0},fadeIn:function(e,n){if(e){e.style.opacity=0;var r=+new Date,i=0,o=function s(){i=+e.style.opacity+(new Date().getTime()-r)/n,e.style.opacity=i,r=+new Date,+i<1&&(window.requestAnimationFrame&&requestAnimationFrame(s)||setTimeout(s,16))};o()}},fadeOut:function(e,n){if(e)var r=1,i=50,o=n,s=i/o,a=setInterval(function(){r-=s,r<=0&&(r=0,clearInterval(a)),e.style.opacity=r},i)},getUserAgent:function(){return navigator.userAgent},appendChild:function(e,n){if(this.isElement(n))n.appendChild(e);else if(n.el&&n.elElement)n.elElement.appendChild(e);else throw new Error("Cannot append "+n+" to "+e)},isElement:function(e){return(typeof HTMLElement>"u"?"undefined":Yd(HTMLElement))==="object"?e instanceof HTMLElement:e&&Yd(e)==="object"&&e!==null&&e.nodeType===1&&typeof e.nodeName=="string"},scrollInView:function(e,n){var r=getComputedStyle(e).getPropertyValue("borderTopWidth"),i=r?parseFloat(r):0,o=getComputedStyle(e).getPropertyValue("paddingTop"),s=o?parseFloat(o):0,a=e.getBoundingClientRect(),l=n.getBoundingClientRect(),u=l.top+document.body.scrollTop-(a.top+document.body.scrollTop)-i-s,c=e.scrollTop,d=e.clientHeight,h=this.getOuterHeight(n);u<0?e.scrollTop=c+u:u+h>d&&(e.scrollTop=c+u-d+h)},clearSelection:function(){if(window.getSelection)window.getSelection().empty?window.getSelection().empty():window.getSelection().removeAllRanges&&window.getSelection().rangeCount>0&&window.getSelection().getRangeAt(0).getClientRects().length>0&&window.getSelection().removeAllRanges();else if(document.selection&&document.selection.empty)try{document.selection.empty()}catch{}},getSelection:function(){return window.getSelection?window.getSelection().toString():document.getSelection?document.getSelection().toString():document.selection?document.selection.createRange().text:null},calculateScrollbarWidth:function(){if(this.calculatedScrollbarWidth!=null)return this.calculatedScrollbarWidth;var e=document.createElement("div");this.addStyles(e,{width:"100px",height:"100px",overflow:"scroll",position:"absolute",top:"-9999px"}),document.body.appendChild(e);var n=e.offsetWidth-e.clientWidth;return document.body.removeChild(e),this.calculatedScrollbarWidth=n,n},calculateBodyScrollbarWidth:function(){return window.innerWidth-document.documentElement.offsetWidth},getBrowser:function(){if(!this.browser){var e=this.resolveUserAgent();this.browser={},e.browser&&(this.browser[e.browser]=!0,this.browser.version=e.version),this.browser.chrome?this.browser.webkit=!0:this.browser.webkit&&(this.browser.safari=!0)}return this.browser},resolveUserAgent:function(){var e=navigator.userAgent.toLowerCase(),n=/(chrome)[ ]([\w.]+)/.exec(e)||/(webkit)[ ]([\w.]+)/.exec(e)||/(opera)(?:.*version|)[ ]([\w.]+)/.exec(e)||/(msie) ([\w.]+)/.exec(e)||e.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(e)||[];return{browser:n[1]||"",version:n[2]||"0"}},isVisible:function(e){return e&&e.offsetParent!=null},invokeElementMethod:function(e,n,r){e[n].apply(e,r)},isExist:function(e){return!!(e!==null&&typeof e<"u"&&e.nodeName&&this.getParentNode(e))},isClient:function(){return!!(typeof window<"u"&&window.document&&window.document.createElement)},focus:function(e,n){e&&document.activeElement!==e&&e.focus(n)},isFocusableElement:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";return this.isElement(e)?e.matches('button:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])'.concat(n,`,
                [href][clientHeight][clientWidth]:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])`).concat(n,`,
                input:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])`).concat(n,`,
                select:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])`).concat(n,`,
                textarea:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])`).concat(n,`,
                [tabIndex]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])`).concat(n,`,
                [contenteditable]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])`).concat(n)):!1},getFocusableElements:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",r=this.find(e,'button:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])'.concat(n,`,
                [href][clientHeight][clientWidth]:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])`).concat(n,`,
                input:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])`).concat(n,`,
                select:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])`).concat(n,`,
                textarea:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])`).concat(n,`,
                [tabIndex]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])`).concat(n,`,
                [contenteditable]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])`).concat(n)),i=[],o=Dy(r),s;try{for(o.s();!(s=o.n()).done;){var a=s.value;getComputedStyle(a).display!="none"&&getComputedStyle(a).visibility!="hidden"&&i.push(a)}}catch(l){o.e(l)}finally{o.f()}return i},getFirstFocusableElement:function(e,n){var r=this.getFocusableElements(e,n);return r.length>0?r[0]:null},getLastFocusableElement:function(e,n){var r=this.getFocusableElements(e,n);return r.length>0?r[r.length-1]:null},getNextFocusableElement:function(e,n,r){var i=this.getFocusableElements(e,r),o=i.length>0?i.findIndex(function(a){return a===n}):-1,s=o>-1&&i.length>=o+1?o+1:-1;return s>-1?i[s]:null},getPreviousElementSibling:function(e,n){for(var r=e.previousElementSibling;r;){if(r.matches(n))return r;r=r.previousElementSibling}return null},getNextElementSibling:function(e,n){for(var r=e.nextElementSibling;r;){if(r.matches(n))return r;r=r.nextElementSibling}return null},isClickable:function(e){if(e){var n=e.nodeName,r=e.parentElement&&e.parentElement.nodeName;return n==="INPUT"||n==="TEXTAREA"||n==="BUTTON"||n==="A"||r==="INPUT"||r==="TEXTAREA"||r==="BUTTON"||r==="A"||!!e.closest(".p-button, .p-checkbox, .p-radiobutton")}return!1},applyStyle:function(e,n){if(typeof n=="string")e.style.cssText=n;else for(var r in n)e.style[r]=n[r]},isIOS:function(){return/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream},isAndroid:function(){return/(android)/i.test(navigator.userAgent)},isTouchDevice:function(){return"ontouchstart"in window||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0},hasCSSAnimation:function(e){if(e){var n=getComputedStyle(e),r=parseFloat(n.getPropertyValue("animation-duration")||"0");return r>0}return!1},hasCSSTransition:function(e){if(e){var n=getComputedStyle(e),r=parseFloat(n.getPropertyValue("transition-duration")||"0");return r>0}return!1},exportCSV:function(e,n){var r=new Blob([e],{type:"application/csv;charset=utf-8;"});if(window.navigator.msSaveOrOpenBlob)navigator.msSaveOrOpenBlob(r,n+".csv");else{var i=document.createElement("a");i.download!==void 0?(i.setAttribute("href",URL.createObjectURL(r)),i.setAttribute("download",n+".csv"),i.style.display="none",document.body.appendChild(i),i.click(),document.body.removeChild(i)):(e="data:text/csv;charset=utf-8,"+e,window.open(encodeURI(e)))}},blockBodyScroll:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"p-overflow-hidden";document.body.style.setProperty("--scrollbar-width",this.calculateBodyScrollbarWidth()+"px"),this.addClass(document.body,e)},unblockBodyScroll:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"p-overflow-hidden";document.body.style.removeProperty("--scrollbar-width"),this.removeClass(document.body,e)}};function kh(t){"@babel/helpers - typeof";return kh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kh(t)}function cY(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function BC(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,hY(r.key),r)}}function dY(t,e,n){return e&&BC(t.prototype,e),n&&BC(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function hY(t){var e=fY(t,"string");return kh(e)=="symbol"?e:String(e)}function fY(t,e){if(kh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(kh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var hM=function(){function t(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:function(){};cY(this,t),this.element=e,this.listener=n}return dY(t,[{key:"bindScrollListener",value:function(){this.scrollableParents=We.getScrollableParents(this.element);for(var n=0;n<this.scrollableParents.length;n++)this.scrollableParents[n].addEventListener("scroll",this.listener)}},{key:"unbindScrollListener",value:function(){if(this.scrollableParents)for(var n=0;n<this.scrollableParents.length;n++)this.scrollableParents[n].removeEventListener("scroll",this.listener)}},{key:"destroy",value:function(){this.unbindScrollListener(),this.element=null,this.listener=null,this.scrollableParents=null}}]),t}();function pY(){var t=new Map;return{on:function(n,r){var i=t.get(n);i?i.push(r):i=[r],t.set(n,i)},off:function(n,r){var i=t.get(n);i&&i.splice(i.indexOf(r)>>>0,1)},emit:function(n,r){var i=t.get(n);i&&i.slice().map(function(o){o(r)})}}}function jC(t,e){return vY(t)||gY(t,e)||M1(t,e)||mY()}function mY(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gY(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return a}}function vY(t){if(Array.isArray(t))return t}function HC(t){return _Y(t)||bY(t)||M1(t)||yY()}function yY(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bY(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function _Y(t){if(Array.isArray(t))return U0(t)}function My(t,e){var n=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=M1(t))||e&&t&&typeof t.length=="number"){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(u){throw u},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var o=!0,s=!1,a;return{s:function(){n=n.call(t)},n:function(){var u=n.next();return o=u.done,u},e:function(u){s=!0,a=u},f:function(){try{!o&&n.return!=null&&n.return()}finally{if(s)throw a}}}}function M1(t,e){if(t){if(typeof t=="string")return U0(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return U0(t,e)}}function U0(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Xd(t){"@babel/helpers - typeof";return Xd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xd(t)}var Ne={equals:function(e,n,r){return r?this.resolveFieldData(e,r)===this.resolveFieldData(n,r):this.deepEquals(e,n)},deepEquals:function(e,n){if(e===n)return!0;if(e&&n&&Xd(e)=="object"&&Xd(n)=="object"){var r=Array.isArray(e),i=Array.isArray(n),o,s,a;if(r&&i){if(s=e.length,s!=n.length)return!1;for(o=s;o--!==0;)if(!this.deepEquals(e[o],n[o]))return!1;return!0}if(r!=i)return!1;var l=e instanceof Date,u=n instanceof Date;if(l!=u)return!1;if(l&&u)return e.getTime()==n.getTime();var c=e instanceof RegExp,d=n instanceof RegExp;if(c!=d)return!1;if(c&&d)return e.toString()==n.toString();var h=Object.keys(e);if(s=h.length,s!==Object.keys(n).length)return!1;for(o=s;o--!==0;)if(!Object.prototype.hasOwnProperty.call(n,h[o]))return!1;for(o=s;o--!==0;)if(a=h[o],!this.deepEquals(e[a],n[a]))return!1;return!0}return e!==e&&n!==n},resolveFieldData:function(e,n){if(!e||!n)return null;try{var r=e[n];if(this.isNotEmpty(r))return r}catch{}if(Object.keys(e).length){if(this.isFunction(n))return n(e);if(n.indexOf(".")===-1)return e[n];for(var i=n.split("."),o=e,s=0,a=i.length;s<a;++s){if(o==null)return null;o=o[i[s]]}return o}return null},getItemValue:function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return this.isFunction(e)?e.apply(void 0,r):e},filter:function(e,n,r){var i=[];if(e){var o=My(e),s;try{for(o.s();!(s=o.n()).done;){var a=s.value,l=My(n),u;try{for(l.s();!(u=l.n()).done;){var c=u.value;if(String(this.resolveFieldData(a,c)).toLowerCase().indexOf(r.toLowerCase())>-1){i.push(a);break}}}catch(d){l.e(d)}finally{l.f()}}}catch(d){o.e(d)}finally{o.f()}}return i},reorderArray:function(e,n,r){e&&n!==r&&(r>=e.length&&(r%=e.length,n%=e.length),e.splice(r,0,e.splice(n,1)[0]))},findIndexInList:function(e,n){var r=-1;if(n){for(var i=0;i<n.length;i++)if(n[i]===e){r=i;break}}return r},contains:function(e,n){if(e!=null&&n&&n.length){var r=My(n),i;try{for(r.s();!(i=r.n()).done;){var o=i.value;if(this.equals(e,o))return!0}}catch(s){r.e(s)}finally{r.f()}}return!1},insertIntoOrderedArray:function(e,n,r,i){if(r.length>0){for(var o=!1,s=0;s<r.length;s++){var a=this.findIndexInList(r[s],i);if(a>n){r.splice(s,0,e),o=!0;break}}o||r.push(e)}else r.push(e)},removeAccents:function(e){return e&&e.search(/[\xC0-\xFF]/g)>-1&&(e=e.replace(/[\xC0-\xC5]/g,"A").replace(/[\xC6]/g,"AE").replace(/[\xC7]/g,"C").replace(/[\xC8-\xCB]/g,"E").replace(/[\xCC-\xCF]/g,"I").replace(/[\xD0]/g,"D").replace(/[\xD1]/g,"N").replace(/[\xD2-\xD6\xD8]/g,"O").replace(/[\xD9-\xDC]/g,"U").replace(/[\xDD]/g,"Y").replace(/[\xDE]/g,"P").replace(/[\xE0-\xE5]/g,"a").replace(/[\xE6]/g,"ae").replace(/[\xE7]/g,"c").replace(/[\xE8-\xEB]/g,"e").replace(/[\xEC-\xEF]/g,"i").replace(/[\xF1]/g,"n").replace(/[\xF2-\xF6\xF8]/g,"o").replace(/[\xF9-\xFC]/g,"u").replace(/[\xFE]/g,"p").replace(/[\xFD\xFF]/g,"y")),e},getVNodeProp:function(e,n){if(e){var r=e.props;if(r){var i=n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),o=Object.prototype.hasOwnProperty.call(r,i)?i:n;return e.type.extends.props[n].type===Boolean&&r[o]===""?!0:r[o]}}return null},toFlatCase:function(e){return this.isString(e)?e.replace(/(-|_)/g,"").toLowerCase():e},toKebabCase:function(e){return this.isString(e)?e.replace(/(_)/g,"-").replace(/[A-Z]/g,function(n,r){return r===0?n:"-"+n.toLowerCase()}).toLowerCase():e},toCapitalCase:function(e){return this.isString(e,{empty:!1})?e[0].toUpperCase()+e.slice(1):e},isEmpty:function(e){return e==null||e===""||Array.isArray(e)&&e.length===0||!(e instanceof Date)&&Xd(e)==="object"&&Object.keys(e).length===0},isNotEmpty:function(e){return!this.isEmpty(e)},isFunction:function(e){return!!(e&&e.constructor&&e.call&&e.apply)},isObject:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return e instanceof Object&&e.constructor===Object&&(n||Object.keys(e).length!==0)},isDate:function(e){return e instanceof Date&&e.constructor===Date},isArray:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return Array.isArray(e)&&(n||e.length!==0)},isString:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return typeof e=="string"&&(n||e!=="")},isPrintableCharacter:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return this.isNotEmpty(e)&&e.length===1&&e.match(/\S| /)},findLast:function(e,n){var r;if(this.isNotEmpty(e))try{r=e.findLast(n)}catch{r=HC(e).reverse().find(n)}return r},findLastIndex:function(e,n){var r=-1;if(this.isNotEmpty(e))try{r=e.findLastIndex(n)}catch{r=e.lastIndexOf(HC(e).reverse().find(n))}return r},sort:function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,i=arguments.length>3?arguments[3]:void 0,o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:1,s=this.compare(e,n,i,r),a=r;return(this.isEmpty(e)||this.isEmpty(n))&&(a=o===1?r:o),a*s},compare:function(e,n,r){var i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:1,o=-1,s=this.isEmpty(e),a=this.isEmpty(n);return s&&a?o=0:s?o=i:a?o=-i:typeof e=="string"&&typeof n=="string"?o=r(e,n):o=e<n?-1:e>n?1:0,o},localeComparator:function(){return new Intl.Collator(void 0,{numeric:!0}).compare},nestedKeys:function(){var e=this,n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";return Object.entries(n).reduce(function(i,o){var s=jC(o,2),a=s[0],l=s[1],u=r?"".concat(r,".").concat(a):a;return e.isObject(l)?i=i.concat(e.nestedKeys(l,u)):i.push(u),i},[])},stringify:function(e){var n=this,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:2,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,o=" ".repeat(i),s=" ".repeat(i+r);return this.isArray(e)?"["+e.map(function(a){return n.stringify(a,r,i+r)}).join(", ")+"]":this.isDate(e)?e.toISOString():this.isFunction(e)?e.toString():this.isObject(e)?`{
`+Object.entries(e).map(function(a){var l=jC(a,2),u=l[0],c=l[1];return"".concat(s).concat(u,": ").concat(n.stringify(c,r,i+r))}).join(`,
`)+`
`.concat(o)+"}":JSON.stringify(e)}},WC=0;function pc(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"pv_id_";return WC++,"".concat(t).concat(WC)}function wY(t){return IY(t)||SY(t)||EY(t)||TY()}function TY(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function EY(t,e){if(t){if(typeof t=="string")return q0(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return q0(t,e)}}function SY(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function IY(t){if(Array.isArray(t))return q0(t)}function q0(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function CY(){var t=[],e=function(a,l){var u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:999,c=i(a,l,u),d=c.value+(c.key===a?0:u)+1;return t.push({key:a,value:d}),d},n=function(a){t=t.filter(function(l){return l.value!==a})},r=function(a,l){return i(a,l).value},i=function(a,l){var u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;return wY(t).reverse().find(function(c){return l?!0:c.key===a})||{key:a,value:u}},o=function(a){return a&&parseInt(a.style.zIndex,10)||0};return{get:o,set:function(a,l,u){l&&(l.style.zIndex=String(e(a,!0,u)))},clear:function(a){a&&(n(o(a)),a.style.zIndex="")},getCurrent:function(a){return r(a,!0)}}}var zu=CY();function Rh(t){"@babel/helpers - typeof";return Rh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rh(t)}function zC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function KC(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?zC(Object(n),!0).forEach(function(r){AY(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):zC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function AY(t,e,n){return e=PY(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function PY(t){var e=OY(t,"string");return Rh(e)=="symbol"?e:String(e)}function OY(t,e){if(Rh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Rh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function kY(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;eo()?Vt(t):e?t():tr(t)}var RY=0;function fM(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=ie(!1),r=ie(t),i=ie(null),o=We.isClient()?window.document:void 0,s=e.document,a=s===void 0?o:s,l=e.immediate,u=l===void 0?!0:l,c=e.manual,d=c===void 0?!1:c,h=e.name,p=h===void 0?"style_".concat(++RY):h,m=e.id,g=m===void 0?void 0:m,v=e.media,A=v===void 0?void 0:v,I=e.nonce,S=I===void 0?void 0:I,T=e.props,N=T===void 0?{}:T,R=function(){},C=function(w){var k=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(a){var x=KC(KC({},N),k),O=x.name||p,q=x.id||g,V=x.nonce||S;i.value=a.querySelector('style[data-primevue-style-id="'.concat(O,'"]'))||a.getElementById(q)||a.createElement("style"),i.value.isConnected||(r.value=w||t,We.setAttributes(i.value,{type:"text/css",id:q,media:A,nonce:V}),a.head.appendChild(i.value),We.setAttribute(i.value,"data-primevue-style-id",p),We.setAttributes(i.value,x)),!n.value&&(R=pn(r,function(F){i.value.textContent=F},{immediate:!0}),n.value=!0)}},E=function(){!a||!n.value||(R(),We.isExist(i.value)&&a.head.removeChild(i.value),n.value=!1)};return u&&!d&&kY(C),{id:g,name:p,css:r,unload:E,load:C,isLoaded:_g(n)}}function xh(t){"@babel/helpers - typeof";return xh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xh(t)}function xY(t,e){return LY(t)||MY(t,e)||NY(t,e)||DY()}function DY(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function NY(t,e){if(t){if(typeof t=="string")return GC(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return GC(t,e)}}function GC(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function MY(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return a}}function LY(t){if(Array.isArray(t))return t}function YC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ly(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?YC(Object(n),!0).forEach(function(r){VY(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):YC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function VY(t,e,n){return e=$Y(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $Y(t){var e=FY(t,"string");return xh(e)=="symbol"?e:String(e)}function FY(t,e){if(xh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(xh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var UY=`
.p-hidden-accessible {
    border: 0;
    clip: rect(0 0 0 0);
    height: 1px;
    margin: -1px;
    overflow: hidden;
    padding: 0;
    position: absolute;
    width: 1px;
}

.p-hidden-accessible input,
.p-hidden-accessible select {
    transform: scale(0);
}

.p-overflow-hidden {
    overflow: hidden;
    padding-right: var(--scrollbar-width);
}
`,qY={},BY={},dr={name:"base",css:UY,classes:qY,inlineStyles:BY,loadStyle:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return this.css?fM(this.css,Ly({name:this.name},e)):{}},getStyleSheet:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.css){var r=Object.entries(n).reduce(function(i,o){var s=xY(o,2),a=s[0],l=s[1];return i.push("".concat(a,'="').concat(l,'"'))&&i},[]).join(" ");return'<style type="text/css" data-primevue-style-id="'.concat(this.name,'" ').concat(r,">").concat(this.css).concat(e,"</style>")}return""},extend:function(e){return Ly(Ly({},this),{},{css:void 0},e)}},jY={root:function(e){var n=e.props,r=e.instance;return["p-badge p-component",{"p-badge-no-gutter":Ne.isNotEmpty(n.value)&&String(n.value).length===1,"p-badge-dot":Ne.isEmpty(n.value)&&!r.$slots.default,"p-badge-lg":n.size==="large","p-badge-xl":n.size==="xlarge","p-badge-info":n.severity==="info","p-badge-success":n.severity==="success","p-badge-warning":n.severity==="warning","p-badge-danger":n.severity==="danger","p-badge-secondary":n.severity==="secondary","p-badge-contrast":n.severity==="contrast"}]}},HY=dr.extend({name:"badge",classes:jY});function Dh(t){"@babel/helpers - typeof";return Dh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Dh(t)}function XC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function WY(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?XC(Object(n),!0).forEach(function(r){zY(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):XC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function zY(t,e,n){return e=KY(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function KY(t){var e=GY(t,"string");return Dh(e)=="symbol"?e:String(e)}function GY(t,e){if(Dh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Dh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Vy=dr.extend({name:"common",loadGlobalStyle:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return fM(e,WY({name:"global"},n))}});function Nh(t){"@babel/helpers - typeof";return Nh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nh(t)}function YY(t){return gM(t)||XY(t)||mM(t)||pM()}function XY(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function _p(t,e){return gM(t)||QY(t,e)||mM(t,e)||pM()}function pM(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mM(t,e){if(t){if(typeof t=="string")return QC(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return QC(t,e)}}function QC(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function QY(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return a}}function gM(t){if(Array.isArray(t))return t}function JC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Tn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?JC(Object(n),!0).forEach(function(r){Kp(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):JC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Kp(t,e,n){return e=JY(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function JY(t){var e=ZY(t,"string");return Nh(e)=="symbol"?e:String(e)}function ZY(t,e){if(Nh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Nh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var si={name:"BaseComponent",props:{pt:{type:Object,default:void 0},ptOptions:{type:Object,default:void 0},unstyled:{type:Boolean,default:void 0}},inject:{$parentInstance:{default:void 0}},watch:{isUnstyled:{immediate:!0,handler:function(e){if(!e){var n,r;Vy.loadStyle({nonce:(n=this.$primevueConfig)===null||n===void 0||(n=n.csp)===null||n===void 0?void 0:n.nonce}),this.$options.style&&this.$style.loadStyle({nonce:(r=this.$primevueConfig)===null||r===void 0||(r=r.csp)===null||r===void 0?void 0:r.nonce})}}}},beforeCreate:function(){var e,n,r,i,o,s,a,l,u,c,d,h=(e=this.pt)===null||e===void 0?void 0:e._usept,p=h?(n=this.pt)===null||n===void 0||(n=n.originalValue)===null||n===void 0?void 0:n[this.$.type.name]:void 0,m=h?(r=this.pt)===null||r===void 0||(r=r.value)===null||r===void 0?void 0:r[this.$.type.name]:this.pt;(i=m||p)===null||i===void 0||(i=i.hooks)===null||i===void 0||(o=i.onBeforeCreate)===null||o===void 0||o.call(i);var g=(s=this.$primevueConfig)===null||s===void 0||(s=s.pt)===null||s===void 0?void 0:s._usept,v=g?(a=this.$primevue)===null||a===void 0||(a=a.config)===null||a===void 0||(a=a.pt)===null||a===void 0?void 0:a.originalValue:void 0,A=g?(l=this.$primevue)===null||l===void 0||(l=l.config)===null||l===void 0||(l=l.pt)===null||l===void 0?void 0:l.value:(u=this.$primevue)===null||u===void 0||(u=u.config)===null||u===void 0?void 0:u.pt;(c=A||v)===null||c===void 0||(c=c[this.$.type.name])===null||c===void 0||(c=c.hooks)===null||c===void 0||(d=c.onBeforeCreate)===null||d===void 0||d.call(c)},created:function(){this._hook("onCreated")},beforeMount:function(){var e;dr.loadStyle({nonce:(e=this.$primevueConfig)===null||e===void 0||(e=e.csp)===null||e===void 0?void 0:e.nonce}),this._loadGlobalStyles(),this._hook("onBeforeMount")},mounted:function(){this._hook("onMounted")},beforeUpdate:function(){this._hook("onBeforeUpdate")},updated:function(){this._hook("onUpdated")},beforeUnmount:function(){this._hook("onBeforeUnmount")},unmounted:function(){this._hook("onUnmounted")},methods:{_hook:function(e){if(!this.$options.hostName){var n=this._usePT(this._getPT(this.pt,this.$.type.name),this._getOptionValue,"hooks.".concat(e)),r=this._useDefaultPT(this._getOptionValue,"hooks.".concat(e));n==null||n(),r==null||r()}},_mergeProps:function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return Ne.isFunction(e)?e.apply(void 0,r):le.apply(void 0,r)},_loadGlobalStyles:function(){var e,n=this._useGlobalPT(this._getOptionValue,"global.css",this.$params);Ne.isNotEmpty(n)&&Vy.loadGlobalStyle(n,{nonce:(e=this.$primevueConfig)===null||e===void 0||(e=e.csp)===null||e===void 0?void 0:e.nonce})},_getHostInstance:function(e){return e?this.$options.hostName?e.$.type.name===this.$options.hostName?e:this._getHostInstance(e.$parentInstance):e.$parentInstance:void 0},_getPropValue:function(e){var n;return this[e]||((n=this._getHostInstance(this))===null||n===void 0?void 0:n[e])},_getOptionValue:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=Ne.toFlatCase(n).split("."),o=i.shift();return o?Ne.isObject(e)?this._getOptionValue(Ne.getItemValue(e[Object.keys(e).find(function(s){return Ne.toFlatCase(s)===o})||""],r),i.join("."),r):void 0:Ne.getItemValue(e,r)},_getPTValue:function(){var e,n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,s=/./g.test(r)&&!!i[r.split(".")[0]],a=this._getPropValue("ptOptions")||((e=this.$primevueConfig)===null||e===void 0?void 0:e.ptOptions)||{},l=a.mergeSections,u=l===void 0?!0:l,c=a.mergeProps,d=c===void 0?!1:c,h=o?s?this._useGlobalPT(this._getPTClassValue,r,i):this._useDefaultPT(this._getPTClassValue,r,i):void 0,p=s?void 0:this._getPTSelf(n,this._getPTClassValue,r,Tn(Tn({},i),{},{global:h||{}})),m=this._getPTDatasets(r);return u||!u&&p?d?this._mergeProps(d,h,p,m):Tn(Tn(Tn({},h),p),m):Tn(Tn({},p),m)},_getPTSelf:function(){for(var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return le(this._usePT.apply(this,[this._getPT(e,this.$name)].concat(r)),this._usePT.apply(this,[this.$_attrsPT].concat(r)))},_getPTDatasets:function(){var e,n,r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",i="data-pc-",o=r==="root"&&Ne.isNotEmpty((e=this.pt)===null||e===void 0?void 0:e["data-pc-section"]);return r!=="transition"&&Tn(Tn({},r==="root"&&Tn(Kp({},"".concat(i,"name"),Ne.toFlatCase(o?(n=this.pt)===null||n===void 0?void 0:n["data-pc-section"]:this.$.type.name)),o&&Kp({},"".concat(i,"extend"),Ne.toFlatCase(this.$.type.name)))),{},Kp({},"".concat(i,"section"),Ne.toFlatCase(r)))},_getPTClassValue:function(){var e=this._getOptionValue.apply(this,arguments);return Ne.isString(e)||Ne.isArray(e)?{class:e}:e},_getPT:function(e){var n=this,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",i=arguments.length>2?arguments[2]:void 0,o=function(a){var l,u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,c=i?i(a):a,d=Ne.toFlatCase(r),h=Ne.toFlatCase(n.$name);return(l=u?d!==h?c==null?void 0:c[d]:void 0:c==null?void 0:c[d])!==null&&l!==void 0?l:c};return e!=null&&e.hasOwnProperty("_usept")?{_usept:e._usept,originalValue:o(e.originalValue),value:o(e.value)}:o(e,!0)},_usePT:function(e,n,r,i){var o=function(g){return n(g,r,i)};if(e!=null&&e.hasOwnProperty("_usept")){var s,a=e._usept||((s=this.$primevueConfig)===null||s===void 0?void 0:s.ptOptions)||{},l=a.mergeSections,u=l===void 0?!0:l,c=a.mergeProps,d=c===void 0?!1:c,h=o(e.originalValue),p=o(e.value);return h===void 0&&p===void 0?void 0:Ne.isString(p)?p:Ne.isString(h)?h:u||!u&&p?d?this._mergeProps(d,h,p):Tn(Tn({},h),p):p}return o(e)},_useGlobalPT:function(e,n,r){return this._usePT(this.globalPT,e,n,r)},_useDefaultPT:function(e,n,r){return this._usePT(this.defaultPT,e,n,r)},ptm:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return this._getPTValue(this.pt,e,Tn(Tn({},this.$params),n))},ptmi:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return le(this.$_attrsNoPT,this.ptm(e,n))},ptmo:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this._getPTValue(e,n,Tn({instance:this},r),!1)},cx:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return this.isUnstyled?void 0:this._getOptionValue(this.$style.classes,e,Tn(Tn({},this.$params),n))},sx:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(n){var i=this._getOptionValue(this.$style.inlineStyles,e,Tn(Tn({},this.$params),r)),o=this._getOptionValue(Vy.inlineStyles,e,Tn(Tn({},this.$params),r));return[o,i]}}},computed:{globalPT:function(){var e,n=this;return this._getPT((e=this.$primevueConfig)===null||e===void 0?void 0:e.pt,void 0,function(r){return Ne.getItemValue(r,{instance:n})})},defaultPT:function(){var e,n=this;return this._getPT((e=this.$primevueConfig)===null||e===void 0?void 0:e.pt,void 0,function(r){return n._getOptionValue(r,n.$name,Tn({},n.$params))||Ne.getItemValue(r,Tn({},n.$params))})},isUnstyled:function(){var e;return this.unstyled!==void 0?this.unstyled:(e=this.$primevueConfig)===null||e===void 0?void 0:e.unstyled},$params:function(){var e=this._getHostInstance(this)||this.$parent;return{instance:this,props:this.$props,state:this.$data,attrs:this.$attrs,parent:{instance:e,props:e==null?void 0:e.$props,state:e==null?void 0:e.$data,attrs:e==null?void 0:e.$attrs},parentInstance:e}},$style:function(){return Tn(Tn({classes:void 0,inlineStyles:void 0,loadStyle:function(){},loadCustomStyle:function(){}},(this._getHostInstance(this)||{}).$style),this.$options.style)},$primevueConfig:function(){var e;return(e=this.$primevue)===null||e===void 0?void 0:e.config},$name:function(){return this.$options.hostName||this.$.type.name},$_attrsPT:function(){return Object.entries(this.$attrs||{}).filter(function(e){var n=_p(e,1),r=n[0];return r==null?void 0:r.startsWith("pt:")}).reduce(function(e,n){var r=_p(n,2),i=r[0],o=r[1],s=i.split(":"),a=YY(s),l=a.slice(1);return l==null||l.reduce(function(u,c,d,h){return!u[c]&&(u[c]=d===h.length-1?o:{}),u[c]},e),e},{})},$_attrsNoPT:function(){return Object.entries(this.$attrs||{}).filter(function(e){var n=_p(e,1),r=n[0];return!(r!=null&&r.startsWith("pt:"))}).reduce(function(e,n){var r=_p(n,2),i=r[0],o=r[1];return e[i]=o,e},{})}}},eX={name:"BaseBadge",extends:si,props:{value:{type:[String,Number],default:null},severity:{type:String,default:null},size:{type:String,default:null}},style:HY,provide:function(){return{$parentInstance:this}}},vM={name:"Badge",extends:eX,inheritAttrs:!1};function tX(t,e,n,r,i,o){return M(),W("span",le({class:t.cx("root")},t.ptmi("root")),[Te(t.$slots,"default",{},function(){return[z(ze(t.value),1)]})],16)}vM.render=tX;var nX=`
.p-icon {
    display: inline-block;
}

.p-icon-spin {
    -webkit-animation: p-icon-spin 2s infinite linear;
    animation: p-icon-spin 2s infinite linear;
}

@-webkit-keyframes p-icon-spin {
    0% {
        -webkit-transform: rotate(0deg);
        transform: rotate(0deg);
    }
    100% {
        -webkit-transform: rotate(359deg);
        transform: rotate(359deg);
    }
}

@keyframes p-icon-spin {
    0% {
        -webkit-transform: rotate(0deg);
        transform: rotate(0deg);
    }
    100% {
        -webkit-transform: rotate(359deg);
        transform: rotate(359deg);
    }
}
`,rX=dr.extend({name:"baseicon",css:nX});function Mh(t){"@babel/helpers - typeof";return Mh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Mh(t)}function ZC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function eA(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ZC(Object(n),!0).forEach(function(r){iX(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ZC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function iX(t,e,n){return e=oX(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function oX(t){var e=sX(t,"string");return Mh(e)=="symbol"?e:String(e)}function sX(t,e){if(Mh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Mh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ma={name:"BaseIcon",extends:si,props:{label:{type:String,default:void 0},spin:{type:Boolean,default:!1}},style:rX,methods:{pti:function(){var e=Ne.isEmpty(this.label);return eA(eA({},!this.isUnstyled&&{class:["p-icon",{"p-icon-spin":this.spin}]}),{},{role:e?void 0:"img","aria-label":e?void 0:this.label,"aria-hidden":e})}}},Cf={name:"SpinnerIcon",extends:Ma},aX=y("path",{d:"M6.99701 14C5.85441 13.999 4.72939 13.7186 3.72012 13.1832C2.71084 12.6478 1.84795 11.8737 1.20673 10.9284C0.565504 9.98305 0.165424 8.89526 0.041387 7.75989C-0.0826496 6.62453 0.073125 5.47607 0.495122 4.4147C0.917119 3.35333 1.59252 2.4113 2.46241 1.67077C3.33229 0.930247 4.37024 0.413729 5.4857 0.166275C6.60117 -0.0811796 7.76026 -0.0520535 8.86188 0.251112C9.9635 0.554278 10.9742 1.12227 11.8057 1.90555C11.915 2.01493 11.9764 2.16319 11.9764 2.31778C11.9764 2.47236 11.915 2.62062 11.8057 2.73C11.7521 2.78503 11.688 2.82877 11.6171 2.85864C11.5463 2.8885 11.4702 2.90389 11.3933 2.90389C11.3165 2.90389 11.2404 2.8885 11.1695 2.85864C11.0987 2.82877 11.0346 2.78503 10.9809 2.73C9.9998 1.81273 8.73246 1.26138 7.39226 1.16876C6.05206 1.07615 4.72086 1.44794 3.62279 2.22152C2.52471 2.99511 1.72683 4.12325 1.36345 5.41602C1.00008 6.70879 1.09342 8.08723 1.62775 9.31926C2.16209 10.5513 3.10478 11.5617 4.29713 12.1803C5.48947 12.7989 6.85865 12.988 8.17414 12.7157C9.48963 12.4435 10.6711 11.7264 11.5196 10.6854C12.3681 9.64432 12.8319 8.34282 12.8328 7C12.8328 6.84529 12.8943 6.69692 13.0038 6.58752C13.1132 6.47812 13.2616 6.41667 13.4164 6.41667C13.5712 6.41667 13.7196 6.47812 13.8291 6.58752C13.9385 6.69692 14 6.84529 14 7C14 8.85651 13.2622 10.637 11.9489 11.9497C10.6356 13.2625 8.85432 14 6.99701 14Z",fill:"currentColor"},null,-1),lX=[aX];function uX(t,e,n,r,i,o){return M(),W("svg",le({width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t.pti()),lX,16)}Cf.render=uX;function Lh(t){"@babel/helpers - typeof";return Lh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Lh(t)}function tA(t,e){return fX(t)||hX(t,e)||dX(t,e)||cX()}function cX(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function dX(t,e){if(t){if(typeof t=="string")return nA(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return nA(t,e)}}function nA(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function hX(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return a}}function fX(t){if(Array.isArray(t))return t}function rA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Vn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?rA(Object(n),!0).forEach(function(r){B0(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):rA(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function B0(t,e,n){return e=pX(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function pX(t){var e=mX(t,"string");return Lh(e)=="symbol"?e:String(e)}function mX(t,e){if(Lh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Lh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Xt={_getMeta:function(){return[Ne.isObject(arguments.length<=0?void 0:arguments[0])||arguments.length<=0?void 0:arguments[0],Ne.getItemValue(Ne.isObject(arguments.length<=0?void 0:arguments[0])?arguments.length<=0?void 0:arguments[0]:arguments.length<=1?void 0:arguments[1])]},_getConfig:function(e,n){var r,i,o;return(r=(e==null||(i=e.instance)===null||i===void 0?void 0:i.$primevue)||(n==null||(o=n.ctx)===null||o===void 0||(o=o.appContext)===null||o===void 0||(o=o.config)===null||o===void 0||(o=o.globalProperties)===null||o===void 0?void 0:o.$primevue))===null||r===void 0?void 0:r.config},_getOptionValue:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=Ne.toFlatCase(n).split("."),o=i.shift();return o?Ne.isObject(e)?Xt._getOptionValue(Ne.getItemValue(e[Object.keys(e).find(function(s){return Ne.toFlatCase(s)===o})||""],r),i.join("."),r):void 0:Ne.getItemValue(e,r)},_getPTValue:function(){var e,n,r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"",s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,l=function(){var I=Xt._getOptionValue.apply(Xt,arguments);return Ne.isString(I)||Ne.isArray(I)?{class:I}:I},u=((e=r.binding)===null||e===void 0||(e=e.value)===null||e===void 0?void 0:e.ptOptions)||((n=r.$primevueConfig)===null||n===void 0?void 0:n.ptOptions)||{},c=u.mergeSections,d=c===void 0?!0:c,h=u.mergeProps,p=h===void 0?!1:h,m=a?Xt._useDefaultPT(r,r.defaultPT(),l,o,s):void 0,g=Xt._usePT(r,Xt._getPT(i,r.$name),l,o,Vn(Vn({},s),{},{global:m||{}})),v=Xt._getPTDatasets(r,o);return d||!d&&g?p?Xt._mergeProps(r,p,m,g,v):Vn(Vn(Vn({},m),g),v):Vn(Vn({},g),v)},_getPTDatasets:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",r="data-pc-";return Vn(Vn({},n==="root"&&B0({},"".concat(r,"name"),Ne.toFlatCase(e.$name))),{},B0({},"".concat(r,"section"),Ne.toFlatCase(n)))},_getPT:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",r=arguments.length>2?arguments[2]:void 0,i=function(s){var a,l=r?r(s):s,u=Ne.toFlatCase(n);return(a=l==null?void 0:l[u])!==null&&a!==void 0?a:l};return e!=null&&e.hasOwnProperty("_usept")?{_usept:e._usept,originalValue:i(e.originalValue),value:i(e.value)}:i(e)},_usePT:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0,r=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,o=arguments.length>4?arguments[4]:void 0,s=function(v){return r(v,i,o)};if(n!=null&&n.hasOwnProperty("_usept")){var a,l=n._usept||((a=e.$primevueConfig)===null||a===void 0?void 0:a.ptOptions)||{},u=l.mergeSections,c=u===void 0?!0:u,d=l.mergeProps,h=d===void 0?!1:d,p=s(n.originalValue),m=s(n.value);return p===void 0&&m===void 0?void 0:Ne.isString(m)?m:Ne.isString(p)?p:c||!c&&m?h?Xt._mergeProps(e,h,p,m):Vn(Vn({},p),m):m}return s(n)},_useDefaultPT:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,o=arguments.length>4?arguments[4]:void 0;return Xt._usePT(e,n,r,i,o)},_hook:function(e,n,r,i,o,s){var a,l,u="on".concat(Ne.toCapitalCase(n)),c=Xt._getConfig(i,o),d=r==null?void 0:r.$instance,h=Xt._usePT(d,Xt._getPT(i==null||(a=i.value)===null||a===void 0?void 0:a.pt,e),Xt._getOptionValue,"hooks.".concat(u)),p=Xt._useDefaultPT(d,c==null||(l=c.pt)===null||l===void 0||(l=l.directives)===null||l===void 0?void 0:l[e],Xt._getOptionValue,"hooks.".concat(u)),m={el:r,binding:i,vnode:o,prevVnode:s};h==null||h(d,m),p==null||p(d,m)},_mergeProps:function(){for(var e=arguments.length>1?arguments[1]:void 0,n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];return Ne.isFunction(e)?e.apply(void 0,r):le.apply(void 0,r)},_extend:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=function(o,s,a,l,u){var c,d;s._$instances=s._$instances||{};var h=Xt._getConfig(a,l),p=s._$instances[e]||{},m=Ne.isEmpty(p)?Vn(Vn({},n),n==null?void 0:n.methods):{};s._$instances[e]=Vn(Vn({},p),{},{$name:e,$host:s,$binding:a,$modifiers:a==null?void 0:a.modifiers,$value:a==null?void 0:a.value,$el:p.$el||s||void 0,$style:Vn({classes:void 0,inlineStyles:void 0,loadStyle:function(){}},n==null?void 0:n.style),$primevueConfig:h,defaultPT:function(){return Xt._getPT(h==null?void 0:h.pt,void 0,function(v){var A;return v==null||(A=v.directives)===null||A===void 0?void 0:A[e]})},isUnstyled:function(){var v,A;return((v=s.$instance)===null||v===void 0||(v=v.$binding)===null||v===void 0||(v=v.value)===null||v===void 0?void 0:v.unstyled)!==void 0?(A=s.$instance)===null||A===void 0||(A=A.$binding)===null||A===void 0||(A=A.value)===null||A===void 0?void 0:A.unstyled:h==null?void 0:h.unstyled},ptm:function(){var v,A=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",I=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Xt._getPTValue(s.$instance,(v=s.$instance)===null||v===void 0||(v=v.$binding)===null||v===void 0||(v=v.value)===null||v===void 0?void 0:v.pt,A,Vn({},I))},ptmo:function(){var v=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},A=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",I=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return Xt._getPTValue(s.$instance,v,A,I,!1)},cx:function(){var v,A,I=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",S=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return(v=s.$instance)!==null&&v!==void 0&&v.isUnstyled()?void 0:Xt._getOptionValue((A=s.$instance)===null||A===void 0||(A=A.$style)===null||A===void 0?void 0:A.classes,I,Vn({},S))},sx:function(){var v,A=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",I=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,S=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return I?Xt._getOptionValue((v=s.$instance)===null||v===void 0||(v=v.$style)===null||v===void 0?void 0:v.inlineStyles,A,Vn({},S)):void 0}},m),s.$instance=s._$instances[e],(c=(d=s.$instance)[o])===null||c===void 0||c.call(d,s,a,l,u),s["$".concat(e)]=s.$instance,Xt._hook(e,o,s,a,l,u)};return{created:function(o,s,a,l){r("created",o,s,a,l)},beforeMount:function(o,s,a,l){var u,c,d,h,p=Xt._getConfig(s,a);dr.loadStyle({nonce:p==null||(u=p.csp)===null||u===void 0?void 0:u.nonce}),!((c=o.$instance)!==null&&c!==void 0&&c.isUnstyled())&&((d=o.$instance)===null||d===void 0||(d=d.$style)===null||d===void 0||d.loadStyle({nonce:p==null||(h=p.csp)===null||h===void 0?void 0:h.nonce})),r("beforeMount",o,s,a,l)},mounted:function(o,s,a,l){var u,c,d,h,p=Xt._getConfig(s,a);dr.loadStyle({nonce:p==null||(u=p.csp)===null||u===void 0?void 0:u.nonce}),!((c=o.$instance)!==null&&c!==void 0&&c.isUnstyled())&&((d=o.$instance)===null||d===void 0||(d=d.$style)===null||d===void 0||d.loadStyle({nonce:p==null||(h=p.csp)===null||h===void 0?void 0:h.nonce})),r("mounted",o,s,a,l)},beforeUpdate:function(o,s,a,l){r("beforeUpdate",o,s,a,l)},updated:function(o,s,a,l){r("updated",o,s,a,l)},beforeUnmount:function(o,s,a,l){r("beforeUnmount",o,s,a,l)},unmounted:function(o,s,a,l){r("unmounted",o,s,a,l)}}},extend:function(){var e=Xt._getMeta.apply(Xt,arguments),n=tA(e,2),r=n[0],i=n[1];return Vn({extend:function(){var s=Xt._getMeta.apply(Xt,arguments),a=tA(s,2),l=a[0],u=a[1];return Xt.extend(l,Vn(Vn(Vn({},i),i==null?void 0:i.methods),u))}},Xt._extend(r,i))}},gX={root:"p-ink"},vX=dr.extend({name:"ripple",classes:gX}),yX=Xt.extend({style:vX});function bX(t){return EX(t)||TX(t)||wX(t)||_X()}function _X(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function wX(t,e){if(t){if(typeof t=="string")return j0(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return j0(t,e)}}function TX(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function EX(t){if(Array.isArray(t))return j0(t)}function j0(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var vv=yX.extend("ripple",{mounted:function(e){var n,r=e==null||(n=e.$instance)===null||n===void 0?void 0:n.$primevueConfig;r&&r.ripple&&(this.create(e),this.bindEvents(e),e.setAttribute("data-pd-ripple",!0))},unmounted:function(e){this.remove(e)},timeout:void 0,methods:{bindEvents:function(e){e.addEventListener("mousedown",this.onMouseDown.bind(this))},unbindEvents:function(e){e.removeEventListener("mousedown",this.onMouseDown.bind(this))},create:function(e){var n=We.createElement("span",{role:"presentation","aria-hidden":!0,"data-p-ink":!0,"data-p-ink-active":!1,class:!this.isUnstyled()&&this.cx("root"),onAnimationEnd:this.onAnimationEnd.bind(this),"p-bind":this.ptm("root")});e.appendChild(n),this.$el=n},remove:function(e){var n=this.getInk(e);n&&(this.unbindEvents(e),n.removeEventListener("animationend",this.onAnimationEnd),n.remove())},onMouseDown:function(e){var n=this,r=e.currentTarget,i=this.getInk(r);if(!(!i||getComputedStyle(i,null).display==="none")){if(!this.isUnstyled()&&We.removeClass(i,"p-ink-active"),i.setAttribute("data-p-ink-active","false"),!We.getHeight(i)&&!We.getWidth(i)){var o=Math.max(We.getOuterWidth(r),We.getOuterHeight(r));i.style.height=o+"px",i.style.width=o+"px"}var s=We.getOffset(r),a=e.pageX-s.left+document.body.scrollTop-We.getWidth(i)/2,l=e.pageY-s.top+document.body.scrollLeft-We.getHeight(i)/2;i.style.top=l+"px",i.style.left=a+"px",!this.isUnstyled()&&We.addClass(i,"p-ink-active"),i.setAttribute("data-p-ink-active","true"),this.timeout=setTimeout(function(){i&&(!n.isUnstyled()&&We.removeClass(i,"p-ink-active"),i.setAttribute("data-p-ink-active","false"))},401)}},onAnimationEnd:function(e){this.timeout&&clearTimeout(this.timeout),!this.isUnstyled()&&We.removeClass(e.currentTarget,"p-ink-active"),e.currentTarget.setAttribute("data-p-ink-active","false")},getInk:function(e){return e&&e.children?bX(e.children).find(function(n){return We.getAttribute(n,"data-pc-name")==="ripple"}):void 0}}});function Vh(t){"@babel/helpers - typeof";return Vh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vh(t)}function Fs(t,e,n){return e=SX(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function SX(t){var e=IX(t,"string");return Vh(e)=="symbol"?e:String(e)}function IX(t,e){if(Vh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Vh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var CX={root:function(e){var n=e.instance,r=e.props;return["p-button p-component",Fs(Fs(Fs(Fs(Fs(Fs(Fs(Fs({"p-button-icon-only":n.hasIcon&&!r.label&&!r.badge,"p-button-vertical":(r.iconPos==="top"||r.iconPos==="bottom")&&r.label,"p-disabled":n.$attrs.disabled||n.$attrs.disabled===""||r.loading,"p-button-loading":r.loading,"p-button-loading-label-only":r.loading&&!n.hasIcon&&r.label,"p-button-link":r.link},"p-button-".concat(r.severity),r.severity),"p-button-raised",r.raised),"p-button-rounded",r.rounded),"p-button-text",r.text),"p-button-outlined",r.outlined),"p-button-sm",r.size==="small"),"p-button-lg",r.size==="large"),"p-button-plain",r.plain)]},loadingIcon:"p-button-loading-icon pi-spin",icon:function(e){var n=e.props;return["p-button-icon",{"p-button-icon-left":n.iconPos==="left"&&n.label,"p-button-icon-right":n.iconPos==="right"&&n.label,"p-button-icon-top":n.iconPos==="top"&&n.label,"p-button-icon-bottom":n.iconPos==="bottom"&&n.label}]},label:"p-button-label"},AX=dr.extend({name:"button",classes:CX}),PX={name:"BaseButton",extends:si,props:{label:{type:String,default:null},icon:{type:String,default:null},iconPos:{type:String,default:"left"},iconClass:{type:String,default:null},badge:{type:String,default:null},badgeClass:{type:String,default:null},badgeSeverity:{type:String,default:null},loading:{type:Boolean,default:!1},loadingIcon:{type:String,default:void 0},link:{type:Boolean,default:!1},severity:{type:String,default:null},raised:{type:Boolean,default:!1},rounded:{type:Boolean,default:!1},text:{type:Boolean,default:!1},outlined:{type:Boolean,default:!1},size:{type:String,default:null},plain:{type:Boolean,default:!1}},style:AX,provide:function(){return{$parentInstance:this}}},Su={name:"Button",extends:PX,inheritAttrs:!1,methods:{getPTOptions:function(e){var n=e==="root"?this.ptmi:this.ptm;return n(e,{context:{disabled:this.disabled}})}},computed:{disabled:function(){return this.$attrs.disabled||this.$attrs.disabled===""||this.loading},defaultAriaLabel:function(){return this.label?this.label+(this.badge?" "+this.badge:""):this.$attrs.ariaLabel},hasIcon:function(){return this.icon||this.$slots.icon}},components:{SpinnerIcon:Cf,Badge:vM},directives:{ripple:vv}},OX=["aria-label","disabled","data-p-severity"];function kX(t,e,n,r,i,o){var s=Dn("SpinnerIcon"),a=Dn("Badge"),l=Pg("ripple");return Fi((M(),W("button",le({class:t.cx("root"),type:"button","aria-label":o.defaultAriaLabel,disabled:o.disabled},o.getPTOptions("root"),{"data-p-severity":t.severity}),[Te(t.$slots,"default",{},function(){return[t.loading?Te(t.$slots,"loadingicon",{key:0,class:$e([t.cx("loadingIcon"),t.cx("icon")])},function(){return[t.loadingIcon?(M(),W("span",le({key:0,class:[t.cx("loadingIcon"),t.cx("icon"),t.loadingIcon]},t.ptm("loadingIcon")),null,16)):(M(),de(s,le({key:1,class:[t.cx("loadingIcon"),t.cx("icon")],spin:""},t.ptm("loadingIcon")),null,16,["class"]))]}):Te(t.$slots,"icon",{key:1,class:$e([t.cx("icon")])},function(){return[t.icon?(M(),W("span",le({key:0,class:[t.cx("icon"),t.icon,t.iconClass]},t.ptm("icon")),null,16)):ee("",!0)]}),y("span",le({class:t.cx("label")},t.ptm("label")),ze(t.label||" "),17),t.badge?(M(),de(a,le({key:2,value:t.badge,class:t.badgeClass,severity:t.badgeSeverity,unstyled:t.unstyled},t.ptm("badge")),null,16,["value","class","severity","unstyled"])):ee("",!0)]})],16,OX)),[[l]])}Su.render=kX;const at=Me({__name:"CustomButton",props:{class:{},activeClass:{},label:{},url:{},route:{},type:{},style:{type:[Boolean,null,String,Object,Array]},action:{},icon:{},outlined:{type:Boolean},list:{type:Boolean},bold:{type:Boolean},loading:{type:Boolean},form:{}},emits:["click"],setup(t){const e=t,n=te(()=>{switch(e.type){case"primary":return e.outlined?e.list?"button-outlined-list-primary":"button-outlined-primary":"button-primary";case"secondary":return e.outlined?e.list?"button-outlined-list-secondary":"button-outlined-secondary":"button-secondary";case"tertiary":return e.outlined?e.list?"button-outlined-list-tertiary":"button-outlined-tertiary":"button-tertiary";case"neutral":return e.outlined?"button-outlined-neutral":"button-neutral";case"danger":return e.outlined?e.list?"button-outlined-list-danger":"button-outlined-danger":"button-danger";case"green":return e.outlined?"button-outlined-green":"button-green";default:return e.outlined?e.list?"button-outlined-list-primary":"button-outlined-primary":"button-primary"}});return(r,i)=>(M(),de(nY,{class:$e([n.value,"md:mt-0 py-2 px-4",r.list?"flex flex-column justify-center":"",...P(Ya)(e.class)]),activeClass:r.activeClass,url:r.url,route:r.route},{default:J(({class:o})=>[B(P(Su),{class:$e(o),type:r.action??"button",form:r.form,label:r.label,style:ar(r.style),icon:r.icon,loading:r.loading,loadingIcon:"pi pi-sync",onClick:i[0]||(i[0]=kt(s=>r.$emit("click"),["stop"]))},{icon:J(()=>[Te(r.$slots,"icon")]),default:J(()=>[Te(r.$slots,"default")]),_:2},1032,["class","type","form","label","style","icon","loading"])]),_:3},8,["class","activeClass","url","route"]))}}),RX=Me({__name:"NavigationDropDown",props:{isOpen:{type:Boolean},toggle:{type:Function}},setup(t){const e=Ar(),{currentUser:n}=zt(e),{visibleMenuItems:r}=zt(yr());return(i,o)=>(M(),W(Pe,null,[Fi(y("div",{class:"md:hidden w-screen h-screen z-10 bg-neutral-900 opacity-25 fixed top-1/2 start-1/2 transform -translate-x-1/2 -translate-y-1/2 animation",onClick:o[0]||(o[0]=(...s)=>i.toggle&&i.toggle(...s))},null,512),[[Lo,i.isOpen]]),Fi(y("div",{class:"md:hidden absolute z-20 w-3/4 start-1/2 transform -translate-x-1/2 mt-12 sm:mt-2 p-4 py-8 bg-neutral-900 border border-primary-600 rounded-primary",onClick:o[1]||(o[1]=(...s)=>i.toggle&&i.toggle(...s))},[(M(!0),W(Pe,null,ht(P(r),s=>(M(),de(at,{class:"w-full text-lg rounded-none first:rounded-t-primary","active-class":"button-secondary",type:"secondary",outlined:"",list:"",url:s.url,route:s.route,loading:s.loading,label:s.name},null,8,["url","route","loading","label"]))),256)),P(n)?(M(),de(at,{key:0,class:"w-full text-lg rounded-none first:rounded-t-primary","active-class":"button-tertiary",type:"secondary",outlined:"",list:"",route:P(gr).DASHBOARD,label:"Dashboard"},null,8,["route"])):ee("",!0),P(n)?(M(),de(at,{key:1,class:"w-full text-lg rounded-none rounded-b-primary first:rounded-b-primary",outlined:"",list:"",type:"danger",label:"Logout",onClick:P(e).logout},null,8,["onClick"])):(M(),de(at,{key:2,class:"w-full text-lg rounded-none rounded-b-primary first:rounded-b-primary","active-class":"button-primary",type:"primary",outlined:"",list:"",route:P(gr).LOGIN,label:"Login"},null,8,["route"]))],512),[[Lo,i.isOpen]])],64))}}),xX={key:0,class:$e(["flex items-center justify-between flex-wrap gap-3","sm:flex-col","lg:flex-row"])},DX={key:0,class:"flex justify-between"},NX=y("p",null,"Menu",-1),MX=Me({__name:"NavigationMenu",setup(t){const e=Ar(),{currentUser:n,isLogoutLoading:r}=zt(e),{visibleMenuItems:i}=zt(yr()),o=ie(),s=ie(!1),a=ie(!1),l=te(()=>s.value||a.value),u=()=>{s.value=!s.value,s.value&&tr(()=>{var c;(c=o.value)==null||c.scrollIntoView({behavior:"smooth",block:"center"})})};return(c,d)=>P(i).length?(M(),W("div",xX,[(M(!0),W(Pe,null,ht(P(i),h=>(M(),de(at,{class:"hidden sm:flex sm:w-full lg:w-auto grow justify-center","active-class":"button-secondary",type:"secondary",outlined:"",url:h.url,route:h.route,loading:h.loading,label:h.name},null,8,["url","route","loading","label"]))),256)),P(n)?ee("",!0):(M(),de(at,{key:0,class:"hidden sm:flex sm:w-full lg:w-auto grow justify-center","active-class":"button-primary",type:"primary",outlined:"",route:P(gr).LOGIN,label:"Login"},null,8,["route"])),P(n)?(M(),de(at,{key:1,class:"hidden sm:flex sm:w-full lg:w-auto grow justify-center",type:"danger",outlined:"",loading:P(r),onClick:P(e).logout,label:"Logout"},null,8,["loading","onClick"])):ee("",!0),y("div",{ref_key:"dropdown",ref:o,class:"dropdown absolute sm:hidden w-full left-0 top-5 flex justify-end"},[y("div",{class:"fixed w-full px-10",onMouseover:d[0]||(d[0]=h=>a.value=!0),onMouseleave:d[1]||(d[1]=h=>a.value=!1)},[y("div",{class:$e(["flex animation",s.value?"justify-center":"justify-end"])},[B(at,{class:$e(["bg-black bg-opacity-50",s.value?"w-full":"w-fit hover:w-full"]),outlined:"",icon:l.value?void 0:"pi pi-align-justify",onClick:u},{default:J(()=>[l.value?(M(),W("div",DX,[y("i",{class:$e(["pi pi-angle-down animation place-self-center mr-2",{"rotate-180":s.value}])},null,2),NX])):ee("",!0)]),_:1},8,["class","icon"])],2)],32),B(RX,{"is-open":s.value,toggle:()=>s.value=!s.value},null,8,["is-open","toggle"])],512)])):ee("",!0)}}),LX={class:$e(["sm:fixed sm:right-0 sm:mt-0 sm:top-5","md:absolute","lg:top-0 lg:right-auto","w-fit md:w-1/3","mb-8 py-8 bg-transparent text-neutral-300","sm:mt-8 sm:mb-0 sm:p-4 sm:bg-neutral-900 sm:bg-opacity-50 sm:rounded-primary sm:rounded-e-none","lg:px-8 lg:mt-0 lg:rounded-br-primary lg:rounded-t-none"])},VX={key:0,class:"hidden sm:flex justify-center mb-4"},$X={class:"hidden md:block w-4/5 space-y-2"},FX={class:"hidden font-semibold text-base md:first:block lg:block first:font-bold first:text-lg"},UX={class:"ms-3 flex items-center justify-center w-full md:w-3/5 lg:w-1/5"},qX={key:1},BX={class:"hidden lg:grid col-span-5 space-y-2 mb-5"},jX={class:"font-semibold text-base first:font-bold first:text-lg"},HX=Me({__name:"NavigationCard",setup(t){const e=Dg(),{currentUser:n}=zt(Ar()),{content:r}=zt(yr());return(i,o)=>{const s=Dn("RouterLink");return M(),W("div",LX,[P(n)?(M(),W("div",VX,[y("div",$X,[(M(!0),W(Pe,null,ht(P(r).headerDescriptionUser,a=>(M(),W("p",FX,ze(a.replace("%USER%",P(n).firstName+(P(n).lastName?" "+P(n).lastName:""))),1))),256))]),y("div",UX,[B(s,{to:{name:P(gr).DASHBOARD}},{default:J(()=>[y("i",{class:$e(["pi pi-user px-2 py-1 border rounded-primary border-secondary-600 text-neutral-300 animation-scale",{"bg-secondary-600 bg-opacity-75":P(e).name===P(gr).DASHBOARD}]),style:{"font-size":"3rem"}},null,2)]),_:1},8,["to"])])])):(M(),W("div",qX,[y("div",BX,[(M(!0),W(Pe,null,ht(P(r).headerDescriptionGuest,a=>(M(),W("p",jX,ze(a),1))),256))])])),B(MX)])}}}),WX={class:"sm:flex sm:items-start sm:justify-between mb-20"},zX={class:"w-full sm:w-1/3 lg:flex lg:justify-end"},KX=Me({__name:"Header",setup(t){return(e,n)=>(M(),W("div",WX,[B(qC,{class:"hidden sm:block"}),y("div",zX,[B(HX)]),B(qC,{class:"sm:hidden"})]))}}),GX={class:"min-h-screen bg-gradient-to-b from-primary-900 to-black via-neutral-800"},YX={class:$e(["mx-0 sm:mx-16 px-5 pb-5 sm:p-14 rounded-b-primary","text-white bg-gradient-to-b from-transparent from-10% via-neutral-900 to-black","bg-opacity-50 border-opacity-100"])},La=Me({__name:"Page",props:{scrollToContent:{type:Boolean,required:!1,default:!0}},setup(t){const e=t,n=Dg(),r=ie(),i=()=>{e.scrollToContent&&Bp(r.value)};return pn(()=>n.fullPath,()=>{i()}),Vt(()=>{i()}),(o,s)=>(M(),W(Pe,null,[y("div",GX,[y("div",YX,[y("header",null,[o.$slots.header?Te(o.$slots,"header",{key:0}):(M(),de(KX,{key:1}))]),y("main",null,[y("div",{ref_key:"content",ref:r},[Te(o.$slots,"content")],512)])])]),y("footer",null,[o.$slots.footer?Te(o.$slots,"footer",{key:0}):(M(),de(qG,{key:1}))])],64))}});function XX(t){return tf()?(vg(t),!0):!1}function H0(t){return typeof t=="function"?t():P(t)}const QX=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;function JX(t,e){var n;if(typeof t=="number")return t+e;const r=((n=t.match(/^-?\d+\.?\d*/))==null?void 0:n[0])||"",i=t.slice(r.length),o=Number.parseFloat(r)+e;return Number.isNaN(o)?t:o+i}const yM=QX?window:void 0;function ZX(){const t=ie(!1),e=eo();return e&&Vt(()=>{t.value=!0},e),t}function eQ(t){const e=ZX();return te(()=>(e.value,!!t()))}function sd(t,e={}){const{window:n=yM}=e,r=eQ(()=>n&&"matchMedia"in n&&typeof n.matchMedia=="function");let i;const o=ie(!1),s=u=>{o.value=u.matches},a=()=>{i&&("removeEventListener"in i?i.removeEventListener("change",s):i.removeListener(s))},l=j_(()=>{r.value&&(a(),i=n.matchMedia(H0(t)),"addEventListener"in i?i.addEventListener("change",s):i.addListener(s),o.value=i.matches)});return XX(()=>{l(),a(),i=void 0}),o}const Lc={sm:640,md:768,lg:1024,xl:1280,"2xl":1536};function Vc(t,e={}){function n(c,d){let h=H0(t[H0(c)]);return d!=null&&(h=JX(h,d)),typeof h=="number"&&(h=`${h}px`),h}const{window:r=yM,strategy:i="min-width"}=e;function o(c){return r?r.matchMedia(c).matches:!1}const s=c=>sd(()=>`(min-width: ${n(c)})`,e),a=c=>sd(()=>`(max-width: ${n(c)})`,e),l=Object.keys(t).reduce((c,d)=>(Object.defineProperty(c,d,{get:()=>i==="min-width"?s(d):a(d),enumerable:!0,configurable:!0}),c),{});function u(){const c=Object.keys(t).map(d=>[d,s(d)]);return te(()=>c.filter(([,d])=>d.value).map(([d])=>d))}return Object.assign(l,{greaterOrEqual:s,smallerOrEqual:a,greater(c){return sd(()=>`(min-width: ${n(c,.1)})`,e)},smaller(c){return sd(()=>`(max-width: ${n(c,-.1)})`,e)},between(c,d){return sd(()=>`(min-width: ${n(c)}) and (max-width: ${n(d,-.1)})`,e)},isGreater(c){return o(`(min-width: ${n(c,.1)})`)},isGreaterOrEqual(c){return o(`(min-width: ${n(c)})`)},isSmaller(c){return o(`(max-width: ${n(c,-.1)})`)},isSmallerOrEqual(c){return o(`(max-width: ${n(c)})`)},isInBetween(c,d){return o(`(min-width: ${n(c)}) and (max-width: ${n(d,-.1)})`)},current:u,active(){const c=u();return te(()=>c.value.length===0?"":c.value.at(-1))}})}var tQ={root:function(e){var n=e.props;return["p-tag p-component",{"p-tag-info":n.severity==="info","p-tag-success":n.severity==="success","p-tag-warning":n.severity==="warning","p-tag-danger":n.severity==="danger","p-tag-secondary":n.severity==="secondary","p-tag-contrast":n.severity==="contrast","p-tag-rounded":n.rounded}]},icon:"p-tag-icon",value:"p-tag-value"},nQ=dr.extend({name:"tag",classes:tQ}),rQ={name:"BaseTag",extends:si,props:{value:null,severity:null,rounded:Boolean,icon:String},style:nQ,provide:function(){return{$parentInstance:this}}},W0={name:"Tag",extends:rQ,inheritAttrs:!1};function iQ(t,e,n,r,i,o){return M(),W("span",le({class:t.cx("root")},t.ptmi("root")),[t.$slots.icon?(M(),de(xn(t.$slots.icon),le({key:0,class:t.cx("icon")},t.ptm("icon")),null,16,["class"])):t.icon?(M(),W("span",le({key:1,class:[t.cx("icon"),t.icon]},t.ptm("icon")),null,16)):ee("",!0),t.value||t.$slots.default?Te(t.$slots,"default",{key:2},function(){return[y("span",le({class:t.cx("value")},t.ptm("value")),ze(t.value),17)]}):ee("",!0)],16)}W0.render=iQ;const oQ={class:"flex flex-col"},sQ={class:"flex justify-between"},aQ={class:"xl:flex"},lQ={key:0,class:"flex flex-wrap gap-x-2"},uQ=["src"],cQ=["href"],dQ={key:3,class:"flex flex-wrap gap-2"},hQ={key:1,class:"flex gap-2"},fQ=["src"],pQ={key:0,class:"xl:mt-2"},Gn=Me({__name:"Bubble",props:{title:{},subTitle:{},tags:{},url:{},route:{},description:{},avatar:{},loading:{type:Boolean},clickable:{type:Boolean},isCollapsed:{type:Boolean},titleProps:{},subTitleProps:{},descriptionProps:{}},emits:["click"],setup(t,{emit:e}){const n=t,r=e,o=Vc(Lc).greaterOrEqual("md"),s=()=>{n.clickable&&r("click")};return(a,l)=>{const u=Dn("RouterLink");return M(),W("div",{class:$e(["background-gray-light rounded-secondary p-5",{"md:p-10":!a.isCollapsed,"hover:bg-opacity-30":!!a.url,"animate-pulse":!!a.loading,"cursor-pointer":!!a.clickable&&!!a.isCollapsed}])},[y("div",{class:$e(["group/bubble flex justify-between",{"cursor-pointer":!!a.clickable&&!a.isCollapsed}]),onClick:s},[y("div",oQ,[y("div",sQ,[y("div",aQ,[a.url||a.clickable?(M(),W("div",lQ,[a.avatar?(M(),W("img",{key:0,class:"rounded-full h-12 w-12",src:a.avatar},null,8,uQ)):ee("",!0),a.route?(M(),de(u,{key:1,class:$e(["text-2xl font-bold mb-2",P(o)?"!no-underline group-hover/bubble:!underline":"!underline group-hover/bubble:!no-underline"]),to:{name:a.route}},{default:J(()=>[y("h2",null,ze(a.title),1)]),_:1},8,["class","to"])):(M(),W("a",{key:2,class:$e(["text-2xl font-bold mb-2",P(o)?"!no-underline group-hover/bubble:!underline":"!underline group-hover/bubble:!no-underline"]),href:a.url},[y("h2",null,ze(a.title),1)],10,cQ)),a.tags?(M(),W("div",dQ,[(M(!0),W(Pe,null,ht(a.tags,c=>(M(),de(P(W0),{class:"h-fit p-2",value:c.value,severity:c.severity,rounded:c.rounded!==!1,icon:c.icon},null,8,["value","severity","rounded","icon"]))),256))])):ee("",!0)])):a.title?(M(),W("div",hQ,[a.avatar?(M(),W("img",{key:0,class:"rounded-full h-12 w-12",src:a.avatar},null,8,fQ)):ee("",!0),y("h2",le({class:"text-2xl font-bold mb-2 xl:whitespace-nowrap"},a.titleProps),[z(ze(a.title)+" ",1),a.tags?(M(!0),W(Pe,{key:0},ht(a.tags,c=>(M(),de(P(W0),{class:"ms-2",value:c.value,severity:c.severity,rounded:c.rounded!==!1,icon:c.icon},null,8,["value","severity","rounded","icon"]))),256)):ee("",!0)],16)])):ee("",!0),a.subTitle?(M(),W("p",le({key:2,class:"text-sm text-neutral-300 mt-2 mb-2 xl:ms-2 xl:mt-2 xl:whitespace-nowrap"},a.subTitleProps),ze(a.subTitle),17)):ee("",!0)])]),a.description&&!a.isCollapsed?(M(),W("div",pQ,[(M(!0),W(Pe,null,ht(Array.isArray(a.description)?a.description:[a.description],c=>(M(),W("p",le({class:"text-neutral-400 mb-2",ref_for:!0},a.descriptionProps),ze(c),17))),256))])):ee("",!0)]),Te(a.$slots,"right")],2),a.isCollapsed?ee("",!0):Te(a.$slots,"default",{key:0})],2)}}}),ad=Me({__name:"CountdownNumber",props:{time:{},animate:{type:Boolean},direction:{}},setup(t){return(e,n)=>(M(),W("span",{class:$e({"animation ease-in animate-timer-up":e.animate&&e.direction==="up","animation ease-in animate-timer-down":e.animate&&e.direction==="down"})},ze(e.time),3))}}),mQ=(t,e)=>{const n=ie(0),r=T=>(e==="up"?T=Math.abs(T):T=Math.max(0,T),Math.floor(T)),i=te(()=>r(n.value/Nm)),o=te(()=>n.value%Nm),s=te(()=>r(o.value/Dm)),a=te(()=>o.value%Dm),l=te(()=>r(a.value/v0)),u=te(()=>a.value%v0),c=te(()=>r(u.value/g0)),d=te(()=>u.value%g0),h=te(()=>r(d.value/s2)),p=te(()=>i.value===0&&s.value===0&&l.value===0&&c.value===0&&h.value===0),m=te(()=>i.value>0),g=te(()=>i.value>0||s.value>0||p.value),v=te(()=>i.value>0||s.value>0||l.value>0||p.value),A=te(()=>i.value>0||s.value>0||l.value>0||c.value>0||p.value),I=te(()=>i.value>0||s.value>0||l.value>0||c.value>0||h.value>0||p.value),S=()=>{n.value=t-new Date().getTime(),setTimeout(S,1e3)};return Vt(()=>{S()}),{years:i,days:s,hours:l,minutes:c,seconds:h,showYears:m,showDays:g,showHours:v,showMinutes:A,showSeconds:I}},gQ=(t,e,n,r,i,o,s)=>{const a=ie(0),l=te(()=>e.value===0&&n.value===0&&r.value===0&&i.value===0&&o.value===0),u=te(()=>s==="down"?n.value===364:n.value===0),c=te(()=>s==="down"?r.value===23:r.value===0),d=te(()=>s==="down"?i.value===59:i.value===0),h=te(()=>s==="down"?o.value===59:o.value===0),p=te(()=>e.value>=0&&u.value&&c.value&&d.value&&h.value),m=te(()=>n.value>=0&&c.value&&d.value&&h.value),g=te(()=>r.value>=0&&d.value&&h.value),v=te(()=>i.value>=0&&h.value),A=te(()=>!l.value),I=()=>{a.value=t-new Date().getTime(),setTimeout(I,1e3)};return Vt(()=>{I()}),{animateYears:p,animateDays:m,animateHours:g,animateMinutes:v,animateSeconds:A}},vQ={class:"grid grid-flow-col text-center"},yQ={key:0,class:"flex flex-col py-2 px-1 sm:px-2 bg-neutral rounded-box text-neutral-content rounded-primary"},bQ={class:"text-xl sm:text-3xl md:text-3xl lg:text-5xl font-mono font-bold sm:font-normal"},_Q={key:1,class:"flex flex-col py-2 px-1 sm:px-2 bg-neutral rounded-box text-neutral-content rounded-primary"},wQ={class:"text-xl sm:text-3xl md:text-3xl lg:text-5xl font-mono font-bold sm:font-normal"},TQ={key:2,class:"flex flex-col py-2 px-1 sm:px-2 bg-neutral rounded-box text-neutral-content rounded-primary"},EQ={class:"text-xl sm:text-3xl md:text-3xl lg:text-5xl font-mono font-bold sm:font-normal"},SQ={key:3,class:"flex flex-col py-2 px-1 sm:px-2 bg-neutral rounded-box text-neutral-content rounded-primary"},IQ={class:"text-xl sm:text-3xl md:text-3xl lg:text-5xl font-mono font-bold sm:font-normal"},CQ={key:4,class:"flex flex-col py-2 px-1 sm:px-2 bg-neutral rounded-box text-neutral-content rounded-primary"},AQ={class:"text-xl sm:text-3xl md:text-3xl lg:text-5xl font-mono font-bold sm:font-normal"},ru=Me({__name:"Countdown",props:{time:{},direction:{},alignment:{}},setup(t){const e=t,{years:n,days:r,hours:i,minutes:o,seconds:s,showYears:a,showDays:l,showHours:u,showMinutes:c,showSeconds:d}=mQ(e.time,e.direction),{animateYears:h,animateDays:p,animateHours:m,animateMinutes:g,animateSeconds:v}=gQ(e.time,n,r,i,o,s,e.direction);return(A,I)=>(M(),W("div",{class:$e({block:!A.alignment,flex:!!A.alignment,"justify-start":A.alignment==="left","justify-center":A.alignment==="center","justify-end":A.alignment==="right"})},[y("div",vQ,[P(a)?(M(),W("div",yQ,[y("span",bQ,[B(ad,{time:P(n),animate:P(h),direction:A.direction},null,8,["time","animate","direction"])]),z(" years ")])):ee("",!0),P(l)?(M(),W("div",_Q,[y("span",wQ,[B(ad,{time:P(r),animate:P(p),direction:A.direction},null,8,["time","animate","direction"])]),z(" days ")])):ee("",!0),P(u)?(M(),W("div",TQ,[y("span",EQ,[B(ad,{time:P(i),animate:P(m),direction:A.direction},null,8,["time","animate","direction"])]),z(" hrs ")])):ee("",!0),P(c)?(M(),W("div",SQ,[y("span",IQ,[B(ad,{time:P(o),animate:P(g),direction:A.direction},null,8,["time","animate","direction"])]),z(" mins ")])):ee("",!0),P(d)?(M(),W("div",CQ,[y("span",AQ,[B(ad,{time:P(s),animate:P(v),direction:A.direction},null,8,["time","animate","direction"])]),z(" secs ")])):ee("",!0)])],2))}}),PQ={key:0,class:"text-red-600"},yv=Me({__name:"ErrorMessage",props:{name:{},error:{}},setup(t){return(e,n)=>e.error?(M(),W("p",PQ,ze(e.error),1)):ee("",!0)}});var bv=(t=>(t.Required="Required",t.Numeric="Numeric",t.Min="Min",t.Max="Max",t.Email="Email",t.MinLength="MinLength",t.MaxLength="MaxLength",t.EqualTo="EqualTo",t))(bv||{});const Dt={Required:{type:"Required",test:({value:t})=>!!t.length,error:()=>"Required"},Numeric:{type:"Numeric",test:({value:t})=>/^-?[0-9]\d*(\.\d+)?$/.test(t),error:()=>"Must be numeric"},Min:{type:"Min",test:({value:t,minValue:e})=>e?Number(t)>=e:!0,error:({minValue:t})=>`Must be at least ${t}`},Max:{type:"Max",test:({value:t,maxValue:e})=>e?Number(t)<=e:!0,error:({maxValue:t})=>`May not be more than ${t}`},Email:{type:"Email",test:({value:t})=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t),error:()=>"Must be an e-mail address"},MinLength:{type:"MinLength",test:({value:t,minLength:e})=>!t.length||t.length>=(e||3),error:({minLength:t})=>`Must be at least ${t} characters`},MaxLength:{type:"MaxLength",test:({value:t,maxLength:e})=>!t.length||t.length<=(e||50),error:({maxLength:t})=>`May not be more than ${t} characters`},EqualTo:{type:"EqualTo",test:({value:t,compare:e})=>!t.length||!e||t===e.value,error:()=>"Fields don't match",compareError:({compare:t})=>t?"Must be equal to "+(t==null?void 0:t.name):""}},bM=Me({__name:"DeleteButton",emits:["click"],setup(t,{emit:e}){return(n,r)=>(M(),de(at,{class:"w-fit flex justify-center !rounded",type:"danger",outlined:"",icon:"pi pi-trash",onClick:r[0]||(r[0]=i=>n.$emit("click"))}))}}),OQ={class:"m-4"},kQ=["for"],RQ={class:"flex"},ei=Me({__name:"TextField",props:{id:{},name:{},label:{},placeholder:{},modelValue:{},error:{},rules:{},inputProps:{},labelProps:{},minLength:{},maxLength:{},minValue:{},maxValue:{},compare:{},deleteButton:{type:Boolean}},emits:["update:modelValue","update:error","update:delete","click"],setup(t,{expose:e,emit:n}){const r=t,i=te(()=>{const c=r.modelValue;return c?typeof c=="string"?c.endsWith("  ")?c.trim():c:typeof c=="number"?c||0:c||"":r.modelValue||""}),o=te(()=>r.label?r.label+((r.rules??[]).some(c=>c.type===bv.Required)?" *":""):void 0),s=te(()=>r.name+(r.id?"."+r.id:"")),a=c=>{const d=c.target.value;u("update:modelValue",d),l(d)},l=async c=>{const d=c||i.value,h=r.rules||[];typeof r.minValue=="number"&&h.push(Dt.Min),typeof r.maxValue=="number"&&h.push(Dt.Max),typeof r.minLength=="number"&&h.push(Dt.MinLength),typeof r.maxLength=="number"&&h.push(Dt.MaxLength),r.compare&&h.push(Dt.EqualTo);const p={value:d.toString(),minValue:r.minValue,maxValue:r.maxValue,minLength:r.minLength,maxLength:r.maxLength,compare:r.compare},m=h.filter(g=>!g.test(p)).map(g=>{var v;return((v=g.compareError)==null?void 0:v.call(g,p))||g.error(p)})||[];u("update:error",m[0]||"")},u=n;return e({test:l}),(c,d)=>{var h,p;return M(),W("div",OQ,[c.label?(M(),W("label",le({key:0,class:"block text-sm font-bold mb-2",for:s.value},c.labelProps),ze(o.value),17,kQ)):ee("",!0),y("div",RQ,[(M(),de(xn(((h=c.inputProps)==null?void 0:h.type)==="textarea"?"PrimeTextArea":"PrimeInputText"),le({id:s.value,ref:"input",value:i.value,class:"p-input",type:((p=c.inputProps)==null?void 0:p.type)||"text",placeholder:c.placeholder,invalid:!!c.error,onInput:a,onClick:d[0]||(d[0]=kt(m=>u("click"),["stop"]))},c.inputProps),null,16,["id","value","type","placeholder","invalid"])),c.deleteButton?(M(),de(bM,{key:0,class:"h-fit",onClick:d[1]||(d[1]=m=>u("update:delete"))})):ee("",!0)]),c.error?(M(),de(yv,{key:1,name:c.name,error:c.error},null,8,["name","error"])):ee("",!0)])}}}),xQ={class:"flex flex-col gap-2"},iA=Me({__name:"BlogReaction",props:{post:{},reaction:{}},setup(t){const e=t,{publicUser:n,isOwner:r}=zt(Ar()),i=yr(),{deleteBlogReaction:o}=i,{blogReactions:s}=zt(i),a=te(()=>s.value.unread.find(d=>d.id===e.reaction.id)),l=te(()=>{const d=[];return a.value&&d.push({value:"Unread",severity:"warning",rounded:!1}),d}),u=te(()=>n.value&&e.reaction.user.id===n.value.id||r.value),c=()=>{s.value.unread=s.value.unread.filter(d=>d.id!==e.reaction.id)};return(d,h)=>(M(),de(Gn,{id:e.reaction.id,class:$e(["p-5 w-full md:w-3/4",e.post.colorTertiary,e.post.opacityTertiary||"bg-opacity-50",{"border border-yellow-400":a.value},"!rounded-primary"]),titleProps:{class:"!text-base mt-1"},descriptionProps:{class:"text-white"},title:e.reaction.user.displayName||"Unknown user",subTitle:P(b0)(new Date(e.reaction.date)),avatar:e.reaction.user.avatar,description:e.reaction.message,tags:l.value},ur({_:2},[u.value||a.value?{name:"right",fn:J(()=>[y("div",xQ,[u.value&&!e.post.locked?(M(),de(at,{key:0,type:"danger",outlined:"",class:"h-fit",label:"Delete",onClick:h[0]||(h[0]=p=>P(o)(e.reaction.id,e.post))})):ee("",!0),a.value?(M(),de(at,{key:1,type:"tertiary",outlined:"",class:"h-fit",label:"Mark as read",onClick:c})):ee("",!0)])]),key:"0"}:void 0]),1032,["id","class","title","subTitle","avatar","description","tags"]))}}),DQ={class:"grid justify-items-center p-5 gap-5"},NQ=Me({__name:"BlogReactions",props:{post:{}},setup(t){const e=t,{publicUser:n}=zt(Ar()),r=yr(),{content:i}=zt(r),{createBlogReaction:o}=r,s=ie(),a=ie(!1),l=Pr({reaction:{value:"",error:""}}),u=te(()=>[...e.post.reactions].reverse()),c=te(()=>u.value.filter((m,g)=>g<3)),d=te(()=>u.value.filter((m,g)=>g>=3)),h=te(()=>e.post.locked||!n.value),p=async()=>{await s.value.test(),!l.reaction.error&&n.value&&await o(e.post,{userId:n.value.id,postId:e.post.id,message:l.reaction.value,date:new Date})&&(l.reaction.value=""),C7()};return(m,g)=>(M(),W("form",{action:"",onSubmit:kt(p,["prevent"])},[y("div",DQ,[!P(n)||m.post.reactions.filter(v=>v.user.id===P(n).id).length<20?(M(),de(Gn,{key:0,class:$e(["p-5 flex justify-center w-full md:w-3/4","!rounded-primary",m.post.colorTertiary||"bg-secondary-700",m.post.opacityTertiary||"bg-opacity-25"])},{default:J(()=>[B(ei,{class:"w-5/6",id:m.post.id,inputProps:{class:["rounded-primary border-none !placeholder-gray-300",m.post.colorSecondary||m.post.colorPrimary||"bg-secondary-600",m.post.opacitySecondary||"!bg-opacity-20",h.value?"!bg-gray-900 !bg-opacity-50":"focus:!text-white focus:!placeholder-gray-200",{"cursor-pointer":!P(n)&&!m.post.locked}],disabled:h.value},ref_key:"reaction",ref:s,name:"reaction",placeholder:m.post.locked?"Locked for comments":P(n)?"Reply":P(i).blogLoginGuest,modelValue:l.reaction.value,"onUpdate:modelValue":g[0]||(g[0]=v=>l.reaction.value=v),error:l.reaction.error,"onUpdate:error":g[1]||(g[1]=v=>l.reaction.error=v),rules:[P(Dt).Required],onClick:g[2]||(g[2]=()=>!P(n)&&!m.post.locked?P(Z1).push({name:P(gr).LOGIN}):{})},null,8,["id","inputProps","placeholder","modelValue","error","rules"])]),_:1},8,["class"])):ee("",!0),(M(!0),W(Pe,null,ht(c.value,v=>(M(),de(iA,{post:m.post,reaction:v},null,8,["post","reaction"]))),256)),(M(!0),W(Pe,null,ht(d.value,v=>Fi((M(),de(iA,{post:m.post,reaction:v},null,8,["post","reaction"])),[[Lo,a.value]])),256)),m.post.reactions.length>3?(M(),de(at,{key:1,type:"primary",outlined:"",icon:a.value?"pi pi-angle-up":"pi pi-angle-down",label:a.value?"Hide older reactions":"View older reactions",onClick:g[3]||(g[3]=v=>a.value=!a.value)},null,8,["icon","label"])):ee("",!0)])],32))}});var _v={name:"ChevronDownIcon",extends:Ma},MQ=y("path",{d:"M7.01744 10.398C6.91269 10.3985 6.8089 10.378 6.71215 10.3379C6.61541 10.2977 6.52766 10.2386 6.45405 10.1641L1.13907 4.84913C1.03306 4.69404 0.985221 4.5065 1.00399 4.31958C1.02276 4.13266 1.10693 3.95838 1.24166 3.82747C1.37639 3.69655 1.55301 3.61742 1.74039 3.60402C1.92777 3.59062 2.11386 3.64382 2.26584 3.75424L7.01744 8.47394L11.769 3.75424C11.9189 3.65709 12.097 3.61306 12.2748 3.62921C12.4527 3.64535 12.6199 3.72073 12.7498 3.84328C12.8797 3.96582 12.9647 4.12842 12.9912 4.30502C13.0177 4.48162 12.9841 4.662 12.8958 4.81724L7.58083 10.1322C7.50996 10.2125 7.42344 10.2775 7.32656 10.3232C7.22968 10.3689 7.12449 10.3944 7.01744 10.398Z",fill:"currentColor"},null,-1),LQ=[MQ];function VQ(t,e,n,r,i,o){return M(),W("svg",le({width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t.pti()),LQ,16)}_v.render=VQ;var _M={name:"ChevronRightIcon",extends:Ma},$Q=y("path",{d:"M4.38708 13C4.28408 13.0005 4.18203 12.9804 4.08691 12.9409C3.99178 12.9014 3.9055 12.8433 3.83313 12.7701C3.68634 12.6231 3.60388 12.4238 3.60388 12.2161C3.60388 12.0084 3.68634 11.8091 3.83313 11.6622L8.50507 6.99022L3.83313 2.31827C3.69467 2.16968 3.61928 1.97313 3.62287 1.77005C3.62645 1.56698 3.70872 1.37322 3.85234 1.22959C3.99596 1.08597 4.18972 1.00371 4.3928 1.00012C4.59588 0.996539 4.79242 1.07192 4.94102 1.21039L10.1669 6.43628C10.3137 6.58325 10.3962 6.78249 10.3962 6.99022C10.3962 7.19795 10.3137 7.39718 10.1669 7.54416L4.94102 12.7701C4.86865 12.8433 4.78237 12.9014 4.68724 12.9409C4.59212 12.9804 4.49007 13.0005 4.38708 13Z",fill:"currentColor"},null,-1),FQ=[$Q];function UQ(t,e,n,r,i,o){return M(),W("svg",le({width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t.pti()),FQ,16)}_M.render=UQ;var qQ={root:"p-accordion p-component",tab:{root:function(e){var n=e.instance,r=e.index;return["p-accordion-tab",{"p-accordion-tab-active":n.isTabActive(r)}]},header:function(e){var n=e.instance,r=e.tab,i=e.index;return["p-accordion-header",{"p-highlight":n.isTabActive(i),"p-disabled":n.getTabProp(r,"disabled")}]},headerAction:"p-accordion-header-link p-accordion-header-action",headerIcon:"p-accordion-toggle-icon",headerTitle:"p-accordion-header-text",toggleableContent:"p-toggleable-content",content:"p-accordion-content"}},BQ=dr.extend({name:"accordion",classes:qQ}),jQ={name:"BaseAccordion",extends:si,props:{multiple:{type:Boolean,default:!1},activeIndex:{type:[Number,Array],default:null},lazy:{type:Boolean,default:!1},expandIcon:{type:String,default:void 0},collapseIcon:{type:String,default:void 0},tabindex:{type:Number,default:0},selectOnFocus:{type:Boolean,default:!1}},style:BQ,provide:function(){return{$parentInstance:this}}},Jn={name:"Accordion",extends:jQ,inheritAttrs:!1,emits:["update:activeIndex","tab-open","tab-close","tab-click"],data:function(){return{id:this.$attrs.id,d_activeIndex:this.activeIndex}},watch:{"$attrs.id":function(e){this.id=e||pc()},activeIndex:function(e){this.d_activeIndex=e}},mounted:function(){this.id=this.id||pc()},methods:{isAccordionTab:function(e){return e.type.name==="AccordionTab"},isTabActive:function(e){return this.multiple?this.d_activeIndex&&this.d_activeIndex.includes(e):this.d_activeIndex===e},getTabProp:function(e,n){return e.props?e.props[n]:void 0},getKey:function(e,n){return this.getTabProp(e,"header")||n},getTabHeaderActionId:function(e){return"".concat(this.id,"_").concat(e,"_header_action")},getTabContentId:function(e){return"".concat(this.id,"_").concat(e,"_content")},getTabPT:function(e,n,r){var i=this.tabs.length,o={props:e.props||{},parent:{instance:this,props:this.$props,state:this.$data},context:{index:r,count:i,first:r===0,last:r===i-1,active:this.isTabActive(r)}};return le(this.ptm("tab.".concat(n),{tab:o}),this.ptm("accordiontab.".concat(n),{accordiontab:o}),this.ptm("accordiontab.".concat(n),o),this.ptmo(this.getTabProp(e,"pt"),n,o))},onTabClick:function(e,n,r){this.changeActiveIndex(e,n,r),this.$emit("tab-click",{originalEvent:e,index:r})},onTabKeyDown:function(e,n,r){switch(e.code){case"ArrowDown":this.onTabArrowDownKey(e);break;case"ArrowUp":this.onTabArrowUpKey(e);break;case"Home":this.onTabHomeKey(e);break;case"End":this.onTabEndKey(e);break;case"Enter":case"NumpadEnter":case"Space":this.onTabEnterKey(e,n,r);break}},onTabArrowDownKey:function(e){var n=this.findNextHeaderAction(e.target.parentElement.parentElement);n?this.changeFocusedTab(e,n):this.onTabHomeKey(e),e.preventDefault()},onTabArrowUpKey:function(e){var n=this.findPrevHeaderAction(e.target.parentElement.parentElement);n?this.changeFocusedTab(e,n):this.onTabEndKey(e),e.preventDefault()},onTabHomeKey:function(e){var n=this.findFirstHeaderAction();this.changeFocusedTab(e,n),e.preventDefault()},onTabEndKey:function(e){var n=this.findLastHeaderAction();this.changeFocusedTab(e,n),e.preventDefault()},onTabEnterKey:function(e,n,r){this.changeActiveIndex(e,n,r),e.preventDefault()},findNextHeaderAction:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,r=n?e:e.nextElementSibling,i=We.findSingle(r,'[data-pc-section="header"]');return i?We.getAttribute(i,"data-p-disabled")?this.findNextHeaderAction(i.parentElement):We.findSingle(i,'[data-pc-section="headeraction"]'):null},findPrevHeaderAction:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,r=n?e:e.previousElementSibling,i=We.findSingle(r,'[data-pc-section="header"]');return i?We.getAttribute(i,"data-p-disabled")?this.findPrevHeaderAction(i.parentElement):We.findSingle(i,'[data-pc-section="headeraction"]'):null},findFirstHeaderAction:function(){return this.findNextHeaderAction(this.$el.firstElementChild,!0)},findLastHeaderAction:function(){return this.findPrevHeaderAction(this.$el.lastElementChild,!0)},changeActiveIndex:function(e,n,r){if(!this.getTabProp(n,"disabled")){var i=this.isTabActive(r),o=i?"tab-close":"tab-open";this.multiple?i?this.d_activeIndex=this.d_activeIndex.filter(function(s){return s!==r}):this.d_activeIndex?this.d_activeIndex.push(r):this.d_activeIndex=[r]:this.d_activeIndex=this.d_activeIndex===r?null:r,this.$emit("update:activeIndex",this.d_activeIndex),this.$emit(o,{originalEvent:e,index:r})}},changeFocusedTab:function(e,n){if(n&&(We.focus(n),this.selectOnFocus)){var r=parseInt(n.parentElement.parentElement.dataset.pcIndex,10),i=this.tabs[r];this.changeActiveIndex(e,i,r)}}},computed:{tabs:function(){var e=this;return this.$slots.default().reduce(function(n,r){return e.isAccordionTab(r)?n.push(r):r.children&&r.children instanceof Array&&r.children.forEach(function(i){e.isAccordionTab(i)&&n.push(i)}),n},[])}},components:{ChevronDownIcon:_v,ChevronRightIcon:_M},directives:{ripple:vv}};function $h(t){"@babel/helpers - typeof";return $h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$h(t)}function oA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function iu(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?oA(Object(n),!0).forEach(function(r){HQ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):oA(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function HQ(t,e,n){return e=WQ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function WQ(t){var e=zQ(t,"string");return $h(e)=="symbol"?e:String(e)}function zQ(t,e){if($h(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if($h(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var KQ=["data-pc-index","data-p-active"],GQ=["data-p-highlight","data-p-disabled"],YQ=["id","tabindex","aria-disabled","aria-expanded","aria-controls","onClick","onKeydown"],XQ=["id","aria-labelledby"];function QQ(t,e,n,r,i,o){return M(),W("div",le({class:t.cx("root")},t.ptmi("root")),[(M(!0),W(Pe,null,ht(o.tabs,function(s,a){return M(),W("div",le({key:o.getKey(s,a),class:t.cx("tab.root",{tab:s,index:a})},o.getTabPT(s,"root",a),{"data-pc-name":"accordiontab","data-pc-index":a,"data-p-active":o.isTabActive(a)}),[y("div",le({style:o.getTabProp(s,"headerStyle"),class:[t.cx("tab.header",{tab:s,index:a}),o.getTabProp(s,"headerClass")]},iu(iu({},o.getTabProp(s,"headerProps")),o.getTabPT(s,"header",a)),{"data-p-highlight":o.isTabActive(a),"data-p-disabled":o.getTabProp(s,"disabled")}),[y("a",le({id:o.getTabHeaderActionId(a),class:t.cx("tab.headerAction"),tabindex:o.getTabProp(s,"disabled")?-1:t.tabindex,role:"button","aria-disabled":o.getTabProp(s,"disabled"),"aria-expanded":o.isTabActive(a),"aria-controls":o.getTabContentId(a),onClick:function(u){return o.onTabClick(u,s,a)},onKeydown:function(u){return o.onTabKeyDown(u,s,a)}},iu(iu({},o.getTabProp(s,"headeractionprops")),o.getTabPT(s,"headeraction",a))),[s.children&&s.children.headericon?(M(),de(xn(s.children.headericon),{key:0,isTabActive:o.isTabActive(a),active:o.isTabActive(a),index:a},null,8,["isTabActive","active","index"])):o.isTabActive(a)?(M(),de(xn(t.$slots.collapseicon?t.$slots.collapseicon:t.collapseIcon?"span":"ChevronDownIcon"),le({key:1,class:[t.cx("tab.headerIcon"),t.collapseIcon],"aria-hidden":"true"},o.getTabPT(s,"headericon",a)),null,16,["class"])):(M(),de(xn(t.$slots.expandicon?t.$slots.expandicon:t.expandIcon?"span":"ChevronRightIcon"),le({key:2,class:[t.cx("tab.headerIcon"),t.expandIcon],"aria-hidden":"true"},o.getTabPT(s,"headericon",a)),null,16,["class"])),s.props&&s.props.header?(M(),W("span",le({key:3,class:t.cx("tab.headerTitle")},o.getTabPT(s,"headertitle",a)),ze(s.props.header),17)):ee("",!0),s.children&&s.children.header?(M(),de(xn(s.children.header),{key:4})):ee("",!0)],16,YQ)],16,GQ),B(to,le({name:"p-toggleable-content"},o.getTabPT(s,"transition",a)),{default:J(function(){return[!t.lazy||o.isTabActive(a)?Fi((M(),W("div",le({key:0,id:o.getTabContentId(a),style:o.getTabProp(s,"contentStyle"),class:[t.cx("tab.toggleableContent"),o.getTabProp(s,"contentClass")],role:"region","aria-labelledby":o.getTabHeaderActionId(a)},iu(iu({},o.getTabProp(s,"contentProps")),o.getTabPT(s,"toggleablecontent",a))),[y("div",le({class:t.cx("tab.content")},o.getTabPT(s,"content",a)),[(M(),de(xn(s)))],16)],16,XQ)),[[Lo,t.lazy?!0:o.isTabActive(a)]]):ee("",!0)]}),_:2},1040)],16,KQ)}),128))],16)}Jn.render=QQ;var JQ={},ZQ={name:"BaseAccordionTab",extends:si,props:{header:null,headerStyle:null,headerClass:null,headerProps:null,headerActionProps:null,contentStyle:null,contentClass:null,contentProps:null,disabled:Boolean},style:JQ,provide:function(){return{$parentInstance:this}}},Le={name:"AccordionTab",extends:ZQ,inheritAttrs:!1};function eJ(t,e,n,r,i,o){return Te(t.$slots,"default")}Le.render=eJ;var L1={name:"TimesCircleIcon",extends:Ma},tJ=y("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M7 14C5.61553 14 4.26215 13.5895 3.11101 12.8203C1.95987 12.0511 1.06266 10.9579 0.532846 9.67879C0.00303296 8.3997 -0.13559 6.99224 0.134506 5.63437C0.404603 4.2765 1.07129 3.02922 2.05026 2.05026C3.02922 1.07129 4.2765 0.404603 5.63437 0.134506C6.99224 -0.13559 8.3997 0.00303296 9.67879 0.532846C10.9579 1.06266 12.0511 1.95987 12.8203 3.11101C13.5895 4.26215 14 5.61553 14 7C14 8.85652 13.2625 10.637 11.9497 11.9497C10.637 13.2625 8.85652 14 7 14ZM7 1.16667C5.84628 1.16667 4.71846 1.50879 3.75918 2.14976C2.79989 2.79074 2.05222 3.70178 1.61071 4.76768C1.16919 5.83358 1.05367 7.00647 1.27876 8.13803C1.50384 9.26958 2.05941 10.309 2.87521 11.1248C3.69102 11.9406 4.73042 12.4962 5.86198 12.7212C6.99353 12.9463 8.16642 12.8308 9.23232 12.3893C10.2982 11.9478 11.2093 11.2001 11.8502 10.2408C12.4912 9.28154 12.8333 8.15373 12.8333 7C12.8333 5.45291 12.2188 3.96918 11.1248 2.87521C10.0308 1.78125 8.5471 1.16667 7 1.16667ZM4.66662 9.91668C4.58998 9.91704 4.51404 9.90209 4.44325 9.87271C4.37246 9.84333 4.30826 9.8001 4.2544 9.74557C4.14516 9.6362 4.0838 9.48793 4.0838 9.33335C4.0838 9.17876 4.14516 9.0305 4.2544 8.92113L6.17553 7L4.25443 5.07891C4.15139 4.96832 4.09529 4.82207 4.09796 4.67094C4.10063 4.51982 4.16185 4.37563 4.26872 4.26876C4.3756 4.16188 4.51979 4.10066 4.67091 4.09799C4.82204 4.09532 4.96829 4.15142 5.07887 4.25446L6.99997 6.17556L8.92106 4.25446C9.03164 4.15142 9.1779 4.09532 9.32903 4.09799C9.48015 4.10066 9.62434 4.16188 9.73121 4.26876C9.83809 4.37563 9.89931 4.51982 9.90198 4.67094C9.90464 4.82207 9.84855 4.96832 9.74551 5.07891L7.82441 7L9.74554 8.92113C9.85478 9.0305 9.91614 9.17876 9.91614 9.33335C9.91614 9.48793 9.85478 9.6362 9.74554 9.74557C9.69168 9.8001 9.62748 9.84333 9.55669 9.87271C9.4859 9.90209 9.40996 9.91704 9.33332 9.91668C9.25668 9.91704 9.18073 9.90209 9.10995 9.87271C9.03916 9.84333 8.97495 9.8001 8.9211 9.74557L6.99997 7.82444L5.07884 9.74557C5.02499 9.8001 4.96078 9.84333 4.88999 9.87271C4.81921 9.90209 4.74326 9.91704 4.66662 9.91668Z",fill:"currentColor"},null,-1),nJ=[tJ];function rJ(t,e,n,r,i,o){return M(),W("svg",le({width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t.pti()),nJ,16)}L1.render=rJ;var iJ={root:function(e){var n=e.props;return["p-chip p-component",{"p-chip-image":n.image!=null}]},icon:"p-chip-icon",label:"p-chip-text",removeIcon:"p-chip-remove-icon"},oJ=dr.extend({name:"chip",classes:iJ}),sJ={name:"BaseChip",extends:si,props:{label:{type:String,default:null},icon:{type:String,default:null},image:{type:String,default:null},removable:{type:Boolean,default:!1},removeIcon:{type:String,default:void 0}},style:oJ,provide:function(){return{$parentInstance:this}}},wM={name:"Chip",extends:sJ,inheritAttrs:!1,emits:["remove"],data:function(){return{visible:!0}},methods:{onKeydown:function(e){(e.key==="Enter"||e.key==="Backspace")&&this.close(e)},close:function(e){this.visible=!1,this.$emit("remove",e)}},components:{TimesCircleIcon:L1}},aJ=["aria-label"],lJ=["src"];function uJ(t,e,n,r,i,o){return i.visible?(M(),W("div",le({key:0,class:t.cx("root"),"aria-label":t.label},t.ptmi("root")),[Te(t.$slots,"default",{},function(){return[t.image?(M(),W("img",le({key:0,src:t.image},t.ptm("image")),null,16,lJ)):t.$slots.icon?(M(),de(xn(t.$slots.icon),le({key:1,class:t.cx("icon")},t.ptm("icon")),null,16,["class"])):t.icon?(M(),W("span",le({key:2,class:[t.cx("icon"),t.icon]},t.ptm("icon")),null,16)):ee("",!0),t.label?(M(),W("div",le({key:3,class:t.cx("label")},t.ptm("label")),ze(t.label),17)):ee("",!0)]}),t.removable?Te(t.$slots,"removeicon",{key:0,onClick:o.close,onKeydown:o.onKeydown,removeCallback:o.close,keydownCallback:o.onKeydown},function(){return[(M(),de(xn(t.removeIcon?"span":"TimesCircleIcon"),le({tabindex:"0",class:[t.cx("removeIcon"),t.removeIcon],onClick:o.close,onKeydown:o.onKeydown},t.ptm("removeIcon")),null,16,["class","onClick","onKeydown"]))]}):ee("",!0)],16,aJ)):ee("",!0)}wM.render=uJ;const cJ=Me({__name:"BlogPostBullets",props:{bullets:{},alignment:{}},setup(t){return(e,n)=>(M(),W("div",null,[y("div",{class:$e({block:!e.alignment,flex:!!e.alignment,"justify-start":e.alignment==="left","justify-center":e.alignment==="center","justify-end":e.alignment==="right"})},[y("ul",{class:$e(["list-disc",{"ms-5":e.alignment==="left"}])},[(M(!0),W(Pe,null,ht(e.bullets,r=>(M(),W("li",null,ze(r),1))),256))],2)],2)]))}}),dJ={class:"ql-editor"},hJ=["innerHTML"],$y=Me({__name:"BlogPostDescription",props:{description:{}},setup(t){return(e,n)=>(M(),W("div",dJ,[y("div",{innerHTML:e.description},null,8,hJ)]))}});/*!
 * Viewer.js v1.11.6
 * https://fengyuanchen.github.io/viewerjs
 *
 * Copyright 2015-present Chen Fengyuan
 * Released under the MIT license
 *
 * Date: 2023-09-17T03:16:38.052Z
 */function sA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function V1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?sA(Object(n),!0).forEach(function(r){mJ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):sA(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function z0(t){"@babel/helpers - typeof";return z0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},z0(t)}function fJ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function aA(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,TM(r.key),r)}}function pJ(t,e,n){return e&&aA(t.prototype,e),n&&aA(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function mJ(t,e,n){return e=TM(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function gJ(t,e){if(typeof t!="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function TM(t){var e=gJ(t,"string");return typeof e=="symbol"?e:String(e)}var lA={backdrop:!0,button:!0,navbar:!0,title:!0,toolbar:!0,className:"",container:"body",filter:null,fullscreen:!0,inheritedAttributes:["crossOrigin","decoding","isMap","loading","referrerPolicy","sizes","srcset","useMap"],initialCoverage:.9,initialViewIndex:0,inline:!1,interval:5e3,keyboard:!0,focus:!0,loading:!0,loop:!0,minWidth:200,minHeight:100,movable:!0,rotatable:!0,scalable:!0,zoomable:!0,zoomOnTouch:!0,zoomOnWheel:!0,slideOnTouch:!0,toggleOnDblclick:!0,tooltip:!0,transition:!0,zIndex:2015,zIndexInline:0,zoomRatio:.1,minZoomRatio:.01,maxZoomRatio:100,url:"src",ready:null,show:null,shown:null,hide:null,hidden:null,view:null,viewed:null,move:null,moved:null,rotate:null,rotated:null,scale:null,scaled:null,zoom:null,zoomed:null,play:null,stop:null},vJ='<div class="viewer-container" tabindex="-1" touch-action="none"><div class="viewer-canvas"></div><div class="viewer-footer"><div class="viewer-title"></div><div class="viewer-toolbar"></div><div class="viewer-navbar"><ul class="viewer-list" role="navigation"></ul></div></div><div class="viewer-tooltip" role="alert" aria-hidden="true"></div><div class="viewer-button" data-viewer-action="mix" role="button"></div><div class="viewer-player"></div></div>',wv=typeof window<"u"&&typeof window.document<"u",Cs=wv?window:{},Ku=wv&&Cs.document.documentElement?"ontouchstart"in Cs.document.documentElement:!1,$1=wv?"PointerEvent"in Cs:!1,Ct="viewer",Gp="move",EM="switch",Ad="zoom",wp="".concat(Ct,"-active"),yJ="".concat(Ct,"-close"),Yp="".concat(Ct,"-fade"),K0="".concat(Ct,"-fixed"),bJ="".concat(Ct,"-fullscreen"),uA="".concat(Ct,"-fullscreen-exit"),nl="".concat(Ct,"-hide"),_J="".concat(Ct,"-hide-md-down"),wJ="".concat(Ct,"-hide-sm-down"),TJ="".concat(Ct,"-hide-xs-down"),Hi="".concat(Ct,"-in"),Qd="".concat(Ct,"-invisible"),Gu="".concat(Ct,"-loading"),EJ="".concat(Ct,"-move"),cA="".concat(Ct,"-open"),ou="".concat(Ct,"-show"),zn="".concat(Ct,"-transition"),mc="click",G0="dblclick",dA="dragstart",hA="focusin",fA="keydown",Ki="load",pl="error",SJ=Ku?"touchend touchcancel":"mouseup",IJ=Ku?"touchmove":"mousemove",CJ=Ku?"touchstart":"mousedown",pA=$1?"pointerdown":CJ,mA=$1?"pointermove":IJ,gA=$1?"pointerup pointercancel":SJ,vA="resize",lo="transitionend",yA="wheel",bA="ready",_A="show",wA="shown",TA="hide",EA="hidden",SA="view",Fh="viewed",IA="move",CA="moved",AA="rotate",PA="rotated",OA="scale",kA="scaled",RA="zoom",xA="zoomed",DA="play",NA="stop",Jm="".concat(Ct,"Action"),F1=/\s\s*/,Tp=["zoom-in","zoom-out","one-to-one","reset","prev","play","next","rotate-left","rotate-right","flip-horizontal","flip-vertical"];function Uh(t){return typeof t=="string"}var AJ=Number.isNaN||Cs.isNaN;function Fn(t){return typeof t=="number"&&!AJ(t)}function Iu(t){return typeof t>"u"}function gc(t){return z0(t)==="object"&&t!==null}var PJ=Object.prototype.hasOwnProperty;function Cu(t){if(!gc(t))return!1;try{var e=t.constructor,n=e.prototype;return e&&n&&PJ.call(n,"isPrototypeOf")}catch{return!1}}function hn(t){return typeof t=="function"}function bn(t,e){if(t&&hn(e))if(Array.isArray(t)||Fn(t.length)){var n=t.length,r;for(r=0;r<n&&e.call(t,t[r],r,t)!==!1;r+=1);}else gc(t)&&Object.keys(t).forEach(function(i){e.call(t,t[i],i,t)});return t}var Li=Object.assign||function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return gc(e)&&r.length>0&&r.forEach(function(o){gc(o)&&Object.keys(o).forEach(function(s){e[s]=o[s]})}),e},OJ=/^(?:width|height|left|top|marginLeft|marginTop)$/;function go(t,e){var n=t.style;bn(e,function(r,i){OJ.test(i)&&Fn(r)&&(r+="px"),n[i]=r})}function kJ(t){return Uh(t)?t.replace(/&(?!amp;|quot;|#39;|lt;|gt;)/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;"):t}function vu(t,e){return!t||!e?!1:t.classList?t.classList.contains(e):t.className.indexOf(e)>-1}function vt(t,e){if(!(!t||!e)){if(Fn(t.length)){bn(t,function(r){vt(r,e)});return}if(t.classList){t.classList.add(e);return}var n=t.className.trim();n?n.indexOf(e)<0&&(t.className="".concat(n," ").concat(e)):t.className=e}}function en(t,e){if(!(!t||!e)){if(Fn(t.length)){bn(t,function(n){en(n,e)});return}if(t.classList){t.classList.remove(e);return}t.className.indexOf(e)>=0&&(t.className=t.className.replace(e,""))}}function qh(t,e,n){if(e){if(Fn(t.length)){bn(t,function(r){qh(r,e,n)});return}n?vt(t,e):en(t,e)}}var RJ=/([a-z\d])([A-Z])/g;function U1(t){return t.replace(RJ,"$1-$2").toLowerCase()}function Au(t,e){return gc(t[e])?t[e]:t.dataset?t.dataset[e]:t.getAttribute("data-".concat(U1(e)))}function Y0(t,e,n){gc(n)?t[e]=n:t.dataset?t.dataset[e]=n:t.setAttribute("data-".concat(U1(e)),n)}var SM=function(){var t=!1;if(wv){var e=!1,n=function(){},r=Object.defineProperty({},"once",{get:function(){return t=!0,e},set:function(o){e=o}});Cs.addEventListener("test",n,r),Cs.removeEventListener("test",n,r)}return t}();function fn(t,e,n){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},i=n;e.trim().split(F1).forEach(function(o){if(!SM){var s=t.listeners;s&&s[o]&&s[o][n]&&(i=s[o][n],delete s[o][n],Object.keys(s[o]).length===0&&delete s[o],Object.keys(s).length===0&&delete t.listeners)}t.removeEventListener(o,i,r)})}function wt(t,e,n){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},i=n;e.trim().split(F1).forEach(function(o){if(r.once&&!SM){var s=t.listeners,a=s===void 0?{}:s;i=function(){delete a[o][n],t.removeEventListener(o,i,r);for(var u=arguments.length,c=new Array(u),d=0;d<u;d++)c[d]=arguments[d];n.apply(t,c)},a[o]||(a[o]={}),a[o][n]&&t.removeEventListener(o,a[o][n],r),a[o][n]=i,t.listeners=a}t.addEventListener(o,i,r)})}function Xn(t,e,n,r){var i;return hn(Event)&&hn(CustomEvent)?i=new CustomEvent(e,V1({bubbles:!0,cancelable:!0,detail:n},r)):(i=document.createEvent("CustomEvent"),i.initCustomEvent(e,!0,!0,n)),t.dispatchEvent(i)}function xJ(t){var e=t.getBoundingClientRect();return{left:e.left+(window.pageXOffset-document.documentElement.clientLeft),top:e.top+(window.pageYOffset-document.documentElement.clientTop)}}function Xp(t){var e=t.rotate,n=t.scaleX,r=t.scaleY,i=t.translateX,o=t.translateY,s=[];Fn(i)&&i!==0&&s.push("translateX(".concat(i,"px)")),Fn(o)&&o!==0&&s.push("translateY(".concat(o,"px)")),Fn(e)&&e!==0&&s.push("rotate(".concat(e,"deg)")),Fn(n)&&n!==1&&s.push("scaleX(".concat(n,")")),Fn(r)&&r!==1&&s.push("scaleY(".concat(r,")"));var a=s.length?s.join(" "):"none";return{WebkitTransform:a,msTransform:a,transform:a}}function DJ(t){return Uh(t)?decodeURIComponent(t.replace(/^.*\//,"").replace(/[?&#].*$/,"")):""}var Fy=Cs.navigator&&/Version\/\d+(\.\d+)+?\s+Safari/i.test(Cs.navigator.userAgent);function IM(t,e,n){var r=document.createElement("img");if(t.naturalWidth&&!Fy)return n(t.naturalWidth,t.naturalHeight),r;var i=document.body||document.documentElement;return r.onload=function(){n(r.width,r.height),Fy||i.removeChild(r)},bn(e.inheritedAttributes,function(o){var s=t.getAttribute(o);s!==null&&r.setAttribute(o,s)}),r.src=t.src,Fy||(r.style.cssText="left:0;max-height:none!important;max-width:none!important;min-height:0!important;min-width:0!important;opacity:0;position:absolute;top:0;z-index:-1;",i.appendChild(r)),r}function Ep(t){switch(t){case 2:return TJ;case 3:return wJ;case 4:return _J;default:return""}}function NJ(t){var e=V1({},t),n=[];return bn(t,function(r,i){delete e[i],bn(e,function(o){var s=Math.abs(r.startX-o.startX),a=Math.abs(r.startY-o.startY),l=Math.abs(r.endX-o.endX),u=Math.abs(r.endY-o.endY),c=Math.sqrt(s*s+a*a),d=Math.sqrt(l*l+u*u),h=(d-c)/c;n.push(h)})}),n.sort(function(r,i){return Math.abs(r)<Math.abs(i)}),n[0]}function Sp(t,e){var n=t.pageX,r=t.pageY,i={endX:n,endY:r};return e?i:V1({timeStamp:Date.now(),startX:n,startY:r},i)}function MJ(t){var e=0,n=0,r=0;return bn(t,function(i){var o=i.startX,s=i.startY;e+=o,n+=s,r+=1}),e/=r,n/=r,{pageX:e,pageY:n}}var LJ={render:function(){this.initContainer(),this.initViewer(),this.initList(),this.renderViewer()},initBody:function(){var e=this.element.ownerDocument,n=e.body||e.documentElement;this.body=n,this.scrollbarWidth=window.innerWidth-e.documentElement.clientWidth,this.initialBodyPaddingRight=n.style.paddingRight,this.initialBodyComputedPaddingRight=window.getComputedStyle(n).paddingRight},initContainer:function(){this.containerData={width:window.innerWidth,height:window.innerHeight}},initViewer:function(){var e=this.options,n=this.parent,r;e.inline&&(r={width:Math.max(n.offsetWidth,e.minWidth),height:Math.max(n.offsetHeight,e.minHeight)},this.parentData=r),(this.fulled||!r)&&(r=this.containerData),this.viewerData=Li({},r)},renderViewer:function(){this.options.inline&&!this.fulled&&go(this.viewer,this.viewerData)},initList:function(){var e=this,n=this.element,r=this.options,i=this.list,o=[];i.innerHTML="",bn(this.images,function(s,a){var l=s.src,u=s.alt||DJ(l),c=e.getImageURL(s);if(l||c){var d=document.createElement("li"),h=document.createElement("img");bn(r.inheritedAttributes,function(p){var m=s.getAttribute(p);m!==null&&h.setAttribute(p,m)}),r.navbar&&(h.src=l||c),h.alt=u,h.setAttribute("data-original-url",c||l),d.setAttribute("data-index",a),d.setAttribute("data-viewer-action","view"),d.setAttribute("role","button"),r.keyboard&&d.setAttribute("tabindex",0),d.appendChild(h),i.appendChild(d),o.push(d)}}),this.items=o,bn(o,function(s){var a=s.firstElementChild,l,u;Y0(a,"filled",!0),r.loading&&vt(s,Gu),wt(a,Ki,l=function(d){fn(a,pl,u),r.loading&&en(s,Gu),e.loadImage(d)},{once:!0}),wt(a,pl,u=function(){fn(a,Ki,l),r.loading&&en(s,Gu)},{once:!0})}),r.transition&&wt(n,Fh,function(){vt(i,zn)},{once:!0})},renderList:function(){var e=this.index,n=this.items[e];if(n){var r=n.nextElementSibling,i=parseInt(window.getComputedStyle(r||n).marginLeft,10),o=n.offsetWidth,s=o+i;go(this.list,Li({width:s*this.length-i},Xp({translateX:(this.viewerData.width-o)/2-s*e})))}},resetList:function(){var e=this.list;e.innerHTML="",en(e,zn),go(e,Xp({translateX:0}))},initImage:function(e){var n=this,r=this.options,i=this.image,o=this.viewerData,s=this.footer.offsetHeight,a=o.width,l=Math.max(o.height-s,s),u=this.imageData||{},c;this.imageInitializing={abort:function(){c.onload=null}},c=IM(i,r,function(d,h){var p=d/h,m=Math.max(0,Math.min(1,r.initialCoverage)),g=a,v=l;n.imageInitializing=!1,l*p>a?v=a/p:g=l*p,m=Fn(m)?m:.9,g=Math.min(g*m,d),v=Math.min(v*m,h);var A=(a-g)/2,I=(l-v)/2,S={left:A,top:I,x:A,y:I,width:g,height:v,oldRatio:1,ratio:g/d,aspectRatio:p,naturalWidth:d,naturalHeight:h},T=Li({},S);r.rotatable&&(S.rotate=u.rotate||0,T.rotate=0),r.scalable&&(S.scaleX=u.scaleX||1,S.scaleY=u.scaleY||1,T.scaleX=1,T.scaleY=1),n.imageData=S,n.initialImageData=T,e&&e()})},renderImage:function(e){var n=this,r=this.image,i=this.imageData;if(go(r,Li({width:i.width,height:i.height,marginLeft:i.x,marginTop:i.y},Xp(i))),e)if((this.viewing||this.moving||this.rotating||this.scaling||this.zooming)&&this.options.transition&&vu(r,zn)){var o=function(){n.imageRendering=!1,e()};this.imageRendering={abort:function(){fn(r,lo,o)}},wt(r,lo,o,{once:!0})}else e()},resetImage:function(){var e=this.image;e&&(this.viewing&&this.viewing.abort(),e.parentNode.removeChild(e),this.image=null,this.title.innerHTML="")}},VJ={bind:function(){var e=this.options,n=this.viewer,r=this.canvas,i=this.element.ownerDocument;wt(n,mc,this.onClick=this.click.bind(this)),wt(n,dA,this.onDragStart=this.dragstart.bind(this)),wt(r,pA,this.onPointerDown=this.pointerdown.bind(this)),wt(i,mA,this.onPointerMove=this.pointermove.bind(this)),wt(i,gA,this.onPointerUp=this.pointerup.bind(this)),wt(i,fA,this.onKeyDown=this.keydown.bind(this)),wt(window,vA,this.onResize=this.resize.bind(this)),e.zoomable&&e.zoomOnWheel&&wt(n,yA,this.onWheel=this.wheel.bind(this),{passive:!1,capture:!0}),e.toggleOnDblclick&&wt(r,G0,this.onDblclick=this.dblclick.bind(this))},unbind:function(){var e=this.options,n=this.viewer,r=this.canvas,i=this.element.ownerDocument;fn(n,mc,this.onClick),fn(n,dA,this.onDragStart),fn(r,pA,this.onPointerDown),fn(i,mA,this.onPointerMove),fn(i,gA,this.onPointerUp),fn(i,fA,this.onKeyDown),fn(window,vA,this.onResize),e.zoomable&&e.zoomOnWheel&&fn(n,yA,this.onWheel,{passive:!1,capture:!0}),e.toggleOnDblclick&&fn(r,G0,this.onDblclick)}},$J={click:function(e){var n=this.options,r=this.imageData,i=e.target,o=Au(i,Jm);switch(!o&&i.localName==="img"&&i.parentElement.localName==="li"&&(i=i.parentElement,o=Au(i,Jm)),Ku&&e.isTrusted&&i===this.canvas&&clearTimeout(this.clickCanvasTimeout),o){case"mix":this.played?this.stop():n.inline?this.fulled?this.exit():this.full():this.hide();break;case"hide":this.pointerMoved||this.hide();break;case"view":this.view(Au(i,"index"));break;case"zoom-in":this.zoom(.1,!0);break;case"zoom-out":this.zoom(-.1,!0);break;case"one-to-one":this.toggle();break;case"reset":this.reset();break;case"prev":this.prev(n.loop);break;case"play":this.play(n.fullscreen);break;case"next":this.next(n.loop);break;case"rotate-left":this.rotate(-90);break;case"rotate-right":this.rotate(90);break;case"flip-horizontal":this.scaleX(-r.scaleX||-1);break;case"flip-vertical":this.scaleY(-r.scaleY||-1);break;default:this.played&&this.stop()}},dblclick:function(e){e.preventDefault(),this.viewed&&e.target===this.image&&(Ku&&e.isTrusted&&clearTimeout(this.doubleClickImageTimeout),this.toggle(e.isTrusted?e:e.detail&&e.detail.originalEvent))},load:function(){var e=this;this.timeout&&(clearTimeout(this.timeout),this.timeout=!1);var n=this.element,r=this.options,i=this.image,o=this.index,s=this.viewerData;en(i,Qd),r.loading&&en(this.canvas,Gu),i.style.cssText="height:0;"+"margin-left:".concat(s.width/2,"px;")+"margin-top:".concat(s.height/2,"px;")+"max-width:none!important;position:relative;width:0;",this.initImage(function(){qh(i,EJ,r.movable),qh(i,zn,r.transition),e.renderImage(function(){e.viewed=!0,e.viewing=!1,hn(r.viewed)&&wt(n,Fh,r.viewed,{once:!0}),Xn(n,Fh,{originalImage:e.images[o],index:o,image:i},{cancelable:!1})})})},loadImage:function(e){var n=e.target,r=n.parentNode,i=r.offsetWidth||30,o=r.offsetHeight||50,s=!!Au(n,"filled");IM(n,this.options,function(a,l){var u=a/l,c=i,d=o;o*u>i?s?c=o*u:d=i/u:s?d=i/u:c=o*u,go(n,Li({width:c,height:d},Xp({translateX:(i-c)/2,translateY:(o-d)/2})))})},keydown:function(e){var n=this.options;if(n.keyboard){var r=e.keyCode||e.which||e.charCode;switch(r){case 13:this.viewer.contains(e.target)&&this.click(e);break}if(this.fulled)switch(r){case 27:this.played?this.stop():n.inline?this.fulled&&this.exit():this.hide();break;case 32:this.played&&this.stop();break;case 37:this.played&&this.playing?this.playing.prev():this.prev(n.loop);break;case 38:e.preventDefault(),this.zoom(n.zoomRatio,!0);break;case 39:this.played&&this.playing?this.playing.next():this.next(n.loop);break;case 40:e.preventDefault(),this.zoom(-n.zoomRatio,!0);break;case 48:case 49:e.ctrlKey&&(e.preventDefault(),this.toggle());break}}},dragstart:function(e){e.target.localName==="img"&&e.preventDefault()},pointerdown:function(e){var n=this.options,r=this.pointers,i=e.buttons,o=e.button;if(this.pointerMoved=!1,!(!this.viewed||this.showing||this.viewing||this.hiding||(e.type==="mousedown"||e.type==="pointerdown"&&e.pointerType==="mouse")&&(Fn(i)&&i!==1||Fn(o)&&o!==0||e.ctrlKey))){e.preventDefault(),e.changedTouches?bn(e.changedTouches,function(a){r[a.identifier]=Sp(a)}):r[e.pointerId||0]=Sp(e);var s=n.movable?Gp:!1;n.zoomOnTouch&&n.zoomable&&Object.keys(r).length>1?s=Ad:n.slideOnTouch&&(e.pointerType==="touch"||e.type==="touchstart")&&this.isSwitchable()&&(s=EM),n.transition&&(s===Gp||s===Ad)&&en(this.image,zn),this.action=s}},pointermove:function(e){var n=this.pointers,r=this.action;!this.viewed||!r||(e.preventDefault(),e.changedTouches?bn(e.changedTouches,function(i){Li(n[i.identifier]||{},Sp(i,!0))}):Li(n[e.pointerId||0]||{},Sp(e,!0)),this.change(e))},pointerup:function(e){var n=this,r=this.options,i=this.action,o=this.pointers,s;e.changedTouches?bn(e.changedTouches,function(a){s=o[a.identifier],delete o[a.identifier]}):(s=o[e.pointerId||0],delete o[e.pointerId||0]),i&&(e.preventDefault(),r.transition&&(i===Gp||i===Ad)&&vt(this.image,zn),this.action=!1,Ku&&i!==Ad&&s&&Date.now()-s.timeStamp<500&&(clearTimeout(this.clickCanvasTimeout),clearTimeout(this.doubleClickImageTimeout),r.toggleOnDblclick&&this.viewed&&e.target===this.image?this.imageClicked?(this.imageClicked=!1,this.doubleClickImageTimeout=setTimeout(function(){Xn(n.image,G0,{originalEvent:e})},50)):(this.imageClicked=!0,this.doubleClickImageTimeout=setTimeout(function(){n.imageClicked=!1},500)):(this.imageClicked=!1,r.backdrop&&r.backdrop!=="static"&&e.target===this.canvas&&(this.clickCanvasTimeout=setTimeout(function(){Xn(n.canvas,mc,{originalEvent:e})},50)))))},resize:function(){var e=this;if(!(!this.isShown||this.hiding)&&(this.fulled&&(this.close(),this.initBody(),this.open()),this.initContainer(),this.initViewer(),this.renderViewer(),this.renderList(),this.viewed&&this.initImage(function(){e.renderImage()}),this.played)){if(this.options.fullscreen&&this.fulled&&!(document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement)){this.stop();return}bn(this.player.getElementsByTagName("img"),function(n){wt(n,Ki,e.loadImage.bind(e),{once:!0}),Xn(n,Ki)})}},wheel:function(e){var n=this;if(this.viewed&&(e.preventDefault(),!this.wheeling)){this.wheeling=!0,setTimeout(function(){n.wheeling=!1},50);var r=Number(this.options.zoomRatio)||.1,i=1;e.deltaY?i=e.deltaY>0?1:-1:e.wheelDelta?i=-e.wheelDelta/120:e.detail&&(i=e.detail>0?1:-1),this.zoom(-i*r,!0,null,e)}}},FJ={show:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,n=this.element,r=this.options;if(r.inline||this.showing||this.isShown||this.showing)return this;if(!this.ready)return this.build(),this.ready&&this.show(e),this;if(hn(r.show)&&wt(n,_A,r.show,{once:!0}),Xn(n,_A)===!1||!this.ready)return this;this.hiding&&this.transitioning.abort(),this.showing=!0,this.open();var i=this.viewer;if(en(i,nl),i.setAttribute("role","dialog"),i.setAttribute("aria-labelledby",this.title.id),i.setAttribute("aria-modal",!0),i.removeAttribute("aria-hidden"),r.transition&&!e){var o=this.shown.bind(this);this.transitioning={abort:function(){fn(i,lo,o),en(i,Hi)}},vt(i,zn),i.initialOffsetWidth=i.offsetWidth,wt(i,lo,o,{once:!0}),vt(i,Hi)}else vt(i,Hi),this.shown();return this},hide:function(){var e=this,n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,r=this.element,i=this.options;if(i.inline||this.hiding||!(this.isShown||this.showing))return this;if(hn(i.hide)&&wt(r,TA,i.hide,{once:!0}),Xn(r,TA)===!1)return this;this.showing&&this.transitioning.abort(),this.hiding=!0,this.played?this.stop():this.viewing&&this.viewing.abort();var o=this.viewer,s=this.image,a=function(){en(o,Hi),e.hidden()};if(i.transition&&!n){var l=function c(d){d&&d.target===o&&(fn(o,lo,c),e.hidden())},u=function(){vu(o,zn)?(wt(o,lo,l),en(o,Hi)):a()};this.transitioning={abort:function(){e.viewed&&vu(s,zn)?fn(s,lo,u):vu(o,zn)&&fn(o,lo,l)}},this.viewed&&vu(s,zn)?(wt(s,lo,u,{once:!0}),this.zoomTo(0,!1,null,null,!0)):u()}else a();return this},view:function(){var e=this,n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.options.initialViewIndex;if(n=Number(n)||0,this.hiding||this.played||n<0||n>=this.length||this.viewed&&n===this.index)return this;if(!this.isShown)return this.index=n,this.show();this.viewing&&this.viewing.abort();var r=this.element,i=this.options,o=this.title,s=this.canvas,a=this.items[n],l=a.querySelector("img"),u=Au(l,"originalUrl"),c=l.getAttribute("alt"),d=document.createElement("img");if(bn(i.inheritedAttributes,function(v){var A=l.getAttribute(v);A!==null&&d.setAttribute(v,A)}),d.src=u,d.alt=c,hn(i.view)&&wt(r,SA,i.view,{once:!0}),Xn(r,SA,{originalImage:this.images[n],index:n,image:d})===!1||!this.isShown||this.hiding||this.played)return this;var h=this.items[this.index];h&&(en(h,wp),h.removeAttribute("aria-selected")),vt(a,wp),a.setAttribute("aria-selected",!0),i.focus&&a.focus(),this.image=d,this.viewed=!1,this.index=n,this.imageData={},vt(d,Qd),i.loading&&vt(s,Gu),s.innerHTML="",s.appendChild(d),this.renderList(),o.innerHTML="";var p=function(){var A=e.imageData,I=Array.isArray(i.title)?i.title[1]:i.title;o.innerHTML=kJ(hn(I)?I.call(e,d,A):"".concat(c," (").concat(A.naturalWidth," × ").concat(A.naturalHeight,")"))},m,g;return wt(r,Fh,p,{once:!0}),this.viewing={abort:function(){fn(r,Fh,p),d.complete?e.imageRendering?e.imageRendering.abort():e.imageInitializing&&e.imageInitializing.abort():(d.src="",fn(d,Ki,m),e.timeout&&clearTimeout(e.timeout))}},d.complete?this.load():(wt(d,Ki,m=function(){fn(d,pl,g),e.load()},{once:!0}),wt(d,pl,g=function(){fn(d,Ki,m),e.timeout&&(clearTimeout(e.timeout),e.timeout=!1),en(d,Qd),i.loading&&en(e.canvas,Gu)},{once:!0}),this.timeout&&clearTimeout(this.timeout),this.timeout=setTimeout(function(){en(d,Qd),e.timeout=!1},1e3)),this},prev:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,n=this.index-1;return n<0&&(n=e?this.length-1:0),this.view(n),this},next:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,n=this.length-1,r=this.index+1;return r>n&&(r=e?0:n),this.view(r),this},move:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e,r=this.imageData;return this.moveTo(Iu(e)?e:r.x+Number(e),Iu(n)?n:r.y+Number(n)),this},moveTo:function(e){var n=this,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,o=this.element,s=this.options,a=this.imageData;if(e=Number(e),r=Number(r),this.viewed&&!this.played&&s.movable){var l=a.x,u=a.y,c=!1;if(Fn(e)?c=!0:e=l,Fn(r)?c=!0:r=u,c){if(hn(s.move)&&wt(o,IA,s.move,{once:!0}),Xn(o,IA,{x:e,y:r,oldX:l,oldY:u,originalEvent:i})===!1)return this;a.x=e,a.y=r,a.left=e,a.top=r,this.moving=!0,this.renderImage(function(){n.moving=!1,hn(s.moved)&&wt(o,CA,s.moved,{once:!0}),Xn(o,CA,{x:e,y:r,oldX:l,oldY:u,originalEvent:i},{cancelable:!1})})}}return this},rotate:function(e){return this.rotateTo((this.imageData.rotate||0)+Number(e)),this},rotateTo:function(e){var n=this,r=this.element,i=this.options,o=this.imageData;if(e=Number(e),Fn(e)&&this.viewed&&!this.played&&i.rotatable){var s=o.rotate;if(hn(i.rotate)&&wt(r,AA,i.rotate,{once:!0}),Xn(r,AA,{degree:e,oldDegree:s})===!1)return this;o.rotate=e,this.rotating=!0,this.renderImage(function(){n.rotating=!1,hn(i.rotated)&&wt(r,PA,i.rotated,{once:!0}),Xn(r,PA,{degree:e,oldDegree:s},{cancelable:!1})})}return this},scaleX:function(e){return this.scale(e,this.imageData.scaleY),this},scaleY:function(e){return this.scale(this.imageData.scaleX,e),this},scale:function(e){var n=this,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e,i=this.element,o=this.options,s=this.imageData;if(e=Number(e),r=Number(r),this.viewed&&!this.played&&o.scalable){var a=s.scaleX,l=s.scaleY,u=!1;if(Fn(e)?u=!0:e=a,Fn(r)?u=!0:r=l,u){if(hn(o.scale)&&wt(i,OA,o.scale,{once:!0}),Xn(i,OA,{scaleX:e,scaleY:r,oldScaleX:a,oldScaleY:l})===!1)return this;s.scaleX=e,s.scaleY=r,this.scaling=!0,this.renderImage(function(){n.scaling=!1,hn(o.scaled)&&wt(i,kA,o.scaled,{once:!0}),Xn(i,kA,{scaleX:e,scaleY:r,oldScaleX:a,oldScaleY:l},{cancelable:!1})})}}return this},zoom:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null,o=this.imageData;return e=Number(e),e<0?e=1/(1-e):e=1+e,this.zoomTo(o.width*e/o.naturalWidth,n,r,i),this},zoomTo:function(e){var n=this,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null,s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1,a=this.element,l=this.options,u=this.pointers,c=this.imageData,d=c.x,h=c.y,p=c.width,m=c.height,g=c.naturalWidth,v=c.naturalHeight;if(e=Math.max(0,e),Fn(e)&&this.viewed&&!this.played&&(s||l.zoomable)){if(!s){var A=Math.max(.01,l.minZoomRatio),I=Math.min(100,l.maxZoomRatio);e=Math.min(Math.max(e,A),I)}if(o)switch(o.type){case"wheel":l.zoomRatio>=.055&&e>.95&&e<1.05&&(e=1);break;case"pointermove":case"touchmove":case"mousemove":e>.99&&e<1.01&&(e=1);break}var S=g*e,T=v*e,N=S-p,R=T-m,C=c.ratio;if(hn(l.zoom)&&wt(a,RA,l.zoom,{once:!0}),Xn(a,RA,{ratio:e,oldRatio:C,originalEvent:o})===!1)return this;if(this.zooming=!0,o){var E=xJ(this.viewer),b=u&&Object.keys(u).length>0?MJ(u):{pageX:o.pageX,pageY:o.pageY};c.x-=N*((b.pageX-E.left-d)/p),c.y-=R*((b.pageY-E.top-h)/m)}else Cu(i)&&Fn(i.x)&&Fn(i.y)?(c.x-=N*((i.x-d)/p),c.y-=R*((i.y-h)/m)):(c.x-=N/2,c.y-=R/2);c.left=c.x,c.top=c.y,c.width=S,c.height=T,c.oldRatio=C,c.ratio=e,this.renderImage(function(){n.zooming=!1,hn(l.zoomed)&&wt(a,xA,l.zoomed,{once:!0}),Xn(a,xA,{ratio:e,oldRatio:C,originalEvent:o},{cancelable:!1})}),r&&this.tooltip()}return this},play:function(){var e=this,n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;if(!this.isShown||this.played)return this;var r=this.element,i=this.options;if(hn(i.play)&&wt(r,DA,i.play,{once:!0}),Xn(r,DA)===!1)return this;var o=this.player,s=this.loadImage.bind(this),a=[],l=0,u=0;if(this.played=!0,this.onLoadWhenPlay=s,n&&this.requestFullscreen(n),vt(o,ou),bn(this.items,function(h,p){var m=h.querySelector("img"),g=document.createElement("img");g.src=Au(m,"originalUrl"),g.alt=m.getAttribute("alt"),g.referrerPolicy=m.referrerPolicy,l+=1,vt(g,Yp),qh(g,zn,i.transition),vu(h,wp)&&(vt(g,Hi),u=p),a.push(g),wt(g,Ki,s,{once:!0}),o.appendChild(g)}),Fn(i.interval)&&i.interval>0){var c=function h(){clearTimeout(e.playing.timeout),en(a[u],Hi),u-=1,u=u>=0?u:l-1,vt(a[u],Hi),e.playing.timeout=setTimeout(h,i.interval)},d=function h(){clearTimeout(e.playing.timeout),en(a[u],Hi),u+=1,u=u<l?u:0,vt(a[u],Hi),e.playing.timeout=setTimeout(h,i.interval)};l>1&&(this.playing={prev:c,next:d,timeout:setTimeout(d,i.interval)})}return this},stop:function(){var e=this;if(!this.played)return this;var n=this.element,r=this.options;if(hn(r.stop)&&wt(n,NA,r.stop,{once:!0}),Xn(n,NA)===!1)return this;var i=this.player;return clearTimeout(this.playing.timeout),this.playing=!1,this.played=!1,bn(i.getElementsByTagName("img"),function(o){fn(o,Ki,e.onLoadWhenPlay)}),en(i,ou),i.innerHTML="",this.exitFullscreen(),this},full:function(){var e=this,n=this.options,r=this.viewer,i=this.image,o=this.list;return!this.isShown||this.played||this.fulled||!n.inline?this:(this.fulled=!0,this.open(),vt(this.button,uA),n.transition&&(en(o,zn),this.viewed&&en(i,zn)),vt(r,K0),r.setAttribute("role","dialog"),r.setAttribute("aria-labelledby",this.title.id),r.setAttribute("aria-modal",!0),r.removeAttribute("style"),go(r,{zIndex:n.zIndex}),n.focus&&this.enforceFocus(),this.initContainer(),this.viewerData=Li({},this.containerData),this.renderList(),this.viewed&&this.initImage(function(){e.renderImage(function(){n.transition&&setTimeout(function(){vt(i,zn),vt(o,zn)},0)})}),this)},exit:function(){var e=this,n=this.options,r=this.viewer,i=this.image,o=this.list;return!this.isShown||this.played||!this.fulled||!n.inline?this:(this.fulled=!1,this.close(),en(this.button,uA),n.transition&&(en(o,zn),this.viewed&&en(i,zn)),n.focus&&this.clearEnforceFocus(),r.removeAttribute("role"),r.removeAttribute("aria-labelledby"),r.removeAttribute("aria-modal"),en(r,K0),go(r,{zIndex:n.zIndexInline}),this.viewerData=Li({},this.parentData),this.renderViewer(),this.renderList(),this.viewed&&this.initImage(function(){e.renderImage(function(){n.transition&&setTimeout(function(){vt(i,zn),vt(o,zn)},0)})}),this)},tooltip:function(){var e=this,n=this.options,r=this.tooltipBox,i=this.imageData;return!this.viewed||this.played||!n.tooltip?this:(r.textContent="".concat(Math.round(i.ratio*100),"%"),this.tooltipping?clearTimeout(this.tooltipping):n.transition?(this.fading&&Xn(r,lo),vt(r,ou),vt(r,Yp),vt(r,zn),r.removeAttribute("aria-hidden"),r.initialOffsetWidth=r.offsetWidth,vt(r,Hi)):(vt(r,ou),r.removeAttribute("aria-hidden")),this.tooltipping=setTimeout(function(){n.transition?(wt(r,lo,function(){en(r,ou),en(r,Yp),en(r,zn),r.setAttribute("aria-hidden",!0),e.fading=!1},{once:!0}),en(r,Hi),e.fading=!0):(en(r,ou),r.setAttribute("aria-hidden",!0)),e.tooltipping=!1},1e3),this)},toggle:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;return this.imageData.ratio===1?this.zoomTo(this.imageData.oldRatio,!0,null,e):this.zoomTo(1,!0,null,e),this},reset:function(){return this.viewed&&!this.played&&(this.imageData=Li({},this.initialImageData),this.renderImage()),this},update:function(){var e=this,n=this.element,r=this.options,i=this.isImg;if(i&&!n.parentNode)return this.destroy();var o=[];if(bn(i?[n]:n.querySelectorAll("img"),function(u){hn(r.filter)?r.filter.call(e,u)&&o.push(u):e.getImageURL(u)&&o.push(u)}),!o.length)return this;if(this.images=o,this.length=o.length,this.ready){var s=[];if(bn(this.items,function(u,c){var d=u.querySelector("img"),h=o[c];h&&d?(h.src!==d.src||h.alt!==d.alt)&&s.push(c):s.push(c)}),go(this.list,{width:"auto"}),this.initList(),this.isShown)if(this.length){if(this.viewed){var a=s.indexOf(this.index);if(a>=0)this.viewed=!1,this.view(Math.max(Math.min(this.index-a,this.length-1),0));else{var l=this.items[this.index];vt(l,wp),l.setAttribute("aria-selected",!0)}}}else this.image=null,this.viewed=!1,this.index=0,this.imageData={},this.canvas.innerHTML="",this.title.innerHTML=""}else this.build();return this},destroy:function(){var e=this.element,n=this.options;return e[Ct]?(this.destroyed=!0,this.ready?(this.played&&this.stop(),n.inline?(this.fulled&&this.exit(),this.unbind()):this.isShown?(this.viewing&&(this.imageRendering?this.imageRendering.abort():this.imageInitializing&&this.imageInitializing.abort()),this.hiding&&this.transitioning.abort(),this.hidden()):this.showing&&(this.transitioning.abort(),this.hidden()),this.ready=!1,this.viewer.parentNode.removeChild(this.viewer)):n.inline&&(this.delaying?this.delaying.abort():this.initializing&&this.initializing.abort()),n.inline||fn(e,mc,this.onStart),e[Ct]=void 0,this):this}},UJ={getImageURL:function(e){var n=this.options.url;return Uh(n)?n=e.getAttribute(n):hn(n)?n=n.call(this,e):n="",n},enforceFocus:function(){var e=this;this.clearEnforceFocus(),wt(document,hA,this.onFocusin=function(n){var r=e.viewer,i=n.target;if(!(i===document||i===r||r.contains(i))){for(;i;){if(i.getAttribute("tabindex")!==null||i.getAttribute("aria-modal")==="true")return;i=i.parentElement}r.focus()}})},clearEnforceFocus:function(){this.onFocusin&&(fn(document,hA,this.onFocusin),this.onFocusin=null)},open:function(){var e=this.body;vt(e,cA),this.scrollbarWidth>0&&(e.style.paddingRight="".concat(this.scrollbarWidth+(parseFloat(this.initialBodyComputedPaddingRight)||0),"px"))},close:function(){var e=this.body;en(e,cA),this.scrollbarWidth>0&&(e.style.paddingRight=this.initialBodyPaddingRight)},shown:function(){var e=this.element,n=this.options,r=this.viewer;this.fulled=!0,this.isShown=!0,this.render(),this.bind(),this.showing=!1,n.focus&&(r.focus(),this.enforceFocus()),hn(n.shown)&&wt(e,wA,n.shown,{once:!0}),Xn(e,wA)!==!1&&this.ready&&this.isShown&&!this.hiding&&this.view(this.index)},hidden:function(){var e=this.element,n=this.options,r=this.viewer;n.fucus&&this.clearEnforceFocus(),this.close(),this.unbind(),vt(r,nl),r.removeAttribute("role"),r.removeAttribute("aria-labelledby"),r.removeAttribute("aria-modal"),r.setAttribute("aria-hidden",!0),this.resetList(),this.resetImage(),this.fulled=!1,this.viewed=!1,this.isShown=!1,this.hiding=!1,this.destroyed||(hn(n.hidden)&&wt(e,EA,n.hidden,{once:!0}),Xn(e,EA,null,{cancelable:!1}))},requestFullscreen:function(e){var n=this.element.ownerDocument;if(this.fulled&&!(n.fullscreenElement||n.webkitFullscreenElement||n.mozFullScreenElement||n.msFullscreenElement)){var r=n.documentElement;r.requestFullscreen?Cu(e)?r.requestFullscreen(e):r.requestFullscreen():r.webkitRequestFullscreen?r.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT):r.mozRequestFullScreen?r.mozRequestFullScreen():r.msRequestFullscreen&&r.msRequestFullscreen()}},exitFullscreen:function(){var e=this.element.ownerDocument;this.fulled&&(e.fullscreenElement||e.webkitFullscreenElement||e.mozFullScreenElement||e.msFullscreenElement)&&(e.exitFullscreen?e.exitFullscreen():e.webkitExitFullscreen?e.webkitExitFullscreen():e.mozCancelFullScreen?e.mozCancelFullScreen():e.msExitFullscreen&&e.msExitFullscreen())},change:function(e){var n=this.options,r=this.pointers,i=r[Object.keys(r)[0]];if(i){var o=i.endX-i.startX,s=i.endY-i.startY;switch(this.action){case Gp:(o!==0||s!==0)&&(this.pointerMoved=!0,this.move(o,s,e));break;case Ad:this.zoom(NJ(r),!1,null,e);break;case EM:{this.action="switched";var a=Math.abs(o);a>1&&a>Math.abs(s)&&(this.pointers={},o>1?this.prev(n.loop):o<-1&&this.next(n.loop));break}}bn(r,function(l){l.startX=l.endX,l.startY=l.endY})}},isSwitchable:function(){var e=this.imageData,n=this.viewerData;return this.length>1&&e.x>=0&&e.y>=0&&e.width<=n.width&&e.height<=n.height}},qJ=Cs.Viewer,BJ=function(t){return function(){return t+=1,t}}(-1),vc=function(){function t(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(fJ(this,t),!e||e.nodeType!==1)throw new Error("The first argument is required and must be an element.");this.element=e,this.options=Li({},lA,Cu(n)&&n),this.action=!1,this.fading=!1,this.fulled=!1,this.hiding=!1,this.imageClicked=!1,this.imageData={},this.index=this.options.initialViewIndex,this.isImg=!1,this.isShown=!1,this.length=0,this.moving=!1,this.played=!1,this.playing=!1,this.pointers={},this.ready=!1,this.rotating=!1,this.scaling=!1,this.showing=!1,this.timeout=!1,this.tooltipping=!1,this.viewed=!1,this.viewing=!1,this.wheeling=!1,this.zooming=!1,this.pointerMoved=!1,this.id=BJ(),this.init()}return pJ(t,[{key:"init",value:function(){var n=this,r=this.element,i=this.options;if(!r[Ct]){r[Ct]=this,i.focus&&!i.keyboard&&(i.focus=!1);var o=r.localName==="img",s=[];if(bn(o?[r]:r.querySelectorAll("img"),function(u){hn(i.filter)?i.filter.call(n,u)&&s.push(u):n.getImageURL(u)&&s.push(u)}),this.isImg=o,this.length=s.length,this.images=s,this.initBody(),Iu(document.createElement(Ct).style.transition)&&(i.transition=!1),i.inline){var a=0,l=function(){if(a+=1,a===n.length){var c;n.initializing=!1,n.delaying={abort:function(){clearTimeout(c)}},c=setTimeout(function(){n.delaying=!1,n.build()},0)}};this.initializing={abort:function(){bn(s,function(c){c.complete||(fn(c,Ki,l),fn(c,pl,l))})}},bn(s,function(u){if(u.complete)l();else{var c,d;wt(u,Ki,c=function(){fn(u,pl,d),l()},{once:!0}),wt(u,pl,d=function(){fn(u,Ki,c),l()},{once:!0})}})}else wt(r,mc,this.onStart=function(u){var c=u.target;c.localName==="img"&&(!hn(i.filter)||i.filter.call(n,c))&&n.view(n.images.indexOf(c))})}}},{key:"build",value:function(){if(!this.ready){var n=this.element,r=this.options,i=n.parentNode,o=document.createElement("div");o.innerHTML=vJ;var s=o.querySelector(".".concat(Ct,"-container")),a=s.querySelector(".".concat(Ct,"-title")),l=s.querySelector(".".concat(Ct,"-toolbar")),u=s.querySelector(".".concat(Ct,"-navbar")),c=s.querySelector(".".concat(Ct,"-button")),d=s.querySelector(".".concat(Ct,"-canvas"));if(this.parent=i,this.viewer=s,this.title=a,this.toolbar=l,this.navbar=u,this.button=c,this.canvas=d,this.footer=s.querySelector(".".concat(Ct,"-footer")),this.tooltipBox=s.querySelector(".".concat(Ct,"-tooltip")),this.player=s.querySelector(".".concat(Ct,"-player")),this.list=s.querySelector(".".concat(Ct,"-list")),s.id="".concat(Ct).concat(this.id),a.id="".concat(Ct,"Title").concat(this.id),vt(a,r.title?Ep(Array.isArray(r.title)?r.title[0]:r.title):nl),vt(u,r.navbar?Ep(r.navbar):nl),qh(c,nl,!r.button),r.keyboard&&c.setAttribute("tabindex",0),r.backdrop&&(vt(s,"".concat(Ct,"-backdrop")),!r.inline&&r.backdrop!=="static"&&Y0(d,Jm,"hide")),Uh(r.className)&&r.className&&r.className.split(F1).forEach(function(S){vt(s,S)}),r.toolbar){var h=document.createElement("ul"),p=Cu(r.toolbar),m=Tp.slice(0,3),g=Tp.slice(7,9),v=Tp.slice(9);p||vt(l,Ep(r.toolbar)),bn(p?r.toolbar:Tp,function(S,T){var N=p&&Cu(S),R=p?U1(T):S,C=N&&!Iu(S.show)?S.show:S;if(!(!C||!r.zoomable&&m.indexOf(R)!==-1||!r.rotatable&&g.indexOf(R)!==-1||!r.scalable&&v.indexOf(R)!==-1)){var E=N&&!Iu(S.size)?S.size:S,b=N&&!Iu(S.click)?S.click:S,w=document.createElement("li");r.keyboard&&w.setAttribute("tabindex",0),w.setAttribute("role","button"),vt(w,"".concat(Ct,"-").concat(R)),hn(b)||Y0(w,Jm,R),Fn(C)&&vt(w,Ep(C)),["small","large"].indexOf(E)!==-1?vt(w,"".concat(Ct,"-").concat(E)):R==="play"&&vt(w,"".concat(Ct,"-large")),hn(b)&&wt(w,mc,b),h.appendChild(w)}}),l.appendChild(h)}else vt(l,nl);if(!r.rotatable){var A=l.querySelectorAll('li[class*="rotate"]');vt(A,Qd),bn(A,function(S){l.appendChild(S)})}if(r.inline)vt(c,bJ),go(s,{zIndex:r.zIndexInline}),window.getComputedStyle(i).position==="static"&&go(i,{position:"relative"}),i.insertBefore(s,n.nextSibling);else{vt(c,yJ),vt(s,K0),vt(s,Yp),vt(s,nl),go(s,{zIndex:r.zIndex});var I=r.container;Uh(I)&&(I=n.ownerDocument.querySelector(I)),I||(I=this.body),I.appendChild(s)}if(r.inline&&(this.render(),this.bind(),this.isShown=!0),this.ready=!0,hn(r.ready)&&wt(n,bA,r.ready,{once:!0}),Xn(n,bA)===!1){this.ready=!1;return}this.ready&&r.inline&&this.view(this.index)}}}],[{key:"noConflict",value:function(){return window.Viewer=qJ,t}},{key:"setDefaults",value:function(n){Li(lA,Cu(n)&&n)}}]),t}();Li(vc.prototype,LJ,VJ,$J,FJ,UJ);var jJ=typeof global=="object"&&global&&global.Object===Object&&global;const CM=jJ;var HJ=typeof self=="object"&&self&&self.Object===Object&&self,WJ=CM||HJ||Function("return this")();const Tv=WJ;var zJ=Tv.Symbol;const Zm=zJ;var AM=Object.prototype,KJ=AM.hasOwnProperty,GJ=AM.toString,ld=Zm?Zm.toStringTag:void 0;function YJ(t){var e=KJ.call(t,ld),n=t[ld];try{t[ld]=void 0;var r=!0}catch{}var i=GJ.call(t);return r&&(e?t[ld]=n:delete t[ld]),i}var XJ=Object.prototype,QJ=XJ.toString;function JJ(t){return QJ.call(t)}var ZJ="[object Null]",eZ="[object Undefined]",MA=Zm?Zm.toStringTag:void 0;function Ev(t){return t==null?t===void 0?eZ:ZJ:MA&&MA in Object(t)?YJ(t):JJ(t)}function Sv(t){return t!=null&&typeof t=="object"}var tZ="[object Symbol]";function nZ(t){return typeof t=="symbol"||Sv(t)&&Ev(t)==tZ}var rZ=Array.isArray;const iZ=rZ;var oZ=/\s/;function sZ(t){for(var e=t.length;e--&&oZ.test(t.charAt(e)););return e}var aZ=/^\s+/;function lZ(t){return t&&t.slice(0,sZ(t)+1).replace(aZ,"")}function Ll(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var LA=NaN,uZ=/^[-+]0x[0-9a-f]+$/i,cZ=/^0b[01]+$/i,dZ=/^0o[0-7]+$/i,hZ=parseInt;function VA(t){if(typeof t=="number")return t;if(nZ(t))return LA;if(Ll(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=Ll(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=lZ(t);var n=cZ.test(t);return n||dZ.test(t)?hZ(t.slice(2),n?2:8):uZ.test(t)?LA:+t}function PM(t){return t}var fZ="[object AsyncFunction]",pZ="[object Function]",mZ="[object GeneratorFunction]",gZ="[object Proxy]";function OM(t){if(!Ll(t))return!1;var e=Ev(t);return e==pZ||e==mZ||e==fZ||e==gZ}var vZ=Tv["__core-js_shared__"];const Uy=vZ;var $A=function(){var t=/[^.]+$/.exec(Uy&&Uy.keys&&Uy.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function yZ(t){return!!$A&&$A in t}var bZ=Function.prototype,_Z=bZ.toString;function wZ(t){if(t!=null){try{return _Z.call(t)}catch{}try{return t+""}catch{}}return""}var TZ=/[\\^$.*+?()[\]{}|]/g,EZ=/^\[object .+?Constructor\]$/,SZ=Function.prototype,IZ=Object.prototype,CZ=SZ.toString,AZ=IZ.hasOwnProperty,PZ=RegExp("^"+CZ.call(AZ).replace(TZ,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function OZ(t){if(!Ll(t)||yZ(t))return!1;var e=OM(t)?PZ:EZ;return e.test(wZ(t))}function kZ(t,e){return t==null?void 0:t[e]}function RZ(t,e){var n=kZ(t,e);return OZ(n)?n:void 0}function xZ(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}var DZ=800,NZ=16,MZ=Date.now;function LZ(t){var e=0,n=0;return function(){var r=MZ(),i=NZ-(r-n);if(n=r,i>0){if(++e>=DZ)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}function VZ(t){return function(){return t}}var $Z=function(){try{var t=RZ(Object,"defineProperty");return t({},"",{}),t}catch{}}();const eg=$Z;var FZ=eg?function(t,e){return eg(t,"toString",{configurable:!0,enumerable:!1,value:VZ(e),writable:!0})}:PM;const UZ=FZ;var qZ=LZ(UZ);const BZ=qZ;var jZ=9007199254740991,HZ=/^(?:0|[1-9]\d*)$/;function kM(t,e){var n=typeof t;return e=e??jZ,!!e&&(n=="number"||n!="symbol"&&HZ.test(t))&&t>-1&&t%1==0&&t<e}function RM(t,e,n){e=="__proto__"&&eg?eg(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}function q1(t,e){return t===e||t!==t&&e!==e}var WZ=Object.prototype,zZ=WZ.hasOwnProperty;function xM(t,e,n){var r=t[e];(!(zZ.call(t,e)&&q1(r,n))||n===void 0&&!(e in t))&&RM(t,e,n)}function KZ(t,e,n,r){var i=!n;n||(n={});for(var o=-1,s=e.length;++o<s;){var a=e[o],l=r?r(n[a],t[a],a,n,t):void 0;l===void 0&&(l=t[a]),i?RM(n,a,l):xM(n,a,l)}return n}var FA=Math.max;function GZ(t,e,n){return e=FA(e===void 0?t.length-1:e,0),function(){for(var r=arguments,i=-1,o=FA(r.length-e,0),s=Array(o);++i<o;)s[i]=r[e+i];i=-1;for(var a=Array(e+1);++i<e;)a[i]=r[i];return a[e]=n(s),xZ(t,this,a)}}function DM(t,e){return BZ(GZ(t,e,PM),t+"")}var YZ=9007199254740991;function NM(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=YZ}function Iv(t){return t!=null&&NM(t.length)&&!OM(t)}function MM(t,e,n){if(!Ll(n))return!1;var r=typeof e;return(r=="number"?Iv(n)&&kM(e,n.length):r=="string"&&e in n)?q1(n[e],t):!1}function XZ(t){return DM(function(e,n){var r=-1,i=n.length,o=i>1?n[i-1]:void 0,s=i>2?n[2]:void 0;for(o=t.length>3&&typeof o=="function"?(i--,o):void 0,s&&MM(n[0],n[1],s)&&(o=i<3?void 0:o,i=1),e=Object(e);++r<i;){var a=n[r];a&&t(e,a,r,o)}return e})}var QZ=Object.prototype;function B1(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||QZ;return t===n}function JZ(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var ZZ="[object Arguments]";function UA(t){return Sv(t)&&Ev(t)==ZZ}var LM=Object.prototype,eee=LM.hasOwnProperty,tee=LM.propertyIsEnumerable,nee=UA(function(){return arguments}())?UA:function(t){return Sv(t)&&eee.call(t,"callee")&&!tee.call(t,"callee")};const ree=nee;function iee(){return!1}var VM=typeof exports=="object"&&exports&&!exports.nodeType&&exports,qA=VM&&typeof module=="object"&&module&&!module.nodeType&&module,oee=qA&&qA.exports===VM,BA=oee?Tv.Buffer:void 0,see=BA?BA.isBuffer:void 0,aee=see||iee;const lee=aee;var uee="[object Arguments]",cee="[object Array]",dee="[object Boolean]",hee="[object Date]",fee="[object Error]",pee="[object Function]",mee="[object Map]",gee="[object Number]",vee="[object Object]",yee="[object RegExp]",bee="[object Set]",_ee="[object String]",wee="[object WeakMap]",Tee="[object ArrayBuffer]",Eee="[object DataView]",See="[object Float32Array]",Iee="[object Float64Array]",Cee="[object Int8Array]",Aee="[object Int16Array]",Pee="[object Int32Array]",Oee="[object Uint8Array]",kee="[object Uint8ClampedArray]",Ree="[object Uint16Array]",xee="[object Uint32Array]",Sn={};Sn[See]=Sn[Iee]=Sn[Cee]=Sn[Aee]=Sn[Pee]=Sn[Oee]=Sn[kee]=Sn[Ree]=Sn[xee]=!0;Sn[uee]=Sn[cee]=Sn[Tee]=Sn[dee]=Sn[Eee]=Sn[hee]=Sn[fee]=Sn[pee]=Sn[mee]=Sn[gee]=Sn[vee]=Sn[yee]=Sn[bee]=Sn[_ee]=Sn[wee]=!1;function Dee(t){return Sv(t)&&NM(t.length)&&!!Sn[Ev(t)]}function Nee(t){return function(e){return t(e)}}var $M=typeof exports=="object"&&exports&&!exports.nodeType&&exports,Jd=$M&&typeof module=="object"&&module&&!module.nodeType&&module,Mee=Jd&&Jd.exports===$M,qy=Mee&&CM.process,Lee=function(){try{var t=Jd&&Jd.require&&Jd.require("util").types;return t||qy&&qy.binding&&qy.binding("util")}catch{}}();const jA=Lee;var HA=jA&&jA.isTypedArray,Vee=HA?Nee(HA):Dee;const $ee=Vee;var Fee=Object.prototype,Uee=Fee.hasOwnProperty;function FM(t,e){var n=iZ(t),r=!n&&ree(t),i=!n&&!r&&lee(t),o=!n&&!r&&!i&&$ee(t),s=n||r||i||o,a=s?JZ(t.length,String):[],l=a.length;for(var u in t)(e||Uee.call(t,u))&&!(s&&(u=="length"||i&&(u=="offset"||u=="parent")||o&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||kM(u,l)))&&a.push(u);return a}function qee(t,e){return function(n){return t(e(n))}}var Bee=qee(Object.keys,Object);const jee=Bee;var Hee=Object.prototype,Wee=Hee.hasOwnProperty;function zee(t){if(!B1(t))return jee(t);var e=[];for(var n in Object(t))Wee.call(t,n)&&n!="constructor"&&e.push(n);return e}function Kee(t){return Iv(t)?FM(t):zee(t)}var Gee=Object.prototype,Yee=Gee.hasOwnProperty,Xee=XZ(function(t,e){if(B1(e)||Iv(e)){KZ(e,Kee(e),t);return}for(var n in e)Yee.call(e,n)&&xM(t,n,e[n])});const Qee=Xee;function Jee(t){var e=[];if(t!=null)for(var n in Object(t))e.push(n);return e}var Zee=Object.prototype,ete=Zee.hasOwnProperty;function tte(t){if(!Ll(t))return Jee(t);var e=B1(t),n=[];for(var r in t)r=="constructor"&&(e||!ete.call(t,r))||n.push(r);return n}function nte(t){return Iv(t)?FM(t,!0):tte(t)}var rte=function(){return Tv.Date.now()};const By=rte;var ite="Expected a function",ote=Math.max,ste=Math.min;function ate(t,e,n){var r,i,o,s,a,l,u=0,c=!1,d=!1,h=!0;if(typeof t!="function")throw new TypeError(ite);e=VA(e)||0,Ll(n)&&(c=!!n.leading,d="maxWait"in n,o=d?ote(VA(n.maxWait)||0,e):o,h="trailing"in n?!!n.trailing:h);function p(R){var C=r,E=i;return r=i=void 0,u=R,s=t.apply(E,C),s}function m(R){return u=R,a=setTimeout(A,e),c?p(R):s}function g(R){var C=R-l,E=R-u,b=e-C;return d?ste(b,o-E):b}function v(R){var C=R-l,E=R-u;return l===void 0||C>=e||C<0||d&&E>=o}function A(){var R=By();if(v(R))return I(R);a=setTimeout(A,g(R))}function I(R){return a=void 0,h&&r?p(R):(r=i=void 0,s)}function S(){a!==void 0&&clearTimeout(a),u=0,r=l=i=a=void 0}function T(){return a===void 0?s:I(By())}function N(){var R=By(),C=v(R);if(r=arguments,i=this,l=R,C){if(a===void 0)return m(l);if(d)return clearTimeout(a),a=setTimeout(A,e),p(l)}return a===void 0&&(a=setTimeout(A,e)),s}return N.cancel=S,N.flush=T,N}var UM=Object.prototype,lte=UM.hasOwnProperty,ute=DM(function(t,e){t=Object(t);var n=-1,r=e.length,i=r>2?e[2]:void 0;for(i&&MM(e[0],e[1],i)&&(r=1);++n<r;)for(var o=e[n],s=nte(o),a=-1,l=s.length;++a<l;){var u=s[a],c=t[u];(c===void 0||q1(c,UM[u])&&!lte.call(t,u))&&(t[u]=o[u])}return t});const cte=ute,dte=({images:t=[],options:e})=>{e=Qee(e,{inline:!1});const n=document.createElement("div"),r=wl("div",{style:{display:"none"},class:["__viewer-token"]},t.map(a=>wl("img",typeof a=="string"?{src:a}:a)));Tl(r,n);const i=n.firstElementChild;document.body.appendChild(i);const o=new vc(i,e),s=o.destroy.bind(o);return o.destroy=function(){return s(),Tl(null,n),o},o.show(),i.addEventListener("hidden",function(){this.viewer===o&&o.destroy()}),o},hte=({name:t="viewer",debug:e=!1}={})=>{async function n(c,d,h=!1,p=!1){await tr(),!(p&&!r(c))&&(h||!c[`$${t}`]?(s(c),c[`$${t}`]=new vc(c,d),u("Viewer created")):(c[`$${t}`].update(),u("Viewer updated")))}function r(c){const d=c.innerHTML.match(/<img([\w\W]+?)[\\/]?>/g),h=d?d.join(""):void 0;return c.__viewerImageDiffCache===h?(u("Element change detected, but image(s) has not changed"),!1):(u("Image change detected"),c.__viewerImageDiffCache=h,!0)}function i(c,d,h,p){a(c);const m=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver;if(!m){u("Observer not supported");return}const g=new m(A=>{A.forEach(I=>{u(`Viewer mutation:${I.type}`),h(c,d,p,!0)})}),v={attributes:!0,childList:!0,characterData:!0,subtree:!0};g.observe(c,v),c.__viewerMutationObserver=g,u("Observer created")}function o(c,d,h,p){c.__viewerUnwatch=pn(()=>d.value,(m,g)=>{u("Change detected by watcher: ",d.value),p(c,m,!0,!1)},{deep:!0}),u("Watcher created, expression: ",d.value)}function s(c){!c[`$${t}`]||(c[`$${t}`].destroy(),delete c[`$${t}`],u("Viewer destroyed"))}function a(c){!c.__viewerMutationObserver||(c.__viewerMutationObserver.disconnect(),delete c.__viewerMutationObserver,u("observer destroyed"))}function l(c){!c.__viewerUnwatch||(c.__viewerUnwatch(),delete c.__viewerUnwatch,u("Watcher destroyed"))}function u(...c){e&&console.log(...c)}return{mounted(c,d,h){u("Viewer bind");const p=ate(n,50);p(c,d.value),o(c,d,h,p),d.modifiers.static||i(c,d.value,p,d.modifiers.rebuild)},unmounted(c){u("Viewer unbind"),a(c),l(c),s(c)}}},fte=Me({name:"Viewer",props:{images:{type:Array,default:()=>[]},rebuild:{type:Boolean,default:!1},trigger:{type:Object,default:null},options:{type:Object,default:()=>null}},emits:["inited"],setup(t,{emit:e}){let n;const r=ie();function i(){n=new vc(r.value,t.options),e("inited",n)}function o(){n&&n.destroy()}function s(){o(),i()}function a(){n?(n.update(),e("inited",n)):i()}function l(){t.rebuild?s():a()}const u={deep:!0};return pn(()=>t.images,()=>{tr(()=>{l()})},u),pn(()=>t.trigger,()=>{tr(()=>{l()})},u),pn(()=>t.options,()=>{tr(()=>{s()})},u),Vt(()=>i()),Go(()=>o()),{root:r,createViewer:i,rebuildViewer:s,updateViewer:a,destroyViewer:o}}}),pte=(t,e)=>{const n=t.__vccOpts||t;for(const[r,i]of e)n[r]=i;return n},mte={ref:"root"};function gte(t,e,n,r,i,o){return M(),W("div",mte,[Te(t.$slots,"default",{images:t.images,options:t.options})],512)}const qM=pte(fte,[["render",gte]]),vte={install(t,{name:e="viewer",debug:n=!1,defaultOptions:r}={}){r&&vc.setDefaults(r),t.config.globalProperties[`$${e}Api`]=dte,t.component(e,cte(qM,{name:e})),t.directive(e,hte({name:e,debug:n}))},setDefaults(t){vc.setDefaults(t)}};var yte={root:{position:"relative"}},bte={root:function(e){var n=e.props;return["p-skeleton p-component",{"p-skeleton-circle":n.shape==="circle","p-skeleton-none":n.animation==="none"}]}},_te=dr.extend({name:"skeleton",classes:bte,inlineStyles:yte}),wte={name:"BaseSkeleton",extends:si,props:{shape:{type:String,default:"rectangle"},size:{type:String,default:null},width:{type:String,default:"100%"},height:{type:String,default:"1rem"},borderRadius:{type:String,default:null},animation:{type:String,default:"wave"}},style:_te,provide:function(){return{$parentInstance:this}}},BM={name:"Skeleton",extends:wte,inheritAttrs:!1,computed:{containerStyle:function(){return this.size?{width:this.size,height:this.size,borderRadius:this.borderRadius}:{width:this.width,height:this.height,borderRadius:this.borderRadius}}}};function Tte(t,e,n,r,i,o){return M(),W("div",le({class:t.cx("root"),style:[t.sx("root"),o.containerStyle],"aria-hidden":"true"},t.ptmi("root")),null,16)}BM.render=Tte;const Ete=["src"],pa=Me({__name:"Image",props:{src:{},imageClass:{}},setup(t){const e=t,r=Vc(Lc).greaterOrEqual("md"),i=ie(!1);return Vt(()=>{const o=new Image;o.src=e.src,o.onload=()=>{i.value=!0}}),(o,s)=>i.value?(M(),de(P(qM),{key:0,class:"cursor-pointer"},{default:J(()=>[y("img",{class:$e(o.imageClass),src:o.src,style:ar({maxWidth:o.imageClass?void 0:P(r)?"25vw":"100%"})},null,14,Ete)]),_:1})):(M(),de(P(BM),{key:1,class:"mt-5 background-gray-light",width:"200px",height:"200px"}))}}),WA=Me({__name:"BlogPostImage",props:{coverImageUrl:{},post:{},maxHeight:{},maxWidth:{},alignment:{}},setup(t){const e=t,n=Vc(Lc),r=n.greaterOrEqual("sm"),i=n.greaterOrEqual("md"),o=ie(0),s=ie(0),a=te(()=>o.value>s.value),l=te(()=>o.value>s.value*1.5),u=te(()=>s.value>o.value),c=te(()=>s.value>o.value*1.5),d=te(()=>i.value?"60%":r.value?"80%":e.maxHeight?e.maxHeight:a.value&&c.value?"80%":"100%"),h=te(()=>i.value?"60%":r.value?"80%":e.maxWidth?e.maxWidth:u.value&&l.value?"80%":"100%");return Vt(()=>{const p=new Image;p.src=e.coverImageUrl,p.onload=()=>{o.value=p.height,s.value=p.width}}),(p,m)=>{var g,v;return M(),W("div",{class:$e({flex:!0,"justify-start":p.alignment==="left","justify-center":p.alignment===void 0||p.alignment==="center","justify-end":p.alignment==="right"})},[B(Gn,{class:$e(["!p-0 md:!p-3 xl:!p-5 my-5 w-fit border border-white md:border-none !rounded-none md:!rounded-primary",(g=p.post)==null?void 0:g.colorTertiary,((v=p.post)==null?void 0:v.opacityTertiary)||"bg-opacity-50"]),style:ar({maxHeight:d.value,maxWidth:h.value})},{default:J(()=>[B(pa,{src:p.coverImageUrl,"image-class":"cover-image md:rounded-primary"},null,8,["src"])]),_:1},8,["class","style"])],2)}}}),Ste={class:"flex flex-wrap justify-end h-fit gap-3"},zA=Me({__name:"BlogPostMutationButtons",emits:["editClicked","deleteClicked"],setup(t){return(e,n)=>(M(),W("div",Ste,[B(at,{class:"min-w-80",label:"Edit",onClick:n[0]||(n[0]=r=>e.$emit("editClicked"))}),B(at,{class:"min-w-80",type:"danger",outlined:"",label:"Delete",onClick:n[1]||(n[1]=r=>e.$emit("deleteClicked"))})]))}}),KA=Me({__name:"BlogPostSectionTitle",props:{class:{},alignment:{},isExpandable:{type:Boolean},isExpanded:{type:Boolean},isSubTitle:{type:Boolean}},emits:["click"],setup(t){const e=t;return(n,r)=>(M(),W("div",{class:$e(["font-bold",{"text-lg md:text-2xl":!n.isSubTitle},{"hover:underline cursor-pointer":n.isExpandable},e.class])},[y("div",{class:$e({block:!n.alignment,flex:!!n.alignment,"justify-start":n.alignment==="left","justify-center":n.alignment==="center","justify-end":n.alignment==="right"})},[y("span",{class:"flex",onClick:r[0]||(r[0]=i=>n.$emit("click"))},[n.isExpandable&&n.alignment==="right"?(M(),W("i",{key:0,class:$e(["pi pi-angle-down animation",{"rotate-180":n.isExpanded}])},null,2)):ee("",!0),Te(n.$slots,"default"),n.isExpandable&&(n.alignment==="left"||n.alignment==="center")?(M(),W("i",{key:1,class:$e(["pi pi-angle-down animation",{"rotate-180":n.isExpanded}])},null,2)):ee("",!0)])],2)],2))}}),Ite={class:"table w-full md:w-3/4 border border-white border-collapse"},Cte={class:"table-row-group"},Ate={key:0,class:"table-row border border-white"},GA=Me({__name:"BlogPostTable",props:{table:{},alignment:{}},setup(t){const e=t,n=te(()=>l2(e.table));return(r,i)=>(M(),W("div",{class:$e(["my-8 flex",{"justify-start":r.alignment==="left","justify-center":r.alignment==="center"||!r.alignment,"justify-end":r.alignment==="right"}])},[y("div",Ite,[y("div",Cte,[(M(!0),W(Pe,null,ht(n.value,(o,s)=>(M(),W(Pe,{key:s},[o.every(a=>!a)?ee("",!0):(M(),W("div",Ate,[(M(!0),W(Pe,null,ht(o,(a,l)=>(M(),W(Pe,{key:l},[l!==0||!n.value.every(u=>!u.length||!u[0])?(M(),W("div",{key:0,class:$e(["table-cell border border-white text-center",{"font-bold":s===0||l===0}])},ze(a),3)):ee("",!0)],64))),128))]))],64))),128))])])],2))}}),Pte={class:"flex gap-3"},Ote={class:"flex justify-between h-fit mt-2 gap-2"},kte={class:"flex flex-wrap gap-3"},Rte={class:"w-full"},xte={class:"w-full"},jM=Me({__name:"BlogPost",props:{post:{}},emits:["editClicked","deleteClicked"],setup(t){const e=t,{publicUsers:n}=zt(yr()),{firebaseUser:r,isOwner:i}=zt(Ar()),o=ie(e.post.archived),s=te(()=>{var h;return(h=e.post.allowedUserIds)!=null&&h.length?n.value.filter(p=>{var m;return(m=e.post.allowedUserIds)==null?void 0:m.includes(p.id)}):[]}),a=te(()=>{const h=b0(new Date(e.post.date)),p=e.post.dateUpdated?b0(new Date(e.post.dateUpdated)):"";return h+` - updated ${p}`}),l=te(()=>{const h=[];return e.post.datePinned&&h.push({value:"Pinned",severity:"success",rounded:!1}),e.post.locked&&h.push({value:"Locked",severity:"danger",rounded:!1,icon:"pi pi-lock"}),e.post.archived&&h.push({value:"Archived",severity:"warning",rounded:!1,icon:"pi pi-file-excel"}),h}),u=te(()=>e.post.sections.map(h=>({...h,isExpandable:c(h)}))),c=h=>!!h.description||!!h.coverImageUrl||!!h.bullets.length||!!h.table,d=()=>{const h=document.createElement("textarea"),{protocol:p,hostname:m,port:g}=window.location,v=`${p}//${m}`+(m==="localhost"?`:${g}`:"");h.value=`${v}#${sL.BLOG.path}/${e.post.id}`,document.body.appendChild(h),h.select(),document.execCommand("copy"),document.body.removeChild(h),it.success("Copied link!")};return(h,p)=>(M(),de(Gn,{id:h.post.id,class:$e([{"min-h-[90vh]":!o.value},"border-4 border-transparent","!rounded-primary",h.post.colorSecondary||h.post.colorPrimary||"bg-secondary-900",h.post.opacitySecondary||"bg-opacity-50"]),title:h.post.title,subTitle:a.value,tags:l.value,loading:h.post.loading,isCollapsed:o.value,clickable:"",onClick:p[4]||(p[4]=m=>o.value=!o.value)},{right:J(()=>[y("div",Pte,[o.value?P(i)?(M(),de(zA,{key:1,onEditClicked:p[0]||(p[0]=m=>h.$emit("editClicked")),onDeleteClicked:p[1]||(p[1]=m=>h.$emit("deleteClicked"))})):ee("",!0):(M(),de(at,{key:0,class:"border-none h-fit",type:"neutral",icon:"pi pi-copy",onClick:d}))])]),default:J(()=>{var m;return[y("div",Ote,[y("div",kte,[(M(!0),W(Pe,null,ht(s.value,g=>{var v;return M(),de(P(wM),{class:"h-fit !p-0 !px-4 !py-1 bg-red-800 bg-opacity-50",icon:"pi pi-user",label:g.id===((v=P(r))==null?void 0:v.uid)?"You":g.displayName,rounded:""},null,8,["label"])}),256))]),P(i)?(M(),W("div",{key:0,class:$e(["flex justify-end ms-5",(m=h.post.allowedUserIds)!=null&&m.length?"flex-col md:flex-row":"flex-row"])},[B(zA,{onEditClicked:p[2]||(p[2]=g=>h.$emit("editClicked")),onDeleteClicked:p[3]||(p[3]=g=>h.$emit("deleteClicked"))})],2)):ee("",!0)]),B(Gn,{class:$e(["z-10 min-h-[125px] md:min-h-[160px] p-5 mt-5",h.post.colorPrimary,h.post.opacityPrimary||"bg-opacity-50"])},{default:J(()=>[y("div",{class:$e(["flex relative",h.post.countdown||h.post.alignment==="center"?"flex justify-between":""])},[y("div",Rte,[h.post.countdown?(M(),de(ru,{key:0,time:new Date(h.post.countdown).getTime(),direction:"down",alignment:h.post.alignment},null,8,["time","alignment"])):ee("",!0),h.post.timer?(M(),de(ru,{key:1,time:new Date(h.post.timer).getTime(),direction:"up",alignment:h.post.alignment},null,8,["time","alignment"])):ee("",!0),h.post.description?(M(),de($y,{key:2,description:h.post.description},null,8,["description"])):ee("",!0)])],2),h.post.coverImageUrl?(M(),de(WA,{key:0,post:h.post,"cover-image-url":h.post.coverImageUrl},null,8,["post","cover-image-url"])):ee("",!0),h.post.descriptionFooter?(M(),de($y,{key:1,class:"mb-5",description:h.post.descriptionFooter},null,8,["description"])):ee("",!0),h.post.table?(M(),de(GA,{key:2,table:h.post.table},null,8,["table"])):ee("",!0),B(P(Jn),{onTabOpen:P(or)},{default:J(()=>[(M(!0),W(Pe,null,ht(u.value,g=>(M(),de(P(Le),{disabled:!g.isExpandable,pt:{headerAction:{class:["px-0 bg-transparent",g.isExpandable?void 0:"cursor-auto"]},headerIcon:{class:{invisible:!g.isExpandable}}}},ur({header:J(()=>[y("div",xte,[g.title?(M(),de(KA,{key:0,alignment:g.alignment},{default:J(()=>[z(ze(g.title),1)]),_:2},1032,["alignment"])):ee("",!0),g.subTitle?(M(),de(KA,{key:1,alignment:g.alignment,"is-sub-title":""},{default:J(()=>[z(ze(g.subTitle),1)]),_:2},1032,["alignment"])):ee("",!0),g.isExpandable?ee("",!0):(M(),W(Pe,{key:2},[g.countdown?(M(),de(ru,{key:0,time:new Date(g.countdown).getTime(),direction:"down",alignment:g.alignment},null,8,["time","alignment"])):ee("",!0),g.timer?(M(),de(ru,{key:1,time:new Date(g.timer).getTime(),direction:"up",alignment:g.alignment},null,8,["time","alignment"])):ee("",!0)],64))])]),default:J(()=>[g.description?(M(),de($y,{key:0,description:g.description,alignment:g.alignment},null,8,["description","alignment"])):ee("",!0),g.coverImageUrl?(M(),de(WA,{key:1,post:h.post,"cover-image-url":g.coverImageUrl,alignment:g.alignment,"max-height":"30%"},null,8,["post","cover-image-url","alignment"])):ee("",!0),B(cJ,{bullets:g.bullets,alignment:g.alignment},null,8,["bullets","alignment"]),g.isExpandable?(M(),W(Pe,{key:2},[g.countdown?(M(),de(ru,{key:0,time:new Date(g.countdown).getTime(),direction:"down",alignment:g.alignment},null,8,["time","alignment"])):ee("",!0),g.timer?(M(),de(ru,{key:1,time:new Date(g.timer).getTime(),direction:"up",alignment:g.alignment},null,8,["time","alignment"])):ee("",!0)],64)):ee("",!0),g.table?(M(),de(GA,{key:3,table:g.table,alignment:g.alignment},null,8,["table","alignment"])):ee("",!0)]),_:2},[g.isExpandable?void 0:{name:"headericon",fn:J(()=>[]),key:"0"}]),1032,["disabled","pt"]))),256))]),_:1},8,["onTabOpen"])]),_:1},8,["class"]),B(NQ,{post:h.post},null,8,["post"])]}),_:1},8,["id","class","title","subTitle","tags","loading","isCollapsed"]))}}),Dte={key:0,class:"flex justify-center mt-5"},Nte={class:"grid grid-cols-6 mb-5 gap-5"},Mte=Me({__name:"BlogDetails",emits:["createClicked","editClicked","deleteClicked"],setup(t){const e=Dg(),n=X_(),r=yr(),{fetchBlogPost:i,checkBlogPostForUnreadReactions:o}=r,{blogPosts:s,blogReactions:a,isBlogPostDatabaseActionActive:l,isBlogPostsFetchLoading:u}=zt(r),c=ie(),d=ie(),h=te(()=>e.params.postId),p=m=>{m.metadata.hasPendingWrites||l.value||(clearTimeout(d.value),d.value=setTimeout(async()=>{await i(h.value,void 0,{loadingIndicator:!1}),o(s.value.previousData.single,!0)},200))};return Vt(async()=>{var m;if(a.value.unread=[],h.value){let g;if(((m=s.value.data.single)==null?void 0:m.id)!==h.value?g=await i(h.value):g=s.value.data.single,g){const v=ss(g),A=jt.blogPosts(v.isPrivate),I=MD(A,p0("id","==",g.id));c.value=Id(I,p)}else n.push({name:gr.BLOG})}}),Go(()=>{var m;clearTimeout(d.value),(m=c.value)==null||m.call(c)}),(m,g)=>P(u)?(M(),W("div",Dte,[B(at,{class:"w-full md:w-1/2 xl:w-1/4",outlined:"",loading:"",label:"Loading..."})])):(M(),W(Pe,{key:1},[y("div",Nte,[B(at,{class:"col-span-full md:col-start-2 md:col-span-4 lg:col-start-3 lg:col-span-2",type:"tertiary",route:P(gr).BLOG,label:"All Posts"},null,8,["route"])]),P(s).data.single?(M(),de(jM,{key:0,post:P(s).data.single,onEditClicked:g[0]||(g[0]=v=>m.$emit("editClicked",P(s).data.single)),onDeleteClicked:g[1]||(g[1]=v=>m.$emit("deleteClicked",P(s).data.single))},null,8,["post"])):ee("",!0)],64))}}),Lte={key:0,class:"grid grid-cols-6 mb-5 gap-5"},Vte={key:1,class:"grid grid-cols-6 lg:hidden mb-5"},$te={class:"grid gap-4 md:gap-10 xl:gap-20"},Fte={key:2,class:"flex justify-center mt-5"},Ute=Me({__name:"BlogPosts",emits:["createClicked","editClicked","deleteClicked"],setup(t){const e=yr(),{fetchBlogPosts:n,checkBlogPostsForUnreadReactions:r}=e,{blogPosts:i,visibleBlogPosts:o,blogReactions:s,isBlogPostDatabaseActionActive:a,isBlogPostsFetchLoading:l}=zt(e),{isOwner:u,firebaseUser:c}=zt(Ar());let d=[];const h=ie(),p=ie(),m=ie(),g=ie(),v=async S=>{var T;i.value.visibility!==S&&(i.value.data[S].length||await n((T=c.value)==null?void 0:T.uid,{visibility:S}),i.value.visibility=S,i.value.isLastPage=!1,Bp(h.value))},A=async()=>{var T;const S=o.value.length;await n((T=c.value)==null?void 0:T.uid),o.value[S]&&Bp(p.value[S])},I=S=>{S.metadata.hasPendingWrites||a.value||(clearTimeout(g.value),g.value=setTimeout(async()=>{var T;await n((T=c.value)==null?void 0:T.uid,{amount:o.value.length,loadingIndicator:!1}),r()},200))};return Vt(()=>{s.value.unread=[],d.push(Id(jt.blogPosts(!1),I)),d.push(Id(jt.blogReactions(!1),I)),c.value?(d.push(Id(jt.blogPosts(!0),I)),d.push(Id(jt.blogReactions(!0),I)),i.value.visibility="private"):i.value.visibility!=="public"&&(i.value.visibility="public")}),Go(()=>{clearTimeout(g.value),d.forEach(S=>{S()})}),pn(()=>{var S;return(S=p.value)==null?void 0:S.length},()=>{var S;if((S=p.value)!=null&&S.length&&m.value){const T=o.value.find(N=>N.id===m.value);if(T){const N=o.value.indexOf(T);Bp(p.value[N]),m.value=void 0}}}),(S,T)=>(M(),W("div",{ref_key:"container",ref:h},[P(c)?(M(),W("div",Lte,[B(at,{class:"hidden lg:block col-span-2 xl:col-span-1",type:"secondary",outlined:P(i).visibility!=="public",loading:P(i).isLoading.public.fetch,label:"Public Posts",onClick:T[0]||(T[0]=N=>v("public"))},null,8,["outlined","loading"]),P(u)?(M(),de(at,{key:0,class:"col-span-full md:col-start-2 md:col-span-4 lg:col-start-3 lg:col-span-2",type:"tertiary",label:"New Post",onClick:T[1]||(T[1]=N=>S.$emit("createClicked"))})):ee("",!0),B(at,{class:"hidden lg:block col-start-5 col-span-2 xl:col-start-6 xl:col-span-1",type:"secondary",outlined:P(i).visibility!=="private",loading:P(i).isLoading.private.fetch,label:"Private Posts",onClick:T[2]||(T[2]=N=>v("private"))},null,8,["outlined","loading"])])):ee("",!0),P(c)?(M(),W("div",Vte,[B(at,{class:"col-span-3 md:col-start-2 md:col-span-2 rounded-r-none",type:"secondary",outlined:P(i).visibility!=="public",loading:P(i).isLoading.public.fetch,label:"Public Posts",onClick:T[3]||(T[3]=N=>v("public"))},null,8,["outlined","loading"]),B(at,{class:"col-span-3 md:col-start-4 md:col-span-2 rounded-l-none",type:"secondary",outlined:P(i).visibility!=="private",loading:P(i).isLoading.private.fetch,label:"Private Posts",onClick:T[4]||(T[4]=N=>v("private"))},null,8,["outlined","loading"])])):ee("",!0),y("div",$te,[P(o).length?(M(!0),W(Pe,{key:0},ht(P(o),N=>(M(),W("div",{key:N.id,ref_for:!0,ref_key:"posts",ref:p},[B(jM,{post:N,onEditClicked:R=>S.$emit("editClicked",N),onDeleteClicked:R=>S.$emit("deleteClicked",N)},null,8,["post","onEditClicked","onDeleteClicked"])]))),128)):P(l)?ee("",!0):(M(),de(Gn,{key:1,class:"!bg-red-900 !bg-opacity-40 !rounded-primary",title:"No posts"}))]),P(i).isLastPage?ee("",!0):(M(),W("div",Fte,[B(at,{class:"w-full md:w-1/2 xl:w-1/4",outlined:"",loading:P(o).length>0&&P(l),label:"Load more posts",onClick:A},null,8,["loading"])]))],512))}}),qte={key:0,class:"fixed z-10 inset-0 flex items-center justify-center overflow-auto"},Bte={class:"relative w-full md:w-3/4 lg:w-1/2 max-h-screen"},jte={class:"bg-neutral-800 border border-neutral-500 rounded-primary p-5"},Hte={class:"sm:p-8"},Wte={class:"text-title-secondary"},zte={class:"mt-4 text-neutral-300"},Kte={class:"my-2"},Gte={class:"grid grid-cols-4 mt-10 gap-3"},j1=Me({__name:"Dialog",props:{isOpen:{type:Boolean},title:{},description:{},confirmText:{},confirmLoading:{type:Boolean},confirmProps:{}},emits:["confirm","cancel"],setup(t){const e=t;return rf(()=>{document.body.style.overflow=""}),pn(()=>e.isOpen,()=>{e.isOpen?(document.body.style.overflow="hidden",document.body.style.marginRight=`${I7()}px`):(document.body.style.marginRight="",document.body.style.overflow="")}),(n,r)=>n.isOpen?(M(),W("div",qte,[y("div",{class:"fixed inset-0 bg-neutral-900 opacity-50 animation",onClick:r[0]||(r[0]=i=>n.$emit("cancel"))}),y("div",Bte,[y("div",jte,[y("div",Hte,[y("h3",Wte,ze(n.title),1),y("div",zte,[(M(!0),W(Pe,null,ht(Array.isArray(n.description)?[...n.description]:[n.description],i=>(M(),W("p",Kte,ze(i),1))),256))]),Te(n.$slots,"default")]),y("div",Gte,[B(at,{class:$e(["col-span-full",n.confirmText?"md:col-span-2":""]),outlined:"",label:"Cancel",onClick:r[1]||(r[1]=i=>n.$emit("cancel"))},null,8,["class"]),n.confirmText?(M(),de(at,le({key:0,class:"col-span-full md:col-span-2 md:col-start-3",loading:n.confirmLoading},n.confirmProps,{label:n.confirmText,onClick:r[2]||(r[2]=i=>n.$emit("confirm"))}),null,16,["loading","label"])):ee("",!0)])])])])):ee("",!0)}}),jy=t=>(t==null?void 0:t.id)??n1(),Hy=t=>{var e;return{date:(t==null?void 0:t.date)||new Date,dateUpdated:(t==null?void 0:t.dateUpdated)||new Date,title:(t==null?void 0:t.title)??"",description:(t==null?void 0:t.description)??"",descriptionFooter:(t==null?void 0:t.descriptionFooter)??"",coverImageUrl:(t==null?void 0:t.coverImageUrl)??"",timer:(t==null?void 0:t.timer)??null,countdown:(t==null?void 0:t.countdown)??null,table:(t==null?void 0:t.table)??"",sections:((e=t==null?void 0:t.sections)==null?void 0:e.slice().map(n=>({...n,bullets:n.bullets.slice()})))??[],alignment:(t==null?void 0:t.alignment)??"center",colorPrimary:(t==null?void 0:t.colorPrimary)??"",colorSecondary:(t==null?void 0:t.colorSecondary)??"",colorTertiary:(t==null?void 0:t.colorTertiary)??"",opacityPrimary:(t==null?void 0:t.opacityPrimary)??"",opacitySecondary:(t==null?void 0:t.opacitySecondary)??"",opacityTertiary:(t==null?void 0:t.opacityTertiary)??"",locked:(t==null?void 0:t.locked)??!1,allowedUserIds:(t==null?void 0:t.allowedUserIds)??[],archived:(t==null?void 0:t.archived)??!1,datePinned:(t==null?void 0:t.datePinned)??null}},Af=uw("blogPostDialog",{state:()=>({isOpen:!1,blogPostOriginal:null,blogPostMutationId:jy(null),blogPostMutation:Hy(null),blogPostMutationChanges:{hasContentChanges:!1,hasStylingChanges:!1,hasSettingsChanges:!1}}),getters:{blogPostOriginalMutation:t=>t.blogPostOriginal?Ir.convert(t.blogPostOriginal):null,hasBlogPostMutationContentChanges:t=>t.blogPostMutationChanges.hasContentChanges,hasBlogPostMutationStylingChanges:t=>t.blogPostMutationChanges.hasStylingChanges,hasBlogPostMutationSettingsChanges:t=>t.blogPostMutationChanges.hasSettingsChanges},actions:{openWith(t){this.blogPostOriginal=t,this.blogPostMutationId=jy(t),this.blogPostMutation=Hy(t),this.isOpen=!0},close(){this.isOpen=!1,this.blogPostOriginal=null,this.blogPostMutationId=jy(null),this.blogPostMutation=Hy(null)},getBlogPostMutationContent(){return Ir.Content.convert(this.blogPostMutation)},getBlogPostMutationStyling(){return Ir.Styling.convert(this.blogPostMutation)},getBlogPostMutationSettings(){return Ir.Settings.convert(this.blogPostMutation)},async isMutationEqual(){this.blogPostOriginalMutation&&(this.blogPostMutationChanges.hasContentChanges=!vo(Ir.Content.convert(this.blogPostOriginalMutation),this.getBlogPostMutationContent()),this.blogPostMutationChanges.hasStylingChanges=!vo(Ir.Styling.convert(this.blogPostOriginalMutation),this.getBlogPostMutationStyling()),this.blogPostMutationChanges.hasSettingsChanges=!vo(Ir.Settings.convert(this.blogPostOriginalMutation),this.getBlogPostMutationSettings()))}}}),Yte={class:"m-4"},Xte=["for"],tg=Me({__name:"DateField",props:{id:{},name:{},label:{},modelValue:{},labelProps:{}},emits:["update:modelValue","update:error"],setup(t,{expose:e,emit:n}){const r=t,i=te({get:()=>r.modelValue,set:l=>{a("update:modelValue",l)}}),o=te(()=>r.name+(r.id!==void 0?"."+r.id:"")),s=()=>{},a=n;return e({test:s}),(l,u)=>{const c=Dn("VueDatePicker");return M(),W("div",Yte,[l.label?(M(),W("label",le({key:0,class:"block text-sm font-bold mb-2",for:"dp-input-"+o.value},l.labelProps),ze(l.label),17,Xte)):ee("",!0),B(c,{uid:o.value,class:"p-input px-5",modelValue:i.value,"onUpdate:modelValue":u[0]||(u[0]=d=>i.value=d),dark:""},null,8,["uid","modelValue"])])}}}),Qte={class:"m-4"},Jte=["for"],Zte={class:"table w-full"},ene={class:"table-header-group"},tne={key:0,class:"table-row"},nne={class:"table-cell"},rne={class:"table-cell"},ine={class:"table-row-group"},one={key:0,class:"table-cell"},sne={key:1,class:"table-cell"},ane={key:2,class:"table-cell"},lne={class:"table-footer-group"},une={class:"table-row"},cne={class:"table-cell"},HM=Me({__name:"TableField",props:{id:{},name:{},label:{},modelValue:{},labelProps:{}},emits:["update:modelValue","update:error"],setup(t,{emit:e}){const n=t,r=e,o=Vc(Lc).greaterOrEqual("md"),s=te({get:()=>l2(n.modelValue),set:g=>{r("update:modelValue",FI(g))}}),a=te(()=>n.name+(n.id?"."+n.id:"")),l=te(()=>{var g;return o.value&&((g=s.value[0])==null?void 0:g.length)<3}),u=(g,v,A)=>{const I=[...s.value];I[g][v]=A,r("update:modelValue",FI(I))},c=()=>{const g=s.value;if(g.length){const v=g[0];v.length?s.value=[...g,v.map(()=>"")]:s.value=[...g,[""]]}else s.value=[[""]]},d=()=>{s.value=s.value.slice(0,-1)},h=()=>{s.value=s.value.map(g=>[...g,""])},p=()=>{s.value=s.value.map(g=>g.slice(0,-1))},m=(g,v)=>g===v.length-1;return(g,v)=>(M(),W("div",Qte,[g.label?(M(),W("label",le({key:0,class:"block text-sm font-bold mb-2",for:a.value},g.labelProps),ze(g.label),17,Jte)):ee("",!0),y("div",Zte,[y("div",ene,[s.value.length&&s.value[0].length>1?(M(),W("div",tne,[(M(!0),W(Pe,null,ht(s.value[0].slice(0,-1),A=>(M(),W("div",nne))),256)),y("div",rne,[s.value.length&&s.value[0].length?(M(),de(P(Su),{key:0,class:"md:text-start text-nowrap",icon:"pi pi-times",label:l.value?"Remove column":void 0,onClick:p},null,8,["label"])):ee("",!0)])])):ee("",!0)]),y("div",ine,[(M(!0),W(Pe,null,ht(s.value,(A,I)=>(M(),W("div",{key:I,class:"table-row"},[(M(!0),W(Pe,null,ht(A,(S,T)=>(M(),de(ei,{class:"table-cell !m-0",key:T,name:`${g.name}.${I}.${T}`,modelValue:S,placeholder:I===0||T===0?"header":"cell","onUpdate:modelValue":N=>u(I,T,N.toString())},null,8,["name","modelValue","placeholder","onUpdate:modelValue"]))),128)),I===0?(M(),W("div",one,[B(P(Su),{class:"md:text-start text-nowrap",icon:"pi pi-plus",label:l.value?"Add column":void 0,onClick:h},null,8,["label"])])):m(I,s.value)&&s.value.length>1?(M(),W("div",sne,[B(P(Su),{class:"md:text-start text-nowrap",icon:"pi pi-times",label:l.value?"Remove row":void 0,onClick:d},null,8,["label"])])):(M(),W("div",ane))]))),128))]),y("div",lne,[y("div",une,[y("div",cne,[B(P(Su),{class:"md:text-start text-nowrap",icon:"pi pi-plus",label:l.value?"Add row":void 0,onClick:c},null,8,["label"])])])])])]))}}),dne={class:"m-4"},hne=["for"],fne={class:"flex justify-between gap-1"},pne=["id","disabled"],mne={key:2},gne={class:"flex justify-center"},vne=["src"],H1=Me({__name:"FileUpload",props:{id:{},name:{},label:{},modelValue:{},error:{},isPublic:{type:Boolean},blogPost:{},imageProps:{},imageContainerProps:{}},emits:["update:modelValue","update:error"],setup(t,{expose:e,emit:n}){const r=t,{firebaseUser:i}=zt(Ar()),{fetchFileInfo:o,uploadFile:s,deleteFile:a}=yr(),l=ie(),u=ie(null),c=ie(0),d=te(()=>y0(r.modelValue||"uploads/"+n1())),h=te(()=>d.value.name),p=ie(),m=ie(""),g=T=>{const N=T.target;N.files&&N.files.length>0&&(u.value=N.files[0],m.value=u.value.name,v())},v=async()=>{var T,N;u.value&&((T=i.value)!=null&&T.uid)&&await s(d.value,u.value,R=>c.value=R,m.value,(N=i.value)==null?void 0:N.uid,r.isPublic,r.blogPost)&&(S("update:modelValue",await h7(d.value)),u.value=null,c.value=0)},A=async()=>{await a(d.value)?(window.URL.revokeObjectURL(r.modelValue),l.value.value=null,S("update:modelValue","")):S("update:error","Failed to delete File reference")},I=()=>{};pn(()=>r.modelValue,async()=>{var T;p.value=r.modelValue?await o(h.value):void 0,m.value=((T=p.value)==null?void 0:T.name)??""},{immediate:!0});const S=n;return e({test:I}),(T,N)=>(M(),W("div",dne,[T.label?(M(),W("label",{key:0,class:"block text-sm font-bold mb-2",for:`${T.id}`},ze(T.label),9,hne)):ee("",!0),y("div",fne,[y("input",{id:`${T.id}`,ref_key:"fileUpload",ref:l,type:"file",accept:"image/*",onChange:g,class:"p-input",disabled:!!p.value},null,40,pne),T.modelValue?(M(),de(bM,{key:0,onClick:A})):ee("",!0)]),T.error?(M(),de(yv,{key:1,name:T.name,error:T.error},null,8,["name","error"])):ee("",!0),c.value>0?(M(),W("div",mne,"Uploading: "+ze(c.value.toFixed(2))+"%",1)):ee("",!0),y("div",gne,[y("div",Mn(lr(T.imageContainerProps)),[p.value?(M(),W("img",le({key:0,class:"p-input-file mt-4 w-full min-w-25 md:max-w-fit",src:T.modelValue},T.imageProps),null,16,vne)):ee("",!0)],16)])]))}}),yne="modulepreload",bne=function(t,e){return new URL(t,e).href},YA={},_ne=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){const o=document.getElementsByTagName("link");i=Promise.all(n.map(s=>{if(s=bne(s,r),s in YA)return;YA[s]=!0;const a=s.endsWith(".css"),l=a?'[rel="stylesheet"]':"";if(!!r)for(let d=o.length-1;d>=0;d--){const h=o[d];if(h.href===s&&(!a||h.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${s}"]${l}`))return;const c=document.createElement("link");if(c.rel=a?"stylesheet":yne,a||(c.as="script",c.crossOrigin=""),c.href=s,document.head.appendChild(c),a)return new Promise((d,h)=>{c.addEventListener("load",d),c.addEventListener("error",()=>h(new Error(`Unable to preload CSS for ${s}`)))})}))}return i.then(()=>e()).catch(o=>{const s=new Event("vite:preloadError",{cancelable:!0});if(s.payload=o,window.dispatchEvent(s),!s.defaultPrevented)throw o})};var wne=`
/*!
* Quill Editor v1.3.3
* https://quilljs.com/
* Copyright (c) 2014, Jason Chen
* Copyright (c) 2013, salesforce.com
*/
.ql-container {
    box-sizing: border-box;
    font-family: Helvetica, Arial, sans-serif;
    font-size: 13px;
    height: 100%;
    margin: 0px;
    position: relative;
}
.ql-container.ql-disabled .ql-tooltip {
    visibility: hidden;
}
.ql-container.ql-disabled .ql-editor ul[data-checked] > li::before {
    pointer-events: none;
}
.ql-clipboard {
    left: -100000px;
    height: 1px;
    overflow-y: hidden;
    position: absolute;
    top: 50%;
}
.ql-clipboard p {
    margin: 0;
    padding: 0;
}
.ql-editor {
    box-sizing: border-box;
    line-height: 1.42;
    height: 100%;
    outline: none;
    overflow-y: auto;
    padding: 12px 15px;
    tab-size: 4;
    -moz-tab-size: 4;
    text-align: left;
    white-space: pre-wrap;
    word-wrap: break-word;
}
.ql-editor > * {
    cursor: text;
}
.ql-editor p,
.ql-editor ol,
.ql-editor ul,
.ql-editor pre,
.ql-editor blockquote,
.ql-editor h1,
.ql-editor h2,
.ql-editor h3,
.ql-editor h4,
.ql-editor h5,
.ql-editor h6 {
    margin: 0;
    padding: 0;
    counter-reset: list-1 list-2 list-3 list-4 list-5 list-6 list-7 list-8 list-9;
}
.ql-editor ol,
.ql-editor ul {
    padding-left: 1.5rem;
}
.ql-editor ol > li,
.ql-editor ul > li {
    list-style-type: none;
}
.ql-editor ul > li::before {
    content: '\\2022';
}
.ql-editor ul[data-checked='true'],
.ql-editor ul[data-checked='false'] {
    pointer-events: none;
}
.ql-editor ul[data-checked='true'] > li *,
.ql-editor ul[data-checked='false'] > li * {
    pointer-events: all;
}
.ql-editor ul[data-checked='true'] > li::before,
.ql-editor ul[data-checked='false'] > li::before {
    color: #777;
    cursor: pointer;
    pointer-events: all;
}
.ql-editor ul[data-checked='true'] > li::before {
    content: '\\2611';
}
.ql-editor ul[data-checked='false'] > li::before {
    content: '\\2610';
}
.ql-editor li::before {
    display: inline-block;
    white-space: nowrap;
    width: 1.2rem;
}
.ql-editor li:not(.ql-direction-rtl)::before {
    margin-left: -1.5rem;
    margin-right: 0.3rem;
    text-align: right;
}
.ql-editor li.ql-direction-rtl::before {
    margin-left: 0.3rem;
    margin-right: -1.5rem;
}
.ql-editor ol li:not(.ql-direction-rtl),
.ql-editor ul li:not(.ql-direction-rtl) {
    padding-left: 1.5rem;
}
.ql-editor ol li.ql-direction-rtl,
.ql-editor ul li.ql-direction-rtl {
    padding-right: 1.5rem;
}
.ql-editor ol li {
    counter-reset: list-1 list-2 list-3 list-4 list-5 list-6 list-7 list-8 list-9;
    counter-increment: list-0;
}
.ql-editor ol li:before {
    content: counter(list-0, decimal) '. ';
}
.ql-editor ol li.ql-indent-1 {
    counter-increment: list-1;
}
.ql-editor ol li.ql-indent-1:before {
    content: counter(list-1, lower-alpha) '. ';
}
.ql-editor ol li.ql-indent-1 {
    counter-reset: list-2 list-3 list-4 list-5 list-6 list-7 list-8 list-9;
}
.ql-editor ol li.ql-indent-2 {
    counter-increment: list-2;
}
.ql-editor ol li.ql-indent-2:before {
    content: counter(list-2, lower-roman) '. ';
}
.ql-editor ol li.ql-indent-2 {
    counter-reset: list-3 list-4 list-5 list-6 list-7 list-8 list-9;
}
.ql-editor ol li.ql-indent-3 {
    counter-increment: list-3;
}
.ql-editor ol li.ql-indent-3:before {
    content: counter(list-3, decimal) '. ';
}
.ql-editor ol li.ql-indent-3 {
    counter-reset: list-4 list-5 list-6 list-7 list-8 list-9;
}
.ql-editor ol li.ql-indent-4 {
    counter-increment: list-4;
}
.ql-editor ol li.ql-indent-4:before {
    content: counter(list-4, lower-alpha) '. ';
}
.ql-editor ol li.ql-indent-4 {
    counter-reset: list-5 list-6 list-7 list-8 list-9;
}
.ql-editor ol li.ql-indent-5 {
    counter-increment: list-5;
}
.ql-editor ol li.ql-indent-5:before {
    content: counter(list-5, lower-roman) '. ';
}
.ql-editor ol li.ql-indent-5 {
    counter-reset: list-6 list-7 list-8 list-9;
}
.ql-editor ol li.ql-indent-6 {
    counter-increment: list-6;
}
.ql-editor ol li.ql-indent-6:before {
    content: counter(list-6, decimal) '. ';
}
.ql-editor ol li.ql-indent-6 {
    counter-reset: list-7 list-8 list-9;
}
.ql-editor ol li.ql-indent-7 {
    counter-increment: list-7;
}
.ql-editor ol li.ql-indent-7:before {
    content: counter(list-7, lower-alpha) '. ';
}
.ql-editor ol li.ql-indent-7 {
    counter-reset: list-8 list-9;
}
.ql-editor ol li.ql-indent-8 {
    counter-increment: list-8;
}
.ql-editor ol li.ql-indent-8:before {
    content: counter(list-8, lower-roman) '. ';
}
.ql-editor ol li.ql-indent-8 {
    counter-reset: list-9;
}
.ql-editor ol li.ql-indent-9 {
    counter-increment: list-9;
}
.ql-editor ol li.ql-indent-9:before {
    content: counter(list-9, decimal) '. ';
}
.ql-editor .ql-indent-1:not(.ql-direction-rtl) {
    padding-left: 3rem;
}
.ql-editor li.ql-indent-1:not(.ql-direction-rtl) {
    padding-left: 4.5rem;
}
.ql-editor .ql-indent-1.ql-direction-rtl.ql-align-right {
    padding-right: 3rem;
}
.ql-editor li.ql-indent-1.ql-direction-rtl.ql-align-right {
    padding-right: 4.5rem;
}
.ql-editor .ql-indent-2:not(.ql-direction-rtl) {
    padding-left: 6rem;
}
.ql-editor li.ql-indent-2:not(.ql-direction-rtl) {
    padding-left: 7.5rem;
}
.ql-editor .ql-indent-2.ql-direction-rtl.ql-align-right {
    padding-right: 6rem;
}
.ql-editor li.ql-indent-2.ql-direction-rtl.ql-align-right {
    padding-right: 7.5rem;
}
.ql-editor .ql-indent-3:not(.ql-direction-rtl) {
    padding-left: 9rem;
}
.ql-editor li.ql-indent-3:not(.ql-direction-rtl) {
    padding-left: 10.5rem;
}
.ql-editor .ql-indent-3.ql-direction-rtl.ql-align-right {
    padding-right: 9rem;
}
.ql-editor li.ql-indent-3.ql-direction-rtl.ql-align-right {
    padding-right: 10.5rem;
}
.ql-editor .ql-indent-4:not(.ql-direction-rtl) {
    padding-left: 12rem;
}
.ql-editor li.ql-indent-4:not(.ql-direction-rtl) {
    padding-left: 13.5rem;
}
.ql-editor .ql-indent-4.ql-direction-rtl.ql-align-right {
    padding-right: 12rem;
}
.ql-editor li.ql-indent-4.ql-direction-rtl.ql-align-right {
    padding-right: 13.5rem;
}
.ql-editor .ql-indent-5:not(.ql-direction-rtl) {
    padding-left: 15rem;
}
.ql-editor li.ql-indent-5:not(.ql-direction-rtl) {
    padding-left: 16.5rem;
}
.ql-editor .ql-indent-5.ql-direction-rtl.ql-align-right {
    padding-right: 15rem;
}
.ql-editor li.ql-indent-5.ql-direction-rtl.ql-align-right {
    padding-right: 16.5rem;
}
.ql-editor .ql-indent-6:not(.ql-direction-rtl) {
    padding-left: 18rem;
}
.ql-editor li.ql-indent-6:not(.ql-direction-rtl) {
    padding-left: 19.5rem;
}
.ql-editor .ql-indent-6.ql-direction-rtl.ql-align-right {
    padding-right: 18rem;
}
.ql-editor li.ql-indent-6.ql-direction-rtl.ql-align-right {
    padding-right: 19.5rem;
}
.ql-editor .ql-indent-7:not(.ql-direction-rtl) {
    padding-left: 21rem;
}
.ql-editor li.ql-indent-7:not(.ql-direction-rtl) {
    padding-left: 22.5rem;
}
.ql-editor .ql-indent-7.ql-direction-rtl.ql-align-right {
    padding-right: 21rem;
}
.ql-editor li.ql-indent-7.ql-direction-rtl.ql-align-right {
    padding-right: 22.5rem;
}
.ql-editor .ql-indent-8:not(.ql-direction-rtl) {
    padding-left: 24rem;
}
.ql-editor li.ql-indent-8:not(.ql-direction-rtl) {
    padding-left: 25.5rem;
}
.ql-editor .ql-indent-8.ql-direction-rtl.ql-align-right {
    padding-right: 24rem;
}
.ql-editor li.ql-indent-8.ql-direction-rtl.ql-align-right {
    padding-right: 25.5rem;
}
.ql-editor .ql-indent-9:not(.ql-direction-rtl) {
    padding-left: 27rem;
}
.ql-editor li.ql-indent-9:not(.ql-direction-rtl) {
    padding-left: 28.5rem;
}
.ql-editor .ql-indent-9.ql-direction-rtl.ql-align-right {
    padding-right: 27rem;
}
.ql-editor li.ql-indent-9.ql-direction-rtl.ql-align-right {
    padding-right: 28.5rem;
}
.ql-editor .ql-video {
    display: block;
    max-width: 100%;
}
.ql-editor .ql-video.ql-align-center {
    margin: 0 auto;
}
.ql-editor .ql-video.ql-align-right {
    margin: 0 0 0 auto;
}
.ql-editor .ql-bg-black {
    background-color: #000;
}
.ql-editor .ql-bg-red {
    background-color: #e60000;
}
.ql-editor .ql-bg-orange {
    background-color: #f90;
}
.ql-editor .ql-bg-yellow {
    background-color: #ff0;
}
.ql-editor .ql-bg-green {
    background-color: #008a00;
}
.ql-editor .ql-bg-blue {
    background-color: #06c;
}
.ql-editor .ql-bg-purple {
    background-color: #93f;
}
.ql-editor .ql-color-white {
    color: #fff;
}
.ql-editor .ql-color-red {
    color: #e60000;
}
.ql-editor .ql-color-orange {
    color: #f90;
}
.ql-editor .ql-color-yellow {
    color: #ff0;
}
.ql-editor .ql-color-green {
    color: #008a00;
}
.ql-editor .ql-color-blue {
    color: #06c;
}
.ql-editor .ql-color-purple {
    color: #93f;
}
.ql-editor .ql-font-serif {
    font-family: Georgia, Times New Roman, serif;
}
.ql-editor .ql-font-monospace {
    font-family: Monaco, Courier New, monospace;
}
.ql-editor .ql-size-small {
    font-size: 0.75rem;
}
.ql-editor .ql-size-large {
    font-size: 1.5rem;
}
.ql-editor .ql-size-huge {
    font-size: 2.5rem;
}
.ql-editor .ql-direction-rtl {
    direction: rtl;
    text-align: inherit;
}
.ql-editor .ql-align-center {
    text-align: center;
}
.ql-editor .ql-align-justify {
    text-align: justify;
}
.ql-editor .ql-align-right {
    text-align: right;
}
.ql-editor.ql-blank::before {
    color: rgba(0, 0, 0, 0.6);
    content: attr(data-placeholder);
    font-style: italic;
    left: 15px;
    pointer-events: none;
    position: absolute;
    right: 15px;
}
.ql-snow.ql-toolbar:after,
.ql-snow .ql-toolbar:after {
    clear: both;
    content: '';
    display: table;
}
.ql-snow.ql-toolbar button,
.ql-snow .ql-toolbar button {
    background: none;
    border: none;
    cursor: pointer;
    display: inline-block;
    float: left;
    height: 24px;
    padding: 3px 5px;
    width: 28px;
}
.ql-snow.ql-toolbar button svg,
.ql-snow .ql-toolbar button svg {
    float: left;
    height: 100%;
}
.ql-snow.ql-toolbar button:active:hover,
.ql-snow .ql-toolbar button:active:hover {
    outline: none;
}
.ql-snow.ql-toolbar input.ql-image[type='file'],
.ql-snow .ql-toolbar input.ql-image[type='file'] {
    display: none;
}
.ql-snow.ql-toolbar button:hover,
.ql-snow .ql-toolbar button:hover,
.ql-snow.ql-toolbar button:focus,
.ql-snow .ql-toolbar button:focus,
.ql-snow.ql-toolbar button.ql-active,
.ql-snow .ql-toolbar button.ql-active,
.ql-snow.ql-toolbar .ql-picker-label:hover,
.ql-snow .ql-toolbar .ql-picker-label:hover,
.ql-snow.ql-toolbar .ql-picker-label.ql-active,
.ql-snow .ql-toolbar .ql-picker-label.ql-active,
.ql-snow.ql-toolbar .ql-picker-item:hover,
.ql-snow .ql-toolbar .ql-picker-item:hover,
.ql-snow.ql-toolbar .ql-picker-item.ql-selected,
.ql-snow .ql-toolbar .ql-picker-item.ql-selected {
    color: #06c;
}
.ql-snow.ql-toolbar button:hover .ql-fill,
.ql-snow .ql-toolbar button:hover .ql-fill,
.ql-snow.ql-toolbar button:focus .ql-fill,
.ql-snow .ql-toolbar button:focus .ql-fill,
.ql-snow.ql-toolbar button.ql-active .ql-fill,
.ql-snow .ql-toolbar button.ql-active .ql-fill,
.ql-snow.ql-toolbar .ql-picker-label:hover .ql-fill,
.ql-snow .ql-toolbar .ql-picker-label:hover .ql-fill,
.ql-snow.ql-toolbar .ql-picker-label.ql-active .ql-fill,
.ql-snow .ql-toolbar .ql-picker-label.ql-active .ql-fill,
.ql-snow.ql-toolbar .ql-picker-item:hover .ql-fill,
.ql-snow .ql-toolbar .ql-picker-item:hover .ql-fill,
.ql-snow.ql-toolbar .ql-picker-item.ql-selected .ql-fill,
.ql-snow .ql-toolbar .ql-picker-item.ql-selected .ql-fill,
.ql-snow.ql-toolbar button:hover .ql-stroke.ql-fill,
.ql-snow .ql-toolbar button:hover .ql-stroke.ql-fill,
.ql-snow.ql-toolbar button:focus .ql-stroke.ql-fill,
.ql-snow .ql-toolbar button:focus .ql-stroke.ql-fill,
.ql-snow.ql-toolbar button.ql-active .ql-stroke.ql-fill,
.ql-snow .ql-toolbar button.ql-active .ql-stroke.ql-fill,
.ql-snow.ql-toolbar .ql-picker-label:hover .ql-stroke.ql-fill,
.ql-snow .ql-toolbar .ql-picker-label:hover .ql-stroke.ql-fill,
.ql-snow.ql-toolbar .ql-picker-label.ql-active .ql-stroke.ql-fill,
.ql-snow .ql-toolbar .ql-picker-label.ql-active .ql-stroke.ql-fill,
.ql-snow.ql-toolbar .ql-picker-item:hover .ql-stroke.ql-fill,
.ql-snow .ql-toolbar .ql-picker-item:hover .ql-stroke.ql-fill,
.ql-snow.ql-toolbar .ql-picker-item.ql-selected .ql-stroke.ql-fill,
.ql-snow .ql-toolbar .ql-picker-item.ql-selected .ql-stroke.ql-fill {
    fill: #06c;
}
.ql-snow.ql-toolbar button:hover .ql-stroke,
.ql-snow .ql-toolbar button:hover .ql-stroke,
.ql-snow.ql-toolbar button:focus .ql-stroke,
.ql-snow .ql-toolbar button:focus .ql-stroke,
.ql-snow.ql-toolbar button.ql-active .ql-stroke,
.ql-snow .ql-toolbar button.ql-active .ql-stroke,
.ql-snow.ql-toolbar .ql-picker-label:hover .ql-stroke,
.ql-snow .ql-toolbar .ql-picker-label:hover .ql-stroke,
.ql-snow.ql-toolbar .ql-picker-label.ql-active .ql-stroke,
.ql-snow .ql-toolbar .ql-picker-label.ql-active .ql-stroke,
.ql-snow.ql-toolbar .ql-picker-item:hover .ql-stroke,
.ql-snow .ql-toolbar .ql-picker-item:hover .ql-stroke,
.ql-snow.ql-toolbar .ql-picker-item.ql-selected .ql-stroke,
.ql-snow .ql-toolbar .ql-picker-item.ql-selected .ql-stroke,
.ql-snow.ql-toolbar button:hover .ql-stroke-miter,
.ql-snow .ql-toolbar button:hover .ql-stroke-miter,
.ql-snow.ql-toolbar button:focus .ql-stroke-miter,
.ql-snow .ql-toolbar button:focus .ql-stroke-miter,
.ql-snow.ql-toolbar button.ql-active .ql-stroke-miter,
.ql-snow .ql-toolbar button.ql-active .ql-stroke-miter,
.ql-snow.ql-toolbar .ql-picker-label:hover .ql-stroke-miter,
.ql-snow .ql-toolbar .ql-picker-label:hover .ql-stroke-miter,
.ql-snow.ql-toolbar .ql-picker-label.ql-active .ql-stroke-miter,
.ql-snow .ql-toolbar .ql-picker-label.ql-active .ql-stroke-miter,
.ql-snow.ql-toolbar .ql-picker-item:hover .ql-stroke-miter,
.ql-snow .ql-toolbar .ql-picker-item:hover .ql-stroke-miter,
.ql-snow.ql-toolbar .ql-picker-item.ql-selected .ql-stroke-miter,
.ql-snow .ql-toolbar .ql-picker-item.ql-selected .ql-stroke-miter {
    stroke: #06c;
}
@media (pointer: coarse) {
    .ql-snow.ql-toolbar button:hover:not(.ql-active),
    .ql-snow .ql-toolbar button:hover:not(.ql-active) {
        color: #444;
    }
    .ql-snow.ql-toolbar button:hover:not(.ql-active) .ql-fill,
    .ql-snow .ql-toolbar button:hover:not(.ql-active) .ql-fill,
    .ql-snow.ql-toolbar button:hover:not(.ql-active) .ql-stroke.ql-fill,
    .ql-snow .ql-toolbar button:hover:not(.ql-active) .ql-stroke.ql-fill {
        fill: #444;
    }
    .ql-snow.ql-toolbar button:hover:not(.ql-active) .ql-stroke,
    .ql-snow .ql-toolbar button:hover:not(.ql-active) .ql-stroke,
    .ql-snow.ql-toolbar button:hover:not(.ql-active) .ql-stroke-miter,
    .ql-snow .ql-toolbar button:hover:not(.ql-active) .ql-stroke-miter {
        stroke: #444;
    }
}
.ql-snow {
    box-sizing: border-box;
}
.ql-snow * {
    box-sizing: border-box;
}
.ql-snow .ql-hidden {
    display: none;
}
.ql-snow .ql-out-bottom,
.ql-snow .ql-out-top {
    visibility: hidden;
}
.ql-snow .ql-tooltip {
    position: absolute;
    transform: translateY(10px);
}
.ql-snow .ql-tooltip a {
    cursor: pointer;
    text-decoration: none;
}
.ql-snow .ql-tooltip.ql-flip {
    transform: translateY(-10px);
}
.ql-snow .ql-formats {
    display: inline-block;
    vertical-align: middle;
}
.ql-snow .ql-formats:after {
    clear: both;
    content: '';
    display: table;
}
.ql-snow .ql-stroke {
    fill: none;
    stroke: #444;
    stroke-linecap: round;
    stroke-linejoin: round;
    stroke-width: 2;
}
.ql-snow .ql-stroke-miter {
    fill: none;
    stroke: #444;
    stroke-miterlimit: 10;
    stroke-width: 2;
}
.ql-snow .ql-fill,
.ql-snow .ql-stroke.ql-fill {
    fill: #444;
}
.ql-snow .ql-empty {
    fill: none;
}
.ql-snow .ql-even {
    fill-rule: evenodd;
}
.ql-snow .ql-thin,
.ql-snow .ql-stroke.ql-thin {
    stroke-width: 1;
}
.ql-snow .ql-transparent {
    opacity: 0.4;
}
.ql-snow .ql-direction svg:last-child {
    display: none;
}
.ql-snow .ql-direction.ql-active svg:last-child {
    display: inline;
}
.ql-snow .ql-direction.ql-active svg:first-child {
    display: none;
}
.ql-snow .ql-editor h1 {
    font-size: 2rem;
}
.ql-snow .ql-editor h2 {
    font-size: 1.5rem;
}
.ql-snow .ql-editor h3 {
    font-size: 1.17rem;
}
.ql-snow .ql-editor h4 {
    font-size: 1rem;
}
.ql-snow .ql-editor h5 {
    font-size: 0.83rem;
}
.ql-snow .ql-editor h6 {
    font-size: 0.67rem;
}
.ql-snow .ql-editor a {
    text-decoration: underline;
}
.ql-snow .ql-editor blockquote {
    border-left: 4px solid #ccc;
    margin-bottom: 5px;
    margin-top: 5px;
    padding-left: 16px;
}
.ql-snow .ql-editor code,
.ql-snow .ql-editor pre {
    background-color: #f0f0f0;
    border-radius: 3px;
}
.ql-snow .ql-editor pre {
    white-space: pre-wrap;
    margin-bottom: 5px;
    margin-top: 5px;
    padding: 5px 10px;
}
.ql-snow .ql-editor code {
    font-size: 85%;
    padding: 2px 4px;
}
.ql-snow .ql-editor pre.ql-syntax {
    background-color: #23241f;
    color: #f8f8f2;
    overflow: visible;
}
.ql-snow .ql-editor img {
    max-width: 100%;
}
.ql-snow .ql-picker {
    color: #444;
    display: inline-block;
    float: left;
    font-size: 14px;
    font-weight: 500;
    height: 24px;
    position: relative;
    vertical-align: middle;
}
.ql-snow .ql-picker-label {
    cursor: pointer;
    display: inline-block;
    height: 100%;
    padding-left: 8px;
    padding-right: 2px;
    position: relative;
    width: 100%;
}
.ql-snow .ql-picker-label::before {
    display: inline-block;
    line-height: 22px;
}
.ql-snow .ql-picker-options {
    background-color: #fff;
    display: none;
    min-width: 100%;
    padding: 4px 8px;
    position: absolute;
    white-space: nowrap;
}
.ql-snow .ql-picker-options .ql-picker-item {
    cursor: pointer;
    display: block;
    padding-bottom: 5px;
    padding-top: 5px;
}
.ql-snow .ql-picker.ql-expanded .ql-picker-label {
    color: #ccc;
    z-index: 2;
}
.ql-snow .ql-picker.ql-expanded .ql-picker-label .ql-fill {
    fill: #ccc;
}
.ql-snow .ql-picker.ql-expanded .ql-picker-label .ql-stroke {
    stroke: #ccc;
}
.ql-snow .ql-picker.ql-expanded .ql-picker-options {
    display: block;
    margin-top: -1px;
    top: 100%;
    z-index: 1;
}
.ql-snow .ql-color-picker,
.ql-snow .ql-icon-picker {
    width: 28px;
}
.ql-snow .ql-color-picker .ql-picker-label,
.ql-snow .ql-icon-picker .ql-picker-label {
    padding: 2px 4px;
}
.ql-snow .ql-color-picker .ql-picker-label svg,
.ql-snow .ql-icon-picker .ql-picker-label svg {
    right: 4px;
}
.ql-snow .ql-icon-picker .ql-picker-options {
    padding: 4px 0px;
}
.ql-snow .ql-icon-picker .ql-picker-item {
    height: 24px;
    width: 24px;
    padding: 2px 4px;
}
.ql-snow .ql-color-picker .ql-picker-options {
    padding: 3px 5px;
    width: 152px;
}
.ql-snow .ql-color-picker .ql-picker-item {
    border: 1px solid transparent;
    float: left;
    height: 16px;
    margin: 2px;
    padding: 0px;
    width: 16px;
}
.ql-snow .ql-picker:not(.ql-color-picker):not(.ql-icon-picker) svg {
    position: absolute;
    margin-top: -9px;
    right: 0;
    top: 50%;
    width: 18px;
}
.ql-snow .ql-picker.ql-header .ql-picker-label[data-label]:not([data-label=''])::before,
.ql-snow .ql-picker.ql-font .ql-picker-label[data-label]:not([data-label=''])::before,
.ql-snow .ql-picker.ql-size .ql-picker-label[data-label]:not([data-label=''])::before,
.ql-snow .ql-picker.ql-header .ql-picker-item[data-label]:not([data-label=''])::before,
.ql-snow .ql-picker.ql-font .ql-picker-item[data-label]:not([data-label=''])::before,
.ql-snow .ql-picker.ql-size .ql-picker-item[data-label]:not([data-label=''])::before {
    content: attr(data-label);
}
.ql-snow .ql-picker.ql-header {
    width: 98px;
}
.ql-snow .ql-picker.ql-header .ql-picker-label::before,
.ql-snow .ql-picker.ql-header .ql-picker-item::before {
    content: 'Normal';
}
.ql-snow .ql-picker.ql-header .ql-picker-label[data-value='1']::before,
.ql-snow .ql-picker.ql-header .ql-picker-item[data-value='1']::before {
    content: 'Heading 1';
}
.ql-snow .ql-picker.ql-header .ql-picker-label[data-value='2']::before,
.ql-snow .ql-picker.ql-header .ql-picker-item[data-value='2']::before {
    content: 'Heading 2';
}
.ql-snow .ql-picker.ql-header .ql-picker-label[data-value='3']::before,
.ql-snow .ql-picker.ql-header .ql-picker-item[data-value='3']::before {
    content: 'Heading 3';
}
.ql-snow .ql-picker.ql-header .ql-picker-label[data-value='4']::before,
.ql-snow .ql-picker.ql-header .ql-picker-item[data-value='4']::before {
    content: 'Heading 4';
}
.ql-snow .ql-picker.ql-header .ql-picker-label[data-value='5']::before,
.ql-snow .ql-picker.ql-header .ql-picker-item[data-value='5']::before {
    content: 'Heading 5';
}
.ql-snow .ql-picker.ql-header .ql-picker-label[data-value='6']::before,
.ql-snow .ql-picker.ql-header .ql-picker-item[data-value='6']::before {
    content: 'Heading 6';
}
.ql-snow .ql-picker.ql-header .ql-picker-item[data-value='1']::before {
    font-size: 2rem;
}
.ql-snow .ql-picker.ql-header .ql-picker-item[data-value='2']::before {
    font-size: 1.5rem;
}
.ql-snow .ql-picker.ql-header .ql-picker-item[data-value='3']::before {
    font-size: 1.17rem;
}
.ql-snow .ql-picker.ql-header .ql-picker-item[data-value='4']::before {
    font-size: 1rem;
}
.ql-snow .ql-picker.ql-header .ql-picker-item[data-value='5']::before {
    font-size: 0.83rem;
}
.ql-snow .ql-picker.ql-header .ql-picker-item[data-value='6']::before {
    font-size: 0.67rem;
}
.ql-snow .ql-picker.ql-font {
    width: 108px;
}
.ql-snow .ql-picker.ql-font .ql-picker-label::before,
.ql-snow .ql-picker.ql-font .ql-picker-item::before {
    content: 'Sans Serif';
}
.ql-snow .ql-picker.ql-font .ql-picker-label[data-value='serif']::before,
.ql-snow .ql-picker.ql-font .ql-picker-item[data-value='serif']::before {
    content: 'Serif';
}
.ql-snow .ql-picker.ql-font .ql-picker-label[data-value='monospace']::before,
.ql-snow .ql-picker.ql-font .ql-picker-item[data-value='monospace']::before {
    content: 'Monospace';
}
.ql-snow .ql-picker.ql-font .ql-picker-item[data-value='serif']::before {
    font-family: Georgia, Times New Roman, serif;
}
.ql-snow .ql-picker.ql-font .ql-picker-item[data-value='monospace']::before {
    font-family: Monaco, Courier New, monospace;
}
.ql-snow .ql-picker.ql-size {
    width: 98px;
}
.ql-snow .ql-picker.ql-size .ql-picker-label::before,
.ql-snow .ql-picker.ql-size .ql-picker-item::before {
    content: 'Normal';
}
.ql-snow .ql-picker.ql-size .ql-picker-label[data-value='small']::before,
.ql-snow .ql-picker.ql-size .ql-picker-item[data-value='small']::before {
    content: 'Small';
}
.ql-snow .ql-picker.ql-size .ql-picker-label[data-value='large']::before,
.ql-snow .ql-picker.ql-size .ql-picker-item[data-value='large']::before {
    content: 'Large';
}
.ql-snow .ql-picker.ql-size .ql-picker-label[data-value='huge']::before,
.ql-snow .ql-picker.ql-size .ql-picker-item[data-value='huge']::before {
    content: 'Huge';
}
.ql-snow .ql-picker.ql-size .ql-picker-item[data-value='small']::before {
    font-size: 10px;
}
.ql-snow .ql-picker.ql-size .ql-picker-item[data-value='large']::before {
    font-size: 18px;
}
.ql-snow .ql-picker.ql-size .ql-picker-item[data-value='huge']::before {
    font-size: 32px;
}
.ql-snow .ql-color-picker.ql-background .ql-picker-item {
    background-color: #fff;
}
.ql-snow .ql-color-picker.ql-color .ql-picker-item {
    background-color: #000;
}
.ql-toolbar.ql-snow {
    border: 1px solid #ccc;
    box-sizing: border-box;
    font-family: 'Helvetica Neue', 'Helvetica', 'Arial', sans-serif;
    padding: 8px;
}
.ql-toolbar.ql-snow .ql-formats {
    margin-right: 15px;
}
.ql-toolbar.ql-snow .ql-picker-label {
    border: 1px solid transparent;
}
.ql-toolbar.ql-snow .ql-picker-options {
    border: 1px solid transparent;
    box-shadow: rgba(0, 0, 0, 0.2) 0 2px 8px;
}
.ql-toolbar.ql-snow .ql-picker.ql-expanded .ql-picker-label {
    border-color: #ccc;
}
.ql-toolbar.ql-snow .ql-picker.ql-expanded .ql-picker-options {
    border-color: #ccc;
}
.ql-toolbar.ql-snow .ql-color-picker .ql-picker-item.ql-selected,
.ql-toolbar.ql-snow .ql-color-picker .ql-picker-item:hover {
    border-color: #000;
}
.ql-toolbar.ql-snow + .ql-container.ql-snow {
    border-top: 0px;
}
.ql-snow .ql-tooltip {
    background-color: #fff;
    border: 1px solid #ccc;
    box-shadow: 0px 0px 5px #ddd;
    color: #444;
    padding: 5px 12px;
    white-space: nowrap;
}
.ql-snow .ql-tooltip::before {
    content: 'Visit URL:';
    line-height: 26px;
    margin-right: 8px;
}
.ql-snow .ql-tooltip input[type='text'] {
    display: none;
    border: 1px solid #ccc;
    font-size: 13px;
    height: 26px;
    margin: 0px;
    padding: 3px 5px;
    width: 170px;
}
.ql-snow .ql-tooltip a.ql-preview {
    display: inline-block;
    max-width: 200px;
    overflow-x: hidden;
    text-overflow: ellipsis;
    vertical-align: top;
}
.ql-snow .ql-tooltip a.ql-action::after {
    border-right: 1px solid #ccc;
    content: 'Edit';
    margin-left: 16px;
    padding-right: 8px;
}
.ql-snow .ql-tooltip a.ql-remove::before {
    content: 'Remove';
    margin-left: 8px;
}
.ql-snow .ql-tooltip a {
    line-height: 26px;
}
.ql-snow .ql-tooltip.ql-editing a.ql-preview,
.ql-snow .ql-tooltip.ql-editing a.ql-remove {
    display: none;
}
.ql-snow .ql-tooltip.ql-editing input[type='text'] {
    display: inline-block;
}
.ql-snow .ql-tooltip.ql-editing a.ql-action::after {
    border-right: 0px;
    content: 'Save';
    padding-right: 0px;
}
.ql-snow .ql-tooltip[data-mode='link']::before {
    content: 'Enter link:';
}
.ql-snow .ql-tooltip[data-mode='formula']::before {
    content: 'Enter formula:';
}
.ql-snow .ql-tooltip[data-mode='video']::before {
    content: 'Enter video:';
}
.ql-snow a {
    color: #06c;
}
.ql-container.ql-snow {
    border: 1px solid #ccc;
}
`,Tne={root:"p-editor-container",toolbar:"p-editor-toolbar",content:"p-editor-content"},XA=dr.extend({name:"editor",css:wne,classes:Tne}),Ene={name:"BaseEditor",extends:si,props:{modelValue:String,placeholder:String,readonly:Boolean,formats:Array,editorStyle:null,modules:null},style:XA,provide:function(){return{$parentInstance:this}},beforeMount:function(){var e;XA.loadStyle({nonce:(e=this.$primevue)===null||e===void 0||(e=e.config)===null||e===void 0||(e=e.csp)===null||e===void 0?void 0:e.nonce})}};function Bh(t){"@babel/helpers - typeof";return Bh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bh(t)}function QA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Sne(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?QA(Object(n),!0).forEach(function(r){Ine(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):QA(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ine(t,e,n){return e=Cne(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Cne(t){var e=Ane(t,"string");return Bh(e)=="symbol"?e:String(e)}function Ane(t,e){if(Bh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Bh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var JA=function(){try{return window.Quill}catch{return null}}(),WM={name:"Editor",extends:Ene,inheritAttrs:!1,emits:["update:modelValue","text-change","selection-change","load"],data:function(){return{reRenderColorKey:0}},quill:null,watch:{modelValue:function(e,n){e!==n&&this.quill&&!this.quill.hasFocus()&&(this.reRenderColorKey++,this.renderValue(e))},readonly:function(){this.handleReadOnlyChange()}},mounted:function(){var e=this,n={modules:Sne({toolbar:this.$refs.toolbarElement},this.modules),readOnly:this.readonly,theme:"snow",formats:this.formats,placeholder:this.placeholder};JA?(this.quill=new JA(this.$refs.editorElement,n),this.initQuill(),this.handleLoad()):_ne(()=>import("./assets/quill-TCVaegbI.js"),__vite__mapDeps([]),import.meta.url).then(function(r){r&&We.isExist(e.$refs.editorElement)&&(r.default?e.quill=new r.default(e.$refs.editorElement,n):e.quill=new r(e.$refs.editorElement,n),e.initQuill())}).then(function(){e.handleLoad()})},beforeUnmount:function(){this.quill=null},methods:{renderValue:function(e){this.quill&&(e?this.quill.setContents(this.quill.clipboard.convert(e)):this.quill.setText(""))},initQuill:function(){var e=this;this.renderValue(this.modelValue),this.quill.on("text-change",function(n,r,i){if(i==="user"){var o=e.$refs.editorElement.children[0].innerHTML,s=e.quill.getText().trim();o==="<p><br></p>"&&(o=""),e.$emit("update:modelValue",o),e.$emit("text-change",{htmlValue:o,textValue:s,delta:n,source:i,instance:e.quill})}}),this.quill.on("selection-change",function(n,r,i){var o=e.$refs.editorElement.children[0].innerHTML,s=e.quill.getText().trim();e.$emit("selection-change",{htmlValue:o,textValue:s,range:n,oldRange:r,source:i,instance:e.quill})})},handleLoad:function(){this.quill&&this.quill.getModule("toolbar")&&this.$emit("load",{instance:this.quill})},handleReadOnlyChange:function(){this.quill&&this.quill.enable(!this.readonly)}}};function Pne(t,e,n,r,i,o){return M(),W("div",le({class:t.cx("root")},t.ptmi("root")),[y("div",le({ref:"toolbarElement",class:t.cx("toolbar")},t.ptm("toolbar")),[Te(t.$slots,"toolbar",{},function(){return[y("span",le({class:"ql-formats"},t.ptm("formats")),[y("select",le({class:"ql-header",defaultValue:"0"},t.ptm("header")),[y("option",le({value:"1"},t.ptm("option")),"Heading",16),y("option",le({value:"2"},t.ptm("option")),"Subheading",16),y("option",le({value:"0"},t.ptm("option")),"Normal",16)],16),y("select",le({class:"ql-font"},t.ptm("font")),[y("option",Mn(lr(t.ptm("option"))),null,16),y("option",le({value:"serif"},t.ptm("option")),null,16),y("option",le({value:"monospace"},t.ptm("option")),null,16)],16)],16),y("span",le({class:"ql-formats"},t.ptm("formats")),[y("button",le({class:"ql-bold",type:"button"},t.ptm("bold")),null,16),y("button",le({class:"ql-italic",type:"button"},t.ptm("italic")),null,16),y("button",le({class:"ql-underline",type:"button"},t.ptm("underline")),null,16)],16),(M(),W("span",le({key:i.reRenderColorKey,class:"ql-formats"},t.ptm("formats")),[y("select",le({class:"ql-color"},t.ptm("color")),null,16),y("select",le({class:"ql-background"},t.ptm("background")),null,16)],16)),y("span",le({class:"ql-formats"},t.ptm("formats")),[y("button",le({class:"ql-list",value:"ordered",type:"button"},t.ptm("list")),null,16),y("button",le({class:"ql-list",value:"bullet",type:"button"},t.ptm("list")),null,16),y("select",le({class:"ql-align"},t.ptm("select")),[y("option",le({defaultValue:""},t.ptm("option")),null,16),y("option",le({value:"center"},t.ptm("option")),null,16),y("option",le({value:"right"},t.ptm("option")),null,16),y("option",le({value:"justify"},t.ptm("option")),null,16)],16)],16),y("span",le({class:"ql-formats"},t.ptm("formats")),[y("button",le({class:"ql-link",type:"button"},t.ptm("link")),null,16),y("button",le({class:"ql-image",type:"button"},t.ptm("image")),null,16),y("button",le({class:"ql-code-block",type:"button"},t.ptm("codeBlock")),null,16)],16),y("span",le({class:"ql-formats"},t.ptm("formats")),[y("button",le({class:"ql-clean",type:"button"},t.ptm("clean")),null,16)],16)]})],16),y("div",le({ref:"editorElement",class:t.cx("content"),style:t.editorStyle},t.ptm("content")),null,16)],16)}WM.render=Pne;const One={class:"m-4"},kne=["for"],X0=Me({__name:"RichTextEditor",props:{id:{},name:{},label:{},placeholder:{},modelValue:{},error:{},rules:{},editorProps:{},labelProps:{},minLength:{},maxLength:{}},emits:["update:modelValue","update:error","click"],setup(t,{expose:e,emit:n}){const r=t,i=te({get:()=>r.modelValue||"",set:c=>{u("update:modelValue",c),l(c)}}),o=te(()=>r.label?r.label+((r.rules??[]).some(c=>c.type===bv.Required)?" *":""):void 0),s=te(()=>r.name+(r.id?"."+r.id:"")),a=({instance:c})=>{c.setContents(c.clipboard.convert({html:i.value}))},l=async c=>{const d=c||i.value,h=r.rules||[];typeof r.minLength=="number"&&h.push(Dt.MinLength),typeof r.maxLength=="number"&&h.push(Dt.MaxLength);const p={value:d,minLength:r.minLength,maxLength:r.maxLength},m=h.filter(g=>!g.test(p)).map(g=>{var v;return((v=g.compareError)==null?void 0:v.call(g,p))||g.error(p)})||[];u("update:error",m[0]||"")},u=n;return e({test:l}),(c,d)=>(M(),W("div",One,[c.label?(M(),W("label",le({key:0,class:"block text-sm font-bold mb-2",for:s.value},c.labelProps),ze(o.value),17,kne)):ee("",!0),B(P(WM),le({id:s.value,placeholder:c.placeholder,modelValue:i.value,"onUpdate:modelValue":d[0]||(d[0]=h=>i.value=h),onLoad:a},c.editorProps),null,16,["id","placeholder","modelValue"]),c.error?(M(),de(yv,{key:1,name:c.name,error:c.error},null,8,["name","error"])):ee("",!0)]))}}),Rne={class:"m-4"},xne=["for"],zr=Me({__name:"SelectField",props:{id:{},name:{},label:{},modelValue:{},placeholder:{},error:{},rules:{},options:{},multiple:{type:Boolean}},emits:["update:modelValue","update:arrayValue","update:error"],setup(t,{expose:e,emit:n}){const r=t,i=n,o=te(()=>(r.rules??[]).some(p=>p.type===bv.Required)),s=te({get:()=>{if(r.multiple){const p=Array.isArray(r.modelValue)?r.modelValue:[];return p.length?p:o.value?r.options.length?[r.options[0].value]:[]:[]}else{const p=typeof r.modelValue=="string"||typeof r.modelValue=="number"?r.modelValue:"";return p||(r.options.length?r.options[0].value:"")}},set:p=>{i("update:modelValue",Ya(p)[0]),i("update:arrayValue",Ya(p))}}),a=te(()=>r.label+(o.value?" *":"")),l=te(()=>r.name+(r.id?"."+r.id:"")),u=te(()=>r.options.find(({value:p})=>p===s.value)),c=te(()=>{var p,m,g;return[((p=u.value)==null?void 0:p.background)??"bg-transparent",(m=u.value)!=null&&m.background?"bg-opacity-90":"bg-opacity-40",((g=u.value)==null?void 0:g.text)??"text-black"]}),d=te(()=>Ya(s.value).map(p=>{var m;return(m=r.options.find(g=>g.value===p))==null?void 0:m.label}).join(", "));return Vt(()=>{o.value&&(i("update:modelValue",Ya(s.value)[0]),i("update:arrayValue",Ya(s.value)))}),e({test:async()=>{const p=r.rules||[];let m="";for(const g of Ya(s.value)){const v={value:g.toString()},A=p.filter(I=>!I.test(v)).map(I=>I.error(v))||[];if(A[0]){m=A[0];break}}i("update:error",m)}}),(p,m)=>(M(),W("div",Rne,[y("label",{class:"block text-sm font-bold mb-2",for:l.value},ze(a.value),9,xne),y("div",null,[(M(),de(xn(p.multiple?"PrimeMultiSelect":"PrimeDropdown"),{inputId:l.value,modelValue:s.value,"onUpdate:modelValue":m[0]||(m[0]=g=>s.value=g),placeholder:p.placeholder??"No option selected",class:"w-full p-input p-0",multiple:p.multiple,options:p.options,optionValue:"value",pt:{trigger:{class:c.value}}},{value:J(({placeholder:g})=>{var v;return[y("span",{class:$e(["block w-full p-2",...c.value])},ze((p.multiple?d.value:(v=u.value)==null?void 0:v.label)||g),3)]}),option:J(({option:g})=>[y("span",{class:$e(["w-full p-2",g.background,g.background?"bg-opacity-90":"bg-opacity-40",g.text])},ze(g.label),3)]),_:1},8,["inputId","modelValue","placeholder","multiple","options","pt"]))]),p.error?(M(),de(yv,{key:0,name:p.name,error:p.error},null,8,["name","error"])):ee("",!0)]))}});var Dne=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Nne(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function zM(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var KM={exports:{}};const Mne=zM(V4);/**!
 * Sortable 1.14.0
 * @author	RubaXa   <trash@rubaxa.org>
 * @author	owenm    <owen23355@gmail.com>
 * @license MIT
 */function ZA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ko(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ZA(Object(n),!0).forEach(function(r){Lne(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ZA(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Qp(t){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Qp=function(e){return typeof e}:Qp=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qp(t)}function Lne(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ji(){return Ji=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ji.apply(this,arguments)}function Vne(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function $ne(t,e){if(t==null)return{};var n=Vne(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Fne(t){return Une(t)||qne(t)||Bne(t)||jne()}function Une(t){if(Array.isArray(t))return Q0(t)}function qne(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Bne(t,e){if(t){if(typeof t=="string")return Q0(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Q0(t,e)}}function Q0(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function jne(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Hne="1.14.0";function _s(t){if(typeof window<"u"&&window.navigator)return!!navigator.userAgent.match(t)}var ks=_s(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),Pf=_s(/Edge/i),eP=_s(/firefox/i),Zd=_s(/safari/i)&&!_s(/chrome/i)&&!_s(/android/i),GM=_s(/iP(ad|od|hone)/i),Wne=_s(/chrome/i)&&_s(/android/i),YM={capture:!1,passive:!1};function Rt(t,e,n){t.addEventListener(e,n,!ks&&YM)}function Ot(t,e,n){t.removeEventListener(e,n,!ks&&YM)}function ng(t,e){if(e){if(e[0]===">"&&(e=e.substring(1)),t)try{if(t.matches)return t.matches(e);if(t.msMatchesSelector)return t.msMatchesSelector(e);if(t.webkitMatchesSelector)return t.webkitMatchesSelector(e)}catch{return!1}return!1}}function zne(t){return t.host&&t!==document&&t.host.nodeType?t.host:t.parentNode}function uo(t,e,n,r){if(t){n=n||document;do{if(e!=null&&(e[0]===">"?t.parentNode===n&&ng(t,e):ng(t,e))||r&&t===n)return t;if(t===n)break}while(t=zne(t))}return null}var tP=/\s+/g;function $n(t,e,n){if(t&&e)if(t.classList)t.classList[n?"add":"remove"](e);else{var r=(" "+t.className+" ").replace(tP," ").replace(" "+e+" "," ");t.className=(r+(n?" "+e:"")).replace(tP," ")}}function st(t,e,n){var r=t&&t.style;if(r){if(n===void 0)return document.defaultView&&document.defaultView.getComputedStyle?n=document.defaultView.getComputedStyle(t,""):t.currentStyle&&(n=t.currentStyle),e===void 0?n:n[e];!(e in r)&&e.indexOf("webkit")===-1&&(e="-webkit-"+e),r[e]=n+(typeof n=="string"?"":"px")}}function ml(t,e){var n="";if(typeof t=="string")n=t;else do{var r=st(t,"transform");r&&r!=="none"&&(n=r+" "+n)}while(!e&&(t=t.parentNode));var i=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return i&&new i(n)}function XM(t,e,n){if(t){var r=t.getElementsByTagName(e),i=0,o=r.length;if(n)for(;i<o;i++)n(r[i],i);return r}return[]}function Bo(){var t=document.scrollingElement;return t||document.documentElement}function Rn(t,e,n,r,i){if(!(!t.getBoundingClientRect&&t!==window)){var o,s,a,l,u,c,d;if(t!==window&&t.parentNode&&t!==Bo()?(o=t.getBoundingClientRect(),s=o.top,a=o.left,l=o.bottom,u=o.right,c=o.height,d=o.width):(s=0,a=0,l=window.innerHeight,u=window.innerWidth,c=window.innerHeight,d=window.innerWidth),(e||n)&&t!==window&&(i=i||t.parentNode,!ks))do if(i&&i.getBoundingClientRect&&(st(i,"transform")!=="none"||n&&st(i,"position")!=="static")){var h=i.getBoundingClientRect();s-=h.top+parseInt(st(i,"border-top-width")),a-=h.left+parseInt(st(i,"border-left-width")),l=s+o.height,u=a+o.width;break}while(i=i.parentNode);if(r&&t!==window){var p=ml(i||t),m=p&&p.a,g=p&&p.d;p&&(s/=g,a/=m,d/=m,c/=g,l=s+c,u=a+d)}return{top:s,left:a,bottom:l,right:u,width:d,height:c}}}function nP(t,e,n){for(var r=oa(t,!0),i=Rn(t)[e];r;){var o=Rn(r)[n],s=void 0;if(n==="top"||n==="left"?s=i>=o:s=i<=o,!s)return r;if(r===Bo())break;r=oa(r,!1)}return!1}function yc(t,e,n,r){for(var i=0,o=0,s=t.children;o<s.length;){if(s[o].style.display!=="none"&&s[o]!==gt.ghost&&(r||s[o]!==gt.dragged)&&uo(s[o],n.draggable,t,!1)){if(i===e)return s[o];i++}o++}return null}function W1(t,e){for(var n=t.lastElementChild;n&&(n===gt.ghost||st(n,"display")==="none"||e&&!ng(n,e));)n=n.previousElementSibling;return n||null}function Kn(t,e){var n=0;if(!t||!t.parentNode)return-1;for(;t=t.previousElementSibling;)t.nodeName.toUpperCase()!=="TEMPLATE"&&t!==gt.clone&&(!e||ng(t,e))&&n++;return n}function rP(t){var e=0,n=0,r=Bo();if(t)do{var i=ml(t),o=i.a,s=i.d;e+=t.scrollLeft*o,n+=t.scrollTop*s}while(t!==r&&(t=t.parentNode));return[e,n]}function Kne(t,e){for(var n in t)if(t.hasOwnProperty(n)){for(var r in e)if(e.hasOwnProperty(r)&&e[r]===t[n][r])return Number(n)}return-1}function oa(t,e){if(!t||!t.getBoundingClientRect)return Bo();var n=t,r=!1;do if(n.clientWidth<n.scrollWidth||n.clientHeight<n.scrollHeight){var i=st(n);if(n.clientWidth<n.scrollWidth&&(i.overflowX=="auto"||i.overflowX=="scroll")||n.clientHeight<n.scrollHeight&&(i.overflowY=="auto"||i.overflowY=="scroll")){if(!n.getBoundingClientRect||n===document.body)return Bo();if(r||e)return n;r=!0}}while(n=n.parentNode);return Bo()}function Gne(t,e){if(t&&e)for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}function Wy(t,e){return Math.round(t.top)===Math.round(e.top)&&Math.round(t.left)===Math.round(e.left)&&Math.round(t.height)===Math.round(e.height)&&Math.round(t.width)===Math.round(e.width)}var eh;function QM(t,e){return function(){if(!eh){var n=arguments,r=this;n.length===1?t.call(r,n[0]):t.apply(r,n),eh=setTimeout(function(){eh=void 0},e)}}}function Yne(){clearTimeout(eh),eh=void 0}function JM(t,e,n){t.scrollLeft+=e,t.scrollTop+=n}function z1(t){var e=window.Polymer,n=window.jQuery||window.Zepto;return e&&e.dom?e.dom(t).cloneNode(!0):n?n(t).clone(!0)[0]:t.cloneNode(!0)}function iP(t,e){st(t,"position","absolute"),st(t,"top",e.top),st(t,"left",e.left),st(t,"width",e.width),st(t,"height",e.height)}function zy(t){st(t,"position",""),st(t,"top",""),st(t,"left",""),st(t,"width",""),st(t,"height","")}var Qr="Sortable"+new Date().getTime();function Xne(){var t=[],e;return{captureAnimationState:function(){if(t=[],!!this.options.animation){var r=[].slice.call(this.el.children);r.forEach(function(i){if(!(st(i,"display")==="none"||i===gt.ghost)){t.push({target:i,rect:Rn(i)});var o=Ko({},t[t.length-1].rect);if(i.thisAnimationDuration){var s=ml(i,!0);s&&(o.top-=s.f,o.left-=s.e)}i.fromRect=o}})}},addAnimationState:function(r){t.push(r)},removeAnimationState:function(r){t.splice(Kne(t,{target:r}),1)},animateAll:function(r){var i=this;if(!this.options.animation){clearTimeout(e),typeof r=="function"&&r();return}var o=!1,s=0;t.forEach(function(a){var l=0,u=a.target,c=u.fromRect,d=Rn(u),h=u.prevFromRect,p=u.prevToRect,m=a.rect,g=ml(u,!0);g&&(d.top-=g.f,d.left-=g.e),u.toRect=d,u.thisAnimationDuration&&Wy(h,d)&&!Wy(c,d)&&(m.top-d.top)/(m.left-d.left)===(c.top-d.top)/(c.left-d.left)&&(l=Jne(m,h,p,i.options)),Wy(d,c)||(u.prevFromRect=c,u.prevToRect=d,l||(l=i.options.animation),i.animate(u,m,d,l)),l&&(o=!0,s=Math.max(s,l),clearTimeout(u.animationResetTimer),u.animationResetTimer=setTimeout(function(){u.animationTime=0,u.prevFromRect=null,u.fromRect=null,u.prevToRect=null,u.thisAnimationDuration=null},l),u.thisAnimationDuration=l)}),clearTimeout(e),o?e=setTimeout(function(){typeof r=="function"&&r()},s):typeof r=="function"&&r(),t=[]},animate:function(r,i,o,s){if(s){st(r,"transition",""),st(r,"transform","");var a=ml(this.el),l=a&&a.a,u=a&&a.d,c=(i.left-o.left)/(l||1),d=(i.top-o.top)/(u||1);r.animatingX=!!c,r.animatingY=!!d,st(r,"transform","translate3d("+c+"px,"+d+"px,0)"),this.forRepaintDummy=Qne(r),st(r,"transition","transform "+s+"ms"+(this.options.easing?" "+this.options.easing:"")),st(r,"transform","translate3d(0,0,0)"),typeof r.animated=="number"&&clearTimeout(r.animated),r.animated=setTimeout(function(){st(r,"transition",""),st(r,"transform",""),r.animated=!1,r.animatingX=!1,r.animatingY=!1},s)}}}}function Qne(t){return t.offsetWidth}function Jne(t,e,n,r){return Math.sqrt(Math.pow(e.top-t.top,2)+Math.pow(e.left-t.left,2))/Math.sqrt(Math.pow(e.top-n.top,2)+Math.pow(e.left-n.left,2))*r.animation}var su=[],Ky={initializeByDefault:!0},Of={mount:function(e){for(var n in Ky)Ky.hasOwnProperty(n)&&!(n in e)&&(e[n]=Ky[n]);su.forEach(function(r){if(r.pluginName===e.pluginName)throw"Sortable: Cannot mount plugin ".concat(e.pluginName," more than once")}),su.push(e)},pluginEvent:function(e,n,r){var i=this;this.eventCanceled=!1,r.cancel=function(){i.eventCanceled=!0};var o=e+"Global";su.forEach(function(s){n[s.pluginName]&&(n[s.pluginName][o]&&n[s.pluginName][o](Ko({sortable:n},r)),n.options[s.pluginName]&&n[s.pluginName][e]&&n[s.pluginName][e](Ko({sortable:n},r)))})},initializePlugins:function(e,n,r,i){su.forEach(function(a){var l=a.pluginName;if(!(!e.options[l]&&!a.initializeByDefault)){var u=new a(e,n,e.options);u.sortable=e,u.options=e.options,e[l]=u,Ji(r,u.defaults)}});for(var o in e.options)if(e.options.hasOwnProperty(o)){var s=this.modifyOption(e,o,e.options[o]);typeof s<"u"&&(e.options[o]=s)}},getEventProperties:function(e,n){var r={};return su.forEach(function(i){typeof i.eventProperties=="function"&&Ji(r,i.eventProperties.call(n[i.pluginName],e))}),r},modifyOption:function(e,n,r){var i;return su.forEach(function(o){e[o.pluginName]&&o.optionListeners&&typeof o.optionListeners[n]=="function"&&(i=o.optionListeners[n].call(e[o.pluginName],r))}),i}};function Pd(t){var e=t.sortable,n=t.rootEl,r=t.name,i=t.targetEl,o=t.cloneEl,s=t.toEl,a=t.fromEl,l=t.oldIndex,u=t.newIndex,c=t.oldDraggableIndex,d=t.newDraggableIndex,h=t.originalEvent,p=t.putSortable,m=t.extraEventProperties;if(e=e||n&&n[Qr],!!e){var g,v=e.options,A="on"+r.charAt(0).toUpperCase()+r.substr(1);window.CustomEvent&&!ks&&!Pf?g=new CustomEvent(r,{bubbles:!0,cancelable:!0}):(g=document.createEvent("Event"),g.initEvent(r,!0,!0)),g.to=s||n,g.from=a||n,g.item=i||n,g.clone=o,g.oldIndex=l,g.newIndex=u,g.oldDraggableIndex=c,g.newDraggableIndex=d,g.originalEvent=h,g.pullMode=p?p.lastPutMode:void 0;var I=Ko(Ko({},m),Of.getEventProperties(r,e));for(var S in I)g[S]=I[S];n&&n.dispatchEvent(g),v[A]&&v[A].call(e,g)}}var Zne=["evt"],gi=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=r.evt,o=$ne(r,Zne);Of.pluginEvent.bind(gt)(e,n,Ko({dragEl:Be,parentEl:Hn,ghostEl:St,rootEl:kn,nextEl:Qa,lastDownEl:Jp,cloneEl:Wn,cloneHidden:ra,dragStarted:Od,putSortable:xr,activeSortable:gt.active,originalEvent:i,oldIndex:Pu,oldDraggableIndex:th,newIndex:xi,newDraggableIndex:Xs,hideGhostForTarget:nL,unhideGhostForTarget:rL,cloneNowHidden:function(){ra=!0},cloneNowShown:function(){ra=!1},dispatchSortableEvent:function(a){di({sortable:n,name:a,originalEvent:i})}},o))};function di(t){Pd(Ko({putSortable:xr,cloneEl:Wn,targetEl:Be,rootEl:kn,oldIndex:Pu,oldDraggableIndex:th,newIndex:xi,newDraggableIndex:Xs},t))}var Be,Hn,St,kn,Qa,Jp,Wn,ra,Pu,xi,th,Xs,Ip,xr,yu=!1,rg=!1,ig=[],za,io,Gy,Yy,oP,sP,Od,au,nh,rh=!1,Cp=!1,Zp,jr,Xy=[],J0=!1,og=[],Cv=typeof document<"u",Ap=GM,aP=Pf||ks?"cssFloat":"float",ere=Cv&&!Wne&&!GM&&"draggable"in document.createElement("div"),ZM=function(){if(Cv){if(ks)return!1;var t=document.createElement("x");return t.style.cssText="pointer-events:auto",t.style.pointerEvents==="auto"}}(),eL=function(e,n){var r=st(e),i=parseInt(r.width)-parseInt(r.paddingLeft)-parseInt(r.paddingRight)-parseInt(r.borderLeftWidth)-parseInt(r.borderRightWidth),o=yc(e,0,n),s=yc(e,1,n),a=o&&st(o),l=s&&st(s),u=a&&parseInt(a.marginLeft)+parseInt(a.marginRight)+Rn(o).width,c=l&&parseInt(l.marginLeft)+parseInt(l.marginRight)+Rn(s).width;if(r.display==="flex")return r.flexDirection==="column"||r.flexDirection==="column-reverse"?"vertical":"horizontal";if(r.display==="grid")return r.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(o&&a.float&&a.float!=="none"){var d=a.float==="left"?"left":"right";return s&&(l.clear==="both"||l.clear===d)?"vertical":"horizontal"}return o&&(a.display==="block"||a.display==="flex"||a.display==="table"||a.display==="grid"||u>=i&&r[aP]==="none"||s&&r[aP]==="none"&&u+c>i)?"vertical":"horizontal"},tre=function(e,n,r){var i=r?e.left:e.top,o=r?e.right:e.bottom,s=r?e.width:e.height,a=r?n.left:n.top,l=r?n.right:n.bottom,u=r?n.width:n.height;return i===a||o===l||i+s/2===a+u/2},nre=function(e,n){var r;return ig.some(function(i){var o=i[Qr].options.emptyInsertThreshold;if(!(!o||W1(i))){var s=Rn(i),a=e>=s.left-o&&e<=s.right+o,l=n>=s.top-o&&n<=s.bottom+o;if(a&&l)return r=i}}),r},tL=function(e){function n(o,s){return function(a,l,u,c){var d=a.options.group.name&&l.options.group.name&&a.options.group.name===l.options.group.name;if(o==null&&(s||d))return!0;if(o==null||o===!1)return!1;if(s&&o==="clone")return o;if(typeof o=="function")return n(o(a,l,u,c),s)(a,l,u,c);var h=(s?a:l).options.group.name;return o===!0||typeof o=="string"&&o===h||o.join&&o.indexOf(h)>-1}}var r={},i=e.group;(!i||Qp(i)!="object")&&(i={name:i}),r.name=i.name,r.checkPull=n(i.pull,!0),r.checkPut=n(i.put),r.revertClone=i.revertClone,e.group=r},nL=function(){!ZM&&St&&st(St,"display","none")},rL=function(){!ZM&&St&&st(St,"display","")};Cv&&document.addEventListener("click",function(t){if(rg)return t.preventDefault(),t.stopPropagation&&t.stopPropagation(),t.stopImmediatePropagation&&t.stopImmediatePropagation(),rg=!1,!1},!0);var Ka=function(e){if(Be){e=e.touches?e.touches[0]:e;var n=nre(e.clientX,e.clientY);if(n){var r={};for(var i in e)e.hasOwnProperty(i)&&(r[i]=e[i]);r.target=r.rootEl=n,r.preventDefault=void 0,r.stopPropagation=void 0,n[Qr]._onDragOver(r)}}},rre=function(e){Be&&Be.parentNode[Qr]._isOutsideThisEl(e.target)};function gt(t,e){if(!(t&&t.nodeType&&t.nodeType===1))throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(t));this.el=t,this.options=e=Ji({},e),t[Qr]=this;var n={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(t.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return eL(t,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(s,a){s.setData("Text",a.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:gt.supportPointer!==!1&&"PointerEvent"in window&&!Zd,emptyInsertThreshold:5};Of.initializePlugins(this,t,n);for(var r in n)!(r in e)&&(e[r]=n[r]);tL(e);for(var i in this)i.charAt(0)==="_"&&typeof this[i]=="function"&&(this[i]=this[i].bind(this));this.nativeDraggable=e.forceFallback?!1:ere,this.nativeDraggable&&(this.options.touchStartThreshold=1),e.supportPointer?Rt(t,"pointerdown",this._onTapStart):(Rt(t,"mousedown",this._onTapStart),Rt(t,"touchstart",this._onTapStart)),this.nativeDraggable&&(Rt(t,"dragover",this),Rt(t,"dragenter",this)),ig.push(this.el),e.store&&e.store.get&&this.sort(e.store.get(this)||[]),Ji(this,Xne())}gt.prototype={constructor:gt,_isOutsideThisEl:function(e){!this.el.contains(e)&&e!==this.el&&(au=null)},_getDirection:function(e,n){return typeof this.options.direction=="function"?this.options.direction.call(this,e,n,Be):this.options.direction},_onTapStart:function(e){if(e.cancelable){var n=this,r=this.el,i=this.options,o=i.preventOnFilter,s=e.type,a=e.touches&&e.touches[0]||e.pointerType&&e.pointerType==="touch"&&e,l=(a||e).target,u=e.target.shadowRoot&&(e.path&&e.path[0]||e.composedPath&&e.composedPath()[0])||l,c=i.filter;if(dre(r),!Be&&!(/mousedown|pointerdown/.test(s)&&e.button!==0||i.disabled)&&!u.isContentEditable&&!(!this.nativeDraggable&&Zd&&l&&l.tagName.toUpperCase()==="SELECT")&&(l=uo(l,i.draggable,r,!1),!(l&&l.animated)&&Jp!==l)){if(Pu=Kn(l),th=Kn(l,i.draggable),typeof c=="function"){if(c.call(this,e,l,this)){di({sortable:n,rootEl:u,name:"filter",targetEl:l,toEl:r,fromEl:r}),gi("filter",n,{evt:e}),o&&e.cancelable&&e.preventDefault();return}}else if(c&&(c=c.split(",").some(function(d){if(d=uo(u,d.trim(),r,!1),d)return di({sortable:n,rootEl:d,name:"filter",targetEl:l,fromEl:r,toEl:r}),gi("filter",n,{evt:e}),!0}),c)){o&&e.cancelable&&e.preventDefault();return}i.handle&&!uo(u,i.handle,r,!1)||this._prepareDragStart(e,a,l)}}},_prepareDragStart:function(e,n,r){var i=this,o=i.el,s=i.options,a=o.ownerDocument,l;if(r&&!Be&&r.parentNode===o){var u=Rn(r);if(kn=o,Be=r,Hn=Be.parentNode,Qa=Be.nextSibling,Jp=r,Ip=s.group,gt.dragged=Be,za={target:Be,clientX:(n||e).clientX,clientY:(n||e).clientY},oP=za.clientX-u.left,sP=za.clientY-u.top,this._lastX=(n||e).clientX,this._lastY=(n||e).clientY,Be.style["will-change"]="all",l=function(){if(gi("delayEnded",i,{evt:e}),gt.eventCanceled){i._onDrop();return}i._disableDelayedDragEvents(),!eP&&i.nativeDraggable&&(Be.draggable=!0),i._triggerDragStart(e,n),di({sortable:i,name:"choose",originalEvent:e}),$n(Be,s.chosenClass,!0)},s.ignore.split(",").forEach(function(c){XM(Be,c.trim(),Qy)}),Rt(a,"dragover",Ka),Rt(a,"mousemove",Ka),Rt(a,"touchmove",Ka),Rt(a,"mouseup",i._onDrop),Rt(a,"touchend",i._onDrop),Rt(a,"touchcancel",i._onDrop),eP&&this.nativeDraggable&&(this.options.touchStartThreshold=4,Be.draggable=!0),gi("delayStart",this,{evt:e}),s.delay&&(!s.delayOnTouchOnly||n)&&(!this.nativeDraggable||!(Pf||ks))){if(gt.eventCanceled){this._onDrop();return}Rt(a,"mouseup",i._disableDelayedDrag),Rt(a,"touchend",i._disableDelayedDrag),Rt(a,"touchcancel",i._disableDelayedDrag),Rt(a,"mousemove",i._delayedDragTouchMoveHandler),Rt(a,"touchmove",i._delayedDragTouchMoveHandler),s.supportPointer&&Rt(a,"pointermove",i._delayedDragTouchMoveHandler),i._dragStartTimer=setTimeout(l,s.delay)}else l()}},_delayedDragTouchMoveHandler:function(e){var n=e.touches?e.touches[0]:e;Math.max(Math.abs(n.clientX-this._lastX),Math.abs(n.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){Be&&Qy(Be),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var e=this.el.ownerDocument;Ot(e,"mouseup",this._disableDelayedDrag),Ot(e,"touchend",this._disableDelayedDrag),Ot(e,"touchcancel",this._disableDelayedDrag),Ot(e,"mousemove",this._delayedDragTouchMoveHandler),Ot(e,"touchmove",this._delayedDragTouchMoveHandler),Ot(e,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(e,n){n=n||e.pointerType=="touch"&&e,!this.nativeDraggable||n?this.options.supportPointer?Rt(document,"pointermove",this._onTouchMove):n?Rt(document,"touchmove",this._onTouchMove):Rt(document,"mousemove",this._onTouchMove):(Rt(Be,"dragend",this),Rt(kn,"dragstart",this._onDragStart));try{document.selection?em(function(){document.selection.empty()}):window.getSelection().removeAllRanges()}catch{}},_dragStarted:function(e,n){if(yu=!1,kn&&Be){gi("dragStarted",this,{evt:n}),this.nativeDraggable&&Rt(document,"dragover",rre);var r=this.options;!e&&$n(Be,r.dragClass,!1),$n(Be,r.ghostClass,!0),gt.active=this,e&&this._appendGhost(),di({sortable:this,name:"start",originalEvent:n})}else this._nulling()},_emulateDragOver:function(){if(io){this._lastX=io.clientX,this._lastY=io.clientY,nL();for(var e=document.elementFromPoint(io.clientX,io.clientY),n=e;e&&e.shadowRoot&&(e=e.shadowRoot.elementFromPoint(io.clientX,io.clientY),e!==n);)n=e;if(Be.parentNode[Qr]._isOutsideThisEl(e),n)do{if(n[Qr]){var r=void 0;if(r=n[Qr]._onDragOver({clientX:io.clientX,clientY:io.clientY,target:e,rootEl:n}),r&&!this.options.dragoverBubble)break}e=n}while(n=n.parentNode);rL()}},_onTouchMove:function(e){if(za){var n=this.options,r=n.fallbackTolerance,i=n.fallbackOffset,o=e.touches?e.touches[0]:e,s=St&&ml(St,!0),a=St&&s&&s.a,l=St&&s&&s.d,u=Ap&&jr&&rP(jr),c=(o.clientX-za.clientX+i.x)/(a||1)+(u?u[0]-Xy[0]:0)/(a||1),d=(o.clientY-za.clientY+i.y)/(l||1)+(u?u[1]-Xy[1]:0)/(l||1);if(!gt.active&&!yu){if(r&&Math.max(Math.abs(o.clientX-this._lastX),Math.abs(o.clientY-this._lastY))<r)return;this._onDragStart(e,!0)}if(St){s?(s.e+=c-(Gy||0),s.f+=d-(Yy||0)):s={a:1,b:0,c:0,d:1,e:c,f:d};var h="matrix(".concat(s.a,",").concat(s.b,",").concat(s.c,",").concat(s.d,",").concat(s.e,",").concat(s.f,")");st(St,"webkitTransform",h),st(St,"mozTransform",h),st(St,"msTransform",h),st(St,"transform",h),Gy=c,Yy=d,io=o}e.cancelable&&e.preventDefault()}},_appendGhost:function(){if(!St){var e=this.options.fallbackOnBody?document.body:kn,n=Rn(Be,!0,Ap,!0,e),r=this.options;if(Ap){for(jr=e;st(jr,"position")==="static"&&st(jr,"transform")==="none"&&jr!==document;)jr=jr.parentNode;jr!==document.body&&jr!==document.documentElement?(jr===document&&(jr=Bo()),n.top+=jr.scrollTop,n.left+=jr.scrollLeft):jr=Bo(),Xy=rP(jr)}St=Be.cloneNode(!0),$n(St,r.ghostClass,!1),$n(St,r.fallbackClass,!0),$n(St,r.dragClass,!0),st(St,"transition",""),st(St,"transform",""),st(St,"box-sizing","border-box"),st(St,"margin",0),st(St,"top",n.top),st(St,"left",n.left),st(St,"width",n.width),st(St,"height",n.height),st(St,"opacity","0.8"),st(St,"position",Ap?"absolute":"fixed"),st(St,"zIndex","100000"),st(St,"pointerEvents","none"),gt.ghost=St,e.appendChild(St),st(St,"transform-origin",oP/parseInt(St.style.width)*100+"% "+sP/parseInt(St.style.height)*100+"%")}},_onDragStart:function(e,n){var r=this,i=e.dataTransfer,o=r.options;if(gi("dragStart",this,{evt:e}),gt.eventCanceled){this._onDrop();return}gi("setupClone",this),gt.eventCanceled||(Wn=z1(Be),Wn.draggable=!1,Wn.style["will-change"]="",this._hideClone(),$n(Wn,this.options.chosenClass,!1),gt.clone=Wn),r.cloneId=em(function(){gi("clone",r),!gt.eventCanceled&&(r.options.removeCloneOnHide||kn.insertBefore(Wn,Be),r._hideClone(),di({sortable:r,name:"clone"}))}),!n&&$n(Be,o.dragClass,!0),n?(rg=!0,r._loopId=setInterval(r._emulateDragOver,50)):(Ot(document,"mouseup",r._onDrop),Ot(document,"touchend",r._onDrop),Ot(document,"touchcancel",r._onDrop),i&&(i.effectAllowed="move",o.setData&&o.setData.call(r,i,Be)),Rt(document,"drop",r),st(Be,"transform","translateZ(0)")),yu=!0,r._dragStartId=em(r._dragStarted.bind(r,n,e)),Rt(document,"selectstart",r),Od=!0,Zd&&st(document.body,"user-select","none")},_onDragOver:function(e){var n=this.el,r=e.target,i,o,s,a=this.options,l=a.group,u=gt.active,c=Ip===l,d=a.sort,h=xr||u,p,m=this,g=!1;if(J0)return;function v(Z,H){gi(Z,m,Ko({evt:e,isOwner:c,axis:p?"vertical":"horizontal",revert:s,dragRect:i,targetRect:o,canSort:d,fromSortable:h,target:r,completed:I,onMove:function(ue,se){return Pp(kn,n,Be,i,ue,Rn(ue),e,se)},changed:S},H))}function A(){v("dragOverAnimationCapture"),m.captureAnimationState(),m!==h&&h.captureAnimationState()}function I(Z){return v("dragOverCompleted",{insertion:Z}),Z&&(c?u._hideClone():u._showClone(m),m!==h&&($n(Be,xr?xr.options.ghostClass:u.options.ghostClass,!1),$n(Be,a.ghostClass,!0)),xr!==m&&m!==gt.active?xr=m:m===gt.active&&xr&&(xr=null),h===m&&(m._ignoreWhileAnimating=r),m.animateAll(function(){v("dragOverAnimationComplete"),m._ignoreWhileAnimating=null}),m!==h&&(h.animateAll(),h._ignoreWhileAnimating=null)),(r===Be&&!Be.animated||r===n&&!r.animated)&&(au=null),!a.dragoverBubble&&!e.rootEl&&r!==document&&(Be.parentNode[Qr]._isOutsideThisEl(e.target),!Z&&Ka(e)),!a.dragoverBubble&&e.stopPropagation&&e.stopPropagation(),g=!0}function S(){xi=Kn(Be),Xs=Kn(Be,a.draggable),di({sortable:m,name:"change",toEl:n,newIndex:xi,newDraggableIndex:Xs,originalEvent:e})}if(e.preventDefault!==void 0&&e.cancelable&&e.preventDefault(),r=uo(r,a.draggable,n,!0),v("dragOver"),gt.eventCanceled)return g;if(Be.contains(e.target)||r.animated&&r.animatingX&&r.animatingY||m._ignoreWhileAnimating===r)return I(!1);if(rg=!1,u&&!a.disabled&&(c?d||(s=Hn!==kn):xr===this||(this.lastPutMode=Ip.checkPull(this,u,Be,e))&&l.checkPut(this,u,Be,e))){if(p=this._getDirection(e,r)==="vertical",i=Rn(Be),v("dragOverValid"),gt.eventCanceled)return g;if(s)return Hn=kn,A(),this._hideClone(),v("revert"),gt.eventCanceled||(Qa?kn.insertBefore(Be,Qa):kn.appendChild(Be)),I(!0);var T=W1(n,a.draggable);if(!T||are(e,p,this)&&!T.animated){if(T===Be)return I(!1);if(T&&n===e.target&&(r=T),r&&(o=Rn(r)),Pp(kn,n,Be,i,r,o,e,!!r)!==!1)return A(),n.appendChild(Be),Hn=n,S(),I(!0)}else if(T&&sre(e,p,this)){var N=yc(n,0,a,!0);if(N===Be)return I(!1);if(r=N,o=Rn(r),Pp(kn,n,Be,i,r,o,e,!1)!==!1)return A(),n.insertBefore(Be,N),Hn=n,S(),I(!0)}else if(r.parentNode===n){o=Rn(r);var R=0,C,E=Be.parentNode!==n,b=!tre(Be.animated&&Be.toRect||i,r.animated&&r.toRect||o,p),w=p?"top":"left",k=nP(r,"top","top")||nP(Be,"top","top"),x=k?k.scrollTop:void 0;au!==r&&(C=o[w],rh=!1,Cp=!b&&a.invertSwap||E),R=lre(e,r,o,p,b?1:a.swapThreshold,a.invertedSwapThreshold==null?a.swapThreshold:a.invertedSwapThreshold,Cp,au===r);var O;if(R!==0){var q=Kn(Be);do q-=R,O=Hn.children[q];while(O&&(st(O,"display")==="none"||O===St))}if(R===0||O===r)return I(!1);au=r,nh=R;var V=r.nextElementSibling,F=!1;F=R===1;var G=Pp(kn,n,Be,i,r,o,e,F);if(G!==!1)return(G===1||G===-1)&&(F=G===1),J0=!0,setTimeout(ore,30),A(),F&&!V?n.appendChild(Be):r.parentNode.insertBefore(Be,F?V:r),k&&JM(k,0,x-k.scrollTop),Hn=Be.parentNode,C!==void 0&&!Cp&&(Zp=Math.abs(C-Rn(r)[w])),S(),I(!0)}if(n.contains(Be))return I(!1)}return!1},_ignoreWhileAnimating:null,_offMoveEvents:function(){Ot(document,"mousemove",this._onTouchMove),Ot(document,"touchmove",this._onTouchMove),Ot(document,"pointermove",this._onTouchMove),Ot(document,"dragover",Ka),Ot(document,"mousemove",Ka),Ot(document,"touchmove",Ka)},_offUpEvents:function(){var e=this.el.ownerDocument;Ot(e,"mouseup",this._onDrop),Ot(e,"touchend",this._onDrop),Ot(e,"pointerup",this._onDrop),Ot(e,"touchcancel",this._onDrop),Ot(document,"selectstart",this)},_onDrop:function(e){var n=this.el,r=this.options;if(xi=Kn(Be),Xs=Kn(Be,r.draggable),gi("drop",this,{evt:e}),Hn=Be&&Be.parentNode,xi=Kn(Be),Xs=Kn(Be,r.draggable),gt.eventCanceled){this._nulling();return}yu=!1,Cp=!1,rh=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),Z0(this.cloneId),Z0(this._dragStartId),this.nativeDraggable&&(Ot(document,"drop",this),Ot(n,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),Zd&&st(document.body,"user-select",""),st(Be,"transform",""),e&&(Od&&(e.cancelable&&e.preventDefault(),!r.dropBubble&&e.stopPropagation()),St&&St.parentNode&&St.parentNode.removeChild(St),(kn===Hn||xr&&xr.lastPutMode!=="clone")&&Wn&&Wn.parentNode&&Wn.parentNode.removeChild(Wn),Be&&(this.nativeDraggable&&Ot(Be,"dragend",this),Qy(Be),Be.style["will-change"]="",Od&&!yu&&$n(Be,xr?xr.options.ghostClass:this.options.ghostClass,!1),$n(Be,this.options.chosenClass,!1),di({sortable:this,name:"unchoose",toEl:Hn,newIndex:null,newDraggableIndex:null,originalEvent:e}),kn!==Hn?(xi>=0&&(di({rootEl:Hn,name:"add",toEl:Hn,fromEl:kn,originalEvent:e}),di({sortable:this,name:"remove",toEl:Hn,originalEvent:e}),di({rootEl:Hn,name:"sort",toEl:Hn,fromEl:kn,originalEvent:e}),di({sortable:this,name:"sort",toEl:Hn,originalEvent:e})),xr&&xr.save()):xi!==Pu&&xi>=0&&(di({sortable:this,name:"update",toEl:Hn,originalEvent:e}),di({sortable:this,name:"sort",toEl:Hn,originalEvent:e})),gt.active&&((xi==null||xi===-1)&&(xi=Pu,Xs=th),di({sortable:this,name:"end",toEl:Hn,originalEvent:e}),this.save()))),this._nulling()},_nulling:function(){gi("nulling",this),kn=Be=Hn=St=Qa=Wn=Jp=ra=za=io=Od=xi=Xs=Pu=th=au=nh=xr=Ip=gt.dragged=gt.ghost=gt.clone=gt.active=null,og.forEach(function(e){e.checked=!0}),og.length=Gy=Yy=0},handleEvent:function(e){switch(e.type){case"drop":case"dragend":this._onDrop(e);break;case"dragenter":case"dragover":Be&&(this._onDragOver(e),ire(e));break;case"selectstart":e.preventDefault();break}},toArray:function(){for(var e=[],n,r=this.el.children,i=0,o=r.length,s=this.options;i<o;i++)n=r[i],uo(n,s.draggable,this.el,!1)&&e.push(n.getAttribute(s.dataIdAttr)||cre(n));return e},sort:function(e,n){var r={},i=this.el;this.toArray().forEach(function(o,s){var a=i.children[s];uo(a,this.options.draggable,i,!1)&&(r[o]=a)},this),n&&this.captureAnimationState(),e.forEach(function(o){r[o]&&(i.removeChild(r[o]),i.appendChild(r[o]))}),n&&this.animateAll()},save:function(){var e=this.options.store;e&&e.set&&e.set(this)},closest:function(e,n){return uo(e,n||this.options.draggable,this.el,!1)},option:function(e,n){var r=this.options;if(n===void 0)return r[e];var i=Of.modifyOption(this,e,n);typeof i<"u"?r[e]=i:r[e]=n,e==="group"&&tL(r)},destroy:function(){gi("destroy",this);var e=this.el;e[Qr]=null,Ot(e,"mousedown",this._onTapStart),Ot(e,"touchstart",this._onTapStart),Ot(e,"pointerdown",this._onTapStart),this.nativeDraggable&&(Ot(e,"dragover",this),Ot(e,"dragenter",this)),Array.prototype.forEach.call(e.querySelectorAll("[draggable]"),function(n){n.removeAttribute("draggable")}),this._onDrop(),this._disableDelayedDragEvents(),ig.splice(ig.indexOf(this.el),1),this.el=e=null},_hideClone:function(){if(!ra){if(gi("hideClone",this),gt.eventCanceled)return;st(Wn,"display","none"),this.options.removeCloneOnHide&&Wn.parentNode&&Wn.parentNode.removeChild(Wn),ra=!0}},_showClone:function(e){if(e.lastPutMode!=="clone"){this._hideClone();return}if(ra){if(gi("showClone",this),gt.eventCanceled)return;Be.parentNode==kn&&!this.options.group.revertClone?kn.insertBefore(Wn,Be):Qa?kn.insertBefore(Wn,Qa):kn.appendChild(Wn),this.options.group.revertClone&&this.animate(Be,Wn),st(Wn,"display",""),ra=!1}}};function ire(t){t.dataTransfer&&(t.dataTransfer.dropEffect="move"),t.cancelable&&t.preventDefault()}function Pp(t,e,n,r,i,o,s,a){var l,u=t[Qr],c=u.options.onMove,d;return window.CustomEvent&&!ks&&!Pf?l=new CustomEvent("move",{bubbles:!0,cancelable:!0}):(l=document.createEvent("Event"),l.initEvent("move",!0,!0)),l.to=e,l.from=t,l.dragged=n,l.draggedRect=r,l.related=i||e,l.relatedRect=o||Rn(e),l.willInsertAfter=a,l.originalEvent=s,t.dispatchEvent(l),c&&(d=c.call(u,l,s)),d}function Qy(t){t.draggable=!1}function ore(){J0=!1}function sre(t,e,n){var r=Rn(yc(n.el,0,n.options,!0)),i=10;return e?t.clientX<r.left-i||t.clientY<r.top&&t.clientX<r.right:t.clientY<r.top-i||t.clientY<r.bottom&&t.clientX<r.left}function are(t,e,n){var r=Rn(W1(n.el,n.options.draggable)),i=10;return e?t.clientX>r.right+i||t.clientX<=r.right&&t.clientY>r.bottom&&t.clientX>=r.left:t.clientX>r.right&&t.clientY>r.top||t.clientX<=r.right&&t.clientY>r.bottom+i}function lre(t,e,n,r,i,o,s,a){var l=r?t.clientY:t.clientX,u=r?n.height:n.width,c=r?n.top:n.left,d=r?n.bottom:n.right,h=!1;if(!s){if(a&&Zp<u*i){if(!rh&&(nh===1?l>c+u*o/2:l<d-u*o/2)&&(rh=!0),rh)h=!0;else if(nh===1?l<c+Zp:l>d-Zp)return-nh}else if(l>c+u*(1-i)/2&&l<d-u*(1-i)/2)return ure(e)}return h=h||s,h&&(l<c+u*o/2||l>d-u*o/2)?l>c+u/2?1:-1:0}function ure(t){return Kn(Be)<Kn(t)?1:-1}function cre(t){for(var e=t.tagName+t.className+t.src+t.href+t.textContent,n=e.length,r=0;n--;)r+=e.charCodeAt(n);return r.toString(36)}function dre(t){og.length=0;for(var e=t.getElementsByTagName("input"),n=e.length;n--;){var r=e[n];r.checked&&og.push(r)}}function em(t){return setTimeout(t,0)}function Z0(t){return clearTimeout(t)}Cv&&Rt(document,"touchmove",function(t){(gt.active||yu)&&t.cancelable&&t.preventDefault()});gt.utils={on:Rt,off:Ot,css:st,find:XM,is:function(e,n){return!!uo(e,n,e,!1)},extend:Gne,throttle:QM,closest:uo,toggleClass:$n,clone:z1,index:Kn,nextTick:em,cancelNextTick:Z0,detectDirection:eL,getChild:yc};gt.get=function(t){return t[Qr]};gt.mount=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];e[0].constructor===Array&&(e=e[0]),e.forEach(function(r){if(!r.prototype||!r.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(r));r.utils&&(gt.utils=Ko(Ko({},gt.utils),r.utils)),Of.mount(r)})};gt.create=function(t,e){return new gt(t,e)};gt.version=Hne;var ir=[],kd,e_,t_=!1,Jy,Zy,sg,Rd;function hre(){function t(){this.defaults={scroll:!0,forceAutoScrollFallback:!1,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0};for(var e in this)e.charAt(0)==="_"&&typeof this[e]=="function"&&(this[e]=this[e].bind(this))}return t.prototype={dragStarted:function(n){var r=n.originalEvent;this.sortable.nativeDraggable?Rt(document,"dragover",this._handleAutoScroll):this.options.supportPointer?Rt(document,"pointermove",this._handleFallbackAutoScroll):r.touches?Rt(document,"touchmove",this._handleFallbackAutoScroll):Rt(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(n){var r=n.originalEvent;!this.options.dragOverBubble&&!r.rootEl&&this._handleAutoScroll(r)},drop:function(){this.sortable.nativeDraggable?Ot(document,"dragover",this._handleAutoScroll):(Ot(document,"pointermove",this._handleFallbackAutoScroll),Ot(document,"touchmove",this._handleFallbackAutoScroll),Ot(document,"mousemove",this._handleFallbackAutoScroll)),lP(),tm(),Yne()},nulling:function(){sg=e_=kd=t_=Rd=Jy=Zy=null,ir.length=0},_handleFallbackAutoScroll:function(n){this._handleAutoScroll(n,!0)},_handleAutoScroll:function(n,r){var i=this,o=(n.touches?n.touches[0]:n).clientX,s=(n.touches?n.touches[0]:n).clientY,a=document.elementFromPoint(o,s);if(sg=n,r||this.options.forceAutoScrollFallback||Pf||ks||Zd){eb(n,this.options,a,r);var l=oa(a,!0);t_&&(!Rd||o!==Jy||s!==Zy)&&(Rd&&lP(),Rd=setInterval(function(){var u=oa(document.elementFromPoint(o,s),!0);u!==l&&(l=u,tm()),eb(n,i.options,u,r)},10),Jy=o,Zy=s)}else{if(!this.options.bubbleScroll||oa(a,!0)===Bo()){tm();return}eb(n,this.options,oa(a,!1),!1)}}},Ji(t,{pluginName:"scroll",initializeByDefault:!0})}function tm(){ir.forEach(function(t){clearInterval(t.pid)}),ir=[]}function lP(){clearInterval(Rd)}var eb=QM(function(t,e,n,r){if(e.scroll){var i=(t.touches?t.touches[0]:t).clientX,o=(t.touches?t.touches[0]:t).clientY,s=e.scrollSensitivity,a=e.scrollSpeed,l=Bo(),u=!1,c;e_!==n&&(e_=n,tm(),kd=e.scroll,c=e.scrollFn,kd===!0&&(kd=oa(n,!0)));var d=0,h=kd;do{var p=h,m=Rn(p),g=m.top,v=m.bottom,A=m.left,I=m.right,S=m.width,T=m.height,N=void 0,R=void 0,C=p.scrollWidth,E=p.scrollHeight,b=st(p),w=p.scrollLeft,k=p.scrollTop;p===l?(N=S<C&&(b.overflowX==="auto"||b.overflowX==="scroll"||b.overflowX==="visible"),R=T<E&&(b.overflowY==="auto"||b.overflowY==="scroll"||b.overflowY==="visible")):(N=S<C&&(b.overflowX==="auto"||b.overflowX==="scroll"),R=T<E&&(b.overflowY==="auto"||b.overflowY==="scroll"));var x=N&&(Math.abs(I-i)<=s&&w+S<C)-(Math.abs(A-i)<=s&&!!w),O=R&&(Math.abs(v-o)<=s&&k+T<E)-(Math.abs(g-o)<=s&&!!k);if(!ir[d])for(var q=0;q<=d;q++)ir[q]||(ir[q]={});(ir[d].vx!=x||ir[d].vy!=O||ir[d].el!==p)&&(ir[d].el=p,ir[d].vx=x,ir[d].vy=O,clearInterval(ir[d].pid),(x!=0||O!=0)&&(u=!0,ir[d].pid=setInterval((function(){r&&this.layer===0&&gt.active._onTouchMove(sg);var V=ir[this.layer].vy?ir[this.layer].vy*a:0,F=ir[this.layer].vx?ir[this.layer].vx*a:0;typeof c=="function"&&c.call(gt.dragged.parentNode[Qr],F,V,t,sg,ir[this.layer].el)!=="continue"||JM(ir[this.layer].el,F,V)}).bind({layer:d}),24))),d++}while(e.bubbleScroll&&h!==l&&(h=oa(h,!1)));t_=u}},30),iL=function(e){var n=e.originalEvent,r=e.putSortable,i=e.dragEl,o=e.activeSortable,s=e.dispatchSortableEvent,a=e.hideGhostForTarget,l=e.unhideGhostForTarget;if(n){var u=r||o;a();var c=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:n,d=document.elementFromPoint(c.clientX,c.clientY);l(),u&&!u.el.contains(d)&&(s("spill"),this.onSpill({dragEl:i,putSortable:r}))}};function K1(){}K1.prototype={startIndex:null,dragStart:function(e){var n=e.oldDraggableIndex;this.startIndex=n},onSpill:function(e){var n=e.dragEl,r=e.putSortable;this.sortable.captureAnimationState(),r&&r.captureAnimationState();var i=yc(this.sortable.el,this.startIndex,this.options);i?this.sortable.el.insertBefore(n,i):this.sortable.el.appendChild(n),this.sortable.animateAll(),r&&r.animateAll()},drop:iL};Ji(K1,{pluginName:"revertOnSpill"});function G1(){}G1.prototype={onSpill:function(e){var n=e.dragEl,r=e.putSortable,i=r||this.sortable;i.captureAnimationState(),n.parentNode&&n.parentNode.removeChild(n),i.animateAll()},drop:iL};Ji(G1,{pluginName:"removeOnSpill"});var Wi;function fre(){function t(){this.defaults={swapClass:"sortable-swap-highlight"}}return t.prototype={dragStart:function(n){var r=n.dragEl;Wi=r},dragOverValid:function(n){var r=n.completed,i=n.target,o=n.onMove,s=n.activeSortable,a=n.changed,l=n.cancel;if(s.options.swap){var u=this.sortable.el,c=this.options;if(i&&i!==u){var d=Wi;o(i)!==!1?($n(i,c.swapClass,!0),Wi=i):Wi=null,d&&d!==Wi&&$n(d,c.swapClass,!1)}a(),r(!0),l()}},drop:function(n){var r=n.activeSortable,i=n.putSortable,o=n.dragEl,s=i||this.sortable,a=this.options;Wi&&$n(Wi,a.swapClass,!1),Wi&&(a.swap||i&&i.options.swap)&&o!==Wi&&(s.captureAnimationState(),s!==r&&r.captureAnimationState(),pre(o,Wi),s.animateAll(),s!==r&&r.animateAll())},nulling:function(){Wi=null}},Ji(t,{pluginName:"swap",eventProperties:function(){return{swapItem:Wi}}})}function pre(t,e){var n=t.parentNode,r=e.parentNode,i,o;!n||!r||n.isEqualNode(e)||r.isEqualNode(t)||(i=Kn(t),o=Kn(e),n.isEqualNode(r)&&i<o&&o++,n.insertBefore(e,n.children[i]),r.insertBefore(t,r.children[o]))}var _t=[],Ri=[],ud,oo,cd=!1,vi=!1,lu=!1,vn,dd,Op;function mre(){function t(e){for(var n in this)n.charAt(0)==="_"&&typeof this[n]=="function"&&(this[n]=this[n].bind(this));e.options.supportPointer?Rt(document,"pointerup",this._deselectMultiDrag):(Rt(document,"mouseup",this._deselectMultiDrag),Rt(document,"touchend",this._deselectMultiDrag)),Rt(document,"keydown",this._checkKeyDown),Rt(document,"keyup",this._checkKeyUp),this.defaults={selectedClass:"sortable-selected",multiDragKey:null,setData:function(i,o){var s="";_t.length&&oo===e?_t.forEach(function(a,l){s+=(l?", ":"")+a.textContent}):s=o.textContent,i.setData("Text",s)}}}return t.prototype={multiDragKeyDown:!1,isMultiDrag:!1,delayStartGlobal:function(n){var r=n.dragEl;vn=r},delayEnded:function(){this.isMultiDrag=~_t.indexOf(vn)},setupClone:function(n){var r=n.sortable,i=n.cancel;if(this.isMultiDrag){for(var o=0;o<_t.length;o++)Ri.push(z1(_t[o])),Ri[o].sortableIndex=_t[o].sortableIndex,Ri[o].draggable=!1,Ri[o].style["will-change"]="",$n(Ri[o],this.options.selectedClass,!1),_t[o]===vn&&$n(Ri[o],this.options.chosenClass,!1);r._hideClone(),i()}},clone:function(n){var r=n.sortable,i=n.rootEl,o=n.dispatchSortableEvent,s=n.cancel;this.isMultiDrag&&(this.options.removeCloneOnHide||_t.length&&oo===r&&(uP(!0,i),o("clone"),s()))},showClone:function(n){var r=n.cloneNowShown,i=n.rootEl,o=n.cancel;this.isMultiDrag&&(uP(!1,i),Ri.forEach(function(s){st(s,"display","")}),r(),Op=!1,o())},hideClone:function(n){var r=this;n.sortable;var i=n.cloneNowHidden,o=n.cancel;this.isMultiDrag&&(Ri.forEach(function(s){st(s,"display","none"),r.options.removeCloneOnHide&&s.parentNode&&s.parentNode.removeChild(s)}),i(),Op=!0,o())},dragStartGlobal:function(n){n.sortable,!this.isMultiDrag&&oo&&oo.multiDrag._deselectMultiDrag(),_t.forEach(function(r){r.sortableIndex=Kn(r)}),_t=_t.sort(function(r,i){return r.sortableIndex-i.sortableIndex}),lu=!0},dragStarted:function(n){var r=this,i=n.sortable;if(this.isMultiDrag){if(this.options.sort&&(i.captureAnimationState(),this.options.animation)){_t.forEach(function(s){s!==vn&&st(s,"position","absolute")});var o=Rn(vn,!1,!0,!0);_t.forEach(function(s){s!==vn&&iP(s,o)}),vi=!0,cd=!0}i.animateAll(function(){vi=!1,cd=!1,r.options.animation&&_t.forEach(function(s){zy(s)}),r.options.sort&&kp()})}},dragOver:function(n){var r=n.target,i=n.completed,o=n.cancel;vi&&~_t.indexOf(r)&&(i(!1),o())},revert:function(n){var r=n.fromSortable,i=n.rootEl,o=n.sortable,s=n.dragRect;_t.length>1&&(_t.forEach(function(a){o.addAnimationState({target:a,rect:vi?Rn(a):s}),zy(a),a.fromRect=s,r.removeAnimationState(a)}),vi=!1,gre(!this.options.removeCloneOnHide,i))},dragOverCompleted:function(n){var r=n.sortable,i=n.isOwner,o=n.insertion,s=n.activeSortable,a=n.parentEl,l=n.putSortable,u=this.options;if(o){if(i&&s._hideClone(),cd=!1,u.animation&&_t.length>1&&(vi||!i&&!s.options.sort&&!l)){var c=Rn(vn,!1,!0,!0);_t.forEach(function(h){h!==vn&&(iP(h,c),a.appendChild(h))}),vi=!0}if(!i)if(vi||kp(),_t.length>1){var d=Op;s._showClone(r),s.options.animation&&!Op&&d&&Ri.forEach(function(h){s.addAnimationState({target:h,rect:dd}),h.fromRect=dd,h.thisAnimationDuration=null})}else s._showClone(r)}},dragOverAnimationCapture:function(n){var r=n.dragRect,i=n.isOwner,o=n.activeSortable;if(_t.forEach(function(a){a.thisAnimationDuration=null}),o.options.animation&&!i&&o.multiDrag.isMultiDrag){dd=Ji({},r);var s=ml(vn,!0);dd.top-=s.f,dd.left-=s.e}},dragOverAnimationComplete:function(){vi&&(vi=!1,kp())},drop:function(n){var r=n.originalEvent,i=n.rootEl,o=n.parentEl,s=n.sortable,a=n.dispatchSortableEvent,l=n.oldIndex,u=n.putSortable,c=u||this.sortable;if(r){var d=this.options,h=o.children;if(!lu)if(d.multiDragKey&&!this.multiDragKeyDown&&this._deselectMultiDrag(),$n(vn,d.selectedClass,!~_t.indexOf(vn)),~_t.indexOf(vn))_t.splice(_t.indexOf(vn),1),ud=null,Pd({sortable:s,rootEl:i,name:"deselect",targetEl:vn,originalEvt:r});else{if(_t.push(vn),Pd({sortable:s,rootEl:i,name:"select",targetEl:vn,originalEvt:r}),r.shiftKey&&ud&&s.el.contains(ud)){var p=Kn(ud),m=Kn(vn);if(~p&&~m&&p!==m){var g,v;for(m>p?(v=p,g=m):(v=m,g=p+1);v<g;v++)~_t.indexOf(h[v])||($n(h[v],d.selectedClass,!0),_t.push(h[v]),Pd({sortable:s,rootEl:i,name:"select",targetEl:h[v],originalEvt:r}))}}else ud=vn;oo=c}if(lu&&this.isMultiDrag){if(vi=!1,(o[Qr].options.sort||o!==i)&&_t.length>1){var A=Rn(vn),I=Kn(vn,":not(."+this.options.selectedClass+")");if(!cd&&d.animation&&(vn.thisAnimationDuration=null),c.captureAnimationState(),!cd&&(d.animation&&(vn.fromRect=A,_t.forEach(function(T){if(T.thisAnimationDuration=null,T!==vn){var N=vi?Rn(T):A;T.fromRect=N,c.addAnimationState({target:T,rect:N})}})),kp(),_t.forEach(function(T){h[I]?o.insertBefore(T,h[I]):o.appendChild(T),I++}),l===Kn(vn))){var S=!1;_t.forEach(function(T){if(T.sortableIndex!==Kn(T)){S=!0;return}}),S&&a("update")}_t.forEach(function(T){zy(T)}),c.animateAll()}oo=c}(i===o||u&&u.lastPutMode!=="clone")&&Ri.forEach(function(T){T.parentNode&&T.parentNode.removeChild(T)})}},nullingGlobal:function(){this.isMultiDrag=lu=!1,Ri.length=0},destroyGlobal:function(){this._deselectMultiDrag(),Ot(document,"pointerup",this._deselectMultiDrag),Ot(document,"mouseup",this._deselectMultiDrag),Ot(document,"touchend",this._deselectMultiDrag),Ot(document,"keydown",this._checkKeyDown),Ot(document,"keyup",this._checkKeyUp)},_deselectMultiDrag:function(n){if(!(typeof lu<"u"&&lu)&&oo===this.sortable&&!(n&&uo(n.target,this.options.draggable,this.sortable.el,!1))&&!(n&&n.button!==0))for(;_t.length;){var r=_t[0];$n(r,this.options.selectedClass,!1),_t.shift(),Pd({sortable:this.sortable,rootEl:this.sortable.el,name:"deselect",targetEl:r,originalEvt:n})}},_checkKeyDown:function(n){n.key===this.options.multiDragKey&&(this.multiDragKeyDown=!0)},_checkKeyUp:function(n){n.key===this.options.multiDragKey&&(this.multiDragKeyDown=!1)}},Ji(t,{pluginName:"multiDrag",utils:{select:function(n){var r=n.parentNode[Qr];!r||!r.options.multiDrag||~_t.indexOf(n)||(oo&&oo!==r&&(oo.multiDrag._deselectMultiDrag(),oo=r),$n(n,r.options.selectedClass,!0),_t.push(n))},deselect:function(n){var r=n.parentNode[Qr],i=_t.indexOf(n);!r||!r.options.multiDrag||!~i||($n(n,r.options.selectedClass,!1),_t.splice(i,1))}},eventProperties:function(){var n=this,r=[],i=[];return _t.forEach(function(o){r.push({multiDragElement:o,index:o.sortableIndex});var s;vi&&o!==vn?s=-1:vi?s=Kn(o,":not(."+n.options.selectedClass+")"):s=Kn(o),i.push({multiDragElement:o,index:s})}),{items:Fne(_t),clones:[].concat(Ri),oldIndicies:r,newIndicies:i}},optionListeners:{multiDragKey:function(n){return n=n.toLowerCase(),n==="ctrl"?n="Control":n.length>1&&(n=n.charAt(0).toUpperCase()+n.substr(1)),n}}})}function gre(t,e){_t.forEach(function(n,r){var i=e.children[n.sortableIndex+(t?Number(r):0)];i?e.insertBefore(n,i):e.appendChild(n)})}function uP(t,e){Ri.forEach(function(n,r){var i=e.children[n.sortableIndex+(t?Number(r):0)];i?e.insertBefore(n,i):e.appendChild(n)})}function kp(){_t.forEach(function(t){t!==vn&&t.parentNode&&t.parentNode.removeChild(t)})}gt.mount(new hre);gt.mount(G1,K1);const vre=Object.freeze(Object.defineProperty({__proto__:null,MultiDrag:mre,Sortable:gt,Swap:fre,default:gt},Symbol.toStringTag,{value:"Module"})),yre=zM(vre);(function(t,e){(function(r,i){t.exports=i(Mne,yre)})(typeof self<"u"?self:Dne,function(n,r){return function(i){var o={};function s(a){if(o[a])return o[a].exports;var l=o[a]={i:a,l:!1,exports:{}};return i[a].call(l.exports,l,l.exports,s),l.l=!0,l.exports}return s.m=i,s.c=o,s.d=function(a,l,u){s.o(a,l)||Object.defineProperty(a,l,{enumerable:!0,get:u})},s.r=function(a){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(a,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(a,"__esModule",{value:!0})},s.t=function(a,l){if(l&1&&(a=s(a)),l&8||l&4&&typeof a=="object"&&a&&a.__esModule)return a;var u=Object.create(null);if(s.r(u),Object.defineProperty(u,"default",{enumerable:!0,value:a}),l&2&&typeof a!="string")for(var c in a)s.d(u,c,(function(d){return a[d]}).bind(null,c));return u},s.n=function(a){var l=a&&a.__esModule?function(){return a.default}:function(){return a};return s.d(l,"a",l),l},s.o=function(a,l){return Object.prototype.hasOwnProperty.call(a,l)},s.p="",s(s.s="fb15")}({"00ee":function(i,o,s){var a=s("b622"),l=a("toStringTag"),u={};u[l]="z",i.exports=String(u)==="[object z]"},"0366":function(i,o,s){var a=s("1c0b");i.exports=function(l,u,c){if(a(l),u===void 0)return l;switch(c){case 0:return function(){return l.call(u)};case 1:return function(d){return l.call(u,d)};case 2:return function(d,h){return l.call(u,d,h)};case 3:return function(d,h,p){return l.call(u,d,h,p)}}return function(){return l.apply(u,arguments)}}},"057f":function(i,o,s){var a=s("fc6a"),l=s("241c").f,u={}.toString,c=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],d=function(h){try{return l(h)}catch{return c.slice()}};i.exports.f=function(p){return c&&u.call(p)=="[object Window]"?d(p):l(a(p))}},"06cf":function(i,o,s){var a=s("83ab"),l=s("d1e7"),u=s("5c6c"),c=s("fc6a"),d=s("c04e"),h=s("5135"),p=s("0cfb"),m=Object.getOwnPropertyDescriptor;o.f=a?m:function(v,A){if(v=c(v),A=d(A,!0),p)try{return m(v,A)}catch{}if(h(v,A))return u(!l.f.call(v,A),v[A])}},"0cfb":function(i,o,s){var a=s("83ab"),l=s("d039"),u=s("cc12");i.exports=!a&&!l(function(){return Object.defineProperty(u("div"),"a",{get:function(){return 7}}).a!=7})},"13d5":function(i,o,s){var a=s("23e7"),l=s("d58f").left,u=s("a640"),c=s("ae40"),d=u("reduce"),h=c("reduce",{1:0});a({target:"Array",proto:!0,forced:!d||!h},{reduce:function(m){return l(this,m,arguments.length,arguments.length>1?arguments[1]:void 0)}})},"14c3":function(i,o,s){var a=s("c6b6"),l=s("9263");i.exports=function(u,c){var d=u.exec;if(typeof d=="function"){var h=d.call(u,c);if(typeof h!="object")throw TypeError("RegExp exec method returned something other than an Object or null");return h}if(a(u)!=="RegExp")throw TypeError("RegExp#exec called on incompatible receiver");return l.call(u,c)}},"159b":function(i,o,s){var a=s("da84"),l=s("fdbc"),u=s("17c2"),c=s("9112");for(var d in l){var h=a[d],p=h&&h.prototype;if(p&&p.forEach!==u)try{c(p,"forEach",u)}catch{p.forEach=u}}},"17c2":function(i,o,s){var a=s("b727").forEach,l=s("a640"),u=s("ae40"),c=l("forEach"),d=u("forEach");i.exports=!c||!d?function(p){return a(this,p,arguments.length>1?arguments[1]:void 0)}:[].forEach},"1be4":function(i,o,s){var a=s("d066");i.exports=a("document","documentElement")},"1c0b":function(i,o){i.exports=function(s){if(typeof s!="function")throw TypeError(String(s)+" is not a function");return s}},"1c7e":function(i,o,s){var a=s("b622"),l=a("iterator"),u=!1;try{var c=0,d={next:function(){return{done:!!c++}},return:function(){u=!0}};d[l]=function(){return this},Array.from(d,function(){throw 2})}catch{}i.exports=function(h,p){if(!p&&!u)return!1;var m=!1;try{var g={};g[l]=function(){return{next:function(){return{done:m=!0}}}},h(g)}catch{}return m}},"1d80":function(i,o){i.exports=function(s){if(s==null)throw TypeError("Can't call method on "+s);return s}},"1dde":function(i,o,s){var a=s("d039"),l=s("b622"),u=s("2d00"),c=l("species");i.exports=function(d){return u>=51||!a(function(){var h=[],p=h.constructor={};return p[c]=function(){return{foo:1}},h[d](Boolean).foo!==1})}},"23cb":function(i,o,s){var a=s("a691"),l=Math.max,u=Math.min;i.exports=function(c,d){var h=a(c);return h<0?l(h+d,0):u(h,d)}},"23e7":function(i,o,s){var a=s("da84"),l=s("06cf").f,u=s("9112"),c=s("6eeb"),d=s("ce4e"),h=s("e893"),p=s("94ca");i.exports=function(m,g){var v=m.target,A=m.global,I=m.stat,S,T,N,R,C,E;if(A?T=a:I?T=a[v]||d(v,{}):T=(a[v]||{}).prototype,T)for(N in g){if(C=g[N],m.noTargetGet?(E=l(T,N),R=E&&E.value):R=T[N],S=p(A?N:v+(I?".":"#")+N,m.forced),!S&&R!==void 0){if(typeof C==typeof R)continue;h(C,R)}(m.sham||R&&R.sham)&&u(C,"sham",!0),c(T,N,C,m)}}},"241c":function(i,o,s){var a=s("ca84"),l=s("7839"),u=l.concat("length","prototype");o.f=Object.getOwnPropertyNames||function(d){return a(d,u)}},"25f0":function(i,o,s){var a=s("6eeb"),l=s("825a"),u=s("d039"),c=s("ad6d"),d="toString",h=RegExp.prototype,p=h[d],m=u(function(){return p.call({source:"a",flags:"b"})!="/a/b"}),g=p.name!=d;(m||g)&&a(RegExp.prototype,d,function(){var A=l(this),I=String(A.source),S=A.flags,T=String(S===void 0&&A instanceof RegExp&&!("flags"in h)?c.call(A):S);return"/"+I+"/"+T},{unsafe:!0})},"2ca0":function(i,o,s){var a=s("23e7"),l=s("06cf").f,u=s("50c4"),c=s("5a34"),d=s("1d80"),h=s("ab13"),p=s("c430"),m="".startsWith,g=Math.min,v=h("startsWith"),A=!p&&!v&&!!function(){var I=l(String.prototype,"startsWith");return I&&!I.writable}();a({target:"String",proto:!0,forced:!A&&!v},{startsWith:function(S){var T=String(d(this));c(S);var N=u(g(arguments.length>1?arguments[1]:void 0,T.length)),R=String(S);return m?m.call(T,R,N):T.slice(N,N+R.length)===R}})},"2d00":function(i,o,s){var a=s("da84"),l=s("342f"),u=a.process,c=u&&u.versions,d=c&&c.v8,h,p;d?(h=d.split("."),p=h[0]+h[1]):l&&(h=l.match(/Edge\/(\d+)/),(!h||h[1]>=74)&&(h=l.match(/Chrome\/(\d+)/),h&&(p=h[1]))),i.exports=p&&+p},"342f":function(i,o,s){var a=s("d066");i.exports=a("navigator","userAgent")||""},"35a1":function(i,o,s){var a=s("f5df"),l=s("3f8c"),u=s("b622"),c=u("iterator");i.exports=function(d){if(d!=null)return d[c]||d["@@iterator"]||l[a(d)]}},"37e8":function(i,o,s){var a=s("83ab"),l=s("9bf2"),u=s("825a"),c=s("df75");i.exports=a?Object.defineProperties:function(h,p){u(h);for(var m=c(p),g=m.length,v=0,A;g>v;)l.f(h,A=m[v++],p[A]);return h}},"3bbe":function(i,o,s){var a=s("861d");i.exports=function(l){if(!a(l)&&l!==null)throw TypeError("Can't set "+String(l)+" as a prototype");return l}},"3ca3":function(i,o,s){var a=s("6547").charAt,l=s("69f3"),u=s("7dd0"),c="String Iterator",d=l.set,h=l.getterFor(c);u(String,"String",function(p){d(this,{type:c,string:String(p),index:0})},function(){var m=h(this),g=m.string,v=m.index,A;return v>=g.length?{value:void 0,done:!0}:(A=a(g,v),m.index+=A.length,{value:A,done:!1})})},"3f8c":function(i,o){i.exports={}},4160:function(i,o,s){var a=s("23e7"),l=s("17c2");a({target:"Array",proto:!0,forced:[].forEach!=l},{forEach:l})},"428f":function(i,o,s){var a=s("da84");i.exports=a},"44ad":function(i,o,s){var a=s("d039"),l=s("c6b6"),u="".split;i.exports=a(function(){return!Object("z").propertyIsEnumerable(0)})?function(c){return l(c)=="String"?u.call(c,""):Object(c)}:Object},"44d2":function(i,o,s){var a=s("b622"),l=s("7c73"),u=s("9bf2"),c=a("unscopables"),d=Array.prototype;d[c]==null&&u.f(d,c,{configurable:!0,value:l(null)}),i.exports=function(h){d[c][h]=!0}},"44e7":function(i,o,s){var a=s("861d"),l=s("c6b6"),u=s("b622"),c=u("match");i.exports=function(d){var h;return a(d)&&((h=d[c])!==void 0?!!h:l(d)=="RegExp")}},4930:function(i,o,s){var a=s("d039");i.exports=!!Object.getOwnPropertySymbols&&!a(function(){return!String(Symbol())})},"4d64":function(i,o,s){var a=s("fc6a"),l=s("50c4"),u=s("23cb"),c=function(d){return function(h,p,m){var g=a(h),v=l(g.length),A=u(m,v),I;if(d&&p!=p){for(;v>A;)if(I=g[A++],I!=I)return!0}else for(;v>A;A++)if((d||A in g)&&g[A]===p)return d||A||0;return!d&&-1}};i.exports={includes:c(!0),indexOf:c(!1)}},"4de4":function(i,o,s){var a=s("23e7"),l=s("b727").filter,u=s("1dde"),c=s("ae40"),d=u("filter"),h=c("filter");a({target:"Array",proto:!0,forced:!d||!h},{filter:function(m){return l(this,m,arguments.length>1?arguments[1]:void 0)}})},"4df4":function(i,o,s){var a=s("0366"),l=s("7b0b"),u=s("9bdd"),c=s("e95a"),d=s("50c4"),h=s("8418"),p=s("35a1");i.exports=function(g){var v=l(g),A=typeof this=="function"?this:Array,I=arguments.length,S=I>1?arguments[1]:void 0,T=S!==void 0,N=p(v),R=0,C,E,b,w,k,x;if(T&&(S=a(S,I>2?arguments[2]:void 0,2)),N!=null&&!(A==Array&&c(N)))for(w=N.call(v),k=w.next,E=new A;!(b=k.call(w)).done;R++)x=T?u(w,S,[b.value,R],!0):b.value,h(E,R,x);else for(C=d(v.length),E=new A(C);C>R;R++)x=T?S(v[R],R):v[R],h(E,R,x);return E.length=R,E}},"4fad":function(i,o,s){var a=s("23e7"),l=s("6f53").entries;a({target:"Object",stat:!0},{entries:function(c){return l(c)}})},"50c4":function(i,o,s){var a=s("a691"),l=Math.min;i.exports=function(u){return u>0?l(a(u),9007199254740991):0}},5135:function(i,o){var s={}.hasOwnProperty;i.exports=function(a,l){return s.call(a,l)}},5319:function(i,o,s){var a=s("d784"),l=s("825a"),u=s("7b0b"),c=s("50c4"),d=s("a691"),h=s("1d80"),p=s("8aa5"),m=s("14c3"),g=Math.max,v=Math.min,A=Math.floor,I=/\$([$&'`]|\d\d?|<[^>]*>)/g,S=/\$([$&'`]|\d\d?)/g,T=function(N){return N===void 0?N:String(N)};a("replace",2,function(N,R,C,E){var b=E.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,w=E.REPLACE_KEEPS_$0,k=b?"$":"$0";return[function(q,V){var F=h(this),G=q==null?void 0:q[N];return G!==void 0?G.call(q,F,V):R.call(String(F),q,V)},function(O,q){if(!b&&w||typeof q=="string"&&q.indexOf(k)===-1){var V=C(R,O,this,q);if(V.done)return V.value}var F=l(O),G=String(this),Z=typeof q=="function";Z||(q=String(q));var H=F.global;if(H){var $=F.unicode;F.lastIndex=0}for(var ue=[];;){var se=m(F,G);if(se===null||(ue.push(se),!H))break;var ve=String(se[0]);ve===""&&(F.lastIndex=p(G,c(F.lastIndex),$))}for(var Se="",he=0,Y=0;Y<ue.length;Y++){se=ue[Y];for(var ne=String(se[0]),pe=g(v(d(se.index),G.length),0),oe=[],_e=1;_e<se.length;_e++)oe.push(T(se[_e]));var Ce=se.groups;if(Z){var fe=[ne].concat(oe,pe,G);Ce!==void 0&&fe.push(Ce);var L=String(q.apply(void 0,fe))}else L=x(ne,G,pe,oe,Ce,q);pe>=he&&(Se+=G.slice(he,pe)+L,he=pe+ne.length)}return Se+G.slice(he)}];function x(O,q,V,F,G,Z){var H=V+O.length,$=F.length,ue=S;return G!==void 0&&(G=u(G),ue=I),R.call(Z,ue,function(se,ve){var Se;switch(ve.charAt(0)){case"$":return"$";case"&":return O;case"`":return q.slice(0,V);case"'":return q.slice(H);case"<":Se=G[ve.slice(1,-1)];break;default:var he=+ve;if(he===0)return se;if(he>$){var Y=A(he/10);return Y===0?se:Y<=$?F[Y-1]===void 0?ve.charAt(1):F[Y-1]+ve.charAt(1):se}Se=F[he-1]}return Se===void 0?"":Se})}})},5692:function(i,o,s){var a=s("c430"),l=s("c6cd");(i.exports=function(u,c){return l[u]||(l[u]=c!==void 0?c:{})})("versions",[]).push({version:"3.6.5",mode:a?"pure":"global",copyright:"© 2020 Denis Pushkarev (zloirock.ru)"})},"56ef":function(i,o,s){var a=s("d066"),l=s("241c"),u=s("7418"),c=s("825a");i.exports=a("Reflect","ownKeys")||function(h){var p=l.f(c(h)),m=u.f;return m?p.concat(m(h)):p}},"5a34":function(i,o,s){var a=s("44e7");i.exports=function(l){if(a(l))throw TypeError("The method doesn't accept regular expressions");return l}},"5c6c":function(i,o){i.exports=function(s,a){return{enumerable:!(s&1),configurable:!(s&2),writable:!(s&4),value:a}}},"5db7":function(i,o,s){var a=s("23e7"),l=s("a2bf"),u=s("7b0b"),c=s("50c4"),d=s("1c0b"),h=s("65f0");a({target:"Array",proto:!0},{flatMap:function(m){var g=u(this),v=c(g.length),A;return d(m),A=h(g,0),A.length=l(A,g,g,v,0,1,m,arguments.length>1?arguments[1]:void 0),A}})},6547:function(i,o,s){var a=s("a691"),l=s("1d80"),u=function(c){return function(d,h){var p=String(l(d)),m=a(h),g=p.length,v,A;return m<0||m>=g?c?"":void 0:(v=p.charCodeAt(m),v<55296||v>56319||m+1===g||(A=p.charCodeAt(m+1))<56320||A>57343?c?p.charAt(m):v:c?p.slice(m,m+2):(v-55296<<10)+(A-56320)+65536)}};i.exports={codeAt:u(!1),charAt:u(!0)}},"65f0":function(i,o,s){var a=s("861d"),l=s("e8b5"),u=s("b622"),c=u("species");i.exports=function(d,h){var p;return l(d)&&(p=d.constructor,typeof p=="function"&&(p===Array||l(p.prototype))?p=void 0:a(p)&&(p=p[c],p===null&&(p=void 0))),new(p===void 0?Array:p)(h===0?0:h)}},"69f3":function(i,o,s){var a=s("7f9a"),l=s("da84"),u=s("861d"),c=s("9112"),d=s("5135"),h=s("f772"),p=s("d012"),m=l.WeakMap,g,v,A,I=function(b){return A(b)?v(b):g(b,{})},S=function(b){return function(w){var k;if(!u(w)||(k=v(w)).type!==b)throw TypeError("Incompatible receiver, "+b+" required");return k}};if(a){var T=new m,N=T.get,R=T.has,C=T.set;g=function(b,w){return C.call(T,b,w),w},v=function(b){return N.call(T,b)||{}},A=function(b){return R.call(T,b)}}else{var E=h("state");p[E]=!0,g=function(b,w){return c(b,E,w),w},v=function(b){return d(b,E)?b[E]:{}},A=function(b){return d(b,E)}}i.exports={set:g,get:v,has:A,enforce:I,getterFor:S}},"6eeb":function(i,o,s){var a=s("da84"),l=s("9112"),u=s("5135"),c=s("ce4e"),d=s("8925"),h=s("69f3"),p=h.get,m=h.enforce,g=String(String).split("String");(i.exports=function(v,A,I,S){var T=S?!!S.unsafe:!1,N=S?!!S.enumerable:!1,R=S?!!S.noTargetGet:!1;if(typeof I=="function"&&(typeof A=="string"&&!u(I,"name")&&l(I,"name",A),m(I).source=g.join(typeof A=="string"?A:"")),v===a){N?v[A]=I:c(A,I);return}else T?!R&&v[A]&&(N=!0):delete v[A];N?v[A]=I:l(v,A,I)})(Function.prototype,"toString",function(){return typeof this=="function"&&p(this).source||d(this)})},"6f53":function(i,o,s){var a=s("83ab"),l=s("df75"),u=s("fc6a"),c=s("d1e7").f,d=function(h){return function(p){for(var m=u(p),g=l(m),v=g.length,A=0,I=[],S;v>A;)S=g[A++],(!a||c.call(m,S))&&I.push(h?[S,m[S]]:m[S]);return I}};i.exports={entries:d(!0),values:d(!1)}},"73d9":function(i,o,s){var a=s("44d2");a("flatMap")},7418:function(i,o){o.f=Object.getOwnPropertySymbols},"746f":function(i,o,s){var a=s("428f"),l=s("5135"),u=s("e538"),c=s("9bf2").f;i.exports=function(d){var h=a.Symbol||(a.Symbol={});l(h,d)||c(h,d,{value:u.f(d)})}},7839:function(i,o){i.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},"7b0b":function(i,o,s){var a=s("1d80");i.exports=function(l){return Object(a(l))}},"7c73":function(i,o,s){var a=s("825a"),l=s("37e8"),u=s("7839"),c=s("d012"),d=s("1be4"),h=s("cc12"),p=s("f772"),m=">",g="<",v="prototype",A="script",I=p("IE_PROTO"),S=function(){},T=function(b){return g+A+m+b+g+"/"+A+m},N=function(b){b.write(T("")),b.close();var w=b.parentWindow.Object;return b=null,w},R=function(){var b=h("iframe"),w="java"+A+":",k;return b.style.display="none",d.appendChild(b),b.src=String(w),k=b.contentWindow.document,k.open(),k.write(T("document.F=Object")),k.close(),k.F},C,E=function(){try{C=document.domain&&new ActiveXObject("htmlfile")}catch{}E=C?N(C):R();for(var b=u.length;b--;)delete E[v][u[b]];return E()};c[I]=!0,i.exports=Object.create||function(w,k){var x;return w!==null?(S[v]=a(w),x=new S,S[v]=null,x[I]=w):x=E(),k===void 0?x:l(x,k)}},"7dd0":function(i,o,s){var a=s("23e7"),l=s("9ed3"),u=s("e163"),c=s("d2bb"),d=s("d44e"),h=s("9112"),p=s("6eeb"),m=s("b622"),g=s("c430"),v=s("3f8c"),A=s("ae93"),I=A.IteratorPrototype,S=A.BUGGY_SAFARI_ITERATORS,T=m("iterator"),N="keys",R="values",C="entries",E=function(){return this};i.exports=function(b,w,k,x,O,q,V){l(k,w,x);var F=function(Y){if(Y===O&&ue)return ue;if(!S&&Y in H)return H[Y];switch(Y){case N:return function(){return new k(this,Y)};case R:return function(){return new k(this,Y)};case C:return function(){return new k(this,Y)}}return function(){return new k(this)}},G=w+" Iterator",Z=!1,H=b.prototype,$=H[T]||H["@@iterator"]||O&&H[O],ue=!S&&$||F(O),se=w=="Array"&&H.entries||$,ve,Se,he;if(se&&(ve=u(se.call(new b)),I!==Object.prototype&&ve.next&&(!g&&u(ve)!==I&&(c?c(ve,I):typeof ve[T]!="function"&&h(ve,T,E)),d(ve,G,!0,!0),g&&(v[G]=E))),O==R&&$&&$.name!==R&&(Z=!0,ue=function(){return $.call(this)}),(!g||V)&&H[T]!==ue&&h(H,T,ue),v[w]=ue,O)if(Se={values:F(R),keys:q?ue:F(N),entries:F(C)},V)for(he in Se)(S||Z||!(he in H))&&p(H,he,Se[he]);else a({target:w,proto:!0,forced:S||Z},Se);return Se}},"7f9a":function(i,o,s){var a=s("da84"),l=s("8925"),u=a.WeakMap;i.exports=typeof u=="function"&&/native code/.test(l(u))},"825a":function(i,o,s){var a=s("861d");i.exports=function(l){if(!a(l))throw TypeError(String(l)+" is not an object");return l}},"83ab":function(i,o,s){var a=s("d039");i.exports=!a(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7})},8418:function(i,o,s){var a=s("c04e"),l=s("9bf2"),u=s("5c6c");i.exports=function(c,d,h){var p=a(d);p in c?l.f(c,p,u(0,h)):c[p]=h}},"861d":function(i,o){i.exports=function(s){return typeof s=="object"?s!==null:typeof s=="function"}},8875:function(i,o,s){var a,l,u;(function(c,d){l=[],a=d,u=typeof a=="function"?a.apply(o,l):a,u!==void 0&&(i.exports=u)})(typeof self<"u"?self:this,function(){function c(){var d=Object.getOwnPropertyDescriptor(document,"currentScript");if(!d&&"currentScript"in document&&document.currentScript||d&&d.get!==c&&document.currentScript)return document.currentScript;try{throw new Error}catch(C){var h=/.*at [^(]*\((.*):(.+):(.+)\)$/ig,p=/@([^@]*):(\d+):(\d+)\s*$/ig,m=h.exec(C.stack)||p.exec(C.stack),g=m&&m[1]||!1,v=m&&m[2]||!1,A=document.location.href.replace(document.location.hash,""),I,S,T,N=document.getElementsByTagName("script");g===A&&(I=document.documentElement.outerHTML,S=new RegExp("(?:[^\\n]+?\\n){0,"+(v-2)+"}[^<]*<script>([\\d\\D]*?)<\\/script>[\\d\\D]*","i"),T=I.replace(S,"$1").trim());for(var R=0;R<N.length;R++)if(N[R].readyState==="interactive"||N[R].src===g||g===A&&N[R].innerHTML&&N[R].innerHTML.trim()===T)return N[R];return null}}return c})},8925:function(i,o,s){var a=s("c6cd"),l=Function.toString;typeof a.inspectSource!="function"&&(a.inspectSource=function(u){return l.call(u)}),i.exports=a.inspectSource},"8aa5":function(i,o,s){var a=s("6547").charAt;i.exports=function(l,u,c){return u+(c?a(l,u).length:1)}},"8bbf":function(i,o){i.exports=n},"90e3":function(i,o){var s=0,a=Math.random();i.exports=function(l){return"Symbol("+String(l===void 0?"":l)+")_"+(++s+a).toString(36)}},9112:function(i,o,s){var a=s("83ab"),l=s("9bf2"),u=s("5c6c");i.exports=a?function(c,d,h){return l.f(c,d,u(1,h))}:function(c,d,h){return c[d]=h,c}},9263:function(i,o,s){var a=s("ad6d"),l=s("9f7f"),u=RegExp.prototype.exec,c=String.prototype.replace,d=u,h=function(){var v=/a/,A=/b*/g;return u.call(v,"a"),u.call(A,"a"),v.lastIndex!==0||A.lastIndex!==0}(),p=l.UNSUPPORTED_Y||l.BROKEN_CARET,m=/()??/.exec("")[1]!==void 0,g=h||m||p;g&&(d=function(A){var I=this,S,T,N,R,C=p&&I.sticky,E=a.call(I),b=I.source,w=0,k=A;return C&&(E=E.replace("y",""),E.indexOf("g")===-1&&(E+="g"),k=String(A).slice(I.lastIndex),I.lastIndex>0&&(!I.multiline||I.multiline&&A[I.lastIndex-1]!==`
`)&&(b="(?: "+b+")",k=" "+k,w++),T=new RegExp("^(?:"+b+")",E)),m&&(T=new RegExp("^"+b+"$(?!\\s)",E)),h&&(S=I.lastIndex),N=u.call(C?T:I,k),C?N?(N.input=N.input.slice(w),N[0]=N[0].slice(w),N.index=I.lastIndex,I.lastIndex+=N[0].length):I.lastIndex=0:h&&N&&(I.lastIndex=I.global?N.index+N[0].length:S),m&&N&&N.length>1&&c.call(N[0],T,function(){for(R=1;R<arguments.length-2;R++)arguments[R]===void 0&&(N[R]=void 0)}),N}),i.exports=d},"94ca":function(i,o,s){var a=s("d039"),l=/#|\.prototype\./,u=function(m,g){var v=d[c(m)];return v==p?!0:v==h?!1:typeof g=="function"?a(g):!!g},c=u.normalize=function(m){return String(m).replace(l,".").toLowerCase()},d=u.data={},h=u.NATIVE="N",p=u.POLYFILL="P";i.exports=u},"99af":function(i,o,s){var a=s("23e7"),l=s("d039"),u=s("e8b5"),c=s("861d"),d=s("7b0b"),h=s("50c4"),p=s("8418"),m=s("65f0"),g=s("1dde"),v=s("b622"),A=s("2d00"),I=v("isConcatSpreadable"),S=9007199254740991,T="Maximum allowed index exceeded",N=A>=51||!l(function(){var b=[];return b[I]=!1,b.concat()[0]!==b}),R=g("concat"),C=function(b){if(!c(b))return!1;var w=b[I];return w!==void 0?!!w:u(b)},E=!N||!R;a({target:"Array",proto:!0,forced:E},{concat:function(w){var k=d(this),x=m(k,0),O=0,q,V,F,G,Z;for(q=-1,F=arguments.length;q<F;q++)if(Z=q===-1?k:arguments[q],C(Z)){if(G=h(Z.length),O+G>S)throw TypeError(T);for(V=0;V<G;V++,O++)V in Z&&p(x,O,Z[V])}else{if(O>=S)throw TypeError(T);p(x,O++,Z)}return x.length=O,x}})},"9bdd":function(i,o,s){var a=s("825a");i.exports=function(l,u,c,d){try{return d?u(a(c)[0],c[1]):u(c)}catch(p){var h=l.return;throw h!==void 0&&a(h.call(l)),p}}},"9bf2":function(i,o,s){var a=s("83ab"),l=s("0cfb"),u=s("825a"),c=s("c04e"),d=Object.defineProperty;o.f=a?d:function(p,m,g){if(u(p),m=c(m,!0),u(g),l)try{return d(p,m,g)}catch{}if("get"in g||"set"in g)throw TypeError("Accessors not supported");return"value"in g&&(p[m]=g.value),p}},"9ed3":function(i,o,s){var a=s("ae93").IteratorPrototype,l=s("7c73"),u=s("5c6c"),c=s("d44e"),d=s("3f8c"),h=function(){return this};i.exports=function(p,m,g){var v=m+" Iterator";return p.prototype=l(a,{next:u(1,g)}),c(p,v,!1,!0),d[v]=h,p}},"9f7f":function(i,o,s){var a=s("d039");function l(u,c){return RegExp(u,c)}o.UNSUPPORTED_Y=a(function(){var u=l("a","y");return u.lastIndex=2,u.exec("abcd")!=null}),o.BROKEN_CARET=a(function(){var u=l("^r","gy");return u.lastIndex=2,u.exec("str")!=null})},a2bf:function(i,o,s){var a=s("e8b5"),l=s("50c4"),u=s("0366"),c=function(d,h,p,m,g,v,A,I){for(var S=g,T=0,N=A?u(A,I,3):!1,R;T<m;){if(T in p){if(R=N?N(p[T],T,h):p[T],v>0&&a(R))S=c(d,h,R,l(R.length),S,v-1)-1;else{if(S>=9007199254740991)throw TypeError("Exceed the acceptable array length");d[S]=R}S++}T++}return S};i.exports=c},a352:function(i,o){i.exports=r},a434:function(i,o,s){var a=s("23e7"),l=s("23cb"),u=s("a691"),c=s("50c4"),d=s("7b0b"),h=s("65f0"),p=s("8418"),m=s("1dde"),g=s("ae40"),v=m("splice"),A=g("splice",{ACCESSORS:!0,0:0,1:2}),I=Math.max,S=Math.min,T=9007199254740991,N="Maximum allowed length exceeded";a({target:"Array",proto:!0,forced:!v||!A},{splice:function(C,E){var b=d(this),w=c(b.length),k=l(C,w),x=arguments.length,O,q,V,F,G,Z;if(x===0?O=q=0:x===1?(O=0,q=w-k):(O=x-2,q=S(I(u(E),0),w-k)),w+O-q>T)throw TypeError(N);for(V=h(b,q),F=0;F<q;F++)G=k+F,G in b&&p(V,F,b[G]);if(V.length=q,O<q){for(F=k;F<w-q;F++)G=F+q,Z=F+O,G in b?b[Z]=b[G]:delete b[Z];for(F=w;F>w-q+O;F--)delete b[F-1]}else if(O>q)for(F=w-q;F>k;F--)G=F+q-1,Z=F+O-1,G in b?b[Z]=b[G]:delete b[Z];for(F=0;F<O;F++)b[F+k]=arguments[F+2];return b.length=w-q+O,V}})},a4d3:function(i,o,s){var a=s("23e7"),l=s("da84"),u=s("d066"),c=s("c430"),d=s("83ab"),h=s("4930"),p=s("fdbf"),m=s("d039"),g=s("5135"),v=s("e8b5"),A=s("861d"),I=s("825a"),S=s("7b0b"),T=s("fc6a"),N=s("c04e"),R=s("5c6c"),C=s("7c73"),E=s("df75"),b=s("241c"),w=s("057f"),k=s("7418"),x=s("06cf"),O=s("9bf2"),q=s("d1e7"),V=s("9112"),F=s("6eeb"),G=s("5692"),Z=s("f772"),H=s("d012"),$=s("90e3"),ue=s("b622"),se=s("e538"),ve=s("746f"),Se=s("d44e"),he=s("69f3"),Y=s("b727").forEach,ne=Z("hidden"),pe="Symbol",oe="prototype",_e=ue("toPrimitive"),Ce=he.set,fe=he.getterFor(pe),L=Object[oe],j=l.Symbol,X=u("JSON","stringify"),me=x.f,ge=O.f,Ae=w.f,Ve=q.f,ke=G("symbols"),xe=G("op-symbols"),Ie=G("string-to-symbol-registry"),je=G("symbol-to-string-registry"),He=G("wks"),Qe=l.QObject,lt=!Qe||!Qe[oe]||!Qe[oe].findChild,et=d&&m(function(){return C(ge({},"a",{get:function(){return ge(this,"a",{value:7}).a}})).a!=7})?function(nt,Ye,ut){var Pt=me(L,Ye);Pt&&delete L[Ye],ge(nt,Ye,ut),Pt&&nt!==L&&ge(L,Ye,Pt)}:ge,re=function(nt,Ye){var ut=ke[nt]=C(j[oe]);return Ce(ut,{type:pe,tag:nt,description:Ye}),d||(ut.description=Ye),ut},K=p?function(nt){return typeof nt=="symbol"}:function(nt){return Object(nt)instanceof j},Q=function(Ye,ut,Pt){Ye===L&&Q(xe,ut,Pt),I(Ye);var It=N(ut,!0);return I(Pt),g(ke,It)?(Pt.enumerable?(g(Ye,ne)&&Ye[ne][It]&&(Ye[ne][It]=!1),Pt=C(Pt,{enumerable:R(0,!1)})):(g(Ye,ne)||ge(Ye,ne,R(1,{})),Ye[ne][It]=!0),et(Ye,It,Pt)):ge(Ye,It,Pt)},ae=function(Ye,ut){I(Ye);var Pt=T(ut),It=E(Pt).concat(De(Pt));return Y(It,function(br){(!d||Ue.call(Pt,br))&&Q(Ye,br,Pt[br])}),Ye},be=function(Ye,ut){return ut===void 0?C(Ye):ae(C(Ye),ut)},Ue=function(Ye){var ut=N(Ye,!0),Pt=Ve.call(this,ut);return this===L&&g(ke,ut)&&!g(xe,ut)?!1:Pt||!g(this,ut)||!g(ke,ut)||g(this,ne)&&this[ne][ut]?Pt:!0},tt=function(Ye,ut){var Pt=T(Ye),It=N(ut,!0);if(!(Pt===L&&g(ke,It)&&!g(xe,It))){var br=me(Pt,It);return br&&g(ke,It)&&!(g(Pt,ne)&&Pt[ne][It])&&(br.enumerable=!0),br}},we=function(Ye){var ut=Ae(T(Ye)),Pt=[];return Y(ut,function(It){!g(ke,It)&&!g(H,It)&&Pt.push(It)}),Pt},De=function(Ye){var ut=Ye===L,Pt=Ae(ut?xe:T(Ye)),It=[];return Y(Pt,function(br){g(ke,br)&&(!ut||g(L,br))&&It.push(ke[br])}),It};if(h||(j=function(){if(this instanceof j)throw TypeError("Symbol is not a constructor");var Ye=!arguments.length||arguments[0]===void 0?void 0:String(arguments[0]),ut=$(Ye),Pt=function(It){this===L&&Pt.call(xe,It),g(this,ne)&&g(this[ne],ut)&&(this[ne][ut]=!1),et(this,ut,R(1,It))};return d&&lt&&et(L,ut,{configurable:!0,set:Pt}),re(ut,Ye)},F(j[oe],"toString",function(){return fe(this).tag}),F(j,"withoutSetter",function(nt){return re($(nt),nt)}),q.f=Ue,O.f=Q,x.f=tt,b.f=w.f=we,k.f=De,se.f=function(nt){return re(ue(nt),nt)},d&&(ge(j[oe],"description",{configurable:!0,get:function(){return fe(this).description}}),c||F(L,"propertyIsEnumerable",Ue,{unsafe:!0}))),a({global:!0,wrap:!0,forced:!h,sham:!h},{Symbol:j}),Y(E(He),function(nt){ve(nt)}),a({target:pe,stat:!0,forced:!h},{for:function(nt){var Ye=String(nt);if(g(Ie,Ye))return Ie[Ye];var ut=j(Ye);return Ie[Ye]=ut,je[ut]=Ye,ut},keyFor:function(Ye){if(!K(Ye))throw TypeError(Ye+" is not a symbol");if(g(je,Ye))return je[Ye]},useSetter:function(){lt=!0},useSimple:function(){lt=!1}}),a({target:"Object",stat:!0,forced:!h,sham:!d},{create:be,defineProperty:Q,defineProperties:ae,getOwnPropertyDescriptor:tt}),a({target:"Object",stat:!0,forced:!h},{getOwnPropertyNames:we,getOwnPropertySymbols:De}),a({target:"Object",stat:!0,forced:m(function(){k.f(1)})},{getOwnPropertySymbols:function(Ye){return k.f(S(Ye))}}),X){var Fe=!h||m(function(){var nt=j();return X([nt])!="[null]"||X({a:nt})!="{}"||X(Object(nt))!="{}"});a({target:"JSON",stat:!0,forced:Fe},{stringify:function(Ye,ut,Pt){for(var It=[Ye],br=1,$a;arguments.length>br;)It.push(arguments[br++]);if($a=ut,!(!A(ut)&&Ye===void 0||K(Ye)))return v(ut)||(ut=function(Zo,Fa){if(typeof $a=="function"&&(Fa=$a.call(this,Zo,Fa)),!K(Fa))return Fa}),It[1]=ut,X.apply(null,It)}})}j[oe][_e]||V(j[oe],_e,j[oe].valueOf),Se(j,pe),H[ne]=!0},a630:function(i,o,s){var a=s("23e7"),l=s("4df4"),u=s("1c7e"),c=!u(function(d){Array.from(d)});a({target:"Array",stat:!0,forced:c},{from:l})},a640:function(i,o,s){var a=s("d039");i.exports=function(l,u){var c=[][l];return!!c&&a(function(){c.call(null,u||function(){throw 1},1)})}},a691:function(i,o){var s=Math.ceil,a=Math.floor;i.exports=function(l){return isNaN(l=+l)?0:(l>0?a:s)(l)}},ab13:function(i,o,s){var a=s("b622"),l=a("match");i.exports=function(u){var c=/./;try{"/./"[u](c)}catch{try{return c[l]=!1,"/./"[u](c)}catch{}}return!1}},ac1f:function(i,o,s){var a=s("23e7"),l=s("9263");a({target:"RegExp",proto:!0,forced:/./.exec!==l},{exec:l})},ad6d:function(i,o,s){var a=s("825a");i.exports=function(){var l=a(this),u="";return l.global&&(u+="g"),l.ignoreCase&&(u+="i"),l.multiline&&(u+="m"),l.dotAll&&(u+="s"),l.unicode&&(u+="u"),l.sticky&&(u+="y"),u}},ae40:function(i,o,s){var a=s("83ab"),l=s("d039"),u=s("5135"),c=Object.defineProperty,d={},h=function(p){throw p};i.exports=function(p,m){if(u(d,p))return d[p];m||(m={});var g=[][p],v=u(m,"ACCESSORS")?m.ACCESSORS:!1,A=u(m,0)?m[0]:h,I=u(m,1)?m[1]:void 0;return d[p]=!!g&&!l(function(){if(v&&!a)return!0;var S={length:-1};v?c(S,1,{enumerable:!0,get:h}):S[1]=1,g.call(S,A,I)})}},ae93:function(i,o,s){var a=s("e163"),l=s("9112"),u=s("5135"),c=s("b622"),d=s("c430"),h=c("iterator"),p=!1,m=function(){return this},g,v,A;[].keys&&(A=[].keys(),"next"in A?(v=a(a(A)),v!==Object.prototype&&(g=v)):p=!0),g==null&&(g={}),!d&&!u(g,h)&&l(g,h,m),i.exports={IteratorPrototype:g,BUGGY_SAFARI_ITERATORS:p}},b041:function(i,o,s){var a=s("00ee"),l=s("f5df");i.exports=a?{}.toString:function(){return"[object "+l(this)+"]"}},b0c0:function(i,o,s){var a=s("83ab"),l=s("9bf2").f,u=Function.prototype,c=u.toString,d=/^\s*function ([^ (]*)/,h="name";a&&!(h in u)&&l(u,h,{configurable:!0,get:function(){try{return c.call(this).match(d)[1]}catch{return""}}})},b622:function(i,o,s){var a=s("da84"),l=s("5692"),u=s("5135"),c=s("90e3"),d=s("4930"),h=s("fdbf"),p=l("wks"),m=a.Symbol,g=h?m:m&&m.withoutSetter||c;i.exports=function(v){return u(p,v)||(d&&u(m,v)?p[v]=m[v]:p[v]=g("Symbol."+v)),p[v]}},b64b:function(i,o,s){var a=s("23e7"),l=s("7b0b"),u=s("df75"),c=s("d039"),d=c(function(){u(1)});a({target:"Object",stat:!0,forced:d},{keys:function(p){return u(l(p))}})},b727:function(i,o,s){var a=s("0366"),l=s("44ad"),u=s("7b0b"),c=s("50c4"),d=s("65f0"),h=[].push,p=function(m){var g=m==1,v=m==2,A=m==3,I=m==4,S=m==6,T=m==5||S;return function(N,R,C,E){for(var b=u(N),w=l(b),k=a(R,C,3),x=c(w.length),O=0,q=E||d,V=g?q(N,x):v?q(N,0):void 0,F,G;x>O;O++)if((T||O in w)&&(F=w[O],G=k(F,O,b),m)){if(g)V[O]=G;else if(G)switch(m){case 3:return!0;case 5:return F;case 6:return O;case 2:h.call(V,F)}else if(I)return!1}return S?-1:A||I?I:V}};i.exports={forEach:p(0),map:p(1),filter:p(2),some:p(3),every:p(4),find:p(5),findIndex:p(6)}},c04e:function(i,o,s){var a=s("861d");i.exports=function(l,u){if(!a(l))return l;var c,d;if(u&&typeof(c=l.toString)=="function"&&!a(d=c.call(l))||typeof(c=l.valueOf)=="function"&&!a(d=c.call(l))||!u&&typeof(c=l.toString)=="function"&&!a(d=c.call(l)))return d;throw TypeError("Can't convert object to primitive value")}},c430:function(i,o){i.exports=!1},c6b6:function(i,o){var s={}.toString;i.exports=function(a){return s.call(a).slice(8,-1)}},c6cd:function(i,o,s){var a=s("da84"),l=s("ce4e"),u="__core-js_shared__",c=a[u]||l(u,{});i.exports=c},c740:function(i,o,s){var a=s("23e7"),l=s("b727").findIndex,u=s("44d2"),c=s("ae40"),d="findIndex",h=!0,p=c(d);d in[]&&Array(1)[d](function(){h=!1}),a({target:"Array",proto:!0,forced:h||!p},{findIndex:function(g){return l(this,g,arguments.length>1?arguments[1]:void 0)}}),u(d)},c8ba:function(i,o){var s;s=function(){return this}();try{s=s||new Function("return this")()}catch{typeof window=="object"&&(s=window)}i.exports=s},c975:function(i,o,s){var a=s("23e7"),l=s("4d64").indexOf,u=s("a640"),c=s("ae40"),d=[].indexOf,h=!!d&&1/[1].indexOf(1,-0)<0,p=u("indexOf"),m=c("indexOf",{ACCESSORS:!0,1:0});a({target:"Array",proto:!0,forced:h||!p||!m},{indexOf:function(v){return h?d.apply(this,arguments)||0:l(this,v,arguments.length>1?arguments[1]:void 0)}})},ca84:function(i,o,s){var a=s("5135"),l=s("fc6a"),u=s("4d64").indexOf,c=s("d012");i.exports=function(d,h){var p=l(d),m=0,g=[],v;for(v in p)!a(c,v)&&a(p,v)&&g.push(v);for(;h.length>m;)a(p,v=h[m++])&&(~u(g,v)||g.push(v));return g}},caad:function(i,o,s){var a=s("23e7"),l=s("4d64").includes,u=s("44d2"),c=s("ae40"),d=c("indexOf",{ACCESSORS:!0,1:0});a({target:"Array",proto:!0,forced:!d},{includes:function(p){return l(this,p,arguments.length>1?arguments[1]:void 0)}}),u("includes")},cc12:function(i,o,s){var a=s("da84"),l=s("861d"),u=a.document,c=l(u)&&l(u.createElement);i.exports=function(d){return c?u.createElement(d):{}}},ce4e:function(i,o,s){var a=s("da84"),l=s("9112");i.exports=function(u,c){try{l(a,u,c)}catch{a[u]=c}return c}},d012:function(i,o){i.exports={}},d039:function(i,o){i.exports=function(s){try{return!!s()}catch{return!0}}},d066:function(i,o,s){var a=s("428f"),l=s("da84"),u=function(c){return typeof c=="function"?c:void 0};i.exports=function(c,d){return arguments.length<2?u(a[c])||u(l[c]):a[c]&&a[c][d]||l[c]&&l[c][d]}},d1e7:function(i,o,s){var a={}.propertyIsEnumerable,l=Object.getOwnPropertyDescriptor,u=l&&!a.call({1:2},1);o.f=u?function(d){var h=l(this,d);return!!h&&h.enumerable}:a},d28b:function(i,o,s){var a=s("746f");a("iterator")},d2bb:function(i,o,s){var a=s("825a"),l=s("3bbe");i.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var u=!1,c={},d;try{d=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set,d.call(c,[]),u=c instanceof Array}catch{}return function(p,m){return a(p),l(m),u?d.call(p,m):p.__proto__=m,p}}():void 0)},d3b7:function(i,o,s){var a=s("00ee"),l=s("6eeb"),u=s("b041");a||l(Object.prototype,"toString",u,{unsafe:!0})},d44e:function(i,o,s){var a=s("9bf2").f,l=s("5135"),u=s("b622"),c=u("toStringTag");i.exports=function(d,h,p){d&&!l(d=p?d:d.prototype,c)&&a(d,c,{configurable:!0,value:h})}},d58f:function(i,o,s){var a=s("1c0b"),l=s("7b0b"),u=s("44ad"),c=s("50c4"),d=function(h){return function(p,m,g,v){a(m);var A=l(p),I=u(A),S=c(A.length),T=h?S-1:0,N=h?-1:1;if(g<2)for(;;){if(T in I){v=I[T],T+=N;break}if(T+=N,h?T<0:S<=T)throw TypeError("Reduce of empty array with no initial value")}for(;h?T>=0:S>T;T+=N)T in I&&(v=m(v,I[T],T,A));return v}};i.exports={left:d(!1),right:d(!0)}},d784:function(i,o,s){s("ac1f");var a=s("6eeb"),l=s("d039"),u=s("b622"),c=s("9263"),d=s("9112"),h=u("species"),p=!l(function(){var I=/./;return I.exec=function(){var S=[];return S.groups={a:"7"},S},"".replace(I,"$<a>")!=="7"}),m=function(){return"a".replace(/./,"$0")==="$0"}(),g=u("replace"),v=function(){return/./[g]?/./[g]("a","$0")==="":!1}(),A=!l(function(){var I=/(?:)/,S=I.exec;I.exec=function(){return S.apply(this,arguments)};var T="ab".split(I);return T.length!==2||T[0]!=="a"||T[1]!=="b"});i.exports=function(I,S,T,N){var R=u(I),C=!l(function(){var O={};return O[R]=function(){return 7},""[I](O)!=7}),E=C&&!l(function(){var O=!1,q=/a/;return I==="split"&&(q={},q.constructor={},q.constructor[h]=function(){return q},q.flags="",q[R]=/./[R]),q.exec=function(){return O=!0,null},q[R](""),!O});if(!C||!E||I==="replace"&&!(p&&m&&!v)||I==="split"&&!A){var b=/./[R],w=T(R,""[I],function(O,q,V,F,G){return q.exec===c?C&&!G?{done:!0,value:b.call(q,V,F)}:{done:!0,value:O.call(V,q,F)}:{done:!1}},{REPLACE_KEEPS_$0:m,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:v}),k=w[0],x=w[1];a(String.prototype,I,k),a(RegExp.prototype,R,S==2?function(O,q){return x.call(O,this,q)}:function(O){return x.call(O,this)})}N&&d(RegExp.prototype[R],"sham",!0)}},d81d:function(i,o,s){var a=s("23e7"),l=s("b727").map,u=s("1dde"),c=s("ae40"),d=u("map"),h=c("map");a({target:"Array",proto:!0,forced:!d||!h},{map:function(m){return l(this,m,arguments.length>1?arguments[1]:void 0)}})},da84:function(i,o,s){(function(a){var l=function(u){return u&&u.Math==Math&&u};i.exports=l(typeof globalThis=="object"&&globalThis)||l(typeof window=="object"&&window)||l(typeof self=="object"&&self)||l(typeof a=="object"&&a)||Function("return this")()}).call(this,s("c8ba"))},dbb4:function(i,o,s){var a=s("23e7"),l=s("83ab"),u=s("56ef"),c=s("fc6a"),d=s("06cf"),h=s("8418");a({target:"Object",stat:!0,sham:!l},{getOwnPropertyDescriptors:function(m){for(var g=c(m),v=d.f,A=u(g),I={},S=0,T,N;A.length>S;)N=v(g,T=A[S++]),N!==void 0&&h(I,T,N);return I}})},dbf1:function(i,o,s){(function(a){s.d(o,"a",function(){return u});function l(){return typeof window<"u"?window.console:a.console}var u=l()}).call(this,s("c8ba"))},ddb0:function(i,o,s){var a=s("da84"),l=s("fdbc"),u=s("e260"),c=s("9112"),d=s("b622"),h=d("iterator"),p=d("toStringTag"),m=u.values;for(var g in l){var v=a[g],A=v&&v.prototype;if(A){if(A[h]!==m)try{c(A,h,m)}catch{A[h]=m}if(A[p]||c(A,p,g),l[g]){for(var I in u)if(A[I]!==u[I])try{c(A,I,u[I])}catch{A[I]=u[I]}}}}},df75:function(i,o,s){var a=s("ca84"),l=s("7839");i.exports=Object.keys||function(c){return a(c,l)}},e01a:function(i,o,s){var a=s("23e7"),l=s("83ab"),u=s("da84"),c=s("5135"),d=s("861d"),h=s("9bf2").f,p=s("e893"),m=u.Symbol;if(l&&typeof m=="function"&&(!("description"in m.prototype)||m().description!==void 0)){var g={},v=function(){var R=arguments.length<1||arguments[0]===void 0?void 0:String(arguments[0]),C=this instanceof v?new m(R):R===void 0?m():m(R);return R===""&&(g[C]=!0),C};p(v,m);var A=v.prototype=m.prototype;A.constructor=v;var I=A.toString,S=String(m("test"))=="Symbol(test)",T=/^Symbol\((.*)\)[^)]+$/;h(A,"description",{configurable:!0,get:function(){var R=d(this)?this.valueOf():this,C=I.call(R);if(c(g,R))return"";var E=S?C.slice(7,-1):C.replace(T,"$1");return E===""?void 0:E}}),a({global:!0,forced:!0},{Symbol:v})}},e163:function(i,o,s){var a=s("5135"),l=s("7b0b"),u=s("f772"),c=s("e177"),d=u("IE_PROTO"),h=Object.prototype;i.exports=c?Object.getPrototypeOf:function(p){return p=l(p),a(p,d)?p[d]:typeof p.constructor=="function"&&p instanceof p.constructor?p.constructor.prototype:p instanceof Object?h:null}},e177:function(i,o,s){var a=s("d039");i.exports=!a(function(){function l(){}return l.prototype.constructor=null,Object.getPrototypeOf(new l)!==l.prototype})},e260:function(i,o,s){var a=s("fc6a"),l=s("44d2"),u=s("3f8c"),c=s("69f3"),d=s("7dd0"),h="Array Iterator",p=c.set,m=c.getterFor(h);i.exports=d(Array,"Array",function(g,v){p(this,{type:h,target:a(g),index:0,kind:v})},function(){var g=m(this),v=g.target,A=g.kind,I=g.index++;return!v||I>=v.length?(g.target=void 0,{value:void 0,done:!0}):A=="keys"?{value:I,done:!1}:A=="values"?{value:v[I],done:!1}:{value:[I,v[I]],done:!1}},"values"),u.Arguments=u.Array,l("keys"),l("values"),l("entries")},e439:function(i,o,s){var a=s("23e7"),l=s("d039"),u=s("fc6a"),c=s("06cf").f,d=s("83ab"),h=l(function(){c(1)}),p=!d||h;a({target:"Object",stat:!0,forced:p,sham:!d},{getOwnPropertyDescriptor:function(g,v){return c(u(g),v)}})},e538:function(i,o,s){var a=s("b622");o.f=a},e893:function(i,o,s){var a=s("5135"),l=s("56ef"),u=s("06cf"),c=s("9bf2");i.exports=function(d,h){for(var p=l(h),m=c.f,g=u.f,v=0;v<p.length;v++){var A=p[v];a(d,A)||m(d,A,g(h,A))}}},e8b5:function(i,o,s){var a=s("c6b6");i.exports=Array.isArray||function(u){return a(u)=="Array"}},e95a:function(i,o,s){var a=s("b622"),l=s("3f8c"),u=a("iterator"),c=Array.prototype;i.exports=function(d){return d!==void 0&&(l.Array===d||c[u]===d)}},f5df:function(i,o,s){var a=s("00ee"),l=s("c6b6"),u=s("b622"),c=u("toStringTag"),d=l(function(){return arguments}())=="Arguments",h=function(p,m){try{return p[m]}catch{}};i.exports=a?l:function(p){var m,g,v;return p===void 0?"Undefined":p===null?"Null":typeof(g=h(m=Object(p),c))=="string"?g:d?l(m):(v=l(m))=="Object"&&typeof m.callee=="function"?"Arguments":v}},f772:function(i,o,s){var a=s("5692"),l=s("90e3"),u=a("keys");i.exports=function(c){return u[c]||(u[c]=l(c))}},fb15:function(i,o,s){if(s.r(o),typeof window<"u"){var a=window.document.currentScript;{var l=s("8875");a=l(),"currentScript"in document||Object.defineProperty(document,"currentScript",{get:l})}var u=a&&a.src.match(/(.+\/)[^/]+\.js(\?.*)?$/);u&&(s.p=u[1])}s("99af"),s("4de4"),s("4160"),s("c975"),s("d81d"),s("a434"),s("159b"),s("a4d3"),s("e439"),s("dbb4"),s("b64b");function c(K,Q,ae){return Q in K?Object.defineProperty(K,Q,{value:ae,enumerable:!0,configurable:!0,writable:!0}):K[Q]=ae,K}function d(K,Q){var ae=Object.keys(K);if(Object.getOwnPropertySymbols){var be=Object.getOwnPropertySymbols(K);Q&&(be=be.filter(function(Ue){return Object.getOwnPropertyDescriptor(K,Ue).enumerable})),ae.push.apply(ae,be)}return ae}function h(K){for(var Q=1;Q<arguments.length;Q++){var ae=arguments[Q]!=null?arguments[Q]:{};Q%2?d(Object(ae),!0).forEach(function(be){c(K,be,ae[be])}):Object.getOwnPropertyDescriptors?Object.defineProperties(K,Object.getOwnPropertyDescriptors(ae)):d(Object(ae)).forEach(function(be){Object.defineProperty(K,be,Object.getOwnPropertyDescriptor(ae,be))})}return K}function p(K){if(Array.isArray(K))return K}s("e01a"),s("d28b"),s("e260"),s("d3b7"),s("3ca3"),s("ddb0");function m(K,Q){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(K)))){var ae=[],be=!0,Ue=!1,tt=void 0;try{for(var we=K[Symbol.iterator](),De;!(be=(De=we.next()).done)&&(ae.push(De.value),!(Q&&ae.length===Q));be=!0);}catch(Fe){Ue=!0,tt=Fe}finally{try{!be&&we.return!=null&&we.return()}finally{if(Ue)throw tt}}return ae}}s("a630"),s("fb6a"),s("b0c0"),s("25f0");function g(K,Q){(Q==null||Q>K.length)&&(Q=K.length);for(var ae=0,be=new Array(Q);ae<Q;ae++)be[ae]=K[ae];return be}function v(K,Q){if(K){if(typeof K=="string")return g(K,Q);var ae=Object.prototype.toString.call(K).slice(8,-1);if(ae==="Object"&&K.constructor&&(ae=K.constructor.name),ae==="Map"||ae==="Set")return Array.from(K);if(ae==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(ae))return g(K,Q)}}function A(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function I(K,Q){return p(K)||m(K,Q)||v(K,Q)||A()}function S(K){if(Array.isArray(K))return g(K)}function T(K){if(typeof Symbol<"u"&&Symbol.iterator in Object(K))return Array.from(K)}function N(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function R(K){return S(K)||T(K)||v(K)||N()}var C=s("a352"),E=s.n(C);function b(K){K.parentElement!==null&&K.parentElement.removeChild(K)}function w(K,Q,ae){var be=ae===0?K.children[0]:K.children[ae-1].nextSibling;K.insertBefore(Q,be)}var k=s("dbf1");s("13d5"),s("4fad"),s("ac1f"),s("5319");function x(K){var Q=Object.create(null);return function(be){var Ue=Q[be];return Ue||(Q[be]=K(be))}}var O=/-(\w)/g,q=x(function(K){return K.replace(O,function(Q,ae){return ae.toUpperCase()})});s("5db7"),s("73d9");var V=["Start","Add","Remove","Update","End"],F=["Choose","Unchoose","Sort","Filter","Clone"],G=["Move"],Z=[G,V,F].flatMap(function(K){return K}).map(function(K){return"on".concat(K)}),H={manage:G,manageAndEmit:V,emit:F};function $(K){return Z.indexOf(K)!==-1}s("caad"),s("2ca0");var ue=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","label","legend","li","link","main","map","mark","math","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rb","rp","rt","rtc","ruby","s","samp","script","section","select","slot","small","source","span","strong","style","sub","summary","sup","svg","table","tbody","td","template","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr"];function se(K){return ue.includes(K)}function ve(K){return["transition-group","TransitionGroup"].includes(K)}function Se(K){return["id","class","role","style"].includes(K)||K.startsWith("data-")||K.startsWith("aria-")||K.startsWith("on")}function he(K){return K.reduce(function(Q,ae){var be=I(ae,2),Ue=be[0],tt=be[1];return Q[Ue]=tt,Q},{})}function Y(K){var Q=K.$attrs,ae=K.componentData,be=ae===void 0?{}:ae,Ue=he(Object.entries(Q).filter(function(tt){var we=I(tt,2),De=we[0];return we[1],Se(De)}));return h(h({},Ue),be)}function ne(K){var Q=K.$attrs,ae=K.callBackBuilder,be=he(pe(Q));Object.entries(ae).forEach(function(tt){var we=I(tt,2),De=we[0],Fe=we[1];H[De].forEach(function(nt){be["on".concat(nt)]=Fe(nt)})});var Ue="[data-draggable]".concat(be.draggable||"");return h(h({},be),{},{draggable:Ue})}function pe(K){return Object.entries(K).filter(function(Q){var ae=I(Q,2),be=ae[0];return ae[1],!Se(be)}).map(function(Q){var ae=I(Q,2),be=ae[0],Ue=ae[1];return[q(be),Ue]}).filter(function(Q){var ae=I(Q,2),be=ae[0];return ae[1],!$(be)})}s("c740");function oe(K,Q){if(!(K instanceof Q))throw new TypeError("Cannot call a class as a function")}function _e(K,Q){for(var ae=0;ae<Q.length;ae++){var be=Q[ae];be.enumerable=be.enumerable||!1,be.configurable=!0,"value"in be&&(be.writable=!0),Object.defineProperty(K,be.key,be)}}function Ce(K,Q,ae){return Q&&_e(K.prototype,Q),ae&&_e(K,ae),K}var fe=function(Q){var ae=Q.el;return ae},L=function(Q,ae){return Q.__draggable_context=ae},j=function(Q){return Q.__draggable_context},X=function(){function K(Q){var ae=Q.nodes,be=ae.header,Ue=ae.default,tt=ae.footer,we=Q.root,De=Q.realList;oe(this,K),this.defaultNodes=Ue,this.children=[].concat(R(be),R(Ue),R(tt)),this.externalComponent=we.externalComponent,this.rootTransition=we.transition,this.tag=we.tag,this.realList=De}return Ce(K,[{key:"render",value:function(ae,be){var Ue=this.tag,tt=this.children,we=this._isRootComponent,De=we?{default:function(){return tt}}:tt;return ae(Ue,be,De)}},{key:"updated",value:function(){var ae=this.defaultNodes,be=this.realList;ae.forEach(function(Ue,tt){L(fe(Ue),{element:be[tt],index:tt})})}},{key:"getUnderlyingVm",value:function(ae){return j(ae)}},{key:"getVmIndexFromDomIndex",value:function(ae,be){var Ue=this.defaultNodes,tt=Ue.length,we=be.children,De=we.item(ae);if(De===null)return tt;var Fe=j(De);if(Fe)return Fe.index;if(tt===0)return 0;var nt=fe(Ue[0]),Ye=R(we).findIndex(function(ut){return ut===nt});return ae<Ye?0:tt}},{key:"_isRootComponent",get:function(){return this.externalComponent||this.rootTransition}}]),K}(),me=s("8bbf");function ge(K,Q){var ae=K[Q];return ae?ae():[]}function Ae(K){var Q=K.$slots,ae=K.realList,be=K.getKey,Ue=ae||[],tt=["header","footer"].map(function(ut){return ge(Q,ut)}),we=I(tt,2),De=we[0],Fe=we[1],nt=Q.item;if(!nt)throw new Error("draggable element must have an item slot");var Ye=Ue.flatMap(function(ut,Pt){return nt({element:ut,index:Pt}).map(function(It){return It.key=be(ut),It.props=h(h({},It.props||{}),{},{"data-draggable":!0}),It})});if(Ye.length!==Ue.length)throw new Error("Item slot must have only one child");return{header:De,footer:Fe,default:Ye}}function Ve(K){var Q=ve(K),ae=!se(K)&&!Q;return{transition:Q,externalComponent:ae,tag:ae?Object(me.resolveComponent)(K):Q?me.TransitionGroup:K}}function ke(K){var Q=K.$slots,ae=K.tag,be=K.realList,Ue=K.getKey,tt=Ae({$slots:Q,realList:be,getKey:Ue}),we=Ve(ae);return new X({nodes:tt,root:we,realList:be})}function xe(K,Q){var ae=this;Object(me.nextTick)(function(){return ae.$emit(K.toLowerCase(),Q)})}function Ie(K){var Q=this;return function(ae,be){if(Q.realList!==null)return Q["onDrag".concat(K)](ae,be)}}function je(K){var Q=this,ae=Ie.call(this,K);return function(be,Ue){ae.call(Q,be,Ue),xe.call(Q,K,be)}}var He=null,Qe={list:{type:Array,required:!1,default:null},modelValue:{type:Array,required:!1,default:null},itemKey:{type:[String,Function],required:!0},clone:{type:Function,default:function(Q){return Q}},tag:{type:String,default:"div"},move:{type:Function,default:null},componentData:{type:Object,required:!1,default:null}},lt=["update:modelValue","change"].concat(R([].concat(R(H.manageAndEmit),R(H.emit)).map(function(K){return K.toLowerCase()}))),et=Object(me.defineComponent)({name:"draggable",inheritAttrs:!1,props:Qe,emits:lt,data:function(){return{error:!1}},render:function(){try{this.error=!1;var Q=this.$slots,ae=this.$attrs,be=this.tag,Ue=this.componentData,tt=this.realList,we=this.getKey,De=ke({$slots:Q,tag:be,realList:tt,getKey:we});this.componentStructure=De;var Fe=Y({$attrs:ae,componentData:Ue});return De.render(me.h,Fe)}catch(nt){return this.error=!0,Object(me.h)("pre",{style:{color:"red"}},nt.stack)}},created:function(){this.list!==null&&this.modelValue!==null&&k.a.error("modelValue and list props are mutually exclusive! Please set one or another.")},mounted:function(){var Q=this;if(!this.error){var ae=this.$attrs,be=this.$el,Ue=this.componentStructure;Ue.updated();var tt=ne({$attrs:ae,callBackBuilder:{manageAndEmit:function(Fe){return je.call(Q,Fe)},emit:function(Fe){return xe.bind(Q,Fe)},manage:function(Fe){return Ie.call(Q,Fe)}}}),we=be.nodeType===1?be:be.parentElement;this._sortable=new E.a(we,tt),this.targetDomElement=we,we.__draggable_component__=this}},updated:function(){this.componentStructure.updated()},beforeUnmount:function(){this._sortable!==void 0&&this._sortable.destroy()},computed:{realList:function(){var Q=this.list;return Q||this.modelValue},getKey:function(){var Q=this.itemKey;return typeof Q=="function"?Q:function(ae){return ae[Q]}}},watch:{$attrs:{handler:function(Q){var ae=this._sortable;ae&&pe(Q).forEach(function(be){var Ue=I(be,2),tt=Ue[0],we=Ue[1];ae.option(tt,we)})},deep:!0}},methods:{getUnderlyingVm:function(Q){return this.componentStructure.getUnderlyingVm(Q)||null},getUnderlyingPotencialDraggableComponent:function(Q){return Q.__draggable_component__},emitChanges:function(Q){var ae=this;Object(me.nextTick)(function(){return ae.$emit("change",Q)})},alterList:function(Q){if(this.list){Q(this.list);return}var ae=R(this.modelValue);Q(ae),this.$emit("update:modelValue",ae)},spliceList:function(){var Q=arguments,ae=function(Ue){return Ue.splice.apply(Ue,R(Q))};this.alterList(ae)},updatePosition:function(Q,ae){var be=function(tt){return tt.splice(ae,0,tt.splice(Q,1)[0])};this.alterList(be)},getRelatedContextFromMoveEvent:function(Q){var ae=Q.to,be=Q.related,Ue=this.getUnderlyingPotencialDraggableComponent(ae);if(!Ue)return{component:Ue};var tt=Ue.realList,we={list:tt,component:Ue};if(ae!==be&&tt){var De=Ue.getUnderlyingVm(be)||{};return h(h({},De),we)}return we},getVmIndexFromDomIndex:function(Q){return this.componentStructure.getVmIndexFromDomIndex(Q,this.targetDomElement)},onDragStart:function(Q){this.context=this.getUnderlyingVm(Q.item),Q.item._underlying_vm_=this.clone(this.context.element),He=Q.item},onDragAdd:function(Q){var ae=Q.item._underlying_vm_;if(ae!==void 0){b(Q.item);var be=this.getVmIndexFromDomIndex(Q.newIndex);this.spliceList(be,0,ae);var Ue={element:ae,newIndex:be};this.emitChanges({added:Ue})}},onDragRemove:function(Q){if(w(this.$el,Q.item,Q.oldIndex),Q.pullMode==="clone"){b(Q.clone);return}var ae=this.context,be=ae.index,Ue=ae.element;this.spliceList(be,1);var tt={element:Ue,oldIndex:be};this.emitChanges({removed:tt})},onDragUpdate:function(Q){b(Q.item),w(Q.from,Q.item,Q.oldIndex);var ae=this.context.index,be=this.getVmIndexFromDomIndex(Q.newIndex);this.updatePosition(ae,be);var Ue={element:this.context.element,oldIndex:ae,newIndex:be};this.emitChanges({moved:Ue})},computeFutureIndex:function(Q,ae){if(!Q.element)return 0;var be=R(ae.to.children).filter(function(De){return De.style.display!=="none"}),Ue=be.indexOf(ae.related),tt=Q.component.getVmIndexFromDomIndex(Ue),we=be.indexOf(He)!==-1;return we||!ae.willInsertAfter?tt:tt+1},onDragMove:function(Q,ae){var be=this.move,Ue=this.realList;if(!be||!Ue)return!0;var tt=this.getRelatedContextFromMoveEvent(Q),we=this.computeFutureIndex(tt,Q),De=h(h({},this.context),{},{futureIndex:we}),Fe=h(h({},Q),{},{relatedContext:tt,draggedContext:De});return be(Fe,ae)},onDragEnd:function(){He=null}}}),re=et;o.default=re},fb6a:function(i,o,s){var a=s("23e7"),l=s("861d"),u=s("e8b5"),c=s("23cb"),d=s("50c4"),h=s("fc6a"),p=s("8418"),m=s("b622"),g=s("1dde"),v=s("ae40"),A=g("slice"),I=v("slice",{ACCESSORS:!0,0:0,1:2}),S=m("species"),T=[].slice,N=Math.max;a({target:"Array",proto:!0,forced:!A||!I},{slice:function(C,E){var b=h(this),w=d(b.length),k=c(C,w),x=c(E===void 0?w:E,w),O,q,V;if(u(b)&&(O=b.constructor,typeof O=="function"&&(O===Array||u(O.prototype))?O=void 0:l(O)&&(O=O[S],O===null&&(O=void 0)),O===Array||O===void 0))return T.call(b,k,x);for(q=new(O===void 0?Array:O)(N(x-k,0)),V=0;k<x;k++,V++)k in b&&p(q,V,b[k]);return q.length=V,q}})},fc6a:function(i,o,s){var a=s("44ad"),l=s("1d80");i.exports=function(u){return a(l(u))}},fdbc:function(i,o){i.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},fdbf:function(i,o,s){var a=s("4930");i.exports=a&&!Symbol.sham&&typeof Symbol.iterator=="symbol"}}).default})})(KM);var bre=KM.exports;const Y1=Nne(bre),_re={key:0,class:"mb-5 p-4 border-y"},wre={class:"flex"},Tre=y("i",{class:"drag-handle pi pi-arrows-v place-self-center hover:cursor-pointer"},null,-1),Ere=Me({__name:"StringListField",props:{id:{},name:{},label:{},placeholder:{},modelValue:{}},emits:["update:modelValue","update:error"],setup(t,{expose:e,emit:n}){const r=t,i=n,o=ie(""),s=te({get:()=>r.modelValue.slice(),set:h=>{i("update:modelValue",h),o.value=""}}),a=te(()=>r.name+(r.id?"."+r.id:"")),l=(h,p)=>{const m=s.value.slice();m.splice(h,1,p),s.value=m},u=()=>{o.value.length&&(s.value=[...s.value,o.value])},c=h=>{const p=s.value.slice();p.splice(h,1),s.value=p};return e({test:()=>{}}),(h,p)=>(M(),W("div",null,[B(ei,{id:a.value,name:h.name,label:h.label,modelValue:o.value,"onUpdate:modelValue":p[0]||(p[0]=m=>o.value=m),max:200,placeholder:h.placeholder,onKeydown:p[1]||(p[1]=bt(m=>u(),["enter"]))},null,8,["id","name","label","modelValue","placeholder"]),s.value.length?(M(),W("div",_re,[B(P(Y1),{modelValue:s.value,"onUpdate:modelValue":p[2]||(p[2]=m=>s.value=m),itemKey:"index",handle:".drag-handle"},{item:J(({element:m,index:g})=>[y("div",wre,[Tre,B(ei,{class:"w-full",id:`${h.name}.${g}`,name:h.name,"model-value":m,max:200,"delete-button":"","onUpdate:modelValue":v=>l(g,v.toString()),"onUpdate:delete":v=>c(g)},null,8,["id","name","model-value","onUpdate:modelValue","onUpdate:delete"])])]),_:1},8,["modelValue"])])):ee("",!0)]))}}),Sre={class:"md:px-5"},Ire={class:"flex justify-center"},Cre={key:0},Are={class:"mt-3 flex justify-evenly font-bold"},Pre=Me({__name:"BlogPostContentSectionDialogSection",props:{section:{}},emits:["error","delete"],setup(t,{expose:e,emit:n}){const r=n,o=Vc(Lc).greaterOrEqual("sm"),s=ie(!1),a=ie(),l=ie(),u=ie(),c=ie(),d=ie(),h=ie(),p=ie(),m=ie(),g=ie(),v=ie(),A=ie(),I=ie(),S=ie(),T=ie(!1),N=ie(!1),R=ie(!1),C=te(()=>[g.value,v.value,A.value,I.value,S.value,T.value,N.value,R.value].some(k=>!!k)),E=te(()=>o.value?"View more options":"View more"),b=te(()=>o.value?"Hide more options":"View less");return e({test:async()=>{var k,x,O,q,V,F,G,Z;await Promise.all([(k=a.value)==null?void 0:k.test(),(x=l.value)==null?void 0:x.test(),(O=u.value)==null?void 0:O.test(),(q=d.value)==null?void 0:q.test(),(V=c.value)==null?void 0:V.test(),(F=h.value)==null?void 0:F.test(),(G=p.value)==null?void 0:G.test(),(Z=m.value)==null?void 0:Z.test()]),r("error",C.value)}}),(k,x)=>(M(),W("div",Sre,[B(ei,{class:"mt-0 pt-5",ref_key:"title",ref:a,id:k.section.id,name:"title",label:"Section Title",modelValue:k.section.title,"onUpdate:modelValue":x[0]||(x[0]=O=>k.section.title=O),error:g.value,"onUpdate:error":x[1]||(x[1]=O=>g.value=O),max:50},null,8,["id","modelValue","error"]),B(ei,{ref_key:"subTitle",ref:l,id:k.section.id,name:"subTitle",label:"Section Subtitle",modelValue:k.section.subTitle,"onUpdate:modelValue":x[2]||(x[2]=O=>k.section.subTitle=O),error:v.value,"onUpdate:error":x[3]||(x[3]=O=>v.value=O),max:200},null,8,["id","modelValue","error"]),B(X0,{ref_key:"description",ref:u,id:k.section.id,name:"description",label:"Section Description",modelValue:k.section.description,"onUpdate:modelValue":x[4]||(x[4]=O=>k.section.description=O),error:A.value,"onUpdate:error":x[5]||(x[5]=O=>A.value=O),"max-length":1e4},null,8,["id","modelValue","error"]),y("div",Ire,[B(at,{class:"w-full sm:w-2/3 xl:w-2/3 text-nowrap",type:"primary",outlined:"",icon:s.value?"pi pi-angle-up":"pi pi-angle-down",label:s.value?b.value:E.value,onClick:x[6]||(x[6]=O=>s.value=!s.value)},null,8,["icon","label"])]),s.value?(M(),W("div",Cre,[B(zr,{ref_key:"alignment",ref:c,id:k.section.id,name:"alignment",label:"Alignment",modelValue:k.section.alignment,"onUpdate:modelValue":x[7]||(x[7]=O=>k.section.alignment=O),error:S.value,"onUpdate:error":x[8]||(x[8]=O=>S.value=O),options:P(dM),rules:[P(Dt).Required]},null,8,["id","modelValue","error","options","rules"]),B(H1,{ref_key:"coverImageUrl",ref:d,id:k.section.id,name:"coverImageUrl",label:"Cover image",modelValue:k.section.coverImageUrl,"onUpdate:modelValue":x[9]||(x[9]=O=>k.section.coverImageUrl=O),error:I.value,"onUpdate:error":x[10]||(x[10]=O=>I.value=O)},null,8,["id","modelValue","error"]),B(tg,{ref_key:"countdown",ref:h,id:k.section.id,name:"countdown",label:"Countdown",modelValue:k.section.countdown,"onUpdate:modelValue":x[11]||(x[11]=O=>k.section.countdown=O),error:T.value,"onUpdate:error":x[12]||(x[12]=O=>T.value=O)},null,8,["id","modelValue","error"]),B(tg,{ref_key:"timer",ref:p,id:k.section.id,name:"timer",label:"Timer",modelValue:k.section.timer,"onUpdate:modelValue":x[13]||(x[13]=O=>k.section.timer=O),error:N.value,"onUpdate:error":x[14]||(x[14]=O=>N.value=O)},null,8,["id","modelValue","error"]),B(Ere,{ref_key:"bullets",ref:m,id:k.section.id,name:"bullets",label:"Section Bullets",placeholder:"New bullet...",modelValue:k.section.bullets,"onUpdate:modelValue":x[15]||(x[15]=O=>k.section.bullets=O)},null,8,["id","modelValue"]),B(HM,{id:k.section.id,name:"table",label:"Table",modelValue:k.section.table,"onUpdate:modelValue":x[16]||(x[16]=O=>k.section.table=O)},null,8,["id","modelValue"])])):ee("",!0),y("div",Are,[B(at,{class:"w-full sm:w-2/3 md:w-1/2 xl:w-2/3",type:"danger",outlined:"",label:"Delete",onClick:x[17]||(x[17]=O=>k.$emit("delete"))})])]))}}),Ore={class:"flex gap-5"},kre=y("i",{class:"pi pi-arrows-v place-self-center hover:cursor-pointer"},null,-1),Rre={class:"mt-3 flex justify-center"},xre=Me({__name:"BlogPostContentDialogSection",emits:["update:selected","error"],setup(t,{expose:e,emit:n}){const r=n,i=Af(),{blogPostOriginal:o,blogPostMutation:s,isOpen:a}=zt(i),l=ie(),u=ie(),c=ie(),d=ie(),h=ie(),p=ie(),m=ie([]),g=ie(),v=ie(),A=ie(),I=ie(),S=ie(),T=ie(!1),N=ie(!1),R=ie({}),C=te(()=>[v.value,A.value,I.value,S.value,T.value,N.value,Object.values(R.value).some(x=>x)].some(x=>!!x)),E=()=>{s.value.sections.push({id:u2(),title:"",subTitle:"",description:"",alignment:"left",coverImageUrl:"",countdown:null,timer:null,table:"",bullets:[]})},b=x=>{const O=s.value.sections.slice(),q=O.findIndex(V=>V.id===x);O.splice(q,1),i.blogPostMutation.sections=O},w=(x,O)=>{R.value[O]=x};return e({test:async()=>{for(const x of m.value)await x.test();await Promise.all([l.value.test(),u.value.test(),c.value.test(),h.value.test(),p.value.test()]),r("error",C.value),R.value={}}}),(x,O)=>(M(),W(Pe,null,[B(ei,{ref_key:"title",ref:l,name:"title",label:"Title",placeholder:"Amazing Post",modelValue:P(s).title,"onUpdate:modelValue":O[0]||(O[0]=q=>P(s).title=q),error:v.value,"onUpdate:error":O[1]||(O[1]=q=>v.value=q),rules:[P(Dt).Required],"min-length":3,"max-length":50},null,8,["modelValue","error","rules"]),B(X0,{ref_key:"description",ref:u,name:"description",label:"Description",placeholder:"Something about my post...",modelValue:P(s).description,"onUpdate:modelValue":O[2]||(O[2]=q=>P(s).description=q),error:A.value,"onUpdate:error":O[3]||(O[3]=q=>A.value=q),"max-length":1e4},null,8,["modelValue","error"]),B(H1,{ref_key:"coverImageUrl",ref:d,id:"coverImageUrl",name:"coverImageUrl",label:"Cover image",modelValue:P(s).coverImageUrl,"onUpdate:modelValue":O[4]||(O[4]=q=>P(s).coverImageUrl=q),error:S.value,"onUpdate:error":O[5]||(O[5]=q=>S.value=q),"blog-post":P(o)??void 0},null,8,["modelValue","error","blog-post"]),P(a)?(M(),de(P(Jn),{key:0,onTabOpen:P(or)},{default:J(()=>[B(P(Le),{header:"Other content"},{default:J(()=>[B(X0,{ref_key:"descriptionFooter",ref:c,name:"descriptionFooter",label:"Footer",placeholder:"Some beautiful ending...",modelValue:P(s).descriptionFooter,"onUpdate:modelValue":O[6]||(O[6]=q=>P(s).descriptionFooter=q),error:I.value,"onUpdate:error":O[7]||(O[7]=q=>I.value=q),"max-length":1e4},null,8,["modelValue","error"]),B(tg,{ref_key:"countdown",ref:h,name:"countdown",label:"Countdown",modelValue:P(s).countdown,"onUpdate:modelValue":O[8]||(O[8]=q=>P(s).countdown=q),error:T.value,"onUpdate:error":O[9]||(O[9]=q=>T.value=q)},null,8,["modelValue","error"]),B(tg,{ref_key:"timer",ref:p,name:"timer",label:"Timer",modelValue:P(s).timer,"onUpdate:modelValue":O[10]||(O[10]=q=>P(s).timer=q),error:N.value,"onUpdate:error":O[11]||(O[11]=q=>N.value=q)},null,8,["modelValue","error"]),B(HM,{name:"table",label:"Table",modelValue:P(s).table,"onUpdate:modelValue":O[12]||(O[12]=q=>P(s).table=q)},null,8,["modelValue"])]),_:1}),B(P(Le),{header:"Sections"},{default:J(()=>[B(P(Y1),{ref_key:"draggable",ref:g,modelValue:P(s).sections,"onUpdate:modelValue":O[13]||(O[13]=q=>P(s).sections=q),itemKey:q=>q.id,handle:".drag-handle"},{item:J(({element:q})=>[P(a)?(M(),de(P(Jn),{key:0,onTabOpen:P(or)},{default:J(()=>[B(P(Le),{pt:{header:{class:"drag-handle"},toggleableContent:{class:"background-gray-dark rounded-t-primary rounded-b-primary"}}},{header:J(()=>[y("div",Ore,[kre,y("p",null,ze(q.title||"New section"),1)])]),default:J(()=>[B(Pre,{ref:V=>{m.value[q.id]=V},section:q,"is-open":P(a),onDelete:V=>b(q.id),onError:V=>w(V,q.id)},null,8,["section","is-open","onDelete","onError"])]),_:2},1024)]),_:2},1032,["onTabOpen"])):ee("",!0)]),_:1},8,["modelValue","itemKey"]),y("div",Rre,[B(at,{class:"w-1/2",type:"green",label:"Add Section",onClick:E})])]),_:1})]),_:1},8,["onTabOpen"])):ee("",!0)],64))}});var Dre={root:{position:"relative"}},Nre={root:function(e){var n=e.instance,r=e.props;return["p-inputswitch p-component",{"p-highlight":n.checked,"p-disabled":r.disabled,"p-invalid":r.invalid}]},input:"p-inputswitch-input",slider:"p-inputswitch-slider"},Mre=dr.extend({name:"inputswitch",classes:Nre,inlineStyles:Dre}),Lre={name:"BaseInputSwitch",extends:si,props:{modelValue:{type:null,default:!1},trueValue:{type:null,default:!0},falseValue:{type:null,default:!1},invalid:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},tabindex:{type:Number,default:null},inputId:{type:String,default:null},inputClass:{type:[String,Object],default:null},inputStyle:{type:Object,default:null},ariaLabelledby:{type:String,default:null},ariaLabel:{type:String,default:null}},style:Mre,provide:function(){return{$parentInstance:this}}},oL={name:"InputSwitch",extends:Lre,inheritAttrs:!1,emits:["update:modelValue","change","focus","blur"],methods:{getPTOptions:function(e){var n=e==="root"?this.ptmi:this.ptm;return n(e,{context:{checked:this.checked,disabled:this.disabled}})},onChange:function(e){if(!this.disabled&&!this.readonly){var n=this.checked?this.falseValue:this.trueValue;this.$emit("update:modelValue",n),this.$emit("change",e)}},onFocus:function(e){this.$emit("focus",e)},onBlur:function(e){this.$emit("blur",e)}},computed:{checked:function(){return this.modelValue===this.trueValue}}},Vre=["data-p-highlight","data-p-disabled"],$re=["id","checked","tabindex","disabled","readonly","aria-checked","aria-labelledby","aria-label","aria-invalid"];function Fre(t,e,n,r,i,o){return M(),W("div",le({class:t.cx("root"),style:t.sx("root")},o.getPTOptions("root"),{"data-p-highlight":o.checked,"data-p-disabled":t.disabled}),[y("input",le({id:t.inputId,type:"checkbox",role:"switch",class:[t.cx("input"),t.inputClass],style:t.inputStyle,checked:o.checked,tabindex:t.tabindex,disabled:t.disabled,readonly:t.readonly,"aria-checked":o.checked,"aria-labelledby":t.ariaLabelledby,"aria-label":t.ariaLabel,"aria-invalid":t.invalid||void 0,onFocus:e[0]||(e[0]=function(){return o.onFocus&&o.onFocus.apply(o,arguments)}),onBlur:e[1]||(e[1]=function(){return o.onBlur&&o.onBlur.apply(o,arguments)}),onChange:e[2]||(e[2]=function(){return o.onChange&&o.onChange.apply(o,arguments)})},o.getPTOptions("input")),null,16,$re),y("span",le({class:t.cx("slider")},o.getPTOptions("slider")),null,16)],16,Vre)}oL.render=Fre;const Ure={class:"m-4"},qre=["for"],ih=Me({__name:"SwitchField",props:{id:{},name:{},label:{},modelValue:{type:Boolean},labelProps:{}},emits:["update:modelValue","update:error"],setup(t,{expose:e,emit:n}){const r=t,i=te({get:()=>r.modelValue,set:l=>{a("update:modelValue",l)}}),o=te(()=>r.name+(r.id?"."+r.id:"")),s=async l=>{},a=n;return e({test:s}),(l,u)=>(M(),W("div",Ure,[l.label?(M(),W("label",le({key:0,class:"block text-sm font-bold mb-2",for:o.value},l.labelProps),ze(l.label),17,qre)):ee("",!0),y("div",{class:"p-input cursor-pointer flex align-middle",onClick:u[1]||(u[1]=kt(c=>i.value=!i.value,["prevent"]))},[B(P(oL),{inputId:o.value,ref:"input",modelValue:i.value,"onUpdate:modelValue":u[0]||(u[0]=c=>i.value=c),pt:{slider:{class:i.value?"bg-primary-500":void 0}}},null,8,["inputId","modelValue","pt"])])]))}}),Bre=Me({__name:"BlogPostSettingsDialogSection",emits:["error"],setup(t,{expose:e,emit:n}){const r=n,{firebaseUser:i,publicUser:o}=zt(Ar()),s=yr(),{allowedPublicUsers:a}=s,{publicUsers:l}=zt(s),u=Af(),{blogPostMutation:c}=zt(u),d=ie(),h=ie(),p=ie(),m=ie(),g=te({get(){return!!c.value.datePinned},set(b){c.value.datePinned=b?new Date:null}}),v=ie(),A=ie(),I=ie(),S=ie(),T=te(()=>[v.value,A.value,I.value,S.value].some(b=>!!b)),N=te(()=>l.value.map(({id:b,displayName:w})=>({value:b,label:w}))),R=ie([]),C=b=>{c.value.allowedUserIds=b},E=async()=>{c.value.allowedUserIds.length&&!R.value.length&&(v.value="Invalid user ID's"),await Promise.all([h.value.test(),p.value.test(),m.value.test()]),r("error",T.value)};return pn(()=>c.value.allowedUserIds,async b=>{R.value=await a(b)},{immediate:!0}),e({test:E}),(b,w)=>(M(),W(Pe,null,[B(zr,{ref_key:"allowedUsers",ref:d,name:"allowedUserIds",label:"Allowed users",placeholder:"This post is public","model-value":P(c).allowedUserIds,error:v.value,"onUpdate:error":w[0]||(w[0]=k=>v.value=k),"onUpdate:arrayValue":C,options:[{value:P(i).uid,label:P(o).displayName},...N.value.filter(({value:k})=>{var x;return k!==((x=P(i))==null?void 0:x.uid)})],multiple:""},null,8,["model-value","error","options"]),B(ih,{ref_key:"pinned",ref:m,name:"pinned",label:"Pinned",modelValue:g.value,"onUpdate:modelValue":w[1]||(w[1]=k=>g.value=k)},null,8,["modelValue"]),B(ih,{ref_key:"locked",ref:h,name:"locked",label:"Locked for commenting",modelValue:P(c).locked,"onUpdate:modelValue":w[2]||(w[2]=k=>P(c).locked=k)},null,8,["modelValue"]),B(ih,{ref_key:"archived",ref:p,name:"archived",label:"Archived",modelValue:P(c).archived,"onUpdate:modelValue":w[3]||(w[3]=k=>P(c).archived=k)},null,8,["modelValue"])],64))}}),jre=Me({__name:"BlogPostStylingDialogSection",emits:["error"],setup(t,{expose:e,emit:n}){const r=n,i=Af(),{blogPostMutation:o}=zt(i),s=ie(),a=ie(),l=ie(),u=ie(),c=ie(),d=ie(),h=ie(),p=ie(),m=ie(),g=ie(),v=ie(),A=ie(),I=ie(),S=ie(),T=te(()=>[p.value,m.value,g.value,v.value,A.value,I.value,S.value].some(C=>!!C)),N=te(()=>VG(Qm.find(C=>C.value===o.value.colorPrimary)));return e({test:async()=>{await Promise.all([s.value.test(),a.value.test(),l.value.test(),u.value.test(),c.value.test(),d.value.test(),h.value.test()]),r("error",T.value)}}),(C,E)=>(M(),W(Pe,null,[B(zr,{ref_key:"alignment",ref:s,name:"alignment",label:"Alignment",modelValue:P(o).alignment,"onUpdate:modelValue":E[0]||(E[0]=b=>P(o).alignment=b),error:p.value,"onUpdate:error":E[1]||(E[1]=b=>p.value=b),options:P(dM),rules:[P(Dt).Required]},null,8,["modelValue","error","options","rules"]),B(zr,{ref_key:"colorPrimary",ref:a,name:"colorPrimary",label:"Primary Style",modelValue:P(o).colorPrimary,"onUpdate:modelValue":E[2]||(E[2]=b=>P(o).colorPrimary=b),error:m.value,"onUpdate:error":E[3]||(E[3]=b=>m.value=b),options:P(Qm),rules:[P(Dt).Required]},null,8,["modelValue","error","options","rules"]),B(zr,{ref_key:"opacityPrimary",ref:c,name:"opacityPrimary",label:"Primary Opacity",modelValue:P(o).opacityPrimary,"onUpdate:modelValue":E[4]||(E[4]=b=>P(o).opacityPrimary=b),error:A.value,"onUpdate:error":E[5]||(E[5]=b=>A.value=b),options:P(xy)},null,8,["modelValue","error","options"]),B(zr,{ref_key:"colorSecondary",ref:l,name:"colorSecondary",label:"Secondary Style",modelValue:P(o).colorSecondary,"onUpdate:modelValue":E[6]||(E[6]=b=>P(o).colorSecondary=b),error:g.value,"onUpdate:error":E[7]||(E[7]=b=>g.value=b),options:N.value},null,8,["modelValue","error","options"]),B(zr,{ref_key:"opacitySecondary",ref:d,name:"opacitySecondary",label:"Secondary Opacity",modelValue:P(o).opacitySecondary,"onUpdate:modelValue":E[8]||(E[8]=b=>P(o).opacitySecondary=b),error:I.value,"onUpdate:error":E[9]||(E[9]=b=>I.value=b),options:P(xy)},null,8,["modelValue","error","options"]),B(zr,{ref_key:"colorTertiary",ref:u,name:"colorTertiary",label:"Tertiary Style",modelValue:P(o).colorTertiary,"onUpdate:modelValue":E[10]||(E[10]=b=>P(o).colorTertiary=b),error:v.value,"onUpdate:error":E[11]||(E[11]=b=>v.value=b),options:P($G)},null,8,["modelValue","error","options"]),B(zr,{ref_key:"opacityTertiary",ref:h,name:"opacityTertiary",label:"Tertiary Opacity",modelValue:P(o).opacityTertiary,"onUpdate:modelValue":E[12]||(E[12]=b=>P(o).opacityTertiary=b),error:S.value,"onUpdate:error":E[13]||(E[13]=b=>S.value=b),options:P(xy)},null,8,["modelValue","error","options"])],64))}}),Hre=Me({__name:"BlogPostDialog",emits:["scroll-to-updated"],setup(t,{emit:e}){const n=e,{firebaseUser:r}=zt(Ar()),i=yr(),{createBlogPost:o,updateBlogPost:s,deleteFilesOfBlogPost:a,toggleBlogPostVisibility:l,isBlogPostsMutationLoading:u}=i,c=Af(),{getBlogPostMutationContent:d,getBlogPostMutationStyling:h,getBlogPostMutationSettings:p}=c,{isOpen:m,blogPostOriginal:g,blogPostMutationId:v,blogPostMutation:A,hasBlogPostMutationContentChanges:I,hasBlogPostMutationStylingChanges:S,hasBlogPostMutationSettingsChanges:T}=zt(c),N=ie(),R=ie(),C=ie(),E=ie(),b=ie(!1),w=ie(!1),k=ie(!1),x=te(()=>{var G,Z,H,$,ue,se;return!!((Z=(G=g.value)==null?void 0:G.allowedUserIds)!=null&&Z.length)&&!((H=p().allowedUserIds)!=null&&H.length)||!((ue=($=g.value)==null?void 0:$.allowedUserIds)!=null&&ue.length)&&!!((se=p().allowedUserIds)!=null&&se.length)}),O=te(()=>{const G=[];return I.value&&G.push("Content"),S.value&&G.push("Styling"),T.value&&G.push("Settings"),G.length?"Update "+_0(G):void 0}),q=te(()=>ss(g.value)),V=async()=>{var G,Z,H,$,ue;if(await Promise.all([R.value.test(),C.value.test(),E.value.test()]),!(b.value||w.value||k.value))if(!g.value)await o(v.value,A.value,(G=r.value)==null?void 0:G.uid)&&(c.close(),n("scroll-to-updated",v.value));else if(x.value){const se=v.value;c.isOpen=!1,await l(se,Ir.convert(A.value),g.value.reactions,A.value.allowedUserIds.length?"private":"public",(Z=r.value)==null?void 0:Z.uid)&&(c.close(),it.success("Successfully updated Post Visibility"),n("scroll-to-updated",se))}else{const se=v.value;let ve=[];I.value&&ve.push(await s(se,d(),q.value,(H=r.value)==null?void 0:H.uid)),S.value&&ve.push(await s(se,h(),q.value,($=r.value)==null?void 0:$.uid)),T.value&&(ve.push(await s(se,p(),q.value,(ue=r.value)==null?void 0:ue.uid)),n("scroll-to-updated",se)),ve=ve.filter(Se=>typeof Se=="string"),ve.length&&(it.success(`Successfully updated Post ${_0(ve)}`),c.close())}},F=async()=>{a(A.value,g.value??void 0),c.close()};return pn(A,()=>{c.isMutationEqual()},{deep:!0}),(G,Z)=>(M(),de(j1,{isOpen:P(m),title:P(g)?"Update Post":"Create Post",description:P(g)?"Update this post":"Create a new post","confirm-text":P(g)?O.value:"Create","confirm-loading":P(u),onConfirm:V,onCancel:F},{default:J(()=>[y("form",{ref_key:"dialog",ref:N,class:"pt-6 mb-4 xl:px-16"},[P(m)?(M(),de(P(Jn),{key:0,"active-index":0,onTabOpen:P(or)},{default:J(()=>[B(P(Le),{header:"Content"},{default:J(()=>[B(xre,{ref_key:"content",ref:R,onError:Z[0]||(Z[0]=H=>b.value=H)},null,512)]),_:1}),B(P(Le),{header:"Styling"},{default:J(()=>[B(jre,{ref_key:"styling",ref:C,onError:Z[1]||(Z[1]=H=>w.value=H)},null,512)]),_:1}),B(P(Le),{header:"Settings"},{default:J(()=>[B(Bre,{ref_key:"settings",ref:E,onError:Z[2]||(Z[2]=H=>k.value=H)},null,512)]),_:1})]),_:1},8,["onTabOpen"])):ee("",!0)],512)]),_:1},8,["isOpen","title","description","confirm-text","confirm-loading"]))}}),Wre={class:"grid mt-10 md:mt-15"},zre={class:"grid justify-center"},Kre={class:"text-lg md:text-xl text-white"},Gre=["innerHTML"],Yre={class:"grid my-5 xl:px-20"},Xre=Me({__name:"Blog",setup(t){const{publicUser:e}=zt(Ar()),n=yr(),{deleteBlogPost:r}=n,{menuItems:i,content:o}=zt(n),s=Dg(),a=Af(),l=ie(null),u=ie(),c=ie(!1),d=te(()=>{var v;return e.value?[...o.value.blogDescriptionUser.map(A=>A.replace("%USER%",e.value.displayName||"Unknown user")),...((v=i.value.find(A=>A.id==="nfNQM4SMESU2VOkJtcgY"))==null?void 0:v.description)||[]]:o.value.blogDescriptionGuest}),h=()=>{a.openWith(null)},p=v=>{a.openWith(v)},m=v=>{l.value=v,c.value=!0},g=async v=>{await r(v)&&(c.value=!1,l.value=null)};return(v,A)=>(M(),de(La,null,{content:J(()=>[y("div",Wre,[y("div",zre,[(M(!0),W(Pe,null,ht(d.value,I=>(M(),W("h1",Kre,[y("span",{innerHTML:I},null,8,Gre)]))),256))]),y("div",Yre,[P(s).params.postId?(M(),de(Mte,{key:0,onEditClicked:p,onDeleteClicked:m})):(M(),de(Ute,{key:1,onCreateClicked:h,onEditClicked:p,onDeleteClicked:m})),B(Hre,{onScrollToUpdated:A[0]||(A[0]=I=>u.value=I)}),l.value?(M(),de(j1,{key:2,title:"Delete Post",isOpen:c.value,description:[` Are you sure you want to delete this post called ' ${l.value.title}'?`,"This cannot be undone."],"confirm-text":"Confirm","confirm-props":{type:"danger",outlined:!0},onConfirm:A[1]||(A[1]=I=>g(l.value.id)),onCancel:A[2]||(A[2]=I=>c.value=!1)},null,8,["isOpen","description"])):ee("",!0)])])]),_:1}))}}),cP=Me({__name:"Blog",setup(t){return(e,n)=>(M(),de(Xre))}}),Qre={class:"flex flex-col items-center content-center"},Jre=Me({__name:"CatCalc",setup(t){const e=Pr({calculator:{value:"average",error:""},catWeigth:{value:"",error:""},catAge:{value:"",error:""},catGender:{value:"male",error:""},catSize:{value:"",error:""},catFoodDry:{value:"",error:""},catFoodWet:{value:"",error:""},catFoodSnax:{value:"",error:""},catFoodSnaxPercentage:{value:"5",error:""}}),n=[{value:"average",label:"Average"},{value:"nvwa",label:"NVWA"},{value:"royalcanin",label:"Royal Canin"},{value:"petsplace",label:"Pets Place"},{value:"rawz",label:"RAWZ"},{value:"petcube",label:"Petcube"}],r=[{value:"default",label:"Adult healthy",rerIndex:1.4},{value:"lazy",label:"Adult lazy",rerIndex:1},{value:"castrated",label:"Adult castrated",rerIndex:1.2},{value:"underweight",label:"Adult underfed",rerIndex:1.8},{value:"overweight",label:"Adult overfed",rerIndex:.8},{value:"kitten0.4",label:"Kitten 0-4 months",rerIndex:2.5},{value:"kitten1",label:"Kitten 4-12 months",rerIndex:2}],i=[{value:"male",label:"Male"},{value:"female",label:"Female"}],o=te(()=>[{value:"35",label:"Small (<25cm)",factor:e.catGender.value==="male"?.9:.75},{value:"40",label:"Average (25-30cm)",factor:e.catGender.value==="male"?1:.9},{value:"45",label:"Big (30-35cm)",factor:e.catGender.value==="male"?1.125:1},{value:"65",label:"Pretty damn big (35-40cm)",factor:e.catGender.value==="male"?1.6:1.4},{value:"90",label:"Massive (>40cm)",factor:e.catGender.value==="male"?2.25:2}]),s={nvwa:[{weight:0,calories:0},{weight:1,calories:200},{weight:2,calories:200},{weight:3,calories:240},{weight:4,calories:280},{weight:5,calories:320},{weight:6,calories:360},{weight:7,calories:400},{weight:8,calories:440},{weight:9,calories:480},{weight:10,calories:520}],royalcanin:[{weight:0,calories:0},{weight:1,calories:225},{weight:2,calories:225},{weight:3,calories:275},{weight:4,calories:325},{weight:5,calories:375},{weight:6,calories:425},{weight:7,calories:475},{weight:8,calories:525},{weight:9,calories:575},{weight:10,calories:625}],petsplace:[{weight:0,calories:0},{weight:.5,calories:39},{weight:.9,calories:65},{weight:1.4,calories:88},{weight:1.8,calories:110},{weight:2.3,calories:130},{weight:2.7,calories:149},{weight:3.2,calories:167},{weight:3.6,calories:184},{weight:4.1,calories:200},{weight:4.5,calories:218},{weight:5,calories:234},{weight:5.5,calories:250},{weight:5.9,calories:265},{weight:6.4,calories:280},{weight:6.8,calories:295},{weight:7.3,calories:310},{weight:7.7,calories:324},{weight:8.2,calories:339},{weight:8.6,calories:353},{weight:9.1,calories:366},{weight:11.4,calories:433}],rawz:[{weight:0,calories:0},{weight:1,calories:183},{weight:2.268,calories:183},{weight:3.402,calories:245},{weight:4.536,calories:303},{weight:5.67,calories:362},{weight:6.804,calories:413},{weight:7.938,calories:462},{weight:9.072,calories:513}],petcube:[{weight:.45,calories:40},{weight:.9,calories:65},{weight:2.3,calories:140},{weight:3.15,calories:166},{weight:4.5,calories:250},{weight:6.8,calories:325},{weight:9.1,calories:400},{weight:11.25,calories:450}],average:[]},a=(N,R)=>{const E=s[N].sort((O,q)=>O.weight-q.weight);let b=E[E.length-2].weight,w=E[E.length-2].calories,k=E[E.length-1].weight,x=E[E.length-1].calories;for(let O=0;O<E.length-1;O++)if(R>=E[O].weight&&R<=E[O+1].weight){b=E[O].weight,w=E[O].calories,k=E[O+1].weight,x=E[O+1].calories;break}return{x1:b,y1:w,x2:k,y2:x}},l=(N,R)=>{const{x1:C,y1:E,x2:b,y2:w}=a(N,R);return E+(R-C)*(w-E)/(b-C)},u=()=>{const N=new Map;for(const E of Object.values(s).filter(b=>b!==s.average))for(const{weight:b,calories:w}of E)N.has(b)||N.set(b,{sum:0,count:0}),N.get(b).sum+=w,N.get(b).count++;return[0,1,2,3,4,5,6,7,8,9,10].filter(E=>N.has(E)).map(E=>({weight:E,calories:N.get(E).sum/N.get(E).count}))};s.average=u();const c=[{value:"default",label:"Average (340kcal)",calories:340},{value:"yarrah",label:"Yarrah Chicken (362kcal)",calories:361.5},{value:"yarrah_sterilized",label:"Yarrah Chicken sterilized (353kcal)",calories:353}],d=[{value:"",label:"None",calories:0},{value:"default",label:"Average (85kcal)",calories:85}],h=[{value:"",label:"None",calories:0},{value:"default",label:"Average (2kcal)",calories:2},{value:"yarrah",label:"Yarrah Mini Snack (2kcal)",calories:2},{value:"catstick",label:"Vitakraft Cat Stick (12kcal)",calories:12},{value:"milk_average",label:"Milk Average (40kcal/50ml)",calories:40},{value:"dried_fish",label:"Dried Fish (8kcal)",calories:8}],p=te(()=>l(e.calculator.value,Number(e.catWeigth.value))),m=te(()=>{var N;return p.value*(((N=r.find(R=>R.value===e.catAge.value))==null?void 0:N.rerIndex)??1)}),g=te(()=>{var N;return m.value*(((N=o.value.find(R=>R.value===e.catSize.value))==null?void 0:N.factor)??1)}),v=te(()=>{const N=h.find(R=>R.value===e.catFoodSnax.value);return N!=null&&N.calories?g.value*(Number(e.catFoodSnaxPercentage.value)/100)/N.calories:void 0}),A=te(()=>g.value*(1-Number(v.value?e.catFoodSnaxPercentage.value:0)/100)),I=te(()=>{const N=d.find(R=>R.value===e.catFoodWet.value);return N!=null&&N.calories?A.value/4/N.calories*100:void 0}),S=te(()=>A.value/4*(I.value?3:4)),T=te(()=>{var N;return S.value/(((N=c.find(R=>R.value===e.catFoodDry.value))==null?void 0:N.calories)??c[0].calories)*100});return(N,R)=>(M(),de(La,null,{content:J(()=>[B(Gn,{class:"!bg-cyan-800 !bg-opacity-50 my-5 !rounded-secondary",title:"Cat Calculator",description:"Do a Cat Calculation!"},{default:J(()=>{var C;return[y("div",Qre,[B(zr,{class:"w-3/4 md:w-1/2",name:"calculator",label:"Calculation based on",modelValue:e.calculator.value,"onUpdate:modelValue":R[0]||(R[0]=E=>e.calculator.value=E),error:e.calculator.error,"onUpdate:error":R[1]||(R[1]=E=>e.calculator.error=E),options:n,rules:[P(Dt).Required]},null,8,["modelValue","error","rules"]),B(ei,{class:"w-3/4 md:w-1/2",name:"catWeigth",label:"Cat Weight (kg)",modelValue:e.catWeigth.value,"onUpdate:modelValue":R[2]||(R[2]=E=>e.catWeigth.value=E),error:e.catWeigth.error,"onUpdate:error":R[3]||(R[3]=E=>e.catWeigth.error=E),rules:[P(Dt).Required,P(Dt).Numeric],"min-value":1,"max-value":10,"input-props":{type:"number"}},null,8,["modelValue","error","rules"]),B(zr,{class:"w-3/4 md:w-1/2",name:"catAge",label:"Cat Age",modelValue:e.catAge.value,"onUpdate:modelValue":R[4]||(R[4]=E=>e.catAge.value=E),error:e.catAge.error,"onUpdate:error":R[5]||(R[5]=E=>e.catAge.error=E),options:r,rules:[P(Dt).Required]},null,8,["modelValue","error","rules"]),B(zr,{class:"w-3/4 md:w-1/2",name:"catGender",label:"Cat Gender",modelValue:e.catGender.value,"onUpdate:modelValue":R[6]||(R[6]=E=>e.catGender.value=E),error:e.catGender.error,"onUpdate:error":R[7]||(R[7]=E=>e.catGender.error=E),options:i,rules:[P(Dt).Required]},null,8,["modelValue","error","rules"]),B(zr,{class:"w-3/4 md:w-1/2",name:"catSize",label:"Cat Shoulder Height",modelValue:e.catSize.value,"onUpdate:modelValue":R[8]||(R[8]=E=>e.catSize.value=E),error:e.catSize.error,"onUpdate:error":R[9]||(R[9]=E=>e.catSize.error=E),options:o.value,rules:[P(Dt).Required]},null,8,["modelValue","error","options","rules"]),B(Gn,{class:"w-full md:w-2/3 my-5 border border-neutral-400 !rounded-primary",description:"Required energy per day: "+g.value.toFixed(1)+" kcal"},null,8,["description"]),B(zr,{class:"w-3/4 md:w-1/2",name:"catFoodDry",label:"Dry Food",modelValue:e.catFoodDry.value,"onUpdate:modelValue":R[10]||(R[10]=E=>e.catFoodDry.value=E),error:e.catFoodDry.error,"onUpdate:error":R[11]||(R[11]=E=>e.catFoodDry.error=E),options:c,rules:[P(Dt).Required]},null,8,["modelValue","error","rules"]),B(zr,{class:"w-3/4 md:w-1/2",name:"catFoodWet",label:"Wet Food (25%)",modelValue:e.catFoodWet.value,"onUpdate:modelValue":R[12]||(R[12]=E=>e.catFoodWet.value=E),error:e.catFoodWet.error,"onUpdate:error":R[13]||(R[13]=E=>e.catFoodWet.error=E),options:d,rules:[P(Dt).Required]},null,8,["modelValue","error","rules"]),B(zr,{class:"w-3/4 md:w-1/2",name:"catFoodSnax",label:"Snacks",modelValue:e.catFoodSnax.value,"onUpdate:modelValue":R[14]||(R[14]=E=>e.catFoodSnax.value=E),error:e.catFoodSnax.error,"onUpdate:error":R[15]||(R[15]=E=>e.catFoodSnax.error=E),options:h,rules:[P(Dt).Required]},null,8,["modelValue","error","rules"]),e.catFoodSnax.value?(M(),de(ei,{key:0,class:"w-3/4 md:w-1/2",name:"catFoodSnaxPercentage",label:"Snacks Percentage",modelValue:e.catFoodSnaxPercentage.value,"onUpdate:modelValue":R[16]||(R[16]=E=>e.catFoodSnaxPercentage.value=E),error:e.catFoodSnaxPercentage.error,"onUpdate:error":R[17]||(R[17]=E=>e.catFoodSnaxPercentage.error=E),rules:[P(Dt).Required,P(Dt).Numeric],"min-value":1,"max-value":10,"input-props":{type:"number"}},null,8,["modelValue","error","rules"])):ee("",!0),B(Gn,{class:"w-full md:w-2/3 my-5 border border-neutral-400 bg-primary-600 bg-opacity-25 !rounded-primary",title:"Result","sub-title":"Based on constants from "+((C=n.find(E=>E.value===e.calculator.value))==null?void 0:C.label),description:["Required dry food per day: "+T.value.toFixed(1)+" g","","","Required dry food per meal: "+(T.value/(I.value?2:3)).toFixed(1)+" g",...I.value?["Required wet food per day: "+I.value.toFixed(1)+" g"]:[],...v.value?["Allowed snacks per day: "+v.value.toFixed(v.value<1?1:0)+" snacks"]:[],"","","","^ Mogu approved!"]},null,8,["sub-title","description"])])]}),_:1})]),_:1}))}}),Zre=Me({__name:"CatCalc",setup(t){return(e,n)=>(M(),de(Jre))}}),eie=""+new URL("images/customvoting/customvoting2.jpg",import.meta.url).href,X1=(t,e)=>{const n=t.__vccOpts||t;for(const[r,i]of e)n[r]=i;return n},tie={},nie={class:"overflow-x-auto"},rie=bk('<table class="min-w-full"><tbody><tr><td class="px-6 py-4 whitespace-nowrap"><code class="text-red-500">/vote</code><br><p class="text-neutral-300">shows you the votelinks</p><em>permission: customvoting.vote</em></td></tr><tr><td class="px-6 py-4 whitespace-nowrap"><code class="text-red-500">/fakevote [player] [website]</code><br><p class="text-neutral-300">do a test or fake vote</p><em>permission: customvoting.fakevote</em></td></tr><tr><td class="px-6 py-4 whitespace-nowrap"><code class="text-red-500">/setvotes &lt;amount&gt; [player]</code><br><p class="text-neutral-300">change someone&#39;s votes</p><em>permission: customvoting.votes.set</em></td></tr><tr><td class="px-6 py-4 whitespace-nowrap"><code class="text-red-500">/clearmonthlyvotes [player]</code><br><p class="text-neutral-300">reset someone&#39;s period votes</p><em>permission: customvoting.monthly</em></td></tr><tr><td class="px-6 py-4 whitespace-nowrap"><code class="text-red-500">/votes [player]</code><br><p class="text-neutral-300">displays your or someone&#39;s current votes</p><em>permission: customvoting.votes[.others]</em></td></tr><tr><td class="px-6 py-4 whitespace-nowrap"><code class="text-red-500">/votetop</code><br><p class="text-neutral-300">displays the top voters</p><em>permission: customvoting.votetop</em></td></tr><tr><td class="px-6 py-4 whitespace-nowrap"><code class="text-red-500">/voteparty start | create</code><br><p class="text-neutral-300">start the vote party or receive the vote party chest</p><em>permission: customvoting.voteparty</em></td></tr><tr><td class="px-6 py-4 whitespace-nowrap"><code class="text-red-500">/votesettings</code><br><p class="text-neutral-300">a GUI based vote editor</p><em>permission: customvoting.settings</em></td></tr><tr><td class="px-6 py-4 whitespace-nowrap"><code class="text-red-500">/votereload [cache]</code><br><p class="text-neutral-300">reload the configuration (and cache)</p><em>permission: customvoting.reload</em></td></tr><tr><td class="px-6 py-4 whitespace-nowrap"><code class="text-red-500">/createtop &lt;top&gt;</code><br><p class="text-neutral-300">create an NPC for this top voter!</p><em>permission: customvoting.createtop</em></td></tr><tr><td class="px-6 py-4 whitespace-nowrap"><code class="text-red-500">/deletetop &lt;top&gt;</code><br><p class="text-neutral-300">delete the NPC of this top voter</p><em>permission: customvoting.deletetop</em></td></tr><tr><td class="px-6 py-4 whitespace-nowrap"><code class="text-red-500">/givecratekey &lt;player&gt; &lt;crateID&gt;</code><br><p class="text-neutral-300">give a crate key to a player</p><em>permission: customvoting.givekey</em></td></tr></tbody></table>',1),iie=[rie];function oie(t,e){return M(),W("div",nie,iie)}const sie=X1(tie,[["render",oie]]),aie=y("br",null,null,-1),lie=y("br",null,null,-1),uie=y("ul",null,[y("li",null,"English/English"),y("li",null,"Deutsch/German"),y("li",null,"Nederlands/Dutch")],-1),cie=y("br",null,null,-1),die=y("br",null,null,-1),hie=y("ul",null,[y("li",null,"All Votes"),y("li",null,"Monthly Votes"),y("li",null,"Weekly Votes"),y("li",null,"Daily Votes")],-1),fie={class:"flex justify-center m-5"},pie=y("br",null,null,-1),mie=y("br",null,null,-1),gie=y("ul",null,[y("li",null,"Blacklist"),y("li",null,"Whitelist")],-1),vie=y("br",null,null,-1),yie=y("br",null,null,-1),bie=y("br",null,null,-1),_ie=y("br",null,null,-1),wie=y("br",null,null,-1),Tie=y("br",null,null,-1),Eie=y("br",null,null,-1),Sie=y("b",null,"settings.yml",-1),Iie=y("br",null,null,-1),Cie=y("br",null,null,-1),Aie=y("br",null,null,-1),Pie=y("br",null,null,-1),Oie=y("br",null,null,-1),kie=y("i",null,"sd_master92",-1),Rie=y("i",null,".sd_master92",-1),xie=Me({__name:"General",setup(t){return(e,n)=>(M(),de(P(Jn),{onTabOpen:P(or)},{default:J(()=>[B(P(Le),{header:"Language"},{default:J(()=>[z(" Change the plugin language "),aie,lie,z(" Options: "),uie]),_:1}),B(P(Le),{header:"Vote Top Sorting"},{default:J(()=>[z(" Change who is the top voter of the moment "),cie,die,z(" Options: "),hie,y("div",fie,[B(pa,{src:"/images/customvoting/vote_top.png"})])]),_:1}),B(P(Le),{header:"Sound Effects"},{default:J(()=>[z(" Enable/disable sound effects (from CustomVoting) ")]),_:1}),B(P(Le),{header:"Firework"},{default:J(()=>[z(" Enable/disable firework effects ")]),_:1}),B(P(Le),{header:"World Exclusion"},{default:J(()=>[z(" Enable/disable players from receiving rewards in specific worlds ")]),_:1}),B(P(Le),{header:"World Exclusion Setting (NEW!)",pt:{header:{class:"text-yellow-500"}}},{default:J(()=>[z(" Change what happens with the 'World Exclusion' list "),pie,mie,z(" Options: "),gie]),_:1}),B(P(Le),{header:"Danger Zone"},{default:J(()=>[z(" Settings you shouldn't touch without knowing what it does "),B(P(Jn),{class:"mt-3",onTabOpen:P(or)},{default:J(()=>[B(P(Le),{header:"UUID Storage"},{default:J(()=>[z(" Enable/disable UUID Storage "),vie,z(" Turn on if: you are running a cracked (non-premium) Minecraft server "),yie,bie,z(" This settings means that your players will be identified by their playername. It is adviced to password protect these kind of servers, to prevent duplicate playernames from joining your server. ")]),_:1}),B(P(Le),{header:"Database"},{default:J(()=>[z(" Enable/disable the usage of a database instead of data files "),_ie,wie,z(" Useful if you want to share your CustomVoting data across multiple subservers. "),Tie,Eie,z(" Restart or reload the server after changing. Note that you need to setup your database connection in the "),Sie,z(" file. ")]),_:1}),B(P(Le),{header:"Merge duplicates"},{default:J(()=>[z(" Merge playerfiles that are duplicate "),Iie,Cie,z(" This command is dangerous, as it deleted playerfiles or database rows from players who have the same username. ")]),_:1}),B(P(Le),{header:"Prefix Support"},{default:J(()=>[z(" Enable prefix support for player usernames "),Aie,Pie,z(" This setting is required when you're hosting a server with software that adds a prefix in front of your player's usernames. "),Oie,z(" For example Gesyer adds a dot in front of a username: "),kie,z(" will become "),Rie]),_:1})]),_:1},8,["onTabOpen"])]),_:1}),B(P(Le),{header:"Process Vote Delay"},{default:J(()=>[z(" Delay the rewards from being given after a player has voted ")]),_:1})]),_:1},8,["onTabOpen"]))}}),Die={class:"flex justify-center m-5"},Nie=y("br",null,null,-1),Mie=y("br",null,null,-1),Lie=y("ul",null,[y("li",null,"All Items"),y("li",null,"Random Item")],-1),Vie=y("br",null,null,-1),$ie=y("br",null,null,-1),Fie=y("b",null,"Vault",-1),Uie=y("b",null,"EssentialsX",-1),qie=y("br",null,null,-1),Bie=y("br",null,null,-1),jie=y("br",null,null,-1),Hie=y("br",null,null,-1),Wie=y("b",null,"/votesettings",-1),zie=y("i",null,"forbidden_commands",-1),Kie=y("b",null,"settings.yml",-1),Gie={class:"flex justify-center m-5"},Yie=y("br",null,null,-1),Xie=y("br",null,null,-1),Qie=y("ul",null,[y("li",null,"All Items"),y("li",null,"Random Item")],-1),Jie=y("br",null,null,-1),Zie=y("br",null,null,-1),eoe=y("b",null,"Vault",-1),toe=y("b",null,"EssentialsX",-1),noe=y("br",null,null,-1),roe=y("br",null,null,-1),ioe=y("br",null,null,-1),ooe=y("br",null,null,-1),soe=y("b",null,"/votesettings",-1),aoe=y("i",null,"forbidden_commands",-1),loe=y("b",null,"settings.yml",-1),uoe=y("b",null,"Power Rewards",-1),coe=y("br",null,null,-1),doe=y("br",null,null,-1),hoe=y("b",null,"Vault",-1),foe=y("b",null,"LuckPerms",-1),poe=y("b",null,"Power Rewards",-1),moe=y("br",null,null,-1),goe=y("br",null,null,-1),voe=y("b",null,"Enabled Groups",-1),yoe=y("br",null,null,-1),boe=y("br",null,null,-1),_oe=y("b",null,"/votesettings",-1),woe=y("i",null,"forbidden_commands",-1),Toe=y("b",null,"settings.yml",-1),Eoe=y("br",null,null,-1),Soe=y("br",null,null,-1),Ioe=y("b",null,"/votesettings",-1),Coe=y("i",null,"forbidden_commands",-1),Aoe=y("b",null,"settings.yml",-1),Poe=y("br",null,null,-1),Ooe=y("br",null,null,-1),koe=y("b",null,"Vault",-1),Roe=y("b",null,"LuckPerms",-1),xoe=y("br",null,null,-1),Doe=y("br",null,null,-1),Noe=y("b",null,"/votesettings",-1),Moe=y("i",null,"forbidden_commands",-1),Loe=y("b",null,"settings.yml",-1),Voe=y("br",null,null,-1),$oe=y("br",null,null,-1),Foe=y("b",null,"Vault",-1),Uoe=y("b",null,"LuckPerms",-1),qoe=y("b",null,"Vote Party",-1),Boe=y("br",null,null,-1),joe=y("br",null,null,-1),Hoe=y("ul",null,[y("li",null,[z(" Random Chest at a Time"),y("br"),y("i",null,[z("The items drop out of your "),y("b",null,"Vote Party"),z(" chests one by one, in random order")])]),y("br"),y("li",null,[z(" All Chests at Once"),y("br"),y("i",null,[z("The items drop out of your "),y("b",null,"Vote Party"),z(" chests one by one, concurrently")])]),y("br"),y("li",null,[z(" One Chest at a Time"),y("br"),y("i",null,[z("The items drop out of your "),y("b",null,"Vote Party"),z(" chests one by one, in sequence")])]),y("br"),y("li",null,[z(" Add To Inventory"),y("br"),y("i",null,[z("The items from your "),y("b",null,"Vote Party"),z(" chests are given in your players' inventories one by one, in a random order ")])]),y("br"),y("li",null,[z(" Explode Chests"),y("br"),y("i",null,[z("The items drop out of your "),y("b",null,"Vote Party"),z(" one chest at a time, in random order")])]),y("br"),y("li",null,[z(" Scary"),y("br"),y("i",null,[z("Similar to the "),y("b",null,"Explode Chests"),z(" variant, but a little scarrier")])]),y("br"),y("li",null,[z(" Pig Hunt"),y("br"),y("i",null,"This time, your chests run away! Kill the pigs to receive the rewards.")]),y("br"),y("li",null,[z(" Locked Crates"),y("br"),y("i",null,"The chests can be claimed by a single player. Fun as a hide-and-seek variant!")]),y("br"),y("li",null,"Randomly (one of the above)")],-1),Woe=y("b",null,"Vote Party",-1),zoe=y("br",null,null,-1),Koe=y("br",null,null,-1),Goe=y("b",null,"/votesettings",-1),Yoe=y("i",null,"forbidden_commands",-1),Xoe=y("b",null,"settings.yml",-1),Qoe=y("b",null,"Vote Party",-1),Joe=y("br",null,null,-1),Zoe=y("br",null,null,-1),ese=y("b",null,"Vote Party",-1),tse=y("i",null,"Pig Hunt",-1),nse=y("b",null,"Vote Party",-1),rse=y("i",null,"Pig Hunt",-1),ise=y("b",null,"Crate",-1),ose=y("b",null,"Crate",-1),sse=y("br",null,null,-1),ase=y("br",null,null,-1),lse=y("br",null,null,-1),use=y("br",null,null,-1),cse=y("br",null,null,-1),dse=y("br",null,null,-1),hse=y("ul",null,[y("li",null,"50%"),y("li",null,"25%"),y("li",null,"10%"),y("li",null,"5%"),y("li",null,"1%"),y("li",null,"No prize (9%)")],-1),fse=y("b",null,"Crate",-1),pse=Me({__name:"Rewards",setup(t){return(e,n)=>(M(),de(P(Jn),{onTabOpen:P(or)},{default:J(()=>[B(P(Le),{header:"Vote Rewards"},{default:J(()=>[z(" Default rewards for your players "),B(P(Jn),{class:"mt-3",onTabOpen:P(or)},{default:J(()=>[B(P(Le),{header:"Item Rewards"},{default:J(()=>[z(" Place items in this inventory to set as item rewards "),y("div",Die,[B(pa,{src:"/images/customvoting/item_rewards.png"})])]),_:1}),B(P(Le),{header:"Item Reward Type"},{default:J(()=>[z(" Define how many items a player receives "),Nie,Mie,z(" Options: "),Lie]),_:1}),B(P(Le),{header:"Money Reward"},{default:J(()=>[z(" Define how much ingame currency a player receives "),Vie,$ie,z(" This requires "),Fie,z(" and a Vault-supported currency plugin to be setup. E.g. "),Uie,z(". ")]),_:1}),B(P(Le),{header:"XP Reward"},{default:J(()=>[z(" Define how much Minecraft experience a player receives ")]),_:1}),B(P(Le),{header:"Double Rewards (NEW!)",pt:{header:{class:"text-yellow-500"}}},{default:J(()=>[z(" Setup days with double rewards "),qie,Bie]),_:1}),B(P(Le),{header:"Command Rewards"},{default:J(()=>[z(" You can choose what commands need to be run when a player has voted "),jie,Hie,z(" Keep in mind that this feature can be abused by moderators who have access to the "),Wie,z(" command. For this reason it is possible to setup "),zie,z(" in the "),Kie,z(". ")]),_:1})]),_:1},8,["onTabOpen"])]),_:1}),B(P(Le),{header:"Power Rewards"},{default:J(()=>[z(" Alternative vote rewards for VIP's "),B(P(Jn),{class:"mt-3",onTabOpen:P(or)},{default:J(()=>[B(P(Le),{header:"Item Rewards"},{default:J(()=>[z(" Place items in this inventory to set as item rewards "),y("div",Gie,[B(pa,{src:"/images/customvoting/item_rewards.png"})])]),_:1}),B(P(Le),{header:"Item Reward Type"},{default:J(()=>[z(" Define how many items a player receives "),Yie,Xie,z(" Options: "),Qie]),_:1}),B(P(Le),{header:"Money Reward"},{default:J(()=>[z(" Define how much ingame currency a player receives "),Jie,Zie,z(" This requires "),eoe,z(" and a Vault-supported currency plugin to be setup. E.g. "),toe,z(". ")]),_:1}),B(P(Le),{header:"XP Reward"},{default:J(()=>[z(" Define how much Minecraft experience a player receives ")]),_:1}),B(P(Le),{header:"Double Rewards (NEW!)",pt:{header:{class:"text-yellow-500"}}},{default:J(()=>[z(" Setup days with double rewards "),noe,roe]),_:1}),B(P(Le),{header:"Command Rewards"},{default:J(()=>[z(" You can choose what commands need to be run when a player has voted "),ioe,ooe,z(" Keep in mind that this feature can be abused by moderators who have access to the "),soe,z(" command. For this reason it is possible to setup "),aoe,z(" in the "),loe,z(". ")]),_:1}),B(P(Le),{header:"Enabled Groups"},{default:J(()=>[z(" What permission-groups have access to the "),uoe,z("? "),coe,doe,z(" This only works in combination with "),hoe,z(" and a Vault-supported permissions plugin. E.g. "),foe,z(". ")]),_:1}),B(P(Le),{header:"Enabled Users"},{default:J(()=>[z(" Who has access to the "),poe,z("? "),moe,goe,z(" This setting overrides the "),voe,z(" setting. ")]),_:1})]),_:1},8,["onTabOpen"])]),_:1}),B(P(Le),{header:"Lucky Rewards"},{default:J(()=>[z(" Rewards for lucky players "),B(P(Jn),{class:"mt-3",onTabOpen:P(or)},{default:J(()=>[B(P(Le),{header:"Lucky Vote"},{default:J(()=>[z(" Enable/disable lucky voting ")]),_:1}),B(P(Le),{header:"Item Rewards"},{default:J(()=>[z(" Place items in this inventory to set as item rewards ")]),_:1}),B(P(Le),{header:"Chance"},{default:J(()=>[z(" Set the chance percentage (%) for receiving a lucky reward ")]),_:1}),B(P(Le),{header:"Command Rewards (NEW!)",pt:{header:{class:"text-yellow-500"}}},{default:J(()=>[z(" You can choose what commands need to be run when a player has voted "),yoe,boe,z(" Keep in mind that this feature can be abused by moderators who have access to the "),_oe,z(" command. For this reason it is possible to setup "),woe,z(" in the "),Toe,z(". ")]),_:1})]),_:1},8,["onTabOpen"])]),_:1}),B(P(Le),{header:"Milestones"},{default:J(()=>[z(" Rewards given when a player reaches a certain amount of votes "),B(P(Jn),{class:"mt-3",onTabOpen:P(or)},{default:J(()=>[B(P(Le),{header:"Item Rewards"},{default:J(()=>[z(" Place items in this inventory to set as item rewards ")]),_:1}),B(P(Le),{header:"Command Rewards"},{default:J(()=>[z(" You can choose what commands need to be run when a player has voted "),Eoe,Soe,z(" Keep in mind that this feature can be abused by moderators who have access to the "),Ioe,z(" command. For this reason it is possible to setup "),Coe,z(" in the "),Aoe,z(". ")]),_:1}),B(P(Le),{header:"Permission Rewards"},{default:J(()=>[z(" Define what permissions are given to a player after voting"),Poe,Ooe,z(" This only works in combination with "),koe,z(" and a Vault-supported permissions plugin. E.g. "),Roe,z(". ")]),_:1})]),_:1},8,["onTabOpen"])]),_:1}),B(P(Le),{header:"Streaks"},{default:J(()=>[z(" Rewards given when a player votes x days in a row "),B(P(Jn),{class:"mt-3",onTabOpen:P(or)},{default:J(()=>[B(P(Le),{header:"Require Consecutive Streak"},{default:J(()=>[z(" Does the player need to vote every day, or can the player continue his streak on a later moment as well? ")]),_:1}),B(P(Le),{header:"Item Rewards"},{default:J(()=>[z(" Place items in this inventory to set as item rewards ")]),_:1}),B(P(Le),{header:"Command Rewards"},{default:J(()=>[z(" You can choose what commands need to be run when a player has voted "),xoe,Doe,z(" Keep in mind that this feature can be abused by moderators who have access to the "),Noe,z(" command. For this reason it is possible to setup "),Moe,z(" in the "),Loe,z(". ")]),_:1}),B(P(Le),{header:"Permission Rewards"},{default:J(()=>[z(" Define what permissions are given to a player after voting"),Voe,$oe,z(" This only works in combination with "),Foe,z(" and a Vault-supported permissions plugin. E.g. "),Uoe,z(". ")]),_:1})]),_:1},8,["onTabOpen"])]),_:1}),B(P(Le),{header:"Vote Party"},{default:J(()=>[z(" Chests with possibilities "),B(P(Jn),{class:"mt-3",onTabOpen:P(or)},{default:J(()=>[B(P(Le),{header:"Vote Party"},{default:J(()=>[z(" Enable/disable the "),qoe]),_:1}),B(P(Le),{header:"Party Type"},{default:J(()=>[z(" What type of party do you want to organize? "),Boe,joe,z(" Options: "),Hoe]),_:1}),B(P(Le),{header:"Vote Party Commands"},{default:J(()=>[z(" You can choose what commands need to be run when the "),Woe,z(" has started "),zoe,Koe,z(" Keep in mind that this feature can be abused by moderators who have access to the "),Goe,z(" command. For this reason it is possible to setup "),Yoe,z(" in the "),Xoe,z(". ")]),_:1}),B(P(Le),{header:"Votes Required"},{default:J(()=>[z(" The amount of votes on your server that are required to start the "),Qoe,Joe,Zoe,z(" The count resets once the party has started. ")]),_:1}),B(P(Le),{header:"Chests"},{default:J(()=>[z(" Place items in this inventory to set as item rewards ")]),_:1}),B(P(Le),{header:"Pig Hunt Health"},{default:J(()=>[z(" The amount of lives a pig has in the "),ese,z(" type "),tse]),_:1}),B(P(Le),{header:"Pig Hunt Max-Damage"},{default:J(()=>[z(" The amount of lives a pig can take from a player in the "),nse,z(" type "),rse]),_:1})]),_:1},8,["onTabOpen"])]),_:1}),B(P(Le),{header:"Crates"},{default:J(()=>[z(" Special chest that give the player one item after opening it "),B(P(Jn),{class:"mt-3",onTabOpen:P(or)},{default:J(()=>[B(P(Le),{header:"Change Name"},{default:J(()=>[z(" Change the name of this "),ise]),_:1}),B(P(Le),{header:"Get Key/Crate"},{default:J(()=>[z(" You will be given a "),ose,z(" key "),sse,ase,z(" This key can be used to set the crate location, or to open a crate. ")]),_:1}),B(P(Le),{header:"Item Rewards"},{default:J(()=>[z(" Place items in this inventory to set as item rewards "),lse,use,z(" Note the chance percentage of each inventory. "),cse,dse,z(" Options: "),hse]),_:1}),B(P(Le),{header:"Always Reward"},{default:J(()=>[z(" Is it possible that a player receives no reward? ")]),_:1}),B(P(Le),{header:"Allow Crate Close"},{default:J(()=>[z(" Can the "),fse,z(" animation be skipped? ")]),_:1})]),_:1},8,["onTabOpen"])]),_:1})]),_:1},8,["onTabOpen"]))}}),mse=y("br",null,null,-1),gse=y("br",null,null,-1),vse=y("b",null,"Vote Top",-1),yse=y("br",null,null,-1),bse=y("br",null,null,-1),_se=y("i",null,"disabled_worlds",-1),wse=y("b",null,"settings.yml",-1),Tse=y("br",null,null,-1),Ese=y("br",null,null,-1),Sse=y("b",null,"Vote Site",-1),Ise=y("br",null,null,-1),Cse=y("br",null,null,-1),Ase=y("ul",null,[y("li",null,[z(" Right Click"),y("br"),y("i",null,[z("Edit a "),y("b",null,"Vote Site"),z(" - the editor will open")])]),y("li",null,[z(" Left Click (with an item)"),y("br"),y("i",null,[z("Change a "),y("b",null,"Vote Site"),z("'s type")])]),y("li",null,[z(" Drag"),y("br"),y("i",null,[z("Move a "),y("b",null,"Vote Site"),z(" to another position")])]),y("li",null,[z(" Cursor Click"),y("br"),y("i",null,[z("Disable a "),y("b",null,"Vote Site")])])],-1),Pse=y("br",null,null,-1),Ose=y("br",null,null,-1),kse=y("b",null,"/vote",-1),Rse={class:"flex justify-center m-5"},xse={class:"flex justify-center m-5"},Dse=y("br",null,null,-1),Nse=y("br",null,null,-1),Mse=y("i",null,"vote_command_override",-1),Lse=y("b",null,"messages.yml",-1),Vse=y("b",null,"Vote Site Inventory",-1),$se=y("br",null,null,-1),Fse=y("br",null,null,-1),Use=y("b",null,"/votes",-1),qse={class:"flex justify-center m-5"},Bse=Me({__name:"Messages",setup(t){return(e,n)=>(M(),de(P(Jn),{onTabOpen:P(or)},{default:J(()=>[B(P(Le),{header:"Vote Broadcast"},{default:J(()=>[z(" Toggle the 'player has voted' message ")]),_:1}),B(P(Le),{header:"Milestone Broadcast"},{default:J(()=>[z(" Toggle the 'player has reached milestone x' message ")]),_:1}),B(P(Le),{header:"Streak Broadcast"},{default:J(()=>[z(" Toggle the 'player hit votestreak x' message ")]),_:1}),B(P(Le),{header:"Vote Party Votes Broadcast"},{default:J(()=>[z(" Toggle the 'x votes left until the Vote Party' message ")]),_:1}),B(P(Le),{header:"Vote Party Count Broadcast"},{default:J(()=>[z(" Toggle the 'Vote Party starting in x seconds' message ")]),_:1}),B(P(Le),{header:"Vote Party Count Ending Broadcast"},{default:J(()=>[z(" Toggle the 'Vote Party starting in x' message ")]),_:1}),B(P(Le),{header:"Break Armorstand Message"},{default:J(()=>[z(" Toggle the 'don't break me' message"),mse,gse,z(" This message is triggered if a player tries to break a "),vse,z(". ")]),_:1}),B(P(Le),{header:"Disabled World Message"},{default:J(()=>[z(" Toggle the 'you can't vote in this world' message"),yse,bse,z(" This message is triggered if a player tries to vote in a world that is disabled in "),_se,z(" in the "),wse,z(". ")]),_:1}),B(P(Le),{header:"Hourly Vote Reminder"},{default:J(()=>[z(" Toggle the 'you haven't voted yet' message ")]),_:1}),B(P(Le),{header:"Vote Sites"},{default:J(()=>[z(" Here you can configure your server's vote sites "),Tse,Ese,z(" Note: a "),Sse,z(" become available after voting a first time. "),Ise,Cse,z(" Actions: "),Ase]),_:1}),B(P(Le),{header:"Vote Site Inventory"},{default:J(()=>[z(" Whether a player sees your vote sites in an inventory/GUI, or as a text message "),Pse,Ose,z(" This action is triggered with "),kse,z(". "),y("div",Rse,[B(pa,{src:"/images/customvoting/vote_command_gui.png"})]),y("div",xse,[B(pa,{src:"/images/customvoting/vote_command_chat.png"})])]),_:1}),B(P(Le),{header:"Vote Command Override"},{default:J(()=>[z(" Show auto-generated vote sites to the player or use your own message? "),Dse,Nse,z(" Your own message can be setup at "),Mse,z(" in the "),Lse,z(". This option is only available if "),Vse,z(" is disabled. ")]),_:1}),B(P(Le),{header:"Vote Dashboard"},{default:J(()=>[z(" Whether a player sees their vote stats in an inventory/GUI, or as a text message "),$se,Fse,z(" This action is triggered with "),Use,z(". "),y("div",qse,[B(pa,{src:"/images/customvoting/vote_dashboard.png"})])]),_:1})]),_:1},8,["onTabOpen"]))}}),jse=y("br",null,null,-1),Hse=y("br",null,null,-1),Wse=y("a",{href:"https://discord.gg/v3qmJu7jWD",target:"_blank"}," Discord server ",-1),zse=y("br",null,null,-1),Kse=y("br",null,null,-1),Gse=y("br",null,null,-1),Yse=y("br",null,null,-1),Xse=y("ul",null,[y("li",null,"sd_master92"),y("li",null,"Dutchbeard"),y("li",null,"Smirren"),y("li",null,"King_Tom_94")],-1),Qse=y("b",null,"CustomVoting",-1),Jse=y("br",null,null,-1),Zse=y("br",null,null,-1),eae=y("span",{class:"text-green-500"},"Green",-1),tae=y("span",{class:"text-red-500"},"red",-1),nae=y("b",null,"CustomVoting",-1),rae=y("b",null,"CustomVoting",-1),iae=Me({__name:"Support",setup(t){return(e,n)=>(M(),de(P(Jn),{onTabOpen:P(or)},{default:J(()=>[B(P(Le),{header:"Up to date?"},{default:J(()=>[z(" Whether or not this plugin is up to date "),jse,Hse,z(" The current version is also shown. ")]),_:1}),B(P(Le),{header:"Ingame Updates"},{default:J(()=>[z(" Will operators receive a message about an available update from time to time? ")]),_:1}),B(P(Le),{header:"Discord"},{default:J(()=>[z(" A link to the "),Wse,zse,Kse,z(" Here you are welcome to ask for support ")]),_:1}),B(P(Le),{header:"Supporters"},{default:J(()=>[z(" Who made this plugin possible, and who bought me a coffee? "),Gse,Yse,Xse]),_:1}),B(P(Le),{header:"Player Info"},{default:J(()=>[z(" View all voting statistics about your players ")]),_:1}),B(P(Le),{header:"Statistics"},{default:J(()=>[B(P(Jn),{onTabOpen:P(or)},{default:J(()=>[B(P(Le),{header:"Top vote sites"},{default:J(()=>[z(" A list of the most popular voting sites of "),Qse,z(" users at this moment "),Jse,Zse,eae,z(" sites have been setup on your own server, "),tae,z(" sites have not yet been setup. ")]),_:1}),B(P(Le),{header:"Minecraft Version"},{default:J(()=>[z(" A list of the most popular Minecraft versions of "),nae,z(" users at this moment ")]),_:1}),B(P(Le),{header:"Country"},{default:J(()=>[z(" A list of the most popular countries of "),rae,z(" users at this moment ")]),_:1})]),_:1},8,["onTabOpen"])]),_:1})]),_:1},8,["onTabOpen"]))}}),oae=Me({__name:"VoteSettings",setup(t){return(e,n)=>(M(),de(P(Jn),{onTabOpen:P(or)},{default:J(()=>[B(P(Le),{header:"General"},{default:J(()=>[B(xie)]),_:1}),B(P(Le),{header:"Rewards"},{default:J(()=>[B(pse)]),_:1}),B(P(Le),{header:"Messages"},{default:J(()=>[B(Bse)]),_:1}),B(P(Le),{header:"Support"},{default:J(()=>[B(iae)]),_:1})]),_:1},8,["onTabOpen"]))}}),gn=t=>(k_("data-v-fb538480"),t=t(),R_(),t),sae={class:"flex flex-wrap"},aae={class:"w-full md:w-fit"},lae=gn(()=>y("img",{class:"w-32 h-32 md:w-48 md:h-48 rounded-full animation-scale my-4 cursor-pointer",src:eie,alt:"customvoting"},null,-1)),uae=gn(()=>y("div",{class:"w-full md:w-fit md:ms-10 flex justify-start"},[y("div",{class:"place-self-center"},[y("h1",{class:"text-title-primary"},"CustomVoting"),y("h2",{class:"text-title-tertiary"},"Everything you need to setup voting for your server.")])],-1)),cae={class:"flex justify-center"},dae=gn(()=>y("p",{class:"mt-3 description-with-bolds text-neutral-200"},[z(" The main focus of this plugin is being "),y("b",null,"easy to setup"),z(" and "),y("b",null,"not"),z(" being "),y("b",null,"overcomplicated"),z(" to use, but still being "),y("b",null,"highly customizable"),z("! ")],-1)),hae={class:"flex justify-center"},fae={class:"ms-10 mt-10 w-full xl:w-2/3"},pae=gn(()=>y("h3",{class:"text-title-secondary mb-2"},"Contents",-1)),mae=gn(()=>y("b",null,"/votesettings",-1)),gae=[mae],vae={class:"flex justify-center"},yae={class:"flex"},bae={class:"w-full md:w-1/2"},_ae={class:"mt-3 flex flex-wrap gap-1 md:gap-2 font-bold"},wae={class:"mt-3 flex flex-wrap gap-1 md:gap-2 font-bold"},Tae={class:"flex justify-center"},Eae={class:"w-full md:w-1/2 mt-10 flex justify-center flex-wrap gap-1 md:gap-2 font-bold"},Sae={class:"flex justify-end"},Iae={class:"w-full md:w-1/2 mt-10 flex justify-end flex-wrap gap-1 md:gap-2 font-bold"},Cae={class:"flex justify-center"},Aae={class:"mt-3"},Pae={class:"flex justify-center m-5"},Oae={class:"flex justify-center"},kae=gn(()=>y("div",{class:"mt-3"},[z(" Requirements "),y("br"),y("br"),y("ul",null,[y("li",null,[y("span",{class:"text-green-500"},[y("b",null,"Minecraft")]),z(" 1.14 or higher ")]),y("li",null,[y("span",{class:"text-cyan-400"},[y("b",null,"NuVotifier")]),z(" or "),y("span",{class:"text-cyan-400"},[y("b",null,"Votifier")])])])],-1)),Rae={class:"mt-10"},xae=gn(()=>y("br",null,null,-1)),Dae=gn(()=>y("br",null,null,-1)),Nae=gn(()=>y("li",null,[y("b",{class:"text-orange-400"},"PlaceholderAPI")],-1)),Mae=gn(()=>y("div",{class:""},[y("p",null,[z("%CV_SERVER_VOTES% "),y("span",{class:"text-neutral-400"},"// total server votes")]),y("p",null,[z("%CV_PLAYER_VOTES% "),y("span",{class:"text-neutral-400"},"// your votes")]),y("p",null,[z("%CV_PLAYER_VOTES_MONTHLY% "),y("span",{class:"text-neutral-400"},"// your monthly votes")]),y("p",null,[z("%CV_PLAYER_VOTES_WEEKLY% "),y("span",{class:"text-neutral-400"},"// your weekly votes")]),y("p",null,[z("%CV_PLAYER_VOTES_DAILY% "),y("span",{class:"text-neutral-400"},"// your daily votes")]),y("p",null,[z("%CV_PLAYER_STREAK_DAILY% "),y("span",{class:"text-neutral-400"},"// your streak days")]),y("br"),y("p",null,[z("%CV_PLAYER_VOTES_1% "),y("span",{class:"text-neutral-400"},"// top voter 1's votes")]),y("p",null,[z("%CV_PLAYER_VOTES_1_NAME% "),y("span",{class:"text-neutral-400"},"// top voter 1's name")]),y("p",null,[z(" %CV_PLAYER_VOTES_1_MONTHLY% "),y("span",{class:"text-neutral-400"},"// top voter 1's monthly votes")]),y("p",null,[z(" %CV_PLAYER_VOTES_1_WEEKLY% "),y("span",{class:"text-neutral-400"},"// top voter 1's weekly votes")]),y("p",null,[z("%CV_PLAYER_VOTES_1_DAILY% "),y("span",{class:"text-neutral-400"},"// top voter 1's daily votes")]),y("p",{class:"text-neutral-300"},"You can use as many numbers as you like"),y("p",{class:"text-neutral-300"}," The top voters are sorted by month or all-time according to your 'Monthly Period' setting. (Default is all-time) "),y("br"),y("p",null,[z(" %CV_VOTE_PARTY_TOTAL% "),y("span",{class:"text-neutral-400"},"// total of votes required for a voteparty.")]),y("p",null,[z("%CV_VOTE_PARTY_CURRENT% "),y("span",{class:"text-neutral-400"},"// votes current period.")]),y("p",null,[z(" %CV_VOTE_PARTY_UNTIL% "),y("span",{class:"text-neutral-400"},"// votes left until the voteparty.")])],-1)),Lae=gn(()=>y("li",null,[y("b",{class:"text-orange-400"},"Vault")],-1)),Vae=gn(()=>y("i",null,"Connect with a Vault-supported currency or permissions plugin",-1)),$ae=gn(()=>y("br",null,null,-1)),Fae=gn(()=>y("br",null,null,-1)),Uae=gn(()=>y("li",null,[y("b",{class:"text-orange-400"},"Citizens")],-1)),qae=gn(()=>y("i",null,"Showcase your top voters with reallife NPC's!",-1)),Bae=gn(()=>y("br",null,null,-1)),jae=gn(()=>y("br",null,null,-1)),Hae=gn(()=>y("li",null,[y("b",{class:"text-orange-400"},"Multiverse-Core")],-1)),Wae=gn(()=>y("i",null,"Disable players from voting in certain custom worlds.",-1)),zae={class:"flex justify-center"},Kae=gn(()=>y("p",{class:"mt-3"},[z(" Reference: "),y("a",{href:"https://github.com/sanderderks/CustomVoting/blob/master/src/main/resources/plugin.yml",target:"_blank"}," plugin.yml ")],-1)),Gae={class:"flex justify-center"},Yae=gn(()=>y("div",{class:"flex md:justify-center md:text-center mb-15"},[y("div",null,[y("h4",{class:"w-full text-title-tertiary text-primary-500"},"Basic Setup"),y("ol",{class:"w-full mt-3"},[y("li",{class:"mb-3"},[z(" Download and install "),y("a",{href:"https://www.spigotmc.org/resources/nuvotifier.13449/",target:"_blank"},[y("b",null,"(Nu)Votifier")])]),y("li",{class:"mb-3"},[y("a",{href:"https://minestatus.net/tools/votifier",target:"_blank"},[y("b",null,"Test")]),z(" NuVotifier ")]),y("li",{class:"mb-3"},[z(" Download and install "),y("a",{href:"https://www.spigotmc.org/resources/customvoting-1-14-1-20.28103/",target:"_blank"},[y("b",null,"CustomVoting")])]),y("li",null,"Vote from your favorite website"),y("i",null,[z("You should now see a "),y("b",null,"Vote Site"),z(" when you open "),y("b",null,"/votes")])])])],-1)),Xae=gn(()=>y("div",{class:"mt-3 mb-20 flex flex-wrap justify-between"},[y("div",{class:"w-full md:w-1/2 md:text-center"},[y("h4",{class:"text-title-tertiary text-primary-500"},"Single Server"),y("ol",{class:"mt-3",start:"5"},[y("li",{class:"mb-3"},[z("Customize in "),y("b",null,"/votesettings"),z(", enjoy!")])])]),y("div",{class:"w-full md:w-1/2 md:text-center"},[y("h4",{class:"text-title-tertiary text-primary-500"},"Server Network"),y("ol",{class:"mt-3",start:"5"},[y("li",{class:"mb-3"},[z("Configure "),y("b",null,"NuVotifier"),z(" to be a vote forwarder to your subservers")]),y("li",{class:"mb-3"},[z("Connect to your database at "),y("i",null,"database"),z(" in "),y("b",null,"settings.yml")]),y("li",{class:"mb-3"},[z("Customize in "),y("b",null,"/votesettings"),z(", enjoy!")])])])],-1)),Qae=gn(()=>y("p",{class:"mt-3"},[z(" Settings: "),y("a",{href:"https://github.com/sanderderks/CustomVoting/blob/master/src/main/resources/settings.yml",target:"_blank"}," settings.yml ")],-1)),Jae=gn(()=>y("p",{class:"mt-3"},[z(" Messages and placeholders: "),y("a",{href:"https://github.com/sanderderks/CustomVoting/blob/master/src/main/resources/messages.yml",target:"_blank"}," messages.yml "),y("br"),y("i",{class:"text-neutral-300"},[z("  Supports the usage of Minecraft-& and "),y("a",{href:"https://www.spigotmc.org/resources/customvoting-1-14-1-20.28103/update?update=545483",target:"_blank"}," HEX "),z(" color codes. "),y("br"),z("  For example: "),y("span",{class:"text-green-500"},"&2Test"),z(" or "),y("span",{class:"text-orange-500"},"&#bf921fTest")])],-1)),Zae={class:"flex justify-center"},ele=gn(()=>y("div",{class:"mt-10 flex flex-col gap-5"},[y("div",null,[z(" Download "),y("b",null,"CustomVoting"),z(" on "),y("a",{class:"text-yellow-400",href:"https://www.spigotmc.org/resources/customvoting-1-14-1-20.28103/",target:"_blank"},[y("b",null," SpigotMC ")]),y("br"),y("i",{class:"text-neutral-500"}," Are you enjoying my plugin? Please leave a review! ")]),y("div",null,[z(" Find support on our "),y("a",{class:"text-blue-400",href:"https://discord.gg/v3qmJu7jWD",target:"_blank"},[y("b",null," Discord ")]),z(" server "),y("br"),y("i",{class:"text-neutral-500"}," Note that responses may take up to 7 days. This chat is most active in the weekends. ")]),y("div",null,[z(" CustomVoting uses server data collection! "),y("br"),z(" Find us on "),y("a",{class:"text-cyan-500",href:"https://bstats.org/plugin/bukkit/CustomVoting/13544",target:"_blank"},[y("b",null," BStats ")]),y("br"),y("i",{class:"text-neutral-500"},"This is completely optional and configured in your plugins/PluginMetrics folder.")]),y("div",null,[y("b",null,"CustomVoting"),z(" is open source. "),y("br"),z(" Find out more on "),y("a",{class:"text-fuchsia-500",href:"https://github.com/sanderderks/CustomVoting",target:"_blank"},[y("b",null," GitHub ")]),y("br"),y("i",{class:"text-neutral-500"},"Open source means you can view and edit the source code.")])],-1)),tle={class:"flex justify-center"},nle=gn(()=>y("p",{class:"text-neutral-300"},[z(" Are you unable to live your life without this plugin? "),y("br"),z(" Consider a donation to show your appreciation and motivate further development: "),y("a",{href:"https://www.paypal.com/donate/?hosted_button_id=75EUKGW7K54JY"},[y("b",null,"PayPal")])],-1)),rle=Me({__name:"CustomVoting",setup(t){const e=n=>{const r=document.getElementById(n);r==null||r.scrollIntoView({behavior:"smooth",block:"center"})};return(n,r)=>{const i=Dn("RouterLink");return M(),de(La,{"scroll-to-content":!1},{header:J(()=>[y("div",sae,[y("div",aae,[B(i,{to:{name:P(gr).HOME}},{default:J(()=>[lae]),_:1},8,["to"])]),uae])]),content:J(()=>[y("div",cae,[B(Gn,{class:"!bg-yellow-700 !bg-opacity-50 my-5 w-full xl:w-2/3",title:"About",description:"CustomVoting is a Minecraft plugin to reward your players for voting for your server.","description-props":{class:"!text-neutral-200"}},{default:J(()=>[dae]),_:1})]),y("div",hae,[y("div",fae,[pae,y("ul",null,[y("li",null,[y("a",{class:"hover:cursor-pointer",onClick:r[0]||(r[0]=o=>e("features"))}," Features ")]),y("li",null,[y("a",{class:"hover:cursor-pointer",onClick:r[1]||(r[1]=o=>e("votesettings"))},gae)]),y("li",null,[y("a",{class:"hover:cursor-pointer",onClick:r[2]||(r[2]=o=>e("requirements"))}," Requirements & Hooks ")]),y("li",null,[y("a",{class:"hover:cursor-pointer",onClick:r[3]||(r[3]=o=>e("commands"))}," Commands & Permissions")]),y("li",null,[y("a",{class:"hover:cursor-pointer",onClick:r[4]||(r[4]=o=>e("setup"))}," Setup & Configuration")]),y("li",null,[y("a",{class:"hover:cursor-pointer",onClick:r[5]||(r[5]=o=>e("support"))}," Support & Information")]),y("li",null,[y("a",{class:"hover:cursor-pointer",onClick:r[6]||(r[6]=o=>e("love"))}," Footnotes")])])])]),y("div",vae,[B(Gn,{id:"features",class:"my-5 mt-20 w-full xl:w-2/3",title:"Features"},{default:J(()=>[y("div",yae,[y("div",bae,[y("div",_ae,[B(at,{label:"Items"}),B(at,{class:"bg-sky-500",label:"Money"}),B(at,{class:"bg-blue-300 text-neutral-700 hover:text-white",label:"Experience"}),B(at,{class:"bg-cyan-600",label:"Commands"}),B(at,{class:"bg-blue-600",label:"Permissions"})]),y("div",wae,[B(at,{class:"bg-purple-600",label:"VIP Rewards"}),B(at,{class:"bg-purple-400 text-neutral-700 hover:text-white",label:"Lucky Rewards"}),B(at,{class:"bg-purple-800",label:"Milestones"}),B(at,{class:"bg-fuchsia-400 text-neutral-700 hover:text-white",label:"Streaks"}),B(at,{class:"bg-purple-900",label:"Crates"})])])]),y("div",Tae,[y("div",Eae,[B(at,{class:"bg-green-400 text-neutral-700 hover:text-white",label:"Vote Party"}),B(at,{class:"bg-yellow-300 text-neutral-700 hover:text-white",label:"Pig Hunt"}),B(at,{class:"bg-amber-500 text-neutral-700 hover:text-white",label:"Fireworks"}),B(at,{class:"bg-orange-400 text-neutral-700 hover:text-white",label:"Vote Top Skulls"}),B(at,{class:"bg-lime-500 text-neutral-700 hover:text-white",label:"NPC's"})])]),y("div",Sae,[y("div",Iae,[B(at,{class:"bg-red-400 text-neutral-700 hover:text-white",label:"Offline Support"}),B(at,{class:"bg-pink-300 text-neutral-700 hover:text-white",label:"Monthly Reset"}),B(at,{class:"bg-pink-700",label:"PlaceholderAPI"}),B(at,{class:"bg-red-400 text-neutral-700 hover:text-white",label:"Vault"}),B(at,{class:"bg-red-700",label:"NuVotifier"})])])]),_:1})]),y("div",Cae,[B(Gn,{id:"votesettings",class:"my-5 mt-20 w-full xl:w-2/3",title:"/votesettings",description:"The main command of CustomVoting"},{default:J(()=>[y("div",Aae,[B(oae)]),y("div",Pae,[B(pa,{src:"/images/customvoting/votesettings1.png"})])]),_:1})]),y("div",Oae,[B(Gn,{id:"requirements",class:"my-5 mt-20 w-full xl:w-2/3",title:"Requirements & Hooks",description:"What do you need to use CustomVoting - and what works together with it?"},{default:J(()=>[kae,y("div",Rae,[z(" Hooks: "),xae,Dae,y("ul",null,[Nae,B(P(Jn),{class:"mt-3",onTabOpen:P(or)},{default:J(()=>[B(P(Le),{header:"What are the placeholders?"},{default:J(()=>[Mae]),_:1})]),_:1},8,["onTabOpen"]),Lae,Vae,$ae,Fae,Uae,qae,Bae,jae,Hae,Wae])])]),_:1})]),y("div",zae,[B(Gn,{id:"commands",class:"my-5 mt-20 w-full xl:w-2/3",title:"Commands & Permissions"},{default:J(()=>[B(P(Jn),{class:"mt-3",onTabOpen:P(or)},{default:J(()=>[B(P(Le),{header:"Show/hide"},{default:J(()=>[B(sie)]),_:1})]),_:1},8,["onTabOpen"]),Kae]),_:1})]),y("div",Gae,[B(Gn,{id:"setup",class:"my-5 mt-20 w-full xl:w-2/3",title:"Setup & Configuration"},{default:J(()=>[Yae,Xae,Qae,Jae]),_:1})]),y("div",Zae,[B(Gn,{id:"support",class:"my-5 mt-20 w-full xl:w-2/3",title:"Support & Information",description:"Can I help you with anything?"},{default:J(()=>[ele]),_:1})]),y("div",tle,[B(Gn,{id:"love",class:"my-5 mt-20 w-full xl:w-2/3 bg-pink-700 bg-opacity-75",title:"Thank you <3"},{default:J(()=>[nle]),_:1})])]),_:1})}}}),ile=X1(rle,[["__scopeId","data-v-fb538480"]]),ole=Me({__name:"CustomVoting",setup(t){return(e,n)=>(M(),de(ile))}}),sle={class:"flex flex-col lg:justify-center lg:items-center py-10 text-md text-neutral-400"},ale={class:"m-1 lg:w-4/5"},Q1=Me({__name:"Privacy",setup(t){const{content:e}=zt(yr());return(n,r)=>(M(),W("div",sle,[(M(!0),W(Pe,null,ht(P(e).privacyStatement,i=>(M(),W("p",ale,ze(i),1))),256))]))}}),J1=Me({__name:"EmailField",props:{id:{},name:{},label:{},rules:{},modelValue:{},error:{}},emits:["update:modelValue","update:error"],setup(t,{expose:e,emit:n}){const r=t,i=ie(),o=te({get:()=>r.modelValue,set:l=>{a("update:modelValue",l)}}),s=te({get:()=>r.error,set:l=>{a("update:error",l??"")}}),a=n;return e({test:async()=>await i.value.test()}),(l,u)=>(M(),de(ei,{ref_key:"email",ref:i,id:l.id,name:l.name,label:l.label,placeholder:"someone@example.com","input-props":{type:"email",autocomplete:"on"},modelValue:o.value,"onUpdate:modelValue":u[0]||(u[0]=c=>o.value=c),error:s.value,"onUpdate:error":u[1]||(u[1]=c=>s.value=c),rules:[...l.rules,P(Dt).Email]},null,8,["id","name","label","modelValue","error","rules"]))}}),Ou=Me({__name:"PasswordField",props:{id:{},name:{},label:{},placeholder:{},rules:{},modelValue:{},error:{},min:{},max:{},compare:{}},emits:["update:modelValue","update:error"],setup(t,{expose:e,emit:n}){const r=t,i=ie(),o=te({get:()=>r.modelValue,set:l=>{a("update:modelValue",l)}}),s=te({get:()=>r.error,set:l=>{a("update:error",l??"")}}),a=n;return e({test:async()=>i.value.test()}),(l,u)=>(M(),de(ei,{ref_key:"password",ref:i,id:l.id,name:l.name,label:l.label,placeholder:"******","input-props":{type:"password",autocomplete:"on"},modelValue:o.value,"onUpdate:modelValue":u[0]||(u[0]=c=>o.value=c),error:s.value,"onUpdate:error":u[1]||(u[1]=c=>s.value=c),rules:l.rules,"min-length":l.min,"max-length":l.max,compare:l.compare},null,8,["id","name","label","modelValue","error","rules","min-length","max-length","compare"]))}}),lle={class:"flex flex-wrap pt-6 pb-8 mb-4"},ule={class:"basis-full lg:basis-1/2"},cle={class:"flex gap-3 mt-10 flex-wrap"},dle={class:"basis-full lg:basis-1/2"},hle={key:0,class:"basis-full lg:basis-1/2 flex gap-3 mt-10 flex-wrap"},fle={class:"flex flex-col items-center content-center"},ple=Me({__name:"Dashboard",setup(t){const n=Vc(Lc).greaterOrEqual("md"),r=Ar(),{currentUser:i,firebaseUser:o,publicUser:s,isOwner:a,isMutationLoading:l}=zt(r),u=yr(),{fetchAll:c}=u,{content:d,isOnline:h,debug:p}=zt(u),m=ie(!1),g=ie(),v=ie(),A=ie(),I=ie(),S=ie(),T=ie(),N=ie(),R=ie(),C=Pr({firstName:{value:"",error:""},lastName:{value:"",error:""},displayName:{value:"",error:""},email:{value:"",error:""},newPassword:{value:"",error:""},currentPassword:{value:"",error:""},repeatPassword:{value:"",error:""},avatar:{value:"",error:""}}),E=te(()=>({firstName:C.firstName.value,lastName:C.lastName.value})),b=te(()=>({displayName:C.displayName.value,avatar:C.avatar.value})),w=te(()=>!!s.value&&!vo($0.convert(s.value),b.value)),k=te(()=>{var q;return C.email.value!==((q=o.value)==null?void 0:q.email)}),x=te(()=>{const q=[];return vo(i.value,E.value)||q.push("Details"),w.value&&q.push("Public Profile"),k.value&&q.push("E-mail"),C.newPassword.value&&q.push("Password"),q.length?"Save "+_0(q):void 0}),O=async()=>{var q;Object.keys(C).forEach(V=>C[V].error=""),C.newPassword.value&&(await Promise.all([S.value.test(),T.value.test(),N.value.test()]),!C.newPassword.error&&!C.currentPassword.error&&!C.repeatPassword.error&&(await r.updatePassword(C.newPassword.value,C.currentPassword.value),C.newPassword.value="",C.currentPassword.value="")),w.value&&(await A.value.test(),!C.displayName.error&&!C.avatar.error&&r.updatePublicUser({displayName:C.displayName.value,avatar:C.avatar.value})),k.value&&(await Promise.all([I.value.test(),T.value.test()]),!C.email.error&&!C.currentPassword.error&&(await r.updateMail(C.email.value,C.currentPassword.value),C.currentPassword.value="")),vo(i.value,E.value)||(await Promise.all([g.value.test(),v.value.test()]),!C.firstName.error&&!C.lastName.error&&r.updateUser({firstName:C.firstName.value,lastName:C.lastName.value})),await c((q=o.value)==null?void 0:q.uid,!0)};return j_(()=>{var q,V,F,G,Z;C.firstName.value=((q=i.value)==null?void 0:q.firstName)||"",C.lastName.value=((V=i.value)==null?void 0:V.lastName)||"",C.displayName.value=((F=s.value)==null?void 0:F.displayName)||"",C.email.value=((G=o.value)==null?void 0:G.email)||"",C.avatar.value=((Z=s.value)==null?void 0:Z.avatar)||""}),(q,V)=>(M(),de(La,null,{content:J(()=>[P(i)&&P(o)?(M(),de(Gn,{key:0,class:"!bg-secondary-500 !bg-opacity-35 my-5",title:"Welcome "+P(i).firstName+(P(i).lastName?" "+P(i).lastName:""),description:P(d).dashboardDescription},{default:J(()=>[y("div",lle,[y("div",ule,[y("form",{id:"accountForm",onSubmit:V[19]||(V[19]=kt(F=>O(),["prevent"]))},[B(ei,{name:"accountType",label:"Account Type","model-value":P(a)?"Owner":"Member","input-props":{disabled:!0}},null,8,["model-value"]),B(ei,{ref_key:"firstName",ref:g,name:"firstName",label:"First Name",placeholder:"Someone",modelValue:C.firstName.value,"onUpdate:modelValue":V[0]||(V[0]=F=>C.firstName.value=F),error:C.firstName.error,"onUpdate:error":V[1]||(V[1]=F=>C.firstName.error=F),rules:[P(Dt).Required],"min-length":3,"max-length":50},null,8,["modelValue","error","rules"]),B(ei,{ref_key:"lastName",ref:v,name:"lastName",label:"Last Name",modelValue:C.lastName.value,"onUpdate:modelValue":V[2]||(V[2]=F=>C.lastName.value=F),error:C.lastName.error,"onUpdate:error":V[3]||(V[3]=F=>C.lastName.error=F),"min-length":3,"max-length":50},null,8,["modelValue","error"]),B(ei,{ref_key:"displayName",ref:A,name:"displayName",label:"Public Username",modelValue:C.displayName.value,"onUpdate:modelValue":V[4]||(V[4]=F=>C.displayName.value=F),error:C.displayName.error,"onUpdate:error":V[5]||(V[5]=F=>C.displayName.error=F),rules:[P(Dt).MinLength],"min-length":3,"max-length":50},null,8,["modelValue","error","rules"]),B(J1,{ref_key:"email",ref:I,name:"email",label:"E-mail",modelValue:C.email.value,"onUpdate:modelValue":V[6]||(V[6]=F=>C.email.value=F),error:C.email.error,"onUpdate:error":V[7]||(V[7]=F=>C.email.error=F),rules:[P(Dt).Required]},null,8,["modelValue","error","rules"]),k.value?(M(),de(Ou,{key:0,ref_key:"currentPassword",ref:T,name:"currentPassword",label:"Current Password",modelValue:C.currentPassword.value,"onUpdate:modelValue":V[8]||(V[8]=F=>C.currentPassword.value=F),error:C.currentPassword.error,"onUpdate:error":V[9]||(V[9]=F=>C.currentPassword.error=F),rules:[P(Dt).Required]},null,8,["modelValue","error","rules"])):ee("",!0),B(Ou,{ref_key:"newPassword",ref:S,name:"newPassword",label:"New Password",modelValue:C.newPassword.value,"onUpdate:modelValue":V[10]||(V[10]=F=>C.newPassword.value=F),error:C.newPassword.error,"onUpdate:error":V[11]||(V[11]=F=>C.newPassword.error=F),min:6,max:50},null,8,["modelValue","error"]),C.newPassword.value?(M(),de(Ou,{key:1,ref_key:"repeatPassword",ref:N,name:"repeatPassword",label:"Repeat New Password",modelValue:C.repeatPassword.value,"onUpdate:modelValue":V[12]||(V[12]=F=>C.repeatPassword.value=F),error:C.repeatPassword.error,"onUpdate:error":V[13]||(V[13]=F=>C.repeatPassword.error=F),rules:[P(Dt).Required],compare:{value:C.newPassword.value,name:"New Password"}},null,8,["modelValue","error","rules","compare"])):ee("",!0),C.newPassword.value&&!k.value?(M(),de(Ou,{key:2,ref_key:"currentPassword",ref:T,name:"currentPassword",label:"Current Password",modelValue:C.currentPassword.value,"onUpdate:modelValue":V[14]||(V[14]=F=>C.currentPassword.value=F),error:C.currentPassword.error,"onUpdate:error":V[15]||(V[15]=F=>C.currentPassword.error=F),rules:[P(Dt).Required]},null,8,["modelValue","error","rules"])):ee("",!0),y("div",cle,[x.value?(M(),de(at,{key:0,class:"w-full",action:"submit",loading:P(l),label:x.value},null,8,["loading","label"])):ee("",!0),P(a)?ee("",!0):(M(),de(at,{key:1,class:"w-full",type:"danger",outlined:"",label:"Delete account",onClick:V[16]||(V[16]=F=>m.value=!0)}))]),P(a)?(M(),de(ih,{key:3,name:"isOnline",label:"Online",modelValue:P(h),"onUpdate:modelValue":V[17]||(V[17]=F=>_n(h)?h.value=F:null)},null,8,["modelValue"])):ee("",!0),P(a)?(M(),de(ih,{key:4,name:"debug",label:"Debug",modelValue:P(p),"onUpdate:modelValue":V[18]||(V[18]=F=>_n(p)?p.value=F:null)},null,8,["modelValue"])):ee("",!0)],32)]),y("div",dle,[B(H1,{ref_key:"avatar",ref:R,id:"avatar",name:"avatar",label:"Public Avatar",modelValue:C.avatar.value,"onUpdate:modelValue":V[20]||(V[20]=F=>C.avatar.value=F),error:C.avatar.error,"onUpdate:error":V[21]||(V[21]=F=>C.avatar.error=F),"is-public":"","image-props":{class:"rounded-full"},"image-container-props":{class:"!h-64 !w-64"}},null,8,["modelValue","error"])]),P(n)?ee("",!0):(M(),W("div",hle,[x.value?(M(),de(at,{key:0,class:"w-full",action:"submit",form:"accountForm",loading:P(l),label:x.value},null,8,["loading","label"])):ee("",!0),P(a)?ee("",!0):(M(),de(at,{key:1,class:"w-full",type:"danger",outlined:"",label:"Delete account",onClick:V[22]||(V[22]=F=>m.value=!0)}))]))]),y("div",fle,[B(Q1)])]),_:1},8,["title","description"])):ee("",!0),B(j1,{title:"Delete Account",isOpen:m.value,description:["Are you sure you want to delete your account?","This cannot be undone."],"confirm-text":"Confirm","confirm-props":{type:"danger",outlined:!0},onConfirm:V[23]||(V[23]=F=>P(r).deleteAccount()),onCancel:V[24]||(V[24]=F=>m.value=!1)},null,8,["isOpen"])]),_:1}))}}),mle=Me({__name:"Dashboard",setup(t){return(e,n)=>(M(),de(ple))}}),gle=t=>(k_("data-v-1c50f507"),t=t(),R_(),t),vle=gle(()=>y("h3",{class:"text-title-secondary"},"My Work",-1)),yle=Me({__name:"Projects",setup(t){const e=yr(),{moveProject:n}=e,{projects:r}=zt(e),i=s=>{s.moved&&n(s.moved.oldIndex,s.moved.newIndex)},o=()=>{tr(()=>{const s=document.querySelectorAll(".transition-opacity");s.forEach(a=>{a.classList.replace("opacity-100","opacity-0")}),S7(Array.from(s),500,300,a=>{a.classList.replace("opacity-0","opacity-100")})})};return pn(()=>r.value,(s,a)=>{s>a&&o()}),Vt(()=>{o()}),(s,a)=>(M(),W(Pe,null,[vle,B(P(Y1),{class:"grid grid-cols-1 gap-4 my-5 sm:grid-cols-2 xl:grid-cols-3 cursor-pointer select-none","model-value":P(r),"item-key":"index",onChange:i,animation:150,delay:50},{item:J(({element:l})=>[B(Gn,{class:"border-4 border-transparent opacity-100 transition-opacity duration-1000 ease-in",title:l.name,url:l.url,route:l.route,description:l.description,loading:l.loading},{default:J(()=>[(M(!0),W(Pe,null,ht(l.technologies,u=>(M(),de(at,{class:"rounded-secondary m-1 md:mt-2 font-bold",style:ar({backgroundColor:u.color}),label:u.name},null,8,["style","label"]))),256))]),_:2},1032,["title","url","route","description","loading"])]),_:1},8,["model-value"])],64))}}),ble=X1(yle,[["__scopeId","data-v-1c50f507"]]),_le={class:"grid mt-20"},wle=Me({__name:"Home",setup(t){return(e,n)=>(M(),de(La,{"scroll-to-content":!1},{content:J(()=>[y("div",_le,[B(ble)])]),_:1}))}}),Tle=Me({__name:"Home",setup(t){return(e,n)=>(M(),de(wle))}}),Ele={class:"flex flex-col items-center content-center"},Sle={class:"grid grid-cols-4 mt-10 gap-3"},Ile=Me({__name:"Login",setup(t){const e=Ar(),{isLoginLoading:n}=zt(e),r=X_(),{initEmail:i,initPassword:o}=r.currentRoute.value.query,s=ie(),a=ie(),l=Pr({email:{value:(i==null?void 0:i.toString())||"",error:""},password:{value:(o==null?void 0:o.toString())||"",error:""}}),u=async()=>{Object.keys(l).forEach(d=>l[d].error=""),await Promise.all([s.value.test(),a.value.test()]),!l.email.error&&!l.password.error&&e.login(l.email.value,l.password.value)},c=async()=>{await s.value.test(),l.email.error||e.resetPassword(l.email.value)};return Vt(()=>{r.replace({query:void 0})}),(d,h)=>{const p=Dn("RouterLink");return M(),de(La,null,{content:J(()=>[B(Gn,{class:"!bg-primary-800 !bg-opacity-50 my-5",title:"Login",description:"Please login using your e-mail and password."},{default:J(()=>[y("div",Ele,[y("form",{class:"w-full lg:w-1/2 xl:w-1/3 px-8 pt-6 pb-8 mb-4",onSubmit:h[4]||(h[4]=kt(m=>u(),["prevent"]))},[B(J1,{ref_key:"email",ref:s,name:"email",label:"E-mail",modelValue:l.email.value,"onUpdate:modelValue":h[0]||(h[0]=m=>l.email.value=m),error:l.email.error,"onUpdate:error":h[1]||(h[1]=m=>l.email.error=m),rules:[P(Dt).Required]},null,8,["modelValue","error","rules"]),B(Ou,{ref_key:"password",ref:a,name:"password",label:"Password",modelValue:l.password.value,"onUpdate:modelValue":h[2]||(h[2]=m=>l.password.value=m),error:l.password.error,"onUpdate:error":h[3]||(h[3]=m=>l.password.error=m),rules:[P(Dt).Required]},null,8,["modelValue","error","rules"]),y("div",Sle,[B(at,{class:"col-span-full md:col-span-2",action:"submit",loading:P(n),label:"Login"},null,8,["loading"]),B(p,{class:"col-span-full md:col-span-2",to:{name:P(gr).REGISTER,query:{initEmail:l.email.value,initPassword:l.password.value}}},{default:J(()=>[B(at,{class:"w-full",outlined:"",label:"Register"})]),_:1},8,["to"]),B(at,{class:"col-span-full md:col-span-2 md:col-start-3",outlined:"",label:"Forgot Password",onClick:c})])],32),B(Q1)])]),_:1})]),_:1})}}}),Cle=Me({__name:"Login",setup(t){return(e,n)=>(M(),de(Ile))}}),Ale=Me({__name:"NotFound",setup(t){return(e,n)=>(M(),de(La,{"scroll-to-content":!1},{content:J(()=>[B(Gn,{class:"!bg-red-800 !bg-opacity-50 !rounded-primary my-5",title:"Not found.",description:"Where are you going?"})]),_:1}))}}),Ple=Me({__name:"NotFound",setup(t){return(e,n)=>(M(),de(Ale))}}),Ole={class:"flex flex-col items-center content-center"},kle={class:"grid grid-cols-2 mt-10 gap-3"},Rle=Me({__name:"Register",setup(t){const e=Ar(),{isLoginLoading:n}=zt(e),r=X_(),{initEmail:i,initPassword:o}=r.currentRoute.value.query,s=ie(),a=ie(),l=ie(),u=Pr({email:{value:(i==null?void 0:i.toString())||"",error:""},password:{value:(o==null?void 0:o.toString())||"",error:""},firstName:{value:"",error:""}}),c=async()=>{Object.keys(u).forEach(d=>u[d].error=""),await Promise.all([s.value.test(),a.value.test(),l.value.test()]),!u.email.error&&!u.password.error&&!u.firstName.error&&e.register(u.email.value,u.password.value,u.firstName.value)};return Vt(()=>{r.replace({query:void 0})}),(d,h)=>{const p=Dn("RouterLink");return M(),de(La,null,{content:J(()=>[B(Gn,{class:"!bg-cyan-800 !bg-opacity-50 my-5",title:"Register",description:"Please register using your e-mail, password and first name."},{default:J(()=>[y("div",Ole,[y("form",{class:"w-full lg:w-1/2 xl:w-1/3 px-8 pt-6 pb-8 mb-4",onSubmit:h[6]||(h[6]=kt(m=>c(),["prevent"]))},[B(ei,{ref_key:"firstName",ref:l,name:"firstName",label:"First Name",placeholder:"Someone",modelValue:u.firstName.value,"onUpdate:modelValue":h[0]||(h[0]=m=>u.firstName.value=m),error:u.firstName.error,"onUpdate:error":h[1]||(h[1]=m=>u.firstName.error=m),rules:[P(Dt).Required,P(Dt).MinLength],"min-length":3,"max-length":25},null,8,["modelValue","error","rules"]),B(J1,{ref_key:"email",ref:s,name:"email",label:"E-mail",modelValue:u.email.value,"onUpdate:modelValue":h[2]||(h[2]=m=>u.email.value=m),error:u.email.error,"onUpdate:error":h[3]||(h[3]=m=>u.email.error=m),rules:[P(Dt).Required]},null,8,["modelValue","error","rules"]),B(Ou,{ref_key:"password",ref:a,name:"password",label:"Password",modelValue:u.password.value,"onUpdate:modelValue":h[4]||(h[4]=m=>u.password.value=m),error:u.password.error,"onUpdate:error":h[5]||(h[5]=m=>u.password.error=m),rules:[P(Dt).Required]},null,8,["modelValue","error","rules"]),y("div",kle,[B(at,{class:"col-span-full md:col-span-1",action:"submit",loading:P(n),label:"Register"},null,8,["loading"]),B(p,{to:{name:P(gr).LOGIN,query:{initEmail:u.email.value,initPassword:u.password.value}},class:"col-span-full md:col-span-1"},{default:J(()=>[B(at,{class:"w-full",outlined:"",label:"Login"})]),_:1},8,["to"])])],32),B(Q1)])]),_:1})]),_:1})}}}),xle=Me({__name:"Register",setup(t){return(e,n)=>(M(),de(Rle))}});var gr=(t=>(t.HOME="home",t.LOGIN="login",t.REGISTER="register",t.DASHBOARD="dashboard",t.BLOG="blog",t.BLOG_DETAILS="blog-details",t.CUSTOM_VOTING="customvoting",t.CAT_CALC="cat-calc",t.NOT_FOUND="notfound",t))(gr||{});const sL={HOME:{path:"/",meta:{title:"Home"},component:Tle,beforeEnter:(t,e,n)=>{var i;const r=decodeURIComponent(((i=t.query.path)==null?void 0:i.toString())||"");if(r){const o=r.split("/")[0];Av.getRoutes().find(s=>s.path.startsWith(`/${o}`))?n({path:r}):n({name:"notfound"})}else n()}},LOGIN:{path:"/login",meta:{title:"Login"},component:Cle,beforeEnter:(t,e,n)=>{Ar().currentUser?n({name:"dashboard"}):n()}},REGISTER:{path:"/register",meta:{title:"Register"},component:xle,beforeEnter:(t,e,n)=>{Ar().currentUser?n({name:"dashboard"}):n()}},DASHBOARD:{path:"/dashboard",meta:{title:"Dashboard"},component:mle},BLOG:{path:"/blog",meta:{title:"Blog"},component:cP},BLOG_DETAILS:{path:"/blog/:postId",meta:{title:"Blog"},component:cP},CUSTOM_VOTING:{path:"/customvoting",meta:{title:"CustomVoting"},component:ole},CAT_CALC:{path:"/cat-calc",meta:{title:"CatCalc"},component:Zre},NOT_FOUND:{path:"/:pathMatch(.*)*",meta:{title:"404"},component:Ple}},Av=JF({history:AF(),routes:Object.entries(sL).map(([t,e])=>({...e,name:gr[t]})),scrollBehavior(t,e,n){return n||((t.name==="login"||t.name==="register")&&(e.name==="login"||e.name==="register")?!1:{top:0})}}),dP=cM.name;Av.beforeEach(async(t,e,n)=>{var r;if(t===e)n();else if(!t.name)n({name:"notfound"});else{const i=t.name;if(["home","login","register","dashboard","notfound"].includes(i))n();else{const s=await yr().fetchMenuItems((r=Ar().firebaseUser)==null?void 0:r.uid);(s==null?void 0:s.some(l=>l.route?i===l.route:l.url?t.path.startsWith(l.url):!1))?n():n({name:"notfound"})}}});Av.beforeResolve(t=>{document.title=dP+" | "+t.meta.title||dP;const e=JR();ZR(e,"screen_view",{screen_name:t.path})});const Z1=Av;function Zi(t){"@babel/helpers - typeof";return Zi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zi(t)}function pt(t){if(t===null||t===!0||t===!1)return NaN;var e=Number(t);return isNaN(e)?e:e<0?Math.ceil(e):Math.floor(e)}function Ze(t,e){if(e.length<t)throw new TypeError(t+" argument"+(t>1?"s":"")+" required, but only "+e.length+" present")}function ct(t){Ze(1,arguments);var e=Object.prototype.toString.call(t);return t instanceof Date||Zi(t)==="object"&&e==="[object Date]"?new Date(t.getTime()):typeof t=="number"||e==="[object Number]"?new Date(t):((typeof t=="string"||e==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}function us(t,e){Ze(2,arguments);var n=ct(t),r=pt(e);return isNaN(r)?new Date(NaN):(r&&n.setDate(n.getDate()+r),n)}function bo(t,e){Ze(2,arguments);var n=ct(t),r=pt(e);if(isNaN(r))return new Date(NaN);if(!r)return n;var i=n.getDate(),o=new Date(n.getTime());o.setMonth(n.getMonth()+r+1,0);var s=o.getDate();return i>=s?o:(n.setFullYear(o.getFullYear(),o.getMonth(),i),n)}function aL(t,e){if(Ze(2,arguments),!e||Zi(e)!=="object")return new Date(NaN);var n=e.years?pt(e.years):0,r=e.months?pt(e.months):0,i=e.weeks?pt(e.weeks):0,o=e.days?pt(e.days):0,s=e.hours?pt(e.hours):0,a=e.minutes?pt(e.minutes):0,l=e.seconds?pt(e.seconds):0,u=ct(t),c=r||n?bo(u,r+n*12):u,d=o||i?us(c,o+i*7):c,h=a+s*60,p=l+h*60,m=p*1e3,g=new Date(d.getTime()+m);return g}function Dle(t,e){Ze(2,arguments);var n=ct(t).getTime(),r=pt(e);return new Date(n+r)}var Nle={};function Jo(){return Nle}function Vl(t,e){var n,r,i,o,s,a,l,u;Ze(1,arguments);var c=Jo(),d=pt((n=(r=(i=(o=e==null?void 0:e.weekStartsOn)!==null&&o!==void 0?o:e==null||(s=e.locale)===null||s===void 0||(a=s.options)===null||a===void 0?void 0:a.weekStartsOn)!==null&&i!==void 0?i:c.weekStartsOn)!==null&&r!==void 0?r:(l=c.locale)===null||l===void 0||(u=l.options)===null||u===void 0?void 0:u.weekStartsOn)!==null&&n!==void 0?n:0);if(!(d>=0&&d<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var h=ct(t),p=h.getDay(),m=(p<d?7:0)+p-d;return h.setDate(h.getDate()-m),h.setHours(0,0,0,0),h}function ag(t){return Ze(1,arguments),Vl(t,{weekStartsOn:1})}function Mle(t){Ze(1,arguments);var e=ct(t),n=e.getFullYear(),r=new Date(0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);var i=ag(r),o=new Date(0);o.setFullYear(n,0,4),o.setHours(0,0,0,0);var s=ag(o);return e.getTime()>=i.getTime()?n+1:e.getTime()>=s.getTime()?n:n-1}function Lle(t){Ze(1,arguments);var e=Mle(t),n=new Date(0);n.setFullYear(e,0,4),n.setHours(0,0,0,0);var r=ag(n);return r}function lg(t){var e=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return e.setUTCFullYear(t.getFullYear()),t.getTime()-e.getTime()}function hP(t){Ze(1,arguments);var e=ct(t);return e.setHours(0,0,0,0),e}var Vle=864e5;function $le(t,e){Ze(2,arguments);var n=hP(t),r=hP(e),i=n.getTime()-lg(n),o=r.getTime()-lg(r);return Math.round((i-o)/Vle)}function Fle(t,e){Ze(2,arguments);var n=pt(e),r=n*3;return bo(t,r)}function eT(t,e){Ze(2,arguments);var n=pt(e);return bo(t,n*12)}var tT=6e4,nT=36e5,Ule=1e3;function lL(t){return Ze(1,arguments),t instanceof Date||Zi(t)==="object"&&Object.prototype.toString.call(t)==="[object Date]"}function oh(t){if(Ze(1,arguments),!lL(t)&&typeof t!="number")return!1;var e=ct(t);return!isNaN(Number(e))}function fP(t){Ze(1,arguments);var e=ct(t),n=Math.floor(e.getMonth()/3)+1;return n}function uL(t,e){var n;Ze(1,arguments);var r=t||{},i=ct(r.start),o=ct(r.end),s=o.getTime();if(!(i.getTime()<=s))throw new RangeError("Invalid interval");var a=[],l=i;l.setHours(0,0,0,0);var u=Number((n=e==null?void 0:e.step)!==null&&n!==void 0?n:1);if(u<1||isNaN(u))throw new RangeError("`options.step` must be a number greater than 1");for(;l.getTime()<=s;)a.push(ct(l)),l.setDate(l.getDate()+u),l.setHours(0,0,0,0);return a}function jh(t){Ze(1,arguments);var e=ct(t),n=e.getMonth(),r=n-n%3;return e.setMonth(r,1),e.setHours(0,0,0,0),e}function qle(t){Ze(1,arguments);var e=t||{},n=ct(e.start),r=ct(e.end),i=r.getTime();if(!(n.getTime()<=i))throw new RangeError("Invalid interval");var o=jh(n),s=jh(r);i=s.getTime();for(var a=[],l=o;l.getTime()<=i;)a.push(ct(l)),l=Fle(l,1);return a}function Ble(t){Ze(1,arguments);var e=ct(t),n=e.getFullYear();return e.setFullYear(n+1,0,0),e.setHours(23,59,59,999),e}function jle(t){Ze(1,arguments);var e=ct(t),n=new Date(0);return n.setFullYear(e.getFullYear(),0,1),n.setHours(0,0,0,0),n}function Hle(t,e){var n,r,i,o,s,a,l,u;Ze(1,arguments);var c=Jo(),d=pt((n=(r=(i=(o=e==null?void 0:e.weekStartsOn)!==null&&o!==void 0?o:e==null||(s=e.locale)===null||s===void 0||(a=s.options)===null||a===void 0?void 0:a.weekStartsOn)!==null&&i!==void 0?i:c.weekStartsOn)!==null&&r!==void 0?r:(l=c.locale)===null||l===void 0||(u=l.options)===null||u===void 0?void 0:u.weekStartsOn)!==null&&n!==void 0?n:0);if(!(d>=0&&d<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var h=ct(t),p=h.getDay(),m=(p<d?-7:0)+6-(p-d);return h.setDate(h.getDate()+m),h.setHours(23,59,59,999),h}function pP(t){Ze(1,arguments);var e=ct(t),n=e.getMonth(),r=n-n%3+3;return e.setMonth(r,0),e.setHours(23,59,59,999),e}function cL(t,e){Ze(2,arguments);var n=pt(e);return Dle(t,-n)}var Wle=864e5;function zle(t){Ze(1,arguments);var e=ct(t),n=e.getTime();e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0);var r=e.getTime(),i=n-r;return Math.floor(i/Wle)+1}function bc(t){Ze(1,arguments);var e=1,n=ct(t),r=n.getUTCDay(),i=(r<e?7:0)+r-e;return n.setUTCDate(n.getUTCDate()-i),n.setUTCHours(0,0,0,0),n}function dL(t){Ze(1,arguments);var e=ct(t),n=e.getUTCFullYear(),r=new Date(0);r.setUTCFullYear(n+1,0,4),r.setUTCHours(0,0,0,0);var i=bc(r),o=new Date(0);o.setUTCFullYear(n,0,4),o.setUTCHours(0,0,0,0);var s=bc(o);return e.getTime()>=i.getTime()?n+1:e.getTime()>=s.getTime()?n:n-1}function Kle(t){Ze(1,arguments);var e=dL(t),n=new Date(0);n.setUTCFullYear(e,0,4),n.setUTCHours(0,0,0,0);var r=bc(n);return r}var Gle=6048e5;function hL(t){Ze(1,arguments);var e=ct(t),n=bc(e).getTime()-Kle(e).getTime();return Math.round(n/Gle)+1}function $l(t,e){var n,r,i,o,s,a,l,u;Ze(1,arguments);var c=Jo(),d=pt((n=(r=(i=(o=e==null?void 0:e.weekStartsOn)!==null&&o!==void 0?o:e==null||(s=e.locale)===null||s===void 0||(a=s.options)===null||a===void 0?void 0:a.weekStartsOn)!==null&&i!==void 0?i:c.weekStartsOn)!==null&&r!==void 0?r:(l=c.locale)===null||l===void 0||(u=l.options)===null||u===void 0?void 0:u.weekStartsOn)!==null&&n!==void 0?n:0);if(!(d>=0&&d<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var h=ct(t),p=h.getUTCDay(),m=(p<d?7:0)+p-d;return h.setUTCDate(h.getUTCDate()-m),h.setUTCHours(0,0,0,0),h}function rT(t,e){var n,r,i,o,s,a,l,u;Ze(1,arguments);var c=ct(t),d=c.getUTCFullYear(),h=Jo(),p=pt((n=(r=(i=(o=e==null?void 0:e.firstWeekContainsDate)!==null&&o!==void 0?o:e==null||(s=e.locale)===null||s===void 0||(a=s.options)===null||a===void 0?void 0:a.firstWeekContainsDate)!==null&&i!==void 0?i:h.firstWeekContainsDate)!==null&&r!==void 0?r:(l=h.locale)===null||l===void 0||(u=l.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&n!==void 0?n:1);if(!(p>=1&&p<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var m=new Date(0);m.setUTCFullYear(d+1,0,p),m.setUTCHours(0,0,0,0);var g=$l(m,e),v=new Date(0);v.setUTCFullYear(d,0,p),v.setUTCHours(0,0,0,0);var A=$l(v,e);return c.getTime()>=g.getTime()?d+1:c.getTime()>=A.getTime()?d:d-1}function Yle(t,e){var n,r,i,o,s,a,l,u;Ze(1,arguments);var c=Jo(),d=pt((n=(r=(i=(o=e==null?void 0:e.firstWeekContainsDate)!==null&&o!==void 0?o:e==null||(s=e.locale)===null||s===void 0||(a=s.options)===null||a===void 0?void 0:a.firstWeekContainsDate)!==null&&i!==void 0?i:c.firstWeekContainsDate)!==null&&r!==void 0?r:(l=c.locale)===null||l===void 0||(u=l.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&n!==void 0?n:1),h=rT(t,e),p=new Date(0);p.setUTCFullYear(h,0,d),p.setUTCHours(0,0,0,0);var m=$l(p,e);return m}var Xle=6048e5;function fL(t,e){Ze(1,arguments);var n=ct(t),r=$l(n,e).getTime()-Yle(n,e).getTime();return Math.round(r/Xle)+1}function an(t,e){for(var n=t<0?"-":"",r=Math.abs(t).toString();r.length<e;)r="0"+r;return n+r}var Qle={y:function(e,n){var r=e.getUTCFullYear(),i=r>0?r:1-r;return an(n==="yy"?i%100:i,n.length)},M:function(e,n){var r=e.getUTCMonth();return n==="M"?String(r+1):an(r+1,2)},d:function(e,n){return an(e.getUTCDate(),n.length)},a:function(e,n){var r=e.getUTCHours()/12>=1?"pm":"am";switch(n){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h:function(e,n){return an(e.getUTCHours()%12||12,n.length)},H:function(e,n){return an(e.getUTCHours(),n.length)},m:function(e,n){return an(e.getUTCMinutes(),n.length)},s:function(e,n){return an(e.getUTCSeconds(),n.length)},S:function(e,n){var r=n.length,i=e.getUTCMilliseconds(),o=Math.floor(i*Math.pow(10,r-3));return an(o,n.length)}};const Us=Qle;var uu={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Jle={G:function(e,n,r){var i=e.getUTCFullYear()>0?1:0;switch(n){case"G":case"GG":case"GGG":return r.era(i,{width:"abbreviated"});case"GGGGG":return r.era(i,{width:"narrow"});case"GGGG":default:return r.era(i,{width:"wide"})}},y:function(e,n,r){if(n==="yo"){var i=e.getUTCFullYear(),o=i>0?i:1-i;return r.ordinalNumber(o,{unit:"year"})}return Us.y(e,n)},Y:function(e,n,r,i){var o=rT(e,i),s=o>0?o:1-o;if(n==="YY"){var a=s%100;return an(a,2)}return n==="Yo"?r.ordinalNumber(s,{unit:"year"}):an(s,n.length)},R:function(e,n){var r=dL(e);return an(r,n.length)},u:function(e,n){var r=e.getUTCFullYear();return an(r,n.length)},Q:function(e,n,r){var i=Math.ceil((e.getUTCMonth()+1)/3);switch(n){case"Q":return String(i);case"QQ":return an(i,2);case"Qo":return r.ordinalNumber(i,{unit:"quarter"});case"QQQ":return r.quarter(i,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(i,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(i,{width:"wide",context:"formatting"})}},q:function(e,n,r){var i=Math.ceil((e.getUTCMonth()+1)/3);switch(n){case"q":return String(i);case"qq":return an(i,2);case"qo":return r.ordinalNumber(i,{unit:"quarter"});case"qqq":return r.quarter(i,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(i,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(i,{width:"wide",context:"standalone"})}},M:function(e,n,r){var i=e.getUTCMonth();switch(n){case"M":case"MM":return Us.M(e,n);case"Mo":return r.ordinalNumber(i+1,{unit:"month"});case"MMM":return r.month(i,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(i,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(i,{width:"wide",context:"formatting"})}},L:function(e,n,r){var i=e.getUTCMonth();switch(n){case"L":return String(i+1);case"LL":return an(i+1,2);case"Lo":return r.ordinalNumber(i+1,{unit:"month"});case"LLL":return r.month(i,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(i,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(i,{width:"wide",context:"standalone"})}},w:function(e,n,r,i){var o=fL(e,i);return n==="wo"?r.ordinalNumber(o,{unit:"week"}):an(o,n.length)},I:function(e,n,r){var i=hL(e);return n==="Io"?r.ordinalNumber(i,{unit:"week"}):an(i,n.length)},d:function(e,n,r){return n==="do"?r.ordinalNumber(e.getUTCDate(),{unit:"date"}):Us.d(e,n)},D:function(e,n,r){var i=zle(e);return n==="Do"?r.ordinalNumber(i,{unit:"dayOfYear"}):an(i,n.length)},E:function(e,n,r){var i=e.getUTCDay();switch(n){case"E":case"EE":case"EEE":return r.day(i,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(i,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(i,{width:"short",context:"formatting"});case"EEEE":default:return r.day(i,{width:"wide",context:"formatting"})}},e:function(e,n,r,i){var o=e.getUTCDay(),s=(o-i.weekStartsOn+8)%7||7;switch(n){case"e":return String(s);case"ee":return an(s,2);case"eo":return r.ordinalNumber(s,{unit:"day"});case"eee":return r.day(o,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(o,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(o,{width:"short",context:"formatting"});case"eeee":default:return r.day(o,{width:"wide",context:"formatting"})}},c:function(e,n,r,i){var o=e.getUTCDay(),s=(o-i.weekStartsOn+8)%7||7;switch(n){case"c":return String(s);case"cc":return an(s,n.length);case"co":return r.ordinalNumber(s,{unit:"day"});case"ccc":return r.day(o,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(o,{width:"narrow",context:"standalone"});case"cccccc":return r.day(o,{width:"short",context:"standalone"});case"cccc":default:return r.day(o,{width:"wide",context:"standalone"})}},i:function(e,n,r){var i=e.getUTCDay(),o=i===0?7:i;switch(n){case"i":return String(o);case"ii":return an(o,n.length);case"io":return r.ordinalNumber(o,{unit:"day"});case"iii":return r.day(i,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(i,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(i,{width:"short",context:"formatting"});case"iiii":default:return r.day(i,{width:"wide",context:"formatting"})}},a:function(e,n,r){var i=e.getUTCHours(),o=i/12>=1?"pm":"am";switch(n){case"a":case"aa":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(o,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(o,{width:"wide",context:"formatting"})}},b:function(e,n,r){var i=e.getUTCHours(),o;switch(i===12?o=uu.noon:i===0?o=uu.midnight:o=i/12>=1?"pm":"am",n){case"b":case"bb":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(o,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(o,{width:"wide",context:"formatting"})}},B:function(e,n,r){var i=e.getUTCHours(),o;switch(i>=17?o=uu.evening:i>=12?o=uu.afternoon:i>=4?o=uu.morning:o=uu.night,n){case"B":case"BB":case"BBB":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(o,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(o,{width:"wide",context:"formatting"})}},h:function(e,n,r){if(n==="ho"){var i=e.getUTCHours()%12;return i===0&&(i=12),r.ordinalNumber(i,{unit:"hour"})}return Us.h(e,n)},H:function(e,n,r){return n==="Ho"?r.ordinalNumber(e.getUTCHours(),{unit:"hour"}):Us.H(e,n)},K:function(e,n,r){var i=e.getUTCHours()%12;return n==="Ko"?r.ordinalNumber(i,{unit:"hour"}):an(i,n.length)},k:function(e,n,r){var i=e.getUTCHours();return i===0&&(i=24),n==="ko"?r.ordinalNumber(i,{unit:"hour"}):an(i,n.length)},m:function(e,n,r){return n==="mo"?r.ordinalNumber(e.getUTCMinutes(),{unit:"minute"}):Us.m(e,n)},s:function(e,n,r){return n==="so"?r.ordinalNumber(e.getUTCSeconds(),{unit:"second"}):Us.s(e,n)},S:function(e,n){return Us.S(e,n)},X:function(e,n,r,i){var o=i._originalDate||e,s=o.getTimezoneOffset();if(s===0)return"Z";switch(n){case"X":return gP(s);case"XXXX":case"XX":return Ja(s);case"XXXXX":case"XXX":default:return Ja(s,":")}},x:function(e,n,r,i){var o=i._originalDate||e,s=o.getTimezoneOffset();switch(n){case"x":return gP(s);case"xxxx":case"xx":return Ja(s);case"xxxxx":case"xxx":default:return Ja(s,":")}},O:function(e,n,r,i){var o=i._originalDate||e,s=o.getTimezoneOffset();switch(n){case"O":case"OO":case"OOO":return"GMT"+mP(s,":");case"OOOO":default:return"GMT"+Ja(s,":")}},z:function(e,n,r,i){var o=i._originalDate||e,s=o.getTimezoneOffset();switch(n){case"z":case"zz":case"zzz":return"GMT"+mP(s,":");case"zzzz":default:return"GMT"+Ja(s,":")}},t:function(e,n,r,i){var o=i._originalDate||e,s=Math.floor(o.getTime()/1e3);return an(s,n.length)},T:function(e,n,r,i){var o=i._originalDate||e,s=o.getTime();return an(s,n.length)}};function mP(t,e){var n=t>0?"-":"+",r=Math.abs(t),i=Math.floor(r/60),o=r%60;if(o===0)return n+String(i);var s=e||"";return n+String(i)+s+an(o,2)}function gP(t,e){if(t%60===0){var n=t>0?"-":"+";return n+an(Math.abs(t)/60,2)}return Ja(t,e)}function Ja(t,e){var n=e||"",r=t>0?"-":"+",i=Math.abs(t),o=an(Math.floor(i/60),2),s=an(i%60,2);return r+o+n+s}var vP=function(e,n){switch(e){case"P":return n.date({width:"short"});case"PP":return n.date({width:"medium"});case"PPP":return n.date({width:"long"});case"PPPP":default:return n.date({width:"full"})}},pL=function(e,n){switch(e){case"p":return n.time({width:"short"});case"pp":return n.time({width:"medium"});case"ppp":return n.time({width:"long"});case"pppp":default:return n.time({width:"full"})}},Zle=function(e,n){var r=e.match(/(P+)(p+)?/)||[],i=r[1],o=r[2];if(!o)return vP(e,n);var s;switch(i){case"P":s=n.dateTime({width:"short"});break;case"PP":s=n.dateTime({width:"medium"});break;case"PPP":s=n.dateTime({width:"long"});break;case"PPPP":default:s=n.dateTime({width:"full"});break}return s.replace("{{date}}",vP(i,n)).replace("{{time}}",pL(o,n))},n_={p:pL,P:Zle},eue=["D","DD"],tue=["YY","YYYY"];function mL(t){return eue.indexOf(t)!==-1}function gL(t){return tue.indexOf(t)!==-1}function ug(t,e,n){if(t==="YYYY")throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(e,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(t==="YY")throw new RangeError("Use `yy` instead of `YY` (in `".concat(e,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(t==="D")throw new RangeError("Use `d` instead of `D` (in `".concat(e,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(t==="DD")throw new RangeError("Use `dd` instead of `DD` (in `".concat(e,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var nue={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},rue=function(e,n,r){var i,o=nue[e];return typeof o=="string"?i=o:n===1?i=o.one:i=o.other.replace("{{count}}",n.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+i:i+" ago":i};const iue=rue;function tb(t){return function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.width?String(e.width):t.defaultWidth,r=t.formats[n]||t.formats[t.defaultWidth];return r}}var oue={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},sue={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},aue={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},lue={date:tb({formats:oue,defaultWidth:"full"}),time:tb({formats:sue,defaultWidth:"full"}),dateTime:tb({formats:aue,defaultWidth:"full"})};const uue=lue;var cue={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},due=function(e,n,r,i){return cue[e]};const hue=due;function hd(t){return function(e,n){var r=n!=null&&n.context?String(n.context):"standalone",i;if(r==="formatting"&&t.formattingValues){var o=t.defaultFormattingWidth||t.defaultWidth,s=n!=null&&n.width?String(n.width):o;i=t.formattingValues[s]||t.formattingValues[o]}else{var a=t.defaultWidth,l=n!=null&&n.width?String(n.width):t.defaultWidth;i=t.values[l]||t.values[a]}var u=t.argumentCallback?t.argumentCallback(e):e;return i[u]}}var fue={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},pue={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},mue={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},gue={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},vue={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},yue={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},bue=function(e,n){var r=Number(e),i=r%100;if(i>20||i<10)switch(i%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},_ue={ordinalNumber:bue,era:hd({values:fue,defaultWidth:"wide"}),quarter:hd({values:pue,defaultWidth:"wide",argumentCallback:function(e){return e-1}}),month:hd({values:mue,defaultWidth:"wide"}),day:hd({values:gue,defaultWidth:"wide"}),dayPeriod:hd({values:vue,defaultWidth:"wide",formattingValues:yue,defaultFormattingWidth:"wide"})};const wue=_ue;function fd(t){return function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=n.width,i=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],o=e.match(i);if(!o)return null;var s=o[0],a=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],l=Array.isArray(a)?Eue(a,function(d){return d.test(s)}):Tue(a,function(d){return d.test(s)}),u;u=t.valueCallback?t.valueCallback(l):l,u=n.valueCallback?n.valueCallback(u):u;var c=e.slice(s.length);return{value:u,rest:c}}}function Tue(t,e){for(var n in t)if(t.hasOwnProperty(n)&&e(t[n]))return n}function Eue(t,e){for(var n=0;n<t.length;n++)if(e(t[n]))return n}function Sue(t){return function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=e.match(t.matchPattern);if(!r)return null;var i=r[0],o=e.match(t.parsePattern);if(!o)return null;var s=t.valueCallback?t.valueCallback(o[0]):o[0];s=n.valueCallback?n.valueCallback(s):s;var a=e.slice(i.length);return{value:s,rest:a}}}var Iue=/^(\d+)(th|st|nd|rd)?/i,Cue=/\d+/i,Aue={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Pue={any:[/^b/i,/^(a|c)/i]},Oue={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},kue={any:[/1/i,/2/i,/3/i,/4/i]},Rue={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},xue={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Due={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Nue={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Mue={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Lue={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Vue={ordinalNumber:Sue({matchPattern:Iue,parsePattern:Cue,valueCallback:function(e){return parseInt(e,10)}}),era:fd({matchPatterns:Aue,defaultMatchWidth:"wide",parsePatterns:Pue,defaultParseWidth:"any"}),quarter:fd({matchPatterns:Oue,defaultMatchWidth:"wide",parsePatterns:kue,defaultParseWidth:"any",valueCallback:function(e){return e+1}}),month:fd({matchPatterns:Rue,defaultMatchWidth:"wide",parsePatterns:xue,defaultParseWidth:"any"}),day:fd({matchPatterns:Due,defaultMatchWidth:"wide",parsePatterns:Nue,defaultParseWidth:"any"}),dayPeriod:fd({matchPatterns:Mue,defaultMatchWidth:"any",parsePatterns:Lue,defaultParseWidth:"any"})};const $ue=Vue;var Fue={code:"en-US",formatDistance:iue,formatLong:uue,formatRelative:hue,localize:wue,match:$ue,options:{weekStartsOn:0,firstWeekContainsDate:1}};const vL=Fue;var Uue=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,que=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Bue=/^'([^]*?)'?$/,jue=/''/g,Hue=/[a-zA-Z]/;function ma(t,e,n){var r,i,o,s,a,l,u,c,d,h,p,m,g,v,A,I,S,T;Ze(2,arguments);var N=String(e),R=Jo(),C=(r=(i=n==null?void 0:n.locale)!==null&&i!==void 0?i:R.locale)!==null&&r!==void 0?r:vL,E=pt((o=(s=(a=(l=n==null?void 0:n.firstWeekContainsDate)!==null&&l!==void 0?l:n==null||(u=n.locale)===null||u===void 0||(c=u.options)===null||c===void 0?void 0:c.firstWeekContainsDate)!==null&&a!==void 0?a:R.firstWeekContainsDate)!==null&&s!==void 0?s:(d=R.locale)===null||d===void 0||(h=d.options)===null||h===void 0?void 0:h.firstWeekContainsDate)!==null&&o!==void 0?o:1);if(!(E>=1&&E<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var b=pt((p=(m=(g=(v=n==null?void 0:n.weekStartsOn)!==null&&v!==void 0?v:n==null||(A=n.locale)===null||A===void 0||(I=A.options)===null||I===void 0?void 0:I.weekStartsOn)!==null&&g!==void 0?g:R.weekStartsOn)!==null&&m!==void 0?m:(S=R.locale)===null||S===void 0||(T=S.options)===null||T===void 0?void 0:T.weekStartsOn)!==null&&p!==void 0?p:0);if(!(b>=0&&b<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!C.localize)throw new RangeError("locale must contain localize property");if(!C.formatLong)throw new RangeError("locale must contain formatLong property");var w=ct(t);if(!oh(w))throw new RangeError("Invalid time value");var k=lg(w),x=cL(w,k),O={firstWeekContainsDate:E,weekStartsOn:b,locale:C,_originalDate:w},q=N.match(que).map(function(V){var F=V[0];if(F==="p"||F==="P"){var G=n_[F];return G(V,C.formatLong)}return V}).join("").match(Uue).map(function(V){if(V==="''")return"'";var F=V[0];if(F==="'")return Wue(V);var G=Jle[F];if(G)return!(n!=null&&n.useAdditionalWeekYearTokens)&&gL(V)&&ug(V,e,String(t)),!(n!=null&&n.useAdditionalDayOfYearTokens)&&mL(V)&&ug(V,e,String(t)),G(x,V,C.localize,O);if(F.match(Hue))throw new RangeError("Format string contains an unescaped latin alphabet character `"+F+"`");return V}).join("");return q}function Wue(t){var e=t.match(Bue);return e?e[1].replace(jue,"'"):t}function zue(t,e){if(t==null)throw new TypeError("assign requires that input parameter not be null or undefined");for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}function Kue(t){Ze(1,arguments);var e=ct(t),n=e.getDay();return n}function Gue(t){Ze(1,arguments);var e=ct(t),n=e.getFullYear(),r=e.getMonth(),i=new Date(0);return i.setFullYear(n,r+1,0),i.setHours(0,0,0,0),i.getDate()}function _o(t){Ze(1,arguments);var e=ct(t),n=e.getHours();return n}var Yue=6048e5;function Xue(t){Ze(1,arguments);var e=ct(t),n=ag(e).getTime()-Lle(e).getTime();return Math.round(n/Yue)+1}function jo(t){Ze(1,arguments);var e=ct(t),n=e.getMinutes();return n}function Ht(t){Ze(1,arguments);var e=ct(t),n=e.getMonth();return n}function _c(t){Ze(1,arguments);var e=ct(t),n=e.getSeconds();return n}function Que(t,e){var n,r,i,o,s,a,l,u;Ze(1,arguments);var c=ct(t),d=c.getFullYear(),h=Jo(),p=pt((n=(r=(i=(o=e==null?void 0:e.firstWeekContainsDate)!==null&&o!==void 0?o:e==null||(s=e.locale)===null||s===void 0||(a=s.options)===null||a===void 0?void 0:a.firstWeekContainsDate)!==null&&i!==void 0?i:h.firstWeekContainsDate)!==null&&r!==void 0?r:(l=h.locale)===null||l===void 0||(u=l.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&n!==void 0?n:1);if(!(p>=1&&p<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var m=new Date(0);m.setFullYear(d+1,0,p),m.setHours(0,0,0,0);var g=Vl(m,e),v=new Date(0);v.setFullYear(d,0,p),v.setHours(0,0,0,0);var A=Vl(v,e);return c.getTime()>=g.getTime()?d+1:c.getTime()>=A.getTime()?d:d-1}function Jue(t,e){var n,r,i,o,s,a,l,u;Ze(1,arguments);var c=Jo(),d=pt((n=(r=(i=(o=e==null?void 0:e.firstWeekContainsDate)!==null&&o!==void 0?o:e==null||(s=e.locale)===null||s===void 0||(a=s.options)===null||a===void 0?void 0:a.firstWeekContainsDate)!==null&&i!==void 0?i:c.firstWeekContainsDate)!==null&&r!==void 0?r:(l=c.locale)===null||l===void 0||(u=l.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&n!==void 0?n:1),h=Que(t,e),p=new Date(0);p.setFullYear(h,0,d),p.setHours(0,0,0,0);var m=Vl(p,e);return m}var Zue=6048e5;function ece(t,e){Ze(1,arguments);var n=ct(t),r=Vl(n,e).getTime()-Jue(n,e).getTime();return Math.round(r/Zue)+1}function At(t){return Ze(1,arguments),ct(t).getFullYear()}function Hh(t,e){Ze(2,arguments);var n=ct(t),r=ct(e);return n.getTime()>r.getTime()}function Wh(t,e){Ze(2,arguments);var n=ct(t),r=ct(e);return n.getTime()<r.getTime()}function ku(t,e){Ze(2,arguments);var n=ct(t),r=ct(e);return n.getTime()===r.getTime()}function yP(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function tce(t,e){if(t){if(typeof t=="string")return yP(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?yP(t,e):void 0}}function bP(t,e){var n=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=tce(t))||e&&t&&typeof t.length=="number"){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(u){throw u},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var o,s=!0,a=!1;return{s:function(){n=n.call(t)},n:function(){var u=n.next();return s=u.done,u},e:function(u){a=!0,o=u},f:function(){try{s||n.return==null||n.return()}finally{if(a)throw o}}}}function Je(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function r_(t,e){return r_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},r_(t,e)}function Kt(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&r_(t,e)}function cg(t){return cg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},cg(t)}function yL(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(yL=function(){return!!t})()}function nce(t,e){if(e&&(Zi(e)=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Je(t)}function Gt(t){var e=yL();return function(){var n,r=cg(t);if(e){var i=cg(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return nce(this,n)}}function $t(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function rce(t,e){if(Zi(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Zi(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function bL(t){var e=rce(t,"string");return Zi(e)=="symbol"?e:e+""}function _P(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,bL(r.key),r)}}function Ft(t,e,n){return e&&_P(t.prototype,e),n&&_P(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Xe(t,e,n){return(e=bL(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var ice=10,_L=function(){function t(){$t(this,t),Xe(this,"priority",void 0),Xe(this,"subPriority",0)}return Ft(t,[{key:"validate",value:function(n,r){return!0}}]),t}(),oce=function(t){Kt(n,t);var e=Gt(n);function n(r,i,o,s,a){var l;return $t(this,n),l=e.call(this),l.value=r,l.validateValue=i,l.setValue=o,l.priority=s,a&&(l.subPriority=a),l}return Ft(n,[{key:"validate",value:function(i,o){return this.validateValue(i,this.value,o)}},{key:"set",value:function(i,o,s){return this.setValue(i,o,this.value,s)}}]),n}(_L),sce=function(t){Kt(n,t);var e=Gt(n);function n(){var r;$t(this,n);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o)),Xe(Je(r),"priority",ice),Xe(Je(r),"subPriority",-1),r}return Ft(n,[{key:"set",value:function(i,o){if(o.timestampIsSet)return i;var s=new Date(0);return s.setFullYear(i.getUTCFullYear(),i.getUTCMonth(),i.getUTCDate()),s.setHours(i.getUTCHours(),i.getUTCMinutes(),i.getUTCSeconds(),i.getUTCMilliseconds()),s}}]),n}(_L),rn=function(){function t(){$t(this,t),Xe(this,"incompatibleTokens",void 0),Xe(this,"priority",void 0),Xe(this,"subPriority",void 0)}return Ft(t,[{key:"run",value:function(n,r,i,o){var s=this.parse(n,r,i,o);return s?{setter:new oce(s.value,this.validate,this.set,this.priority,this.subPriority),rest:s.rest}:null}},{key:"validate",value:function(n,r,i){return!0}}]),t}(),ace=function(t){Kt(n,t);var e=Gt(n);function n(){var r;$t(this,n);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o)),Xe(Je(r),"priority",140),Xe(Je(r),"incompatibleTokens",["R","u","t","T"]),r}return Ft(n,[{key:"parse",value:function(i,o,s){switch(o){case"G":case"GG":case"GGG":return s.era(i,{width:"abbreviated"})||s.era(i,{width:"narrow"});case"GGGGG":return s.era(i,{width:"narrow"});case"GGGG":default:return s.era(i,{width:"wide"})||s.era(i,{width:"abbreviated"})||s.era(i,{width:"narrow"})}}},{key:"set",value:function(i,o,s){return o.era=s,i.setUTCFullYear(s,0,1),i.setUTCHours(0,0,0,0),i}}]),n}(rn),Zn={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},ko={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function er(t,e){return t&&{value:e(t.value),rest:t.rest}}function Un(t,e){var n=e.match(t);return n?{value:parseInt(n[0],10),rest:e.slice(n[0].length)}:null}function Ro(t,e){var n=e.match(t);if(!n)return null;if(n[0]==="Z")return{value:0,rest:e.slice(1)};var r=n[1]==="+"?1:-1,i=n[2]?parseInt(n[2],10):0,o=n[3]?parseInt(n[3],10):0,s=n[5]?parseInt(n[5],10):0;return{value:r*(i*nT+o*tT+s*Ule),rest:e.slice(n[0].length)}}function wL(t){return Un(Zn.anyDigitsSigned,t)}function Yn(t,e){switch(t){case 1:return Un(Zn.singleDigit,e);case 2:return Un(Zn.twoDigits,e);case 3:return Un(Zn.threeDigits,e);case 4:return Un(Zn.fourDigits,e);default:return Un(new RegExp("^\\d{1,"+t+"}"),e)}}function dg(t,e){switch(t){case 1:return Un(Zn.singleDigitSigned,e);case 2:return Un(Zn.twoDigitsSigned,e);case 3:return Un(Zn.threeDigitsSigned,e);case 4:return Un(Zn.fourDigitsSigned,e);default:return Un(new RegExp("^-?\\d{1,"+t+"}"),e)}}function iT(t){switch(t){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function TL(t,e){var n=e>0,r=n?e:1-e,i;if(r<=50)i=t||100;else{var o=r+50,s=Math.floor(o/100)*100,a=t>=o%100;i=t+s-(a?100:0)}return n?i:1-i}function EL(t){return t%400===0||t%4===0&&t%100!==0}var lce=function(t){Kt(n,t);var e=Gt(n);function n(){var r;$t(this,n);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o)),Xe(Je(r),"priority",130),Xe(Je(r),"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"]),r}return Ft(n,[{key:"parse",value:function(i,o,s){var a=function(u){return{year:u,isTwoDigitYear:o==="yy"}};switch(o){case"y":return er(Yn(4,i),a);case"yo":return er(s.ordinalNumber(i,{unit:"year"}),a);default:return er(Yn(o.length,i),a)}}},{key:"validate",value:function(i,o){return o.isTwoDigitYear||o.year>0}},{key:"set",value:function(i,o,s){var a=i.getUTCFullYear();if(s.isTwoDigitYear){var l=TL(s.year,a);return i.setUTCFullYear(l,0,1),i.setUTCHours(0,0,0,0),i}var u=!("era"in o)||o.era===1?s.year:1-s.year;return i.setUTCFullYear(u,0,1),i.setUTCHours(0,0,0,0),i}}]),n}(rn),uce=function(t){Kt(n,t);var e=Gt(n);function n(){var r;$t(this,n);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o)),Xe(Je(r),"priority",130),Xe(Je(r),"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"]),r}return Ft(n,[{key:"parse",value:function(i,o,s){var a=function(u){return{year:u,isTwoDigitYear:o==="YY"}};switch(o){case"Y":return er(Yn(4,i),a);case"Yo":return er(s.ordinalNumber(i,{unit:"year"}),a);default:return er(Yn(o.length,i),a)}}},{key:"validate",value:function(i,o){return o.isTwoDigitYear||o.year>0}},{key:"set",value:function(i,o,s,a){var l=rT(i,a);if(s.isTwoDigitYear){var u=TL(s.year,l);return i.setUTCFullYear(u,0,a.firstWeekContainsDate),i.setUTCHours(0,0,0,0),$l(i,a)}var c=!("era"in o)||o.era===1?s.year:1-s.year;return i.setUTCFullYear(c,0,a.firstWeekContainsDate),i.setUTCHours(0,0,0,0),$l(i,a)}}]),n}(rn),cce=function(t){Kt(n,t);var e=Gt(n);function n(){var r;$t(this,n);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o)),Xe(Je(r),"priority",130),Xe(Je(r),"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"]),r}return Ft(n,[{key:"parse",value:function(i,o){return dg(o==="R"?4:o.length,i)}},{key:"set",value:function(i,o,s){var a=new Date(0);return a.setUTCFullYear(s,0,4),a.setUTCHours(0,0,0,0),bc(a)}}]),n}(rn),dce=function(t){Kt(n,t);var e=Gt(n);function n(){var r;$t(this,n);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o)),Xe(Je(r),"priority",130),Xe(Je(r),"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"]),r}return Ft(n,[{key:"parse",value:function(i,o){return dg(o==="u"?4:o.length,i)}},{key:"set",value:function(i,o,s){return i.setUTCFullYear(s,0,1),i.setUTCHours(0,0,0,0),i}}]),n}(rn),hce=function(t){Kt(n,t);var e=Gt(n);function n(){var r;$t(this,n);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o)),Xe(Je(r),"priority",120),Xe(Je(r),"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"]),r}return Ft(n,[{key:"parse",value:function(i,o,s){switch(o){case"Q":case"QQ":return Yn(o.length,i);case"Qo":return s.ordinalNumber(i,{unit:"quarter"});case"QQQ":return s.quarter(i,{width:"abbreviated",context:"formatting"})||s.quarter(i,{width:"narrow",context:"formatting"});case"QQQQQ":return s.quarter(i,{width:"narrow",context:"formatting"});case"QQQQ":default:return s.quarter(i,{width:"wide",context:"formatting"})||s.quarter(i,{width:"abbreviated",context:"formatting"})||s.quarter(i,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(i,o){return o>=1&&o<=4}},{key:"set",value:function(i,o,s){return i.setUTCMonth((s-1)*3,1),i.setUTCHours(0,0,0,0),i}}]),n}(rn),fce=function(t){Kt(n,t);var e=Gt(n);function n(){var r;$t(this,n);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o)),Xe(Je(r),"priority",120),Xe(Je(r),"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"]),r}return Ft(n,[{key:"parse",value:function(i,o,s){switch(o){case"q":case"qq":return Yn(o.length,i);case"qo":return s.ordinalNumber(i,{unit:"quarter"});case"qqq":return s.quarter(i,{width:"abbreviated",context:"standalone"})||s.quarter(i,{width:"narrow",context:"standalone"});case"qqqqq":return s.quarter(i,{width:"narrow",context:"standalone"});case"qqqq":default:return s.quarter(i,{width:"wide",context:"standalone"})||s.quarter(i,{width:"abbreviated",context:"standalone"})||s.quarter(i,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(i,o){return o>=1&&o<=4}},{key:"set",value:function(i,o,s){return i.setUTCMonth((s-1)*3,1),i.setUTCHours(0,0,0,0),i}}]),n}(rn),pce=function(t){Kt(n,t);var e=Gt(n);function n(){var r;$t(this,n);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o)),Xe(Je(r),"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]),Xe(Je(r),"priority",110),r}return Ft(n,[{key:"parse",value:function(i,o,s){var a=function(u){return u-1};switch(o){case"M":return er(Un(Zn.month,i),a);case"MM":return er(Yn(2,i),a);case"Mo":return er(s.ordinalNumber(i,{unit:"month"}),a);case"MMM":return s.month(i,{width:"abbreviated",context:"formatting"})||s.month(i,{width:"narrow",context:"formatting"});case"MMMMM":return s.month(i,{width:"narrow",context:"formatting"});case"MMMM":default:return s.month(i,{width:"wide",context:"formatting"})||s.month(i,{width:"abbreviated",context:"formatting"})||s.month(i,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(i,o){return o>=0&&o<=11}},{key:"set",value:function(i,o,s){return i.setUTCMonth(s,1),i.setUTCHours(0,0,0,0),i}}]),n}(rn),mce=function(t){Kt(n,t);var e=Gt(n);function n(){var r;$t(this,n);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o)),Xe(Je(r),"priority",110),Xe(Je(r),"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"]),r}return Ft(n,[{key:"parse",value:function(i,o,s){var a=function(u){return u-1};switch(o){case"L":return er(Un(Zn.month,i),a);case"LL":return er(Yn(2,i),a);case"Lo":return er(s.ordinalNumber(i,{unit:"month"}),a);case"LLL":return s.month(i,{width:"abbreviated",context:"standalone"})||s.month(i,{width:"narrow",context:"standalone"});case"LLLLL":return s.month(i,{width:"narrow",context:"standalone"});case"LLLL":default:return s.month(i,{width:"wide",context:"standalone"})||s.month(i,{width:"abbreviated",context:"standalone"})||s.month(i,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(i,o){return o>=0&&o<=11}},{key:"set",value:function(i,o,s){return i.setUTCMonth(s,1),i.setUTCHours(0,0,0,0),i}}]),n}(rn);function gce(t,e,n){Ze(2,arguments);var r=ct(t),i=pt(e),o=fL(r,n)-i;return r.setUTCDate(r.getUTCDate()-o*7),r}var vce=function(t){Kt(n,t);var e=Gt(n);function n(){var r;$t(this,n);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o)),Xe(Je(r),"priority",100),Xe(Je(r),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"]),r}return Ft(n,[{key:"parse",value:function(i,o,s){switch(o){case"w":return Un(Zn.week,i);case"wo":return s.ordinalNumber(i,{unit:"week"});default:return Yn(o.length,i)}}},{key:"validate",value:function(i,o){return o>=1&&o<=53}},{key:"set",value:function(i,o,s,a){return $l(gce(i,s,a),a)}}]),n}(rn);function yce(t,e){Ze(2,arguments);var n=ct(t),r=pt(e),i=hL(n)-r;return n.setUTCDate(n.getUTCDate()-i*7),n}var bce=function(t){Kt(n,t);var e=Gt(n);function n(){var r;$t(this,n);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o)),Xe(Je(r),"priority",100),Xe(Je(r),"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"]),r}return Ft(n,[{key:"parse",value:function(i,o,s){switch(o){case"I":return Un(Zn.week,i);case"Io":return s.ordinalNumber(i,{unit:"week"});default:return Yn(o.length,i)}}},{key:"validate",value:function(i,o){return o>=1&&o<=53}},{key:"set",value:function(i,o,s){return bc(yce(i,s))}}]),n}(rn),_ce=[31,28,31,30,31,30,31,31,30,31,30,31],wce=[31,29,31,30,31,30,31,31,30,31,30,31],Tce=function(t){Kt(n,t);var e=Gt(n);function n(){var r;$t(this,n);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o)),Xe(Je(r),"priority",90),Xe(Je(r),"subPriority",1),Xe(Je(r),"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"]),r}return Ft(n,[{key:"parse",value:function(i,o,s){switch(o){case"d":return Un(Zn.date,i);case"do":return s.ordinalNumber(i,{unit:"date"});default:return Yn(o.length,i)}}},{key:"validate",value:function(i,o){var s=i.getUTCFullYear(),a=EL(s),l=i.getUTCMonth();return a?o>=1&&o<=wce[l]:o>=1&&o<=_ce[l]}},{key:"set",value:function(i,o,s){return i.setUTCDate(s),i.setUTCHours(0,0,0,0),i}}]),n}(rn),Ece=function(t){Kt(n,t);var e=Gt(n);function n(){var r;$t(this,n);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o)),Xe(Je(r),"priority",90),Xe(Je(r),"subpriority",1),Xe(Je(r),"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"]),r}return Ft(n,[{key:"parse",value:function(i,o,s){switch(o){case"D":case"DD":return Un(Zn.dayOfYear,i);case"Do":return s.ordinalNumber(i,{unit:"date"});default:return Yn(o.length,i)}}},{key:"validate",value:function(i,o){var s=i.getUTCFullYear(),a=EL(s);return a?o>=1&&o<=366:o>=1&&o<=365}},{key:"set",value:function(i,o,s){return i.setUTCMonth(0,s),i.setUTCHours(0,0,0,0),i}}]),n}(rn);function oT(t,e,n){var r,i,o,s,a,l,u,c;Ze(2,arguments);var d=Jo(),h=pt((r=(i=(o=(s=n==null?void 0:n.weekStartsOn)!==null&&s!==void 0?s:n==null||(a=n.locale)===null||a===void 0||(l=a.options)===null||l===void 0?void 0:l.weekStartsOn)!==null&&o!==void 0?o:d.weekStartsOn)!==null&&i!==void 0?i:(u=d.locale)===null||u===void 0||(c=u.options)===null||c===void 0?void 0:c.weekStartsOn)!==null&&r!==void 0?r:0);if(!(h>=0&&h<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var p=ct(t),m=pt(e),g=p.getUTCDay(),v=m%7,A=(v+7)%7,I=(A<h?7:0)+m-g;return p.setUTCDate(p.getUTCDate()+I),p}var Sce=function(t){Kt(n,t);var e=Gt(n);function n(){var r;$t(this,n);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o)),Xe(Je(r),"priority",90),Xe(Je(r),"incompatibleTokens",["D","i","e","c","t","T"]),r}return Ft(n,[{key:"parse",value:function(i,o,s){switch(o){case"E":case"EE":case"EEE":return s.day(i,{width:"abbreviated",context:"formatting"})||s.day(i,{width:"short",context:"formatting"})||s.day(i,{width:"narrow",context:"formatting"});case"EEEEE":return s.day(i,{width:"narrow",context:"formatting"});case"EEEEEE":return s.day(i,{width:"short",context:"formatting"})||s.day(i,{width:"narrow",context:"formatting"});case"EEEE":default:return s.day(i,{width:"wide",context:"formatting"})||s.day(i,{width:"abbreviated",context:"formatting"})||s.day(i,{width:"short",context:"formatting"})||s.day(i,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(i,o){return o>=0&&o<=6}},{key:"set",value:function(i,o,s,a){return i=oT(i,s,a),i.setUTCHours(0,0,0,0),i}}]),n}(rn),Ice=function(t){Kt(n,t);var e=Gt(n);function n(){var r;$t(this,n);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o)),Xe(Je(r),"priority",90),Xe(Je(r),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"]),r}return Ft(n,[{key:"parse",value:function(i,o,s,a){var l=function(c){var d=Math.floor((c-1)/7)*7;return(c+a.weekStartsOn+6)%7+d};switch(o){case"e":case"ee":return er(Yn(o.length,i),l);case"eo":return er(s.ordinalNumber(i,{unit:"day"}),l);case"eee":return s.day(i,{width:"abbreviated",context:"formatting"})||s.day(i,{width:"short",context:"formatting"})||s.day(i,{width:"narrow",context:"formatting"});case"eeeee":return s.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return s.day(i,{width:"short",context:"formatting"})||s.day(i,{width:"narrow",context:"formatting"});case"eeee":default:return s.day(i,{width:"wide",context:"formatting"})||s.day(i,{width:"abbreviated",context:"formatting"})||s.day(i,{width:"short",context:"formatting"})||s.day(i,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(i,o){return o>=0&&o<=6}},{key:"set",value:function(i,o,s,a){return i=oT(i,s,a),i.setUTCHours(0,0,0,0),i}}]),n}(rn),Cce=function(t){Kt(n,t);var e=Gt(n);function n(){var r;$t(this,n);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o)),Xe(Je(r),"priority",90),Xe(Je(r),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"]),r}return Ft(n,[{key:"parse",value:function(i,o,s,a){var l=function(c){var d=Math.floor((c-1)/7)*7;return(c+a.weekStartsOn+6)%7+d};switch(o){case"c":case"cc":return er(Yn(o.length,i),l);case"co":return er(s.ordinalNumber(i,{unit:"day"}),l);case"ccc":return s.day(i,{width:"abbreviated",context:"standalone"})||s.day(i,{width:"short",context:"standalone"})||s.day(i,{width:"narrow",context:"standalone"});case"ccccc":return s.day(i,{width:"narrow",context:"standalone"});case"cccccc":return s.day(i,{width:"short",context:"standalone"})||s.day(i,{width:"narrow",context:"standalone"});case"cccc":default:return s.day(i,{width:"wide",context:"standalone"})||s.day(i,{width:"abbreviated",context:"standalone"})||s.day(i,{width:"short",context:"standalone"})||s.day(i,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(i,o){return o>=0&&o<=6}},{key:"set",value:function(i,o,s,a){return i=oT(i,s,a),i.setUTCHours(0,0,0,0),i}}]),n}(rn);function Ace(t,e){Ze(2,arguments);var n=pt(e);n%7===0&&(n=n-7);var r=1,i=ct(t),o=i.getUTCDay(),s=n%7,a=(s+7)%7,l=(a<r?7:0)+n-o;return i.setUTCDate(i.getUTCDate()+l),i}var Pce=function(t){Kt(n,t);var e=Gt(n);function n(){var r;$t(this,n);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o)),Xe(Je(r),"priority",90),Xe(Je(r),"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"]),r}return Ft(n,[{key:"parse",value:function(i,o,s){var a=function(u){return u===0?7:u};switch(o){case"i":case"ii":return Yn(o.length,i);case"io":return s.ordinalNumber(i,{unit:"day"});case"iii":return er(s.day(i,{width:"abbreviated",context:"formatting"})||s.day(i,{width:"short",context:"formatting"})||s.day(i,{width:"narrow",context:"formatting"}),a);case"iiiii":return er(s.day(i,{width:"narrow",context:"formatting"}),a);case"iiiiii":return er(s.day(i,{width:"short",context:"formatting"})||s.day(i,{width:"narrow",context:"formatting"}),a);case"iiii":default:return er(s.day(i,{width:"wide",context:"formatting"})||s.day(i,{width:"abbreviated",context:"formatting"})||s.day(i,{width:"short",context:"formatting"})||s.day(i,{width:"narrow",context:"formatting"}),a)}}},{key:"validate",value:function(i,o){return o>=1&&o<=7}},{key:"set",value:function(i,o,s){return i=Ace(i,s),i.setUTCHours(0,0,0,0),i}}]),n}(rn),Oce=function(t){Kt(n,t);var e=Gt(n);function n(){var r;$t(this,n);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o)),Xe(Je(r),"priority",80),Xe(Je(r),"incompatibleTokens",["b","B","H","k","t","T"]),r}return Ft(n,[{key:"parse",value:function(i,o,s){switch(o){case"a":case"aa":case"aaa":return s.dayPeriod(i,{width:"abbreviated",context:"formatting"})||s.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaaa":return s.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return s.dayPeriod(i,{width:"wide",context:"formatting"})||s.dayPeriod(i,{width:"abbreviated",context:"formatting"})||s.dayPeriod(i,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(i,o,s){return i.setUTCHours(iT(s),0,0,0),i}}]),n}(rn),kce=function(t){Kt(n,t);var e=Gt(n);function n(){var r;$t(this,n);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o)),Xe(Je(r),"priority",80),Xe(Je(r),"incompatibleTokens",["a","B","H","k","t","T"]),r}return Ft(n,[{key:"parse",value:function(i,o,s){switch(o){case"b":case"bb":case"bbb":return s.dayPeriod(i,{width:"abbreviated",context:"formatting"})||s.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbbb":return s.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return s.dayPeriod(i,{width:"wide",context:"formatting"})||s.dayPeriod(i,{width:"abbreviated",context:"formatting"})||s.dayPeriod(i,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(i,o,s){return i.setUTCHours(iT(s),0,0,0),i}}]),n}(rn),Rce=function(t){Kt(n,t);var e=Gt(n);function n(){var r;$t(this,n);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o)),Xe(Je(r),"priority",80),Xe(Je(r),"incompatibleTokens",["a","b","t","T"]),r}return Ft(n,[{key:"parse",value:function(i,o,s){switch(o){case"B":case"BB":case"BBB":return s.dayPeriod(i,{width:"abbreviated",context:"formatting"})||s.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBBB":return s.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return s.dayPeriod(i,{width:"wide",context:"formatting"})||s.dayPeriod(i,{width:"abbreviated",context:"formatting"})||s.dayPeriod(i,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(i,o,s){return i.setUTCHours(iT(s),0,0,0),i}}]),n}(rn),xce=function(t){Kt(n,t);var e=Gt(n);function n(){var r;$t(this,n);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o)),Xe(Je(r),"priority",70),Xe(Je(r),"incompatibleTokens",["H","K","k","t","T"]),r}return Ft(n,[{key:"parse",value:function(i,o,s){switch(o){case"h":return Un(Zn.hour12h,i);case"ho":return s.ordinalNumber(i,{unit:"hour"});default:return Yn(o.length,i)}}},{key:"validate",value:function(i,o){return o>=1&&o<=12}},{key:"set",value:function(i,o,s){var a=i.getUTCHours()>=12;return a&&s<12?i.setUTCHours(s+12,0,0,0):!a&&s===12?i.setUTCHours(0,0,0,0):i.setUTCHours(s,0,0,0),i}}]),n}(rn),Dce=function(t){Kt(n,t);var e=Gt(n);function n(){var r;$t(this,n);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o)),Xe(Je(r),"priority",70),Xe(Je(r),"incompatibleTokens",["a","b","h","K","k","t","T"]),r}return Ft(n,[{key:"parse",value:function(i,o,s){switch(o){case"H":return Un(Zn.hour23h,i);case"Ho":return s.ordinalNumber(i,{unit:"hour"});default:return Yn(o.length,i)}}},{key:"validate",value:function(i,o){return o>=0&&o<=23}},{key:"set",value:function(i,o,s){return i.setUTCHours(s,0,0,0),i}}]),n}(rn),Nce=function(t){Kt(n,t);var e=Gt(n);function n(){var r;$t(this,n);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o)),Xe(Je(r),"priority",70),Xe(Je(r),"incompatibleTokens",["h","H","k","t","T"]),r}return Ft(n,[{key:"parse",value:function(i,o,s){switch(o){case"K":return Un(Zn.hour11h,i);case"Ko":return s.ordinalNumber(i,{unit:"hour"});default:return Yn(o.length,i)}}},{key:"validate",value:function(i,o){return o>=0&&o<=11}},{key:"set",value:function(i,o,s){var a=i.getUTCHours()>=12;return a&&s<12?i.setUTCHours(s+12,0,0,0):i.setUTCHours(s,0,0,0),i}}]),n}(rn),Mce=function(t){Kt(n,t);var e=Gt(n);function n(){var r;$t(this,n);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o)),Xe(Je(r),"priority",70),Xe(Je(r),"incompatibleTokens",["a","b","h","H","K","t","T"]),r}return Ft(n,[{key:"parse",value:function(i,o,s){switch(o){case"k":return Un(Zn.hour24h,i);case"ko":return s.ordinalNumber(i,{unit:"hour"});default:return Yn(o.length,i)}}},{key:"validate",value:function(i,o){return o>=1&&o<=24}},{key:"set",value:function(i,o,s){var a=s<=24?s%24:s;return i.setUTCHours(a,0,0,0),i}}]),n}(rn),Lce=function(t){Kt(n,t);var e=Gt(n);function n(){var r;$t(this,n);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o)),Xe(Je(r),"priority",60),Xe(Je(r),"incompatibleTokens",["t","T"]),r}return Ft(n,[{key:"parse",value:function(i,o,s){switch(o){case"m":return Un(Zn.minute,i);case"mo":return s.ordinalNumber(i,{unit:"minute"});default:return Yn(o.length,i)}}},{key:"validate",value:function(i,o){return o>=0&&o<=59}},{key:"set",value:function(i,o,s){return i.setUTCMinutes(s,0,0),i}}]),n}(rn),Vce=function(t){Kt(n,t);var e=Gt(n);function n(){var r;$t(this,n);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o)),Xe(Je(r),"priority",50),Xe(Je(r),"incompatibleTokens",["t","T"]),r}return Ft(n,[{key:"parse",value:function(i,o,s){switch(o){case"s":return Un(Zn.second,i);case"so":return s.ordinalNumber(i,{unit:"second"});default:return Yn(o.length,i)}}},{key:"validate",value:function(i,o){return o>=0&&o<=59}},{key:"set",value:function(i,o,s){return i.setUTCSeconds(s,0),i}}]),n}(rn),$ce=function(t){Kt(n,t);var e=Gt(n);function n(){var r;$t(this,n);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o)),Xe(Je(r),"priority",30),Xe(Je(r),"incompatibleTokens",["t","T"]),r}return Ft(n,[{key:"parse",value:function(i,o){var s=function(l){return Math.floor(l*Math.pow(10,-o.length+3))};return er(Yn(o.length,i),s)}},{key:"set",value:function(i,o,s){return i.setUTCMilliseconds(s),i}}]),n}(rn),Fce=function(t){Kt(n,t);var e=Gt(n);function n(){var r;$t(this,n);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o)),Xe(Je(r),"priority",10),Xe(Je(r),"incompatibleTokens",["t","T","x"]),r}return Ft(n,[{key:"parse",value:function(i,o){switch(o){case"X":return Ro(ko.basicOptionalMinutes,i);case"XX":return Ro(ko.basic,i);case"XXXX":return Ro(ko.basicOptionalSeconds,i);case"XXXXX":return Ro(ko.extendedOptionalSeconds,i);case"XXX":default:return Ro(ko.extended,i)}}},{key:"set",value:function(i,o,s){return o.timestampIsSet?i:new Date(i.getTime()-s)}}]),n}(rn),Uce=function(t){Kt(n,t);var e=Gt(n);function n(){var r;$t(this,n);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o)),Xe(Je(r),"priority",10),Xe(Je(r),"incompatibleTokens",["t","T","X"]),r}return Ft(n,[{key:"parse",value:function(i,o){switch(o){case"x":return Ro(ko.basicOptionalMinutes,i);case"xx":return Ro(ko.basic,i);case"xxxx":return Ro(ko.basicOptionalSeconds,i);case"xxxxx":return Ro(ko.extendedOptionalSeconds,i);case"xxx":default:return Ro(ko.extended,i)}}},{key:"set",value:function(i,o,s){return o.timestampIsSet?i:new Date(i.getTime()-s)}}]),n}(rn),qce=function(t){Kt(n,t);var e=Gt(n);function n(){var r;$t(this,n);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o)),Xe(Je(r),"priority",40),Xe(Je(r),"incompatibleTokens","*"),r}return Ft(n,[{key:"parse",value:function(i){return wL(i)}},{key:"set",value:function(i,o,s){return[new Date(s*1e3),{timestampIsSet:!0}]}}]),n}(rn),Bce=function(t){Kt(n,t);var e=Gt(n);function n(){var r;$t(this,n);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o)),Xe(Je(r),"priority",20),Xe(Je(r),"incompatibleTokens","*"),r}return Ft(n,[{key:"parse",value:function(i){return wL(i)}},{key:"set",value:function(i,o,s){return[new Date(s),{timestampIsSet:!0}]}}]),n}(rn),jce={G:new ace,y:new lce,Y:new uce,R:new cce,u:new dce,Q:new hce,q:new fce,M:new pce,L:new mce,w:new vce,I:new bce,d:new Tce,D:new Ece,E:new Sce,e:new Ice,c:new Cce,i:new Pce,a:new Oce,b:new kce,B:new Rce,h:new xce,H:new Dce,K:new Nce,k:new Mce,m:new Lce,s:new Vce,S:new $ce,X:new Fce,x:new Uce,t:new qce,T:new Bce},Hce=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Wce=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,zce=/^'([^]*?)'?$/,Kce=/''/g,Gce=/\S/,Yce=/[a-zA-Z]/;function i_(t,e,n,r){var i,o,s,a,l,u,c,d,h,p,m,g,v,A,I,S,T,N;Ze(3,arguments);var R=String(t),C=String(e),E=Jo(),b=(i=(o=r==null?void 0:r.locale)!==null&&o!==void 0?o:E.locale)!==null&&i!==void 0?i:vL;if(!b.match)throw new RangeError("locale must contain match property");var w=pt((s=(a=(l=(u=r==null?void 0:r.firstWeekContainsDate)!==null&&u!==void 0?u:r==null||(c=r.locale)===null||c===void 0||(d=c.options)===null||d===void 0?void 0:d.firstWeekContainsDate)!==null&&l!==void 0?l:E.firstWeekContainsDate)!==null&&a!==void 0?a:(h=E.locale)===null||h===void 0||(p=h.options)===null||p===void 0?void 0:p.firstWeekContainsDate)!==null&&s!==void 0?s:1);if(!(w>=1&&w<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var k=pt((m=(g=(v=(A=r==null?void 0:r.weekStartsOn)!==null&&A!==void 0?A:r==null||(I=r.locale)===null||I===void 0||(S=I.options)===null||S===void 0?void 0:S.weekStartsOn)!==null&&v!==void 0?v:E.weekStartsOn)!==null&&g!==void 0?g:(T=E.locale)===null||T===void 0||(N=T.options)===null||N===void 0?void 0:N.weekStartsOn)!==null&&m!==void 0?m:0);if(!(k>=0&&k<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(C==="")return R===""?ct(n):new Date(NaN);var x={firstWeekContainsDate:w,weekStartsOn:k,locale:b},O=[new sce],q=C.match(Wce).map(function(pe){var oe=pe[0];if(oe in n_){var _e=n_[oe];return _e(pe,b.formatLong)}return pe}).join("").match(Hce),V=[],F=bP(q),G;try{var Z=function(){var oe=G.value;!(r!=null&&r.useAdditionalWeekYearTokens)&&gL(oe)&&ug(oe,C,t),!(r!=null&&r.useAdditionalDayOfYearTokens)&&mL(oe)&&ug(oe,C,t);var _e=oe[0],Ce=jce[_e];if(Ce){var fe=Ce.incompatibleTokens;if(Array.isArray(fe)){var L=V.find(function(X){return fe.includes(X.token)||X.token===_e});if(L)throw new RangeError("The format string mustn't contain `".concat(L.fullToken,"` and `").concat(oe,"` at the same time"))}else if(Ce.incompatibleTokens==="*"&&V.length>0)throw new RangeError("The format string mustn't contain `".concat(oe,"` and any other token at the same time"));V.push({token:_e,fullToken:oe});var j=Ce.run(R,oe,b.match,x);if(!j)return{v:new Date(NaN)};O.push(j.setter),R=j.rest}else{if(_e.match(Yce))throw new RangeError("Format string contains an unescaped latin alphabet character `"+_e+"`");if(oe==="''"?oe="'":_e==="'"&&(oe=Xce(oe)),R.indexOf(oe)===0)R=R.slice(oe.length);else return{v:new Date(NaN)}}};for(F.s();!(G=F.n()).done;){var H=Z();if(Zi(H)==="object")return H.v}}catch(pe){F.e(pe)}finally{F.f()}if(R.length>0&&Gce.test(R))return new Date(NaN);var $=O.map(function(pe){return pe.priority}).sort(function(pe,oe){return oe-pe}).filter(function(pe,oe,_e){return _e.indexOf(pe)===oe}).map(function(pe){return O.filter(function(oe){return oe.priority===pe}).sort(function(oe,_e){return _e.subPriority-oe.subPriority})}).map(function(pe){return pe[0]}),ue=ct(n);if(isNaN(ue.getTime()))return new Date(NaN);var se=cL(ue,lg(ue)),ve={},Se=bP($),he;try{for(Se.s();!(he=Se.n()).done;){var Y=he.value;if(!Y.validate(se,x))return new Date(NaN);var ne=Y.set(se,ve,x);Array.isArray(ne)?(se=ne[0],zue(ve,ne[1])):se=ne}}catch(pe){Se.e(pe)}finally{Se.f()}return se}function Xce(t){return t.match(zce)[1].replace(Kce,"'")}function wP(t,e){Ze(2,arguments);var n=jh(t),r=jh(e);return n.getTime()===r.getTime()}function Qce(t,e){Ze(2,arguments);var n=pt(e);return us(t,-n)}function Jce(t,e){var n;Ze(1,arguments);var r=pt((n=e==null?void 0:e.additionalDigits)!==null&&n!==void 0?n:2);if(r!==2&&r!==1&&r!==0)throw new RangeError("additionalDigits must be 0, 1 or 2");if(!(typeof t=="string"||Object.prototype.toString.call(t)==="[object String]"))return new Date(NaN);var i=nde(t),o;if(i.date){var s=rde(i.date,r);o=ide(s.restDateString,s.year)}if(!o||isNaN(o.getTime()))return new Date(NaN);var a=o.getTime(),l=0,u;if(i.time&&(l=ode(i.time),isNaN(l)))return new Date(NaN);if(i.timezone){if(u=sde(i.timezone),isNaN(u))return new Date(NaN)}else{var c=new Date(a+l),d=new Date(0);return d.setFullYear(c.getUTCFullYear(),c.getUTCMonth(),c.getUTCDate()),d.setHours(c.getUTCHours(),c.getUTCMinutes(),c.getUTCSeconds(),c.getUTCMilliseconds()),d}return new Date(a+l+u)}var Rp={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},Zce=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,ede=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,tde=/^([+-])(\d{2})(?::?(\d{2}))?$/;function nde(t){var e={},n=t.split(Rp.dateTimeDelimiter),r;if(n.length>2)return e;if(/:/.test(n[0])?r=n[0]:(e.date=n[0],r=n[1],Rp.timeZoneDelimiter.test(e.date)&&(e.date=t.split(Rp.timeZoneDelimiter)[0],r=t.substr(e.date.length,t.length))),r){var i=Rp.timezone.exec(r);i?(e.time=r.replace(i[1],""),e.timezone=i[1]):e.time=r}return e}function rde(t,e){var n=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+e)+"})|(\\d{2}|[+-]\\d{"+(2+e)+"})$)"),r=t.match(n);if(!r)return{year:NaN,restDateString:""};var i=r[1]?parseInt(r[1]):null,o=r[2]?parseInt(r[2]):null;return{year:o===null?i:o*100,restDateString:t.slice((r[1]||r[2]).length)}}function ide(t,e){if(e===null)return new Date(NaN);var n=t.match(Zce);if(!n)return new Date(NaN);var r=!!n[4],i=pd(n[1]),o=pd(n[2])-1,s=pd(n[3]),a=pd(n[4]),l=pd(n[5])-1;if(r)return dde(e,a,l)?ade(e,a,l):new Date(NaN);var u=new Date(0);return!ude(e,o,s)||!cde(e,i)?new Date(NaN):(u.setUTCFullYear(e,o,Math.max(i,s)),u)}function pd(t){return t?parseInt(t):1}function ode(t){var e=t.match(ede);if(!e)return NaN;var n=nb(e[1]),r=nb(e[2]),i=nb(e[3]);return hde(n,r,i)?n*nT+r*tT+i*1e3:NaN}function nb(t){return t&&parseFloat(t.replace(",","."))||0}function sde(t){if(t==="Z")return 0;var e=t.match(tde);if(!e)return 0;var n=e[1]==="+"?-1:1,r=parseInt(e[2]),i=e[3]&&parseInt(e[3])||0;return fde(r,i)?n*(r*nT+i*tT):NaN}function ade(t,e,n){var r=new Date(0);r.setUTCFullYear(t,0,4);var i=r.getUTCDay()||7,o=(e-1)*7+n+1-i;return r.setUTCDate(r.getUTCDate()+o),r}var lde=[31,null,31,30,31,30,31,31,30,31,30,31];function SL(t){return t%400===0||t%4===0&&t%100!==0}function ude(t,e,n){return e>=0&&e<=11&&n>=1&&n<=(lde[e]||(SL(t)?29:28))}function cde(t,e){return e>=1&&e<=(SL(t)?366:365)}function dde(t,e,n){return e>=1&&e<=53&&n>=0&&n<=6}function hde(t,e,n){return t===24?e===0&&n===0:n>=0&&n<60&&e>=0&&e<60&&t>=0&&t<25}function fde(t,e){return e>=0&&e<=59}function IL(t,e){Ze(2,arguments);var n=ct(t),r=pt(e),i=n.getFullYear(),o=n.getDate(),s=new Date(0);s.setFullYear(i,r,15),s.setHours(0,0,0,0);var a=Gue(s);return n.setMonth(r,Math.min(o,a)),n}function An(t,e){if(Ze(2,arguments),Zi(e)!=="object"||e===null)throw new RangeError("values parameter must be an object");var n=ct(t);return isNaN(n.getTime())?new Date(NaN):(e.year!=null&&n.setFullYear(e.year),e.month!=null&&(n=IL(n,e.month)),e.date!=null&&n.setDate(pt(e.date)),e.hours!=null&&n.setHours(pt(e.hours)),e.minutes!=null&&n.setMinutes(pt(e.minutes)),e.seconds!=null&&n.setSeconds(pt(e.seconds)),e.milliseconds!=null&&n.setMilliseconds(pt(e.milliseconds)),n)}function CL(t,e){Ze(2,arguments);var n=ct(t),r=pt(e);return n.setHours(r),n}function sT(t,e){Ze(2,arguments);var n=ct(t),r=pt(e);return n.setMilliseconds(r),n}function AL(t,e){Ze(2,arguments);var n=ct(t),r=pt(e);return n.setMinutes(r),n}function aT(t,e){Ze(2,arguments);var n=ct(t),r=pt(e);return n.setSeconds(r),n}function No(t,e){Ze(2,arguments);var n=ct(t),r=pt(e);return isNaN(n.getTime())?new Date(NaN):(n.setFullYear(r),n)}function wc(t,e){Ze(2,arguments);var n=pt(e);return bo(t,-n)}function pde(t,e){if(Ze(2,arguments),!e||Zi(e)!=="object")return new Date(NaN);var n=e.years?pt(e.years):0,r=e.months?pt(e.months):0,i=e.weeks?pt(e.weeks):0,o=e.days?pt(e.days):0,s=e.hours?pt(e.hours):0,a=e.minutes?pt(e.minutes):0,l=e.seconds?pt(e.seconds):0,u=wc(t,r+n*12),c=Qce(u,o+i*7),d=a+s*60,h=l+d*60,p=h*1e3,m=new Date(c.getTime()-p);return m}function PL(t,e){Ze(2,arguments);var n=pt(e);return eT(t,-n)}function $c(){return M(),W("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[y("path",{d:"M29.333 8c0-2.208-1.792-4-4-4h-18.667c-2.208 0-4 1.792-4 4v18.667c0 2.208 1.792 4 4 4h18.667c2.208 0 4-1.792 4-4v-18.667zM26.667 8v18.667c0 0.736-0.597 1.333-1.333 1.333 0 0-18.667 0-18.667 0-0.736 0-1.333-0.597-1.333-1.333 0 0 0-18.667 0-18.667 0-0.736 0.597-1.333 1.333-1.333 0 0 18.667 0 18.667 0 0.736 0 1.333 0.597 1.333 1.333z"}),y("path",{d:"M20 2.667v5.333c0 0.736 0.597 1.333 1.333 1.333s1.333-0.597 1.333-1.333v-5.333c0-0.736-0.597-1.333-1.333-1.333s-1.333 0.597-1.333 1.333z"}),y("path",{d:"M9.333 2.667v5.333c0 0.736 0.597 1.333 1.333 1.333s1.333-0.597 1.333-1.333v-5.333c0-0.736-0.597-1.333-1.333-1.333s-1.333 0.597-1.333 1.333z"}),y("path",{d:"M4 14.667h24c0.736 0 1.333-0.597 1.333-1.333s-0.597-1.333-1.333-1.333h-24c-0.736 0-1.333 0.597-1.333 1.333s0.597 1.333 1.333 1.333z"})])}$c.compatConfig={MODE:3};function OL(){return M(),W("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[y("path",{d:"M23.057 7.057l-16 16c-0.52 0.52-0.52 1.365 0 1.885s1.365 0.52 1.885 0l16-16c0.52-0.52 0.52-1.365 0-1.885s-1.365-0.52-1.885 0z"}),y("path",{d:"M7.057 8.943l16 16c0.52 0.52 1.365 0.52 1.885 0s0.52-1.365 0-1.885l-16-16c-0.52-0.52-1.365-0.52-1.885 0s-0.52 1.365 0 1.885z"})])}OL.compatConfig={MODE:3};function lT(){return M(),W("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[y("path",{d:"M20.943 23.057l-7.057-7.057c0 0 7.057-7.057 7.057-7.057 0.52-0.52 0.52-1.365 0-1.885s-1.365-0.52-1.885 0l-8 8c-0.521 0.521-0.521 1.365 0 1.885l8 8c0.52 0.52 1.365 0.52 1.885 0s0.52-1.365 0-1.885z"})])}lT.compatConfig={MODE:3};function uT(){return M(),W("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[y("path",{d:"M12.943 24.943l8-8c0.521-0.521 0.521-1.365 0-1.885l-8-8c-0.52-0.52-1.365-0.52-1.885 0s-0.52 1.365 0 1.885l7.057 7.057c0 0-7.057 7.057-7.057 7.057-0.52 0.52-0.52 1.365 0 1.885s1.365 0.52 1.885 0z"})])}uT.compatConfig={MODE:3};function cT(){return M(),W("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[y("path",{d:"M16 1.333c-8.095 0-14.667 6.572-14.667 14.667s6.572 14.667 14.667 14.667c8.095 0 14.667-6.572 14.667-14.667s-6.572-14.667-14.667-14.667zM16 4c6.623 0 12 5.377 12 12s-5.377 12-12 12c-6.623 0-12-5.377-12-12s5.377-12 12-12z"}),y("path",{d:"M14.667 8v8c0 0.505 0.285 0.967 0.737 1.193l5.333 2.667c0.658 0.329 1.46 0.062 1.789-0.596s0.062-1.46-0.596-1.789l-4.596-2.298c0 0 0-7.176 0-7.176 0-0.736-0.597-1.333-1.333-1.333s-1.333 0.597-1.333 1.333z"})])}cT.compatConfig={MODE:3};function dT(){return M(),W("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[y("path",{d:"M24.943 19.057l-8-8c-0.521-0.521-1.365-0.521-1.885 0l-8 8c-0.52 0.52-0.52 1.365 0 1.885s1.365 0.52 1.885 0l7.057-7.057c0 0 7.057 7.057 7.057 7.057 0.52 0.52 1.365 0.52 1.885 0s0.52-1.365 0-1.885z"})])}dT.compatConfig={MODE:3};function hT(){return M(),W("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[y("path",{d:"M7.057 12.943l8 8c0.521 0.521 1.365 0.521 1.885 0l8-8c0.52-0.52 0.52-1.365 0-1.885s-1.365-0.52-1.885 0l-7.057 7.057c0 0-7.057-7.057-7.057-7.057-0.52-0.52-1.365-0.52-1.885 0s-0.52 1.365 0 1.885z"})])}hT.compatConfig={MODE:3};function fT(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var kL={exports:{}};(function(t){function e(n){return n&&n.__esModule?n:{default:n}}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports})(kL);var mde=kL.exports,o_={exports:{}};(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=n;function n(r){if(r===null||r===!0||r===!1)return NaN;var i=Number(r);return isNaN(i)?i:i<0?Math.ceil(i):Math.floor(i)}t.exports=e.default})(o_,o_.exports);var gde=o_.exports;const vde=fT(gde);var s_={exports:{}};(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=n;function n(r){var i=new Date(Date.UTC(r.getFullYear(),r.getMonth(),r.getDate(),r.getHours(),r.getMinutes(),r.getSeconds(),r.getMilliseconds()));return i.setUTCFullYear(r.getFullYear()),r.getTime()-i.getTime()}t.exports=e.default})(s_,s_.exports);var yde=s_.exports;const TP=fT(yde);function bde(t,e){var n=Ede(e);return n.formatToParts?wde(n,t):Tde(n,t)}var _de={year:0,month:1,day:2,hour:3,minute:4,second:5};function wde(t,e){try{for(var n=t.formatToParts(e),r=[],i=0;i<n.length;i++){var o=_de[n[i].type];o>=0&&(r[o]=parseInt(n[i].value,10))}return r}catch(s){if(s instanceof RangeError)return[NaN];throw s}}function Tde(t,e){var n=t.format(e).replace(/\u200E/g,""),r=/(\d+)\/(\d+)\/(\d+),? (\d+):(\d+):(\d+)/.exec(n);return[r[3],r[1],r[2],r[4],r[5],r[6]]}var rb={};function Ede(t){if(!rb[t]){var e=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:"America/New_York",year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}).format(new Date("2014-06-25T04:00:00.123Z")),n=e==="06/25/2014, 00:00:00"||e==="‎06‎/‎25‎/‎2014‎ ‎00‎:‎00‎:‎00";rb[t]=n?new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:t,year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}):new Intl.DateTimeFormat("en-US",{hourCycle:"h23",timeZone:t,year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"})}return rb[t]}function pT(t,e,n,r,i,o,s){var a=new Date(0);return a.setUTCFullYear(t,e,n),a.setUTCHours(r,i,o,s),a}var EP=36e5,Sde=6e4,ib={timezone:/([Z+-].*)$/,timezoneZ:/^(Z)$/,timezoneHH:/^([+-]\d{2})$/,timezoneHHMM:/^([+-]\d{2}):?(\d{2})$/};function mT(t,e,n){var r,i;if(t===""||(r=ib.timezoneZ.exec(t),r))return 0;var o;if(r=ib.timezoneHH.exec(t),r)return o=parseInt(r[1],10),SP(o)?-(o*EP):NaN;if(r=ib.timezoneHHMM.exec(t),r){o=parseInt(r[1],10);var s=parseInt(r[2],10);return SP(o,s)?(i=Math.abs(o)*EP+s*Sde,o>0?-i:i):NaN}if(Ade(t)){e=new Date(e||Date.now());var a=n?e:Ide(e),l=a_(a,t),u=n?l:Cde(e,l,t);return-u}return NaN}function Ide(t){return pT(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds())}function a_(t,e){var n=bde(t,e),r=pT(n[0],n[1]-1,n[2],n[3]%24,n[4],n[5],0).getTime(),i=t.getTime(),o=i%1e3;return i-=o>=0?o:1e3+o,r-i}function Cde(t,e,n){var r=t.getTime(),i=r-e,o=a_(new Date(i),n);if(e===o)return e;i-=o-e;var s=a_(new Date(i),n);return o===s?o:Math.max(o,s)}function SP(t,e){return-23<=t&&t<=23&&(e==null||0<=e&&e<=59)}var IP={};function Ade(t){if(IP[t])return!0;try{return new Intl.DateTimeFormat(void 0,{timeZone:t}),IP[t]=!0,!0}catch{return!1}}var RL=/(Z|[+-]\d{2}(?::?\d{2})?| UTC| [a-zA-Z]+\/[a-zA-Z_]+(?:\/[a-zA-Z_]+)?)$/,ob=36e5,CP=6e4,Pde=2,fi={dateTimePattern:/^([0-9W+-]+)(T| )(.*)/,datePattern:/^([0-9W+-]+)(.*)/,plainTime:/:/,YY:/^(\d{2})$/,YYY:[/^([+-]\d{2})$/,/^([+-]\d{3})$/,/^([+-]\d{4})$/],YYYY:/^(\d{4})/,YYYYY:[/^([+-]\d{4})/,/^([+-]\d{5})/,/^([+-]\d{6})/],MM:/^-(\d{2})$/,DDD:/^-?(\d{3})$/,MMDD:/^-?(\d{2})-?(\d{2})$/,Www:/^-?W(\d{2})$/,WwwD:/^-?W(\d{2})-?(\d{1})$/,HH:/^(\d{2}([.,]\d*)?)$/,HHMM:/^(\d{2}):?(\d{2}([.,]\d*)?)$/,HHMMSS:/^(\d{2}):?(\d{2}):?(\d{2}([.,]\d*)?)$/,timeZone:RL};function l_(t,e){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");if(t===null)return new Date(NaN);var n=e||{},r=n.additionalDigits==null?Pde:vde(n.additionalDigits);if(r!==2&&r!==1&&r!==0)throw new RangeError("additionalDigits must be 0, 1 or 2");if(t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]")return new Date(t.getTime());if(typeof t=="number"||Object.prototype.toString.call(t)==="[object Number]")return new Date(t);if(!(typeof t=="string"||Object.prototype.toString.call(t)==="[object String]"))return new Date(NaN);var i=Ode(t),o=kde(i.date,r),s=o.year,a=o.restDateString,l=Rde(a,s);if(isNaN(l))return new Date(NaN);if(l){var u=l.getTime(),c=0,d;if(i.time&&(c=xde(i.time),isNaN(c)))return new Date(NaN);if(i.timeZone||n.timeZone){if(d=mT(i.timeZone||n.timeZone,new Date(u+c)),isNaN(d))return new Date(NaN)}else d=TP(new Date(u+c)),d=TP(new Date(u+c+d));return new Date(u+c+d)}else return new Date(NaN)}function Ode(t){var e={},n=fi.dateTimePattern.exec(t),r;if(n?(e.date=n[1],r=n[3]):(n=fi.datePattern.exec(t),n?(e.date=n[1],r=n[2]):(e.date=null,r=t)),r){var i=fi.timeZone.exec(r);i?(e.time=r.replace(i[1],""),e.timeZone=i[1].trim()):e.time=r}return e}function kde(t,e){var n=fi.YYY[e],r=fi.YYYYY[e],i;if(i=fi.YYYY.exec(t)||r.exec(t),i){var o=i[1];return{year:parseInt(o,10),restDateString:t.slice(o.length)}}if(i=fi.YY.exec(t)||n.exec(t),i){var s=i[1];return{year:parseInt(s,10)*100,restDateString:t.slice(s.length)}}return{year:null}}function Rde(t,e){if(e===null)return null;var n,r,i,o;if(t.length===0)return r=new Date(0),r.setUTCFullYear(e),r;if(n=fi.MM.exec(t),n)return r=new Date(0),i=parseInt(n[1],10)-1,PP(e,i)?(r.setUTCFullYear(e,i),r):new Date(NaN);if(n=fi.DDD.exec(t),n){r=new Date(0);var s=parseInt(n[1],10);return Mde(e,s)?(r.setUTCFullYear(e,0,s),r):new Date(NaN)}if(n=fi.MMDD.exec(t),n){r=new Date(0),i=parseInt(n[1],10)-1;var a=parseInt(n[2],10);return PP(e,i,a)?(r.setUTCFullYear(e,i,a),r):new Date(NaN)}if(n=fi.Www.exec(t),n)return o=parseInt(n[1],10)-1,OP(e,o)?AP(e,o):new Date(NaN);if(n=fi.WwwD.exec(t),n){o=parseInt(n[1],10)-1;var l=parseInt(n[2],10)-1;return OP(e,o,l)?AP(e,o,l):new Date(NaN)}return null}function xde(t){var e,n,r;if(e=fi.HH.exec(t),e)return n=parseFloat(e[1].replace(",",".")),sb(n)?n%24*ob:NaN;if(e=fi.HHMM.exec(t),e)return n=parseInt(e[1],10),r=parseFloat(e[2].replace(",",".")),sb(n,r)?n%24*ob+r*CP:NaN;if(e=fi.HHMMSS.exec(t),e){n=parseInt(e[1],10),r=parseInt(e[2],10);var i=parseFloat(e[3].replace(",","."));return sb(n,r,i)?n%24*ob+r*CP+i*1e3:NaN}return null}function AP(t,e,n){e=e||0,n=n||0;var r=new Date(0);r.setUTCFullYear(t,0,4);var i=r.getUTCDay()||7,o=e*7+n+1-i;return r.setUTCDate(r.getUTCDate()+o),r}var Dde=[31,28,31,30,31,30,31,31,30,31,30,31],Nde=[31,29,31,30,31,30,31,31,30,31,30,31];function xL(t){return t%400===0||t%4===0&&t%100!==0}function PP(t,e,n){if(e<0||e>11)return!1;if(n!=null){if(n<1)return!1;var r=xL(t);if(r&&n>Nde[e]||!r&&n>Dde[e])return!1}return!0}function Mde(t,e){if(e<1)return!1;var n=xL(t);return!(n&&e>366||!n&&e>365)}function OP(t,e,n){return!(e<0||e>52||n!=null&&(n<0||n>6))}function sb(t,e,n){return!(t!=null&&(t<0||t>=25)||e!=null&&(e<0||e>=60)||n!=null&&(n<0||n>=60))}var u_={exports:{}},c_={exports:{}};(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=n;function n(r,i){if(r==null)throw new TypeError("assign requires that input parameter not be null or undefined");for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o]);return r}t.exports=e.default})(c_,c_.exports);var Lde=c_.exports;(function(t,e){var n=mde.default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=i;var r=n(Lde);function i(o){return(0,r.default)({},o)}t.exports=e.default})(u_,u_.exports);var Vde=u_.exports;const $de=fT(Vde);function Fde(t,e,n){var r=l_(t,n),i=mT(e,r,!0),o=new Date(r.getTime()-i),s=new Date(0);return s.setFullYear(o.getUTCFullYear(),o.getUTCMonth(),o.getUTCDate()),s.setHours(o.getUTCHours(),o.getUTCMinutes(),o.getUTCSeconds(),o.getUTCMilliseconds()),s}function Ude(t,e,n){if(typeof t=="string"&&!t.match(RL)){var r=$de(n);return r.timeZone=e,l_(t,r)}var i=l_(t,n),o=pT(i.getFullYear(),i.getMonth(),i.getDate(),i.getHours(),i.getMinutes(),i.getSeconds(),i.getMilliseconds()).getTime(),s=mT(e,new Date(o));return new Date(o+s)}function kP(t){return e=>new Intl.DateTimeFormat(t,{weekday:"short",timeZone:"UTC"}).format(new Date(`2017-01-0${e}T00:00:00+00:00`)).slice(0,2)}function qde(t){return e=>ma(new Date(`2017-01-0${e}T00:00:00+00:00`),"EEEEEE",{locale:t})}const Bde=(t,e,n)=>{const r=[1,2,3,4,5,6,7];let i;if(t!==null)try{i=r.map(qde(t))}catch{i=r.map(kP(e))}else i=r.map(kP(e));const o=i.slice(0,n),s=i.slice(n+1,i.length);return[i[n]].concat(...s).concat(...o)},gT=(t,e)=>{const n=[];for(let r=+t[0];r<=+t[1];r++)n.push({value:+r,text:`${r}`});return e?n.reverse():n},DL=(t,e,n)=>{const r=[1,2,3,4,5,6,7,8,9,10,11,12].map(o=>{const s=o<10?`0${o}`:o;return new Date(`2017-${s}-01T00:00:00+00:00`)});if(t!==null)try{const o=n==="long"?"MMMM":"MMM";return r.map((s,a)=>{const l=ma(s,o,{locale:t});return{text:l.charAt(0).toUpperCase()+l.substring(1),value:a}})}catch{}const i=new Intl.DateTimeFormat(e,{month:n,timeZone:"UTC"});return r.map((o,s)=>{const a=i.format(o);return{text:a.charAt(0).toUpperCase()+a.substring(1),value:s}})},jde=t=>[12,1,2,3,4,5,6,7,8,9,10,11,12,1,2,3,4,5,6,7,8,9,10,11][t],pr=t=>{const e=P(t);return e!=null&&e.$el?e==null?void 0:e.$el:e},Hde=t=>Object.assign({type:"dot"},t),NL=t=>Array.isArray(t)?!!t[0]&&!!t[1]:!1,hg={prop:t=>`"${t}" prop must be enabled!`,dateArr:t=>`You need to use array as "model-value" binding in order to support "${t}"`},_r=t=>t,RP=t=>t===0?t:!t||isNaN(+t)?null:+t,xP=t=>t===null,Wde=t=>{if(t)return[...t.querySelectorAll("input, button, select, textarea, a[href]")][0]},zde=t=>{const e=[],n=r=>r.filter(i=>i);for(let r=0;r<t.length;r+=3){const i=[t[r],t[r+1],t[r+2]];e.push(n(i))}return e},zh=(t,e,n)=>{const r=n!=null,i=e!=null;if(!r&&!i)return!1;const o=+n,s=+e;return r&&i?+t>o||+t<s:r?+t>o:i?+t<s:!1},Tc=(t,e)=>zde(t).map(n=>n.map(r=>{const{active:i,disabled:o,isBetween:s,highlighted:a}=e(r);return{...r,active:i,disabled:o,className:{dp__overlay_cell_active:i,dp__overlay_cell:!i,dp__overlay_cell_disabled:o,dp__overlay_cell_pad:!0,dp__overlay_cell_active_disabled:o&&i,dp__cell_in_between:s,"dp--highlighted":a}}})),ga=(t,e,n=!1)=>{t&&e.allowStopPropagation&&(n&&t.stopImmediatePropagation(),t.stopPropagation())},Kde=()=>["a[href]","area[href]","input:not([disabled]):not([type='hidden'])","select:not([disabled])","textarea:not([disabled])","button:not([disabled])","[tabindex]:not([tabindex='-1'])","[data-datepicker-instance]"].join(", ");function Gde(t,e){let n=[...document.querySelectorAll(Kde())];n=n.filter(i=>!t.contains(i)||i.hasAttribute("data-datepicker-instance"));const r=n.indexOf(t);if(r>=0&&(e?r-1>=0:r+1<=n.length))return n[r+(e?-1:1)]}const Yde=(t,e)=>{let n;return function(...r){clearTimeout(n),n=setTimeout(()=>{t(...r)},e)}},DP=(t,e,n,r,i)=>{const o=i_(t,e.slice(0,t.length),new Date);return oh(o)&&lL(o)?r||i?o:An(o,{hours:+n.hours,minutes:+(n==null?void 0:n.minutes),seconds:+(n==null?void 0:n.seconds),milliseconds:0}):null},Xde=(t,e,n,r,i)=>{const o=Array.isArray(n)?n[0]:n;if(typeof e=="string")return DP(t,e,o,r,i);if(Array.isArray(e)){let s=null;for(const a of e)if(s=DP(t,a,o,r,i),s)break;return s}return typeof e=="function"?e(t):null},Re=t=>t?new Date(t):new Date,Qde=(t,e,n)=>{if(e){const i=(t.getMonth()+1).toString().padStart(2,"0"),o=t.getDate().toString().padStart(2,"0"),s=t.getHours().toString().padStart(2,"0"),a=t.getMinutes().toString().padStart(2,"0"),l=n?t.getSeconds().toString().padStart(2,"0"):"00";return`${t.getFullYear()}-${i}-${o}T${s}:${a}:${l}.000Z`}const r=Date.UTC(t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate(),t.getUTCHours(),t.getUTCMinutes(),t.getUTCSeconds());return new Date(r).toISOString()},ii=t=>{let e=Re(JSON.parse(JSON.stringify(t)));return e=CL(e,0),e=AL(e,0),e=aT(e,0),e=sT(e,0),e},va=(t,e,n,r)=>{let i=t?Re(t):Re();return(e||e===0)&&(i=CL(i,+e)),(n||n===0)&&(i=AL(i,+n)),(r||r===0)&&(i=aT(i,+r)),sT(i,0)},Lr=(t,e)=>!t||!e?!1:Wh(ii(t),ii(e)),tn=(t,e)=>!t||!e?!1:ku(ii(t),ii(e)),ti=(t,e)=>!t||!e?!1:Hh(ii(t),ii(e)),Pv=(t,e,n)=>t!=null&&t[0]&&t!=null&&t[1]?ti(n,t[0])&&Lr(n,t[1]):t!=null&&t[0]&&e?ti(n,t[0])&&Lr(n,e)||Lr(n,t[0])&&ti(n,e):!1,fo=t=>{const e=An(new Date(t),{date:1});return ii(e)},ab=(t,e,n)=>e&&(n||n===0)?Object.fromEntries(["hours","minutes","seconds"].map(r=>r===e?[r,n]:[r,isNaN(+t[r])?void 0:+t[r]])):{hours:isNaN(+t.hours)?void 0:+t.hours,minutes:isNaN(+t.minutes)?void 0:+t.minutes,seconds:isNaN(+t.seconds)?void 0:+t.seconds},gl=t=>({hours:_o(t),minutes:jo(t),seconds:_c(t)}),ML=(t,e)=>{if(e){const n=At(Re(e));if(n>t)return 12;if(n===t)return Ht(Re(e))}},LL=(t,e)=>{if(e){const n=At(Re(e));return n<t?-1:n===t?Ht(Re(e)):void 0}},Ec=t=>{if(t)return At(Re(t))},wo=(t,e)=>e?Fde(t,e):t,VL=(t,e)=>e?Ude(t,e):t,Jde=t=>t instanceof Date?t:Jce(t),$L=(t,e)=>{const n=ti(t,e)?e:t,r=ti(e,t)?e:t;return uL({start:n,end:r})},Zde=t=>{const e=bo(t,1);return{month:Ht(e),year:At(e)}},nm=(t,e,n)=>{const r=Vl(wo(t,e),{weekStartsOn:+n}),i=Hle(wo(t,e),{weekStartsOn:+n});return[r,i]},FL=(t,e)=>{const n={hours:_o(Re()),minutes:jo(Re()),seconds:e?_c(Re()):0};return Object.assign(n,t)},sa=(t,e,n)=>[An(Re(t),{date:1}),An(Re(),{month:e,year:n,date:1})],ps=(t,e,n)=>{let r=t?Re(t):Re();return(e||e===0)&&(r=IL(r,e)),n&&(r=No(r,n)),r},UL=(t,e,n,r,i)=>{if(!r||i&&!e||!i&&!n)return!1;const o=i?bo(t,1):wc(t,1),s=[Ht(o),At(o)];return i?!the(...s,e):!ehe(...s,n)},ehe=(t,e,n)=>Lr(...sa(n,t,e))||tn(...sa(n,t,e)),the=(t,e,n)=>ti(...sa(n,t,e))||tn(...sa(n,t,e)),qL=(t,e,n,r,i,o,s)=>{if(typeof e=="function"&&!s)return e(t);const a=n?{locale:n}:void 0;return Array.isArray(t)?`${ma(t[0],o,a)}${i&&!t[1]?"":r}${t[1]?ma(t[1],o,a):""}`:ma(t,o,a)},cu=t=>{if(t)return null;throw new Error(hg.prop("partial-range"))},xp=(t,e)=>{if(e)return t();throw new Error(hg.prop("range"))},d_=t=>Array.isArray(t)?oh(t[0])&&(t[1]?oh(t[1]):!0):t?oh(t):!1,nhe=(t,e)=>An(e??Re(),{hours:+t.hours||0,minutes:+t.minutes||0,seconds:+t.seconds||0}),lb=(t,e,n,r)=>{if(!t)return!0;if(r){const i=n==="max"?Wh(t,e):Hh(t,e),o={seconds:0,milliseconds:0};return i||ku(An(t,o),An(e,o))}return n==="max"?t.getTime()<=e.getTime():t.getTime()>=e.getTime()},ub=(t,e,n)=>t?nhe(t,e):Re(n??e),NP=(t,e,n,r,i)=>{if(Array.isArray(r)){const s=ub(t,r[0],e),a=ub(t,r[1],e);return lb(r[0],s,n,!!e)&&lb(r[1],a,n,!!e)&&i}const o=ub(t,r,e);return lb(r,o,n,!!e)&&i},cb=t=>An(Re(),gl(t)),rhe=(t,e)=>Array.isArray(t)?t.map(n=>Re(n)).filter(n=>At(Re(n))===e).map(n=>Ht(n)):[],BL=(t,e,n)=>typeof t=="function"?t({month:e,year:n}):!!t.months.find(r=>r.month===e&&r.year===n),vT=(t,e)=>typeof t=="function"?t(e):t.years.includes(e),md=Pr({menuFocused:!1,shiftKeyInMenu:!1}),jL=()=>{const t=n=>{md.menuFocused=n},e=n=>{md.shiftKeyInMenu!==n&&(md.shiftKeyInMenu=n)};return{control:te(()=>({shiftKeyInMenu:md.shiftKeyInMenu,menuFocused:md.menuFocused})),setMenuFocused:t,setShiftKey:e}},En=Pr({monthYear:[],calendar:[],time:[],actionRow:[],selectionGrid:[],timePicker:{0:[],1:[]},monthPicker:[]}),db=ie(null),Dp=ie(!1),hb=ie(!1),fb=ie(!1),pb=ie(!1),ui=ie(0),kr=ie(0),Va=()=>{const t=te(()=>Dp.value?[...En.selectionGrid,En.actionRow].filter(d=>d.length):hb.value?[...En.timePicker[0],...En.timePicker[1],pb.value?[]:[db.value],En.actionRow].filter(d=>d.length):fb.value?[...En.monthPicker,En.actionRow]:[En.monthYear,...En.calendar,En.time,En.actionRow].filter(d=>d.length)),e=d=>{ui.value=d?ui.value+1:ui.value-1;let h=null;t.value[kr.value]&&(h=t.value[kr.value][ui.value]),h||(ui.value=d?ui.value-1:ui.value+1)},n=d=>{kr.value===0&&!d||kr.value===t.value.length&&d||(kr.value=d?kr.value+1:kr.value-1,t.value[kr.value]?t.value[kr.value]&&!t.value[kr.value][ui.value]&&ui.value!==0&&(ui.value=t.value[kr.value].length-1):kr.value=d?kr.value-1:kr.value+1)},r=d=>{let h=null;t.value[kr.value]&&(h=t.value[kr.value][ui.value]),h?h.focus({preventScroll:!Dp.value}):ui.value=d?ui.value-1:ui.value+1},i=()=>{e(!0),r(!0)},o=()=>{e(!1),r(!1)},s=()=>{n(!1),r(!0)},a=()=>{n(!0),r(!0)},l=(d,h)=>{En[h]=d},u=(d,h)=>{En[h]=d},c=()=>{ui.value=0,kr.value=0};return{buildMatrix:l,buildMultiLevelMatrix:u,setTimePickerBackRef:d=>{db.value=d},setSelectionGrid:d=>{Dp.value=d,c(),d||(En.selectionGrid=[])},setTimePicker:(d,h=!1)=>{hb.value=d,pb.value=h,c(),d||(En.timePicker[0]=[],En.timePicker[1]=[])},setTimePickerElements:(d,h=0)=>{En.timePicker[h]=d},arrowRight:i,arrowLeft:o,arrowUp:s,arrowDown:a,clearArrowNav:()=>{En.monthYear=[],En.calendar=[],En.time=[],En.actionRow=[],En.selectionGrid=[],En.timePicker[0]=[],En.timePicker[1]=[],Dp.value=!1,hb.value=!1,pb.value=!1,fb.value=!1,c(),db.value=null},setMonthPicker:d=>{fb.value=d,c()},refSets:En}},MP=t=>({menuAppearTop:"dp-menu-appear-top",menuAppearBottom:"dp-menu-appear-bottom",open:"dp-slide-down",close:"dp-slide-up",next:"calendar-next",previous:"calendar-prev",vNext:"dp-slide-up",vPrevious:"dp-slide-down",...t??{}}),ihe=t=>({toggleOverlay:"Toggle overlay",menu:"Datepicker menu",input:"Datepicker input",calendarWrap:"Calendar wrapper",calendarDays:"Calendar days",openTimePicker:"Open time picker",closeTimePicker:"Close time Picker",incrementValue:e=>`Increment ${e}`,decrementValue:e=>`Decrement ${e}`,openTpOverlay:e=>`Open ${e} overlay`,amPmButton:"Switch AM/PM mode",openYearsOverlay:"Open years overlay",openMonthsOverlay:"Open months overlay",nextMonth:"Next month",prevMonth:"Previous month",nextYear:"Next year",prevYear:"Previous year",day:()=>"",...t??{}}),LP=t=>t?typeof t=="boolean"?t?2:0:+t>=2?+t:2:0,ohe=t=>{const e=typeof t=="object"&&t,n={static:!0,solo:!1};if(!t)return{...n,count:LP(!1)};const r=e?t:{},i=e?r.count??!0:t,o=LP(i);return Object.assign(n,r,{count:o})},she=(t,e,n)=>t||(typeof n=="string"?n:e),ahe=t=>typeof t=="boolean"?t?MP({}):!1:MP(t),lhe=t=>{const e={enterSubmit:!0,tabSubmit:!0,openMenu:!0,selectOnFocus:!1,rangeSeparator:" - "};return typeof t=="object"?{...e,...t??{},enabled:!0}:{...e,enabled:t}},uhe=t=>({months:[],years:[],times:{hours:[],minutes:[],seconds:[]},...t??{}}),che=t=>({showSelect:!0,showCancel:!0,showNow:!1,showPreview:!0,...t??{}}),dhe=t=>{const e={input:!1};return typeof t=="object"?{...e,...t??{},enabled:!0}:{enabled:t,...e}},hhe=t=>({allowStopPropagation:!0,closeOnScroll:!1,modeHeight:255,allowPreventDefault:!1,closeOnClearValue:!0,closeOnAutoApply:!0,noSwipe:!1,keepActionRow:!1,onClickOutside:void 0,tabOutClosesMenu:!0,...t??{}}),fhe=(t,e,n)=>{const r={dates:Array.isArray(t)?t.map(i=>Re(i)):[],years:[],months:[],quarters:[],weeks:[],weekdays:e,options:{highlightDisabled:n}};return typeof t=="function"?t:{...r,...t??{}}},phe=t=>typeof t=="object"?{type:t.type,hideOnOffsetDates:t.hideOnOffsetDates??!1}:{type:t,hideOnOffsetDates:!1},nr=t=>{const e=()=>{const A=t.enableSeconds?":ss":"";return t.is24?`HH:mm${A}`:`hh:mm${A} aa`},n=()=>t.format?t.format:t.monthPicker?"MM/yyyy":t.timePicker?e():t.weekPicker?"MM/dd/yyyy":t.yearPicker?"yyyy":t.quarterPicker?"QQQ/yyyy":t.enableTimePicker?`MM/dd/yyyy, ${e()}`:"MM/dd/yyyy",r=A=>FL(A,t.enableSeconds),i=()=>t.range?t.startTime&&Array.isArray(t.startTime)?[r(t.startTime[0]),r(t.startTime[1])]:null:t.startTime&&!Array.isArray(t.startTime)?r(t.startTime):null,o=te(()=>ohe(t.multiCalendars)),s=te(()=>i()),a=te(()=>ihe(t.ariaLabels)),l=te(()=>uhe(t.filters)),u=te(()=>ahe(t.transitions)),c=te(()=>che(t.actionRow)),d=te(()=>she(t.previewFormat,t.format,n())),h=te(()=>lhe(t.textInput)),p=te(()=>dhe(t.inline)),m=te(()=>hhe(t.config)),g=te(()=>fhe(t.highlight,t.highlightWeekDays,t.highlightDisabledDays)),v=te(()=>phe(t.weekNumbers));return{defaultedTransitions:u,defaultedMultiCalendars:o,defaultedStartTime:s,defaultedAriaLabels:a,defaultedFilters:l,defaultedActionRow:c,defaultedPreviewFormat:d,defaultedTextInput:h,defaultedInline:p,defaultedConfig:m,defaultedHighlight:g,defaultedWeekNumbers:v,getDefaultPattern:n,getDefaultStartTime:i}},mhe=(t,e,n)=>{const r=ie(),{defaultedTextInput:i,getDefaultPattern:o}=nr(e),s=ie(""),a=Xu(e,"format");pn(r,()=>{t("internal-model-change",r.value)}),pn(a,()=>{q()});const l=$=>VL($,e.timezone),u=$=>wo($,e.timezone),c=($,ue,se=!1)=>qL($,e.format,e.formatLocale,i.value.rangeSeparator,e.modelAuto,ue??o(),se),d=$=>$?e.modelType?F($):{hours:_o($),minutes:jo($),seconds:e.enableSeconds?_c($):0}:null,h=$=>e.modelType?F($):{month:Ht($),year:At($)},p=$=>Array.isArray($)?e.multiDates?$.map(ue=>m(ue,No(Re(),ue))):xp(()=>[No(Re(),$[0]),$[1]?No(Re(),$[1]):cu(e.partialRange)],e.range):No(Re(),+$),m=($,ue)=>(typeof $=="string"||typeof $=="number")&&e.modelType?V($):ue,g=$=>Array.isArray($)?[m($[0],va(null,+$[0].hours,+$[0].minutes,$[0].seconds)),m($[1],va(null,+$[1].hours,+$[1].minutes,$[1].seconds))]:m($,va(null,$.hours,$.minutes,$.seconds)),v=$=>Array.isArray($)?e.multiDates?$.map(ue=>m(ue,ps(null,+ue.month,+ue.year))):xp(()=>[m($[0],ps(null,+$[0].month,+$[0].year)),m($[1],$[1]?ps(null,+$[1].month,+$[1].year):cu(e.partialRange))],e.range):m($,ps(null,+$.month,+$.year)),A=$=>{if(Array.isArray($))return $.map(ue=>V(ue));throw new Error(hg.dateArr("multi-dates"))},I=$=>{if(Array.isArray($))return[Re($[0]),Re($[1])];throw new Error(hg.dateArr("week-picker"))},S=$=>e.modelAuto?Array.isArray($)?[V($[0]),V($[1])]:e.autoApply?[V($)]:[V($),null]:Array.isArray($)?xp(()=>[V($[0]),$[1]?V($[1]):cu(e.partialRange)],e.range):V($),T=()=>{Array.isArray(r.value)&&e.range&&r.value.length===1&&r.value.push(cu(e.partialRange))},N=()=>{const $=r.value;return[F($[0]),$[1]?F($[1]):cu(e.partialRange)]},R=()=>r.value[1]?N():F(_r(r.value[0])),C=()=>(r.value||[]).map($=>F($)),E=()=>(T(),e.modelAuto?R():e.multiDates?C():Array.isArray(r.value)?xp(()=>N(),e.range):F(_r(r.value))),b=$=>!$||Array.isArray($)&&!$.length?null:e.timePicker?g(_r($)):e.monthPicker?v(_r($)):e.yearPicker?p(_r($)):e.multiDates?A(_r($)):e.weekPicker?I(_r($)):S(_r($)),w=$=>{const ue=b($);d_(_r(ue))?(r.value=_r(ue),q()):(r.value=null,s.value="")},k=()=>{const $=ue=>ma(ue,i.value.format);return`${$(r.value[0])} ${i.value.rangeSeparator} ${r.value[1]?$(r.value[1]):""}`},x=()=>n.value&&r.value?Array.isArray(r.value)?k():ma(r.value,i.value.format):c(r.value),O=()=>r.value?e.multiDates?r.value.map($=>c($)).join("; "):i.value.enabled&&typeof i.value.format=="string"?x():c(r.value):"",q=()=>{!e.format||typeof e.format=="string"||i.value.enabled&&typeof i.value.format=="string"?s.value=O():s.value=e.format(r.value)},V=$=>{if(e.utc){const ue=new Date($);return e.utc==="preserve"?new Date(ue.getTime()+ue.getTimezoneOffset()*6e4):ue}return e.modelType?e.modelType==="date"||e.modelType==="timestamp"?u(new Date($)):e.modelType==="format"&&(typeof e.format=="string"||!e.format)?i_($,o(),new Date):u(i_($,e.modelType,new Date)):u(new Date($))},F=$=>$?e.utc?Qde($,e.utc==="preserve",e.enableSeconds):e.modelType?e.modelType==="timestamp"?+l($):e.modelType==="format"&&(typeof e.format=="string"||!e.format)?c(l($)):c(l($),e.modelType,!0):l($):"",G=($,ue=!1)=>{if(t("update:model-value",$),e.emitTimezone&&ue){const se=Array.isArray($)?$.map(ve=>wo(_r(ve)),e.emitTimezone):wo(_r($),e.emitTimezone);t("update:model-timezone-value",se)}},Z=$=>Array.isArray(r.value)?e.multiDates?r.value.map(ue=>$(ue)):[$(r.value[0]),r.value[1]?$(r.value[1]):cu(e.partialRange)]:$(_r(r.value)),H=$=>G(_r(Z($)));return{inputValue:s,internalModelValue:r,checkBeforeEmit:()=>r.value?e.range?e.partialRange?r.value.length>=1:r.value.length===2:!!r.value:!1,parseExternalModelValue:w,formatInputValue:q,emitModelValue:()=>(q(),e.monthPicker?H(h):e.timePicker?H(d):e.yearPicker?H(At):e.weekPicker?G(r.value.map($=>F($)),!0):G(E(),!0))}},ghe=(t,e)=>{const{defaultedFilters:n}=nr(t),{validateMonthYearInRange:r}=Kl(t),i=(u,c)=>{let d=u;return n.value.months.includes(Ht(d))?(d=c?bo(u,1):wc(u,1),i(d,c)):d},o=(u,c)=>{let d=u;return n.value.years.includes(At(d))?(d=c?eT(u,1):PL(u,1),o(d,c)):d},s=(u,c=!1)=>{const d=An(new Date,{month:t.month,year:t.year});let h=u?bo(d,1):wc(d,1);t.disableYearSelect&&(h=No(h,t.year));let p=Ht(h),m=At(h);n.value.months.includes(p)&&(h=i(h,u),p=Ht(h),m=At(h)),n.value.years.includes(m)&&(h=o(h,u),m=At(h)),r(p,m,u,t.preventMinMaxNavigation)&&a(p,m,c)},a=(u,c,d)=>{e("update-month-year",{month:u,year:c,fromNav:d})},l=te(()=>u=>UL(An(new Date,{month:t.month,year:t.year}),t.maxDate,t.minDate,t.preventMinMaxNavigation,u));return{handleMonthYearChange:s,isDisabled:l,updateMonthYear:a}};var bu=(t=>(t.center="center",t.left="left",t.right="right",t))(bu||{}),so=(t=>(t.month="month",t.year="year",t))(so||{}),Za=(t=>(t.top="top",t.bottom="bottom",t))(Za||{}),vl=(t=>(t.header="header",t.calendar="calendar",t.timePicker="timePicker",t))(vl||{}),Po=(t=>(t.month="month",t.year="year",t.calendar="calendar",t.time="time",t.minutes="minutes",t.hours="hours",t.seconds="seconds",t))(Po||{});const vhe=({menuRef:t,menuRefInner:e,inputRef:n,pickerWrapperRef:r,inline:i,emit:o,props:s,slots:a})=>{const l=ie({}),u=ie(!1),c=ie({top:"0",left:"0"}),d=ie(!1),h=Xu(s,"teleportCenter");pn(h,()=>{c.value=JSON.parse(JSON.stringify({})),T()});const p=V=>{if(s.teleport){const F=V.getBoundingClientRect();return{left:F.left+window.scrollX,top:F.top+window.scrollY}}return{top:0,left:0}},m=(V,F)=>{c.value.left=`${V+F-l.value.width}px`},g=V=>{c.value.left=`${V}px`},v=(V,F)=>{s.position===bu.left&&g(V),s.position===bu.right&&m(V,F),s.position===bu.center&&(c.value.left=`${V+F/2-l.value.width/2}px`)},A=V=>{const{width:F,height:G}=V.getBoundingClientRect(),{top:Z,left:H}=s.altPosition?s.altPosition(V):p(V);return{top:+Z,left:+H,width:F,height:G}},I=()=>{c.value.left="50%",c.value.top="50%",c.value.transform="translate(-50%, -50%)",c.value.position="fixed",delete c.value.opacity},S=()=>{const V=pr(n),{top:F,left:G,transform:Z}=s.altPosition(V);c.value={top:`${F}px`,left:`${G}px`,transform:Z??""}},T=(V=!0)=>{var F;if(!i.value.enabled){if(h.value)return I();if(s.altPosition!==null)return S();if(V){const G=s.teleport?(F=e.value)==null?void 0:F.$el:t.value;G&&(l.value=G.getBoundingClientRect()),o("recalculate-position")}return k()}},N=({inputEl:V,left:F,width:G})=>{window.screen.width>768&&!u.value&&v(F,G),E(V)},R=V=>{const{top:F,left:G,height:Z,width:H}=A(V);c.value.top=`${Z+F+ +s.offset}px`,d.value=!1,u.value||(c.value.left=`${G+H/2-l.value.width/2}px`),N({inputEl:V,left:G,width:H})},C=V=>{const{top:F,left:G,width:Z}=A(V);c.value.top=`${F-+s.offset-l.value.height}px`,d.value=!0,N({inputEl:V,left:G,width:Z})},E=V=>{if(s.autoPosition){const{left:F,width:G}=A(V),{left:Z,right:H}=l.value;if(!u.value){if(Math.abs(Z)!==Math.abs(H)){if(Z<=0)return u.value=!0,g(F);if(H>=document.documentElement.clientWidth)return u.value=!0,m(F,G)}return v(F,G)}}},b=()=>{const V=pr(n);if(V){const{height:F}=l.value,{top:G,height:Z}=V.getBoundingClientRect(),H=window.innerHeight-G-Z,$=G;return F<=H?Za.bottom:F>H&&F<=$?Za.top:H>=$?Za.bottom:Za.top}return Za.bottom},w=V=>b()===Za.bottom?R(V):C(V),k=()=>{const V=pr(n);if(V)return s.autoPosition?w(V):R(V)},x=function(V){if(V){const F=V.scrollHeight>V.clientHeight,G=window.getComputedStyle(V).overflowY.indexOf("hidden")!==-1;return F&&!G}return!0},O=function(V){return!V||V===document.body||V.nodeType===Node.DOCUMENT_FRAGMENT_NODE?window:x(V)?V:O(V.parentNode)},q=V=>{if(V)switch(s.position){case bu.left:return{left:0,transform:"translateX(0)"};case bu.right:return{left:`${V.width}px`,transform:"translateX(-100%)"};default:return{left:`${V.width/2}px`,transform:"translateX(-50%)"}}return{}};return{openOnTop:d,menuStyle:c,xCorrect:u,setMenuPosition:T,getScrollableParent:O,shadowRender:(V,F)=>{var G,Z,H;const $=document.createElement("div"),ue=(G=pr(n))==null?void 0:G.getBoundingClientRect();$.setAttribute("id","dp--temp-container");const se=(Z=r.value)!=null&&Z.clientWidth?r.value:document.body;se.append($);const ve=q(ue),Se=wl(V,{...F,shadow:!0,style:{opacity:0,position:"absolute",...ve}},Object.fromEntries(Object.keys(a).filter(he=>["right-sidebar","left-sidebar"].includes(he)).map(he=>[he,a[he]])));Tl(Se,$),l.value=(H=Se.el)==null?void 0:H.getBoundingClientRect(),Tl(null,$),se.removeChild($)}}},qs=[{name:"clock-icon",use:["time","calendar","shared"]},{name:"arrow-left",use:["month-year","calendar","shared","year-mode"]},{name:"arrow-right",use:["month-year","calendar","shared","year-mode"]},{name:"arrow-up",use:["time","calendar","month-year","shared"]},{name:"arrow-down",use:["time","calendar","month-year","shared"]},{name:"calendar-icon",use:["month-year","time","calendar","shared","year-mode"]},{name:"day",use:["calendar","shared"]},{name:"month-overlay-value",use:["calendar","month-year","shared"]},{name:"year-overlay-value",use:["calendar","month-year","shared","year-mode"]},{name:"year-overlay",use:["month-year","shared"]},{name:"month-overlay",use:["month-year","shared"]},{name:"month-overlay-header",use:["month-year","shared"]},{name:"year-overlay-header",use:["month-year","shared"]},{name:"hours-overlay-value",use:["calendar","time","shared"]},{name:"minutes-overlay-value",use:["calendar","time","shared"]},{name:"seconds-overlay-value",use:["calendar","time","shared"]},{name:"hours",use:["calendar","time","shared"]},{name:"minutes",use:["calendar","time","shared"]},{name:"month",use:["calendar","month-year","shared"]},{name:"year",use:["calendar","month-year","shared","year-mode"]},{name:"action-buttons",use:["action"]},{name:"action-preview",use:["action"]},{name:"calendar-header",use:["calendar","shared"]},{name:"marker-tooltip",use:["calendar","shared"]},{name:"action-extra",use:["menu"]},{name:"time-picker-overlay",use:["calendar","time","shared"]},{name:"am-pm-button",use:["calendar","time","shared"]},{name:"left-sidebar",use:["menu"]},{name:"right-sidebar",use:["menu"]},{name:"month-year",use:["month-year","shared"]},{name:"time-picker",use:["menu","shared"]},{name:"action-row",use:["action"]},{name:"marker",use:["calendar","shared"]},{name:"quarter",use:["shared"]}],yhe=[{name:"trigger"},{name:"input-icon"},{name:"clear-icon"},{name:"dp-input"}],bhe={all:()=>qs,monthYear:()=>qs.filter(t=>t.use.includes("month-year")),input:()=>yhe,timePicker:()=>qs.filter(t=>t.use.includes("time")),action:()=>qs.filter(t=>t.use.includes("action")),calendar:()=>qs.filter(t=>t.use.includes("calendar")),menu:()=>qs.filter(t=>t.use.includes("menu")),shared:()=>qs.filter(t=>t.use.includes("shared")),yearMode:()=>qs.filter(t=>t.use.includes("year-mode"))},Vi=(t,e,n)=>{const r=[];return bhe[e]().forEach(i=>{t[i.name]&&r.push(i.name)}),n!=null&&n.length&&n.forEach(i=>{i.slot&&r.push(i.slot)}),r},kf=t=>{const e=te(()=>r=>t.value?r?t.value.open:t.value.close:""),n=te(()=>r=>t.value?r?t.value.menuAppearTop:t.value.menuAppearBottom:"");return{transitionName:e,showTransition:!!t.value,menuTransition:n}},Rf=(t,e)=>{const n=Re(wo(new Date,t.timezone)),r=ie([{month:Ht(n),year:At(n)}]),i=Pr({hours:t.range?[_o(n),_o(n)]:_o(n),minutes:t.range?[jo(n),jo(n)]:jo(n),seconds:t.range?[0,0]:0}),o=te({get:()=>t.internalModelValue,set:l=>{!t.readonly&&!t.disabled&&e("update:internal-model-value",l)}}),s=te(()=>l=>r.value[l]?r.value[l].month:0),a=te(()=>l=>r.value[l]?r.value[l].year:0);return{calendars:r,time:i,modelValue:o,month:s,year:a}},_he=(t,e)=>{const{defaultedMultiCalendars:n,defaultedHighlight:r}=nr(e),{isDisabled:i,matchDate:o}=Kl(e),s=ie(null),a=ie(Re(wo(new Date,e.timezone))),l=H=>{!H.current&&e.hideOffsetDates||(s.value=H.value)},u=()=>{s.value=null},c=H=>Array.isArray(t.value)&&e.range&&t.value[0]&&s.value?H?ti(s.value,t.value[0]):Lr(s.value,t.value[0]):!0,d=(H,$)=>{const ue=()=>t.value?$?t.value[0]||null:t.value[1]:null,se=t.value&&Array.isArray(t.value)?ue():null;return tn(Re(H.value),se)},h=H=>{const $=Array.isArray(t.value)?t.value[0]:null;return H?!Lr(s.value??null,$):!0},p=(H,$=!0)=>(e.range||e.weekPicker)&&Array.isArray(t.value)&&t.value.length===2?e.hideOffsetDates&&!H.current?!1:tn(Re(H.value),t.value[$?0:1]):e.range?d(H,$)&&h($)||tn(H.value,Array.isArray(t.value)?t.value[0]:null)&&c($):!1,m=(H,$,ue)=>Array.isArray(t.value)&&t.value[0]&&t.value.length===1?H?!1:ue?ti(t.value[0],$.value):Lr(t.value[0],$.value):!1,g=H=>!t.value||e.hideOffsetDates&&!H.current?!1:e.range?e.modelAuto&&Array.isArray(t.value)?tn(H.value,t.value[0]?t.value[0]:a.value):!1:e.multiDates&&Array.isArray(t.value)?t.value.some($=>tn($,H.value)):tn(H.value,t.value?t.value:a.value),v=H=>{if(e.autoRange||e.weekPicker){if(s.value){if(e.hideOffsetDates&&!H.current)return!1;const $=us(s.value,+e.autoRange),ue=nm(Re(s.value),e.timezone,e.weekStart);return e.weekPicker?tn(ue[1],Re(H.value)):tn($,Re(H.value))}return!1}return!1},A=H=>{if(e.autoRange||e.weekPicker){if(s.value){const $=us(s.value,+e.autoRange);if(e.hideOffsetDates&&!H.current)return!1;const ue=nm(Re(s.value),e.timezone,e.weekStart);return e.weekPicker?ti(H.value,ue[0])&&Lr(H.value,ue[1]):ti(H.value,s.value)&&Lr(H.value,$)}return!1}return!1},I=H=>{if(e.autoRange||e.weekPicker){if(s.value){if(e.hideOffsetDates&&!H.current)return!1;const $=nm(Re(s.value),e.timezone,e.weekStart);return e.weekPicker?tn($[0],H.value):tn(s.value,H.value)}return!1}return!1},S=H=>Pv(t.value,s.value,H.value),T=()=>e.modelAuto&&Array.isArray(e.internalModelValue)?!!e.internalModelValue[0]:!1,N=()=>e.modelAuto?NL(e.internalModelValue):!0,R=H=>{if(Array.isArray(t.value)&&t.value.length||e.weekPicker)return!1;const $=e.range?!p(H)&&!p(H,!1):!0;return!i(H.value)&&!g(H)&&!(!H.current&&e.hideOffsetDates)&&$},C=H=>e.range?e.modelAuto?T()&&g(H):!1:g(H),E=H=>{var $;return r.value?typeof r.value=="function"?r.value(H.value):o(H.value,($=e.arrMapValues)!=null&&$.highlightedDates?e.arrMapValues.highlightedDates:r.value.dates):!1},b=H=>{const $=i(H.value);return $&&(typeof r.value=="function"?!r.value(H.value,$):!r.value.options.highlightDisabled)},w=H=>{var $;return typeof r.value=="function"?r.value(H.value):($=r.value.weekdays)==null?void 0:$.includes(H.value.getDay())},k=H=>(e.range||e.weekPicker)&&(!(n.value.count>0)||H.current)&&N()&&!(!H.current&&e.hideOffsetDates)&&!g(H)?S(H):!1,x=H=>{const{isRangeStart:$,isRangeEnd:ue}=V(H),se=e.range?$||ue:!1;return{dp__cell_offset:!H.current,dp__pointer:!e.disabled&&!(!H.current&&e.hideOffsetDates)&&!i(H.value),dp__cell_disabled:i(H.value),dp__cell_highlight:!b(H)&&(E(H)||w(H))&&!C(H)&&!se&&!I(H)&&!(k(H)&&e.weekPicker)&&!ue,dp__cell_highlight_active:!b(H)&&(E(H)||w(H))&&C(H),dp__today:!e.noToday&&tn(H.value,a.value)&&H.current}},O=H=>({dp__active_date:C(H),dp__date_hover:R(H)}),q=H=>({...F(H),...G(H),dp__range_between_week:k(H)&&e.weekPicker}),V=H=>{const $=n.value.count>0?H.current&&p(H)&&N():p(H)&&N(),ue=n.value.count>0?H.current&&p(H,!1)&&N():p(H,!1)&&N();return{isRangeStart:$,isRangeEnd:ue}},F=H=>{const{isRangeStart:$,isRangeEnd:ue}=V(H);return{dp__range_start:$,dp__range_end:ue,dp__range_between:k(H)&&!e.weekPicker,dp__date_hover_start:m(R(H),H,!0),dp__date_hover_end:m(R(H),H,!1)}},G=H=>({...F(H),dp__cell_auto_range:A(H),dp__cell_auto_range_start:I(H),dp__cell_auto_range_end:v(H)}),Z=H=>e.range?e.autoRange?G(H):e.modelAuto?{...O(H),...F(H)}:F(H):e.weekPicker?q(H):O(H);return{setHoverDate:l,clearHoverDate:u,getDayClassData:H=>e.hideOffsetDates&&!H.current?{}:{...x(H),...Z(H),[e.dayClass?e.dayClass(H.value):""]:!0,[e.calendarCellClassName]:!!e.calendarCellClassName}}},Kl=t=>{const{defaultedFilters:e,defaultedHighlight:n}=nr(t),r=()=>{if(t.timezone)return t.timezone;if(t.utc)return"UTC"},i=w=>{const k=ii(o(Re(w))).toISOString(),[x]=k.split("T");return x},o=w=>t.utc==="preserve"?VL(w,r()):wo(w,r()),s=w=>{var k;const x=t.maxDate?ti(w,o(Re(t.maxDate))):!1,O=t.minDate?Lr(w,o(Re(t.minDate))):!1,q=c(o(w),(k=t.arrMapValues)!=null&&k.disabledDates?t.arrMapValues.disabledDates:t.disabledDates),V=e.value.months.map($=>+$).includes(Ht(w)),F=t.disabledWeekDays.length?t.disabledWeekDays.some($=>+$===Kue(w)):!1,G=h(w),Z=At(w),H=Z<+t.yearRange[0]||Z>+t.yearRange[1];return!(x||O||q||V||H||F||G)},a=(w,k)=>Lr(...sa(t.minDate,w,k))||tn(...sa(t.minDate,w,k)),l=(w,k)=>ti(...sa(t.maxDate,w,k))||tn(...sa(t.maxDate,w,k)),u=(w,k,x)=>{let O=!1;return t.maxDate&&x&&l(w,k)&&(O=!0),t.minDate&&!x&&a(w,k)&&(O=!0),O},c=(w,k)=>w?k instanceof Map?!!k.get(i(w)):Array.isArray(k)?k.some(x=>tn(o(Re(x)),w)):k?k(Re(JSON.parse(JSON.stringify(w)))):!1:!0,d=(w,k,x,O)=>{let q=!1;return O?t.minDate&&t.maxDate?q=u(w,k,x):(t.minDate&&a(w,k)||t.maxDate&&l(w,k))&&(q=!0):q=!0,q},h=w=>{var k,x,O,q,V;return Array.isArray(t.allowedDates)&&!((k=t.allowedDates)!=null&&k.length)?!0:(x=t.arrMapValues)!=null&&x.allowedDates?!c(w,(O=t.arrMapValues)==null?void 0:O.allowedDates):(q=t.allowedDates)!=null&&q.length?!((V=t.allowedDates)!=null&&V.some(F=>tn(ii(F),o(ii(w))))):!1},p=w=>!s(w),m=w=>t.noDisabledRange?!uL({start:w[0],end:w[1]}).some(k=>p(k)):!0,g=(w,k,x=0)=>{if(Array.isArray(k)&&k[x]){const O=$le(w,k[x]),q=$L(k[x],w),V=q.length===1?0:q.filter(G=>p(G)).length,F=Math.abs(O)-V;if(t.minRange&&t.maxRange)return F>=+t.minRange&&F<=+t.maxRange;if(t.minRange)return F>=+t.minRange;if(t.maxRange)return F<=+t.maxRange}return!0},v=w=>new Map(w.map(k=>[i(k),!0])),A=w=>Array.isArray(w)&&w.length>0,I=()=>{const w={disabledDates:null,allowedDates:null,highlightedDates:null};return A(t.allowedDates)&&(w.allowedDates=v(t.allowedDates)),typeof n.value!="function"&&A(n.value.dates)&&(w.highlightedDates=v(n.value.dates)),A(t.disabledDates)&&(w.disabledDates=v(t.disabledDates)),w},S=()=>!t.enableTimePicker||t.monthPicker||t.yearPicker||t.ignoreTimeValidation,T=w=>Array.isArray(w)?[w[0]?cb(w[0]):null,w[1]?cb(w[1]):null]:cb(w),N=(w,k,x)=>w.find(O=>+O.hours===_o(k)&&O.minutes==="*"?!0:+O.minutes===jo(k)&&+O.hours===_o(k))&&x,R=(w,k,x)=>{const[O,q]=w,[V,F]=k;return!N(O,V,x)&&!N(q,F,x)&&x},C=(w,k)=>{const x=Array.isArray(k)?k:[k];return Array.isArray(t.disabledTimes)?Array.isArray(t.disabledTimes[0])?R(t.disabledTimes,x,w):!x.some(O=>N(t.disabledTimes,O,w)):w},E=(w,k)=>{const x=Array.isArray(k)?[gl(k[0]),k[1]?gl(k[1]):void 0]:gl(k),O=!t.disabledTimes(x);return w&&O},b=(w,k)=>t.disabledTimes?Array.isArray(t.disabledTimes)?C(k,w):E(k,w):k;return{isDisabled:p,validateDate:s,validateMonthYearInRange:d,isDateRangeAllowed:m,checkMinMaxRange:g,matchDate:c,mapDatesArrToMap:I,isValidTime:w=>{let k=!0;if(!w||S())return!0;const x=!t.minDate&&!t.maxDate?T(w):w;return(t.maxTime||t.maxDate)&&(k=NP(t.maxTime,t.maxDate,"max",_r(x),k)),(t.minTime||t.minDate)&&(k=NP(t.minTime,t.minDate,"min",_r(x),k)),b(w,k)}}},Ov=()=>{const t=te(()=>(r,i)=>r==null?void 0:r.includes(i)),e=te(()=>(r,i)=>r.count?r.solo?!0:i===0:!0),n=te(()=>(r,i)=>r.count?r.solo?!0:i===r.count-1:!0);return{hideNavigationButtons:t,showLeftIcon:e,showRightIcon:n}},whe=(t,e,n)=>{const r=ie(0),i=Pr({[vl.timePicker]:!t.enableTimePicker||t.timePicker||t.monthPicker,[vl.calendar]:!1,[vl.header]:!1}),o=te(()=>t.monthPicker),s=d=>{var h;if((h=t.flow)!=null&&h.length){if(!d&&o.value)return c();i[d]=!0,Object.keys(i).filter(p=>!i[p]).length||c()}},a=()=>{var d;(d=t.flow)!=null&&d.length&&r.value!==-1&&(r.value+=1,e("flow-step",r.value),c())},l=()=>{r.value=-1},u=(d,h,...p)=>{t.flow[r.value]===d&&n.value&&n.value[h](...p)},c=()=>{u(Po.month,"toggleMonthPicker",!0),u(Po.year,"toggleYearPicker",!0),u(Po.calendar,"toggleTimePicker",!1,!0),u(Po.time,"toggleTimePicker",!0,!0);const d=t.flow[r.value];(d===Po.hours||d===Po.minutes||d===Po.seconds)&&u(d,"toggleTimePicker",!0,!0,d)};return{childMount:s,updateFlowStep:a,resetFlow:l,flowStep:r}},kv={multiCalendars:{type:[Boolean,Number,String,Object],default:void 0},modelValue:{type:[String,Date,Array,Object,Number],default:null},modelType:{type:String,default:null},position:{type:String,default:"center"},dark:{type:Boolean,default:!1},format:{type:[String,Function],default:()=>null},autoPosition:{type:Boolean,default:!0},altPosition:{type:Function,default:null},transitions:{type:[Boolean,Object],default:!0},formatLocale:{type:Object,default:null},utc:{type:[Boolean,String],default:!1},ariaLabels:{type:Object,default:()=>({})},offset:{type:[Number,String],default:10},hideNavigation:{type:Array,default:()=>[]},timezone:{type:String,default:null},emitTimezone:{type:String,default:null},vertical:{type:Boolean,default:!1},disableMonthYearSelect:{type:Boolean,default:!1},disableYearSelect:{type:Boolean,default:!1},menuClassName:{type:String,default:null},dayClass:{type:Function,default:null},yearRange:{type:Array,default:()=>[1900,2100]},calendarCellClassName:{type:String,default:null},enableTimePicker:{type:Boolean,default:!0},autoApply:{type:Boolean,default:!1},disabledDates:{type:[Array,Function],default:()=>[]},monthNameFormat:{type:String,default:"short"},startDate:{type:[Date,String],default:null},startTime:{type:[Object,Array],default:null},hideOffsetDates:{type:Boolean,default:!1},autoRange:{type:[Number,String],default:null},noToday:{type:Boolean,default:!1},disabledWeekDays:{type:Array,default:()=>[]},allowedDates:{type:Array,default:null},nowButtonLabel:{type:String,default:"Now"},markers:{type:Array,default:()=>[]},escClose:{type:Boolean,default:!0},spaceConfirm:{type:Boolean,default:!0},monthChangeOnArrows:{type:Boolean,default:!0},presetDates:{type:Array,default:()=>[]},flow:{type:Array,default:()=>[]},partialFlow:{type:Boolean,default:!1},preventMinMaxNavigation:{type:Boolean,default:!1},minRange:{type:[Number,String],default:null},maxRange:{type:[Number,String],default:null},multiDatesLimit:{type:[Number,String],default:null},reverseYears:{type:Boolean,default:!1},weekPicker:{type:Boolean,default:!1},filters:{type:Object,default:()=>({})},arrowNavigation:{type:Boolean,default:!1},disableTimeRangeValidation:{type:Boolean,default:!1},highlight:{type:[Array,Function,Object],default:null},highlightWeekDays:{type:Array,default:null},highlightDisabledDays:{type:Boolean,default:!1},teleport:{type:[String,Boolean,Object],default:null},teleportCenter:{type:Boolean,default:!1},locale:{type:String,default:"en-Us"},weekNumName:{type:String,default:"W"},weekStart:{type:[Number,String],default:1},weekNumbers:{type:[String,Function,Object],default:null},calendarClassName:{type:String,default:null},monthChangeOnScroll:{type:[Boolean,String],default:!0},dayNames:{type:[Function,Array],default:null},monthPicker:{type:Boolean,default:!1},customProps:{type:Object,default:null},yearPicker:{type:Boolean,default:!1},modelAuto:{type:Boolean,default:!1},selectText:{type:String,default:"Select"},cancelText:{type:String,default:"Cancel"},previewFormat:{type:[String,Function],default:()=>""},multiDates:{type:Boolean,default:!1},partialRange:{type:Boolean,default:!0},ignoreTimeValidation:{type:Boolean,default:!1},minDate:{type:[Date,String],default:null},maxDate:{type:[Date,String],default:null},minTime:{type:Object,default:null},maxTime:{type:Object,default:null},name:{type:String,default:null},placeholder:{type:String,default:""},hideInputIcon:{type:Boolean,default:!1},clearable:{type:Boolean,default:!0},state:{type:Boolean,default:null},required:{type:Boolean,default:!1},autocomplete:{type:String,default:"off"},inputClassName:{type:String,default:null},fixedStart:{type:Boolean,default:!1},fixedEnd:{type:Boolean,default:!1},timePicker:{type:Boolean,default:!1},enableSeconds:{type:Boolean,default:!1},is24:{type:Boolean,default:!0},noHoursOverlay:{type:Boolean,default:!1},noMinutesOverlay:{type:Boolean,default:!1},noSecondsOverlay:{type:Boolean,default:!1},hoursGridIncrement:{type:[String,Number],default:1},minutesGridIncrement:{type:[String,Number],default:5},secondsGridIncrement:{type:[String,Number],default:5},hoursIncrement:{type:[Number,String],default:1},minutesIncrement:{type:[Number,String],default:1},secondsIncrement:{type:[Number,String],default:1},range:{type:Boolean,default:!1},uid:{type:String,default:null},disabled:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},inline:{type:[Boolean,Object],default:!1},textInput:{type:[Boolean,Object],default:!1},noDisabledRange:{type:Boolean,default:!1},sixWeeks:{type:[Boolean,String],default:!1},actionRow:{type:Object,default:()=>({})},focusStartDate:{type:Boolean,default:!1},disabledTimes:{type:[Function,Array],default:void 0},showLastInRange:{type:Boolean,default:!0},timePickerInline:{type:Boolean,default:!1},calendar:{type:Function,default:null},config:{type:Object,default:void 0},quarterPicker:{type:Boolean,default:!1},yearFirst:{type:Boolean,default:!1}},Io={...kv,shadow:{type:Boolean,default:!1},flowStep:{type:Number,default:0},internalModelValue:{type:[Date,Array],default:null},arrMapValues:{type:Object,default:()=>({})},noOverlayFocus:{type:Boolean,default:!1}},The={key:1,class:"dp__input_wrap"},Ehe=["id","name","inputmode","placeholder","disabled","readonly","required","value","autocomplete","aria-label","aria-disabled","aria-invalid"],She={key:2,class:"dp__clear_icon"},Ihe=Me({compatConfig:{MODE:3},__name:"DatepickerInput",props:{isMenuOpen:{type:Boolean,default:!1},inputValue:{type:String,default:""},...kv},emits:["clear","open","update:input-value","set-input-date","close","select-date","set-empty-date","toggle","focus-prev","focus","blur","real-blur"],setup(t,{expose:e,emit:n}){const r=n,i=t,{defaultedTextInput:o,defaultedAriaLabels:s,defaultedInline:a,defaultedConfig:l,getDefaultPattern:u,getDefaultStartTime:c}=nr(i),{checkMinMaxRange:d}=Kl(i),h=ie(),p=ie(null),m=ie(!1),g=ie(!1),v=te(()=>({dp__pointer:!i.disabled&&!i.readonly&&!o.value.enabled,dp__disabled:i.disabled,dp__input_readonly:!o.value.enabled,dp__input:!0,dp__input_icon_pad:!i.hideInputIcon,dp__input_valid:!!i.state,dp__input_invalid:i.state===!1,dp__input_focus:m.value||i.isMenuOpen,dp__input_reg:!o.value.enabled,[i.inputClassName]:!!i.inputClassName})),A=()=>{r("set-input-date",null),i.autoApply&&(r("set-empty-date"),h.value=null)},I=q=>{const V=c();return Xde(q,o.value.format??u(),V??FL({},i.enableSeconds),i.inputValue,g.value)},S=q=>{const{rangeSeparator:V}=o.value,[F,G]=q.split(`${V}`);if(F){const Z=I(F.trim()),H=G?I(G.trim()):null,$=Z&&H?[Z,H]:[Z];d(H,$,0)&&(h.value=Z?$:null)}},T=()=>{g.value=!0},N=q=>{if(i.range)S(q);else if(i.multiDates){const V=q.split(";");h.value=V.map(F=>I(F.trim())).filter(F=>F)}else h.value=I(q)},R=q=>{var V;const F=typeof q=="string"?q:(V=q.target)==null?void 0:V.value;F!==""?(o.value.openMenu&&!i.isMenuOpen&&r("open"),N(F),r("set-input-date",h.value)):A(),g.value=!1,r("update:input-value",F)},C=q=>{o.value.enabled?(N(q.target.value),o.value.enterSubmit&&d_(h.value)&&i.inputValue!==""?(r("set-input-date",h.value,!0),h.value=null):o.value.enterSubmit&&i.inputValue===""&&(h.value=null,r("clear"))):w(q)},E=q=>{o.value.enabled&&o.value.tabSubmit&&N(q.target.value),o.value.tabSubmit&&d_(h.value)&&i.inputValue!==""?(r("set-input-date",h.value,!0,!0),h.value=null):o.value.tabSubmit&&i.inputValue===""&&(h.value=null,r("clear",!0))},b=()=>{var q;m.value=!0,r("focus"),o.value.enabled&&o.value.selectOnFocus&&((q=p.value)==null||q.select())},w=q=>{q.preventDefault(),ga(q,l.value,!0),o.value.enabled&&o.value.openMenu&&!a.value.input&&!i.isMenuOpen?r("open"):o.value.enabled||r("toggle")},k=()=>{r("real-blur"),m.value=!1,(!i.isMenuOpen||a.value.enabled&&a.value.input)&&r("blur"),i.autoApply&&o.value.enabled&&h.value&&!i.isMenuOpen&&(r("set-input-date",h.value),r("select-date"),h.value=null)},x=q=>{ga(q,l.value,!0),r("clear")},O=q=>{if(!o.value.enabled){if(q.code==="Tab")return;q.preventDefault()}};return e({focusInput:()=>{var q;(q=p.value)==null||q.focus({preventScroll:!0})},setParsedDate:q=>{h.value=q}}),(q,V)=>{var F;return M(),W("div",{onClick:w},[q.$slots.trigger&&!q.$slots["dp-input"]&&!P(a).enabled?Te(q.$slots,"trigger",{key:0}):ee("",!0),!q.$slots.trigger&&(!P(a).enabled||P(a).input)?(M(),W("div",The,[q.$slots["dp-input"]&&!q.$slots.trigger&&!P(a).enabled?Te(q.$slots,"dp-input",{key:0,value:t.inputValue,isMenuOpen:t.isMenuOpen,onInput:R,onEnter:C,onTab:E,onClear:x,onBlur:k,onKeypress:O,onPaste:T,openMenu:()=>q.$emit("open"),closeMenu:()=>q.$emit("close"),toggleMenu:()=>q.$emit("toggle")}):ee("",!0),q.$slots["dp-input"]?ee("",!0):(M(),W("input",{key:1,id:q.uid?`dp-input-${q.uid}`:void 0,ref_key:"inputRef",ref:p,name:q.name,class:$e(v.value),inputmode:P(o).enabled?"text":"none",placeholder:q.placeholder,disabled:q.disabled,readonly:q.readonly,required:q.required,value:t.inputValue,autocomplete:q.autocomplete,"aria-label":(F=P(s))==null?void 0:F.input,"aria-disabled":q.disabled||void 0,"aria-invalid":q.state===!1?!0:void 0,onInput:R,onKeydown:[bt(C,["enter"]),bt(E,["tab"]),O],onBlur:k,onFocus:b,onKeypress:O,onPaste:T},null,42,Ehe)),y("div",{onClick:V[2]||(V[2]=G=>r("toggle"))},[q.$slots["input-icon"]&&!q.hideInputIcon?(M(),W("span",{key:0,class:"dp__input_icon",onClick:V[0]||(V[0]=G=>r("toggle"))},[Te(q.$slots,"input-icon")])):ee("",!0),!q.$slots["input-icon"]&&!q.hideInputIcon&&!q.$slots["dp-input"]?(M(),de(P($c),{key:1,class:"dp__input_icon dp__input_icons",onClick:V[1]||(V[1]=G=>r("toggle"))})):ee("",!0)]),q.$slots["clear-icon"]&&t.inputValue&&q.clearable&&!q.disabled&&!q.readonly?(M(),W("span",She,[Te(q.$slots,"clear-icon",{clear:x})])):ee("",!0),q.clearable&&!q.$slots["clear-icon"]&&t.inputValue&&!q.disabled&&!q.readonly?(M(),de(P(OL),{key:3,class:"dp__clear_icon dp__input_icons",onClick:V[3]||(V[3]=kt(G=>x(G),["prevent"]))})):ee("",!0)])):ee("",!0)])}}}),Che=["title"],Ahe={class:"dp__action_buttons"},Phe=["disabled"],Ohe=Me({compatConfig:{MODE:3},__name:"ActionRow",props:{menuMount:{type:Boolean,default:!1},calendarWidth:{type:Number,default:0},...Io},emits:["close-picker","select-date","select-now","invalid-select"],setup(t,{emit:e}){const n=e,r=t,{defaultedActionRow:i,defaultedPreviewFormat:o,defaultedMultiCalendars:s,defaultedTextInput:a,defaultedInline:l,getDefaultPattern:u}=nr(r),{isValidTime:c}=Kl(r),{buildMatrix:d}=Va(),h=ie(null),p=ie(null);Vt(()=>{r.arrowNavigation&&d([pr(h),pr(p)],"actionRow")});const m=te(()=>r.range&&!r.partialRange&&r.internalModelValue?r.internalModelValue.length===2:!0),g=te(()=>!v.value||!A.value||!m.value),v=te(()=>!r.enableTimePicker||r.ignoreTimeValidation?!0:c(r.internalModelValue)),A=te(()=>r.monthPicker?r.range&&Array.isArray(r.internalModelValue)?!r.internalModelValue.filter(w=>!E(w)).length:E(r.internalModelValue):!0),I=()=>{const w=o.value;return r.timePicker||r.monthPicker,w(_r(r.internalModelValue))},S=()=>{const w=r.internalModelValue;return s.value.count>0?`${T(w[0])} - ${T(w[1])}`:[T(w[0]),T(w[1])]},T=w=>qL(w,o.value,r.formatLocale,a.value.rangeSeparator,r.modelAuto,u()),N=te(()=>!r.internalModelValue||!r.menuMount?"":typeof o.value=="string"?Array.isArray(r.internalModelValue)?r.internalModelValue.length===2&&r.internalModelValue[1]?S():r.multiDates?r.internalModelValue.map(w=>`${T(w)}`):r.modelAuto?`${T(r.internalModelValue[0])}`:`${T(r.internalModelValue[0])} -`:T(r.internalModelValue):I()),R=()=>r.multiDates?"; ":" - ",C=te(()=>Array.isArray(N.value)?N.value.join(R()):N.value),E=w=>{if(!r.monthPicker)return!0;let k=!0;const x=Re(fo(w));if(r.minDate&&r.maxDate){const O=Re(fo(r.minDate)),q=Re(fo(r.maxDate));return ti(x,O)&&Lr(x,q)||tn(x,O)||tn(x,q)}if(r.minDate){const O=Re(fo(r.minDate));k=ti(x,O)||tn(x,O)}if(r.maxDate){const O=Re(fo(r.maxDate));k=Lr(x,O)||tn(x,O)}return k},b=()=>{v.value&&A.value&&m.value?n("select-date"):n("invalid-select")};return(w,k)=>(M(),W("div",{class:"dp__action_row",style:ar(t.calendarWidth?{width:`${t.calendarWidth}px`}:{})},[w.$slots["action-row"]?Te(w.$slots,"action-row",Mn(le({key:0},{internalModelValue:w.internalModelValue,disabled:g.value,selectDate:()=>w.$emit("select-date"),closePicker:()=>w.$emit("close-picker")}))):(M(),W(Pe,{key:1},[P(i).showPreview?(M(),W("div",{key:0,class:"dp__selection_preview",title:C.value},[w.$slots["action-preview"]?Te(w.$slots,"action-preview",{key:0,value:w.internalModelValue}):ee("",!0),w.$slots["action-preview"]?ee("",!0):(M(),W(Pe,{key:1},[z(ze(C.value),1)],64))],8,Che)):ee("",!0),y("div",Ahe,[w.$slots["action-buttons"]?Te(w.$slots,"action-buttons",{key:0,value:w.internalModelValue}):ee("",!0),w.$slots["action-buttons"]?ee("",!0):(M(),W(Pe,{key:1},[!P(l).enabled&&P(i).showCancel?(M(),W("button",{key:0,ref_key:"cancelButtonRef",ref:h,type:"button",class:"dp__action_button dp__action_cancel",onClick:k[0]||(k[0]=x=>w.$emit("close-picker")),onKeydown:[k[1]||(k[1]=bt(x=>w.$emit("close-picker"),["enter"])),k[2]||(k[2]=bt(x=>w.$emit("close-picker"),["space"]))]},ze(w.cancelText),545)):ee("",!0),P(i).showNow?(M(),W("button",{key:1,ref_key:"cancelButtonRef",ref:h,type:"button",class:"dp__action_button dp__action_cancel",onClick:k[3]||(k[3]=x=>w.$emit("select-now")),onKeydown:[k[4]||(k[4]=bt(x=>w.$emit("select-now"),["enter"])),k[5]||(k[5]=bt(x=>w.$emit("select-now"),["space"]))]},ze(w.nowButtonLabel),545)):ee("",!0),P(i).showSelect?(M(),W("button",{key:2,ref_key:"selectButtonRef",ref:p,type:"button",class:"dp__action_button dp__action_select",disabled:g.value,onKeydown:[bt(b,["enter"]),bt(b,["space"])],onClick:b},ze(w.selectText),41,Phe)):ee("",!0)],64))])],64))],4))}}),khe=["onKeydown"],Rhe={class:"dp__selection_grid_header"},xhe=["aria-selected","aria-disabled","onClick","onKeydown","onMouseover"],Dhe=["aria-label"],xf=Me({__name:"SelectionOverlay",props:{items:{},type:{},isLast:{type:Boolean},arrowNavigation:{type:Boolean},skipButtonRef:{type:Boolean},headerRefs:{},hideNavigation:{},escClose:{type:Boolean},useRelative:{type:Boolean},height:{},textInput:{type:[Boolean,Object]},config:{},noOverlayFocus:{type:Boolean},focusValue:{}},emits:["selected","toggle","reset-flow","hover-value"],setup(t,{expose:e,emit:n}){const{setSelectionGrid:r,buildMultiLevelMatrix:i,setMonthPicker:o}=Va(),s=n,a=t,{defaultedAriaLabels:l,defaultedTextInput:u,defaultedConfig:c}=nr(a),{hideNavigationButtons:d}=Ov(),h=ie(!1),p=ie(null),m=ie(null),g=ie([]),v=ie(),A=ie(null),I=ie(0),S=ie(null);M_(()=>{p.value=null}),Vt(()=>{tr().then(()=>k()),a.noOverlayFocus||N(),T(!0)}),Go(()=>T(!1));const T=H=>{var $;a.arrowNavigation&&(($=a.headerRefs)!=null&&$.length?o(H):r(H))},N=()=>{var H;const $=pr(m);$&&(u.value.enabled||(p.value?(H=p.value)==null||H.focus({preventScroll:!0}):$.focus({preventScroll:!0})),h.value=$.clientHeight<$.scrollHeight)},R=te(()=>({dp__overlay:!0,"dp--overlay-absolute":!a.useRelative,"dp--overlay-relative":a.useRelative})),C=te(()=>a.useRelative?{height:`${a.height}px`,width:"260px"}:void 0),E=te(()=>({dp__overlay_col:!0})),b=te(()=>({dp__btn:!0,dp__button:!0,dp__overlay_action:!0,dp__over_action_scroll:h.value,dp__button_bottom:a.isLast})),w=te(()=>{var H,$;return{dp__overlay_container:!0,dp__container_flex:((H=a.items)==null?void 0:H.length)<=6,dp__container_block:(($=a.items)==null?void 0:$.length)>6}});pn(()=>a.items,()=>k(),{deep:!0});const k=()=>{tr().then(()=>{const H=pr(p),$=pr(m),ue=pr(A),se=pr(S),ve=ue?ue.getBoundingClientRect().height:0;$&&($.getBoundingClientRect().height?I.value=$.getBoundingClientRect().height-ve:I.value=c.value.modeHeight-ve),H&&se&&(se.scrollTop=H.offsetTop-se.offsetTop-(I.value/2-H.getBoundingClientRect().height)-ve)})},x=H=>{H.disabled||s("selected",H.value)},O=()=>{s("toggle"),s("reset-flow")},q=()=>{a.escClose&&O()},V=(H,$,ue,se)=>{H&&(($.active||$.value===a.focusValue)&&(p.value=H),a.arrowNavigation&&(Array.isArray(g.value[ue])?g.value[ue][se]=H:g.value[ue]=[H],F()))},F=()=>{var H,$;const ue=(H=a.headerRefs)!=null&&H.length?[a.headerRefs].concat(g.value):g.value.concat([a.skipButtonRef?[]:[A.value]]);i(_r(ue),($=a.headerRefs)!=null&&$.length?"monthPicker":"selectionGrid")},G=H=>{a.arrowNavigation||ga(H,c.value,!0)},Z=H=>{v.value=H,s("hover-value",H)};return e({focusGrid:N}),(H,$)=>{var ue;return M(),W("div",{ref_key:"gridWrapRef",ref:m,class:$e(R.value),style:ar(C.value),role:"dialog",tabindex:"0",onKeydown:[bt(kt(q,["prevent"]),["esc"]),$[0]||($[0]=bt(kt(se=>G(se),["prevent"]),["left"])),$[1]||($[1]=bt(kt(se=>G(se),["prevent"]),["up"])),$[2]||($[2]=bt(kt(se=>G(se),["prevent"]),["down"])),$[3]||($[3]=bt(kt(se=>G(se),["prevent"]),["right"]))]},[y("div",{ref_key:"containerRef",ref:S,class:$e(w.value),role:"grid",style:ar({height:`${I.value}px`})},[y("div",Rhe,[Te(H.$slots,"header")]),H.$slots.overlay?Te(H.$slots,"overlay",{key:0}):(M(!0),W(Pe,{key:1},ht(H.items,(se,ve)=>(M(),W("div",{key:ve,class:$e(["dp__overlay_row",{dp__flex_row:H.items.length>=3}]),role:"row"},[(M(!0),W(Pe,null,ht(se,(Se,he)=>(M(),W("div",{key:Se.value,ref_for:!0,ref:Y=>V(Y,Se,ve,he),role:"gridcell",class:$e(E.value),"aria-selected":Se.active,"aria-disabled":Se.disabled||void 0,tabindex:"0",onClick:Y=>x(Se),onKeydown:[bt(kt(Y=>x(Se),["prevent"]),["enter"]),bt(kt(Y=>x(Se),["prevent"]),["space"])],onMouseover:Y=>Z(Se.value)},[y("div",{class:$e(Se.className)},[H.$slots.item?Te(H.$slots,"item",{key:0,item:Se}):ee("",!0),H.$slots.item?ee("",!0):(M(),W(Pe,{key:1},[z(ze(Se.text),1)],64))],2)],42,xhe))),128))],2))),128))],6),H.$slots["button-icon"]?Fi((M(),W("button",{key:0,ref_key:"toggleButton",ref:A,type:"button","aria-label":(ue=P(l))==null?void 0:ue.toggleOverlay,class:$e(b.value),tabindex:"0",onClick:O,onKeydown:[bt(O,["enter"]),bt(O,["tab"])]},[Te(H.$slots,"button-icon")],42,Dhe)),[[Lo,!P(d)(H.hideNavigation,H.type)]]):ee("",!0)],46,khe)}}}),Rv=Me({__name:"InstanceWrap",props:{multiCalendars:{},stretch:{type:Boolean}},setup(t){const e=t,n=te(()=>e.multiCalendars>0?[...Array(e.multiCalendars).keys()]:[0]),r=te(()=>({dp__instance_calendar:e.multiCalendars>0}));return(i,o)=>(M(),W("div",{class:$e({dp__menu_inner:!i.stretch,"dp--menu--inner-stretched":i.stretch,dp__flex_display:i.multiCalendars>0})},[(M(!0),W(Pe,null,ht(n.value,(s,a)=>(M(),W("div",{key:s,class:$e(r.value)},[Te(i.$slots,"default",{instance:s,index:a})],2))),128))],2))}}),Nhe=["aria-label","aria-disabled"],sh=Me({compatConfig:{MODE:3},__name:"ArrowBtn",props:{ariaLabel:{},disabled:{type:Boolean}},emits:["activate","set-ref"],setup(t,{emit:e}){const n=e,r=ie(null);return Vt(()=>n("set-ref",r)),(i,o)=>(M(),W("button",{ref_key:"elRef",ref:r,type:"button",class:"dp__btn dp--arrow-btn-nav",tabindex:"0","aria-label":i.ariaLabel,"aria-disabled":i.disabled||void 0,onClick:o[0]||(o[0]=s=>i.$emit("activate")),onKeydown:[o[1]||(o[1]=bt(kt(s=>i.$emit("activate"),["prevent"]),["enter"])),o[2]||(o[2]=bt(kt(s=>i.$emit("activate"),["prevent"]),["space"]))]},[y("span",{class:$e(["dp__inner_nav",{dp__inner_nav_disabled:i.disabled}])},[Te(i.$slots,"default")],2)],40,Nhe))}}),Mhe={class:"dp--year-mode-picker"},Lhe=["aria-label"],HL=Me({__name:"YearModePicker",props:{...Io,showYearPicker:{type:Boolean,default:!1},items:{type:Array,default:()=>[]},instance:{type:Number,default:0},year:{type:Number,default:0},isDisabled:{type:Function,default:()=>!1}},emits:["toggle-year-picker","year-select","handle-year"],setup(t,{emit:e}){const n=e,r=t,{showRightIcon:i,showLeftIcon:o}=Ov(),{defaultedConfig:s,defaultedMultiCalendars:a,defaultedAriaLabels:l,defaultedTransitions:u}=nr(r),{showTransition:c,transitionName:d}=kf(u),h=(g=!1,v)=>{n("toggle-year-picker",{flow:g,show:v})},p=g=>{n("year-select",g)},m=(g=!1)=>{n("handle-year",g)};return(g,v)=>{var A,I,S;return M(),W("div",Mhe,[P(o)(P(a),t.instance)?(M(),de(sh,{key:0,ref:"mpPrevIconRef","aria-label":(A=P(l))==null?void 0:A.prevYear,disabled:t.isDisabled(!1),onActivate:v[0]||(v[0]=T=>m(!1))},{default:J(()=>[g.$slots["arrow-left"]?Te(g.$slots,"arrow-left",{key:0}):ee("",!0),g.$slots["arrow-left"]?ee("",!0):(M(),de(P(lT),{key:1}))]),_:3},8,["aria-label","disabled"])):ee("",!0),y("button",{ref:"mpYearButtonRef",class:"dp__btn dp--year-select",type:"button","aria-label":(I=P(l))==null?void 0:I.openYearsOverlay,onClick:v[1]||(v[1]=()=>h(!1)),onKeydown:v[2]||(v[2]=bt(()=>h(!1),["enter"]))},[g.$slots.year?Te(g.$slots,"year",{key:0,year:t.year}):ee("",!0),g.$slots.year?ee("",!0):(M(),W(Pe,{key:1},[z(ze(t.year),1)],64))],40,Lhe),P(i)(P(a),t.instance)?(M(),de(sh,{key:1,ref:"mpNextIconRef","aria-label":(S=P(l))==null?void 0:S.nextYear,disabled:t.isDisabled(!0),onActivate:v[3]||(v[3]=T=>m(!0))},{default:J(()=>[g.$slots["arrow-right"]?Te(g.$slots,"arrow-right",{key:0}):ee("",!0),g.$slots["arrow-right"]?ee("",!0):(M(),de(P(uT),{key:1}))]),_:3},8,["aria-label","disabled"])):ee("",!0),B(to,{name:P(d)(t.showYearPicker),css:P(c)},{default:J(()=>[t.showYearPicker?(M(),de(xf,{key:0,items:t.items,"text-input":g.textInput,"esc-close":g.escClose,config:g.config,"is-last":g.autoApply&&!P(s).keepActionRow,"hide-navigation":g.hideNavigation,type:"year",onToggle:h,onSelected:v[4]||(v[4]=T=>p(T))},ur({"button-icon":J(()=>[g.$slots["calendar-icon"]?Te(g.$slots,"calendar-icon",{key:0}):ee("",!0),g.$slots["calendar-icon"]?ee("",!0):(M(),de(P($c),{key:1}))]),_:2},[g.$slots["year-overlay-value"]?{name:"item",fn:J(({item:T})=>[Te(g.$slots,"year-overlay-value",{text:T.text,value:T.value})]),key:"0"}:void 0]),1032,["items","text-input","esc-close","config","is-last","hide-navigation"])):ee("",!0)]),_:3},8,["name","css"])])}}}),yT=(t,e,n)=>{if(e.value&&Array.isArray(e.value))if(e.value.some(r=>tn(t,r))){const r=e.value.filter(i=>!tn(i,t));e.value=r.length?r:null}else(n&&+n>e.value.length||!n)&&e.value.push(t);else e.value=[t]},bT=(t,e,n)=>{let r=t.value?t.value.slice():[];return r.length===2&&r[1]!==null&&(r=[]),r.length?Lr(e,r[0])?(r.unshift(e),n("range-start",r[0]),n("range-start",r[1])):(r[1]=e,n("range-end",e)):(r=[e],n("range-start",e)),t.value=r,r},xv=(t,e,n,r)=>{t[0]&&t[1]&&n&&e("auto-apply"),t[0]&&!t[1]&&r&&n&&e("auto-apply")},WL=t=>{Array.isArray(t.value)&&t.value.length<=2&&t.range?t.modelValue.value=t.value.map(e=>wo(Re(e),t.timezone)):Array.isArray(t.value)||(t.modelValue.value=wo(Re(t.value),t.timezone))},zL=({multiCalendars:t,highlight:e,calendars:n,modelValue:r,props:i,year:o,month:s,emit:a})=>{const l=te(()=>gT(i.yearRange,i.reverseYears)),u=ie([!1]),c=te(()=>(T,N)=>{const R=An(fo(new Date),{month:s.value(T),year:o.value(T)});return UL(R,i.maxDate,i.minDate,i.preventMinMaxNavigation,N)}),d=()=>{for(let T=0;T<t.value.count;T++)if(T===0)n.value[T]=n.value[0];else{const N=An(Re(),n.value[T-1]);n.value[T]={month:Ht(N),year:At(eT(N,1))}}},h=T=>{if(!T)return d();const N=An(Re(),n.value[T]);return n.value[0].year=At(PL(N,t.value.count-1)),d()},p=T=>i.focusStartDate?T[0]:T[1]?T[1]:T[0],m=()=>{if(r.value){const T=Array.isArray(r.value)?p(r.value):r.value;n.value[0]={month:Ht(T),year:At(T)}}};Vt(()=>{m(),t.value.count&&d()});const g=(T,N)=>{n.value[N].year=T,t.value.count&&!t.value.solo&&h(N)},v=te(()=>T=>Tc(l.value,N=>{const R=o.value(T)===N.value,C=zh(N.value,Ec(i.minDate),Ec(i.maxDate)),E=vT(e.value,N.value);return{active:R,disabled:C,highlighted:E}})),A=(T,N)=>{g(T,N),S(N)},I=(T,N=!1)=>{if(!c.value(T,N)){const R=N?o.value(T)+1:o.value(T)-1;g(R,T)}},S=(T,N=!1,R)=>{N||a("reset-flow"),R!==void 0?u.value[T]=R:u.value[T]=!u.value[T],u.value||a("overlay-closed")};return{isDisabled:c,groupedYears:v,showYearPicker:u,selectYear:g,toggleYearPicker:S,handleYearSelect:A,handleYear:I}},Vhe=(t,e)=>{const{defaultedMultiCalendars:n,defaultedAriaLabels:r,defaultedTransitions:i,defaultedConfig:o,defaultedHighlight:s}=nr(t),{modelValue:a,year:l,month:u,calendars:c}=Rf(t,e),d=te(()=>DL(t.formatLocale,t.locale,t.monthNameFormat)),h=ie(null),{selectYear:p,groupedYears:m,showYearPicker:g,toggleYearPicker:v,handleYearSelect:A,handleYear:I,isDisabled:S}=zL({modelValue:a,multiCalendars:n,highlight:s,calendars:c,year:l,month:u,props:t,emit:e});Vt(()=>{t.startDate&&(a.value&&t.focusStartDate||!a.value)&&p(At(Re(t.startDate)),0)});const T=G=>G?{month:Ht(G),year:At(G)}:{month:null,year:null},N=()=>a.value?Array.isArray(a.value)?a.value.map(G=>T(G)):T(a.value):T(),R=(G,Z)=>{const H=c.value[G],$=N();return Array.isArray($)?$.some(ue=>ue.year===(H==null?void 0:H.year)&&ue.month===Z):(H==null?void 0:H.year)===$.year&&Z===$.month},C=(G,Z,H)=>{var $,ue;const se=N();return Array.isArray(se)?l.value(Z)===(($=se[H])==null?void 0:$.year)&&G===((ue=se[H])==null?void 0:ue.month):!1},E=(G,Z)=>{if(t.range){const H=N();if(Array.isArray(a.value)&&Array.isArray(H)){const $=C(G,Z,0)||C(G,Z,1),ue=ps(fo(Re()),G,l.value(Z));return Pv(a.value,h.value,ue)&&!$}return!1}return!1},b=te(()=>G=>Tc(d.value,Z=>{const H=R(G,Z.value),$=zh(Z.value,ML(l.value(G),t.minDate),LL(l.value(G),t.maxDate))||rhe(t.disabledDates,l.value(G)).includes(Z.value),ue=E(Z.value,G),se=BL(s.value,Z.value,l.value(G));return{active:H,disabled:$,isBetween:ue,highlighted:se}})),w=(G,Z)=>ps(fo(Re()),G,l.value(Z)),k=(G,Z)=>{const H=a.value?a.value:fo(new Date);a.value=ps(H,G,l.value(Z)),e("auto-apply")},x=(G,Z)=>{const H=bT(a,w(G,Z),e);xv(H,e,t.autoApply,t.modelAuto)},O=(G,Z)=>{yT(w(G,Z),a,t.multiDatesLimit),e("auto-apply",!0)},q=(G,Z)=>(c.value[Z].month=G,F(Z,c.value[Z].year,G),t.multiDates?O(G,Z):t.range?x(G,Z):k(G,Z)),V=(G,Z)=>{p(G,Z),F(Z,G,null)},F=(G,Z,H)=>{let $=H;if(!$&&$!==0){const ue=N();$=Array.isArray(ue)?ue[G].month:ue.month}e("update-month-year",{instance:G,year:Z,month:$})};return{groupedMonths:b,groupedYears:m,year:l,isDisabled:S,defaultedMultiCalendars:n,defaultedAriaLabels:r,defaultedTransitions:i,defaultedConfig:o,showYearPicker:g,modelValue:a,presetDate:(G,Z)=>{WL({value:G,modelValue:a,range:t.range,timezone:Z?void 0:t.timezone}),e("auto-apply")},setHoverDate:(G,Z)=>{h.value=w(G,Z)},selectMonth:q,selectYear:V,toggleYearPicker:v,handleYearSelect:A,handleYear:I,getModelMonthYear:N}},$he=Me({compatConfig:{MODE:3},__name:"MonthPicker",props:{...Io},emits:["update:internal-model-value","overlay-closed","reset-flow","range-start","range-end","auto-apply","update-month-year","mount"],setup(t,{expose:e,emit:n}){const r=n,i=ka(),o=Vi(i,"yearMode"),s=t;Vt(()=>{s.shadow||r("mount",null)});const{groupedMonths:a,groupedYears:l,year:u,isDisabled:c,defaultedMultiCalendars:d,defaultedConfig:h,showYearPicker:p,modelValue:m,presetDate:g,setHoverDate:v,selectMonth:A,selectYear:I,toggleYearPicker:S,handleYearSelect:T,handleYear:N,getModelMonthYear:R}=Vhe(s,r);return e({getSidebarProps:()=>({modelValue:m,year:u,getModelMonthYear:R,selectMonth:A,selectYear:I,handleYear:N}),presetDate:g,toggleYearPicker:C=>S(0,C)}),(C,E)=>(M(),de(Rv,{"multi-calendars":P(d).count,stretch:""},{default:J(({instance:b})=>[C.$slots["month-year"]?Te(C.$slots,"month-year",Mn(le({key:0},{year:P(u),months:P(a)(b),years:P(l)(b),selectMonth:P(A),selectYear:P(I),instance:b}))):(M(),de(xf,{key:1,items:P(a)(b),"arrow-navigation":C.arrowNavigation,"is-last":C.autoApply&&!P(h).keepActionRow,"esc-close":C.escClose,height:P(h).modeHeight,config:C.config,"no-overlay-focus":!!(C.noOverlayFocus||C.textInput),"use-relative":"",type:"month",onSelected:w=>P(A)(w,b),onHoverValue:w=>P(v)(w,b)},{header:J(()=>[B(HL,le(C.$props,{items:P(l)(b),instance:b,"show-year-picker":P(p)[b],year:P(u)(b),"is-disabled":w=>P(c)(b,w),onHandleYear:w=>P(N)(b,w),onYearSelect:w=>P(T)(w,b),onToggleYearPicker:w=>P(S)(b,w==null?void 0:w.flow,w==null?void 0:w.show)}),ur({_:2},[ht(P(o),(w,k)=>({name:w,fn:J(x=>[Te(C.$slots,w,Mn(lr(x)))])}))]),1040,["items","instance","show-year-picker","year","is-disabled","onHandleYear","onYearSelect","onToggleYearPicker"])]),_:2},1032,["items","arrow-navigation","is-last","esc-close","height","config","no-overlay-focus","onSelected","onHoverValue"]))]),_:3},8,["multi-calendars"]))}}),Fhe=(t,e)=>{const{modelValue:n}=Rf(t,e),r=ie(null),{defaultedHighlight:i,defaultedFilters:o}=nr(t),s=ie();Vt(()=>{t.startDate&&(n.value&&t.focusStartDate||!n.value)&&(s.value=At(Re(t.startDate)))});const a=d=>Array.isArray(n.value)?n.value.some(h=>At(h)===d):n.value?At(n.value)===d:!1,l=d=>t.range&&Array.isArray(n.value)?Pv(n.value,r.value,c(d)):!1,u=te(()=>Tc(gT(t.yearRange,t.reverseYears),d=>{const h=a(d.value),p=zh(d.value,Ec(t.minDate),Ec(t.maxDate))||o.value.years.includes(d.value),m=l(d.value)&&!h,g=vT(i.value,d.value);return{active:h,disabled:p,isBetween:m,highlighted:g}})),c=d=>No(fo(new Date),d);return{groupedYears:u,modelValue:n,focusYear:s,setHoverValue:d=>{r.value=No(fo(new Date),d)},selectYear:d=>{var h;if(t.multiDates)return n.value?Array.isArray(n.value)&&(((h=n.value)==null?void 0:h.map(p=>At(p))).includes(d)?n.value=n.value.filter(p=>At(p)!==d):n.value.push(No(ii(Re()),d))):n.value=[No(ii(Re()),d)],e("auto-apply",!0);if(t.range){const p=bT(n,c(d),e);return xv(p,e,t.autoApply,t.modelAuto)}n.value=c(d),e("auto-apply")}}},Uhe=Me({compatConfig:{MODE:3},__name:"YearPicker",props:{...Io},emits:["update:internal-model-value","reset-flow","range-start","range-end","auto-apply"],setup(t,{expose:e,emit:n}){const r=n,i=t,{groupedYears:o,modelValue:s,focusYear:a,selectYear:l,setHoverValue:u}=Fhe(i,r),{defaultedConfig:c}=nr(i);return e({getSidebarProps:()=>({modelValue:s,selectYear:l})}),(d,h)=>(M(),W("div",null,[d.$slots["month-year"]?Te(d.$slots,"month-year",Mn(le({key:0},{years:P(o),selectYear:P(l)}))):(M(),de(xf,{key:1,items:P(o),"is-last":d.autoApply&&!P(c).keepActionRow,height:P(c).modeHeight,config:d.config,"no-overlay-focus":!!(d.noOverlayFocus||d.textInput),"focus-value":P(a),type:"year","use-relative":"",onSelected:P(l),onHoverValue:P(u)},ur({_:2},[d.$slots["year-overlay-value"]?{name:"item",fn:J(({item:p})=>[Te(d.$slots,"year-overlay-value",{text:p.text,value:p.value})]),key:"0"}:void 0]),1032,["items","is-last","height","config","no-overlay-focus","focus-value","onSelected","onHoverValue"]))]))}}),qhe={key:0,class:"dp__time_input"},Bhe=["aria-label","onKeydown","onClick"],jhe=y("span",{class:"dp__tp_inline_btn_bar dp__tp_btn_in_l"},null,-1),Hhe=y("span",{class:"dp__tp_inline_btn_bar dp__tp_btn_in_r"},null,-1),Whe=["aria-label","disabled","onKeydown","onClick"],zhe=["aria-label","onKeydown","onClick"],Khe=y("span",{class:"dp__tp_inline_btn_bar dp__tp_btn_in_l"},null,-1),Ghe=y("span",{class:"dp__tp_inline_btn_bar dp__tp_btn_in_r"},null,-1),Yhe={key:0},Xhe=["aria-label","onKeydown"],Qhe=Me({compatConfig:{MODE:3},__name:"TimeInput",props:{hours:{type:Number,default:0},minutes:{type:Number,default:0},seconds:{type:Number,default:0},closeTimePickerBtn:{type:Object,default:null},order:{type:Number,default:0},disabledTimesConfig:{type:Function,default:null},validateTime:{type:Function,default:()=>!1},...Io},emits:["set-hours","set-minutes","update:hours","update:minutes","update:seconds","reset-flow","mounted","overlay-closed","am-pm-change"],setup(t,{expose:e,emit:n}){const r=n,i=t,{setTimePickerElements:o,setTimePickerBackRef:s}=Va(),{defaultedAriaLabels:a,defaultedTransitions:l,defaultedFilters:u,defaultedConfig:c}=nr(i),{transitionName:d,showTransition:h}=kf(l),p=Pr({hours:!1,minutes:!1,seconds:!1}),m=ie("AM"),g=ie(null),v=ie([]);Vt(()=>{r("mounted")});const A=Y=>An(new Date,{hours:Y.hours,minutes:Y.minutes,seconds:i.enableSeconds?Y.seconds:0,milliseconds:0}),I=te(()=>Y=>q(Y,i[Y])||T(Y,i[Y])),S=te(()=>({hours:i.hours,minutes:i.minutes,seconds:i.seconds})),T=(Y,ne)=>i.range&&!i.disableTimeRangeValidation?!i.validateTime(Y,ne):!1,N=(Y,ne)=>{if(i.range&&!i.disableTimeRangeValidation){const pe=ne?+i[`${Y}Increment`]:-+i[`${Y}Increment`],oe=i[Y]+pe;return!i.validateTime(Y,oe)}return!1},R=te(()=>Y=>!F(+i[Y]+ +i[`${Y}Increment`],Y)||N(Y,!0)),C=te(()=>Y=>!F(+i[Y]-+i[`${Y}Increment`],Y)||N(Y,!1)),E=(Y,ne)=>aL(An(Re(),Y),ne),b=(Y,ne)=>pde(An(Re(),Y),ne),w=te(()=>({dp__time_col:!0,dp__time_col_block:!i.timePickerInline,dp__time_col_reg_block:!i.enableSeconds&&i.is24&&!i.timePickerInline,dp__time_col_reg_inline:!i.enableSeconds&&i.is24&&i.timePickerInline,dp__time_col_reg_with_button:!i.enableSeconds&&!i.is24,dp__time_col_sec:i.enableSeconds&&i.is24,dp__time_col_sec_with_button:i.enableSeconds&&!i.is24})),k=te(()=>{const Y=[{type:"hours"},{type:"",separator:!0},{type:"minutes"}];return i.enableSeconds?Y.concat([{type:"",separator:!0},{type:"seconds"}]):Y}),x=te(()=>k.value.filter(Y=>!Y.separator)),O=te(()=>Y=>{if(Y==="hours"){const ne=ue(+i.hours);return{text:ne<10?`0${ne}`:`${ne}`,value:ne}}return{text:i[Y]<10?`0${i[Y]}`:`${i[Y]}`,value:i[Y]}}),q=(Y,ne)=>{var pe;if(!i.disabledTimesConfig)return!1;const oe=i.disabledTimesConfig(i.order,Y==="hours"?ne:void 0);return oe[Y]?!!((pe=oe[Y])!=null&&pe.includes(ne)):!0},V=Y=>{const ne=i.is24?24:12,pe=Y==="hours"?ne:60,oe=+i[`${Y}GridIncrement`],_e=Y==="hours"&&!i.is24?oe:0,Ce=[];for(let fe=_e;fe<pe;fe+=oe)Ce.push({value:fe,text:fe<10?`0${fe}`:`${fe}`});return Y==="hours"&&!i.is24&&Ce.push({value:0,text:"12"}),Tc(Ce,fe=>({active:!1,disabled:u.value.times[Y].includes(fe.value)||!F(fe.value,Y)||q(Y,fe.value)||T(Y,fe.value)}))},F=(Y,ne)=>{const pe=i.minTime?A(ab(i.minTime)):null,oe=i.maxTime?A(ab(i.maxTime)):null,_e=A(ab(S.value,ne,Y));return pe&&oe?(Wh(_e,oe)||ku(_e,oe))&&(Hh(_e,pe)||ku(_e,pe)):pe?Hh(_e,pe)||ku(_e,pe):oe?Wh(_e,oe)||ku(_e,oe):!0},G=Y=>i[`no${Y[0].toUpperCase()+Y.slice(1)}Overlay`],Z=Y=>{G(Y)||(p[Y]=!p[Y],p[Y]||r("overlay-closed"))},H=Y=>Y==="hours"?_o:Y==="minutes"?jo:_c,$=(Y,ne=!0)=>{const pe=ne?E:b,oe=ne?+i[`${Y}Increment`]:-+i[`${Y}Increment`];F(+i[Y]+oe,Y)&&r(`update:${Y}`,H(Y)(pe({[Y]:+i[Y]},{[Y]:+i[`${Y}Increment`]})))},ue=Y=>i.is24?Y:(Y>=12?m.value="PM":m.value="AM",jde(Y)),se=()=>{m.value==="PM"?(m.value="AM",r("update:hours",i.hours-12)):(m.value="PM",r("update:hours",i.hours+12)),r("am-pm-change",m.value)},ve=Y=>{p[Y]=!0},Se=(Y,ne,pe)=>{if(Y&&i.arrowNavigation){Array.isArray(v.value[ne])?v.value[ne][pe]=Y:v.value[ne]=[Y];const oe=v.value.reduce((_e,Ce)=>Ce.map((fe,L)=>[..._e[L]||[],Ce[L]]),[]);s(i.closeTimePickerBtn),g.value&&(oe[1]=oe[1].concat(g.value)),o(oe,i.order)}},he=(Y,ne)=>(Z(Y),Y==="hours"&&!i.is24?r(`update:${Y}`,m.value==="PM"?ne+12:ne):r(`update:${Y}`,ne));return e({openChildCmp:ve}),(Y,ne)=>{var pe;return Y.disabled?ee("",!0):(M(),W("div",qhe,[(M(!0),W(Pe,null,ht(k.value,(oe,_e)=>{var Ce,fe,L;return M(),W("div",{key:_e,class:$e(w.value)},[oe.separator?(M(),W(Pe,{key:0},[z(" : ")],64)):(M(),W(Pe,{key:1},[y("button",{ref_for:!0,ref:j=>Se(j,_e,0),type:"button",class:$e({dp__btn:!0,dp__inc_dec_button:!Y.timePickerInline,dp__inc_dec_button_inline:Y.timePickerInline,dp__tp_inline_btn_top:Y.timePickerInline,dp__inc_dec_button_disabled:R.value(oe.type)}),"aria-label":(Ce=P(a))==null?void 0:Ce.incrementValue(oe.type),tabindex:"0",onKeydown:[bt(kt(j=>$(oe.type),["prevent"]),["enter"]),bt(kt(j=>$(oe.type),["prevent"]),["space"])],onClick:j=>$(oe.type)},[i.timePickerInline?(M(),W(Pe,{key:1},[jhe,Hhe],64)):(M(),W(Pe,{key:0},[Y.$slots["arrow-up"]?Te(Y.$slots,"arrow-up",{key:0}):ee("",!0),Y.$slots["arrow-up"]?ee("",!0):(M(),de(P(dT),{key:1}))],64))],42,Bhe),y("button",{ref_for:!0,ref:j=>Se(j,_e,1),type:"button","aria-label":(fe=P(a))==null?void 0:fe.openTpOverlay(oe.type),class:$e({dp__time_display:!0,dp__time_display_block:!Y.timePickerInline,dp__time_display_inline:Y.timePickerInline,"dp--time-invalid":I.value(oe.type),"dp--time-overlay-btn":!I.value(oe.type)}),disabled:G(oe.type),tabindex:"0",onKeydown:[bt(kt(j=>Z(oe.type),["prevent"]),["enter"]),bt(kt(j=>Z(oe.type),["prevent"]),["space"])],onClick:j=>Z(oe.type)},[Y.$slots[oe.type]?Te(Y.$slots,oe.type,{key:0,text:O.value(oe.type).text,value:O.value(oe.type).value}):ee("",!0),Y.$slots[oe.type]?ee("",!0):(M(),W(Pe,{key:1},[z(ze(O.value(oe.type).text),1)],64))],42,Whe),y("button",{ref_for:!0,ref:j=>Se(j,_e,2),type:"button",class:$e({dp__btn:!0,dp__inc_dec_button:!Y.timePickerInline,dp__inc_dec_button_inline:Y.timePickerInline,dp__tp_inline_btn_bottom:Y.timePickerInline,dp__inc_dec_button_disabled:C.value(oe.type)}),"aria-label":(L=P(a))==null?void 0:L.decrementValue(oe.type),tabindex:"0",onKeydown:[bt(kt(j=>$(oe.type,!1),["prevent"]),["enter"]),bt(kt(j=>$(oe.type,!1),["prevent"]),["space"])],onClick:j=>$(oe.type,!1)},[i.timePickerInline?(M(),W(Pe,{key:1},[Khe,Ghe],64)):(M(),W(Pe,{key:0},[Y.$slots["arrow-down"]?Te(Y.$slots,"arrow-down",{key:0}):ee("",!0),Y.$slots["arrow-down"]?ee("",!0):(M(),de(P(hT),{key:1}))],64))],42,zhe)],64))],2)}),128)),Y.is24?ee("",!0):(M(),W("div",Yhe,[Y.$slots["am-pm-button"]?Te(Y.$slots,"am-pm-button",{key:0,toggle:se,value:m.value}):ee("",!0),Y.$slots["am-pm-button"]?ee("",!0):(M(),W("button",{key:1,ref_key:"amPmButton",ref:g,type:"button",class:"dp__pm_am_button",role:"button","aria-label":(pe=P(a))==null?void 0:pe.amPmButton,tabindex:"0",onClick:se,onKeydown:[bt(kt(se,["prevent"]),["enter"]),bt(kt(se,["prevent"]),["space"])]},ze(m.value),41,Xhe))])),(M(!0),W(Pe,null,ht(x.value,(oe,_e)=>(M(),de(to,{key:_e,name:P(d)(p[oe.type]),css:P(h)},{default:J(()=>[p[oe.type]?(M(),de(xf,{key:0,items:V(oe.type),"is-last":Y.autoApply&&!P(c).keepActionRow,"esc-close":Y.escClose,type:oe.type,"text-input":Y.textInput,config:Y.config,"arrow-navigation":Y.arrowNavigation,onSelected:Ce=>he(oe.type,Ce),onToggle:Ce=>Z(oe.type),onResetFlow:ne[0]||(ne[0]=Ce=>Y.$emit("reset-flow"))},ur({"button-icon":J(()=>[Y.$slots["clock-icon"]?Te(Y.$slots,"clock-icon",{key:0}):ee("",!0),Y.$slots["clock-icon"]?ee("",!0):(M(),de(xn(Y.timePickerInline?P($c):P(cT)),{key:1}))]),_:2},[Y.$slots[`${oe.type}-overlay-value`]?{name:"item",fn:J(({item:Ce})=>[Te(Y.$slots,`${oe.type}-overlay-value`,{text:Ce.text,value:Ce.value})]),key:"0"}:void 0]),1032,["items","is-last","esc-close","type","text-input","config","arrow-navigation","onSelected","onToggle"])):ee("",!0)]),_:2},1032,["name","css"]))),128))]))}}}),Jhe={class:"dp--tp-wrap"},Zhe=["aria-label","tabindex"],efe=["tabindex"],tfe=["aria-label"],KL=Me({compatConfig:{MODE:3},__name:"TimePicker",props:{hours:{type:[Number,Array],default:0},minutes:{type:[Number,Array],default:0},seconds:{type:[Number,Array],default:0},disabledTimesConfig:{type:Function,default:null},validateTime:{type:Function,default:()=>!1},...Io},emits:["update:hours","update:minutes","update:seconds","mount","reset-flow","overlay-opened","overlay-closed","am-pm-change"],setup(t,{expose:e,emit:n}){const r=n,i=t,{buildMatrix:o,setTimePicker:s}=Va(),a=ka(),{defaultedTransitions:l,defaultedAriaLabels:u,defaultedTextInput:c,defaultedConfig:d}=nr(i),{transitionName:h,showTransition:p}=kf(l),{hideNavigationButtons:m}=Ov(),g=ie(null),v=ie(null),A=ie([]),I=ie(null);Vt(()=>{r("mount"),!i.timePicker&&i.arrowNavigation?o([pr(g.value)],"time"):s(!0,i.timePicker)});const S=te(()=>i.range&&i.modelAuto?NL(i.internalModelValue):!0),T=ie(!1),N=V=>({hours:Array.isArray(i.hours)?i.hours[V]:i.hours,minutes:Array.isArray(i.minutes)?i.minutes[V]:i.minutes,seconds:Array.isArray(i.seconds)?i.seconds[V]:i.seconds}),R=te(()=>{const V=[];if(i.range)for(let F=0;F<2;F++)V.push(N(F));else V.push(N(0));return V}),C=(V,F=!1,G="")=>{F||r("reset-flow"),T.value=V,r(V?"overlay-opened":"overlay-closed"),i.arrowNavigation&&s(V),tr(()=>{G!==""&&A.value[0]&&A.value[0].openChildCmp(G)})},E=te(()=>({dp__btn:!0,dp__button:!0,dp__button_bottom:i.autoApply&&!d.value.keepActionRow})),b=Vi(a,"timePicker"),w=(V,F,G)=>i.range?F===0?[V,R.value[1][G]]:[R.value[0][G],V]:V,k=V=>{r("update:hours",V)},x=V=>{r("update:minutes",V)},O=V=>{r("update:seconds",V)},q=()=>{if(I.value&&!c.value.enabled&&!i.noOverlayFocus){const V=Wde(I.value);V&&V.focus({preventScroll:!0})}};return e({toggleTimePicker:C}),(V,F)=>{var G;return M(),W("div",Jhe,[!V.timePicker&&!V.timePickerInline?Fi((M(),W("button",{key:0,ref_key:"openTimePickerBtn",ref:g,type:"button",class:$e(E.value),"aria-label":(G=P(u))==null?void 0:G.openTimePicker,tabindex:V.noOverlayFocus?void 0:0,onKeydown:[F[0]||(F[0]=bt(Z=>C(!0),["enter"])),F[1]||(F[1]=bt(Z=>C(!0),["space"]))],onClick:F[2]||(F[2]=Z=>C(!0))},[V.$slots["clock-icon"]?Te(V.$slots,"clock-icon",{key:0}):ee("",!0),V.$slots["clock-icon"]?ee("",!0):(M(),de(P(cT),{key:1}))],42,Zhe)),[[Lo,!P(m)(V.hideNavigation,"time")]]):ee("",!0),B(to,{name:P(h)(T.value),css:P(p)&&!V.timePickerInline},{default:J(()=>{var Z;return[T.value||V.timePicker||V.timePickerInline?(M(),W("div",{key:0,ref_key:"overlayRef",ref:I,class:$e({dp__overlay:!V.timePickerInline,"dp--overlay-absolute":!i.timePicker&&!V.timePickerInline,"dp--overlay-relative":i.timePicker}),style:ar(V.timePicker?{height:`${P(d).modeHeight}px`}:void 0),tabindex:V.timePickerInline?void 0:0},[y("div",{class:$e(V.timePickerInline?"dp__time_picker_inline_container":"dp__overlay_container dp__container_flex dp__time_picker_overlay_container"),style:{display:"flex"}},[V.$slots["time-picker-overlay"]?Te(V.$slots,"time-picker-overlay",{key:0,hours:t.hours,minutes:t.minutes,seconds:t.seconds,setHours:k,setMinutes:x,setSeconds:O}):ee("",!0),V.$slots["time-picker-overlay"]?ee("",!0):(M(),W("div",{key:1,class:$e(V.timePickerInline?"dp__flex":"dp__overlay_row dp__flex_row")},[(M(!0),W(Pe,null,ht(R.value,(H,$)=>Fi((M(),de(Qhe,le({key:$},{...V.$props,order:$,hours:H.hours,minutes:H.minutes,seconds:H.seconds,closeTimePickerBtn:v.value,disabledTimesConfig:t.disabledTimesConfig,disabled:$===0?V.fixedStart:V.fixedEnd},{ref_for:!0,ref_key:"timeInputRefs",ref:A,"validate-time":(ue,se)=>t.validateTime(ue,w(se,$,ue)),"onUpdate:hours":ue=>k(w(ue,$,"hours")),"onUpdate:minutes":ue=>x(w(ue,$,"minutes")),"onUpdate:seconds":ue=>O(w(ue,$,"seconds")),onMounted:q,onOverlayClosed:q,onAmPmChange:F[3]||(F[3]=ue=>V.$emit("am-pm-change",ue))}),ur({_:2},[ht(P(b),(ue,se)=>({name:ue,fn:J(ve=>[Te(V.$slots,ue,Mn(lr(ve)))])}))]),1040,["validate-time","onUpdate:hours","onUpdate:minutes","onUpdate:seconds"])),[[Lo,$===0?!0:S.value]])),128))],2)),!V.timePicker&&!V.timePickerInline?Fi((M(),W("button",{key:2,ref_key:"closeTimePickerBtn",ref:v,type:"button",class:$e(E.value),"aria-label":(Z=P(u))==null?void 0:Z.closeTimePicker,tabindex:"0",onKeydown:[F[4]||(F[4]=bt(H=>C(!1),["enter"])),F[5]||(F[5]=bt(H=>C(!1),["space"]))],onClick:F[6]||(F[6]=H=>C(!1))},[V.$slots["calendar-icon"]?Te(V.$slots,"calendar-icon",{key:0}):ee("",!0),V.$slots["calendar-icon"]?ee("",!0):(M(),de(P($c),{key:1}))],42,tfe)),[[Lo,!P(m)(V.hideNavigation,"time")]]):ee("",!0)],2)],14,efe)):ee("",!0)]}),_:3},8,["name","css"])])}}}),GL=(t,e,n,r)=>{const i=(A,I)=>Array.isArray(e[A])?e[A][I]:e[A],o=A=>t.enableSeconds?Array.isArray(e.seconds)?e.seconds[A]:e.seconds:0,s=(A,I)=>A?I!==void 0?va(A,i("hours",I),i("minutes",I),o(I)):va(A,e.hours,e.minutes,o()):aT(Re(),o(I)),a=(A,I)=>{e[A]=I},l=(A,I)=>{const S=Object.fromEntries(Object.keys(e).map(T=>T===A?[T,I]:[T,e[T]].slice()));if(t.range&&!t.disableTimeRangeValidation){const T=R=>n.value?va(n.value[R],S.hours[R],S.minutes[R],S.seconds[R]):null,N=R=>sT(n.value[R],0);return!(tn(T(0),T(1))&&(Hh(T(0),N(1))||Wh(T(1),N(0))))}return!0},u=(A,I)=>{l(A,I)&&(a(A,I),r&&r())},c=A=>{u("hours",A)},d=A=>{u("minutes",A)},h=A=>{u("seconds",A)},p=(A,I,S,T)=>{I&&c(A),!I&&!S&&d(A),S&&h(A),n.value&&T(n.value)},m=A=>{if(A){const I=Array.isArray(A),S=I?[+A[0].hours,+A[1].hours]:+A.hours,T=I?[+A[0].minutes,+A[1].minutes]:+A.minutes,N=I?[+A[0].seconds,+A[1].seconds]:+A.seconds;a("hours",S),a("minutes",T),t.enableSeconds&&a("seconds",N)}},g=(A,I)=>{const S={hours:Array.isArray(e.hours)?e.hours[A]:e.hours,disabledArr:[]};return(I||I===0)&&(S.hours=I),Array.isArray(t.disabledTimes)&&(S.disabledArr=t.range&&Array.isArray(t.disabledTimes[A])?t.disabledTimes[A]:t.disabledTimes),S},v=te(()=>(A,I)=>{var S;if(Array.isArray(t.disabledTimes)){const{disabledArr:T,hours:N}=g(A,I),R=T.filter(C=>+C.hours===N);return((S=R[0])==null?void 0:S.minutes)==="*"?{hours:[N],minutes:void 0,seconds:void 0}:{hours:[],minutes:(R==null?void 0:R.map(C=>+C.minutes))??[],seconds:(R==null?void 0:R.map(C=>C.seconds?+C.seconds:void 0))??[]}}return{hours:[],minutes:[],seconds:[]}});return{setTime:a,updateHours:c,updateMinutes:d,updateSeconds:h,getSetDateTime:s,updateTimeValues:p,getSecondsValue:o,assignStartTime:m,validateTime:l,disabledTimesConfig:v}},nfe=(t,e)=>{const{modelValue:n,time:r}=Rf(t,e),{defaultedStartTime:i}=nr(t),{updateTimeValues:o,getSetDateTime:s,setTime:a,assignStartTime:l,disabledTimesConfig:u,validateTime:c}=GL(t,r,n),d=I=>{const{hours:S,minutes:T,seconds:N}=I;return{hours:+S,minutes:+T,seconds:N?+N:0}},h=()=>{if(t.startTime){if(Array.isArray(t.startTime)){const S=d(t.startTime[0]),T=d(t.startTime[1]);return[An(Re(),S),An(Re(),T)]}const I=d(t.startTime);return An(Re(),I)}return t.range?[null,null]:null},p=()=>{if(t.range){const[I,S]=h();n.value=[s(I,0),s(S,1)]}else n.value=s(h())},m=I=>Array.isArray(I)?[gl(Re(I[0])),gl(Re(I[1]))]:[gl(I??Re())],g=(I,S,T)=>{a("hours",I),a("minutes",S),a("seconds",t.enableSeconds?T:0)},v=()=>{const[I,S]=m(n.value);return t.range?g([I.hours,S.hours],[I.minutes,S.minutes],[I.seconds,S.minutes]):g(I.hours,I.minutes,I.seconds)};Vt(()=>{if(!t.shadow)return l(i.value),n.value?v():p()});const A=()=>{Array.isArray(n.value)?n.value=n.value.map((I,S)=>I&&s(I,S)):n.value=s(n.value),e("time-update")};return{modelValue:n,time:r,disabledTimesConfig:u,updateTime:(I,S=!0,T=!1)=>{o(I,S,T,A)},validateTime:c}},rfe=Me({compatConfig:{MODE:3},__name:"TimePickerSolo",props:{...Io},emits:["update:internal-model-value","time-update","am-pm-change"],setup(t,{expose:e,emit:n}){const r=n,i=t,o=ka(),s=Vi(o,"timePicker"),{time:a,modelValue:l,disabledTimesConfig:u,updateTime:c,validateTime:d}=nfe(i,r);return e({getSidebarProps:()=>({modelValue:l,time:a,updateTime:c})}),(h,p)=>(M(),de(Rv,{"multi-calendars":0,stretch:""},{default:J(()=>[B(KL,le(h.$props,{hours:P(a).hours,minutes:P(a).minutes,seconds:P(a).seconds,"internal-model-value":h.internalModelValue,"disabled-times-config":P(u),"validate-time":P(d),"onUpdate:hours":p[0]||(p[0]=m=>P(c)(m)),"onUpdate:minutes":p[1]||(p[1]=m=>P(c)(m,!1)),"onUpdate:seconds":p[2]||(p[2]=m=>P(c)(m,!1,!0)),onAmPmChange:p[3]||(p[3]=m=>h.$emit("am-pm-change",m))}),ur({_:2},[ht(P(s),(m,g)=>({name:m,fn:J(v=>[Te(h.$slots,m,Mn(lr(v)))])}))]),1040,["hours","minutes","seconds","internal-model-value","disabled-times-config","validate-time"])]),_:3}))}}),ife={class:"dp__month_year_row"},ofe=["aria-label","onClick","onKeydown"],sfe=Me({compatConfig:{MODE:3},__name:"DpHeader",props:{month:{type:Number,default:0},year:{type:Number,default:0},instance:{type:Number,default:0},years:{type:Array,default:()=>[]},months:{type:Array,default:()=>[]},...Io},emits:["update-month-year","mount","reset-flow","overlay-closed"],setup(t,{expose:e,emit:n}){const r=n,i=t,{defaultedTransitions:o,defaultedAriaLabels:s,defaultedMultiCalendars:a,defaultedFilters:l,defaultedConfig:u,defaultedHighlight:c}=nr(i),{transitionName:d,showTransition:h}=kf(o),{buildMatrix:p}=Va(),{handleMonthYearChange:m,isDisabled:g,updateMonthYear:v}=ghe(i,r),{showLeftIcon:A,showRightIcon:I}=Ov(),S=ie(!1),T=ie(!1),N=ie([null,null,null,null]);Vt(()=>{r("mount")});const R=$=>({get:()=>i[$],set:ue=>{const se=$===so.month?so.year:so.month;r("update-month-year",{[$]:ue,[se]:i[se]}),$===so.month?q(!0):V(!0)}}),C=te(R(so.month)),E=te(R(so.year)),b=te(()=>$=>({month:i.month,year:i.year,items:$===so.month?i.months:i.years,instance:i.instance,updateMonthYear:v,toggle:$===so.month?q:V})),w=te(()=>i.months.find(ue=>ue.value===i.month)||{text:"",value:0}),k=te(()=>Tc(i.months,$=>{const ue=i.month===$.value,se=zh($.value,ML(i.year,i.minDate),LL(i.year,i.maxDate))||l.value.months.includes($.value),ve=BL(c.value,$.value,i.year);return{active:ue,disabled:se,highlighted:ve}})),x=te(()=>Tc(i.years,$=>{const ue=i.year===$.value,se=zh($.value,Ec(i.minDate),Ec(i.maxDate))||l.value.years.includes($.value),ve=vT(c.value,$.value);return{active:ue,disabled:se,highlighted:ve}})),O=($,ue)=>{ue!==void 0?$.value=ue:$.value=!$.value,$.value||r("overlay-closed")},q=($=!1,ue)=>{F($),O(S,ue)},V=($=!1,ue)=>{F($),O(T,ue)},F=$=>{$||r("reset-flow")},G=($,ue)=>{i.arrowNavigation&&(N.value[ue]=pr($),p(N.value,"monthYear"))},Z=te(()=>{var $,ue;return[{type:so.month,index:1,toggle:q,modelValue:C.value,updateModelValue:se=>C.value=se,text:w.value.text,showSelectionGrid:S.value,items:k.value,ariaLabel:($=s.value)==null?void 0:$.openMonthsOverlay},{type:so.year,index:2,toggle:V,modelValue:E.value,updateModelValue:se=>E.value=se,text:i.year,showSelectionGrid:T.value,items:x.value,ariaLabel:(ue=s.value)==null?void 0:ue.openYearsOverlay}]}),H=te(()=>i.disableYearSelect?[Z.value[0]]:i.yearFirst?[...Z.value].reverse():Z.value);return e({toggleMonthPicker:q,toggleYearPicker:V,handleMonthYearChange:m}),($,ue)=>{var se,ve,Se;return M(),W("div",ife,[$.$slots["month-year"]?Te($.$slots,"month-year",Mn(le({key:0},{month:t.month,year:t.year,months:t.months,years:t.years,updateMonthYear:P(v),handleMonthYearChange:P(m),instance:t.instance}))):(M(),W(Pe,{key:1},[P(A)(P(a),t.instance)&&!$.vertical?(M(),de(sh,{key:0,"aria-label":(se=P(s))==null?void 0:se.prevMonth,disabled:P(g)(!1),onActivate:ue[0]||(ue[0]=he=>P(m)(!1,!0)),onSetRef:ue[1]||(ue[1]=he=>G(he,0))},{default:J(()=>[$.$slots["arrow-left"]?Te($.$slots,"arrow-left",{key:0}):ee("",!0),$.$slots["arrow-left"]?ee("",!0):(M(),de(P(lT),{key:1}))]),_:3},8,["aria-label","disabled"])):ee("",!0),y("div",{class:$e(["dp__month_year_wrap",{dp__year_disable_select:$.disableYearSelect}])},[(M(!0),W(Pe,null,ht(H.value,(he,Y)=>(M(),W(Pe,{key:he.type},[y("button",{ref_for:!0,ref:ne=>G(ne,Y+1),type:"button",class:"dp__btn dp__month_year_select",tabindex:"0","aria-label":he.ariaLabel,onClick:he.toggle,onKeydown:[bt(kt(he.toggle,["prevent"]),["enter"]),bt(kt(he.toggle,["prevent"]),["space"])]},[$.$slots[he.type]?Te($.$slots,he.type,{key:0,text:he.text,value:i[he.type]}):ee("",!0),$.$slots[he.type]?ee("",!0):(M(),W(Pe,{key:1},[z(ze(he.text),1)],64))],40,ofe),B(to,{name:P(d)(he.showSelectionGrid),css:P(h)},{default:J(()=>[he.showSelectionGrid?(M(),de(xf,{key:0,items:he.items,"arrow-navigation":$.arrowNavigation,"hide-navigation":$.hideNavigation,"is-last":$.autoApply&&!P(u).keepActionRow,"skip-button-ref":!1,config:$.config,type:he.type,"header-refs":[],"esc-close":$.escClose,"text-input":$.textInput,onSelected:he.updateModelValue,onToggle:he.toggle},ur({"button-icon":J(()=>[$.$slots["calendar-icon"]?Te($.$slots,"calendar-icon",{key:0}):ee("",!0),$.$slots["calendar-icon"]?ee("",!0):(M(),de(P($c),{key:1}))]),_:2},[$.$slots[`${he.type}-overlay-value`]?{name:"item",fn:J(({item:ne})=>[Te($.$slots,`${he.type}-overlay-value`,{text:ne.text,value:ne.value})]),key:"0"}:void 0,$.$slots[`${he.type}-overlay`]?{name:"overlay",fn:J(()=>[Te($.$slots,`${he.type}-overlay`,Mn(lr(b.value(he.type))))]),key:"1"}:void 0,$.$slots[`${he.type}-overlay-header`]?{name:"header",fn:J(()=>[Te($.$slots,`${he.type}-overlay-header`,{toggle:he.toggle})]),key:"2"}:void 0]),1032,["items","arrow-navigation","hide-navigation","is-last","config","type","esc-close","text-input","onSelected","onToggle"])):ee("",!0)]),_:2},1032,["name","css"])],64))),128))],2),P(A)(P(a),t.instance)&&$.vertical?(M(),de(sh,{key:1,"aria-label":(ve=P(s))==null?void 0:ve.prevMonth,disabled:P(g)(!1),onActivate:ue[2]||(ue[2]=he=>P(m)(!1,!0))},{default:J(()=>[$.$slots["arrow-up"]?Te($.$slots,"arrow-up",{key:0}):ee("",!0),$.$slots["arrow-up"]?ee("",!0):(M(),de(P(dT),{key:1}))]),_:3},8,["aria-label","disabled"])):ee("",!0),P(I)(P(a),t.instance)?(M(),de(sh,{key:2,ref:"rightIcon",disabled:P(g)(!0),"aria-label":(Se=P(s))==null?void 0:Se.nextMonth,onActivate:ue[3]||(ue[3]=he=>P(m)(!0,!0)),onSetRef:ue[4]||(ue[4]=he=>G(he,$.disableYearSelect?2:3))},{default:J(()=>[$.$slots[$.vertical?"arrow-down":"arrow-right"]?Te($.$slots,$.vertical?"arrow-down":"arrow-right",{key:0}):ee("",!0),$.$slots[$.vertical?"arrow-down":"arrow-right"]?ee("",!0):(M(),de(xn($.vertical?P(hT):P(uT)),{key:1}))]),_:3},8,["disabled","aria-label"])):ee("",!0)],64))])}}}),afe=["aria-label"],lfe={class:"dp__calendar_header",role:"row"},ufe={key:0,class:"dp__calendar_header_item",role:"gridcell"},cfe=y("div",{class:"dp__calendar_header_separator"},null,-1),dfe=["aria-label"],hfe={key:0,role:"gridcell",class:"dp__calendar_item dp__week_num"},ffe={class:"dp__cell_inner"},pfe=["id","aria-selected","aria-disabled","aria-label","onClick","onKeydown","onMouseenter","onMouseleave"],mfe=Me({compatConfig:{MODE:3},__name:"DpCalendar",props:{mappedDates:{type:Array,default:()=>[]},instance:{type:Number,default:0},month:{type:Number,default:0},year:{type:Number,default:0},...Io},emits:["select-date","set-hover-date","handle-scroll","mount","handle-swipe","handle-space","tooltip-open","tooltip-close"],setup(t,{expose:e,emit:n}){const r=n,i=t,{buildMultiLevelMatrix:o}=Va(),{defaultedTransitions:s,defaultedConfig:a,defaultedAriaLabels:l,defaultedMultiCalendars:u,defaultedWeekNumbers:c}=nr(i),d=ie(null),h=ie({bottom:"",left:"",transform:""}),p=ie([]),m=ie(null),g=ie(!0),v=ie(""),A=ie({startX:0,endX:0,startY:0,endY:0}),I=ie([]),S=ie({left:"50%"}),T=te(()=>i.calendar?i.calendar(i.mappedDates):i.mappedDates),N=te(()=>i.dayNames?Array.isArray(i.dayNames)?i.dayNames:i.dayNames(i.locale,+i.weekStart):Bde(i.formatLocale,i.locale,+i.weekStart));Vt(()=>{r("mount",{cmp:"calendar",refs:p}),a.value.noSwipe||m.value&&(m.value.addEventListener("touchstart",V,{passive:!1}),m.value.addEventListener("touchend",F,{passive:!1}),m.value.addEventListener("touchmove",G,{passive:!1})),i.monthChangeOnScroll&&m.value&&m.value.addEventListener("wheel",$,{passive:!1})});const R=he=>he?i.vertical?"vNext":"next":i.vertical?"vPrevious":"previous",C=(he,Y)=>{if(i.transitions){const ne=ii(ps(Re(),i.month,i.year));v.value=ti(ii(ps(Re(),he,Y)),ne)?s.value[R(!0)]:s.value[R(!1)],g.value=!1,tr(()=>{g.value=!0})}},E=te(()=>({[i.calendarClassName]:!!i.calendarClassName})),b=te(()=>he=>{const Y=Hde(he);return{dp__marker_dot:Y.type==="dot",dp__marker_line:Y.type==="line"}}),w=te(()=>he=>tn(he,d.value)),k=te(()=>({dp__calendar:!0,dp__calendar_next:u.value.count>0&&i.instance!==0})),x=te(()=>he=>i.hideOffsetDates?he.current:!0),O=async(he,Y,ne)=>{var pe,oe;if(r("set-hover-date",he),(oe=(pe=he.marker)==null?void 0:pe.tooltip)!=null&&oe.length){const _e=pr(p.value[Y][ne]);if(_e){const{width:Ce,height:fe}=_e.getBoundingClientRect();d.value=he.value;let L={left:`${Ce/2}px`},j=-50;if(await tr(),I.value[0]){const{left:X,width:me}=I.value[0].getBoundingClientRect();X<0&&(L={left:"0"},j=0,S.value.left=`${Ce/2}px`),window.innerWidth<X+me&&(L={right:"0"},j=0,S.value.left=`${me-Ce/2}px`)}h.value={bottom:`${fe}px`,...L,transform:`translateX(${j}%)`},r("tooltip-open",he.marker)}}},q=he=>{d.value&&(d.value=null,h.value=JSON.parse(JSON.stringify({bottom:"",left:"",transform:""})),r("tooltip-close",he.marker))},V=he=>{A.value.startX=he.changedTouches[0].screenX,A.value.startY=he.changedTouches[0].screenY},F=he=>{A.value.endX=he.changedTouches[0].screenX,A.value.endY=he.changedTouches[0].screenY,Z()},G=he=>{i.vertical&&!i.inline&&he.preventDefault()},Z=()=>{const he=i.vertical?"Y":"X";Math.abs(A.value[`start${he}`]-A.value[`end${he}`])>10&&r("handle-swipe",A.value[`start${he}`]>A.value[`end${he}`]?"right":"left")},H=(he,Y,ne)=>{he&&(Array.isArray(p.value[Y])?p.value[Y][ne]=he:p.value[Y]=[he]),i.arrowNavigation&&o(p.value,"calendar")},$=he=>{i.monthChangeOnScroll&&(he.preventDefault(),r("handle-scroll",he))},ue=he=>c.value.type==="local"?ece(he.value,{weekStartsOn:+i.weekStart}):c.value.type==="iso"?Xue(he.value):typeof c.value.type=="function"?c.value.type(he.value):"",se=he=>{const Y=he[0];return c.value.hideOnOffsetDates?he.some(ne=>ne.current)?ue(Y):"":ue(Y)},ve=(he,Y)=>{ga(he,a.value),r("select-date",Y)},Se=he=>{ga(he,a.value)};return e({triggerTransition:C}),(he,Y)=>{var ne;return M(),W("div",{class:$e(k.value)},[y("div",{ref_key:"calendarWrapRef",ref:m,role:"grid",class:$e(E.value),"aria-label":(ne=P(l))==null?void 0:ne.calendarWrap},[(M(),W(Pe,{key:0},[y("div",lfe,[he.weekNumbers?(M(),W("div",ufe,ze(he.weekNumName),1)):ee("",!0),(M(!0),W(Pe,null,ht(N.value,(pe,oe)=>(M(),W("div",{key:oe,class:"dp__calendar_header_item",role:"gridcell"},[he.$slots["calendar-header"]?Te(he.$slots,"calendar-header",{key:0,day:pe,index:oe}):ee("",!0),he.$slots["calendar-header"]?ee("",!0):(M(),W(Pe,{key:1},[z(ze(pe),1)],64))]))),128))]),cfe,B(to,{name:v.value,css:!!he.transitions},{default:J(()=>{var pe;return[g.value?(M(),W("div",{key:0,class:"dp__calendar",role:"rowgroup","aria-label":((pe=P(l))==null?void 0:pe.calendarDays)||void 0},[(M(!0),W(Pe,null,ht(T.value,(oe,_e)=>(M(),W("div",{key:_e,class:"dp__calendar_row",role:"row"},[he.weekNumbers?(M(),W("div",hfe,[y("div",ffe,ze(se(oe.days)),1)])):ee("",!0),(M(!0),W(Pe,null,ht(oe.days,(Ce,fe)=>{var L,j,X;return M(),W("div",{id:Ce.value.toISOString().split("T")[0],ref_for:!0,ref:me=>H(me,_e,fe),key:fe+_e,role:"gridcell",class:"dp__calendar_item","aria-selected":Ce.classData.dp__active_date||Ce.classData.dp__range_start||Ce.classData.dp__range_start,"aria-disabled":Ce.classData.dp__cell_disabled||void 0,"aria-label":(j=(L=P(l))==null?void 0:L.day)==null?void 0:j.call(L,Ce),tabindex:"0",onClick:kt(me=>ve(me,Ce),["prevent"]),onKeydown:[bt(me=>he.$emit("select-date",Ce),["enter"]),bt(me=>he.$emit("handle-space",Ce),["space"])],onMouseenter:me=>O(Ce,_e,fe),onMouseleave:me=>q(Ce)},[y("div",{class:$e(["dp__cell_inner",Ce.classData])},[he.$slots.day&&x.value(Ce)?Te(he.$slots,"day",{key:0,day:+Ce.text,date:Ce.value}):ee("",!0),he.$slots.day?ee("",!0):(M(),W(Pe,{key:1},[z(ze(Ce.text),1)],64)),Ce.marker&&x.value(Ce)?(M(),W(Pe,{key:2},[he.$slots.marker?Te(he.$slots,"marker",{key:0,marker:Ce.marker,day:+Ce.text,date:Ce.value}):(M(),W("div",{key:1,class:$e(b.value(Ce.marker)),style:ar(Ce.marker.color?{backgroundColor:Ce.marker.color}:{})},null,6))],64)):ee("",!0),w.value(Ce.value)?(M(),W("div",{key:3,ref_for:!0,ref_key:"activeTooltip",ref:I,class:"dp__marker_tooltip",style:ar(h.value)},[(X=Ce.marker)!=null&&X.tooltip?(M(),W("div",{key:0,class:"dp__tooltip_content",onClick:Se},[(M(!0),W(Pe,null,ht(Ce.marker.tooltip,(me,ge)=>(M(),W("div",{key:ge,class:"dp__tooltip_text"},[he.$slots["marker-tooltip"]?Te(he.$slots,"marker-tooltip",{key:0,tooltip:me,day:Ce.value}):ee("",!0),he.$slots["marker-tooltip"]?ee("",!0):(M(),W(Pe,{key:1},[y("div",{class:"dp__tooltip_mark",style:ar(me.color?{backgroundColor:me.color}:{})},null,4),y("div",null,ze(me.text),1)],64))]))),128)),y("div",{class:"dp__arrow_bottom_tp",style:ar(S.value)},null,4)])):ee("",!0)],4)):ee("",!0)],2)],40,pfe)}),128))]))),128))],8,dfe)):ee("",!0)]}),_:3},8,["name","css"])],64))],10,afe)],2)}}}),VP=t=>Array.isArray(t),gfe=(t,e,n,r)=>{const i=ie([]),{modelValue:o,calendars:s,time:a}=Rf(t,e),{defaultedMultiCalendars:l,defaultedStartTime:u}=nr(t),{validateMonthYearInRange:c,isDisabled:d,isDateRangeAllowed:h,checkMinMaxRange:p}=Kl(t),{updateTimeValues:m,getSetDateTime:g,setTime:v,assignStartTime:A,validateTime:I,disabledTimesConfig:S}=GL(t,a,o,r),T=te(()=>re=>s.value[re]?s.value[re].month:0),N=te(()=>re=>s.value[re]?s.value[re].year:0),R=(re,K,Q)=>{var ae,be;s.value[re]||(s.value[re]={month:0,year:0}),s.value[re].month=xP(K)?(ae=s.value[re])==null?void 0:ae.month:K,s.value[re].year=xP(Q)?(be=s.value[re])==null?void 0:be.year:Q},C=()=>{t.autoApply&&e("select-date")};pn(o,(re,K)=>{JSON.stringify(re)!==JSON.stringify(K)&&w()}),Vt(()=>{t.shadow||(o.value||($(),u.value&&A(u.value)),w(!0),t.focusStartDate&&t.startDate&&$())});const E=te(()=>{var re;return(re=t.flow)!=null&&re.length&&!t.partialFlow?t.flowStep===t.flow.length:!0}),b=()=>{t.autoApply&&E.value&&e("auto-apply",t.partialFlow)},w=(re=!1)=>{if(o.value)return Array.isArray(o.value)?(i.value=o.value,F(re)):x(o.value,re);if(l.value.count&&re&&!t.startDate)return k(Re(),re)},k=(re,K=!1)=>{if((!l.value.count||!l.value.static||K)&&R(0,Ht(re),At(re)),l.value.count&&(!l.value.solo||!o.value))for(let Q=1;Q<l.value.count;Q++){const ae=An(Re(),{month:T.value(Q-1),year:N.value(Q-1)}),be=aL(ae,{months:1});s.value[Q]={month:Ht(be),year:At(be)}}},x=(re,K)=>{k(re),v("hours",_o(re)),v("minutes",jo(re)),v("seconds",_c(re)),l.value.count&&K&&H()},O=re=>{if(l.value.count){if(l.value.solo)return 0;const K=Ht(re[0]),Q=Ht(re[1]);return Math.abs(Q-K)<l.value.count?0:1}return 1},q=(re,K)=>{re[1]&&t.showLastInRange?k(re[O(re)],K):k(re[0],K);const Q=(ae,be)=>[ae(re[0]),re[1]?ae(re[1]):a[be][1]];v("hours",Q(_o,"hours")),v("minutes",Q(jo,"minutes")),v("seconds",Q(_c,"seconds"))},V=(re,K)=>{if((t.range||t.weekPicker)&&!t.multiDates)return q(re,K);if(t.multiDates&&K){const Q=re[re.length-1];return x(Q,K)}},F=re=>{const K=o.value;V(K,re),l.value.count&&l.value.solo&&H()},G=(re,K)=>{const Q=An(Re(),{month:T.value(K),year:N.value(K)}),ae=re<0?bo(Q,1):wc(Q,1);c(Ht(ae),At(ae),re<0,t.preventMinMaxNavigation)&&(R(K,Ht(ae),At(ae)),e("update-month-year",{instance:K,month:Ht(ae),year:At(ae)}),l.value.count&&!l.value.solo&&Z(K),n())},Z=re=>{for(let K=re-1;K>=0;K--){const Q=wc(An(Re(),{month:T.value(K+1),year:N.value(K+1)}),1);R(K,Ht(Q),At(Q))}for(let K=re+1;K<=l.value.count-1;K++){const Q=bo(An(Re(),{month:T.value(K-1),year:N.value(K-1)}),1);R(K,Ht(Q),At(Q))}},H=()=>{if(Array.isArray(o.value)&&o.value.length===2){const re=Re(Re(o.value[1]?o.value[1]:bo(o.value[0],1))),[K,Q]=[Ht(o.value[0]),At(o.value[0])],[ae,be]=[Ht(o.value[1]),At(o.value[1])];(K!==ae||K===ae&&Q!==be)&&l.value.solo&&R(1,Ht(re),At(re))}else o.value&&!Array.isArray(o.value)&&(R(0,Ht(o.value),At(o.value)),k(Re()))},$=()=>{t.startDate&&(R(0,Ht(Re(t.startDate)),At(Re(t.startDate))),l.value.count&&Z(0))},ue=Yde((re,K)=>{t.monthChangeOnScroll&&G(t.monthChangeOnScroll!=="inverse"?-re.deltaY:re.deltaY,K)},50),se=(re,K,Q=!1)=>{t.monthChangeOnArrows&&t.vertical===Q&&ve(re,K)},ve=(re,K)=>{G(re==="right"?-1:1,K)},Se=re=>t.markers.find(K=>tn(Jde(re.value),wo(Re(K.date),t.timezone))),he=(re,K)=>{switch(t.sixWeeks===!0?"append":t.sixWeeks){case"prepend":return[!0,!1];case"center":return[re==0,!0];case"fair":return[re==0||K>re,!0];case"append":return[!1,!1];default:return[!1,!1]}},Y=(re,K,Q,ae)=>{if(t.sixWeeks&&re.length<6){const be=6-re.length,Ue=(K.getDay()+7-ae)%7,tt=6-(Q.getDay()+7-ae)%7,[we,De]=he(Ue,tt);for(let Fe=1;Fe<=be;Fe++)if(De?!!(Fe%2)==we:we){const nt=re[0].days[0],Ye=ne(us(nt.value,-7),Ht(K));re.unshift({days:Ye})}else{const nt=re[re.length-1],Ye=nt.days[nt.days.length-1],ut=ne(us(Ye.value,1),Ht(K));re.push({days:ut})}}return re},ne=(re,K)=>{const Q=Re(re),ae=[];for(let be=0;be<7;be++){const Ue=us(Q,be),tt=Ht(Ue)!==K;ae.push({text:t.hideOffsetDates&&tt?"":Ue.getDate(),value:Ue,current:!tt,classData:{}})}return ae},pe=(re,K)=>{const Q=[],ae=new Date(K,re),be=new Date(K,re+1,0),Ue=t.weekStart,tt=Vl(ae,{weekStartsOn:Ue}),we=De=>{const Fe=ne(De,re);if(Q.push({days:Fe}),!Q[Q.length-1].days.some(nt=>tn(ii(nt.value),ii(be)))){const nt=us(De,7);we(nt)}};return we(tt),Y(Q,ae,be,Ue)},oe=re=>(o.value=nm(Re(re.value),t.timezone,t.weekStart),e("date-update",re.value),b()),_e=re=>{const K=va(Re(re.value),a.hours,a.minutes,Ae());e("date-update",K),t.multiDates?yT(K,o,t.multiDatesLimit):o.value=K,r(),tr().then(()=>{b()})},Ce=re=>t.noDisabledRange?$L(i.value[0],re).some(K=>d(K)):!1,fe=()=>{i.value=o.value?o.value.slice():[],i.value.length===2&&!(t.fixedStart||t.fixedEnd)&&(i.value=[])},L=(re,K)=>{const Q=[Re(re.value),us(Re(re.value),+t.autoRange)];h(Q)?(K&&j(re.value),i.value=Q):e("invalid-date",re.value)},j=re=>{const K=Ht(Re(re)),Q=At(Re(re));if(R(0,K,Q),l.value.count>0)for(let ae=1;ae<l.value.count;ae++){const be=Zde(An(Re(re),{year:T.value(ae-1),month:N.value(ae-1)}));R(ae,be.month,be.year)}},X=re=>Array.isArray(o.value)&&o.value.length===2?t.fixedStart&&(ti(re,o.value[0])||tn(re,o.value[0]))?[o.value[0],re]:t.fixedEnd&&(Lr(re,o.value[1])||tn(re,o.value[1]))?[re,o.value[1]]:(e("invalid-fixed-range",re),o.value):[],me=re=>{if(Ce(re.value)||!p(re.value,o.value,t.fixedStart?0:1))return e("invalid-date",re.value);i.value=X(Re(re.value))},ge=(re,K)=>{if(fe(),t.autoRange)return L(re,K);if(t.fixedStart||t.fixedEnd)return me(re);i.value[0]?p(Re(re.value),o.value)&&!Ce(re.value)?Lr(Re(re.value),Re(i.value[0]))?(i.value.unshift(Re(re.value)),e("range-end",i.value[0])):(i.value[1]=Re(re.value),e("range-end",i.value[1])):(t.autoApply&&e("auto-apply-invalid",re.value),e("invalid-date",re.value)):(i.value[0]=Re(re.value),e("range-start",i.value[0]))},Ae=(re=!0)=>t.enableSeconds?Array.isArray(a.seconds)?re?a.seconds[0]:a.seconds[1]:a.seconds:0,Ve=re=>{i.value[re]=va(i.value[re],a.hours[re],a.minutes[re],Ae(re!==1))},ke=()=>{var re,K;i.value[0]&&i.value[1]&&+((re=i.value)==null?void 0:re[0])>+((K=i.value)==null?void 0:K[1])&&(i.value.reverse(),e("range-start",i.value[0]),e("range-end",i.value[1]))},xe=()=>{i.value.length&&(i.value[0]&&!i.value[1]?Ve(0):(Ve(0),Ve(1),r()),ke(),o.value=i.value.slice(),xv(i.value,e,t.autoApply,t.modelAuto))},Ie=(re,K=!1)=>{if(d(re.value)||!re.current&&t.hideOffsetDates)return e("invalid-date",re.value);if(t.weekPicker)return oe(re);if(!t.range)return _e(re);VP(a.hours)&&VP(a.minutes)&&!t.multiDates&&(ge(re,K),xe())},je=(re,K)=>{var Q;R(re,K.month,K.year),l.value.count&&!l.value.solo&&Z(re),e("update-month-year",{instance:re,month:K.month,year:K.year}),n(l.value.solo?re:void 0);const ae=(Q=t.flow)!=null&&Q.length?t.flow[t.flowStep]:void 0;!K.fromNav&&(ae===Po.month||ae===Po.year)&&r()},He=(re,K)=>{WL({value:re,modelValue:o,range:t.range,timezone:K?void 0:t.timezone}),C(),t.multiCalendars&&tr().then(()=>w(!0))},Qe=()=>{t.range?o.value&&Array.isArray(o.value)&&o.value[0]?o.value=Lr(Re(),o.value[0])?[Re(),o.value[0]]:[o.value[0],Re()]:o.value=[Re()]:o.value=Re(),C()},lt=()=>{if(Array.isArray(o.value))if(t.multiDates){const re=et();o.value[o.value.length-1]=g(re)}else o.value=o.value.map((re,K)=>re&&g(re,K));else o.value=g(o.value);e("time-update")},et=()=>Array.isArray(o.value)&&o.value.length?o.value[o.value.length-1]:null;return{calendars:s,modelValue:o,month:T,year:N,time:a,disabledTimesConfig:S,validateTime:I,getCalendarDays:pe,getMarker:Se,handleScroll:ue,handleSwipe:ve,handleArrow:se,selectDate:Ie,updateMonthYear:je,presetDate:He,selectCurrentDate:Qe,updateTime:(re,K=!0,Q=!1)=>{m(re,K,Q,lt)}}},vfe={key:0},yfe=Me({__name:"DatePicker",props:{...Io},emits:["tooltip-open","tooltip-close","mount","update:internal-model-value","update-flow-step","reset-flow","auto-apply","focus-menu","select-date","range-start","range-end","invalid-fixed-range","time-update","am-pm-change","time-picker-open","time-picker-close","recalculate-position","update-month-year","auto-apply-invalid","date-update","invalid-date"],setup(t,{expose:e,emit:n}){const r=n,i=t,{calendars:o,month:s,year:a,modelValue:l,time:u,disabledTimesConfig:c,validateTime:d,getCalendarDays:h,getMarker:p,handleArrow:m,handleScroll:g,handleSwipe:v,selectDate:A,updateMonthYear:I,presetDate:S,selectCurrentDate:T,updateTime:N}=gfe(i,r,H,$),R=ka(),{setHoverDate:C,getDayClassData:E,clearHoverDate:b}=_he(l,i),{defaultedMultiCalendars:w}=nr(i),k=ie([]),x=ie([]),O=ie(null),q=Vi(R,"calendar"),V=Vi(R,"monthYear"),F=Vi(R,"timePicker"),G=se=>{i.shadow||r("mount",se)};pn(o,()=>{i.shadow||setTimeout(()=>{r("recalculate-position")},0)},{deep:!0});const Z=te(()=>se=>h(s.value(se),a.value(se)).map(ve=>({...ve,days:ve.days.map(Se=>(Se.marker=p(Se),Se.classData=E(Se),Se))})));function H(se){var ve;se||se===0?(ve=x.value[se])==null||ve.triggerTransition(s.value(se),a.value(se)):x.value.forEach((Se,he)=>Se.triggerTransition(s.value(he),a.value(he)))}function $(){r("update-flow-step")}const ue=(se,ve=!1)=>{A(se,ve),i.spaceConfirm&&r("select-date")};return e({clearHoverDate:b,presetDate:S,selectCurrentDate:T,toggleMonthPicker:(se,ve,Se=0)=>{var he;(he=k.value[Se])==null||he.toggleMonthPicker(se,ve)},toggleYearPicker:(se,ve,Se=0)=>{var he;(he=k.value[Se])==null||he.toggleYearPicker(se,ve)},toggleTimePicker:(se,ve,Se)=>{var he;(he=O.value)==null||he.toggleTimePicker(se,ve,Se)},handleArrow:m,updateMonthYear:I,getSidebarProps:()=>({modelValue:l,month:s,year:a,time:u,updateTime:N,updateMonthYear:I,selectDate:A,presetDate:S})}),(se,ve)=>(M(),W(Pe,null,[B(Rv,{"multi-calendars":P(w).count},{default:J(({instance:Se,index:he})=>[se.disableMonthYearSelect?ee("",!0):(M(),de(sfe,le({key:0,ref:Y=>{Y&&(k.value[he]=Y)},months:P(DL)(se.formatLocale,se.locale,se.monthNameFormat),years:P(gT)(se.yearRange,se.reverseYears),month:P(s)(Se),year:P(a)(Se),instance:Se},se.$props,{onMount:ve[0]||(ve[0]=Y=>G(P(vl).header)),onResetFlow:ve[1]||(ve[1]=Y=>se.$emit("reset-flow")),onUpdateMonthYear:Y=>P(I)(Se,Y),onOverlayClosed:ve[2]||(ve[2]=Y=>se.$emit("focus-menu"))}),ur({_:2},[ht(P(V),(Y,ne)=>({name:Y,fn:J(pe=>[Te(se.$slots,Y,Mn(lr(pe)))])}))]),1040,["months","years","month","year","instance","onUpdateMonthYear"])),B(mfe,le({ref:Y=>{Y&&(x.value[he]=Y)},"mapped-dates":Z.value(Se),month:P(s)(Se),year:P(a)(Se),instance:Se},se.$props,{onSelectDate:Y=>P(A)(Y,Se!==1),onHandleSpace:Y=>ue(Y,Se!==1),onSetHoverDate:ve[3]||(ve[3]=Y=>P(C)(Y)),onHandleScroll:Y=>P(g)(Y,Se),onHandleSwipe:Y=>P(v)(Y,Se),onMount:ve[4]||(ve[4]=Y=>G(P(vl).calendar)),onResetFlow:ve[5]||(ve[5]=Y=>se.$emit("reset-flow")),onTooltipOpen:ve[6]||(ve[6]=Y=>se.$emit("tooltip-open",Y)),onTooltipClose:ve[7]||(ve[7]=Y=>se.$emit("tooltip-close",Y))}),ur({_:2},[ht(P(q),(Y,ne)=>({name:Y,fn:J(pe=>[Te(se.$slots,Y,Mn(lr({...pe})))])}))]),1040,["mapped-dates","month","year","instance","onSelectDate","onHandleSpace","onHandleScroll","onHandleSwipe"])]),_:3},8,["multi-calendars"]),se.enableTimePicker?(M(),W("div",vfe,[se.$slots["time-picker"]?Te(se.$slots,"time-picker",Mn(le({key:0},{time:P(u),updateTime:P(N)}))):(M(),de(KL,le({key:1,ref_key:"timePickerRef",ref:O},se.$props,{hours:P(u).hours,minutes:P(u).minutes,seconds:P(u).seconds,"internal-model-value":se.internalModelValue,"disabled-times-config":P(c),"validate-time":P(d),onMount:ve[8]||(ve[8]=Se=>G(P(vl).timePicker)),"onUpdate:hours":ve[9]||(ve[9]=Se=>P(N)(Se)),"onUpdate:minutes":ve[10]||(ve[10]=Se=>P(N)(Se,!1)),"onUpdate:seconds":ve[11]||(ve[11]=Se=>P(N)(Se,!1,!0)),onResetFlow:ve[12]||(ve[12]=Se=>se.$emit("reset-flow")),onOverlayClosed:ve[13]||(ve[13]=Se=>se.$emit("time-picker-close")),onOverlayOpened:ve[14]||(ve[14]=Se=>se.$emit("time-picker-open",Se)),onAmPmChange:ve[15]||(ve[15]=Se=>se.$emit("am-pm-change",Se))}),ur({_:2},[ht(P(F),(Se,he)=>({name:Se,fn:J(Y=>[Te(se.$slots,Se,Mn(lr(Y)))])}))]),1040,["hours","minutes","seconds","internal-model-value","disabled-times-config","validate-time"]))])):ee("",!0)],64))}}),bfe=(t,e)=>{const n=ie(),{defaultedMultiCalendars:r,defaultedConfig:i,defaultedHighlight:o}=nr(t),{modelValue:s,year:a,month:l,calendars:u}=Rf(t,e),{isDisabled:c}=Kl(t),{selectYear:d,groupedYears:h,showYearPicker:p,isDisabled:m,toggleYearPicker:g,handleYearSelect:v,handleYear:A}=zL({modelValue:s,multiCalendars:r,highlight:o,calendars:u,month:l,year:a,props:t,emit:e}),I=(b,w)=>[b,w].map(k=>ma(k,"MMMM",{locale:t.formatLocale})).join("-"),S=te(()=>b=>s.value?Array.isArray(s.value)?s.value.some(w=>wP(b,w)):wP(s.value,b):!1),T=b=>{if(t.range){if(Array.isArray(s.value)){const w=tn(b,s.value[0])||tn(b,s.value[1]);return Pv(s.value,n.value,b)&&!w}return!1}return!1},N=te(()=>b=>{const w=An(new Date,{year:a.value(b)});return qle({start:jle(w),end:Ble(w)}).map(k=>{const x=jh(k),O=pP(k),q=c(k),V=T(x),F=typeof o.value=="function"?o.value({quarter:fP(x),year:At(x)}):!!o.value.quarters.find(G=>G.quarter===fP(x)&&G.year===At(x));return{text:I(x,O),value:x,active:S.value(x),highlighted:F,disabled:q,isBetween:V}})}),R=b=>{yT(b,s,t.multiDatesLimit),e("auto-apply",!0)},C=b=>{const w=bT(s,b,e);xv(w,e,t.autoApply,t.modelAuto)},E=b=>{s.value=b,e("auto-apply")};return{defaultedConfig:i,defaultedMultiCalendars:r,groupedYears:h,year:a,isDisabled:m,quarters:N,showYearPicker:p,modelValue:s,setHoverDate:b=>{n.value=b},selectYear:d,selectQuarter:(b,w,k)=>{if(!k)return u.value[w].month=Ht(pP(b)),t.multiDates?R(b):t.range?C(b):E(b)},toggleYearPicker:g,handleYearSelect:v,handleYear:A}},_fe={class:"dp--quarter-items"},wfe=["disabled","onClick","onMouseover"],Tfe=Me({compatConfig:{MODE:3},__name:"QuarterPicker",props:{...Io},emits:["update:internal-model-value","reset-flow","overlay-closed","auto-apply","range-start","range-end"],setup(t,{expose:e,emit:n}){const r=n,i=t,o=ka(),s=Vi(o,"yearMode"),{defaultedMultiCalendars:a,defaultedConfig:l,groupedYears:u,year:c,isDisabled:d,quarters:h,modelValue:p,showYearPicker:m,setHoverDate:g,selectQuarter:v,toggleYearPicker:A,handleYearSelect:I,handleYear:S}=bfe(i,r);return e({getSidebarProps:()=>({modelValue:p,year:c,selectQuarter:v,handleYearSelect:I,handleYear:S})}),(T,N)=>(M(),de(Rv,{"multi-calendars":P(a).count,stretch:""},{default:J(({instance:R})=>[y("div",{class:"dp-quarter-picker-wrap",style:ar({minHeight:`${P(l).modeHeight}px`})},[y("div",null,[B(HL,le(T.$props,{items:P(u)(R),instance:R,"show-year-picker":P(m)[R],year:P(c)(R),"is-disabled":C=>P(d)(R,C),onHandleYear:C=>P(S)(R,C),onYearSelect:C=>P(I)(C,R),onToggleYearPicker:C=>P(A)(R,C==null?void 0:C.flow,C==null?void 0:C.show)}),ur({_:2},[ht(P(s),(C,E)=>({name:C,fn:J(b=>[Te(T.$slots,C,Mn(lr(b)))])}))]),1040,["items","instance","show-year-picker","year","is-disabled","onHandleYear","onYearSelect","onToggleYearPicker"])]),y("div",_fe,[(M(!0),W(Pe,null,ht(P(h)(R),(C,E)=>(M(),W("div",{key:E},[y("button",{type:"button",class:$e(["dp--qr-btn",{"dp--qr-btn-active":C.active,"dp--qr-btn-between":C.isBetween,"dp--qr-btn-disabled":C.disabled,"dp--highlighted":C.highlighted}]),disabled:C.disabled,onClick:b=>P(v)(C.value,R,C.disabled),onMouseover:b=>P(g)(C.value)},[T.$slots.quarter?Te(T.$slots,"quarter",{key:0,value:C.value,text:C.text}):(M(),W(Pe,{key:1},[z(ze(C.text),1)],64))],42,wfe)]))),128))])],4)]),_:3},8,["multi-calendars"]))}}),Efe=["id"],Sfe={key:0,class:"dp__sidebar_left"},Ife={key:1,class:"dp--preset-dates"},Cfe=["onClick","onKeydown"],Afe={key:2,class:"dp__sidebar_right"},Pfe={key:3,class:"dp__action_extra"},$P=Me({compatConfig:{MODE:3},__name:"DatepickerMenu",props:{...kv,shadow:{type:Boolean,default:!1},openOnTop:{type:Boolean,default:!1},internalModelValue:{type:[Date,Array],default:null},arrMapValues:{type:Object,default:()=>({})},noOverlayFocus:{type:Boolean,default:!1}},emits:["close-picker","select-date","auto-apply","time-update","flow-step","update-month-year","invalid-select","update:internal-model-value","recalculate-position","invalid-fixed-range","tooltip-open","tooltip-close","time-picker-open","time-picker-close","am-pm-change","range-start","range-end","auto-apply-invalid","date-update","invalid-date"],setup(t,{expose:e,emit:n}){const r=n,i=t,o=te(()=>{const{openOnTop:fe,...L}=i;return{...L,flowStep:E.value,noOverlayFocus:i.noOverlayFocus}}),{setMenuFocused:s,setShiftKey:a,control:l}=jL(),u=ka(),{defaultedTextInput:c,defaultedInline:d,defaultedConfig:h}=nr(i),p=ie(null),m=ie(0),g=ie(null),v=ie(null),A=ie(!1),I=ie(null);Vt(()=>{if(!i.shadow){A.value=!0,S(),window.addEventListener("resize",S);const fe=pr(g);if(fe&&!c.value.enabled&&!d.value.enabled&&(s(!0),O()),fe){const L=j=>{h.value.allowPreventDefault&&j.preventDefault(),ga(j,h.value,!0)};fe.addEventListener("pointerdown",L),fe.addEventListener("mousedown",L)}}}),Go(()=>{window.removeEventListener("resize",S)});const S=()=>{const fe=pr(v);fe&&(m.value=fe.getBoundingClientRect().width)},{arrowRight:T,arrowLeft:N,arrowDown:R,arrowUp:C}=Va(),{flowStep:E,updateFlowStep:b,childMount:w,resetFlow:k}=whe(i,r,I),x=te(()=>i.monthPicker?$he:i.yearPicker?Uhe:i.timePicker?rfe:i.quarterPicker?Tfe:yfe),O=()=>{const fe=pr(g);fe&&fe.focus({preventScroll:!0})},q=te(()=>{var fe;return((fe=I.value)==null?void 0:fe.getSidebarProps())||{}}),V=()=>{i.openOnTop&&r("recalculate-position")},F=Vi(u,"action"),G=te(()=>i.monthPicker||i.yearPicker?Vi(u,"monthYear"):i.timePicker?Vi(u,"timePicker"):Vi(u,"shared")),Z=te(()=>i.openOnTop?"dp__arrow_bottom":"dp__arrow_top"),H=te(()=>({dp__menu_disabled:i.disabled,dp__menu_readonly:i.readonly})),$=te(()=>({dp__menu:!0,dp__menu_index:!d.value.enabled,dp__relative:d.value.enabled,[i.menuClassName]:!!i.menuClassName})),ue=fe=>{ga(fe,h.value,!0)},se=()=>{i.escClose&&r("close-picker")},ve=fe=>{if(i.arrowNavigation){if(fe==="up")return C();if(fe==="down")return R();if(fe==="left")return N();if(fe==="right")return T()}else fe==="left"||fe==="up"?pe("handleArrow","left",0,fe==="up"):pe("handleArrow","right",0,fe==="down")},Se=fe=>{a(fe.shiftKey),!i.disableMonthYearSelect&&fe.code==="Tab"&&fe.target.classList.contains("dp__menu")&&l.value.shiftKeyInMenu&&(fe.preventDefault(),ga(fe,h.value,!0),r("close-picker"))},he=()=>{O(),r("time-picker-close")},Y=fe=>{var L,j,X;(L=I.value)==null||L.toggleTimePicker(!1,!1),(j=I.value)==null||j.toggleMonthPicker(!1,!1,fe),(X=I.value)==null||X.toggleYearPicker(!1,!1,fe)},ne=(fe,L=0)=>{var j,X,me;return fe==="month"?(j=I.value)==null?void 0:j.toggleMonthPicker(!1,!0,L):fe==="year"?(X=I.value)==null?void 0:X.toggleYearPicker(!1,!0,L):fe==="time"?(me=I.value)==null?void 0:me.toggleTimePicker(!0,!1):Y(L)},pe=(fe,...L)=>{var j,X;(j=I.value)!=null&&j[fe]&&((X=I.value)==null||X[fe](...L))},oe=()=>{pe("selectCurrentDate")},_e=(fe,L)=>{pe("presetDate",fe,L)},Ce=()=>{pe("clearHoverDate")};return e({updateMonthYear:(fe,L)=>{pe("updateMonthYear",fe,L)},switchView:ne}),(fe,L)=>{var j;return M(),W("div",{id:fe.uid?`dp-menu-${fe.uid}`:void 0,ref_key:"dpMenuRef",ref:g,tabindex:"0",role:"dialog",class:$e($.value),onMouseleave:Ce,onClick:ue,onKeydown:[bt(se,["esc"]),L[18]||(L[18]=bt(kt(X=>ve("left"),["prevent"]),["left"])),L[19]||(L[19]=bt(kt(X=>ve("up"),["prevent"]),["up"])),L[20]||(L[20]=bt(kt(X=>ve("down"),["prevent"]),["down"])),L[21]||(L[21]=bt(kt(X=>ve("right"),["prevent"]),["right"])),Se]},[(fe.disabled||fe.readonly)&&P(d).enabled?(M(),W("div",{key:0,class:$e(H.value)},null,2)):ee("",!0),!P(d).enabled&&!fe.teleportCenter?(M(),W("div",{key:1,class:$e(Z.value)},null,2)):ee("",!0),y("div",{ref_key:"innerMenuRef",ref:v,class:$e({dp__menu_content_wrapper:((j=fe.presetDates)==null?void 0:j.length)||!!fe.$slots["left-sidebar"]||!!fe.$slots["right-sidebar"]}),style:ar({"--dp-menu-width":`${m.value}px`})},[fe.$slots["left-sidebar"]?(M(),W("div",Sfe,[Te(fe.$slots,"left-sidebar",Mn(lr(q.value)))])):ee("",!0),fe.presetDates.length?(M(),W("div",Ife,[(M(!0),W(Pe,null,ht(fe.presetDates,(X,me)=>(M(),W(Pe,{key:me},[X.slot?Te(fe.$slots,X.slot,{key:0,presetDate:_e,label:X.label,value:X.value}):(M(),W("button",{key:1,type:"button",style:ar(X.style||{}),class:"dp__btn dp--preset-range",onClick:kt(ge=>_e(X.value,X.noTz),["prevent"]),onKeydown:[bt(kt(ge=>_e(X.value,X.noTz),["prevent"]),["enter"]),bt(kt(ge=>_e(X.value,X.noTz),["prevent"]),["space"])]},ze(X.label),45,Cfe))],64))),128))])):ee("",!0),y("div",{ref_key:"calendarWrapperRef",ref:p,class:"dp__instance_calendar",role:"document"},[(M(),de(xn(x.value),le({ref_key:"dynCmpRef",ref:I},o.value,{"flow-step":P(E),onMount:P(w),onUpdateFlowStep:P(b),onResetFlow:P(k),onFocusMenu:O,onSelectDate:L[0]||(L[0]=X=>fe.$emit("select-date")),onDateUpdate:L[1]||(L[1]=X=>fe.$emit("date-update",X)),onTooltipOpen:L[2]||(L[2]=X=>fe.$emit("tooltip-open",X)),onTooltipClose:L[3]||(L[3]=X=>fe.$emit("tooltip-close",X)),onAutoApply:L[4]||(L[4]=X=>fe.$emit("auto-apply",X)),onRangeStart:L[5]||(L[5]=X=>fe.$emit("range-start",X)),onRangeEnd:L[6]||(L[6]=X=>fe.$emit("range-end",X)),onInvalidFixedRange:L[7]||(L[7]=X=>fe.$emit("invalid-fixed-range",X)),onTimeUpdate:L[8]||(L[8]=X=>fe.$emit("time-update")),onAmPmChange:L[9]||(L[9]=X=>fe.$emit("am-pm-change",X)),onTimePickerOpen:L[10]||(L[10]=X=>fe.$emit("time-picker-open",X)),onTimePickerClose:he,onRecalculatePosition:V,onUpdateMonthYear:L[11]||(L[11]=X=>fe.$emit("update-month-year",X)),onAutoApplyInvalid:L[12]||(L[12]=X=>fe.$emit("auto-apply-invalid",X)),onInvalidDate:L[13]||(L[13]=X=>fe.$emit("invalid-date",X)),"onUpdate:internalModelValue":L[14]||(L[14]=X=>fe.$emit("update:internal-model-value",X))}),ur({_:2},[ht(G.value,(X,me)=>({name:X,fn:J(ge=>[Te(fe.$slots,X,Mn(lr({...ge})))])}))]),1040,["flow-step","onMount","onUpdateFlowStep","onResetFlow"]))],512),fe.$slots["right-sidebar"]?(M(),W("div",Afe,[Te(fe.$slots,"right-sidebar",Mn(lr(q.value)))])):ee("",!0),fe.$slots["action-extra"]?(M(),W("div",Pfe,[fe.$slots["action-extra"]?Te(fe.$slots,"action-extra",{key:0,selectCurrentDate:oe}):ee("",!0)])):ee("",!0)],6),!fe.autoApply||P(h).keepActionRow?(M(),de(Ohe,le({key:2,"menu-mount":A.value},o.value,{"calendar-width":m.value,onClosePicker:L[15]||(L[15]=X=>fe.$emit("close-picker")),onSelectDate:L[16]||(L[16]=X=>fe.$emit("select-date")),onInvalidSelect:L[17]||(L[17]=X=>fe.$emit("invalid-select")),onSelectNow:oe}),ur({_:2},[ht(P(F),(X,me)=>({name:X,fn:J(ge=>[Te(fe.$slots,X,Mn(lr({...ge})))])}))]),1040,["menu-mount","calendar-width"])):ee("",!0)],42,Efe)}}}),Ofe=typeof window<"u"?window:void 0,mb=()=>{},kfe=t=>tf()?(vg(t),!0):!1,Rfe=(t,e,n,r)=>{if(!t)return mb;let i=mb;const o=pn(()=>P(t),a=>{i(),a&&(a.addEventListener(e,n,r),i=()=>{a.removeEventListener(e,n,r),i=mb})},{immediate:!0,flush:"post"}),s=()=>{o(),i()};return kfe(s),s},xfe=(t,e,n,r={})=>{const{window:i=Ofe,event:o="pointerdown"}=r;return i?Rfe(i,o,s=>{const a=pr(t),l=pr(e);!a||!l||a===s.target||s.composedPath().includes(a)||s.composedPath().includes(l)||n(s)},{passive:!0}):void 0},Dfe=Me({compatConfig:{MODE:3},__name:"VueDatePicker",props:{...kv},emits:["update:model-value","update:model-timezone-value","text-submit","closed","cleared","open","focus","blur","internal-model-change","recalculate-position","flow-step","update-month-year","invalid-select","invalid-fixed-range","tooltip-open","tooltip-close","time-picker-open","time-picker-close","am-pm-change","range-start","range-end","date-update","invalid-date"],setup(t,{expose:e,emit:n}){const r=n,i=t,o=ka(),s=ie(!1),a=Xu(i,"modelValue"),l=Xu(i,"timezone"),u=ie(null),c=ie(null),d=ie(null),h=ie(!1),p=ie(null),m=ie(!1),g=ie(!1),{setMenuFocused:v,setShiftKey:A}=jL(),{clearArrowNav:I}=Va(),{mapDatesArrToMap:S,validateDate:T,isValidTime:N}=Kl(i),{defaultedTransitions:R,defaultedTextInput:C,defaultedInline:E,defaultedConfig:b}=nr(i),{menuTransition:w,showTransition:k}=kf(R);Vt(()=>{ve(i.modelValue),tr().then(()=>{if(!E.value.enabled){const we=H(p.value);we==null||we.addEventListener("scroll",fe),window==null||window.addEventListener("resize",L)}}),E.value.enabled&&(s.value=!0),window==null||window.addEventListener("keyup",j),window==null||window.addEventListener("keydown",X)});const x=te(()=>S());Go(()=>{if(!E.value.enabled){const we=H(p.value);we==null||we.removeEventListener("scroll",fe),window==null||window.removeEventListener("resize",L)}window==null||window.removeEventListener("keyup",j),window==null||window.removeEventListener("keydown",X)});const O=Vi(o,"all",i.presetDates),q=Vi(o,"input");pn([a,l],()=>{ve(a.value)},{deep:!0});const{openOnTop:V,menuStyle:F,xCorrect:G,setMenuPosition:Z,getScrollableParent:H,shadowRender:$}=vhe({menuRef:u,menuRefInner:c,inputRef:d,pickerWrapperRef:p,inline:E,emit:r,props:i,slots:o}),{inputValue:ue,internalModelValue:se,parseExternalModelValue:ve,emitModelValue:Se,formatInputValue:he,checkBeforeEmit:Y}=mhe(r,i,h),ne=te(()=>({dp__main:!0,dp__theme_dark:i.dark,dp__theme_light:!i.dark,dp__flex_display:E.value.enabled,dp__flex_display_with_input:E.value.input})),pe=te(()=>i.dark?"dp__theme_dark":"dp__theme_light"),oe=te(()=>({to:typeof i.teleport=="boolean"?"body":i.teleport,disabled:!i.teleport||E.value.enabled})),_e=te(()=>({class:"dp__outer_menu_wrap"})),Ce=te(()=>E.value.enabled&&(i.timePicker||i.monthPicker||i.yearPicker||i.quarterPicker)),fe=()=>{s.value&&(b.value.closeOnScroll?He():Z())},L=()=>{s.value&&Z()},j=we=>{we.key==="Tab"&&!E.value.enabled&&!i.teleport&&b.value.tabOutClosesMenu&&(p.value.contains(document.activeElement)||He()),g.value=we.shiftKey},X=we=>{g.value=we.shiftKey},me=()=>{!i.disabled&&!i.readonly&&($($P,i),Z(!1),s.value=!0,s.value&&r("open"),s.value||je(),ve(i.modelValue))},ge=()=>{var we;ue.value="",je(),(we=d.value)==null||we.setParsedDate(null),r("update:model-value",null),r("update:model-timezone-value",null),r("cleared"),b.value.closeOnClearValue&&He()},Ae=()=>{const we=se.value;return!we||!Array.isArray(we)&&T(we)?!0:Array.isArray(we)?i.multiDates||we.length===2&&T(we[0])&&T(we[1])?!0:i.partialRange&&!i.timePicker?T(we[0]):!1:!1},Ve=()=>{Y()&&Ae()?(Se(),He()):r("invalid-select",se.value)},ke=we=>{xe(),Se(),b.value.closeOnAutoApply&&!we&&He()},xe=()=>{d.value&&C.value.enabled&&d.value.setParsedDate(se.value)},Ie=(we=!1)=>{i.autoApply&&N(se.value)&&Ae()&&(i.range&&Array.isArray(se.value)?(i.partialRange||se.value.length===2)&&ke(we):ke(we))},je=()=>{C.value.enabled||(se.value=null)},He=()=>{E.value.enabled||(s.value&&(s.value=!1,G.value=!1,v(!1),A(!1),I(),r("closed"),ue.value&&ve(a.value)),je(),r("blur"))},Qe=(we,De,Fe=!1)=>{if(!we){se.value=null;return}const nt=Array.isArray(we)?!we.some(ut=>!T(ut)):T(we),Ye=N(we);nt&&Ye&&(se.value=we,De&&(m.value=Fe,Ve(),r("text-submit")))},lt=()=>{i.autoApply&&N(se.value)&&Se(),xe()},et=()=>s.value?He():me(),re=we=>{se.value=we},K=()=>{C.value.enabled&&(h.value=!0,he()),r("focus")},Q=()=>{if(C.value.enabled&&(h.value=!1,ve(i.modelValue),m.value)){const we=Gde(p.value,g.value);we==null||we.focus()}r("blur")},ae=we=>{c.value&&c.value.updateMonthYear(0,{month:RP(we.month),year:RP(we.year)})},be=we=>{ve(we??i.modelValue)},Ue=(we,De)=>{var Fe;(Fe=c.value)==null||Fe.switchView(we,De)},tt=we=>b.value.onClickOutside?b.value.onClickOutside(we):He();return xfe(u,d,()=>tt(Ae)),e({closeMenu:He,selectDate:Ve,clearValue:ge,openMenu:me,onScroll:fe,formatInputValue:he,updateInternalModelValue:re,setMonthYear:ae,parseModel:be,switchView:Ue,toggleMenu:et}),(we,De)=>(M(),W("div",{ref_key:"pickerWrapperRef",ref:p,class:$e(ne.value),"data-datepicker-instance":""},[B(Ihe,le({ref_key:"inputRef",ref:d,"input-value":P(ue),"onUpdate:inputValue":De[0]||(De[0]=Fe=>_n(ue)?ue.value=Fe:null),"is-menu-open":s.value},we.$props,{onClear:ge,onOpen:me,onSetInputDate:Qe,onSetEmptyDate:P(Se),onSelectDate:Ve,onToggle:et,onClose:He,onFocus:K,onBlur:Q,onRealBlur:De[1]||(De[1]=Fe=>h.value=!1)}),ur({_:2},[ht(P(q),(Fe,nt)=>({name:Fe,fn:J(Ye=>[Te(we.$slots,Fe,Mn(lr(Ye)))])}))]),1040,["input-value","is-menu-open","onSetEmptyDate"]),B(q_,Mn(lr(oe.value)),{default:J(()=>[B(to,{name:P(w)(P(V)),css:P(k)&&!P(E).enabled},{default:J(()=>[s.value?(M(),W("div",le({key:0,ref_key:"dpWrapMenuRef",ref:u},_e.value,{class:{"dp--menu-wrapper":!P(E).enabled},style:P(E).enabled?void 0:P(F)}),[B($P,le({ref_key:"dpMenuRef",ref:c},we.$props,{"internal-model-value":P(se),"onUpdate:internalModelValue":De[2]||(De[2]=Fe=>_n(se)?se.value=Fe:null),class:{[pe.value]:!0,"dp--menu-wrapper":we.teleport},"open-on-top":P(V),"arr-map-values":x.value,"no-overlay-focus":Ce.value,onClosePicker:He,onSelectDate:Ve,onAutoApply:Ie,onTimeUpdate:lt,onFlowStep:De[3]||(De[3]=Fe=>we.$emit("flow-step",Fe)),onUpdateMonthYear:De[4]||(De[4]=Fe=>we.$emit("update-month-year",Fe)),onInvalidSelect:De[5]||(De[5]=Fe=>we.$emit("invalid-select",P(se))),onAutoApplyInvalid:De[6]||(De[6]=Fe=>we.$emit("invalid-select",Fe)),onInvalidFixedRange:De[7]||(De[7]=Fe=>we.$emit("invalid-fixed-range",Fe)),onRecalculatePosition:P(Z),onTooltipOpen:De[8]||(De[8]=Fe=>we.$emit("tooltip-open",Fe)),onTooltipClose:De[9]||(De[9]=Fe=>we.$emit("tooltip-close",Fe)),onTimePickerOpen:De[10]||(De[10]=Fe=>we.$emit("time-picker-open",Fe)),onTimePickerClose:De[11]||(De[11]=Fe=>we.$emit("time-picker-close",Fe)),onAmPmChange:De[12]||(De[12]=Fe=>we.$emit("am-pm-change",Fe)),onRangeStart:De[13]||(De[13]=Fe=>we.$emit("range-start",Fe)),onRangeEnd:De[14]||(De[14]=Fe=>we.$emit("range-end",Fe)),onDateUpdate:De[15]||(De[15]=Fe=>we.$emit("date-update",Fe)),onInvalidDate:De[16]||(De[16]=Fe=>we.$emit("invalid-date",Fe))}),ur({_:2},[ht(P(O),(Fe,nt)=>({name:Fe,fn:J(Ye=>[Te(we.$slots,Fe,Mn(lr({...Ye})))])}))]),1040,["internal-model-value","class","open-on-top","arr-map-values","no-overlay-focus","onRecalculatePosition"])],16)):ee("",!0)]),_:3},8,["name","css"])]),_:3},16)],2))}}),_T=(()=>{const t=Dfe;return t.install=e=>{e.component("Vue3DatePicker",t)},t})(),Nfe=Object.freeze(Object.defineProperty({__proto__:null,default:_T},Symbol.toStringTag,{value:"Module"}));Object.entries(Nfe).forEach(([t,e])=>{t!=="default"&&(_T[t]=e)});var Hr={STARTS_WITH:"startsWith",CONTAINS:"contains",NOT_CONTAINS:"notContains",ENDS_WITH:"endsWith",EQUALS:"equals",NOT_EQUALS:"notEquals",IN:"in",LESS_THAN:"lt",LESS_THAN_OR_EQUAL_TO:"lte",GREATER_THAN:"gt",GREATER_THAN_OR_EQUAL_TO:"gte",BETWEEN:"between",DATE_IS:"dateIs",DATE_IS_NOT:"dateIsNot",DATE_BEFORE:"dateBefore",DATE_AFTER:"dateAfter"};function FP(t,e){var n=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=Mfe(t))||e&&t&&typeof t.length=="number"){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(u){throw u},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var o=!0,s=!1,a;return{s:function(){n=n.call(t)},n:function(){var u=n.next();return o=u.done,u},e:function(u){s=!0,a=u},f:function(){try{!o&&n.return!=null&&n.return()}finally{if(s)throw a}}}}function Mfe(t,e){if(t){if(typeof t=="string")return UP(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return UP(t,e)}}function UP(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var YL={filter:function(e,n,r,i,o){var s=[];if(!e)return s;var a=FP(e),l;try{for(a.s();!(l=a.n()).done;){var u=l.value;if(typeof u=="string"){if(this.filters[i](u,r,o)){s.push(u);continue}}else{var c=FP(n),d;try{for(c.s();!(d=c.n()).done;){var h=d.value,p=Ne.resolveFieldData(u,h);if(this.filters[i](p,r,o)){s.push(u);break}}}catch(m){c.e(m)}finally{c.f()}}}}catch(m){a.e(m)}finally{a.f()}return s},filters:{startsWith:function(e,n,r){if(n==null||n==="")return!0;if(e==null)return!1;var i=Ne.removeAccents(n.toString()).toLocaleLowerCase(r),o=Ne.removeAccents(e.toString()).toLocaleLowerCase(r);return o.slice(0,i.length)===i},contains:function(e,n,r){if(n==null||n==="")return!0;if(e==null)return!1;var i=Ne.removeAccents(n.toString()).toLocaleLowerCase(r),o=Ne.removeAccents(e.toString()).toLocaleLowerCase(r);return o.indexOf(i)!==-1},notContains:function(e,n,r){if(n==null||n==="")return!0;if(e==null)return!1;var i=Ne.removeAccents(n.toString()).toLocaleLowerCase(r),o=Ne.removeAccents(e.toString()).toLocaleLowerCase(r);return o.indexOf(i)===-1},endsWith:function(e,n,r){if(n==null||n==="")return!0;if(e==null)return!1;var i=Ne.removeAccents(n.toString()).toLocaleLowerCase(r),o=Ne.removeAccents(e.toString()).toLocaleLowerCase(r);return o.indexOf(i,o.length-i.length)!==-1},equals:function(e,n,r){return n==null||n===""?!0:e==null?!1:e.getTime&&n.getTime?e.getTime()===n.getTime():Ne.removeAccents(e.toString()).toLocaleLowerCase(r)==Ne.removeAccents(n.toString()).toLocaleLowerCase(r)},notEquals:function(e,n,r){return n==null||n===""?!1:e==null?!0:e.getTime&&n.getTime?e.getTime()!==n.getTime():Ne.removeAccents(e.toString()).toLocaleLowerCase(r)!=Ne.removeAccents(n.toString()).toLocaleLowerCase(r)},in:function(e,n){if(n==null||n.length===0)return!0;for(var r=0;r<n.length;r++)if(Ne.equals(e,n[r]))return!0;return!1},between:function(e,n){return n==null||n[0]==null||n[1]==null?!0:e==null?!1:e.getTime?n[0].getTime()<=e.getTime()&&e.getTime()<=n[1].getTime():n[0]<=e&&e<=n[1]},lt:function(e,n){return n==null?!0:e==null?!1:e.getTime&&n.getTime?e.getTime()<n.getTime():e<n},lte:function(e,n){return n==null?!0:e==null?!1:e.getTime&&n.getTime?e.getTime()<=n.getTime():e<=n},gt:function(e,n){return n==null?!0:e==null?!1:e.getTime&&n.getTime?e.getTime()>n.getTime():e>n},gte:function(e,n){return n==null?!0:e==null?!1:e.getTime&&n.getTime?e.getTime()>=n.getTime():e>=n},dateIs:function(e,n){return n==null?!0:e==null?!1:e.toDateString()===n.toDateString()},dateIsNot:function(e,n){return n==null?!0:e==null?!1:e.toDateString()!==n.toDateString()},dateBefore:function(e,n){return n==null?!0:e==null?!1:e.getTime()<n.getTime()},dateAfter:function(e,n){return n==null?!0:e==null?!1:e.getTime()>n.getTime()}},register:function(e,n){this.filters[e]=n}};function Kh(t){"@babel/helpers - typeof";return Kh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Kh(t)}function qP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function gb(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?qP(Object(n),!0).forEach(function(r){Lfe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):qP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Lfe(t,e,n){return e=Vfe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Vfe(t){var e=$fe(t,"string");return Kh(e)=="symbol"?e:String(e)}function $fe(t,e){if(Kh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Kh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var BP={ripple:!1,inputStyle:null,locale:{startsWith:"Starts with",contains:"Contains",notContains:"Not contains",endsWith:"Ends with",equals:"Equals",notEquals:"Not equals",noFilter:"No Filter",lt:"Less than",lte:"Less than or equal to",gt:"Greater than",gte:"Greater than or equal to",dateIs:"Date is",dateIsNot:"Date is not",dateBefore:"Date is before",dateAfter:"Date is after",clear:"Clear",apply:"Apply",matchAll:"Match All",matchAny:"Match Any",addRule:"Add Rule",removeRule:"Remove Rule",accept:"Yes",reject:"No",choose:"Choose",upload:"Upload",cancel:"Cancel",completed:"Completed",pending:"Pending",fileSizeTypes:["B","KB","MB","GB","TB","PB","EB","ZB","YB"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],chooseYear:"Choose Year",chooseMonth:"Choose Month",chooseDate:"Choose Date",prevDecade:"Previous Decade",nextDecade:"Next Decade",prevYear:"Previous Year",nextYear:"Next Year",prevMonth:"Previous Month",nextMonth:"Next Month",prevHour:"Previous Hour",nextHour:"Next Hour",prevMinute:"Previous Minute",nextMinute:"Next Minute",prevSecond:"Previous Second",nextSecond:"Next Second",am:"am",pm:"pm",today:"Today",weekHeader:"Wk",firstDayOfWeek:0,showMonthAfterYear:!1,dateFormat:"mm/dd/yy",weak:"Weak",medium:"Medium",strong:"Strong",passwordPrompt:"Enter a password",emptyFilterMessage:"No results found",searchMessage:"{0} results are available",selectionMessage:"{0} items selected",emptySelectionMessage:"No selected item",emptySearchMessage:"No results found",emptyMessage:"No available options",aria:{trueLabel:"True",falseLabel:"False",nullLabel:"Not Selected",star:"1 star",stars:"{star} stars",selectAll:"All items selected",unselectAll:"All items unselected",close:"Close",previous:"Previous",next:"Next",navigation:"Navigation",scrollTop:"Scroll Top",moveTop:"Move Top",moveUp:"Move Up",moveDown:"Move Down",moveBottom:"Move Bottom",moveToTarget:"Move to Target",moveToSource:"Move to Source",moveAllToTarget:"Move All to Target",moveAllToSource:"Move All to Source",pageLabel:"Page {page}",firstPageLabel:"First Page",lastPageLabel:"Last Page",nextPageLabel:"Next Page",prevPageLabel:"Previous Page",rowsPerPageLabel:"Rows per page",jumpToPageDropdownLabel:"Jump to Page Dropdown",jumpToPageInputLabel:"Jump to Page Input",selectRow:"Row Selected",unselectRow:"Row Unselected",expandRow:"Row Expanded",collapseRow:"Row Collapsed",showFilterMenu:"Show Filter Menu",hideFilterMenu:"Hide Filter Menu",filterOperator:"Filter Operator",filterConstraint:"Filter Constraint",editRow:"Row Edit",saveEdit:"Save Edit",cancelEdit:"Cancel Edit",listView:"List View",gridView:"Grid View",slide:"Slide",slideNumber:"{slideNumber}",zoomImage:"Zoom Image",zoomIn:"Zoom In",zoomOut:"Zoom Out",rotateRight:"Rotate Right",rotateLeft:"Rotate Left",listLabel:"Option List"}},filterMatchModeOptions:{text:[Hr.STARTS_WITH,Hr.CONTAINS,Hr.NOT_CONTAINS,Hr.ENDS_WITH,Hr.EQUALS,Hr.NOT_EQUALS],numeric:[Hr.EQUALS,Hr.NOT_EQUALS,Hr.LESS_THAN,Hr.LESS_THAN_OR_EQUAL_TO,Hr.GREATER_THAN,Hr.GREATER_THAN_OR_EQUAL_TO],date:[Hr.DATE_IS,Hr.DATE_IS_NOT,Hr.DATE_BEFORE,Hr.DATE_AFTER]},zIndex:{modal:1100,overlay:1e3,menu:1e3,tooltip:1100},pt:void 0,ptOptions:{mergeSections:!0,mergeProps:!1},unstyled:!1,csp:{nonce:void 0}},Ffe=Symbol();function Ufe(t,e,n,r){if(t!==e){var i=document.getElementById(n),o=i.cloneNode(!0),s=i.getAttribute("href").replace(t,e);o.setAttribute("id",n+"-clone"),o.setAttribute("href",s),o.addEventListener("load",function(){i.remove(),o.setAttribute("id",n),r&&r()}),i.parentNode&&i.parentNode.insertBefore(o,i.nextSibling)}}var qfe={install:function(e,n){var r=n?gb(gb({},BP),n):gb({},BP),i={config:Pr(r),changeTheme:Ufe};e.config.globalProperties.$primevue=i,e.provide(Ffe,i)}},XL={name:"BlankIcon",extends:Ma},Bfe=y("rect",{width:"1",height:"1",fill:"currentColor","fill-opacity":"0"},null,-1),jfe=[Bfe];function Hfe(t,e,n,r,i,o){return M(),W("svg",le({width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t.pti()),jfe,16)}XL.render=Hfe;var Dv={name:"CheckIcon",extends:Ma},Wfe=y("path",{d:"M4.86199 11.5948C4.78717 11.5923 4.71366 11.5745 4.64596 11.5426C4.57826 11.5107 4.51779 11.4652 4.46827 11.4091L0.753985 7.69483C0.683167 7.64891 0.623706 7.58751 0.580092 7.51525C0.536478 7.44299 0.509851 7.36177 0.502221 7.27771C0.49459 7.19366 0.506156 7.10897 0.536046 7.03004C0.565935 6.95111 0.613367 6.88 0.674759 6.82208C0.736151 6.76416 0.8099 6.72095 0.890436 6.69571C0.970973 6.67046 1.05619 6.66385 1.13966 6.67635C1.22313 6.68886 1.30266 6.72017 1.37226 6.76792C1.44186 6.81567 1.4997 6.8786 1.54141 6.95197L4.86199 10.2503L12.6397 2.49483C12.7444 2.42694 12.8689 2.39617 12.9932 2.40745C13.1174 2.41873 13.2343 2.47141 13.3251 2.55705C13.4159 2.64268 13.4753 2.75632 13.4938 2.87973C13.5123 3.00315 13.4888 3.1292 13.4271 3.23768L5.2557 11.4091C5.20618 11.4652 5.14571 11.5107 5.07801 11.5426C5.01031 11.5745 4.9368 11.5923 4.86199 11.5948Z",fill:"currentColor"},null,-1),zfe=[Wfe];function Kfe(t,e,n,r,i,o){return M(),W("svg",le({width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t.pti()),zfe,16)}Dv.render=Kfe;var wT={name:"SearchIcon",extends:Ma},Gfe=y("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M2.67602 11.0265C3.6661 11.688 4.83011 12.0411 6.02086 12.0411C6.81149 12.0411 7.59438 11.8854 8.32483 11.5828C8.87005 11.357 9.37808 11.0526 9.83317 10.6803L12.9769 13.8241C13.0323 13.8801 13.0983 13.9245 13.171 13.9548C13.2438 13.985 13.3219 14.0003 13.4007 14C13.4795 14.0003 13.5575 13.985 13.6303 13.9548C13.7031 13.9245 13.7691 13.8801 13.8244 13.8241C13.9367 13.7116 13.9998 13.5592 13.9998 13.4003C13.9998 13.2414 13.9367 13.089 13.8244 12.9765L10.6807 9.8328C11.053 9.37773 11.3573 8.86972 11.5831 8.32452C11.8857 7.59408 12.0414 6.81119 12.0414 6.02056C12.0414 4.8298 11.6883 3.66579 11.0268 2.67572C10.3652 1.68564 9.42494 0.913972 8.32483 0.45829C7.22472 0.00260857 6.01418 -0.116618 4.84631 0.115686C3.67844 0.34799 2.60568 0.921393 1.76369 1.76338C0.921698 2.60537 0.348296 3.67813 0.115991 4.84601C-0.116313 6.01388 0.00291375 7.22441 0.458595 8.32452C0.914277 9.42464 1.68595 10.3649 2.67602 11.0265ZM3.35565 2.0158C4.14456 1.48867 5.07206 1.20731 6.02086 1.20731C7.29317 1.20731 8.51338 1.71274 9.41304 2.6124C10.3127 3.51206 10.8181 4.73226 10.8181 6.00457C10.8181 6.95337 10.5368 7.88088 10.0096 8.66978C9.48251 9.45868 8.73328 10.0736 7.85669 10.4367C6.98011 10.7997 6.01554 10.8947 5.08496 10.7096C4.15439 10.5245 3.2996 10.0676 2.62869 9.39674C1.95778 8.72583 1.50089 7.87104 1.31579 6.94046C1.13068 6.00989 1.22568 5.04532 1.58878 4.16874C1.95187 3.29215 2.56675 2.54292 3.35565 2.0158Z",fill:"currentColor"},null,-1),Yfe=[Gfe];function Xfe(t,e,n,r,i,o){return M(),W("svg",le({width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t.pti()),Yfe,16)}wT.render=Xfe;var TT={name:"TimesIcon",extends:Ma},Qfe=y("path",{d:"M8.01186 7.00933L12.27 2.75116C12.341 2.68501 12.398 2.60524 12.4375 2.51661C12.4769 2.42798 12.4982 2.3323 12.4999 2.23529C12.5016 2.13827 12.4838 2.0419 12.4474 1.95194C12.4111 1.86197 12.357 1.78024 12.2884 1.71163C12.2198 1.64302 12.138 1.58893 12.0481 1.55259C11.9581 1.51625 11.8617 1.4984 11.7647 1.50011C11.6677 1.50182 11.572 1.52306 11.4834 1.56255C11.3948 1.60204 11.315 1.65898 11.2488 1.72997L6.99067 5.98814L2.7325 1.72997C2.59553 1.60234 2.41437 1.53286 2.22718 1.53616C2.03999 1.53946 1.8614 1.61529 1.72901 1.74767C1.59663 1.88006 1.5208 2.05865 1.5175 2.24584C1.5142 2.43303 1.58368 2.61419 1.71131 2.75116L5.96948 7.00933L1.71131 11.2675C1.576 11.403 1.5 11.5866 1.5 11.7781C1.5 11.9696 1.576 12.1532 1.71131 12.2887C1.84679 12.424 2.03043 12.5 2.2219 12.5C2.41338 12.5 2.59702 12.424 2.7325 12.2887L6.99067 8.03052L11.2488 12.2887C11.3843 12.424 11.568 12.5 11.7594 12.5C11.9509 12.5 12.1346 12.424 12.27 12.2887C12.4053 12.1532 12.4813 11.9696 12.4813 11.7781C12.4813 11.5866 12.4053 11.403 12.27 11.2675L8.01186 7.00933Z",fill:"currentColor"},null,-1),Jfe=[Qfe];function Zfe(t,e,n,r,i,o){return M(),W("svg",le({width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t.pti()),Jfe,16)}TT.render=Zfe;var QL=pY(),ET={name:"Portal",props:{appendTo:{type:[String,Object],default:"body"},disabled:{type:Boolean,default:!1}},data:function(){return{mounted:!1}},mounted:function(){this.mounted=We.isClient()},computed:{inline:function(){return this.disabled||this.appendTo==="self"}}};function epe(t,e,n,r,i,o){return o.inline?Te(t.$slots,"default",{key:0}):i.mounted?(M(),de(q_,{key:1,to:n.appendTo},[Te(t.$slots,"default")],8,["to"])):ee("",!0)}ET.render=epe;var tpe=`
@layer primevue {
    .p-virtualscroller {
        position: relative;
        overflow: auto;
        contain: strict;
        transform: translateZ(0);
        will-change: scroll-position;
        outline: 0 none;
    }

    .p-virtualscroller-content {
        position: absolute;
        top: 0;
        left: 0;
        /* contain: content; */
        min-height: 100%;
        min-width: 100%;
        will-change: transform;
    }

    .p-virtualscroller-spacer {
        position: absolute;
        top: 0;
        left: 0;
        height: 1px;
        width: 1px;
        transform-origin: 0 0;
        pointer-events: none;
    }

    .p-virtualscroller .p-virtualscroller-loader {
        position: sticky;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
    }

    .p-virtualscroller-loader.p-component-overlay {
        display: flex;
        align-items: center;
        justify-content: center;
    }

    .p-virtualscroller-loading-icon {
        font-size: 2rem;
    }

    .p-virtualscroller-loading-icon.p-icon {
        width: 2rem;
        height: 2rem;
    }

    .p-virtualscroller-horizontal > .p-virtualscroller-content {
        display: flex;
    }

    /* Inline */
    .p-virtualscroller-inline .p-virtualscroller-content {
        position: static;
    }
}
`,jP=dr.extend({name:"virtualscroller",css:tpe}),npe={name:"BaseVirtualScroller",extends:si,props:{id:{type:String,default:null},style:null,class:null,items:{type:Array,default:null},itemSize:{type:[Number,Array],default:0},scrollHeight:null,scrollWidth:null,orientation:{type:String,default:"vertical"},numToleratedItems:{type:Number,default:null},delay:{type:Number,default:0},resizeDelay:{type:Number,default:10},lazy:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},loaderDisabled:{type:Boolean,default:!1},columns:{type:Array,default:null},loading:{type:Boolean,default:!1},showSpacer:{type:Boolean,default:!0},showLoader:{type:Boolean,default:!1},tabindex:{type:Number,default:0},inline:{type:Boolean,default:!1},step:{type:Number,default:0},appendOnly:{type:Boolean,default:!1},autoSize:{type:Boolean,default:!1}},style:jP,provide:function(){return{$parentInstance:this}},beforeMount:function(){var e;jP.loadStyle({nonce:(e=this.$primevueConfig)===null||e===void 0||(e=e.csp)===null||e===void 0?void 0:e.nonce})}};function Gh(t){"@babel/helpers - typeof";return Gh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gh(t)}function HP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function gd(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?HP(Object(n),!0).forEach(function(r){JL(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):HP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function JL(t,e,n){return e=rpe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function rpe(t){var e=ipe(t,"string");return Gh(e)=="symbol"?e:String(e)}function ipe(t,e){if(Gh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Gh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ST={name:"VirtualScroller",extends:npe,inheritAttrs:!1,emits:["update:numToleratedItems","scroll","scroll-index-change","lazy-load"],data:function(){var e=this.isBoth();return{first:e?{rows:0,cols:0}:0,last:e?{rows:0,cols:0}:0,page:e?{rows:0,cols:0}:0,numItemsInViewport:e?{rows:0,cols:0}:0,lastScrollPos:e?{top:0,left:0}:0,d_numToleratedItems:this.numToleratedItems,d_loading:this.loading,loaderArr:[],spacerStyle:{},contentStyle:{}}},element:null,content:null,lastScrollPos:null,scrollTimeout:null,resizeTimeout:null,defaultWidth:0,defaultHeight:0,defaultContentWidth:0,defaultContentHeight:0,isRangeChanged:!1,lazyLoadState:{},resizeListener:null,initialized:!1,watch:{numToleratedItems:function(e){this.d_numToleratedItems=e},loading:function(e,n){this.lazy&&e!==n&&e!==this.d_loading&&(this.d_loading=e)},items:function(e,n){(!n||n.length!==(e||[]).length)&&(this.init(),this.calculateAutoSize())},itemSize:function(){this.init(),this.calculateAutoSize()},orientation:function(){this.lastScrollPos=this.isBoth()?{top:0,left:0}:0},scrollHeight:function(){this.init(),this.calculateAutoSize()},scrollWidth:function(){this.init(),this.calculateAutoSize()}},mounted:function(){this.viewInit(),this.lastScrollPos=this.isBoth()?{top:0,left:0}:0,this.lazyLoadState=this.lazyLoadState||{}},updated:function(){!this.initialized&&this.viewInit()},unmounted:function(){this.unbindResizeListener(),this.initialized=!1},methods:{viewInit:function(){We.isVisible(this.element)&&(this.setContentEl(this.content),this.init(),this.calculateAutoSize(),this.bindResizeListener(),this.defaultWidth=We.getWidth(this.element),this.defaultHeight=We.getHeight(this.element),this.defaultContentWidth=We.getWidth(this.content),this.defaultContentHeight=We.getHeight(this.content),this.initialized=!0)},init:function(){this.disabled||(this.setSize(),this.calculateOptions(),this.setSpacerSize())},isVertical:function(){return this.orientation==="vertical"},isHorizontal:function(){return this.orientation==="horizontal"},isBoth:function(){return this.orientation==="both"},scrollTo:function(e){this.element&&this.element.scrollTo(e)},scrollToIndex:function(e){var n=this,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"auto",i=this.isBoth(),o=this.isHorizontal(),s=i?e.every(function(C){return C>-1}):e>-1;if(s){var a=this.first,l=this.element,u=l.scrollTop,c=u===void 0?0:u,d=l.scrollLeft,h=d===void 0?0:d,p=this.calculateNumItems(),m=p.numToleratedItems,g=this.getContentPosition(),v=this.itemSize,A=function(){var E=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,b=arguments.length>1?arguments[1]:void 0;return E<=b?0:E},I=function(E,b,w){return E*b+w},S=function(){var E=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,b=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return n.scrollTo({left:E,top:b,behavior:r})},T=i?{rows:0,cols:0}:0,N=!1,R=!1;i?(T={rows:A(e[0],m[0]),cols:A(e[1],m[1])},S(I(T.cols,v[1],g.left),I(T.rows,v[0],g.top)),R=this.lastScrollPos.top!==c||this.lastScrollPos.left!==h,N=T.rows!==a.rows||T.cols!==a.cols):(T=A(e,m),o?S(I(T,v,g.left),c):S(h,I(T,v,g.top)),R=this.lastScrollPos!==(o?h:c),N=T!==a),this.isRangeChanged=N,R&&(this.first=T)}},scrollInView:function(e,n){var r=this,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"auto";if(n){var o=this.isBoth(),s=this.isHorizontal(),a=o?e.every(function(v){return v>-1}):e>-1;if(a){var l=this.getRenderedRange(),u=l.first,c=l.viewport,d=function(){var A=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,I=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return r.scrollTo({left:A,top:I,behavior:i})},h=n==="to-start",p=n==="to-end";if(h){if(o)c.first.rows-u.rows>e[0]?d(c.first.cols*this.itemSize[1],(c.first.rows-1)*this.itemSize[0]):c.first.cols-u.cols>e[1]&&d((c.first.cols-1)*this.itemSize[1],c.first.rows*this.itemSize[0]);else if(c.first-u>e){var m=(c.first-1)*this.itemSize;s?d(m,0):d(0,m)}}else if(p){if(o)c.last.rows-u.rows<=e[0]+1?d(c.first.cols*this.itemSize[1],(c.first.rows+1)*this.itemSize[0]):c.last.cols-u.cols<=e[1]+1&&d((c.first.cols+1)*this.itemSize[1],c.first.rows*this.itemSize[0]);else if(c.last-u<=e+1){var g=(c.first+1)*this.itemSize;s?d(g,0):d(0,g)}}}}else this.scrollToIndex(e,i)},getRenderedRange:function(){var e=function(d,h){return Math.floor(d/(h||d))},n=this.first,r=0;if(this.element){var i=this.isBoth(),o=this.isHorizontal(),s=this.element,a=s.scrollTop,l=s.scrollLeft;if(i)n={rows:e(a,this.itemSize[0]),cols:e(l,this.itemSize[1])},r={rows:n.rows+this.numItemsInViewport.rows,cols:n.cols+this.numItemsInViewport.cols};else{var u=o?l:a;n=e(u,this.itemSize),r=n+this.numItemsInViewport}}return{first:this.first,last:this.last,viewport:{first:n,last:r}}},calculateNumItems:function(){var e=this.isBoth(),n=this.isHorizontal(),r=this.itemSize,i=this.getContentPosition(),o=this.element?this.element.offsetWidth-i.left:0,s=this.element?this.element.offsetHeight-i.top:0,a=function(h,p){return Math.ceil(h/(p||h))},l=function(h){return Math.ceil(h/2)},u=e?{rows:a(s,r[0]),cols:a(o,r[1])}:a(n?o:s,r),c=this.d_numToleratedItems||(e?[l(u.rows),l(u.cols)]:l(u));return{numItemsInViewport:u,numToleratedItems:c}},calculateOptions:function(){var e=this,n=this.isBoth(),r=this.first,i=this.calculateNumItems(),o=i.numItemsInViewport,s=i.numToleratedItems,a=function(c,d,h){var p=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;return e.getLast(c+d+(c<h?2:3)*h,p)},l=n?{rows:a(r.rows,o.rows,s[0]),cols:a(r.cols,o.cols,s[1],!0)}:a(r,o,s);this.last=l,this.numItemsInViewport=o,this.d_numToleratedItems=s,this.$emit("update:numToleratedItems",this.d_numToleratedItems),this.showLoader&&(this.loaderArr=n?Array.from({length:o.rows}).map(function(){return Array.from({length:o.cols})}):Array.from({length:o})),this.lazy&&Promise.resolve().then(function(){var u;e.lazyLoadState={first:e.step?n?{rows:0,cols:r.cols}:0:r,last:Math.min(e.step?e.step:l,((u=e.items)===null||u===void 0?void 0:u.length)||0)},e.$emit("lazy-load",e.lazyLoadState)})},calculateAutoSize:function(){var e=this;this.autoSize&&!this.d_loading&&Promise.resolve().then(function(){if(e.content){var n=e.isBoth(),r=e.isHorizontal(),i=e.isVertical();e.content.style.minHeight=e.content.style.minWidth="auto",e.content.style.position="relative",e.element.style.contain="none";var o=[We.getWidth(e.element),We.getHeight(e.element)],s=o[0],a=o[1];(n||r)&&(e.element.style.width=s<e.defaultWidth?s+"px":e.scrollWidth||e.defaultWidth+"px"),(n||i)&&(e.element.style.height=a<e.defaultHeight?a+"px":e.scrollHeight||e.defaultHeight+"px"),e.content.style.minHeight=e.content.style.minWidth="",e.content.style.position="",e.element.style.contain=""}})},getLast:function(){var e,n,r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,i=arguments.length>1?arguments[1]:void 0;return this.items?Math.min(i?((e=this.columns||this.items[0])===null||e===void 0?void 0:e.length)||0:((n=this.items)===null||n===void 0?void 0:n.length)||0,r):0},getContentPosition:function(){if(this.content){var e=getComputedStyle(this.content),n=parseFloat(e.paddingLeft)+Math.max(parseFloat(e.left)||0,0),r=parseFloat(e.paddingRight)+Math.max(parseFloat(e.right)||0,0),i=parseFloat(e.paddingTop)+Math.max(parseFloat(e.top)||0,0),o=parseFloat(e.paddingBottom)+Math.max(parseFloat(e.bottom)||0,0);return{left:n,right:r,top:i,bottom:o,x:n+r,y:i+o}}return{left:0,right:0,top:0,bottom:0,x:0,y:0}},setSize:function(){var e=this;if(this.element){var n=this.isBoth(),r=this.isHorizontal(),i=this.element.parentElement,o=this.scrollWidth||"".concat(this.element.offsetWidth||i.offsetWidth,"px"),s=this.scrollHeight||"".concat(this.element.offsetHeight||i.offsetHeight,"px"),a=function(u,c){return e.element.style[u]=c};n||r?(a("height",s),a("width",o)):a("height",s)}},setSpacerSize:function(){var e=this,n=this.items;if(n){var r=this.isBoth(),i=this.isHorizontal(),o=this.getContentPosition(),s=function(l,u,c){var d=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;return e.spacerStyle=gd(gd({},e.spacerStyle),JL({},"".concat(l),(u||[]).length*c+d+"px"))};r?(s("height",n,this.itemSize[0],o.y),s("width",this.columns||n[1],this.itemSize[1],o.x)):i?s("width",this.columns||n,this.itemSize,o.x):s("height",n,this.itemSize,o.y)}},setContentPosition:function(e){var n=this;if(this.content&&!this.appendOnly){var r=this.isBoth(),i=this.isHorizontal(),o=e?e.first:this.first,s=function(c,d){return c*d},a=function(){var c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return n.contentStyle=gd(gd({},n.contentStyle),{transform:"translate3d(".concat(c,"px, ").concat(d,"px, 0)")})};if(r)a(s(o.cols,this.itemSize[1]),s(o.rows,this.itemSize[0]));else{var l=s(o,this.itemSize);i?a(l,0):a(0,l)}}},onScrollPositionChange:function(e){var n=this,r=e.target,i=this.isBoth(),o=this.isHorizontal(),s=this.getContentPosition(),a=function(k,x){return k?k>x?k-x:k:0},l=function(k,x){return Math.floor(k/(x||k))},u=function(k,x,O,q,V,F){return k<=V?V:F?O-q-V:x+V-1},c=function(k,x,O,q,V,F,G){return k<=F?0:Math.max(0,G?k<x?O:k-F:k>x?O:k-2*F)},d=function(k,x,O,q,V,F){var G=x+q+2*V;return k>=V&&(G+=V+1),n.getLast(G,F)},h=a(r.scrollTop,s.top),p=a(r.scrollLeft,s.left),m=i?{rows:0,cols:0}:0,g=this.last,v=!1,A=this.lastScrollPos;if(i){var I=this.lastScrollPos.top<=h,S=this.lastScrollPos.left<=p;if(!this.appendOnly||this.appendOnly&&(I||S)){var T={rows:l(h,this.itemSize[0]),cols:l(p,this.itemSize[1])},N={rows:u(T.rows,this.first.rows,this.last.rows,this.numItemsInViewport.rows,this.d_numToleratedItems[0],I),cols:u(T.cols,this.first.cols,this.last.cols,this.numItemsInViewport.cols,this.d_numToleratedItems[1],S)};m={rows:c(T.rows,N.rows,this.first.rows,this.last.rows,this.numItemsInViewport.rows,this.d_numToleratedItems[0],I),cols:c(T.cols,N.cols,this.first.cols,this.last.cols,this.numItemsInViewport.cols,this.d_numToleratedItems[1],S)},g={rows:d(T.rows,m.rows,this.last.rows,this.numItemsInViewport.rows,this.d_numToleratedItems[0]),cols:d(T.cols,m.cols,this.last.cols,this.numItemsInViewport.cols,this.d_numToleratedItems[1],!0)},v=m.rows!==this.first.rows||g.rows!==this.last.rows||m.cols!==this.first.cols||g.cols!==this.last.cols||this.isRangeChanged,A={top:h,left:p}}}else{var R=o?p:h,C=this.lastScrollPos<=R;if(!this.appendOnly||this.appendOnly&&C){var E=l(R,this.itemSize),b=u(E,this.first,this.last,this.numItemsInViewport,this.d_numToleratedItems,C);m=c(E,b,this.first,this.last,this.numItemsInViewport,this.d_numToleratedItems,C),g=d(E,m,this.last,this.numItemsInViewport,this.d_numToleratedItems),v=m!==this.first||g!==this.last||this.isRangeChanged,A=R}}return{first:m,last:g,isRangeChanged:v,scrollPos:A}},onScrollChange:function(e){var n=this.onScrollPositionChange(e),r=n.first,i=n.last,o=n.isRangeChanged,s=n.scrollPos;if(o){var a={first:r,last:i};if(this.setContentPosition(a),this.first=r,this.last=i,this.lastScrollPos=s,this.$emit("scroll-index-change",a),this.lazy&&this.isPageChanged(r)){var l,u,c={first:this.step?Math.min(this.getPageByFirst(r)*this.step,(((l=this.items)===null||l===void 0?void 0:l.length)||0)-this.step):r,last:Math.min(this.step?(this.getPageByFirst(r)+1)*this.step:i,((u=this.items)===null||u===void 0?void 0:u.length)||0)},d=this.lazyLoadState.first!==c.first||this.lazyLoadState.last!==c.last;d&&this.$emit("lazy-load",c),this.lazyLoadState=c}}},onScroll:function(e){var n=this;if(this.$emit("scroll",e),this.delay){if(this.scrollTimeout&&clearTimeout(this.scrollTimeout),this.isPageChanged()){if(!this.d_loading&&this.showLoader){var r=this.onScrollPositionChange(e),i=r.isRangeChanged,o=i||(this.step?this.isPageChanged():!1);o&&(this.d_loading=!0)}this.scrollTimeout=setTimeout(function(){n.onScrollChange(e),n.d_loading&&n.showLoader&&(!n.lazy||n.loading===void 0)&&(n.d_loading=!1,n.page=n.getPageByFirst())},this.delay)}}else this.onScrollChange(e)},onResize:function(){var e=this;this.resizeTimeout&&clearTimeout(this.resizeTimeout),this.resizeTimeout=setTimeout(function(){if(We.isVisible(e.element)){var n=e.isBoth(),r=e.isVertical(),i=e.isHorizontal(),o=[We.getWidth(e.element),We.getHeight(e.element)],s=o[0],a=o[1],l=s!==e.defaultWidth,u=a!==e.defaultHeight,c=n?l||u:i?l:r?u:!1;c&&(e.d_numToleratedItems=e.numToleratedItems,e.defaultWidth=s,e.defaultHeight=a,e.defaultContentWidth=We.getWidth(e.content),e.defaultContentHeight=We.getHeight(e.content),e.init())}},this.resizeDelay)},bindResizeListener:function(){this.resizeListener||(this.resizeListener=this.onResize.bind(this),window.addEventListener("resize",this.resizeListener),window.addEventListener("orientationchange",this.resizeListener))},unbindResizeListener:function(){this.resizeListener&&(window.removeEventListener("resize",this.resizeListener),window.removeEventListener("orientationchange",this.resizeListener),this.resizeListener=null)},getOptions:function(e){var n=(this.items||[]).length,r=this.isBoth()?this.first.rows+e:this.first+e;return{index:r,count:n,first:r===0,last:r===n-1,even:r%2===0,odd:r%2!==0}},getLoaderOptions:function(e,n){var r=this.loaderArr.length;return gd({index:e,count:r,first:e===0,last:e===r-1,even:e%2===0,odd:e%2!==0},n)},getPageByFirst:function(e){return Math.floor(((e??this.first)+this.d_numToleratedItems*4)/(this.step||1))},isPageChanged:function(e){return this.step?this.page!==this.getPageByFirst(e??this.first):!0},setContentEl:function(e){this.content=e||this.content||We.findSingle(this.element,'[data-pc-section="content"]')},elementRef:function(e){this.element=e},contentRef:function(e){this.content=e}},computed:{containerClass:function(){return["p-virtualscroller",this.class,{"p-virtualscroller-inline":this.inline,"p-virtualscroller-both p-both-scroll":this.isBoth(),"p-virtualscroller-horizontal p-horizontal-scroll":this.isHorizontal()}]},contentClass:function(){return["p-virtualscroller-content",{"p-virtualscroller-loading":this.d_loading}]},loaderClass:function(){return["p-virtualscroller-loader",{"p-component-overlay":!this.$slots.loader}]},loadedItems:function(){var e=this;return this.items&&!this.d_loading?this.isBoth()?this.items.slice(this.appendOnly?0:this.first.rows,this.last.rows).map(function(n){return e.columns?n:n.slice(e.appendOnly?0:e.first.cols,e.last.cols)}):this.isHorizontal()&&this.columns?this.items:this.items.slice(this.appendOnly?0:this.first,this.last):[]},loadedRows:function(){return this.d_loading?this.loaderDisabled?this.loaderArr:[]:this.loadedItems},loadedColumns:function(){if(this.columns){var e=this.isBoth(),n=this.isHorizontal();if(e||n)return this.d_loading&&this.loaderDisabled?e?this.loaderArr[0]:this.loaderArr:this.columns.slice(e?this.first.cols:this.first,e?this.last.cols:this.last)}return this.columns}},components:{SpinnerIcon:Cf}},ope=["tabindex"];function spe(t,e,n,r,i,o){var s=Dn("SpinnerIcon");return t.disabled?(M(),W(Pe,{key:1},[Te(t.$slots,"default"),Te(t.$slots,"content",{items:t.items,rows:t.items,columns:o.loadedColumns})],64)):(M(),W("div",le({key:0,ref:o.elementRef,class:o.containerClass,tabindex:t.tabindex,style:t.style,onScroll:e[0]||(e[0]=function(){return o.onScroll&&o.onScroll.apply(o,arguments)})},t.ptmi("root")),[Te(t.$slots,"content",{styleClass:o.contentClass,items:o.loadedItems,getItemOptions:o.getOptions,loading:i.d_loading,getLoaderOptions:o.getLoaderOptions,itemSize:t.itemSize,rows:o.loadedRows,columns:o.loadedColumns,contentRef:o.contentRef,spacerStyle:i.spacerStyle,contentStyle:i.contentStyle,vertical:o.isVertical(),horizontal:o.isHorizontal(),both:o.isBoth()},function(){return[y("div",le({ref:o.contentRef,class:o.contentClass,style:i.contentStyle},t.ptm("content")),[(M(!0),W(Pe,null,ht(o.loadedItems,function(a,l){return Te(t.$slots,"item",{key:l,item:a,options:o.getOptions(l)})}),128))],16)]}),t.showSpacer?(M(),W("div",le({key:0,class:"p-virtualscroller-spacer",style:i.spacerStyle},t.ptm("spacer")),null,16)):ee("",!0),!t.loaderDisabled&&t.showLoader&&i.d_loading?(M(),W("div",le({key:1,class:o.loaderClass},t.ptm("loader")),[t.$slots&&t.$slots.loader?(M(!0),W(Pe,{key:0},ht(i.loaderArr,function(a,l){return Te(t.$slots,"loader",{key:l,options:o.getLoaderOptions(l,o.isBoth()&&{numCols:t.d_numItemsInViewport.cols})})}),128)):ee("",!0),Te(t.$slots,"loadingicon",{},function(){return[B(s,le({spin:"",class:"p-virtualscroller-loading-icon"},t.ptm("loadingIcon")),null,16)]})],16)):ee("",!0)],16,ope))}ST.render=spe;var ape={root:function(e){var n=e.instance,r=e.props,i=e.state;return["p-dropdown p-component p-inputwrapper",{"p-disabled":r.disabled,"p-invalid":r.invalid,"p-variant-filled":r.variant?r.variant==="filled":n.$primevue.config.inputStyle==="filled","p-dropdown-clearable":r.showClear,"p-focus":i.focused,"p-inputwrapper-filled":n.hasSelectedOption,"p-inputwrapper-focus":i.focused||i.overlayVisible,"p-overlay-open":i.overlayVisible}]},input:function(e){var n,r=e.instance,i=e.props;return["p-dropdown-label p-inputtext",{"p-placeholder":!i.editable&&r.label===i.placeholder,"p-dropdown-label-empty":!i.editable&&!r.$slots.value&&(r.label==="p-emptylabel"||((n=r.label)===null||n===void 0?void 0:n.length)===0)}]},clearIcon:"p-dropdown-clear-icon",trigger:"p-dropdown-trigger",loadingicon:"p-dropdown-trigger-icon",dropdownIcon:"p-dropdown-trigger-icon",panel:function(e){e.props;var n=e.instance;return["p-dropdown-panel p-component",{"p-ripple-disabled":n.$primevue.config.ripple===!1}]},header:"p-dropdown-header",filterContainer:"p-dropdown-filter-container",filterInput:function(e){var n=e.props,r=e.instance;return["p-dropdown-filter p-inputtext p-component",{"p-variant-filled":n.variant?n.variant==="filled":r.$primevue.config.inputStyle==="filled"}]},filterIcon:"p-dropdown-filter-icon",wrapper:"p-dropdown-items-wrapper",list:"p-dropdown-items",itemGroup:"p-dropdown-item-group",itemGroupLabel:"p-dropdown-item-group-label",item:function(e){var n=e.instance,r=e.props,i=e.state,o=e.option,s=e.focusedOption;return["p-dropdown-item",{"p-highlight":n.isSelected(o)&&r.highlightOnSelect,"p-focus":i.focusedOptionIndex===s,"p-disabled":n.isOptionDisabled(o)}]},itemLabel:"p-dropdown-item-label",checkIcon:"p-dropdown-check-icon",blankIcon:"p-dropdown-blank-icon",emptyMessage:"p-dropdown-empty-message"},lpe=dr.extend({name:"dropdown",classes:ape}),upe={name:"BaseDropdown",extends:si,props:{modelValue:null,options:Array,optionLabel:[String,Function],optionValue:[String,Function],optionDisabled:[String,Function],optionGroupLabel:[String,Function],optionGroupChildren:[String,Function],scrollHeight:{type:String,default:"200px"},filter:Boolean,filterPlaceholder:String,filterLocale:String,filterMatchMode:{type:String,default:"contains"},filterFields:{type:Array,default:null},editable:Boolean,placeholder:{type:String,default:null},variant:{type:String,default:null},invalid:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},dataKey:null,showClear:{type:Boolean,default:!1},inputId:{type:String,default:null},inputClass:{type:[String,Object],default:null},inputStyle:{type:Object,default:null},inputProps:{type:null,default:null},panelClass:{type:[String,Object],default:null},panelStyle:{type:Object,default:null},panelProps:{type:null,default:null},filterInputProps:{type:null,default:null},clearIconProps:{type:null,default:null},appendTo:{type:[String,Object],default:"body"},loading:{type:Boolean,default:!1},clearIcon:{type:String,default:void 0},dropdownIcon:{type:String,default:void 0},filterIcon:{type:String,default:void 0},loadingIcon:{type:String,default:void 0},resetFilterOnHide:{type:Boolean,default:!1},resetFilterOnClear:{type:Boolean,default:!1},virtualScrollerOptions:{type:Object,default:null},autoOptionFocus:{type:Boolean,default:!1},autoFilterFocus:{type:Boolean,default:!1},selectOnFocus:{type:Boolean,default:!1},focusOnHover:{type:Boolean,default:!0},highlightOnSelect:{type:Boolean,default:!0},checkmark:{type:Boolean,default:!1},filterMessage:{type:String,default:null},selectionMessage:{type:String,default:null},emptySelectionMessage:{type:String,default:null},emptyFilterMessage:{type:String,default:null},emptyMessage:{type:String,default:null},tabindex:{type:Number,default:0},ariaLabel:{type:String,default:null},ariaLabelledby:{type:String,default:null}},style:lpe,provide:function(){return{$parentInstance:this}}};function Yh(t){"@babel/helpers - typeof";return Yh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yh(t)}function cpe(t){return ppe(t)||fpe(t)||hpe(t)||dpe()}function dpe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hpe(t,e){if(t){if(typeof t=="string")return h_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return h_(t,e)}}function fpe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function ppe(t){if(Array.isArray(t))return h_(t)}function h_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function WP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function zP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?WP(Object(n),!0).forEach(function(r){ZL(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):WP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ZL(t,e,n){return e=mpe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function mpe(t){var e=gpe(t,"string");return Yh(e)=="symbol"?e:String(e)}function gpe(t,e){if(Yh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Yh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var eV={name:"Dropdown",extends:upe,inheritAttrs:!1,emits:["update:modelValue","change","focus","blur","before-show","before-hide","show","hide","filter"],outsideClickListener:null,scrollHandler:null,resizeListener:null,labelClickListener:null,overlay:null,list:null,virtualScroller:null,searchTimeout:null,searchValue:null,isModelValueChanged:!1,data:function(){return{id:this.$attrs.id,clicked:!1,focused:!1,focusedOptionIndex:-1,filterValue:null,overlayVisible:!1}},watch:{"$attrs.id":function(e){this.id=e||pc()},modelValue:function(){this.isModelValueChanged=!0},options:function(){this.autoUpdateModel()}},mounted:function(){this.id=this.id||pc(),this.autoUpdateModel(),this.bindLabelClickListener()},updated:function(){this.overlayVisible&&this.isModelValueChanged&&this.scrollInView(this.findSelectedOptionIndex()),this.isModelValueChanged=!1},beforeUnmount:function(){this.unbindOutsideClickListener(),this.unbindResizeListener(),this.unbindLabelClickListener(),this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null),this.overlay&&(zu.clear(this.overlay),this.overlay=null)},methods:{getOptionIndex:function(e,n){return this.virtualScrollerDisabled?e:n&&n(e).index},getOptionLabel:function(e){return this.optionLabel?Ne.resolveFieldData(e,this.optionLabel):e},getOptionValue:function(e){return this.optionValue?Ne.resolveFieldData(e,this.optionValue):e},getOptionRenderKey:function(e,n){return(this.dataKey?Ne.resolveFieldData(e,this.dataKey):this.getOptionLabel(e))+"_"+n},getPTItemOptions:function(e,n,r,i){return this.ptm(i,{context:{option:e,index:r,selected:this.isSelected(e),focused:this.focusedOptionIndex===this.getOptionIndex(r,n),disabled:this.isOptionDisabled(e)}})},isOptionDisabled:function(e){return this.optionDisabled?Ne.resolveFieldData(e,this.optionDisabled):!1},isOptionGroup:function(e){return this.optionGroupLabel&&e.optionGroup&&e.group},getOptionGroupLabel:function(e){return Ne.resolveFieldData(e,this.optionGroupLabel)},getOptionGroupChildren:function(e){return Ne.resolveFieldData(e,this.optionGroupChildren)},getAriaPosInset:function(e){var n=this;return(this.optionGroupLabel?e-this.visibleOptions.slice(0,e).filter(function(r){return n.isOptionGroup(r)}).length:e)+1},show:function(e){this.$emit("before-show"),this.overlayVisible=!0,this.focusedOptionIndex=this.focusedOptionIndex!==-1?this.focusedOptionIndex:this.autoOptionFocus?this.findFirstFocusedOptionIndex():this.editable?-1:this.findSelectedOptionIndex(),e&&We.focus(this.$refs.focusInput)},hide:function(e){var n=this,r=function(){n.$emit("before-hide"),n.overlayVisible=!1,n.clicked=!1,n.focusedOptionIndex=-1,n.searchValue="",n.resetFilterOnHide&&(n.filterValue=null),e&&We.focus(n.$refs.focusInput)};setTimeout(function(){r()},0)},onFocus:function(e){this.disabled||(this.focused=!0,this.overlayVisible&&(this.focusedOptionIndex=this.focusedOptionIndex!==-1?this.focusedOptionIndex:this.autoOptionFocus?this.findFirstFocusedOptionIndex():this.editable?-1:this.findSelectedOptionIndex(),this.scrollInView(this.focusedOptionIndex)),this.$emit("focus",e))},onBlur:function(e){this.focused=!1,this.focusedOptionIndex=-1,this.searchValue="",this.$emit("blur",e)},onKeyDown:function(e){if(this.disabled||We.isAndroid()){e.preventDefault();return}var n=e.metaKey||e.ctrlKey;switch(e.code){case"ArrowDown":this.onArrowDownKey(e);break;case"ArrowUp":this.onArrowUpKey(e,this.editable);break;case"ArrowLeft":case"ArrowRight":this.onArrowLeftKey(e,this.editable);break;case"Home":this.onHomeKey(e,this.editable);break;case"End":this.onEndKey(e,this.editable);break;case"PageDown":this.onPageDownKey(e);break;case"PageUp":this.onPageUpKey(e);break;case"Space":this.onSpaceKey(e,this.editable);break;case"Enter":case"NumpadEnter":this.onEnterKey(e);break;case"Escape":this.onEscapeKey(e);break;case"Tab":this.onTabKey(e);break;case"Backspace":this.onBackspaceKey(e,this.editable);break;case"ShiftLeft":case"ShiftRight":break;default:!n&&Ne.isPrintableCharacter(e.key)&&(!this.overlayVisible&&this.show(),!this.editable&&this.searchOptions(e,e.key));break}this.clicked=!1},onEditableInput:function(e){var n=e.target.value;this.searchValue="";var r=this.searchOptions(e,n);!r&&(this.focusedOptionIndex=-1),this.updateModel(e,n),!this.overlayVisible&&Ne.isNotEmpty(n)&&this.show()},onContainerClick:function(e){this.disabled||this.loading||e.target.tagName==="INPUT"||e.target.getAttribute("data-pc-section")==="clearicon"||e.target.closest('[data-pc-section="clearicon"]')||((!this.overlay||!this.overlay.contains(e.target))&&(this.overlayVisible?this.hide(!0):this.show(!0)),this.clicked=!0)},onClearClick:function(e){this.updateModel(e,null),this.resetFilterOnClear&&(this.filterValue=null)},onFirstHiddenFocus:function(e){var n=e.relatedTarget===this.$refs.focusInput?We.getFirstFocusableElement(this.overlay,':not([data-p-hidden-focusable="true"])'):this.$refs.focusInput;We.focus(n)},onLastHiddenFocus:function(e){var n=e.relatedTarget===this.$refs.focusInput?We.getLastFocusableElement(this.overlay,':not([data-p-hidden-focusable="true"])'):this.$refs.focusInput;We.focus(n)},onOptionSelect:function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,i=this.getOptionValue(n);this.updateModel(e,i),r&&this.hide(!0)},onOptionMouseMove:function(e,n){this.focusOnHover&&this.changeFocusedOptionIndex(e,n)},onFilterChange:function(e){var n=e.target.value;this.filterValue=n,this.focusedOptionIndex=-1,this.$emit("filter",{originalEvent:e,value:n}),!this.virtualScrollerDisabled&&this.virtualScroller.scrollToIndex(0)},onFilterKeyDown:function(e){switch(e.code){case"ArrowDown":this.onArrowDownKey(e);break;case"ArrowUp":this.onArrowUpKey(e,!0);break;case"ArrowLeft":case"ArrowRight":this.onArrowLeftKey(e,!0);break;case"Home":this.onHomeKey(e,!0);break;case"End":this.onEndKey(e,!0);break;case"Enter":case"NumpadEnter":this.onEnterKey(e);break;case"Escape":this.onEscapeKey(e);break;case"Tab":this.onTabKey(e,!0);break}},onFilterBlur:function(){this.focusedOptionIndex=-1},onFilterUpdated:function(){this.overlayVisible&&this.alignOverlay()},onOverlayClick:function(e){QL.emit("overlay-click",{originalEvent:e,target:this.$el})},onOverlayKeyDown:function(e){switch(e.code){case"Escape":this.onEscapeKey(e);break}},onArrowDownKey:function(e){if(!this.overlayVisible)this.show(),this.editable&&this.changeFocusedOptionIndex(e,this.findSelectedOptionIndex());else{var n=this.focusedOptionIndex!==-1?this.findNextOptionIndex(this.focusedOptionIndex):this.clicked?this.findFirstOptionIndex():this.findFirstFocusedOptionIndex();this.changeFocusedOptionIndex(e,n)}e.preventDefault()},onArrowUpKey:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(e.altKey&&!n)this.focusedOptionIndex!==-1&&this.onOptionSelect(e,this.visibleOptions[this.focusedOptionIndex]),this.overlayVisible&&this.hide(),e.preventDefault();else{var r=this.focusedOptionIndex!==-1?this.findPrevOptionIndex(this.focusedOptionIndex):this.clicked?this.findLastOptionIndex():this.findLastFocusedOptionIndex();this.changeFocusedOptionIndex(e,r),!this.overlayVisible&&this.show(),e.preventDefault()}},onArrowLeftKey:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;n&&(this.focusedOptionIndex=-1)},onHomeKey:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(n){var r=e.currentTarget;e.shiftKey?r.setSelectionRange(0,e.target.selectionStart):(r.setSelectionRange(0,0),this.focusedOptionIndex=-1)}else this.changeFocusedOptionIndex(e,this.findFirstOptionIndex()),!this.overlayVisible&&this.show();e.preventDefault()},onEndKey:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(n){var r=e.currentTarget;if(e.shiftKey)r.setSelectionRange(e.target.selectionStart,r.value.length);else{var i=r.value.length;r.setSelectionRange(i,i),this.focusedOptionIndex=-1}}else this.changeFocusedOptionIndex(e,this.findLastOptionIndex()),!this.overlayVisible&&this.show();e.preventDefault()},onPageUpKey:function(e){this.scrollInView(0),e.preventDefault()},onPageDownKey:function(e){this.scrollInView(this.visibleOptions.length-1),e.preventDefault()},onEnterKey:function(e){this.overlayVisible?(this.focusedOptionIndex!==-1&&this.onOptionSelect(e,this.visibleOptions[this.focusedOptionIndex]),this.hide()):(this.focusedOptionIndex=-1,this.onArrowDownKey(e)),e.preventDefault()},onSpaceKey:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;!n&&this.onEnterKey(e)},onEscapeKey:function(e){this.overlayVisible&&this.hide(!0),e.preventDefault(),e.stopPropagation()},onTabKey:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;n||(this.overlayVisible&&this.hasFocusableElements()?(We.focus(this.$refs.firstHiddenFocusableElementOnOverlay),e.preventDefault()):(this.focusedOptionIndex!==-1&&this.onOptionSelect(e,this.visibleOptions[this.focusedOptionIndex]),this.overlayVisible&&this.hide(this.filter)))},onBackspaceKey:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;n&&!this.overlayVisible&&this.show()},onOverlayEnter:function(e){zu.set("overlay",e,this.$primevue.config.zIndex.overlay),We.addStyles(e,{position:"absolute",top:"0",left:"0"}),this.alignOverlay(),this.scrollInView(),this.autoFilterFocus&&We.focus(this.$refs.filterInput)},onOverlayAfterEnter:function(){this.bindOutsideClickListener(),this.bindScrollListener(),this.bindResizeListener(),this.$emit("show")},onOverlayLeave:function(){this.unbindOutsideClickListener(),this.unbindScrollListener(),this.unbindResizeListener(),this.$emit("hide"),this.overlay=null},onOverlayAfterLeave:function(e){zu.clear(e)},alignOverlay:function(){this.appendTo==="self"?We.relativePosition(this.overlay,this.$el):(this.overlay.style.minWidth=We.getOuterWidth(this.$el)+"px",We.absolutePosition(this.overlay,this.$el))},bindOutsideClickListener:function(){var e=this;this.outsideClickListener||(this.outsideClickListener=function(n){e.overlayVisible&&e.overlay&&!e.$el.contains(n.target)&&!e.overlay.contains(n.target)&&e.hide()},document.addEventListener("click",this.outsideClickListener))},unbindOutsideClickListener:function(){this.outsideClickListener&&(document.removeEventListener("click",this.outsideClickListener),this.outsideClickListener=null)},bindScrollListener:function(){var e=this;this.scrollHandler||(this.scrollHandler=new hM(this.$refs.container,function(){e.overlayVisible&&e.hide()})),this.scrollHandler.bindScrollListener()},unbindScrollListener:function(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()},bindResizeListener:function(){var e=this;this.resizeListener||(this.resizeListener=function(){e.overlayVisible&&!We.isTouchDevice()&&e.hide()},window.addEventListener("resize",this.resizeListener))},unbindResizeListener:function(){this.resizeListener&&(window.removeEventListener("resize",this.resizeListener),this.resizeListener=null)},bindLabelClickListener:function(){var e=this;if(!this.editable&&!this.labelClickListener){var n=document.querySelector('label[for="'.concat(this.inputId,'"]'));n&&We.isVisible(n)&&(this.labelClickListener=function(){We.focus(e.$refs.focusInput)},n.addEventListener("click",this.labelClickListener))}},unbindLabelClickListener:function(){if(this.labelClickListener){var e=document.querySelector('label[for="'.concat(this.inputId,'"]'));e&&We.isVisible(e)&&e.removeEventListener("click",this.labelClickListener)}},hasFocusableElements:function(){return We.getFocusableElements(this.overlay,':not([data-p-hidden-focusable="true"])').length>0},isOptionMatched:function(e){var n;return this.isValidOption(e)&&((n=this.getOptionLabel(e))===null||n===void 0?void 0:n.toLocaleLowerCase(this.filterLocale).startsWith(this.searchValue.toLocaleLowerCase(this.filterLocale)))},isValidOption:function(e){return Ne.isNotEmpty(e)&&!(this.isOptionDisabled(e)||this.isOptionGroup(e))},isValidSelectedOption:function(e){return this.isValidOption(e)&&this.isSelected(e)},isSelected:function(e){return this.isValidOption(e)&&Ne.equals(this.modelValue,this.getOptionValue(e),this.equalityKey)},findFirstOptionIndex:function(){var e=this;return this.visibleOptions.findIndex(function(n){return e.isValidOption(n)})},findLastOptionIndex:function(){var e=this;return Ne.findLastIndex(this.visibleOptions,function(n){return e.isValidOption(n)})},findNextOptionIndex:function(e){var n=this,r=e<this.visibleOptions.length-1?this.visibleOptions.slice(e+1).findIndex(function(i){return n.isValidOption(i)}):-1;return r>-1?r+e+1:e},findPrevOptionIndex:function(e){var n=this,r=e>0?Ne.findLastIndex(this.visibleOptions.slice(0,e),function(i){return n.isValidOption(i)}):-1;return r>-1?r:e},findSelectedOptionIndex:function(){var e=this;return this.hasSelectedOption?this.visibleOptions.findIndex(function(n){return e.isValidSelectedOption(n)}):-1},findFirstFocusedOptionIndex:function(){var e=this.findSelectedOptionIndex();return e<0?this.findFirstOptionIndex():e},findLastFocusedOptionIndex:function(){var e=this.findSelectedOptionIndex();return e<0?this.findLastOptionIndex():e},searchOptions:function(e,n){var r=this;this.searchValue=(this.searchValue||"")+n;var i=-1,o=!1;return Ne.isNotEmpty(this.searchValue)&&(this.focusedOptionIndex!==-1?(i=this.visibleOptions.slice(this.focusedOptionIndex).findIndex(function(s){return r.isOptionMatched(s)}),i=i===-1?this.visibleOptions.slice(0,this.focusedOptionIndex).findIndex(function(s){return r.isOptionMatched(s)}):i+this.focusedOptionIndex):i=this.visibleOptions.findIndex(function(s){return r.isOptionMatched(s)}),i!==-1&&(o=!0),i===-1&&this.focusedOptionIndex===-1&&(i=this.findFirstFocusedOptionIndex()),i!==-1&&this.changeFocusedOptionIndex(e,i)),this.searchTimeout&&clearTimeout(this.searchTimeout),this.searchTimeout=setTimeout(function(){r.searchValue="",r.searchTimeout=null},500),o},changeFocusedOptionIndex:function(e,n){this.focusedOptionIndex!==n&&(this.focusedOptionIndex=n,this.scrollInView(),this.selectOnFocus&&this.onOptionSelect(e,this.visibleOptions[n],!1))},scrollInView:function(){var e=this,n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:-1;this.$nextTick(function(){var r=n!==-1?"".concat(e.id,"_").concat(n):e.focusedOptionId,i=We.findSingle(e.list,'li[id="'.concat(r,'"]'));i?i.scrollIntoView&&i.scrollIntoView({block:"nearest"}):e.virtualScrollerDisabled||e.virtualScroller&&e.virtualScroller.scrollToIndex(n!==-1?n:e.focusedOptionIndex)})},autoUpdateModel:function(){this.selectOnFocus&&this.autoOptionFocus&&!this.hasSelectedOption&&(this.focusedOptionIndex=this.findFirstFocusedOptionIndex(),this.onOptionSelect(null,this.visibleOptions[this.focusedOptionIndex],!1))},updateModel:function(e,n){this.$emit("update:modelValue",n),this.$emit("change",{originalEvent:e,value:n})},flatOptions:function(e){var n=this;return(e||[]).reduce(function(r,i,o){r.push({optionGroup:i,group:!0,index:o});var s=n.getOptionGroupChildren(i);return s&&s.forEach(function(a){return r.push(a)}),r},[])},overlayRef:function(e){this.overlay=e},listRef:function(e,n){this.list=e,n&&n(e)},virtualScrollerRef:function(e){this.virtualScroller=e}},computed:{visibleOptions:function(){var e=this,n=this.optionGroupLabel?this.flatOptions(this.options):this.options||[];if(this.filterValue){var r=YL.filter(n,this.searchFields,this.filterValue,this.filterMatchMode,this.filterLocale);if(this.optionGroupLabel){var i=this.options||[],o=[];return i.forEach(function(s){var a=e.getOptionGroupChildren(s),l=a.filter(function(u){return r.includes(u)});l.length>0&&o.push(zP(zP({},s),{},ZL({},typeof e.optionGroupChildren=="string"?e.optionGroupChildren:"items",cpe(l))))}),this.flatOptions(o)}return r}return n},hasSelectedOption:function(){return Ne.isNotEmpty(this.modelValue)},label:function(){var e=this.findSelectedOptionIndex();return e!==-1?this.getOptionLabel(this.visibleOptions[e]):this.placeholder||"p-emptylabel"},editableInputValue:function(){var e=this.findSelectedOptionIndex();return e!==-1?this.getOptionLabel(this.visibleOptions[e]):this.modelValue||""},equalityKey:function(){return this.optionValue?null:this.dataKey},searchFields:function(){return this.filterFields||[this.optionLabel]},filterResultMessageText:function(){return Ne.isNotEmpty(this.visibleOptions)?this.filterMessageText.replaceAll("{0}",this.visibleOptions.length):this.emptyFilterMessageText},filterMessageText:function(){return this.filterMessage||this.$primevue.config.locale.searchMessage||""},emptyFilterMessageText:function(){return this.emptyFilterMessage||this.$primevue.config.locale.emptySearchMessage||this.$primevue.config.locale.emptyFilterMessage||""},emptyMessageText:function(){return this.emptyMessage||this.$primevue.config.locale.emptyMessage||""},selectionMessageText:function(){return this.selectionMessage||this.$primevue.config.locale.selectionMessage||""},emptySelectionMessageText:function(){return this.emptySelectionMessage||this.$primevue.config.locale.emptySelectionMessage||""},selectedMessageText:function(){return this.hasSelectedOption?this.selectionMessageText.replaceAll("{0}","1"):this.emptySelectionMessageText},listAriaLabel:function(){return this.$primevue.config.locale.aria?this.$primevue.config.locale.aria.listLabel:void 0},focusedOptionId:function(){return this.focusedOptionIndex!==-1?"".concat(this.id,"_").concat(this.focusedOptionIndex):null},ariaSetSize:function(){var e=this;return this.visibleOptions.filter(function(n){return!e.isOptionGroup(n)}).length},virtualScrollerDisabled:function(){return!this.virtualScrollerOptions}},directives:{ripple:vv},components:{VirtualScroller:ST,Portal:ET,TimesIcon:TT,ChevronDownIcon:_v,SpinnerIcon:Cf,SearchIcon:wT,CheckIcon:Dv,BlankIcon:XL}};function Xh(t){"@babel/helpers - typeof";return Xh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xh(t)}function KP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Co(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?KP(Object(n),!0).forEach(function(r){vpe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):KP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function vpe(t,e,n){return e=ype(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ype(t){var e=bpe(t,"string");return Xh(e)=="symbol"?e:String(e)}function bpe(t,e){if(Xh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Xh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var _pe=["id"],wpe=["id","value","placeholder","tabindex","disabled","aria-label","aria-labelledby","aria-expanded","aria-controls","aria-activedescendant","aria-invalid"],Tpe=["id","tabindex","aria-label","aria-labelledby","aria-expanded","aria-controls","aria-activedescendant","aria-disabled"],Epe=["value","placeholder","aria-owns","aria-activedescendant"],Spe=["id","aria-label"],Ipe=["id"],Cpe=["id","aria-label","aria-selected","aria-disabled","aria-setsize","aria-posinset","onClick","onMousemove","data-p-highlight","data-p-focused","data-p-disabled"];function Ape(t,e,n,r,i,o){var s=Dn("SpinnerIcon"),a=Dn("CheckIcon"),l=Dn("BlankIcon"),u=Dn("VirtualScroller"),c=Dn("Portal"),d=Pg("ripple");return M(),W("div",le({ref:"container",id:i.id,class:t.cx("root"),onClick:e[16]||(e[16]=function(){return o.onContainerClick&&o.onContainerClick.apply(o,arguments)})},t.ptmi("root")),[t.editable?(M(),W("input",le({key:0,ref:"focusInput",id:t.inputId,type:"text",class:[t.cx("input"),t.inputClass],style:t.inputStyle,value:o.editableInputValue,placeholder:t.placeholder,tabindex:t.disabled?-1:t.tabindex,disabled:t.disabled,autocomplete:"off",role:"combobox","aria-label":t.ariaLabel,"aria-labelledby":t.ariaLabelledby,"aria-haspopup":"listbox","aria-expanded":i.overlayVisible,"aria-controls":i.id+"_list","aria-activedescendant":i.focused?o.focusedOptionId:void 0,"aria-invalid":t.invalid||void 0,onFocus:e[0]||(e[0]=function(){return o.onFocus&&o.onFocus.apply(o,arguments)}),onBlur:e[1]||(e[1]=function(){return o.onBlur&&o.onBlur.apply(o,arguments)}),onKeydown:e[2]||(e[2]=function(){return o.onKeyDown&&o.onKeyDown.apply(o,arguments)}),onInput:e[3]||(e[3]=function(){return o.onEditableInput&&o.onEditableInput.apply(o,arguments)})},Co(Co({},t.inputProps),t.ptm("input"))),null,16,wpe)):(M(),W("span",le({key:1,ref:"focusInput",id:t.inputId,class:[t.cx("input"),t.inputClass],style:t.inputStyle,tabindex:t.disabled?-1:t.tabindex,role:"combobox","aria-label":t.ariaLabel||(o.label==="p-emptylabel"?void 0:o.label),"aria-labelledby":t.ariaLabelledby,"aria-haspopup":"listbox","aria-expanded":i.overlayVisible,"aria-controls":i.id+"_list","aria-activedescendant":i.focused?o.focusedOptionId:void 0,"aria-disabled":t.disabled,onFocus:e[4]||(e[4]=function(){return o.onFocus&&o.onFocus.apply(o,arguments)}),onBlur:e[5]||(e[5]=function(){return o.onBlur&&o.onBlur.apply(o,arguments)}),onKeydown:e[6]||(e[6]=function(){return o.onKeyDown&&o.onKeyDown.apply(o,arguments)})},Co(Co({},t.inputProps),t.ptm("input"))),[Te(t.$slots,"value",{value:t.modelValue,placeholder:t.placeholder},function(){return[z(ze(o.label==="p-emptylabel"?" ":o.label||"empty"),1)]})],16,Tpe)),t.showClear&&t.modelValue!=null?Te(t.$slots,"clearicon",{key:2,class:$e(t.cx("clearIcon")),onClick:o.onClearClick,clearCallback:o.onClearClick},function(){return[(M(),de(xn(t.clearIcon?"i":"TimesIcon"),le({ref:"clearIcon",class:[t.cx("clearIcon"),t.clearIcon],onClick:o.onClearClick},Co(Co({},t.clearIconProps),t.ptm("clearIcon")),{"data-pc-section":"clearicon"}),null,16,["class","onClick"]))]}):ee("",!0),y("div",le({class:t.cx("trigger")},t.ptm("trigger")),[t.loading?Te(t.$slots,"loadingicon",{key:0,class:$e(t.cx("loadingIcon"))},function(){return[t.loadingIcon?(M(),W("span",le({key:0,class:[t.cx("loadingIcon"),"pi-spin",t.loadingIcon],"aria-hidden":"true"},t.ptm("loadingIcon")),null,16)):(M(),de(s,le({key:1,class:t.cx("loadingIcon"),spin:"","aria-hidden":"true"},t.ptm("loadingIcon")),null,16,["class"]))]}):Te(t.$slots,"dropdownicon",{key:1,class:$e(t.cx("dropdownIcon"))},function(){return[(M(),de(xn(t.dropdownIcon?"span":"ChevronDownIcon"),le({class:[t.cx("dropdownIcon"),t.dropdownIcon],"aria-hidden":"true"},t.ptm("dropdownIcon")),null,16,["class"]))]})],16),B(c,{appendTo:t.appendTo},{default:J(function(){return[B(to,le({name:"p-connected-overlay",onEnter:o.onOverlayEnter,onAfterEnter:o.onOverlayAfterEnter,onLeave:o.onOverlayLeave,onAfterLeave:o.onOverlayAfterLeave},t.ptm("transition")),{default:J(function(){return[i.overlayVisible?(M(),W("div",le({key:0,ref:o.overlayRef,class:[t.cx("panel"),t.panelClass],style:t.panelStyle,onClick:e[14]||(e[14]=function(){return o.onOverlayClick&&o.onOverlayClick.apply(o,arguments)}),onKeydown:e[15]||(e[15]=function(){return o.onOverlayKeyDown&&o.onOverlayKeyDown.apply(o,arguments)})},Co(Co({},t.panelProps),t.ptm("panel"))),[y("span",le({ref:"firstHiddenFocusableElementOnOverlay",role:"presentation","aria-hidden":"true",class:"p-hidden-accessible p-hidden-focusable",tabindex:0,onFocus:e[7]||(e[7]=function(){return o.onFirstHiddenFocus&&o.onFirstHiddenFocus.apply(o,arguments)})},t.ptm("hiddenFirstFocusableEl"),{"data-p-hidden-accessible":!0,"data-p-hidden-focusable":!0}),null,16),Te(t.$slots,"header",{value:t.modelValue,options:o.visibleOptions}),t.filter?(M(),W("div",le({key:0,class:t.cx("header")},t.ptm("header")),[y("div",le({class:t.cx("filterContainer")},t.ptm("filterContainer")),[y("input",le({ref:"filterInput",type:"text",value:i.filterValue,onVnodeMounted:e[8]||(e[8]=function(){return o.onFilterUpdated&&o.onFilterUpdated.apply(o,arguments)}),onVnodeUpdated:e[9]||(e[9]=function(){return o.onFilterUpdated&&o.onFilterUpdated.apply(o,arguments)}),class:t.cx("filterInput"),placeholder:t.filterPlaceholder,role:"searchbox",autocomplete:"off","aria-owns":i.id+"_list","aria-activedescendant":o.focusedOptionId,onKeydown:e[10]||(e[10]=function(){return o.onFilterKeyDown&&o.onFilterKeyDown.apply(o,arguments)}),onBlur:e[11]||(e[11]=function(){return o.onFilterBlur&&o.onFilterBlur.apply(o,arguments)}),onInput:e[12]||(e[12]=function(){return o.onFilterChange&&o.onFilterChange.apply(o,arguments)})},Co(Co({},t.filterInputProps),t.ptm("filterInput"))),null,16,Epe),Te(t.$slots,"filtericon",{class:$e(t.cx("filterIcon"))},function(){return[(M(),de(xn(t.filterIcon?"span":"SearchIcon"),le({class:[t.cx("filterIcon"),t.filterIcon]},t.ptm("filterIcon")),null,16,["class"]))]})],16),y("span",le({role:"status","aria-live":"polite",class:"p-hidden-accessible"},t.ptm("hiddenFilterResult"),{"data-p-hidden-accessible":!0}),ze(o.filterResultMessageText),17)],16)):ee("",!0),y("div",le({class:t.cx("wrapper"),style:{"max-height":o.virtualScrollerDisabled?t.scrollHeight:""}},t.ptm("wrapper")),[B(u,le({ref:o.virtualScrollerRef},t.virtualScrollerOptions,{items:o.visibleOptions,style:{height:t.scrollHeight},tabindex:-1,disabled:o.virtualScrollerDisabled,pt:t.ptm("virtualScroller")}),ur({content:J(function(h){var p=h.styleClass,m=h.contentRef,g=h.items,v=h.getItemOptions,A=h.contentStyle,I=h.itemSize;return[y("ul",le({ref:function(T){return o.listRef(T,m)},id:i.id+"_list",class:[t.cx("list"),p],style:A,role:"listbox","aria-label":o.listAriaLabel},t.ptm("list")),[(M(!0),W(Pe,null,ht(g,function(S,T){return M(),W(Pe,{key:o.getOptionRenderKey(S,o.getOptionIndex(T,v))},[o.isOptionGroup(S)?(M(),W("li",le({key:0,id:i.id+"_"+o.getOptionIndex(T,v),style:{height:I?I+"px":void 0},class:t.cx("itemGroup"),role:"option"},t.ptm("itemGroup")),[Te(t.$slots,"optiongroup",{option:S.optionGroup,index:o.getOptionIndex(T,v)},function(){return[y("span",le({class:t.cx("itemGroupLabel")},t.ptm("itemGroupLabel")),ze(o.getOptionGroupLabel(S.optionGroup)),17)]})],16,Ipe)):Fi((M(),W("li",le({key:1,id:i.id+"_"+o.getOptionIndex(T,v),class:t.cx("item",{option:S,focusedOption:o.getOptionIndex(T,v)}),style:{height:I?I+"px":void 0},role:"option","aria-label":o.getOptionLabel(S),"aria-selected":o.isSelected(S),"aria-disabled":o.isOptionDisabled(S),"aria-setsize":o.ariaSetSize,"aria-posinset":o.getAriaPosInset(o.getOptionIndex(T,v)),onClick:function(R){return o.onOptionSelect(R,S)},onMousemove:function(R){return o.onOptionMouseMove(R,o.getOptionIndex(T,v))},"data-p-highlight":o.isSelected(S),"data-p-focused":i.focusedOptionIndex===o.getOptionIndex(T,v),"data-p-disabled":o.isOptionDisabled(S)},o.getPTItemOptions(S,v,T,"item")),[t.checkmark?(M(),W(Pe,{key:0},[o.isSelected(S)?(M(),de(a,le({key:0,class:t.cx("checkIcon")},t.ptm("checkIcon")),null,16,["class"])):(M(),de(l,le({key:1,class:t.cx("blankIcon")},t.ptm("blankIcon")),null,16,["class"]))],64)):ee("",!0),Te(t.$slots,"option",{option:S,index:o.getOptionIndex(T,v)},function(){return[y("span",le({class:t.cx("itemLabel")},t.ptm("itemLabel")),ze(o.getOptionLabel(S)),17)]})],16,Cpe)),[[d]])],64)}),128)),i.filterValue&&(!g||g&&g.length===0)?(M(),W("li",le({key:0,class:t.cx("emptyMessage"),role:"option"},t.ptm("emptyMessage"),{"data-p-hidden-accessible":!0}),[Te(t.$slots,"emptyfilter",{},function(){return[z(ze(o.emptyFilterMessageText),1)]})],16)):!t.options||t.options&&t.options.length===0?(M(),W("li",le({key:1,class:t.cx("emptyMessage"),role:"option"},t.ptm("emptyMessage"),{"data-p-hidden-accessible":!0}),[Te(t.$slots,"empty",{},function(){return[z(ze(o.emptyMessageText),1)]})],16)):ee("",!0)],16,Spe)]}),_:2},[t.$slots.loader?{name:"loader",fn:J(function(h){var p=h.options;return[Te(t.$slots,"loader",{options:p})]}),key:"0"}:void 0]),1040,["items","style","disabled","pt"])],16),Te(t.$slots,"footer",{value:t.modelValue,options:o.visibleOptions}),!t.options||t.options&&t.options.length===0?(M(),W("span",le({key:1,role:"status","aria-live":"polite",class:"p-hidden-accessible"},t.ptm("hiddenEmptyMessage"),{"data-p-hidden-accessible":!0}),ze(o.emptyMessageText),17)):ee("",!0),y("span",le({role:"status","aria-live":"polite",class:"p-hidden-accessible"},t.ptm("hiddenSelectedMessage"),{"data-p-hidden-accessible":!0}),ze(o.selectedMessageText),17),y("span",le({ref:"lastHiddenFocusableElementOnOverlay",role:"presentation","aria-hidden":"true",class:"p-hidden-accessible p-hidden-focusable",tabindex:0,onFocus:e[13]||(e[13]=function(){return o.onLastHiddenFocus&&o.onLastHiddenFocus.apply(o,arguments)})},t.ptm("hiddenLastFocusableEl"),{"data-p-hidden-accessible":!0,"data-p-hidden-focusable":!0}),null,16)],16)):ee("",!0)]}),_:3},16,["onEnter","onAfterEnter","onLeave","onAfterLeave"])]}),_:3},8,["appendTo"])],16,_pe)}eV.render=Ape;var Ppe={root:function(e){var n=e.instance,r=e.props;return["p-inputtext p-component",{"p-filled":n.filled,"p-inputtext-sm":r.size==="small","p-inputtext-lg":r.size==="large","p-invalid":r.invalid,"p-variant-filled":r.variant?r.variant==="filled":n.$primevue.config.inputStyle==="filled"}]}},Ope=dr.extend({name:"inputtext",classes:Ppe}),kpe={name:"BaseInputText",extends:si,props:{modelValue:null,size:{type:String,default:null},invalid:{type:Boolean,default:!1},variant:{type:String,default:null}},style:Ope,provide:function(){return{$parentInstance:this}}},tV={name:"InputText",extends:kpe,inheritAttrs:!1,emits:["update:modelValue"],methods:{getPTOptions:function(e){var n=e==="root"?this.ptmi:this.ptm;return n(e,{context:{filled:this.filled,disabled:this.$attrs.disabled||this.$attrs.disabled===""}})},onInput:function(e){this.$emit("update:modelValue",e.target.value)}},computed:{filled:function(){return this.modelValue!=null&&this.modelValue.toString().length>0}}},Rpe=["value","aria-invalid"];function xpe(t,e,n,r,i,o){return M(),W("input",le({class:t.cx("root"),value:t.modelValue,"aria-invalid":t.invalid||void 0,onInput:e[0]||(e[0]=function(){return o.onInput&&o.onInput.apply(o,arguments)})},o.getPTOptions("root")),null,16,Rpe)}tV.render=xpe;var Dpe={root:function(e){var n=e.instance,r=e.props;return["p-checkbox p-component",{"p-highlight":n.checked,"p-disabled":r.disabled,"p-invalid":r.invalid,"p-variant-filled":r.variant?r.variant==="filled":n.$primevue.config.inputStyle==="filled"}]},box:"p-checkbox-box",input:"p-checkbox-input",icon:"p-checkbox-icon"},Npe=dr.extend({name:"checkbox",classes:Dpe}),Mpe={name:"BaseCheckbox",extends:si,props:{value:null,modelValue:null,binary:Boolean,name:{type:String,default:null},trueValue:{type:null,default:!0},falseValue:{type:null,default:!1},variant:{type:String,default:null},invalid:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},required:{type:Boolean,default:!1},tabindex:{type:Number,default:null},inputId:{type:String,default:null},inputClass:{type:[String,Object],default:null},inputStyle:{type:Object,default:null},ariaLabelledby:{type:String,default:null},ariaLabel:{type:String,default:null}},style:Npe,provide:function(){return{$parentInstance:this}}};function Lpe(t){return Upe(t)||Fpe(t)||$pe(t)||Vpe()}function Vpe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $pe(t,e){if(t){if(typeof t=="string")return f_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return f_(t,e)}}function Fpe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Upe(t){if(Array.isArray(t))return f_(t)}function f_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var nV={name:"Checkbox",extends:Mpe,inheritAttrs:!1,emits:["update:modelValue","change","focus","blur"],methods:{getPTOptions:function(e){var n=e==="root"?this.ptmi:this.ptm;return n(e,{context:{checked:this.checked,disabled:this.disabled}})},onChange:function(e){var n=this;if(!this.disabled&&!this.readonly){var r;this.binary?r=this.checked?this.falseValue:this.trueValue:this.checked?r=this.modelValue.filter(function(i){return!Ne.equals(i,n.value)}):r=this.modelValue?[].concat(Lpe(this.modelValue),[this.value]):[this.value],this.$emit("update:modelValue",r),this.$emit("change",e)}},onFocus:function(e){this.$emit("focus",e)},onBlur:function(e){this.$emit("blur",e)}},computed:{checked:function(){return this.binary?this.modelValue===this.trueValue:Ne.contains(this.value,this.modelValue)}},components:{CheckIcon:Dv}},qpe=["data-p-highlight","data-p-disabled"],Bpe=["id","value","name","checked","tabindex","disabled","readonly","required","aria-labelledby","aria-label","aria-invalid"];function jpe(t,e,n,r,i,o){var s=Dn("CheckIcon");return M(),W("div",le({class:t.cx("root")},o.getPTOptions("root"),{"data-p-highlight":o.checked,"data-p-disabled":t.disabled}),[y("input",le({id:t.inputId,type:"checkbox",class:[t.cx("input"),t.inputClass],style:t.inputStyle,value:t.value,name:t.name,checked:o.checked,tabindex:t.tabindex,disabled:t.disabled,readonly:t.readonly,required:t.required,"aria-labelledby":t.ariaLabelledby,"aria-label":t.ariaLabel,"aria-invalid":t.invalid||void 0,onFocus:e[0]||(e[0]=function(){return o.onFocus&&o.onFocus.apply(o,arguments)}),onBlur:e[1]||(e[1]=function(){return o.onBlur&&o.onBlur.apply(o,arguments)}),onChange:e[2]||(e[2]=function(){return o.onChange&&o.onChange.apply(o,arguments)})},o.getPTOptions("input")),null,16,Bpe),y("div",le({class:t.cx("box")},o.getPTOptions("box")),[Te(t.$slots,"icon",{checked:o.checked,class:$e(t.cx("icon"))},function(){return[o.checked?(M(),de(s,le({key:0,class:t.cx("icon")},o.getPTOptions("icon")),null,16,["class"])):ee("",!0)]})],16)],16,qpe)}nV.render=jpe;var Hpe={root:function(e){var n=e.props;return{position:n.appendTo==="self"?"relative":void 0}}},Wpe={root:function(e){var n=e.instance,r=e.props;return["p-multiselect p-component p-inputwrapper",{"p-multiselect-chip":r.display==="chip","p-disabled":r.disabled,"p-invalid":r.invalid,"p-variant-filled":r.variant?r.variant==="filled":n.$primevue.config.inputStyle==="filled","p-focus":n.focused,"p-inputwrapper-filled":r.modelValue&&r.modelValue.length,"p-inputwrapper-focus":n.focused||n.overlayVisible,"p-overlay-open":n.overlayVisible}]},labelContainer:"p-multiselect-label-container",label:function(e){var n=e.instance,r=e.props;return["p-multiselect-label",{"p-placeholder":n.label===r.placeholder,"p-multiselect-label-empty":!r.placeholder&&(!r.modelValue||r.modelValue.length===0)}]},token:"p-multiselect-token",tokenLabel:"p-multiselect-token-label",removeTokenIcon:"p-multiselect-token-icon",trigger:"p-multiselect-trigger",loadingIcon:"p-multiselect-trigger-icon",dropdownIcon:"p-multiselect-trigger-icon",panel:function(e){e.props;var n=e.instance;return["p-multiselect-panel p-component",{"p-ripple-disabled":n.$primevue.config.ripple===!1}]},header:"p-multiselect-header",filterContainer:"p-multiselect-filter-container",filterInput:function(e){var n=e.props,r=e.instance;return["p-multiselect-filter p-inputtext p-component",{"p-variant-filled":n.variant?n.variant==="filled":r.$primevue.config.inputStyle==="filled"}]},filterIcon:"p-multiselect-filter-icon",closeButton:"p-multiselect-close p-link",closeIcon:"p-multiselect-close-icon",wrapper:"p-multiselect-items-wrapper",list:"p-multiselect-items p-component",itemGroup:"p-multiselect-item-group",item:function(e){var n=e.instance,r=e.option,i=e.index,o=e.getItemOptions,s=e.props;return["p-multiselect-item",{"p-highlight":n.isSelected(r)&&s.highlightOnSelect,"p-focus":n.focusedOptionIndex===n.getOptionIndex(i,o),"p-disabled":n.isOptionDisabled(r)}]},emptyMessage:"p-multiselect-empty-message"},zpe=dr.extend({name:"multiselect",classes:Wpe,inlineStyles:Hpe}),Kpe={name:"BaseMultiSelect",extends:si,props:{modelValue:null,options:Array,optionLabel:null,optionValue:null,optionDisabled:null,optionGroupLabel:null,optionGroupChildren:null,scrollHeight:{type:String,default:"200px"},placeholder:String,variant:{type:String,default:null},invalid:{type:Boolean,default:!1},disabled:Boolean,inputId:{type:String,default:null},inputProps:{type:null,default:null},panelClass:{type:String,default:null},panelStyle:{type:null,default:null},panelProps:{type:null,default:null},filterInputProps:{type:null,default:null},closeButtonProps:{type:null,default:null},dataKey:null,filter:Boolean,filterPlaceholder:String,filterLocale:String,filterMatchMode:{type:String,default:"contains"},filterFields:{type:Array,default:null},appendTo:{type:[String,Object],default:"body"},display:{type:String,default:"comma"},selectedItemsLabel:{type:String,default:"{0} items selected"},maxSelectedLabels:{type:Number,default:null},selectionLimit:{type:Number,default:null},showToggleAll:{type:Boolean,default:!0},loading:{type:Boolean,default:!1},checkboxIcon:{type:String,default:void 0},closeIcon:{type:String,default:void 0},dropdownIcon:{type:String,default:void 0},filterIcon:{type:String,default:void 0},loadingIcon:{type:String,default:void 0},removeTokenIcon:{type:String,default:void 0},selectAll:{type:Boolean,default:null},resetFilterOnHide:{type:Boolean,default:!1},virtualScrollerOptions:{type:Object,default:null},autoOptionFocus:{type:Boolean,default:!1},autoFilterFocus:{type:Boolean,default:!1},focusOnHover:{type:Boolean,default:!0},highlightOnSelect:{type:Boolean,default:!1},filterMessage:{type:String,default:null},selectionMessage:{type:String,default:null},emptySelectionMessage:{type:String,default:null},emptyFilterMessage:{type:String,default:null},emptyMessage:{type:String,default:null},tabindex:{type:Number,default:0},ariaLabel:{type:String,default:null},ariaLabelledby:{type:String,default:null}},style:zpe,provide:function(){return{$parentInstance:this}}};function Qh(t){"@babel/helpers - typeof";return Qh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qh(t)}function GP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function YP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?GP(Object(n),!0).forEach(function(r){rV(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):GP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function rV(t,e,n){return e=Gpe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Gpe(t){var e=Ype(t,"string");return Qh(e)=="symbol"?e:String(e)}function Ype(t,e){if(Qh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Qh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function XP(t){return Zpe(t)||Jpe(t)||Qpe(t)||Xpe()}function Xpe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Qpe(t,e){if(t){if(typeof t=="string")return p_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return p_(t,e)}}function Jpe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Zpe(t){if(Array.isArray(t))return p_(t)}function p_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var iV={name:"MultiSelect",extends:Kpe,inheritAttrs:!1,emits:["update:modelValue","change","focus","blur","before-show","before-hide","show","hide","filter","selectall-change"],outsideClickListener:null,scrollHandler:null,resizeListener:null,overlay:null,list:null,virtualScroller:null,startRangeIndex:-1,searchTimeout:null,searchValue:"",selectOnFocus:!1,data:function(){return{id:this.$attrs.id,clicked:!1,focused:!1,focusedOptionIndex:-1,filterValue:null,overlayVisible:!1}},watch:{"$attrs.id":function(e){this.id=e||pc()},options:function(){this.autoUpdateModel()}},mounted:function(){this.id=this.id||pc(),this.autoUpdateModel()},beforeUnmount:function(){this.unbindOutsideClickListener(),this.unbindResizeListener(),this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null),this.overlay&&(zu.clear(this.overlay),this.overlay=null)},methods:{getOptionIndex:function(e,n){return this.virtualScrollerDisabled?e:n&&n(e).index},getOptionLabel:function(e){return this.optionLabel?Ne.resolveFieldData(e,this.optionLabel):e},getOptionValue:function(e){return this.optionValue?Ne.resolveFieldData(e,this.optionValue):e},getOptionRenderKey:function(e,n){return this.dataKey?Ne.resolveFieldData(e,this.dataKey):this.getOptionLabel(e)+"_".concat(n)},getHeaderCheckboxPTOptions:function(e){return this.ptm(e,{context:{selected:this.allSelected}})},getCheckboxPTOptions:function(e,n,r,i){return this.ptm(i,{context:{selected:this.isSelected(e),focused:this.focusedOptionIndex===this.getOptionIndex(r,n),disabled:this.isOptionDisabled(e)}})},isOptionDisabled:function(e){return this.maxSelectionLimitReached&&!this.isSelected(e)?!0:this.optionDisabled?Ne.resolveFieldData(e,this.optionDisabled):!1},isOptionGroup:function(e){return this.optionGroupLabel&&e.optionGroup&&e.group},getOptionGroupLabel:function(e){return Ne.resolveFieldData(e,this.optionGroupLabel)},getOptionGroupChildren:function(e){return Ne.resolveFieldData(e,this.optionGroupChildren)},getAriaPosInset:function(e){var n=this;return(this.optionGroupLabel?e-this.visibleOptions.slice(0,e).filter(function(r){return n.isOptionGroup(r)}).length:e)+1},show:function(e){this.$emit("before-show"),this.overlayVisible=!0,this.focusedOptionIndex=this.focusedOptionIndex!==-1?this.focusedOptionIndex:this.autoOptionFocus?this.findFirstFocusedOptionIndex():this.findSelectedOptionIndex(),e&&We.focus(this.$refs.focusInput)},hide:function(e){var n=this,r=function(){n.$emit("before-hide"),n.overlayVisible=!1,n.clicked=!1,n.focusedOptionIndex=-1,n.searchValue="",n.resetFilterOnHide&&(n.filterValue=null),e&&We.focus(n.$refs.focusInput)};setTimeout(function(){r()},0)},onFocus:function(e){this.disabled||(this.focused=!0,this.overlayVisible&&(this.focusedOptionIndex=this.focusedOptionIndex!==-1?this.focusedOptionIndex:this.autoOptionFocus?this.findFirstFocusedOptionIndex():this.findSelectedOptionIndex(),this.scrollInView(this.focusedOptionIndex)),this.$emit("focus",e))},onBlur:function(e){this.clicked=!1,this.focused=!1,this.focusedOptionIndex=-1,this.searchValue="",this.$emit("blur",e)},onKeyDown:function(e){var n=this;if(this.disabled){e.preventDefault();return}var r=e.metaKey||e.ctrlKey;switch(e.code){case"ArrowDown":this.onArrowDownKey(e);break;case"ArrowUp":this.onArrowUpKey(e);break;case"Home":this.onHomeKey(e);break;case"End":this.onEndKey(e);break;case"PageDown":this.onPageDownKey(e);break;case"PageUp":this.onPageUpKey(e);break;case"Enter":case"NumpadEnter":case"Space":this.onEnterKey(e);break;case"Escape":this.onEscapeKey(e);break;case"Tab":this.onTabKey(e);break;case"ShiftLeft":case"ShiftRight":this.onShiftKey(e);break;default:if(e.code==="KeyA"&&r){var i=this.visibleOptions.filter(function(o){return n.isValidOption(o)}).map(function(o){return n.getOptionValue(o)});this.updateModel(e,i),e.preventDefault();break}!r&&Ne.isPrintableCharacter(e.key)&&(!this.overlayVisible&&this.show(),this.searchOptions(e),e.preventDefault());break}this.clicked=!1},onContainerClick:function(e){this.disabled||this.loading||((!this.overlay||!this.overlay.contains(e.target))&&(this.overlayVisible?this.hide(!0):this.show(!0)),this.clicked=!0)},onFirstHiddenFocus:function(e){var n=e.relatedTarget===this.$refs.focusInput?We.getFirstFocusableElement(this.overlay,':not([data-p-hidden-focusable="true"])'):this.$refs.focusInput;We.focus(n)},onLastHiddenFocus:function(e){var n=e.relatedTarget===this.$refs.focusInput?We.getLastFocusableElement(this.overlay,':not([data-p-hidden-focusable="true"])'):this.$refs.focusInput;We.focus(n)},onCloseClick:function(){this.hide(!0)},onOptionSelect:function(e,n){var r=this,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:-1,o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!(this.disabled||this.isOptionDisabled(n))){var s=this.isSelected(n),a=null;s?a=this.modelValue.filter(function(l){return!Ne.equals(l,r.getOptionValue(n),r.equalityKey)}):a=[].concat(XP(this.modelValue||[]),[this.getOptionValue(n)]),this.updateModel(e,a),i!==-1&&(this.focusedOptionIndex=i),o&&We.focus(this.$refs.focusInput)}},onOptionMouseMove:function(e,n){this.focusOnHover&&this.changeFocusedOptionIndex(e,n)},onOptionSelectRange:function(e){var n=this,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:-1,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:-1;if(r===-1&&(r=this.findNearestSelectedOptionIndex(i,!0)),i===-1&&(i=this.findNearestSelectedOptionIndex(r)),r!==-1&&i!==-1){var o=Math.min(r,i),s=Math.max(r,i),a=this.visibleOptions.slice(o,s+1).filter(function(l){return n.isValidOption(l)}).map(function(l){return n.getOptionValue(l)});this.updateModel(e,a)}},onFilterChange:function(e){var n=e.target.value;this.filterValue=n,this.focusedOptionIndex=-1,this.$emit("filter",{originalEvent:e,value:n}),!this.virtualScrollerDisabled&&this.virtualScroller.scrollToIndex(0)},onFilterKeyDown:function(e){switch(e.code){case"ArrowDown":this.onArrowDownKey(e);break;case"ArrowUp":this.onArrowUpKey(e,!0);break;case"ArrowLeft":case"ArrowRight":this.onArrowLeftKey(e,!0);break;case"Home":this.onHomeKey(e,!0);break;case"End":this.onEndKey(e,!0);break;case"Enter":case"NumpadEnter":this.onEnterKey(e);break;case"Escape":this.onEscapeKey(e);break;case"Tab":this.onTabKey(e,!0);break}},onFilterBlur:function(){this.focusedOptionIndex=-1},onFilterUpdated:function(){this.overlayVisible&&this.alignOverlay()},onOverlayClick:function(e){QL.emit("overlay-click",{originalEvent:e,target:this.$el})},onOverlayKeyDown:function(e){switch(e.code){case"Escape":this.onEscapeKey(e);break}},onArrowDownKey:function(e){if(!this.overlayVisible)this.show();else{var n=this.focusedOptionIndex!==-1?this.findNextOptionIndex(this.focusedOptionIndex):this.clicked?this.findFirstOptionIndex():this.findFirstFocusedOptionIndex();e.shiftKey&&this.onOptionSelectRange(e,this.startRangeIndex,n),this.changeFocusedOptionIndex(e,n)}e.preventDefault()},onArrowUpKey:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(e.altKey&&!n)this.focusedOptionIndex!==-1&&this.onOptionSelect(e,this.visibleOptions[this.focusedOptionIndex]),this.overlayVisible&&this.hide(),e.preventDefault();else{var r=this.focusedOptionIndex!==-1?this.findPrevOptionIndex(this.focusedOptionIndex):this.clicked?this.findLastOptionIndex():this.findLastFocusedOptionIndex();e.shiftKey&&this.onOptionSelectRange(e,r,this.startRangeIndex),this.changeFocusedOptionIndex(e,r),!this.overlayVisible&&this.show(),e.preventDefault()}},onArrowLeftKey:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;n&&(this.focusedOptionIndex=-1)},onHomeKey:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(n){var r=e.currentTarget;e.shiftKey?r.setSelectionRange(0,e.target.selectionStart):(r.setSelectionRange(0,0),this.focusedOptionIndex=-1)}else{var i=e.metaKey||e.ctrlKey,o=this.findFirstOptionIndex();e.shiftKey&&i&&this.onOptionSelectRange(e,o,this.startRangeIndex),this.changeFocusedOptionIndex(e,o),!this.overlayVisible&&this.show()}e.preventDefault()},onEndKey:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(n){var r=e.currentTarget;if(e.shiftKey)r.setSelectionRange(e.target.selectionStart,r.value.length);else{var i=r.value.length;r.setSelectionRange(i,i),this.focusedOptionIndex=-1}}else{var o=e.metaKey||e.ctrlKey,s=this.findLastOptionIndex();e.shiftKey&&o&&this.onOptionSelectRange(e,this.startRangeIndex,s),this.changeFocusedOptionIndex(e,s),!this.overlayVisible&&this.show()}e.preventDefault()},onPageUpKey:function(e){this.scrollInView(0),e.preventDefault()},onPageDownKey:function(e){this.scrollInView(this.visibleOptions.length-1),e.preventDefault()},onEnterKey:function(e){this.overlayVisible?this.focusedOptionIndex!==-1&&(e.shiftKey?this.onOptionSelectRange(e,this.focusedOptionIndex):this.onOptionSelect(e,this.visibleOptions[this.focusedOptionIndex])):(this.focusedOptionIndex=-1,this.onArrowDownKey(e)),e.preventDefault()},onEscapeKey:function(e){this.overlayVisible&&this.hide(!0),e.preventDefault()},onTabKey:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;n||(this.overlayVisible&&this.hasFocusableElements()?(We.focus(e.shiftKey?this.$refs.lastHiddenFocusableElementOnOverlay:this.$refs.firstHiddenFocusableElementOnOverlay),e.preventDefault()):(this.focusedOptionIndex!==-1&&this.onOptionSelect(e,this.visibleOptions[this.focusedOptionIndex]),this.overlayVisible&&this.hide(this.filter)))},onShiftKey:function(){this.startRangeIndex=this.focusedOptionIndex},onOverlayEnter:function(e){zu.set("overlay",e,this.$primevue.config.zIndex.overlay),We.addStyles(e,{position:"absolute",top:"0",left:"0"}),this.alignOverlay(),this.scrollInView(),this.autoFilterFocus&&We.focus(this.$refs.filterInput)},onOverlayAfterEnter:function(){this.bindOutsideClickListener(),this.bindScrollListener(),this.bindResizeListener(),this.$emit("show")},onOverlayLeave:function(){this.unbindOutsideClickListener(),this.unbindScrollListener(),this.unbindResizeListener(),this.$emit("hide"),this.overlay=null},onOverlayAfterLeave:function(e){zu.clear(e)},alignOverlay:function(){this.appendTo==="self"?We.relativePosition(this.overlay,this.$el):(this.overlay.style.minWidth=We.getOuterWidth(this.$el)+"px",We.absolutePosition(this.overlay,this.$el))},bindOutsideClickListener:function(){var e=this;this.outsideClickListener||(this.outsideClickListener=function(n){e.overlayVisible&&e.isOutsideClicked(n)&&e.hide()},document.addEventListener("click",this.outsideClickListener))},unbindOutsideClickListener:function(){this.outsideClickListener&&(document.removeEventListener("click",this.outsideClickListener),this.outsideClickListener=null)},bindScrollListener:function(){var e=this;this.scrollHandler||(this.scrollHandler=new hM(this.$refs.container,function(){e.overlayVisible&&e.hide()})),this.scrollHandler.bindScrollListener()},unbindScrollListener:function(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()},bindResizeListener:function(){var e=this;this.resizeListener||(this.resizeListener=function(){e.overlayVisible&&!We.isTouchDevice()&&e.hide()},window.addEventListener("resize",this.resizeListener))},unbindResizeListener:function(){this.resizeListener&&(window.removeEventListener("resize",this.resizeListener),this.resizeListener=null)},isOutsideClicked:function(e){return!(this.$el.isSameNode(e.target)||this.$el.contains(e.target)||this.overlay&&this.overlay.contains(e.target))},getLabelByValue:function(e){var n=this,r=this.optionGroupLabel?this.flatOptions(this.options):this.options||[],i=r.find(function(o){return!n.isOptionGroup(o)&&Ne.equals(n.getOptionValue(o),e,n.equalityKey)});return i?this.getOptionLabel(i):null},getSelectedItemsLabel:function(){var e=/{(.*?)}/,n=this.selectedItemsLabel||this.$primevue.config.locale.selectionMessage;return e.test(n)?n.replace(n.match(e)[0],this.modelValue.length+""):n},onToggleAll:function(e){var n=this;if(this.selectAll!==null)this.$emit("selectall-change",{originalEvent:e,checked:!this.allSelected});else{var r=this.allSelected?[]:this.visibleOptions.filter(function(i){return n.isValidOption(i)}).map(function(i){return n.getOptionValue(i)});this.updateModel(e,r)}},removeOption:function(e,n){var r=this,i=this.modelValue.filter(function(o){return!Ne.equals(o,n,r.equalityKey)});this.updateModel(e,i)},clearFilter:function(){this.filterValue=null},hasFocusableElements:function(){return We.getFocusableElements(this.overlay,':not([data-p-hidden-focusable="true"])').length>0},isOptionMatched:function(e){var n;return this.isValidOption(e)&&((n=this.getOptionLabel(e))===null||n===void 0?void 0:n.toLocaleLowerCase(this.filterLocale).startsWith(this.searchValue.toLocaleLowerCase(this.filterLocale)))},isValidOption:function(e){return Ne.isNotEmpty(e)&&!(this.isOptionDisabled(e)||this.isOptionGroup(e))},isValidSelectedOption:function(e){return this.isValidOption(e)&&this.isSelected(e)},isEquals:function(e,n){return Ne.equals(e,n,this.equalityKey)},isSelected:function(e){var n=this,r=this.getOptionValue(e);return(this.modelValue||[]).some(function(i){return n.isEquals(i,r)})},findFirstOptionIndex:function(){var e=this;return this.visibleOptions.findIndex(function(n){return e.isValidOption(n)})},findLastOptionIndex:function(){var e=this;return Ne.findLastIndex(this.visibleOptions,function(n){return e.isValidOption(n)})},findNextOptionIndex:function(e){var n=this,r=e<this.visibleOptions.length-1?this.visibleOptions.slice(e+1).findIndex(function(i){return n.isValidOption(i)}):-1;return r>-1?r+e+1:e},findPrevOptionIndex:function(e){var n=this,r=e>0?Ne.findLastIndex(this.visibleOptions.slice(0,e),function(i){return n.isValidOption(i)}):-1;return r>-1?r:e},findSelectedOptionIndex:function(){var e=this;if(this.hasSelectedOption){for(var n=function(){var s=e.modelValue[i],a=e.visibleOptions.findIndex(function(l){return e.isValidSelectedOption(l)&&e.isEquals(s,e.getOptionValue(l))});if(a>-1)return{v:a}},r,i=this.modelValue.length-1;i>=0;i--)if(r=n(),r)return r.v}return-1},findFirstSelectedOptionIndex:function(){var e=this;return this.hasSelectedOption?this.visibleOptions.findIndex(function(n){return e.isValidSelectedOption(n)}):-1},findLastSelectedOptionIndex:function(){var e=this;return this.hasSelectedOption?Ne.findLastIndex(this.visibleOptions,function(n){return e.isValidSelectedOption(n)}):-1},findNextSelectedOptionIndex:function(e){var n=this,r=this.hasSelectedOption&&e<this.visibleOptions.length-1?this.visibleOptions.slice(e+1).findIndex(function(i){return n.isValidSelectedOption(i)}):-1;return r>-1?r+e+1:-1},findPrevSelectedOptionIndex:function(e){var n=this,r=this.hasSelectedOption&&e>0?Ne.findLastIndex(this.visibleOptions.slice(0,e),function(i){return n.isValidSelectedOption(i)}):-1;return r>-1?r:-1},findNearestSelectedOptionIndex:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,r=-1;return this.hasSelectedOption&&(n?(r=this.findPrevSelectedOptionIndex(e),r=r===-1?this.findNextSelectedOptionIndex(e):r):(r=this.findNextSelectedOptionIndex(e),r=r===-1?this.findPrevSelectedOptionIndex(e):r)),r>-1?r:e},findFirstFocusedOptionIndex:function(){var e=this.findSelectedOptionIndex();return e<0?this.findFirstOptionIndex():e},findLastFocusedOptionIndex:function(){var e=this.findSelectedOptionIndex();return e<0?this.findLastOptionIndex():e},searchOptions:function(e){var n=this;this.searchValue=(this.searchValue||"")+e.key;var r=-1;Ne.isNotEmpty(this.searchValue)&&(this.focusedOptionIndex!==-1?(r=this.visibleOptions.slice(this.focusedOptionIndex).findIndex(function(i){return n.isOptionMatched(i)}),r=r===-1?this.visibleOptions.slice(0,this.focusedOptionIndex).findIndex(function(i){return n.isOptionMatched(i)}):r+this.focusedOptionIndex):r=this.visibleOptions.findIndex(function(i){return n.isOptionMatched(i)}),r===-1&&this.focusedOptionIndex===-1&&(r=this.findFirstFocusedOptionIndex()),r!==-1&&this.changeFocusedOptionIndex(e,r)),this.searchTimeout&&clearTimeout(this.searchTimeout),this.searchTimeout=setTimeout(function(){n.searchValue="",n.searchTimeout=null},500)},changeFocusedOptionIndex:function(e,n){this.focusedOptionIndex!==n&&(this.focusedOptionIndex=n,this.scrollInView(),this.selectOnFocus&&this.onOptionSelect(e,this.visibleOptions[n]))},scrollInView:function(){var e=this,n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:-1;this.$nextTick(function(){var r=n!==-1?"".concat(e.id,"_").concat(n):e.focusedOptionId,i=We.findSingle(e.list,'li[id="'.concat(r,'"]'));i?i.scrollIntoView&&i.scrollIntoView({block:"nearest",inline:"nearest"}):e.virtualScrollerDisabled||e.virtualScroller&&e.virtualScroller.scrollToIndex(n!==-1?n:e.focusedOptionIndex)})},autoUpdateModel:function(){if(this.selectOnFocus&&this.autoOptionFocus&&!this.hasSelectedOption){this.focusedOptionIndex=this.findFirstFocusedOptionIndex();var e=this.getOptionValue(this.visibleOptions[this.focusedOptionIndex]);this.updateModel(null,[e])}},updateModel:function(e,n){this.$emit("update:modelValue",n),this.$emit("change",{originalEvent:e,value:n})},flatOptions:function(e){var n=this;return(e||[]).reduce(function(r,i,o){r.push({optionGroup:i,group:!0,index:o});var s=n.getOptionGroupChildren(i);return s&&s.forEach(function(a){return r.push(a)}),r},[])},overlayRef:function(e){this.overlay=e},listRef:function(e,n){this.list=e,n&&n(e)},virtualScrollerRef:function(e){this.virtualScroller=e}},computed:{visibleOptions:function(){var e=this,n=this.optionGroupLabel?this.flatOptions(this.options):this.options||[];if(this.filterValue){var r=YL.filter(n,this.searchFields,this.filterValue,this.filterMatchMode,this.filterLocale);if(this.optionGroupLabel){var i=this.options||[],o=[];return i.forEach(function(s){var a=e.getOptionGroupChildren(s),l=a.filter(function(u){return r.includes(u)});l.length>0&&o.push(YP(YP({},s),{},rV({},typeof e.optionGroupChildren=="string"?e.optionGroupChildren:"items",XP(l))))}),this.flatOptions(o)}return r}return n},label:function(){var e;if(this.modelValue&&this.modelValue.length){if(Ne.isNotEmpty(this.maxSelectedLabels)&&this.modelValue.length>this.maxSelectedLabels)return this.getSelectedItemsLabel();e="";for(var n=0;n<this.modelValue.length;n++)n!==0&&(e+=", "),e+=this.getLabelByValue(this.modelValue[n])}else e=this.placeholder;return e},chipSelectedItems:function(){return Ne.isNotEmpty(this.maxSelectedLabels)&&this.modelValue&&this.modelValue.length>this.maxSelectedLabels?this.modelValue.slice(0,this.maxSelectedLabels):this.modelValue},allSelected:function(){var e=this;return this.selectAll!==null?this.selectAll:Ne.isNotEmpty(this.visibleOptions)&&this.visibleOptions.every(function(n){return e.isOptionGroup(n)||e.isOptionDisabled(n)||e.isSelected(n)})},hasSelectedOption:function(){return Ne.isNotEmpty(this.modelValue)},equalityKey:function(){return this.optionValue?null:this.dataKey},searchFields:function(){return this.filterFields||[this.optionLabel]},maxSelectionLimitReached:function(){return this.selectionLimit&&this.modelValue&&this.modelValue.length===this.selectionLimit},filterResultMessageText:function(){return Ne.isNotEmpty(this.visibleOptions)?this.filterMessageText.replaceAll("{0}",this.visibleOptions.length):this.emptyFilterMessageText},filterMessageText:function(){return this.filterMessage||this.$primevue.config.locale.searchMessage||""},emptyFilterMessageText:function(){return this.emptyFilterMessage||this.$primevue.config.locale.emptySearchMessage||this.$primevue.config.locale.emptyFilterMessage||""},emptyMessageText:function(){return this.emptyMessage||this.$primevue.config.locale.emptyMessage||""},selectionMessageText:function(){return this.selectionMessage||this.$primevue.config.locale.selectionMessage||""},emptySelectionMessageText:function(){return this.emptySelectionMessage||this.$primevue.config.locale.emptySelectionMessage||""},selectedMessageText:function(){return this.hasSelectedOption?this.selectionMessageText.replaceAll("{0}",this.modelValue.length):this.emptySelectionMessageText},focusedOptionId:function(){return this.focusedOptionIndex!==-1?"".concat(this.id,"_").concat(this.focusedOptionIndex):null},ariaSetSize:function(){var e=this;return this.visibleOptions.filter(function(n){return!e.isOptionGroup(n)}).length},toggleAllAriaLabel:function(){return this.$primevue.config.locale.aria?this.$primevue.config.locale.aria[this.allSelected?"selectAll":"unselectAll"]:void 0},closeAriaLabel:function(){return this.$primevue.config.locale.aria?this.$primevue.config.locale.aria.close:void 0},listAriaLabel:function(){return this.$primevue.config.locale.aria?this.$primevue.config.locale.aria.listLabel:void 0},virtualScrollerDisabled:function(){return!this.virtualScrollerOptions}},directives:{ripple:vv},components:{Checkbox:nV,VirtualScroller:ST,Portal:ET,TimesIcon:TT,SearchIcon:wT,TimesCircleIcon:L1,ChevronDownIcon:_v,SpinnerIcon:Cf,CheckIcon:Dv}};function Jh(t){"@babel/helpers - typeof";return Jh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jh(t)}function QP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Bs(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?QP(Object(n),!0).forEach(function(r){m_(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):QP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function m_(t,e,n){return e=eme(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function eme(t){var e=tme(t,"string");return Jh(e)=="symbol"?e:String(e)}function tme(t,e){if(Jh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Jh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var nme=["id","disabled","placeholder","tabindex","aria-label","aria-labelledby","aria-expanded","aria-controls","aria-activedescendant","aria-invalid"],rme=["onClick"],ime=["value","placeholder","aria-owns","aria-activedescendant"],ome=["aria-label"],sme=["id","aria-label"],ame=["id"],lme=["id","aria-label","aria-selected","aria-disabled","aria-setsize","aria-posinset","onClick","onMousemove","data-p-highlight","data-p-focused","data-p-disabled"];function ume(t,e,n,r,i,o){var s=Dn("TimesCircleIcon"),a=Dn("SpinnerIcon"),l=Dn("Checkbox"),u=Dn("VirtualScroller"),c=Dn("Portal"),d=Pg("ripple");return M(),W("div",le({ref:"container",class:t.cx("root"),style:t.sx("root"),onClick:e[13]||(e[13]=function(){return o.onContainerClick&&o.onContainerClick.apply(o,arguments)})},t.ptmi("root")),[y("div",le({class:"p-hidden-accessible"},t.ptm("hiddenInputWrapper"),{"data-p-hidden-accessible":!0}),[y("input",le({ref:"focusInput",id:t.inputId,type:"text",readonly:"",disabled:t.disabled,placeholder:t.placeholder,tabindex:t.disabled?-1:t.tabindex,role:"combobox","aria-label":t.ariaLabel,"aria-labelledby":t.ariaLabelledby,"aria-haspopup":"listbox","aria-expanded":i.overlayVisible,"aria-controls":i.id+"_list","aria-activedescendant":i.focused?o.focusedOptionId:void 0,"aria-invalid":t.invalid||void 0,onFocus:e[0]||(e[0]=function(){return o.onFocus&&o.onFocus.apply(o,arguments)}),onBlur:e[1]||(e[1]=function(){return o.onBlur&&o.onBlur.apply(o,arguments)}),onKeydown:e[2]||(e[2]=function(){return o.onKeyDown&&o.onKeyDown.apply(o,arguments)})},Bs(Bs({},t.inputProps),t.ptm("hiddenInput"))),null,16,nme)],16),y("div",le({class:t.cx("labelContainer")},t.ptm("labelContainer")),[y("div",le({class:t.cx("label")},t.ptm("label")),[Te(t.$slots,"value",{value:t.modelValue,placeholder:t.placeholder},function(){return[t.display==="comma"?(M(),W(Pe,{key:0},[z(ze(o.label||"empty"),1)],64)):t.display==="chip"?(M(),W(Pe,{key:1},[(M(!0),W(Pe,null,ht(o.chipSelectedItems,function(h){return M(),W("div",le({key:o.getLabelByValue(h),class:t.cx("token")},t.ptm("token")),[Te(t.$slots,"chip",{value:h},function(){return[y("span",le({class:t.cx("tokenLabel")},t.ptm("tokenLabel")),ze(o.getLabelByValue(h)),17)]}),t.disabled?ee("",!0):Te(t.$slots,"removetokenicon",{key:0,class:$e(t.cx("removeTokenIcon")),item:h,onClick:function(m){return o.removeOption(m,h)},removeCallback:function(m){return o.removeOption(m,h)}},function(){return[t.removeTokenIcon?(M(),W("span",le({key:0,class:[t.cx("removeTokenIcon"),t.removeTokenIcon],onClick:kt(function(p){return o.removeOption(p,h)},["stop"])},t.ptm("removeTokenIcon")),null,16,rme)):(M(),de(s,le({key:1,class:t.cx("removeTokenIcon"),onClick:kt(function(p){return o.removeOption(p,h)},["stop"])},t.ptm("removeTokenIcon")),null,16,["class","onClick"]))]})],16)}),128)),!t.modelValue||t.modelValue.length===0?(M(),W(Pe,{key:0},[z(ze(t.placeholder||"empty"),1)],64)):ee("",!0)],64)):ee("",!0)]})],16)],16),y("div",le({class:t.cx("trigger")},t.ptm("trigger")),[t.loading?Te(t.$slots,"loadingicon",{key:0,class:$e(t.cx("loadingIcon"))},function(){return[t.loadingIcon?(M(),W("span",le({key:0,class:[t.cx("loadingIcon"),"pi-spin",t.loadingIcon],"aria-hidden":"true"},t.ptm("loadingIcon")),null,16)):(M(),de(a,le({key:1,class:t.cx("loadingIcon"),spin:"","aria-hidden":"true"},t.ptm("loadingIcon")),null,16,["class"]))]}):Te(t.$slots,"dropdownicon",{key:1,class:$e(t.cx("dropdownIcon"))},function(){return[(M(),de(xn(t.dropdownIcon?"span":"ChevronDownIcon"),le({class:[t.cx("dropdownIcon"),t.dropdownIcon],"aria-hidden":"true"},t.ptm("dropdownIcon")),null,16,["class"]))]})],16),B(c,{appendTo:t.appendTo},{default:J(function(){return[B(to,le({name:"p-connected-overlay",onEnter:o.onOverlayEnter,onAfterEnter:o.onOverlayAfterEnter,onLeave:o.onOverlayLeave,onAfterLeave:o.onOverlayAfterLeave},t.ptm("transition")),{default:J(function(){return[i.overlayVisible?(M(),W("div",le({key:0,ref:o.overlayRef,style:t.panelStyle,class:[t.cx("panel"),t.panelClass],onClick:e[11]||(e[11]=function(){return o.onOverlayClick&&o.onOverlayClick.apply(o,arguments)}),onKeydown:e[12]||(e[12]=function(){return o.onOverlayKeyDown&&o.onOverlayKeyDown.apply(o,arguments)})},Bs(Bs({},t.panelProps),t.ptm("panel"))),[y("span",le({ref:"firstHiddenFocusableElementOnOverlay",role:"presentation","aria-hidden":"true",class:"p-hidden-accessible p-hidden-focusable",tabindex:0,onFocus:e[3]||(e[3]=function(){return o.onFirstHiddenFocus&&o.onFirstHiddenFocus.apply(o,arguments)})},t.ptm("hiddenFirstFocusableEl"),{"data-p-hidden-accessible":!0,"data-p-hidden-focusable":!0}),null,16),Te(t.$slots,"header",{value:t.modelValue,options:o.visibleOptions}),t.showToggleAll&&t.selectionLimit==null||t.filter?(M(),W("div",le({key:0,class:t.cx("header")},t.ptm("header")),[t.showToggleAll&&t.selectionLimit==null?(M(),de(l,{key:0,modelValue:o.allSelected,binary:!0,disabled:t.disabled,variant:t.variant,"aria-label":o.toggleAllAriaLabel,onChange:o.onToggleAll,unstyled:t.unstyled,pt:o.getHeaderCheckboxPTOptions("headerCheckbox")},{icon:J(function(h){return[t.$slots.headercheckboxicon?(M(),de(xn(t.$slots.headercheckboxicon),{key:0,checked:h.checked,class:$e(h.class)},null,8,["checked","class"])):h.checked?(M(),de(xn(t.checkboxIcon?"span":"CheckIcon"),le({key:1,class:[h.class,m_({},t.checkboxIcon,h.checked)]},o.getHeaderCheckboxPTOptions("headerCheckbox.icon")),null,16,["class"])):ee("",!0)]}),_:1},8,["modelValue","disabled","variant","aria-label","onChange","unstyled","pt"])):ee("",!0),t.filter?(M(),W("div",le({key:1,class:t.cx("filterContainer")},t.ptm("filterContainer")),[y("input",le({ref:"filterInput",type:"text",value:i.filterValue,onVnodeMounted:e[4]||(e[4]=function(){return o.onFilterUpdated&&o.onFilterUpdated.apply(o,arguments)}),onVnodeUpdated:e[5]||(e[5]=function(){return o.onFilterUpdated&&o.onFilterUpdated.apply(o,arguments)}),class:t.cx("filterInput"),placeholder:t.filterPlaceholder,role:"searchbox",autocomplete:"off","aria-owns":i.id+"_list","aria-activedescendant":o.focusedOptionId,onKeydown:e[6]||(e[6]=function(){return o.onFilterKeyDown&&o.onFilterKeyDown.apply(o,arguments)}),onBlur:e[7]||(e[7]=function(){return o.onFilterBlur&&o.onFilterBlur.apply(o,arguments)}),onInput:e[8]||(e[8]=function(){return o.onFilterChange&&o.onFilterChange.apply(o,arguments)})},Bs(Bs({},t.filterInputProps),t.ptm("filterInput"))),null,16,ime),Te(t.$slots,"filtericon",{class:$e(t.cx("filterIcon"))},function(){return[(M(),de(xn(t.filterIcon?"span":"SearchIcon"),le({class:[t.cx("filterIcon"),t.filterIcon]},t.ptm("filterIcon")),null,16,["class"]))]})],16)):ee("",!0),t.filter?(M(),W("span",le({key:2,role:"status","aria-live":"polite",class:"p-hidden-accessible"},t.ptm("hiddenFilterResult"),{"data-p-hidden-accessible":!0}),ze(o.filterResultMessageText),17)):ee("",!0),Fi((M(),W("button",le({class:t.cx("closeButton"),"aria-label":o.closeAriaLabel,onClick:e[9]||(e[9]=function(){return o.onCloseClick&&o.onCloseClick.apply(o,arguments)}),type:"button"},Bs(Bs({},t.closeButtonProps),t.ptm("closeButton"))),[Te(t.$slots,"closeicon",{class:$e(t.cx("closeIcon"))},function(){return[(M(),de(xn(t.closeIcon?"span":"TimesIcon"),le({class:[t.cx("closeIcon"),t.closeIcon]},t.ptm("closeIcon")),null,16,["class"]))]})],16,ome)),[[d]])],16)):ee("",!0),y("div",le({class:t.cx("wrapper"),style:{"max-height":o.virtualScrollerDisabled?t.scrollHeight:""}},t.ptm("wrapper")),[B(u,le({ref:o.virtualScrollerRef},t.virtualScrollerOptions,{items:o.visibleOptions,style:{height:t.scrollHeight},tabindex:-1,disabled:o.virtualScrollerDisabled,pt:t.ptm("virtualScroller")}),ur({content:J(function(h){var p=h.styleClass,m=h.contentRef,g=h.items,v=h.getItemOptions,A=h.contentStyle,I=h.itemSize;return[y("ul",le({ref:function(T){return o.listRef(T,m)},id:i.id+"_list",class:[t.cx("list"),p],style:A,role:"listbox","aria-multiselectable":"true","aria-label":o.listAriaLabel},t.ptm("list")),[(M(!0),W(Pe,null,ht(g,function(S,T){return M(),W(Pe,{key:o.getOptionRenderKey(S,o.getOptionIndex(T,v))},[o.isOptionGroup(S)?(M(),W("li",le({key:0,id:i.id+"_"+o.getOptionIndex(T,v),style:{height:I?I+"px":void 0},class:t.cx("itemGroup"),role:"option"},t.ptm("itemGroup")),[Te(t.$slots,"optiongroup",{option:S.optionGroup,index:o.getOptionIndex(T,v)},function(){return[z(ze(o.getOptionGroupLabel(S.optionGroup)),1)]})],16,ame)):Fi((M(),W("li",le({key:1,id:i.id+"_"+o.getOptionIndex(T,v),style:{height:I?I+"px":void 0},class:t.cx("item",{option:S,index:T,getItemOptions:v}),role:"option","aria-label":o.getOptionLabel(S),"aria-selected":o.isSelected(S),"aria-disabled":o.isOptionDisabled(S),"aria-setsize":o.ariaSetSize,"aria-posinset":o.getAriaPosInset(o.getOptionIndex(T,v)),onClick:function(R){return o.onOptionSelect(R,S,o.getOptionIndex(T,v),!0)},onMousemove:function(R){return o.onOptionMouseMove(R,o.getOptionIndex(T,v))}},o.getCheckboxPTOptions(S,v,T,"item"),{"data-p-highlight":o.isSelected(S),"data-p-focused":i.focusedOptionIndex===o.getOptionIndex(T,v),"data-p-disabled":o.isOptionDisabled(S)}),[B(l,{modelValue:o.isSelected(S),binary:!0,tabindex:-1,variant:t.variant,unstyled:t.unstyled,pt:o.getCheckboxPTOptions(S,v,T,"itemCheckbox")},{icon:J(function(N){return[t.$slots.itemcheckboxicon?(M(),de(xn(t.$slots.itemcheckboxicon),{key:0,checked:N.checked,class:$e(N.class)},null,8,["checked","class"])):N.checked?(M(),de(xn(t.checkboxIcon?"span":"CheckIcon"),le({key:1,class:[N.class,m_({},t.checkboxIcon,N.checked)]},o.getCheckboxPTOptions(S,v,T,"itemCheckbox.icon")),null,16,["class"])):ee("",!0)]}),_:2},1032,["modelValue","variant","unstyled","pt"]),Te(t.$slots,"option",{option:S,index:o.getOptionIndex(T,v)},function(){return[y("span",Mn(lr(t.ptm("option"))),ze(o.getOptionLabel(S)),17)]})],16,lme)),[[d]])],64)}),128)),i.filterValue&&(!g||g&&g.length===0)?(M(),W("li",le({key:0,class:t.cx("emptyMessage"),role:"option"},t.ptm("emptyMessage")),[Te(t.$slots,"emptyfilter",{},function(){return[z(ze(o.emptyFilterMessageText),1)]})],16)):!t.options||t.options&&t.options.length===0?(M(),W("li",le({key:1,class:t.cx("emptyMessage"),role:"option"},t.ptm("emptyMessage")),[Te(t.$slots,"empty",{},function(){return[z(ze(o.emptyMessageText),1)]})],16)):ee("",!0)],16,sme)]}),_:2},[t.$slots.loader?{name:"loader",fn:J(function(h){var p=h.options;return[Te(t.$slots,"loader",{options:p})]}),key:"0"}:void 0]),1040,["items","style","disabled","pt"])],16),Te(t.$slots,"footer",{value:t.modelValue,options:o.visibleOptions}),!t.options||t.options&&t.options.length===0?(M(),W("span",le({key:1,role:"status","aria-live":"polite",class:"p-hidden-accessible"},t.ptm("hiddenEmptyMessage"),{"data-p-hidden-accessible":!0}),ze(o.emptyMessageText),17)):ee("",!0),y("span",le({role:"status","aria-live":"polite",class:"p-hidden-accessible"},t.ptm("hiddenSelectedMessage"),{"data-p-hidden-accessible":!0}),ze(o.selectedMessageText),17),y("span",le({ref:"lastHiddenFocusableElementOnOverlay",role:"presentation","aria-hidden":"true",class:"p-hidden-accessible p-hidden-focusable",tabindex:0,onFocus:e[10]||(e[10]=function(){return o.onLastHiddenFocus&&o.onLastHiddenFocus.apply(o,arguments)})},t.ptm("hiddenLastFocusableEl"),{"data-p-hidden-accessible":!0,"data-p-hidden-focusable":!0}),null,16)],16)):ee("",!0)]}),_:3},16,["onEnter","onAfterEnter","onLeave","onAfterLeave"])]}),_:3},8,["appendTo"])],16)}iV.render=ume;var cme={root:function(e){var n=e.instance,r=e.props;return["p-inputtextarea p-inputtext p-component",{"p-filled":n.filled,"p-inputtextarea-resizable ":r.autoResize,"p-invalid":r.invalid,"p-variant-filled":r.variant?r.variant==="filled":n.$primevue.config.inputStyle==="filled"}]}},dme=dr.extend({name:"textarea",classes:cme}),hme={name:"BaseTextarea",extends:si,props:{modelValue:null,autoResize:Boolean,invalid:{type:Boolean,default:!1},variant:{type:String,default:null}},style:dme,provide:function(){return{$parentInstance:this}}},oV={name:"Textarea",extends:hme,inheritAttrs:!1,emits:["update:modelValue"],mounted:function(){this.$el.offsetParent&&this.autoResize&&this.resize()},updated:function(){this.$el.offsetParent&&this.autoResize&&this.resize()},methods:{resize:function(){this.$el.style.height="auto",this.$el.style.height=this.$el.scrollHeight+"px",parseFloat(this.$el.style.height)>=parseFloat(this.$el.style.maxHeight)?(this.$el.style.overflowY="scroll",this.$el.style.height=this.$el.style.maxHeight):this.$el.style.overflow="hidden"},onInput:function(e){this.autoResize&&this.resize(),this.$emit("update:modelValue",e.target.value)}},computed:{filled:function(){return this.modelValue!=null&&this.modelValue.toString().length>0},ptmParams:function(){return{context:{disabled:this.$attrs.disabled||this.$attrs.disabled===""}}}}},fme=["value","aria-invalid"];function pme(t,e,n,r,i,o){return M(),W("textarea",le({class:t.cx("root"),value:t.modelValue,"aria-invalid":t.invalid||void 0,onInput:e[0]||(e[0]=function(){return o.onInput&&o.onInput.apply(o,arguments)})},t.ptmi("root",o.ptmParams)),null,16,fme)}oV.render=pme;const no=zk(e6);no.use(Z1);no.use(DG,{firebaseApp:hx,modules:[OG()]});no.use(vx);no.use(q4);no.use(vte);no.use(qfe);no.component("VueDatePicker",_T);no.component("PrimeInputText",tV);no.component("PrimeTextArea",oV);no.component("PrimeDropdown",eV);no.component("PrimeMultiSelect",iV);no.mount("#app");export{Dne as c,Nne as g};
function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = []
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}
